(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6304:(Gn,tt,S)=>{"use strict";S.d(tt,{Dh:()=>D,GT:()=>F,cc:()=>U,hO:()=>A,on:()=>f,pX:()=>E,xv:()=>p});var c=S(5879),t=S(7142),y=S(8186);Gn=S.hmd(Gn);const w=["ngOnDestroy"],E=(O,M,P,T={})=>new Proxy(O,{get:(N,C)=>P.runOutsideAngular(()=>{var B;if(O[C])return!(null===(B=T?.spy)||void 0===B)&&B.get&&T.spy.get(C,O[C]),O[C];if(w.indexOf(C)>-1)return()=>{};const W=M.toPromise().then(q=>{const le=q&&q[C];return"function"==typeof le?le.bind(q):le&&le.then?le.then(Fe=>P.run(()=>Fe)):P.run(()=>le)});return new Proxy(()=>{},{get:(q,le)=>W[le],apply:(q,le,Fe)=>W.then($=>{var ae;const K=$&&$(...Fe);return!(null===(ae=T?.spy)||void 0===ae)&&ae.apply&&T.spy.apply(C,Fe,K),K})})})}),F=(O,M)=>{M.forEach(P=>{Object.getOwnPropertyNames(P.prototype||P).forEach(T=>{Object.defineProperty(O.prototype,T,Object.getOwnPropertyDescriptor(P.prototype||P,T))})})};class L{constructor(M){return M}}const D=new c.OlP("angularfire2.app.options"),p=new c.OlP("angularfire2.app.name");function f(O,M,P){const N="object"==typeof P&&P||{};N.name=N.name||"string"==typeof P&&P||"[DEFAULT]";const B=t.Z.apps.filter(W=>W&&W.name===N.name)[0]||M.runOutsideAngular(()=>t.Z.initializeApp(O,N));try{JSON.stringify(O)!==JSON.stringify(B.options)&&g("error",`${B.name} Firebase App already initialized with different options${Gn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new L(B)}const g=(O,...M)=>{(0,c.X6Q)()&&typeof console<"u"&&console[O](...M)},v={provide:L,useFactory:f,deps:[D,c.R0b,[new c.FiY,p]]};let A=(()=>{class O{constructor(P){t.Z.registerVersion("angularfire",y.q4.full,"core"),t.Z.registerVersion("angularfire",y.q4.full,"app-compat"),t.Z.registerVersion("angular",c.q4F.full,P.toString())}static initializeApp(P,T){return{ngModule:O,providers:[{provide:D,useValue:P},{provide:p,useValue:T}]}}}return O.\u0275fac=function(P){return new(P||O)(c.LFG(c.Lbi))},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({providers:[v]}),O})();function U(O,M,P,T,N){const[,C,B]=globalThis.\u0275AngularfireInstanceCache.find(W=>W[0]===O)||[];if(C)return function R(O,M){try{return O.toString()===M.toString()}catch{return O===M}}(N,B)||(k("error",`${M} was already initialized on the ${P} Firebase App with different settings.${H?" You may need to reload as Firebase is not HMR aware.":""}`),k("warn",{is:N,was:B})),C;{const W=T();return globalThis.\u0275AngularfireInstanceCache.push([O,W,N]),W}}const H=!!Gn.hot,k=(O,...M)=>{(0,c.X6Q)()&&typeof console<"u"&&console[O](...M)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Gn,tt,S)=>{"use strict";S.d(tt,{q4:()=>fl,iC:()=>Ka,HU:()=>Vl,vb:()=>kc,JM:()=>hl});var c=S(5879),t=S(3182),y=S(5861),w=S(534),E=S(9058),F=S(4537),L=S(7879);const D=(Me,Ke)=>Ke.some(Tt=>Me instanceof Tt);let p,f;const A=new WeakMap,U=new WeakMap,R=new WeakMap,H=new WeakMap,k=new WeakMap;let P={get(Me,Ke,Tt){if(Me instanceof IDBTransaction){if("done"===Ke)return U.get(Me);if("objectStoreNames"===Ke)return Me.objectStoreNames||R.get(Me);if("store"===Ke)return Tt.objectStoreNames[1]?void 0:Tt.objectStore(Tt.objectStoreNames[0])}return B(Me[Ke])},set:(Me,Ke,Tt)=>(Me[Ke]=Tt,!0),has:(Me,Ke)=>Me instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in Me};function C(Me){return"function"==typeof Me?function N(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function v(){return f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...Ke){return Me.apply(W(this),Ke),B(A.get(this))}:function(...Ke){return B(Me.apply(W(this),Ke))}:function(Ke,...Tt){const Vt=Me.call(W(this),Ke,...Tt);return R.set(Vt,Ke.sort?Ke.sort():[Ke]),B(Vt)}}(Me):(Me instanceof IDBTransaction&&function M(Me){if(U.has(Me))return;const Ke=new Promise((Tt,Vt)=>{const pn=()=>{Me.removeEventListener("complete",Mn),Me.removeEventListener("error",Bn),Me.removeEventListener("abort",Bn)},Mn=()=>{Tt(),pn()},Bn=()=>{Vt(Me.error||new DOMException("AbortError","AbortError")),pn()};Me.addEventListener("complete",Mn),Me.addEventListener("error",Bn),Me.addEventListener("abort",Bn)});U.set(Me,Ke)}(Me),D(Me,function g(){return p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,P):Me)}function B(Me){if(Me instanceof IDBRequest)return function O(Me){const Ke=new Promise((Tt,Vt)=>{const pn=()=>{Me.removeEventListener("success",Mn),Me.removeEventListener("error",Bn)},Mn=()=>{Tt(B(Me.result)),pn()},Bn=()=>{Vt(Me.error),pn()};Me.addEventListener("success",Mn),Me.addEventListener("error",Bn)});return Ke.then(Tt=>{Tt instanceof IDBCursor&&A.set(Tt,Me)}).catch(()=>{}),k.set(Ke,Me),Ke}(Me);if(H.has(Me))return H.get(Me);const Ke=C(Me);return Ke!==Me&&(H.set(Me,Ke),k.set(Ke,Me)),Ke}const W=Me=>k.get(Me),Fe=["get","getKey","getAll","getAllKeys","count"],$=["put","add","delete","clear"],ae=new Map;function K(Me,Ke){if(!(Me instanceof IDBDatabase)||Ke in Me||"string"!=typeof Ke)return;if(ae.get(Ke))return ae.get(Ke);const Tt=Ke.replace(/FromIndex$/,""),Vt=Ke!==Tt,pn=$.includes(Tt);if(!(Tt in(Vt?IDBIndex:IDBObjectStore).prototype)||!pn&&!Fe.includes(Tt))return;const Mn=function(){var Bn=(0,y.Z)(function*(fi,...di){const mi=this.transaction(fi,pn?"readwrite":"readonly");let Yi=mi.store;return Vt&&(Yi=Yi.index(di.shift())),(yield Promise.all([Yi[Tt](...di),pn&&mi.done]))[0]});return function(di){return Bn.apply(this,arguments)}}();return ae.set(Ke,Mn),Mn}!function T(Me){P=Me(P)}(Me=>({...Me,get:(Ke,Tt,Vt)=>K(Ke,Tt)||Me.get(Ke,Tt,Vt),has:(Ke,Tt)=>!!K(Ke,Tt)||Me.has(Ke,Tt)}));const ge="@firebase/installations",oe="0.6.4",he=1e4,Ce=`w:${oe}`,Le="FIS_v2",fe="https://firebaseinstallations.googleapis.com/v1",Re=36e5,ke=new E.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(Me){return Me instanceof E.ZR&&Me.code.includes("request-failed")}function Ve({projectId:Me}){return`${fe}/projects/${Me}/installations`}function st(Me){return{token:Me.token,requestStatus:2,expiresIn:J(Me.expiresIn),creationTime:Date.now()}}function Je(Me,Ke){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,y.Z)(function*(Me,Ke){const Vt=(yield Ke.json()).error;return ke.create("request-failed",{requestName:Me,serverCode:Vt.code,serverMessage:Vt.message,serverStatus:Vt.status})})).apply(this,arguments)}function Te({apiKey:Me}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Me})}function se(Me){return _e.apply(this,arguments)}function _e(){return(_e=(0,y.Z)(function*(Me){const Ke=yield Me();return Ke.status>=500&&Ke.status<600?Me():Ke})).apply(this,arguments)}function J(Me){return Number(Me.replace("s","000"))}function te(){return(te=(0,y.Z)(function*({appConfig:Me,heartbeatServiceProvider:Ke},{fid:Tt}){const Vt=Ve(Me),pn=Te(Me),Mn=Ke.getImmediate({optional:!0});if(Mn){const mi=yield Mn.getHeartbeatsHeader();mi&&pn.append("x-firebase-client",mi)}const fi={method:"POST",headers:pn,body:JSON.stringify({fid:Tt,authVersion:Le,appId:Me.appId,sdkVersion:Ce})},di=yield se(()=>fetch(Vt,fi));if(di.ok){const mi=yield di.json();return{fid:mi.fid||Tt,registrationStatus:2,refreshToken:mi.refreshToken,authToken:st(mi.authToken)}}throw yield Je("Create Installation",di)})).apply(this,arguments)}function ie(Me){return new Promise(Ke=>{setTimeout(Ke,Me)})}const X=/^[cdef][\w-]{21}$/,ue="";function ve(){try{const Me=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Me),Me[0]=112+Me[0]%16;const Tt=function de(Me){return function ee(Me){return btoa(String.fromCharCode(...Me)).replace(/\+/g,"-").replace(/\//g,"_")}(Me).substr(0,22)}(Me);return X.test(Tt)?Tt:ue}catch{return ue}}function Ae(Me){return`${Me.appName}!${Me.appId}`}const We=new Map;function He(Me,Ke){const Tt=Ae(Me);it(Tt,Ke),function vt(Me,Ke){const Tt=function It(){return!Ht&&"BroadcastChannel"in self&&(Ht=new BroadcastChannel("[Firebase] FID Change"),Ht.onmessage=Me=>{it(Me.data.key,Me.data.fid)}),Ht}();Tt&&Tt.postMessage({key:Me,fid:Ke}),function jt(){0===We.size&&Ht&&(Ht.close(),Ht=null)}()}(Tt,Ke)}function it(Me,Ke){const Tt=We.get(Me);if(Tt)for(const Vt of Tt)Vt(Ke)}let Ht=null;const en="firebase-installations-database",dn=1,un="firebase-installations-store";let Kt=null;function Cn(){return Kt||(Kt=function q(Me,Ke,{blocked:Tt,upgrade:Vt,blocking:pn,terminated:Mn}={}){const Bn=indexedDB.open(Me,Ke),fi=B(Bn);return Vt&&Bn.addEventListener("upgradeneeded",di=>{Vt(B(Bn.result),di.oldVersion,di.newVersion,B(Bn.transaction))}),Tt&&Bn.addEventListener("blocked",()=>Tt()),fi.then(di=>{Mn&&di.addEventListener("close",()=>Mn()),pn&&di.addEventListener("versionchange",()=>pn())}).catch(()=>{}),fi}(en,dn,{upgrade:(Me,Ke)=>{0===Ke&&Me.createObjectStore(un)}})),Kt}function nn(Me,Ke){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,y.Z)(function*(Me,Ke){const Tt=Ae(Me),pn=(yield Cn()).transaction(un,"readwrite"),Mn=pn.objectStore(un),Bn=yield Mn.get(Tt);return yield Mn.put(Ke,Tt),yield pn.done,(!Bn||Bn.fid!==Ke.fid)&&He(Me,Ke.fid),Ke})).apply(this,arguments)}function ft(Me){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,y.Z)(function*(Me){const Ke=Ae(Me),Vt=(yield Cn()).transaction(un,"readwrite");yield Vt.objectStore(un).delete(Ke),yield Vt.done})).apply(this,arguments)}function De(Me,Ke){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,y.Z)(function*(Me,Ke){const Tt=Ae(Me),pn=(yield Cn()).transaction(un,"readwrite"),Mn=pn.objectStore(un),Bn=yield Mn.get(Tt),fi=Ke(Bn);return void 0===fi?yield Mn.delete(Tt):yield Mn.put(fi,Tt),yield pn.done,fi&&(!Bn||Bn.fid!==fi.fid)&&He(Me,fi.fid),fi})).apply(this,arguments)}function Ye(Me){return $e.apply(this,arguments)}function $e(){return $e=(0,y.Z)(function*(Me){let Ke;const Tt=yield De(Me.appConfig,Vt=>{const pn=function lt(Me){return cn(Me||{fid:ve(),registrationStatus:0})}(Vt),Mn=function ot(Me,Ke){if(0===Ke.registrationStatus){if(!navigator.onLine)return{installationEntry:Ke,registrationPromise:Promise.reject(ke.create("app-offline"))};const Tt={fid:Ke.fid,registrationStatus:1,registrationTime:Date.now()},Vt=function dt(Me,Ke){return Ft.apply(this,arguments)}(Me,Tt);return{installationEntry:Tt,registrationPromise:Vt}}return 1===Ke.registrationStatus?{installationEntry:Ke,registrationPromise:$t(Me)}:{installationEntry:Ke}}(Me,pn);return Ke=Mn.registrationPromise,Mn.installationEntry});return Tt.fid===ue?{installationEntry:yield Ke}:{installationEntry:Tt,registrationPromise:Ke}}),$e.apply(this,arguments)}function Ft(){return Ft=(0,y.Z)(function*(Me,Ke){try{const Tt=yield function Z(Me,Ke){return te.apply(this,arguments)}(Me,Ke);return nn(Me.appConfig,Tt)}catch(Tt){throw we(Tt)&&409===Tt.customData.serverCode?yield ft(Me.appConfig):yield nn(Me.appConfig,{fid:Ke.fid,registrationStatus:0}),Tt}}),Ft.apply(this,arguments)}function $t(Me){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,y.Z)(function*(Me){let Ke=yield Jt(Me.appConfig);for(;1===Ke.registrationStatus;)yield ie(100),Ke=yield Jt(Me.appConfig);if(0===Ke.registrationStatus){const{installationEntry:Tt,registrationPromise:Vt}=yield Ye(Me);return Vt||Tt}return Ke})).apply(this,arguments)}function Jt(Me){return De(Me,Ke=>{if(!Ke)throw ke.create("installation-not-found");return cn(Ke)})}function cn(Me){return function mn(Me){return 1===Me.registrationStatus&&Me.registrationTime+he<Date.now()}(Me)?{fid:Me.fid,registrationStatus:0}:Me}function Ln(){return(Ln=(0,y.Z)(function*({appConfig:Me,heartbeatServiceProvider:Ke},Tt){const Vt=function Yn(Me,{fid:Ke}){return`${Ve(Me)}/${Ke}/authTokens:generate`}(Me,Tt),pn=function Y(Me,{refreshToken:Ke}){const Tt=Te(Me);return Tt.append("Authorization",function Q(Me){return`${Le} ${Me}`}(Ke)),Tt}(Me,Tt),Mn=Ke.getImmediate({optional:!0});if(Mn){const mi=yield Mn.getHeartbeatsHeader();mi&&pn.append("x-firebase-client",mi)}const fi={method:"POST",headers:pn,body:JSON.stringify({installation:{sdkVersion:Ce,appId:Me.appId}})},di=yield se(()=>fetch(Vt,fi));if(di.ok)return st(yield di.json());throw yield Je("Generate Auth Token",di)})).apply(this,arguments)}function Vn(Me){return ci.apply(this,arguments)}function ci(){return ci=(0,y.Z)(function*(Me,Ke=!1){let Tt;const Vt=yield De(Me.appConfig,Mn=>{if(!Ze(Mn))throw ke.create("not-registered");const Bn=Mn.authToken;if(!Ke&&function Xe(Me){return 2===Me.requestStatus&&!function Pt(Me){const Ke=Date.now();return Ke<Me.creationTime||Me.creationTime+Me.expiresIn<Ke+Re}(Me)}(Bn))return Mn;if(1===Bn.requestStatus)return Tt=function yn(Me,Ke){return _n.apply(this,arguments)}(Me,Ke),Mn;{if(!navigator.onLine)throw ke.create("app-offline");const fi=function Qt(Me){const Ke={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Me),{authToken:Ke})}(Mn);return Tt=function ut(Me,Ke){return tn.apply(this,arguments)}(Me,fi),fi}});return Tt?yield Tt:Vt.authToken}),ci.apply(this,arguments)}function _n(){return(_n=(0,y.Z)(function*(Me,Ke){let Tt=yield bt(Me.appConfig);for(;1===Tt.authToken.requestStatus;)yield ie(100),Tt=yield bt(Me.appConfig);const Vt=Tt.authToken;return 0===Vt.requestStatus?Vn(Me,Ke):Vt})).apply(this,arguments)}function bt(Me){return De(Me,Ke=>{if(!Ze(Ke))throw ke.create("not-registered");return function In(Me){return 1===Me.requestStatus&&Me.requestTime+he<Date.now()}(Ke.authToken)?Object.assign(Object.assign({},Ke),{authToken:{requestStatus:0}}):Ke})}function tn(){return tn=(0,y.Z)(function*(Me,Ke){try{const Tt=yield function xn(Me,Ke){return Ln.apply(this,arguments)}(Me,Ke),Vt=Object.assign(Object.assign({},Ke),{authToken:Tt});return yield nn(Me.appConfig,Vt),Tt}catch(Tt){if(!we(Tt)||401!==Tt.customData.serverCode&&404!==Tt.customData.serverCode){const Vt=Object.assign(Object.assign({},Ke),{authToken:{requestStatus:0}});yield nn(Me.appConfig,Vt)}else yield ft(Me.appConfig);throw Tt}}),tn.apply(this,arguments)}function Ze(Me){return void 0!==Me&&2===Me.registrationStatus}function Zt(){return(Zt=(0,y.Z)(function*(Me){const Ke=Me,{installationEntry:Tt,registrationPromise:Vt}=yield Ye(Ke);return Vt?Vt.catch(console.error):Vn(Ke).catch(console.error),Tt.fid})).apply(this,arguments)}function on(){return on=(0,y.Z)(function*(Me,Ke=!1){const Tt=Me;return yield function Tn(Me){return Un.apply(this,arguments)}(Tt),(yield Vn(Tt,Ke)).token}),on.apply(this,arguments)}function Un(){return(Un=(0,y.Z)(function*(Me){const{registrationPromise:Ke}=yield Ye(Me);Ke&&(yield Ke)})).apply(this,arguments)}function ti(Me){return ke.create("missing-app-config-values",{valueName:Me})}const hi="installations",pr=Me=>{const Ke=Me.getProvider("app").getImmediate(),Tt=function an(Me){if(!Me||!Me.options)throw ti("App Configuration");if(!Me.name)throw ti("App Name");const Ke=["projectId","apiKey","appId"];for(const Tt of Ke)if(!Me.options[Tt])throw ti(Tt);return{appName:Me.name,projectId:Me.options.projectId,apiKey:Me.options.apiKey,appId:Me.options.appId}}(Ke);return{app:Ke,appConfig:Tt,heartbeatServiceProvider:(0,w._getProvider)(Ke,"heartbeat"),_delete:()=>Promise.resolve()}},vr=Me=>{const Ke=Me.getProvider("app").getImmediate(),Tt=(0,w._getProvider)(Ke,hi).getImmediate();return{getId:()=>function Fn(Me){return Zt.apply(this,arguments)}(Tt),getToken:pn=>function Yt(Me){return on.apply(this,arguments)}(Tt,pn)}};(function mo(){(0,w._registerComponent)(new F.wA(hi,pr,"PUBLIC")),(0,w._registerComponent)(new F.wA("installations-internal",vr,"PRIVATE"))})(),(0,w.registerVersion)(ge,oe),(0,w.registerVersion)(ge,oe,"esm2017");const Hi="@firebase/remote-config",qi=new E.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vi{constructor(Ke,Tt,Vt,pn){this.client=Ke,this.storage=Tt,this.storageCache=Vt,this.logger=pn}isCachedDataFresh(Ke,Tt){if(!Tt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Vt=Date.now()-Tt,pn=Vt<=Ke;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Vt}. Cache max age millis (minimumFetchIntervalMillis setting): ${Ke}. Is cache hit: ${pn}.`),pn}fetch(Ke){var Tt=this;return(0,y.Z)(function*(){const[Vt,pn]=yield Promise.all([Tt.storage.getLastSuccessfulFetchTimestampMillis(),Tt.storage.getLastSuccessfulFetchResponse()]);if(pn&&Tt.isCachedDataFresh(Ke.cacheMaxAgeMillis,Vt))return pn;Ke.eTag=pn&&pn.eTag;const Mn=yield Tt.client.fetch(Ke),Bn=[Tt.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Mn.status&&Bn.push(Tt.storage.setLastSuccessfulFetchResponse(Mn)),yield Promise.all(Bn),Mn})()}}function Oi(Me=navigator){return Me.languages&&Me.languages[0]||Me.language}class Ui{constructor(Ke,Tt,Vt,pn,Mn,Bn){this.firebaseInstallations=Ke,this.sdkVersion=Tt,this.namespace=Vt,this.projectId=pn,this.apiKey=Mn,this.appId=Bn}fetch(Ke){var Tt=this;return(0,y.Z)(function*(){const[Vt,pn]=yield Promise.all([Tt.firebaseInstallations.getId(),Tt.firebaseInstallations.getToken()]),Bn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Tt.projectId}/namespaces/${Tt.namespace}:fetch?key=${Tt.apiKey}`,fi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Ke.eTag||"*"},di={sdk_version:Tt.sdkVersion,app_instance_id:Vt,app_instance_id_token:pn,app_id:Tt.appId,language_code:Oi()},mi={method:"POST",headers:fi,body:JSON.stringify(di)},Yi=fetch(Bn,mi),Wi=new Promise((no,Wa)=>{Ke.signal.addEventListener(()=>{const dc=new Error("The operation was aborted.");dc.name="AbortError",Wa(dc)})});let ho;try{yield Promise.race([Yi,Wi]),ho=yield Yi}catch(no){let Wa="fetch-client-network";throw"AbortError"===no?.name&&(Wa="fetch-timeout"),qi.create(Wa,{originalErrorMessage:no?.message})}let to=ho.status;const Bc=ho.headers.get("ETag")||void 0;let Aa,Kl;if(200===ho.status){let no;try{no=yield ho.json()}catch(Wa){throw qi.create("fetch-client-parse",{originalErrorMessage:Wa?.message})}Aa=no.entries,Kl=no.state}if("INSTANCE_STATE_UNSPECIFIED"===Kl?to=500:"NO_CHANGE"===Kl?to=304:("NO_TEMPLATE"===Kl||"EMPTY_CONFIG"===Kl)&&(Aa={}),304!==to&&200!==to)throw qi.create("fetch-status",{httpStatus:to});return{status:to,eTag:Bc,config:Aa}})()}}class wr{constructor(Ke,Tt){this.client=Ke,this.storage=Tt}fetch(Ke){var Tt=this;return(0,y.Z)(function*(){const Vt=(yield Tt.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Tt.attemptFetch(Ke,Vt)})()}attemptFetch(Ke,{throttleEndTimeMillis:Tt,backoffCount:Vt}){var pn=this;return(0,y.Z)(function*(){yield function Ri(Me,Ke){return new Promise((Tt,Vt)=>{const pn=Math.max(Ke-Date.now(),0),Mn=setTimeout(Tt,pn);Me.addEventListener(()=>{clearTimeout(Mn),Vt(qi.create("fetch-throttle",{throttleEndTimeMillis:Ke}))})})}(Ke.signal,Tt);try{const Mn=yield pn.client.fetch(Ke);return yield pn.storage.deleteThrottleMetadata(),Mn}catch(Mn){if(!function yr(Me){if(!(Me instanceof E.ZR&&Me.customData))return!1;const Ke=Number(Me.customData.httpStatus);return 429===Ke||500===Ke||503===Ke||504===Ke}(Mn))throw Mn;const Bn={throttleEndTimeMillis:Date.now()+(0,E.$s)(Vt),backoffCount:Vt+1};return yield pn.storage.setThrottleMetadata(Bn),pn.attemptFetch(Ke,Bn)}})()}}class as{constructor(Ke,Tt,Vt,pn,Mn){this.app=Ke,this._client=Tt,this._storageCache=Vt,this._storage=pn,this._logger=Mn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nr(Me,Ke){const Tt=Me.target.error||void 0;return qi.create(Ke,{originalErrorMessage:Tt&&Tt?.message})}const jr="app_namespace_store";class oa{constructor(Ke,Tt,Vt,pn=function Pi(){return new Promise((Me,Ke)=>{try{const Tt=indexedDB.open("firebase_remote_config",1);Tt.onerror=Vt=>{Ke(Nr(Vt,"storage-open"))},Tt.onsuccess=Vt=>{Me(Vt.target.result)},Tt.onupgradeneeded=Vt=>{0===Vt.oldVersion&&Vt.target.result.createObjectStore(jr,{keyPath:"compositeKey"})}}catch(Tt){Ke(qi.create("storage-open",{originalErrorMessage:Tt?.message}))}})}()){this.appId=Ke,this.appName=Tt,this.namespace=Vt,this.openDbPromise=pn}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Ke){return this.set("last_fetch_status",Ke)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Ke){return this.set("last_successful_fetch_timestamp_millis",Ke)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Ke){return this.set("last_successful_fetch_response",Ke)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Ke){return this.set("active_config",Ke)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Ke){return this.set("active_config_etag",Ke)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Ke){return this.set("throttle_metadata",Ke)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Ke){var Tt=this;return(0,y.Z)(function*(){const Vt=yield Tt.openDbPromise;return new Promise((pn,Mn)=>{const fi=Vt.transaction([jr],"readonly").objectStore(jr),di=Tt.createCompositeKey(Ke);try{const mi=fi.get(di);mi.onerror=Yi=>{Mn(Nr(Yi,"storage-get"))},mi.onsuccess=Yi=>{const Wi=Yi.target.result;pn(Wi?Wi.value:void 0)}}catch(mi){Mn(qi.create("storage-get",{originalErrorMessage:mi?.message}))}})})()}set(Ke,Tt){var Vt=this;return(0,y.Z)(function*(){const pn=yield Vt.openDbPromise;return new Promise((Mn,Bn)=>{const di=pn.transaction([jr],"readwrite").objectStore(jr),mi=Vt.createCompositeKey(Ke);try{const Yi=di.put({compositeKey:mi,value:Tt});Yi.onerror=Wi=>{Bn(Nr(Wi,"storage-set"))},Yi.onsuccess=()=>{Mn()}}catch(Yi){Bn(qi.create("storage-set",{originalErrorMessage:Yi?.message}))}})})()}delete(Ke){var Tt=this;return(0,y.Z)(function*(){const Vt=yield Tt.openDbPromise;return new Promise((pn,Mn)=>{const fi=Vt.transaction([jr],"readwrite").objectStore(jr),di=Tt.createCompositeKey(Ke);try{const mi=fi.delete(di);mi.onerror=Yi=>{Mn(Nr(Yi,"storage-delete"))},mi.onsuccess=()=>{pn()}}catch(mi){Mn(qi.create("storage-delete",{originalErrorMessage:mi?.message}))}})})()}createCompositeKey(Ke){return[this.appId,this.appName,this.namespace,Ke].join()}}class xo{constructor(Ke){this.storage=Ke}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Ke=this;return(0,y.Z)(function*(){const Tt=Ke.storage.getLastFetchStatus(),Vt=Ke.storage.getLastSuccessfulFetchTimestampMillis(),pn=Ke.storage.getActiveConfig(),Mn=yield Tt;Mn&&(Ke.lastFetchStatus=Mn);const Bn=yield Vt;Bn&&(Ke.lastSuccessfulFetchTimestampMillis=Bn);const fi=yield pn;fi&&(Ke.activeConfig=fi)})()}setLastFetchStatus(Ke){return this.lastFetchStatus=Ke,this.storage.setLastFetchStatus(Ke)}setLastSuccessfulFetchTimestampMillis(Ke){return this.lastSuccessfulFetchTimestampMillis=Ke,this.storage.setLastSuccessfulFetchTimestampMillis(Ke)}setActiveConfig(Ke){return this.activeConfig=Ke,this.storage.setActiveConfig(Ke)}}function es(){return ls.apply(this,arguments)}function ls(){return(ls=(0,y.Z)(function*(){if(!(0,E.hl)())return!1;try{return yield(0,E.eu)()}catch{return!1}})).apply(this,arguments)}!function vs(){(0,w._registerComponent)(new F.wA("remote-config",function Me(Ke,{instanceIdentifier:Tt}){const Vt=Ke.getProvider("app").getImmediate(),pn=Ke.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qi.create("registration-window");if(!(0,E.hl)())throw qi.create("indexed-db-unavailable");const{projectId:Mn,apiKey:Bn,appId:fi}=Vt.options;if(!Mn)throw qi.create("registration-project-id");if(!Bn)throw qi.create("registration-api-key");if(!fi)throw qi.create("registration-app-id");const di=new oa(fi,Vt.name,Tt=Tt||"firebase"),mi=new xo(di),Yi=new L.Yd(Hi);Yi.logLevel=L.in.ERROR;const Wi=new Ui(pn,w.SDK_VERSION,Tt,Mn,Bn,fi),ho=new wr(Wi,di),to=new vi(ho,di,mi,Yi),Bc=new as(Vt,to,mi,di,Yi);return function ki(Me){const Ke=(0,E.m9)(Me);Ke._initializePromise||(Ke._initializePromise=Ke._storageCache.loadFromStorage().then(()=>{Ke._isInitializationComplete=!0}))}(Bc),Bc},"PUBLIC").setMultipleInstances(!0)),(0,w.registerVersion)(Hi,"0.4.4"),(0,w.registerVersion)(Hi,"0.4.4","esm2017")}();const Mr=(Me,Ke)=>Ke.some(Tt=>Me instanceof Tt);let Ho,nr;const eo=new WeakMap,ts=new WeakMap,dr=new WeakMap,or=new WeakMap,ys=new WeakMap;let Ns={get(Me,Ke,Tt){if(Me instanceof IDBTransaction){if("done"===Ke)return ts.get(Me);if("objectStoreNames"===Ke)return Me.objectStoreNames||dr.get(Me);if("store"===Ke)return Tt.objectStoreNames[1]?void 0:Tt.objectStore(Tt.objectStoreNames[0])}return Pr(Me[Ke])},set:(Me,Ke,Tt)=>(Me[Ke]=Tt,!0),has:(Me,Ke)=>Me instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in Me};function sa(Me){return"function"==typeof Me?function bs(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cr(){return nr||(nr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...Ke){return Me.apply(co(this),Ke),Pr(eo.get(this))}:function(...Ke){return Pr(Me.apply(co(this),Ke))}:function(Ke,...Tt){const Vt=Me.call(co(this),Ke,...Tt);return dr.set(Vt,Ke.sort?Ke.sort():[Ke]),Pr(Vt)}}(Me):(Me instanceof IDBTransaction&&function Zs(Me){if(ts.has(Me))return;const Ke=new Promise((Tt,Vt)=>{const pn=()=>{Me.removeEventListener("complete",Mn),Me.removeEventListener("error",Bn),Me.removeEventListener("abort",Bn)},Mn=()=>{Tt(),pn()},Bn=()=>{Vt(Me.error||new DOMException("AbortError","AbortError")),pn()};Me.addEventListener("complete",Mn),Me.addEventListener("error",Bn),Me.addEventListener("abort",Bn)});ts.set(Me,Ke)}(Me),Mr(Me,function br(){return Ho||(Ho=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,Ns):Me)}function Pr(Me){if(Me instanceof IDBRequest)return function No(Me){const Ke=new Promise((Tt,Vt)=>{const pn=()=>{Me.removeEventListener("success",Mn),Me.removeEventListener("error",Bn)},Mn=()=>{Tt(Pr(Me.result)),pn()},Bn=()=>{Vt(Me.error),pn()};Me.addEventListener("success",Mn),Me.addEventListener("error",Bn)});return Ke.then(Tt=>{Tt instanceof IDBCursor&&eo.set(Tt,Me)}).catch(()=>{}),ys.set(Ke,Me),Ke}(Me);if(or.has(Me))return or.get(Me);const Ke=sa(Me);return Ke!==Me&&(or.set(Me,Ke),ys.set(Ke,Me)),Ke}const co=Me=>ys.get(Me);function _r(Me,Ke,{blocked:Tt,upgrade:Vt,blocking:pn,terminated:Mn}={}){const Bn=indexedDB.open(Me,Ke),fi=Pr(Bn);return Vt&&Bn.addEventListener("upgradeneeded",di=>{Vt(Pr(Bn.result),di.oldVersion,di.newVersion,Pr(Bn.transaction))}),Tt&&Bn.addEventListener("blocked",()=>Tt()),fi.then(di=>{Mn&&di.addEventListener("close",()=>Mn()),pn&&di.addEventListener("versionchange",()=>pn())}).catch(()=>{}),fi}function jo(Me,{blocked:Ke}={}){const Tt=indexedDB.deleteDatabase(Me);return Ke&&Tt.addEventListener("blocked",()=>Ke()),Pr(Tt).then(()=>{})}const ns=["get","getKey","getAll","getAllKeys","count"],vo=["put","add","delete","clear"],Zr=new Map;function Vo(Me,Ke){if(!(Me instanceof IDBDatabase)||Ke in Me||"string"!=typeof Ke)return;if(Zr.get(Ke))return Zr.get(Ke);const Tt=Ke.replace(/FromIndex$/,""),Vt=Ke!==Tt,pn=vo.includes(Tt);if(!(Tt in(Vt?IDBIndex:IDBObjectStore).prototype)||!pn&&!ns.includes(Tt))return;const Mn=function(){var Bn=(0,y.Z)(function*(fi,...di){const mi=this.transaction(fi,pn?"readwrite":"readonly");let Yi=mi.store;return Vt&&(Yi=Yi.index(di.shift())),(yield Promise.all([Yi[Tt](...di),pn&&mi.done]))[0]});return function(di){return Bn.apply(this,arguments)}}();return Zr.set(Ke,Mn),Mn}!function cs(Me){Ns=Me(Ns)}(Me=>({...Me,get:(Ke,Tt,Vt)=>Vo(Ke,Tt)||Me.get(Ke,Tt,Vt),has:(Ke,Tt)=>!!Vo(Ke,Tt)||Me.has(Ke,Tt)}));const Lr="/firebase-messaging-sw.js",_a="/firebase-cloud-messaging-push-scope",$s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ls="https://fcmregistrations.googleapis.com/v1",ks="google.c.a.c_id",ur="google.c.a.c_l",gn="google.c.a.ts";var qe=function(Me){return Me.PUSH_RECEIVED="push-received",Me.NOTIFICATION_CLICKED="notification-clicked",Me}(qe||{});function wt(Me){const Ke=new Uint8Array(Me);return btoa(String.fromCharCode(...Ke)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sn(Me){const Tt=(Me+"=".repeat((4-Me.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Vt=atob(Tt),pn=new Uint8Array(Vt.length);for(let Mn=0;Mn<Vt.length;++Mn)pn[Mn]=Vt.charCodeAt(Mn);return pn}const li="fcm_token_details_db",Ai=5,yo="fcm_token_object_Store";function is(){return is=(0,y.Z)(function*(Me){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Mn=>Mn.name).includes(li))return null;let Ke=null;return(yield _r(li,Ai,{upgrade:(Vt=(0,y.Z)(function*(pn,Mn,Bn,fi){var di;if(Mn<2||!pn.objectStoreNames.contains(yo))return;const mi=fi.objectStore(yo),Yi=yield mi.index("fcmSenderId").get(Me);if(yield mi.clear(),Yi)if(2===Mn){const Wi=Yi;if(!Wi.auth||!Wi.p256dh||!Wi.endpoint)return;Ke={token:Wi.fcmToken,createTime:null!==(di=Wi.createTime)&&void 0!==di?di:Date.now(),subscriptionOptions:{auth:Wi.auth,p256dh:Wi.p256dh,endpoint:Wi.endpoint,swScope:Wi.swScope,vapidKey:"string"==typeof Wi.vapidKey?Wi.vapidKey:wt(Wi.vapidKey)}}}else if(3===Mn){const Wi=Yi;Ke={token:Wi.fcmToken,createTime:Wi.createTime,subscriptionOptions:{auth:wt(Wi.auth),p256dh:wt(Wi.p256dh),endpoint:Wi.endpoint,swScope:Wi.swScope,vapidKey:wt(Wi.vapidKey)}}}else if(4===Mn){const Wi=Yi;Ke={token:Wi.fcmToken,createTime:Wi.createTime,subscriptionOptions:{auth:wt(Wi.auth),p256dh:wt(Wi.p256dh),endpoint:Wi.endpoint,swScope:Wi.swScope,vapidKey:wt(Wi.vapidKey)}}}}),function(Mn,Bn,fi,di){return Vt.apply(this,arguments)})})).close(),yield jo(li),yield jo("fcm_vapid_details_db"),yield jo("undefined"),function $r(Me){if(!Me||!Me.subscriptionOptions)return!1;const{subscriptionOptions:Ke}=Me;return"number"==typeof Me.createTime&&Me.createTime>0&&"string"==typeof Me.token&&Me.token.length>0&&"string"==typeof Ke.auth&&Ke.auth.length>0&&"string"==typeof Ke.p256dh&&Ke.p256dh.length>0&&"string"==typeof Ke.endpoint&&Ke.endpoint.length>0&&"string"==typeof Ke.swScope&&Ke.swScope.length>0&&"string"==typeof Ke.vapidKey&&Ke.vapidKey.length>0}(Ke)?Ke:null;var Vt}),is.apply(this,arguments)}const Es="firebase-messaging-database",Sr=1,Io="firebase-messaging-store";let Ja=null;function wa(){return Ja||(Ja=_r(Es,Sr,{upgrade:(Me,Ke)=>{0===Ke&&Me.createObjectStore(Io)}})),Ja}function qs(Me){return Ts.apply(this,arguments)}function Ts(){return Ts=(0,y.Z)(function*(Me){const Ke=Pl(Me),Vt=yield(yield wa()).transaction(Io).objectStore(Io).get(Ke);if(Vt)return Vt;{const pn=yield function ds(Me){return is.apply(this,arguments)}(Me.appConfig.senderId);if(pn)return yield Pa(Me,pn),pn}}),Ts.apply(this,arguments)}function Pa(Me,Ke){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,y.Z)(function*(Me,Ke){const Tt=Pl(Me),pn=(yield wa()).transaction(Io,"readwrite");return yield pn.objectStore(Io).put(Ke,Tt),yield pn.done,Ke})).apply(this,arguments)}function Fs(){return(Fs=(0,y.Z)(function*(Me){const Ke=Pl(Me),Vt=(yield wa()).transaction(Io,"readwrite");yield Vt.objectStore(Io).delete(Ke),yield Vt.done})).apply(this,arguments)}function Pl({appConfig:Me}){return Me.appId}const ao=new E.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ol(Me,Ke){return tl.apply(this,arguments)}function tl(){return(tl=(0,y.Z)(function*(Me,Ke){const Tt=yield Bs(Me),Vt=va(Ke),pn={method:"POST",headers:Tt,body:JSON.stringify(Vt)};let Mn;try{Mn=yield(yield fetch(Oa(Me.appConfig),pn)).json()}catch(Bn){throw ao.create("token-subscribe-failed",{errorInfo:Bn?.toString()})}if(Mn.error)throw ao.create("token-subscribe-failed",{errorInfo:Mn.error.message});if(!Mn.token)throw ao.create("token-subscribe-no-token");return Mn.token})).apply(this,arguments)}function aa(){return(aa=(0,y.Z)(function*(Me,Ke){const Tt=yield Bs(Me),Vt=va(Ke.subscriptionOptions),pn={method:"PATCH",headers:Tt,body:JSON.stringify(Vt)};let Mn;try{Mn=yield(yield fetch(`${Oa(Me.appConfig)}/${Ke.token}`,pn)).json()}catch(Bn){throw ao.create("token-update-failed",{errorInfo:Bn?.toString()})}if(Mn.error)throw ao.create("token-update-failed",{errorInfo:Mn.error.message});if(!Mn.token)throw ao.create("token-update-no-token");return Mn.token})).apply(this,arguments)}function la(Me,Ke){return Js.apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(Me,Ke){const Vt={method:"DELETE",headers:yield Bs(Me)};try{const Mn=yield(yield fetch(`${Oa(Me.appConfig)}/${Ke}`,Vt)).json();if(Mn.error)throw ao.create("token-unsubscribe-failed",{errorInfo:Mn.error.message})}catch(pn){throw ao.create("token-unsubscribe-failed",{errorInfo:pn?.toString()})}})).apply(this,arguments)}function Oa({projectId:Me}){return`${Ls}/projects/${Me}/registrations`}function Bs(Me){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,y.Z)(function*({appConfig:Me,installations:Ke}){const Tt=yield Ke.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Me.apiKey,"x-goog-firebase-installations-auth":`FIS ${Tt}`})})).apply(this,arguments)}function va({p256dh:Me,auth:Ke,endpoint:Tt,vapidKey:Vt}){const pn={web:{endpoint:Tt,auth:Ke,p256dh:Me}};return Vt!==$s&&(pn.web.applicationPubKey=Vt),pn}const bo=6048e5;function qr(){return qr=(0,y.Z)(function*(Me){const Ke=yield function Eo(Me,Ke){return Ie.apply(this,arguments)}(Me.swRegistration,Me.vapidKey),Tt={vapidKey:Me.vapidKey,swScope:Me.swRegistration.scope,endpoint:Ke.endpoint,auth:wt(Ke.getKey("auth")),p256dh:wt(Ke.getKey("p256dh"))},Vt=yield qs(Me.firebaseDependencies);if(Vt){if(function xt(Me,Ke){return Ke.vapidKey===Me.vapidKey&&Ke.endpoint===Me.endpoint&&Ke.auth===Me.auth&&Ke.p256dh===Me.p256dh}(Vt.subscriptionOptions,Tt))return Date.now()>=Vt.createTime+bo?function yi(Me,Ke){return Rt.apply(this,arguments)}(Me,{token:Vt.token,createTime:Date.now(),subscriptionOptions:Tt}):Vt.token;try{yield la(Me.firebaseDependencies,Vt.token)}catch(pn){console.warn(pn)}return Mi(Me.firebaseDependencies,Tt)}return Mi(Me.firebaseDependencies,Tt)}),qr.apply(this,arguments)}function rl(){return rl=(0,y.Z)(function*(Me){const Ke=yield qs(Me.firebaseDependencies);Ke&&(yield la(Me.firebaseDependencies,Ke.token),yield function Xa(Me){return Fs.apply(this,arguments)}(Me.firebaseDependencies));const Tt=yield Me.swRegistration.pushManager.getSubscription();return!Tt||Tt.unsubscribe()}),rl.apply(this,arguments)}function Rt(){return Rt=(0,y.Z)(function*(Me,Ke){try{const Tt=yield function Sc(Me,Ke){return aa.apply(this,arguments)}(Me.firebaseDependencies,Ke),Vt=Object.assign(Object.assign({},Ke),{token:Tt,createTime:Date.now()});return yield Pa(Me.firebaseDependencies,Vt),Tt}catch(Tt){throw yield function il(Me){return rl.apply(this,arguments)}(Me),Tt}}),Rt.apply(this,arguments)}function Mi(Me,Ke){return wn.apply(this,arguments)}function wn(){return(wn=(0,y.Z)(function*(Me,Ke){const Vt={token:yield Ol(Me,Ke),createTime:Date.now(),subscriptionOptions:Ke};return yield Pa(Me,Vt),Vt.token})).apply(this,arguments)}function Ie(){return(Ie=(0,y.Z)(function*(Me,Ke){return(yield Me.pushManager.getSubscription())||Me.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sn(Ke)})})).apply(this,arguments)}function rt(Me){const Ke={from:Me.from,collapseKey:Me.collapse_key,messageId:Me.fcmMessageId};return function Mt(Me,Ke){if(!Ke.notification)return;Me.notification={};const Tt=Ke.notification.title;Tt&&(Me.notification.title=Tt);const Vt=Ke.notification.body;Vt&&(Me.notification.body=Vt);const pn=Ke.notification.image;pn&&(Me.notification.image=pn);const Mn=Ke.notification.icon;Mn&&(Me.notification.icon=Mn)}(Ke,Me),function Xt(Me,Ke){Ke.data&&(Me.data=Ke.data)}(Ke,Me),function Bt(Me,Ke){var Tt,Vt,pn,Mn,Bn;if(!(Ke.fcmOptions||null!==(Tt=Ke.notification)&&void 0!==Tt&&Tt.click_action))return;Me.fcmOptions={};const fi=null!==(pn=null===(Vt=Ke.fcmOptions)||void 0===Vt?void 0:Vt.link)&&void 0!==pn?pn:null===(Mn=Ke.notification)||void 0===Mn?void 0:Mn.click_action;fi&&(Me.fcmOptions.link=fi);const di=null===(Bn=Ke.fcmOptions)||void 0===Bn?void 0:Bn.analytics_label;di&&(Me.fcmOptions.analyticsLabel=di)}(Ke,Me),Ke}function bi(Me,Ke){const Tt=[];for(let Vt=0;Vt<Me.length;Vt++)Tt.push(Me.charAt(Vt)),Vt<Ke.length&&Tt.push(Ke.charAt(Vt));return Tt.join("")}function ir(Me){return ao.create("missing-app-config-values",{valueName:Me})}bi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sr{constructor(Ke,Tt,Vt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const pn=function Bi(Me){if(!Me||!Me.options)throw ir("App Configuration Object");if(!Me.name)throw ir("App Name");const Ke=["projectId","apiKey","appId","messagingSenderId"],{options:Tt}=Me;for(const Vt of Ke)if(!Tt[Vt])throw ir(Vt);return{appName:Me.name,projectId:Tt.projectId,apiKey:Tt.apiKey,appId:Tt.appId,senderId:Tt.messagingSenderId}}(Ke);this.firebaseDependencies={app:Ke,appConfig:pn,installations:Tt,analyticsProvider:Vt}}_delete(){return Promise.resolve()}}function Ir(){return(Ir=(0,y.Z)(function*(Me){try{Me.swRegistration=yield navigator.serviceWorker.register(Lr,{scope:_a}),Me.swRegistration.update().catch(()=>{})}catch(Ke){throw ao.create("failed-service-worker-registration",{browserErrorMessage:Ke?.message})}})).apply(this,arguments)}function Cr(){return(Cr=(0,y.Z)(function*(Me,Ke){if(!Ke&&!Me.swRegistration&&(yield function Qi(Me){return Ir.apply(this,arguments)}(Me)),Ke||!Me.swRegistration){if(!(Ke instanceof ServiceWorkerRegistration))throw ao.create("invalid-sw-registration");Me.swRegistration=Ke}})).apply(this,arguments)}function Di(){return(Di=(0,y.Z)(function*(Me,Ke){Ke?Me.vapidKey=Ke:Me.vapidKey||(Me.vapidKey=$s)})).apply(this,arguments)}function Wo(){return Wo=(0,y.Z)(function*(Me,Ke){if(!navigator)throw ao.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ao.create("permission-blocked");return yield function Ko(Me,Ke){return Di.apply(this,arguments)}(Me,Ke?.vapidKey),yield function Si(Me,Ke){return Cr.apply(this,arguments)}(Me,Ke?.serviceWorkerRegistration),function nl(Me){return qr.apply(this,arguments)}(Me)}),Wo.apply(this,arguments)}function Ss(){return(Ss=(0,y.Z)(function*(Me,Ke,Tt){const Vt=function Cs(Me){switch(Me){case qe.NOTIFICATION_CLICKED:return"notification_open";case qe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(Ke);(yield Me.firebaseDependencies.analyticsProvider.get()).logEvent(Vt,{message_id:Tt[ks],message_name:Tt[ur],message_time:Tt[gn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ds(){return Ds=(0,y.Z)(function*(Me,Ke){const Tt=Ke.data;if(!Tt.isFirebaseMessaging)return;Me.onMessageHandler&&Tt.messageType===qe.PUSH_RECEIVED&&("function"==typeof Me.onMessageHandler?Me.onMessageHandler(rt(Tt)):Me.onMessageHandler.next(rt(Tt)));const Vt=Tt.data;(function jn(Me){return"object"==typeof Me&&!!Me&&ks in Me})(Vt)&&"1"===Vt["google.c.a.e"]&&(yield function Jr(Me,Ke,Tt){return Ss.apply(this,arguments)}(Me,Tt.messageType,Vt))}),Ds.apply(this,arguments)}const kr="@firebase/messaging",Cc=Me=>{const Ke=new sr(Me.getProvider("app").getImmediate(),Me.getProvider("installations-internal").getImmediate(),Me.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Tt=>function Rl(Me,Ke){return Ds.apply(this,arguments)}(Ke,Tt)),Ke},Dc=Me=>{const Ke=Me.getProvider("messaging").getImmediate();return{getToken:Vt=>function Us(Me,Ke){return Wo.apply(this,arguments)}(Ke,Vt)}};function Zn(){return rr.apply(this,arguments)}function rr(){return(rr=(0,y.Z)(function*(){try{yield(0,E.eu)()}catch{return!1}return typeof window<"u"&&(0,E.hl)()&&(0,E.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nc(){(0,w._registerComponent)(new F.wA("messaging",Cc,"PUBLIC")),(0,w._registerComponent)(new F.wA("messaging-internal",Dc,"PRIVATE")),(0,w.registerVersion)(kr,"0.12.4"),(0,w.registerVersion)(kr,"0.12.4","esm2017")}();const ka="analytics",Mc="firebase_id",ic="origin",Po=6e4,As="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nl="https://www.googletagmanager.com/gtag/js",Vr=new L.Yd("@firebase/analytics"),So=new E.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rc(Me){if(!Me.startsWith(Nl)){const Ke=So.create("invalid-gtag-resource",{gtagURL:Me});return Vr.warn(Ke.message),""}return Me}function Yo(Me){return Promise.all(Me.map(Ke=>Ke.catch(Tt=>Tt)))}function ba(){return(ba=(0,y.Z)(function*(Me,Ke,Tt,Vt,pn,Mn){const Bn=Vt[pn];try{if(Bn)yield Ke[Bn];else{const di=(yield Yo(Tt)).find(mi=>mi.measurementId===pn);di&&(yield Ke[di.appId])}}catch(fi){Vr.error(fi)}Me("config",pn,Mn)})).apply(this,arguments)}function Qr(){return(Qr=(0,y.Z)(function*(Me,Ke,Tt,Vt,pn){try{let Mn=[];if(pn&&pn.send_to){let Bn=pn.send_to;Array.isArray(Bn)||(Bn=[Bn]);const fi=yield Yo(Tt);for(const di of Bn){const mi=fi.find(Wi=>Wi.measurementId===di),Yi=mi&&Ke[mi.appId];if(!Yi){Mn=[];break}Mn.push(Yi)}}0===Mn.length&&(Mn=Object.values(Ke)),yield Promise.all(Mn),Me("event",Vt,pn||{})}catch(Mn){Vr.error(Mn)}})).apply(this,arguments)}const sc=30,Ic=new class xc{constructor(Ke={},Tt=1e3){this.throttleMetadata=Ke,this.intervalMillis=Tt}getThrottleMetadata(Ke){return this.throttleMetadata[Ke]}setThrottleMetadata(Ke,Tt){this.throttleMetadata[Ke]=Tt}deleteThrottleMetadata(Ke){delete this.throttleMetadata[Ke]}};function Ud(Me){return new Headers({Accept:"application/json","x-goog-api-key":Me})}function da(){return(da=(0,y.Z)(function*(Me){var Ke;const{appId:Tt,apiKey:Vt}=Me,pn={method:"GET",headers:Ud(Vt)},Mn=As.replace("{app-id}",Tt),Bn=yield fetch(Mn,pn);if(200!==Bn.status&&304!==Bn.status){let fi="";try{const di=yield Bn.json();null!==(Ke=di.error)&&void 0!==Ke&&Ke.message&&(fi=di.error.message)}catch{}throw So.create("config-fetch-failed",{httpStatus:Bn.status,responseMessage:fi})}return Bn.json()})).apply(this,arguments)}function je(){return(je=(0,y.Z)(function*(Me,Ke=Ic,Tt){const{appId:Vt,apiKey:pn,measurementId:Mn}=Me.options;if(!Vt)throw So.create("no-app-id");if(!pn){if(Mn)return{measurementId:Mn,appId:Vt};throw So.create("no-api-key")}const Bn=Ke.getThrottleMetadata(Vt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},fi=new Ut;return setTimeout((0,y.Z)(function*(){fi.abort()}),void 0!==Tt?Tt:Po),ce({appId:Vt,apiKey:pn,measurementId:Mn},Bn,fi,Ke)})).apply(this,arguments)}function ce(Me,Ke,Tt){return Be.apply(this,arguments)}function Be(){return Be=(0,y.Z)(function*(Me,{throttleEndTimeMillis:Ke,backoffCount:Tt},Vt,pn=Ic){var Mn;const{appId:Bn,measurementId:fi}=Me;try{yield function _t(Me,Ke){return new Promise((Tt,Vt)=>{const pn=Math.max(Ke-Date.now(),0),Mn=setTimeout(Tt,pn);Me.addEventListener(()=>{clearTimeout(Mn),Vt(So.create("fetch-throttle",{throttleEndTimeMillis:Ke}))})})}(Vt,Ke)}catch(di){if(fi)return Vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fi} provided in the "measurementId" field in the local Firebase config. [${di?.message}]`),{appId:Bn,measurementId:fi};throw di}try{const di=yield function Lo(Me){return da.apply(this,arguments)}(Me);return pn.deleteThrottleMetadata(Bn),di}catch(di){const mi=di;if(!function Gt(Me){if(!(Me instanceof E.ZR&&Me.customData))return!1;const Ke=Number(Me.customData.httpStatus);return 429===Ke||500===Ke||503===Ke||504===Ke}(mi)){if(pn.deleteThrottleMetadata(Bn),fi)return Vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fi} provided in the "measurementId" field in the local Firebase config. [${mi?.message}]`),{appId:Bn,measurementId:fi};throw di}const Yi=503===Number(null===(Mn=mi?.customData)||void 0===Mn?void 0:Mn.httpStatus)?(0,E.$s)(Tt,pn.intervalMillis,sc):(0,E.$s)(Tt,pn.intervalMillis),Wi={throttleEndTimeMillis:Date.now()+Yi,backoffCount:Tt+1};return pn.setThrottleMetadata(Bn,Wi),Vr.debug(`Calling attemptFetch again in ${Yi} millis`),ce(Me,Wi,Vt,pn)}}),Be.apply(this,arguments)}class Ut{constructor(){this.listeners=[]}addEventListener(Ke){this.listeners.push(Ke)}abort(){this.listeners.forEach(Ke=>Ke())}}let Sn,kl;function Ti(){return(Ti=(0,y.Z)(function*(Me,Ke,Tt,Vt,pn){if(pn&&pn.global)Me("event",Tt,Vt);else{const Mn=yield Ke;Me("event",Tt,Object.assign(Object.assign({},Vt),{send_to:Mn}))}})).apply(this,arguments)}function ac(){return(ac=(0,y.Z)(function*(){if(!(0,E.hl)())return Vr.warn(So.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,E.eu)()}catch(Me){return Vr.warn(So.create("indexeddb-unavailable",{errorInfo:Me?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ga(){return Ga=(0,y.Z)(function*(Me,Ke,Tt,Vt,pn,Mn,Bn){var fi;const di=function Ee(Me){return je.apply(this,arguments)}(Me);di.then(to=>{Tt[to.measurementId]=to.appId,Me.options.measurementId&&to.measurementId!==Me.options.measurementId&&Vr.warn(`The measurement ID in the local Firebase config (${Me.options.measurementId}) does not match the measurement ID fetched from the server (${to.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(to=>Vr.error(to)),Ke.push(di);const mi=function wc(){return ac.apply(this,arguments)}().then(to=>{if(to)return Vt.getId()}),[Yi,Wi]=yield Promise.all([di,mi]);(function Ll(Me){const Ke=window.document.getElementsByTagName("script");for(const Tt of Object.values(Ke))if(Tt.src&&Tt.src.includes(Nl)&&Tt.src.includes(Me))return Tt;return null})(Mn)||function oc(Me,Ke){const Tt=function ya(Me,Ke){let Tt;return window.trustedTypes&&(Tt=window.trustedTypes.createPolicy(Me,Ke)),Tt}("firebase-js-sdk-policy",{createScriptURL:rc}),Vt=document.createElement("script"),pn=`${Nl}?l=${Me}&id=${Ke}`;Vt.src=Tt?Tt?.createScriptURL(pn):pn,Vt.async=!0,document.head.appendChild(Vt)}(Mn,Yi.measurementId),kl&&(pn("consent","default",kl),function Ua(Me){kl=Me}(void 0)),pn("js",new Date);const ho=null!==(fi=Bn?.config)&&void 0!==fi?fi:{};return ho[ic]="firebase",ho.update=!0,null!=Wi&&(ho[Mc]=Wi),pn("config",Yi.measurementId,ho),Sn&&(pn("set",Sn),function nd(Me){Sn=Me}(void 0)),Yi.measurementId}),Ga.apply(this,arguments)}class Fl{constructor(Ke){this.app=Ke}_delete(){return delete hs[this.app.options.appId],Promise.resolve()}}let hs={},id=[];const lc={};let Qs,Gs,Ta="dataLayer",cl=!1;function Ru(Me,Ke,Tt){!function Is(){const Me=[];if((0,E.ru)()&&Me.push("This is a browser extension environment."),(0,E.zI)()||Me.push("Cookies are not available."),Me.length>0){const Ke=Me.map((Vt,pn)=>`(${pn+1}) ${Vt}`).join(" "),Tt=So.create("invalid-analytics-context",{errorInfo:Ke});Vr.warn(Tt.message)}}();const Vt=Me.options.appId;if(!Vt)throw So.create("no-app-id");if(!Me.options.apiKey){if(!Me.options.measurementId)throw So.create("no-api-key");Vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Me.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hs[Vt])throw So.create("already-exists",{id:Vt});if(!cl){!function zo(Me){let Ke=[];Array.isArray(window[Me])?Ke=window[Me]:window[Me]=Ke}(Ta);const{wrappedGtag:Mn,gtagCore:Bn}=function ji(Me,Ke,Tt,Vt,pn){let Mn=function(...Bn){window[Vt].push(arguments)};return window[pn]&&"function"==typeof window[pn]&&(Mn=window[pn]),window[pn]=function al(Me,Ke,Tt,Vt){function Mn(){return Mn=(0,y.Z)(function*(Bn,...fi){try{if("event"===Bn){const[di,mi]=fi;yield function Ac(Me,Ke,Tt,Vt,pn){return Qr.apply(this,arguments)}(Me,Ke,Tt,di,mi)}else if("config"===Bn){const[di,mi]=fi;yield function Fa(Me,Ke,Tt,Vt,pn,Mn){return ba.apply(this,arguments)}(Me,Ke,Tt,Vt,di,mi)}else if("consent"===Bn){const[di]=fi;Me("consent","update",di)}else if("get"===Bn){const[di,mi,Yi]=fi;Me("get",di,mi,Yi)}else if("set"===Bn){const[di]=fi;Me("set",di)}else Me(Bn,...fi)}catch(di){Vr.error(di)}}),Mn.apply(this,arguments)}return function pn(Bn){return Mn.apply(this,arguments)}}(Mn,Me,Ke,Tt),{gtagCore:Mn,wrappedGtag:window[pn]}}(hs,id,lc,Ta,"gtag");Gs=Mn,Qs=Bn,cl=!0}return hs[Vt]=function Ou(Me,Ke,Tt,Vt,pn,Mn,Bn){return Ga.apply(this,arguments)}(Me,id,lc,Ke,Qs,Ta,Tt),new Fl(Me)}function rd(){return tr.apply(this,arguments)}function tr(){return(tr=(0,y.Z)(function*(){if((0,E.ru)()||!(0,E.zI)()||!(0,E.hl)())return!1;try{return yield(0,E.eu)()}catch{return!1}})).apply(this,arguments)}const Hd="@firebase/analytics";!function Oc(){(0,w._registerComponent)(new F.wA(ka,(Ke,{options:Tt})=>Ru(Ke.getProvider("app").getImmediate(),Ke.getProvider("installations-internal").getImmediate(),Tt),"PUBLIC")),(0,w._registerComponent)(new F.wA("analytics-internal",function Me(Ke){try{const Tt=Ke.getProvider(ka).getImmediate();return{logEvent:(Vt,pn,Mn)=>function dl(Me,Ke,Tt,Vt){Me=(0,E.m9)(Me),function zn(Me,Ke,Tt,Vt,pn){return Ti.apply(this,arguments)}(Gs,hs[Me.app.options.appId],Ke,Tt,Vt).catch(pn=>Vr.error(pn))}(Tt,Vt,pn,Mn)}}catch(Tt){throw So.create("interop-component-reg-failed",{reason:Tt})}},"PRIVATE")),(0,w.registerVersion)(Hd,"0.10.0"),(0,w.registerVersion)(Hd,"0.10.0","esm2017")}();var ja=S(1954),jl=S(2631);const Lu=new class sd extends jl.v{}(class Rc extends ja.o{constructor(Ke,Tt){super(Ke,Tt),this.scheduler=Ke,this.work=Tt}schedule(Ke,Tt=0){return Tt>0?super.schedule(Ke,Tt):(this.delay=Tt,this.state=Ke,this.scheduler.flush(this),this)}execute(Ke,Tt){return Tt>0||this.closed?super.execute(Ke,Tt):this._execute(Ke,Tt)}requestAsyncId(Ke,Tt,Vt=0){return null!=Vt&&Vt>0||null==Vt&&this.delay>0?super.requestAsyncId(Ke,Tt,Vt):(Ke.flush(this),0)}});var cc=S(6321),Hs=S(9397),Va=S(5137),Sa=S(3093);const fl=new c.GfV("7.6.1"),Ca="__angularfire_symbol__analyticsIsSupportedValue",Da="__angularfire_symbol__analyticsIsSupported",ld="__angularfire_symbol__remoteConfigIsSupportedValue",Nc="__angularfire_symbol__remoteConfigIsSupported",cd="__angularfire_symbol__messagingIsSupportedValue",jd="__angularfire_symbol__messagingIsSupported";function hl(Me,Ke,Tt){if(Ke){if(1===Ke.length)return Ke[0];const Mn=Ke.filter(Bn=>Bn.app===Tt);if(1===Mn.length)return Mn[0]}return Tt.container.getProvider(Me).getImmediate({optional:!0})}globalThis[Da]||(globalThis[Da]=rd().then(Me=>globalThis[Ca]=Me).catch(()=>globalThis[Ca]=!1)),globalThis[jd]||(globalThis[jd]=Zn().then(Me=>globalThis[cd]=Me).catch(()=>globalThis[cd]=!1)),globalThis[Nc]||(globalThis[Nc]=es().then(Me=>globalThis[ld]=Me).catch(()=>globalThis[ld]=!1));const kc=(Me,Ke)=>{const Tt=Ke?[Ke]:(0,t.C6)(),Vt=[];return Tt.forEach(pn=>{pn.container.getProvider(Me).instances.forEach(Bn=>{Vt.includes(Bn)||Vt.push(Bn)})}),Vt};function Ma(){}class fo{constructor(Ke,Tt=Lu){this.zone=Ke,this.delegate=Tt}now(){return this.delegate.now()}schedule(Ke,Tt,Vt){const pn=this.zone;return this.delegate.schedule(function(Bn){pn.runGuarded(()=>{Ke.apply(this,[Bn])})},Tt,Vt)}}class Fc{constructor(Ke){this.zone=Ke,this.task=null}call(Ke,Tt){const Vt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ma,{},Ma,Ma)),Tt.pipe((0,Hs.b)({next:Vt,complete:Vt,error:Vt})).subscribe(Ke).add(Vt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vl=(()=>{class Me{constructor(Tt){this.ngZone=Tt,this.outsideAngular=Tt.runOutsideAngular(()=>new fo(Zone.current)),this.insideAngular=Tt.run(()=>new fo(Zone.current,cc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Me.\u0275fac=function(Tt){return new(Tt||Me)(c.LFG(c.R0b))},Me.\u0275prov=c.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();function Ps(){const Me=globalThis.\u0275AngularFireScheduler;if(!Me)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Me}function Ka(Me){return Ps(),function Fu(Me){return function(Tt){return(Tt=Tt.lift(new Fc(Me.ngZone))).pipe((0,Va.R)(Me.outsideAngular),(0,Sa.Q)(Me.insideAngular))}}(Ps())(Me)}},6878:(Gn,tt,S)=>{"use strict";S.d(tt,{$:()=>Lr,A:()=>g,D:()=>U,I:()=>kt,J:()=>pr,L:()=>Kn,N:()=>De,P:()=>Ou,Q:()=>oa,R:()=>Oo,U:()=>Go,V:()=>es,W:()=>ls,X:()=>so,Y:()=>br,Z:()=>cr,_:()=>ys,a:()=>uo,a0:()=>$s,a1:()=>ks,a2:()=>ht,a3:()=>yo,a4:()=>is,a5:()=>Es,a6:()=>Io,a7:()=>wa,a8:()=>Ts,a9:()=>Qa,aA:()=>q,aB:()=>ld,aC:()=>ft,aD:()=>Pe,aE:()=>Va,aF:()=>Hl,aG:()=>Gd,aH:()=>fn,aL:()=>wo,aO:()=>Ho,aa:()=>Xa,ab:()=>Pl,ac:()=>el,ad:()=>Sc,ae:()=>la,af:()=>Oa,ai:()=>bo,aj:()=>qr,ak:()=>il,an:()=>bs,ao:()=>Mt,aq:()=>Di,ar:()=>kr,as:()=>Fe,at:()=>cn,au:()=>$t,av:()=>T,aw:()=>ho,ax:()=>Lc,ay:()=>mn,az:()=>N,b:()=>ol,c:()=>Gs,d:()=>Ru,e:()=>Vf,f:()=>Hd,g:()=>sd,h:()=>ja,i:()=>fr,j:()=>cc,k:()=>no,l:()=>fs,m:()=>Bu,p:()=>D,r:()=>Zo,s:()=>us,u:()=>wc});var c=S(5861),t=S(9058),y=S(534),w=S(7582),E=S(7879),F=S(4537);const D={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},g={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const U=function v(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},R=function A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},H=new t.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),O=new E.Yd("@firebase/auth");function P(ye,...V){O.logLevel<=E.in.ERROR&&O.error(`Auth (${y.SDK_VERSION}): ${ye}`,...V)}function T(ye,...V){throw W(ye,...V)}function N(ye,...V){return W(ye,...V)}function C(ye,V,z){const Oe=Object.assign(Object.assign({},R()),{[V]:z});return new t.LL("auth","Firebase",Oe).create(V,{appName:ye.name})}function B(ye,V,z){if(!(V instanceof z))throw z.name!==V.constructor.name&&T(ye,"argument-error"),C(ye,"argument-error",`Type of ${V.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function W(ye,...V){if("string"!=typeof ye){const z=V[0],Oe=[...V.slice(1)];return Oe[0]&&(Oe[0].appName=ye.name),ye._errorFactory.create(z,...Oe)}return H.create(ye,...V)}function q(ye,V,...z){if(!ye)throw W(V,...z)}function le(ye){const V="INTERNAL ASSERTION FAILED: "+ye;throw P(V),new Error(V)}function Fe(ye,V){ye||le(V)}function $(){var ye;return typeof self<"u"&&(null===(ye=self.location)||void 0===ye?void 0:ye.href)||""}function ae(){return"http:"===K()||"https:"===K()}function K(){var ye;return typeof self<"u"&&(null===(ye=self.location)||void 0===ye?void 0:ye.protocol)||null}class he{constructor(V,z){this.shortDelay=V,this.longDelay=z,Fe(z>V,"Short delay should be less than long delay!"),this.isMobile=(0,t.uI)()||(0,t.b$)()}get(){return function ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,t.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ce(ye,V){Fe(ye.emulator,"Emulator should always be set here");const{url:z}=ye.emulator;return V?`${z}${V.startsWith("/")?V.slice(1):V}`:z}class Le{static initialize(V,z,Oe){this.fetchImpl=V,z&&(this.headersImpl=z),Oe&&(this.responseImpl=Oe)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new he(3e4,6e4);function xe(ye,V){return ye.tenantId&&!V.tenantId?Object.assign(Object.assign({},V),{tenantId:ye.tenantId}):V}function pe(ye,V,z,Oe){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,c.Z)(function*(ye,V,z,Oe,At={}){return ke(ye,At,(0,c.Z)(function*(){let Ct={},bn={};Oe&&("GET"===V?bn=Oe:Ct={body:JSON.stringify(Oe)});const Nn=(0,t.xO)(Object.assign({key:ye.config.apiKey},bn)).slice(1),si=yield ye._getAdditionalHeaders();return si["Content-Type"]="application/json",ye.languageCode&&(si["X-Firebase-Locale"]=ye.languageCode),Le.fetch()(Je(ye,ye.config.apiHost,z,Nn),Object.assign({method:V,headers:si,referrerPolicy:"no-referrer"},Ct))}))})).apply(this,arguments)}function ke(ye,V,z){return we.apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(ye,V,z){ye._canInitEmulator=!1;const Oe=Object.assign(Object.assign({},fe),V);try{const At=new Ne(ye),Ct=yield Promise.race([z(),At.promise]);At.clearNetworkTimeout();const bn=yield Ct.json();if("needConfirmation"in bn)throw Te(ye,"account-exists-with-different-credential",bn);if(Ct.ok&&!("errorMessage"in bn))return bn;{const Nn=Ct.ok?bn.errorMessage:bn.error.message,[si,_i]=Nn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===si)throw Te(ye,"credential-already-in-use",bn);if("EMAIL_EXISTS"===si)throw Te(ye,"email-already-in-use",bn);if("USER_DISABLED"===si)throw Te(ye,"user-disabled",bn);const Ni=Oe[si]||si.toLowerCase().replace(/[_\s]+/g,"-");if(_i)throw C(ye,Ni,_i);T(ye,Ni)}}catch(At){if(At instanceof t.ZR)throw At;T(ye,"network-request-failed",{message:String(At)})}})).apply(this,arguments)}function Ve(ye,V,z,Oe){return st.apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(ye,V,z,Oe,At={}){const Ct=yield pe(ye,V,z,Oe,At);return"mfaPendingCredential"in Ct&&T(ye,"multi-factor-auth-required",{_serverResponse:Ct}),Ct})).apply(this,arguments)}function Je(ye,V,z,Oe){const At=`${V}${z}?${Oe}`;return ye.config.emulator?Ce(ye.config,At):`${ye.config.apiScheme}://${At}`}class Ne{constructor(V){this.auth=V,this.timer=null,this.promise=new Promise((z,Oe)=>{this.timer=setTimeout(()=>Oe(N(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Te(ye,V,z){const Oe={appName:ye.name};z.email&&(Oe.email=z.email),z.phoneNumber&&(Oe.phoneNumber=z.phoneNumber);const At=N(ye,V,Oe);return At.customData._tokenResponse=z,At}function se(){return(se=(0,c.Z)(function*(ye,V){return pe(ye,"POST","/v1/accounts:delete",V)})).apply(this,arguments)}function J(){return(J=(0,c.Z)(function*(ye,V){return pe(ye,"POST","/v1/accounts:update",V)})).apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(ye,V){return pe(ye,"POST","/v1/accounts:lookup",V)})).apply(this,arguments)}function te(ye){if(ye)try{const V=new Date(Number(ye));if(!isNaN(V.getTime()))return V.toUTCString()}catch{}}function X(){return(X=(0,c.Z)(function*(ye,V=!1){const z=(0,t.m9)(ye),Oe=yield z.getIdToken(V),At=ve(Oe);q(At&&At.exp&&At.auth_time&&At.iat,z.auth,"internal-error");const Ct="object"==typeof At.firebase?At.firebase:void 0,bn=Ct?.sign_in_provider;return{claims:At,token:Oe,authTime:te(ue(At.auth_time)),issuedAtTime:te(ue(At.iat)),expirationTime:te(ue(At.exp)),signInProvider:bn||null,signInSecondFactor:Ct?.sign_in_second_factor||null}})).apply(this,arguments)}function ue(ye){return 1e3*Number(ye)}function ve(ye){const[V,z,Oe]=ye.split(".");if(void 0===V||void 0===z||void 0===Oe)return P("JWT malformed, contained fewer than 3 sections"),null;try{const At=(0,t.tV)(z);return At?JSON.parse(At):(P("Failed to decode base64 JWT payload"),null)}catch(At){return P("Caught error parsing JWT payload as JSON",At?.toString()),null}}function Ae(ye,V){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(ye,V,z=!1){if(z)return V;try{return yield V}catch(Oe){throw Oe instanceof t.ZR&&function He({code:ye}){return"auth/user-disabled"===ye||"auth/user-token-expired"===ye}(Oe)&&ye.auth.currentUser===ye&&(yield ye.auth.signOut()),Oe}})).apply(this,arguments)}class at{constructor(V){this.user=V,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(V){var z;if(V){const Oe=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Oe}{this.errorBackoff=3e4;const At=(null!==(z=this.user.stsTokenManager.expirationTime)&&void 0!==z?z:0)-Date.now()-3e5;return Math.max(0,At)}}schedule(V=!1){var z=this;if(!this.isRunning)return;const Oe=this.getInterval(V);this.timerId=setTimeout((0,c.Z)(function*(){yield z.iteration()}),Oe)}iteration(){var V=this;return(0,c.Z)(function*(){try{yield V.user.getIdToken(!0)}catch(z){return void("auth/network-request-failed"===z?.code&&V.schedule(!0))}V.schedule()})()}}class ct{constructor(V,z){this.createdAt=V,this.lastLoginAt=z,this._initializeTime()}_initializeTime(){this.lastSignInTime=te(this.lastLoginAt),this.creationTime=te(this.createdAt)}_copy(V){this.createdAt=V.createdAt,this.lastLoginAt=V.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function it(ye){return vt.apply(this,arguments)}function vt(){return vt=(0,c.Z)(function*(ye){var V;const z=ye.auth,Oe=yield ye.getIdToken(),At=yield Ae(ye,function Q(ye,V){return Z.apply(this,arguments)}(z,{idToken:Oe}));q(At?.users.length,z,"internal-error");const Ct=At.users[0];ye._notifyReloadListener(Ct);const bn=null!==(V=Ct.providerUserInfo)&&void 0!==V&&V.length?function en(ye){return ye.map(V=>{var{providerId:z}=V,Oe=(0,w._T)(V,["providerId"]);return{providerId:z,uid:Oe.rawId||"",displayName:Oe.displayName||null,email:Oe.email||null,phoneNumber:Oe.phoneNumber||null,photoURL:Oe.photoUrl||null}})}(Ct.providerUserInfo):[],Nn=function jt(ye,V){return[...ye.filter(Oe=>!V.some(At=>At.providerId===Oe.providerId)),...V]}(ye.providerData,bn),Ni=!!ye.isAnonymous&&!(ye.email&&Ct.passwordHash||Nn?.length),Er={uid:Ct.localId,displayName:Ct.displayName||null,photoURL:Ct.photoUrl||null,email:Ct.email||null,emailVerified:Ct.emailVerified||!1,phoneNumber:Ct.phoneNumber||null,tenantId:Ct.tenantId||null,providerData:Nn,metadata:new ct(Ct.createdAt,Ct.lastLoginAt),isAnonymous:Ni};Object.assign(ye,Er)}),vt.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(ye){const V=(0,t.m9)(ye);yield it(V),yield V.auth._persistUserIfCurrent(V),V.auth._notifyListenersIfCurrent(V)})).apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(ye,V){const z=yield ke(ye,{},(0,c.Z)(function*(){const Oe=(0,t.xO)({grant_type:"refresh_token",refresh_token:V}).slice(1),{tokenApiHost:At,apiKey:Ct}=ye.config,bn=Je(ye,At,"/v1/token",`key=${Ct}`),Nn=yield ye._getAdditionalHeaders();return Nn["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(bn,{method:"POST",headers:Nn,body:Oe})}));return{accessToken:z.access_token,expiresIn:z.expires_in,refreshToken:z.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(V){q(V.idToken,"internal-error"),q(typeof V.idToken<"u","internal-error"),q(typeof V.refreshToken<"u","internal-error");const z="expiresIn"in V&&typeof V.expiresIn<"u"?Number(V.expiresIn):function de(ye){const V=ve(ye);return q(V,"internal-error"),q(typeof V.exp<"u","internal-error"),q(typeof V.iat<"u","internal-error"),Number(V.exp)-Number(V.iat)}(V.idToken);this.updateTokensAndExpiration(V.idToken,V.refreshToken,z)}getToken(V,z=!1){var Oe=this;return(0,c.Z)(function*(){return q(!Oe.accessToken||Oe.refreshToken,V,"user-token-expired"),z||!Oe.accessToken||Oe.isExpired?Oe.refreshToken?(yield Oe.refresh(V,Oe.refreshToken),Oe.accessToken):null:Oe.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(V,z){var Oe=this;return(0,c.Z)(function*(){const{accessToken:At,refreshToken:Ct,expiresIn:bn}=yield function dn(ye,V){return un.apply(this,arguments)}(V,z);Oe.updateTokensAndExpiration(At,Ct,Number(bn))})()}updateTokensAndExpiration(V,z,Oe){this.refreshToken=z||null,this.accessToken=V||null,this.expirationTime=Date.now()+1e3*Oe}static fromJSON(V,z){const{refreshToken:Oe,accessToken:At,expirationTime:Ct}=z,bn=new Kt;return Oe&&(q("string"==typeof Oe,"internal-error",{appName:V}),bn.refreshToken=Oe),At&&(q("string"==typeof At,"internal-error",{appName:V}),bn.accessToken=At),Ct&&(q("number"==typeof Ct,"internal-error",{appName:V}),bn.expirationTime=Ct),bn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(V){this.accessToken=V.accessToken,this.refreshToken=V.refreshToken,this.expirationTime=V.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return le("not implemented")}}function Cn(ye,V){q("string"==typeof ye||typeof ye>"u","internal-error",{appName:V})}class nn{constructor(V){var{uid:z,auth:Oe,stsTokenManager:At}=V,Ct=(0,w._T)(V,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new at(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=z,this.auth=Oe,this.stsTokenManager=At,this.accessToken=At.accessToken,this.displayName=Ct.displayName||null,this.email=Ct.email||null,this.emailVerified=Ct.emailVerified||!1,this.phoneNumber=Ct.phoneNumber||null,this.photoURL=Ct.photoURL||null,this.isAnonymous=Ct.isAnonymous||!1,this.tenantId=Ct.tenantId||null,this.providerData=Ct.providerData?[...Ct.providerData]:[],this.metadata=new ct(Ct.createdAt||void 0,Ct.lastLoginAt||void 0)}getIdToken(V){var z=this;return(0,c.Z)(function*(){const Oe=yield Ae(z,z.stsTokenManager.getToken(z.auth,V));return q(Oe,z.auth,"internal-error"),z.accessToken!==Oe&&(z.accessToken=Oe,yield z.auth._persistUserIfCurrent(z),z.auth._notifyListenersIfCurrent(z)),Oe})()}getIdTokenResult(V){return function ee(ye){return X.apply(this,arguments)}(this,V)}reload(){return function Ht(ye){return It.apply(this,arguments)}(this)}_assign(V){this!==V&&(q(this.uid===V.uid,this.auth,"internal-error"),this.displayName=V.displayName,this.photoURL=V.photoURL,this.email=V.email,this.emailVerified=V.emailVerified,this.phoneNumber=V.phoneNumber,this.isAnonymous=V.isAnonymous,this.tenantId=V.tenantId,this.providerData=V.providerData.map(z=>Object.assign({},z)),this.metadata._copy(V.metadata),this.stsTokenManager._assign(V.stsTokenManager))}_clone(V){const z=new nn(Object.assign(Object.assign({},this),{auth:V,stsTokenManager:this.stsTokenManager._clone()}));return z.metadata._copy(this.metadata),z}_onReload(V){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=V,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(V){this.reloadListener?this.reloadListener(V):this.reloadUserInfo=V}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(V,z=!1){var Oe=this;return(0,c.Z)(function*(){let At=!1;V.idToken&&V.idToken!==Oe.stsTokenManager.accessToken&&(Oe.stsTokenManager.updateFromServerResponse(V),At=!0),z&&(yield it(Oe)),yield Oe.auth._persistUserIfCurrent(Oe),At&&Oe.auth._notifyListenersIfCurrent(Oe)})()}delete(){var V=this;return(0,c.Z)(function*(){const z=yield V.getIdToken();return yield Ae(V,function Y(ye,V){return se.apply(this,arguments)}(V.auth,{idToken:z})),V.stsTokenManager.clearRefreshToken(),V.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(V=>Object.assign({},V)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(V,z){var Oe,At,Ct,bn,Nn,si,_i,Ni;const Er=null!==(Oe=z.displayName)&&void 0!==Oe?Oe:void 0,ms=null!==(At=z.email)&&void 0!==At?At:void 0,ps=null!==(Ct=z.phoneNumber)&&void 0!==Ct?Ct:void 0,Vd=null!==(bn=z.photoURL)&&void 0!==bn?bn:void 0,Wm=null!==(Nn=z.tenantId)&&void 0!==Nn?Nn:void 0,$f=null!==(si=z._redirectEventId)&&void 0!==si?si:void 0,qf=null!==(_i=z.createdAt)&&void 0!==_i?_i:void 0,Gu=null!==(Ni=z.lastLoginAt)&&void 0!==Ni?Ni:void 0,{uid:Wl,emailVerified:hd,isAnonymous:Hc,providerData:Kd,stsTokenManager:Hu}=z;q(Wl&&Hu,V,"internal-error");const fc=Kt.fromJSON(this.name,Hu);q("string"==typeof Wl,V,"internal-error"),Cn(Er,V.name),Cn(ms,V.name),q("boolean"==typeof hd,V,"internal-error"),q("boolean"==typeof Hc,V,"internal-error"),Cn(ps,V.name),Cn(Vd,V.name),Cn(Wm,V.name),Cn($f,V.name),Cn(qf,V.name),Cn(Gu,V.name);const md=new nn({uid:Wl,auth:V,email:ms,emailVerified:hd,displayName:Er,isAnonymous:Hc,photoURL:Vd,phoneNumber:ps,tenantId:Wm,stsTokenManager:fc,createdAt:qf,lastLoginAt:Gu});return Kd&&Array.isArray(Kd)&&(md.providerData=Kd.map(Jf=>Object.assign({},Jf))),$f&&(md._redirectEventId=$f),md}static _fromIdTokenResponse(V,z,Oe=!1){return(0,c.Z)(function*(){const At=new Kt;At.updateFromServerResponse(z);const Ct=new nn({uid:z.localId,auth:V,stsTokenManager:At,isAnonymous:Oe});return yield it(Ct),Ct})()}}const Dt=new Map;function ft(ye){Fe(ye instanceof Function,"Expected a class definition");let V=Dt.get(ye);return V?(Fe(V instanceof ye,"Instance stored in cache mismatched with class"),V):(V=new ye,Dt.set(ye,V),V)}const De=(()=>{class ye{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(z,Oe){var At=this;return(0,c.Z)(function*(){At.storage[z]=Oe})()}_get(z){var Oe=this;return(0,c.Z)(function*(){const At=Oe.storage[z];return void 0===At?null:At})()}_remove(z){var Oe=this;return(0,c.Z)(function*(){delete Oe.storage[z]})()}_addListener(z,Oe){}_removeListener(z,Oe){}}return ye.type="NONE",ye})();function Pe(ye,V,z){return`firebase:${ye}:${V}:${z}`}class Ye{constructor(V,z,Oe){this.persistence=V,this.auth=z,this.userKey=Oe;const{config:At,name:Ct}=this.auth;this.fullUserKey=Pe(this.userKey,At.apiKey,Ct),this.fullPersistenceKey=Pe("persistence",At.apiKey,Ct),this.boundEventHandler=z._onStorageEvent.bind(z),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(V){return this.persistence._set(this.fullUserKey,V.toJSON())}getCurrentUser(){var V=this;return(0,c.Z)(function*(){const z=yield V.persistence._get(V.fullUserKey);return z?nn._fromJSON(V.auth,z):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(V){var z=this;return(0,c.Z)(function*(){if(z.persistence===V)return;const Oe=yield z.getCurrentUser();return yield z.removeCurrentUser(),z.persistence=V,Oe?z.setCurrentUser(Oe):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(V,z,Oe="authUser"){return(0,c.Z)(function*(){if(!z.length)return new Ye(ft(De),V,Oe);const At=(yield Promise.all(z.map(function(){var _i=(0,c.Z)(function*(Ni){if(yield Ni._isAvailable())return Ni});return function(Ni){return _i.apply(this,arguments)}}()))).filter(_i=>_i);let Ct=At[0]||ft(De);const bn=Pe(Oe,V.config.apiKey,V.name);let Nn=null;for(const _i of z)try{const Ni=yield _i._get(bn);if(Ni){const Er=nn._fromJSON(V,Ni);_i!==Ct&&(Nn=Er),Ct=_i;break}}catch{}const si=At.filter(_i=>_i._shouldAllowMigration);return Ct._shouldAllowMigration&&si.length?(Ct=si[0],Nn&&(yield Ct._set(bn,Nn.toJSON())),yield Promise.all(z.map(function(){var _i=(0,c.Z)(function*(Ni){if(Ni!==Ct)try{yield Ni._remove(bn)}catch{}});return function(Ni){return _i.apply(this,arguments)}}())),new Ye(Ct,V,Oe)):new Ye(Ct,V,Oe)})()}}function $e(ye){const V=ye.toLowerCase();if(V.includes("opera/")||V.includes("opr/")||V.includes("opios/"))return"Opera";if(Ft(V))return"IEMobile";if(V.includes("msie")||V.includes("trident/"))return"IE";if(V.includes("edge/"))return"Edge";if(lt(V))return"Firefox";if(V.includes("silk/"))return"Silk";if(Lt(V))return"Blackberry";if(Jt(V))return"Webos";if(ot(V))return"Safari";if((V.includes("chrome/")||dt(V))&&!V.includes("edge/"))return"Chrome";if($t(V))return"Android";{const Oe=ye.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===Oe?.length)return Oe[1]}return"Other"}function lt(ye=(0,t.z$)()){return/firefox\//i.test(ye)}function ot(ye=(0,t.z$)()){const V=ye.toLowerCase();return V.includes("safari/")&&!V.includes("chrome/")&&!V.includes("crios/")&&!V.includes("android")}function dt(ye=(0,t.z$)()){return/crios\//i.test(ye)}function Ft(ye=(0,t.z$)()){return/iemobile/i.test(ye)}function $t(ye=(0,t.z$)()){return/android/i.test(ye)}function Lt(ye=(0,t.z$)()){return/blackberry/i.test(ye)}function Jt(ye=(0,t.z$)()){return/webos/i.test(ye)}function cn(ye=(0,t.z$)()){return/iphone|ipad|ipod/i.test(ye)||/macintosh/i.test(ye)&&/mobile/i.test(ye)}function mn(ye=(0,t.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(ye)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(ye)}function Yn(ye=(0,t.z$)()){return cn(ye)||$t(ye)||Jt(ye)||Lt(ye)||/windows phone/i.test(ye)||Ft(ye)}function ci(ye,V=[]){let z;switch(ye){case"Browser":z=$e((0,t.z$)());break;case"Worker":z=`${$e((0,t.z$)())}-${ye}`;break;default:z=ye}const Oe=V.length?V.join(","):"FirebaseCore-web";return`${z}/JsCore/${y.SDK_VERSION}/${Oe}`}function _n(){return(_n=(0,c.Z)(function*(ye){return(yield pe(ye,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bt(ye,V){return ut.apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(ye,V){return pe(ye,"GET","/v2/recaptchaConfig",xe(ye,V))})).apply(this,arguments)}function tn(ye){return void 0!==ye&&void 0!==ye.getResponse}function Ze(ye){return void 0!==ye&&void 0!==ye.enterprise}class Xe{constructor(V){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===V.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=V.recaptchaKey.split("/")[3],this.emailPasswordEnabled=V.recaptchaEnforcementState.some(z=>"EMAIL_PASSWORD_PROVIDER"===z.provider&&"OFF"!==z.enforcementState)}}function Qt(ye){return new Promise((V,z)=>{const Oe=document.createElement("script");Oe.setAttribute("src",ye),Oe.onload=V,Oe.onerror=At=>{const Ct=N("internal-error");Ct.customData=At,z(Ct)},Oe.type="text/javascript",Oe.charset="UTF-8",function Pt(){var ye,V;return null!==(V=null===(ye=document.getElementsByTagName("head"))||void 0===ye?void 0:ye[0])&&void 0!==V?V:document}().appendChild(Oe)})}function In(ye){return`__${ye}${Math.floor(1e6*Math.random())}`}class on{constructor(V){this.type="recaptcha-enterprise",this.auth=fn(V)}verify(V="verify",z=!1){var Oe=this;return(0,c.Z)(function*(){function Ct(){return Ct=(0,c.Z)(function*(Nn){if(!z){if(null==Nn.tenantId&&null!=Nn._agentRecaptchaConfig)return Nn._agentRecaptchaConfig.siteKey;if(null!=Nn.tenantId&&void 0!==Nn._tenantRecaptchaConfigs[Nn.tenantId])return Nn._tenantRecaptchaConfigs[Nn.tenantId].siteKey}return new Promise(function(){var si=(0,c.Z)(function*(_i,Ni){bt(Nn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Er=>{if(void 0!==Er.recaptchaKey){const ms=new Xe(Er);return null==Nn.tenantId?Nn._agentRecaptchaConfig=ms:Nn._tenantRecaptchaConfigs[Nn.tenantId]=ms,_i(ms.siteKey)}Ni(new Error("recaptcha Enterprise site key undefined"))}).catch(Er=>{Ni(Er)})});return function(_i,Ni){return si.apply(this,arguments)}}())}),Ct.apply(this,arguments)}function bn(Nn,si,_i){const Ni=window.grecaptcha;Ze(Ni)?Ni.enterprise.ready(()=>{Ni.enterprise.execute(Nn,{action:V}).then(Er=>{si(Er)}).catch(()=>{si("NO_RECAPTCHA")})}):_i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Nn,si)=>{(function At(Nn){return Ct.apply(this,arguments)})(Oe.auth).then(_i=>{if(!z&&Ze(window.grecaptcha))bn(_i,Nn,si);else{if(typeof window>"u")return void si(new Error("RecaptchaVerifier is only supported in browser"));Qt("https://www.google.com/recaptcha/enterprise.js?render="+_i).then(()=>{bn(_i,Nn,si)}).catch(Ni=>{si(Ni)})}}).catch(_i=>{si(_i)})})})()}}function Tn(ye,V,z){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.Z)(function*(ye,V,z,Oe=!1){const At=new on(ye);let Ct;try{Ct=yield At.verify(z)}catch{Ct=yield At.verify(z,!0)}const bn=Object.assign({},V);return Object.assign(bn,Oe?{captchaResp:Ct}:{captchaResponse:Ct}),Object.assign(bn,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(bn,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),bn})).apply(this,arguments)}class ei{constructor(V){this.auth=V,this.queue=[]}pushCallback(V,z){const Oe=Ct=>new Promise((bn,Nn)=>{try{bn(V(Ct))}catch(si){Nn(si)}});Oe.onAbort=z,this.queue.push(Oe);const At=this.queue.length-1;return()=>{this.queue[At]=()=>Promise.resolve()}}runMiddleware(V){var z=this;return(0,c.Z)(function*(){if(z.auth.currentUser===V)return;const Oe=[];try{for(const At of z.queue)yield At(V),At.onAbort&&Oe.push(At.onAbort)}catch(At){Oe.reverse();for(const Ct of Oe)try{Ct()}catch{}throw z.auth._errorFactory.create("login-blocked",{originalMessage:At?.message})}})()}}class Et{constructor(V,z,Oe,At){this.app=V,this.heartbeatServiceProvider=z,this.appCheckServiceProvider=Oe,this.config=At,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new be(this),this.idTokenSubscription=new be(this),this.beforeStateQueue=new ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=V.name,this.clientVersion=At.sdkClientVersion}_initializeWithPersistence(V,z){var Oe=this;return z&&(this._popupRedirectResolver=ft(z)),this._initializationPromise=this.queue((0,c.Z)(function*(){var At,Ct;if(!Oe._deleted&&(Oe.persistenceManager=yield Ye.create(Oe,V),!Oe._deleted)){if(null!==(At=Oe._popupRedirectResolver)&&void 0!==At&&At._shouldInitProactively)try{yield Oe._popupRedirectResolver._initialize(Oe)}catch{}yield Oe.initializeCurrentUser(z),Oe.lastNotifiedUid=(null===(Ct=Oe.currentUser)||void 0===Ct?void 0:Ct.uid)||null,!Oe._deleted&&(Oe._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var V=this;return(0,c.Z)(function*(){if(V._deleted)return;const z=yield V.assertedPersistence.getCurrentUser();if(V.currentUser||z){if(V.currentUser&&z&&V.currentUser.uid===z.uid)return V._currentUser._assign(z),void(yield V.currentUser.getIdToken());yield V._updateCurrentUser(z,!0)}})()}initializeCurrentUser(V){var z=this;return(0,c.Z)(function*(){var Oe;const At=yield z.assertedPersistence.getCurrentUser();let Ct=At,bn=!1;if(V&&z.config.authDomain){yield z.getOrInitRedirectPersistenceManager();const Nn=null===(Oe=z.redirectUser)||void 0===Oe?void 0:Oe._redirectEventId,si=Ct?._redirectEventId,_i=yield z.tryRedirectSignIn(V);(!Nn||Nn===si)&&_i?.user&&(Ct=_i.user,bn=!0)}if(!Ct)return z.directlySetCurrentUser(null);if(!Ct._redirectEventId){if(bn)try{yield z.beforeStateQueue.runMiddleware(Ct)}catch(Nn){Ct=At,z._popupRedirectResolver._overrideRedirectResult(z,()=>Promise.reject(Nn))}return Ct?z.reloadAndSetCurrentUserOrClear(Ct):z.directlySetCurrentUser(null)}return q(z._popupRedirectResolver,z,"argument-error"),yield z.getOrInitRedirectPersistenceManager(),z.redirectUser&&z.redirectUser._redirectEventId===Ct._redirectEventId?z.directlySetCurrentUser(Ct):z.reloadAndSetCurrentUserOrClear(Ct)})()}tryRedirectSignIn(V){var z=this;return(0,c.Z)(function*(){let Oe=null;try{Oe=yield z._popupRedirectResolver._completeRedirectFn(z,V,!0)}catch{yield z._setRedirectUser(null)}return Oe})()}reloadAndSetCurrentUserOrClear(V){var z=this;return(0,c.Z)(function*(){try{yield it(V)}catch(Oe){if("auth/network-request-failed"!==Oe?.code)return z.directlySetCurrentUser(null)}return z.directlySetCurrentUser(V)})()}useDeviceLanguage(){this.languageCode=function oe(){if(typeof navigator>"u")return null;const ye=navigator;return ye.languages&&ye.languages[0]||ye.language||null}()}_delete(){var V=this;return(0,c.Z)(function*(){V._deleted=!0})()}updateCurrentUser(V){var z=this;return(0,c.Z)(function*(){const Oe=V?(0,t.m9)(V):null;return Oe&&q(Oe.auth.config.apiKey===z.config.apiKey,z,"invalid-user-token"),z._updateCurrentUser(Oe&&Oe._clone(z))})()}_updateCurrentUser(V,z=!1){var Oe=this;return(0,c.Z)(function*(){if(!Oe._deleted)return V&&q(Oe.tenantId===V.tenantId,Oe,"tenant-id-mismatch"),z||(yield Oe.beforeStateQueue.runMiddleware(V)),Oe.queue((0,c.Z)(function*(){yield Oe.directlySetCurrentUser(V),Oe.notifyAuthListeners()}))})()}signOut(){var V=this;return(0,c.Z)(function*(){return yield V.beforeStateQueue.runMiddleware(null),(V.redirectPersistenceManager||V._popupRedirectResolver)&&(yield V._setRedirectUser(null)),V._updateCurrentUser(null,!0)})()}setPersistence(V){var z=this;return this.queue((0,c.Z)(function*(){yield z.assertedPersistence.setPersistence(ft(V))}))}initializeRecaptchaConfig(){var V=this;return(0,c.Z)(function*(){const z=yield bt(V,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),Oe=new Xe(z);null==V.tenantId?V._agentRecaptchaConfig=Oe:V._tenantRecaptchaConfigs[V.tenantId]=Oe,Oe.emailPasswordEnabled&&new on(V).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(V){this._errorFactory=new t.LL("auth","Firebase",V())}onAuthStateChanged(V,z,Oe){return this.registerStateListener(this.authStateSubscription,V,z,Oe)}beforeAuthStateChanged(V,z){return this.beforeStateQueue.pushCallback(V,z)}onIdTokenChanged(V,z,Oe){return this.registerStateListener(this.idTokenSubscription,V,z,Oe)}toJSON(){var V;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(V=this._currentUser)||void 0===V?void 0:V.toJSON()}}_setRedirectUser(V,z){var Oe=this;return(0,c.Z)(function*(){const At=yield Oe.getOrInitRedirectPersistenceManager(z);return null===V?At.removeCurrentUser():At.setCurrentUser(V)})()}getOrInitRedirectPersistenceManager(V){var z=this;return(0,c.Z)(function*(){if(!z.redirectPersistenceManager){const Oe=V&&ft(V)||z._popupRedirectResolver;q(Oe,z,"argument-error"),z.redirectPersistenceManager=yield Ye.create(z,[ft(Oe._redirectPersistence)],"redirectUser"),z.redirectUser=yield z.redirectPersistenceManager.getCurrentUser()}return z.redirectPersistenceManager})()}_redirectUserForId(V){var z=this;return(0,c.Z)(function*(){var Oe,At;return z._isInitialized&&(yield z.queue((0,c.Z)(function*(){}))),(null===(Oe=z._currentUser)||void 0===Oe?void 0:Oe._redirectEventId)===V?z._currentUser:(null===(At=z.redirectUser)||void 0===At?void 0:At._redirectEventId)===V?z.redirectUser:null})()}_persistUserIfCurrent(V){var z=this;return(0,c.Z)(function*(){if(V===z.currentUser)return z.queue((0,c.Z)(function*(){return z.directlySetCurrentUser(V)}))})()}_notifyListenersIfCurrent(V){V===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var V,z;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Oe=null!==(z=null===(V=this.currentUser)||void 0===V?void 0:V.uid)&&void 0!==z?z:null;this.lastNotifiedUid!==Oe&&(this.lastNotifiedUid=Oe,this.authStateSubscription.next(this.currentUser))}registerStateListener(V,z,Oe,At){if(this._deleted)return()=>{};const Ct="function"==typeof z?z:z.next.bind(z),bn=this._isInitialized?Promise.resolve():this._initializationPromise;return q(bn,this,"internal-error"),bn.then(()=>Ct(this.currentUser)),"function"==typeof z?V.addObserver(z,Oe,At):V.addObserver(z)}directlySetCurrentUser(V){var z=this;return(0,c.Z)(function*(){z.currentUser&&z.currentUser!==V&&z._currentUser._stopProactiveRefresh(),V&&z.isProactiveRefreshEnabled&&V._startProactiveRefresh(),z.currentUser=V,V?yield z.assertedPersistence.setCurrentUser(V):yield z.assertedPersistence.removeCurrentUser()})()}queue(V){return this.operations=this.operations.then(V,V),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(V){!V||this.frameworks.includes(V)||(this.frameworks.push(V),this.frameworks.sort(),this.clientVersion=ci(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var V=this;return(0,c.Z)(function*(){var z;const Oe={"X-Client-Version":V.clientVersion};V.app.options.appId&&(Oe["X-Firebase-gmpid"]=V.app.options.appId);const At=yield null===(z=V.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===z?void 0:z.getHeartbeatsHeader();At&&(Oe["X-Firebase-Client"]=At);const Ct=yield V._getAppCheckToken();return Ct&&(Oe["X-Firebase-AppCheck"]=Ct),Oe})()}_getAppCheckToken(){var V=this;return(0,c.Z)(function*(){var z;const Oe=yield null===(z=V.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===z?void 0:z.getToken();return Oe?.error&&function M(ye,...V){O.logLevel<=E.in.WARN&&O.warn(`Auth (${y.SDK_VERSION}): ${ye}`,...V)}(`Error while retrieving App Check token: ${Oe.error}`),Oe?.token})()}}function fn(ye){return(0,t.m9)(ye)}class be{constructor(V){this.auth=V,this.observer=null,this.addObserver=(0,t.ne)(z=>this.observer=z)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kt(ye,V,z){const Oe=fn(ye);q(Oe._canInitEmulator,Oe,"emulator-config-failed"),q(/^https?:\/\//.test(V),Oe,"invalid-emulator-scheme");const At=!!z?.disableWarnings,Ct=an(V),{host:bn,port:Nn}=function ti(ye){const V=an(ye),z=/(\/\/)?([^?#/]+)/.exec(ye.substr(V.length));if(!z)return{host:"",port:null};const Oe=z[2].split("@").pop()||"",At=/^(\[[^\]]+\])(:|$)/.exec(Oe);if(At){const Ct=At[1];return{host:Ct,port:hi(Oe.substr(Ct.length+1))}}{const[Ct,bn]=Oe.split(":");return{host:Ct,port:hi(bn)}}}(V);Oe.config.emulator={url:`${Ct}//${bn}${null===Nn?"":`:${Nn}`}/`},Oe.settings.appVerificationDisabledForTesting=!0,Oe.emulatorConfig=Object.freeze({host:bn,port:Nn,protocol:Ct.replace(":",""),options:Object.freeze({disableWarnings:At})}),At||function Li(){function ye(){const V=document.createElement("p"),z=V.style;V.innerText="Running in emulator mode. Do not use with production credentials.",z.position="fixed",z.width="100%",z.backgroundColor="#ffffff",z.border=".1em solid #000000",z.color="#b50000",z.bottom="0px",z.left="0px",z.margin="0px",z.zIndex="10000",z.textAlign="center",V.classList.add("firebase-emulator-warning"),document.body.appendChild(V)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",ye):ye())}()}function an(ye){const V=ye.indexOf(":");return V<0?"":ye.substr(0,V+1)}function hi(ye){if(!ye)return null;const V=Number(ye);return isNaN(V)?null:V}class pr{constructor(V,z){this.providerId=V,this.signInMethod=z}toJSON(){return le("not implemented")}_getIdTokenResponse(V){return le("not implemented")}_linkToIdToken(V,z){return le("not implemented")}_getReauthenticationResolver(V){return le("not implemented")}}function vr(ye,V){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(ye,V){return pe(ye,"POST","/v1/accounts:resetPassword",xe(ye,V))})).apply(this,arguments)}function Hi(ye,V){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(ye,V){return pe(ye,"POST","/v1/accounts:update",V)})).apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(ye,V){return pe(ye,"POST","/v1/accounts:update",xe(ye,V))})).apply(this,arguments)}function Dr(ye,V){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(ye,V){return Ve(ye,"POST","/v1/accounts:signInWithPassword",xe(ye,V))})).apply(this,arguments)}function Yr(ye,V){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(ye,V){return pe(ye,"POST","/v1/accounts:sendOobCode",xe(ye,V))})).apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(ye,V){return Yr(ye,V)})).apply(this,arguments)}function Hr(ye,V){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(ye,V){return Yr(ye,V)})).apply(this,arguments)}function Ro(ye,V){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(ye,V){return Yr(ye,V)})).apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(ye,V){return Yr(ye,V)})).apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(ye,V){return Ve(ye,"POST","/v1/accounts:signInWithEmailLink",xe(ye,V))})).apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(ye,V){return Ve(ye,"POST","/v1/accounts:signInWithEmailLink",xe(ye,V))})).apply(this,arguments)}class Rr extends pr{constructor(V,z,Oe,At=null){super("password",Oe),this._email=V,this._password=z,this._tenantId=At}static _fromEmailAndPassword(V,z){return new Rr(V,z,"password")}static _fromEmailAndCode(V,z,Oe=null){return new Rr(V,z,"emailLink",Oe)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(V){const z="string"==typeof V?JSON.parse(V):V;if(z?.email&&z?.password){if("password"===z.signInMethod)return this._fromEmailAndPassword(z.email,z.password);if("emailLink"===z.signInMethod)return this._fromEmailAndCode(z.email,z.password,z.tenantId)}return null}_getIdTokenResponse(V){var z=this;return(0,c.Z)(function*(){var Oe;switch(z.signInMethod){case"password":const At={returnSecureToken:!0,email:z._email,password:z._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(Oe=V._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const Ct=yield Tn(V,At,"signInWithPassword");return Dr(V,Ct)}return Dr(V,At).catch(function(){var Ct=(0,c.Z)(function*(bn){if("auth/missing-recaptcha-token"===bn.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Nn=yield Tn(V,At,"signInWithPassword");return Dr(V,Nn)}return Promise.reject(bn)});return function(bn){return Ct.apply(this,arguments)}}());case"emailLink":return function wi(ye,V){return zi.apply(this,arguments)}(V,{email:z._email,oobCode:z._password});default:T(V,"internal-error")}})()}_linkToIdToken(V,z){var Oe=this;return(0,c.Z)(function*(){switch(Oe.signInMethod){case"password":return Hi(V,{idToken:z,returnSecureToken:!0,email:Oe._email,password:Oe._password});case"emailLink":return function ro(ye,V){return xr.apply(this,arguments)}(V,{idToken:z,email:Oe._email,oobCode:Oe._password});default:T(V,"internal-error")}})()}_getReauthenticationResolver(V){return this._getIdTokenResponse(V)}}function qt(ye,V){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(ye,V){return Ve(ye,"POST","/v1/accounts:signInWithIdp",xe(ye,V))})).apply(this,arguments)}class Kn extends pr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(V){const z=new Kn(V.providerId,V.signInMethod);return V.idToken||V.accessToken?(V.idToken&&(z.idToken=V.idToken),V.accessToken&&(z.accessToken=V.accessToken),V.nonce&&!V.pendingToken&&(z.nonce=V.nonce),V.pendingToken&&(z.pendingToken=V.pendingToken)):V.oauthToken&&V.oauthTokenSecret?(z.accessToken=V.oauthToken,z.secret=V.oauthTokenSecret):T("argument-error"),z}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(V){const z="string"==typeof V?JSON.parse(V):V,{providerId:Oe,signInMethod:At}=z,Ct=(0,w._T)(z,["providerId","signInMethod"]);if(!Oe||!At)return null;const bn=new Kn(Oe,At);return bn.idToken=Ct.idToken||void 0,bn.accessToken=Ct.accessToken||void 0,bn.secret=Ct.secret,bn.nonce=Ct.nonce,bn.pendingToken=Ct.pendingToken||null,bn}_getIdTokenResponse(V){return qt(V,this.buildRequest())}_linkToIdToken(V,z){const Oe=this.buildRequest();return Oe.idToken=z,qt(V,Oe)}_getReauthenticationResolver(V){const z=this.buildRequest();return z.autoCreate=!1,qt(V,z)}buildRequest(){const V={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)V.pendingToken=this.pendingToken;else{const z={};this.idToken&&(z.id_token=this.idToken),this.accessToken&&(z.access_token=this.accessToken),this.secret&&(z.oauth_token_secret=this.secret),z.providerId=this.providerId,this.nonce&&!this.pendingToken&&(z.nonce=this.nonce),V.postBody=(0,t.xO)(z)}return V}}function Oi(){return(Oi=(0,c.Z)(function*(ye,V){return pe(ye,"POST","/v1/accounts:sendVerificationCode",xe(ye,V))})).apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(ye,V){return Ve(ye,"POST","/v1/accounts:signInWithPhoneNumber",xe(ye,V))})).apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(ye,V){const z=yield Ve(ye,"POST","/v1/accounts:signInWithPhoneNumber",xe(ye,V));if(z.temporaryProof)throw Te(ye,"account-exists-with-different-credential",z);return z})).apply(this,arguments)}const oo={USER_NOT_FOUND:"user-not-found"};function as(){return(as=(0,c.Z)(function*(ye,V){return Ve(ye,"POST","/v1/accounts:signInWithPhoneNumber",xe(ye,Object.assign(Object.assign({},V),{operation:"REAUTH"})),oo)})).apply(this,arguments)}class Nr extends pr{constructor(V){super("phone","phone"),this.params=V}static _fromVerification(V,z){return new Nr({verificationId:V,verificationCode:z})}static _fromTokenResponse(V,z){return new Nr({phoneNumber:V,temporaryProof:z})}_getIdTokenResponse(V){return function Ui(ye,V){return Ri.apply(this,arguments)}(V,this._makeVerificationRequest())}_linkToIdToken(V,z){return function yr(ye,V){return wr.apply(this,arguments)}(V,Object.assign({idToken:z},this._makeVerificationRequest()))}_getReauthenticationResolver(V){return function po(ye,V){return as.apply(this,arguments)}(V,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:V,phoneNumber:z,verificationId:Oe,verificationCode:At}=this.params;return V&&z?{temporaryProof:V,phoneNumber:z}:{sessionInfo:Oe,code:At}}toJSON(){const V={providerId:this.providerId};return this.params.phoneNumber&&(V.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(V.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(V.verificationCode=this.params.verificationCode),this.params.verificationId&&(V.verificationId=this.params.verificationId),V}static fromJSON(V){"string"==typeof V&&(V=JSON.parse(V));const{verificationId:z,verificationCode:Oe,phoneNumber:At,temporaryProof:Ct}=V;return Oe||z||At||Ct?new Nr({verificationId:z,verificationCode:Oe,phoneNumber:At,temporaryProof:Ct}):null}}class gr{constructor(V){var z,Oe,At,Ct,bn,Nn;const si=(0,t.zd)((0,t.pd)(V)),_i=null!==(z=si.apiKey)&&void 0!==z?z:null,Ni=null!==(Oe=si.oobCode)&&void 0!==Oe?Oe:null,Er=function jr(ye){switch(ye){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(At=si.mode)&&void 0!==At?At:null);q(_i&&Ni&&Er,"argument-error"),this.apiKey=_i,this.operation=Er,this.code=Ni,this.continueUrl=null!==(Ct=si.continueUrl)&&void 0!==Ct?Ct:null,this.languageCode=null!==(bn=si.languageCode)&&void 0!==bn?bn:null,this.tenantId=null!==(Nn=si.tenantId)&&void 0!==Nn?Nn:null}static parseLink(V){const z=function Uo(ye){const V=(0,t.zd)((0,t.pd)(ye)).link,z=V?(0,t.zd)((0,t.pd)(V)).deep_link_id:null,Oe=(0,t.zd)((0,t.pd)(ye)).deep_link_id;return(Oe?(0,t.zd)((0,t.pd)(Oe)).link:null)||Oe||z||V||ye}(V);try{return new gr(z)}catch{return null}}}let oa=(()=>{class ye{constructor(){this.providerId=ye.PROVIDER_ID}static credential(z,Oe){return Rr._fromEmailAndPassword(z,Oe)}static credentialWithLink(z,Oe){const At=gr.parseLink(Oe);return q(At,"argument-error"),Rr._fromEmailAndCode(z,At.code,At.tenantId)}}return ye.PROVIDER_ID="password",ye.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ye.EMAIL_LINK_SIGN_IN_METHOD="emailLink",ye})();class xo{constructor(V){this.providerId=V,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(V){this.defaultLanguageCode=V}setCustomParameters(V){return this.customParameters=V,this}getCustomParameters(){return this.customParameters}}class vs extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(V){return this.scopes.includes(V)||this.scopes.push(V),this}getScopes(){return[...this.scopes]}}class so extends vs{static credentialFromJSON(V){const z="string"==typeof V?JSON.parse(V):V;return q("providerId"in z&&"signInMethod"in z,"argument-error"),Kn._fromParams(z)}credential(V){return this._credential(Object.assign(Object.assign({},V),{nonce:V.rawNonce}))}_credential(V){return q(V.idToken||V.accessToken,"argument-error"),Kn._fromParams(Object.assign(Object.assign({},V),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(V){return so.oauthCredentialFromTaggedObject(V)}static credentialFromError(V){return so.oauthCredentialFromTaggedObject(V.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:V}){if(!V)return null;const{oauthIdToken:z,oauthAccessToken:Oe,oauthTokenSecret:At,pendingToken:Ct,nonce:bn,providerId:Nn}=V;if(!Oe&&!At&&!z&&!Ct||!Nn)return null;try{return new so(Nn)._credential({idToken:z,accessToken:Oe,nonce:bn,pendingToken:Ct})}catch{return null}}}let Go=(()=>{class ye extends vs{constructor(){super("facebook.com")}static credential(z){return Kn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.FACEBOOK_SIGN_IN_METHOD,accessToken:z})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z||!("oauthAccessToken"in z)||!z.oauthAccessToken)return null;try{return ye.credential(z.oauthAccessToken)}catch{return null}}}return ye.FACEBOOK_SIGN_IN_METHOD="facebook.com",ye.PROVIDER_ID="facebook.com",ye})(),es=(()=>{class ye extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(z,Oe){return Kn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.GOOGLE_SIGN_IN_METHOD,idToken:z,accessToken:Oe})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{oauthIdToken:Oe,oauthAccessToken:At}=z;if(!Oe&&!At)return null;try{return ye.credential(Oe,At)}catch{return null}}}return ye.GOOGLE_SIGN_IN_METHOD="google.com",ye.PROVIDER_ID="google.com",ye})(),ls=(()=>{class ye extends vs{constructor(){super("github.com")}static credential(z){return Kn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.GITHUB_SIGN_IN_METHOD,accessToken:z})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z||!("oauthAccessToken"in z)||!z.oauthAccessToken)return null;try{return ye.credential(z.oauthAccessToken)}catch{return null}}}return ye.GITHUB_SIGN_IN_METHOD="github.com",ye.PROVIDER_ID="github.com",ye})();class Ho extends pr{constructor(V,z){super(V,V),this.pendingToken=z}_getIdTokenResponse(V){return qt(V,this.buildRequest())}_linkToIdToken(V,z){const Oe=this.buildRequest();return Oe.idToken=z,qt(V,Oe)}_getReauthenticationResolver(V){const z=this.buildRequest();return z.autoCreate=!1,qt(V,z)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(V){const z="string"==typeof V?JSON.parse(V):V,{providerId:Oe,signInMethod:At,pendingToken:Ct}=z;return Oe&&At&&Ct&&Oe===At?new Ho(Oe,Ct):null}static _create(V,z){return new Ho(V,z)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class br extends xo{constructor(V){q(V.startsWith("saml."),"argument-error"),super(V)}static credentialFromResult(V){return br.samlCredentialFromTaggedObject(V)}static credentialFromError(V){return br.samlCredentialFromTaggedObject(V.customData||{})}static credentialFromJSON(V){const z=Ho.fromJSON(V);return q(z,"argument-error"),z}static samlCredentialFromTaggedObject({_tokenResponse:V}){if(!V)return null;const{pendingToken:z,providerId:Oe}=V;if(!z||!Oe)return null;try{return Ho._create(Oe,z)}catch{return null}}}let cr=(()=>{class ye extends vs{constructor(){super("twitter.com")}static credential(z,Oe){return Kn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.TWITTER_SIGN_IN_METHOD,oauthToken:z,oauthTokenSecret:Oe})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{oauthAccessToken:Oe,oauthTokenSecret:At}=z;if(!Oe||!At)return null;try{return ye.credential(Oe,At)}catch{return null}}}return ye.TWITTER_SIGN_IN_METHOD="twitter.com",ye.PROVIDER_ID="twitter.com",ye})();function eo(ye,V){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(ye,V){return Ve(ye,"POST","/v1/accounts:signUp",xe(ye,V))})).apply(this,arguments)}class dr{constructor(V){this.user=V.user,this.providerId=V.providerId,this._tokenResponse=V._tokenResponse,this.operationType=V.operationType}static _fromIdTokenResponse(V,z,Oe,At=!1){return(0,c.Z)(function*(){const Ct=yield nn._fromIdTokenResponse(V,Oe,At),bn=or(Oe);return new dr({user:Ct,providerId:bn,_tokenResponse:Oe,operationType:z})})()}static _forOperation(V,z,Oe){return(0,c.Z)(function*(){yield V._updateTokensIfNecessary(Oe,!0);const At=or(Oe);return new dr({user:V,providerId:At,_tokenResponse:Oe,operationType:z})})()}}function or(ye){return ye.providerId?ye.providerId:"phoneNumber"in ye?"phone":null}function ys(ye){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(ye){var V;const z=fn(ye);if(yield z._initializationPromise,null!==(V=z.currentUser)&&void 0!==V&&V.isAnonymous)return new dr({user:z.currentUser,providerId:null,operationType:"signIn"});const Oe=yield eo(z,{returnSecureToken:!0}),At=yield dr._fromIdTokenResponse(z,"signIn",Oe,!0);return yield z._updateCurrentUser(At.user),At})).apply(this,arguments)}class Zs extends t.ZR{constructor(V,z,Oe,At){var Ct;super(z.code,z.message),this.operationType=Oe,this.user=At,Object.setPrototypeOf(this,Zs.prototype),this.customData={appName:V.name,tenantId:null!==(Ct=V.tenantId)&&void 0!==Ct?Ct:void 0,_serverResponse:z.customData._serverResponse,operationType:Oe}}static _fromErrorAndOperation(V,z,Oe,At){return new Zs(V,z,Oe,At)}}function Ns(ye,V,z,Oe){return("reauthenticate"===V?z._getReauthenticationResolver(ye):z._getIdTokenResponse(ye)).catch(Ct=>{throw"auth/multi-factor-auth-required"===Ct.code?Zs._fromErrorAndOperation(ye,Ct,V,Oe):Ct})}function cs(ye){return new Set(ye.map(({providerId:V})=>V).filter(V=>!!V))}function bs(ye,V){return sa.apply(this,arguments)}function sa(){return sa=(0,c.Z)(function*(ye,V){const z=(0,t.m9)(ye);yield _r(!0,z,V);const{providerUserInfo:Oe}=yield function _e(ye,V){return J.apply(this,arguments)}(z.auth,{idToken:yield z.getIdToken(),deleteProvider:[V]}),At=cs(Oe||[]);return z.providerData=z.providerData.filter(Ct=>At.has(Ct.providerId)),At.has("phone")||(z.phoneNumber=null),yield z.auth._persistUserIfCurrent(z),z}),sa.apply(this,arguments)}function Pr(ye,V){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(ye,V,z=!1){const Oe=yield Ae(ye,V._linkToIdToken(ye.auth,yield ye.getIdToken()),z);return dr._forOperation(ye,"link",Oe)})).apply(this,arguments)}function _r(ye,V,z){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(ye,V,z){yield it(V);const At=!1===ye?"provider-already-linked":"no-such-provider";q(cs(V.providerData).has(z)===ye,V.auth,At)})).apply(this,arguments)}function ns(ye,V){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(ye,V,z=!1){const{auth:Oe}=ye,At="reauthenticate";try{const Ct=yield Ae(ye,Ns(Oe,At,V,ye),z);q(Ct.idToken,Oe,"internal-error");const bn=ve(Ct.idToken);q(bn,Oe,"internal-error");const{sub:Nn}=bn;return q(ye.uid===Nn,Oe,"user-mismatch"),dr._forOperation(ye,At,Ct)}catch(Ct){throw"auth/user-not-found"===Ct?.code&&T(Oe,"user-mismatch"),Ct}})).apply(this,arguments)}function Zr(ye,V){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(ye,V,z=!1){const At=yield Ns(ye,"signIn",V),Ct=yield dr._fromIdTokenResponse(ye,"signIn",At);return z||(yield ye._updateCurrentUser(Ct.user)),Ct})).apply(this,arguments)}function Lr(ye,V){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(ye,V){return Zr(fn(ye),V)})).apply(this,arguments)}function $s(ye,V){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(ye,V){const z=(0,t.m9)(ye);return yield _r(!1,z,V.providerId),Pr(z,V)})).apply(this,arguments)}function ks(ye,V){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(ye,V){return ns((0,t.m9)(ye),V)})).apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(ye,V){return Ve(ye,"POST","/v1/accounts:signInWithCustomToken",xe(ye,V))})).apply(this,arguments)}function ht(ye,V){return qe.apply(this,arguments)}function qe(){return qe=(0,c.Z)(function*(ye,V){const z=fn(ye),Oe=yield function gn(ye,V){return nt.apply(this,arguments)}(z,{token:V,returnSecureToken:!0}),At=yield dr._fromIdTokenResponse(z,"signIn",Oe);return yield z._updateCurrentUser(At.user),At}),qe.apply(this,arguments)}class wt{constructor(V,z){this.factorId=V,this.uid=z.mfaEnrollmentId,this.enrollmentTime=new Date(z.enrolledAt).toUTCString(),this.displayName=z.displayName}static _fromServerResponse(V,z){return"phoneInfo"in z?sn._fromServerResponse(V,z):"totpInfo"in z?li._fromServerResponse(V,z):T(V,"internal-error")}}class sn extends wt{constructor(V){super("phone",V),this.phoneNumber=V.phoneInfo}static _fromServerResponse(V,z){return new sn(z)}}class li extends wt{constructor(V){super("totp",V)}static _fromServerResponse(V,z){return new li(z)}}function Ai(ye,V,z){var Oe;q((null===(Oe=z.url)||void 0===Oe?void 0:Oe.length)>0,ye,"invalid-continue-uri"),q(typeof z.dynamicLinkDomain>"u"||z.dynamicLinkDomain.length>0,ye,"invalid-dynamic-link-domain"),V.continueUrl=z.url,V.dynamicLinkDomain=z.dynamicLinkDomain,V.canHandleCodeInApp=z.handleCodeInApp,z.iOS&&(q(z.iOS.bundleId.length>0,ye,"missing-ios-bundle-id"),V.iOSBundleId=z.iOS.bundleId),z.android&&(q(z.android.packageName.length>0,ye,"missing-android-pkg-name"),V.androidInstallApp=z.android.installApp,V.androidMinimumVersionCode=z.android.minimumVersion,V.androidPackageName=z.android.packageName)}function yo(ye,V,z){return ds.apply(this,arguments)}function ds(){return ds=(0,c.Z)(function*(ye,V,z){var Oe;const At=fn(ye),Ct={requestType:"PASSWORD_RESET",email:V,clientType:"CLIENT_TYPE_WEB"};if(null!==(Oe=At._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const bn=yield Tn(At,Ct,"getOobCode",!0);z&&Ai(At,bn,z),yield Hr(At,bn)}else z&&Ai(At,Ct,z),yield Hr(At,Ct).catch(function(){var bn=(0,c.Z)(function*(Nn){if("auth/missing-recaptcha-token"!==Nn.code)return Promise.reject(Nn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const si=yield Tn(At,Ct,"getOobCode",!0);z&&Ai(At,si,z),yield Hr(At,si)}});return function(Nn){return bn.apply(this,arguments)}}())}),ds.apply(this,arguments)}function is(ye,V,z){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(ye,V,z){yield vr((0,t.m9)(ye),{oobCode:V,newPassword:z})})).apply(this,arguments)}function Es(ye,V){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,c.Z)(function*(ye,V){yield function Bo(ye,V){return xi.apply(this,arguments)}((0,t.m9)(ye),{oobCode:V})}),Sr.apply(this,arguments)}function Io(ye,V){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(ye,V){const z=(0,t.m9)(ye),Oe=yield vr(z,{oobCode:V}),At=Oe.requestType;switch(q(At,z,"internal-error"),At){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(Oe.newEmail,z,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(Oe.mfaInfo,z,"internal-error");default:q(Oe.email,z,"internal-error")}let Ct=null;return Oe.mfaInfo&&(Ct=wt._fromServerResponse(fn(z),Oe.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Oe.requestType?Oe.newEmail:Oe.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Oe.requestType?Oe.email:Oe.newEmail)||null,multiFactorInfo:Ct},operation:At}})).apply(this,arguments)}function wa(ye,V){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(ye,V){const{data:z}=yield Io((0,t.m9)(ye),V);return z.email})).apply(this,arguments)}function Ts(ye,V,z){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,c.Z)(function*(ye,V,z){var Oe;const At=fn(ye),Ct={returnSecureToken:!0,email:V,password:z,clientType:"CLIENT_TYPE_WEB"};let bn;if(null!==(Oe=At._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const _i=yield Tn(At,Ct,"signUpPassword");bn=eo(At,_i)}else bn=eo(At,Ct).catch(function(){var _i=(0,c.Z)(function*(Ni){if("auth/missing-recaptcha-token"===Ni.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Er=yield Tn(At,Ct,"signUpPassword");return eo(At,Er)}return Promise.reject(Ni)});return function(Ni){return _i.apply(this,arguments)}}());const Nn=yield bn.catch(_i=>Promise.reject(_i)),si=yield dr._fromIdTokenResponse(At,"signIn",Nn);return yield At._updateCurrentUser(si.user),si}),Pa.apply(this,arguments)}function Qa(ye,V,z){return Lr((0,t.m9)(ye),oa.credential(V,z))}function Xa(ye,V,z){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,c.Z)(function*(ye,V,z){var Oe;const At=fn(ye),Ct={requestType:"EMAIL_SIGNIN",email:V,clientType:"CLIENT_TYPE_WEB"};function bn(Nn,si){q(si.handleCodeInApp,At,"argument-error"),si&&Ai(At,Nn,si)}if(null!==(Oe=At._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const Nn=yield Tn(At,Ct,"getOobCode",!0);bn(Nn,z),yield Ro(At,Nn)}else bn(Ct,z),yield Ro(At,Ct).catch(function(){var Nn=(0,c.Z)(function*(si){if("auth/missing-recaptcha-token"!==si.code)return Promise.reject(si);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const _i=yield Tn(At,Ct,"getOobCode",!0);bn(_i,z),yield Ro(At,_i)}});return function(si){return Nn.apply(this,arguments)}}())}),Fs.apply(this,arguments)}function Pl(ye,V){const z=gr.parseLink(V);return"EMAIL_SIGNIN"===z?.operation}function el(ye,V,z){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(ye,V,z){const Oe=(0,t.m9)(ye),At=oa.credentialWithLink(V,z||$());return q(At._tenantId===(Oe.tenantId||null),Oe,"tenant-id-mismatch"),Lr(Oe,At)})).apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(ye,V){return pe(ye,"POST","/v1/accounts:createAuthUri",xe(ye,V))})).apply(this,arguments)}function Sc(ye,V){return aa.apply(this,arguments)}function aa(){return aa=(0,c.Z)(function*(ye,V){const Oe={identifier:V,continueUri:ae()?$():"http://localhost"},{signinMethods:At}=yield function Ol(ye,V){return tl.apply(this,arguments)}((0,t.m9)(ye),Oe);return At||[]}),aa.apply(this,arguments)}function la(ye,V){return Js.apply(this,arguments)}function Js(){return Js=(0,c.Z)(function*(ye,V){const z=(0,t.m9)(ye),At={requestType:"VERIFY_EMAIL",idToken:yield ye.getIdToken()};V&&Ai(z.auth,At,V);const{email:Ct}=yield function Xo(ye,V){return Ao.apply(this,arguments)}(z.auth,At);Ct!==ye.email&&(yield ye.reload())}),Js.apply(this,arguments)}function Oa(ye,V,z){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,c.Z)(function*(ye,V,z){const Oe=(0,t.m9)(ye),Ct={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield ye.getIdToken(),newEmail:V};z&&Ai(Oe.auth,Ct,z);const{email:bn}=yield function oi(ye,V){return ki.apply(this,arguments)}(Oe.auth,Ct);bn!==ye.email&&(yield ye.reload())}),Bs.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(ye,V){return pe(ye,"POST","/v1/accounts:update",V)})).apply(this,arguments)}function bo(ye,V){return nl.apply(this,arguments)}function nl(){return nl=(0,c.Z)(function*(ye,{displayName:V,photoURL:z}){if(void 0===V&&void 0===z)return;const Oe=(0,t.m9)(ye),Ct={idToken:yield Oe.getIdToken(),displayName:V,photoUrl:z,returnSecureToken:!0},bn=yield Ae(Oe,function Ra(ye,V){return va.apply(this,arguments)}(Oe.auth,Ct));Oe.displayName=bn.displayName||null,Oe.photoURL=bn.photoUrl||null;const Nn=Oe.providerData.find(({providerId:si})=>"password"===si);Nn&&(Nn.displayName=Oe.displayName,Nn.photoURL=Oe.photoURL),yield Oe._updateTokensIfNecessary(bn)}),nl.apply(this,arguments)}function qr(ye,V){return rl((0,t.m9)(ye),V,null)}function il(ye,V){return rl((0,t.m9)(ye),null,V)}function rl(ye,V,z){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(ye,V,z){const{auth:Oe}=ye,Ct={idToken:yield ye.getIdToken(),returnSecureToken:!0};V&&(Ct.email=V),z&&(Ct.password=z);const bn=yield Ae(ye,Hi(Oe,Ct));yield ye._updateTokensIfNecessary(bn,!0)})).apply(this,arguments)}class Mi{constructor(V,z,Oe={}){this.isNewUser=V,this.providerId=z,this.profile=Oe}}class wn extends Mi{constructor(V,z,Oe,At){super(V,z,Oe),this.username=At}}class Eo extends Mi{constructor(V,z){super(V,"facebook.com",z)}}class Ie extends wn{constructor(V,z){super(V,"github.com",z,"string"==typeof z?.login?z?.login:null)}}class xt extends Mi{constructor(V,z){super(V,"google.com",z)}}class rt extends wn{constructor(V,z,Oe){super(V,"twitter.com",z,Oe)}}function Mt(ye){const{user:V,_tokenResponse:z}=ye;return V.isAnonymous&&!z?{providerId:null,isNewUser:!1,profile:null}:function Rt(ye){var V,z;if(!ye)return null;const{providerId:Oe}=ye,At=ye.rawUserInfo?JSON.parse(ye.rawUserInfo):{},Ct=ye.isNewUser||"identitytoolkit#SignupNewUserResponse"===ye.kind;if(!Oe&&ye?.idToken){const bn=null===(z=null===(V=ve(ye.idToken))||void 0===V?void 0:V.firebase)||void 0===z?void 0:z.sign_in_provider;if(bn)return new Mi(Ct,"anonymous"!==bn&&"custom"!==bn?bn:null)}if(!Oe)return null;switch(Oe){case"facebook.com":return new Eo(Ct,At);case"github.com":return new Ie(Ct,At);case"google.com":return new xt(Ct,At);case"twitter.com":return new rt(Ct,At,ye.screenName||null);case"custom":case"anonymous":return new Mi(Ct,null);default:return new Mi(Ct,Oe,At)}}(z)}class Cr{constructor(V,z,Oe){this.type=V,this.credential=z,this.auth=Oe}static _fromIdtoken(V,z){return new Cr("enroll",V,z)}static _fromMfaPendingCredential(V){return new Cr("signin",V)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(V){var z,Oe;if(V?.multiFactorSession){if(null!==(z=V.multiFactorSession)&&void 0!==z&&z.pendingCredential)return Cr._fromMfaPendingCredential(V.multiFactorSession.pendingCredential);if(null!==(Oe=V.multiFactorSession)&&void 0!==Oe&&Oe.idToken)return Cr._fromIdtoken(V.multiFactorSession.idToken)}return null}}class Ko{constructor(V,z,Oe){this.session=V,this.hints=z,this.signInResolver=Oe}static _fromError(V,z){const Oe=fn(V),At=z.customData._serverResponse,Ct=(At.mfaInfo||[]).map(Nn=>wt._fromServerResponse(Oe,Nn));q(At.mfaPendingCredential,Oe,"internal-error");const bn=Cr._fromMfaPendingCredential(At.mfaPendingCredential);return new Ko(bn,Ct,function(){var Nn=(0,c.Z)(function*(si){const _i=yield si._process(Oe,bn);delete At.mfaInfo,delete At.mfaPendingCredential;const Ni=Object.assign(Object.assign({},At),{idToken:_i.idToken,refreshToken:_i.refreshToken});switch(z.operationType){case"signIn":const Er=yield dr._fromIdTokenResponse(Oe,z.operationType,Ni);return yield Oe._updateCurrentUser(Er.user),Er;case"reauthenticate":return q(z.user,Oe,"internal-error"),dr._forOperation(z.user,z.operationType,Ni);default:T(Oe,"internal-error")}});return function(si){return Nn.apply(this,arguments)}}())}resolveSignIn(V){var z=this;return(0,c.Z)(function*(){return z.signInResolver(V)})()}}function Di(ye,V){var z;const Oe=(0,t.m9)(ye),At=V;return q(V.customData.operationType,Oe,"argument-error"),q(null===(z=At.customData._serverResponse)||void 0===z?void 0:z.mfaPendingCredential,Oe,"argument-error"),Ko._fromError(Oe,At)}class Rl{constructor(V){this.user=V,this.enrolledFactors=[],V._onReload(z=>{z.mfaInfo&&(this.enrolledFactors=z.mfaInfo.map(Oe=>wt._fromServerResponse(V.auth,Oe)))})}static _fromUser(V){return new Rl(V)}getSession(){var V=this;return(0,c.Z)(function*(){return Cr._fromIdtoken(yield V.user.getIdToken(),V.user.auth)})()}enroll(V,z){var Oe=this;return(0,c.Z)(function*(){const At=V,Ct=yield Oe.getSession(),bn=yield Ae(Oe.user,At._process(Oe.user.auth,Ct,z));return yield Oe.user._updateTokensIfNecessary(bn),Oe.user.reload()})()}unenroll(V){var z=this;return(0,c.Z)(function*(){const Oe="string"==typeof V?V:V.uid,At=yield z.user.getIdToken();try{const Ct=yield Ae(z.user,function Cs(ye,V){return pe(ye,"POST","/v2/accounts/mfaEnrollment:withdraw",xe(ye,V))}(z.user.auth,{idToken:At,mfaEnrollmentId:Oe}));z.enrolledFactors=z.enrolledFactors.filter(({uid:bn})=>bn!==Oe),yield z.user._updateTokensIfNecessary(Ct),yield z.user.reload()}catch(Ct){throw Ct}})()}}const Ds=new WeakMap;function kr(ye){const V=(0,t.m9)(ye);return Ds.has(V)||Ds.set(V,Rl._fromUser(V)),Ds.get(V)}const To="__sak";class Cc{constructor(V,z){this.storageRetriever=V,this.type=z}_isAvailable(){try{return this.storage?(this.storage.setItem(To,"1"),this.storage.removeItem(To),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(V,z){return this.storage.setItem(V,JSON.stringify(z)),Promise.resolve()}_get(V){const z=this.storage.getItem(V);return Promise.resolve(z?JSON.parse(z):null)}_remove(V){return this.storage.removeItem(V),Promise.resolve()}get storage(){return this.storageRetriever()}}const ol=(()=>{class ye extends Cc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(z,Oe)=>this.onStorageEvent(z,Oe),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dc(){const ye=(0,t.z$)();return ot(ye)||cn(ye)}()&&function Vn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yn(),this._shouldAllowMigration=!0}forAllChangedKeys(z){for(const Oe of Object.keys(this.listeners)){const At=this.storage.getItem(Oe),Ct=this.localCache[Oe];At!==Ct&&z(Oe,Ct,At)}}onStorageEvent(z,Oe=!1){if(!z.key)return void this.forAllChangedKeys((Nn,si,_i)=>{this.notifyListeners(Nn,_i)});const At=z.key;if(Oe?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Nn=this.storage.getItem(At);if(z.newValue!==Nn)null!==z.newValue?this.storage.setItem(At,z.newValue):this.storage.removeItem(At);else if(this.localCache[At]===z.newValue&&!Oe)return}const Ct=()=>{const Nn=this.storage.getItem(At);!Oe&&this.localCache[At]===Nn||this.notifyListeners(At,Nn)},bn=this.storage.getItem(At);!function Ln(){return(0,t.w1)()&&10===document.documentMode}()||bn===z.newValue||z.newValue===z.oldValue?Ct():setTimeout(Ct,10)}notifyListeners(z,Oe){this.localCache[z]=Oe;const At=this.listeners[z];if(At)for(const Ct of Array.from(At))Ct(Oe&&JSON.parse(Oe))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((z,Oe,At)=>{this.onStorageEvent(new StorageEvent("storage",{key:z,oldValue:Oe,newValue:At}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(z,Oe){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[z]||(this.listeners[z]=new Set,this.localCache[z]=this.storage.getItem(z)),this.listeners[z].add(Oe)}_removeListener(z,Oe){this.listeners[z]&&(this.listeners[z].delete(Oe),0===this.listeners[z].size&&delete this.listeners[z]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(z,Oe){var At=()=>super._set,Ct=this;return(0,c.Z)(function*(){yield At().call(Ct,z,Oe),Ct.localCache[z]=JSON.stringify(Oe)})()}_get(z){var Oe=()=>super._get,At=this;return(0,c.Z)(function*(){const Ct=yield Oe().call(At,z);return At.localCache[z]=JSON.stringify(Ct),Ct})()}_remove(z){var Oe=()=>super._remove,At=this;return(0,c.Z)(function*(){yield Oe().call(At,z),delete At.localCache[z]})()}}return ye.type="LOCAL",ye})(),uo=(()=>{class ye extends Cc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(z,Oe){}_removeListener(z,Oe){}}return ye.type="SESSION",ye})();let sl=(()=>{class ye{constructor(z){this.eventTarget=z,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(z){const Oe=this.receivers.find(Ct=>Ct.isListeningto(z));if(Oe)return Oe;const At=new ye(z);return this.receivers.push(At),At}isListeningto(z){return this.eventTarget===z}handleEvent(z){var Oe=this;return(0,c.Z)(function*(){const At=z,{eventId:Ct,eventType:bn,data:Nn}=At.data,si=Oe.handlersMap[bn];if(!si?.size)return;At.ports[0].postMessage({status:"ack",eventId:Ct,eventType:bn});const _i=Array.from(si).map(function(){var Er=(0,c.Z)(function*(ms){return ms(At.origin,Nn)});return function(ms){return Er.apply(this,arguments)}}()),Ni=yield function Na(ye){return Promise.all(ye.map(function(){var V=(0,c.Z)(function*(z){try{return{fulfilled:!0,value:yield z}}catch(Oe){return{fulfilled:!1,reason:Oe}}});return function(z){return V.apply(this,arguments)}}()))}(_i);At.ports[0].postMessage({status:"done",eventId:Ct,eventType:bn,response:Ni})})()}_subscribe(z,Oe){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[z]||(this.handlersMap[z]=new Set),this.handlersMap[z].add(Oe)}_unsubscribe(z,Oe){this.handlersMap[z]&&Oe&&this.handlersMap[z].delete(Oe),(!Oe||0===this.handlersMap[z].size)&&delete this.handlersMap[z],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return ye.receivers=[],ye})();function wo(ye="",V=10){let z="";for(let Oe=0;Oe<V;Oe++)z+=Math.floor(10*Math.random());return ye+z}class La{constructor(V){this.target=V,this.handlers=new Set}removeMessageHandler(V){V.messageChannel&&(V.messageChannel.port1.removeEventListener("message",V.onMessage),V.messageChannel.port1.close()),this.handlers.delete(V)}_send(V,z,Oe=50){var At=this;return(0,c.Z)(function*(){const Ct=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ct)throw new Error("connection_unavailable");let bn,Nn;return new Promise((si,_i)=>{const Ni=wo("",20);Ct.port1.start();const Er=setTimeout(()=>{_i(new Error("unsupported_event"))},Oe);Nn={messageChannel:Ct,onMessage(ms){const ps=ms;if(ps.data.eventId===Ni)switch(ps.data.status){case"ack":clearTimeout(Er),bn=setTimeout(()=>{_i(new Error("timeout"))},3e3);break;case"done":clearTimeout(bn),si(ps.data.response);break;default:clearTimeout(Er),clearTimeout(bn),_i(new Error("invalid_response"))}}},At.handlers.add(Nn),Ct.port1.addEventListener("message",Nn.onMessage),At.target.postMessage({eventType:V,eventId:Ni,data:z},[Ct.port2])}).finally(()=>{Nn&&At.removeMessageHandler(Nn)})})()}}function Fr(){return window}function Mc(){return typeof Fr().WorkerGlobalScope<"u"&&"function"==typeof Fr().importScripts}function Po(){return(Po=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vr="firebaseLocalStorageDb",So="firebaseLocalStorage",rc="fbase_key";class Yo{constructor(V){this.request=V}toPromise(){return new Promise((V,z)=>{this.request.addEventListener("success",()=>{V(this.request.result)}),this.request.addEventListener("error",()=>{z(this.request.error)})})}}function ya(ye,V){return ye.transaction([So],V?"readwrite":"readonly").objectStore(So)}function zo(){const ye=indexedDB.open(Vr,1);return new Promise((V,z)=>{ye.addEventListener("error",()=>{z(ye.error)}),ye.addEventListener("upgradeneeded",()=>{const Oe=ye.result;try{Oe.createObjectStore(So,{keyPath:rc})}catch(At){z(At)}}),ye.addEventListener("success",(0,c.Z)(function*(){const Oe=ye.result;Oe.objectStoreNames.contains(So)?V(Oe):(Oe.close(),yield function oc(){const ye=indexedDB.deleteDatabase(Vr);return new Yo(ye).toPromise()}(),V(yield zo()))}))})}function Fa(ye,V,z){return ba.apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(ye,V,z){const Oe=ya(ye,!0).put({[rc]:V,value:z});return new Yo(Oe).toPromise()})).apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(ye,V){const z=ya(ye,!1).get(V),Oe=yield new Yo(z).toPromise();return void 0===Oe?null:Oe.value})).apply(this,arguments)}function al(ye,V){const z=ya(ye,!0).delete(V);return new Yo(z).toPromise()}const fr=(()=>{class ye{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var z=this;return(0,c.Z)(function*(){return z.db||(z.db=yield zo()),z.db})()}_withRetries(z){var Oe=this;return(0,c.Z)(function*(){let At=0;for(;;)try{const Ct=yield Oe._openDb();return yield z(Ct)}catch(Ct){if(At++>3)throw Ct;Oe.db&&(Oe.db.close(),Oe.db=void 0)}})()}initializeServiceWorkerMessaging(){var z=this;return(0,c.Z)(function*(){return Mc()?z.initializeReceiver():z.initializeSender()})()}initializeReceiver(){var z=this;return(0,c.Z)(function*(){z.receiver=sl._getInstance(function Nl(){return Mc()?self:null}()),z.receiver._subscribe("keyChanged",function(){var Oe=(0,c.Z)(function*(At,Ct){return{keyProcessed:(yield z._poll()).includes(Ct.key)}});return function(At,Ct){return Oe.apply(this,arguments)}}()),z.receiver._subscribe("ping",function(){var Oe=(0,c.Z)(function*(At,Ct){return["keyChanged"]});return function(At,Ct){return Oe.apply(this,arguments)}}())})()}initializeSender(){var z=this;return(0,c.Z)(function*(){var Oe,At;if(z.activeServiceWorker=yield function ic(){return Po.apply(this,arguments)}(),!z.activeServiceWorker)return;z.sender=new La(z.activeServiceWorker);const Ct=yield z.sender._send("ping",{},800);Ct&&null!==(Oe=Ct[0])&&void 0!==Oe&&Oe.fulfilled&&null!==(At=Ct[0])&&void 0!==At&&At.value.includes("keyChanged")&&(z.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(z){var Oe=this;return(0,c.Z)(function*(){if(Oe.sender&&Oe.activeServiceWorker&&function As(){var ye;return(null===(ye=navigator?.serviceWorker)||void 0===ye?void 0:ye.controller)||null}()===Oe.activeServiceWorker)try{yield Oe.sender._send("keyChanged",{key:z},Oe.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const z=yield zo();return yield Fa(z,To,"1"),yield al(z,To),!0}catch{}return!1})()}_withPendingWrite(z){var Oe=this;return(0,c.Z)(function*(){Oe.pendingWrites++;try{yield z()}finally{Oe.pendingWrites--}})()}_set(z,Oe){var At=this;return(0,c.Z)(function*(){return At._withPendingWrite((0,c.Z)(function*(){return yield At._withRetries(Ct=>Fa(Ct,z,Oe)),At.localCache[z]=Oe,At.notifyServiceWorker(z)}))})()}_get(z){var Oe=this;return(0,c.Z)(function*(){const At=yield Oe._withRetries(Ct=>function Ac(ye,V){return Qr.apply(this,arguments)}(Ct,z));return Oe.localCache[z]=At,At})()}_remove(z){var Oe=this;return(0,c.Z)(function*(){return Oe._withPendingWrite((0,c.Z)(function*(){return yield Oe._withRetries(At=>al(At,z)),delete Oe.localCache[z],Oe.notifyServiceWorker(z)}))})()}_poll(){var z=this;return(0,c.Z)(function*(){const Oe=yield z._withRetries(bn=>{const Nn=ya(bn,!1).getAll();return new Yo(Nn).toPromise()});if(!Oe)return[];if(0!==z.pendingWrites)return[];const At=[],Ct=new Set;for(const{fbase_key:bn,value:Nn}of Oe)Ct.add(bn),JSON.stringify(z.localCache[bn])!==JSON.stringify(Nn)&&(z.notifyListeners(bn,Nn),At.push(bn));for(const bn of Object.keys(z.localCache))z.localCache[bn]&&!Ct.has(bn)&&(z.notifyListeners(bn,null),At.push(bn));return At})()}notifyListeners(z,Oe){this.localCache[z]=Oe;const At=this.listeners[z];if(At)for(const Ct of Array.from(At))Ct(Oe)}startPolling(){var z=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return z._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(z,Oe){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[z]||(this.listeners[z]=new Set,this._get(z)),this.listeners[z].add(Oe)}_removeListener(z,Oe){this.listeners[z]&&(this.listeners[z].delete(Oe),0===this.listeners[z].size&&delete this.listeners[z]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return ye.type="LOCAL",ye})(),Ee=1e12;class je{constructor(V){this.auth=V,this.counter=Ee,this._widgets=new Map}render(V,z){const Oe=this.counter;return this._widgets.set(Oe,new ce(V,this.auth.name,z||{})),this.counter++,Oe}reset(V){var z;const Oe=V||Ee;null===(z=this._widgets.get(Oe))||void 0===z||z.delete(),this._widgets.delete(Oe)}getResponse(V){var z;return(null===(z=this._widgets.get(V||Ee))||void 0===z?void 0:z.getResponse())||""}execute(V){var z=this;return(0,c.Z)(function*(){var Oe;return null===(Oe=z._widgets.get(V||Ee))||void 0===Oe||Oe.execute(),""})()}}class ce{constructor(V,z,Oe){this.params=Oe,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const At="string"==typeof V?document.getElementById(V):V;q(At,"argument-error",{appName:z}),this.container=At,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Be(ye){const V=[],z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Oe=0;Oe<ye;Oe++)V.push(z.charAt(Math.floor(62*Math.random())));return V.join("")}(50);const{callback:V,"expired-callback":z}=this.params;if(V)try{V(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,z)try{z()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _t=In("rcb"),Gt=new he(3e4,6e4);class Sn{constructor(){var V;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(V=Fr().grecaptcha)||void 0===V||!V.render)}load(V,z=""){return q(function zn(ye){return ye.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(ye)}(z),V,"argument-error"),this.shouldResolveImmediately(z)&&tn(Fr().grecaptcha)?Promise.resolve(Fr().grecaptcha):new Promise((Oe,At)=>{const Ct=Fr().setTimeout(()=>{At(N(V,"network-request-failed"))},Gt.get());Fr()[_t]=()=>{Fr().clearTimeout(Ct),delete Fr()[_t];const Nn=Fr().grecaptcha;if(!Nn||!tn(Nn))return void At(N(V,"internal-error"));const si=Nn.render;Nn.render=(_i,Ni)=>{const Er=si(_i,Ni);return this.counter++,Er},this.hostLanguage=z,Oe(Nn)},Qt(`https://www.google.com/recaptcha/api.js??${(0,t.xO)({onload:_t,render:"explicit",hl:z})}`).catch(()=>{clearTimeout(Ct),At(N(V,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(V){var z;return!(null===(z=Fr().grecaptcha)||void 0===z||!z.render)&&(V===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ti{load(V){return(0,c.Z)(function*(){return new je(V)})()}clearedOneInstance(){}}const Ci="recaptcha",hr={theme:"light",type:"image"};class Oo{constructor(V,z=Object.assign({},hr),Oe){this.parameters=z,this.type=Ci,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(Oe),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const At="string"==typeof V?document.getElementById(V):V;q(At,this.auth,"argument-error"),this.container=At,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ti:new Sn,this.validateStartingState()}verify(){var V=this;return(0,c.Z)(function*(){V.assertNotDestroyed();const z=yield V.render(),Oe=V.getAssertedRecaptcha();return Oe.getResponse(z)||new Promise(Ct=>{const bn=Nn=>{Nn&&(V.tokenChangeListeners.delete(bn),Ct(Nn))};V.tokenChangeListeners.add(bn),V.isInvisible&&Oe.execute(z)})})()}render(){try{this.assertNotDestroyed()}catch(V){return Promise.reject(V)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(V=>{throw this.renderPromise=null,V})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(V=>{this.container.removeChild(V)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(V){return z=>{if(this.tokenChangeListeners.forEach(Oe=>Oe(z)),"function"==typeof V)V(z);else if("string"==typeof V){const Oe=Fr()[V];"function"==typeof Oe&&Oe(z)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var V=this;return(0,c.Z)(function*(){if(yield V.init(),!V.widgetId){let z=V.container;if(!V.isInvisible){const Oe=document.createElement("div");z.appendChild(Oe),z=Oe}V.widgetId=V.getAssertedRecaptcha().render(z,V.parameters)}return V.widgetId})()}init(){var V=this;return(0,c.Z)(function*(){q(ae()&&!Mc(),V.auth,"internal-error"),yield function Ea(){let ye=null;return new Promise(V=>{"complete"!==document.readyState?(ye=()=>V(),window.addEventListener("load",ye)):V()}).catch(V=>{throw ye&&window.removeEventListener("load",ye),V})}(),V.recaptcha=yield V._recaptchaLoader.load(V.auth,V.auth.languageCode||void 0);const z=yield function yn(ye){return _n.apply(this,arguments)}(V.auth);q(z,V.auth,"internal-error"),V.parameters.sitekey=z})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xs{constructor(V,z){this.verificationId=V,this.onConfirmation=z}confirm(V){const z=Nr._fromVerification(this.verificationId,V);return this.onConfirmation(z)}}function us(ye,V,z){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(ye,V,z){const Oe=fn(ye),At=yield Ua(Oe,V,(0,t.m9)(z));return new xs(At,Ct=>Lr(Oe,Ct))})).apply(this,arguments)}function fs(ye,V,z){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,c.Z)(function*(ye,V,z){const Oe=(0,t.m9)(ye);yield _r(!1,Oe,"phone");const At=yield Ua(Oe.auth,V,(0,t.m9)(z));return new xs(At,Ct=>$s(Oe,Ct))})).apply(this,arguments)}function Zo(ye,V,z){return kl.apply(this,arguments)}function kl(){return(kl=(0,c.Z)(function*(ye,V,z){const Oe=(0,t.m9)(ye),At=yield Ua(Oe.auth,V,(0,t.m9)(z));return new xs(At,Ct=>ks(Oe,Ct))})).apply(this,arguments)}function Ua(ye,V,z){return nd.apply(this,arguments)}function nd(){return nd=(0,c.Z)(function*(ye,V,z){var Oe;const At=yield z.verify();try{let Ct;if(q("string"==typeof At,ye,"argument-error"),q(z.type===Ci,ye,"argument-error"),Ct="string"==typeof V?{phoneNumber:V}:V,"session"in Ct){const bn=Ct.session;if("phoneNumber"in Ct)return q("enroll"===bn.type,ye,"internal-error"),(yield function Us(ye,V){return pe(ye,"POST","/v2/accounts/mfaEnrollment:start",xe(ye,V))}(ye,{idToken:bn.credential,phoneEnrollmentInfo:{phoneNumber:Ct.phoneNumber,recaptchaToken:At}})).phoneSessionInfo.sessionInfo;{q("signin"===bn.type,ye,"internal-error");const Nn=(null===(Oe=Ct.multiFactorHint)||void 0===Oe?void 0:Oe.uid)||Ct.multiFactorUid;return q(Nn,ye,"missing-multi-factor-info"),(yield function xc(ye,V){return pe(ye,"POST","/v2/accounts/mfaSignIn:start",xe(ye,V))}(ye,{mfaPendingCredential:bn.credential,mfaEnrollmentId:Nn,phoneSignInInfo:{recaptchaToken:At}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:bn}=yield function vi(ye,V){return Oi.apply(this,arguments)}(ye,{phoneNumber:Ct.phoneNumber,recaptchaToken:At});return bn}}finally{z._reset()}}),nd.apply(this,arguments)}function wc(ye,V){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(ye,V){yield Pr((0,t.m9)(ye),V)})).apply(this,arguments)}let Ou=(()=>{class ye{constructor(z){this.providerId=ye.PROVIDER_ID,this.auth=fn(z)}verifyPhoneNumber(z,Oe){return Ua(this.auth,z,(0,t.m9)(Oe))}static credential(z,Oe){return Nr._fromVerification(z,Oe)}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{phoneNumber:Oe,temporaryProof:At}=z;return Oe&&At?Nr._fromTokenResponse(Oe,At):null}}return ye.PROVIDER_ID="phone",ye.PHONE_SIGN_IN_METHOD="phone",ye})();function Ga(ye,V){return V?ft(V):(q(ye._popupRedirectResolver,ye,"argument-error"),ye._popupRedirectResolver)}class Fl extends pr{constructor(V){super("custom","custom"),this.params=V}_getIdTokenResponse(V){return qt(V,this._buildIdpRequest())}_linkToIdToken(V,z){return qt(V,this._buildIdpRequest(z))}_getReauthenticationResolver(V){return qt(V,this._buildIdpRequest())}_buildIdpRequest(V){const z={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return V&&(z.idToken=V),z}}function hs(ye){return Zr(ye.auth,new Fl(ye),ye.bypassAuthState)}function id(ye){const{auth:V,user:z}=ye;return q(z,V,"internal-error"),ns(z,new Fl(ye),ye.bypassAuthState)}function lc(ye){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,c.Z)(function*(ye){const{auth:V,user:z}=ye;return q(z,V,"internal-error"),Pr(z,new Fl(ye),ye.bypassAuthState)})).apply(this,arguments)}class Bl{constructor(V,z,Oe,At,Ct=!1){this.auth=V,this.resolver=Oe,this.user=At,this.bypassAuthState=Ct,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(z)?z:[z]}execute(){var V=this;return new Promise(function(){var z=(0,c.Z)(function*(Oe,At){V.pendingPromise={resolve:Oe,reject:At};try{V.eventManager=yield V.resolver._initialize(V.auth),yield V.onExecution(),V.eventManager.registerConsumer(V)}catch(Ct){V.reject(Ct)}});return function(Oe,At){return z.apply(this,arguments)}}())}onAuthEvent(V){var z=this;return(0,c.Z)(function*(){const{urlResponse:Oe,sessionId:At,postBody:Ct,tenantId:bn,error:Nn,type:si}=V;if(Nn)return void z.reject(Nn);const _i={auth:z.auth,requestUri:Oe,sessionId:At,tenantId:bn||void 0,postBody:Ct||void 0,user:z.user,bypassAuthState:z.bypassAuthState};try{z.resolve(yield z.getIdpTask(si)(_i))}catch(Ni){z.reject(Ni)}})()}onError(V){this.reject(V)}getIdpTask(V){switch(V){case"signInViaPopup":case"signInViaRedirect":return hs;case"linkViaPopup":case"linkViaRedirect":return lc;case"reauthViaPopup":case"reauthViaRedirect":return id;default:T(this.auth,"internal-error")}}resolve(V){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(V),this.unregisterAndCleanUp()}reject(V){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(V),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qs=new he(2e3,1e4);function Gs(ye,V,z){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(ye,V,z){const Oe=fn(ye);B(ye,V,xo);const At=Ga(Oe,z);return new Gl(Oe,"signInViaPopup",V,At).executeNotNull()})).apply(this,arguments)}function Vf(ye,V,z){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(ye,V,z){const Oe=(0,t.m9)(ye);B(Oe.auth,V,xo);const At=Ga(Oe.auth,z);return new Gl(Oe.auth,"reauthViaPopup",V,At,Oe).executeNotNull()})).apply(this,arguments)}function Ru(ye,V,z){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(ye,V,z){const Oe=(0,t.m9)(ye);B(Oe.auth,V,xo);const At=Ga(Oe.auth,z);return new Gl(Oe.auth,"linkViaPopup",V,At,Oe).executeNotNull()})).apply(this,arguments)}let Gl=(()=>{class ye extends Bl{constructor(z,Oe,At,Ct,bn){super(z,Oe,Ct,bn),this.provider=At,this.authWindow=null,this.pollId=null,ye.currentPopupAction&&ye.currentPopupAction.cancel(),ye.currentPopupAction=this}executeNotNull(){var z=this;return(0,c.Z)(function*(){const Oe=yield z.execute();return q(Oe,z.auth,"internal-error"),Oe})()}onExecution(){var z=this;return(0,c.Z)(function*(){Fe(1===z.filter.length,"Popup operations only handle one event");const Oe=wo();z.authWindow=yield z.resolver._openPopup(z.auth,z.provider,z.filter[0],Oe),z.authWindow.associatedEvent=Oe,z.resolver._originValidation(z.auth).catch(At=>{z.reject(At)}),z.resolver._isIframeWebStorageSupported(z.auth,At=>{At||z.reject(N(z.auth,"web-storage-unsupported"))}),z.pollUserCancellation()})()}get eventId(){var z;return(null===(z=this.authWindow)||void 0===z?void 0:z.associatedEvent)||null}cancel(){this.reject(N(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ye.currentPopupAction=null}pollUserCancellation(){const z=()=>{var Oe,At;this.pollId=null!==(At=null===(Oe=this.authWindow)||void 0===Oe?void 0:Oe.window)&&void 0!==At&&At.closed?window.setTimeout(()=>{this.pollId=null,this.reject(N(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(z,Qs.get())};z()}}return ye.currentPopupAction=null,ye})();const rd="pendingRedirect",tr=new Map;class Gi extends Bl{constructor(V,z,Oe=!1){super(V,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],z,void 0,Oe),this.eventId=null}execute(){var V=()=>super.execute,z=this;return(0,c.Z)(function*(){let Oe=tr.get(z.auth._key());if(!Oe){try{const Ct=(yield function Nu(ye,V){return Ha.apply(this,arguments)}(z.resolver,z.auth))?yield V().call(z):null;Oe=()=>Promise.resolve(Ct)}catch(At){Oe=()=>Promise.reject(At)}tr.set(z.auth._key(),Oe)}return z.bypassAuthState||tr.set(z.auth._key(),()=>Promise.resolve(null)),Oe()})()}onAuthEvent(V){var z=()=>super.onAuthEvent,Oe=this;return(0,c.Z)(function*(){if("signInViaRedirect"===V.type)return z().call(Oe,V);if("unknown"!==V.type){if(V.eventId){const At=yield Oe.auth._redirectUserForId(V.eventId);if(At)return Oe.user=At,z().call(Oe,V);Oe.resolve(null)}}else Oe.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Ha(){return(Ha=(0,c.Z)(function*(ye,V){const z=ul(V),Oe=dl(ye);if(!(yield Oe._isAvailable()))return!1;const At="true"===(yield Oe._get(z));return yield Oe._remove(z),At})).apply(this,arguments)}function od(ye,V){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,c.Z)(function*(ye,V){return dl(ye)._set(ul(V),"true")})).apply(this,arguments)}function Gd(){tr.clear()}function Hl(ye,V){tr.set(ye._key(),V)}function dl(ye){return ft(ye._redirectPersistence)}function ul(ye){return Pe(rd,ye.config.apiKey,ye.name)}function Hd(ye,V,z){return function ws(ye,V,z){return Oc.apply(this,arguments)}(ye,V,z)}function Oc(){return(Oc=(0,c.Z)(function*(ye,V,z){const Oe=fn(ye);B(ye,V,xo),yield Oe._initializationPromise;const At=Ga(Oe,z);return yield od(At,Oe),At._openRedirect(Oe,V,"signInViaRedirect")})).apply(this,arguments)}function ja(ye,V,z){return function Rc(ye,V,z){return jl.apply(this,arguments)}(ye,V,z)}function jl(){return(jl=(0,c.Z)(function*(ye,V,z){const Oe=(0,t.m9)(ye);B(Oe.auth,V,xo),yield Oe.auth._initializationPromise;const At=Ga(Oe.auth,z);yield od(At,Oe.auth);const Ct=yield fl(Oe);return At._openRedirect(Oe.auth,V,"reauthViaRedirect",Ct)})).apply(this,arguments)}function sd(ye,V,z){return function Lu(ye,V,z){return ad.apply(this,arguments)}(ye,V,z)}function ad(){return(ad=(0,c.Z)(function*(ye,V,z){const Oe=(0,t.m9)(ye);B(Oe.auth,V,xo),yield Oe.auth._initializationPromise;const At=Ga(Oe.auth,z);yield _r(!1,Oe,V.providerId),yield od(At,Oe.auth);const Ct=yield fl(Oe);return At._openRedirect(Oe.auth,V,"linkViaRedirect",Ct)})).apply(this,arguments)}function cc(ye,V){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(ye,V){return yield fn(ye)._initializationPromise,Va(ye,V,!1)})).apply(this,arguments)}function Va(ye,V){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(ye,V,z=!1){const Oe=fn(ye),At=Ga(Oe,V),bn=yield new Gi(Oe,At,z).execute();return bn&&!z&&(delete bn.user._redirectEventId,yield Oe._persistUserIfCurrent(bn.user),yield Oe._setRedirectUser(null,V)),bn})).apply(this,arguments)}function fl(ye){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(ye){const V=wo(`${ye.uid}:::`);return ye._redirectEventId=V,yield ye.auth._setRedirectUser(ye),yield ye.auth._persistUserIfCurrent(ye),V})).apply(this,arguments)}class ld{constructor(V){this.auth=V,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(V){this.consumers.add(V),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,V)&&(this.sendToConsumer(this.queuedRedirectEvent,V),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(V){this.consumers.delete(V)}onEvent(V){if(this.hasEventBeenHandled(V))return!1;let z=!1;return this.consumers.forEach(Oe=>{this.isEventForConsumer(V,Oe)&&(z=!0,this.sendToConsumer(V,Oe),this.saveEventToCache(V))}),this.hasHandledPotentialRedirect||!function jd(ye){switch(ye.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cd(ye);default:return!1}}(V)||(this.hasHandledPotentialRedirect=!0,z||(this.queuedRedirectEvent=V,z=!0)),z}sendToConsumer(V,z){var Oe;if(V.error&&!cd(V)){const At=(null===(Oe=V.error.code)||void 0===Oe?void 0:Oe.split("auth/")[1])||"internal-error";z.onError(N(this.auth,At))}else z.onAuthEvent(V)}isEventForConsumer(V,z){const Oe=null===z.eventId||!!V.eventId&&V.eventId===z.eventId;return z.filter.includes(V.type)&&Oe}hasEventBeenHandled(V){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nc(V))}saveEventToCache(V){this.cachedEventUids.add(Nc(V)),this.lastProcessedEventTime=Date.now()}}function Nc(ye){return[ye.type,ye.eventId,ye.sessionId,ye.tenantId].filter(V=>V).join("-")}function cd({type:ye,error:V}){return"unknown"===ye&&"auth/no-auth-event"===V?.code}function Lc(ye){return dd.apply(this,arguments)}function dd(){return(dd=(0,c.Z)(function*(ye,V={}){return pe(ye,"GET","/v1/projects",V)})).apply(this,arguments)}const Hm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jm=/^https?/;function kc(){return(kc=(0,c.Z)(function*(ye){if(ye.config.emulator)return;const{authorizedDomains:V}=yield Lc(ye);for(const z of V)try{if(Ma(z))return}catch{}T(ye,"unauthorized-domain")})).apply(this,arguments)}function Ma(ye){const V=$(),{protocol:z,hostname:Oe}=new URL(V);if(ye.startsWith("chrome-extension://")){const bn=new URL(ye);return""===bn.hostname&&""===Oe?"chrome-extension:"===z&&ye.replace("chrome-extension://","")===V.replace("chrome-extension://",""):"chrome-extension:"===z&&bn.hostname===Oe}if(!jm.test(z))return!1;if(Hm.test(ye))return Oe===ye;const At=ye.replace(/\./g,"\\.");return new RegExp("^(.+\\."+At+"|"+At+")$","i").test(Oe)}const fo=new he(3e4,6e4);function Fc(){const ye=Fr().___jsl;if(ye?.H)for(const V of Object.keys(ye.H))if(ye.H[V].r=ye.H[V].r||[],ye.H[V].L=ye.H[V].L||[],ye.H[V].r=[...ye.H[V].L],ye.CP)for(let z=0;z<ye.CP.length;z++)ye.CP[z]=null}let Ps=null;const Vs=new he(5e3,15e3),ku="__/auth/iframe",ml="emulator/auth/iframe",Ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kf(ye){const V=ye.config;q(V.authDomain,ye,"auth-domain-config-required");const z=V.emulator?Ce(V,ml):`https://${ye.config.authDomain}/${ku}`,Oe={apiKey:V.apiKey,appName:ye.name,v:y.SDK_VERSION},At=Fu.get(ye.config.apiHost);At&&(Oe.eid=At);const Ct=ye._getFrameworks();return Ct.length&&(Oe.fw=Ct.join(",")),`${z}?${(0,t.xO)(Oe).slice(1)}`}function Me(){return Me=(0,c.Z)(function*(ye){const V=yield function js(ye){return Ps=Ps||function Vl(ye){return new Promise((V,z)=>{var Oe,At,Ct;function bn(){Fc(),gapi.load("gapi.iframes",{callback:()=>{V(gapi.iframes.getContext())},ontimeout:()=>{Fc(),z(N(ye,"network-request-failed"))},timeout:fo.get()})}if(null!==(At=null===(Oe=Fr().gapi)||void 0===Oe?void 0:Oe.iframes)&&void 0!==At&&At.Iframe)V(gapi.iframes.getContext());else{if(null===(Ct=Fr().gapi)||void 0===Ct||!Ct.load){const Nn=In("iframefcb");return Fr()[Nn]=()=>{gapi.load?bn():z(N(ye,"network-request-failed"))},Qt(`https://apis.google.com/js/api.js?onload=${Nn}`).catch(si=>z(si))}bn()}}).catch(V=>{throw Ps=null,V})}(ye),Ps}(ye),z=Fr().gapi;return q(z,ye,"internal-error"),V.open({where:document.body,url:Kf(ye),messageHandlersFilter:z.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ka,dontclear:!0},Oe=>new Promise(function(){var At=(0,c.Z)(function*(Ct,bn){yield Oe.restyle({setHideOnLeave:!1});const Nn=N(ye,"network-request-failed"),si=Fr().setTimeout(()=>{bn(Nn)},Vs.get());function _i(){Fr().clearTimeout(si),Ct(Oe)}Oe.ping(_i).then(_i,()=>{bn(Nn)})});return function(Ct,bn){return At.apply(this,arguments)}}()))}),Me.apply(this,arguments)}const Ke={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bn{constructor(V){this.window=V,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mi="__/auth/handler",Yi="emulator/auth/handler",Wi=encodeURIComponent("fac");function ho(ye,V,z,Oe,At,Ct){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(ye,V,z,Oe,At,Ct){q(ye.config.authDomain,ye,"auth-domain-config-required"),q(ye.config.apiKey,ye,"invalid-api-key");const bn={apiKey:ye.config.apiKey,appName:ye.name,authType:z,redirectUrl:Oe,v:y.SDK_VERSION,eventId:At};if(V instanceof xo){V.setDefaultLanguage(ye.languageCode),bn.providerId=V.providerId||"",(0,t.xb)(V.getCustomParameters())||(bn.customParameters=JSON.stringify(V.getCustomParameters()));for(const[Ni,Er]of Object.entries(Ct||{}))bn[Ni]=Er}if(V instanceof vs){const Ni=V.getScopes().filter(Er=>""!==Er);Ni.length>0&&(bn.scopes=Ni.join(","))}ye.tenantId&&(bn.tid=ye.tenantId);const Nn=bn;for(const Ni of Object.keys(Nn))void 0===Nn[Ni]&&delete Nn[Ni];const si=yield ye._getAppCheckToken(),_i=si?`#${Wi}=${encodeURIComponent(si)}`:"";return`${function Bc({config:ye}){return ye.emulator?Ce(ye,Yi):`https://${ye.authDomain}/${mi}`}(ye)}?${(0,t.xO)(Nn).slice(1)}${_i}`})).apply(this,arguments)}const Aa="webStorageSupport",no=class Kl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uo,this._completeRedirectFn=Va,this._overrideRedirectResult=Hl}_openPopup(V,z,Oe,At){var Ct=this;return(0,c.Z)(function*(){var bn;Fe(null===(bn=Ct.eventManagers[V._key()])||void 0===bn?void 0:bn.manager,"_initialize() not called before _openPopup()");const Nn=yield ho(V,z,Oe,$(),At);return function fi(ye,V,z,Oe=500,At=600){const Ct=Math.max((window.screen.availHeight-At)/2,0).toString(),bn=Math.max((window.screen.availWidth-Oe)/2,0).toString();let Nn="";const si=Object.assign(Object.assign({},Ke),{width:Oe.toString(),height:At.toString(),top:Ct,left:bn}),_i=(0,t.z$)().toLowerCase();z&&(Nn=dt(_i)?"_blank":z),lt(_i)&&(V=V||"http://localhost",si.scrollbars="yes");const Ni=Object.entries(si).reduce((ms,[ps,Vd])=>`${ms}${ps}=${Vd},`,"");if(function xn(ye=(0,t.z$)()){var V;return cn(ye)&&!(null===(V=window.navigator)||void 0===V||!V.standalone)}(_i)&&"_self"!==Nn)return function di(ye,V){const z=document.createElement("a");z.href=ye,z.target=V;const Oe=document.createEvent("MouseEvent");Oe.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),z.dispatchEvent(Oe)}(V||"",Nn),new Bn(null);const Er=window.open(V||"",Nn,Ni);q(Er,ye,"popup-blocked");try{Er.focus()}catch{}return new Bn(Er)}(V,Nn,wo())})()}_openRedirect(V,z,Oe,At){var Ct=this;return(0,c.Z)(function*(){return yield Ct._originValidation(V),function ka(ye){Fr().location.href=ye}(yield ho(V,z,Oe,$(),At)),new Promise(()=>{})})()}_initialize(V){const z=V._key();if(this.eventManagers[z]){const{manager:At,promise:Ct}=this.eventManagers[z];return At?Promise.resolve(At):(Fe(Ct,"If manager is not set, promise should be"),Ct)}const Oe=this.initAndGetManager(V);return this.eventManagers[z]={promise:Oe},Oe.catch(()=>{delete this.eventManagers[z]}),Oe}initAndGetManager(V){var z=this;return(0,c.Z)(function*(){const Oe=yield function Wf(ye){return Me.apply(this,arguments)}(V),At=new ld(V);return Oe.register("authEvent",Ct=>(q(Ct?.authEvent,V,"invalid-auth-event"),{status:At.onEvent(Ct.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),z.eventManagers[V._key()]={manager:At},z.iframes[V._key()]=Oe,At})()}_isIframeWebStorageSupported(V,z){this.iframes[V._key()].send(Aa,{type:Aa},At=>{var Ct;const bn=null===(Ct=At?.[0])||void 0===Ct?void 0:Ct[Aa];void 0!==bn&&z(!!bn),T(V,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(V){const z=V._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function hl(ye){return kc.apply(this,arguments)}(V)),this.originValidationPromises[z]}get _shouldInitProactively(){return Yn()||ot()||cn()}};class Wa{constructor(V){this.factorId=V}_process(V,z,Oe){switch(z.type){case"enroll":return this._finalizeEnroll(V,z.credential,Oe);case"signin":return this._finalizeSignIn(V,z.credential);default:return le("unexpected MultiFactorSessionType")}}}class dc extends Wa{constructor(V){super("phone"),this.credential=V}static _fromCredential(V){return new dc(V)}_finalizeEnroll(V,z,Oe){return function Wo(ye,V){return pe(ye,"POST","/v2/accounts/mfaEnrollment:finalize",xe(ye,V))}(V,{idToken:z,displayName:Oe,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(V,z){return function Ic(ye,V){return pe(ye,"POST","/v2/accounts/mfaSignIn:finalize",xe(ye,V))}(V,{mfaPendingCredential:z,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bu=(()=>{class ye{constructor(){}static assertion(z){return dc._fromCredential(z)}}return ye.FACTOR_ID="phone",ye})();var uc="@firebase/auth";class Yf{constructor(V){this.auth=V,this.internalListeners=new Map}getUid(){var V;return this.assertAuthConfigured(),(null===(V=this.auth.currentUser)||void 0===V?void 0:V.uid)||null}getToken(V){var z=this;return(0,c.Z)(function*(){return z.assertAuthConfigured(),yield z.auth._initializationPromise,z.auth.currentUser?{accessToken:yield z.auth.currentUser.getIdToken(V)}:null})()}addAuthTokenListener(V){if(this.assertAuthConfigured(),this.internalListeners.has(V))return;const z=this.auth.onIdTokenChanged(Oe=>{V(Oe?.stsTokenManager.accessToken||null)});this.internalListeners.set(V,z),this.updateProactiveRefresh()}removeAuthTokenListener(V){this.assertAuthConfigured();const z=this.internalListeners.get(V);z&&(this.internalListeners.delete(V),z(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,t.Pz)("authIdTokenMaxAge"),function Zf(ye){(0,y._registerComponent)(new F.wA("auth",(V,{options:z})=>{const Oe=V.getProvider("app").getImmediate(),At=V.getProvider("heartbeat"),Ct=V.getProvider("app-check-internal"),{apiKey:bn,authDomain:Nn}=Oe.options;q(bn&&!bn.includes(":"),"invalid-api-key",{appName:Oe.name});const si={apiKey:bn,authDomain:Nn,clientPlatform:ye,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ci(ye)},_i=new Et(Oe,At,Ct,si);return function gt(ye,V){const z=V?.persistence||[],Oe=(Array.isArray(z)?z:[z]).map(ft);V?.errorMap&&ye._updateErrorMap(V.errorMap),ye._initializeWithPersistence(Oe,V?.popupRedirectResolver)}(_i,z),_i},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((V,z,Oe)=>{V.getProvider("auth-internal").initialize()})),(0,y._registerComponent)(new F.wA("auth-internal",V=>{const z=fn(V.getProvider("auth").getImmediate());return new Yf(z)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,y.registerVersion)(uc,"0.23.2",function zf(ye){switch(ye){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ye)),(0,y.registerVersion)(uc,"0.23.2","esm2017")}("Browser")},9058:(Gn,tt,S)=>{"use strict";S.d(tt,{$s:()=>ft,BH:()=>C,L:()=>p,LL:()=>Ue,Pz:()=>N,UG:()=>le,US:()=>F,ZB:()=>v,ZR:()=>pe,aH:()=>T,b$:()=>ae,eu:()=>fe,hl:()=>Le,jU:()=>Fe,m9:()=>Pe,ne:()=>Ae,pd:()=>ve,r3:()=>_e,ru:()=>$,tV:()=>f,uI:()=>q,vZ:()=>te,w1:()=>ge,xO:()=>X,xb:()=>Q,z$:()=>W,zI:()=>Re,zd:()=>ue});const w=function(Ye){const $e=[];let lt=0;for(let ot=0;ot<Ye.length;ot++){let dt=Ye.charCodeAt(ot);dt<128?$e[lt++]=dt:dt<2048?($e[lt++]=dt>>6|192,$e[lt++]=63&dt|128):55296==(64512&dt)&&ot+1<Ye.length&&56320==(64512&Ye.charCodeAt(ot+1))?(dt=65536+((1023&dt)<<10)+(1023&Ye.charCodeAt(++ot)),$e[lt++]=dt>>18|240,$e[lt++]=dt>>12&63|128,$e[lt++]=dt>>6&63|128,$e[lt++]=63&dt|128):($e[lt++]=dt>>12|224,$e[lt++]=dt>>6&63|128,$e[lt++]=63&dt|128)}return $e},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ye,$e){if(!Array.isArray(Ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const lt=$e?this.byteToCharMapWebSafe_:this.byteToCharMap_,ot=[];for(let dt=0;dt<Ye.length;dt+=3){const Ft=Ye[dt],$t=dt+1<Ye.length,Lt=$t?Ye[dt+1]:0,Jt=dt+2<Ye.length,cn=Jt?Ye[dt+2]:0;let Ln=(15&Lt)<<2|cn>>6,Yn=63&cn;Jt||(Yn=64,$t||(Ln=64)),ot.push(lt[Ft>>2],lt[(3&Ft)<<4|Lt>>4],lt[Ln],lt[Yn])}return ot.join("")},encodeString(Ye,$e){return this.HAS_NATIVE_SUPPORT&&!$e?btoa(Ye):this.encodeByteArray(w(Ye),$e)},decodeString(Ye,$e){return this.HAS_NATIVE_SUPPORT&&!$e?atob(Ye):function(Ye){const $e=[];let lt=0,ot=0;for(;lt<Ye.length;){const dt=Ye[lt++];if(dt<128)$e[ot++]=String.fromCharCode(dt);else if(dt>191&&dt<224){const Ft=Ye[lt++];$e[ot++]=String.fromCharCode((31&dt)<<6|63&Ft)}else if(dt>239&&dt<365){const Jt=((7&dt)<<18|(63&Ye[lt++])<<12|(63&Ye[lt++])<<6|63&Ye[lt++])-65536;$e[ot++]=String.fromCharCode(55296+(Jt>>10)),$e[ot++]=String.fromCharCode(56320+(1023&Jt))}else{const Ft=Ye[lt++],$t=Ye[lt++];$e[ot++]=String.fromCharCode((15&dt)<<12|(63&Ft)<<6|63&$t)}}return $e.join("")}(this.decodeStringToByteArray(Ye,$e))},decodeStringToByteArray(Ye,$e){this.init_();const lt=$e?this.charToByteMapWebSafe_:this.charToByteMap_,ot=[];for(let dt=0;dt<Ye.length;){const Ft=lt[Ye.charAt(dt++)],Lt=dt<Ye.length?lt[Ye.charAt(dt)]:0;++dt;const cn=dt<Ye.length?lt[Ye.charAt(dt)]:64;++dt;const xn=dt<Ye.length?lt[Ye.charAt(dt)]:64;if(++dt,null==Ft||null==Lt||null==cn||null==xn)throw new L;ot.push(Ft<<2|Lt>>4),64!==cn&&(ot.push(Lt<<4&240|cn>>2),64!==xn&&ot.push(cn<<6&192|xn))}return ot},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ye=0;Ye<this.ENCODED_VALS.length;Ye++)this.byteToCharMap_[Ye]=this.ENCODED_VALS.charAt(Ye),this.charToByteMap_[this.byteToCharMap_[Ye]]=Ye,this.byteToCharMapWebSafe_[Ye]=this.ENCODED_VALS_WEBSAFE.charAt(Ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ye]]=Ye,Ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ye)]=Ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ye)]=Ye)}}};class L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(Ye){return function(Ye){const $e=w(Ye);return F.encodeByteArray($e,!0)}(Ye).replace(/\./g,"")},f=function(Ye){try{return F.decodeString(Ye,!0)}catch($e){console.error("base64Decode failed: ",$e)}return null};function v(Ye,$e){if(!($e instanceof Object))return $e;switch($e.constructor){case Date:return new Date($e.getTime());case Object:void 0===Ye&&(Ye={});break;case Array:Ye=[];break;default:return $e}for(const lt in $e)!$e.hasOwnProperty(lt)||!A(lt)||(Ye[lt]=v(Ye[lt],$e[lt]));return Ye}function A(Ye){return"__proto__"!==Ye}const O=()=>{try{return function U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ye=process.env.__FIREBASE_DEFAULTS__;return Ye?JSON.parse(Ye):void 0})()||(()=>{if(typeof document>"u")return;let Ye;try{Ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $e=Ye&&f(Ye[1]);return $e&&JSON.parse($e)})()}catch(Ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ye}`)}},T=()=>{var Ye;return null===(Ye=O())||void 0===Ye?void 0:Ye.config},N=Ye=>{var $e;return null===($e=O())||void 0===$e?void 0:$e[`_${Ye}`]};class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($e,lt)=>{this.resolve=$e,this.reject=lt})}wrapCallback($e){return(lt,ot)=>{lt?this.reject(lt):this.resolve(ot),"function"==typeof $e&&(this.promise.catch(()=>{}),1===$e.length?$e(lt):$e(lt,ot))}}}function W(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function le(){var Ye;const $e=null===(Ye=O())||void 0===Ye?void 0:Ye.forceEnvironment;if("node"===$e)return!0;if("browser"===$e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function $(){const Ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ye&&void 0!==Ye.id}function ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const Ye=W();return Ye.indexOf("MSIE ")>=0||Ye.indexOf("Trident/")>=0}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((Ye,$e)=>{try{let lt=!0;const ot="validate-browser-context-for-indexeddb-analytics-module",dt=self.indexedDB.open(ot);dt.onsuccess=()=>{dt.result.close(),lt||self.indexedDB.deleteDatabase(ot),Ye(!0)},dt.onupgradeneeded=()=>{lt=!1},dt.onerror=()=>{var Ft;$e((null===(Ft=dt.error)||void 0===Ft?void 0:Ft.message)||"")}}catch(lt){$e(lt)}})}function Re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pe extends Error{constructor($e,lt,ot){super(lt),this.code=$e,this.customData=ot,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor($e,lt,ot){this.service=$e,this.serviceName=lt,this.errors=ot}create($e,...lt){const ot=lt[0]||{},dt=`${this.service}/${$e}`,Ft=this.errors[$e],$t=Ft?function ke(Ye,$e){return Ye.replace(we,(lt,ot)=>{const dt=$e[ot];return null!=dt?String(dt):`<${ot}?>`})}(Ft,ot):"Error";return new pe(dt,`${this.serviceName}: ${$t} (${dt}).`,ot)}}const we=/\{\$([^}]+)}/g;function _e(Ye,$e){return Object.prototype.hasOwnProperty.call(Ye,$e)}function Q(Ye){for(const $e in Ye)if(Object.prototype.hasOwnProperty.call(Ye,$e))return!1;return!0}function te(Ye,$e){if(Ye===$e)return!0;const lt=Object.keys(Ye),ot=Object.keys($e);for(const dt of lt){if(!ot.includes(dt))return!1;const Ft=Ye[dt],$t=$e[dt];if(ie(Ft)&&ie($t)){if(!te(Ft,$t))return!1}else if(Ft!==$t)return!1}for(const dt of ot)if(!lt.includes(dt))return!1;return!0}function ie(Ye){return null!==Ye&&"object"==typeof Ye}function X(Ye){const $e=[];for(const[lt,ot]of Object.entries(Ye))Array.isArray(ot)?ot.forEach(dt=>{$e.push(encodeURIComponent(lt)+"="+encodeURIComponent(dt))}):$e.push(encodeURIComponent(lt)+"="+encodeURIComponent(ot));return $e.length?"&"+$e.join("&"):""}function ue(Ye){const $e={};return Ye.replace(/^\?/,"").split("&").forEach(ot=>{if(ot){const[dt,Ft]=ot.split("=");$e[decodeURIComponent(dt)]=decodeURIComponent(Ft)}}),$e}function ve(Ye){const $e=Ye.indexOf("?");if(!$e)return"";const lt=Ye.indexOf("#",$e);return Ye.substring($e,lt>0?lt:void 0)}function Ae(Ye,$e){const lt=new We(Ye,$e);return lt.subscribe.bind(lt)}class We{constructor($e,lt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=lt,this.task.then(()=>{$e(this)}).catch(ot=>{this.error(ot)})}next($e){this.forEachObserver(lt=>{lt.next($e)})}error($e){this.forEachObserver(lt=>{lt.error($e)}),this.close($e)}complete(){this.forEachObserver($e=>{$e.complete()}),this.close()}subscribe($e,lt,ot){let dt;if(void 0===$e&&void 0===lt&&void 0===ot)throw new Error("Missing Observer.");dt=function at(Ye,$e){if("object"!=typeof Ye||null===Ye)return!1;for(const lt of $e)if(lt in Ye&&"function"==typeof Ye[lt])return!0;return!1}($e,["next","error","complete"])?$e:{next:$e,error:lt,complete:ot},void 0===dt.next&&(dt.next=ct),void 0===dt.error&&(dt.error=ct),void 0===dt.complete&&(dt.complete=ct);const Ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?dt.error(this.finalError):dt.complete()}catch{}}),this.observers.push(dt),Ft}unsubscribeOne($e){void 0===this.observers||void 0===this.observers[$e]||(delete this.observers[$e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($e){if(!this.finalized)for(let lt=0;lt<this.observers.length;lt++)this.sendOne(lt,$e)}sendOne($e,lt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$e])try{lt(this.observers[$e])}catch(ot){typeof console<"u"&&console.error&&console.error(ot)}})}close($e){this.finalized||(this.finalized=!0,void 0!==$e&&(this.finalError=$e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ct(){}const Kt=1e3,Cn=2,nn=144e5,Dt=.5;function ft(Ye,$e=Kt,lt=Cn){const ot=$e*Math.pow(lt,Ye),dt=Math.round(Dt*ot*(Math.random()-.5)*2);return Math.min(nn,ot+dt)}function Pe(Ye){return Ye&&Ye._delegate?Ye._delegate:Ye}},7102:(Gn,tt,S)=>{"use strict";S.d(tt,{m:()=>xe});var c=S(6814),t=S(1476),y=S(7700),w=S(2939),E=S(5313),F=S(2032),L=S(4170),D=S(3566),p=S(5986),f=S(5940),g=S(2596),v=S(3680),A=S(8525),U=S(8034),R=S(5879);let fe=(()=>{class pe{static#e=this.\u0275fac=function(we){return new(we||pe)};static#t=this.\u0275mod=R.oAB({type:pe});static#n=this.\u0275inj=R.cJS({imports:[v.BQ,c.ez,v.BQ]})}return pe})(),Re=(()=>{class pe{static#e=this.\u0275fac=function(we){return new(we||pe)};static#t=this.\u0275mod=R.oAB({type:pe});static#n=this.\u0275inj=R.cJS({imports:[c.ez,t.TU,y.Is,w.ZX,E.p0,F.c,L.lN,D.JX,p.p9,f.Cq,g.AV,v.Ng,A.LD,U.FA,v.XK,fe,t.TU,y.Is,w.ZX,E.p0,F.c,L.lN,D.JX,p.p9,f.Cq,g.AV,v.Ng,A.LD,U.FA,v.XK,fe]})}return pe})(),xe=(()=>{class pe{static#e=this.\u0275fac=function(we){return new(we||pe)};static#t=this.\u0275mod=R.oAB({type:pe});static#n=this.\u0275inj=R.cJS({imports:[c.ez,Re,c.ez,Re]})}return pe})()},7941:(Gn,tt,S)=>{"use strict";var c=S(6593),t=S(5879),y=S(2096),w=S(2459),E=S(5592),F=S(6328),L=S(2181),D=S(7398),p=S(4716),f=S(4664),g=S(6814);class v{}class A{}class U{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),d=o.toLowerCase(),m=e.slice(i+1).trim();this.maybeSetNormalizedName(o,d),this.headers.has(d)?this.headers.get(d).push(m):this.headers.set(d,[m])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof U?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new U;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof U?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const d=n.value;if(d){let m=this.headers.get(e);if(!m)return;m=m.filter(b=>-1===d.indexOf(b)),0===m.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,m)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(d=>d.toString()),o=n.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class H{encodeKey(n){return P(n)}encodeValue(n){return P(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const O=/%(\d[a-f0-9])/gi,M={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function P(r){return encodeURIComponent(r).replace(O,(n,e)=>M[e]??n)}function T(r){return`${r}`}class N{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new H,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k(r,n){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const d=o.indexOf("="),[m,b]=-1==d?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,d)),n.decodeValue(o.slice(d+1))],I=e.get(m)||[];I.push(b),e.set(m,I)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],o=Array.isArray(i)?i.map(T):[T(i)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(d=>{e.push({param:i,value:d,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new N({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(T(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(T(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class B{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function q(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function le(r){return typeof Blob<"u"&&r instanceof Blob}function Fe(r){return typeof FormData<"u"&&r instanceof FormData}class ae{constructor(n,e,i,o){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function W(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,d=o):d=i,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new U),this.context||(this.context=new B),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=e;else{const b=e.indexOf("?");this.urlWithParams=e+(-1===b?"?":b<e.length-1?"&":"")+m}}else this.params=new N,this.urlWithParams=e}serializeBody(){return null===this.body?null:q(this.body)||le(this.body)||Fe(this.body)||function $(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof N?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fe(this.body)?null:le(this.body)?this.body.type||null:q(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,d=void 0!==n.body?n.body:this.body,m=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,b=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let I=n.headers||this.headers,G=n.params||this.params;const ne=n.context??this.context;return void 0!==n.setHeaders&&(I=Object.keys(n.setHeaders).reduce((me,ze)=>me.set(ze,n.setHeaders[ze]),I)),n.setParams&&(G=Object.keys(n.setParams).reduce((me,ze)=>me.set(ze,n.setParams[ze]),G)),new ae(e,i,d,{params:G,headers:I,context:ne,reportProgress:b,responseType:o,withCredentials:m})}}var K=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(K||{});class ge{constructor(n,e=200,i="OK"){this.headers=n.headers||new U,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class oe extends ge{constructor(n={}){super(n),this.type=K.ResponseHeader}clone(n={}){return new oe({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class he extends ge{constructor(n={}){super(n),this.type=K.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new he({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Ce extends ge{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Le(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let fe=(()=>{class r{constructor(e){this.handler=e}request(e,i,o={}){let d;if(e instanceof ae)d=e;else{let I,G;I=o.headers instanceof U?o.headers:new U(o.headers),o.params&&(G=o.params instanceof N?o.params:new N({fromObject:o.params})),d=new ae(e,i,void 0!==o.body?o.body:null,{headers:I,context:o.context,params:G,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const m=(0,y.of)(d).pipe((0,F.b)(I=>this.handler.handle(I)));if(e instanceof ae||"events"===o.observe)return m;const b=m.pipe((0,L.h)(I=>I instanceof he));switch(o.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return b.pipe((0,D.U)(I=>{if(null!==I.body&&!(I.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return I.body}));case"blob":return b.pipe((0,D.U)(I=>{if(null!==I.body&&!(I.body instanceof Blob))throw new Error("Response is not a Blob.");return I.body}));case"text":return b.pipe((0,D.U)(I=>{if(null!==I.body&&"string"!=typeof I.body)throw new Error("Response is not a string.");return I.body}));default:return b.pipe((0,D.U)(I=>I.body))}case"response":return b;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new N).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,Le(o,i))}post(e,i,o={}){return this.request("POST",e,Le(o,i))}put(e,i,o={}){return this.request("PUT",e,Le(o,i))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(v))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function st(r,n){return n(r)}function Je(r,n){return(e,i)=>n.intercept(e,{handle:o=>r(o,i)})}const Te=new t.OlP(""),Y=new t.OlP(""),se=new t.OlP("");function _e(){let r=null;return(n,e)=>{null===r&&(r=((0,t.f3M)(Te,{optional:!0})??[]).reduceRight(Je,st));const i=(0,t.f3M)(t.HDt),o=i.add();return r(n,e).pipe((0,p.x)(()=>i.remove(o)))}}let J=(()=>{class r extends v{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,t.f3M)(t.HDt)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Y),...this.injector.get(se,[])]));this.chain=o.reduceRight((d,m)=>function Ne(r,n,e){return(i,o)=>e.runInContext(()=>n(i,d=>r(d,o)))}(d,m,this.injector),st)}const i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe((0,p.x)(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(A),t.LFG(t.lqb))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const He=/^\)\]\}',?\n/;let ct=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new t.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,w.D)(i.\u0275loadImpl()):(0,y.of)(null)).pipe((0,f.w)(()=>new E.y(d=>{const m=i.build();if(m.open(e.method,e.urlWithParams),e.withCredentials&&(m.withCredentials=!0),e.headers.forEach((St,Ot)=>m.setRequestHeader(St,Ot.join(","))),e.headers.has("Accept")||m.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const St=e.detectContentTypeHeader();null!==St&&m.setRequestHeader("Content-Type",St)}if(e.responseType){const St=e.responseType.toLowerCase();m.responseType="json"!==St?St:"text"}const b=e.serializeBody();let I=null;const G=()=>{if(null!==I)return I;const St=m.statusText||"OK",Ot=new U(m.getAllResponseHeaders()),zt=function at(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(m)||e.url;return I=new oe({headers:Ot,status:m.status,statusText:St,url:zt}),I},ne=()=>{let{headers:St,status:Ot,statusText:zt,url:hn}=G(),ln=null;204!==Ot&&(ln=typeof m.response>"u"?m.responseText:m.response),0===Ot&&(Ot=ln?200:0);let En=Ot>=200&&Ot<300;if("json"===e.responseType&&"string"==typeof ln){const Dn=ln;ln=ln.replace(He,"");try{ln=""!==ln?JSON.parse(ln):null}catch(Hn){ln=Dn,En&&(En=!1,ln={error:Hn,text:ln})}}En?(d.next(new he({body:ln,headers:St,status:Ot,statusText:zt,url:hn||void 0})),d.complete()):d.error(new Ce({error:ln,headers:St,status:Ot,statusText:zt,url:hn||void 0}))},me=St=>{const{url:Ot}=G(),zt=new Ce({error:St,status:m.status||0,statusText:m.statusText||"Unknown Error",url:Ot||void 0});d.error(zt)};let ze=!1;const et=St=>{ze||(d.next(G()),ze=!0);let Ot={type:K.DownloadProgress,loaded:St.loaded};St.lengthComputable&&(Ot.total=St.total),"text"===e.responseType&&m.responseText&&(Ot.partialText=m.responseText),d.next(Ot)},mt=St=>{let Ot={type:K.UploadProgress,loaded:St.loaded};St.lengthComputable&&(Ot.total=St.total),d.next(Ot)};return m.addEventListener("load",ne),m.addEventListener("error",me),m.addEventListener("timeout",me),m.addEventListener("abort",me),e.reportProgress&&(m.addEventListener("progress",et),null!==b&&m.upload&&m.upload.addEventListener("progress",mt)),m.send(b),d.next({type:K.Sent}),()=>{m.removeEventListener("error",me),m.removeEventListener("abort",me),m.removeEventListener("load",ne),m.removeEventListener("timeout",me),e.reportProgress&&(m.removeEventListener("progress",et),null!==b&&m.upload&&m.upload.removeEventListener("progress",mt)),m.readyState!==m.DONE&&m.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.JF))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const it=new t.OlP("XSRF_ENABLED"),Ht=new t.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),jt=new t.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class en{}let dn=(()=>{class r{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0),t.LFG(t.Lbi),t.LFG(Ht))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function un(r,n){const e=r.url.toLowerCase();if(!(0,t.f3M)(it)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return n(r);const i=(0,t.f3M)(en).getToken(),o=(0,t.f3M)(jt);return null!=i&&!r.headers.has(o)&&(r=r.clone({headers:r.headers.set(o,i)})),n(r)}var Cn=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(Cn||{});function Dt(...r){const n=[fe,ct,J,{provide:v,useExisting:J},{provide:A,useExisting:ct},{provide:Y,useValue:un,multi:!0},{provide:it,useValue:!0},{provide:en,useClass:dn}];for(const e of r)n.push(...e.\u0275providers);return(0,t.MR2)(n)}const Qe=new t.OlP("LEGACY_INTERCEPTOR_FN");function De(){return function nn(r,n){return{\u0275kind:r,\u0275providers:n}}(Cn.LegacyInterceptors,[{provide:Qe,useFactory:_e},{provide:Y,useExisting:Qe,multi:!0}])}let Ft=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:[Dt(De())]})}return r})();var Zt,Vn=S(5612),ci=S(9397),yn=function(r){return r[r.MediaServerState=1]="MediaServerState",r[r.MediaType=2]="MediaType",r[r.VideoTransmissionType=3]="VideoTransmissionType",r[r.TranscoderPreset=4]="TranscoderPreset",r[r.IconTypes=5]="IconTypes",r[r.LinkedAccountProvider=6]="LinkedAccountProvider",r}(yn||{}),bt=function(r){return r[r.Movie=1]="Movie",r[r.TvSerie=2]="TvSerie",r[r.Music=3]="Music",r[r.Photo=4]="Photo",r[r.Other=5]="Other",r}(bt||{}),ut=function(r){return r[r.None=1]="None",r[r.MPEGDASH=2]="MPEGDASH",r[r.HLS=3]="HLS",r}(ut||{}),Xe=function(r){return r[r.GET=0]="GET",r[r.POST=1]="POST",r[r.PUT=2]="PUT",r[r.DELETE=3]="DELETE",r}(Xe||{}),Pt=function(r){return r[r.Empty=0]="Empty",r[r.Generated=1]="Generated",r[r.Initialized=2]="Initialized",r[r.LoadedMetada=3]="LoadedMetada",r[r.LoadedData=4]="LoadedData",r}(Pt||{}),Qt=function(r){return r[r.SinovadDb=1]="SinovadDb",r[r.TMDb=2]="TMDb",r[r.IMDb=3]="IMDb",r}(Qt||{}),In=function(r){return r[r.Google=1]="Google",r[r.Facebook=2]="Facebook",r[r.Apple=3]="Apple",r}(In||{}),Fn=function(r){return r[r.Ok=1]="Ok",r[r.Plus=2]="Plus",r[r.Bin=3]="Bin",r[r.Bullhorn=4]="Bullhorn",r[r.Tags=5]="Tags",r}(Fn||{}),Yt=new Uint8Array(16);function on(){if(!Zt&&!(Zt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zt(Yt)}const Tn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Et=[],fn=0;fn<256;++fn)Et.push((fn+256).toString(16).substr(1));const yt=function be(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Et[r[n+0]]+Et[r[n+1]]+Et[r[n+2]]+Et[r[n+3]]+"-"+Et[r[n+4]]+Et[r[n+5]]+"-"+Et[r[n+6]]+Et[r[n+7]]+"-"+Et[r[n+8]]+Et[r[n+9]]+"-"+Et[r[n+10]]+Et[r[n+11]]+Et[r[n+12]]+Et[r[n+13]]+Et[r[n+14]]+Et[r[n+15]]).toLowerCase();if(!function Un(r){return"string"==typeof r&&Tn.test(r)}(e))throw TypeError("Stringified UUID is invalid");return e},kt=function gt(r,n,e){var i=(r=r||{}).random||(r.rng||on)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(var o=0;o<16;++o)n[e+o]=i[o];return n}return yt(i)};var an=S(8645);class ti{}let hi=(()=>{class r{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.configurationData=new ti,this.listProfiles=[],this.manageMenus=[],this.mediaServers=[],this.linkedAccounts=[]}checkIfIsEnableMenuOptionByPath(e){var i=!1;for(let o=0;o<this.manageMenus.length;o++){const d=this.manageMenus[o];if(d.ChildMenus&&-1!=d.ChildMenus.findIndex(m=>m.Path&&m.Path.includes(e))){i=!0;break}}return i}formatDate(e){const i=new Date(e);let o=""+(i.getMonth()+1),d=""+i.getDate();const m=i.getFullYear();return o.length<2&&(o="0"+o),d.length<2&&(d="0"+d),[m,o,d].join("-")}getInitials(e){return e.FullName.substring(0,1)}delay(e){return new Promise(i=>setTimeout(i,e))}hasRequireErrorFormControl(e,i){return!!e.controls[i].errors.required}isInvalidFormControl(e,i){return!(!e.controls[i].invalid||!e.controls[i].dirty&&!e.controls[i].touched)}hasErrorPatternFormControl(e,i){return!!e.controls[i].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemMovieDataBase(e){if(e.MetadataAgentsId==Qt.TMDb)return this.originalUrlImagesMovieDataBase+e.PosterPath;if(e.PosterPath)return e.PosterPath;var i=this.mediaServers.find(o=>o.Id==e.MediaServerId);return i?i.Url+"/media/"+e.MediaFileGuid+"/thumbnail.png":"assets/img/no-image-available.jpg"}getYearByDateFormat(e){return new Date(e).getFullYear()}sort_by(e,i,o){let d=o?m=>o(m[e]):m=>m[e];return i=i?-1:1,(m,b)=>(m=d(m),b=d(b),i*(+(m>b)-+(b>m)))}validateEmailFormat(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}isHttpsSite(){return!!window.location.origin.startsWith("https")}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Li=(()=>{class r{constructor(e,i){this.http=e,this.sharedService=i}performExecuteMethod(e,i,o){return new Promise((d,m)=>{try{let b={responseType:"text"};if(this.sharedService.apiToken){const G=new U({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedService.apiToken});b.headers=G}e==Xe.GET&&this.http.get(i,b).subscribe(I=>{d(I)},I=>{m(I)}),e==Xe.POST&&this.http.post(i,o,b).subscribe(I=>{d(I)},I=>{m(I)}),e==Xe.PUT&&this.http.put(i,o,b).subscribe(I=>{d(I)},I=>{m(I)}),e==Xe.DELETE&&this.http.delete(i,b).subscribe(I=>{d(I)},I=>{m(I)})}catch(b){m(b)}})}executeSinovadApiService(e,i,o){let d=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+i;return new Promise((m,b)=>{try{this.performExecuteMethod(e,d,o).then(I=>{m(JSON.parse(I))},I=>{let G=I;if(null!=I.error){G=I.error;try{var ne=JSON.parse(G);if(ne.errors){let ze=ne.errors,et=[];Object.keys(ze).map(mt=>{var St=ze[mt].join("\n");et.push(St)}),G=et.join("\n")}else ne.Errors?G=ne.Errors.map(ze=>ze.ErrorMessage).join("\n"):ne.Message&&(G=ne.Message)}catch{}}401==I.status&&this.sharedService.apiToken&&(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(G),b(G)})}catch(I){b(I)}})}executeHttpMediaServerApi(e,i,o){return new Promise((d,m)=>{try{this.performExecuteMethod(e,i,o).then(b=>{try{d(JSON.parse(b))}catch(I){m(I)}},b=>{m(b)})}catch(b){m(b)}})}executeHttpMethodByUrl(e,i,o){return new Promise((d,m)=>{this.performExecuteMethod(e,i,o).then(b=>{d(b)},b=>{m(b)})})}executeHttpPostMethodWithFormData(e,i){let o=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+e;return new Promise((d,m)=>{let b={responseType:"text"};if(this.sharedService.apiToken){const G=new U({Accept:"*/*",Authorization:"Bearer "+this.sharedService.apiToken});b.headers=G}this.http.post(o,i,b).subscribe(I=>{d(I)},I=>{m(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(fe),t.LFG(hi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),pr=(()=>{class r{constructor(e,i){this.sharedService=e,this.restProvider=i,this.completedLoadUserManageMenu$=new an.x,this.loadedManageMenu=!1}completeLoadUserManageMenu(){this.completedLoadUserManageMenu$.next(!0)}isCompletedLoadUserManageMenu(){return this.completedLoadUserManageMenu$.asObservable()}getManageMenu(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/menus/GetByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.manageMenus=o.Data,this.completeLoadUserManageMenu(),this.loadedManageMenu=!0,e(!0)},o=>{i(o)})})}getAllMenus(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/menus/GetAllAsync").then(d=>{e(d)},d=>{console.error(d),i(d)})})}getItems(e,i,o,d,m,b){return new Promise((I,G)=>{let ne=kt();this.lastCallGuid=ne;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(Xe.GET,"/menus/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==ne&&I(et)},et=>{console.error(et),G(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/menus/Update":"/menus/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/menus/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/menus/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(hi),t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const vr=[0,2e3,1e4,3e4,null];class mo{constructor(n){this._retryDelays=void 0!==n?[...n,null]:vr}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}}var Hi=S(5861);let Wr=(()=>{class r{}return r.Authorization="Authorization",r.Cookie="Cookie",r})();class Bo{constructor(n,e,i){this.statusCode=n,this.statusText=e,this.content=i}}class xi{get(n,e){return this.send({...e,method:"GET",url:n})}post(n,e){return this.send({...e,method:"POST",url:n})}delete(n,e){return this.send({...e,method:"DELETE",url:n})}getCookieString(n){return""}}class Dr extends xi{constructor(n,e){super(),this._innerClient=n,this._accessTokenFactory=e}send(n){var e=this;return(0,Hi.Z)(function*(){let i=!0;e._accessTokenFactory&&(!e._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(i=!1,e._accessToken=yield e._accessTokenFactory()),e._setAuthorizationHeader(n);const o=yield e._innerClient.send(n);return i&&401===o.statusCode&&e._accessTokenFactory?(e._accessToken=yield e._accessTokenFactory(),e._setAuthorizationHeader(n),yield e._innerClient.send(n)):o})()}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[Wr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[Wr.Authorization]&&delete n.headers[Wr.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}}class qi extends Error{constructor(n,e){const i=new.target.prototype;super(`${n}: Status code '${e}'`),this.statusCode=e,this.__proto__=i}}class Yr extends Error{constructor(n="A timeout occurred."){const e=new.target.prototype;super(n),this.__proto__=e}}class Ji extends Error{constructor(n="An abort occurred."){const e=new.target.prototype;super(n),this.__proto__=e}}class Xo extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=i}}class Ao extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=i}}class Hr extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=i}}class zr extends Error{constructor(n){const e=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class Ro extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.innerErrors=e,this.__proto__=i}}var On=function(r){return r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Information=2]="Information",r[r.Warning=3]="Warning",r[r.Error=4]="Error",r[r.Critical=5]="Critical",r[r.None=6]="None",r}(On||{});class oi{constructor(){}log(n,e){}}oi.instance=new oi;const ki="7.0.10";class wi{static isRequired(n,e){if(null==n)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(n,e){if(!n||n.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(n,e,i){if(!(n in e))throw new Error(`Unknown ${i} value: ${n}.`)}}class zi{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function ro(r,n){let e="";return Rr(r)?(e=`Binary data of length ${r.byteLength}`,n&&(e+=`. Content: '${function xr(r){const n=new Uint8Array(r);let e="";return n.forEach(i=>{e+=`0x${i<16?"0":""}${i.toString(16)} `}),e.substr(0,e.length-1)}(r)}'`)):"string"==typeof r&&(e=`String data of length ${r.length}`,n&&(e+=`. Content: '${r}'`)),e}function Rr(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&"ArrayBuffer"===r.constructor.name)}function qt(r,n,e,i,o,d){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,Hi.Z)(function*(r,n,e,i,o,d){const m={},[b,I]=Oi();m[b]=I,r.log(On.Trace,`(${n} transport) sending data. ${ro(o,d.logMessageContent)}.`);const G=Rr(o)?"arraybuffer":"text",ne=yield e.post(i,{content:o,headers:{...m,...d.headers},responseType:G,timeout:d.timeout,withCredentials:d.withCredentials});r.log(On.Trace,`(${n} transport) request complete. Response status: ${ne.statusCode}.`)})).apply(this,arguments)}class Kn{constructor(n,e){this._subject=n,this._observer=e}dispose(){const n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class vi{constructor(n){this._minLevel=n,this.out=console}log(n,e){if(n>=this._minLevel){const i=`[${(new Date).toISOString()}] ${On[n]}: ${e}`;switch(n){case On.Critical:case On.Error:this.out.error(i);break;case On.Warning:this.out.warn(i);break;case On.Information:this.out.info(i);break;default:this.out.log(i)}}}}function Oi(){let r="X-SignalR-User-Agent";return zi.isNode&&(r="User-Agent"),[r,Ui(ki,Ri(),zi.isNode?"NodeJS":"Browser",yr())]}function Ui(r,n,e,i){let o="Microsoft SignalR/";const d=r.split(".");return o+=`${d[0]}.${d[1]}`,o+=` (${r}; `,o+=n&&""!==n?`${n}; `:"Unknown OS; ",o+=`${e}`,o+=i?`; ${i}`:"; Unknown Runtime Version",o+=")",o}function Ri(){if(!zi.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function yr(){if(zi.isNode)return process.versions.node}function oo(r){return r.stack?r.stack:r.message?r.message:`${r}`}class as extends xi{constructor(n){if(super(),this._logger=n,typeof fetch>"u"){const e=require;this._jar=new(e("tough-cookie").CookieJar),this._fetchType=e("node-fetch"),this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function po(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const e=require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}send(n){var e=this;return(0,Hi.Z)(function*(){if(n.abortSignal&&n.abortSignal.aborted)throw new Ji;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");const i=new e._abortControllerType;let o;n.abortSignal&&(n.abortSignal.onabort=()=>{i.abort(),o=new Ji});let m,d=null;n.timeout&&(d=setTimeout(()=>{i.abort(),e._logger.log(On.Warning,"Timeout from HTTP request."),o=new Yr},n.timeout)),""===n.content&&(n.content=void 0),n.content&&(n.headers=n.headers||{},n.headers["Content-Type"]=Rr(n.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{m=yield e._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:!0===n.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...n.headers},method:n.method,mode:"cors",redirect:"follow",signal:i.signal})}catch(G){throw o||(e._logger.log(On.Warning,`Error from HTTP request. ${G}.`),G)}finally{d&&clearTimeout(d),n.abortSignal&&(n.abortSignal.onabort=null)}if(!m.ok){const G=yield Nr(m,"text");throw new qi(G||m.statusText,m.status)}const I=yield Nr(m,n.responseType);return new Bo(m.status,m.statusText,I)})()}getCookieString(n){let e="";return zi.isNode&&this._jar&&this._jar.getCookies(n,(i,o)=>e=o.join("; ")),e}}function Nr(r,n){let e;switch(n){case"arraybuffer":e=r.arrayBuffer();break;case"text":default:e=r.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`)}return e}class jr extends xi{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Ji):n.method?n.url?new Promise((e,i)=>{const o=new XMLHttpRequest;o.open(n.method,n.url,!0),o.withCredentials=void 0===n.withCredentials||n.withCredentials,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===n.content&&(n.content=void 0),n.content&&(Rr(n.content)?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const d=n.headers;d&&Object.keys(d).forEach(m=>{o.setRequestHeader(m,d[m])}),n.responseType&&(o.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{o.abort(),i(new Ji)}),n.timeout&&(o.timeout=n.timeout),o.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),o.status>=200&&o.status<300?e(new Bo(o.status,o.statusText,o.response||o.responseText)):i(new qi(o.response||o.responseText||o.statusText,o.status))},o.onerror=()=>{this._logger.log(On.Warning,`Error from HTTP request. ${o.status}: ${o.statusText}.`),i(new qi(o.statusText,o.status))},o.ontimeout=()=>{this._logger.log(On.Warning,"Timeout from HTTP request."),i(new Yr)},o.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Uo extends xi{constructor(n){if(super(),typeof fetch<"u"||zi.isNode)this._httpClient=new as(n);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new jr(n)}}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Ji):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}}var gr=function(r){return r[r.None=0]="None",r[r.WebSockets=1]="WebSockets",r[r.ServerSentEvents=2]="ServerSentEvents",r[r.LongPolling=4]="LongPolling",r}(gr||{}),Pi=function(r){return r[r.Text=1]="Text",r[r.Binary=2]="Binary",r}(Pi||{});class oa{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class xo{constructor(n,e,i){this._httpClient=n,this._logger=e,this._pollAbort=new oa,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(n,e){var i=this;return(0,Hi.Z)(function*(){if(wi.isRequired(n,"url"),wi.isRequired(e,"transferFormat"),wi.isIn(e,Pi,"transferFormat"),i._url=n,i._logger.log(On.Trace,"(LongPolling transport) Connecting."),e===Pi.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,d]=Oi(),m={[o]:d,...i._options.headers},b={abortSignal:i._pollAbort.signal,headers:m,timeout:1e5,withCredentials:i._options.withCredentials};e===Pi.Binary&&(b.responseType="arraybuffer");const I=`${n}&_=${Date.now()}`;i._logger.log(On.Trace,`(LongPolling transport) polling: ${I}.`);const G=yield i._httpClient.get(I,b);200!==G.statusCode?(i._logger.log(On.Error,`(LongPolling transport) Unexpected response code: ${G.statusCode}.`),i._closeError=new qi(G.statusText||"",G.statusCode),i._running=!1):i._running=!0,i._receiving=i._poll(i._url,b)})()}_poll(n,e){var i=this;return(0,Hi.Z)(function*(){try{for(;i._running;)try{const o=`${n}&_=${Date.now()}`;i._logger.log(On.Trace,`(LongPolling transport) polling: ${o}.`);const d=yield i._httpClient.get(o,e);204===d.statusCode?(i._logger.log(On.Information,"(LongPolling transport) Poll terminated by server."),i._running=!1):200!==d.statusCode?(i._logger.log(On.Error,`(LongPolling transport) Unexpected response code: ${d.statusCode}.`),i._closeError=new qi(d.statusText||"",d.statusCode),i._running=!1):d.content?(i._logger.log(On.Trace,`(LongPolling transport) data received. ${ro(d.content,i._options.logMessageContent)}.`),i.onreceive&&i.onreceive(d.content)):i._logger.log(On.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){i._running?o instanceof Yr?i._logger.log(On.Trace,"(LongPolling transport) Poll timed out, reissuing."):(i._closeError=o,i._running=!1):i._logger.log(On.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{i._logger.log(On.Trace,"(LongPolling transport) Polling complete."),i.pollAborted||i._raiseOnClose()}})()}send(n){var e=this;return(0,Hi.Z)(function*(){return e._running?qt(e._logger,"LongPolling",e._httpClient,e._url,n,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var n=this;return(0,Hi.Z)(function*(){n._logger.log(On.Trace,"(LongPolling transport) Stopping polling."),n._running=!1,n._pollAbort.abort();try{yield n._receiving,n._logger.log(On.Trace,`(LongPolling transport) sending DELETE request to ${n._url}.`);const e={},[i,o]=Oi();e[i]=o;const d={headers:{...e,...n._options.headers},timeout:n._options.timeout,withCredentials:n._options.withCredentials};yield n._httpClient.delete(n._url,d),n._logger.log(On.Trace,"(LongPolling transport) DELETE request sent.")}finally{n._logger.log(On.Trace,"(LongPolling transport) Stop finished."),n._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(On.Trace,n),this.onclose(this._closeError)}}}class vs{constructor(n,e,i,o){this._httpClient=n,this._accessToken=e,this._logger=i,this._options=o,this.onreceive=null,this.onclose=null}connect(n,e){var i=this;return(0,Hi.Z)(function*(){return wi.isRequired(n,"url"),wi.isRequired(e,"transferFormat"),wi.isIn(e,Pi,"transferFormat"),i._logger.log(On.Trace,"(SSE transport) Connecting."),i._url=n,i._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i._accessToken)}`),new Promise((o,d)=>{let b,m=!1;if(e===Pi.Text){if(zi.isBrowser||zi.isWebWorker)b=new i._options.EventSource(n,{withCredentials:i._options.withCredentials});else{const I=i._httpClient.getCookieString(n),G={};G.Cookie=I;const[ne,me]=Oi();G[ne]=me,b=new i._options.EventSource(n,{withCredentials:i._options.withCredentials,headers:{...G,...i._options.headers}})}try{b.onmessage=I=>{if(i.onreceive)try{i._logger.log(On.Trace,`(SSE transport) data received. ${ro(I.data,i._options.logMessageContent)}.`),i.onreceive(I.data)}catch(G){return void i._close(G)}},b.onerror=I=>{m?i._close():d(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},b.onopen=()=>{i._logger.log(On.Information,`SSE connected to ${i._url}`),i._eventSource=b,m=!0,o()}}catch(I){return void d(I)}}else d(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(n){var e=this;return(0,Hi.Z)(function*(){return e._eventSource?qt(e._logger,"SSE",e._httpClient,e._url,n,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}}class so{constructor(n,e,i,o,d,m){this._logger=i,this._accessTokenFactory=e,this._logMessageContent=o,this._webSocketConstructor=d,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=m}connect(n,e){var i=this;return(0,Hi.Z)(function*(){let o;return wi.isRequired(n,"url"),wi.isRequired(e,"transferFormat"),wi.isIn(e,Pi,"transferFormat"),i._logger.log(On.Trace,"(WebSockets transport) Connecting."),i._accessTokenFactory&&(o=yield i._accessTokenFactory()),new Promise((d,m)=>{let b;n=n.replace(/^http/,"ws");const I=i._httpClient.getCookieString(n);let G=!1;if(zi.isNode||zi.isReactNative){const ne={},[me,ze]=Oi();ne[me]=ze,o&&(ne[Wr.Authorization]=`Bearer ${o}`),I&&(ne[Wr.Cookie]=I),b=new i._webSocketConstructor(n,void 0,{headers:{...ne,...i._headers}})}else o&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);b||(b=new i._webSocketConstructor(n)),e===Pi.Binary&&(b.binaryType="arraybuffer"),b.onopen=ne=>{i._logger.log(On.Information,`WebSocket connected to ${n}.`),i._webSocket=b,G=!0,d()},b.onerror=ne=>{let me=null;me=typeof ErrorEvent<"u"&&ne instanceof ErrorEvent?ne.error:"There was an error with the transport",i._logger.log(On.Information,`(WebSockets transport) ${me}.`)},b.onmessage=ne=>{if(i._logger.log(On.Trace,`(WebSockets transport) data received. ${ro(ne.data,i._logMessageContent)}.`),i.onreceive)try{i.onreceive(ne.data)}catch(me){return void i._close(me)}},b.onclose=ne=>{if(G)i._close(ne);else{let me=null;me=typeof ErrorEvent<"u"&&ne instanceof ErrorEvent?ne.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",m(new Error(me))}}})})()}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(On.Trace,`(WebSockets transport) sending data. ${ro(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(On.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(n)||!1!==n.wasClean&&1e3===n.code?n instanceof Error?this.onclose(n):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)))}_isCloseEvent(n){return n&&"boolean"==typeof n.wasClean&&"number"==typeof n.code}}class es{constructor(n,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,wi.isRequired(n,"url"),this._logger=function Xn(r){return void 0===r?new vi(On.Information):null===r?oi.instance:void 0!==r.log?r:new vi(r)}(e.logger),this.baseUrl=this._resolveUrl(n),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials,e.timeout=void 0===e.timeout?1e5:e.timeout;let i=null,o=null;if(zi.isNode){const d=require;i=d("ws"),o=d("eventsource")}!zi.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:zi.isNode&&!e.WebSocket&&i&&(e.WebSocket=i),!zi.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:zi.isNode&&!e.EventSource&&typeof o<"u"&&(e.EventSource=o),this._httpClient=new Dr(e.httpClient||new Uo(this._logger),e.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}start(n){var e=this;return(0,Hi.Z)(function*(){if(wi.isIn(n=n||Pi.Binary,Pi,"transferFormat"),e._logger.log(On.Debug,`Starting connection with transfer format '${Pi[n]}'.`),"Disconnected"!==e._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(e._connectionState="Connecting",e._startInternalPromise=e._startInternal(n),yield e._startInternalPromise,"Disconnecting"===e._connectionState){const i="Failed to start the HttpConnection before stop() was called.";return e._logger.log(On.Error,i),yield e._stopPromise,Promise.reject(new Ji(i))}if("Connected"!==e._connectionState){const i="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return e._logger.log(On.Error,i),Promise.reject(new Ji(i))}e._connectionStarted=!0})()}send(n){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Mr(this.transport)),this._sendQueue.send(n))}stop(n){var e=this;return(0,Hi.Z)(function*(){return"Disconnected"===e._connectionState?(e._logger.log(On.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===e._connectionState?(e._logger.log(On.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),e._stopPromise):(e._connectionState="Disconnecting",e._stopPromise=new Promise(i=>{e._stopPromiseResolver=i}),yield e._stopInternal(n),void(yield e._stopPromise))})()}_stopInternal(n){var e=this;return(0,Hi.Z)(function*(){e._stopError=n;try{yield e._startInternalPromise}catch{}if(e.transport){try{yield e.transport.stop()}catch(i){e._logger.log(On.Error,`HttpConnection.transport.stop() threw error '${i}'.`),e._stopConnection()}e.transport=void 0}else e._logger.log(On.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(n){var e=this;return(0,Hi.Z)(function*(){let i=e.baseUrl;e._accessTokenFactory=e._options.accessTokenFactory,e._httpClient._accessTokenFactory=e._accessTokenFactory;try{if(e._options.skipNegotiation){if(e._options.transport!==gr.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");e.transport=e._constructTransport(gr.WebSockets),yield e._startTransport(i,n)}else{let o=null,d=0;do{if(o=yield e._getNegotiationResponse(i),"Disconnecting"===e._connectionState||"Disconnected"===e._connectionState)throw new Ji("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(i=o.url),o.accessToken){const m=o.accessToken;e._accessTokenFactory=()=>m,e._httpClient._accessToken=m,e._httpClient._accessTokenFactory=void 0}d++}while(o.url&&d<100);if(100===d&&o.url)throw new Error("Negotiate redirection limit exceeded.");yield e._createTransport(i,e._options.transport,o,n)}e.transport instanceof xo&&(e.features.inherentKeepAlive=!0),"Connecting"===e._connectionState&&(e._logger.log(On.Debug,"The HttpConnection connected successfully."),e._connectionState="Connected")}catch(o){return e._logger.log(On.Error,"Failed to start the connection: "+o),e._connectionState="Disconnected",e.transport=void 0,e._stopPromiseResolver(),Promise.reject(o)}})()}_getNegotiationResponse(n){var e=this;return(0,Hi.Z)(function*(){const i={},[o,d]=Oi();i[o]=d;const m=e._resolveNegotiateUrl(n);e._logger.log(On.Debug,`Sending negotiation request: ${m}.`);try{const b=yield e._httpClient.post(m,{content:"",headers:{...i,...e._options.headers},timeout:e._options.timeout,withCredentials:e._options.withCredentials});if(200!==b.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${b.statusCode}'`));const I=JSON.parse(b.content);return(!I.negotiateVersion||I.negotiateVersion<1)&&(I.connectionToken=I.connectionId),I}catch(b){let I="Failed to complete negotiation with the server: "+b;return b instanceof qi&&404===b.statusCode&&(I+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),e._logger.log(On.Error,I),Promise.reject(new zr(I))}})()}_createConnectUrl(n,e){return e?n+(-1===n.indexOf("?")?"?":"&")+`id=${e}`:n}_createTransport(n,e,i,o){var d=this;return(0,Hi.Z)(function*(){let m=d._createConnectUrl(n,i.connectionToken);if(d._isITransport(e))return d._logger.log(On.Debug,"Connection was provided an instance of ITransport, using that directly."),d.transport=e,yield d._startTransport(m,o),void(d.connectionId=i.connectionId);const b=[],I=i.availableTransports||[];let G=i;for(const ne of I){const me=d._resolveTransportOrError(ne,e,o);if(me instanceof Error)b.push(`${ne.transport} failed:`),b.push(me);else if(d._isITransport(me)){if(d.transport=me,!G){try{G=yield d._getNegotiationResponse(n)}catch(ze){return Promise.reject(ze)}m=d._createConnectUrl(n,G.connectionToken)}try{return yield d._startTransport(m,o),void(d.connectionId=G.connectionId)}catch(ze){if(d._logger.log(On.Error,`Failed to start the transport '${ne.transport}': ${ze}`),G=void 0,b.push(new Hr(`${ne.transport} failed: ${ze}`,gr[ne.transport])),"Connecting"!==d._connectionState){const et="Failed to select transport before stop() was called.";return d._logger.log(On.Debug,et),Promise.reject(new Ji(et))}}}}return Promise.reject(b.length>0?new Ro(`Unable to connect to the server with any of the available transports. ${b.join(" ")}`,b):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(n){switch(n){case gr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new so(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case gr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new vs(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case gr.LongPolling:return new xo(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,e){return this.transport.onreceive=this.onreceive,this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(n,e)}_resolveTransportOrError(n,e,i){const o=gr[n.transport];if(null==o)return this._logger.log(On.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(!function ls(r,n){return!r||0!=(n&r)}(e,o))return this._logger.log(On.Debug,`Skipping transport '${gr[o]}' because it was disabled by the client.`),new Ao(`'${gr[o]}' is disabled by the client.`,o);if(!(n.transferFormats.map(m=>Pi[m]).indexOf(i)>=0))return this._logger.log(On.Debug,`Skipping transport '${gr[o]}' because it does not support the requested transfer format '${Pi[i]}'.`),new Error(`'${gr[o]}' does not support ${Pi[i]}.`);if(o===gr.WebSockets&&!this._options.WebSocket||o===gr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(On.Debug,`Skipping transport '${gr[o]}' because it is not supported in your environment.'`),new Xo(`'${gr[o]}' is not supported in your environment.`,o);this._logger.log(On.Debug,`Selecting transport '${gr[o]}'.`);try{return this._constructTransport(o)}catch(m){return m}}_isITransport(n){return n&&"object"==typeof n&&"connect"in n}_stopConnection(n){if(this._logger.log(On.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(On.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),n?this._logger.log(On.Error,`Connection disconnected with error '${n}'.`):this._logger.log(On.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(On.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(e){this._logger.log(On.Error,`HttpConnection.onclose(${n}) threw error '${e}'.`)}}}else this._logger.log(On.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(n){if(0===n.lastIndexOf("https://",0)||0===n.lastIndexOf("http://",0))return n;if(!zi.isBrowser)throw new Error(`Cannot resolve '${n}'.`);const e=window.document.createElement("a");return e.href=n,this._logger.log(On.Information,`Normalizing '${n}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(n){const e=n.indexOf("?");let i=n.substring(0,-1===e?n.length:e);return"/"!==i[i.length-1]&&(i+="/"),i+="negotiate",i+=-1===e?"":n.substring(e),-1===i.indexOf("negotiateVersion")&&(i+=-1===e?"?":"&",i+="negotiateVersion="+this._negotiateVersion),i}}class Mr{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new Ho,this._transportResult=new Ho,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new Ho),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}_sendLoop(){var n=this;return(0,Hi.Z)(function*(){for(;;){if(yield n._sendBufferedData.promise,!n._executing){n._transportResult&&n._transportResult.reject("Connection stopped.");break}n._sendBufferedData=new Ho;const e=n._transportResult;n._transportResult=void 0;const i="string"==typeof n._buffer[0]?n._buffer.join(""):Mr._concatBuffers(n._buffer);n._buffer.length=0;try{yield n._transport.send(i),e.resolve()}catch(o){e.reject(o)}}})()}static _concatBuffers(n){const e=n.map(d=>d.byteLength).reduce((d,m)=>d+m),i=new Uint8Array(e);let o=0;for(const d of n)i.set(new Uint8Array(d),o),o+=d.byteLength;return i.buffer}}class Ho{constructor(){this.promise=new Promise((n,e)=>[this._resolver,this._rejecter]=[n,e])}resolve(){this._resolver()}reject(n){this._rejecter(n)}}class nr{static write(n){return`${n}${nr.RecordSeparator}`}static parse(n){if(n[n.length-1]!==nr.RecordSeparator)throw new Error("Message is incomplete.");const e=n.split(nr.RecordSeparator);return e.pop(),e}}nr.RecordSeparatorCode=30,nr.RecordSeparator=String.fromCharCode(nr.RecordSeparatorCode);class br{writeHandshakeRequest(n){return nr.write(JSON.stringify(n))}parseHandshakeResponse(n){let e,i;if(Rr(n)){const b=new Uint8Array(n),I=b.indexOf(nr.RecordSeparatorCode);if(-1===I)throw new Error("Message is incomplete.");const G=I+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(b.slice(0,G))),i=b.byteLength>G?b.slice(G).buffer:null}else{const b=n,I=b.indexOf(nr.RecordSeparator);if(-1===I)throw new Error("Message is incomplete.");const G=I+1;e=b.substring(0,G),i=b.length>G?b.substring(G):null}const o=nr.parse(e),d=JSON.parse(o[0]);if(d.type)throw new Error("Expected a handshake response from the server.");return[i,d]}}var cr=function(r){return r[r.Invocation=1]="Invocation",r[r.StreamItem=2]="StreamItem",r[r.Completion=3]="Completion",r[r.StreamInvocation=4]="StreamInvocation",r[r.CancelInvocation=5]="CancelInvocation",r[r.Ping=6]="Ping",r[r.Close=7]="Close",r}(cr||{});class eo{constructor(){this.observers=[]}next(n){for(const e of this.observers)e.next(n)}error(n){for(const e of this.observers)e.error&&e.error(n)}complete(){for(const n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new Kn(this,n)}}var or=function(r){return r.Disconnected="Disconnected",r.Connecting="Connecting",r.Connected="Connected",r.Disconnecting="Disconnecting",r.Reconnecting="Reconnecting",r}(or||{});class ys{constructor(n,e,i,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(On.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},wi.isRequired(n,"connection"),wi.isRequired(e,"logger"),wi.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=e,this._protocol=i,this.connection=n,this._reconnectPolicy=o,this._handshakeProtocol=new br,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=or.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:cr.Ping})}static create(n,e,i,o){return new ys(n,e,i,o)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==or.Disconnected&&this._connectionState!==or.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var n=this;return(0,Hi.Z)(function*(){if(n._connectionState!==or.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));n._connectionState=or.Connecting,n._logger.log(On.Debug,"Starting HubConnection.");try{yield n._startInternal(),zi.isBrowser&&window.document.addEventListener("freeze",n._freezeEventListener),n._connectionState=or.Connected,n._connectionStarted=!0,n._logger.log(On.Debug,"HubConnection connected successfully.")}catch(e){return n._connectionState=or.Disconnected,n._logger.log(On.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}})()}_startInternal(){var n=this;return(0,Hi.Z)(function*(){n._stopDuringStartError=void 0,n._receivedHandshakeResponse=!1;const e=new Promise((i,o)=>{n._handshakeResolver=i,n._handshakeRejecter=o});yield n.connection.start(n._protocol.transferFormat);try{const i={protocol:n._protocol.name,version:n._protocol.version};if(n._logger.log(On.Debug,"Sending handshake request."),yield n._sendMessage(n._handshakeProtocol.writeHandshakeRequest(i)),n._logger.log(On.Information,`Using HubProtocol '${n._protocol.name}'.`),n._cleanupTimeout(),n._resetTimeoutPeriod(),n._resetKeepAliveInterval(),yield e,n._stopDuringStartError)throw n._stopDuringStartError;n.connection.features.inherentKeepAlive||(yield n._sendMessage(n._cachedPingMessage))}catch(i){throw n._logger.log(On.Debug,`Hub handshake failed with error '${i}' during start(). Stopping HubConnection.`),n._cleanupTimeout(),n._cleanupPingTimer(),yield n.connection.stop(i),i}})()}stop(){var n=this;return(0,Hi.Z)(function*(){const e=n._startPromise;n._stopPromise=n._stopInternal(),yield n._stopPromise;try{yield e}catch{}})()}_stopInternal(n){return this._connectionState===or.Disconnected?(this._logger.log(On.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===or.Disconnecting?(this._logger.log(On.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=or.Disconnecting,this._logger.log(On.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(On.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new Ji("The connection was stopped before the hub handshake could complete."),this.connection.stop(n)))}stream(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._createStreamInvocation(n,e,o);let m;const b=new eo;return b.cancelCallback=()=>{const I=this._createCancelInvocation(d.invocationId);return delete this._callbacks[d.invocationId],m.then(()=>this._sendWithProtocol(I))},this._callbacks[d.invocationId]=(I,G)=>{G?b.error(G):I&&(I.type===cr.Completion?I.error?b.error(new Error(I.error)):b.complete():b.next(I.item))},m=this._sendWithProtocol(d).catch(I=>{b.error(I),delete this._callbacks[d.invocationId]}),this._launchStreams(i,m),b}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._sendMessage(this._protocol.writeMessage(n))}send(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._sendWithProtocol(this._createInvocation(n,e,!0,o));return this._launchStreams(i,d),d}invoke(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._createInvocation(n,e,!1,o);return new Promise((b,I)=>{this._callbacks[d.invocationId]=(ne,me)=>{me?I(me):ne&&(ne.type===cr.Completion?ne.error?I(new Error(ne.error)):b(ne.result):I(new Error(`Unexpected message type: ${ne.type}`)))};const G=this._sendWithProtocol(d).catch(ne=>{I(ne),delete this._callbacks[d.invocationId]});this._launchStreams(i,G)})}on(n,e){!n||!e||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),-1===this._methods[n].indexOf(e)&&this._methods[n].push(e))}off(n,e){if(!n)return;n=n.toLowerCase();const i=this._methods[n];if(i)if(e){const o=i.indexOf(e);-1!==o&&(i.splice(o,1),0===i.length&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){const e=this._protocol.parseMessages(n,this._logger);for(const i of e)switch(i.type){case cr.Invocation:this._invokeClientMethod(i);break;case cr.StreamItem:case cr.Completion:{const o=this._callbacks[i.invocationId];if(o){i.type===cr.Completion&&delete this._callbacks[i.invocationId];try{o(i)}catch(d){this._logger.log(On.Error,`Stream callback threw error: ${oo(d)}`)}}break}case cr.Ping:break;case cr.Close:{this._logger.log(On.Information,"Close message received from server.");const o=i.error?new Error("Server returned an error on close: "+i.error):void 0;!0===i.allowReconnect?this.connection.stop(o):this._stopPromise=this._stopInternal(o);break}default:this._logger.log(On.Warning,`Invalid message type: ${i.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let e,i;try{[i,e]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(o){const d="Error parsing handshake response: "+o;this._logger.log(On.Error,d);const m=new Error(d);throw this._handshakeRejecter(m),m}if(e.error){const o="Server returned handshake error: "+e.error;this._logger.log(On.Error,o);const d=new Error(o);throw this._handshakeRejecter(d),d}return this._logger.log(On.Debug,"Server handshake complete."),this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var n=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout((0,Hi.Z)(function*(){if(n._connectionState===or.Connected)try{yield n._sendMessage(n._cachedPingMessage)}catch{n._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(n){var e=this;return(0,Hi.Z)(function*(){const i=n.target.toLowerCase(),o=e._methods[i];if(!o)return e._logger.log(On.Warning,`No client method with the name '${i}' found.`),void(n.invocationId&&(e._logger.log(On.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),yield e._sendWithProtocol(e._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null))));const d=o.slice(),m=!!n.invocationId;let b,I,G;for(const ne of d)try{const me=b;b=yield ne.apply(e,n.arguments),m&&b&&me&&(e._logger.log(On.Error,`Multiple results provided for '${i}'. Sending error to server.`),G=e._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),I=void 0}catch(me){I=me,e._logger.log(On.Error,`A callback for the method '${i}' threw error '${me}'.`)}G?yield e._sendWithProtocol(G):m?(I?G=e._createCompletionMessage(n.invocationId,`${I}`,null):void 0!==b?G=e._createCompletionMessage(n.invocationId,null,b):(e._logger.log(On.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),G=e._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),yield e._sendWithProtocol(G)):b&&e._logger.log(On.Error,`Result given for '${i}' method but server is not expecting a result.`)})()}_connectionClosed(n){this._logger.log(On.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new Ji("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===or.Disconnecting?this._completeClose(n):this._connectionState===or.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===or.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=or.Disconnected,this._connectionStarted=!1,zi.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[n]))}catch(e){this._logger.log(On.Error,`An onclose callback called with error '${n}' threw error '${e}'.`)}}}_reconnect(n){var e=this;return(0,Hi.Z)(function*(){const i=Date.now();let o=0,d=void 0!==n?n:new Error("Attempting to reconnect due to a unknown error."),m=e._getNextRetryDelay(o++,0,d);if(null===m)return e._logger.log(On.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void e._completeClose(n);if(e._connectionState=or.Reconnecting,e._logger.log(On.Information,n?`Connection reconnecting because of error '${n}'.`:"Connection reconnecting."),0!==e._reconnectingCallbacks.length){try{e._reconnectingCallbacks.forEach(b=>b.apply(e,[n]))}catch(b){e._logger.log(On.Error,`An onreconnecting callback called with error '${n}' threw error '${b}'.`)}if(e._connectionState!==or.Reconnecting)return void e._logger.log(On.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==m;){if(e._logger.log(On.Information,`Reconnect attempt number ${o} will start in ${m} ms.`),yield new Promise(b=>{e._reconnectDelayHandle=setTimeout(b,m)}),e._reconnectDelayHandle=void 0,e._connectionState!==or.Reconnecting)return void e._logger.log(On.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield e._startInternal(),e._connectionState=or.Connected,e._logger.log(On.Information,"HubConnection reconnected successfully."),0!==e._reconnectedCallbacks.length)try{e._reconnectedCallbacks.forEach(b=>b.apply(e,[e.connection.connectionId]))}catch(b){e._logger.log(On.Error,`An onreconnected callback called with connectionId '${e.connection.connectionId}; threw error '${b}'.`)}return}catch(b){if(e._logger.log(On.Information,`Reconnect attempt failed because of error '${b}'.`),e._connectionState!==or.Reconnecting)return e._logger.log(On.Debug,`Connection moved to the '${e._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(e._connectionState===or.Disconnecting&&e._completeClose());d=b instanceof Error?b:new Error(b.toString()),m=e._getNextRetryDelay(o++,Date.now()-i,d)}}e._logger.log(On.Information,`Reconnect retries have been exhausted after ${Date.now()-i} ms and ${o} failed attempts. Connection disconnecting.`),e._completeClose()})()}_getNextRetryDelay(n,e,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:n,retryReason:i})}catch(o){return this._logger.log(On.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${e}) threw error '${o}'.`),null}}_cancelCallbacksWithError(n){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach(i=>{const o=e[i];try{o(null,n)}catch(d){this._logger.log(On.Error,`Stream 'error' callback called with '${n}' threw error: ${oo(d)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,e,i,o){if(i)return 0!==o.length?{arguments:e,streamIds:o,target:n,type:cr.Invocation}:{arguments:e,target:n,type:cr.Invocation};{const d=this._invocationId;return this._invocationId++,0!==o.length?{arguments:e,invocationId:d.toString(),streamIds:o,target:n,type:cr.Invocation}:{arguments:e,invocationId:d.toString(),target:n,type:cr.Invocation}}}_launchStreams(n,e){if(0!==n.length){e||(e=Promise.resolve());for(const i in n)n[i].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:o=>{let d;d=o instanceof Error?o.message:o&&o.toString?o.toString():"Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,d)))},next:o=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,o)))}})}}_replaceStreamingParams(n){const e=[],i=[];for(let o=0;o<n.length;o++){const d=n[o];if(this._isObservable(d)){const m=this._invocationId;this._invocationId++,e[m]=d,i.push(m.toString()),n.splice(o,1)}}return[e,i]}_isObservable(n){return n&&n.subscribe&&"function"==typeof n.subscribe}_createStreamInvocation(n,e,i){const o=this._invocationId;return this._invocationId++,0!==i.length?{arguments:e,invocationId:o.toString(),streamIds:i,target:n,type:cr.StreamInvocation}:{arguments:e,invocationId:o.toString(),target:n,type:cr.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:cr.CancelInvocation}}_createStreamItemMessage(n,e){return{invocationId:n,item:e,type:cr.StreamItem}}_createCompletionMessage(n,e,i){return e?{error:e,invocationId:n,type:cr.Completion}:{invocationId:n,result:i,type:cr.Completion}}}class Zs{constructor(){this.name="json",this.version=1,this.transferFormat=Pi.Text}parseMessages(n,e){if("string"!=typeof n)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];null===e&&(e=oi.instance);const i=nr.parse(n),o=[];for(const d of i){const m=JSON.parse(d);if("number"!=typeof m.type)throw new Error("Invalid payload.");switch(m.type){case cr.Invocation:this._isInvocationMessage(m);break;case cr.StreamItem:this._isStreamItemMessage(m);break;case cr.Completion:this._isCompletionMessage(m);break;case cr.Ping:case cr.Close:break;default:e.log(On.Information,"Unknown message type '"+m.type+"' ignored.");continue}o.push(m)}return o}writeMessage(n){return nr.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),void 0!==n.invocationId&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),void 0===n.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(n,e){if("string"!=typeof n||""===n)throw new Error(e)}}const Ns={trace:On.Trace,debug:On.Debug,info:On.Information,information:On.Information,warn:On.Warning,warning:On.Warning,error:On.Error,critical:On.Critical,none:On.None};class bs{configureLogging(n){if(wi.isRequired(n,"logging"),function sa(r){return void 0!==r.log}(n))this.logger=n;else if("string"==typeof n){const e=function cs(r){const n=Ns[r.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${r}`)}(n);this.logger=new vi(e)}else this.logger=new vi(n);return this}withUrl(n,e){return wi.isRequired(n,"url"),wi.isNotEmpty(n,"url"),this.url=n,this.httpConnectionOptions="object"==typeof e?{...this.httpConnectionOptions,...e}:{...this.httpConnectionOptions,transport:e},this}withHubProtocol(n){return wi.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=n?Array.isArray(n)?new mo(n):n:new mo,this}build(){const n=this.httpConnectionOptions||{};if(void 0===n.logger&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new es(this.url,n);return ys.create(e,this.logger||oi.instance,this.protocol||new Zs,this.reconnectPolicy)}}let Pr=(()=>{class r{constructor(e){this.sharedService=e,this.updateMediaServers$=new an.x,this.enableMediaServerSubject$=new an.x,this.disableMediaServerSubject$=new an.x,this.updateLibrariesByMediaServerSubject$=new an.x,this.updateItemsByMediaServerSubject$=new an.x}updateMediaServers(){this.updateMediaServers$.next(!0)}isUpdatingMediaServers(){return this.updateMediaServers$.asObservable()}enableMediaServer(e){this.enableMediaServerSubject$.next(e)}isEnablingMediaServer(){return this.enableMediaServerSubject$.asObservable()}disableMediaServer(e){this.disableMediaServerSubject$.next(e)}isDisablingMediaServer(){return this.disableMediaServerSubject$.asObservable()}updateLibrariesByMediaServer(e){this.updateLibrariesByMediaServerSubject$.next(e)}isUpdatingLibrariesByMediaServer(){return this.updateLibrariesByMediaServerSubject$.asObservable()}updateItemsByMediaServer(e){this.updateItemsByMediaServerSubject$.next(e)}isUpdatingItemsByMediaServer(){return this.updateItemsByMediaServerSubject$.asObservable()}openConnection(){var e=(new bs).withUrl(this.sharedService.urlSinovadStreamWebApi+"/mediaServerHub",{skipNegotiation:!0,transport:gr.WebSockets}).build();this.sharedService.hubConnection=e,this.startHubConnection()}startHubConnection(){let e=this;this.sharedService.hubConnection.start().then(()=>{console.log("connection started"),e.setEvents(e.sharedService.hubConnection)}).catch(i=>{console.error("error while establishing signalr connection: "+i)}),this.sharedService.hubConnection.onclose(i=>{setTimeout(()=>{e.startHubConnection()},5e3)})}stopConnection(){this.sharedService.hubConnection.off("UpdateMediaServers"),this.sharedService.hubConnection.off("EnableMediaServer"),this.sharedService.hubConnection.off("DisableMediaServer"),this.sharedService.hubConnection.off("UpdateLibrariesByMediaServer"),this.sharedService.hubConnection.off("UpdateItemsByMediaServer"),this.sharedService.hubConnection.off("UpdateItemsByMediaServerAndLibrary"),this.sharedService.hubConnection.stop()}setEvents(e){e.on("UpdateMediaServers",i=>{this.updateMediaServers()}),e.on("EnableMediaServer",i=>{var o=this.sharedService.mediaServers.find(d=>d.Guid==i);o.isSecureConnection||(o.isSecureConnection=!0),this.enableMediaServer(i)}),e.on("DisableMediaServer",i=>{var o=this.sharedService.mediaServers.find(d=>d.Guid==i);o.isSecureConnection&&(o.isSecureConnection=!1),this.disableMediaServer(i)}),e.on("UpdateLibrariesByMediaServer",i=>{this.updateLibrariesByMediaServer(i)}),e.on("UpdateItemsByMediaServer",i=>{this.updateItemsByMediaServer(i)}),e.invoke("AddConnectionToUserClientsGroup",this.sharedService.userData.Guid).then(i=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(hi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),co=(()=>{class r{constructor(e,i,o,d){this.menuService=e,this.signalIRHubService=i,this.sharedService=o,this.restProvider=d,this.completedCallGetUserData$=new an.x,this.calledGetUserData=!1}completeCallGetUserData(){this.completedCallGetUserData$.next(!0)}isCompletedCallGetUserData(){return this.completedCallGetUserData$.asObservable()}clearSessionData(){this.calledGetUserData=!1,this.sharedService.manageMenus=[],this.sharedService.currentProfile=void 0,this.sharedService.userData=void 0,this.sharedService.apiToken=void 0,this.signalIRHubService.stopConnection(),localStorage.removeItem("apiToken")}getUserData(){this.restProvider.executeSinovadApiService(Xe.GET,"/users/GetUserData").then(e=>{let i=e.Data;i&&i.User?(this.sharedService.userData=i.User,this.sharedService.mediaServers=i.MediaServers,this.sharedService.linkedAccounts=i.LinkedAccounts,this.sharedService.listProfiles=i.Profiles,this.sharedService.currentProfile=i.Profiles[0],this.signalIRHubService.openConnection(),this.menuService.getManageMenu()):(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken")),this.calledGetUserData=!0,this.completeCallGetUserData()},e=>{this.calledGetUserData=!0,localStorage.removeItem("apiToken"),this.completeCallGetUserData(),console.error(e)})}getItems(e,i,o,d,m,b){return new Promise((I,G)=>{let ne=kt();this.lastCallGuid=ne;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(Xe.GET,"/users/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==ne&&I(et)},et=>{console.error(et),G(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/users/Update":"/users/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/users/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/users/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(pr),t.LFG(Pr),t.LFG(hi),t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const _r=(r,n)=>{const e=(0,t.f3M)(Vn.F0),i=(0,t.f3M)(hi),o=(0,t.f3M)(co);return null!=localStorage.getItem("apiToken")?!!o.calledGetUserData||o.isCompletedCallGetUserData().pipe((0,ci.b)(d=>null!=i.userData||e.navigateByUrl("/landing"))):e.navigateByUrl("/landing")},jo=(r,n)=>{const e=(0,t.f3M)(hi),i=(0,t.f3M)(pr),o=(0,t.f3M)(Vn.F0);return i.loadedManageMenu?!!e.checkIfIsEnableMenuOptionByPath(r.routeConfig.path)||o.navigateByUrl("/home"):i.isCompletedLoadUserManageMenu().pipe((0,ci.b)(d=>!!e.checkIfIsEnableMenuOptionByPath(r.routeConfig.path)||o.navigateByUrl("/home")))},ns=(r,n)=>{const e=(0,t.f3M)(Vn.F0);return null==localStorage.getItem("apiToken")||e.navigateByUrl("/home")};let vo=(()=>{class r{constructor(e){this.restProvider=e}getLibrariesByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetAllLibraries").then(m=>{i(m.Data)},m=>{o(m)})})}saveItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(i.Id>0?Xe.PUT:Xe.POST,e+"/api"+(i.Id>0?"/libraries/Update":"/libraries/Create"),i).then(I=>{o(!0)},I=>{console.error(I),d(I)})})}deleteItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.DELETE,e+"/api/libraries/Delete/"+i).then(b=>{o(b)},b=>{console.error(b),d(b)})})}deleteItems(e,i){return new Promise((o,d)=>{let m=[];for(let G=0;G<i.length;G++)m.push(i[G].Id);var b=m.join(",");this.restProvider.executeHttpMediaServerApi(Xe.DELETE,e+"/api/libraries/DeleteList/"+b).then(G=>{o(G)},G=>{console.error(G),d(G)})})}searchFiles(e,i){return new Promise((o,d)=>{let m=kt();this.restProvider.executeHttpMediaServerApi(Xe.POST,e+"/api/libraries/SearchFiles",{Listlibraries:i,LogIdentifier:m}).then(G=>{o(G)},G=>{console.error(G),d(G)})})}getAllMediaItemsBySearchQuery(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetAllMediaItemsBySearchQuery?searchQuery="+i).then(b=>{o(b.Data)},b=>{d(b)})})}getAllMediaItems(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetAllMediaItems?profileId="+i).then(b=>{o(b.Data)},b=>{d(b)})})}getMediaItemsByLibrary(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetMediaItemsByLibrary?libraryId="+i+"&profileId="+o).then(I=>{d(I.Data)},I=>{m(I)})})}getMediaItemsByMediaType(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetMediaItemsByMediaType?mediaTypeId="+i+"&profileId="+o).then(I=>{d(I.Data)},I=>{m(I)})})}getMediaItemDetail(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetMediaItemDetail/"+i).then(b=>{o(b.Data)},b=>{d(b)})})}GetMediaItemDetailByMediaFileAndProfile(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetMediaItemDetailByMediaFileAndProfile?mediaFileId="+i+"&profileId="+o).then(I=>{d(I.Data)},I=>{m(I)})})}updateMediaFilePlayback(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.PUT,e+"/api/libraries/UpdateMediaFilePlayback",i).then(b=>{o(b.Data)},b=>{d(b)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Zr=S(5940);let Vo=(()=>{class r{constructor(){}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-server-connection-error"]],inputs:{mediaServer:"mediaServer"},decls:5,vars:1,consts:[[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t._UZ(4,"div",3),t.qZA()()),2&i&&(t.xp6(3),t.hij(" No se puede conectar a ",o.mediaServer.FamilyName?o.mediaServer.FamilyName:o.mediaServer.DeviceName," "))}})}return r})(),Lr=(()=>{class r{constructor(e,i){this.domSanitizer=e,this.sharedService=i}transform(e,...i){return new Promise((o,d)=>{let b;switch(null!=i[0]?i[0]:""){case"GetIconURLByKey":null!=e&&""!=e&&(b=this.sharedService.configurationData.developerMode?"assets/icon/"+e:this.sharedService.urlSinovadCdn+"/assets/icon/"+e,o(b));break;case"GetAvatarImageURLByProfileId":null!=e&&""!=e&&fetch(this.sharedService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+e).then(G=>G.blob()).then(G=>{b=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(G)),o(b)});break;case"GetSoundUrlByKey":null!=e&&""!=e&&(b=this.sharedService.configurationData.developerMode?"assets/sound/"+e:this.sharedService.urlSinovadCdn+"/assets/sound/"+e,o(b))}})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(c.H7,16),t.Y36(hi,16))};static#t=this.\u0275pipe=t.Yjl({name:"formatDataPipe",type:r,pure:!0})}return r})();function _a(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"button",7)(2,"div",8),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.qZA()()()),2&r){const e=t.oxw(3);t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function $s(r,n){if(1&r&&(t.TgZ(0,"div",30)(1,"div",31),t._UZ(2,"div",32),t.qZA()()),2&r){const e=t.oxw().$implicit,i=t.MAs(2),o=t.oxw(5);t.xp6(1),t.Udp("width",i.clientWidth-8+"px"),t.xp6(1),t.Udp("width",o.getWidthProgressItem(e))}}function Ls(r,n){if(1&r&&(t.TgZ(0,"div",33)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function ks(r,n){if(1&r&&(t.TgZ(0,"div")(1,"div",34)(2,"span"),t._uU(3),t.qZA()()()),2&r){const e=t.oxw().$implicit;t.xp6(3),t.AsE("",e.Title," ",e.Subtitle,"")}}function ur(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",24)(1,"button",25,26),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(5);return t.KtG(m.onClickItem(d))}),t._UZ(3,"img",27),t.YNc(4,$s,3,4,"ng-template",0),t.qZA(),t.YNc(5,Ls,3,1,"div",28),t.YNc(6,ks,4,2,"div",29),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(1),t.hYB("id","item_",i.Id,"_",e.MediaItemId,""),t.xp6(2),t.Q6J("src",o.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",e.CurrentTime&&e.DurationTime),t.xp6(1),t.Q6J("ngIf",!e.Subtitle),t.xp6(1),t.Q6J("ngIf",e.Subtitle)}}function gn(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",11)(1,"div",12)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",13)(5,"div",14)(6,"div",15,16),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),b=t.oxw(4);return t.KtG(b.onClickButtonLeftScroll(o,d,m))}),t._UZ(8,"img",17),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",18,19)(13,"div",20,21),t.YNc(15,ur,7,6,"ng-template",5),t.qZA()(),t.TgZ(16,"div",14)(17,"div",22,23),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),b=t.oxw(4);return t.KtG(b.onClickButtonRightScroll(o,d,m))}),t._UZ(19,"img",17),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()}if(2&r){const e=t.oxw().$implicit;t.MGl("id","section_",e.Id,""),t.xp6(3),t.Oqu(e.Name),t.xp6(5),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"scroll-left.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.ListItems),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"scroll-right.png","GetIconURLByKey")),t.LSH)}}function nt(r,n){if(1&r&&t.YNc(0,gn,22,15,"section",10),2&r){const e=n.$implicit;t.Q6J("ngIf",e.ListItems&&e.ListItems.length>0)}}function ht(r,n){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,_a,6,2,"div",3),t.TgZ(3,"div",4),t.YNc(4,nt,1,1,"ng-template",5),t.qZA()()()),2&r){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.title),t.xp6(1),t.Udp("height",e.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngForOf",e.itemsGroupList)}}function qe(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",35),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.currentMediaServer)}}function wt(r,n){1&r&&(t.TgZ(0,"div",36)(1,"div",37)(2,"div",38),t._uU(3," No hay servidores disponibles en este momento "),t.qZA(),t._UZ(4,"div",39),t.qZA()())}function sn(r,n){if(1&r&&(t.YNc(0,ht,5,4,"ng-template",0),t.YNc(1,qe,1,1,"ng-template",0),t.YNc(2,wt,5,0,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServers&&e.isEnableAnyMediaServer()||e.currentMediaServer&&e.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.currentMediaServer&&!e.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServers&&!e.isEnableAnyMediaServer())}}function li(r,n){1&r&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner"),t.qZA())}let Ai=(()=>{class r{constructor(e,i,o,d,m,b,I){this.signalIrService=e,this.libraryService=i,this.activeRoute=o,this.router=d,this.restProvider=m,this.ref=b,this.sharedService=I,this.itemsGroupList=[],this._window=window,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let G=this;this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(ne=>{if(G.considerAllMediaServers()){var me=G.mediaServers.find(ze=>ze.Guid==ne);me&&!me.isSecureConnection&&(G.loadingConnection=!1,me.isSecureConnection=!0,G.getItemsByMediaServer(me))}else G.currentMediaServer&&G.currentMediaServer.Guid==ne&&!G.currentMediaServer.isSecureConnection&&(G.loadingConnection=!1,G.currentMediaServer.isSecureConnection=!0,G.getItemsByCurrentMediaServerAndCurrentLibrary())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(ne=>{if(G.considerAllMediaServers()){var me=G.mediaServers.find(ze=>ze.Guid==ne);me&&me.isSecureConnection&&(me.isSecureConnection=!1,G.clearItemsInGroup(me.Id))}else G.currentMediaServer&&G.currentMediaServer.Guid==ne&&G.currentMediaServer.isSecureConnection&&(G.currentMediaServer.isSecureConnection=!1,G.clearItemsInGroup(G.currentMediaServer.Id))}),this.subscriptionUpdateLibrariesByMediaServer=this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(ne=>{if(G.considerAllMediaServers()){var me=G.mediaServers.find(ze=>ze.Guid==ne);me&&!me.isSecureConnection&&(me.isSecureConnection=!0,G.getItemsByMediaServer(me))}else G.currentMediaServer&&G.currentMediaServer.Guid==ne&&!G.currentMediaServer.isSecureConnection&&(G.currentMediaServer.isSecureConnection=!0,G.getItemsByCurrentMediaServerAndCurrentLibrary())}),this.subscriptionUpdateItemsByMediaServer=this.signalIrService.isUpdatingItemsByMediaServer().subscribe(ne=>{if(G.considerAllMediaServers()){var me=G.mediaServers.find(ze=>ze.Guid==ne);me&&!me.isSecureConnection&&(me.isSecureConnection=!0,G.getItemsByMediaServer(me))}else G.currentMediaServer&&G.currentMediaServer.Guid==ne&&!G.currentMediaServer.isSecureConnection&&(G.currentMediaServer.isSecureConnection=!0,G.getItemsByCurrentMediaServerAndCurrentLibrary())})}ngOnInit(){if(this.considerAllMediaServers())this.mediaServers=JSON.parse(JSON.stringify(this.sharedService.mediaServers)),this.isEnableAnyMediaServer()?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),window.location.pathname.endsWith("movies")&&(this.title="Pel\xedculas"),window.location.pathname.endsWith("tvseries")&&(this.title="Series de TV"),this.mediaServers.forEach(o=>{o.isSecureConnection&&this.getItemsByMediaServer(o)});else{var e=this.activeRoute.snapshot.params.serverGuid;if(null!=e){var i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.currentMediaServer=JSON.parse(JSON.stringify(i)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByCurrentMediaServerAndCurrentLibrary()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateLibrariesByMediaServer.unsubscribe(),this.subscriptionUpdateItemsByMediaServer.unsubscribe()}isEnableAnyMediaServer(){return this.mediaServers.filter(e=>e.isSecureConnection).length>0}considerAllMediaServers(){return!!(window.location.pathname.endsWith("home")||window.location.pathname.endsWith("movies")||window.location.pathname.endsWith("tvseries"))}getItemsByCurrentMediaServerAndCurrentLibrary(){var e=this.activeRoute.snapshot.params.libraryId;e?this.libraryService.getLibrariesByMediaServer(this.currentMediaServer.Url).then(i=>{this.currentMediaServer.ListLibraries=i;var o=this.currentMediaServer.ListLibraries.findIndex(d=>d.Id==e);-1!=o&&(this.currentLibrary=this.currentMediaServer.ListLibraries[o],this.title=this.currentLibrary.Name,this.subtitle=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getMediaItemsByLibrary(this.currentMediaServer.Url,this.currentLibrary.Id,this.sharedService.currentProfile.Id).then(d=>{this.setItemsInGroup(this.currentMediaServer.Id,d)},d=>{console.error(d)}))}):(this.title=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getAllMediaItems(this.currentMediaServer.Url,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(this.currentMediaServer.Id,i)},i=>{console.error(i)}))}getItemsByMediaServer(e){window.location.pathname.endsWith("home")?this.libraryService.getAllMediaItems(e.Url,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{}):window.location.pathname.endsWith("movies")?this.libraryService.getMediaItemsByMediaType(e.Url,bt.Movie,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{console.error(i)}):window.location.pathname.endsWith("tvseries")&&this.libraryService.getMediaItemsByMediaType(e.Url,bt.TvSerie,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{console.error(i)})}setItemsInGroup(e,i){i.length>0&&(i.forEach(o=>{var d=this.itemsGroupList.find(G=>G.Name==o.Name);if(null==d)this.itemsGroupList.push(o);else{var I=d.ListItems.filter(G=>G.MediaServerId!=e).concat(o.ListItems).sort((G,ne)=>new Date(G.Created).getTime()>new Date(ne.Created).getTime()?-1:new Date(ne.Created).getTime()>new Date(G.Created).getTime()?1:0);d.ListItems=I}}),this.itemsGroupList=this.itemsGroupList.sort((o,d)=>o.Id>d.Id?1:o.Id<=d.Id?-1:0))}clearItemsInGroup(e){this.itemsGroupList.forEach(i=>{var o=i.ListItems.filter(d=>d.MediaServerId!=e);i.ListItems=o.sort((d,m)=>new Date(d.Created).getTime()>new Date(m.Created).getTime()?-1:new Date(m.Created).getTime()>new Date(d.Created).getTime()?1:0)})}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}onClickButtonLeftScroll(e,i,o){e.scrollLeft=e.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}onClickButtonRightScroll(e,i,o){e.scrollLeft=e.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}verifyIfShoOrHiddenScrollButtons(e,i,o){i.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,i,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,i,o)},250)}onClickItem(e){e.ContinueVideo?this.continueVideoByItem(e):this.getMediaItemDetail(e)}getMediaItemDetail(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}continueVideoByItem(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/video/"+e.FileId)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Pr),t.Y36(vo),t.Y36(Vn.gz),t.Y36(Vn.F0),t.Y36(Li),t.Y36(t.sBO),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"],[3,"mediaServer"],[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,sn,3,3,"ng-template",0),t.YNc(1,li,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.sg,g.O5,Zr.Ou,Vo,g.Ov,Lr],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();class yo{constructor(n,e,i){this.router=n,this.activeRoute=e,this.sharedService=i}initializeHeaderData(){var n=this.activeRoute.snapshot.params.serverGuid;if(null!=n){var e=this.sharedService.mediaServers.find(d=>d.Guid==n);if(e){this.mediaServer=JSON.parse(JSON.stringify(e));var i=this.activeRoute.snapshot.params.libraryId;if(null!=e.ListLibraries&&e.ListLibraries.length>0){var o=e.ListLibraries.find(d=>d.MediaServerId==this.mediaServer.Id&&d.Id==i);null!=o?(this.library=o,this.title=o.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}function ds(r,n){if(1&r&&t._UZ(0,"img",10),2&r){const e=t.oxw(3);t.Q6J("src",e.getUrlByItemDetailMovieDataBase(e.detail),t.LSH)}}function is(r,n){if(1&r&&(t.TgZ(0,"div",11)(1,"button",12)(2,"div",13),t._uU(3),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.qZA()()()),2&r){const e=t.oxw(3);t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function $r(r,n){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Director: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(5);t.xp6(4),t.Oqu(e.detail.MediaItem.Directors)}}function Es(r,n){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Reparto: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(5);t.xp6(4),t.Oqu(e.detail.MediaItem.Actors)}}function Sr(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar"),t.qZA()(),t.TgZ(4,"div",26),t._UZ(5,"div",27),t.qZA(),t.TgZ(6,"div",28),t._uU(7),t.qZA()()}if(2&r){const e=t.oxw(5);t.xp6(5),t.Udp("width",e.getWidthProgressItem(e.lastEpisodeWatched)),t.xp6(2),t.hij(" ",e.lastEpisodeWatched.Subtitle," ")}}function Io(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.showVideo())}),t._uU(1,"Ver desde el principio"),t.qZA(),t.TgZ(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar viendo"),t.qZA()}}function Ja(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.showVideo())}),t._UZ(1,"i",31),t._uU(2," Ver ahora "),t.qZA()}}function wa(r,n){if(1&r&&(t.YNc(0,Io,4,0,"ng-template",0),t.YNc(1,Ja,3,0,"ng-template",0)),2&r){const e=t.oxw(5);t.Q6J("ngIf",e.itemUserData),t.xp6(1),t.Q6J("ngIf",!e.itemUserData)}}function qs(r,n){if(1&r&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&r){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.detail.MediaItem.Overview," ")}}function Ts(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"img",47),t.NdJ("error",function(){t.CHM(e),t.oxw();const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),b=t.oxw(5);return t.KtG(b.onInitializeItemsRow(o,d,m))}),t.qZA()}}const Pa=function(r){return{selected:r}};function Qa(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",48)(1,"button",49),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(6);return t.KtG(m.onClickSeason(d))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&r){const e=n.$implicit,i=t.oxw(6);t.xp6(1),t.MGl("id","section_season_",e.SeasonNumber,""),t.Q6J("ngClass",t.VKq(3,Pa,e.SeasonNumber==i.detail.CurrentSeason.SeasonNumber)),t.xp6(2),t.Oqu(e.Name)}}function Xa(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",50)(1,"button",51),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(6);return t.KtG(m.onClickEpisode(d))}),t.TgZ(2,"div",52),t._UZ(3,"img",10),t.qZA(),t.TgZ(4,"div",53)(5,"div",54),t._uU(6),t.qZA(),t.TgZ(7,"div",55),t._uU(8),t.qZA()()()()}if(2&r){const e=n.$implicit,i=t.oxw(6);t.hYB("id","section_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(1),t.hYB("id","button_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(2),t.Q6J("src",i.getEpisodeImagePath(e),t.LSH),t.xp6(3),t.AsE(" ",e.EpisodeNumber,". ",e.Name," "),t.xp6(2),t.hij(" ",e.Overview," ")}}function Fs(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",33)(1,"div"),t._uU(2," EPISODIOS "),t.qZA(),t.TgZ(3,"div",34),t.YNc(4,Ts,1,0,"img",35),t.TgZ(5,"div",3)(6,"div",36,37),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),b=t.oxw(5);return t.KtG(b.onClickButtonLeftScroll(o,d,m))}),t._UZ(8,"img",38),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",39,40)(13,"section",41,42),t.YNc(15,Qa,4,5,"ng-template",43),t.qZA()(),t.TgZ(16,"div",3)(17,"div",44,45),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),b=t.oxw(5);return t.KtG(b.onClickButtonRightScroll(o,d,m))}),t._UZ(19,"img",38),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()(),t.TgZ(22,"div",46),t.YNc(23,Xa,9,8,"ng-template",43),t.qZA()()}if(2&r){const e=t.oxw(5);t.xp6(4),t.Q6J("ngIf",!e.startResize),t.xp6(4),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"left.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.detail.ListSeasons),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"right.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngForOf",e.detail.CurrentSeason.ListEpisodes)}}function Pl(r,n){if(1&r&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.qZA(),t.YNc(5,$r,5,1,"div",19),t.YNc(6,Es,5,1,"div",19),t.TgZ(7,"section",20),t.YNc(8,Sr,8,3,"ng-template",0),t.YNc(9,wa,2,2,"ng-template",0),t.qZA(),t.YNc(10,qs,2,1,"div",21),t.YNc(11,Fs,24,15,"div",22),t.qZA()),2&r){const e=t.oxw(4);t.xp6(2),t.hij(" ",e.detail.MediaItem.Title," "),t.xp6(2),t.hij(" ",e.detail.MediaItem.Genres," "),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Directors),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Actors),t.xp6(2),t.Q6J("ngIf",e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",e.detail.ListSeasons&&e.detail.ListSeasons.length>0)}}function el(r,n){if(1&r&&(t.TgZ(0,"div",15),t.YNc(1,Pl,12,8,"ng-template",0),t.qZA()),2&r){const e=t.oxw(3);t.Udp("height",e.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngIf",e.detail)}}function ao(r,n){if(1&r&&(t.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4)(4,"div",5),t.YNc(5,ds,1,1,"img",6),t.qZA()()(),t.TgZ(6,"div",7),t.YNc(7,is,6,2,"div",8),t.YNc(8,el,2,3,"div",9),t.qZA()()),2&r){const e=t.MAs(1),i=t.oxw(2);t.xp6(4),t.Udp("width",e.clientWidth+"px"),t.xp6(1),t.Q6J("ngIf",i.detail),t.xp6(2),t.Q6J("ngIf",i.title),t.xp6(1),t.Q6J("ngIf",i.detail)}}function Ol(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",56),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function tl(r,n){if(1&r&&(t.YNc(0,ao,9,5,"ng-template",0),t.YNc(1,Ol,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function Sc(r,n){1&r&&(t.TgZ(0,"div",57),t._UZ(1,"mat-spinner"),t.qZA())}let aa=(()=>{class r extends yo{constructor(e,i,o,d,m,b){super(d,o,b),this.signalIrService=e,this.libraryService=i,this.activeRoute=o,this.router=d,this.ref=m,this.sharedService=b,this._window=window,this.startResize=!1,this.loadingConnection=!0,this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(I=>{this.mediaServer&&this.mediaServer.Guid==I&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getMediaItemDetail())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(I=>{this.mediaServer&&this.mediaServer.Guid==I&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){this.initializeHeaderData(),this.mediaServer?this.mediaServer.isSecureConnection?(this.loadingConnection=!1,this.getMediaItemDetail()):setTimeout(()=>{this.loadingConnection=!1},3e3):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getMediaItemDetail(){let e=this.activeRoute.snapshot.queryParams.mediaId;e?this.libraryService.getMediaItemDetail(this.mediaServer.Url,e).then(i=>{this.detail=i,this.detail.CurrentSeason=this.detail.ListSeasons[0]},i=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(e){return this.detail.MediaItem.MetadataAgentsId==Qt.TMDb&&e.PosterPath?this.sharedService.urlEpisodeDataBase+e.PosterPath:e.ListMediaFiles&&e.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+e.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}getUrlByItemDetailMovieDataBase(e){return e.MediaItem.MetadataAgentsId==Qt.TMDb?this.sharedService.originalUrlImagesMovieDataBase+e.MediaItem.PosterPath:e.MediaItem.PosterPath?e.MediaItem.PosterPath:e.ListMediaFiles&&e.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+e.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}verifyIfShoOrHiddenScrollButtons(e,i,o){i.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,i,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,i,o)},250)}onClickButtonLeftScroll(e,i,o){e.scrollLeft=e.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}onClickButtonRightScroll(e,i,o){e.scrollLeft=e.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==bt.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let e=this.detail.ListSeasons[0];e.ListEpisodes&&e.ListEpisodes.length>0&&this.getVideoByEpisode(e.ListEpisodes[0])}}getVideosByItem(){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+this.detail.ListMediaFiles[0].Id)}onClickSeason(e){this.detail.CurrentSeason=e}onClickEpisode(e){this.getVideoByEpisode(e)}getVideoByEpisode(e){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+e.ListMediaFiles[0].Id)}onResize(e){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Pr),t.Y36(vo),t.Y36(Vn.gz),t.Y36(Vn.F0),t.Y36(t.sBO),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-detail"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},features:[t.qOj],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,tl,2,2,"ng-template",0),t.YNc(1,Sc,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.mk,g.sg,g.O5,Zr.Ou,Vo,g.Ov,Lr],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return r})();var la=S(5094),Js=S(4753);function Oa(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var i,o,d,m,b,Bs={exports:{}};i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,d=/(?:\/|^)\.(?=\/)/g,m=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,Bs.exports=b={buildAbsoluteURL:function(I,G,ne){if(ne=ne||{},I=I.trim(),!(G=G.trim())){if(!ne.alwaysNormalize)return I;var me=b.parseURL(I);if(!me)throw new Error("Error trying to parse base URL.");return me.path=b.normalizePath(me.path),b.buildURLFromParts(me)}var ze=b.parseURL(G);if(!ze)throw new Error("Error trying to parse relative URL.");if(ze.scheme)return ne.alwaysNormalize?(ze.path=b.normalizePath(ze.path),b.buildURLFromParts(ze)):G;var et=b.parseURL(I);if(!et)throw new Error("Error trying to parse base URL.");if(!et.netLoc&&et.path&&"/"!==et.path[0]){var mt=o.exec(et.path);et.netLoc=mt[1],et.path=mt[2]}et.netLoc&&!et.path&&(et.path="/");var St={scheme:et.scheme,netLoc:ze.netLoc,path:null,params:ze.params,query:ze.query,fragment:ze.fragment};if(!ze.netLoc&&(St.netLoc=et.netLoc,"/"!==ze.path[0]))if(ze.path){var Ot=et.path,zt=Ot.substring(0,Ot.lastIndexOf("/")+1)+ze.path;St.path=b.normalizePath(zt)}else St.path=et.path,ze.params||(St.params=et.params,ze.query||(St.query=et.query));return null===St.path&&(St.path=ne.alwaysNormalize?b.normalizePath(ze.path):ze.path),b.buildURLFromParts(St)},parseURL:function(I){var G=i.exec(I);return G?{scheme:G[1]||"",netLoc:G[2]||"",path:G[3]||"",params:G[4]||"",query:G[5]||"",fragment:G[6]||""}:null},normalizePath:function(I){for(I=I.split("").reverse().join("").replace(d,"");I.length!==(I=I.replace(m,"")).length;);return I.split("").reverse().join("")},buildURLFromParts:function(I){return I.scheme+I.netLoc+I.path+I.params+I.query+I.fragment}};var Ra=Bs.exports;function va(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,i)}return e}function bo(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?va(Object(e),!0).forEach(function(i){nl(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):va(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function nl(r,n,e){return n=function rl(r){var n=function il(r,n){if("object"!=typeof r||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var i=e.call(r,n||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(r)}(r,"string");return"symbol"==typeof n?n:String(n)}(n),n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function qr(){return qr=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},qr.apply(this,arguments)}const yi=Number.isFinite||function(r){return"number"==typeof r&&isFinite(r)};let Rt=function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r}({}),Mi=function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r}({}),wn=function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.UNKNOWN="unknown",r}({});const Eo=function(){},Ie={trace:Eo,debug:Eo,log:Eo,warn:Eo,info:Eo,error:Eo};let xt=Ie;const Bt=xt,jn=/^(\d+)x(\d+)$/,bi=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Bi{constructor(n){"string"==typeof n&&(n=Bi.parseAttrList(n));for(const e in n)n.hasOwnProperty(e)&&("X-"===e.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(e)),this[e]=n[e])}decimalInteger(n){const e=parseInt(this[n],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(n){if(this[n]){let e=(this[n]||"0x").slice(2);e=(1&e.length?"0":"")+e;const i=new Uint8Array(e.length/2);for(let o=0;o<e.length/2;o++)i[o]=parseInt(e.slice(2*o,2*o+2),16);return i}return null}hexadecimalIntegerAsNumber(n){const e=parseInt(this[n],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(n){return parseFloat(this[n])}optionalFloat(n,e){const i=this[n];return i?parseFloat(i):e}enumeratedString(n){return this[n]}bool(n){return"YES"===this[n]}decimalResolution(n){const e=jn.exec(this[n]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(n){let e;const i={};for(bi.lastIndex=0;null!==(e=bi.exec(n));){let d=e[2];0===d.indexOf('"')&&d.lastIndexOf('"')===d.length-1&&(d=d.slice(1,-1)),i[e[1].trim()]=d}return i}}function sr(r){return"SCTE35-OUT"===r||"SCTE35-IN"===r}class Qi{constructor(n,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const i=e.attr;for(const o in i)if(Object.prototype.hasOwnProperty.call(n,o)&&n[o]!==i[o]){Bt.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${n.ID}"`),this._badValueForSameId=o;break}n=qr(new Bi({}),i,n)}if(this.attr=n,this._startDate=new Date(n["START-DATE"]),"END-DATE"in this.attr){const i=new Date(this.attr["END-DATE"]);yi(i.getTime())&&(this._endDate=i)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const n=this.duration;return null!==n?new Date(this._startDate.getTime()+1e3*n):null}get duration(){if("DURATION"in this.attr){const n=this.attr.decimalFloatingPoint("DURATION");if(yi(n))return n}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&yi(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Ir{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class Cr{constructor(n){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=n}setByteRange(n,e){const i=n.split("@",2),o=[];o[0]=1===i.length?e?e.byteRangeEndOffset:0:parseInt(i[1]),o[1]=parseInt(i[0])+o[0],this._byteRange=o}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Ra.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(n){this._url=n}}class Ko extends Cr{constructor(n,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Ir,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=n}get decryptdata(){const{levelkeys:n}=this;if(!n&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const i=Object.keys(this.levelkeys);if(1===i.length)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!yi(this.programDateTime))return null;const n=yi(this.duration)?this.duration:0;return this.programDateTime+1e3*n}get encrypted(){var n;if(null!=(n=this._decryptdata)&&n.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),i=e.length;if(i>1||1===i&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(n){if(this.levelkeys){const e=this.levelkeys[n];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var n,e;null==(n=this.loader)||n.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(n,e,i,o,d,m=!1){const{elementaryStreams:b}=this,I=b[n];I?(I.startPTS=Math.min(I.startPTS,e),I.endPTS=Math.max(I.endPTS,i),I.startDTS=Math.min(I.startDTS,o),I.endDTS=Math.max(I.endDTS,d)):b[n]={startPTS:e,endPTS:i,startDTS:o,endDTS:d,partial:m}}clearElementaryStreamInfo(){const{elementaryStreams:n}=this;n.audio=null,n.video=null,n.audiovideo=null}}class Di extends Cr{constructor(n,e,i,o,d){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Ir,this.duration=n.decimalFloatingPoint("DURATION"),this.gap=n.bool("GAP"),this.independent=n.bool("INDEPENDENT"),this.relurl=n.enumeratedString("URI"),this.fragment=e,this.index=o;const m=n.enumeratedString("BYTERANGE");m&&this.setByteRange(m,d),d&&(this.fragOffset=d.fragOffset+d.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:n}=this;return!!(n.audio||n.video||n.audiovideo)}}class Wo{constructor(n){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=n}reloaded(n){if(!n)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-n.lastPartSn,i=this.lastPartIndex-n.lastPartIndex;this.updated=this.endSN!==n.endSN||!!i||!!e,this.advanced=this.endSN>n.endSN||e>0||0===e&&i>0,this.misses=this.updated||this.advanced?Math.floor(.6*n.misses):n.misses+1,this.availabilityDelay=n.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&yi(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const n=this.driftEndTime-this.driftStartTime;return n>0?1e3*(this.driftEnd-this.driftStart)/n:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var n;return null!=(n=this.fragments)&&n.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Jr(r){return Uint8Array.from(atob(r),n=>n.charCodeAt(0))}function Ds(r){return Uint8Array.from(unescape(encodeURIComponent(r)),n=>n.charCodeAt(0))}var kr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},To_FAIRPLAY="com.apple.streamingkeydelivery",To_PLAYREADY="com.microsoft.playready",To_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Cc(r){switch(r){case To_FAIRPLAY:return kr.FAIRPLAY;case To_PLAYREADY:return kr.PLAYREADY;case To_WIDEVINE:return kr.WIDEVINE;case"org.w3.clearkey":return kr.CLEARKEY}}function Zn(r){switch(r){case kr.FAIRPLAY:return To_FAIRPLAY;case kr.PLAYREADY:return To_PLAYREADY;case kr.WIDEVINE:return To_WIDEVINE;case kr.CLEARKEY:return"org.w3.clearkey"}}function rr(r){const{drmSystems:n,widevineLicenseUrl:e}=r,i=n?[kr.FAIRPLAY,kr.WIDEVINE,kr.PLAYREADY,kr.CLEARKEY].filter(o=>!!n[o]):[];return!i[kr.WIDEVINE]&&e&&i.push(kr.WIDEVINE),i}const ol=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function Na(r,n,e){return Uint8Array.prototype.slice?r.slice(n,e):new Uint8Array(Array.prototype.slice.call(r,n,e))}const sl=(r,n)=>n+10<=r.length&&73===r[n]&&68===r[n+1]&&51===r[n+2]&&r[n+3]<255&&r[n+4]<255&&r[n+6]<128&&r[n+7]<128&&r[n+8]<128&&r[n+9]<128,wo=(r,n)=>n+10<=r.length&&51===r[n]&&68===r[n+1]&&73===r[n+2]&&r[n+3]<255&&r[n+4]<255&&r[n+6]<128&&r[n+7]<128&&r[n+8]<128&&r[n+9]<128,La=(r,n)=>{const e=n;let i=0;for(;sl(r,n);)i+=10,i+=Fr(r,n+6),wo(r,n+10)&&(i+=10),n+=i;if(i>0)return r.subarray(e,e+i)},Fr=(r,n)=>{let e=0;return e=(127&r[n])<<21,e|=(127&r[n+1])<<14,e|=(127&r[n+2])<<7,e|=127&r[n+3],e},ka=(r,n)=>sl(r,n)&&Fr(r,n+6)+10<=r.length-n,ic=r=>r&&"PRIV"===r.key&&"com.apple.streaming.transportStreamTimestamp"===r.info,Po=r=>{const n=String.fromCharCode(r[0],r[1],r[2],r[3]),e=Fr(r,4);return{type:n,size:e,data:r.subarray(10,10+e)}},As=r=>{let n=0;const e=[];for(;sl(r,n);){const i=Fr(r,n+6);n+=10;const o=n+i;for(;n+8<o;){const d=Po(r.subarray(n)),m=Nl(d);m&&e.push(m),n+=d.size+10}wo(r,n)&&(n+=10)}return e},Nl=r=>"PRIV"===r.type?Vr(r):"W"===r.type[0]?So(r):ca(r),Vr=r=>{if(r.size<2)return;const n=Yo(r.data,!0),e=new Uint8Array(r.data.subarray(n.length+1));return{key:r.type,info:n,data:e.buffer}},ca=r=>{if(r.size<2)return;if("TXXX"===r.type){let e=1;const i=Yo(r.data.subarray(e),!0);e+=i.length+1;const o=Yo(r.data.subarray(e));return{key:r.type,info:i,data:o}}const n=Yo(r.data.subarray(1));return{key:r.type,data:n}},So=r=>{if("WXXX"===r.type){if(r.size<2)return;let e=1;const i=Yo(r.data.subarray(e),!0);e+=i.length+1;const o=Yo(r.data.subarray(e));return{key:r.type,info:i,data:o}}const n=Yo(r.data);return{key:r.type,data:n}},rc=r=>{if(8===r.data.byteLength){const n=new Uint8Array(r.data);let i=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7];return i/=45,1&n[3]&&(i+=47721858.84),Math.round(i)}},Yo=(r,n=!1)=>{const e=function oc(){return!ya&&typeof self.TextDecoder<"u"&&(ya=new self.TextDecoder("utf-8")),ya}();if(e){const G=e.decode(r);if(n){const ne=G.indexOf("\0");return-1!==ne?G.substring(0,ne):G}return G.replace(/\0/g,"")}const i=r.length;let o,d,m,b="",I=0;for(;I<i;){if(o=r[I++],0===o&&n)return b;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:b+=String.fromCharCode(o);break;case 12:case 13:d=r[I++],b+=String.fromCharCode((31&o)<<6|63&d);break;case 14:d=r[I++],m=r[I++],b+=String.fromCharCode((15&o)<<12|(63&d)<<6|(63&m)<<0)}}return b};let ya;const zo_hexDump=function(r){let n="";for(let e=0;e<r.length;e++){let i=r[e].toString(16);i.length<2&&(i="0"+i),n+=i}return n},Fa=Math.pow(2,32)-1,ba=[].push,Ac={video:1,audio:2,id3:3,text:4};function Qr(r){return String.fromCharCode.apply(null,r)}function al(r,n){const e=r[n]<<8|r[n+1];return e<0?65536+e:e}function ji(r,n){const e=Ll(r,n);return e<0?4294967296+e:e}function Ll(r,n){return r[n]<<24|r[n+1]<<16|r[n+2]<<8|r[n+3]}function sc(r,n,e){r[n]=e>>24,r[n+1]=e>>16&255,r[n+2]=e>>8&255,r[n+3]=255&e}function fr(r,n){const e=[];if(!n.length)return e;const i=r.byteLength;for(let o=0;o<i;){const d=ji(r,o),b=d>1?o+d:i;if(Qr(r.subarray(o+4,o+8))===n[0])if(1===n.length)e.push(r.subarray(o+8,b));else{const I=fr(r.subarray(o+8,b),n.slice(1));I.length&&ba.apply(e,I)}o=b}return e}function xc(r){const n=[],e=r[0];let i=8;const o=ji(r,i);i+=4,i+=0===e?8:16,i+=2;let b=r.length+0;const I=al(r,i);i+=2;for(let G=0;G<I;G++){let ne=i;const me=ji(r,ne);ne+=4;const ze=2147483647&me;if((2147483648&me)>>>31==1)return Bt.warn("SIDX has hierarchical references (not supported)"),null;const mt=ji(r,ne);ne+=4,n.push({referenceSize:ze,subsegmentDuration:mt,info:{duration:mt/o,start:b,end:b+ze-1}}),b+=ze,ne+=4,i=ne}return{earliestPresentationTime:0,timescale:o,version:e,referencesCount:I,references:n}}function Ic(r){const n=[],e=fr(r,["moov","trak"]);for(let o=0;o<e.length;o++){const d=e[o],m=fr(d,["tkhd"])[0];if(m){let b=m[0],I=0===b?12:20;const G=ji(m,I),ne=fr(d,["mdia","mdhd"])[0];if(ne){b=ne[0],I=0===b?12:20;const me=ji(ne,I),ze=fr(d,["mdia","hdlr"])[0];if(ze){const mt={soun:"audio",vide:"video"}[Qr(ze.subarray(8,12))];if(mt){const St=fr(d,["mdia","minf","stbl","stsd"])[0];let Ot;St&&(Ot=Qr(St.subarray(12,16))),n[G]={timescale:me,type:mt},n[mt]={timescale:me,id:G,codec:Ot}}}}}}return fr(r,["moov","mvex","trex"]).forEach(o=>{const d=ji(o,4),m=n[d];m&&(m.default={duration:ji(o,12),flags:ji(o,20)})}),n}function Lo(r){const n=fr(r,["schm"])[0];if(n){const e=Qr(n.subarray(4,8));if("cbcs"===e||"cenc"===e)return fr(r,["schi","tenc"])[0]}return Bt.error("[eme] missing 'schm' box"),null}function je(r){const n=ji(r,0);let e=8;1&n&&(e+=4),4&n&&(e+=4);let i=0;const o=ji(r,4);for(let d=0;d<o;d++)256&n&&(i+=ji(r,e),e+=4),512&n&&(e+=4),1024&n&&(e+=4),2048&n&&(e+=4);return i}function _t(r,n){const e=new Uint8Array(r.length+n.length);return e.set(r),e.set(n,r.length),e}function Gt(r,n){const e=[],i=n.samples,o=n.timescale,d=n.id;let m=!1;return fr(i,["moof"]).map(I=>{const G=I.byteOffset-8;fr(I,["traf"]).map(me=>{const ze=fr(me,["tfdt"]).map(et=>{const mt=et[0];let St=ji(et,4);return 1===mt&&(St*=Math.pow(2,32),St+=ji(et,8)),St/o})[0];return void 0!==ze&&(r=ze),fr(me,["tfhd"]).map(et=>{const mt=ji(et,4),St=16777215&ji(et,0);let ln=0;const En=0!=(16&St);let Dn=0;const Hn=0!=(32&St);let Rn=8;mt===d&&(0!=(1&St)&&(Rn+=8),0!=(2&St)&&(Rn+=4),0!=(8&St)&&(ln=ji(et,Rn),Rn+=4),En&&(Dn=ji(et,Rn),Rn+=4),Hn&&(Rn+=4),"video"===n.type&&(m=function Ut(r){if(!r)return!1;const n=r.indexOf("."),e=n<0?r:r.substring(0,n);return"hvc1"===e||"hev1"===e||"dvh1"===e||"dvhe"===e}(n.codec)),fr(me,["trun"]).map($n=>{const ii=$n[0],kn=16777215&ji($n,0),Ei=0!=(1&kn);let pi=0;const Zi=0!=(4&kn),_o=0!=(256&kn);let Or=0;const ri=0!=(512&kn);let ui=0;const Qn=0!=(1024&kn),ai=0!=(2048&kn);let $i=0;const Tr=ji($n,4);let er=8;Ei&&(pi=ji($n,er),er+=4),Zi&&(er+=4);let Gr=pi+G;for(let lr=0;lr<Tr;lr++){if(_o?(Or=ji($n,er),er+=4):Or=ln,ri?(ui=ji($n,er),er+=4):ui=Dn,Qn&&(er+=4),ai&&($i=0===ii?ji($n,er):Ll($n,er),er+=4),"video"===n.type){let Fo=0;for(;Fo<ui;){const _s=ji(i,Gr);Gr+=4,Sn(m,i[Gr])&&zn(i.subarray(Gr,Gr+_s),m?2:1,r+$i/o,e),Gr+=_s,Fo+=_s+4}}r+=Or/o}}))})})}),e}function Sn(r,n){if(r){const e=n>>1&63;return 39===e||40===e}return 6==(31&n)}function zn(r,n,e,i){const o=Ti(r);let d=0;d+=n;let m=0,b=0,I=!1,G=0;for(;d<o.length;){m=0;do{if(d>=o.length)break;G=o[d++],m+=G}while(255===G);b=0;do{if(d>=o.length)break;G=o[d++],b+=G}while(255===G);const ne=o.length-d;if(!I&&4===m&&d<o.length){if(I=!0,181===o[d++]){const ze=al(o,d);if(d+=2,49===ze){const et=ji(o,d);if(d+=4,1195456820===et){const mt=o[d++];if(3===mt){const St=o[d++],zt=64&St,hn=zt?2+3*(31&St):0,ln=new Uint8Array(hn);if(zt){ln[0]=St;for(let En=1;En<hn;En++)ln[En]=o[d++]}i.push({type:mt,payloadType:m,pts:e,bytes:ln})}}}}}else if(5===m&&b<ne){if(I=!0,b>16){const me=[];for(let mt=0;mt<16;mt++){const St=o[d++].toString(16);me.push(1==St.length?"0"+St:St),(3===mt||5===mt||7===mt||9===mt)&&me.push("-")}const ze=b-16,et=new Uint8Array(ze);for(let mt=0;mt<ze;mt++)et[mt]=o[d++];i.push({payloadType:m,pts:e,uuid:me.join(""),userData:Yo(et),userDataBytes:et})}}else if(b<ne)d+=b;else if(b>ne)break}}function Ti(r){const n=r.byteLength,e=[];let i=1;for(;i<n-2;)0===r[i]&&0===r[i+1]&&3===r[i+2]?(e.push(i+2),i+=2):i++;if(0===e.length)return r;const o=n-e.length,d=new Uint8Array(o);let m=0;for(i=0;i<o;m++,i++)m===e[0]&&(m++,e.shift()),d[i]=r[m];return d}let xs={};class us{static clearKeyUriToKeyIdMap(){xs={}}constructor(n,e,i,o=[1],d=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=n,this.uri=e,this.keyFormat=i,this.keyFormatVersions=o,this.iv=d,this.encrypted=!!n&&"NONE"!==n,this.isCommonEncryption=this.encrypted&&"AES-128"!==n}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case To_FAIRPLAY:case To_WIDEVINE:case To_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(n){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof n&&("AES-128"===this.method&&!this.iv&&Bt.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),n=0);const i=function ll(r){const n=new Uint8Array(16);for(let e=12;e<16;e++)n[e]=r>>8*(15-e)&255;return n}(n);return new us(this.method,this.uri,"identity",this.keyFormatVersions,i)}const e=function Rl(r){const n=r.split(":");let e=null;if("data"===n[0]&&2===n.length){const i=n[1].split(";"),o=i[i.length-1].split(",");if(2===o.length){const m=o[1];"base64"===o[0]?(i.splice(-1,1),e=Jr(m)):e=function Ss(r){const n=Ds(r).subarray(0,16),e=new Uint8Array(16);return e.set(n,16-n.length),e}(m)}}return e}(this.uri);if(e)switch(this.keyFormat){case To_WIDEVINE:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case To_PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function Oo(r,n,e){if(16!==r.byteLength)throw new RangeError("Invalid system id");let i,o,d;if(n){i=1,o=new Uint8Array(16*n.length);for(let b=0;b<n.length;b++){const I=n[b];if(16!==I.byteLength)throw new RangeError("Invalid key");o.set(I,16*b)}}else i=0,o=new Uint8Array;i>0?(d=new Uint8Array(4),n.length>0&&new DataView(d.buffer).setUint32(0,n.length,!1)):d=new Uint8Array;const m=new Uint8Array(4);return e&&e.byteLength>0&&new DataView(m.buffer).setUint32(0,e.byteLength,!1),function hr(r,...n){const e=n.length;let i=8,o=e;for(;o--;)i+=n[o].byteLength;const d=new Uint8Array(i);for(d[0]=i>>24&255,d[1]=i>>16&255,d[2]=i>>8&255,d[3]=255&i,d.set(r,4),o=0,i=8;o<e;o++)d.set(n[o],i),i+=n[o].byteLength;return d}([112,115,115,104],new Uint8Array([i,0,0,0]),r,d,o,m,e||new Uint8Array)}(i,null,e);const o=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),d=String.fromCharCode.apply(null,Array.from(o)),m=d.substring(d.indexOf("<"),d.length),G=(new DOMParser).parseFromString(m,"text/xml").getElementsByTagName("KID")[0];if(G){const ne=G.childNodes[0]?G.childNodes[0].nodeValue:G.getAttribute("VALUE");if(ne){const me=Jr(ne).subarray(0,16);(function Cs(r){const n=function(i,o,d){const m=i[o];i[o]=i[d],i[d]=m};n(r,0,3),n(r,1,2),n(r,4,5),n(r,6,7)})(me),this.keyId=me}}break}default:{let i=e.subarray(0,16);if(16!==i.length){const o=new Uint8Array(16);o.set(i,16-i.length),i=o}this.keyId=i;break}}if(!this.keyId||16!==this.keyId.byteLength){let i=xs[this.uri];if(!i){const o=Object.keys(xs).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,o),xs[this.uri]=i}this.keyId=i}return this}}const fs=/\{\$([a-zA-Z0-9-_]+)\}/g;function Ba(r){return fs.test(r)}function Zo(r,n,e){if(null!==r.variableList||r.hasVariableRefs)for(let i=e.length;i--;){const o=e[i],d=n[o];d&&(n[o]=kl(r,d))}}function kl(r,n){if(null!==r.variableList||r.hasVariableRefs){const e=r.variableList;return n.replace(fs,i=>{const o=i.substring(2,i.length-1),d=e?.[o];return void 0===d?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${o}"`)),i):d})}return n}function Ua(r,n,e){let o,d,i=r.variableList;if(i||(r.variableList=i={}),"QUERYPARAM"in n){o=n.QUERYPARAM;try{const m=new self.URL(e).searchParams;if(!m.has(o))throw new Error(`"${o}" does not match any query parameter in URI: "${e}"`);d=m.get(o)}catch(m){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${m.message}`))}}else o=n.NAME,d=n.VALUE;o in i?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${o}"`)):i[o]=d||""}function nd(r,n,e){const i=n.IMPORT;if(e&&i in e){let o=r.variableList;o||(r.variableList=o={}),o[i]=e[i]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}function wc(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const ac={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Ou=wc();function Fl(r,n){var e;return null!=(e=Ou?.isTypeSupported(`${n||"video"}/mp4;codecs="${r}"`))&&e}const hs=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,id=/#EXT-X-MEDIA:(.*)/g,lc=/^#EXT(?:INF|-X-TARGETDURATION):/m,Ta=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Bl=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Qs{static findGroup(n,e){for(let i=0;i<n.length;i++){const o=n[i];if(o.id===e)return o}}static convertAVC1ToAVCOTI(n){const e=n.split(".");if(e.length>2){let i=e.shift()+".";return i+=parseInt(e.shift()).toString(16),i+=("000"+parseInt(e.shift()).toString(16)).slice(-4),i}return n}static resolve(n,e){return Ra.buildAbsoluteURL(e,n,{alwaysNormalize:!0})}static isMediaPlaylist(n){return lc.test(n)}static parseMasterPlaylist(n,e){const o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Ba(n)},d=[];let m;for(hs.lastIndex=0;null!=(m=hs.exec(n));)if(m[1]){var b;const G=new Bi(m[1]);Zo(o,G,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const ne=kl(o,m[2]),me={attrs:G,bitrate:G.decimalInteger("AVERAGE-BANDWIDTH")||G.decimalInteger("BANDWIDTH"),name:G.NAME,url:Qs.resolve(ne,e)},ze=G.decimalResolution("RESOLUTION");ze&&(me.width=ze.width,me.height=ze.height),Vf((G.CODECS||"").split(/[ ,]+/).filter(et=>et),me),me.videoCodec&&-1!==me.videoCodec.indexOf("avc1")&&(me.videoCodec=Qs.convertAVC1ToAVCOTI(me.videoCodec)),null!=(b=me.unknownCodecs)&&b.length||d.push(me),o.levels.push(me)}else if(m[3]){const ne=m[4];switch(m[3]){case"SESSION-DATA":{const me=new Bi(ne);Zo(o,me,["DATA-ID","LANGUAGE","VALUE","URI"]);const ze=me["DATA-ID"];ze&&(null===o.sessionData&&(o.sessionData={}),o.sessionData[ze]=me);break}case"SESSION-KEY":{const me=Gs(ne,e,o);me.encrypted&&me.isSupported()?(null===o.sessionKeys&&(o.sessionKeys=[]),o.sessionKeys.push(me)):Bt.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${ne}"`);break}case"DEFINE":{const me=new Bi(ne);Zo(o,me,["NAME","VALUE","QUERYPARAM"]),Ua(o,me,e)}break;case"CONTENT-STEERING":{const me=new Bi(ne);Zo(o,me,["SERVER-URI","PATHWAY-ID"]),o.contentSteering={uri:Qs.resolve(me["SERVER-URI"],e),pathwayId:me["PATHWAY-ID"]||"."};break}case"START":o.startTimeOffset=cl(ne)}}return o.levels=d.length>0&&d.length<o.levels.length?d:o.levels,0===o.levels.length&&(o.playlistParsingError=new Error("no levels found in manifest")),o}static parseMasterPlaylistMedia(n,e,i){let o;const d={},m=i.levels,b={AUDIO:m.map(G=>({id:G.attrs.AUDIO,audioCodec:G.audioCodec})),SUBTITLES:m.map(G=>({id:G.attrs.SUBTITLES,textCodec:G.textCodec})),"CLOSED-CAPTIONS":[]};let I=0;for(id.lastIndex=0;null!==(o=id.exec(n));){const G=new Bi(o[1]),ne=G.TYPE;if(ne){const me=b[ne],ze=d[ne]||[];d[ne]=ze,Zo(i,G,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const et={attrs:G,bitrate:0,id:I++,groupId:G["GROUP-ID"]||"",instreamId:G["INSTREAM-ID"],name:G.NAME||G.LANGUAGE||"",type:ne,default:G.bool("DEFAULT"),autoselect:G.bool("AUTOSELECT"),forced:G.bool("FORCED"),lang:G.LANGUAGE,url:G.URI?Qs.resolve(G.URI,e):""};if(null!=me&&me.length){const mt=Qs.findGroup(me,et.groupId)||me[0];Is(et,mt,"audioCodec"),Is(et,mt,"textCodec")}ze.push(et)}}return d}static parseLevelPlaylist(n,e,i,o,d,m){const b=new Wo(e),I=b.fragments;let Ot,zt,hn,G=null,ne=0,me=0,ze=0,et=0,mt=null,St=new Ko(o,e),ln=-1,En=!1;for(Ta.lastIndex=0,b.m3u8=n,b.hasVariableRefs=Ba(n);null!==(Ot=Ta.exec(n));){En&&(En=!1,St=new Ko(o,e),St.start=ze,St.sn=ne,St.cc=et,St.level=i,G&&(St.initSegment=G,St.rawProgramDateTime=G.rawProgramDateTime,G.rawProgramDateTime=null));const $n=Ot[1];if($n){St.duration=parseFloat($n);const ii=(" "+Ot[2]).slice(1);St.title=ii||null,St.tagList.push(ii?["INF",$n,ii]:["INF",$n])}else if(Ot[3]){if(yi(St.duration)){St.start=ze,hn&&rd(St,hn,b),St.sn=ne,St.level=i,St.cc=et,St.urlId=d,I.push(St);const ii=(" "+Ot[3]).slice(1);St.relurl=kl(b,ii),Ul(St,mt),mt=St,ze+=St.duration,ne++,me=0,En=!0}}else if(Ot[4]){const ii=(" "+Ot[4]).slice(1);mt?St.setByteRange(ii,mt):St.setByteRange(ii)}else if(Ot[5])St.rawProgramDateTime=(" "+Ot[5]).slice(1),St.tagList.push(["PROGRAM-DATE-TIME",St.rawProgramDateTime]),-1===ln&&(ln=I.length);else{if(Ot=Ot[0].match(Bl),!Ot){Bt.warn("No matches on slow regex match for level playlist!");continue}for(zt=1;zt<Ot.length&&!(typeof Ot[zt]<"u");zt++);const ii=(" "+Ot[zt]).slice(1),kn=(" "+Ot[zt+1]).slice(1),Ei=Ot[zt+2]?(" "+Ot[zt+2]).slice(1):"";switch(ii){case"PLAYLIST-TYPE":b.type=kn.toUpperCase();break;case"MEDIA-SEQUENCE":ne=b.startSN=parseInt(kn);break;case"SKIP":{const pi=new Bi(kn);Zo(b,pi,["RECENTLY-REMOVED-DATERANGES"]);const Zi=pi.decimalInteger("SKIPPED-SEGMENTS");if(yi(Zi)){b.skippedSegments=Zi;for(let Or=Zi;Or--;)I.unshift(null);ne+=Zi}const _o=pi.enumeratedString("RECENTLY-REMOVED-DATERANGES");_o&&(b.recentlyRemovedDateranges=_o.split("\t"));break}case"TARGETDURATION":b.targetduration=Math.max(parseInt(kn),1);break;case"VERSION":b.version=parseInt(kn);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"#":(kn||Ei)&&St.tagList.push(Ei?[kn,Ei]:[kn]);break;case"DISCONTINUITY":et++,St.tagList.push(["DIS"]);break;case"GAP":St.gap=!0,St.tagList.push([ii]);break;case"BITRATE":St.tagList.push([ii,kn]);break;case"DATERANGE":{const pi=new Bi(kn);Zo(b,pi,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Zo(b,pi,pi.clientAttrs);const Zi=new Qi(pi,b.dateRanges[pi.ID]);Zi.isValid||b.skippedSegments?b.dateRanges[Zi.id]=Zi:Bt.warn(`Ignoring invalid DATERANGE tag: "${kn}"`),St.tagList.push(["EXT-X-DATERANGE",kn]);break}case"DEFINE":{const pi=new Bi(kn);Zo(b,pi,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in pi?nd(b,pi,m):Ua(b,pi,e)}break;case"DISCONTINUITY-SEQUENCE":et=parseInt(kn);break;case"KEY":{const pi=Gs(kn,e,b);if(pi.isSupported()){if("NONE"===pi.method){hn=void 0;break}hn||(hn={}),hn[pi.keyFormat]&&(hn=qr({},hn)),hn[pi.keyFormat]=pi}else Bt.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${kn}"`);break}case"START":b.startTimeOffset=cl(kn);break;case"MAP":{const pi=new Bi(kn);if(Zo(b,pi,["BYTERANGE","URI"]),St.duration){const Zi=new Ko(o,e);Gl(Zi,pi,i,hn),G=Zi,St.initSegment=G,G.rawProgramDateTime&&!St.rawProgramDateTime&&(St.rawProgramDateTime=G.rawProgramDateTime)}else Gl(St,pi,i,hn),G=St,En=!0;break}case"SERVER-CONTROL":{const pi=new Bi(kn);b.canBlockReload=pi.bool("CAN-BLOCK-RELOAD"),b.canSkipUntil=pi.optionalFloat("CAN-SKIP-UNTIL",0),b.canSkipDateRanges=b.canSkipUntil>0&&pi.bool("CAN-SKIP-DATERANGES"),b.partHoldBack=pi.optionalFloat("PART-HOLD-BACK",0),b.holdBack=pi.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const pi=new Bi(kn);b.partTarget=pi.decimalFloatingPoint("PART-TARGET");break}case"PART":{let pi=b.partList;pi||(pi=b.partList=[]);const Zi=me>0?pi[pi.length-1]:void 0,_o=me++,Or=new Bi(kn);Zo(b,Or,["BYTERANGE","URI"]);const ri=new Di(Or,St,e,_o,Zi);pi.push(ri),St.duration+=ri.duration;break}case"PRELOAD-HINT":{const pi=new Bi(kn);Zo(b,pi,["URI"]),b.preloadHint=pi;break}case"RENDITION-REPORT":{const pi=new Bi(kn);Zo(b,pi,["URI"]),b.renditionReports=b.renditionReports||[],b.renditionReports.push(pi);break}default:Bt.warn(`line parsed but not handled: ${Ot}`)}}}mt&&!mt.relurl?(I.pop(),ze-=mt.duration,b.partList&&(b.fragmentHint=mt)):b.partList&&(Ul(St,mt),St.cc=et,b.fragmentHint=St,hn&&rd(St,hn,b));const Dn=I.length,Hn=I[0],Rn=I[Dn-1];if(ze+=b.skippedSegments*b.targetduration,ze>0&&Dn&&Rn){b.averagetargetduration=ze/Dn;const $n=Rn.sn;b.endSN="initSegment"!==$n?$n:0,b.live||(Rn.endList=!0),Hn&&(b.startCC=Hn.cc)}else b.endSN=0,b.startCC=0;return b.fragmentHint&&(ze+=b.fragmentHint.duration),b.totalduration=ze,b.endCC=et,ln>0&&function Ru(r,n){let e=r[n];for(let i=n;i--;){const o=r[i];if(!o)return;o.programDateTime=e.programDateTime-1e3*o.duration,e=o}}(I,ln),b}}function Gs(r,n,e){var i,o;const d=new Bi(r);Zo(e,d,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const m=null!=(i=d.METHOD)?i:"",b=d.URI,I=d.hexadecimalInteger("IV"),G=d.KEYFORMATVERSIONS,ne=null!=(o=d.KEYFORMAT)?o:"identity";b&&d.IV&&!I&&Bt.error(`Invalid IV: ${d.IV}`);const me=b?Qs.resolve(b,n):"",ze=(G||"1").split("/").map(Number).filter(Number.isFinite);return new us(m,me,ne,ze,I)}function cl(r){const e=new Bi(r).decimalFloatingPoint("TIME-OFFSET");return yi(e)?e:null}function Vf(r,n){["video","audio","text"].forEach(e=>{const i=r.filter(o=>function Ga(r,n){const e=ac[n];return!!e&&!0===e[r.slice(0,4)]}(o,e));if(i.length){const o=i.filter(d=>0===d.lastIndexOf("avc1",0)||0===d.lastIndexOf("mp4a",0));n[`${e}Codec`]=o.length>0?o[0]:i[0],r=r.filter(d=>-1===i.indexOf(d))}}),n.unknownCodecs=r}function Is(r,n,e){const i=n[e];i&&(r[e]=i)}function Ul(r,n){r.rawProgramDateTime?r.programDateTime=Date.parse(r.rawProgramDateTime):null!=n&&n.programDateTime&&(r.programDateTime=n.endProgramDateTime),yi(r.programDateTime)||(r.programDateTime=null,r.rawProgramDateTime=null)}function Gl(r,n,e,i){r.relurl=n.URI,n.BYTERANGE&&r.setByteRange(n.BYTERANGE),r.level=e,r.sn="initSegment",i&&(r.levelkeys=i),r.initSegment=null}function rd(r,n,e){r.levelkeys=n;const{encryptedFragments:i}=e;(!i.length||i[i.length-1].levelkeys!==n)&&Object.keys(n).some(o=>n[o].isCommonEncryption)&&i.push(r)}function Nu(r){const{type:n}=r;switch(n){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function Ha(r,n){let e=r.url;return(void 0===e||0===e.indexOf("data:"))&&(e=n.url),e}class od{constructor(n){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=n,this.registerListeners()}startLoad(n){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:n}=this;n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Rt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.on(Rt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:n}=this;n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.off(Rt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.off(Rt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(n){const e=this.hls.config,m=new(e.pLoader||e.loader)(e);return this.loaders[n.type]=m,m}getInternalLoader(n){return this.loaders[n.type]}resetInternalLoader(n){this.loaders[n]&&delete this.loaders[n]}destroyInternalLoaders(){for(const n in this.loaders){const e=this.loaders[n];e&&e.destroy(),this.resetInternalLoader(n)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(n,e){const{url:i}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:i,deliveryDirectives:null})}onLevelLoading(n,e){const{id:i,level:o,url:d,deliveryDirectives:m}=e;this.load({id:i,level:o,responseType:"text",type:"level",url:d,deliveryDirectives:m})}onAudioTrackLoading(n,e){const{id:i,groupId:o,url:d,deliveryDirectives:m}=e;this.load({id:i,groupId:o,level:null,responseType:"text",type:"audioTrack",url:d,deliveryDirectives:m})}onSubtitleTrackLoading(n,e){const{id:i,groupId:o,url:d,deliveryDirectives:m}=e;this.load({id:i,groupId:o,level:null,responseType:"text",type:"subtitleTrack",url:d,deliveryDirectives:m})}load(n){var e;const i=this.hls.config;let d,o=this.getInternalLoader(n);if(o){const G=o.context;if(G&&G.url===n.url)return void Bt.trace("[playlist-loader]: playlist request ongoing");Bt.log(`[playlist-loader]: aborting previous loader for type: ${n.type}`),o.abort()}if(d="manifest"===n.type?i.manifestLoadPolicy.default:qr({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(n),null!=(e=n.deliveryDirectives)&&e.part){let G;if("level"===n.type&&null!==n.level?G=this.hls.levels[n.level].details:"audioTrack"===n.type&&null!==n.id?G=this.hls.audioTracks[n.id].details:"subtitleTrack"===n.type&&null!==n.id&&(G=this.hls.subtitleTracks[n.id].details),G){const ne=G.partTarget,me=G.targetduration;if(ne&&me){const ze=1e3*Math.max(3*ne,.8*me);d=qr({},d,{maxTimeToFirstByteMs:Math.min(ze,d.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(ze,d.maxTimeToFirstByteMs)})}}}const m=d.errorRetry||d.timeoutRetry||{};o.load(n,{loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:m.maxNumRetry||0,retryDelay:m.retryDelayMs||0,maxRetryDelay:m.maxRetryDelayMs||0},{onSuccess:(G,ne,me,ze)=>{const et=this.getInternalLoader(me);this.resetInternalLoader(me.type);const mt=G.data;0===mt.indexOf("#EXTM3U")?(ne.parsing.start=performance.now(),Qs.isMediaPlaylist(mt)?this.handleTrackOrLevelPlaylist(G,ne,me,ze||null,et):this.handleMasterPlaylist(G,ne,me,ze)):this.handleManifestParsingError(G,me,new Error("no EXTM3U delimiter"),ze||null,ne)},onError:(G,ne,me,ze)=>{this.handleNetworkError(ne,me,!1,G,ze)},onTimeout:(G,ne,me)=>{this.handleNetworkError(ne,me,!0,void 0,G)}})}handleMasterPlaylist(n,e,i,o){const d=this.hls,m=n.data,b=Ha(n,i),I=Qs.parseMasterPlaylist(m,b);if(I.playlistParsingError)return void this.handleManifestParsingError(n,i,I.playlistParsingError,o,e);const{contentSteering:G,levels:ne,sessionData:me,sessionKeys:ze,startTimeOffset:et,variableList:mt}=I;this.variableList=mt;const{AUDIO:St=[],SUBTITLES:Ot,"CLOSED-CAPTIONS":zt}=Qs.parseMasterPlaylistMedia(m,b,I);St.length&&!St.some(ln=>!ln.url)&&ne[0].audioCodec&&!ne[0].attrs.AUDIO&&(Bt.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),St.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Bi({}),bitrate:0,url:""})),d.trigger(Rt.MANIFEST_LOADED,{levels:ne,audioTracks:St,subtitles:Ot,captions:zt,contentSteering:G,url:b,stats:e,networkDetails:o,sessionData:me,sessionKeys:ze,startTimeOffset:et,variableList:mt})}handleTrackOrLevelPlaylist(n,e,i,o,d){const m=this.hls,{id:b,level:I,type:G}=i,ne=Ha(n,i),me=yi(b)?b:0,ze=yi(I)?I:me,et=Nu(i),mt=Qs.parseLevelPlaylist(n.data,ne,ze,et,me,this.variableList);if("manifest"===G){const St={attrs:new Bi({}),bitrate:0,details:mt,name:"",url:ne};m.trigger(Rt.MANIFEST_LOADED,{levels:[St],audioTracks:[],url:ne,stats:e,networkDetails:o,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),i.levelDetails=mt,this.handlePlaylistLoaded(mt,n,e,i,o,d)}handleManifestParsingError(n,e,i,o,d){this.hls.trigger(Rt.ERROR,{type:Mi.NETWORK_ERROR,details:wn.MANIFEST_PARSING_ERROR,fatal:"manifest"===e.type,url:n.url,err:i,error:i,reason:i.message,response:n,context:e,networkDetails:o,stats:d})}handleNetworkError(n,e,i=!1,o,d){let m=`A network ${i?"timeout":"error"+(o?" (status "+o.code+")":"")} occurred while loading ${n.type}`;"level"===n.type?m+=`: ${n.level} id: ${n.id}`:("audioTrack"===n.type||"subtitleTrack"===n.type)&&(m+=` id: ${n.id} group-id: "${n.groupId}"`);const b=new Error(m);Bt.warn(`[playlist-loader]: ${m}`);let I=wn.UNKNOWN,G=!1;const ne=this.getInternalLoader(n);switch(n.type){case"manifest":I=i?wn.MANIFEST_LOAD_TIMEOUT:wn.MANIFEST_LOAD_ERROR,G=!0;break;case"level":I=i?wn.LEVEL_LOAD_TIMEOUT:wn.LEVEL_LOAD_ERROR,G=!1;break;case"audioTrack":I=i?wn.AUDIO_TRACK_LOAD_TIMEOUT:wn.AUDIO_TRACK_LOAD_ERROR,G=!1;break;case"subtitleTrack":I=i?wn.SUBTITLE_TRACK_LOAD_TIMEOUT:wn.SUBTITLE_LOAD_ERROR,G=!1}ne&&this.resetInternalLoader(n.type);const me={type:Mi.NETWORK_ERROR,details:I,fatal:G,url:n.url,loader:ne,context:n,error:b,networkDetails:e,stats:d};o&&(me.response=bo({url:e?.url||n.url,data:void 0},o)),this.hls.trigger(Rt.ERROR,me)}handlePlaylistLoaded(n,e,i,o,d,m){const b=this.hls,{type:I,level:G,id:ne,groupId:me,deliveryDirectives:ze}=o,et=Ha(e,o),mt=Nu(o),St="number"==typeof o.level&&"main"===mt?G:void 0;if(!n.fragments.length){const zt=new Error("No Segments found in Playlist");return void b.trigger(Rt.ERROR,{type:Mi.NETWORK_ERROR,details:wn.LEVEL_EMPTY_ERROR,fatal:!1,url:et,error:zt,reason:zt.message,response:e,context:o,level:St,parent:mt,networkDetails:d,stats:i})}n.targetduration||(n.playlistParsingError=new Error("Missing Target Duration"));const Ot=n.playlistParsingError;if(Ot)b.trigger(Rt.ERROR,{type:Mi.NETWORK_ERROR,details:wn.LEVEL_PARSING_ERROR,fatal:!1,url:et,error:Ot,reason:Ot.message,response:e,context:o,level:St,parent:mt,networkDetails:d,stats:i});else switch(n.live&&m&&(m.getCacheAge&&(n.ageHeader=m.getCacheAge()||0),(!m.getCacheAge||isNaN(n.ageHeader))&&(n.ageHeader=0)),I){case"manifest":case"level":b.trigger(Rt.LEVEL_LOADED,{details:n,level:St||0,id:ne||0,stats:i,networkDetails:d,deliveryDirectives:ze});break;case"audioTrack":b.trigger(Rt.AUDIO_TRACK_LOADED,{details:n,id:ne||0,groupId:me||"",stats:i,networkDetails:d,deliveryDirectives:ze});break;case"subtitleTrack":b.trigger(Rt.SUBTITLE_TRACK_LOADED,{details:n,id:ne||0,groupId:me||"",stats:i,networkDetails:d,deliveryDirectives:ze})}}}function Pc(r,n){let e;try{e=new Event("addtrack")}catch{e=document.createEvent("Event"),e.initEvent("addtrack",!1,!1)}e.track=r,n.dispatchEvent(e)}function Gd(r,n){const e=r.mode;if("disabled"===e&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(n.id))try{if(r.addCue(n),!r.cues.getCueById(n.id))throw new Error(`addCue is failed for: ${n}`)}catch(i){Bt.debug(`[texttrack-utils]: ${i}`);try{const o=new self.TextTrackCue(n.startTime,n.endTime,n.text);o.id=n.id,r.addCue(o)}catch(o){Bt.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${o}`)}}"disabled"===e&&(r.mode=e)}function Hl(r){const n=r.mode;if("disabled"===n&&(r.mode="hidden"),r.cues)for(let e=r.cues.length;e--;)r.removeCue(r.cues[e]);"disabled"===n&&(r.mode=n)}function dl(r,n,e,i){const o=r.mode;if("disabled"===o&&(r.mode="hidden"),r.cues&&r.cues.length>0){const d=function Hd(r,n,e){const i=[],o=function ul(r,n){if(n<r[0].startTime)return 0;const e=r.length-1;if(n>r[e].endTime)return-1;let i=0,o=e;for(;i<=o;){const d=Math.floor((o+i)/2);if(n<r[d].startTime)o=d-1;else{if(!(n>r[d].startTime&&i<e))return d;i=d+1}}return r[i].startTime-n<n-r[o].startTime?i:o}(r,n);if(o>-1)for(let d=o,m=r.length;d<m;d++){const b=r[d];if(b.startTime>=n&&b.endTime<=e)i.push(b);else if(b.startTime>e)return i}return i}(r.cues,n,e);for(let m=0;m<d.length;m++)(!i||i(d[m]))&&r.removeCue(d[m])}"disabled"===o&&(r.mode=o)}var ws_emsg="https://aomedia.org/emsg/ID3";function ja(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const Rc=(()=>{const r=ja();try{new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function jl(r,n){return r.getTime()/1e3-n}function sd(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class Lu{constructor(n){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=n,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.on(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Rt.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.off(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Rt.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(n,e){this.media=e.media}onMediaDetaching(){this.id3Track&&(Hl(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(n){const e=this.getID3Track(n.textTracks);return e.mode="hidden",e}getID3Track(n){if(this.media){for(let e=0;e<n.length;e++){const i=n[e];if("metadata"===i.kind&&"id3"===i.label)return Pc(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(n,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:o}}}=this;if(!i&&!o)return;const{samples:d}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const m=ja();for(let b=0;b<d.length;b++){const I=d[b].type;if(I===ws_emsg&&!i||!o)continue;const G=As(d[b].data);if(G){const ne=d[b].pts;let me=ne+d[b].duration;me>Rc&&(me=Rc),me-ne<=0&&(me=ne+.25);for(let et=0;et<G.length;et++){const mt=G[et];if(!ic(mt)){this.updateId3CueEnds(ne,I);const St=new m(ne,me,"");St.value=mt,I&&(St.type=I),this.id3Track.addCue(St)}}}}}updateId3CueEnds(n,e){var i;const o=null==(i=this.id3Track)?void 0:i.cues;if(o)for(let d=o.length;d--;){const m=o[d];m.type===e&&m.startTime<n&&m.endTime===Rc&&(m.endTime=n)}}onBufferFlushing(n,{startOffset:e,endOffset:i,type:o}){const{id3Track:d,hls:m}=this;if(!m)return;const{config:{enableEmsgMetadataCues:b,enableID3MetadataCues:I}}=m;if(d&&(b||I)){let G;G="audio"===o?ne=>"org.id3"===ne.type&&I:"video"===o?ne=>ne.type===ws_emsg&&b:ne=>"org.id3"===ne.type&&I||ne.type===ws_emsg&&b,dl(d,e,i,G)}}onLevelUpdated(n,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:i,id3Track:o}=this,{dateRanges:d}=e,m=Object.keys(d);if(o){const ne=Object.keys(i).filter(me=>!m.includes(me));for(let me=ne.length;me--;){const ze=ne[me];Object.keys(i[ze].cues).forEach(et=>{o.removeCue(i[ze].cues[et])}),delete i[ze]}}const b=e.fragments[e.fragments.length-1];if(0===m.length||!yi(b?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const I=b.programDateTime/1e3-b.start,G=ja();for(let ne=0;ne<m.length;ne++){const me=m[ne],ze=d[me],et=i[me],mt=et?.cues||{};let St=et?.durationKnown||!1;const Ot=jl(ze.startDate,I);let zt=Rc;const hn=ze.endDate;if(hn)zt=jl(hn,I),St=!0;else if(ze.endOnNext&&!St){const En=m.reduce((Dn,Hn)=>{const Rn=d[Hn];return Rn.class===ze.class&&Rn.id!==Hn&&Rn.startDate>ze.startDate&&Dn.push(Rn),Dn},[]).sort((Dn,Hn)=>Dn.startDate.getTime()-Hn.startDate.getTime())[0];En&&(zt=jl(En.startDate,I),St=!0)}const ln=Object.keys(ze.attr);for(let En=0;En<ln.length;En++){const Dn=ln[En];if("ID"===(r=Dn)||"CLASS"===r||"START-DATE"===r||"DURATION"===r||"END-DATE"===r||"END-ON-NEXT"===r)continue;let Hn=mt[Dn];if(Hn)St&&!et.durationKnown&&(Hn.endTime=zt);else{let Rn=ze.attr[Dn];Hn=new G(Ot,zt,""),sr(Dn)&&(Rn=sd(Rn)),Hn.value={key:Dn,data:Rn},Hn.type="com.apple.quicktime.HLS",Hn.id=me,this.id3Track.addCue(Hn),mt[Dn]=Hn}}i[me]={cues:mt,dateRange:ze,durationKnown:St}}var r}}class ad{constructor(n){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=n,this.config=n.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:n,levelDetails:e}=this;return void 0!==n.liveMaxLatencyDuration?n.liveMaxLatencyDuration:e?n.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:n}=this;if(null===n)return null;const{holdBack:e,partHoldBack:i,targetduration:o}=n,{liveSyncDuration:d,liveSyncDurationCount:m,lowLatencyMode:b}=this.config,I=this.hls.userConfig;let G=b&&i||e;return(I.liveSyncDuration||I.liveSyncDurationCount||0===G)&&(G=void 0!==d?d:m*o),G+Math.min(1*this.stallCount,o)}get liveSyncPosition(){const n=this.estimateLiveEdge(),e=this.targetLatency,i=this.levelDetails;if(null===n||null===e||null===i)return null;const o=i.edge,b=o-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(o-i.totalduration,n-e-this.edgeStalled),b)}get drift(){const{levelDetails:n}=this;return null===n?1:n.drift}get edgeStalled(){const{levelDetails:n}=this;return null===n?0:Math.max(n.age-3*(this.config.lowLatencyMode&&n.partTarget||n.targetduration),0)}get forwardBufferLength(){const{media:n,levelDetails:e}=this;if(!n||!e)return 0;const i=n.buffered.length;return(i?n.buffered.end(i-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Rt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Rt.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Rt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Rt.ERROR,this.onError,this)}onMediaAttached(n,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(n,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(n,e){var i;e.details===wn.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(i=this.levelDetails)&&i.live&&Bt.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:n,levelDetails:e}=this;if(!n||!e)return;this.currentTime=n.currentTime;const i=this.computeLatency();if(null===i)return;this._latency=i;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:d}=this.config;if(!o||1===d)return;const m=this.targetLatency;if(null===m)return;const b=i-m,I=Math.min(this.maxLatency,m+e.targetduration);if(e.live&&b<I&&b>.05&&this.forwardBufferLength>1){const ne=Math.min(2,Math.max(1,d)),me=Math.round(2/(1+Math.exp(-.75*b-this.edgeStalled))*20)/20;n.playbackRate=Math.min(ne,Math.max(1,me))}else 1!==n.playbackRate&&0!==n.playbackRate&&(n.playbackRate=1)}estimateLiveEdge(){const{levelDetails:n}=this;return null===n?null:n.edge+n.age}computeLatency(){const n=this.estimateLiveEdge();return null===n?null:n-this.currentTime}}const cc=["NONE","TYPE-0","TYPE-1",null];class Sa{constructor(n,e,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=n,this.part=e,this.skip=i}addDirectives(n){const e=new self.URL(n);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class fl{constructor(n){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[n.url],this._attrs=[n.attrs],this.bitrate=n.bitrate,n.details&&(this.details=n.details),this.id=n.id||0,this.name=n.name,this.width=n.width||0,this.height=n.height||0,this.audioCodec=n.audioCodec,this.videoCodec=n.videoCodec,this.unknownCodecs=n.unknownCodecs,this.codecSet=[n.videoCodec,n.audioCodec].filter(e=>e).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(n){const e=n%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}get audioGroupId(){var n;return null==(n=this.audioGroupIds)?void 0:n[this.urlId]}get textGroupId(){var n;return null==(n=this.textGroupIds)?void 0:n[this.urlId]}addFallback(n){this.url.push(n.url),this._attrs.push(n.attrs)}}function Ca(r,n){const e=n.startPTS;if(yi(e)){let o,i=0;n.sn>r.sn?(i=e-r.start,o=r):(i=r.start-e,o=n),o.duration!==i&&(o.duration=i)}else n.start=n.sn>r.sn?r.cc===n.cc&&r.minEndPTS?r.start+(r.minEndPTS-r.start):r.start+r.duration:Math.max(r.start-n.duration,0)}function Da(r,n,e,i,o,d){i-e<=0&&(Bt.warn("Fragment should have a positive duration",n),i=e+n.duration,d=o+n.duration);let b=e,I=i;const G=n.startPTS,ne=n.endPTS;if(yi(G)){const Ot=Math.abs(G-e);n.deltaPTS=yi(n.deltaPTS)?Math.max(Ot,n.deltaPTS):Ot,b=Math.max(e,G),e=Math.min(e,G),o=Math.min(o,n.startDTS),I=Math.min(i,ne),i=Math.max(i,ne),d=Math.max(d,n.endDTS)}const me=e-n.start;0!==n.start&&(n.start=e),n.duration=i-n.start,n.startPTS=e,n.maxStartPTS=b,n.startDTS=o,n.endPTS=i,n.minEndPTS=I,n.endDTS=d;const ze=n.sn;if(!r||ze<r.startSN||ze>r.endSN)return 0;let et;const mt=ze-r.startSN,St=r.fragments;for(St[mt]=n,et=mt;et>0;et--)Ca(St[et],St[et-1]);for(et=mt;et<St.length-1;et++)Ca(St[et],St[et+1]);return r.fragmentHint&&Ca(St[St.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,me}function Lc(r,n){const e=n.startSN+n.skippedSegments-r.startSN,i=r.fragments;e<0||e>=i.length||dd(n,i[e].start)}function dd(r,n){if(n){const e=r.fragments;for(let i=r.skippedSegments;i<e.length;i++)e[i].start+=n;r.fragmentHint&&(r.fragmentHint.start+=n)}}function hl(r,n,e){var i;return null!=r&&r.details?kc(null==(i=r.details)?void 0:i.partList,n,e):null}function kc(r,n,e){if(r)for(let i=r.length;i--;){const o=r[i];if(o.index===e&&o.fragment.sn===n)return o}return null}function Ma(r){switch(r.details){case wn.FRAG_LOAD_TIMEOUT:case wn.KEY_LOAD_TIMEOUT:case wn.LEVEL_LOAD_TIMEOUT:case wn.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function fo(r,n){const e=Ma(n);return r.default[(e?"timeout":"error")+"Retry"]}function Fc(r,n){const e="linear"===r.backoff?1:Math.pow(2,n);return Math.min(e*r.retryDelayMs,r.maxRetryDelayMs)}function Vl(r){return bo(bo({},r),{errorRetry:null,timeoutRetry:null})}function Ps(r,n,e,i){return!!r&&n<r.maxNumRetry&&(function js(r){return 0===r&&!1===navigator.onLine||!!r&&(r<400||r>499)}(i)||!!e)}const Vs={search:function(r,n){let e=0,i=r.length-1,o=null,d=null;for(;e<=i;){o=(e+i)/2|0,d=r[o];const m=n(d);if(m>0)e=o+1;else{if(!(m<0))return d;i=o-1}}return null}};function ml(r,n,e=0,i=0){let o=null;if(r?o=n[r.sn-n[0].sn+1]||null:0===e&&0===n[0].start&&(o=n[0]),o&&0===Ka(e,i,o))return o;const d=Vs.search(n,Ka.bind(null,e,i));return!d||d===r&&o?o:d}function Ka(r=0,n=0,e){if(e.start<=r&&e.start+e.duration>r)return 0;const i=Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-i<=r?1:e.start-i>r&&e.start?-1:0}function Fu(r,n,e){const i=1e3*Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0));return(e.endProgramDateTime||0)-i>r}function Vt(r,n,e){if(performance.now()-r.lastErrorPerfMs>3e5)return!0;const i=r.details;if(n.details===wn.FRAG_GAP&&i&&n.frag){const d=ml(null,i.fragments,n.frag.start);if(d&&!d.gap)return!0}if(e&&r.errors.length<e.errors.length){const o=r.errors[r.errors.length-1];if(i&&o.frag&&n.frag&&Math.abs(o.frag.start-n.frag.start)>3*i.targetduration)return!0}return!1}class pn{constructor(n,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=Bt.log.bind(Bt,`${e}:`),this.warn=Bt.warn.bind(Bt,`${e}:`),this.hls=n}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(n,e){const i=e?.renditionReports;if(i){let o=-1;for(let d=0;d<i.length;d++){const m=i[d];let b;try{b=new self.URL(m.URI,e.url).href}catch(I){Bt.warn(`Could not construct new URL for Rendition Report: ${I}`),b=m.URI||""}if(b===n){o=d;break}b===n.substring(0,b.length)&&(o=d)}if(-1!==o){const d=i[o],m=parseInt(d["LAST-MSN"])||e?.lastPartSn;let b=parseInt(d["LAST-PART"])||e?.lastPartIndex;if(this.hls.config.lowLatencyMode){const I=Math.min(e.age-e.partTarget,e.targetduration);b>=0&&I>e.partTarget&&(b+=1)}return new Sa(m,b>=0?b:void 0,"")}}}loadPlaylist(n){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(n){return this.canLoad&&!!n&&!!n.url&&(!n.details||n.details.live)}shouldReloadPlaylist(n){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(n)}playlistLoaded(n,e,i){const{details:o,stats:d}=e,m=self.performance.now(),b=d.loading.first?Math.max(0,m-d.loading.first):0;if(o.advancedDateTime=Date.now()-b,o.live||null!=i&&i.live){if(o.reloaded(i),i&&this.log(`live playlist ${n} ${o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED"}`),i&&o.fragments.length>0&&function ld(r,n){let e=null;const i=r.fragments;for(let I=i.length-1;I>=0;I--){const G=i[I].initSegment;if(G){e=G;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let d,o=0;if(function jd(r,n,e){const i=n.skippedSegments,o=Math.max(r.startSN,n.startSN)-n.startSN,d=(r.fragmentHint?1:0)+(i?n.endSN:Math.min(r.endSN,n.endSN))-n.startSN,m=n.startSN-r.startSN,b=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments,I=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let G=o;G<=d;G++){const ne=I[m+G];let me=b[G];i&&!me&&G<i&&(me=n.fragments[G]=ne),ne&&me&&e(ne,me)}}(r,n,(I,G)=>{I.relurl&&(o=I.cc-G.cc),yi(I.startPTS)&&yi(I.endPTS)&&(G.start=G.startPTS=I.startPTS,G.startDTS=I.startDTS,G.maxStartPTS=I.maxStartPTS,G.endPTS=I.endPTS,G.endDTS=I.endDTS,G.minEndPTS=I.minEndPTS,G.duration=I.endPTS-I.startPTS,G.duration&&(d=G),n.PTSKnown=n.alignedSliding=!0),G.elementaryStreams=I.elementaryStreams,G.loader=I.loader,G.stats=I.stats,G.urlId=I.urlId,I.initSegment&&(G.initSegment=I.initSegment,e=I.initSegment)}),e&&(n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments).forEach(G=>{var ne;(!G.initSegment||G.initSegment.relurl===(null==(ne=e)?void 0:ne.relurl))&&(G.initSegment=e)}),n.skippedSegments)if(n.deltaUpdateFailed=n.fragments.some(I=>!I),n.deltaUpdateFailed){Bt.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let I=n.skippedSegments;I--;)n.fragments.shift();n.startSN=n.fragments[0].sn,n.startCC=n.fragments[0].cc}else n.canSkipDateRanges&&(n.dateRanges=function Nc(r,n,e){const i=qr({},r);return e&&e.forEach(o=>{delete i[o]}),Object.keys(n).forEach(o=>{const d=new Qi(n[o].attr,i[o]);d.isValid?i[o]=d:Bt.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(n[o].attr)}"`)}),i}(r.dateRanges,n.dateRanges,n.recentlyRemovedDateranges));const m=n.fragments;if(o){Bt.warn("discontinuity sliding from playlist, take drift into account");for(let I=0;I<m.length;I++)m[I].cc+=o}n.skippedSegments&&(n.startCC=n.fragments[0].cc),function cd(r,n,e){if(r&&n){let i=0;for(let o=0,d=r.length;o<=d;o++){const m=r[o],b=n[o+i];m&&b&&m.index===b.index&&m.fragment.sn===b.fragment.sn?e(m,b):i--}}}(r.partList,n.partList,(I,G)=>{G.elementaryStreams=I.elementaryStreams,G.stats=I.stats}),d?Da(n,d,d.startPTS,d.endPTS,d.startDTS,d.endDTS):Lc(r,n),m.length&&(n.totalduration=n.edge-m[0].start),n.driftStartTime=r.driftStartTime,n.driftStart=r.driftStart;const b=n.advancedDateTime;if(n.advanced&&b){const I=n.edge;n.driftStart||(n.driftStartTime=b,n.driftStart=I),n.driftEndTime=b,n.driftEnd=I}else n.driftEndTime=r.driftEndTime,n.driftEnd=r.driftEnd,n.advancedDateTime=r.advancedDateTime}(i,o),!this.canLoad||!o.live)return;let I,G,ne;if(o.canBlockReload&&o.endSN&&o.advanced){const Ot=this.hls.config.lowLatencyMode,zt=o.lastPartSn,hn=o.endSN,ln=o.lastPartIndex,Dn=zt===hn;-1!==ln?(G=Dn?hn+1:zt,ne=Dn?Ot?0:ln:ln+1):G=hn+1;const Rn=o.age;let ii=Math.min(Rn+o.ageHeader-o.partTarget,1.5*o.targetduration);if(ii>0){if(i&&ii>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${ii} with playlist age: ${o.age}`),ii=0;else{const kn=Math.floor(ii/o.targetduration);G+=kn,void 0!==ne&&(ne+=Math.round(ii%o.targetduration/o.partTarget)),this.log(`CDN Tune-in age: ${o.ageHeader}s last advanced ${Rn.toFixed(2)}s goal: ${ii} skip sn ${kn} to part ${ne}`)}o.tuneInGoal=ii}if(I=this.getDeliveryDirectives(o,e.deliveryDirectives,G,ne),Ot||!Dn)return void this.loadPlaylist(I)}else o.canBlockReload&&(I=this.getDeliveryDirectives(o,e.deliveryDirectives,G,ne));const me=this.hls.mainForwardBufferInfo,mt=function Hm(r,n=1/0){let e=1e3*r.targetduration;if(r.updated){const i=r.fragments;if(i.length&&4*e>n){const d=1e3*i[i.length-1].duration;d<e&&(e=d)}}else e/=2;return Math.round(e)}(o,1e3*(o.edge-(me?me.end-me.len:0)));o.updated&&m>this.requestScheduled+mt&&(this.requestScheduled=d.loading.start),void 0!==G&&o.canBlockReload?this.requestScheduled=d.loading.first+mt-(1e3*o.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+mt<m?this.requestScheduled=m:this.requestScheduled-m<=0&&(this.requestScheduled+=mt);let St=this.requestScheduled-m;St=Math.max(0,St),this.log(`reload live playlist ${n} in ${Math.round(St)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(I),St)}else this.clearTimer()}getDeliveryDirectives(n,e,i,o){let d=function Va(r,n){const{canSkipUntil:e,canSkipDateRanges:i,endSN:o}=r;return e&&(void 0!==n?n-o:0)<e?i?"v2":"YES":""}(n,i);return null!=e&&e.skip&&n.deltaUpdateFailed&&(i=e.msn,o=e.part,d=""),new Sa(i,o,d)}checkRetry(n){const e=n.details,i=Ma(n),o=n.errorAction,{action:d,retryCount:m=0,retryConfig:b}=o||{},I=!!o&&!!b&&(5===d||!o.resolved&&2===d);if(I){var G;if(this.requestScheduled=-1,m>=b.maxNumRetry)return!1;if(i&&null!=(G=n.context)&&G.deliveryDirectives)this.warn(`Retrying playlist loading ${m+1}/${b.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const ne=Fc(b,m);this.timer=self.setTimeout(()=>this.loadPlaylist(),ne),this.warn(`Retrying playlist loading ${m+1}/${b.maxNumRetry} after "${e}" in ${ne}ms`)}n.levelRetry=!0,o.resolved=!0}return I}}let Mn;class Bn extends pn{constructor(n,e){super(n,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Rt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(Rt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(Rt.FRAG_LOADED,this.onFragLoaded,this),n.on(Rt.ERROR,this.onError,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Rt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(Rt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(Rt.FRAG_LOADED,this.onFragLoaded,this),n.off(Rt.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(e=>{e.loadError=0,e.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(n,e){this.resetLevels()}onManifestLoaded(n,e){const i=[],o={};let d;e.levels.forEach(m=>{var b;const I=m.attrs;-1!==(null==(b=m.audioCodec)?void 0:b.indexOf("mp4a.40.34"))&&(Mn||(Mn=/chrome|firefox/i.test(navigator.userAgent)),Mn&&(m.audioCodec=void 0));const{AUDIO:G,CODECS:ne,"FRAME-RATE":me,"PATHWAY-ID":ze,RESOLUTION:et,SUBTITLES:mt}=I,Ot=`${ze||"."}-${m.bitrate}-${et}-${me}-${ne}`;d=o[Ot],d?d.addFallback(m):(d=new fl(m),o[Ot]=d,i.push(d)),fi(d,"audio",G),fi(d,"text",mt)}),this.filterAndSortMediaOptions(i,e)}filterAndSortMediaOptions(n,e){let i=[],o=[],d=!1,m=!1,b=!1,I=n.filter(({audioCodec:et,videoCodec:mt,width:St,height:Ot,unknownCodecs:zt})=>(d||(d=!(!St||!Ot)),m||(m=!!mt),b||(b=!!et),!(null!=zt&&zt.length)&&(!et||Fl(et,"audio"))&&(!mt||Fl(mt,"video"))));if((d||m)&&b&&(I=I.filter(({videoCodec:et,width:mt,height:St})=>!!et||!(!mt||!St))),0===I.length)return void Promise.resolve().then(()=>{if(this.hls){const et=new Error("no level with compatible codecs found in manifest");this.hls.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:et,reason:et.message})}});e.audioTracks&&(i=e.audioTracks.filter(et=>!et.audioCodec||Fl(et.audioCodec,"audio")),di(i)),e.subtitles&&(o=e.subtitles,di(o));const G=I.slice(0);I.sort((et,mt)=>et.attrs["HDCP-LEVEL"]!==mt.attrs["HDCP-LEVEL"]?(et.attrs["HDCP-LEVEL"]||"")>(mt.attrs["HDCP-LEVEL"]||"")?1:-1:et.bitrate!==mt.bitrate?et.bitrate-mt.bitrate:et.attrs["FRAME-RATE"]!==mt.attrs["FRAME-RATE"]?et.attrs.decimalFloatingPoint("FRAME-RATE")-mt.attrs.decimalFloatingPoint("FRAME-RATE"):et.attrs.SCORE!==mt.attrs.SCORE?et.attrs.decimalFloatingPoint("SCORE")-mt.attrs.decimalFloatingPoint("SCORE"):d&&et.height!==mt.height?et.height-mt.height:0);let ne=G[0];if(this.steering&&(I=this.steering.filterParsedLevels(I),I.length!==G.length))for(let et=0;et<G.length;et++)if(G[et].pathwayId===I[0].pathwayId){ne=G[et];break}this._levels=I;for(let et=0;et<I.length;et++)if(I[et]===ne){this._firstLevel=et,this.log(`manifest loaded, ${I.length} level(s) found, first bitrate: ${ne.bitrate}`);break}const ze={levels:I,audioTracks:i,subtitleTracks:o,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:b,video:m,altAudio:!(b&&!m)&&i.some(et=>!!et.url)};this.hls.trigger(Rt.MANIFEST_PARSED,ze),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(n){const e=this._levels;if(0===e.length)return;if(n<0||n>=e.length){const ne=new Error("invalid level idx"),me=n<0;if(this.hls.trigger(Rt.ERROR,{type:Mi.OTHER_ERROR,details:wn.LEVEL_SWITCH_ERROR,level:n,fatal:me,error:ne,reason:ne.message}),me)return;n=Math.min(n,e.length-1)}const i=this.currentLevelIndex,o=this.currentLevel,d=o?o.attrs["PATHWAY-ID"]:void 0,m=e[n],b=m.attrs["PATHWAY-ID"];if(this.currentLevelIndex=n,this.currentLevel=m,i===n&&m.details&&o&&d===b)return;this.log(`Switching to level ${n}${b?" with Pathway "+b:""} from level ${i}${d?" with Pathway "+d:""}`);const I=qr({},m,{level:n,maxBitrate:m.maxBitrate,attrs:m.attrs,uri:m.uri,urlId:m.urlId});delete I._attrs,delete I._urlId,this.hls.trigger(Rt.LEVEL_SWITCHING,I);const G=m.details;if(!G||G.live){const ne=this.switchParams(m.uri,o?.details);this.loadPlaylist(ne)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(n){this.manualLevelIndex=n,void 0===this._startLevel&&(this._startLevel=n),-1!==n&&(this.level=n)}get firstLevel(){return this._firstLevel}set firstLevel(n){this._firstLevel=n}get startLevel(){if(void 0===this._startLevel){const n=this.hls.config.startLevel;return void 0!==n?n:this._firstLevel}return this._startLevel}set startLevel(n){this._startLevel=n}onError(n,e){e.fatal||!e.context||"level"===e.context.type&&e.context.level===this.level&&this.checkRetry(e)}onFragLoaded(n,{frag:e}){if(void 0!==e&&"main"===e.type){const i=this._levels[e.level];void 0!==i&&(i.loadError=0)}}onLevelLoaded(n,e){var i;const{level:o,details:d}=e,m=this._levels[o];var b;if(!m)return this.warn(`Invalid level index ${o}`),void(null!=(b=e.deliveryDirectives)&&b.skip&&(d.deltaUpdateFailed=!0));o===this.currentLevelIndex?(0===m.fragmentError&&(m.loadError=0),this.playlistLoaded(o,e,m.details)):null!=(i=e.deliveryDirectives)&&i.skip&&(d.deltaUpdateFailed=!0)}onAudioTrackSwitched(n,e){const i=this.currentLevel;if(!i)return;const o=this.hls.audioTracks[e.id].groupId;if(i.audioGroupIds&&i.audioGroupId!==o){let d=-1;for(let m=0;m<i.audioGroupIds.length;m++)if(i.audioGroupIds[m]===o){d=m;break}-1!==d&&d!==i.urlId&&(i.urlId=d,this.canLoad&&this.startLoad())}}loadPlaylist(n){super.loadPlaylist();const e=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){const o=i.urlId;let d=i.uri;if(n)try{d=n.addDirectives(d)}catch(b){this.warn(`Could not construct new URL with HLS Delivery Directives: ${b}`)}const m=i.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==n?.msn?" at sn "+n.msn+" part "+n.part:""} with${m?" Pathway "+m:""} URI ${o+1}/${i.url.length} ${d}`),this.clearTimer(),this.hls.trigger(Rt.LEVEL_LOADING,{url:d,level:e,id:o,deliveryDirectives:n||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(n){this.level=n,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=n)}removeLevel(n,e){const i=(d,m)=>m!==e,o=this._levels.filter((d,m)=>m!==n||(d.url.length>1&&void 0!==e?(d.url=d.url.filter(i),d.audioGroupIds&&(d.audioGroupIds=d.audioGroupIds.filter(i)),d.textGroupIds&&(d.textGroupIds=d.textGroupIds.filter(i)),d.urlId=0,!0):(this.steering&&this.steering.removeLevel(d),!1)));this.hls.trigger(Rt.LEVELS_UPDATED,{levels:o})}onLevelsUpdated(n,{levels:e}){e.forEach((i,o)=>{const{details:d}=i;null!=d&&d.fragments&&d.fragments.forEach(m=>{m.level=o})}),this._levels=e}}function fi(r,n,e){e&&("audio"===n?(r.audioGroupIds||(r.audioGroupIds=[]),r.audioGroupIds[r.url.length-1]=e):"text"===n&&(r.textGroupIds||(r.textGroupIds=[]),r.textGroupIds[r.url.length-1]=e))}function di(r){const n={};r.forEach(e=>{const i=e.groupId||"";e.id=n[i]=n[i]||0,n[i]++})}class Yi{constructor(n){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=n,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Rt.BUFFER_APPENDED,this.onBufferAppended,this),n.on(Rt.FRAG_BUFFERED,this.onFragBuffered,this),n.on(Rt.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.BUFFER_APPENDED,this.onBufferAppended,this),n.off(Rt.FRAG_BUFFERED,this.onFragBuffered,this),n.off(Rt.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(n,e){const i=this.activePartLists[e];if(i)for(let o=i.length;o--;){const d=i[o];if(!d)break;const m=d.end;if(d.start<=n&&null!==m&&n<=m)return d}return this.getBufferedFrag(n,e)}getBufferedFrag(n,e){const{fragments:i}=this,o=Object.keys(i);for(let d=o.length;d--;){const m=i[o[d]];if(m?.body.type===e&&m.buffered){const b=m.body;if(b.start<=n&&n<=b.end)return b}}return null}detectEvictedFragments(n,e,i,o){this.timeRanges&&(this.timeRanges[n]=e);const d=o?.fragment.sn||-1;Object.keys(this.fragments).forEach(m=>{const b=this.fragments[m];if(!b||d>=b.body.sn)return;if(!b.buffered&&!b.loaded)return void(b.body.type===i&&this.removeFragment(b.body));const I=b.range[n];I&&I.time.some(G=>{const ne=!this.isTimeBuffered(G.startPTS,G.endPTS,e);return ne&&this.removeFragment(b.body),ne})})}detectPartialFragments(n){const e=this.timeRanges,{frag:i,part:o}=n;if(!e||"initSegment"===i.sn)return;const d=ho(i),m=this.fragments[d];if(!m||m.buffered&&i.gap)return;const b=!i.relurl;Object.keys(e).forEach(I=>{const G=i.elementaryStreams[I];G&&(m.range[I]=this.getBufferedTimes(i,o,b||!0===G.partial,e[I]))}),m.loaded=null,Object.keys(m.range).length?(m.buffered=!0,m.body.endList&&(this.endListFragments[m.body.type]=m),Wi(m)||this.removeParts(i.sn-1,i.type)):this.removeFragment(m.body)}removeParts(n,e){const i=this.activePartLists[e];i&&(this.activePartLists[e]=i.filter(o=>o.fragment.sn>=n))}fragBuffered(n,e){const i=ho(n);let o=this.fragments[i];!o&&e&&(o=this.fragments[i]={body:n,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},n.gap&&(this.hasGaps=!0)),o&&(o.loaded=null,o.buffered=!0)}getBufferedTimes(n,e,i,o){const d={time:[],partial:i},m=n.start,b=n.end,I=n.minEndPTS||b,G=n.maxStartPTS||m;for(let ne=0;ne<o.length;ne++){const me=o.start(ne)-this.bufferPadding,ze=o.end(ne)+this.bufferPadding;if(G>=me&&I<=ze){d.time.push({startPTS:Math.max(m,o.start(ne)),endPTS:Math.min(b,o.end(ne))});break}if(m<ze&&b>me)d.partial=!0,d.time.push({startPTS:Math.max(m,o.start(ne)),endPTS:Math.min(b,o.end(ne))});else if(b<=me)break}return d}getPartialFragment(n){let i,o,d,e=null,m=0;const{bufferPadding:b,fragments:I}=this;return Object.keys(I).forEach(G=>{const ne=I[G];ne&&Wi(ne)&&(o=ne.body.start-b,d=ne.body.end+b,n>=o&&n<=d&&(i=Math.min(n-o,d-n),m<=i&&(e=ne.body,m=i)))}),e}isEndListAppended(n){const e=this.endListFragments[n];return void 0!==e&&(e.buffered||Wi(e))}getState(n){const e=ho(n),i=this.fragments[e];return i?i.buffered?Wi(i)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(n,e,i){let o,d;for(let m=0;m<i.length;m++){if(o=i.start(m)-this.bufferPadding,d=i.end(m)+this.bufferPadding,n>=o&&e<=d)return!0;if(e<=o)return!1}return!1}onFragLoaded(n,e){const{frag:i,part:o}=e;if("initSegment"===i.sn||i.bitrateTest)return;const d=o?null:e,m=ho(i);this.fragments[m]={body:i,appendedPTS:null,loaded:d,buffered:!1,range:Object.create(null)}}onBufferAppended(n,e){const{frag:i,part:o,timeRanges:d}=e;if("initSegment"===i.sn)return;const m=i.type;if(o){let b=this.activePartLists[m];b||(this.activePartLists[m]=b=[]),b.push(o)}this.timeRanges=d,Object.keys(d).forEach(b=>{this.detectEvictedFragments(b,d[b],m,o)})}onFragBuffered(n,e){this.detectPartialFragments(e)}hasFragment(n){const e=ho(n);return!!this.fragments[e]}hasParts(n){var e;return!(null==(e=this.activePartLists[n])||!e.length)}removeFragmentsInRange(n,e,i,o,d){o&&!this.hasGaps||Object.keys(this.fragments).forEach(m=>{const b=this.fragments[m];if(!b)return;const I=b.body;I.type!==i||o&&!I.gap||I.start<e&&I.end>n&&(b.buffered||d)&&this.removeFragment(I)})}removeFragment(n){const e=ho(n);n.stats.loaded=0,n.clearElementaryStreamInfo();const i=this.activePartLists[n.type];if(i){const o=n.sn;this.activePartLists[n.type]=i.filter(d=>d.fragment.sn!==o)}delete this.fragments[e],n.endList&&delete this.endListFragments[n.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Wi(r){var n,e,i;return r.buffered&&(r.body.gap||(null==(n=r.range.video)?void 0:n.partial)||(null==(e=r.range.audio)?void 0:e.partial)||(null==(i=r.range.audiovideo)?void 0:i.partial))}function ho(r){return`${r.type}_${r.level}_${r.urlId}_${r.sn}`}const to=Math.pow(2,17);class Bc{constructor(n){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=n}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(n,e){const i=n.url;if(!i)return Promise.reject(new no({type:Mi.NETWORK_ERROR,details:wn.FRAG_LOAD_ERROR,fatal:!1,frag:n,error:new Error("Fragment does not have a "+(i?"part list":"url")),networkDetails:null}));this.abort();const o=this.config,d=o.fLoader,m=o.loader;return new Promise((b,I)=>{if(this.loader&&this.loader.destroy(),n.gap){if(n.tagList.some(et=>"GAP"===et[0]))return void I(Kl(n));n.gap=!1}const G=this.loader=n.loader=d?new d(o):new m(o),ne=Aa(n),me=Vl(o.fragLoadPolicy.default),ze={loadPolicy:me,timeout:me.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===n.sn?1/0:to};n.stats=G.stats,G.load(ne,ze,{onSuccess:(et,mt,St,Ot)=>{this.resetLoader(n,G);let zt=et.data;St.resetIV&&n.decryptdata&&(n.decryptdata.iv=new Uint8Array(zt.slice(0,16)),zt=zt.slice(16)),b({frag:n,part:null,payload:zt,networkDetails:Ot})},onError:(et,mt,St,Ot)=>{this.resetLoader(n,G),I(new no({type:Mi.NETWORK_ERROR,details:wn.FRAG_LOAD_ERROR,fatal:!1,frag:n,response:bo({url:i,data:void 0},et),error:new Error(`HTTP Error ${et.code} ${et.text}`),networkDetails:St,stats:Ot}))},onAbort:(et,mt,St)=>{this.resetLoader(n,G),I(new no({type:Mi.NETWORK_ERROR,details:wn.INTERNAL_ABORTED,fatal:!1,frag:n,error:new Error("Aborted"),networkDetails:St,stats:et}))},onTimeout:(et,mt,St)=>{this.resetLoader(n,G),I(new no({type:Mi.NETWORK_ERROR,details:wn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,error:new Error(`Timeout after ${ze.timeout}ms`),networkDetails:St,stats:et}))},onProgress:(et,mt,St,Ot)=>{e&&e({frag:n,part:null,payload:St,networkDetails:Ot})}})})}loadPart(n,e,i){this.abort();const o=this.config,d=o.fLoader,m=o.loader;return new Promise((b,I)=>{if(this.loader&&this.loader.destroy(),n.gap||e.gap)return void I(Kl(n,e));const G=this.loader=n.loader=d?new d(o):new m(o),ne=Aa(n,e),me=Vl(o.fragLoadPolicy.default),ze={loadPolicy:me,timeout:me.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:to};e.stats=G.stats,G.load(ne,ze,{onSuccess:(et,mt,St,Ot)=>{this.resetLoader(n,G),this.updateStatsFromPart(n,e);const zt={frag:n,part:e,payload:et.data,networkDetails:Ot};i(zt),b(zt)},onError:(et,mt,St,Ot)=>{this.resetLoader(n,G),I(new no({type:Mi.NETWORK_ERROR,details:wn.FRAG_LOAD_ERROR,fatal:!1,frag:n,part:e,response:bo({url:ne.url,data:void 0},et),error:new Error(`HTTP Error ${et.code} ${et.text}`),networkDetails:St,stats:Ot}))},onAbort:(et,mt,St)=>{n.stats.aborted=e.stats.aborted,this.resetLoader(n,G),I(new no({type:Mi.NETWORK_ERROR,details:wn.INTERNAL_ABORTED,fatal:!1,frag:n,part:e,error:new Error("Aborted"),networkDetails:St,stats:et}))},onTimeout:(et,mt,St)=>{this.resetLoader(n,G),I(new no({type:Mi.NETWORK_ERROR,details:wn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,part:e,error:new Error(`Timeout after ${ze.timeout}ms`),networkDetails:St,stats:et}))}})})}updateStatsFromPart(n,e){const i=n.stats,o=e.stats,d=o.total;if(i.loaded+=o.loaded,d){const I=Math.round(n.duration/e.duration),G=Math.min(Math.round(i.loaded/d),I),me=(I-G)*Math.round(i.loaded/G);i.total=i.loaded+me}else i.total=Math.max(i.loaded,i.total);const m=i.loading,b=o.loading;m.start?m.first+=b.first-b.start:(m.start=b.start,m.first=b.first),m.end=b.end}resetLoader(n,e){n.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function Aa(r,n=null){const e=n||r,i={frag:r,part:n,responseType:"arraybuffer",url:e.url,headers:{},rangeStart:0,rangeEnd:0},o=e.byteRangeStartOffset,d=e.byteRangeEndOffset;if(yi(o)&&yi(d)){var m;let b=o,I=d;if("initSegment"===r.sn&&"AES-128"===(null==(m=r.decryptdata)?void 0:m.method)){const G=d-o;G%16&&(I=d+(16-G%16)),0!==o&&(i.resetIV=!0,b=o-16)}i.rangeStart=b,i.rangeEnd=I}return i}function Kl(r,n){const e=new Error(`GAP ${r.gap?"tag":"attribute"} found`),i={type:Mi.MEDIA_ERROR,details:wn.FRAG_GAP,fatal:!1,frag:r,error:e,networkDetails:null};return n&&(i.part=n),(n||r).stats.aborted=!0,new no(i)}class no extends Error{constructor(n){super(n.error.message),this.data=void 0,this.data=n}}class Wa{constructor(n){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=n}abort(n){for(const e in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[e].loader;if(i){if(n&&n!==i.context.frag.type)return;i.abort()}}}detach(){for(const n in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[n];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[n]}}destroy(){this.detach();for(const n in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[n].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(n,e=wn.KEY_LOAD_ERROR,i,o,d){return new no({type:Mi.NETWORK_ERROR,details:e,fatal:!1,frag:n,response:d,error:i,networkDetails:o})}loadClear(n,e){if(this.emeController&&this.config.emeEnabled){const{sn:i,cc:o}=n;for(let d=0;d<e.length;d++){const m=e[d];if(o<=m.cc&&("initSegment"===i||"initSegment"===m.sn||i<m.sn)){this.emeController.selectKeySystemFormat(m).then(b=>{m.setKeyFormat(b)});break}}}}load(n){return!n.decryptdata&&n.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(n).then(e=>this.loadInternal(n,e)):this.loadInternal(n)}loadInternal(n,e){var i,o;e&&n.setKeyFormat(e);const d=n.decryptdata;if(!d){const G=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(n,wn.KEY_LOAD_ERROR,G))}const m=d.uri;if(!m)return Promise.reject(this.createKeyLoadError(n,wn.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${m}"`)));let b=this.keyUriToKeyInfo[m];if(null!=(i=b)&&i.decryptdata.key)return d.key=b.decryptdata.key,Promise.resolve({frag:n,keyInfo:b});var I;if(null!=(o=b)&&o.keyLoadPromise)switch(null==(I=b.mediaKeySessionContext)?void 0:I.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return b.keyLoadPromise.then(G=>(d.key=G.keyInfo.decryptdata.key,{frag:n,keyInfo:b}))}switch(b=this.keyUriToKeyInfo[m]={decryptdata:d,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},d.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===d.keyFormat?this.loadKeyHTTP(b,n):this.loadKeyEME(b,n);case"AES-128":return this.loadKeyHTTP(b,n);default:return Promise.reject(this.createKeyLoadError(n,wn.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${d.method}"`)))}}loadKeyEME(n,e){const i={frag:e,keyInfo:n};if(this.emeController&&this.config.emeEnabled){const o=this.emeController.loadKey(i);if(o)return(n.keyLoadPromise=o.then(d=>(n.mediaKeySessionContext=d,i))).catch(d=>{throw n.keyLoadPromise=null,d})}return Promise.resolve(i)}loadKeyHTTP(n,e){const i=this.config,d=new(0,i.loader)(i);return e.keyLoader=n.loader=d,n.keyLoadPromise=new Promise((m,b)=>{const I={keyInfo:n,frag:e,responseType:"arraybuffer",url:n.decryptdata.uri},G=i.keyLoadPolicy.default;d.load(I,{loadPolicy:G,timeout:G.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(ze,et,mt,St)=>{const{frag:Ot,keyInfo:zt,url:hn}=mt;if(!Ot.decryptdata||zt!==this.keyUriToKeyInfo[hn])return b(this.createKeyLoadError(Ot,wn.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),St));zt.decryptdata.key=Ot.decryptdata.key=new Uint8Array(ze.data),Ot.keyLoader=null,zt.loader=null,m({frag:Ot,keyInfo:zt})},onError:(ze,et,mt,St)=>{this.resetLoader(et),b(this.createKeyLoadError(e,wn.KEY_LOAD_ERROR,new Error(`HTTP Error ${ze.code} loading key ${ze.text}`),mt,bo({url:I.url,data:void 0},ze)))},onTimeout:(ze,et,mt)=>{this.resetLoader(et),b(this.createKeyLoadError(e,wn.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),mt))},onAbort:(ze,et,mt)=>{this.resetLoader(et),b(this.createKeyLoadError(e,wn.INTERNAL_ABORTED,new Error("key loading aborted"),mt))}})})}resetLoader(n){const{frag:e,keyInfo:i,url:o}=n,d=i.loader;e.keyLoader===d&&(e.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[o],d&&d.destroy()}}class dc{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(n){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,n),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const Bu={length:0,start:()=>0,end:()=>0};class Kr{static isBuffered(n,e){try{if(n){const i=Kr.getBuffered(n);for(let o=0;o<i.length;o++)if(e>=i.start(o)&&e<=i.end(o))return!0}}catch{}return!1}static bufferInfo(n,e,i){try{if(n){const o=Kr.getBuffered(n),d=[];let m;for(m=0;m<o.length;m++)d.push({start:o.start(m),end:o.end(m)});return this.bufferedInfo(d,e,i)}}catch{}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(n,e,i){e=Math.max(0,e),n.sort(function(G,ne){return G.start-ne.start||ne.end-G.end});let o=[];if(i)for(let G=0;G<n.length;G++){const ne=o.length;if(ne){const me=o[ne-1].end;n[G].start-me<i?n[G].end>me&&(o[ne-1].end=n[G].end):o.push(n[G])}else o.push(n[G])}else o=n;let m,d=0,b=e,I=e;for(let G=0;G<o.length;G++){const ne=o[G].start,me=o[G].end;if(e+i>=ne&&e<me)b=ne,I=me,d=I-e;else if(e+i<ne){m=ne;break}}return{len:d,start:b||0,end:I||0,nextStart:m}}static getBuffered(n){try{return n.buffered}catch(e){return Bt.log("failed to get media.buffered",e),Bu}}}class Uc{constructor(n,e,i,o=0,d=-1,m=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=n,this.sn=e,this.id=i,this.size=o,this.part=d,this.partial=m}}function fd(r,n){let e=null;for(let i=0,o=r.length;i<o;i++){const d=r[i];if(d&&d.cc===n){e=d;break}}return e}function Yf(r,n){if(r){const e=r.start+n;r.start=r.startPTS=e,r.endPTS=e+r.duration}}function zf(r,n){const e=n.fragments;for(let i=0,o=e.length;i<o;i++)Yf(e[i],r);n.fragmentHint&&Yf(n.fragmentHint,r),n.alignedSliding=!0}function Uu(r,n){if(!r.hasProgramDateTime||!n.hasProgramDateTime)return;const e=r.fragments,i=n.fragments;if(!e.length||!i.length)return;const d=i[Math.round(i.length/2)-1],m=fd(e,d.cc)||e[Math.round(e.length/2)-1],b=d.programDateTime,I=m.programDateTime;null!==b&&null!==I&&zf((I-b)/1e3-(m.start-d.start),r)}class Km{constructor(n,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=n,this.aesIV=e}decrypt(n,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,n)}}class __{constructor(n,e){this.subtle=void 0,this.key=void 0,this.subtle=n,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class V{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(n){const e=new DataView(n),i=new Uint32Array(4);for(let o=0;o<4;o++)i[o]=e.getUint32(4*o);return i}initTable(){const n=this.sBox,e=this.invSBox,i=this.subMix,o=i[0],d=i[1],m=i[2],b=i[3],I=this.invSubMix,G=I[0],ne=I[1],me=I[2],ze=I[3],et=new Uint32Array(256);let mt=0,St=0,Ot=0;for(Ot=0;Ot<256;Ot++)et[Ot]=Ot<128?Ot<<1:Ot<<1^283;for(Ot=0;Ot<256;Ot++){let zt=St^St<<1^St<<2^St<<3^St<<4;zt=zt>>>8^255&zt^99,n[mt]=zt,e[zt]=mt;const hn=et[mt],ln=et[hn],En=et[ln];let Dn=257*et[zt]^16843008*zt;o[mt]=Dn<<24|Dn>>>8,d[mt]=Dn<<16|Dn>>>16,m[mt]=Dn<<8|Dn>>>24,b[mt]=Dn,Dn=16843009*En^65537*ln^257*hn^16843008*mt,G[zt]=Dn<<24|Dn>>>8,ne[zt]=Dn<<16|Dn>>>16,me[zt]=Dn<<8|Dn>>>24,ze[zt]=Dn,mt?(mt=hn^et[et[et[En^hn]]],St^=et[et[St]]):mt=St=1}}expandKey(n){const e=this.uint8ArrayToUint32Array_(n);let i=!0,o=0;for(;o<e.length&&i;)i=e[o]===this.key[o],o++;if(i)return;this.key=e;const d=this.keySize=e.length;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size="+d);const m=this.ksRows=4*(d+6+1);let b,I;const G=this.keySchedule=new Uint32Array(m),ne=this.invKeySchedule=new Uint32Array(m),me=this.sBox,ze=this.rcon,et=this.invSubMix,mt=et[0],St=et[1],Ot=et[2],zt=et[3];let hn,ln;for(b=0;b<m;b++)b<d?hn=G[b]=e[b]:(ln=hn,b%d==0?(ln=ln<<8|ln>>>24,ln=me[ln>>>24]<<24|me[ln>>>16&255]<<16|me[ln>>>8&255]<<8|me[255&ln],ln^=ze[b/d|0]<<24):d>6&&b%d==4&&(ln=me[ln>>>24]<<24|me[ln>>>16&255]<<16|me[ln>>>8&255]<<8|me[255&ln]),G[b]=hn=(G[b-d]^ln)>>>0);for(I=0;I<m;I++)b=m-I,ln=3&I?G[b]:G[b-4],ne[I]=I<4||b<=4?ln:mt[me[ln>>>24]]^St[me[ln>>>16&255]]^Ot[me[ln>>>8&255]]^zt[me[255&ln]],ne[I]=ne[I]>>>0}networkToHostOrderSwap(n){return n<<24|(65280&n)<<8|(16711680&n)>>8|n>>>24}decrypt(n,e,i){const o=this.keySize+6,d=this.invKeySchedule,m=this.invSBox,b=this.invSubMix,I=b[0],G=b[1],ne=b[2],me=b[3],ze=this.uint8ArrayToUint32Array_(i);let et=ze[0],mt=ze[1],St=ze[2],Ot=ze[3];const zt=new Int32Array(n),hn=new Int32Array(zt.length);let ln,En,Dn,Hn,Rn,$n,ii,kn,Ei,pi,Zi,_o,Or,ri;const ui=this.networkToHostOrderSwap;for(;e<zt.length;){for(Ei=ui(zt[e]),pi=ui(zt[e+1]),Zi=ui(zt[e+2]),_o=ui(zt[e+3]),Rn=Ei^d[0],$n=_o^d[1],ii=Zi^d[2],kn=pi^d[3],Or=4,ri=1;ri<o;ri++)ln=I[Rn>>>24]^G[$n>>16&255]^ne[ii>>8&255]^me[255&kn]^d[Or],En=I[$n>>>24]^G[ii>>16&255]^ne[kn>>8&255]^me[255&Rn]^d[Or+1],Dn=I[ii>>>24]^G[kn>>16&255]^ne[Rn>>8&255]^me[255&$n]^d[Or+2],Hn=I[kn>>>24]^G[Rn>>16&255]^ne[$n>>8&255]^me[255&ii]^d[Or+3],Rn=ln,$n=En,ii=Dn,kn=Hn,Or+=4;ln=m[Rn>>>24]<<24^m[$n>>16&255]<<16^m[ii>>8&255]<<8^m[255&kn]^d[Or],En=m[$n>>>24]<<24^m[ii>>16&255]<<16^m[kn>>8&255]<<8^m[255&Rn]^d[Or+1],Dn=m[ii>>>24]<<24^m[kn>>16&255]<<16^m[Rn>>8&255]<<8^m[255&$n]^d[Or+2],Hn=m[kn>>>24]<<24^m[Rn>>16&255]<<16^m[$n>>8&255]<<8^m[255&ii]^d[Or+3],hn[e]=ui(ln^et),hn[e+1]=ui(Hn^mt),hn[e+2]=ui(Dn^St),hn[e+3]=ui(En^Ot),et=Ei,mt=pi,St=Zi,Ot=_o,e+=4}return hn.buffer}}class Oe{constructor(n,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=n.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:n,remainderData:e}=this;if(!n||e)return this.reset(),null;const i=new Uint8Array(n);return this.reset(),this.removePKCS7Padding?function ye(r){const n=r.byteLength,e=n&&new DataView(r.buffer).getUint8(n-1);return e?Na(r,0,n-e):r}(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(n,e,i){return this.useSoftware?new Promise((o,d)=>{this.softwareDecrypt(new Uint8Array(n),e,i);const m=this.flush();m?o(m.buffer):d(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(n),e,i)}softwareDecrypt(n,e,i){const{currentIV:o,currentResult:d,remainderData:m}=this;this.logOnce("JS AES decrypt"),m&&(n=_t(m,n),this.remainderData=null);const b=this.getValidChunk(n);if(!b.length)return null;o&&(i=o);let I=this.softwareDecrypter;I||(I=this.softwareDecrypter=new V),I.expandKey(e);const G=d;return this.currentResult=I.decrypt(b.buffer,0,i),this.currentIV=Na(b,-16).buffer,G||null}webCryptoDecrypt(n,e,i){const o=this.subtle;return(this.key!==e||!this.fastAesKey)&&(this.key=e,this.fastAesKey=new __(o,e)),this.fastAesKey.expandKey().then(d=>o?(this.logOnce("WebCrypto AES decrypt"),new Km(o,new Uint8Array(i)).decrypt(n.buffer,d)):Promise.reject(new Error("web crypto not initialized"))).catch(d=>(Bt.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${d.name}: ${d.message}`),this.onWebCryptoError(n,e,i)))}onWebCryptoError(n,e,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(n,e,i);const o=this.flush();if(o)return o.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(n){let e=n;const i=n.length-n.length%16;return i!==n.length&&(e=Na(n,0,i),this.remainderData=Na(n,i)),e}logOnce(n){this.logEnabled&&(Bt.log(`[decrypter]: ${n}`),this.logEnabled=!1)}}class bn extends dc{constructor(n,e,i,o,d){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=d,this.logPrefix=o,this.log=Bt.log.bind(Bt,`${o}:`),this.warn=Bt.warn.bind(Bt,`${o}:`),this.hls=n,this.fragmentLoader=new Bc(n.config),this.keyLoader=i,this.fragmentTracker=e,this.config=n.config,this.decrypter=new Oe(n.config),n.on(Rt.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(n){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const n=this.fragCurrent;null!=n&&n.loader&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(n,e){if(e.live||n.nextStart||!n.end||!this.media)return!1;const i=e.partList;if(null!=i&&i.length){const d=i[i.length-1];return Kr.isBuffered(this.media,d.start+d.duration/2)}return this.fragmentTracker.isEndListAppended(e.fragments[e.fragments.length-1].type)}getLevelDetails(){var n;if(this.levels&&null!==this.levelLastLoaded)return null==(n=this.levels[this.levelLastLoaded])?void 0:n.details}onMediaAttached(n,e){const i=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);const o=this.config;this.levels&&o.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(o.startPosition)}onMediaDetaching(){const n=this.media;null!=n&&n.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),n&&this.onvseeking&&this.onvended&&(n.removeEventListener("seeking",this.onvseeking),n.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:n,fragCurrent:e,media:i,mediaBuffer:o,state:d}=this,m=i?i.currentTime:0,b=Kr.bufferInfo(o||i,m,n.maxBufferHole);if(this.log(`media seeking to ${yi(m)?m.toFixed(3):m}, state: ${d}`),"ENDED"===this.state)this.resetLoadingState();else if(e){const I=n.maxFragLookUpTolerance,G=e.start-I,ne=e.start+e.duration+I;if(!b.len||ne<b.start||G>b.end){const me=m>ne;(m<G||me)&&(me&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(m,1/0,this.playlistType,!0),this.lastCurrentTime=m),!this.loadedmetadata&&!b.len&&(this.nextLoadPosition=this.startPosition=m),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(n,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(n,e,i){this._loadFragForPlayback(n,e,i)}_loadFragForPlayback(n,e,i){this._doFragLoad(n,e,i,d=>{if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${d.part?" p: "+d.part.index:""} of level ${n.level} was dropped during download.`),void this.fragmentTracker.removeFragment(n);n.stats.chunkCount++,this._handleFragmentLoadProgress(d)}).then(d=>{if(!d)return;const m=this.state;this.fragContextChanged(n)?("FRAG_LOADING"===m||!this.fragCurrent&&"PARSING"===m)&&(this.fragmentTracker.removeFragment(n),this.state="IDLE"):("payload"in d&&(this.log(`Loaded fragment ${n.sn} of level ${n.level}`),this.hls.trigger(Rt.FRAG_LOADED,d)),this._handleFragmentLoadComplete(d))}).catch(d=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(d),this.resetFragmentLoading(n))})}clearTrackerIfNeeded(n){var e;const{fragmentTracker:i}=this;if("APPENDING"===i.getState(n)){const m=this.getFwdBufferInfo(this.mediaBuffer,n.type),b=Math.max(n.duration,m?m.len:this.config.maxBufferLength);this.reduceMaxBufferLength(b)&&i.removeFragment(n)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?i.removeAllFragments():i.hasParts(n.type)&&(i.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type}),"PARTIAL"===i.getState(n)&&i.removeFragment(n))}flushMainBuffer(n,e,i=null){n-e&&this.hls.trigger(Rt.BUFFER_FLUSHING,{startOffset:n,endOffset:e,type:i})}_loadInitSegment(n,e){this._doFragLoad(n,e).then(i=>{if(!i||this.fragContextChanged(n)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:o}=this,{payload:d}=i,m=n.decryptdata;if(d&&d.byteLength>0&&m&&m.key&&m.iv&&"AES-128"===m.method){const b=self.performance.now();return this.decrypter.decrypt(new Uint8Array(d),m.key.buffer,m.iv.buffer).catch(I=>{throw o.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.FRAG_DECRYPT_ERROR,fatal:!1,error:I,reason:I.message,frag:n}),I}).then(I=>{const G=self.performance.now();return o.trigger(Rt.FRAG_DECRYPTED,{frag:n,payload:I,stats:{tstart:b,tdecrypt:G}}),i.payload=I,i})}return i}).then(i=>{const{fragCurrent:o,hls:d,levels:m}=this;if(!m)throw new Error("init load aborted, missing levels");const b=n.stats;this.state="IDLE",e.fragmentError=0,n.data=new Uint8Array(i.payload),b.parsing.start=b.buffering.start=self.performance.now(),b.parsing.end=b.buffering.end=self.performance.now(),i.frag===o&&d.trigger(Rt.FRAG_BUFFERED,{stats:b,frag:o,part:null,id:n.type}),this.tick()}).catch(i=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(i),this.resetFragmentLoading(n))})}fragContextChanged(n){const{fragCurrent:e}=this;return!n||!e||n.level!==e.level||n.sn!==e.sn||n.urlId!==e.urlId}fragBufferedComplete(n,e){var i,o,d,m;const b=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${n.type} sn: ${n.sn}${e?" part: "+e.index:""} of ${"main"===this.playlistType?"level":"track"} ${n.level} (frag:[${(null!=(i=n.startPTS)?i:NaN).toFixed(3)}-${(null!=(o=n.endPTS)?o:NaN).toFixed(3)}] > buffer:${b?function(r){let n="";const e=r.length;for(let i=0;i<e;i++)n+=`[${r.start(i).toFixed(3)}-${r.end(i).toFixed(3)}]`;return n}(Kr.getBuffered(b)):"(detached)"})`),this.state="IDLE",b&&(!this.loadedmetadata&&"main"==n.type&&b.buffered.length&&(null==(d=this.fragCurrent)?void 0:d.sn)===(null==(m=this.fragPrevious)?void 0:m.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(n){const{transmuxer:e}=this;if(!e)return;const{frag:i,part:o,partsLoaded:d}=n,m=!d||0===d.length||d.some(I=>!I),b=new Uc(i.level,i.sn,i.stats.chunkCount+1,0,o?o.index:-1,!m);e.flush(b)}_handleFragmentLoadProgress(n){}_doFragLoad(n,e,i=null,o){var d;const m=e?.details;if(!this.levels||!m)throw new Error(`frag load aborted, missing level${m?"":" detail"}s`);let b=null;if(!n.encrypted||null!=(d=n.decryptdata)&&d.key?!n.encrypted&&m.encryptedFragments.length&&this.keyLoader.loadClear(n,m.encryptedFragments):(this.log(`Loading key for ${n.sn} of [${m.startSN}-${m.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${n.level}`),this.state="KEY_LOADING",this.fragCurrent=n,b=this.keyLoader.load(n).then(ne=>{if(!this.fragContextChanged(ne.frag))return this.hls.trigger(Rt.KEY_LOADED,ne),"KEY_LOADING"===this.state&&(this.state="IDLE"),ne}),this.hls.trigger(Rt.KEY_LOADING,{frag:n}),null===this.fragCurrent&&(b=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(n.start,i||0),this.config.lowLatencyMode&&"initSegment"!==n.sn){const ne=m.partList;if(ne&&o){i>n.end&&m.fragmentHint&&(n=m.fragmentHint);const me=this.getNextPart(ne,n,i);if(me>-1){const ze=ne[me];let et;return this.log(`Loading part sn: ${n.sn} p: ${ze.index} cc: ${n.cc} of playlist [${m.startSN}-${m.endSN}] parts [0-${me}-${ne.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${n.level}, target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=ze.start+ze.duration,this.state="FRAG_LOADING",et=b?b.then(mt=>!mt||this.fragContextChanged(mt.frag)?null:this.doFragPartsLoad(n,ze,e,o)).catch(mt=>this.handleFragLoadError(mt)):this.doFragPartsLoad(n,ze,e,o).catch(mt=>this.handleFragLoadError(mt)),this.hls.trigger(Rt.FRAG_LOADING,{frag:n,part:ze,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):et}if(!n.url||this.loadedEndOfParts(ne,i))return Promise.resolve(null)}}this.log(`Loading fragment ${n.sn} cc: ${n.cc} ${m?"of ["+m.startSN+"-"+m.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${n.level}, target: ${parseFloat(i.toFixed(3))}`),yi(n.sn)&&!this.bitrateTest&&(this.nextLoadPosition=n.start+n.duration),this.state="FRAG_LOADING";const I=this.config.progressive;let G;return G=I&&b?b.then(ne=>!ne||this.fragContextChanged(ne?.frag)?null:this.fragmentLoader.load(n,o)).catch(ne=>this.handleFragLoadError(ne)):Promise.all([this.fragmentLoader.load(n,I?o:void 0),b]).then(([ne])=>(!I&&ne&&o&&o(ne),ne)).catch(ne=>this.handleFragLoadError(ne)),this.hls.trigger(Rt.FRAG_LOADING,{frag:n,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):G}doFragPartsLoad(n,e,i,o){return new Promise((d,m)=>{var b;const I=[],G=null==(b=i.details)?void 0:b.partList,ne=me=>{this.fragmentLoader.loadPart(n,me,o).then(ze=>{I[me.index]=ze;const et=ze.part;this.hls.trigger(Rt.FRAG_LOADED,ze);const mt=hl(i,n.sn,me.index+1)||kc(G,n.sn,me.index+1);if(!mt)return d({frag:n,part:et,partsLoaded:I});ne(mt)}).catch(m)};ne(e)})}handleFragLoadError(n){if("data"in n){const e=n.data;n.data&&e.details===wn.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(Rt.ERROR,e)}else this.hls.trigger(Rt.ERROR,{type:Mi.OTHER_ERROR,details:wn.INTERNAL_EXCEPTION,err:n,error:n,fatal:!0});return null}_handleTransmuxerFlush(n){const e=this.getCurrentContext(n);if(!e||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:i,part:o,level:d}=e,m=self.performance.now();i.stats.parsing.end=m,o&&(o.stats.parsing.end=m),this.updateLevelTiming(i,o,d,n.partial)}getCurrentContext(n){const{levels:e,fragCurrent:i}=this,{level:o,sn:d,part:m}=n;if(null==e||!e[o])return this.warn(`Levels object was unset while buffering fragment ${d} of level ${o}. The current chunk will not be buffered.`),null;const b=e[o],I=m>-1?hl(b,d,m):null,G=I?I.fragment:function jm(r,n,e){if(null==r||!r.details)return null;const i=r.details;let o=i.fragments[n-i.startSN];return o||(o=i.fragmentHint,o&&o.sn===n)?o:n<i.startSN&&e&&e.sn===n?e:null}(b,d,i);return G?(i&&i!==G&&(G.stats=i.stats),{frag:G,part:I,level:b}):null}bufferFragmentData(n,e,i,o,d){var m;if(!n||"PARSING"!==this.state)return;const{data1:b,data2:I}=n;let G=b;if(b&&I&&(G=_t(b,I)),null!=(m=G)&&m.length&&(this.hls.trigger(Rt.BUFFER_APPENDING,{type:n.type,frag:e,part:i,chunkMeta:o,parent:e.type,data:G}),n.dropped&&n.independent&&!i)){if(d)return;this.flushBufferGap(e)}}flushBufferGap(n){const e=this.media;if(!e)return;if(!Kr.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,n.start);const i=e.currentTime,o=Kr.bufferInfo(e,i,0),m=Math.min(2*this.config.maxFragLookUpTolerance,.25*n.duration),b=Math.max(Math.min(n.start-m,o.end-m),i+m);n.start-b>m&&this.flushMainBuffer(b,n.start)}getFwdBufferInfo(n,e){const i=this.getLoadPosition();return yi(i)?this.getFwdBufferInfoAtPos(n,i,e):null}getFwdBufferInfoAtPos(n,e,i){const{config:{maxBufferHole:o}}=this,d=Kr.bufferInfo(n,e,o);if(0===d.len&&void 0!==d.nextStart){const m=this.fragmentTracker.getBufferedFrag(e,i);if(m&&d.nextStart<m.end)return Kr.bufferInfo(n,e,Math.max(d.nextStart,o))}return d}getMaxBufferLength(n){const{config:e}=this;let i;return i=n?Math.max(8*e.maxBufferSize/n,e.maxBufferLength):e.maxBufferLength,Math.min(i,e.maxMaxBufferLength)}reduceMaxBufferLength(n){const e=this.config;return e.maxMaxBufferLength>=(n||e.maxBufferLength)&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(n,e="main"){const i=this.fragmentTracker.getAppendedFrag(n,"main");return i&&"fragment"in i?i.fragment:i}getNextFragment(n,e){const i=e.fragments,o=i.length;if(!o)return null;const{config:d}=this,m=i[0].start;let b;if(e.live){const I=d.initialLiveManifestSize;if(o<I)return this.warn(`Not enough fragments to start playback (have: ${o}, need: ${I})`),null;!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(b=this.getInitialLiveFragment(e,i),this.startPosition=b?this.hls.liveSyncPosition||b.start:n)}else n<=m&&(b=i[0]);return b||(b=this.getFragmentAtPosition(n,d.lowLatencyMode?e.partEnd:e.fragmentEnd,e)),this.mapToInitFragWhenRequired(b)}isLoopLoading(n,e){const i=this.fragmentTracker.getState(n);return("OK"===i||"PARTIAL"===i&&!!n.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(n,e,i,o,d){const m=n.gap,b=this.getNextFragment(this.nextLoadPosition,e);if(null===b)return b;if(n=b,m&&n&&!n.gap&&i.nextStart){const I=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,o);if(null!==I&&i.len+I.len>=d)return this.log(`buffer full after gaps in "${o}" playlist starting at sn: ${n.sn}`),null}return n}mapToInitFragWhenRequired(n){return null==n||!n.initSegment||null!=n&&n.initSegment.data||this.bitrateTest?n:n.initSegment}getNextPart(n,e,i){let o=-1,d=!1,m=!0;for(let b=0,I=n.length;b<I;b++){const G=n[b];if(m=m&&!G.independent,o>-1&&i<G.start)break;const ne=G.loaded;ne?o=-1:(d||G.independent||m)&&G.fragment===e&&(o=b),d=ne}return o}loadedEndOfParts(n,e){const i=n[n.length-1];return i&&e>i.start&&i.loaded}getInitialLiveFragment(n,e){const i=this.fragPrevious;let o=null;if(i){if(n.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),o=function ku(r,n,e){if(null===n||!Array.isArray(r)||!r.length||!yi(n))return null;if(n<(r[0].programDateTime||0))return null;if(n>=(r[r.length-1].endProgramDateTime||0))return null;e=e||0;for(let d=0;d<r.length;++d){const m=r[d];if(Fu(n,e,m))return m}return null}(e,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!o){const d=i.sn+1;if(d>=n.startSN&&d<=n.endSN){const m=e[d-n.startSN];i.cc===m.cc&&(o=m,this.log(`Live playlist, switching playlist, load frag with next SN: ${o.sn}`))}o||(o=function Kf(r,n){return Vs.search(r,e=>e.cc<n?1:e.cc>n?-1:0)}(e,i.cc),o&&this.log(`Live playlist, switching playlist, load frag with same CC: ${o.sn}`))}}else{const d=this.hls.liveSyncPosition;null!==d&&(o=this.getFragmentAtPosition(d,this.bitrateTest?n.fragmentEnd:n.edge,n))}return o}getFragmentAtPosition(n,e,i){const{config:o}=this;let{fragPrevious:d}=this,{fragments:m,endSN:b}=i;const{fragmentHint:I}=i,G=o.maxFragLookUpTolerance,ne=i.partList,me=!!(o.lowLatencyMode&&null!=ne&&ne.length&&I);let ze;if(me&&I&&!this.bitrateTest&&(m=m.concat(I),b=I.sn),ze=n<e?ml(d,m,n,n>e-G?0:G):m[m.length-1],ze){const et=ze.sn-i.startSN,mt=this.fragmentTracker.getState(ze);if(("OK"===mt||"PARTIAL"===mt&&ze.gap)&&(d=ze),d&&ze.sn===d.sn&&(!me||ne[0].fragment.sn>ze.sn)&&d&&ze.level===d.level){const Ot=m[et+1];ze=ze.sn<b&&"OK"!==this.fragmentTracker.getState(Ot)?Ot:null}}return ze}synchronizeToLiveEdge(n){const{config:e,media:i}=this;if(!i)return;const o=this.hls.liveSyncPosition,d=i.currentTime,b=n.edge,I=d>=n.fragments[0].start-e.maxFragLookUpTolerance&&d<=b;null!==o&&i.duration>o&&(d<o||!I)&&(!I&&i.readyState<4||d<b-(void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*n.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=o),i.readyState&&(this.warn(`Playback: ${d.toFixed(3)} is located too far from the end of live sliding playlist: ${b}, reset currentTime to : ${o.toFixed(3)}`),i.currentTime=o))}alignPlaylists(n,e){const{levels:i,levelLastLoaded:o,fragPrevious:d}=this,m=null!==o?i[o]:null,b=n.fragments.length;if(!b)return this.warn("No fragments in live playlist"),0;const I=n.fragments[0].start,G=!e,ne=n.alignedSliding&&yi(I);if(G||!ne&&!I){!function Zf(r,n,e){n&&(function Vm(r,n,e){if(function uc(r,n,e){return!(!n.details||!(e.endCC>e.startCC||r&&r.cc<e.startCC))}(r,e,n)){const i=function Gc(r,n,e=0){const i=r.fragments,o=n.fragments;if(!o.length||!i.length)return void Bt.log("No fragments to align");const d=fd(i,o[0].cc);if(d&&(!d||d.startPTS))return d;Bt.log("No frag in previous level to align on")}(e.details,n);i&&yi(i.start)&&(Bt.log(`Adjusting PTS using last level due to CC increase within current level ${n.url}`),zf(i.start,n))}}(r,e,n),!e.alignedSliding&&n.details&&function g_(r,n){if(!n.fragments.length||!r.hasProgramDateTime||!n.hasProgramDateTime)return;const e=n.fragments[0].programDateTime,i=r.fragments[0].programDateTime,o=(i-e)/1e3+n.fragments[0].start;o&&yi(o)&&(Bt.log(`Adjusting PTS using programDateTime delta ${i-e}ms, sliding:${o.toFixed(3)} ${r.url} `),zf(o,r))}(e,n.details),!e.alignedSliding&&n.details&&!e.skippedSegments&&Lc(n.details,e))}(d,m,n);const me=n.fragments[0].start;return this.log(`Live playlist sliding: ${me.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${n.startSN} prev-sn: ${d?d.sn:"na"} fragments: ${b}`),me}return I}waitForCdnTuneIn(n){return n.live&&n.canBlockReload&&n.partTarget&&n.tuneInGoal>Math.max(n.partHoldBack,3*n.partTarget)}setStartPosition(n,e){let i=this.startPosition;if(i<e&&(i=-1),-1===i||-1===this.lastCurrentTime){const o=null!==this.startTimeOffset,d=o?this.startTimeOffset:n.startTimeOffset;null!==d&&yi(d)?(i=e+d,d<0&&(i+=n.totalduration),i=Math.min(Math.max(e,i),e+n.totalduration),this.log(`Start time offset ${d} found in ${o?"multivariant":"media"} playlist, adjust startPosition to ${i}`),this.startPosition=i):n.live?i=this.hls.liveSyncPosition||e:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}getLoadPosition(){const{media:n}=this;let e=0;return this.loadedmetadata&&n?e=n.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(n,e){this.transmuxer&&"initSegment"!==n.sn&&n.stats.aborted&&(this.warn(`Fragment ${n.sn}${e?" part "+e.index:""} of level ${n.level} was aborted`),this.resetFragmentLoading(n))}resetFragmentLoading(n){(!this.fragCurrent||!this.fragContextChanged(n)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(n,e){if(e.chunkMeta&&!e.frag){const me=this.getCurrentContext(e.chunkMeta);me&&(e.frag=me.frag)}const i=e.frag;if(!i||i.type!==n||!this.levels)return;var o;if(this.fragContextChanged(i))return void this.warn(`Frag load error must match current frag to retry ${i.url} > ${null==(o=this.fragCurrent)?void 0:o.url}`);const d=e.details===wn.FRAG_GAP;d&&this.fragmentTracker.fragBuffered(i,!0);const m=e.errorAction,{action:b,retryCount:I=0,retryConfig:G}=m||{};if(m&&5===b&&G){var ne;this.resetStartWhenNotLoaded(null!=(ne=this.levelLastLoaded)?ne:i.level);const me=Fc(G,I);this.warn(`Fragment ${i.sn} of ${n} ${i.level} errored with ${e.details}, retrying loading ${I+1}/${G.maxNumRetry} in ${me}ms`),m.resolved=!0,this.retryDate=self.performance.now()+me,this.state="FRAG_LOADING_WAITING_RETRY"}else G&&m?(this.resetFragmentErrors(n),I<G.maxNumRetry?d||(m.resolved=!0):Bt.warn(`${e.details} reached or exceeded max retry (${I})`)):this.state=2===m?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(n){if("PARSING"===this.state||"PARSED"===this.state){const e=n.parent,i=this.getFwdBufferInfo(this.mediaBuffer,e),o=i&&i.len>.5;o&&this.reduceMaxBufferLength(i.len);const d=!o;return d&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),n.frag&&(this.fragmentTracker.removeFragment(n.frag),this.nextLoadPosition=n.frag.start),this.resetLoadingState(),d}return!1}resetFragmentErrors(n){"audio"===n&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(n,e,i){if(!n)return;const o=Kr.getBuffered(n);this.fragmentTracker.detectEvictedFragments(e,o,i),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(n){if(!this.loadedmetadata){this.startFragRequested=!1;const e=this.levels?this.levels[n].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(n){var e;this.warn(`The loading context changed while buffering fragment ${n.sn} of level ${n.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(e=this.levelLastLoaded)?e:n.level),this.resetLoadingState()}removeUnbufferedFrags(n=0){this.fragmentTracker.removeFragmentsInRange(n,1/0,this.playlistType,!1,!0)}updateLevelTiming(n,e,i,o){var d;const m=i.details;if(m){if(Object.keys(n.elementaryStreams).reduce((I,G)=>{const ne=n.elementaryStreams[G];if(ne){const me=ne.endPTS-ne.startPTS;if(me<=0)return this.warn(`Could not parse fragment ${n.sn} ${G} duration reliably (${me})`),I||!1;const ze=o?0:Da(m,n,ne.startPTS,ne.endPTS,ne.startDTS,ne.endDTS);return this.hls.trigger(Rt.LEVEL_PTS_UPDATED,{details:m,level:i,drift:ze,type:G,frag:n,start:ne.startPTS,end:ne.endPTS}),!0}return I},!1))i.fragmentError=0;else if(null===(null==(d=this.transmuxer)?void 0:d.error)){const I=new Error(`Found no media in fragment ${n.sn} of level ${n.level} resetting transmuxer to fallback to playlist timing`);if(0===i.fragmentError&&(i.fragmentError++,n.gap=!0,this.fragmentTracker.removeFragment(n),this.fragmentTracker.fragBuffered(n,!0)),this.warn(I.message),this.hls.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.FRAG_PARSING_ERROR,fatal:!1,error:I,frag:n,reason:`Found no media in msn ${n.sn} of level "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(Rt.FRAG_PARSED,{frag:n,part:e})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(n){var e,i,o;"demuxerWorker"===n.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(e=null!=(i=this.levelLastLoaded)?i:null==(o=this.fragCurrent)?void 0:o.level)?e:0),this.resetLoadingState())}set state(n){const e=this._state;e!==n&&(this._state=n,this.log(`${e}->${n}`))}get state(){return this._state}}function Nn(){return self.SourceBuffer||self.WebKitSourceBuffer}function ps(r="",n=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:n,sequenceNumber:-1,samples:[],dropped:0}}class Vd{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(n,e,i,o){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(n){this.initPTS=n,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(n,e){return!1}appendFrame(n,e,i){}demux(n,e){this.cachedData&&(n=_t(this.cachedData,n),this.cachedData=null);let d,i=La(n,0),o=i?i.length:0;const m=this._audioTrack,b=this._id3Track,I=i?(r=>{const n=As(r);for(let e=0;e<n.length;e++){const i=n[e];if(ic(i))return rc(i)}})(i):void 0,G=n.length;for((null===this.basePTS||0===this.frameIndex&&yi(I))&&(this.basePTS=Wm(I,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),i&&i.length>0&&b.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:"org.id3",duration:Number.POSITIVE_INFINITY});o<G;){if(this.canParse(n,o)){const ne=this.appendFrame(m,n,o);ne?(this.frameIndex++,this.lastPTS=ne.sample.pts,o+=ne.length,d=o):o=G}else ka(n,o)?(i=La(n,o),b.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:"org.id3",duration:Number.POSITIVE_INFINITY}),o+=i.length,d=o):o++;if(o===G&&d!==G){const ne=Na(n,d);this.cachedData=this.cachedData?_t(this.cachedData,ne):ne}}return{audioTrack:m,videoTrack:ps(),id3Track:b,textTrack:ps()}}demuxSampleAes(n,e,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(n){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:ps(),id3Track:this._id3Track,textTrack:ps()}}destroy(){}}const Wm=(r,n,e)=>yi(r)?90*r:9e4*n+(e?9e4*e.baseTime/e.timescale:0);function qf(r,n){return 255===r[n]&&240==(246&r[n+1])}function Gu(r,n){return 1&r[n+1]?7:9}function Wl(r,n){return(3&r[n+3])<<11|r[n+4]<<3|(224&r[n+5])>>>5}function Hc(r,n){return n+1<r.length&&qf(r,n)}function Hu(r,n){if(Hc(r,n)){const e=Gu(r,n);if(n+e>=r.length)return!1;const i=Wl(r,n);if(i<=e)return!1;const o=n+i;return o===r.length||Hc(r,o)}return!1}function fc(r,n,e,i,o){if(!r.samplerate){const d=function $f(r,n,e,i){let o,d,m,b;const I=navigator.userAgent.toLowerCase(),G=i,ne=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&n[e+2])>>>6);const me=(60&n[e+2])>>>2;if(!(me>ne.length-1))return m=(1&n[e+2])<<2,m|=(192&n[e+3])>>>6,Bt.log(`manifest codec:${i}, ADTS type:${o}, samplingIndex:${me}`),/firefox/i.test(I)?me>=6?(o=5,b=new Array(4),d=me-3):(o=2,b=new Array(2),d=me):-1!==I.indexOf("android")?(o=2,b=new Array(2),d=me):(o=5,b=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&me>=6?d=me-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(me>=6&&1===m||/vivaldi/i.test(I))||!i&&1===m)&&(o=2,b=new Array(2)),d=me)),b[0]=o<<3,b[0]|=(14&me)>>1,b[1]|=(1&me)<<7,b[1]|=m<<3,5===o&&(b[1]|=(14&d)>>1,b[2]=(1&d)<<7,b[2]|=8,b[3]=0),{config:b,samplerate:ne[me],channelCount:m,codec:"mp4a.40."+o,manifestCodec:G};r.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${me}`})}(n,e,i,o);if(!d)return;r.config=d.config,r.samplerate=d.samplerate,r.channelCount=d.channelCount,r.codec=d.codec,r.manifestCodec=d.manifestCodec,Bt.log(`parsed codec:${r.codec}, rate:${d.samplerate}, channels:${d.channelCount}`)}}function md(r){return 9216e4/r}function ju(r,n,e,i,o){const m=i+o*md(r.samplerate),b=function Jf(r,n){const e=Gu(r,n);if(n+e<=r.length){const i=Wl(r,n)-e;if(i>0)return{headerLength:e,frameLength:i}}}(n,e);let I;if(b){const{frameLength:me,headerLength:ze}=b,et=ze+me,mt=Math.max(0,e+et-n.length);mt?(I=new Uint8Array(et-ze),I.set(n.subarray(e+ze,n.length),0)):I=n.subarray(e+ze,e+et);const St={unit:I,pts:m};return mt||r.samples.push(St),{sample:St,length:et,missing:mt}}const G=n.length-e;return I=new Uint8Array(G),I.set(n.subarray(e,n.length),0),{sample:{unit:I,pts:m},length:G,missing:-1}}const Xf=/\/emsg[-/]ID3/i;let eh=null;const sE=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],v_=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Ym=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],aE=[0,1,1,4];function y_(r,n,e,i,o){if(e+24>n.length)return;const d=b_(n,e);if(d&&e+d.frameLength<=n.length){const b=i+o*(9e4*d.samplesPerFrame/d.sampleRate),I={unit:n.subarray(e,e+d.frameLength),pts:b,dts:b};return r.config=[],r.channelCount=d.channelCount,r.samplerate=d.sampleRate,r.samples.push(I),{sample:I,length:d.frameLength,missing:0}}}function b_(r,n){const e=r[n+1]>>3&3,i=r[n+1]>>1&3,o=r[n+2]>>4&15,d=r[n+2]>>2&3;if(1!==e&&0!==o&&15!==o&&3!==d){const b=r[n+3]>>6,G=1e3*sE[14*(3===e?3-i:3===i?3:4)+o-1],me=v_[3*(3===e?0:2===e?1:2)+d],ze=3===b?1:2,et=Ym[e][i],mt=aE[i],St=8*et*mt,Ot=Math.floor(et*G/me+(r[n+2]>>1&1))*mt;if(null===eh){const ln=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);eh=ln?parseInt(ln[1]):0}return!!eh&&eh<=87&&2===i&&G>=224e3&&0===b&&(r[n+3]=128|r[n+3]),{sampleRate:me,channelCount:ze,frameLength:Ot,samplesPerFrame:St}}}function th(r,n){return 255===r[n]&&224==(224&r[n+1])&&0!=(6&r[n+1])}function E_(r,n){return n+1<r.length&&th(r,n)}function ua(r,n){if(n+1<r.length&&th(r,n)){const i=b_(r,n);let o=4;null!=i&&i.frameLength&&(o=i.frameLength);const d=n+o;return d===r.length||E_(r,d)}return!1}class nh{constructor(n){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=n,this.bytesAvailable=n.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const n=this.data,e=this.bytesAvailable,i=n.byteLength-e,o=new Uint8Array(4),d=Math.min(4,e);if(0===d)throw new Error("no bytes available");o.set(n.subarray(i,i+d)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=8*d,this.bytesAvailable-=d}skipBits(n){let e;n=Math.min(n,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>n?(this.word<<=n,this.bitsAvailable-=n):(e=(n-=this.bitsAvailable)>>3,n-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=n,this.bitsAvailable-=n)}readBits(n){let e=Math.min(this.bitsAvailable,n);const i=this.word>>>32-e;if(n>32&&Bt.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=n-e,e>0&&this.bitsAvailable?i<<e|this.readBits(e):i}skipLZ(){let n;for(n=0;n<this.bitsAvailable;++n)if(this.word&2147483648>>>n)return this.word<<=n,this.bitsAvailable-=n,n;return this.loadWord(),n+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const n=this.skipLZ();return this.readBits(n+1)-1}readEG(){const n=this.readUEG();return 1&n?1+n>>>1:-1*(n>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(n){let o,e=8,i=8;for(let d=0;d<n;d++)0!==i&&(o=this.readEG(),i=(e+o+256)%256),e=0===i?e:i}readSPS(){let d,m,b,n=0,e=0,i=0,o=0;const I=this.readUByte.bind(this),G=this.readBits.bind(this),ne=this.readUEG.bind(this),me=this.readBoolean.bind(this),ze=this.skipBits.bind(this),et=this.skipEG.bind(this),mt=this.skipUEG.bind(this),St=this.skipScalingList.bind(this);I();const Ot=I();if(G(5),ze(3),I(),mt(),100===Ot||110===Ot||122===Ot||244===Ot||44===Ot||83===Ot||86===Ot||118===Ot||128===Ot){const Hn=ne();if(3===Hn&&ze(1),mt(),mt(),ze(1),me())for(m=3!==Hn?8:12,b=0;b<m;b++)me()&&St(b<6?16:64)}mt();const zt=ne();if(0===zt)ne();else if(1===zt)for(ze(1),et(),et(),d=ne(),b=0;b<d;b++)et();mt(),ze(1);const hn=ne(),ln=ne(),En=G(1);0===En&&ze(1),ze(1),me()&&(n=ne(),e=ne(),i=ne(),o=ne());let Dn=[1,1];if(me()&&me())switch(I()){case 1:Dn=[1,1];break;case 2:Dn=[12,11];break;case 3:Dn=[10,11];break;case 4:Dn=[16,11];break;case 5:Dn=[40,33];break;case 6:Dn=[24,11];break;case 7:Dn=[20,11];break;case 8:Dn=[32,11];break;case 9:Dn=[80,33];break;case 10:Dn=[18,11];break;case 11:Dn=[15,11];break;case 12:Dn=[64,33];break;case 13:Dn=[160,99];break;case 14:Dn=[4,3];break;case 15:Dn=[3,2];break;case 16:Dn=[2,1];break;case 255:Dn=[I()<<8|I(),I()<<8|I()]}return{width:Math.ceil(16*(hn+1)-2*n-2*e),height:(2-En)*(ln+1)*16-(En?2:4)*(i+o),pixelRatio:Dn}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class T_{constructor(n,e,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new Oe(e,{removePKCS7Padding:!1})}decryptBuffer(n){return this.decrypter.decrypt(n,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(n,e,i){const o=n[e].unit;if(o.length<=16)return;const d=o.subarray(16,o.length-o.length%16),m=d.buffer.slice(d.byteOffset,d.byteOffset+d.length);this.decryptBuffer(m).then(b=>{const I=new Uint8Array(b);o.set(I,16),this.decrypter.isSync()||this.decryptAacSamples(n,e+1,i)})}decryptAacSamples(n,e,i){for(;;e++){if(e>=n.length)return void i();if(!(n[e].unit.length<32||(this.decryptAacSample(n,e,i),this.decrypter.isSync())))return}}getAvcEncryptedData(n){const e=16*Math.floor((n.length-48)/160)+16,i=new Int8Array(e);let o=0;for(let d=32;d<n.length-16;d+=160,o+=16)i.set(n.subarray(d,d+16),o);return i}getAvcDecryptedUnit(n,e){const i=new Uint8Array(e);let o=0;for(let d=32;d<n.length-16;d+=160,o+=16)n.set(i.subarray(o,o+16),d);return n}decryptAvcSample(n,e,i,o,d){const m=Ti(d.data),b=this.getAvcEncryptedData(m);this.decryptBuffer(b.buffer).then(I=>{d.data=this.getAvcDecryptedUnit(m,I),this.decrypter.isSync()||this.decryptAvcSamples(n,e,i+1,o)})}decryptAvcSamples(n,e,i,o){if(n instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,i=0){if(e>=n.length)return void o();const d=n[e].units;for(;!(i>=d.length);i++){const m=d[i];if(!(m.data.length<=48||1!==m.type&&5!==m.type||(this.decryptAvcSample(n,e,i,o,m),this.decrypter.isSync())))return}}}}const gs=188;class Co{constructor(n,e,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=n,this.config=e,this.typeSupported=i}static probe(n){const e=Co.syncOffset(n);return e>0&&Bt.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(n){const e=n.length;let i=Math.min(940,n.length-gs)+1,o=0;for(;o<i;){let d=!1,m=-1,b=0;for(let I=o;I<e;I+=gs){if(71!==n[I]){if(b)return-1;break}if(b++,-1===m&&(m=I,0!==m&&(i=Math.min(m+18612,n.length-gs)+1)),d||(d=0===ih(n,I)),d&&b>1&&(0===m&&b>2||I+gs>i))return m}o++}return-1}static createTrack(n,e){return{container:"video"===n||"audio"===n?"video/mp2t":void 0,type:n,id:Ac[n],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===n?e:void 0}}resetInitSegment(n,e,i,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Co.createTrack("video"),this._audioTrack=Co.createTrack("audio",o),this._id3Track=Co.createTrack("id3"),this._txtTrack=Co.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=i,this._duration=o}resetTimeStamp(){}resetContiguity(){const{_audioTrack:n,_avcTrack:e,_id3Track:i}=this;n&&(n.pesData=null),e&&(e.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(n,e,i=!1,o=!1){let d;i||(this.sampleAes=null);const m=this._avcTrack,b=this._audioTrack,I=this._id3Track,G=this._txtTrack;let ne=m.pid,me=m.pesData,ze=b.pid,et=I.pid,mt=b.pesData,St=I.pesData,Ot=null,zt=this.pmtParsed,hn=this._pmtId,ln=n.length;if(this.remainderData&&(ln=(n=_t(this.remainderData,n)).length,this.remainderData=null),ln<gs&&!o)return this.remainderData=n,{audioTrack:b,videoTrack:m,id3Track:I,textTrack:G};const En=Math.max(0,Co.syncOffset(n));ln-=(ln-En)%gs,ln<n.byteLength&&!o&&(this.remainderData=new Uint8Array(n.buffer,ln,n.buffer.byteLength-ln));let Dn=0;for(let Rn=En;Rn<ln;Rn+=gs)if(71===n[Rn]){const $n=!!(64&n[Rn+1]),ii=ih(n,Rn);let Ei;if((48&n[Rn+3])>>4>1){if(Ei=Rn+5+n[Rn+4],Ei===Rn+gs)continue}else Ei=Rn+4;switch(ii){case ne:$n&&(me&&(d=pd(me))&&this.parseAVCPES(m,G,d,!1),me={data:[],size:0}),me&&(me.data.push(n.subarray(Ei,Rn+gs)),me.size+=Rn+gs-Ei);break;case ze:if($n){if(mt&&(d=pd(mt)))switch(b.segmentCodec){case"aac":this.parseAACPES(b,d);break;case"mp3":this.parseMPEGPES(b,d)}mt={data:[],size:0}}mt&&(mt.data.push(n.subarray(Ei,Rn+gs)),mt.size+=Rn+gs-Ei);break;case et:$n&&(St&&(d=pd(St))&&this.parseID3PES(I,d),St={data:[],size:0}),St&&(St.data.push(n.subarray(Ei,Rn+gs)),St.size+=Rn+gs-Ei);break;case 0:$n&&(Ei+=n[Ei]+1),hn=this._pmtId=S_(n,Ei);break;case hn:{$n&&(Ei+=n[Ei]+1);const pi=cE(n,Ei,this.typeSupported,i);ne=pi.avc,ne>0&&(m.pid=ne),ze=pi.audio,ze>0&&(b.pid=ze,b.segmentCodec=pi.segmentCodec),et=pi.id3,et>0&&(I.pid=et),null!==Ot&&!zt&&(Bt.warn(`MPEG-TS PMT found at ${Rn} after unknown PID '${Ot}'. Backtracking to sync byte @${En} to parse all TS packets.`),Ot=null,Rn=En-188),zt=this.pmtParsed=!0;break}case 17:case 8191:break;default:Ot=ii}}else Dn++;if(Dn>0){const Rn=new Error(`Found ${Dn} TS packet/s that do not start with 0x47`);this.observer.emit(Rt.ERROR,Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.FRAG_PARSING_ERROR,fatal:!1,error:Rn,reason:Rn.message})}m.pesData=me,b.pesData=mt,I.pesData=St;const Hn={audioTrack:b,videoTrack:m,id3Track:I,textTrack:G};return o&&this.extractRemainingSamples(Hn),Hn}flush(){const{remainderData:n}=this;let e;return this.remainderData=null,e=n?this.demux(n,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(n){const{audioTrack:e,videoTrack:i,id3Track:o,textTrack:d}=n,m=i.pesData,b=e.pesData,I=o.pesData;let G;if(m&&(G=pd(m))?(this.parseAVCPES(i,d,G,!0),i.pesData=null):i.pesData=m,b&&(G=pd(b))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,G);break;case"mp3":this.parseMPEGPES(e,G)}e.pesData=null}else null!=b&&b.size&&Bt.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=b;I&&(G=pd(I))?(this.parseID3PES(o,G),o.pesData=null):o.pesData=I}demuxSampleAes(n,e,i){const o=this.demux(n,i,!0,!this.config.progressive),d=this.sampleAes=new T_(this.observer,this.config,e);return this.decrypt(o,d)}decrypt(n,e){return new Promise(i=>{const{audioTrack:o,videoTrack:d}=n;o.samples&&"aac"===o.segmentCodec?e.decryptAacSamples(o.samples,0,()=>{d.samples?e.decryptAvcSamples(d.samples,0,0,()=>{i(n)}):i(n)}):d.samples&&e.decryptAvcSamples(d.samples,0,0,()=>{i(n)})})}destroy(){this._duration=0}parseAVCPES(n,e,i,o){const d=this.parseAVCNALu(n,i.data);let b,m=this.avcSample,I=!1;i.data=null,m&&d.length&&!n.audFound&&(Vu(m,n),m=this.avcSample=jc(!1,i.pts,i.dts,"")),d.forEach(G=>{var ne;switch(G.type){case 1:{let ze=!1;b=!0;const et=G.data;if(I&&et.length>4){const mt=new nh(et).readSliceType();(2===mt||4===mt||7===mt||9===mt)&&(ze=!0)}var me;ze&&null!=(me=m)&&me.frame&&!m.key&&(Vu(m,n),m=this.avcSample=null),m||(m=this.avcSample=jc(!0,i.pts,i.dts,"")),m.frame=!0,m.key=ze;break}case 5:b=!0,null!=(ne=m)&&ne.frame&&!m.key&&(Vu(m,n),m=this.avcSample=null),m||(m=this.avcSample=jc(!0,i.pts,i.dts,"")),m.key=!0,m.frame=!0;break;case 6:b=!0,zn(G.data,1,i.pts,e.samples);break;case 7:if(b=!0,I=!0,!n.sps){const ze=G.data,mt=new nh(ze).readSPS();n.width=mt.width,n.height=mt.height,n.pixelRatio=mt.pixelRatio,n.sps=[ze],n.duration=this._duration;const St=ze.subarray(1,4);let Ot="avc1.";for(let zt=0;zt<3;zt++){let hn=St[zt].toString(16);hn.length<2&&(hn="0"+hn),Ot+=hn}n.codec=Ot}break;case 8:b=!0,n.pps||(n.pps=[G.data]);break;case 9:b=!1,n.audFound=!0,m&&Vu(m,n),m=this.avcSample=jc(!1,i.pts,i.dts,"");break;case 12:b=!0;break;default:b=!1,m&&(m.debug+="unknown NAL "+G.type+" ")}m&&b&&m.units.push(G)}),o&&m&&(Vu(m,n),this.avcSample=null)}getLastNalUnit(n){var e;let o,i=this.avcSample;if((!i||0===i.units.length)&&(i=n[n.length-1]),null!=(e=i)&&e.units){const d=i.units;o=d[d.length-1]}return o}parseAVCNALu(n,e){const i=e.byteLength;let o=n.naluState||0;const d=o,m=[];let I,G,ne,b=0,me=-1,ze=0;for(-1===o&&(me=0,ze=31&e[0],o=0,b=1);b<i;)if(I=e[b++],o)if(1!==o)if(I)if(1===I){if(me>=0){const et={data:e.subarray(me,b-o-1),type:ze};m.push(et)}else{const et=this.getLastNalUnit(n.samples);if(et&&(d&&b<=4-d&&et.state&&(et.data=et.data.subarray(0,et.data.byteLength-d)),G=b-o-1,G>0)){const mt=new Uint8Array(et.data.byteLength+G);mt.set(et.data,0),mt.set(e.subarray(0,G),et.data.byteLength),et.data=mt,et.state=0}}b<i?(ne=31&e[b],me=b,ze=ne,o=0):o=-1}else o=0;else o=3;else o=I?0:2;else o=I?0:1;if(me>=0&&o>=0){const et={data:e.subarray(me,i),type:ze,state:o};m.push(et)}if(0===m.length){const et=this.getLastNalUnit(n.samples);if(et){const mt=new Uint8Array(et.data.byteLength+e.byteLength);mt.set(et.data,0),mt.set(e,et.data.byteLength),et.data=mt}}return n.naluState=o,m}parseAACPES(n,e){let i=0;const o=this.aacOverFlow;let m,b,I,d=e.data;if(o){this.aacOverFlow=null;const me=o.missing,ze=o.sample.unit.byteLength;if(-1===me){const et=new Uint8Array(ze+d.byteLength);et.set(o.sample.unit,0),et.set(d,ze),d=et}else{const et=ze-me;o.sample.unit.set(d.subarray(0,me),et),n.samples.push(o.sample),i=o.missing}}for(m=i,b=d.length;m<b-1&&!Hc(d,m);m++);if(m!==i){let me;const ze=m<b-1;me=ze?`AAC PES did not start with ADTS header,offset:${m}`:"No ADTS header found in AAC PES";const et=new Error(me);if(Bt.warn(`parsing error: ${me}`),this.observer.emit(Rt.ERROR,Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.FRAG_PARSING_ERROR,fatal:!1,levelRetry:ze,error:et,reason:me}),!ze)return}if(fc(n,this.observer,d,m,this.audioCodec),void 0!==e.pts)I=e.pts;else{if(!o)return void Bt.warn("[tsdemuxer]: AAC PES unknown PTS");{const me=md(n.samplerate);I=o.sample.pts+me}}let ne,G=0;for(;m<b;){if(ne=ju(n,d,m,I,G),m+=ne.length,ne.missing){this.aacOverFlow=ne;break}for(G++;m<b-1&&!Hc(d,m);m++);}}parseMPEGPES(n,e){const i=e.data,o=i.length;let d=0,m=0;const b=e.pts;if(void 0!==b)for(;m<o;)if(E_(i,m)){const I=y_(n,i,m,b,d);if(!I)break;m+=I.length,d++}else m++;else Bt.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(n,e){if(void 0===e.pts)return void Bt.warn("[tsdemuxer]: ID3 PES unknown PTS");const i=qr({},e,{type:this._avcTrack?ws_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});n.samples.push(i)}}function jc(r,n,e,i){return{key:r,frame:!1,pts:n,dts:e,units:[],debug:i,length:0}}function ih(r,n){return((31&r[n+1])<<8)+r[n+2]}function S_(r,n){return(31&r[n+10])<<8|r[n+11]}function cE(r,n,e,i){const o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},m=n+3+((15&r[n+1])<<8|r[n+2])-4;for(n+=12+((15&r[n+10])<<8|r[n+11]);n<m;){const I=ih(r,n);switch(r[n]){case 207:if(!i){Bt.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=I);break;case 21:-1===o.id3&&(o.id3=I);break;case 219:if(!i){Bt.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=I);break;case 3:case 4:!0!==e.mpeg&&!0!==e.mp3?Bt.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=I,o.segmentCodec="mp3");break;case 36:Bt.warn("Unsupported HEVC stream type found")}n+=5+((15&r[n+3])<<8|r[n+4])}return o}function pd(r){let e,i,o,d,m,n=0;const b=r.data;if(!r||0===r.size)return null;for(;b[0].length<19&&b.length>1;){const G=new Uint8Array(b[0].length+b[1].length);G.set(b[0]),G.set(b[1],b[0].length),b[0]=G,b.splice(1,1)}if(e=b[0],(e[0]<<16)+(e[1]<<8)+e[2]===1){if(i=(e[4]<<8)+e[5],i&&i>r.size-6)return null;const G=e[7];192&G&&(d=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&G?(m=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,d-m>54e5&&(Bt.warn(`${Math.round((d-m)/9e4)}s delta between PTS and DTS, align them`),d=m)):m=d),o=e[8];let ne=o+9;if(r.size<=ne)return null;r.size-=ne;const me=new Uint8Array(r.size);for(let ze=0,et=b.length;ze<et;ze++){e=b[ze];let mt=e.byteLength;if(ne){if(ne>mt){ne-=mt;continue}e=e.subarray(ne),mt-=ne,ne=0}me.set(e,n),n+=mt}return i&&(i-=o+3),{data:me,pts:d,dts:m,len:i}}return null}function Vu(r,n){if(r.units.length&&r.frame){if(void 0===r.pts){const e=n.samples,i=e.length;if(!i)return void n.dropped++;{const o=e[i-1];r.pts=o.pts,r.dts=o.dts}}n.samples.push(r)}r.debug.length&&Bt.log(r.pts+"/"+r.dts+":"+r.debug)}class D_{static getSilentFrame(n,e){if("mp4a.40.2"===n){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const hc=Math.pow(2,32)-1;let Wd=(()=>{class r{static init(){let e;for(e in r.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},r.types)r.types.hasOwnProperty(e)&&(r.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);r.HDLR_TYPES={video:i,audio:o};const d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),m=new Uint8Array([0,0,0,0,0,0,0,0]);r.STTS=r.STSC=r.STCO=m,r.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),r.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),r.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const b=new Uint8Array([105,115,111,109]),I=new Uint8Array([97,118,99,49]),G=new Uint8Array([0,0,0,1]);r.FTYP=r.box(r.types.ftyp,b,G,b,I),r.DINF=r.box(r.types.dinf,r.box(r.types.dref,d))}static box(e,...i){let o=8,d=i.length;const m=d;for(;d--;)o+=i[d].byteLength;const b=new Uint8Array(o);for(b[0]=o>>24&255,b[1]=o>>16&255,b[2]=o>>8&255,b[3]=255&o,b.set(e,4),d=0,o=8;d<m;d++)b.set(i[d],o),o+=i[d].byteLength;return b}static hdlr(e){return r.box(r.types.hdlr,r.HDLR_TYPES[e])}static mdat(e){return r.box(r.types.mdat,e)}static mdhd(e,i){i*=e;const o=Math.floor(i/(hc+1)),d=Math.floor(i%(hc+1));return r.box(r.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,d>>24,d>>16&255,d>>8&255,255&d,85,196,0,0]))}static mdia(e){return r.box(r.types.mdia,r.mdhd(e.timescale,e.duration),r.hdlr(e.type),r.minf(e))}static mfhd(e){return r.box(r.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return r.box(r.types.minf,"audio"===e.type?r.box(r.types.smhd,r.SMHD):r.box(r.types.vmhd,r.VMHD),r.DINF,r.stbl(e))}static moof(e,i,o){return r.box(r.types.moof,r.mfhd(e),r.traf(o,i))}static moov(e){let i=e.length;const o=[];for(;i--;)o[i]=r.trak(e[i]);return r.box.apply(null,[r.types.moov,r.mvhd(e[0].timescale,e[0].duration)].concat(o).concat(r.mvex(e)))}static mvex(e){let i=e.length;const o=[];for(;i--;)o[i]=r.trex(e[i]);return r.box.apply(null,[r.types.mvex,...o])}static mvhd(e,i){i*=e;const o=Math.floor(i/(hc+1)),d=Math.floor(i%(hc+1)),m=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,d>>24,d>>16&255,d>>8&255,255&d,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r.box(r.types.mvhd,m)}static sdtp(e){const i=e.samples||[],o=new Uint8Array(4+i.length);let d,m;for(d=0;d<i.length;d++)m=i[d].flags,o[d+4]=m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy;return r.box(r.types.sdtp,o)}static stbl(e){return r.box(r.types.stbl,r.stsd(e),r.box(r.types.stts,r.STTS),r.box(r.types.stsc,r.STSC),r.box(r.types.stsz,r.STSZ),r.box(r.types.stco,r.STCO))}static avc1(e){let d,m,b,i=[],o=[];for(d=0;d<e.sps.length;d++)m=e.sps[d],b=m.byteLength,i.push(b>>>8&255),i.push(255&b),i=i.concat(Array.prototype.slice.call(m));for(d=0;d<e.pps.length;d++)m=e.pps[d],b=m.byteLength,o.push(b>>>8&255),o.push(255&b),o=o.concat(Array.prototype.slice.call(m));const I=r.box(r.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(o))),G=e.width,ne=e.height,me=e.pixelRatio[0],ze=e.pixelRatio[1];return r.box(r.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,G>>8&255,255&G,ne>>8&255,255&ne,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),I,r.box(r.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),r.box(r.types.pasp,new Uint8Array([me>>24,me>>16&255,me>>8&255,255&me,ze>>24,ze>>16&255,ze>>8&255,255&ze])))}static esds(e){const i=e.config.length;return new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(e.config).concat([6,1,2]))}static mp4a(e){const i=e.samplerate;return r.box(r.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),r.box(r.types.esds,r.esds(e)))}static mp3(e){const i=e.samplerate;return r.box(r.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))}static stsd(e){return r.box(r.types.stsd,r.STSD,"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?r.mp3(e):r.mp4a(e):r.avc1(e))}static tkhd(e){const i=e.id,o=e.duration*e.timescale,d=e.width,m=e.height,b=Math.floor(o/(hc+1)),I=Math.floor(o%(hc+1));return r.box(r.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,b>>24,b>>16&255,b>>8&255,255&b,I>>24,I>>16&255,I>>8&255,255&I,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>8&255,255&d,0,0,m>>8&255,255&m,0,0]))}static traf(e,i){const o=r.sdtp(e),d=e.id,m=Math.floor(i/(hc+1)),b=Math.floor(i%(hc+1));return r.box(r.types.traf,r.box(r.types.tfhd,new Uint8Array([0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d])),r.box(r.types.tfdt,new Uint8Array([1,0,0,0,m>>24,m>>16&255,m>>8&255,255&m,b>>24,b>>16&255,b>>8&255,255&b])),r.trun(e,o.length+16+20+8+16+8+8),o)}static trak(e){return e.duration=e.duration||4294967295,r.box(r.types.trak,r.tkhd(e),r.mdia(e))}static trex(e){const i=e.id;return r.box(r.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,i){const o=e.samples||[],d=o.length,m=12+16*d,b=new Uint8Array(m);let I,G,ne,me,ze,et;for(b.set(["video"===e.type?1:0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,(i+=8+m)>>>24&255,i>>>16&255,i>>>8&255,255&i],0),I=0;I<d;I++)G=o[I],ne=G.duration,me=G.size,ze=G.flags,et=G.cts,b.set([ne>>>24&255,ne>>>16&255,ne>>>8&255,255&ne,me>>>24&255,me>>>16&255,me>>>8&255,255&me,ze.isLeading<<2|ze.dependsOn,ze.isDependedOn<<6|ze.hasRedundancy<<4|ze.paddingValue<<1|ze.isNonSync,61440&ze.degradPrio,15&ze.degradPrio,et>>>24&255,et>>>16&255,et>>>8&255,255&et],12+16*I);return r.box(r.types.trun,b)}static initSegment(e){r.types||r.init();const i=r.moov(e),o=new Uint8Array(r.FTYP.byteLength+i.byteLength);return o.set(r.FTYP),o.set(i,r.FTYP.byteLength),o}}return r.types=void 0,r.HDLR_TYPES=void 0,r.STTS=void 0,r.STSC=void 0,r.STCO=void 0,r.STSZ=void 0,r.VMHD=void 0,r.SMHD=void 0,r.STSD=void 0,r.FTYP=void 0,r.DINF=void 0,r})();function Ku(r,n,e=1,i=!1){const o=r*n*e;return i?Math.round(o):o}function Wu(r,n=!1){return Ku(r,1e3,1/9e4,n)}let mc,zu=null,rh=null;class Vc{constructor(n,e,i,o=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=n,this.config=e,this.typeSupported=i,this.ISGenerated=!1,null===zu){const m=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);zu=m?parseInt(m[1]):0}if(null===rh){const d=navigator.userAgent.match(/Safari\/(\d+)/i);rh=d?parseInt(d[1]):0}}destroy(){}resetTimeStamp(n){Bt.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=n}resetNextTimestamp(){Bt.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){Bt.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(n){let e=!1;const i=n.reduce((o,d)=>{const m=d.pts-o;return m<-4294967296?(e=!0,Xs(o,d.pts)):m>0?o:d.pts},n[0].pts);return e&&Bt.debug("PTS rollover detected"),i}remux(n,e,i,o,d,m,b,I){let G,ne,me,ze,et,mt,St=d,Ot=d;const hn=e.pid>-1,ln=e.samples.length,En=n.samples.length>0,Dn=b&&ln>0||ln>1;if((!(n.pid>-1)||En)&&(!hn||Dn)||this.ISGenerated||b){this.ISGenerated||(me=this.generateIS(n,e,d,m));const Rn=this.isVideoContiguous;let ii,$n=-1;if(Dn&&($n=function I_(r){for(let n=0;n<r.length;n++)if(r[n].key)return n;return-1}(e.samples),!Rn&&this.config.forceKeyFrameOnDiscontinuity))if(mt=!0,$n>0){Bt.warn(`[mp4-remuxer]: Dropped ${$n} out of ${ln} video samples due to a missing keyframe`);const kn=this.getVideoStartPts(e.samples);e.samples=e.samples.slice($n),e.dropped+=$n,Ot+=(e.samples[0].pts-kn)/e.inputTimeScale,ii=Ot}else-1===$n&&(Bt.warn(`[mp4-remuxer]: No keyframe found out of ${ln} video samples`),mt=!1);if(this.ISGenerated){if(En&&Dn){const kn=this.getVideoStartPts(e.samples),pi=(Xs(n.samples[0].pts,kn)-kn)/e.inputTimeScale;St+=Math.max(0,pi),Ot+=Math.max(0,-pi)}if(En){if(n.samplerate||(Bt.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),me=this.generateIS(n,e,d,m)),ne=this.remuxAudio(n,St,this.isAudioContiguous,m,hn||Dn||"audio"===I?Ot:void 0),Dn){const kn=ne?ne.endPTS-ne.startPTS:0;e.inputTimeScale||(Bt.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),me=this.generateIS(n,e,d,m)),G=this.remuxVideo(e,Ot,Rn,kn)}}else Dn&&(G=this.remuxVideo(e,Ot,Rn,0));G&&(G.firstKeyFrame=$n,G.independent=-1!==$n,G.firstKeyFramePTS=ii)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(et=oh(i,d,this._initPTS,this._initDTS)),o.samples.length&&(ze=Zu(o,d,this._initPTS))),{audio:ne,video:G,initSegment:me,independent:mt,text:ze,id3:et}}generateIS(n,e,i,o){const d=n.samples,m=e.samples,b=this.typeSupported,I={},G=this._initPTS;let ze,et,mt,ne=!G||o,me="audio/mp4";if(ne&&(ze=et=1/0),n.config&&d.length&&("mp3"===(n.timescale=n.samplerate,n.segmentCodec)&&(b.mpeg?(me="audio/mpeg",n.codec=""):b.mp3&&(n.codec="mp3")),I.audio={id:"audio",container:me,codec:n.codec,initSegment:"mp3"===n.segmentCodec&&b.mpeg?new Uint8Array(0):Wd.initSegment([n]),metadata:{channelCount:n.channelCount}},ne&&(mt=n.inputTimeScale,G&&mt===G.timescale?ne=!1:ze=et=d[0].pts-Math.round(mt*i))),e.sps&&e.pps&&m.length&&(e.timescale=e.inputTimeScale,I.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:Wd.initSegment([e]),metadata:{width:e.width,height:e.height}},ne))if(mt=e.inputTimeScale,G&&mt===G.timescale)ne=!1;else{const St=this.getVideoStartPts(m),Ot=Math.round(mt*i);et=Math.min(et,Xs(m[0].dts,St)-Ot),ze=Math.min(ze,St-Ot)}if(Object.keys(I).length)return this.ISGenerated=!0,ne?(this._initPTS={baseTime:ze,timescale:mt},this._initDTS={baseTime:et,timescale:mt}):ze=mt=void 0,{tracks:I,initPTS:ze,timescale:mt}}remuxVideo(n,e,i,o){const d=n.inputTimeScale,m=n.samples,b=[],I=m.length,G=this._initPTS;let et,mt,ne=this.nextAvcDts,me=8,ze=this.videoSampleDuration,St=Number.POSITIVE_INFINITY,Ot=Number.NEGATIVE_INFINITY,zt=!1;i&&null!==ne||(ne=e*d-(m[0].pts-Xs(m[0].dts,m[0].pts)));const hn=G.baseTime*d/G.timescale;for(let Qn=0;Qn<I;Qn++){const ai=m[Qn];ai.pts=Xs(ai.pts-hn,ne),ai.dts=Xs(ai.dts-hn,ne),ai.dts<m[Qn>0?Qn-1:Qn].dts&&(zt=!0)}zt&&m.sort(function(Qn,ai){return Qn.dts-ai.dts||Qn.pts-ai.pts}),et=m[0].dts,mt=m[m.length-1].dts;const ln=mt-et,En=ln?Math.round(ln/(I-1)):ze||n.inputTimeScale/30;if(i){const Qn=et-ne,ai=Qn>En,$i=Qn<-1;if((ai||$i)&&(Bt.warn(ai?`AVC: ${Wu(Qn,!0)} ms (${Qn}dts) hole between fragments detected, filling it`:`AVC: ${Wu(-Qn,!0)} ms (${Qn}dts) overlapping between fragments detected`),!$i||ne>=m[0].pts)){et=ne;const Tr=m[0].pts-Qn;m[0].dts=et,m[0].pts=Tr,Bt.log(`Video: First PTS/DTS adjusted: ${Wu(Tr,!0)}/${Wu(et,!0)}, delta: ${Wu(Qn,!0)} ms`)}}et=Math.max(0,et);let Dn=0,Hn=0;for(let Qn=0;Qn<I;Qn++){const ai=m[Qn],$i=ai.units,Tr=$i.length;let er=0;for(let Gr=0;Gr<Tr;Gr++)er+=$i[Gr].data.length;Hn+=er,Dn+=Tr,ai.length=er,ai.dts=Math.max(ai.dts,et),St=Math.min(ai.pts,St),Ot=Math.max(ai.pts,Ot)}mt=m[I-1].dts;const Rn=Hn+4*Dn+8;let $n;try{$n=new Uint8Array(Rn)}catch(Qn){return void this.observer.emit(Rt.ERROR,Rt.ERROR,{type:Mi.MUX_ERROR,details:wn.REMUX_ALLOC_ERROR,fatal:!1,error:Qn,bytes:Rn,reason:`fail allocating video mdat ${Rn}`})}const ii=new DataView($n.buffer);ii.setUint32(0,Rn),$n.set(Wd.types.mdat,4);let kn=!1,Ei=Number.POSITIVE_INFINITY,pi=Number.POSITIVE_INFINITY,Zi=Number.NEGATIVE_INFINITY,_o=Number.NEGATIVE_INFINITY;for(let Qn=0;Qn<I;Qn++){const ai=m[Qn],$i=ai.units;let er,Tr=0;for(let lr=0,Fo=$i.length;lr<Fo;lr++){const _s=$i[lr],io=_s.data,Rs=_s.data.byteLength;ii.setUint32(me,Rs),me+=4,$n.set(io,me),me+=Rs,Tr+=4+Rs}if(Qn<I-1)ze=m[Qn+1].dts-ai.dts,er=m[Qn+1].pts-ai.pts;else{const lr=this.config,Fo=Qn>0?ai.dts-m[Qn-1].dts:En;if(er=Qn>0?ai.pts-m[Qn-1].pts:En,lr.stretchShortVideoTrack&&null!==this.nextAudioPts){const _s=Math.floor(lr.maxBufferHole*d),io=(o?St+o*d:this.nextAudioPts)-ai.pts;io>_s?(ze=io-Fo,ze<0?ze=Fo:kn=!0,Bt.log(`[mp4-remuxer]: It is approximately ${io/90} ms to the next segment; using duration ${ze/90} ms for the last video frame.`)):ze=Fo}else ze=Fo}const Gr=Math.round(ai.pts-ai.dts);Ei=Math.min(Ei,ze),Zi=Math.max(Zi,ze),pi=Math.min(pi,er),_o=Math.max(_o,er),b.push(new w_(ai.key,ze,Tr,Gr))}if(b.length)if(zu){if(zu<70){const Qn=b[0].flags;Qn.dependsOn=2,Qn.isNonSync=0}}else if(rh&&_o-pi<Zi-Ei&&En/Zi<.025&&0===b[0].cts){Bt.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Qn=et;for(let ai=0,$i=b.length;ai<$i;ai++){const Tr=Qn+b[ai].duration;b[ai].duration=ai<$i-1?Tr+b[ai+1].cts-(Qn+b[ai].cts):ai?b[ai-1].duration:En,b[ai].cts=0,Qn=Tr}}ze=kn||!ze?En:ze,this.nextAvcDts=ne=mt+ze,this.videoSampleDuration=ze,this.isVideoContiguous=!0;const ui={data1:Wd.moof(n.sequenceNumber++,et,qr({},n,{samples:b})),data2:$n,startPTS:St/d,endPTS:(Ot+ze)/d,startDTS:et/d,endDTS:ne/d,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:n.dropped};return n.samples=[],n.dropped=0,ui}remuxAudio(n,e,i,o,d){const m=n.inputTimeScale,I=m/(n.samplerate?n.samplerate:m),G="aac"===n.segmentCodec?1024:1152,ne=G*I,me=this._initPTS,ze="mp3"===n.segmentCodec&&this.typeSupported.mpeg,et=[],mt=void 0!==d;let St=n.samples,Ot=ze?0:8,zt=this.nextAudioPts||-1;const hn=e*m,ln=me.baseTime*m/me.timescale;if(this.isAudioContiguous=i=i||St.length&&zt>0&&(o&&Math.abs(hn-zt)<9e3||Math.abs(Xs(St[0].pts-ln,hn)-zt)<20*ne),St.forEach(function(ri){ri.pts=Xs(ri.pts-ln,hn)}),!i||zt<0){if(St=St.filter(ri=>ri.pts>=0),!St.length)return;zt=0===d?0:o&&!mt?Math.max(0,hn):St[0].pts}if("aac"===n.segmentCodec){const ri=this.config.maxAudioFramesDrift;for(let ui=0,Qn=zt;ui<St.length;ui++){const ai=St[ui],$i=ai.pts,Tr=$i-Qn,er=Math.abs(1e3*Tr/m);if(Tr<=-ri*ne&&mt)0===ui&&(Bt.warn(`Audio frame @ ${($i/m).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Tr/m)} ms.`),this.nextAudioPts=zt=Qn=$i);else if(Tr>=ri*ne&&er<1e4&&mt){let Gr=Math.round(Tr/ne);Qn=$i-Gr*ne,Qn<0&&(Gr--,Qn+=ne),0===ui&&(this.nextAudioPts=zt=Qn),Bt.warn(`[mp4-remuxer]: Injecting ${Gr} audio frame @ ${(Qn/m).toFixed(3)}s due to ${Math.round(1e3*Tr/m)} ms gap.`);for(let lr=0;lr<Gr;lr++){const Fo=Math.max(Qn,0);let _s=D_.getSilentFrame(n.manifestCodec||n.codec,n.channelCount);_s||(Bt.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),_s=ai.unit.subarray()),St.splice(ui,0,{unit:_s,pts:Fo}),Qn+=ne,ui++}}ai.pts=Qn,Qn+=ne}}let Hn,En=null,Dn=null,Rn=0,$n=St.length;for(;$n--;)Rn+=St[$n].unit.byteLength;for(let ri=0,ui=St.length;ri<ui;ri++){const Qn=St[ri],ai=Qn.unit;let $i=Qn.pts;if(null!==Dn)et[ri-1].duration=Math.round(($i-Dn)/I);else{if(i&&"aac"===n.segmentCodec&&($i=zt),En=$i,!(Rn>0))return;Rn+=Ot;try{Hn=new Uint8Array(Rn)}catch(er){return void this.observer.emit(Rt.ERROR,Rt.ERROR,{type:Mi.MUX_ERROR,details:wn.REMUX_ALLOC_ERROR,fatal:!1,error:er,bytes:Rn,reason:`fail allocating audio mdat ${Rn}`})}ze||(new DataView(Hn.buffer).setUint32(0,Rn),Hn.set(Wd.types.mdat,4))}Hn.set(ai,Ot);const Tr=ai.byteLength;Ot+=Tr,et.push(new w_(!0,G,Tr,0)),Dn=$i}const ii=et.length;if(!ii)return;this.nextAudioPts=zt=Dn+I*et[et.length-1].duration;const Ei=ze?new Uint8Array(0):Wd.moof(n.sequenceNumber++,En/I,qr({},n,{samples:et}));n.samples=[];const pi=En/m,Zi=zt/m,Or={data1:Ei,data2:Hn,startPTS:pi,endPTS:Zi,startDTS:pi,endDTS:Zi,type:"audio",hasAudio:!0,hasVideo:!1,nb:ii};return this.isAudioContiguous=!0,Or}remuxEmptyAudio(n,e,i,o){const d=n.inputTimeScale,I=this.nextAudioPts,G=this._initDTS,ne=9e4*G.baseTime/G.timescale,me=(null!==I?I:o.startDTS*d)+ne,et=d/(n.samplerate?n.samplerate:d)*1024,mt=Math.ceil((o.endDTS*d+ne-me)/et),St=D_.getSilentFrame(n.manifestCodec||n.codec,n.channelCount);if(Bt.warn("[mp4-remuxer]: remux empty Audio"),!St)return void Bt.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const Ot=[];for(let zt=0;zt<mt;zt++){const hn=me+zt*et;Ot.push({unit:St,pts:hn,dts:hn})}return n.samples=Ot,this.remuxAudio(n,e,i,!1)}}function Xs(r,n){let e;if(null===n)return r;for(e=n<r?-8589934592:8589934592;Math.abs(r-n)>4294967296;)r+=e;return r}function oh(r,n,e,i){const o=r.samples.length;if(!o)return;const d=r.inputTimeScale;for(let b=0;b<o;b++){const I=r.samples[b];I.pts=Xs(I.pts-e.baseTime*d/e.timescale,n*d)/d,I.dts=Xs(I.dts-i.baseTime*d/i.timescale,n*d)/d}const m=r.samples;return r.samples=[],{samples:m}}function Zu(r,n,e){const i=r.samples.length;if(!i)return;const o=r.inputTimeScale;for(let m=0;m<i;m++){const b=r.samples[m];b.pts=Xs(b.pts-e.baseTime*o/e.timescale,n*o)/o}r.samples.sort((m,b)=>m.pts-b.pts);const d=r.samples;return r.samples=[],{samples:d}}class w_{constructor(n,e,i,o){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=i,this.cts=o,this.flags=new uE(n)}}class uE{constructor(n){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=n?2:1,this.isNonSync=n?0:1}}function P_(r,n){const e=r?.codec;return e&&e.length>4?e:"hvc1"===e||"hev1"===e?"hvc1.1.6.L120.90":"av01"===e?"av01.0.04M.08":"avc1"===e||"video"===n?"avc1.42e01e":"mp4a.40.5"}try{mc=self.performance.now.bind(self.performance)}catch{Bt.debug("Unable to use Performance API on this environment"),mc=typeof self<"u"&&self.Date.now}const sh=[{demux:class oE{constructor(n,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(n,e,i,o){const d=this.videoTrack=ps("video",1),m=this.audioTrack=ps("audio",1),b=this.txtTrack=ps("text",1);if(this.id3Track=ps("id3",1),this.timeOffset=0,null==n||!n.byteLength)return;const I=Ic(n);if(I.video){const{id:G,timescale:ne,codec:me}=I.video;d.id=G,d.timescale=b.timescale=ne,d.codec=me}if(I.audio){const{id:G,timescale:ne,codec:me}=I.audio;m.id=G,m.timescale=ne,m.codec=me}b.id=Ac.text,d.sampleDuration=0,d.duration=m.duration=o}resetContiguity(){this.remainderData=null}static probe(n){return fr(n=n.length>16384?n.subarray(0,16384):n,["moof"]).length>0}demux(n,e){this.timeOffset=e;let i=n;const o=this.videoTrack,d=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=_t(this.remainderData,n));const b=function Be(r){const n={valid:null,remainder:null},e=fr(r,["moof"]);if(!e)return n;if(e.length<2)return n.remainder=r,n;const i=e[e.length-1];return n.valid=Na(r,0,i.byteOffset-8),n.remainder=Na(r,i.byteOffset-8),n}(i);this.remainderData=b.remainder,o.samples=b.valid||new Uint8Array}else o.samples=i;const m=this.extractID3Track(o,e);return d.samples=Gt(e,o),{videoTrack:o,audioTrack:this.audioTrack,id3Track:m,textTrack:this.txtTrack}}flush(){const n=this.timeOffset,e=this.videoTrack,i=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const o=this.extractID3Track(e,this.timeOffset);return i.samples=Gt(n,e),{videoTrack:e,audioTrack:ps(),id3Track:o,textTrack:ps()}}extractID3Track(n,e){const i=this.id3Track;if(n.samples.length){const o=fr(n.samples,["emsg"]);o&&o.forEach(d=>{const m=function Ci(r){const n=r[0];let e="",i="",o=0,d=0,m=0,b=0,I=0,G=0;if(0===n){for(;"\0"!==Qr(r.subarray(G,G+1));)e+=Qr(r.subarray(G,G+1)),G+=1;for(e+=Qr(r.subarray(G,G+1)),G+=1;"\0"!==Qr(r.subarray(G,G+1));)i+=Qr(r.subarray(G,G+1)),G+=1;i+=Qr(r.subarray(G,G+1)),G+=1,o=ji(r,12),d=ji(r,16),b=ji(r,20),I=ji(r,24),G=28}else if(1===n){G+=4,o=ji(r,G),G+=4;const me=ji(r,G);G+=4;const ze=ji(r,G);for(G+=4,m=2**32*me+ze,Number.isSafeInteger(m)||(m=Number.MAX_SAFE_INTEGER,Bt.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),b=ji(r,G),G+=4,I=ji(r,G),G+=4;"\0"!==Qr(r.subarray(G,G+1));)e+=Qr(r.subarray(G,G+1)),G+=1;for(e+=Qr(r.subarray(G,G+1)),G+=1;"\0"!==Qr(r.subarray(G,G+1));)i+=Qr(r.subarray(G,G+1)),G+=1;i+=Qr(r.subarray(G,G+1)),G+=1}return{schemeIdUri:e,value:i,timeScale:o,presentationTime:m,presentationTimeDelta:d,eventDuration:b,id:I,payload:r.subarray(G,r.byteLength)}}(d);if(Xf.test(m.schemeIdUri)){const b=yi(m.presentationTime)?m.presentationTime/m.timeScale:e+m.presentationTimeDelta/m.timeScale;let I=4294967295===m.eventDuration?Number.POSITIVE_INFINITY:m.eventDuration/m.timeScale;I<=.001&&(I=Number.POSITIVE_INFINITY);const G=m.payload;i.samples.push({data:G,len:G.byteLength,dts:b,pts:b,type:ws_emsg,duration:I})}})}return i}demuxSampleAes(n,e,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class fE{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(n){this.initPTS=n,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(n,e,i,o){this.audioCodec=e,this.videoCodec=i,this.generateInitSegment(function Ud(r,n){if(!r||!n)return r;const e=n.keyId;return e&&n.isCommonEncryption&&fr(r,["moov","trak"]).forEach(o=>{const m=fr(o,["mdia","minf","stbl","stsd"])[0].subarray(8);let b=fr(m,["enca"]);const I=b.length>0;I||(b=fr(m,["encv"])),b.forEach(G=>{fr(G.subarray(I?28:78),["sinf"]).forEach(ze=>{const et=Lo(ze);if(et){const mt=et.subarray(8,24);mt.some(St=>0!==St)||(Bt.log(`[eme] Patching keyId in 'enc${I?"a":"v"}>sinf>>tenc' box: ${zo_hexDump(mt)} -> ${zo_hexDump(e)}`),et.set(e,8))}})})}),r}(n,o)),this.emitInitSegment=!0}generateInitSegment(n){let{audioCodec:e,videoCodec:i}=this;if(null==n||!n.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const o=this.initData=Ic(n);e||(e=P_(o.audio,"audio")),i||(i=P_(o.video,"video"));const d={};o.audio&&o.video?d.audiovideo={container:"video/mp4",codec:e+","+i,initSegment:n,id:"main"}:o.audio?d.audio={container:"audio/mp4",codec:e,initSegment:n,id:"audio"}:o.video?d.video={container:"video/mp4",codec:i,initSegment:n,id:"main"}:Bt.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=d}remux(n,e,i,o,d,m){var b,I;let{initPTS:G,lastEndTime:ne}=this;const me={audio:void 0,video:void 0,text:o,id3:i,initSegment:void 0};yi(ne)||(ne=this.lastEndTime=d||0);const ze=e.samples;if(null==ze||!ze.length)return me;const et={initPTS:void 0,timescale:1};let mt=this.initData;if(null!=(b=mt)&&b.length||(this.generateInitSegment(ze),mt=this.initData),null==(I=mt)||!I.length)return Bt.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),me;this.emitInitSegment&&(et.tracks=this.initTracks,this.emitInitSegment=!1);const St=function Ee(r,n){let e=0,i=0,o=0;const d=fr(r,["moof","traf"]);for(let m=0;m<d.length;m++){const b=d[m],I=fr(b,["tfhd"])[0],ne=n[ji(I,4)];if(!ne)continue;const me=ne.default,ze=ji(I,0)|me?.flags;let et=me?.duration;8&ze&&(et=ji(I,2&ze?12:8));const mt=ne.timescale||9e4,St=fr(b,["trun"]);for(let Ot=0;Ot<St.length;Ot++)e=je(St[Ot]),!e&&et&&(e=et*ji(St[Ot],4)),"video"===ne.type?i+=e/mt:"audio"===ne.type&&(o+=e/mt)}if(0===i&&0===o){let m=0;const b=fr(r,["sidx"]);for(let I=0;I<b.length;I++){const G=xc(b[I]);null!=G&&G.references&&(m+=G.references.reduce((ne,me)=>ne+me.info.duration||0,0))}return m}return i||o}(ze,mt),Ot=function da(r,n){return fr(n,["moof","traf"]).reduce((e,i)=>{const o=fr(i,["tfdt"])[0],d=o[0],m=fr(i,["tfhd"]).reduce((b,I)=>{const G=ji(I,4),ne=r[G];if(ne){let me=ji(o,4);if(1===d){if(me===Fa)return Bt.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),b;me*=Fa+1,me+=ji(o,8)}const et=me/(ne.timescale||9e4);if(isFinite(et)&&(null===b||et<b))return et}return b},null);return null!==m&&isFinite(m)&&(null===e||m<e)?m:e},null)}(mt,ze),zt=null===Ot?d:Ot;(function hE(r,n,e,i){if(null===r)return!0;const o=Math.max(i,1);return Math.abs(n-r.baseTime/r.timescale-e)>o}(G,zt,d,St)||et.timescale!==G.timescale&&m)&&(et.initPTS=zt-d,G&&1===G.timescale&&Bt.warn("Adjusting initPTS by "+(et.initPTS-G.baseTime)),this.initPTS=G={baseTime:et.initPTS,timescale:1});const hn=n?zt-G.baseTime/G.timescale:ne,ln=hn+St;(function ce(r,n,e){fr(n,["moof","traf"]).forEach(i=>{fr(i,["tfhd"]).forEach(o=>{const d=ji(o,4),m=r[d];if(!m)return;const b=m.timescale||9e4;fr(i,["tfdt"]).forEach(I=>{const G=I[0];let ne=ji(I,4);if(0===G)ne-=e*b,ne=Math.max(ne,0),sc(I,4,ne);else{ne*=Math.pow(2,32),ne+=ji(I,8),ne-=e*b,ne=Math.max(ne,0);const me=Math.floor(ne/(Fa+1)),ze=Math.floor(ne%(Fa+1));sc(I,4,me),sc(I,8,ze)}})})})})(mt,ze,G.baseTime/G.timescale),St>0?this.lastEndTime=ln:(Bt.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const En=!!mt.audio,Dn=!!mt.video;let Hn="";En&&(Hn+="audio"),Dn&&(Hn+="video");const Rn={data1:ze,startPTS:hn,startDTS:hn,endPTS:ln,endDTS:ln,type:Hn,hasAudio:En,hasVideo:Dn,nb:1,dropped:0};return me.audio="audio"===Rn.type?Rn:void 0,me.video="audio"!==Rn.type?Rn:void 0,me.initSegment=et,me.id3=oh(i,d,G,G),o.samples.length&&(me.text=Zu(o,d,G)),me}}},{demux:Co,remux:Vc},{demux:class Qf extends Vd{constructor(n,e){super(),this.observer=void 0,this.config=void 0,this.observer=n,this.config=e}resetInitSegment(n,e,i,o){super.resetInitSegment(n,e,i,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(n){if(!n)return!1;let i=(La(n,0)||[]).length;for(let o=n.length;i<o;i++)if(Hu(n,i))return Bt.log("ADTS sync word found !"),!0;return!1}canParse(n,e){return function Kd(r,n){return function hd(r,n){return n+5<r.length}(r,n)&&qf(r,n)&&Wl(r,n)<=r.length-n}(n,e)}appendFrame(n,e,i){fc(n,this.observer,e,i,n.manifestCodec);const o=ju(n,e,i,this.basePTS,this.frameIndex);if(o&&0===o.missing)return o}},remux:Vc},{demux:class C_ extends Vd{resetInitSegment(n,e,i,o){super.resetInitSegment(n,e,i,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(n){if(!n)return!1;let i=(La(n,0)||[]).length;for(let o=n.length;i<o;i++)if(ua(n,i))return Bt.log("MPEG Audio sync word found !"),!0;return!1}canParse(n,e){return function lE(r,n){return th(r,n)&&4<=r.length-n}(n,e)}appendFrame(n,e,i){if(null!==this.basePTS)return y_(n,e,i,this.basePTS,this.frameIndex)}},remux:Vc}];class ah{constructor(n,e,i,o,d){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=n,this.typeSupported=e,this.config=i,this.vendor=o,this.id=d}configure(n){this.transmuxConfig=n,this.decrypter&&this.decrypter.reset()}push(n,e,i,o){const d=i.transmuxing;d.executeStart=mc();let m=new Uint8Array(n);const{currentTransmuxState:b,transmuxConfig:I}=this;o&&(this.currentTransmuxState=o);const{contiguous:G,discontinuity:ne,trackSwitch:me,accurateTimeOffset:ze,timeOffset:et,initSegmentChange:mt}=o||b,{audioCodec:St,videoCodec:Ot,defaultInitPts:zt,duration:hn,initSegmentData:ln}=I,En=function O_(r,n){let e=null;return r.byteLength>0&&null!=n&&null!=n.key&&null!==n.iv&&null!=n.method&&(e=n),e}(m,e);if(En&&"AES-128"===En.method){const $n=this.getDecrypter();if(!$n.isSync())return this.decryptionPromise=$n.webCryptoDecrypt(m,En.key.buffer,En.iv.buffer).then(ii=>{const kn=this.push(ii,null,i);return this.decryptionPromise=null,kn}),this.decryptionPromise;{let ii=$n.softwareDecrypt(m,En.key.buffer,En.iv.buffer);if(i.part>-1&&(ii=$n.flush()),!ii)return d.executeEnd=mc(),$u(i);m=new Uint8Array(ii)}}const Dn=this.needsProbing(ne,me);if(Dn){const $n=this.configureTransmuxer(m);if($n)return Bt.warn(`[transmuxer] ${$n.message}`),this.observer.emit(Rt.ERROR,Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.FRAG_PARSING_ERROR,fatal:!1,error:$n,reason:$n.message}),d.executeEnd=mc(),$u(i)}(ne||me||mt||Dn)&&this.resetInitSegment(ln,St,Ot,hn,e),(ne||mt||Dn)&&this.resetInitialTimestamp(zt),G||this.resetContiguity();const Hn=this.transmux(m,En,et,ze,i),Rn=this.currentTransmuxState;return Rn.contiguous=!0,Rn.discontinuity=!1,Rn.trackSwitch=!1,d.executeEnd=mc(),Hn}flush(n){const e=n.transmuxing;e.executeStart=mc();const{decrypter:i,currentTransmuxState:o,decryptionPromise:d}=this;if(d)return d.then(()=>this.flush(n));const m=[],{timeOffset:b}=o;if(i){const me=i.flush();me&&m.push(this.push(me,null,n))}const{demuxer:I,remuxer:G}=this;if(!I||!G)return e.executeEnd=mc(),[$u(n)];const ne=I.flush(b);return lh(ne)?ne.then(me=>(this.flushRemux(m,me,n),m)):(this.flushRemux(m,ne,n),m)}flushRemux(n,e,i){const{audioTrack:o,videoTrack:d,id3Track:m,textTrack:b}=e,{accurateTimeOffset:I,timeOffset:G}=this.currentTransmuxState;Bt.log(`[transmuxer.ts]: Flushed fragment ${i.sn}${i.part>-1?" p: "+i.part:""} of level ${i.level}`);const ne=this.remuxer.remux(o,d,m,b,G,I,!0,this.id);n.push({remuxResult:ne,chunkMeta:i}),i.transmuxing.executeEnd=mc()}resetInitialTimestamp(n){const{demuxer:e,remuxer:i}=this;!e||!i||(e.resetTimeStamp(n),i.resetTimeStamp(n))}resetContiguity(){const{demuxer:n,remuxer:e}=this;!n||!e||(n.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(n,e,i,o,d){const{demuxer:m,remuxer:b}=this;!m||!b||(m.resetInitSegment(n,e,i,o),b.resetInitSegment(n,e,i,d))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(n,e,i,o,d){let m;return m=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(n,e,i,o,d):this.transmuxUnencrypted(n,i,o,d),m}transmuxUnencrypted(n,e,i,o){const{audioTrack:d,videoTrack:m,id3Track:b,textTrack:I}=this.demuxer.demux(n,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(d,m,b,I,e,i,!1,this.id),chunkMeta:o}}transmuxSampleAes(n,e,i,o,d){return this.demuxer.demuxSampleAes(n,e,i).then(m=>({remuxResult:this.remuxer.remux(m.audioTrack,m.videoTrack,m.id3Track,m.textTrack,i,o,!1,this.id),chunkMeta:d}))}configureTransmuxer(n){const{config:e,observer:i,typeSupported:o,vendor:d}=this;let m;for(let me=0,ze=sh.length;me<ze;me++)if(sh[me].demux.probe(n)){m=sh[me];break}if(!m)return new Error("Failed to find demuxer by probing fragment data");const b=this.demuxer,I=this.remuxer,G=m.remux,ne=m.demux;(!I||!(I instanceof G))&&(this.remuxer=new G(i,e,o,d)),(!b||!(b instanceof ne))&&(this.demuxer=new ne(i,e,o),this.probe=ne.probe)}needsProbing(n,e){return!this.demuxer||!this.remuxer||n||e}getDecrypter(){let n=this.decrypter;return n||(n=this.decrypter=new Oe(this.config)),n}}const $u=r=>({remuxResult:{},chunkMeta:r});function lh(r){return"then"in r&&r.then instanceof Function}class mE{constructor(n,e,i,o,d){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=n,this.videoCodec=e,this.initSegmentData=i,this.duration=o,this.defaultInitPts=d||null}}class Zm{constructor(n,e,i,o,d,m){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=n,this.contiguous=e,this.accurateTimeOffset=i,this.trackSwitch=o,this.timeOffset=d,this.initSegmentChange=m}}var $m={exports:{}};!function(r){var n=Object.prototype.hasOwnProperty,e="~";function i(){}function o(I,G,ne){this.fn=I,this.context=G,this.once=ne||!1}function d(I,G,ne,me,ze){if("function"!=typeof ne)throw new TypeError("The listener must be a function");var et=new o(ne,me||I,ze),mt=e?e+G:G;return I._events[mt]?I._events[mt].fn?I._events[mt]=[I._events[mt],et]:I._events[mt].push(et):(I._events[mt]=et,I._eventsCount++),I}function m(I,G){0==--I._eventsCount?I._events=new i:delete I._events[G]}function b(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),b.prototype.eventNames=function(){var ne,me,G=[];if(0===this._eventsCount)return G;for(me in ne=this._events)n.call(ne,me)&&G.push(e?me.slice(1):me);return Object.getOwnPropertySymbols?G.concat(Object.getOwnPropertySymbols(ne)):G},b.prototype.listeners=function(G){var me=this._events[e?e+G:G];if(!me)return[];if(me.fn)return[me.fn];for(var ze=0,et=me.length,mt=new Array(et);ze<et;ze++)mt[ze]=me[ze].fn;return mt},b.prototype.listenerCount=function(G){var me=this._events[e?e+G:G];return me?me.fn?1:me.length:0},b.prototype.emit=function(G,ne,me,ze,et,mt){var St=e?e+G:G;if(!this._events[St])return!1;var hn,ln,Ot=this._events[St],zt=arguments.length;if(Ot.fn){switch(Ot.once&&this.removeListener(G,Ot.fn,void 0,!0),zt){case 1:return Ot.fn.call(Ot.context),!0;case 2:return Ot.fn.call(Ot.context,ne),!0;case 3:return Ot.fn.call(Ot.context,ne,me),!0;case 4:return Ot.fn.call(Ot.context,ne,me,ze),!0;case 5:return Ot.fn.call(Ot.context,ne,me,ze,et),!0;case 6:return Ot.fn.call(Ot.context,ne,me,ze,et,mt),!0}for(ln=1,hn=new Array(zt-1);ln<zt;ln++)hn[ln-1]=arguments[ln];Ot.fn.apply(Ot.context,hn)}else{var Dn,En=Ot.length;for(ln=0;ln<En;ln++)switch(Ot[ln].once&&this.removeListener(G,Ot[ln].fn,void 0,!0),zt){case 1:Ot[ln].fn.call(Ot[ln].context);break;case 2:Ot[ln].fn.call(Ot[ln].context,ne);break;case 3:Ot[ln].fn.call(Ot[ln].context,ne,me);break;case 4:Ot[ln].fn.call(Ot[ln].context,ne,me,ze);break;default:if(!hn)for(Dn=1,hn=new Array(zt-1);Dn<zt;Dn++)hn[Dn-1]=arguments[Dn];Ot[ln].fn.apply(Ot[ln].context,hn)}}return!0},b.prototype.on=function(G,ne,me){return d(this,G,ne,me,!1)},b.prototype.once=function(G,ne,me){return d(this,G,ne,me,!0)},b.prototype.removeListener=function(G,ne,me,ze){var et=e?e+G:G;if(!this._events[et])return this;if(!ne)return m(this,et),this;var mt=this._events[et];if(mt.fn)mt.fn===ne&&(!ze||mt.once)&&(!me||mt.context===me)&&m(this,et);else{for(var St=0,Ot=[],zt=mt.length;St<zt;St++)(mt[St].fn!==ne||ze&&!mt[St].once||me&&mt[St].context!==me)&&Ot.push(mt[St]);Ot.length?this._events[et]=1===Ot.length?Ot[0]:Ot:m(this,et)}return this},b.prototype.removeAllListeners=function(G){var ne;return G?this._events[ne=e?e+G:G]&&m(this,ne):(this._events=new i,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=e,b.EventEmitter=b,r.exports=b}($m);var ch=Oa($m.exports);const dh=wc()||{isTypeSupported:()=>!1};class R_{constructor(n,e,i,o){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const d=n.config;this.hls=n,this.id=e,this.useWorker=!!d.enableWorker,this.onTransmuxComplete=i,this.onFlush=o;const m=(G,ne)=>{(ne=ne||{}).frag=this.frag,ne.id=this.id,G===Rt.ERROR&&(this.error=ne.error),this.hls.trigger(G,ne)};this.observer=new ch,this.observer.on(Rt.FRAG_DECRYPTED,m),this.observer.on(Rt.ERROR,m);const b={mp4:dh.isTypeSupported("video/mp4"),mpeg:dh.isTypeSupported("audio/mpeg"),mp3:dh.isTypeSupported('audio/mp4; codecs="mp3"')},I=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(d.workerPath||function Ni(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{d.workerPath?(Bt.log(`loading Web Worker ${d.workerPath} for "${e}"`),this.workerContext=function ms(r){const n=new self.URL(r,self.location.href).href;return{worker:new self.Worker(n),scriptURL:n}}(d.workerPath)):(Bt.log(`injecting Web Worker for "${e}"`),this.workerContext=function Er(){const r=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(r);return{worker:new self.Worker(n),objectURL:n}}()),this.onwmsg=me=>this.onWorkerMessage(me);const{worker:ne}=this.workerContext;ne.addEventListener("message",this.onwmsg),ne.onerror=me=>{const ze=new Error(`${me.message}  (${me.filename}:${me.lineno})`);d.enableWorker=!1,Bt.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(Rt.ERROR,{type:Mi.OTHER_ERROR,details:wn.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:ze})},ne.postMessage({cmd:"init",typeSupported:b,vendor:I,id:e,config:JSON.stringify(d)})}catch(ne){Bt.warn(`Error setting up "${e}" Web Worker, fallback to inline`,ne),this.resetWorker(),this.error=null,this.transmuxer=new ah(this.observer,b,d,I,e)}else this.transmuxer=new ah(this.observer,b,d,I,e)}resetWorker(){if(this.workerContext){const{worker:n,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),n.removeEventListener("message",this.onwmsg),n.onerror=null,n.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const n=this.observer;n&&n.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(n,e,i,o,d,m,b,I,G,ne){var me,ze;G.transmuxing.start=self.performance.now();const{transmuxer:et}=this,mt=m?m.start:d.start,St=d.decryptdata,Ot=this.frag,zt=!(Ot&&d.cc===Ot.cc),hn=!(Ot&&G.level===Ot.level),ln=Ot?G.sn-Ot.sn:-1,En=this.part?G.part-this.part.index:-1,Hn=!hn&&(1===ln||0===ln&&(1===En||0===ln&&G.id>1&&G.id===Ot?.stats.chunkCount&&En<=0)),Rn=self.performance.now();(hn||ln||0===d.stats.parsing.start)&&(d.stats.parsing.start=Rn),m&&(En||!Hn)&&(m.stats.parsing.start=Rn);const $n=!(Ot&&(null==(me=d.initSegment)?void 0:me.url)===(null==(ze=Ot.initSegment)?void 0:ze.url)),ii=new Zm(zt,Hn,I,hn,mt,$n);if(!Hn||zt||$n){Bt.log(`[transmuxer-interface, ${d.type}]: Starting new transmux session for sn: ${G.sn} p: ${G.part} level: ${G.level} id: ${G.id}\n        discontinuity: ${zt}\n        trackSwitch: ${hn}\n        contiguous: ${Hn}\n        accurateTimeOffset: ${I}\n        timeOffset: ${mt}\n        initSegmentChange: ${$n}`);const kn=new mE(i,o,e,b,ne);this.configureTransmuxer(kn)}if(this.frag=d,this.part=m,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:n,decryptdata:St,chunkMeta:G,state:ii},n instanceof ArrayBuffer?[n]:[]);else if(et){const kn=et.push(n,St,G,ii);lh(kn)?(et.async=!0,kn.then(Ei=>{this.handleTransmuxComplete(Ei)}).catch(Ei=>{this.transmuxerError(Ei,G,"transmuxer-interface push error")})):(et.async=!1,this.handleTransmuxComplete(kn))}}flush(n){n.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:n});else if(e){let i=e.flush(n);lh(i)||e.async?(lh(i)||(i=Promise.resolve(i)),i.then(d=>{this.handleFlushResult(d,n)}).catch(d=>{this.transmuxerError(d,n,"transmuxer-interface flush error")})):this.handleFlushResult(i,n)}}transmuxerError(n,e,i){this.hls&&(this.error=n,this.hls.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:n,err:n,reason:i}))}handleFlushResult(n,e){n.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(e)}onWorkerMessage(n){const e=n.data,i=this.hls;switch(e.event){case"init":{var o;const d=null==(o=this.workerContext)?void 0:o.objectURL;d&&self.URL.revokeObjectURL(d);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":Bt[e.data.logType]&&Bt[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data)}}configureTransmuxer(n){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:n}):e&&e.configure(n)}handleTransmuxComplete(n){n.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(n)}}class L_{constructor(n,e,i,o){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=n,this.media=e,this.fragmentTracker=i,this.hls=o}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(n,e){const{config:i,media:o,stalled:d}=this;if(null===o)return;const{currentTime:m,seeking:b}=o,I=this.seeking&&!b,G=!this.seeking&&b;if(this.seeking=b,m!==n){if(this.moved=!0,null!==d){if(this.stallReported){const zt=self.performance.now()-d;Bt.warn(`playback not stuck anymore @${m}, after ${Math.round(zt)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(G||I)return void(this.stalled=null);if(o.paused&&!b||o.ended||0===o.playbackRate||!Kr.getBuffered(o).length)return;const ne=Kr.bufferInfo(o,m,0),ze=ne.nextStart||0;if(!(ne.len>0||ze))return;if(b){const zt=ne.len>2,hn=!ze||e&&e.start<=m||ze-m>2&&!this.fragmentTracker.getPartialFragment(m);if(zt||hn)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var et;const zt=Math.max(ze,ne.start||0)-m,hn=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,En=(null==hn||null==(et=hn.details)?void 0:et.live)?2*hn.details.targetduration:2,Dn=this.fragmentTracker.getPartialFragment(m);if(zt>0&&(zt<=En||Dn))return void this._trySkipBufferHole(Dn)}const mt=self.performance.now();if(null===d)return void(this.stalled=mt);const St=mt-d;if(!b&&St>=250&&(this._reportStall(ne),!this.media))return;const Ot=Kr.bufferInfo(o,m,i.maxBufferHole);this._tryFixBufferStall(Ot,St)}_tryFixBufferStall(n,e){const{config:i,fragmentTracker:o,media:d}=this;if(null===d)return;const m=d.currentTime,b=o.getPartialFragment(m);b&&(this._trySkipBufferHole(b)||!this.media)||(n.len>i.maxBufferHole||n.nextStart&&n.nextStart-m<i.maxBufferHole)&&e>1e3*i.highBufferWatchdogPeriod&&(Bt.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(n){const{hls:e,media:i,stallReported:o}=this;if(!o&&i){this.stallReported=!0;const d=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${JSON.stringify(n)})`);Bt.warn(d.message),e.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.BUFFER_STALLED_ERROR,fatal:!1,error:d,buffer:n.len})}}_trySkipBufferHole(n){const{config:e,hls:i,media:o}=this;if(null===o)return 0;const d=o.currentTime,m=Kr.bufferInfo(o,d,0),b=d<m.start?m.start:m.nextStart;if(b){const ne=b-d;if(ne>0&&(m.len<=e.maxBufferHole||m.len>0&&m.len<1&&o.readyState<3)){if(ne>e.maxBufferHole){const{fragmentTracker:ze}=this;let et=!1;if(0===d){const mt=ze.getAppendedFrag(0,"main");mt&&b<mt.end&&(et=!0)}if(!et){const mt=n||ze.getAppendedFrag(d,"main");if(mt){let St=!1,Ot=mt.end;for(;Ot<b;){const zt=ze.getPartialFragment(Ot);if(!zt){St=!0;break}Ot+=zt.duration}if(St)return 0}}}const me=Math.max(b+.05,d+.1);if(Bt.warn(`skipping hole, adjusting currentTime from ${d} to ${me}`),this.moved=!0,this.stalled=null,o.currentTime=me,n&&!n.gap){const ze=new Error(`fragment loaded with buffer holes, seeking from ${d} to ${me}`);i.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:ze,reason:ze.message,frag:n})}return me}}return 0}_tryNudgeBuffer(){const{config:n,hls:e,media:i,nudgeRetry:o}=this;if(null===i)return;const d=i.currentTime;if(this.nudgeRetry++,o<n.nudgeMaxRetry){const m=d+(o+1)*n.nudgeOffset,b=new Error(`Nudging 'currentTime' from ${d} to ${m}`);Bt.warn(b.message),i.currentTime=m,e.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.BUFFER_NUDGE_ON_STALL,error:b,fatal:!1})}else{const m=new Error(`Playhead still not moving while enough data buffered @${d} after ${n.nudgeMaxRetry} nudges`);Bt.error(m.message),e.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.BUFFER_STALLED_ERROR,error:m,fatal:!0})}}}class qm extends bn{constructor(n,e,i){super(n,e,i,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Rt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.on(Rt.ERROR,this.onError,this),n.on(Rt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(Rt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(Rt.BUFFER_CREATED,this.onBufferCreated,this),n.on(Rt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(Rt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Rt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.off(Rt.ERROR,this.onError,this),n.off(Rt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(Rt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(Rt.BUFFER_CREATED,this.onBufferCreated,this),n.off(Rt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(Rt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(n){if(this.levels){const{lastCurrentTime:e,hls:i}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let o=i.startLevel;-1===o&&(i.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=i.nextAutoLevel),this.level=i.nextLoadLevel=o,this.loadedmetadata=!1}e>0&&-1===n&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),n=e),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var n;const{levels:i,level:o}=this,d=null==i||null==(n=i[o])?void 0:n.details;if(d&&(!d.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(d))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const i=self.performance.now(),o=this.retryDate;(!o||i>=o||null!=(e=this.media)&&e.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:n,levelLastLoaded:e,levels:i,media:o}=this,{config:d,nextLoadLevel:m}=n;if(null===e||!o&&(this.startFragRequested||!d.startFragPrefetch)||this.altAudio&&this.audioOnly||null==i||!i[m])return;const b=i[m],I=this.getMainFwdBufferInfo();if(null===I)return;const G=this.getLevelDetails();if(G&&this._streamEnded(I,G)){const Ot={};return this.altAudio&&(Ot.type="video"),this.hls.trigger(Rt.BUFFER_EOS,Ot),void(this.state="ENDED")}n.loadLevel!==m&&-1===n.manualLevel&&this.log(`Adapting to level ${m} from level ${this.level}`),this.level=n.nextLoadLevel=m;const ne=b.details;if(!ne||"WAITING_LEVEL"===this.state||ne.live&&this.levelLastLoaded!==m)return this.level=m,void(this.state="WAITING_LEVEL");const me=I.len,ze=this.getMaxBufferLength(b.maxBitrate);if(me>=ze)return;this.backtrackFragment&&this.backtrackFragment.start>I.end&&(this.backtrackFragment=null);const et=this.backtrackFragment?this.backtrackFragment.start:I.end;let mt=this.getNextFragment(et,ne);if(this.couldBacktrack&&!this.fragPrevious&&mt&&"initSegment"!==mt.sn&&"OK"!==this.fragmentTracker.getState(mt)){var St;const zt=(null!=(St=this.backtrackFragment)?St:mt).sn-ne.startSN,hn=ne.fragments[zt-1];hn&&mt.cc===hn.cc&&(mt=hn,this.fragmentTracker.removeFragment(hn))}else this.backtrackFragment&&I.len&&(this.backtrackFragment=null);if(mt&&this.isLoopLoading(mt,et)){if(!mt.gap){const zt=this.audioOnly&&!this.altAudio?"audio":"video",hn=("video"===zt?this.videoBuffer:this.mediaBuffer)||this.media;hn&&this.afterBufferFlushed(hn,zt,"main")}mt=this.getNextFragmentLoopLoading(mt,ne,I,"main",ze)}mt&&(mt.initSegment&&!mt.initSegment.data&&!this.bitrateTest&&(mt=mt.initSegment),this.loadFragment(mt,b,et))}loadFragment(n,e,i){const o=this.fragmentTracker.getState(n);this.fragCurrent=n,"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===n.sn?this._loadInitSegment(n,e):this.bitrateTest?(this.log(`Fragment ${n.sn} of level ${n.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(n,e)):(this.startFragRequested=!0,super.loadFragment(n,e,i)):this.clearTrackerIfNeeded(n)}getBufferedFrag(n){return this.fragmentTracker.getBufferedFrag(n,"main")}followingBufferedFrag(n){return n?this.getBufferedFrag(n.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:n,media:e}=this;if(null!=e&&e.readyState){let i;const o=this.getAppendedFrag(e.currentTime);o&&o.start>1&&this.flushMainBuffer(0,o.start-1);const d=this.getLevelDetails();if(null!=d&&d.live){const b=this.getMainFwdBufferInfo();if(!b||b.len<2*d.targetduration)return}if(!e.paused&&n){const G=this.fragLastKbps;i=G&&this.fragCurrent?this.fragCurrent.duration*n[this.hls.nextLoadLevel].maxBitrate/(1e3*G)+1:0}else i=0;const m=this.getBufferedFrag(e.currentTime+i);if(m){const b=this.followingBufferedFrag(m);if(b){this.abortCurrentFrag();const G=b.duration,ne=Math.max(m.end,(b.maxStartPTS?b.maxStartPTS:b.start)+Math.min(Math.max(G-this.config.maxFragLookUpTolerance,.5*G),.75*G));this.flushMainBuffer(ne,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const n=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,n&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(n,e){super.flushMainBuffer(n,e,this.altAudio?"video":null)}onMediaAttached(n,e){super.onMediaAttached(n,e);const i=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new L_(this.config,i,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:n}=this;n&&this.onvplaying&&this.onvseeked&&(n.removeEventListener("playing",this.onvplaying),n.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const n=this.media,e=n?n.currentTime:null;yi(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const i=this.getMainFwdBufferInfo();null!==i&&0!==i.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${i?i.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Rt.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(n,e){let d,i=!1,o=!1;e.levels.forEach(m=>{d=m.audioCodec,d&&(-1!==d.indexOf("mp4a.40.2")&&(i=!0),-1!==d.indexOf("mp4a.40.5")&&(o=!0))}),this.audioCodecSwitch=i&&o&&!function _i(){var r;const n=Nn();return"function"==typeof(null==n||null==(r=n.prototype)?void 0:r.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(n,e){const{levels:i}=this;if(!i||"IDLE"!==this.state)return;const o=i[e.level];(!o.details||o.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(o.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(n,e){var i;const{levels:o}=this,d=e.level,m=e.details,b=m.totalduration;if(!o)return void this.warn(`Levels were reset while loading level ${d}`);this.log(`Level ${d} loaded [${m.startSN},${m.endSN}]${m.lastPartSn?`[part-${m.lastPartSn}-${m.lastPartIndex}]`:""}, cc [${m.startCC}, ${m.endCC}] duration:${b}`);const I=o[d],G=this.fragCurrent;G&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(G.level!==e.level||G.urlId!==I.urlId)&&G.loader&&this.abortCurrentFrag();let ne=0;if(m.live||null!=(i=I.details)&&i.live){if(m.fragments[0]||(m.deltaUpdateFailed=!0),m.deltaUpdateFailed)return;ne=this.alignPlaylists(m,I.details)}if(I.details=m,this.levelLastLoaded=d,this.hls.trigger(Rt.LEVEL_UPDATED,{details:m,level:d}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(m))return;this.state="IDLE"}this.startFragRequested?m.live&&this.synchronizeToLiveEdge(m):this.setStartPosition(m,ne),this.tick()}_handleFragmentLoadProgress(n){var e;const{frag:i,part:o,payload:d}=n,{levels:m}=this;if(!m)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const b=m[i.level],I=b.details;if(!I)return this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),void this.fragmentTracker.removeFragment(i);const G=b.videoCodec,ne=I.PTSKnown||!I.live,me=null==(e=i.initSegment)?void 0:e.data,ze=this._getAudioCodec(b),et=this.transmuxer=this.transmuxer||new R_(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),mt=o?o.index:-1,Ot=new Uc(i.level,i.sn,i.stats.chunkCount,d.byteLength,mt,-1!==mt);et.push(d,me,ze,G,i,o,I.totalduration,ne,Ot,this.initPTS[i.cc])}onAudioTrackSwitching(n,e){const i=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const m=this.fragCurrent;m&&(this.log("Switching to main audio track, cancel main fragment load"),m.abortRequests(),this.fragmentTracker.removeFragment(m)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const d=this.hls;i&&(d.trigger(Rt.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),d.trigger(Rt.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(n,e){const o=!!this.hls.audioTracks[e.id].url;if(o){const d=this.videoBuffer;d&&this.mediaBuffer!==d&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=d)}this.altAudio=o,this.tick()}onBufferCreated(n,e){const i=e.tracks;let o,d,m=!1;for(const b in i){const I=i[b];if("main"===I.id){if(d=b,o=I,"video"===b){const G=i[b];G&&(this.videoBuffer=G.buffer)}}else m=!0}m&&o?(this.log(`Alternate track found, use ${d}.buffered to schedule main fragment loading`),this.mediaBuffer=o.buffer):this.mediaBuffer=this.media}onFragBuffered(n,e){const{frag:i,part:o}=e;if(i&&"main"!==i.type)return;if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const d=o?o.stats:i.stats;this.fragLastKbps=Math.round(8*d.total/(d.buffering.end-d.loading.first)),"initSegment"!==i.sn&&(this.fragPrevious=i),this.fragBufferedComplete(i,o)}onError(n,e){var i;if(e.fatal)this.state="ERROR";else switch(e.details){case wn.FRAG_GAP:case wn.FRAG_PARSING_ERROR:case wn.FRAG_DECRYPT_ERROR:case wn.FRAG_LOAD_ERROR:case wn.FRAG_LOAD_TIMEOUT:case wn.KEY_LOAD_ERROR:case wn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",e);break;case wn.LEVEL_LOAD_ERROR:case wn.LEVEL_LOAD_TIMEOUT:case wn.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(i=e.context)?void 0:i.type)&&(this.state="IDLE");break;case wn.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case wn.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:n,gapController:e}=this;n&&e&&n.readyState&&(!this.loadedmetadata&&Kr.getBuffered(n).length||e.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=n.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(n,{type:e}){("audio"!==e||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===e?this.videoBuffer:this.mediaBuffer)||this.media,e,"main")}onLevelsUpdated(n,e){this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:n}=this;if(!n)return;const e=n.currentTime;let i=this.startPosition;if(i>=0&&e<i){if(n.seeking)return void this.log(`could not seek to ${i}, already seeking at ${e}`);const o=Kr.getBuffered(n),m=(o.length?o.start(0):0)-i;m>0&&(m<this.config.maxBufferHole||m<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${m} to match buffer start`),i+=m,this.startPosition=i),this.log(`seek to target start position ${i} from current time ${e}`),n.currentTime=i}}_getAudioCodec(n){let e=this.config.defaultAudioCodec||n.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(n,e){n.bitrateTest=!0,this._doFragLoad(n,e).then(i=>{const{hls:o}=this;if(!i||this.fragContextChanged(n))return;e.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const d=n.stats;d.parsing.start=d.parsing.end=d.buffering.start=d.buffering.end=self.performance.now(),o.trigger(Rt.FRAG_LOADED,i),n.bitrateTest=!1})}_handleTransmuxComplete(n){var e;const i="main",{hls:o}=this,{remuxResult:d,chunkMeta:m}=n,b=this.getCurrentContext(m);if(!b)return void this.resetWhenMissingContext(m);const{frag:I,part:G,level:ne}=b,{video:me,text:ze,id3:et,initSegment:mt}=d,{details:St}=ne,Ot=this.altAudio?void 0:d.audio;if(this.fragContextChanged(I))this.fragmentTracker.removeFragment(I);else{if(this.state="PARSING",mt){if(null!=mt&&mt.tracks){const ln=I.initSegment||I;this._bufferInitSegment(ne,mt.tracks,ln,m),o.trigger(Rt.FRAG_PARSING_INIT_SEGMENT,{frag:ln,id:i,tracks:mt.tracks})}const zt=mt.initPTS,hn=mt.timescale;yi(zt)&&(this.initPTS[I.cc]={baseTime:zt,timescale:hn},o.trigger(Rt.INIT_PTS_FOUND,{frag:I,id:i,initPTS:zt,timescale:hn}))}if(me&&St&&"initSegment"!==I.sn){const zt=St.fragments[I.sn-1-St.startSN],hn=I.sn===St.startSN,ln=!zt||I.cc>zt.cc;if(!1!==d.independent){const{startPTS:En,endPTS:Dn,startDTS:Hn,endDTS:Rn}=me;if(G)G.elementaryStreams[me.type]={startPTS:En,endPTS:Dn,startDTS:Hn,endDTS:Rn};else if(me.firstKeyFrame&&me.independent&&1===m.id&&!ln&&(this.couldBacktrack=!0),me.dropped&&me.independent){const $n=this.getMainFwdBufferInfo(),ii=($n?$n.end:this.getLoadPosition())+this.config.maxBufferHole;if(!hn&&ii<(me.firstKeyFramePTS?me.firstKeyFramePTS:En)-this.config.maxBufferHole&&!ln)return void this.backtrack(I);ln&&(I.gap=!0),I.setElementaryStreamInfo(me.type,I.start,Dn,I.start,Rn,!0)}I.setElementaryStreamInfo(me.type,En,Dn,Hn,Rn),this.backtrackFragment&&(this.backtrackFragment=I),this.bufferFragmentData(me,I,G,m,hn||ln)}else{if(!hn&&!ln)return void this.backtrack(I);I.gap=!0}}if(Ot){const{startPTS:zt,endPTS:hn,startDTS:ln,endDTS:En}=Ot;G&&(G.elementaryStreams.audio={startPTS:zt,endPTS:hn,startDTS:ln,endDTS:En}),I.setElementaryStreamInfo("audio",zt,hn,ln,En),this.bufferFragmentData(Ot,I,G,m)}St&&null!=et&&null!=(e=et.samples)&&e.length&&o.trigger(Rt.FRAG_PARSING_METADATA,{id:i,frag:I,details:St,samples:et.samples}),St&&ze&&o.trigger(Rt.FRAG_PARSING_USERDATA,{id:i,frag:I,details:St,samples:ze.samples})}}_bufferInitSegment(n,e,i,o){if("PARSING"!==this.state)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:d,video:m,audiovideo:b}=e;if(d){let I=n.audioCodec;const G=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(I&&(I=-1!==I.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==d.metadata.channelCount&&-1===G.indexOf("firefox")&&(I="mp4a.40.5")),-1!==G.indexOf("android")&&"audio/mpeg"!==d.container&&(I="mp4a.40.2",this.log(`Android: force audio codec to ${I}`)),n.audioCodec&&n.audioCodec!==I&&this.log(`Swapping manifest audio codec "${n.audioCodec}" for "${I}"`),d.levelCodec=I,d.id="main",this.log(`Init audio buffer, container:${d.container}, codecs[selected/level/parsed]=[${I||""}/${n.audioCodec||""}/${d.codec}]`)}m&&(m.levelCodec=n.videoCodec,m.id="main",this.log(`Init video buffer, container:${m.container}, codecs[level/parsed]=[${n.videoCodec||""}/${m.codec}]`)),b&&this.log(`Init audiovideo buffer, container:${b.container}, codecs[level/parsed]=[${n.attrs.CODECS||""}/${b.codec}]`),this.hls.trigger(Rt.BUFFER_CODECS,e),Object.keys(e).forEach(I=>{const ne=e[I].initSegment;null!=ne&&ne.byteLength&&this.hls.trigger(Rt.BUFFER_APPENDING,{type:I,data:ne,frag:i,part:null,chunkMeta:o,parent:i.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(n){this.couldBacktrack=!0,this.backtrackFragment=n,this.resetTransmuxer(),this.flushBufferGap(n),this.fragmentTracker.removeFragment(n),this.fragPrevious=null,this.nextLoadPosition=n.start,this.state="IDLE"}checkFragmentChanged(){const n=this.media;let e=null;if(n&&n.readyState>1&&!1===n.seeking){const i=n.currentTime;if(Kr.isBuffered(n,i)?e=this.getAppendedFrag(i):Kr.isBuffered(n,i+.1)&&(e=this.getAppendedFrag(i+.1)),e){this.backtrackFragment=null;const o=this.fragPlaying,d=e.level;(!o||e.sn!==o.sn||o.level!==d||e.urlId!==o.urlId)&&(this.fragPlaying=e,this.hls.trigger(Rt.FRAG_CHANGED,{frag:e}),(!o||o.level!==d)&&this.hls.trigger(Rt.LEVEL_SWITCHED,{level:d}))}}}get nextLevel(){const n=this.nextBufferedFrag;return n?n.level:-1}get currentFrag(){const n=this.media;return n?this.fragPlaying||this.getAppendedFrag(n.currentTime):null}get currentProgramDateTime(){const n=this.media;if(n){const e=n.currentTime,i=this.currentFrag;if(i&&yi(e)&&yi(i.programDateTime))return new Date(i.programDateTime+1e3*(e-i.start))}return null}get currentLevel(){const n=this.currentFrag;return n?n.level:-1}get nextBufferedFrag(){const n=this.currentFrag;return n?this.followingBufferedFrag(n):null}get forceStartLoad(){return this._forceStartLoad}}class _d{constructor(n,e=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=n,this.alpha_=n?Math.exp(Math.log(.5)/n):0,this.estimate_=e,this.totalWeight_=i}sample(n,e){const i=Math.pow(this.alpha_,n);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=n}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const n=1-Math.pow(this.alpha_,this.totalWeight_);if(n)return this.estimate_/n}return this.estimate_}}class uh{constructor(n,e,i,o=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new _d(n),this.fast_=new _d(e),this.defaultTTFB_=o,this.ttfb_=new _d(n)}update(n,e){const{slow_:i,fast_:o,ttfb_:d}=this;i.halfLife!==n&&(this.slow_=new _d(n,i.getEstimate(),i.getTotalWeight())),o.halfLife!==e&&(this.fast_=new _d(e,o.getEstimate(),o.getTotalWeight())),d.halfLife!==n&&(this.ttfb_=new _d(n,d.getEstimate(),d.getTotalWeight()))}sample(n,e){const o=(n=Math.max(n,this.minDelayMs_))/1e3,d=8*e/o;this.fast_.sample(o,d),this.slow_.sample(o,d)}sampleTTFB(n){const e=n/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(i,Math.max(n,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class Jm{constructor(){this.chunks=[],this.dataLength=0}push(n){this.chunks.push(n),this.dataLength+=n.length}flush(){const{chunks:n,dataLength:e}=this;let i;return n.length?(i=1===n.length?n[0]:function Qm(r,n){const e=new Uint8Array(n);let i=0;for(let o=0;o<r.length;o++){const d=r[o];e.set(d,i),i+=d.length}return e}(n,e),this.reset(),i):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function zd(r,n){if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++)if(!gE(r[e].attrs,n[e].attrs))return!1;return!0}function gE(r,n){const e=r["STABLE-RENDITION-ID"];return e?e===n["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(i=>r[i]!==n[i])}class vE{constructor(n){this.buffered=void 0;const e=(i,o,d)=>{if((o>>>=0)>d-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${o}) is greater than the maximum bound (${d})`);return n[o][i]};this.buffered={get length(){return n.length},end:i=>e("end",i,n.length),start:i=>e("start",i,n.length)}}}function fh(r){const n=[];for(let e=0;e<r.length;e++){const i=r[e];("subtitles"===i.kind||"captions"===i.kind)&&i.label&&n.push(r[e])}return n}class B_{constructor(n){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=n}append(n,e){const i=this.queues[e];i.push(n),1===i.length&&this.buffers[e]&&this.executeNext(e)}insertAbort(n,e){this.queues[e].unshift(n),this.executeNext(e)}appendBlocker(n){let e;const i=new Promise(d=>{e=d});return this.append({execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}},n),i}executeNext(n){const{buffers:e,queues:i}=this,o=e[n],d=i[n];if(d.length){const m=d[0];try{m.execute()}catch(b){Bt.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),m.onError(b),null!=o&&o.updating||(d.shift(),this.executeNext(n))}}}shiftAndExecuteNext(n){this.queues[n].shift(),this.executeNext(n)}current(n){return this.queues[n][0]}}const Qu=wc(),hh=/([ha]vc.)(?:\.[^.,]+)+/,U_={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},G_=function(n){let e=n;return U_.hasOwnProperty(n)&&(e=U_[n]),String.fromCharCode(e)},pc=100,tp={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},bE={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Xu={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},mh={25:2,26:4,29:6,30:8,31:10,27:13,28:15},np=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class H_{constructor(){this.time=null,this.verboseLevel=0}log(n,e){if(this.verboseLevel>=n){const i="function"==typeof e?e():e;Bt.log(`${this.time} [${n}] ${i}`)}}}const Kc=function(n){const e=[];for(let i=0;i<n.length;i++)e.push(n[i].toString(16));return e};class ip{constructor(n,e,i,o,d){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=n||"white",this.underline=e||!1,this.italics=i||!1,this.background=o||"black",this.flash=d||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(n){const e=["foreground","underline","italics","background","flash"];for(let i=0;i<e.length;i++){const o=e[i];n.hasOwnProperty(o)&&(this[o]=n[o])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(n){return this.foreground===n.foreground&&this.underline===n.underline&&this.italics===n.italics&&this.background===n.background&&this.flash===n.flash}copy(n){this.foreground=n.foreground,this.underline=n.underline,this.italics=n.italics,this.background=n.background,this.flash=n.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class vd{constructor(n,e,i,o,d,m){this.uchar=void 0,this.penState=void 0,this.uchar=n||" ",this.penState=new ip(e,i,o,d,m)}reset(){this.uchar=" ",this.penState.reset()}setChar(n,e){this.uchar=n,this.penState.copy(e)}setPenState(n){this.penState.copy(n)}equals(n){return this.uchar===n.uchar&&this.penState.equals(n.penState)}copy(n){this.uchar=n.uchar,this.penState.copy(n.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class EE{constructor(n){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let e=0;e<pc;e++)this.chars.push(new vd);this.logger=n,this.pos=0,this.currPenState=new ip}equals(n){let e=!0;for(let i=0;i<pc;i++)if(!this.chars[i].equals(n.chars[i])){e=!1;break}return e}copy(n){for(let e=0;e<pc;e++)this.chars[e].copy(n.chars[e])}isEmpty(){let n=!0;for(let e=0;e<pc;e++)if(!this.chars[e].isEmpty()){n=!1;break}return n}setCursor(n){this.pos!==n&&(this.pos=n),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>pc&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=pc)}moveCursor(n){const e=this.pos+n;if(n>1)for(let i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(n){n>=144&&this.backSpace();const e=G_(n);this.pos>=pc?this.logger.log(0,()=>"Cannot insert "+n.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(n){let e;for(e=n;e<pc;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const n=[];let e=!0;for(let i=0;i<pc;i++){const o=this.chars[i].uchar;" "!==o&&(e=!1),n.push(o)}return e?"":n.join("")}setPenStyles(n){this.currPenState.setStyles(n),this.chars[this.pos].setPenState(this.currPenState)}}class rp{constructor(n){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let e=0;e<15;e++)this.rows.push(new EE(n));this.logger=n,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let n=0;n<15;n++)this.rows[n].clear();this.currRow=14}equals(n){let e=!0;for(let i=0;i<15;i++)if(!this.rows[i].equals(n.rows[i])){e=!1;break}return e}copy(n){for(let e=0;e<15;e++)this.rows[e].copy(n.rows[e])}isEmpty(){let n=!0;for(let e=0;e<15;e++)if(!this.rows[e].isEmpty()){n=!1;break}return n}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(n){this.rows[this.currRow].insertChar(n)}setPen(n){this.rows[this.currRow].setPenStyles(n)}moveCursor(n){this.rows[this.currRow].moveCursor(n)}setCursor(n){this.logger.log(2,"setCursor: "+n),this.rows[this.currRow].setCursor(n)}setPAC(n){this.logger.log(2,()=>"pacData = "+JSON.stringify(n));let e=n.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let b=0;b<15;b++)this.rows[b].clear();const d=this.currRow+1-this.nrRollUpRows,m=this.lastOutputScreen;if(m){const b=m.rows[d].cueStartTime,I=this.logger.time;if(b&&null!==I&&b<I)for(let G=0;G<this.nrRollUpRows;G++)this.rows[e-this.nrRollUpRows+G+1].copy(m.rows[d+G])}}this.currRow=e;const i=this.rows[this.currRow];if(null!==n.indent){const m=Math.max(n.indent-1,0);i.setCursor(n.indent),n.color=i.chars[m].penState.foreground}this.setPen({foreground:n.color,underline:n.underline,italics:n.italics,background:"black",flash:!1})}setBkgData(n){this.logger.log(2,()=>"bkgData = "+JSON.stringify(n)),this.backSpace(),this.setPen(n),this.insertChar(32)}setRollUpRows(n){this.nrRollUpRows=n}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const e=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(n){n=n||!1;const e=[];let i="",o=-1;for(let d=0;d<15;d++){const m=this.rows[d].getTextString();m&&(o=d+1,e.push(n?"Row "+o+": '"+m+"'":m.trim()))}return e.length>0&&(i=n?"["+e.join(" | ")+"]":e.join("\n")),i}getTextAndFormat(){return this.rows}}class j_{constructor(n,e,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=n,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new rp(i),this.nonDisplayedMemory=new rp(i),this.lastOutputScreen=new rp(i),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(n){this.outputFilter=n}setPAC(n){this.writeScreen.setPAC(n)}setBkgData(n){this.writeScreen.setBkgData(n)}setMode(n){n!==this.mode&&(this.mode=n,this.logger.log(2,()=>"MODE="+n),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=n)}insertChars(n){for(let i=0;i<n.length;i++)this.writeScreen.insertChar(n[i]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>e+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(n){this.logger.log(2,"RU("+n+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(n)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const n=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=n,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(n){this.logger.log(2,"TO("+n+") - Tab Offset"),this.writeScreen.moveCursor(n)}ccMIDROW(n){const e={flash:!1};if(e.underline=n%2==1,e.italics=n>=46,e.italics)e.foreground="white";else{const i=Math.floor(n/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(n=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),n&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(n){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,n,this.displayedMemory),this.cueStartTime=n))}}class V_{constructor(n,e,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const o=new H_;this.channels=[null,new j_(n,e,o),new j_(n+1,i,o)],this.cmdHistory={a:null,b:null},this.logger=o}getHandler(n){return this.channels[n].getHandler()}setHandler(n,e){this.channels[n].setHandler(e)}addData(n,e){let i,o,d,m=!1;this.logger.time=n;for(let b=0;b<e.length;b+=2)if(o=127&e[b],d=127&e[b+1],0!==o||0!==d){if(this.logger.log(3,"["+Kc([e[b],e[b+1]])+"] -> ("+Kc([o,d])+")"),i=this.parseCmd(o,d),i||(i=this.parseMidrow(o,d)),i||(i=this.parsePAC(o,d)),i||(i=this.parseBackgroundAttributes(o,d)),!i&&(m=this.parseChars(o,d),m)){const I=this.currentChannel;I&&I>0?this.channels[I].insertChars(m):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!i&&!m&&this.logger.log(2,"Couldn't parse cleaned data "+Kc([o,d])+" orig: "+Kc([e[b],e[b+1]]))}}parseCmd(n,e){const{cmdHistory:i}=this;if(!((20===n||28===n||21===n||29===n)&&e>=32&&e<=47||(23===n||31===n)&&e>=33&&e<=35))return!1;if(zl(n,e,i))return $d(null,null,i),this.logger.log(3,"Repeated command ("+Kc([n,e])+") is dropped"),!0;const m=20===n||21===n||23===n?1:2,b=this.channels[m];return 20===n||21===n||28===n||29===n?32===e?b.ccRCL():33===e?b.ccBS():34===e?b.ccAOF():35===e?b.ccAON():36===e?b.ccDER():37===e?b.ccRU(2):38===e?b.ccRU(3):39===e?b.ccRU(4):40===e?b.ccFON():41===e?b.ccRDC():42===e?b.ccTR():43===e?b.ccRTD():44===e?b.ccEDM():45===e?b.ccCR():46===e?b.ccENM():47===e&&b.ccEOC():b.ccTO(e-32),$d(n,e,i),this.currentChannel=m,!0}parseMidrow(n,e){let i=0;if((17===n||25===n)&&e>=32&&e<=47){if(i=17===n?1:2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const o=this.channels[i];return!!o&&(o.ccMIDROW(e),this.logger.log(3,"MIDROW ("+Kc([n,e])+")"),!0)}return!1}parsePAC(n,e){let i;const o=this.cmdHistory;if(!((n>=17&&n<=23||n>=25&&n<=31)&&e>=64&&e<=127||(16===n||24===n)&&e>=64&&e<=95))return!1;if(zl(n,e,o))return $d(null,null,o),!0;const b=n<=23?1:2;i=e>=64&&e<=95?1===b?tp[n]:Xu[n]:1===b?bE[n]:mh[n];const I=this.channels[b];return!!I&&(I.setPAC(this.interpretPAC(i,e)),$d(n,e,o),this.currentChannel=b,!0)}interpretPAC(n,e){let i;const o={color:null,italics:!1,indent:null,underline:!1,row:n};return i=e>95?e-96:e-64,o.underline=1==(1&i),i<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(o.italics=!0,o.color="white"):o.indent=4*Math.floor((i-16)/2),o}parseChars(n,e){let i,o=null,d=null;if(n>=25?(i=2,d=n-8):(i=1,d=n),d>=17&&d<=19){let m;m=17===d?e+80:18===d?e+112:e+144,this.logger.log(2,"Special char '"+G_(m)+"' in channel "+i),o=[m]}else n>=32&&n<=127&&(o=0===e?[n]:[n,e]);if(o){const m=Kc(o);this.logger.log(3,"Char codes =  "+m.join(",")),$d(n,e,this.cmdHistory)}return o}parseBackgroundAttributes(n,e){if(!((16===n||24===n)&&e>=32&&e<=47||(23===n||31===n)&&e>=45&&e<=47))return!1;let d;const m={};return 16===n||24===n?(d=Math.floor((e-32)/2),m.background=np[d],e%2==1&&(m.background=m.background+"_semi")):45===e?m.background="transparent":(m.foreground="black",47===e&&(m.underline=!0)),this.channels[n<=23?1:2].setBkgData(m),$d(n,e,this.cmdHistory),!0}reset(){for(let n=0;n<Object.keys(this.channels).length;n++){const e=this.channels[n];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(n){for(let e=0;e<this.channels.length;e++){const i=this.channels[e];i&&i.cueSplitAtTime(n)}}}function $d(r,n,e){e.a=r,e.b=n}function zl(r,n,e){return e.a===r&&e.b===n}class ph{constructor(n,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=n,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(n,e,i){(null===this.startTime||this.startTime>n)&&(this.startTime=n),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var op=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const r=["","lr","rl"],n=["start","middle","end","left","right"];function e(b,I){if("string"!=typeof I||!Array.isArray(b))return!1;const G=I.toLowerCase();return!!~b.indexOf(G)&&G}function o(b){return e(n,b)}function d(b,...I){let G=1;for(;G<arguments.length;G++){const ne=arguments[G];for(const me in ne)b[me]=ne[me]}return b}function m(b,I,G){const ne=this,me={enumerable:!0};ne.hasBeenReset=!1;let ze="",et=!1,mt=b,St=I,Ot=G,zt=null,hn="",ln=!0,En="auto",Dn="start",Hn=50,Rn="middle",$n=50,ii="middle";Object.defineProperty(ne,"id",d({},me,{get:function(){return ze},set:function(kn){ze=""+kn}})),Object.defineProperty(ne,"pauseOnExit",d({},me,{get:function(){return et},set:function(kn){et=!!kn}})),Object.defineProperty(ne,"startTime",d({},me,{get:function(){return mt},set:function(kn){if("number"!=typeof kn)throw new TypeError("Start time must be set to a number.");mt=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"endTime",d({},me,{get:function(){return St},set:function(kn){if("number"!=typeof kn)throw new TypeError("End time must be set to a number.");St=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"text",d({},me,{get:function(){return Ot},set:function(kn){Ot=""+kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"region",d({},me,{get:function(){return zt},set:function(kn){zt=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"vertical",d({},me,{get:function(){return hn},set:function(kn){const Ei=function i(b){return e(r,b)}(kn);if(!1===Ei)throw new SyntaxError("An invalid or illegal string was specified.");hn=Ei,this.hasBeenReset=!0}})),Object.defineProperty(ne,"snapToLines",d({},me,{get:function(){return ln},set:function(kn){ln=!!kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"line",d({},me,{get:function(){return En},set:function(kn){if("number"!=typeof kn&&"auto"!==kn)throw new SyntaxError("An invalid number or illegal string was specified.");En=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"lineAlign",d({},me,{get:function(){return Dn},set:function(kn){const Ei=o(kn);if(!Ei)throw new SyntaxError("An invalid or illegal string was specified.");Dn=Ei,this.hasBeenReset=!0}})),Object.defineProperty(ne,"position",d({},me,{get:function(){return Hn},set:function(kn){if(kn<0||kn>100)throw new Error("Position must be between 0 and 100.");Hn=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"positionAlign",d({},me,{get:function(){return Rn},set:function(kn){const Ei=o(kn);if(!Ei)throw new SyntaxError("An invalid or illegal string was specified.");Rn=Ei,this.hasBeenReset=!0}})),Object.defineProperty(ne,"size",d({},me,{get:function(){return $n},set:function(kn){if(kn<0||kn>100)throw new Error("Size must be between 0 and 100.");$n=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"align",d({},me,{get:function(){return ii},set:function(kn){const Ei=o(kn);if(!Ei)throw new SyntaxError("An invalid or illegal string was specified.");ii=Ei,this.hasBeenReset=!0}})),ne.displayState=void 0}return m.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},m}();class TE{decode(n,e){if(!n)return"";if("string"!=typeof n)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}function K_(r){function n(i,o,d,m){return 3600*(0|i)+60*(0|o)+(0|d)+parseFloat(m||0)}const e=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return e?parseFloat(e[2])>59?n(e[2],e[3],0,e[4]):n(e[1],e[2],e[3],e[4]):null}class SE{constructor(){this.values=Object.create(null)}set(n,e){!this.get(n)&&""!==e&&(this.values[n]=e)}get(n,e,i){return i?this.has(n)?this.values[n]:e[i]:this.has(n)?this.values[n]:e}has(n){return n in this.values}alt(n,e,i){for(let o=0;o<i.length;++o)if(e===i[o]){this.set(n,e);break}}integer(n,e){/^-?\d+$/.test(e)&&this.set(n,parseInt(e,10))}percent(n,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const i=parseFloat(e);if(i>=0&&i<=100)return this.set(n,i),!0}return!1}}function W_(r,n,e,i){const o=i?r.split(i):[r];for(const d in o){if("string"!=typeof o[d])continue;const m=o[d].split(e);2===m.length&&n(m[0],m[1])}}const gh=new op(0,0,""),_h="middle"===gh.align?"middle":"center";function CE(r,n,e){const i=r;function o(){const b=K_(r);if(null===b)throw new Error("Malformed timestamp: "+i);return r=r.replace(/^[^\sa-zA-Z-]+/,""),b}function m(){r=r.replace(/^\s+/,"")}if(m(),n.startTime=o(),m(),"--\x3e"!==r.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);r=r.slice(3),m(),n.endTime=o(),m(),function d(b,I){const G=new SE;W_(b,function(ze,et){let mt;switch(ze){case"region":for(let St=e.length-1;St>=0;St--)if(e[St].id===et){G.set(ze,e[St].region);break}break;case"vertical":G.alt(ze,et,["rl","lr"]);break;case"line":mt=et.split(","),G.integer(ze,mt[0]),G.percent(ze,mt[0])&&G.set("snapToLines",!1),G.alt(ze,mt[0],["auto"]),2===mt.length&&G.alt("lineAlign",mt[1],["start",_h,"end"]);break;case"position":mt=et.split(","),G.percent(ze,mt[0]),2===mt.length&&G.alt("positionAlign",mt[1],["start",_h,"end","line-left","line-right","auto"]);break;case"size":G.percent(ze,et);break;case"align":G.alt(ze,et,["start",_h,"end","left","right"])}},/:/,/\s/),I.region=G.get("region",null),I.vertical=G.get("vertical","");let ne=G.get("line","auto");"auto"===ne&&-1===gh.line&&(ne=-1),I.line=ne,I.lineAlign=G.get("lineAlign","start"),I.snapToLines=G.get("snapToLines",!0),I.size=G.get("size",100),I.align=G.get("align",_h);let me=G.get("position","auto");"auto"===me&&50===gh.position&&(me="start"===I.align||"left"===I.align?0:"end"===I.align||"right"===I.align?100:50),I.position=me}(r,n)}function Y_(r){return r.replace(/<br(?: \/)?>/gi,"\n")}class DE{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new TE,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(n){const e=this;function i(){let d=e.buffer,m=0;for(d=Y_(d);m<d.length&&"\r"!==d[m]&&"\n"!==d[m];)++m;const b=d.slice(0,m);return"\r"===d[m]&&++m,"\n"===d[m]&&++m,e.buffer=d.slice(m),b}function o(d){W_(d,function(m,b){},/:/)}n&&(e.buffer+=e.decoder.decode(n,{stream:!0}));try{let d="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;d=i();const b=d.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==b||!b[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let m=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(m?m=!1:d=i(),e.state){case"HEADER":/:/.test(d)?o(d):d||(e.state="ID");continue;case"NOTE":d||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){e.state="NOTE";break}if(!d)continue;if(e.cue=new op(0,0,""),e.state="CUE",-1===d.indexOf("--\x3e")){e.cue.id=d;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{CE(d,e.cue,e.regionList)}catch{e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const b=-1!==d.indexOf("--\x3e");if(!d||b&&(m=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=d}continue;case"BADCUE":d||(e.state="ID")}}}catch{"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const n=this;try{if((n.cue||"HEADER"===n.state)&&(n.buffer+="\n\n",n.parse()),"INITIAL"===n.state||"BADWEBVTT"===n.state)throw new Error("Malformed WebVTT signature.")}catch(e){n.onparsingerror&&n.onparsingerror(e)}return n.onflush&&n.onflush(),this}}const vh=/\r\n|\n\r|\n|\r/g,pl=function(n,e,i=0){return n.slice(i,i+e.length)===e},yh=function(n){let e=5381,i=n.length;for(;i;)e=33*e^n.charCodeAt(--i);return(e>>>0).toString()};function bh(r,n,e){return yh(r.toString())+yh(n.toString())+yh(e)}const Z_="stpp.ttml.im1t",ME=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Eh=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,sp={left:"start",center:"center",right:"end",start:"start",end:"end"};function AE(r,n,e,i){const o=fr(new Uint8Array(r),["mdat"]);if(0===o.length)return void i(new Error("Could not parse IMSC1 mdat"));const d=o.map(b=>Yo(b)),m=function zm(r,n,e=1,i=!1){return Ku(r,n,1/e,i)}(n.baseTime,1,n.timescale);try{d.forEach(b=>e(function _A(r,n){const o=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const d={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},m=Object.keys(d).reduce((me,ze)=>(me[ze]=o.getAttribute(`ttp:${ze}`)||d[ze],me),{}),b="preserve"!==o.getAttribute("xml:space"),I=$_(Th(o,"styling","style")),G=$_(Th(o,"layout","region")),ne=Th(o,"body","[begin]");return[].map.call(ne,me=>{const ze=q_(me,b);if(!ze||!me.hasAttribute("begin"))return null;const et=qd(me.getAttribute("begin"),m),mt=qd(me.getAttribute("dur"),m);let St=qd(me.getAttribute("end"),m);if(null===et)throw lp(me);if(null===St){if(null===mt)throw lp(me);St=et+mt}const Ot=new op(et-n,St-n,ze);Ot.id=bh(Ot.startTime,Ot.endTime,Ot.text);const ln=function xE(r,n,e){const i="http://www.w3.org/ns/ttml#styling";let o=null;const m=null!=r&&r.hasAttribute("style")?r.getAttribute("style"):null;return m&&e.hasOwnProperty(m)&&(o=e[m]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((b,I)=>{const G=ap(n,i,I)||ap(r,i,I)||ap(o,i,I);return G&&(b[I]=G),b},{})}(G[me.getAttribute("region")],I[me.getAttribute("style")],I),{textAlign:En}=ln;if(En){const Dn=sp[En];Dn&&(Ot.lineAlign=Dn),Ot.align=En}return qr(Ot,ln),Ot}).filter(me=>null!==me)}(b,m)))}catch(b){i(b)}}function Th(r,n,e){const i=r.getElementsByTagName(n)[0];return i?[].slice.call(i.querySelectorAll(e)):[]}function $_(r){return r.reduce((n,e)=>{const i=e.getAttribute("xml:id");return i&&(n[i]=e),n},{})}function q_(r,n){return[].slice.call(r.childNodes).reduce((e,i,o)=>{var d;return"br"===i.nodeName&&o?e+"\n":null!=(d=i.childNodes)&&d.length?q_(i,n):n?e+i.textContent.trim().replace(/\s+/g," "):e+i.textContent},"")}function ap(r,n,e){return r&&r.hasAttributeNS(n,e)?r.getAttributeNS(n,e):null}function lp(r){return new Error(`Could not parse ttml timestamp ${r}`)}function qd(r,n){if(!r)return null;let e=K_(r);return null===e&&(ME.test(r)?e=function J_(r,n){const e=ME.exec(r);return 3600*(0|e[1])+60*(0|e[2])+(0|e[3])+((0|e[4])+(0|e[5])/n.subFrameRate)/n.frameRate}(r,n):Eh.test(r)&&(e=function cp(r,n){const e=Eh.exec(r),i=Number(e[1]);switch(e[2]){case"h":return 3600*i;case"m":return 60*i;case"ms":return 1e3*i;case"f":return i/n.frameRate;case"t":return i/n.tickRate}return i}(r,n))),e}function bd(r,n){return!!r&&r.label===n.name&&!(r.textTrack1||r.textTrack2)}function Q_(r,n,e,i){return Math.min(n,i)-Math.max(r,e)}class tf{constructor(n){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=n,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(n){this.streamController=n}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:n}=this;n.on(Rt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),n.on(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.BUFFER_CODECS,this.onBufferCodecs,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:n}=this;n.off(Rt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),n.off(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.BUFFER_CODECS,this.onBufferCodecs,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(n,e){const i=this.hls.levels[e.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(n,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null}onManifestParsed(n,e){const i=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,i.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onBufferCodecs(n,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const n=this.hls.levels;if(n.length){const e=this.hls;e.autoLevelCapping=this.getMaxLevel(n.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(n){const e=this.hls.levels;if(!e.length)return-1;const i=e.filter((o,d)=>this.isLevelAllowed(o)&&d<=n);return this.clientRect=null,tf.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const n=this.media,e={width:0,height:0};if(n){const i=n.getBoundingClientRect();e.width=i.width,e.height=i.height,!e.width&&!e.height&&(e.width=i.right-i.left||n.width||0,e.height=i.bottom-i.top||n.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let n=1;if(!this.hls.config.ignoreDevicePixelRatio)try{n=self.devicePixelRatio}catch{}return n}isLevelAllowed(n){return!this.restrictedLevels.some(i=>n.bitrate===i.bitrate&&n.width===i.width&&n.height===i.height)}static getMaxLevelByMediaSize(n,e,i){if(null==n||!n.length)return-1;const o=(m,b)=>!b||m.width!==b.width||m.height!==b.height;let d=n.length-1;for(let m=0;m<n.length;m+=1){const b=n[m];if((b.width>=e||b.height>=i)&&o(b,n[m+1])){d=m;break}}return d}}const Sh="[eme]";let wE=(()=>{class r{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=r.CDMCleanupPromise?[r.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=Bt.debug.bind(Bt,Sh),this.log=Bt.log.bind(Bt,Sh),this.warn=Bt.warn.bind(Bt,Sh),this.error=Bt.error.bind(Bt,Sh),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Rt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Rt.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Rt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Rt.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:i,widevineLicenseUrl:o}=this.config,d=i[e];if(d)return d.licenseUrl;if(e===kr.WIDEVINE&&o)return o;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:i}=this.config,o=i[e];if(o)return o.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const i=this.hls.levels,o=(b,I,G)=>!!b&&G.indexOf(b)===I,d=i.map(b=>b.audioCodec).filter(o),m=i.map(b=>b.videoCodec).filter(o);return d.length+m.length===0&&m.push("avc1.42e01e"),new Promise((b,I)=>{const G=ne=>{const me=ne.shift();this.getMediaKeysPromise(me,d,m).then(ze=>b({keySystem:me,mediaKeys:ze})).catch(ze=>{ne.length?G(ne):I(ze instanceof Ya?ze:new Ya({type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_NO_ACCESS,error:ze,fatal:!0},ze.message))})};G(e)})}requestMediaKeySystemAccess(e,i){const{requestMediaKeySystemAccessFunc:o}=this.config;if("function"!=typeof o){let d=`Configured requestMediaKeySystemAccess is not a function ${o}`;return null===ol&&"http:"===self.location.protocol&&(d=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(d))}return o(e,i)}getMediaKeysPromise(e,i,o){const d=function Ms(r,n,e,i){let o;switch(r){case kr.FAIRPLAY:o=["cenc","sinf"];break;case kr.WIDEVINE:case kr.PLAYREADY:o=["cenc"];break;case kr.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return function uo(r,n,e,i){return[{initDataTypes:r,persistentState:i.persistentState||"not-allowed",distinctiveIdentifier:i.distinctiveIdentifier||"not-allowed",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:n.map(d=>({contentType:`audio/mp4; codecs="${d}"`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:e.map(d=>({contentType:`video/mp4; codecs="${d}"`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}(o,n,e,i)}(e,i,o,this.config.drmSystemOptions),m=this.keySystemAccessPromises[e];let b=m?.keySystemAccess;if(!b){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(d)}`),b=this.requestMediaKeySystemAccess(e,d);const I=this.keySystemAccessPromises[e]={keySystemAccess:b};return b.catch(G=>{this.log(`Failed to obtain access to key-system "${e}": ${G}`)}),b.then(G=>{this.log(`Access for key-system "${G.keySystem}" obtained`);const ne=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),I.mediaKeys=G.createMediaKeys().then(me=>(this.log(`Media-keys created for "${e}"`),ne.then(ze=>ze?this.setMediaKeysServerCertificate(me,e,ze):me))),I.mediaKeys.catch(me=>{this.error(`Failed to create media-keys for "${e}"}: ${me}`)}),I.mediaKeys})}return b.then(()=>m.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:i,mediaKeys:o}){this.log(`Creating key-system session "${i}" keyId: ${zo_hexDump(e.keyId||[])}`);const d=o.createSession(),m={decryptdata:e,keySystem:i,mediaKeys:o,mediaKeysSession:d,keyStatus:"status-pending"};return this.mediaKeySessions.push(m),m}renewKeySession(e){const i=e.decryptdata;if(i.pssh){const o=this.createMediaKeySessionContext(e),d=this.getKeyIdString(i);this.keyIdToKeySessionPromise[d]=this.generateRequestWithPreferredKeySession(o,"cenc",i.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return zo_hexDump(e.keyId)}updateKeySession(e,i){var o;const d=e.mediaKeysSession;return this.log(`Updating key-session "${d.sessionId}" for keyID ${zo_hexDump((null==(o=e.decryptdata)?void 0:o.keyId)||[])}\n      } (data length: ${i&&i.byteLength})`),d.update(i)}selectKeySystemFormat(e){const i=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((i,o)=>{const d=rr(this.config),m=e.map(Cc).filter(b=>!!b&&-1!==d.indexOf(b));return this.getKeySystemSelectionPromise(m).then(({keySystem:b})=>{const I=Zn(b);I?i(I):o(new Error(`Unable to find format for key-system "${b}"`))}).catch(o)})}loadKey(e){const i=e.keyInfo.decryptdata,o=this.getKeyIdString(i),d=`(keyId: ${o} format: "${i.keyFormat}" method: ${i.method} uri: ${i.uri})`;this.log(`Starting session for key ${d}`);let m=this.keyIdToKeySessionPromise[o];return m||(m=this.keyIdToKeySessionPromise[o]=this.getKeySystemForKeyPromise(i).then(({keySystem:b,mediaKeys:I})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${d}`),this.attemptSetMediaKeys(b,I).then(()=>{this.throwIfDestroyed();const G=this.createMediaKeySessionContext({keySystem:b,mediaKeys:I,decryptdata:i});return this.generateRequestWithPreferredKeySession(G,"cenc",i.pssh,"playlist-key")}))),m.catch(b=>this.handleError(b))),m}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),this.hls.trigger(Rt.ERROR,e instanceof Ya?e.data:{type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const i=this.getKeyIdString(e),o=this.keyIdToKeySessionPromise[i];if(!o){const d=Cc(e.keyFormat),m=d?[d]:rr(this.config);return this.attemptKeySystemAccess(m)}return o}getKeySystemSelectionPromise(e){if(e.length||(e=rr(this.config)),0===e.length)throw new Ya({type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:i,initData:o}=e;if(this.debug(`"${e.type}" event: init data type: "${i}"`),null===o)return;let d,m;if("sinf"===i&&this.config.drmSystems[kr.FAIRPLAY]){const me=Qr(new Uint8Array(o));try{const ze=Jr(JSON.parse(me).sinf),et=Lo(new Uint8Array(ze));if(!et)return;d=et.subarray(8,24),m=kr.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const me=function Ea(r){if(!(r instanceof ArrayBuffer)||r.byteLength<32)return null;const n={version:0,systemId:"",kids:null,data:null},e=new DataView(r),i=e.getUint32(0);if(r.byteLength!==i&&i>44||1886614376!==e.getUint32(4)||(n.version=e.getUint32(8)>>>24,n.version>1))return null;n.systemId=zo_hexDump(new Uint8Array(r,12,16));const d=e.getUint32(28);if(0===n.version){if(i-32<d)return null;n.data=new Uint8Array(r,32,d)}else if(1===n.version){n.kids=[];for(let m=0;m<d;m++)n.kids.push(new Uint8Array(r,32+16*m,16))}return n}(o);if(null===me)return;0===me.version&&"edef8ba979d64acea3c827dcd51d21ed"===me.systemId&&me.data&&(d=me.data.subarray(8,24)),m=function nc(r){if("edef8ba979d64acea3c827dcd51d21ed"===r)return kr.WIDEVINE}(me.systemId)}if(!m||!d)return;const b=zo_hexDump(d),{keyIdToKeySessionPromise:I,mediaKeySessions:G}=this;let ne=I[b];for(let me=0;me<G.length;me++){const ze=G[me],et=ze.decryptdata;if(et.pssh||!et.keyId)continue;const mt=zo_hexDump(et.keyId);if(b===mt||-1!==et.uri.replace(/-/g,"").indexOf(b)){ne=I[mt],delete I[mt],et.pssh=new Uint8Array(o),et.keyId=d,ne=I[b]=ne.then(()=>this.generateRequestWithPreferredKeySession(ze,i,o,"encrypted-event-key-match"));break}}ne||(ne=I[b]=this.getKeySystemSelectionPromise([m]).then(({keySystem:me,mediaKeys:ze})=>{var et;this.throwIfDestroyed();const mt=new us("ISO-23001-7",b,null!=(et=Zn(me))?et:"");return mt.pssh=new Uint8Array(o),mt.keyId=d,this.attemptSetMediaKeys(me,ze).then(()=>{this.throwIfDestroyed();const St=this.createMediaKeySessionContext({decryptdata:mt,keySystem:me,mediaKeys:ze});return this.generateRequestWithPreferredKeySession(St,i,o,"encrypted-event-no-match")})})),ne.catch(me=>this.handleError(me))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,i){const o=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const d=Promise.all(o).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(i)});return this.setMediaKeysQueue.push(d),d.then(()=>{this.log(`Media-keys set for "${e}"`),o.push(d),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(m=>-1===o.indexOf(m))})}generateRequestWithPreferredKeySession(e,i,o,d){var m,b;const I=null==(m=this.config.drmSystems)||null==(b=m[e.keySystem])?void 0:b.generateRequest;if(I)try{const et=I.call(this.hls,i,o,e);if(!et)throw new Error("Invalid response from configured generateRequest filter");i=et.initDataType,o=e.decryptdata.pssh=et.initData?new Uint8Array(et.initData):null}catch(et){var G;if(this.warn(et.message),null!=(G=this.hls)&&G.config.debug)throw et}if(null===o)return this.log(`Skipping key-session request for "${d}" (no initData)`),Promise.resolve(e);const ne=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${d}": ${ne} (init data type: ${i} length: ${o?o.byteLength:null})`);const me=new ch;e.mediaKeysSession.onmessage=et=>{const mt=e.mediaKeysSession;if(!mt)return void me.emit("error",new Error("invalid state"));const{messageType:St,message:Ot}=et;this.log(`"${St}" message event for session "${mt.sessionId}" message size: ${Ot.byteLength}`),"license-request"===St||"license-renewal"===St?this.renewLicense(e,Ot).catch(zt=>{this.handleError(zt),me.emit("error",zt)}):"license-release"===St?e.keySystem===kr.FAIRPLAY&&(this.updateKeySession(e,Ds("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${St}"`)},e.mediaKeysSession.onkeystatuseschange=et=>{if(!e.mediaKeysSession)return void me.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const St=e.keyStatus;me.emit("keyStatus",St),"expired"===St&&(this.warn(`${e.keySystem} expired for key ${ne}`),this.renewKeySession(e))};const ze=new Promise((et,mt)=>{me.on("error",mt),me.on("keyStatus",St=>{St.startsWith("usable")?et():"output-restricted"===St?mt(new Ya({type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===St?mt(new Ya({type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${St}"`)):"expired"===St?mt(new Error("key expired while generating request")):this.warn(`unhandled key status change "${St}"`)})});return e.mediaKeysSession.generateRequest(i,o).then(()=>{var et;this.log(`Request generated for key-session "${null==(et=e.mediaKeysSession)?void 0:et.sessionId}" keyId: ${ne}`)}).catch(et=>{throw new Ya({type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_NO_SESSION,error:et,fatal:!1},`Error generating key-session request: ${et}`)}).then(()=>ze).catch(et=>{throw me.removeAllListeners(),this.removeSession(e),et}).then(()=>(me.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((i,o)=>{this.log(`key status change "${i}" for keyStatuses keyId: ${zo_hexDump("buffer"in o?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o))} session keyId: ${zo_hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=i})}fetchServerCertificate(e){const i=this.config,d=new(0,i.loader)(i),m=this.getServerCertificateUrl(e);return m?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((b,I)=>{const G={responseType:"arraybuffer",url:m},ne=i.certLoadPolicy.default;d.load(G,{loadPolicy:ne,timeout:ne.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(et,mt,St,Ot)=>{b(et.data)},onError:(et,mt,St,Ot)=>{I(new Ya({type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:St,response:bo({url:G.url,data:void 0},et)},`"${e}" certificate request failed (${m}). Status: ${et.code} (${et.text})`))},onTimeout:(et,mt,St)=>{I(new Ya({type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:St,response:{url:G.url,data:void 0}},`"${e}" certificate request timed out (${m})`))},onAbort:(et,mt,St)=>{I(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(e,i,o){return new Promise((d,m)=>{e.setServerCertificate(o).then(b=>{this.log(`setServerCertificate ${b?"success":"not supported by CDM"} (${o?.byteLength}) on "${i}"`),d(e)}).catch(b=>{m(new Ya({type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:b,fatal:!0},b.message))})})}renewLicense(e,i){return this.requestLicense(e,new Uint8Array(i)).then(o=>this.updateKeySession(e,new Uint8Array(o)).catch(d=>{throw new Ya({type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:d,fatal:!0},d.message)}))}setupLicenseXHR(e,i,o,d){const m=this.config.licenseXhrSetup;return m?Promise.resolve().then(()=>{if(!o.decryptdata)throw new Error("Key removed");return m.call(this.hls,e,i,o,d)}).catch(b=>{if(!o.decryptdata)throw b;return e.open("POST",i,!0),m.call(this.hls,e,i,o,d)}).then(b=>(e.readyState||e.open("POST",i,!0),{xhr:e,licenseChallenge:b||d})):(e.open("POST",i,!0),Promise.resolve({xhr:e,licenseChallenge:d}))}requestLicense(e,i){const o=this.config.keyLoadPolicy.default;return new Promise((d,m)=>{const b=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${b}`);const I=new XMLHttpRequest;I.responseType="arraybuffer",I.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return m(new Error("invalid state"));if(4===I.readyState)if(200===I.status){this._requestLicenseFailureCount=0;let G=I.response;this.log(`License received ${G instanceof ArrayBuffer?G.byteLength:G}`);const ne=this.config.licenseResponseCallback;if(ne)try{G=ne.call(this.hls,I,b,e)}catch(me){this.error(me)}d(G)}else{const G=o.errorRetry,ne=G?G.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>ne||I.status>=400&&I.status<500?m(new Ya({type:Mi.KEY_SYSTEM_ERROR,details:wn.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:I,response:{url:b,data:void 0,code:I.status,text:I.statusText}},`License Request XHR failed (${b}). Status: ${I.status} (${I.statusText})`)):(this.warn(`Retrying license request, ${ne-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(e,i).then(d,m))}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=I,this.setupLicenseXHR(I,b,e,i).then(({xhr:G,licenseChallenge:ne})=>{G.send(ne)})})}onMediaAttached(e,i){if(!this.config.emeEnabled)return;const o=i.media;this.media=o,o.addEventListener("encrypted",this.onMediaEncrypted),o.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,i=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},us.clearKeyUriToKeyIdMap();const o=i.length;r.CDMCleanupPromise=Promise.all(i.map(d=>this.removeSession(d)).concat(e?.setMediaKeys(null).catch(d=>{this.log(`Could not clear media keys: ${d}. media.src: ${e?.src}`)}))).then(()=>{o&&(this.log("finished closing key sessions and clearing media keys"),i.length=0)}).catch(d=>{this.log(`Could not close sessions and clear media keys: ${d}. media.src: ${e?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:i}){if(i&&this.config.emeEnabled&&!this.keyFormatPromise){const o=i.reduce((d,m)=>(-1===d.indexOf(m.keyFormat)&&d.push(m.keyFormat),d),[]);this.log(`Selecting key-system from session-keys ${o.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(o)}}removeSession(e){const{mediaKeysSession:i,licenseXhr:o}=e;if(i){this.log(`Remove licenses and keys and close session ${i.sessionId}`),i.onmessage=null,i.onkeystatuseschange=null,o&&o.readyState!==XMLHttpRequest.DONE&&o.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const d=this.mediaKeySessions.indexOf(e);return d>-1&&this.mediaKeySessions.splice(d,1),i.remove().catch(m=>{this.log(`Could not remove session: ${m}`)}).then(()=>i.close()).catch(m=>{this.log(`Could not close session: ${m}`)})}}}return r.CDMCleanupPromise=void 0,r})();class Ya extends Error{constructor(n,e){super(e),this.data=void 0,n.error||(n.error=new Error(e)),this.data=n,n.err=n.error}}class Ed{constructor(n){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=o=>{try{this.apply(o,{ot:"m",su:!this.initialized})}catch(d){Bt.warn("Could not generate manifest CMCD data.",d)}},this.applyFragmentData=o=>{try{const d=o.frag,m=this.hls.levels[d.level],b=this.getObjectType(d),I={d:1e3*d.duration,ot:b};("v"===b||"a"===b||"av"==b)&&(I.br=m.bitrate/1e3,I.tb=this.getTopBandwidth(b)/1e3,I.bl=this.getBufferLength(b)),this.apply(o,I)}catch(d){Bt.warn("Could not generate segment CMCD data.",d)}},this.hls=n;const e=this.config=n.config,{cmcd:i}=e;null!=i&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||Ed.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}registerListeners(){const n=this.hls;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHED,this.onMediaDetached,this),n.on(Rt.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const n=this.hls;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHED,this.onMediaDetached,this),n.off(Rt.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(n,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(n,e){var i,o;this.audioBuffer=null==(i=e.tracks.audio)?void 0:i.buffer,this.videoBuffer=null==(o=e.tracks.video)?void 0:o.buffer}createData(){var n;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(n=this.media)?void 0:n.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(n,e={}){if(qr(e,this.createData()),this.starved&&("i"===e.ot||"v"===e.ot||"av"===e.ot)&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering),this.useHeaders){const o=Ed.toHeaders(e);if(!Object.keys(o).length)return;n.headers||(n.headers={}),qr(n.headers,o)}else{const o=Ed.toQuery(e);if(!o)return;n.url=Ed.appendQueryToUri(n.url,o)}}getObjectType(n){const{type:e}=n;return"subtitle"===e?"tt":"initSegment"===n.sn?"i":"audio"===e?"a":"main"===e?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(n){let i,e=0;const o=this.hls;if("a"===n)i=o.audioTracks;else{const d=o.maxAutoLevel;i=o.levels.slice(0,d>-1?d+1:o.levels.length)}for(const d of i)d.bitrate>e&&(e=d.bitrate);return e>0?e:NaN}getBufferLength(n){const e=this.hls.media,i="a"===n?this.audioBuffer:this.videoBuffer;return i&&e?1e3*Kr.bufferInfo(i,e.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:n}=this.config,e=this.applyPlaylistData,i=n||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,m,b){e(d),this.loader.load(d,m,b)}}}createFragmentLoader(){const{fLoader:n}=this.config,e=this.applyFragmentData,i=n||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,m,b){e(d),this.loader.load(d,m,b)}}}static uuid(){const n=URL.createObjectURL(new Blob),e=n.toString();return URL.revokeObjectURL(n),e.slice(e.lastIndexOf("/")+1)}static serialize(n){const e=[],i=G=>!Number.isNaN(G)&&null!=G&&""!==G&&!1!==G,o=G=>Math.round(G),d=G=>100*o(G/100),b={br:o,d:o,bl:d,dl:d,mtp:d,nor:G=>encodeURIComponent(G),rtp:d,tb:o},I=Object.keys(n||{}).sort();for(const G of I){let ne=n[G];if(!i(ne)||"v"===G&&1===ne||"pr"==G&&1===ne)continue;const me=b[G];me&&(ne=me(ne));const ze=typeof ne;let et;et="ot"===G||"sf"===G||"st"===G?`${G}=${ne}`:"boolean"===ze?G:"number"===ze?`${G}=${ne}`:`${G}=${JSON.stringify(ne)}`,e.push(et)}return e.join(",")}static toHeaders(n){const e=Object.keys(n),i={},o=["Object","Request","Session","Status"],d=[{},{},{},{}],m={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const b of e)d[null!=m[b]?m[b]:1][b]=n[b];for(let b=0;b<d.length;b++){const I=Ed.serialize(d[b]);I&&(i[`CMCD-${o[b]}`]=I)}return i}static toQuery(n){return`CMCD=${encodeURIComponent(Ed.serialize(n))}`}static appendQueryToUri(n,e){if(!e)return n;const i=n.includes("?")?"&":"?";return`${n}${i}${e}`}}function Jd(r,n,e,i){r&&Object.keys(n).forEach(o=>{const d=r.filter(m=>m.groupId===o).map(m=>{const b=qr({},m);return b.details=void 0,b.attrs=new Bi(b.attrs),b.url=b.attrs.URI=dp(m.url,m.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",e),b.groupId=b.attrs["GROUP-ID"]=n[o],b.attrs["PATHWAY-ID"]=i,b});r.push(...d)})}function dp(r,n,e,i){const{HOST:o,PARAMS:d,[e]:m}=i;let b;n&&(b=m?.[n],b&&(r=b));const I=new self.URL(r);return o&&!b&&(I.host=o),d&&Object.keys(d).sort().forEach(G=>{G&&I.searchParams.set(G,d[G])}),I.href}const tv=/^age:\s*[\d.]+\s*$/im;class up{constructor(n){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=n&&n.xhrSetup||null,this.stats=new Ir,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const n=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),n&&(n.onreadystatechange=null,n.onprogress=null,4!==n.readyState&&(this.stats.aborted=!0,n.abort()))}abort(){var n;this.abortInternal(),null!=(n=this.callbacks)&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(n,e,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=n,this.config=e,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:n,context:e}=this;if(!n)return;const i=this.loader=new self.XMLHttpRequest,o=this.stats;o.loading.first=0,o.loaded=0,o.aborted=!1;const d=this.xhrSetup;d?Promise.resolve().then(()=>{if(!this.stats.aborted)return d(i,e.url)}).catch(m=>(i.open("GET",e.url,!0),d(i,e.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(i,e,n)}).catch(m=>{this.callbacks.onError({code:i.status,text:m.message},e,i,o)}):this.openAndSendXhr(i,e,n)}openAndSendXhr(n,e,i){n.readyState||n.open("GET",e.url,!0);const o=this.context.headers,{maxTimeToFirstByteMs:d,maxLoadTimeMs:m}=i.loadPolicy;if(o)for(const b in o)n.setRequestHeader(b,o[b]);e.rangeEnd&&n.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=e.responseType,self.clearTimeout(this.requestTimeout),i.timeout=d&&yi(d)?d:m,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),n.send()}readystatechange(){const{context:n,loader:e,stats:i}=this;if(!n||!e)return;const o=e.readyState,d=this.config;if(!i.aborted&&o>=2&&(0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),d.timeout!==d.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),d.timeout=d.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),d.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),4===o)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const m=e.status,b="text"!==e.responseType;if(m>=200&&m<300&&(b&&e.response||null!==e.responseText)){i.loading.end=Math.max(self.performance.now(),i.loading.first);const I=b?e.response:e.responseText;if(i.loaded=i.total="arraybuffer"===e.responseType?I.byteLength:I.length,i.bwEstimate=8e3*i.total/(i.loading.end-i.loading.first),!this.callbacks)return;const ne=this.callbacks.onProgress;if(ne&&ne(i,n,I,e),!this.callbacks)return;this.callbacks.onSuccess({url:e.responseURL,data:I,code:m},i,n,e)}else{const I=d.loadPolicy.errorRetry;Ps(I,i.retry,!1,m)?this.retry(I):(Bt.error(`${m} while loading ${n.url}`),this.callbacks.onError({code:m,text:e.statusText},n,e,i))}}}loadtimeout(){var n;const e=null==(n=this.config)?void 0:n.loadPolicy.timeoutRetry;if(Ps(e,this.stats.retry,!0))this.retry(e);else{Bt.warn(`timeout while loading ${this.context.url}`);const o=this.callbacks;o&&(this.abortInternal(),o.onTimeout(this.stats,this.context,this.loader))}}retry(n){const{context:e,stats:i}=this;this.retryDelay=Fc(n,i.retry),i.retry++,Bt.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${e.url}, retrying ${i.retry}/${n.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(n){const e=this.stats;e.loaded=n.loaded,n.lengthComputable&&(e.total=n.total)}getCacheAge(){let n=null;if(this.loader&&tv.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");n=e?parseFloat(e):null}return n}getResponseHeader(n){return this.loader&&new RegExp(`^${n}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(n):null}}const OE=/(\d+)-(\d+)\/(\d+)/;class hp{constructor(n){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=n.fetchSetup||pp,this.controller=new self.AbortController,this.stats=new Ir}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const n=this.response;null!=n&&n.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var n;this.abortInternal(),null!=(n=this.callbacks)&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(n,e,i){const o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();const d=function nv(r,n){const e={method:"GET",mode:"cors",credentials:"same-origin",signal:n,headers:new self.Headers(qr({},r.headers))};return r.rangeEnd&&e.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),e}(n,this.controller.signal),m=i.onProgress,b="arraybuffer"===n.responseType,I=b?"byteLength":"length",{maxTimeToFirstByteMs:G,maxLoadTimeMs:ne}=e.loadPolicy;this.context=n,this.config=e,this.callbacks=i,this.request=this.fetchSetup(n,d),self.clearTimeout(this.requestTimeout),e.timeout=G&&yi(G)?G:ne,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,n,this.response)},e.timeout),self.fetch(this.request).then(me=>{this.response=this.loader=me;const ze=Math.max(self.performance.now(),o.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=ne,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,n,this.response)},ne-(ze-o.loading.start)),!me.ok){const{status:et,statusText:mt}=me;throw new RE(mt||"fetch, bad network response",et,me)}return o.loading.first=ze,o.total=function yA(r){const n=r.get("Content-Range");if(n){const i=function mp(r){const n=OE.exec(r);if(n)return parseInt(n[2])-parseInt(n[1])+1}(n);if(yi(i))return i}const e=r.get("Content-Length");if(e)return parseInt(e)}(me.headers)||o.total,m&&yi(e.highWaterMark)?this.loadProgressively(me,o,n,e.highWaterMark,m):b?me.arrayBuffer():"json"===n.responseType?me.json():me.text()}).then(me=>{const{response:ze}=this;self.clearTimeout(this.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);const et=me[I];et&&(o.loaded=o.total=et);const mt={url:ze.url,data:me,code:ze.status};m&&!yi(e.highWaterMark)&&m(o,n,me,ze),i.onSuccess(mt,o,n,ze)}).catch(me=>{self.clearTimeout(this.requestTimeout),o.aborted||i.onError({code:me&&me.code||0,text:me?me.message:null},n,me?me.details:null,o)})}getCacheAge(){let n=null;if(this.response){const e=this.response.headers.get("age");n=e?parseFloat(e):null}return n}getResponseHeader(n){return this.response?this.response.headers.get(n):null}loadProgressively(n,e,i,o=0,d){const m=new Jm,b=n.body.getReader(),I=()=>b.read().then(G=>{if(G.done)return m.dataLength&&d(e,i,m.flush(),n),Promise.resolve(new ArrayBuffer(0));const ne=G.value,me=ne.length;return e.loaded+=me,me<o||m.dataLength?(m.push(ne),m.dataLength>=o&&d(e,i,m.flush(),n)):d(e,i,ne,n),I()}).catch(()=>Promise.reject());return I()}}function pp(r,n){return new self.Request(r.url,n)}class RE extends Error{constructor(n,e,i){super(n),this.code=void 0,this.details=void 0,this.code=e,this.details=i}}const gp=/\s/,iv={newCue(r,n,e,i){const o=[];let d,m,b,I,G;const ne=self.VTTCue||self.TextTrackCue;for(let ze=0;ze<i.rows.length;ze++)if(d=i.rows[ze],b=!0,I=0,G="",!d.isEmpty()){var me;for(let St=0;St<d.chars.length;St++)gp.test(d.chars[St].uchar)&&b?I++:(G+=d.chars[St].uchar,b=!1);d.cueStartTime=n,n===e&&(e+=1e-4),I>=16?I--:I++;const et=Y_(G.trim()),mt=bh(n,e,et);null!=r&&null!=(me=r.cues)&&me.getCueById(mt)||(m=new ne(n,e,et),m.id=mt,m.line=ze+1,m.align="left",m.position=10+Math.min(80,10*Math.floor(8*I/32)),o.push(m))}return r&&o.length&&(o.sort((ze,et)=>"auto"===ze.line||"auto"===et.line?0:ze.line>8&&et.line>8?et.line-ze.line:ze.line-et.line),o.forEach(ze=>Gd(r,ze))),o}},Td=bo(bo({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:up,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class qu{constructor(n){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=n;const e=n.config;this.bwEstimator=new uh(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:n}=this;n.on(Rt.FRAG_LOADING,this.onFragLoading,this),n.on(Rt.FRAG_LOADED,this.onFragLoaded,this),n.on(Rt.FRAG_BUFFERED,this.onFragBuffered,this),n.on(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Rt.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:n}=this;n.off(Rt.FRAG_LOADING,this.onFragLoading,this),n.off(Rt.FRAG_LOADED,this.onFragLoaded,this),n.off(Rt.FRAG_BUFFERED,this.onFragBuffered,this),n.off(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Rt.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(n,e){var i;const o=e.frag;this.ignoreFragment(o)||(this.fragCurrent=o,this.partCurrent=null!=(i=e.part)?i:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(n,e){this.clearTimer()}getTimeToLoadFrag(n,e,i,o){return n+i/e+(o?this.lastLevelLoadSec:0)}onLevelLoaded(n,e){const i=this.hls.config,{total:o,bwEstimate:d}=e.stats;yi(o)&&yi(d)&&(this.lastLevelLoadSec=8*o/d),e.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:n,partCurrent:e,hls:i}=this,{autoLevelEnabled:o,media:d}=i;if(!n||!d)return;const m=performance.now(),b=e?e.stats:n.stats,I=e?e.duration:n.duration,G=m-b.loading.start;if(b.aborted||b.loaded&&b.loaded===b.total||0===n.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!o||d.paused||!d.playbackRate||!d.readyState)return;const ne=i.mainForwardBufferInfo;if(null===ne)return;const me=this.bwEstimator.getEstimateTTFB(),ze=Math.abs(d.playbackRate);if(G<=Math.max(me,I/(2*ze)*1e3))return;const et=ne.len/ze;if(et>=2*I/ze)return;const mt=b.loading.first?b.loading.first-b.loading.start:-1,St=b.loaded&&mt>-1,Ot=this.bwEstimator.getEstimate(),{levels:zt,minAutoLevel:hn}=i,En=b.total||Math.max(b.loaded,Math.round(I*zt[n.level].maxBitrate/8));let Dn=G-mt;Dn<1&&St&&(Dn=Math.min(G,8*b.loaded/Ot));const Hn=St?1e3*b.loaded/Dn:0,Rn=Hn?(En-b.loaded)/Hn:8*En/Ot+me/1e3;if(Rn<=et)return;const $n=Hn?8*Hn:Ot;let kn,ii=Number.POSITIVE_INFINITY;for(kn=n.level-1;kn>hn&&(ii=this.getTimeToLoadFrag(me/1e3,$n,I*zt[kn].maxBitrate,!zt[kn].details),!(ii<et));kn--);ii>=Rn||ii>10*I||(i.nextLoadLevel=kn,St?this.bwEstimator.sample(G-Math.min(me,mt),b.loaded):this.bwEstimator.sampleTTFB(G),this.clearTimer(),Bt.warn(`[abr] Fragment ${n.sn}${e?" part "+e.index:""} of level ${n.level} is loading too slowly;\n      Time to underbuffer: ${et.toFixed(3)} s\n      Estimated load time for current fragment: ${Rn.toFixed(3)} s\n      Estimated load time for down switch fragment: ${ii.toFixed(3)} s\n      TTFB estimate: ${mt}\n      Current BW estimate: ${yi(Ot)?(Ot/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${kn}`),n.loader&&(this.fragCurrent=this.partCurrent=null,n.abortRequests()),i.trigger(Rt.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:e,stats:b}))}onFragLoaded(n,{frag:e,part:i}){const o=i?i.stats:e.stats;if("main"===e.type&&this.bwEstimator.sampleTTFB(o.loading.first-o.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const m=this.hls.levels[e.level],b=(m.loaded?m.loaded.bytes:0)+o.loaded,I=(m.loaded?m.loaded.duration:0)+(i?i.duration:e.duration);m.loaded={bytes:b,duration:I},m.realBitrate=Math.round(8*b/I)}e.bitrateTest&&(this.onFragBuffered(Rt.FRAG_BUFFERED,{stats:o,frag:e,part:i,id:e.type}),e.bitrateTest=!1)}}onFragBuffered(n,e){const{frag:i,part:o}=e,d=null!=o&&o.stats.loaded?o.stats:i.stats;if(d.aborted||this.ignoreFragment(i))return;const m=d.parsing.end-d.loading.start-Math.min(d.loading.first-d.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(m,d.loaded),d.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=i.bitrateTest?m/1e3:0}ignoreFragment(n){return"main"!==n.type||"initSegment"===n.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const n=this._nextAutoLevel;if(-1!==n&&!this.bwEstimator.canEstimate())return n;let i=this.getNextABRAutoLevel();if(-1!==n){const o=this.hls.levels;if(o.length>Math.max(n,i)&&o[n].loadError<=o[i].loadError)return n}return-1!==n&&(i=Math.min(n,i)),i}getNextABRAutoLevel(){const{fragCurrent:n,partCurrent:e,hls:i}=this,{maxAutoLevel:o,config:d,minAutoLevel:m,media:b}=i,I=e?e.duration:n?n.duration:0,G=b&&0!==b.playbackRate?Math.abs(b.playbackRate):1,ne=this.bwEstimator?this.bwEstimator.getEstimate():d.abrEwmaDefaultEstimate,me=i.mainForwardBufferInfo,ze=(me?me.len:0)/G;let et=this.findBestLevel(ne,m,o,ze,d.abrBandWidthFactor,d.abrBandWidthUpFactor);if(et>=0)return et;Bt.trace(`[abr] ${ze?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let mt=I?Math.min(I,d.maxStarvationDelay):d.maxStarvationDelay,St=d.abrBandWidthFactor,Ot=d.abrBandWidthUpFactor;if(!ze){const zt=this.bitrateTestDelay;zt&&(mt=(I?Math.min(I,d.maxLoadingDelay):d.maxLoadingDelay)-zt,Bt.trace(`[abr] bitrate test took ${Math.round(1e3*zt)}ms, set first fragment max fetchDuration to ${Math.round(1e3*mt)} ms`),St=Ot=1)}return et=this.findBestLevel(ne,m,o,ze+mt,St,Ot),Math.max(et,0)}findBestLevel(n,e,i,o,d,m){var b;const{fragCurrent:I,partCurrent:G,lastLoadedFragLevel:ne}=this,{levels:me}=this.hls,ze=me[ne],et=!(null==ze||null==(b=ze.details)||!b.live),mt=ze?.codecSet,St=G?G.duration:I?I.duration:0,Ot=this.bwEstimator.getEstimateTTFB()/1e3;let zt=e,hn=-1;for(let ln=i;ln>=e;ln--){const En=me[ln];if(!En||mt&&En.codecSet!==mt){En&&(zt=Math.min(ln,zt),hn=Math.max(ln,hn));continue}-1!==hn&&Bt.trace(`[abr] Skipped level(s) ${zt}-${hn} with CODECS:"${me[hn].attrs.CODECS}"; not compatible with "${ze.attrs.CODECS}"`);const Dn=En.details,Hn=(G?Dn?.partTarget:Dn?.averagetargetduration)||St;let Rn;Rn=ln<=ne?d*n:m*n;const $n=me[ln].maxBitrate,ii=this.getTimeToLoadFrag(Ot,Rn,$n*Hn,void 0===Dn);if(Bt.trace(`[abr] level:${ln} adjustedbw-bitrate:${Math.round(Rn-$n)} avgDuration:${Hn.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${ii.toFixed(1)}`),Rn>$n&&(0===ii||!yi(ii)||et&&!this.bitrateTestDelay||ii<o))return ln}return-1}set nextAutoLevel(n){this._nextAutoLevel=n}},bufferController:class Zd{constructor(n){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:e,mediaSource:i}=this;Bt.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(Rt.MEDIA_ATTACHED,{media:e})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{Bt.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{Bt.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:e,_objectUrl:i}=this;e&&e.src!==i&&Bt.error(`Media element src was set while attaching MediaSource (${i} > ${e.src})`)},this.hls=n,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.BUFFER_RESET,this.onBufferReset,this),n.on(Rt.BUFFER_APPENDING,this.onBufferAppending,this),n.on(Rt.BUFFER_CODECS,this.onBufferCodecs,this),n.on(Rt.BUFFER_EOS,this.onBufferEos,this),n.on(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Rt.LEVEL_UPDATED,this.onLevelUpdated,this),n.on(Rt.FRAG_PARSED,this.onFragParsed,this),n.on(Rt.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.BUFFER_RESET,this.onBufferReset,this),n.off(Rt.BUFFER_APPENDING,this.onBufferAppending,this),n.off(Rt.BUFFER_CODECS,this.onBufferCodecs,this),n.off(Rt.BUFFER_EOS,this.onBufferEos,this),n.off(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Rt.LEVEL_UPDATED,this.onLevelUpdated,this),n.off(Rt.FRAG_PARSED,this.onFragParsed,this),n.off(Rt.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new B_(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(n,e){let i=2;(e.audio&&!e.video||!e.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,Bt.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(n,e){const i=this.media=e.media;if(i&&Qu){const o=this.mediaSource=new Qu;o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),i.src=self.URL.createObjectURL(o),this._objectUrl=i.src,i.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:n,mediaSource:e,_objectUrl:i}=this;if(e){if(Bt.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(o){Bt.warn(`[buffer-controller]: onMediaDetaching: ${o.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),n&&(n.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),n.src===i?(n.removeAttribute("src"),n.load()):Bt.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Rt.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(n=>{const e=this.sourceBuffer[n];try{e&&(this.removeBufferListeners(n),this.mediaSource&&this.mediaSource.removeSourceBuffer(e),this.sourceBuffer[n]=void 0)}catch(i){Bt.warn(`[buffer-controller]: Failed to reset the ${n} buffer`,i)}}),this._initSourceBuffer()}onBufferCodecs(n,e){const i=this.getSourceBufferTypes().length;Object.keys(e).forEach(o=>{if(i){const d=this.tracks[o];if(d&&"function"==typeof d.buffer.changeType){const{id:m,codec:b,levelCodec:I,container:G,metadata:ne}=e[o],me=(d.levelCodec||d.codec).replace(hh,"$1"),ze=(I||b).replace(hh,"$1");me!==ze&&(this.appendChangeType(o,`${G};codecs=${I||b}`),Bt.log(`[buffer-controller]: switching codec ${me} to ${ze}`),this.tracks[o]={buffer:d.buffer,codec:b,container:G,levelCodec:I,metadata:ne,id:m})}}else this.pendingTracks[o]=e[o]}),!i&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(n,e){const{operationQueue:i}=this,o={execute:()=>{const d=this.sourceBuffer[n];d&&(Bt.log(`[buffer-controller]: changing ${n} sourceBuffer type to ${e}`),d.changeType(e)),i.shiftAndExecuteNext(n)},onStart:()=>{},onComplete:()=>{},onError:d=>{Bt.warn(`[buffer-controller]: Failed to change ${n} SourceBuffer type`,d)}};i.append(o,n)}onBufferAppending(n,e){const{hls:i,operationQueue:o,tracks:d}=this,{data:m,type:b,frag:I,part:G,chunkMeta:ne}=e,me=ne.buffering[b],ze=self.performance.now();me.start=ze;const et=I.stats.buffering,mt=G?G.stats.buffering:null;0===et.start&&(et.start=ze),mt&&0===mt.start&&(mt.start=ze);const St=d.audio;let Ot=!1;"audio"===b&&"audio/mpeg"===St?.container&&(Ot=!this.lastMpegAudioChunk||1===ne.id||this.lastMpegAudioChunk.sn!==ne.sn,this.lastMpegAudioChunk=ne);const zt=I.start;o.append({execute:()=>{if(me.executeStart=self.performance.now(),Ot){const ln=this.sourceBuffer[b];if(ln){const En=zt-ln.timestampOffset;Math.abs(En)>=.1&&(Bt.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${zt} (delta: ${En}) sn: ${I.sn})`),ln.timestampOffset=zt)}}this.appendExecutor(m,b)},onStart:()=>{},onComplete:()=>{const ln=self.performance.now();me.executeEnd=me.end=ln,0===et.first&&(et.first=ln),mt&&0===mt.first&&(mt.first=ln);const{sourceBuffer:En}=this,Dn={};for(const Hn in En)Dn[Hn]=Kr.getBuffered(En[Hn]);this.appendError=0,this.hls.trigger(Rt.BUFFER_APPENDED,{type:b,frag:I,part:G,chunkMeta:ne,parent:I.type,timeRanges:Dn})},onError:ln=>{Bt.error(`[buffer-controller]: Error encountered while trying to append to the ${b} SourceBuffer`,ln);const En={type:Mi.MEDIA_ERROR,parent:I.type,details:wn.BUFFER_APPEND_ERROR,frag:I,part:G,chunkMeta:ne,error:ln,err:ln,fatal:!1};ln.code===DOMException.QUOTA_EXCEEDED_ERR?En.details=wn.BUFFER_FULL_ERROR:(this.appendError++,En.details=wn.BUFFER_APPEND_ERROR,this.appendError>i.config.appendErrorMaxRetry&&(Bt.error(`[buffer-controller]: Failed ${i.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),En.fatal=!0)),i.trigger(Rt.ERROR,En)}},b)}onBufferFlushing(n,e){const{operationQueue:i}=this,o=d=>({execute:this.removeExecutor.bind(this,d,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(Rt.BUFFER_FLUSHED,{type:d})},onError:m=>{Bt.warn(`[buffer-controller]: Failed to remove from ${d} SourceBuffer`,m)}});e.type?i.append(o(e.type),e.type):this.getSourceBufferTypes().forEach(d=>{i.append(o(d),d)})}onFragParsed(n,e){const{frag:i,part:o}=e,d=[],m=o?o.elementaryStreams:i.elementaryStreams;m.audiovideo?d.push("audiovideo"):(m.audio&&d.push("audio"),m.video&&d.push("video")),0===d.length&&Bt.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(()=>{const I=self.performance.now();i.stats.buffering.end=I,o&&(o.stats.buffering.end=I),this.hls.trigger(Rt.FRAG_BUFFERED,{frag:i,part:o,stats:o?o.stats:i.stats,id:i.type})},d)}onFragChanged(n,e){this.flushBackBuffer()}onBufferEos(n,e){this.getSourceBufferTypes().reduce((o,d)=>{const m=this.sourceBuffer[d];return m&&(!e.type||e.type===d)&&(m.ending=!0,m.ended||(m.ended=!0,Bt.log(`[buffer-controller]: ${d} sourceBuffer now EOS`))),o&&!(m&&!m.ended)},!0)&&(Bt.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(d=>{const m=this.sourceBuffer[d];m&&(m.ending=!1)});const{mediaSource:o}=this;o&&"open"===o.readyState?(Bt.log("[buffer-controller]: Calling mediaSource.endOfStream()"),o.endOfStream()):o&&Bt.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`)}))}onLevelUpdated(n,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:n,details:e,media:i,sourceBuffer:o}=this;if(!i||null===e)return;const d=this.getSourceBufferTypes();if(!d.length)return;const m=e.live&&null!==n.config.liveBackBufferLength?n.config.liveBackBufferLength:n.config.backBufferLength;if(!yi(m)||m<0)return;const b=i.currentTime,I=e.levelTargetDuration,G=Math.max(m,I),ne=Math.floor(b/I)*I-G;d.forEach(me=>{const ze=o[me];if(ze){const et=Kr.getBuffered(ze);if(et.length>0&&ne>et.start(0)){if(n.trigger(Rt.BACK_BUFFER_REACHED,{bufferEnd:ne}),e.live)n.trigger(Rt.LIVE_BACK_BUFFER_REACHED,{bufferEnd:ne});else if(ze.ended&&et.end(et.length-1)-b<2*I)return void Bt.info(`[buffer-controller]: Cannot flush ${me} back buffer while SourceBuffer is in ended state`);n.trigger(Rt.BUFFER_FLUSHING,{startOffset:0,endOffset:ne,type:me})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:n,hls:e,media:i,mediaSource:o}=this,d=n.fragments[0].start+n.totalduration,m=i.duration,b=yi(o.duration)?o.duration:0;n.live&&e.config.liveDurationInfinity?(Bt.log("[buffer-controller]: Media Source duration is set to Infinity"),o.duration=1/0,this.updateSeekableRange(n)):(d>b&&d>m||!yi(m))&&(Bt.log(`[buffer-controller]: Updating Media Source duration to ${d.toFixed(3)}`),o.duration=d)}updateSeekableRange(n){const e=this.mediaSource,i=n.fragments;if(i.length&&n.live&&null!=e&&e.setLiveSeekableRange){const d=Math.max(0,i[0].start),m=Math.max(d,d+n.totalduration);e.setLiveSeekableRange(d,m)}}checkPendingTracks(){const{bufferCodecEventsExpected:n,operationQueue:e,pendingTracks:i}=this,o=Object.keys(i).length;if(o&&!n||2===o){this.createSourceBuffers(i),this.pendingTracks={};const d=this.getSourceBufferTypes();if(d.length)this.hls.trigger(Rt.BUFFER_CREATED,{tracks:this.tracks}),d.forEach(m=>{e.executeNext(m)});else{const m=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:m,reason:m.message})}}}createSourceBuffers(n){const{sourceBuffer:e,mediaSource:i}=this;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(const o in n)if(!e[o]){const d=n[o];if(!d)throw Error(`source buffer exists for track ${o}, however track does not`);const m=d.levelCodec||d.codec,b=`${d.container};codecs=${m}`;Bt.log(`[buffer-controller]: creating sourceBuffer(${b})`);try{const I=e[o]=i.addSourceBuffer(b),G=o;this.addBufferListener(G,"updatestart",this._onSBUpdateStart),this.addBufferListener(G,"updateend",this._onSBUpdateEnd),this.addBufferListener(G,"error",this._onSBUpdateError),this.tracks[o]={buffer:I,codec:m,container:d.container,levelCodec:d.levelCodec,metadata:d.metadata,id:d.id}}catch(I){Bt.error(`[buffer-controller]: error while trying to add sourceBuffer: ${I.message}`),this.hls.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:I,mimeType:b})}}}_onSBUpdateStart(n){const{operationQueue:e}=this;e.current(n).onStart()}_onSBUpdateEnd(n){const{operationQueue:e}=this;e.current(n).onComplete(),e.shiftAndExecuteNext(n)}_onSBUpdateError(n,e){const i=new Error(`${n} SourceBuffer error`);Bt.error(`[buffer-controller]: ${i}`,e),this.hls.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.BUFFER_APPENDING_ERROR,error:i,fatal:!1});const o=this.operationQueue.current(n);o&&o.onError(e)}removeExecutor(n,e,i){const{media:o,mediaSource:d,operationQueue:m,sourceBuffer:b}=this,I=b[n];if(!o||!d||!I)return Bt.warn(`[buffer-controller]: Attempting to remove from the ${n} SourceBuffer, but it does not exist`),void m.shiftAndExecuteNext(n);const G=yi(o.duration)?o.duration:1/0,ne=yi(d.duration)?d.duration:1/0,me=Math.max(0,e),ze=Math.min(i,G,ne);ze>me&&!I.ending?(I.ended=!1,Bt.log(`[buffer-controller]: Removing [${me},${ze}] from the ${n} SourceBuffer`),I.remove(me,ze)):m.shiftAndExecuteNext(n)}appendExecutor(n,e){const{operationQueue:i,sourceBuffer:o}=this,d=o[e];if(!d)return Bt.warn(`[buffer-controller]: Attempting to append to the ${e} SourceBuffer, but it does not exist`),void i.shiftAndExecuteNext(e);d.ended=!1,d.appendBuffer(n)}blockBuffers(n,e=this.getSourceBufferTypes()){if(!e.length)return Bt.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(n);const{operationQueue:i}=this,o=e.map(d=>i.appendBlocker(d));Promise.all(o).then(()=>{n(),e.forEach(d=>{const m=this.sourceBuffer[d];null!=m&&m.updating||i.shiftAndExecuteNext(d)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(n,e,i){const o=this.sourceBuffer[n];if(!o)return;const d=i.bind(this,n);this.listeners[n].push({event:e,listener:d}),o.addEventListener(e,d)}removeBufferListeners(n){const e=this.sourceBuffer[n];e&&this.listeners[n].forEach(i=>{e.removeEventListener(i.event,i.listener)})}},capLevelController:tf,errorController:class Tt{constructor(n){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=n,this.log=Bt.log.bind(Bt,"[info]:"),this.warn=Bt.warn.bind(Bt,"[warning]:"),this.error=Bt.error.bind(Bt,"[error]:"),this.registerListeners()}registerListeners(){const n=this.hls;n.on(Rt.ERROR,this.onError,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const n=this.hls;n&&(n.off(Rt.ERROR,this.onError,this),n.off(Rt.ERROR,this.onErrorOut,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(n){this.playlistError=0}stopLoad(){}getVariantLevelIndex(n){return"main"===n?.type?n.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(n,e){var i,o;if(e.fatal)return;const d=this.hls,m=e.context;switch(e.details){case wn.FRAG_LOAD_ERROR:case wn.FRAG_LOAD_TIMEOUT:case wn.KEY_LOAD_ERROR:case wn.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case wn.FRAG_PARSING_ERROR:if(null!=(i=e.frag)&&i.gap)return void(e.errorAction={action:0,flags:0});case wn.FRAG_GAP:case wn.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=2);case wn.LEVEL_EMPTY_ERROR:case wn.LEVEL_PARSING_ERROR:{var b,I;const G="main"===e.parent?e.level:d.loadLevel;e.details===wn.LEVEL_EMPTY_ERROR&&null!=(b=e.context)&&null!=(I=b.levelDetails)&&I.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,G):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,G))}return;case wn.LEVEL_LOAD_ERROR:case wn.LEVEL_LOAD_TIMEOUT:return void("number"==typeof m?.level&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,m.level)));case wn.AUDIO_TRACK_LOAD_ERROR:case wn.AUDIO_TRACK_LOAD_TIMEOUT:case wn.SUBTITLE_LOAD_ERROR:case wn.SUBTITLE_TRACK_LOAD_TIMEOUT:if(m){const G=d.levels[d.loadLevel];if(G&&("audioTrack"===m.type&&m.groupId===G.audioGroupId||"subtitleTrack"===m.type&&m.groupId===G.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,d.loadLevel),e.errorAction.action=2,void(e.errorAction.flags=1)}return;case wn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const G=d.levels[d.loadLevel],ne=G?.attrs["HDCP-LEVEL"];ne&&(e.errorAction={action:2,flags:2,hdcpLevel:ne})}return;case wn.BUFFER_ADD_CODEC_ERROR:case wn.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(o=e.level)?o:d.loadLevel));case wn.INTERNAL_EXCEPTION:case wn.BUFFER_APPENDING_ERROR:case wn.BUFFER_APPEND_ERROR:case wn.BUFFER_FULL_ERROR:case wn.LEVEL_SWITCH_ERROR:case wn.BUFFER_STALLED_ERROR:case wn.BUFFER_SEEK_OVER_HOLE:case wn.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:0,flags:0})}if(e.type===Mi.KEY_SYSTEM_ERROR){const G=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,G))}}getPlaylistRetryOrSwitchAction(n,e){var i;const d=fo(this.hls.config.playlistLoadPolicy,n),m=this.playlistError++,b=null==(i=n.response)?void 0:i.code;if(Ps(d,m,Ma(n),b))return{action:5,flags:0,retryConfig:d,retryCount:m};const G=this.getLevelSwitchAction(n,e);return d&&(G.retryConfig=d,G.retryCount=m),G}getFragRetryOrSwitchAction(n){const e=this.hls,i=this.getVariantLevelIndex(n.frag),o=e.levels[i],{fragLoadPolicy:d,keyLoadPolicy:m}=e.config,b=fo(n.details.startsWith("key")?m:d,n),I=e.levels.reduce((me,ze)=>me+ze.fragmentError,0);if(o){var G;n.details!==wn.FRAG_GAP&&o.fragmentError++;const me=null==(G=n.response)?void 0:G.code;if(Ps(b,I,Ma(n),me))return{action:5,flags:0,retryConfig:b,retryCount:I}}const ne=this.getLevelSwitchAction(n,i);return b&&(ne.retryConfig=b,ne.retryCount=I),ne}getLevelSwitchAction(n,e){const i=this.hls;null==e&&(e=i.loadLevel);const o=this.hls.levels[e];if(o&&(o.loadError++,i.autoLevelEnabled)){var d,m;let b=-1;const{levels:I,loadLevel:G,minAutoLevel:ne,maxAutoLevel:me}=i,ze=null==(d=n.frag)?void 0:d.type,{type:et,groupId:mt}=null!=(m=n.context)?m:{};for(let St=I.length;St--;){const Ot=(St+G)%I.length;if(Ot!==G&&Ot>=ne&&Ot<=me&&0===I[Ot].loadError){const zt=I[Ot];if(n.details===wn.FRAG_GAP&&n.frag){const hn=I[Ot].details;if(hn){const ln=ml(n.frag,hn.fragments,n.frag.start);if(null!=ln&&ln.gap)continue}}else{if("audioTrack"===et&&mt===zt.audioGroupId||"subtitleTrack"===et&&mt===zt.textGroupId)continue;if("audio"===ze&&o.audioGroupId===zt.audioGroupId||"subtitle"===ze&&o.textGroupId===zt.textGroupId)continue}b=Ot;break}}if(b>-1&&i.loadLevel!==b)return n.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:b}}return{action:2,flags:1}}onErrorOut(n,e){var i;switch(null==(i=e.errorAction)?void 0:i.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(e),!e.errorAction.resolved&&e.details!==wn.FRAG_GAP&&(e.fatal=!0)}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(n){const e=this.hls,i=n.errorAction;if(!i)return;const{flags:o,hdcpLevel:d,nextAutoLevel:m}=i;switch(o){case 0:this.switchLevel(n,m);break;case 1:i.resolved||(i.resolved=this.redundantFailover(n));break;case 2:d&&(e.maxHdcpLevel=cc[cc.indexOf(d)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}i.resolved||this.switchLevel(n,m)}switchLevel(n,e){void 0!==e&&n.errorAction&&(this.warn(`switching to level ${e} after ${n.details}`),this.hls.nextAutoLevel=e,n.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(n){const{hls:e,penalizedRenditions:i}=this,o="main"===n.parent?n.level:e.loadLevel,d=e.levels[o],m=d.url.length,b=n.frag?n.frag.urlId:d.urlId;d.urlId===b&&(!n.frag||d.details)&&this.penalizeRendition(d,n);for(let I=1;I<m;I++){const G=(b+I)%m,ne=i[G];if(!ne||Vt(ne,n,i[b]))return this.warn(`Switching to Redundant Stream ${G+1}/${m}: "${d.url[G]}" after ${n.details}`),this.playlistError=0,e.levels.forEach(me=>{me.urlId=G}),e.nextLoadLevel=o,!0}return!1}penalizeRendition(n,e){const{penalizedRenditions:i}=this,o=i[n.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};o.lastErrorPerfMs=performance.now(),o.errors.push(e),o.details=n.details,i[n.urlId]=o}},fpsController:class ev{constructor(n){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=n,this.registerListeners()}setStreamController(n){this.streamController=n}registerListeners(){this.hls.on(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(n,e){const i=this.hls.config;if(i.capLevelOnFPSDrop){const o=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=o,o&&"function"==typeof o.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}checkFPS(n,e,i){const o=performance.now();if(e){if(this.lastTime){const m=i-this.lastDroppedFrames,b=e-this.lastDecodedFrames,I=1e3*m/(o-this.lastTime),G=this.hls;if(G.trigger(Rt.FPS_DROP,{currentDropped:m,currentDecoded:b,totalDroppedFrames:i}),I>0&&m>G.config.fpsDroppedMonitoringThreshold*b){let ne=G.currentLevel;Bt.warn("drop FPS ratio greater than max allowed value for currentLevel: "+ne),ne>0&&(-1===G.autoLevelCapping||G.autoLevelCapping>=ne)&&(ne-=1,G.trigger(Rt.FPS_DROP_LEVEL_CAPPING,{level:ne,droppedLevel:G.currentLevel}),G.autoLevelCapping=ne,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=i,this.lastDecodedFrames=e}}checkFPSInterval(){const n=this.media;if(n)if(this.isVideoPlaybackQualityAvailable){const e=n.getVideoPlaybackQuality();this.checkFPS(n,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(n,n.webkitDecodedFrameCount,n.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:ol,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function NE(){return{cueHandler:iv,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class _E extends bn{constructor(n,e,i){super(n,e,i,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Rt.ERROR,this.onError,this),n.on(Rt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(Rt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),n.on(Rt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.on(Rt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),n.on(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Rt.ERROR,this.onError,this),n.off(Rt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(Rt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),n.off(Rt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.off(Rt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),n.off(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(n){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(n,e){this.mainDetails=e.details}onSubtitleFragProcessed(n,e){const{frag:i,success:o}=e;if(this.fragPrevious=i,this.state="IDLE",!o)return;const d=this.tracksBuffered[this.currentTrackId];if(!d)return;let m;const b=i.start;for(let G=0;G<d.length;G++)if(b>=d[G].start&&b<=d[G].end){m=d[G];break}const I=i.start+i.duration;m?m.end=I:(m={start:b,end:I},d.push(m)),this.fragmentTracker.fragBuffered(i)}onBufferFlushing(n,e){const{startOffset:i,endOffset:o}=e;if(0===i&&o!==Number.POSITIVE_INFINITY){const d=o-1;if(d<=0)return;e.endOffsetSubtitles=Math.max(0,d),this.tracksBuffered.forEach(m=>{for(let b=0;b<m.length;)if(m[b].end<=d)m.shift();else{if(!(m[b].start<d))break;m[b].start=d,b++}}),this.fragmentTracker.removeFragmentsInRange(i,d,"subtitle")}}onFragBuffered(n,e){var i;this.loadedmetadata||"main"!==e.frag.type||null!=(i=this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}onError(n,e){const i=e.frag;"subtitle"===i?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(n,{subtitleTracks:e}){zd(this.levels,e)?this.levels=e.map(i=>new fl(i)):(this.tracksBuffered=[],this.levels=e.map(i=>{const o=new fl(i);return this.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(n,e){if(this.currentTrackId=e.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const i=this.levels[this.currentTrackId];this.mediaBuffer=null!=i&&i.details?this.mediaBufferTimeRanges:null,i&&this.setInterval(500)}onSubtitleTrackLoaded(n,e){var i;const{details:o,id:d}=e,{currentTrackId:m,levels:b}=this;if(!b.length)return;const I=b[m];if(d>=b.length||d!==m||!I)return;this.mediaBuffer=this.mediaBufferTimeRanges;let G=0;if(o.live||null!=(i=I.details)&&i.live){const ne=this.mainDetails;if(o.deltaUpdateFailed||!ne)return;const me=ne.fragments[0];I.details?(G=this.alignPlaylists(o,I.details),0===G&&me&&(G=me.start,dd(o,G))):o.hasProgramDateTime&&ne.hasProgramDateTime?(Uu(o,ne),G=o.fragments[0].start):me&&(G=me.start,dd(o,G))}I.details=o,this.levelLastLoaded=d,!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(I.details,G),this.tick(),o.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(ml(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),I.details=void 0))}_handleFragmentLoadComplete(n){const{frag:e,payload:i}=n,o=e.decryptdata,d=this.hls;if(!this.fragContextChanged(e)&&i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){const m=performance.now();this.decrypter.decrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).catch(b=>{throw d.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.FRAG_DECRYPT_ERROR,fatal:!1,error:b,reason:b.message,frag:e}),b}).then(b=>{const I=performance.now();d.trigger(Rt.FRAG_DECRYPTED,{frag:e,payload:b,stats:{tstart:m,tdecrypt:I}})}).catch(b=>{this.warn(`${b.name}: ${b.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:n,levels:e}=this,i=e[n];if(!e.length||!i||!i.details)return;const{config:o}=this,d=this.getLoadPosition(),m=Kr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],d,o.maxBufferHole),{end:b,len:I}=m,G=this.getFwdBufferInfo(this.media,"main"),ne=i.details;if(I>this.getMaxBufferLength(G?.len)+ne.levelTargetDuration)return;const ze=ne.fragments,et=ze.length,mt=ne.edge;let St=null;const Ot=this.fragPrevious;if(b<mt){const zt=o.maxFragLookUpTolerance,hn=b>mt-zt?0:zt;St=ml(Ot,ze,Math.max(ze[0].start,b),hn),!St&&Ot&&Ot.start<ze[0].start&&(St=ze[0])}else St=ze[et-1];if(!St)return;if(St=this.mapToInitFragWhenRequired(St),"initSegment"!==St.sn){const hn=ze[St.sn-ne.startSN-1];hn&&hn.cc===St.cc&&"NOT_LOADED"===this.fragmentTracker.getState(hn)&&(St=hn)}"NOT_LOADED"===this.fragmentTracker.getState(St)&&this.loadFragment(St,i,b)}}else this.state="IDLE"}getMaxBufferLength(n){const e=super.getMaxBufferLength();return n?Math.max(e,n):e}loadFragment(n,e,i){this.fragCurrent=n,"initSegment"===n.sn?this._loadInitSegment(n,e):(this.startFragRequested=!0,super.loadFragment(n,e,i))}get mediaBufferTimeRanges(){return new vE(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class yE extends pn{constructor(n){super(n,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(n){this._subtitleDisplay=n,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Rt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.on(Rt.ERROR,this.onError,this)}unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.off(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Rt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.off(Rt.ERROR,this.onError,this)}onMediaAttached(n,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(n){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,n)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),fh(this.media.textTracks).forEach(e=>{Hl(e)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(n,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(n,e){const{id:i,details:o}=e,{trackId:d}=this,m=this.tracksInGroup[d];if(!m)return void this.warn(`Invalid subtitle track id ${i}`);const b=m.details;m.details=e.details,this.log(`subtitle track ${i} loaded [${o.startSN}-${o.endSN}]`),i===this.trackId&&this.playlistLoaded(i,e,b)}onLevelLoading(n,e){this.switchLevel(e.level)}onLevelSwitching(n,e){this.switchLevel(e.level)}switchLevel(n){const e=this.hls.levels[n];if(null==e||!e.textGroupIds)return;const i=e.textGroupIds[e.urlId],o=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==i){const d=this.tracks.filter(I=>!i||I.groupId===i);this.tracksInGroup=d;const m=this.findTrackId(o?.name)||this.findTrackId();this.groupId=i||null;const b={subtitleTracks:d};this.log(`Updating subtitle tracks, ${d.length} track(s) found in "${i}" group-id`),this.hls.trigger(Rt.SUBTITLE_TRACKS_UPDATED,b),-1!==m&&this.setSubtitleTrack(m,o)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId,o)}findTrackId(n){const e=this.tracksInGroup;for(let i=0;i<e.length;i++){const o=e[i];if((!this.selectDefaultTrack||o.default)&&(!n||n===o.name))return o.id}return-1}onError(n,e){e.fatal||!e.context||"subtitleTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(n){this.selectDefaultTrack=!1,this.setSubtitleTrack(n,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(n){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const i=e.id,o=e.groupId;let d=e.url;if(n)try{d=n.addDirectives(d)}catch(m){this.warn(`Could not construct new URL with HLS Delivery Directives: ${m}`)}this.log(`Loading subtitle playlist for id ${i}`),this.hls.trigger(Rt.SUBTITLE_TRACK_LOADING,{url:d,id:i,groupId:o,deliveryDirectives:n||null})}}toggleTrackModes(n){const{media:e,trackId:i}=this;if(!e)return;const o=fh(e.textTracks),d=o.filter(b=>b.groupId===this.groupId);if(-1===n)[].slice.call(o).forEach(b=>{b.mode="disabled"});else{const b=d[i];b&&(b.mode="disabled")}const m=d[n];m&&(m.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(n,e){var i;const o=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=n);if(this.trackId!==n&&this.toggleTrackModes(n),this.trackId===n&&(-1===n||null!=(i=o[n])&&i.details)||n<-1||n>=o.length)return;this.clearTimer();const d=o[n];if(this.log(`Switching to subtitle-track ${n}`+(d?` "${d.name}" lang:${d.lang} group:${d.groupId}`:"")),this.trackId=n,d){const{id:m,groupId:b="",name:I,type:G,url:ne}=d;this.hls.trigger(Rt.SUBTITLE_TRACK_SWITCH,{id:m,groupId:b,name:I,type:G,url:ne});const me=this.switchParams(d.url,e?.details);this.loadPlaylist(me)}else this.hls.trigger(Rt.SUBTITLE_TRACK_SWITCH,{id:n})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=-1;const e=fh(this.media.textTracks);for(let i=0;i<e.length;i++)if("hidden"===e[i].mode)n=i;else if("showing"===e[i].mode){n=i;break}this.subtitleTrack!==n&&(this.subtitleTrack=n)}},timelineController:class IE{constructor(n){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=n,this.config=n.config,this.Cues=n.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const e=new ph(this,"textTrack1"),i=new ph(this,"textTrack2"),o=new ph(this,"textTrack3"),d=new ph(this,"textTrack4");this.cea608Parser1=new V_(1,e,i),this.cea608Parser2=new V_(3,o,d)}n.on(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Rt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(Rt.FRAG_LOADING,this.onFragLoading,this),n.on(Rt.FRAG_LOADED,this.onFragLoaded,this),n.on(Rt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.on(Rt.FRAG_DECRYPTED,this.onFragDecrypted,this),n.on(Rt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(Rt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.on(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Rt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(Rt.FRAG_LOADING,this.onFragLoading,this),n.off(Rt.FRAG_LOADED,this.onFragLoaded,this),n.off(Rt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.off(Rt.FRAG_DECRYPTED,this.onFragDecrypted,this),n.off(Rt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(Rt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.off(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(n,e,i,o,d){let m=!1;for(let b=d.length;b--;){const I=d[b],G=Q_(I[0],I[1],e,i);if(G>=0&&(I[0]=Math.min(I[0],e),I[1]=Math.max(I[1],i),m=!0,G/(i-e)>.5))return}if(m||d.push([e,i]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[n],e,i,o);else{const b=this.Cues.newCue(null,e,i,o);this.hls.trigger(Rt.CUES_PARSED,{type:"captions",cues:b,track:n})}}onInitPtsFound(n,{frag:e,id:i,initPTS:o,timescale:d}){const{unparsedVttFrags:m}=this;"main"===i&&(this.initPTS[e.cc]={baseTime:o,timescale:d}),m.length&&(this.unparsedVttFrags=[],m.forEach(b=>{this.onFragLoaded(Rt.FRAG_LOADED,b)}))}getExistingTrack(n){const{media:e}=this;if(e)for(let i=0;i<e.textTracks.length;i++){const o=e.textTracks[i];if(o[n])return o}return null}createCaptionsTrack(n){this.config.renderTextTracksNatively?this.createNativeTrack(n):this.createNonNativeTrack(n)}createNativeTrack(n){if(this.captionsTracks[n])return;const{captionsProperties:e,captionsTracks:i,media:o}=this,{label:d,languageCode:m}=e[n],b=this.getExistingTrack(n);if(b)i[n]=b,Hl(i[n]),Pc(i[n],o);else{const I=this.createTextTrack("captions",d,m);I&&(I[n]=!0,i[n]=I)}}createNonNativeTrack(n){if(this.nonNativeCaptionsTracks[n])return;const e=this.captionsProperties[n];if(!e)return;const o={_id:n,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[n]=o,this.hls.trigger(Rt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[o]})}createTextTrack(n,e,i){const o=this.media;if(o)return o.addTextTrack(n,e,i)}onMediaAttaching(n,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:n}=this;Object.keys(n).forEach(e=>{Hl(n[e]),delete n[e]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:n}=this;if(!n)return;const e=n.textTracks;if(e)for(let i=0;i<e.length;i++)Hl(e[i])}onSubtitleTracksUpdated(n,e){const i=e.subtitleTracks||[],o=i.some(d=>d.textCodec===Z_);if(this.config.enableWebVTT||o&&this.config.enableIMSC1){if(zd(this.tracks,i))return void(this.tracks=i);if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const m=this.media?this.media.textTracks:null;this.tracks.forEach((b,I)=>{let G;if(m&&I<m.length){let ne=null;for(let me=0;me<m.length;me++)if(bd(m[me],b)){ne=m[me];break}ne&&(G=ne)}if(G)Hl(G);else{const ne=this._captionsOrSubtitlesFromCharacteristics(b);G=this.createTextTrack(ne,b.name,b.lang),G&&(G.mode="disabled")}G&&(G.groupId=b.groupId,this.textTracks.push(G))})}else if(this.tracks.length){const m=this.tracks.map(b=>({label:b.name,kind:b.type.toLowerCase(),default:b.default,subtitleTrack:b}));this.hls.trigger(Rt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:m})}}}_captionsOrSubtitlesFromCharacteristics(n){if(n.attrs.CHARACTERISTICS){const e=/transcribes-spoken-dialog/gi.test(n.attrs.CHARACTERISTICS),i=/describes-music-and-sound/gi.test(n.attrs.CHARACTERISTICS);if(e&&i)return"captions"}return"subtitles"}onManifestLoaded(n,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach(i=>{const o=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!o)return;const m=this.captionsProperties[`textTrack${o[1]}`];m&&(m.label=i.name,i.lang&&(m.languageCode=i.lang),m.media=i)})}closedCaptionsForLevel(n){const e=this.hls.levels[n.level];return e?.attrs["CLOSED-CAPTIONS"]}onFragLoading(n,e){const{cea608Parser1:i,cea608Parser2:o,lastSn:d,lastPartIndex:m}=this;if(this.enabled&&i&&o&&"main"===e.frag.type){var b,I;const G=e.frag.sn,ne=null!=(b=null==e||null==(I=e.part)?void 0:I.index)?b:-1;G===d+1||G===d&&ne===m+1||(i.reset(),o.reset()),this.lastSn=G,this.lastPartIndex=ne}}onFragLoaded(n,e){const{frag:i,payload:o}=e;if("subtitle"===i.type)if(o.byteLength){const d=i.decryptdata;if(null==d||!d.encrypted||"stats"in e){const b=this.tracks[i.level],I=this.vttCCs;I[i.cc]||(I[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),b&&b.textCodec===Z_?this._parseIMSC1(i,o):this._parseVTTs(e)}}else this.hls.trigger(Rt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(n,e){const i=this.hls;AE(e,this.initPTS[n.cc],o=>{this._appendCues(o,n.level),i.trigger(Rt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},o=>{Bt.log(`Failed to parse IMSC1: ${o}`),i.trigger(Rt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:o})})}_parseVTTs(n){var e;const{frag:i,payload:o}=n,{initPTS:d,unparsedVttFrags:m}=this,b=d.length-1;if(!d[i.cc]&&-1===b)return void m.push(n);const I=this.hls;!function gA(r,n,e,i,o,d,m){const b=new DE,I=Yo(new Uint8Array(r)).trim().replace(vh,"\n").split("\n"),G=[],ne=n?function Yu(r,n=1){return Ku(r,9e4,1/n)}(n.baseTime,n.timescale):0;let mt,me="00:00.000",ze=0,et=0,St=!0;b.oncue=function(Ot){const zt=e[i];let hn=e.ccOffset;const ln=(ze-ne)/9e4;if(null!=zt&&zt.new&&(void 0!==et?hn=e.ccOffset=zt.start:function(n,e,i){let o=n[e],d=n[o.prevCC];if(!d||!d.new&&o.new)return n.ccOffset=n.presentationOffset=o.start,void(o.new=!1);for(;null!=(m=d)&&m.new;){var m;n.ccOffset+=o.start-d.start,o.new=!1,o=d,d=n[o.prevCC]}n.presentationOffset=i}(e,i,ln)),ln){if(!n)return void(mt=new Error("Missing initPTS for VTT MPEGTS"));hn=ln-e.presentationOffset}const En=Ot.endTime-Ot.startTime,Dn=Xs(9e4*(Ot.startTime+hn-et),9e4*o)/9e4;Ot.startTime=Math.max(Dn,0),Ot.endTime=Math.max(Dn+En,0);const Hn=Ot.text.trim();Ot.text=decodeURIComponent(encodeURIComponent(Hn)),Ot.id||(Ot.id=bh(Ot.startTime,Ot.endTime,Hn)),Ot.endTime>0&&G.push(Ot)},b.onparsingerror=function(Ot){mt=Ot},b.onflush=function(){mt?m(mt):d(G)},I.forEach(Ot=>{if(St){if(pl(Ot,"X-TIMESTAMP-MAP=")){St=!1,Ot.slice(16).split(",").forEach(zt=>{pl(zt,"LOCAL:")?me=zt.slice(6):pl(zt,"MPEGTS:")&&(ze=parseInt(zt.slice(7)))});try{et=function(n){let e=parseInt(n.slice(-3));const i=parseInt(n.slice(-6,-4)),o=parseInt(n.slice(-9,-7)),d=n.length>9?parseInt(n.substring(0,n.indexOf(":"))):0;if(!(yi(e)&&yi(i)&&yi(o)&&yi(d)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${n}`);return e+=1e3*i,e+=6e4*o,e+=36e5*d,e}(me)/1e3}catch(zt){mt=zt}return}""===Ot&&(St=!1)}b.parse(Ot+"\n")}),b.flush()}(null!=(e=i.initSegment)&&e.data?_t(i.initSegment.data,new Uint8Array(o)):o,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,ne=>{this._appendCues(ne,i.level),I.trigger(Rt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},ne=>{const me="Missing initPTS for VTT MPEGTS"===ne.message;me?m.push(n):this._fallbackToIMSC1(i,o),Bt.log(`Failed to parse VTT cue: ${ne}`),!(me&&b>i.cc)&&I.trigger(Rt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:ne})})}_fallbackToIMSC1(n,e){const i=this.tracks[n.level];i.textCodec||AE(e,this.initPTS[n.cc],()=>{i.textCodec=Z_,this._parseIMSC1(n,e)},()=>{i.textCodec="wvtt"})}_appendCues(n,e){const i=this.hls;if(this.config.renderTextTracksNatively){const o=this.textTracks[e];if(!o||"disabled"===o.mode)return;n.forEach(d=>Gd(o,d))}else{const o=this.tracks[e];if(!o)return;i.trigger(Rt.CUES_PARSED,{type:"subtitles",cues:n,track:o.default?"default":"subtitles"+e})}}onFragDecrypted(n,e){const{frag:i}=e;"subtitle"===i.type&&this.onFragLoaded(Rt.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(n,e){const{cea608Parser1:i,cea608Parser2:o}=this;if(!this.enabled||!i||!o)return;const{frag:d,samples:m}=e;if("main"!==d.type||"NONE"!==this.closedCaptionsForLevel(d))for(let b=0;b<m.length;b++){const I=m[b].bytes;if(I){const G=this.extractCea608Data(I);i.addData(m[b].pts,G[0]),o.addData(m[b].pts,G[1])}}}onBufferFlushing(n,{startOffset:e,endOffset:i,endOffsetSubtitles:o,type:d}){const{media:m}=this;if(m&&!(m.currentTime<i)){if(!d||"video"===d){const{captionsTracks:b}=this;Object.keys(b).forEach(I=>dl(b[I],e,i))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==o){const{textTracks:b}=this;Object.keys(b).forEach(I=>dl(b[I],e,o))}}}extractCea608Data(n){const e=[[],[]],i=31&n[0];let o=2;for(let d=0;d<i;d++){const m=n[o++],b=127&n[o++],I=127&n[o++];if((0!==b||0!==I)&&0!=(4&m)){const ne=3&m;(0===ne||1===ne)&&(e[ne].push(b),e[ne].push(I))}}return e}},audioStreamController:class F_ extends bn{constructor(n,e,i){super(n,e,i,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Rt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),n.on(Rt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(Rt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.on(Rt.ERROR,this.onError,this),n.on(Rt.BUFFER_RESET,this.onBufferReset,this),n.on(Rt.BUFFER_CREATED,this.onBufferCreated,this),n.on(Rt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(Rt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Rt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),n.off(Rt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(Rt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.off(Rt.ERROR,this.onError,this),n.off(Rt.BUFFER_RESET,this.onBufferReset,this),n.off(Rt.BUFFER_CREATED,this.onBufferCreated,this),n.off(Rt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(Rt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(n,{frag:e,id:i,initPTS:o,timescale:d}){if("main"===i){const m=e.cc;this.initPTS[e.cc]={baseTime:o,timescale:d},this.log(`InitPTS for cc: ${m} found from main: ${o}`),this.videoTrackCC=m,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(n){if(!this.levels)return this.startPosition=n,void(this.state="STOPPED");const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===n?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),n=e,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var n;const{levels:i,trackId:o}=this,d=null==i||null==(n=i[o])?void 0:n.details;if(d){if(this.waitForCdnTuneIn(d))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const i=performance.now(),o=this.retryDate;(!o||i>=o||null!=(e=this.media)&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const i=this.waitingData;if(i){const{frag:o,part:d,cache:m,complete:b}=i;if(void 0!==this.initPTS[o.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const G={frag:o,part:d,payload:m.flush(),networkDetails:null};this._handleFragmentLoadProgress(G),b&&super._handleFragmentLoadComplete(G)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${o.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const I=this.getLoadPosition(),G=Kr.bufferInfo(this.mediaBuffer,I,this.config.maxBufferHole);Ka(G.end,this.config.maxFragLookUpTolerance,o)<0&&(this.log(`Waiting fragment cc (${o.cc}) @ ${o.start} cancelled because another fragment at ${G.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const n=this.waitingData;n&&(this.fragmentTracker.removeFragment(n.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:n}=this;null!=n&&n.readyState&&(this.lastCurrentTime=n.currentTime)}doTickIdle(){const{hls:n,levels:e,media:i,trackId:o}=this;if(null==e||!e[o]||!i&&(this.startFragRequested||!n.config.startFragPrefetch))return;const m=e[o],b=m.details;if(!b||b.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(b))return void(this.state="WAITING_TRACK");const I=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&I&&(this.bufferFlushed=!1,this.afterBufferFlushed(I,"audio","audio"));const G=this.getFwdBufferInfo(I,"audio");if(null===G)return;const{bufferedTrack:ne,switchingTrack:me}=this;if(!me&&this._streamEnded(G,b))return n.trigger(Rt.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const ze=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),et=G.len,mt=this.getMaxBufferLength(ze?.len);if(et>=mt&&!me)return;const Ot=b.fragments[0].start;let zt=G.end;if(me&&i){const Dn=this.getLoadPosition();ne&&me.attrs!==ne.attrs&&(zt=Dn),b.PTSKnown&&Dn<Ot&&(G.end>Ot||G.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=Ot+.05)}let hn=this.getNextFragment(zt,b),ln=!1;if(hn&&this.isLoopLoading(hn,zt)&&(ln=!!hn.gap,hn=this.getNextFragmentLoopLoading(hn,b,G,"main",mt)),!hn)return void(this.bufferFlushed=!0);const En=ze&&hn.start>ze.end+b.targetduration;if(En||(null==ze||!ze.len)&&G.len){const Dn=this.getAppendedFrag(hn.start,"main");if(null===Dn||(ln||(ln=!!Dn.gap||!!En&&0===ze.len),En&&!ln||ln&&G.nextStart&&G.nextStart<Dn.end))return}this.loadFragment(hn,m,zt)}getMaxBufferLength(n){const e=super.getMaxBufferLength();return n?Math.min(Math.max(e,n),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(n,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map(i=>new fl(i))}onAudioTrackSwitching(n,e){const i=!!e.url;this.trackId=e.id;const{fragCurrent:o}=this;o&&(o.abortRequests(),this.removeUnbufferedFrags(o.start)),this.resetLoadingState(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.switchingTrack=e,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=e,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(n,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(Rt.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(n,e){var i;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:o}=this,{details:d,id:m}=e;if(!o)return void this.warn(`Audio tracks were reset while loading level ${m}`);this.log(`Track ${m} loaded [${d.startSN},${d.endSN}]${d.lastPartSn?`[part-${d.lastPartSn}-${d.lastPartIndex}]`:""},duration:${d.totalduration}`);const b=o[m];let I=0;if(d.live||null!=(i=b.details)&&i.live){const G=this.mainDetails;if(d.fragments[0]||(d.deltaUpdateFailed=!0),d.deltaUpdateFailed||!G)return;!b.details&&d.hasProgramDateTime&&G.hasProgramDateTime?(Uu(d,G),I=d.fragments[0].start):I=this.alignPlaylists(d,b.details)}b.details=d,this.levelLastLoaded=m,!this.startFragRequested&&(this.mainDetails||!d.live)&&this.setStartPosition(b.details,I),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(d)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(n){var e;const{frag:i,part:o,payload:d}=n,{config:m,trackId:b,levels:I}=this;if(!I)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const G=I[b];if(!G)return void this.warn("Audio track is undefined on fragment load progress");const ne=G.details;if(!ne)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(i.start);const me=m.defaultAudioCodec||G.audioCodec||"mp4a.40.2";let ze=this.transmuxer;ze||(ze=this.transmuxer=new R_(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const et=this.initPTS[i.cc],mt=null==(e=i.initSegment)?void 0:e.data;if(void 0!==et){const Ot=o?o.index:-1,hn=new Uc(i.level,i.sn,i.stats.chunkCount,d.byteLength,Ot,-1!==Ot);ze.push(d,mt,me,"",i,o,ne.totalduration,!1,hn,et)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${ne.startSN} ,${ne.endSN}],track ${b}`);const{cache:St}=this.waitingData=this.waitingData||{frag:i,part:o,cache:new Jm,complete:!1};St.push(new Uint8Array(d)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(n){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(n)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(n,e){const i=e.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(n,e){const{frag:i,part:o}=e;if("audio"===i.type)if(this.fragContextChanged(i))this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==i.sn){this.fragPrevious=i;const d=this.switchingTrack;d&&(this.bufferedTrack=d,this.switchingTrack=null,this.hls.trigger(Rt.AUDIO_TRACK_SWITCHED,bo({},d)))}this.fragBufferedComplete(i,o)}else if(!this.loadedmetadata&&"main"===i.type){const d=this.videoBuffer||this.media;d&&Kr.getBuffered(d).length&&(this.loadedmetadata=!0)}}onError(n,e){var i;if(e.fatal)this.state="ERROR";else switch(e.details){case wn.FRAG_GAP:case wn.FRAG_PARSING_ERROR:case wn.FRAG_DECRYPT_ERROR:case wn.FRAG_LOAD_ERROR:case wn.FRAG_LOAD_TIMEOUT:case wn.KEY_LOAD_ERROR:case wn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",e);break;case wn.AUDIO_TRACK_LOAD_ERROR:case wn.AUDIO_TRACK_LOAD_TIMEOUT:case wn.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(i=e.context)?void 0:i.type)&&(this.state="IDLE");break;case wn.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case wn.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushed(n,{type:e}){"audio"===e&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(n){var e;const i="audio",{hls:o}=this,{remuxResult:d,chunkMeta:m}=n,b=this.getCurrentContext(m);if(!b)return void this.resetWhenMissingContext(m);const{frag:I,part:G,level:ne}=b,{details:me}=ne,{audio:ze,text:et,id3:mt,initSegment:St}=d;if(!this.fragContextChanged(I)&&me){if(this.state="PARSING",this.switchingTrack&&ze&&this.completeAudioSwitch(this.switchingTrack),null!=St&&St.tracks){const Ot=I.initSegment||I;this._bufferInitSegment(St.tracks,Ot,m),o.trigger(Rt.FRAG_PARSING_INIT_SEGMENT,{frag:Ot,id:i,tracks:St.tracks})}if(ze){const{startPTS:Ot,endPTS:zt,startDTS:hn,endDTS:ln}=ze;G&&(G.elementaryStreams.audio={startPTS:Ot,endPTS:zt,startDTS:hn,endDTS:ln}),I.setElementaryStreamInfo("audio",Ot,zt,hn,ln),this.bufferFragmentData(ze,I,G,m)}if(null!=mt&&null!=(e=mt.samples)&&e.length){const Ot=qr({id:i,frag:I,details:me},mt);o.trigger(Rt.FRAG_PARSING_METADATA,Ot)}if(et){const Ot=qr({id:i,frag:I,details:me},et);o.trigger(Rt.FRAG_PARSING_USERDATA,Ot)}}else this.fragmentTracker.removeFragment(I)}_bufferInitSegment(n,e,i){if("PARSING"!==this.state)return;n.video&&delete n.video;const o=n.audio;if(!o)return;o.levelCodec=o.codec,o.id="audio",this.log(`Init audio buffer, container:${o.container}, codecs[parsed]=[${o.codec}]`),this.hls.trigger(Rt.BUFFER_CODECS,n);const d=o.initSegment;null!=d&&d.byteLength&&this.hls.trigger(Rt.BUFFER_APPENDING,{type:"audio",frag:e,part:null,chunkMeta:i,parent:e.type,data:d}),this.tick()}loadFragment(n,e,i){const o=this.fragmentTracker.getState(n);var d;this.fragCurrent=n,this.switchingTrack||"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===n.sn?this._loadInitSegment(n,e):null!=(d=e.details)&&d.live&&!this.initPTS[n.cc]?(this.log(`Waiting for video PTS in continuity counter ${n.cc} of live stream before loading audio fragment ${n.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(n,e,i)):this.clearTrackerIfNeeded(n)}completeAudioSwitch(n){const{hls:e,media:i,bufferedTrack:o}=this,d=o?.attrs,m=n.attrs;i&&d&&(d.CHANNELS!==m.CHANNELS||d.NAME!==m.NAME||d.LANGUAGE!==m.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=n,this.switchingTrack=null,e.trigger(Rt.AUDIO_TRACK_SWITCHED,bo({},n))}},audioTrackController:class Xm extends pn{constructor(n){super(n,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:n}=this;n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Rt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.on(Rt.ERROR,this.onError,this)}unregisterListeners(){const{hls:n}=this;n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.off(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Rt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.off(Rt.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(n,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(n,e){const{id:i,groupId:o,details:d}=e,m=this.tracksInGroup[i];if(!m||m.groupId!==o)return void this.warn(`Track with id:${i} and group:${o} not found in active group ${m.groupId}`);const b=m.details;m.details=e.details,this.log(`audio-track ${i} "${m.name}" lang:${m.lang} group:${o} loaded [${d.startSN}-${d.endSN}]`),i===this.trackId&&this.playlistLoaded(i,e,b)}onLevelLoading(n,e){this.switchLevel(e.level)}onLevelSwitching(n,e){this.switchLevel(e.level)}switchLevel(n){const e=this.hls.levels[n];if(null==e||!e.audioGroupIds)return;const i=e.audioGroupIds[e.urlId];if(this.groupId!==i){this.groupId=i||null;const o=this.tracks.filter(m=>!i||m.groupId===i);this.selectDefaultTrack&&!o.some(m=>m.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=o;const d={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group:${i}`),this.hls.trigger(Rt.AUDIO_TRACKS_UPDATED,d),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(n,e){e.fatal||!e.context||"audioTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(n){this.selectDefaultTrack=!1,this.setAudioTrack(n)}setAudioTrack(n){const e=this.tracksInGroup;if(n<0||n>=e.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const i=this.currentTrack,o=e[n],{groupId:d,name:m}=o;if(this.log(`Switching to audio-track ${n} "${m}" lang:${o.lang} group:${d}`),this.trackId=n,this.currentTrack=o,this.selectDefaultTrack=!1,this.hls.trigger(Rt.AUDIO_TRACK_SWITCHING,bo({},o)),o.details&&!o.details.live)return;const b=this.switchParams(o.url,i?.details);this.loadPlaylist(b)}selectInitialTrack(){const n=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{const i=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${n.length}`);this.warn(i.message),this.hls.trigger(Rt.ERROR,{type:Mi.MEDIA_ERROR,details:wn.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:i})}}findTrackId(n){const e=this.tracksInGroup;for(let i=0;i<e.length;i++){const o=e[i];if((!this.selectDefaultTrack||o.default)&&(!n||void 0!==n.attrs["STABLE-RENDITION-ID"]&&n.attrs["STABLE-RENDITION-ID"]===o.attrs["STABLE-RENDITION-ID"]||n.name===o.name&&n.lang===o.lang))return o.id}return-1}loadPlaylist(n){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const i=e.id,o=e.groupId;let d=e.url;if(n)try{d=n.addDirectives(d)}catch(m){this.warn(`Could not construct new URL with HLS Delivery Directives: ${m}`)}this.log(`loading audio-track playlist ${i} "${e.name}" lang:${e.lang} group:${o}`),this.clearTimer(),this.hls.trigger(Rt.AUDIO_TRACK_LOADING,{url:d,id:i,groupId:o,deliveryDirectives:n||null})}}},emeController:wE,cmcdController:Ed,contentSteeringController:class Br{constructor(n){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=n,this.log=Bt.log.bind(Bt,"[content-steering]:"),this.registerListeners()}registerListeners(){const n=this.hls;n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.ERROR,this.onError,this)}unregisterListeners(){const n=this.hls;n&&(n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const n=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,n)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(n){const e=this.levels;e&&(this.levels=e.filter(i=>i!==n))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(n,e){const{contentSteering:i}=e;null!==i&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(n,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(n,e){const{errorAction:i}=e;if(2===i?.action&&1===i.flags){let o=this.pathwayPriority;const d=this.pathwayId;this.penalizedPathways[d]||(this.penalizedPathways[d]=performance.now()),!o&&this.levels&&(o=this.levels.reduce((m,b)=>(-1===m.indexOf(b.pathwayId)&&m.push(b.pathwayId),m),[])),o&&o.length>1&&(this.updatePathwayPriority(o),i.resolved=this.pathwayId!==d)}}filterParsedLevels(n){this.levels=n;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const i=n[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),e=this.getLevelsForPathway(i),this.pathwayId=i}return e.length!==n.length?(this.log(`Found ${e.length}/${n.length} levels in Pathway "${this.pathwayId}"`),e):n}getLevelsForPathway(n){return null===this.levels?[]:this.levels.filter(e=>n===e.pathwayId)}updatePathwayPriority(n){let e;this.pathwayPriority=n;const i=this.penalizedPathways,o=performance.now();Object.keys(i).forEach(d=>{o-i[d]>3e5&&delete i[d]});for(let d=0;d<n.length;d++){const m=n[d];if(i[m])continue;if(m===this.pathwayId)return;const b=this.hls.nextLoadLevel,I=this.hls.levels[b];if(e=this.getLevelsForPathway(m),e.length>0){this.log(`Setting Pathway to "${m}"`),this.pathwayId=m,this.hls.trigger(Rt.LEVELS_UPDATED,{levels:e});const G=this.hls.levels[b];I&&G&&this.levels&&(G.attrs["STABLE-VARIANT-ID"]!==I.attrs["STABLE-VARIANT-ID"]&&G.bitrate!==I.bitrate&&this.log(`Unstable Pathways change from bitrate ${I.bitrate} to ${G.bitrate}`),this.hls.nextLoadLevel=b);break}}}clonePathways(n){const e=this.levels;if(!e)return;const i={},o={};n.forEach(d=>{const{ID:m,"BASE-ID":b,"URI-REPLACEMENT":I}=d;if(e.some(ne=>ne.pathwayId===m))return;const G=this.getLevelsForPathway(b).map(ne=>{const me=qr({},ne);me.details=void 0,me.url=dp(ne.uri,ne.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",I);const ze=new Bi(ne.attrs);ze["PATHWAY-ID"]=m;const et=ze.AUDIO&&`${ze.AUDIO}_clone_${m}`,mt=ze.SUBTITLES&&`${ze.SUBTITLES}_clone_${m}`;et&&(i[ze.AUDIO]=et,ze.AUDIO=et),mt&&(o[ze.SUBTITLES]=mt,ze.SUBTITLES=mt),me.attrs=ze;const St=new fl(me);return fi(St,"audio",et),fi(St,"text",mt),St});e.push(...G),Jd(this.audioTracks,i,I,m),Jd(this.subtitleTracks,o,I,m)})}loadSteeringManifest(n){const e=this.hls.config,i=e.loader;let o;this.loader&&this.loader.destroy(),this.loader=new i(e);try{o=new self.URL(n)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${n}`)}if("data:"!==o.protocol){const ne=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);o.searchParams.set("_HLS_pathway",this.pathwayId),o.searchParams.set("_HLS_throughput",""+ne)}const d={responseType:"json",url:o.href},m=e.steeringManifestLoadPolicy.default,b=m.errorRetry||m.timeoutRetry||{},I={loadPolicy:m,timeout:m.maxLoadTimeMs,maxRetry:b.maxNumRetry||0,retryDelay:b.retryDelayMs||0,maxRetryDelay:b.maxRetryDelayMs||0},G={onSuccess:(ne,me,ze,et)=>{this.log(`Loaded steering manifest: "${o}"`);const mt=ne.data;if(1!==mt.VERSION)return void this.log(`Steering VERSION ${mt.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=mt.TTL;const{"RELOAD-URI":St,"PATHWAY-CLONES":Ot,"PATHWAY-PRIORITY":zt}=mt;if(St)try{this.uri=new self.URL(St,o).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${St}`)}this.scheduleRefresh(this.uri||ze.url),Ot&&this.clonePathways(Ot),zt&&this.updatePathwayPriority(zt)},onError:(ne,me,ze,et)=>{if(this.log(`Error loading steering manifest: ${ne.code} ${ne.text} (${me.url})`),this.stopLoad(),410===ne.code)return this.enabled=!1,void this.log(`Steering manifest ${me.url} no longer available`);let mt=1e3*this.timeToLoad;if(429!==ne.code)this.scheduleRefresh(this.uri||me.url,mt);else{const St=this.loader;if("function"==typeof St?.getResponseHeader){const Ot=St.getResponseHeader("Retry-After");Ot&&(mt=1e3*parseFloat(Ot))}this.log(`Steering manifest ${me.url} rate limited`)}},onTimeout:(ne,me,ze)=>{this.log(`Timeout loading steering manifest (${me.url})`),this.scheduleRefresh(this.uri||me.url)}};this.log(`Requesting steering manifest: ${o}`),this.loader.load(d,I,G)}scheduleRefresh(n,e=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(n)},e)}}});function Qd(r){return r&&"object"==typeof r?Array.isArray(r)?r.map(Qd):Object.keys(r).reduce((n,e)=>(n[e]=Qd(r[e]),n),{}):r}let gc=(()=>{class r{static get version(){return"1.4.10"}static isSupported(){return function si(){const r=wc();if(!r)return!1;const n=Nn();return!(!r||"function"!=typeof r.isTypeSupported||!r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||n&&(!n.prototype||"function"!=typeof n.prototype.appendBuffer||"function"!=typeof n.prototype.remove))}()}static get Events(){return Rt}static get ErrorTypes(){return Mi}static get ErrorDetails(){return wn}static get DefaultConfig(){return r.defaultConfig?r.defaultConfig:Td}static set DefaultConfig(e){r.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new ch,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function Xt(r,n){if(self.console&&!0===r||"object"==typeof r){!function Mt(r,...n){n.forEach(function(e){xt[e]=r[e]?r[e].bind(r):function rt(r){const n=self.console[r];return n?n.bind(self.console,`[${r}] >`):Eo}(e)})}(r,"debug","log","info","warn","error");try{xt.log(`Debug logs enabled for "${n}" in hls.js version 1.4.10`)}catch{xt=Ie}}else xt=Ie}(e.debug||!1,"Hls instance");const i=this.config=function _p(r,n){if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==n.liveMaxLatencyDurationCount&&(void 0===n.liveSyncDurationCount||n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(void 0===n.liveSyncDuration||n.liveMaxLatencyDuration<=n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const e=Qd(r),o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(d=>{const m=`${"level"===d?"playlist":d}LoadPolicy`,b=void 0===n[m],I=[];o.forEach(G=>{const ne=`${d}Loading${G}`,me=n[ne];if(void 0!==me&&b){I.push(ne);const ze=e[m].default;switch(n[m]={default:ze},G){case"TimeOut":ze.maxLoadTimeMs=me,ze.maxTimeToFirstByteMs=me;break;case"MaxRetry":ze.errorRetry.maxNumRetry=me,ze.timeoutRetry.maxNumRetry=me;break;case"RetryDelay":ze.errorRetry.retryDelayMs=me,ze.timeoutRetry.retryDelayMs=me;break;case"MaxRetryTimeout":ze.errorRetry.maxRetryDelayMs=me,ze.timeoutRetry.maxRetryDelayMs=me}}}),I.length&&Bt.warn(`hls.js config: "${I.join('", "')}" setting(s) are deprecated, use "${m}": ${JSON.stringify(n[m])}`)}),bo(bo({},e),n)}(r.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,i.progressive&&function LE(r){const n=r.loader;n!==hp&&n!==up?(Bt.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):function fp(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(r.loader=hp,r.progressive=!0,r.enableSoftwareAES=!0,Bt.log("[config]: Progressive streaming enabled, using FetchLoader"))}(i);const{abrController:o,bufferController:d,capLevelController:m,errorController:b,fpsController:I}=i,G=new b(this),ne=this.abrController=new o(this),me=this.bufferController=new d(this),ze=this.capLevelController=new m(this),et=new I(this),mt=new od(this),St=new Lu(this),Ot=i.contentSteeringController,zt=Ot?new Ot(this):null,hn=this.levelController=new Bn(this,zt),ln=new Yi(this),En=new Wa(this.config),Dn=this.streamController=new qm(this,ln,En);ze.setStreamController(Dn),et.setStreamController(Dn);const Hn=[mt,hn,Dn];zt&&Hn.splice(1,0,zt),this.networkControllers=Hn;const Rn=[ne,me,ze,et,St,ln];this.audioTrackController=this.createController(i.audioTrackController,Hn);const $n=i.audioStreamController;$n&&Hn.push(new $n(this,ln,En)),this.subtitleTrackController=this.createController(i.subtitleTrackController,Hn);const ii=i.subtitleStreamController;ii&&Hn.push(new ii(this,ln,En)),this.createController(i.timelineController,Rn),En.emeController=this.emeController=this.createController(i.emeController,Rn),this.cmcdController=this.createController(i.cmcdController,Rn),this.latencyController=this.createController(ad,Rn),this.coreComponents=Rn,Hn.push(G);const kn=G.onErrorOut;"function"==typeof kn&&this.on(Rt.ERROR,kn,G)}createController(e,i){if(e){const o=new e(this);return i&&i.push(o),o}return null}on(e,i,o=this){this._emitter.on(e,i,o)}once(e,i,o=this){this._emitter.once(e,i,o)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,i,o=this,d){this._emitter.off(e,i,o,d)}listeners(e){return this._emitter.listeners(e)}emit(e,i,o){return this._emitter.emit(e,i,o)}trigger(e,i){if(this.config.debug)return this.emit(e,e,i);try{return this.emit(e,e,i)}catch(o){Bt.error("An internal error happened while handling event "+e+'. Error message: "'+o.message+'". Here is a stacktrace:',o),this.trigger(Rt.ERROR,{type:Mi.OTHER_ERROR,details:wn.INTERNAL_EXCEPTION,fatal:!1,event:e,error:o})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){Bt.log("destroy"),this.trigger(Rt.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(i=>i.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(i=>i.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){Bt.log("attachMedia"),this._media=e,this.trigger(Rt.MEDIA_ATTACHING,{media:e})}detachMedia(){Bt.log("detachMedia"),this.trigger(Rt.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const i=this.media,o=this.url,d=this.url=Ra.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});Bt.log(`loadSource:${d}`),i&&o&&(o!==d||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(i)),this.trigger(Rt.MANIFEST_LOADING,{url:e})}startLoad(e=-1){Bt.log(`startLoad(${e})`),this.networkControllers.forEach(i=>{i.startLoad(e)})}stopLoad(){Bt.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){Bt.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){Bt.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,i=0){this.levelController.removeLevel(e,i)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){Bt.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){Bt.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){Bt.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){Bt.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){Bt.log(`set startLevel:${e}`),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const i=!!e;i!==this.config.capLevelToPlayerSize&&(i?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=i)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(Bt.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){cc.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:i}}=this;if(!e)return 0;const o=e.length;for(let d=0;d<o;d++)if(e[d].maxBitrate>=i)return d;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:i,maxHdcpLevel:o}=this;let d;if(d=-1===i&&e&&e.length?e.length-1:i,o)for(let m=d;m--;){const b=e[m].attrs["HDCP-LEVEL"];if(b&&b<=o)return m}return d}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const i=this.audioTrackController;i&&(i.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const i=this.subtitleTrackController;i&&(i.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const i=this.subtitleTrackController;i&&(i.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return r.defaultConfig=void 0,r})();var ar=S(7700);function Sd(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickDialogAction(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit;t.xp6(1),t.Oqu(e.text)}}let kE=(()=>{class r{constructor(e,i){this.dialog=e,this.options=i}onClickDialogAction(e){this.dialog.close(e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ar.so),t.Y36(ar.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,Sd,2,1,"ng-template",6),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(o.options.title),t.xp6(3),t.hij(" ",o.options.message," "),t.xp6(3),t.Q6J("ngForOf",o.options.actions))},dependencies:[g.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();class FE{}class av{}class Xd{}class lv{}class BE{}class UE{}const vp=["controlsContainer"],cv=["settingsContainer"],GE=["videoPrincipalContainer"],dv=["videoTarget"];function yp(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToPreviousEpisode())}),t._UZ(1,"i",56),t.qZA()}}function bA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToNextEpisode())}),t._UZ(1,"i",58),t.qZA()}}function HE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",59,60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t._UZ(2,"i",61),t.qZA()}}function jE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",62,63),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t._UZ(2,"i",64),t.qZA()}}const VE=function(r){return{"show-controls":r}};function EA(r,n){if(1&r&&(t.TgZ(0,"div",65),t._uU(1," Cargando video... "),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,VE,e.showControls))}}const KE=function(r){return{selected:r}};function Ch(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",76),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.onClickPrincipalSettingsOption(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(3);t.MGl("id","stream_option_",e.index,""),t.Q6J("ngClass",t.VKq(3,KE,i.currentSelectedPrincipalSettingOption&&e.index==i.currentSelectedPrincipalSettingOption.index)),t.xp6(1),t.hij(" ",e.name," ")}}function WE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",76),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(4);return t.KtG(m.onClickStreamOption(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.hYB("id","stream_option_",i.currentSelectedPrincipalSettingOption.id,"_suboption_",e.index,""),t.Q6J("ngClass",t.VKq(4,KE,i.currentSelectedPrincipalSettingOption.selectedOption&&i.currentSelectedPrincipalSettingOption.selectedOption.index==e.index)),t.xp6(1),t.hij(" ",e.name," ")}}function bp(r,n){if(1&r&&(t.TgZ(0,"section",77),t.YNc(1,WE,2,6,"ng-template",74),t.qZA()),2&r){const e=t.oxw(3);t.MGl("id","streams_suboptions_section_",e.currentSelectedPrincipalSettingOption.index,""),t.xp6(1),t.Q6J("ngForOf",e.currentSelectedPrincipalSettingOption.listOptions)}}function Ep(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",66,67)(2,"div",68)(3,"section",69)(4,"div",70)(5,"div",71)(6,"button",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hideSettings())}),t._UZ(7,"i",11),t.qZA()()()(),t.TgZ(8,"section",73),t.YNc(9,Ch,2,5,"ng-template",74),t.qZA(),t.YNc(10,bp,2,2,"section",75),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.listPrincipalSettingsOptions),t.xp6(1),t.Q6J("ngIf",e.currentSelectedPrincipalSettingOption)}}function eu(r,n){if(1&r&&t._UZ(0,"div",78),2&r){const e=n.$implicit,i=t.oxw(3);t.Udp("display",i.checkIfDisplaySubtitles(e)?"block":"none"),t.Q6J("innerHtml",e.text,t.oJD)}}function Tp(r,n){if(1&r&&t.YNc(0,eu,1,3,"ng-template",74),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.currentSubtitleData)}}function Sp(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"video",79,80),t.NdJ("error",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onErrorVideo())})("loadedmetadata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedMetadata())})("loadeddata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedData())})("ended",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnEndedVideo())}),t.qZA()}}const rf=function(r){return{show:r}};function Dh(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(!d.sharedService.isMobileDevice()&&d.onClickVideoContainer(o))})("touchstart",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(d.sharedService.isMobileDevice()&&d.onTouchVideoContainer(o))})("mousemove",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(d.onMouseMoveVideoContainer(o))}),t.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeVideo())}),t._UZ(7,"i",11),t.qZA(),t.TgZ(8,"div",12),t._uU(9),t.qZA()(),t.TgZ(10,"div",13)(11,"div",14)(12,"section",15)(13,"button",16)(14,"div",17,18),t._uU(16),t.qZA(),t.TgZ(17,"div",19)(18,"div",20),t.NdJ("contextmenu",function(){t.CHM(e);const o=t.MAs(23),d=t.oxw();return t.KtG(!d.sharedService.isMobileDevice()&&d.onClickSlider(o))})("click",function(){t.CHM(e);const o=t.MAs(23),d=t.oxw();return t.KtG(d.onClickSlider(o))})("touchend",function(){t.CHM(e);const o=t.MAs(23),d=t.oxw();return t.KtG(d.sharedService.isMobileDevice()&&d.onClickSlider(o))})("touchstart",function(o){t.CHM(e);const d=t.MAs(23),m=t.MAs(15),b=t.oxw();return t.KtG(b.sharedService.isMobileDevice()&&b.onTouchStartSlider(o,d,m))})("touchmove",function(o){t.CHM(e);const d=t.MAs(23),m=t.MAs(15),b=t.oxw();return t.KtG(b.sharedService.isMobileDevice()&&b.onTouchMoveSlider(o,d,m))})("mousedown",function(o){t.CHM(e);const d=t.MAs(23),m=t.oxw();return t.KtG(m.onMouseDownSlider(o,d))})("mousemove",function(o){t.CHM(e);const d=t.MAs(23),m=t.oxw();return t.KtG(m.onMouseMoveSlider(o,d))}),t._UZ(19,"div",21,22),t.TgZ(21,"div",23)(22,"div",24,25)(24,"div",26,25),t._UZ(26,"div",27,28),t.qZA()()()()(),t.TgZ(28,"div",17,29),t._uU(30),t.qZA()()(),t.TgZ(31,"section",30)(32,"div",31),t.YNc(33,yp,2,0,"button",32),t.qZA(),t.TgZ(34,"div",33)(35,"div",34),t.YNc(36,bA,2,0,"button",35),t.TgZ(37,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeObjectContain())}),t._UZ(38,"i",37),t.qZA(),t.TgZ(39,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleFullScreenVideo())}),t._UZ(40,"i",39),t.qZA(),t.TgZ(41,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showSettings())}),t._UZ(42,"i",41),t.qZA()()()(),t.TgZ(43,"div",42)(44,"div",43)(45,"section",44)(46,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.rewindVideo())}),t._UZ(47,"i",46),t.qZA(),t.YNc(48,HE,3,0,"button",47),t.YNc(49,jE,3,0,"button",48),t.TgZ(50,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.forwardVideo())}),t._UZ(51,"i",50),t.qZA()()()()()()(),t.YNc(52,EA,2,3,"div",51),t.YNc(53,Ep,11,2,"section",52),t.YNc(54,Tp,1,1,"ng-template",53),t.YNc(55,Sp,2,0,"video",54),t.qZA()()}if(2&r){const e=t.MAs(15),i=t.MAs(20),o=t.MAs(29),d=t.oxw();t.xp6(3),t.Q6J("ngClass",t.VKq(22,rf,d.showControls)),t.xp6(6),t.hij(" ",d.GetFullVideoTitle()," "),t.xp6(5),t.Udp("visibility",d.showControls?"":"hidden"),t.xp6(2),t.hij(" ",d.getVideoTime()," "),t.xp6(1),t.Udp("width","calc(100% - "+(e.offsetWidth+o.offsetWidth)+"px)"),t.xp6(5),t.Udp("width",i.offsetWidth+"px"),t.xp6(4),t.Udp("width",d.getSliderPogressWidth()),t.xp6(2),t.Udp("visibility",d.showControls?"":"hidden"),t.xp6(2),t.hij(" ",d.getDurationTime()," "),t.xp6(3),t.Q6J("ngIf",d.isEnablePreviousEpisodeButton()),t.xp6(3),t.Q6J("ngIf",d.isEnableNextEpisodeButton()),t.xp6(12),t.Q6J("ngIf",!d.isPlayingVideo()),t.xp6(1),t.Q6J("ngIf",d.isPlayingVideo()),t.xp6(3),t.Q6J("ngIf",!d.loadedData),t.xp6(1),t.Q6J("ngIf",d.showingSettings),t.xp6(1),t.Q6J("ngIf",d.currentSubtitleData),t.xp6(1),t.Q6J("ngIf",d.showVideoTarget)}}let tu=(()=>{class r{constructor(e,i,o,d,m,b,I,G,ne){this.signalIrService=e,this.activeRoute=i,this.router=o,this.libraryService=d,this.dialog=m,this.restProvider=b,this.sharedService=I,this.ref=G,this.http=ne,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.getMediaItemDetailByMediaFileAndProfile())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1,this.router.navigateByUrl("/media/server/"+me))})}ngOnInit(){this.initializeEventsAndIntervals();var e=this.activeRoute.snapshot.params.serverGuid;if(null!=e){var i=this.sharedService.mediaServers.find(o=>o.Guid==e);i&&(this.mediaServer=JSON.parse(JSON.stringify(i)),this.mediaServer.isSecureConnection?this.getMediaItemDetailByMediaFileAndProfile():setTimeout(()=>{0==this.mediaServer.isSecureConnection&&this.router.navigateByUrl("/media/server/"+e)},3e3))}else this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.updateMediaFilePlaybackInterval&&window.clearInterval(this.updateMediaFilePlaybackInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction)}initializeEventsAndIntervals(){let e=this;this.customMouseOutEvent=function(o){e.sliderContainer&&e.sliderContainer.startMove&&e.onClickSlider(e.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(o){e.deleteTranscodedMediaFile()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){e.ref.detectChanges()},0),this.updateMediaFilePlaybackInterval=window.setInterval(function(){e.updateMediaFilePlayback()},1e4)}getMediaItemDetailByMediaFileAndProfile(){var e=this.activeRoute.snapshot.params.mediaFileId;e?this.libraryService.GetMediaItemDetailByMediaFileAndProfile(this.mediaServer.Url,e,this.sharedService.currentProfile.Id).then(i=>{this.itemDetail=i,this.CreateTranscodedMediaFile()},i=>{this.router.navigateByUrl("/404")}):this.router.navigateByUrl("/404")}CreateTranscodedMediaFile(){this.loadStatus=Pt.Empty;var e=0;this.itemDetail.LastMediaFilePlayback&&(e=this.itemDetail.LastMediaFilePlayback.CurrentTime),this.restProvider.executeHttpMediaServerApi(Xe.POST,this.mediaServer.Url+"/api/mediaFilePlaybacks/CreateTranscodedMediaFile",this.GetMediaFilePlaybackRealTime(e)).then(o=>{this.loadStatus=Pt.Generated,this.transcodedMediaFile=o.Data,this.initializeStreams(),setTimeout(()=>{this.executeHideControls()},1e3),this.getVideoSource()},o=>{this.showLoadVideoErrorActionsDialog(),console.error(o)})}GetMediaFilePlaybackRealTime(e){var i;(i=new FE).Guid=kt();var o=new av;o.ProfileId=this.sharedService.currentProfile.Id,o.ProfileName=this.sharedService.currentProfile.FullName,o.AvatarPath=this.sharedService.currentProfile.AvatarPath,i.ProfileData=o;var d=new Xd;if(d.Platform=this.sharedService.platform,d.IsPlaying=!0,d.CurrentTime=e,i.ClientData=d,this.itemDetail.MediaItem.MediaTypeId==bt.Movie){var m=new lv,b=this.itemDetail.ListMediaFiles[0];m.Title=this.itemDetail.MediaItem.ExtendedTitle,m.PhysicalPath=b.PhysicalPath,m.MediaFileId=b.Id,i.ItemData=m}return this.itemDetail.MediaItem.MediaTypeId==bt.TvSerie&&((m=new lv).MediaFileId=(b=this.itemDetail.CurrentEpisode.ListMediaFiles[0]).Id,m.PhysicalPath=b.PhysicalPath,m.Title=this.itemDetail.MediaItem.Title,m.Subtitle="T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name,i.ItemData=m),i}retranscodeMediaFile(e){this.deleteLastTranscodedMediaFileProcess();var i=new UE;i.Guid=this.transcodedMediaFile.Guid,i.NewTime=e,this.loadStatus=Pt.Empty,this.restProvider.executeHttpMediaServerApi(Xe.PUT,this.mediaServer.Url+"/api/mediaFilePlaybacks/RetranscodeMediaFile",i).then(d=>{this.transcodedMediaFile.InitialTime=e,this.transcodedMediaFile.Url=d.Data,this.loadStatus=Pt.Generated,this.updateAudioAndVideoList(),this.getVideoSource()},d=>{this.showLoadVideoErrorActionsDialog(),console.error(d)})}deleteTranscodedMediaFile(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.restProvider.executeHttpMediaServerApi(Xe.DELETE,this.mediaServer.Url+"/api/mediaFilePlaybacks/DeleteTranscodedMediaFileByGuid/"+this.transcodedMediaFile.Guid).then(i=>{},i=>{console.error(i)})}deleteLastTranscodedMediaFileProcess(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.restProvider.executeHttpMediaServerApi(Xe.DELETE,this.mediaServer.Url+"/api/mediaFilePlaybacks/DeleteLastTranscodedMediaFileProcessByGuid/"+this.transcodedMediaFile.Guid).then(i=>{},i=>{console.error(i)})}updateMediaFilePlayback(){this.transcodedMediaFile&&this.restProvider.executeHttpMediaServerApi(Xe.PUT,this.mediaServer.Url+"/api/mediaFilePlaybacks/UpdateMediaFilePlayback",this.getUpdateMediaFilePlaybackRequestData()).then(i=>{},i=>{console.error(i)})}GetFullVideoTitle(){var e="";return this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==bt.Movie&&(e=this.itemDetail.MediaItem.ExtendedTitle),this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==bt.TvSerie&&(e=this.itemDetail.MediaItem.Title+" T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name),e}getUpdateMediaFilePlaybackRequestData(){var e=new BE;if(this.itemDetail.MediaItem.MediaTypeId==bt.Movie){var i=this.itemDetail.ListMediaFiles[0];e.Title=this.itemDetail.MediaItem.ExtendedTitle,e.MediaFileId=i.Id}this.itemDetail.MediaItem.MediaTypeId==bt.TvSerie&&(e.MediaFileId=(i=this.itemDetail.CurrentEpisode.ListMediaFiles[0]).Id,e.Title=this.itemDetail.MediaItem.Title,e.Subtitle="T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name),e.IsPlaying=this.isPlayingVideo(),e.ProfileId=this.sharedService.currentProfile.Id,e.Guid=this.transcodedMediaFile.Guid;var o=0;return this.getCurrentVideoTime()>0&&this.getCurrentVideoTime()<=this.transcodedMediaFile.Duration&&((o=this.getCurrentVideoTime())-20<0?o=0:o-=20),e.CurrentTime=o,e.DurationTime=this.transcodedMediaFile.Duration,e}isEnablePreviousEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let e=this.itemDetail.CurrentSeason.SeasonNumber,o=this.itemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o))return!0;{let m=e-1,b=this.itemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=b){let I=this.itemDetail.ListSeasons[b];return!!(I&&I.ListEpisodes&&I.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let e=this.itemDetail.CurrentSeason.SeasonNumber,o=this.itemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o))return!0;{let m=e+1,b=this.itemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=b){let I=this.itemDetail.ListSeasons[b];return!!(I&&I.ListEpisodes&&I.ListEpisodes.length)}return!1}}return!1}goToNextEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let e=this.itemDetail.CurrentSeason.SeasonNumber,o=this.itemDetail.CurrentEpisode.EpisodeNumber+1,d=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o);if(-1!=d)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[d]);else{let m=e+1,b=this.itemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=b){let I=this.itemDetail.ListSeasons[b];this.itemDetail.CurrentSeason=I,I&&I.ListEpisodes&&I.ListEpisodes.length&&this.getVideoByEpisode(I.ListEpisodes[0])}}}}goToPreviousEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let e=this.itemDetail.CurrentSeason.SeasonNumber,o=this.itemDetail.CurrentEpisode.EpisodeNumber-1,d=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o);if(-1!=d)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[d]);else{let m=e+1,b=this.itemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=b){let I=this.itemDetail.ListSeasons[b];this.itemDetail.CurrentSeason=I,I&&I.ListEpisodes&&I.ListEpisodes.length&&this.getVideoByEpisode(I.ListEpisodes[I.ListEpisodes.length-1])}}}}getVideoByEpisode(e){this.deleteTranscodedMediaFile(),this.itemDetail.ListSeasons&&(this.itemDetail.CurrentSeason=this.itemDetail.ListSeasons.find(o=>o.SeasonNumber==e.SeasonNumber),this.itemDetail.CurrentEpisode=this.itemDetail.CurrentSeason.ListEpisodes.find(o=>o.EpisodeNumber==e.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.loadStatus=Pt.Empty,this.restProvider.executeHttpMediaServerApi(Xe.POST,this.mediaServer.Url+"/api/mediaFilePlaybacks/CreateTranscodedMediaFile",this.GetMediaFilePlaybackRealTime(0)).then(o=>{this.loadStatus=Pt.Generated,this.transcodedMediaFile=o.Data,this.initializeStreams(),this.getVideoSource()},o=>{this.showLoadVideoErrorActionsDialog(),console.error(o)})}onTouchVideoContainer(e){this.showingSettings||this.sharedService.isMobileDevice()&&this.showControlsTemporarily(e)}onClickVideoContainer(e){this.showingSettings||(e.clicked=!0,setTimeout(()=>{e.clicked=!1},2e3),this.sharedService.isMobileDevice()||this.showControlsTemporarily(e))}onTouchStartSlider(e,i,o){this.sliderContainer=i,i.startMove=!0,this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/i.offsetWidth*100*this.transcodedMediaFile.Duration/100}onTouchMoveSlider(e,i,o){i.startMove&&(this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/i.offsetWidth*100*this.transcodedMediaFile.Duration/100)}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(e){this.currentSelectedPrincipalSettingOption=e}onClickStreamOption(e){this.currentSelectedPrincipalSettingOption.selectedOption=e,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=e.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==e.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=e.index,this.hls.subtitleDisplay=!0))}getSubtitle(e){let i=this;this.http.get(e,{responseType:"text"}).subscribe(o=>{o&&(0,Js.Q)(o)&&(0,Js.Q)(o).entries?(i.currentSubtitleData=(0,Js.Q)(o).entries,0==i.currentSubtitleData.length?setTimeout(()=>{i.getSubtitle(e)},1e3):i.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{i.getSubtitle(e)},1e3))},o=>{console.error(o),setTimeout(()=>{i.getSubtitle(e)},1e3)})}closeVideo(){document.fullscreenElement&&document.exitFullscreen(),this.deleteTranscodedMediaFile(),this.router.navigateByUrl("/home")}getConfirmMessage(){var e="Vacio";switch(this.loadStatus){case Pt.Empty:e="Vac\xedo";break;case Pt.Generated:e="Generado";break;case Pt.Initialized:e="Inicializado";break;case Pt.LoadedMetada:e="Cargado Metadata";break;case Pt.LoadedData:e="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+e+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.transcodedMediaFile.ListAudioStreams&&this.transcodedMediaFile.ListAudioStreams.length>0&&(this.transcodedMediaFile.ListAudioStreams.forEach(e=>{let i="";"spa"==e.language&&(i="Espa\xf1ol"),"eng"==e.language&&(i="Ingles"),e.title&&(i=i+" ("+e.title+")"),e.name=i}),this.listPrincipalSettingsOptions[0].listOptions=this.transcodedMediaFile.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.transcodedMediaFile.ListAudioStreams.find(e=>1==e.isDefault)),this.transcodedMediaFile.ListSubtitleStreams&&this.transcodedMediaFile.ListSubtitleStreams.length>0){this.transcodedMediaFile.ListSubtitleStreams.forEach(o=>{let d="";"spa"==o.language&&(d="Espa\xf1ol"),"eng"==o.language&&(d="Ingles"),o.title&&(d=d+" ("+o.title+")"),o.name=d});let e=[];e.push({index:1e6,name:"Ninguno"}),e=e.concat(this.transcodedMediaFile.ListSubtitleStreams),this.listPrincipalSettingsOptions[1].listOptions=e;let i=this.transcodedMediaFile.ListSubtitleStreams.find(o=>1==o.isDefault);null==i&&(i=e.find(o=>1e6==o.index)),this.listPrincipalSettingsOptions[1].selectedOption=i}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=null!=this.transcodedMediaFile.InitialTime?this.transcodedMediaFile.InitialTime:0}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.Duration?this.getFormatTime(this.transcodedMediaFile.Duration):"00:00:00"}getFormatTime(e){var i=parseInt(e,10),o=Math.floor(i/3600),d=Math.floor((i-3600*o)/60),m=i-3600*o-60*d;return o<10&&(o="0"+o),d<10&&(d="0"+d),m<10&&(m="0"+m),o+":"+d+":"+m}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let e=this.getCurrentVideoTime();return null!=e&&e>0?this.getFormatTime(e):"00:00:00"}}onMouseDownSlider(e,i){this.sliderContainer=i,i.startMove=!0,this.calculateNewTimeToGo(e,i)}onMouseMoveSlider(e,i){i.startMove&&this.calculateNewTimeToGo(e,i)}calculateNewTimeToGo(e,i){this.lastTmpVideoTime=e.offsetX/i.offsetWidth*100*this.transcodedMediaFile.Duration/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(e){if(this.lastTmpVideoTime){if(e.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let i=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(i)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let i=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(i)}this.lastTmpVideoTime=void 0}}getSliderPogressWidth(){if(this.transcodedMediaFile&&this.transcodedMediaFile.Duration){let e=this.transcodedMediaFile.Duration,o=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/e*100;return o>100&&(o=100),o+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==ut.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==ut.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(e){let i=this;this.dashMediaPlayer=la.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.transcodedMediaFile.Duration,bufferToKeep:this.transcodedMediaFile.Duration}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,e),this.dashMediaPlayer.on(la.MediaPlayer.events.ERROR,function(o){console.log(o),console.error("hubo un error")}),this.dashMediaPlayer.on(la.MediaPlayer.events.PLAYBACK_ERROR,function(o){console.log(o),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(la.MediaPlayer.events.PLAYBACK_WAITING,function(o){console.error("PLAYBACK_WAITING"),console.log(o)}),this.dashMediaPlayer.on(la.MediaPlayer.events.BUFFER_EMPTY,function(o){console.error("BUFFER_EMPTY"),console.log(o)}),this.dashMediaPlayer.on(la.MediaPlayer.events.STREAM_INITIALIZED,function(o){console.error("STREAM_INITIALIZED"),i.initializeVideo=!0,console.log(o)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}getCurrentVideoTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==ut.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(e){let o=1e3*(this.getCurrentVideoTime()-1);return e.from<=o&&e.to>=o}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.loadStatus=Pt.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.loadStatus=Pt.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}getVideoSource(){this.http.get(this.transcodedMediaFile.Url,{headers:void 0,responseType:"blob"}).subscribe(e=>{this.loadStatus=Pt.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.transcodedMediaFile.Url.indexOf("mpd")?this.displayVideoUsingDash(this.transcodedMediaFile.Url):-1!=this.transcodedMediaFile.Url.indexOf("m3u8")?this.displayVideoUsingHLS(this.transcodedMediaFile.Url):(this.videoTarget.nativeElement.src=this.transcodedMediaFile.Url,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},e=>{console.error(e),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(e){let i=this;this.timeOutLoadVideoId=setTimeout(()=>{i.loadStatus!=Pt.LoadedData&&i.showLoadVideoErrorActionsDialog()},1e4,i),this.showVideoInFullScreen(),gc.isSupported()?(this.hls=new gc,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(e),this.hls.on(gc.Events.MEDIA_ATTACHED,function(o){console.log("MEDIA_ATTACHED"),console.log(o)}),this.hls.on(gc.Events.AUDIO_TRACK_LOADED,function(o){console.log("AUDIO_LOADED"),console.log(o)}),this.hls.on(gc.Events.MANIFEST_LOADED,function(o){console.log("MANIFEST_LOADED"),console.log(o)}),this.hls.on(gc.Events.MANIFEST_PARSED,function(o){console.log("MANIFEST_PARSED"),console.log(o)}),this.hls.on(gc.Events.ERROR,function(o){i.videoTarget.nativeElement.CurrentTime=i.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(o)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=e,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(e){let i=kt();this.lastTimeSpanChangeGUID=i,setTimeout(()=>{i==this.lastTimeSpanChangeGUID&&this.retranscodeMediaFile(e)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(e){this.initializeVideo=!1;let i=0;i=this.getCurrentVideoTime()-e>=0?e:this.getCurrentVideoTime(),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==ut.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>i?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-i):(this.lastRealVideoTime=this.getCurrentVideoTime()-i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>i?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-i:(this.lastRealVideoTime=this.getCurrentVideoTime()-i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(e){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.transcodedMediaFile.Duration){let i=0;i=this.getCurrentVideoTime()+e>this.transcodedMediaFile.Duration?this.transcodedMediaFile.Duration>this.getCurrentVideoTime()?this.transcodedMediaFile.Duration-this.getCurrentVideoTime():0:e,this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==ut.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=i?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+i):(this.lastRealVideoTime=this.getCurrentVideoTime()+i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=i?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+i:(this.lastRealVideoTime=this.getCurrentVideoTime()+i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(e){!this.showControls&&!e.clicked&&!this.showingSettings&&this.showControlsTemporarily(e)}executeShowControlsTemporarily(e,i){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{e.guid==i&&this.executeHideControls()},2e3)}showControlsTemporarily(e){if(!this.showControls){let i=kt();e.guid=i,this.sharedService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(e,i)},250):this.executeShowControlsTemporarily(e,i)}}toogleVideoControls(e){this.showControls?this.showControls=!0:this.showControlsTemporarily(e)}showLoadVideoErrorActionsDialog(){var e=new ar.vA;e.disableClose=!0,e.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(kE,e).afterClosed().subscribe(i=>{"Si"==i.key&&this.onConfirmReplyVideo(),"No"==i.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Pr),t.Y36(Vn.gz),t.Y36(Vn.F0),t.Y36(vo),t.Y36(ar.uw),t.Y36(Li),t.Y36(hi),t.Y36(t.sBO),t.Y36(fe))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-video"]],viewQuery:function(i,o){if(1&i&&(t.Gf(vp,5),t.Gf(cv,5),t.Gf(GE,5),t.Gf(dv,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.controlsContainer=d.first),t.iGM(d=t.CRH())&&(o.settingsContainer=d.first),t.iGM(d=t.CRH())&&(o.videoPrincipalContainer=d.first),t.iGM(d=t.CRH())&&(o.videoTarget=d.first)}},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"sinovad-video-header-section-title-container"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1,2),t.YNc(3,Dh,56,24,"div",3),t.qZA()()),2&i&&(t.xp6(3),t.Q6J("ngIf",o.showVideo))},dependencies:[g.mk,g.sg,g.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return r})();const uv=["itemListContainer"];function Cp(r,n){if(1&r&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function Mh(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onClickItem(d))}),t._UZ(2,"img",12),t.qZA(),t.YNc(3,Cp,3,1,"div",13),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerie_ID:e.MovieId,"_",e.MediaType,""),t.xp6(1),t.Q6J("src",i.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",!e.Subtitle)}}function TA(r,n){if(1&r&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),t.YNc(6,Mh,4,4,"ng-template",3),t.qZA()()()()),2&r){const e=n.$implicit;t.MGl("id","section_search_",n.index,""),t.xp6(6),t.Q6J("ngForOf",e)}}let Dp=(()=>{class r{constructor(e,i,o){this.libraryService=e,this.router=i,this.sharedService=o,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection&&this.libraryService.getAllMediaItemsBySearchQuery(e.Url,this.searchText).then(i=>{this.listItems=this.listItems.concat(i),this.buildGroupItems(this.listItems)},i=>{console.error(i)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(e){if(e&&e.length>0){let m=window.innerWidth>=2048?250:180;var i=Math.floor(this.container.nativeElement.offsetWidth/m),o=e.reduce((b,I,G)=>{var ne=Math.floor(G/i)+1;return b[`row${ne}`]=b[`row${ne}`]||[],b[`row${ne}`].push(I),b},{}),d=Object.keys(o).map(function(b){return o[b]});this.listGroupItems=d}else this.listGroupItems=[]}onClickItem(e){this.getMediaDetail(e)}getMediaDetail(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}onResize(e){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(vo),t.Y36(Vn.F0),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-vertical-item-list"]],viewQuery:function(i,o){if(1&i&&t.Gf(uv,5),2&i){let d;t.iGM(d=t.CRH())&&(o.container=d.first)}},hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,TA,7,2,"ng-template",3),t.qZA()()),2&i&&(t.Udp("height","100%"),t.xp6(3),t.Q6J("ngForOf",o.listGroupItems))},dependencies:[g.sg,g.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();function Mp(r,n){if(1&r&&(t.TgZ(0,"div",7)(1,"h2"),t._uU(2),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.hij('Resultados para "',e.searchText,'"')}}let Ap=(()=>{class r{constructor(e,i,o){this.router=e,this.route=i,this.sharedService=o,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let e=this.route.snapshot.queryParams.text;null!=e&&""!=e?this.searchText=e:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,Mp,3,1,"div",4),t.qZA(),t.TgZ(5,"div",null,5),t._UZ(7,"app-vertical-item-list",6),t.qZA()()),2&i){const d=t.MAs(3);t.xp6(4),t.Q6J("ngIf",null!=o.searchText&&""!=o.searchText),t.xp6(1),t.Udp("height","calc(100% - "+d.offsetHeight+"px)"),t.xp6(2),t.Q6J("searchText",o.searchText)}},dependencies:[g.O5,Dp],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return r})(),xp=(()=>{class r{constructor(e,i){this.sharedService=e,this.restProvider=i}getProfileByGuid(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/profiles/GetByGuidAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getAllProfiles(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedService.userData.Id).then(o=>{let d=o.Data;this.sharedService.listProfiles=d,this.sharedService.currentProfile=d[0],e(!0)},o=>{i(o)})})}getProfiles(e,i,o,d,m,b,I){return new Promise((G,ne)=>{let me=kt();this.lastCallGuid=me;var ze="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+b+"&searchBy="+I;this.restProvider.executeSinovadApiService(Xe.GET,"/profiles/GetAllWithPaginationByUserAsync/"+e+ze).then(mt=>{this.lastCallGuid==me&&G(mt)},mt=>{console.error(mt),ne(mt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/profiles/Update":"/profiles/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/profiles/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/profiles/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(hi),t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function YE(r,n){1&r&&(t.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),t.qZA()()()()())}let ta=(()=>{class r{constructor(e,i){this.ref=e,this.viewContainerRef=i,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(t.s_b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(i,o){1&i&&t.YNc(0,YE,17,0,"div",0),2&i&&t.Q6J("ngIf",o.showLoading)},dependencies:[g.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return r})();function fv(r,n){if(1&r&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",i.sharedService.getInitials(e)," ")}}function zE(r,n){if(1&r&&(t._UZ(0,"img",23),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw().$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function ZE(r,n){1&r&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"img",6),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("src",t.lcZ(3,1,t.xi3(4,3,"edit-profile.png","GetIconURLByKey")),t.LSH))}function SA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onSelectProfile(d))}),t.YNc(1,fv,2,1,"div",20),t.YNc(2,zE,3,6,"img",20),t.YNc(3,ZE,5,6,"div",21),t.TgZ(4,"div",22),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.MGl("id","profile_",e.Id,""),t.xp6(1),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(1),t.Q6J("ngIf",i.enableEditMode),t.xp6(2),t.hij(" ",e.FullName," ")}}function $E(r,n){if(1&r&&t.YNc(0,SA,6,5,"ng-template",18),2&r){const e=t.oxw();t.Q6J("ngForOf",e.sharedService.listProfiles)}}function Ip(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeToEditMode())}),t._uU(1," EDITAR PERFILES "),t.qZA()}}function wp(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmEdit())}),t._uU(1," LISTO "),t.qZA()}}let hv=(()=>{class r{constructor(e,i,o){this.profileService=e,this.router=i,this.sharedService=o,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/add-profile")}editProfile(e){this.router.navigateByUrl("/edit-profile/"+e.Guid)}onSelectProfile(e){this.enableEditMode?this.editProfile(e):this.enterProfile(e)}enterProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedService.userData.Id,1,100,"Id","asc","","").then(e=>{let i=e.Data;this.sharedService.listProfiles=i,this.sharedService.currentProfile=i[0],this.showLoading=!1},e=>{this.showLoading=!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(xp),t.Y36(Vn.F0),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),t._UZ(6,"img",6),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA()(),t.TgZ(9,"div",7)(10,"div",8),t._uU(11," \xbfQui\xe9n eres? "),t.qZA(),t.TgZ(12,"div",9),t.YNc(13,$E,1,1,"ng-template",10),t.TgZ(14,"button",11),t.NdJ("click",function(){return o.showNewProfile()}),t.TgZ(15,"div",12),t._UZ(16,"img",13),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t.qZA(),t.TgZ(19,"div",14),t._uU(20," Crear "),t.qZA()()()(),t.TgZ(21,"div",15,16),t.YNc(23,Ip,2,0,"ng-template",10),t.YNc(24,wp,2,0,"ng-template",10),t.qZA()()(),t._UZ(25,"app-custom-spinner",17)),2&i){const d=t.MAs(4),m=t.MAs(22);t.xp6(6),t.Q6J("src",t.lcZ(7,8,t.xi3(8,10,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Udp("height",o._window.innerWidth<768?"calc(100% - "+(d.offsetHeight+m.offsetHeight)+"px)":""),t.xp6(4),t.Q6J("ngIf",o.sharedService.listProfiles),t.xp6(3),t.Q6J("src",t.lcZ(17,13,t.xi3(18,15,"plus.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.enableEditMode),t.xp6(1),t.Q6J("ngIf",o.enableEditMode),t.xp6(1),t.Q6J("showLoading",o.showLoading)}},dependencies:[ta,g.sg,g.O5,Lr,g.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return r})();class mv{}var rn=S(95);function Ah(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"img",4),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCloseProfileNew())}),t._uU(8,"CANCELAR"),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"h2"),t._uU(12,"Crear Perfil"),t.qZA(),t.TgZ(13,"div",9)(14,"input",10),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.currentTmpProfile.FullName=o)}),t.qZA()(),t.TgZ(15,"div",9)(16,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(17,"GUARDAR"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(11),t.Q6J("placeholder",e.placeHolder)("ngModel",e.currentTmpProfile.FullName)}}let qE=(()=>{class r{constructor(e,i,o){this.router=e,this.sharedService=i,this.profileService=o,this.placeHolder="Nombre de Perfil"}ngOnInit(){this.currentTmpProfile=new mv,this.currentTmpProfile.UserId=this.sharedService.userData.Id}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onCloseProfileNew(){this.router.navigateByUrl("/select-profile")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(hi),t.Y36(xp))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-new"]],decls:1,vars:1,consts:[["class","sinovad-form-page-container",4,"ngIf"],[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],[1,"sinovaclient-right"],[1,"cancel",3,"click"],[1,"sinovad-page-body"],[1,"sinovad-page-content"],[1,"mb-3"],["type","text",3,"placeholder","ngModel","ngModelChange"],[1,"save",3,"click"]],template:function(i,o){1&i&&t.YNc(0,Ah,18,8,"div",0),2&i&&t.Q6J("ngIf",o.currentTmpProfile)},dependencies:[rn.Fj,rn.JJ,rn.On,g.O5,Lr,g.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}button[_ngcontent-%COMP%]{float:right;font-size:15px;padding:0 24px;height:48px;color:#f9f9f9;border-radius:5px;border:none;opacity:.8}button.save[_ngcontent-%COMP%]{background:#007bff;width:100%}button.cancel[_ngcontent-%COMP%]{background:lightslategrey}button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-page-body[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{width:300px}.sinovad-page-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center}.sinovad-page-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;width:100%;padding:7px 12px;font-size:15px;height:48px}"]})}return r})();function pv(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(2,"Listo"),t.qZA()()}}function JE(r,n){1&r&&(t.TgZ(0,"p",24),t._uU(1,"El perfil principal no se puede eliminar"),t.qZA())}function gv(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickDeleteButton())}),t._uU(1,"Eliminar Perfil"),t.qZA()}}function CA(r,n){if(1&r&&(t.TgZ(0,"div",25),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.currentTmpProfile)," ")}}function QE(r,n){if(1&r&&(t._UZ(0,"img",25),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.currentTmpProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function sf(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2",11),t._uU(4,"Editar Perfil"),t.qZA(),t.YNc(5,JE,2,0,"p",12),t.qZA(),t.TgZ(6,"div",13)(7,"div",14)(8,"input",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.currentTmpProfile.FullName=o)}),t.qZA(),t.TgZ(9,"div",16),t.YNc(10,gv,2,0,"button",17),t.qZA()(),t.TgZ(11,"div",18)(12,"input",19,20),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.uploadAvatarImage(o))}),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(13);return t.KtG(o.click())}),t.YNc(15,CA,2,1,"div",21),t.YNc(16,QE,3,6,"img",21),t.TgZ(17,"div",22)(18,"div",23),t._UZ(19,"img",3),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&e.currentTmpProfile.Main),t.xp6(3),t.Q6J("ngModel",e.currentTmpProfile.FullName),t.xp6(2),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&!e.currentTmpProfile.Main),t.xp6(5),t.Q6J("ngIf",null==e.currentTmpProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.currentTmpProfile.AvatarPath&&!e.hideImage),t.xp6(3),t.Q6J("src",t.lcZ(20,6,t.xi3(21,8,"edit-profile.png","GetIconURLByKey")),t.LSH)}}let XE=(()=>{class r{constructor(e,i,o,d,m){this.router=e,this.activeRoute=i,this.profileService=o,this.restProvider=d,this.sharedService=m,this.hideImage=!1}ngOnInit(){this.profileService.getProfileByGuid(this.activeRoute.snapshot.params.profileGuid).then(i=>{null==i.Data&&this.router.navigateByUrl("404"),this.currentTmpProfile=i.Data},i=>{this.router.navigateByUrl("404")})}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onClickDeleteButton(){this.profileService.deleteItem(this.currentTmpProfile.Id).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}uploadAvatarImage(e){if(e.target.files&&e.target.files.length>0){let d=e.target.files[0];var i=new FormData;i.append("ProfileId",this.currentTmpProfile.Id.toString()),i.append("File",d,d.name),this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",i).then(m=>{this.restProvider.executeSinovadApiService(Xe.GET,"/profiles/GetAsync/"+this.currentTmpProfile.Id).then(b=>{this.currentTmpProfile=b.Data,this.hideImage=!0,setTimeout(()=>{this.hideImage=!1},0)},b=>{console.error(b)})},m=>{console.error(m)})}}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(xp),t.Y36(Li),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-edit"]],decls:8,vars:8,consts:[[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],["class","sinovaclient-right",4,"ngIf"],["class","sinovad-page-container",4,"ngIf"],[1,"sinovaclient-right"],[3,"click"],[1,"sinovad-page-container"],[1,"sinovad-page-content"],[1,"top-container"],[1,"title"],["class","subtitle",4,"ngIf"],[1,"bottom-container"],[1,"first"],["type","text",3,"ngModel","ngModelChange"],[1,"sinovad-delete-profile-button-container"],[3,"click",4,"ngIf"],[1,"second"],["type","file","accept",".png,.jpg",2,"display","none",3,"change"],["input",""],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[1,"subtitle"],[1,"sinovad-initials-profile"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,pv,3,0,"div",4),t.qZA(),t.YNc(7,sf,22,11,"div",5),t.qZA()),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",o.currentTmpProfile),t.xp6(1),t.Q6J("ngIf",o.currentTmpProfile))},dependencies:[rn.Fj,rn.JJ,rn.On,g.O5,Lr,g.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;font-size:20px;background:#007bff;color:#f9f9f9;border-radius:5px;border:none;opacity:.8;height:48px;padding:0 24px}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:100px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{display:block}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:left}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{color:#fff;font-size:32px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   p.subtitle[_ngcontent-%COMP%]{font-size:15px;color:#cacaca}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;min-width:200px;font-size:20px;border-radius:4px;outline:none;padding:7px 12px;border:1px solid transparent}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin:0 0 0 75px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:213px;height:213px;border:2px solid transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:80px;background-color:#789;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:30px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;color:red;opacity:.8;font-size:15px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:170px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{order:2}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px;order:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px}}"]})}return r})();var Zl=S(2939);function af(r,n){1&r&&t._UZ(0,"i",4)}function eT(r,n){1&r&&t._UZ(0,"i",5)}function _v(r,n){1&r&&t._UZ(0,"i",6)}const tT=function(r,n,e){return{success:r,info:n,error:e}};var Vi=function(r){return r[r.Success=1]="Success",r[r.Error=2]="Error",r[r.Info=3]="Info",r}(Vi||{});let vv=(()=>{class r{constructor(e){this.toastOptions=e,this.snackBarRef=(0,t.f3M)(Zl.OX)}SnackBarType(){return Vi}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Zl.qD))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[t.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,af,1,0,"i",1),t.YNc(2,eT,1,0,"i",2),t.YNc(3,_v,1,0,"i",3),t._uU(4),t.qZA()),2&i&&(t.Q6J("ngClass",t.kEZ(5,tT,o.toastOptions.snackBarType==o.SnackBarType().Success,o.toastOptions.snackBarType==o.SnackBarType().Info,o.toastOptions.snackBarType==o.SnackBarType().Error)),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Success),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Info),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Error),t.xp6(1),t.hij(" ",o.toastOptions.message,"\n"))},dependencies:[Zl.ZX,g.ez,g.mk,g.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return r})(),yv=(()=>{class r{constructor(){this.updateMediaItems$=new an.x}updateMediaItems(){this.updateMediaItems$.next(!0)}isUpdatingMediaItems(){return this.updateMediaItems$.asObservable()}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),xh=(()=>{class r{constructor(e,i,o,d){this.mediaService=e,this.libraryService=i,this.sharedService=o,this.restProvider=d}getMediaServers(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.mediaServers=o.Data,this.sharedService.mediaServers.forEach(m=>{this.executeGetLibrariesByMediaServer(m)}),e(!0)},o=>{i(o)})})}executeGetLibrariesByMediaServer(e){e.isSecureConnection?this.libraryService.getLibrariesByMediaServer(e.Url).then(i=>{e.ListLibraries=i,this.mediaService.updateMediaItems()},i=>{}):(e.ListLibraries=[],this.mediaService.updateMediaItems())}getMediaServerByGuid(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/mediaServers/GetByGuidAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,b,I){return new Promise((G,ne)=>{let me=kt();this.lastCallGuid=me;var ze="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+b+"&searchBy="+I;this.restProvider.executeSinovadApiService(Xe.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+e+ze).then(mt=>{this.lastCallGuid==me&&G(mt)},mt=>{console.error(mt),ne(mt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/mediaServers/Update":"/mediaServers/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/mediaServers/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/mediaServers/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(yv),t.LFG(vo),t.LFG(hi),t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Do=(()=>{class r{constructor(e){this.snackBar=e}showSnackBar(e,i){var o=new Zl.u_;o.duration=2e3,o.data={message:e,snackBarType:i},this.snackBar.openFromComponent(vv,o)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Zl.ux))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function bv(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),t._uU(10,"Privado"),t.qZA(),t.TgZ(11,"span",8)(12,"span",9),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",5)(15,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.updateMediaServer())}),t.TgZ(16,"div",5)(17,"label",11),t._uU(18,"Nombre Familiar"),t.qZA(),t._UZ(19,"input",12),t.TgZ(20,"p",13),t._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),t.qZA()(),t.TgZ(22,"div",14)(23,"button",15)(24,"span",16),t._uU(25,"Guardar cambios"),t.qZA()(),t._UZ(26,"span",17),t.qZA()()()()()()()()}if(2&r){const e=t.oxw(2);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - General"),t.xp6(11),t.Oqu(e.mediaServer.Url),t.xp6(2),t.Q6J("formGroup",e.customForm),t.xp6(4),t.Q6J("placeholder",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName),t.xp6(4),t.Q6J("disabled",e.loading||e.customForm.pristine||e.customForm.invalid)}}function MA(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",18),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function Pp(r,n){if(1&r&&(t.YNc(0,bv,27,5,"ng-template",0),t.YNc(1,MA,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function nu(r,n){1&r&&(t.TgZ(0,"div",19),t._UZ(1,"mat-spinner"),t.qZA())}let lf=(()=>{class r{constructor(e,i,o,d,m,b,I,G){this.signalIrService=e,this.serverService=i,this.snackBarService=o,this.formBuilder=d,this.router=m,this.activeRoute=b,this.restProvider=I,this.sharedService=G,this.loading=!1,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(ne=>{this.mediaServer&&this.mediaServer.Guid==ne&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0)}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(ne=>{this.mediaServer&&this.mediaServer.Guid==ne&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.customForm=this.formBuilder.group({familyName:new rn.NI(this.mediaServer.FamilyName)})):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getMediaServerData(){var e=this;return(0,Hi.Z)(function*(){e.loading=!0;var i=e.activeRoute.snapshot.params.serverGuid;e.serverService.getMediaServerByGuid(i).then(o=>{var d=o.Data,b=e.sharedService.mediaServers.find(I=>I.Guid==i);b.FamilyName=d.FamilyName,e.mediaServer=b,e.customForm=e.formBuilder.group({familyName:new rn.NI(e.mediaServer.FamilyName)}),e.loading=!1},o=>{e.router.navigateByUrl("/404"),e.loading=!1})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var i=JSON.parse(JSON.stringify(this.mediaServer));i.FamilyName=this.customForm.value.familyName,this.restProvider.executeSinovadApiService(Xe.PUT,"/mediaServers/Update",i).then(o=>{this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",Vi.Success)},o=>{this.loading=!1,console.error(o)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Pr),t.Y36(xh),t.Y36(Do),t.Y36(rn.qu),t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(Li),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-server-setttings-general"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,Pp,2,2,"ng-template",0),t.YNc(1,nu,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.O5,rn._Y,rn.Fj,rn.JJ,rn.JL,Zr.Ou,Vo,rn.sg,rn.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return r})();var Ur=S(1476),Ih=S(8337),qn=S(5313);class $l{constructor(n){this.matPaginatorIntl=n,this.showLoading=!0,this.dataSource=new qn.by,this.selection=new Ih.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(n){this.itemsPerPage=n.pageSize,this.currentPage=n.pageIndex+1}getElementNumber(n,e,i){return n+1+(e-1)*i}onChangeCheckValue(n,e){let i=n.target.checked;if(i?this.selection.select(e):this.selection.deselect(e),n.shiftKey&&this.lastSelectedItem){let d=0;this.selection.hasValue()&&this.lastSelectedItem&&(d=this.listItems.indexOf(this.lastSelectedItem));let m=this.listItems.indexOf(e);if(i){var o;o=this.listItems.filter(m>=d?b=>this.listItems.indexOf(b)<=m&&this.listItems.indexOf(b)>=d&&!this.selection.isSelected(b):b=>this.listItems.indexOf(b)>=m&&this.listItems.indexOf(b)<=d&&!this.selection.isSelected(b)),o&&o.length>0&&this.selection.select(...o)}else{let b=[];b=this.listItems.filter(m>=d?I=>this.listItems.indexOf(I)<=m&&this.listItems.indexOf(I)>=d&&this.selection.isSelected(I):I=>this.listItems.indexOf(I)>=m&&this.listItems.indexOf(I)<=d&&this.selection.isSelected(I)),b&&b.length>0&&this.selection.deselect(...b)}}this.lastSelectedItem=e}}let nT=(()=>{class r{constructor(e){this.restProvider=e}getAlertsByMediaServer(e,i,o){return new Promise((d,m)=>{var b="?page="+i.toString()+"&take="+o.toString();this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/alerts/GetAllWithPagination"+b).then(G=>{d(G)},G=>{m(G)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function iT(r,n){1&r&&(t.TgZ(0,"div",18),t._UZ(1,"mat-spinner"),t.qZA())}function Ev(r,n){if(1&r&&(t.TgZ(0,"td",19),t._UZ(1,"i"),t.qZA()),2&r){const e=n.$implicit,i=t.oxw(4);t.xp6(1),t.Tol(i.getIconByAlertType(e.AlertType))}}function rT(r,n){if(1&r&&(t.TgZ(0,"td",20),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.Created,"dd-MM-YYYY h:mm a")," ")}}function Tv(r,n){if(1&r&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Description," ")}}function iu(r,n){1&r&&t._UZ(0,"tr",22)}function _c(r,n){1&r&&(t.TgZ(0,"td",25),t._uU(1,"No se encontraron datos"),t.qZA())}function Sv(r,n){if(1&r&&(t.TgZ(0,"tr",23),t.YNc(1,_c,2,0,"td",24),t.qZA()),2&r){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}function AA(r,n){if(1&r&&(t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,iT,2,0,"div",6),t.TgZ(7,"div",7)(8,"table",8),t.ynx(9,9),t.YNc(10,Ev,2,3,"td",10),t.BQk(),t.ynx(11,11),t.YNc(12,rT,3,4,"td",12),t.BQk(),t.ynx(13,13),t.YNc(14,Tv,2,1,"td",14),t.BQk(),t.YNc(15,iu,1,0,"tr",15),t.YNc(16,Sv,2,1,"tr",16),t.qZA()()()()(),t.TgZ(17,"div",3)(18,"div",4),t._UZ(19,"mat-paginator",17),t.qZA()()()),2&r){const e=t.oxw(3);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Alertas"),t.xp6(4),t.Q6J("ngIf",e.showLoading),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(7),t.Q6J("matRowDefColumns",e.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("hidePageSize",!0)}}function oT(r,n){if(1&r&&t.YNc(0,AA,20,6,"div",1),2&r){const e=t.oxw(2);t.Q6J("ngIf",e.mediaServer)}}function xA(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",26),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function IA(r,n){if(1&r&&(t.YNc(0,oT,1,1,"ng-template",0),t.YNc(1,xA,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function Cv(r,n){1&r&&(t.TgZ(0,"div",27),t._UZ(1,"mat-spinner"),t.qZA())}let Op=(()=>{class r extends $l{constructor(e,i,o,d,m,b,I){super(I),this.ref=e,this.sharedService=i,this.router=o,this.activeRoute=d,this.signalIrService=m,this.alertsService=b,this.matPaginatorIntl=I,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(G=>{this.mediaServer&&this.mediaServer.Guid==G&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.initializePaginator(),this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(G=>{this.mediaServer&&this.mediaServer.Guid==G&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngAfterViewInit(){this.mediaServer&&this.mediaServer.isSecureConnection&&this.initializePaginator()}initializePaginator(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getAllItems(){this.showLoading=!0,this.alertsService.getAlertsByMediaServer(this.mediaServer.Url,this.currentPage,this.itemsPerPage).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new qn.by(this.listItems),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}getDisplayedColumns(){return["AlertType","Created","Description"]}getIconByAlertType(e){return e==Fn.Bullhorn?"fa-solid fa-bullhorn":e==Fn.Tags?"fa-solid fa-tags":e==Fn.Ok?"fa-solid fa-check":e==Fn.Plus?"fa-solid fa-plus":e==Fn.Bin?"fa-solid fa-trash":""}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(hi),t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(Pr),t.Y36(nT),t.Y36(Ur.ye))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-alerts"]],viewQuery:function(i,o){if(1&i&&t.Gf(Ur.NW,5),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first)}},features:[t.qOj],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"row"],[1,"col-12"],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","AlertType"],["mat-cell","","style","width:45px;max-width:45px;text-align: left;",4,"matCellDef"],["matColumnDef","Created"],["mat-cell","","style","min-width:140px;width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Description"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","hidePageSize"],[1,"loading-shade"],["mat-cell","",2,"width","45px","max-width","45px","text-align","left"],["mat-cell","",2,"min-width","140px","width","140px","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,IA,2,2,"ng-template",0),t.YNc(1,Cv,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.O5,Ur.NW,qn.BZ,qn.w1,qn.Dz,qn.nj,qn.ev,qn.Gk,qn.Ee,Zr.Ou,Vo,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:650px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}"]})}return r})();class wA{}class gl{isErrorState(n,e){return!!(n&&n.invalid&&(n.dirty||n.touched||e&&e.submitted))}}var wh=S(4440),Ph=S.n(wh);let Dv=(()=>{class r{constructor(e){this.restProvider=e}getDirectoriesByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMethodByUrl(Xe.GET,e+"/api/directories").then(d=>{i(d)},d=>{console.error(d),o(d)})})}getSubdirectoriesByMediaServerAndDirectoryPath(e,i){return new Promise((o,d)=>{var m=Ph().encode(i);this.restProvider.executeHttpMethodByUrl(Xe.GET,e+"/api/directories/"+m).then(b=>{o(b)},b=>{console.error(b),d(b)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Rp=S(6232),Fi=S(2438),Np=S(4825),ru=S(4829);const{isArray:PA}=Array;function Mv(r){return 1===r.length&&PA(r[0])?r[0]:r}var ou=S(8251);var Lp=S(3019),xv=S(9940);function Oh(...r){const n=(0,xv.jO)(r),e=Mv(r);return e.length?new E.y(i=>{let o=e.map(()=>[]),d=e.map(()=>!1);i.add(()=>{o=d=null});for(let m=0;!i.closed&&m<e.length;m++)(0,ru.Xf)(e[m]).subscribe((0,ou.x)(i,b=>{if(o[m].push(b),o.every(I=>I.length)){const I=o.map(G=>G.shift());i.next(n?n(...I):I),o.some((G,ne)=>!G.length&&d[ne])&&i.complete()}},()=>{d[m]=!0,!o[m].length&&i.complete()}));return()=>{o=d=null}}):Rp.E}var Iv=S(5211),rs=S(9773),za=S(8180),kp=S(9360),Wc=S(2737),Cd=S(2420);function Rh(...r){const n=(0,xv.jO)(r);return(0,kp.e)((e,i)=>{const o=r.length,d=new Array(o);let m=r.map(()=>!1),b=!1;for(let I=0;I<o;I++)(0,ru.Xf)(r[I]).subscribe((0,ou.x)(i,G=>{d[I]=G,!b&&!m[I]&&(m[I]=!0,(b=m.every(Wc.y))&&(m=null))},Cd.Z));e.subscribe((0,ou.x)(i,I=>{if(b){const G=[I,...d];i.next(n?n(...G):G)}}))})}S(6321),S(975),S(1631),S(7921),S(3997),S(836),Math,Math,Math;const gu=["*"],qT=["dialog"];function Pd(r){return"string"==typeof r}function yc(r){return null!=r}function vu(r){return(r||document.body).getBoundingClientRect()}const og={animation:!0,transitionTimerDelayMs:5},DS=()=>{},{transitionTimerDelayMs:MS}=og,yu=new Map,ma=(r,n,e,i)=>{let o=i.context||{};const d=yu.get(n);if(d)switch(i.runningTransition){case"continue":return Rp.E;case"stop":r.run(()=>d.transition$.complete()),o=Object.assign(d.context,o),yu.delete(n)}const m=e(n,i.animation,o)||DS;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return r.run(()=>m()),(0,y.of)(void 0).pipe(function I0(r){return n=>new E.y(e=>n.subscribe({next:m=>r.run(()=>e.next(m)),error:m=>r.run(()=>e.error(m)),complete:()=>r.run(()=>e.complete())}))}(r));const b=new an.x,I=new an.x,G=b.pipe(function aT(...r){return n=>(0,Iv.z)(n,(0,y.of)(...r))}(!0));yu.set(n,{transition$:b,complete:()=>{I.next(),I.complete()},context:o});const ne=function ss(r){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(r);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return r.runOutsideAngular(()=>{const me=(0,Fi.R)(n,"transitionend").pipe((0,rs.R)(G),(0,L.h)(({target:et})=>et===n));(function Av(...r){return 1===(r=Mv(r)).length?(0,ru.Xf)(r[0]):new E.y(function sT(r){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<r.length;i++)e.push((0,ru.Xf)(r[i]).subscribe((0,ou.x)(n,o=>{if(e){for(let d=0;d<e.length;d++)d!==i&&e[d].unsubscribe();e=null}n.next(o)})))}}(r))})((0,Np.H)(ne+MS).pipe((0,rs.R)(G)),me,I).pipe((0,rs.R)(G)).subscribe(()=>{yu.delete(n),r.run(()=>{m(),b.next(),b.complete()})})}),b.asObservable()};let em=(()=>{class r{constructor(){this.animation=og.animation}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Xr=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}(Xr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const zS=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function _g(r){const n=Array.from(r.querySelectorAll(zS)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Jc{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let bC=(()=>{class r{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,za.q)(1)).subscribe(()=>{ma(this._zone,this._el.nativeElement,(e,i)=>{i&&vu(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ma(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(t.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),t.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return r})();class Ws{update(n){}close(n){}dismiss(n){}}const Mg=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ag=["animation","backdropClass"];class ay{_applyWindowOptions(n,e){Mg.forEach(i=>{yc(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){Ag.forEach(i=>{yc(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,rs.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,rs.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new an.x,this._dismissed=new an.x,this._hidden=new an.x,n.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,m)=>{this._resolve=d,this._reject=m}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function x0(r){return r&&r.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,y.of)(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Oh(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Of=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(Of||{});let EC=(()=>{class r{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new an.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new an.x,this.hidden=new an.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Pd(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,za.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},m=Oh(ma(this._zone,e,()=>e.classList.remove("show"),i),ma(this._zone,this._dialogEl.nativeElement,()=>{},i));return m.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),m}_show(){const e={animation:this.animation,runningTransition:"continue"},i=ma(this._zone,this._elRef.nativeElement,(d,m)=>{m&&vu(d),d.classList.add("show")},e);Oh(i,ma(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Fi.R)(e,"keydown").pipe((0,rs.R)(this._closed$),(0,L.h)(o=>o.which===Xr.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Of.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;(0,Fi.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,rs.R)(this._closed$),(0,ci.b)(()=>i=!1),(0,f.w)(()=>(0,Fi.R)(e,"mouseup").pipe((0,rs.R)(this._closed$),(0,za.q)(1))),(0,L.h)(({target:o})=>e===o)).subscribe(()=>{i=!0}),(0,Fi.R)(e,"click").pipe((0,rs.R)(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Of.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=_g(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ma(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(g.K0),t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&t.Gf(qT,7),2&i){let d;t.iGM(d=t.CRH())&&(o._dialogEl=d.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){2&i&&(t.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),t.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),t.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[t.jDz],ngContentSelectors:gu,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){1&i&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&i&&t.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),TC=(()=>{class r{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:d,paddingRight:m}=o;if(e>0){const b=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${b+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=m),o.overflow=d}}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),xg=(()=>{class r{constructor(e,i,o,d,m,b,I){this._applicationRef=e,this._injector=i,this._environmentInjector=o,this._document=d,this._scrollBar=m,this._rendererFactory=b,this._ngZone=I,this._activeWindowCmptHasChanged=new an.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const G=this._windowCmpts[this._windowCmpts.length-1];((r,n,e,i=!1)=>{r.runOutsideAngular(()=>{const o=(0,Fi.R)(n,"focusin").pipe((0,rs.R)(e),(0,D.U)(d=>d.target));(0,Fi.R)(n,"keydown").pipe((0,rs.R)(e),(0,L.h)(d=>d.which===Xr.Tab),Rh(o)).subscribe(([d,m])=>{const[b,I]=_g(n);(m===b||m===n)&&d.shiftKey&&(I.focus(),d.preventDefault()),m===I&&!d.shiftKey&&(b.focus(),d.preventDefault())}),i&&(0,Fi.R)(n,"click").pipe((0,rs.R)(e),Rh(o),(0,D.U)(d=>d[1])).subscribe(d=>d.focus())})})(this._ngZone,G.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(G.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const d=o.container instanceof HTMLElement?o.container:yc(o.container)?this._document.querySelector(o.container):this._document.body,m=this._rendererFactory.createRenderer(null,null);if(!d)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const b=new Ws,I=(e=o.injector||e).get(t.lqb,null)||this._environmentInjector,G=this._getContentRef(e,I,i,b,o);let ne=!1!==o.backdrop?this._attachBackdrop(d):void 0,me=this._attachWindowComponent(d,G.nodes),ze=new ay(me,G,ne,o.beforeDismiss);return this._registerModalRef(ze),this._registerWindowCmpt(me),ze.hidden.pipe((0,za.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),b.close=et=>{ze.close(et)},b.dismiss=et=>{ze.dismiss(et)},b.update=et=>{ze.update(et)},ze.update(o),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),ne&&ne.instance&&ne.changeDetectorRef.detectChanges(),me.changeDetectorRef.detectChanges(),ze}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,t.LMc)(bC,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=(0,t.LMc)(EC,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,d,m){return o?o instanceof t.Rgc?this._createFromTemplateRef(o,d):Pd(o)?this._createFromString(o):this._createFromComponent(e,i,o,d,m):new Jc([])}_createFromTemplateRef(e,i){const o={$implicit:i,close(m){i.close(m)},dismiss(m){i.dismiss(m)}},d=e.createEmbeddedView(o);return this._applicationRef.attachView(d),new Jc([d.rootNodes],d)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Jc([[i]])}_createFromComponent(e,i,o,d,m){const b=t.zs3.create({providers:[{provide:Ws,useValue:d}],parent:e}),I=(0,t.LMc)(o,{environmentInjector:i,elementInjector:b}),G=I.location.nativeElement;return m.scrollable&&G.classList.add("component-host-scrollable"),this._applicationRef.attachView(I.hostView),new Jc([[G]],I.hostView,I)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(t.lqb),t.LFG(g.K0),t.LFG(TC),t.LFG(t.FYo),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),SC=(()=>{class r{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(em))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),na=(()=>{class r{constructor(e,i,o){this._injector=e,this._modalStack=i,this._config=o}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.zs3),t.LFG(xg),t.LFG(SC))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();new t.OlP("live announcer delay",{providedIn:"root",factory:function xy(){return 100}});const Fg=function(r){return{"sinovad-directory-selected":r}};function $C(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickMainDirectory(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,Fg,i.selectedMainDirectory&&e.Name==i.selectedMainDirectory.Name)),t.xp6(1),t.hij(" ",e.Name," ")}}function Ly(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickBackFolder())}),t._uU(1," <= .. [Regresar] "),t.qZA()}}function ky(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickSubDirectory(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,Fg,i.selectedSubdirectory&&e.Name==i.selectedSubdirectory.Name)),t.xp6(1),t.hij(" ",e.Name," ")}}let Fy=(()=>{class r{constructor(e,i){this.directoryService=e,this.activeModal=i,this.listMainDirectories=[],this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(e=>{this.listMainDirectories=JSON.parse(e);let i=this.listMainDirectories[0];this.selectedMainDirectory=i,this.getSubdirectoriesByPath(i)})}getSubdirectoriesByPath(e){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,e.Path).then(i=>{this.listSubdirectoriesTmp=JSON.parse(i)},i=>{console.error(i)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.Path:this.selectedMainDirectory.Path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.ParentDirectory.IsMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.ParentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(e){this.selectedMainDirectory=e,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(e){if(null==this.selectedSubdirectory)this.selectedSubdirectory=e,this.selectedSubdirectory.ParentDirectory=this.selectedMainDirectory;else{let i=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=e,this.selectedSubdirectory.ParentDirectory=i}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Dv),t.Y36(Ws))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2,"Seleccionar directorio"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.closeModal()}),t._UZ(4,"i",3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6),t.YNc(8,$C,2,4,"ng-template",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,Ly,2,0,"button",9),t.YNc(11,ky,2,4,"ng-template",7),t.qZA()()(),t.TgZ(12,"div",10)(13,"button",11),t.NdJ("click",function(){return o.closeModal()}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",12),t.NdJ("click",function(){return o.saveDirectory()}),t._uU(16,"Guardar"),t.qZA()()),2&i&&(t.xp6(8),t.Q6J("ngForOf",o.listMainDirectories),t.xp6(2),t.Q6J("ngIf",o.selectedSubdirectory),t.xp6(1),t.Q6J("ngForOf",o.listSubdirectoriesTmp))},dependencies:[g.mk,g.sg,g.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return r})();var Jo=S(2032),Ki=S(4170),Ys=S(3680),kd=S(8525);function qC(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function JC(r,n){if(1&r&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function Zx(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Tipo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function $x(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Directorio es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function By(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveStorage())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,qC,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Tipo"),t.qZA(),t.TgZ(15,"mat-select",9)(16,"mat-option",10),t._uU(17,"--"),t.qZA(),t.YNc(18,JC,2,2,"mat-option",11),t.qZA(),t.YNc(19,Zx,4,0,"mat-error",8),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Directorio"),t.qZA(),t.TgZ(23,"input",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.YNc(24,$x,4,0,"mat-error",8),t.qZA()(),t.TgZ(25,"div",13)(26,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(27,"Close"),t.qZA(),t.TgZ(28,"button",15),t._uU(29,"Guardar"),t.qZA()()(),t._UZ(30,"app-custom-spinner",16)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.libraryFormGroup),t.xp6(3),t.Oqu(e.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.name.hasError("required")),t.xp6(5),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.mediaTypes),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.mediaType.hasError("required")),t.xp6(4),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.physicalPath.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.libraryFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let Bg=(()=>{class r{constructor(e,i,o,d,m){this.sharedService=e,this.libraryService=i,this.activeModal=o,this.formBuilder=d,this.modalService=m,this.showLoading=!1,this.matcher=new gl,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new rn.NI(this.library.Name,[rn.kI.required]),mediaType:new rn.NI(this.library.MediaTypeCatalogDetailId,[rn.kI.required]),physicalPath:new rn.NI(this.library.PhysicalPath,[rn.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.library));e.Name=this.libraryFormGroup.value.name,e.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),e.MediaTypeCatalogId=yn.MediaType,e.PhysicalPath=this.libraryFormGroup.value.physicalPath,e.MediaServerId=this.mediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,e).then(i=>{this.showLoading=!1,this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var e=this,i=this.modalService.open(Fy,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.mediaServer=this.mediaServer,i.closed.subscribe(o=>{e.libraryFormGroup.controls.physicalPath.setValue(o)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(hi),t.Y36(vo),t.Y36(Ws),t.Y36(rn.qu),t.Y36(na))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,By,31,11,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.library&&o.libraryFormGroup)},dependencies:[rn._Y,rn.Fj,rn.JJ,rn.JL,rn.sg,rn.u,ta,g.sg,g.O5,Jo.Nt,Ki.KE,Ki.hX,Ki.TO,Ys.ey,kd.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();const Lf=function(r){return{disabled:r}};let ko=(()=>{class r{constructor(e,i){this.dialog=e,this.options=i}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ar.so),t.Y36(ar.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return o.closeDialog()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",10),t._UZ(14,"input",11,12),t._uU(16),t.qZA()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return o.closeDialog()}),t._uU(20,"Cancelar"),t.qZA(),t.TgZ(21,"button",16),t.NdJ("click",function(){return o.confirmDialog()}),t.TgZ(22,"span",17),t._uU(23,"Eliminar"),t.qZA()()()()()()()()()),2&i){const d=t.MAs(15);t.xp6(8),t.hij(" ",o.options.title," "),t.xp6(4),t.Oqu(o.options.message),t.xp6(4),t.hij("",o.options.accordMessage," "),t.xp6(5),t.Q6J("ngClass",t.VKq(4,Lf,!d.checked))}},dependencies:[g.mk,ar.uh,ar.xY,ar.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})(),Au=(()=>{class r{constructor(e){this.elementRef=e,this.clickOutside=new t.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(e,i){i&&(this.elementRef.nativeElement.contains(i)||this.clickOutside.emit(e))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.SBq))};static#t=this.\u0275dir=t.lG2({type:r,selectors:[["","clickOutside",""]],hostBindings:function(i,o){1&i&&t.NdJ("click",function(m){return o.onClick(m,m.target)},!1,t.Jf7)("contextmenu",function(){return o.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return r})();function Uy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onSelectItem(d))}),t._UZ(1,"i"),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&r){const e=n.$implicit;t.xp6(1),t.Gre("",e.iconClass," me-2"),t.xp6(2),t.Oqu(e.title)}}function QC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.TgZ(2,"div",3),t.YNc(3,Uy,4,4,"ng-template",4),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Udp("top",e.top+"px")("right",e.right+"px"),t.xp6(2),t.Q6J("ngForOf",e.options.listItems)}}let XC=(()=>{class r{constructor(e){this.ref=e,this.hide=new t.vpe,this.selectOption=new t.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(e){this.selectOption.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(i,o){1&i&&t.YNc(0,QC,4,5,"div",0),2&i&&t.Q6J("ngIf",o.showMenu)},dependencies:[g.sg,g.O5,Au],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return r})(),Hy=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o}show(e){return new Promise((i,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const m=this.factoryResolver.resolveComponentFactory(XC).create(this.injector);this.lastViewRef=m.hostView,this.applicationRef.attachView(m.hostView);let b=this;const I=e.target.getBoundingClientRect();var G=window.innerWidth-I.right,ne=I.top+I.height;m.instance.options=e,m.instance.right=G,m.instance.top=ne,m.instance.selectOption.subscribe(et=>{et.eventOnSelectItem&&et.eventOnSelectItem.emit(!0),m.destroy(),b.applicationRef.detachView(m.hostView),i(et)}),m.instance.hide.subscribe(et=>{m.destroy(),b.applicationRef.detachView(m.hostView),o(!0)});const me=m.hostView.rootNodes[0];document.getElementById(e.containerId).appendChild(me)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function eD(r,n){1&r&&t._UZ(0,"i",17)}function Am(r,n){1&r&&t._UZ(0,"i",18)}const Ug=function(r){return{selected:r}};function Qx(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t.YNc(3,eD,1,0,"i",10),t.YNc(4,Am,1,0,"i",11),t.qZA(),t.TgZ(5,"a"),t._uU(6),t.qZA(),t.TgZ(7,"div",12)(8,"div",13)(9,"button",14),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw(4);return t.KtG(b.showActions(o,m))}),t.TgZ(10,"span",15),t._UZ(11,"i",16),t.qZA()()()()()()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.Q6J("ngClass",t.VKq(4,Ug,i.currentLibrary&&i.currentLibrary.Id==e.Id)),t.xp6(3),t.Q6J("ngIf",1==e.MediaTypeCatalogDetailId),t.xp6(1),t.Q6J("ngIf",2==e.MediaTypeCatalogDetailId),t.xp6(2),t.Oqu(e.Name)}}function jy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.openNewLibrary())}),t._uU(7,"A\xf1adir biblioteca"),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.updateVideoInAllLibraries())}),t._uU(9,"Buscar archivos en biblioteca"),t.qZA()(),t.YNc(10,Qx,12,6,"ng-template",6),t.qZA()}if(2&r){const e=t.oxw(3);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Bibliotecas"),t.xp6(3),t.hij("",e.listLibraries?e.listLibraries.length:""," bibliotecas"),t.xp6(5),t.Q6J("ngForOf",e.listLibraries)}}function tD(r,n){if(1&r&&t.YNc(0,jy,11,3,"div",1),2&r){const e=t.oxw(2);t.Q6J("ngIf",e.mediaServer)}}function Vy(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",19),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function xu(r,n){if(1&r&&(t.YNc(0,tD,1,1,"ng-template",0),t.YNc(1,Vy,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function nD(r,n){1&r&&(t.TgZ(0,"div",20),t._UZ(1,"mat-spinner"),t.qZA())}let Gg=(()=>{class r{constructor(e,i,o,d,m,b,I,G,ne){this.signalIrService=e,this.customMenuService=i,this.modalService=o,this.libraryService=d,this.dialog=m,this.snackBarService=b,this.router=I,this.activeRoute=G,this.sharedService=ne,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(e=>{this.listLibraries=e},e=>{})}openNewLibrary(){let e=new wA;e.MediaServerId=this.mediaServer.Id,this.showModalForm(e)}editLibrary(e){this.showModalForm(JSON.parse(JSON.stringify(e)))}showModalForm(e){var i=this,o=this.modalService.open(Bg,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.library=e,o.componentInstance.mediaServer=this.mediaServer,o.closed.subscribe(d=>{i.getAllItems()})}deleteLibrary(e){var i=new ar.vA;i.data={title:"Eliminar biblioteca",message:"La biblioteca '"+e.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+e.Name+"'"},this.dialog.open(ko,i).afterClosed().subscribe(o=>{o&&this.executeDeleteLibrary(e)})}executeDeleteLibrary(e){this.libraryService.deleteItem(this.mediaServer.Url,e.Id).then(i=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",Vi.Success),this.getAllItems()},i=>{console.error(i),this.snackBarService.showSnackBar(i,Vi.Error)})}showActions(e,i){this.currentLibrary=i;var o=JSON.parse(JSON.stringify(i)),d=e.currentTarget,m=[],b=new t.vpe;b.subscribe(ne=>{this.editLibrary(o)}),m.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:b});var I=new t.vpe;I.subscribe(ne=>{this.updateLibraryVideos(o)}),m.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:I});var G=new t.vpe;G.subscribe(ne=>{this.deleteLibrary(o)}),m.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:G}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:m,target:d}).then(ne=>{this.currentLibrary=void 0},ne=>{this.currentLibrary=void 0})}updateLibraryVideos(e){e.Id>0&&null!=e.PhysicalPath&&""!=e.PhysicalPath&&this.searchFilesInLibraries([e])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(e){this.libraryService.searchFiles(this.mediaServer.Url,e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Pr),t.Y36(Hy),t.Y36(na),t.Y36(vo),t.Y36(ar.uw),t.Y36(Do),t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-list"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,xu,2,2,"ng-template",0),t.YNc(1,nD,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.mk,g.sg,g.O5,Zr.Ou,Vo],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return r})();class Hg{}let iD=(()=>{class r{constructor(e){this.restProvider=e}getDetailsByCatalogId(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/catalogs/GetDetailsByCatalogAsync/"+e).then(d=>{i(d)},d=>{o(d)})})}getAllCatalogDetailsByCatalogIds(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/catalogs/GetAllCatalogDetailsByCatalogIds?catalogIds="+e).then(d=>{i(d)},d=>{o(d)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),rD=(()=>{class r{constructor(e){this.restProvider=e}getByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/transcoderSettings/GetAsync").then(m=>{i(m.Data)},m=>{console.error(m),o(m)})})}saveItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.PUT,e+"/api/transcoderSettings/Save",i).then(b=>{o(!0)},b=>{console.error(b),d(b)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Xx(r,n){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}function oD(r,n){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}function sD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.saveTranscoder())}),t.TgZ(9,"div",6)(10,"label",8),t._uU(11,"M\xe9todo de transmisi\xf3n"),t.qZA(),t.TgZ(12,"select",9),t.YNc(13,Xx,2,2,"ng-template",10),t.qZA(),t.TgZ(14,"p",11),t._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),t.qZA()(),t.TgZ(16,"div",6)(17,"label",8),t._uU(18,"Carpeta temporal para el transcodificador"),t.qZA(),t.TgZ(19,"input",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.TgZ(20,"p",11),t._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),t.qZA()(),t.TgZ(22,"div",6)(23,"label",8),t._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),t.qZA(),t.TgZ(25,"select",13),t.YNc(26,oD,2,2,"ng-template",10),t.qZA(),t.TgZ(27,"p",11),t._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),t.qZA()(),t.TgZ(29,"div",6)(30,"label",8),t._uU(31,"Factor de Tasa Constante"),t.qZA(),t._UZ(32,"input",14),t.TgZ(33,"p",11),t._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),t.qZA()(),t.TgZ(35,"div",15)(36,"button",16)(37,"span",17),t._uU(38,"Guardar cambios"),t.qZA()(),t._UZ(39,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw(3);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Transcodificador"),t.xp6(6),t.Q6J("formGroup",e.customForm),t.xp6(5),t.Q6J("ngForOf",e.transmissionMethodList),t.xp6(13),t.Q6J("ngForOf",e.presetList),t.xp6(10),t.Q6J("disabled",e.loading||e.customForm.pristine||e.customForm.invalid)}}function aD(r,n){if(1&r&&t.YNc(0,sD,40,5,"div",1),2&r){const e=t.oxw(2);t.Q6J("ngIf",e.customForm)}}function Ky(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",20),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function Wy(r,n){if(1&r&&(t.YNc(0,aD,1,1,"ng-template",0),t.YNc(1,Ky,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function lD(r,n){1&r&&(t.TgZ(0,"div",21),t._UZ(1,"mat-spinner"),t.qZA())}let jg=(()=>{class r{constructor(e,i,o,d,m,b,I,G,ne){this.catalogService=e,this.signalIrService=i,this.transcoderSettingsService=o,this.modalService=d,this.snackBarService=m,this.formBuilder=b,this.router=I,this.activeRoute=G,this.sharedService=ne,this.transmissionMethodList=[],this.presetList=[],this.loading=!1,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getTranscoderSettingss())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){this.getCatalogDetails();var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?(this.loadingConnection=!1,this.getTranscoderSettingss()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getCatalogDetails(){this.catalogService.getAllCatalogDetailsByCatalogIds(yn.TranscoderPreset+","+yn.VideoTransmissionType).then(i=>{let o=i.Data;this.transmissionMethodList=o.filter(d=>d.CatalogId==yn.VideoTransmissionType),this.presetList=o.filter(d=>d.CatalogId==yn.TranscoderPreset)},i=>{console.error(i)})}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(e=>{if(this.currentTranscoderSettingss=e,null==this.currentTranscoderSettingss){var i=new Hg;i.TemporaryFolder="",i.ConstantRateFactor=18,i.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=i}this.customForm=this.formBuilder.group({temporaryFolder:new rn.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new rn.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new rn.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new rn.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},e=>{console.error(e)})}saveTranscoder(){this.loading=!0;var e=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));e.TemporaryFolder=this.customForm.value.temporaryFolder,e.ConstantRateFactor=this.customForm.value.constantRateFactor,e.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,e.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,e).then(i=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",Vi.Success)},i=>{this.loading=!1,this.snackBarService.showSnackBar(i,Vi.Error),console.error(i)})}showChooserDirectoryModal(){var e=this,i=this.modalService.open(Fy,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.mediaServer=this.mediaServer,i.closed.subscribe(o=>{e.customForm.controls.temporaryFolder.setValue(o),e.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(iD),t.Y36(Pr),t.Y36(rD),t.Y36(na),t.Y36(Do),t.Y36(rn.qu),t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-transcode-settings"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,Wy,2,2,"ng-template",0),t.YNc(1,lD,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.sg,g.O5,rn._Y,rn.YN,rn.Kr,rn.Fj,rn.EJ,rn.JJ,rn.JL,Zr.Ou,Vo,rn.sg,rn.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return r})(),kf=(()=>{class r{constructor(e){this.restProvider=e}setPassword(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/users/SetPassword",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changePassword(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/users/ChangePassword",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changeUsername(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/users/ChangeUserName",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changeNanes(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/users/ChangeNames",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function cD(r,n){if(1&r&&(t.TgZ(0,"div",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function dD(r,n){1&r&&t._UZ(0,"div",15)}const xm=function(r){return{error:r}};let uD=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangePassword=new t.vpe,this.changePasswordForm=this.formBuilder.group({password:new rn.NI("",[rn.kI.required]),confirmPassword:new rn.NI("",[rn.kI.required]),currentPassword:new rn.NI("",[rn.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.accountSettingsService.changePassword(this.changePasswordData).then(e=>{this.loading=!1,this.closeChangePassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(kf),t.Y36(rn.qu),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:18,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,cD,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangePassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changePasword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",6)(16,"label"),t._uU(17),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11)(21,"span"),t._uU(22,"Guardar Cambios"),t.qZA(),t.YNc(23,dD,1,0,"div",12),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changePasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(12,xm,o.sharedService.isInvalidFormControl(o.changePasswordForm,"password"))),t.xp6(2),t.hij(" Contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(14,xm,o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirme la nueva contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(2),t.Q6J("ngClass",t.VKq(16,xm,o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword"))),t.xp6(2),t.hij("Contrase\xf1a actual",o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),t.xp6(3),t.Q6J("disabled",o.loading||!o.changePasswordForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,rn._Y,rn.Fj,rn.JJ,rn.JL,rn.sg,rn.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function Yy(r,n){if(1&r&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function zy(r,n){1&r&&t._UZ(0,"div",14)}const Vg=function(r){return{error:r}};let Zy=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeSetPassword=new t.vpe,this.setPasswordForm=this.formBuilder.group({password:new rn.NI("",[rn.kI.required]),confirmPassword:new rn.NI("",[rn.kI.required])}),this.loading=!1}ngOnInit(){}setPassword(){this.setPasswordForm.valid?(this.setPasswordData={UserId:this.sharedService.userData.Id,Password:this.setPasswordForm.value.password,ConfirmPassword:this.setPasswordForm.value.confirmPassword},this.loading=!0,this.accountSettingsService.setPassword(this.setPasswordData).then(e=>{this.loading=!1,this.sharedService.userData.IsPasswordSetted=!0,this.closeSetPassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.setPasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(kf),t.Y36(rn.qu),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-set-password"]],outputs:{closeSetPassword:"closeSetPassword"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,Yy,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeSetPassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.setPassword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,zy,1,0,"div",11),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.setPasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,Vg,o.sharedService.isInvalidFormControl(o.setPasswordForm,"password"))),t.xp6(2),t.hij(" Elegir una Contrase\xf1a",o.sharedService.isInvalidFormControl(o.setPasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.setPasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,Vg,o.sharedService.isInvalidFormControl(o.setPasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirmar la contrase\xf1a",o.sharedService.isInvalidFormControl(o.setPasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.setPasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(3),t.Q6J("disabled",o.loading||!o.setPasswordForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,rn._Y,rn.Fj,rn.JJ,rn.JL,rn.sg,rn.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function fD(r,n){if(1&r&&(t.TgZ(0,"div",11),t._UZ(1,"i",12),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function hD(r,n){1&r&&t._UZ(0,"div",13)}const eI=function(r){return{error:r}};let $y=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangeUsername=new t.vpe,this.changeUsernameForm=this.formBuilder.group({username:new rn.NI(this.sharedService.userData.UserName,[rn.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeUsernameForm.valid?(this.changeUsernameData={UserId:this.sharedService.userData.Id,UserName:this.changeUsernameForm.value.username},this.loading=!0,this.accountSettingsService.changeUsername(this.changeUsernameData).then(e=>{this.loading=!1,this.sharedService.userData.UserName=this.changeUsernameData.UserName,this.closeChangeUsername.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changeUsernameForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(kf),t.Y36(rn.qu),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-username"]],outputs:{closeChangeUsername:"closeChangeUsername"},decls:16,vars:10,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","username"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,fD,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangeUsername.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",8)(12,"button",9)(13,"span"),t._uU(14,"Guardar Cambios"),t.qZA(),t.YNc(15,hD,1,0,"div",10),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changeUsernameForm),t.xp6(1),t.Q6J("ngClass",t.VKq(8,eI,o.sharedService.isInvalidFormControl(o.changeUsernameForm,"username"))),t.xp6(2),t.hij(" Nombre de Usuario",o.sharedService.isInvalidFormControl(o.changeUsernameForm,"username")&&o.sharedService.hasRequireErrorFormControl(o.changeUsernameForm,"username")?" - Se requiere nombre de usuario":""," "),t.xp6(3),t.Q6J("disabled",o.loading||o.changeUsernameForm.pristine||!o.changeUsernameForm.valid||o.changeUsernameForm.value.username==o.sharedService.userData.UserName),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,rn._Y,rn.Fj,rn.JJ,rn.JL,rn.sg,rn.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function tI(r,n){if(1&r&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function nI(r,n){1&r&&t._UZ(0,"div",14)}const mD=function(r){return{error:r}};let iI=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangeNames=new t.vpe,this.changeNamesForm=this.formBuilder.group({firstName:new rn.NI(this.sharedService.userData.FirstName,[rn.kI.required]),lastName:new rn.NI(this.sharedService.userData.LastName,[rn.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeNamesForm.valid?(this.changeNamesData={UserId:this.sharedService.userData.Id,FirstName:this.changeNamesForm.value.firstName,LastName:this.changeNamesForm.value.lastName},this.loading=!0,this.accountSettingsService.changeNanes(this.changeNamesData).then(e=>{this.loading=!1,this.sharedService.userData.FirstName=this.changeNamesData.FirstName,this.sharedService.userData.LastName=this.changeNamesData.LastName,this.closeChangeNames.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changeNamesForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(kf),t.Y36(rn.qu),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-names"]],outputs:{closeChangeNames:"closeChangeNames"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","firstName"],["formControlName","lastName"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,tI,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangeNames.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,nI,1,0,"div",11),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changeNamesForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,mD,o.sharedService.isInvalidFormControl(o.changeNamesForm,"firstName"))),t.xp6(2),t.hij(" Nombres",o.sharedService.isInvalidFormControl(o.changeNamesForm,"firstName")&&o.sharedService.hasRequireErrorFormControl(o.changeNamesForm,"firstName")?" - Se requiere nombres":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,mD,o.sharedService.isInvalidFormControl(o.changeNamesForm,"lastName"))),t.xp6(2),t.hij(" Apellidos",o.sharedService.isInvalidFormControl(o.changeNamesForm,"lastName")&&o.sharedService.hasRequireErrorFormControl(o.changeNamesForm,"lastName")?" - Se requiere apellidos":""," "),t.xp6(3),t.Q6J("disabled",o.loading||o.changeNamesForm.pristine||!o.changeNamesForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,rn._Y,rn.Fj,rn.JJ,rn.JL,rn.sg,rn.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function rI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeUsernameSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombre de Usuario"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.Oqu(e.sharedService.userData.UserName)}}function oI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-username",16),t.NdJ("closeChangeUsername",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeUsernameSection=!0)}),t.qZA()}}function sI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeNamesSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombres y apellidos"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.AsE("",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName,"")}}function aI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-names",17),t.NdJ("closeChangeNames",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeNamesSection=!0)}),t.qZA()}}function lI(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"*********"),t.qZA())}function qy(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function Kg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Contrase\xf1a"),t.qZA(),t.YNc(8,lI,2,0,"span",18),t.YNc(9,qy,2,0,"span",18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",e.sharedService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!e.sharedService.userData.IsPasswordSetted)}}function Jy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-password",19),t.NdJ("closeChangePassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function pD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-set-password",20),t.NdJ("closeSetPassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function Im(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function gD(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.currentUserLinkedAccountsText)}}let _D=(()=>{class r{constructor(e,i){this.catalogService=e,this.sharedService=i,this.isCollapsedLinkedAccountsSection=!0,this.isCollapsedChangeNamesSection=!0,this.isCollapsedChangeUsernameSection=!0,this.isCollapsedChangePasswordSection=!0,this.allLinkedAccountProviders=[],this.currentUserLinkedAccountIds=[]}ngOnInit(){this.currentUserLinkedAccountIds=this.sharedService.linkedAccounts.map(e=>e.LinkedAccountProviderCatalogDetailId),this.catalogService.getDetailsByCatalogId(yn.LinkedAccountProvider).then(e=>{this.allLinkedAccountProviders=e.Data,this.currentUserLinkedAccountsText=this.allLinkedAccountProviders.filter(i=>-1!=this.currentUserLinkedAccountIds.indexOf(i.Id)).map(i=>i.Name).join(",")},e=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(iD),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-my-account"]],decls:37,vars:10,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"settings-category-header-background"],[2,"width","100%"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangeUsername",4,"ngIf"],[3,"closeChangeNames",4,"ngIf"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],[3,"closeChangePassword",4,"ngIf"],[3,"closeSetPassword",4,"ngIf"],[3,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangeUsername"],[3,"closeChangeNames"],[4,"ngIf"],[3,"closeChangePassword"],[3,"closeSetPassword"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cuenta"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"h2"),t._uU(7,"Informaci\xf3n personal"),t.qZA()()(),t.YNc(8,rI,10,1,"div",4),t.YNc(9,oI,1,0,"app-change-username",5),t.YNc(10,sI,10,2,"div",4),t.YNc(11,aI,1,0,"app-change-names",6),t.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),t._uU(16,"Correo electr\xf3nico"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()()()(),t.TgZ(19,"div",2)(20,"div",3)(21,"h2"),t._uU(22,"Seguridad"),t.qZA()()(),t.YNc(23,Kg,10,2,"div",4),t.YNc(24,Jy,1,0,"app-change-password",10),t.YNc(25,pD,1,0,"app-set-password",11),t.TgZ(26,"div",2)(27,"div",3)(28,"h2"),t._uU(29,"Ajustes"),t.qZA()()(),t.TgZ(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),t._uU(34,"Cuentas vinculadas"),t.qZA(),t.YNc(35,Im,2,0,"ng-template",12),t.YNc(36,gD,2,1,"ng-template",12),t.qZA()()()()),2&i&&(t.xp6(8),t.Q6J("ngIf",o.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",o.isCollapsedChangeNamesSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangeNamesSection),t.xp6(7),t.Oqu(o.sharedService.userData.Email),t.xp6(5),t.Q6J("ngIf",o.isCollapsedChangePasswordSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection&&o.sharedService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection&&!o.sharedService.userData.IsPasswordSetted),t.xp6(10),t.Q6J("ngIf",0==o.sharedService.linkedAccounts.length),t.xp6(1),t.Q6J("ngIf",o.sharedService.linkedAccounts.length>0))},dependencies:[g.O5,uD,Zy,$y,iI],styles:[".settings-category-header-background[_ngcontent-%COMP%]{background-color:#0000001a;border-radius:.25rem;margin:.5rem 0;padding:.75rem}.settings-category-header-background[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-width:100%;overflow:hidden;overflow-wrap:break-word;font-size:20px}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}",'.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();var lo=S(3566);class vD{}var Ml=S(5986);function yD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"p")(1,"mat-checkbox",10),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw(2);return t.KtG(b.onChangeCheckValue(o,m))}),t._uU(2),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("checked",i.selection.isSelected(e)),t.xp6(1),t.Oqu(e.Name)}}function bD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t.YNc(6,yD,3,2,"ng-template",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSaveSelection())}),t._uU(11,"Guardar"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu("G\xe9neros"),t.xp6(4),t.Q6J("ngForOf",e.listAllGenres)}}let Qy=(()=>{class r{constructor(e){this.activeModal=e}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(e,i){e.target.checked?this.selection.select(i):this.selection.deselect(i)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ws))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(i,o){1&i&&(t.YNc(0,bD,12,2,"ng-template",0),t._uU(1," <\n")),2&i&&t.Q6J("ngIf",null!=o.listAllGenres)},dependencies:[g.sg,g.O5,Ml.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})(),Wg=(()=>{class r{constructor(e){this.restProvider=e}getAllGenres(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/genres/GetAllAsync").then(o=>{e(o)},o=>{console.error(o),i(o)})})}getItems(e,i,o,d,m,b){return new Promise((I,G)=>{let ne=kt();this.lastCallGuid=ne;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(Xe.GET,"/genres/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==ne&&I(et)},et=>{console.error(et),G(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/genres/Update":"/genres/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/genres/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/genres/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Xy=(()=>{class r{constructor(e){this.restProvider=e}getMovie(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/movies/GetAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,b){return new Promise((I,G)=>{let ne=kt();this.lastCallGuid=ne;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(Xe.GET,"/movies/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==ne&&I(et)},et=>{console.error(et),G(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/movies/Update":"/movies/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/movies/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/movies/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Fd=S(8034);function eb(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function cI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,eb,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Fecha de Lanzamiento"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"G\xe9neros"),t.qZA(),t.TgZ(24,"textarea",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(25,"mat-form-field")(26,"mat-label"),t._uU(27,"Directores"),t.qZA(),t._UZ(28,"textarea",13),t.qZA(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Actores"),t.qZA(),t._UZ(32,"textarea",14),t.qZA(),t.TgZ(33,"mat-form-field")(34,"mat-label"),t._uU(35,"Resumen"),t.qZA(),t._UZ(36,"textarea",15),t.qZA(),t.TgZ(37,"mat-form-field")(38,"mat-label"),t._uU(39,"Im\xe1gen"),t.qZA(),t._UZ(40,"textarea",16),t.qZA()(),t.TgZ(41,"div",17)(42,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(43,"Close"),t.qZA(),t.TgZ(44,"button",19),t._uU(45,"Guardar"),t.qZA()()(),t._UZ(46,"app-custom-spinner",20)}if(2&r){const e=t.MAs(20),i=t.oxw();t.Q6J("formGroup",i.movieFormGroup),t.xp6(3),t.Oqu(i.movie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.movieFormGroup.controls.title.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",i.showLoading||!i.movieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",i.showLoading)}}let Al=(()=>{class r{constructor(e,i,o,d,m,b,I){this.sharedService=e,this.modalService=i,this.genreService=o,this.formBuilder=d,this.activeModal=m,this.snackbarService=b,this.movieService=I,this.showLoading=!1,this.matcher=new gl}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new rn.NI(this.movie.Title,[rn.kI.required]),releaseDate:new rn.NI(this.sharedService.formatDate(this.movie.ReleaseDate)),directors:new rn.NI(this.movie.Directors),actors:new rn.NI(this.movie.Actors),overview:new rn.NI(this.movie.Overview),posterPath:new rn.NI(this.movie.PosterPath),selectedGenres:new rn.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(e=>{this.movie=e.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.movie));e.Title=this.movieFormGroup.value.title,e.ReleaseDate=this.movieFormGroup.value.releaseDate,e.Directors=this.movieFormGroup.value.directors,e.Actors=this.movieFormGroup.value.actors,e.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",Vi.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){if(this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0){var e=this.movie.ListItemGenres.map(i=>i.GenreName);return e.join(", ")}return""}showGenresSelectionModal(){var e=this,i=this.modalService.open(Qy,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.listAllGenres=this.listGenres,i.componentInstance.selection=new Ih.Ov(!0,this.getMovieGenres()),i.closed.subscribe(o=>{e.setMovieGenres(o)})}getMovieGenres(){var e=this.movie.ListItemGenres.map(i=>i.GenreId);return this.listGenres.filter(i=>-1!=e.indexOf(i.Id))}setMovieGenres(e){var i=[];e.forEach(o=>{i.push({MovieId:this.movie.Id,GenreId:o.Id,GenreName:o.Name})}),this.movie.ListItemGenres=i,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(hi),t.Y36(na),t.Y36(Wg),t.Y36(rn.qu),t.Y36(Ws),t.Y36(Do),t.Y36(Xy))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,cI,47,9,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.movie&&o.movieFormGroup)},dependencies:[rn._Y,rn.Fj,rn.JJ,rn.JL,rn.sg,rn.u,ta,g.O5,Jo.Nt,Ki.KE,Ki.hX,Ki.bx,Ki.TO,Ki.R9,Fd.Mq,Fd.hl,Fd.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();var Ec=S(2596);function ED(r,n){1&r&&(t.TgZ(0,"div",39),t._UZ(1,"mat-spinner"),t.qZA())}function dI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",40)(1,"mat-checkbox",41),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function ia(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"mat-checkbox",43),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function TD(r,n){1&r&&(t.TgZ(0,"th",44),t._uU(1,"N\xb0"),t.qZA())}function Yg(r,n){if(1&r&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function SD(r,n){1&r&&(t.TgZ(0,"th",46),t._uU(1,"T\xedtulo"),t.qZA())}function CD(r,n){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function zg(r,n){1&r&&(t.TgZ(0,"th",48),t._uU(1,"Fecha"),t.qZA())}function tb(r,n){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.ReleaseDate,"dd-MM-YYYY ")," ")}}function nb(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Actores"),t.qZA())}function DD(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Actors," ")}}function ib(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Directores"),t.qZA())}function rb(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Directors," ")}}function ob(r,n){1&r&&t._UZ(0,"th",52)}function sb(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",53)(1,"div",54)(2,"button",55),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",56),t.qZA(),t.TgZ(4,"button",57),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function MD(r,n){1&r&&t._UZ(0,"tr",58)}function ab(r,n){1&r&&t._UZ(0,"tr",59)}function AD(r,n){1&r&&(t.TgZ(0,"td",62),t._uU(1,"No se encontraron datos"),t.qZA())}function Zg(r,n){if(1&r&&(t.TgZ(0,"tr",60),t.YNc(1,AD,2,0,"td",61),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const Qc=function(r){return{disable:r}},lb=function(){return[5,10,25,100]};let wm=(()=>{class r extends $l{constructor(e,i,o,d,m,b){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.movieService=b}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new vD;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(Al,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.movie=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new qn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new ar.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+e.Title+"?",accordMessage:"Si, eliminar el movie '"+e.Title+"'"},this.dialog.open(ko,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.movieService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Vi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ar.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(ko,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Vi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Vi.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(na),t.Y36(ar.uw),t.Y36(Ur.ye),t.Y36(Do),t.Y36(Xy))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Ur.NW,5),t.Gf(lo.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Pel\xedculas"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,ED,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,dI,2,2,"th",17),t.YNc(25,ia,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,TD,2,0,"th",20),t.YNc(28,Yg,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,SD,2,0,"th",23),t.YNc(31,CD,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,zg,2,0,"th",26),t.YNc(34,tb,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,nb,2,0,"th",29),t.YNc(37,DD,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,ib,2,0,"th",29),t.YNc(40,rb,2,1,"td",30),t.BQk(),t.ynx(41,32),t.YNc(42,ob,1,0,"th",33),t.YNc(43,sb,6,0,"td",34),t.BQk(),t.YNc(44,MD,1,0,"tr",35),t.YNc(45,ab,1,0,"tr",36),t.YNc(46,Zg,2,1,"tr",37),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",38),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,Qc,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,lb)))},dependencies:[g.mk,g.O5,Ur.NW,qn.BZ,qn.fO,qn.as,qn.w1,qn.Dz,qn.nj,qn.ge,qn.ev,qn.XQ,qn.Gk,qn.Ee,Jo.Nt,Ki.KE,Ki.hX,lo.YE,lo.nU,Ml.oG,Zr.Ou,Ec.gM,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class $g{}function xD(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function uI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,xD,4,0,"mat-error",8),t.qZA()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",11),t._uU(16,"Guardar"),t.qZA()()(),t._UZ(17,"app-custom-spinner",12)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.genreFormGroup),t.xp6(3),t.Oqu(e.genre&&e.genre.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.genreFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.genreFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let cb=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.genreService=d,this.showLoading=!1,this.matcher=new gl}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new rn.NI(this.genre.Name,[rn.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.genre));e.Name=this.genreFormGroup.value.name,this.genreService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",Vi.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rn.qu),t.Y36(Ws),t.Y36(Do),t.Y36(Wg))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,uI,18,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.genre&&o.genreFormGroup)},dependencies:[rn._Y,rn.Fj,rn.JJ,rn.JL,rn.sg,rn.u,ta,g.O5,Jo.Nt,Ki.KE,Ki.hX,Ki.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function ID(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function wD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function PD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function OD(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function db(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function fI(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function ub(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function RD(r,n){1&r&&t._UZ(0,"th",41)}function fb(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function hI(r,n){1&r&&t._UZ(0,"tr",47)}function qg(r,n){1&r&&t._UZ(0,"tr",48)}function hb(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function mb(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,hb,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const ND=function(r){return{disable:r}},pb=function(){return[5,10,25,100]};let Jg=(()=>{class r extends $l{constructor(e,i,o,d,m,b){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.genreService=b,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new $g;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(cb,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.genre=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new qn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new ar.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(ko,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.genreService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Vi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ar.vA;e.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(ko,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Vi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Vi.Error)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(na),t.Y36(ar.uw),t.Y36(Ur.ye),t.Y36(Do),t.Y36(Wg))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Ur.NW,5),t.Gf(lo.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," G\xe9neros"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,ID,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,wD,2,2,"th",17),t.YNc(25,PD,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,OD,2,0,"th",20),t.YNc(28,db,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,fI,2,0,"th",23),t.YNc(31,ub,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,RD,1,0,"th",26),t.YNc(34,fb,6,0,"td",27),t.BQk(),t.YNc(35,hI,1,0,"tr",28),t.YNc(36,qg,1,0,"tr",29),t.YNc(37,mb,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,ND,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,pb)))},dependencies:[g.mk,g.O5,Ur.NW,qn.BZ,qn.fO,qn.as,qn.w1,qn.Dz,qn.nj,qn.ge,qn.ev,qn.XQ,qn.Gk,qn.Ee,Jo.Nt,Ki.KE,Ki.hX,lo.YE,lo.nU,Ml.oG,Zr.Ou,Ec.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return r})();class xl{}function Pm(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function gb(r,n){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function _b(r,n){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Title," ")}}function LD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,Pm,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Path"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"N\xfamero de Orden"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Tipo de \xcdcono"),t.qZA(),t.TgZ(23,"mat-select",11)(24,"mat-option",12),t._uU(25,"--"),t.qZA(),t.YNc(26,gb,2,2,"mat-option",13),t.qZA()(),t.TgZ(27,"mat-form-field")(28,"mat-label"),t._uU(29,"Icon Class"),t.qZA(),t._UZ(30,"input",14),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"Menu Padre"),t.qZA(),t.TgZ(34,"mat-select",15)(35,"mat-option",12),t._uU(36,"--"),t.qZA(),t.YNc(37,_b,2,2,"mat-option",13),t.qZA()(),t.TgZ(38,"mat-checkbox",16),t._uU(39,"Activo"),t.qZA()(),t.TgZ(40,"div",17)(41,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(42,"Cerrar"),t.qZA(),t.TgZ(43,"button",19),t._uU(44,"Guardar"),t.qZA()()(),t._UZ(45,"app-custom-spinner",20)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.menuFormGroup),t.xp6(3),t.Oqu(e.menu.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.menuFormGroup.controls.title.hasError("required")),t.xp6(13),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listIconTypes),t.xp6(9),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listMenusSelectable),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.menuFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let kD=(()=>{class r{constructor(e,i,o,d,m,b){this.sharedService=e,this.restProvider=i,this.formBuilder=o,this.activeModal=d,this.snackbarService=m,this.menuService=b,this.showLoading=!1,this.matcher=new gl}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then(e=>{this.listMenusSelectable=e.Data.filter(o=>o.Id!=this.menu.Id)},e=>{console.error(e)})}getIconTypes(){this.restProvider.executeSinovadApiService(Xe.GET,"/catalogs/GetDetailsByCatalogAsync/"+yn.IconTypes).then(i=>{this.listIconTypes=i.Data},i=>{console.error(i)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new rn.NI(this.menu.Title,[rn.kI.required]),path:new rn.NI(this.menu.Path),iconType:new rn.NI(this.menu.IconTypeCatalogDetailId),iconClass:new rn.NI(this.menu.IconClass),sortOrder:new rn.NI(this.menu.SortOrder),parentId:new rn.NI(this.menu.ParentId),enabled:new rn.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.menu));e.Title=this.menuFormGroup.value.title,e.Path=this.menuFormGroup.value.path,e.IconClass=this.menuFormGroup.value.iconClass,e.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?(e.IconTypeCatalogId=yn.IconTypes,e.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):(e.IconTypeCatalogId=void 0,e.IconTypeCatalogDetailId=void 0),e.ParentId=this.menuFormGroup.value.parentId,e.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",Vi.Success),this.menuService.getManageMenu(),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(hi),t.Y36(Li),t.Y36(rn.qu),t.Y36(Ws),t.Y36(Do),t.Y36(pr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,LD,46,10,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.menu&&o.menuFormGroup)},dependencies:[rn._Y,rn.Fj,rn.wV,rn.JJ,rn.JL,rn.sg,rn.u,ta,g.sg,g.O5,Jo.Nt,Ki.KE,Ki.hX,Ki.TO,Ml.oG,Ys.ey,kd.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function mI(r,n){1&r&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner"),t.qZA())}function vb(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",42)(1,"mat-checkbox",43),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function FD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",44)(1,"mat-checkbox",45),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function BD(r,n){1&r&&(t.TgZ(0,"th",46),t._uU(1,"N\xb0"),t.qZA())}function UD(r,n){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function pI(r,n){1&r&&(t.TgZ(0,"th",48),t._uU(1,"T\xedtulo"),t.qZA())}function gI(r,n){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function yb(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Path"),t.qZA())}function GD(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Path," ")}}function HD(r,n){1&r&&(t.TgZ(0,"th",52),t._uU(1,"\xcdcono"),t.qZA())}function jD(r,n){if(1&r&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.IconClass," ")}}function _I(r,n){1&r&&(t.TgZ(0,"th",54),t._uU(1,"Orden"),t.qZA())}function vI(r,n){if(1&r&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SortOrder," ")}}function yI(r,n){1&r&&t._UZ(0,"th",56)}function bI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",57)(1,"div",58)(2,"button",59),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",60),t.qZA(),t.TgZ(4,"button",61),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function EI(r,n){1&r&&t._UZ(0,"tr",62)}function VD(r,n){1&r&&t._UZ(0,"tr",63)}function Om(r,n){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function KD(r,n){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,Om,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const WD=function(r){return{disable:r}},bb=function(){return[5,10,25,100]};let Xc=(()=>{class r extends $l{constructor(e,i,o,d,m,b){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.menuService=b}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new xl;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(kD,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.menu=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new qn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new ar.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+e.Title+"?",accordMessage:"Si, eliminar el menu '"+e.Title+"'"},this.dialog.open(ko,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.menuService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Vi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ar.vA;e.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(ko,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Vi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Vi.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(na),t.Y36(ar.uw),t.Y36(Ur.ye),t.Y36(Do),t.Y36(pr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Ur.NW,5),t.Gf(lo.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Menus"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,mI,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,vb,2,2,"th",17),t.YNc(25,FD,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,BD,2,0,"th",20),t.YNc(28,UD,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,pI,2,0,"th",23),t.YNc(31,gI,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,yb,2,0,"th",26),t.YNc(34,GD,2,1,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,HD,2,0,"th",29),t.YNc(37,jD,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,_I,2,0,"th",32),t.YNc(40,vI,2,1,"td",33),t.BQk(),t.ynx(41,34),t.YNc(42,yI,1,0,"th",35),t.YNc(43,bI,6,0,"td",36),t.BQk(),t.YNc(44,EI,1,0,"tr",37),t.YNc(45,VD,1,0,"tr",38),t.YNc(46,KD,2,1,"tr",39),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",40),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,WD,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,bb)))},dependencies:[g.mk,g.O5,Ur.NW,qn.BZ,qn.fO,qn.as,qn.w1,qn.Dz,qn.nj,qn.ge,qn.ev,qn.XQ,qn.Gk,qn.Ee,Jo.Nt,Ki.KE,Ki.hX,lo.YE,lo.nU,Ml.oG,Zr.Ou,Ec.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();function Eb(r,n){1&r&&(t.TgZ(0,"div",27),t._UZ(1,"mat-spinner"),t.qZA())}function Qg(r,n){1&r&&(t.TgZ(0,"th",28),t._uU(1,"N\xb0"),t.qZA())}function Xg(r,n){if(1&r&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function YD(r,n){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre del dispositivo"),t.qZA())}function e_(r,n){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.DeviceName," ")}}function t_(r,n){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre familiar"),t.qZA())}function Rm(r,n){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.FamilyName," ")}}function TI(r,n){1&r&&(t.TgZ(0,"th",32),t._uU(1,"IP Privada"),t.qZA())}function SI(r,n){if(1&r&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.IpAddress," ")}}function CI(r,n){1&r&&(t.TgZ(0,"th",34),t._uU(1,"Puerto"),t.qZA())}function Tb(r,n){if(1&r&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Port," ")}}function zD(r,n){1&r&&t._UZ(0,"tr",36)}function ZD(r,n){1&r&&t._UZ(0,"tr",37)}function $D(r,n){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function qD(r,n){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,$D,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const Sb=function(){return[5,10,25,100]};let Cb=(()=>{class r extends $l{constructor(e,i,o,d){super(o),this.dialog=e,this.mediaServerService=i,this.matPaginatorIntl=o,this.snackbarService=d}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new qn.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new ar.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+e.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+e.DeviceName+"'"},this.dialog.open(ko,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.mediaServerService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Vi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ar.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(ko,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Vi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Vi.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ar.uw),t.Y36(xh),t.Y36(Ur.ye),t.Y36(Do))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Ur.NW,5),t.Gf(lo.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,Eb,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,Qg,2,0,"th",11),t.YNc(18,Xg,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,YD,2,0,"th",14),t.YNc(21,e_,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,t_,2,0,"th",14),t.YNc(24,Rm,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,TI,2,0,"th",18),t.YNc(27,SI,2,1,"td",19),t.BQk(),t.ynx(28,20),t.YNc(29,CI,2,0,"th",21),t.YNc(30,Tb,2,1,"td",22),t.BQk(),t.YNc(31,zD,1,0,"tr",23),t.YNc(32,ZD,1,0,"tr",24),t.YNc(33,qD,2,1,"tr",25),t.qZA()()()()(),t.TgZ(34,"div",1)(35,"div",3),t._UZ(36,"mat-paginator",26),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.UserName," : Servidores multimedia"),t.xp6(10),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(7,Sb)))},dependencies:[g.O5,Ur.NW,qn.BZ,qn.fO,qn.as,qn.w1,qn.Dz,qn.nj,qn.ge,qn.ev,qn.XQ,qn.Gk,qn.Ee,Jo.Nt,Ki.KE,Ki.hX,lo.YE,lo.nU,Zr.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return r})();function Db(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"h5",2),t.TgZ(2,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(3,"i",4),t.qZA()(),t.TgZ(4,"div",5),t._UZ(5,"app-media-server-list",6),t.qZA(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(8,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("parentItem",e.parent)}}let JD=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ws))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,Db,9,1,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,Cb]})}return r})();function QD(r,n){if(1&r&&t._UZ(0,"img",7),2&r){const e=t.oxw().$implicit;t.Q6J("src",e.imageUrl,t.LSH)}}function Mb(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.iconClass)}}function n_(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickContextMenuOption(d))}),t.TgZ(1,"div",3),t.YNc(2,QD,1,1,"img",4),t.YNc(3,Mb,1,3,"i",5),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit;t.Udp("border-bottom",e.showBorderBottom?"1px solid black":""),t.xp6(2),t.Q6J("ngIf",e.imageUrl),t.xp6(1),t.Q6J("ngIf",e.iconClass),t.xp6(2),t.hij(" ",e.text," ")}}let Ab=(()=>{class r{constructor(){this.hideContextMenu=new t.vpe,this.clickOption=new t.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(e){this.clickOption.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(){return o.onClickOutside()}),t.YNc(1,n_,6,5,"ng-template",1),t.qZA()),2&i&&(t.Udp("top",o.top+"px")("left",o.left+"px"),t.xp6(1),t.Q6J("ngForOf",o.listOptions))},dependencies:[g.sg,g.O5,Au],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return r})(),i_=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o}show(e,i,o,d){return new Promise((m,b)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const G=this.factoryResolver.resolveComponentFactory(Ab).create(this.injector);this.lastViewRef=G.hostView,this.applicationRef.attachView(G.hostView);let ne=this;G.instance.left=i,G.instance.top=o,G.instance.listOptions=d,G.instance.clickOption.subscribe(et=>{G.destroy(),ne.applicationRef.detachView(G.hostView),m(et)}),G.instance.hideContextMenu.subscribe(et=>{G.destroy(),ne.applicationRef.detachView(G.hostView),b(!0)});const me=G.hostView.rootNodes[0];document.getElementById(e).appendChild(me)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function XD(r,n){1&r&&(t.TgZ(0,"div",26),t._UZ(1,"mat-spinner"),t.qZA())}function eM(r,n){1&r&&(t.TgZ(0,"th",27),t._uU(1,"N\xb0"),t.qZA())}function DI(r,n){if(1&r&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function MI(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Usuario "),t.qZA())}function tM(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.UserName," ")}}function nM(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Correo "),t.qZA())}function iM(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Email," ")}}function rM(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Nombres "),t.qZA())}function xb(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.FirstName," ")}}function Ib(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Apellidos "),t.qZA())}function AI(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.LastName," ")}}function oM(r,n){1&r&&t._UZ(0,"th",31)}function r_(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",32)(1,"div",33)(2,"button",34),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(3,"i",35),t.qZA()()()}}function wb(r,n){1&r&&t._UZ(0,"tr",36)}const Pb=function(r){return{active:r}};function sM(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"tr",37),t.NdJ("contextmenu",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onContextMenuItem(o,m))}),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(1,Pb,i.lastSelectedItem&&e.Id==i.lastSelectedItem.Id))}}function o_(r,n){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function aM(r,n){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,o_,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const lM=function(){return[5,10,25,100]};let s_=(()=>{class r extends $l{constructor(e,i,o,d,m,b,I){super(b),this.router=e,this.modalService=i,this.contextMenuService=o,this.dialog=d,this.userService=m,this.matPaginatorIntl=b,this.snackbarService=I}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new qn.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new ar.vA;i.data={title:"Eliminar usuario",message:"\xbfEsta seguro que desea eliminar el usuario "+e.UserName+"?",accordMessage:"Si, eliminar el usuario '"+e.UserName+"'"},this.dialog.open(ko,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.userService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Vi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ar.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(ko,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Vi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Vi.Error)})}getDisplayedColumns(){return window.innerWidth>1050?["Id","UserName","Email","FirstName","LastName","Actions"]:window.innerWidth>950?["Id","UserName","Email","FirstName","Actions"]:window.innerWidth>675?["Id","UserName","Email","Actions"]:(window,["Id","UserName","Actions"])}onContextMenuItem(e,i){this.lastSelectedItem=i,e.preventDefault(),e.stopPropagation();let o=[];o.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),o&&o.length>0&&this.renderContextMenuComponent(e.clientX,e.clientY,o,i)}renderContextMenuComponent(e,i,o,d){this.contextMenuService.show("sinovadMainContainer",e,i,o).then(m=>{"ShowMediaServers"==m.key&&this.showMediaServerListModal(d)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(e){var i=this,o=this.modalService.open(JD,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{i.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(na),t.Y36(i_),t.Y36(ar.uw),t.Y36(co),t.Y36(Ur.ye),t.Y36(Do))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Ur.NW,5),t.Gf(lo.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:40,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Usuarios"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,XD,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,eM,2,0,"th",11),t.YNc(18,DI,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,MI,2,0,"th",14),t.YNc(21,tM,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,nM,2,0,"th",14),t.YNc(24,iM,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,rM,2,0,"th",14),t.YNc(27,xb,2,1,"td",15),t.BQk(),t.ynx(28,18),t.YNc(29,Ib,2,0,"th",14),t.YNc(30,AI,2,1,"td",15),t.BQk(),t.ynx(31,19),t.YNc(32,oM,1,0,"th",20),t.YNc(33,r_,4,0,"td",21),t.BQk(),t.YNc(34,wb,1,0,"tr",22),t.YNc(35,sM,1,3,"tr",23),t.YNc(36,aM,2,1,"tr",24),t.qZA()()()()(),t.TgZ(37,"div",1)(38,"div",3),t._UZ(39,"mat-paginator",25),t.qZA()()()()),2&i&&(t.xp6(13),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(6,lM)))},dependencies:[g.mk,g.O5,Ur.NW,qn.BZ,qn.fO,qn.as,qn.w1,qn.Dz,qn.nj,qn.ge,qn.ev,qn.XQ,qn.Gk,qn.Ee,Jo.Nt,Ki.KE,Ki.hX,lo.YE,lo.nU,Zr.Ou,Ec.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class Ob{}let cM=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,b){return new Promise((I,G)=>{let ne=kt();this.lastCallGuid=ne;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(Xe.GET,"/roles/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==ne&&I(et)},et=>{console.error(et),G(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/roles/Update":"/roles/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/roles/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/roles/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function dM(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Nm(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,dM,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-checkbox",9),t._uU(13,"Activo"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(16,"Close"),t.qZA(),t.TgZ(17,"button",12),t._uU(18,"Guardar"),t.qZA()()(),t._UZ(19,"app-custom-spinner",13)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.roleFormGroup),t.xp6(3),t.Oqu(e.role&&e.role.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.roleFormGroup.controls.name.hasError("required")),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.roleFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let xI=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.roleService=d,this.showLoading=!1,this.matcher=new gl}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new rn.NI(this.role.Name,[rn.kI.required]),enabled:new rn.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.role));e.Name=this.roleFormGroup.value.name,e.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(e).then(i=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",Vi.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rn.qu),t.Y36(Ws),t.Y36(Do),t.Y36(cM))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,Nm,20,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.role&&o.roleFormGroup)},dependencies:[rn._Y,rn.Fj,rn.JJ,rn.JL,rn.sg,rn.u,ta,g.O5,Jo.Nt,Ki.KE,Ki.hX,Ki.TO,Ml.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function uM(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function II(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function wI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function fM(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function PI(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function OI(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function RI(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function NI(r,n){1&r&&t._UZ(0,"th",41)}function LI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function hM(r,n){1&r&&t._UZ(0,"tr",47)}function kI(r,n){1&r&&t._UZ(0,"tr",48)}function FI(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function BI(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,FI,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const UI=function(r){return{disable:r}},mM=function(){return[5,10,25,100]};let Rb=(()=>{class r extends $l{constructor(e,i,o,d,m,b){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.roleService=b,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Ob;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(xI,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.role=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new qn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new ar.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(ko,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.roleService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Vi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ar.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(ko,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Vi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Vi.Error)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(na),t.Y36(ar.uw),t.Y36(Ur.ye),t.Y36(Do),t.Y36(cM))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Ur.NW,5),t.Gf(lo.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Roles"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,uM,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,II,2,2,"th",17),t.YNc(25,wI,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,fM,2,0,"th",20),t.YNc(28,PI,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,OI,2,0,"th",23),t.YNc(31,RI,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,NI,1,0,"th",26),t.YNc(34,LI,6,0,"td",27),t.BQk(),t.YNc(35,hM,1,0,"tr",28),t.YNc(36,kI,1,0,"tr",29),t.YNc(37,BI,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,UI,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,mM)))},dependencies:[g.mk,g.O5,Ur.NW,qn.BZ,qn.fO,qn.as,qn.w1,qn.Dz,qn.nj,qn.ge,qn.ev,qn.XQ,qn.Gk,qn.Ee,Jo.Nt,Ki.KE,Ki.hX,lo.YE,lo.nU,Ml.oG,Zr.Ou,Ec.gM]})}return r})();const GI=["loginFormContainer"];let l=(()=>{class r{constructor(e,i,o){this.router=e,this.activeRoute=i,this.sharedService=o,this._window=window,this.showLoading=!1}ngOnInit(){}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-landing"]],viewQuery:function(i,o){if(1&i&&t.Gf(GI,5),2&i){let d;t.iGM(d=t.CRH())&&(o.loginFormContainer=d.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.ALo(5,"async"),t.ALo(6,"formatDataPipe"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return o.showRegisterPage()}),t._uU(9,"REG\xcdSTRATE"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.showLoginPage()}),t._uU(11,"INICIA SESI\xd3N"),t.qZA()()()()()),2&i&&(t.xp6(4),t.Q6J("src",t.lcZ(5,1,t.xi3(6,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[g.Ov,Lr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();class u{}function h(r,n){if(1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function _(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los nombres correctamente "),t.qZA())}function x(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los apellidos correctamente "),t.qZA())}function j(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function re(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function Se(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const Ge=function(r){return{error:r}},pt=function(r){return{disable:r}};function Nt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",9)(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.register())}),t.TgZ(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Reg\xedstrate "),t.qZA(),t.TgZ(8,"div",13)(9,"label",14),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",15),t._UZ(12,"input",16),t.YNc(13,h,3,1,"label",17),t.qZA()(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16," Nombres "),t.qZA(),t.TgZ(17,"div",15),t._UZ(18,"input",18),t.YNc(19,_,3,0,"label",17),t.qZA()(),t.TgZ(20,"div",13)(21,"label",14),t._uU(22," Apellidos "),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",19),t.YNc(25,x,3,0,"label",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28," Usuario "),t.qZA(),t.TgZ(29,"div",15),t._UZ(30,"input",20),t.YNc(31,j,3,0,"label",17),t.qZA()(),t.TgZ(32,"div",13)(33,"label",14),t._uU(34," Contrase\xf1a "),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"input",21),t.YNc(37,re,3,0,"label",17),t.qZA()(),t.TgZ(38,"div",13)(39,"label",14),t._uU(40," Confirmar contrase\xf1a "),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",22),t.YNc(43,Se,3,0,"label",17),t.qZA()(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Registrar"),t.qZA()(),t.TgZ(47,"div",25),t._uU(48),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.registerUserForm),t.xp6(2),t.Q6J("src",t.lcZ(4,16,t.xi3(5,18,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(21,Ge,e.sharedService.isInvalidFormControl(e.registerUserForm,"email"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"email")),t.xp6(1),t.Q6J("ngClass",t.VKq(23,Ge,e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"firstName")),t.xp6(1),t.Q6J("ngClass",t.VKq(25,Ge,e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"lastName")),t.xp6(1),t.Q6J("ngClass",t.VKq(27,Ge,e.sharedService.isInvalidFormControl(e.registerUserForm,"username"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"username")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"username")),t.xp6(1),t.Q6J("ngClass",t.VKq(29,Ge,e.sharedService.isInvalidFormControl(e.registerUserForm,"password"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"password")),t.xp6(1),t.Q6J("ngClass",t.VKq(31,Ge,e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(33,pt,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function Wt(r,n){1&r&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Registro de Usuario "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let vn=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.router=i,this.restProvider=o,this.sharedService=d,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new u,this.registerUserForm=this.formBuilder.group({email:new rn.NI("",[rn.kI.required,rn.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new rn.NI("",[rn.kI.required]),lastName:new rn.NI("",[rn.kI.required]),username:new rn.NI("",[rn.kI.required]),password:new rn.NI("",[rn.kI.required]),confirmPassword:new rn.NI("",[rn.kI.required])})}ngOnInit(){}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.restProvider.executeSinovadApiService(Xe.POST,"/users/Register",this.registerUserModel).then(e=>{console.log("Registrado exitosamente"),this.showLoading=!1,this.showSuccessMessage=!0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rn.qu),t.Y36(Vn.F0),t.Y36(Li),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,Nt,49,35,"div",6),t.YNc(9,Wt,10,6,"div",7),t.qZA()(),t._UZ(10,"app-custom-spinner",8)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",!o.showSuccessMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,rn._Y,rn.Fj,rn.JJ,rn.JL,ta,rn.sg,rn.u,g.Ov,Lr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class An{}class Wn{}var ni=S(6878),gi=S(9058),Ii=S(534),Jn=S(7879),Xi=S(4537),mr=S(3093),Ar=S(940),zs=S(1374),Lm=S(4674);function Nb(r,n){return(0,Lm.m)(n)?(0,f.w)(()=>r,n):(0,f.w)(()=>r)}var a_=S(5137),l_=S(8186),Ff=S(6304);S(3182);const gM=new Map,jI={activated:!1,tokenObservers:[]},Cw={initialized:!1,enabled:!1};function Qo(r){return gM.get(r)||Object.assign({},jI)}function kb(){return Cw}const _M="https://content-firebaseappcheck.googleapis.com/v1",xw="exchangeDebugToken",VI={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ww{constructor(n,e,i,o,d){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=o,o>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,Hi.Z)(function*(){e.stop();try{e.pending=new gi.BH,yield function Pw(r){return new Promise(n=>{setTimeout(n,r)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new gi.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ra=new gi.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vM(r){if(!Qo(r).activated)throw ra.create("use-before-activation",{appName:r.name})}function Ub(r,n){return bM.apply(this,arguments)}function bM(){return bM=(0,Hi.Z)(function*({url:r,body:n},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const me=yield o.getHeartbeatsHeader();me&&(i["X-Firebase-Client"]=me)}const d={method:"POST",body:JSON.stringify(n),headers:i};let m,b;try{m=yield fetch(r,d)}catch(me){throw ra.create("fetch-network-error",{originalErrorMessage:me?.message})}if(200!==m.status)throw ra.create("fetch-status-error",{httpStatus:m.status});try{b=yield m.json()}catch(me){throw ra.create("fetch-parse-error",{originalErrorMessage:me?.message})}const I=b.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw ra.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const G=1e3*Number(I[1]),ne=Date.now();return{token:b.token,expireTimeMillis:ne+G,issuedAtTimeMillis:ne}}),bM.apply(this,arguments)}function KI(r,n){const{projectId:e,appId:i,apiKey:o}=r.options;return{url:`${_M}/projects/${e}/apps/${i}:${xw}?key=${o}`,body:{debug_token:n}}}const Lw="firebase-app-check-database",kw=1,c_="firebase-app-check-store";let Gb=null;function EM(){return EM=(0,Hi.Z)(function*(r,n){const i=(yield function YI(){return Gb||(Gb=new Promise((r,n)=>{try{const e=indexedDB.open(Lw,kw);e.onsuccess=i=>{r(i.target.result)},e.onerror=i=>{var o;n(ra.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(c_,{keyPath:"compositeKey"})}}catch(e){n(ra.create("storage-open",{originalErrorMessage:e?.message}))}}),Gb)}()).transaction(c_,"readwrite"),d=i.objectStore(c_).put({compositeKey:r,value:n});return new Promise((m,b)=>{d.onsuccess=I=>{m()},i.onerror=I=>{var G;b(ra.create("storage-set",{originalErrorMessage:null===(G=I.target.error)||void 0===G?void 0:G.message}))}})}),EM.apply(this,arguments)}const d_=new Jn.Yd("@firebase/app-check");function CM(r,n){return(0,gi.hl)()?function Bw(r,n){return function zI(r,n){return EM.apply(this,arguments)}(function $I(r){return`${r.options.appId}-${r.name}`}(r),n)}(r,n).catch(e=>{d_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function MM(){return kb().enabled}function AM(){return xM.apply(this,arguments)}function xM(){return(xM=(0,Hi.Z)(function*(){const r=kb();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Kw={error:"UNKNOWN_ERROR"};function Ww(r){return gi.US.encodeString(JSON.stringify(r),!1)}function Hb(r){return IM.apply(this,arguments)}function IM(){return IM=(0,Hi.Z)(function*(r,n=!1){const e=r.app;vM(e);const i=Qo(e);let d,o=i.token;if(o&&!km(o)&&(i.token=void 0,o=void 0),!o){const I=yield i.cachedTokenPromise;I&&(km(I)?o=I:yield CM(e,void 0))}if(!n&&o&&km(o))return{token:o.token};let b,m=!1;if(MM()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ub(KI(e,yield AM()),r.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),m=!0);const I=yield i.exchangeTokenPromise;return yield CM(e,I),i.token=I,{token:I.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),m=!0),o=yield Qo(e).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?d_.warn(I.message):d_.error(I),d=I}return o?d?b=km(o)?{token:o.token,internalError:d}:XI(d):(b={token:o.token},i.token=o,yield CM(e,o)):b=XI(d),m&&function QI(r,n){const e=Qo(r).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(e,b),b}),IM.apply(this,arguments)}function wM(){return wM=(0,Hi.Z)(function*(r){const n=r.app;vM(n);const{provider:e}=Qo(n);if(MM()){const i=yield AM(),{token:o}=yield Ub(KI(n,i),r.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}}),wM.apply(this,arguments)}function OM(r,n){const e=Qo(r),i=e.tokenObservers.filter(o=>o.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function JI(r){const{app:n}=r,e=Qo(n);let i=e.tokenRefresher;i||(i=function Yw(r){const{app:n}=r;return new ww((0,Hi.Z)(function*(){let i;if(i=Qo(n).token?yield Hb(r,!0):yield Hb(r),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Qo(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},VI.RETRIAL_MIN_WAIT,VI.RETRIAL_MAX_WAIT)}(r),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function km(r){return r.expireTimeMillis-Date.now()>0}function XI(r){return{token:Ww(Kw),error:r}}class zw{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=Qo(this.app);for(const e of n)OM(this.app,e.next);return Promise.resolve()}}const l1="app-check-internal";!function aP(){(0,Ii._registerComponent)(new Xi.wA("app-check",r=>function Zw(r,n){return new zw(r,n)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,e)=>{r.getProvider(l1).initialize()})),(0,Ii._registerComponent)(new Xi.wA(l1,r=>function $w(r){return{getToken:n=>Hb(r,n),getLimitedUseToken:()=>function qI(r){return wM.apply(this,arguments)}(r),addTokenListener:n=>function PM(r,n,e,i){const{app:o}=r,d=Qo(o);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:i,type:n}],d.token&&km(d.token)){const b=d.token;Promise.resolve().then(()=>{e({token:b.token}),JI(r)}).catch(()=>{})}d.cachedTokenPromise.then(()=>JI(r))}(r,"INTERNAL",n),removeTokenListener:n=>OM(r.app,n)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ii.registerVersion)("@firebase/app-check","0.8.0")}();class d1{constructor(){return(0,l_.vb)("app-check")}}typeof window<"u"&&window;var fP=S(7142);const mP=new t.OlP("angularfire2.auth.use-emulator"),pP=new t.OlP("angularfire2.auth.settings"),gP=new t.OlP("angularfire2.auth.tenant-id"),_P=new t.OlP("angularfire2.auth.langugage-code"),vP=new t.OlP("angularfire2.auth.use-device-language"),yP=new t.OlP("angularfire.auth.persistence");let FM=(()=>{class r{constructor(e,i,o,d,m,b,I,G,ne,me,ze,et){const mt=new an.x,St=(0,y.of)(void 0).pipe((0,mr.Q)(m.outsideAngular),(0,f.w)(()=>d.runOutsideAngular(()=>S.e(365).then(S.bind(S,6365)))),(0,D.U)(()=>(0,Ff.on)(e,d,i)),(0,D.U)(Ot=>((r,n,e,i,o,d,m,b)=>(0,Ff.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const I=n.runOutsideAngular(()=>r.auth());if(e&&I.useEmulator(...e),i&&(I.tenantId=i),I.languageCode=o,d&&I.useDeviceLanguage(),m)for(const[G,ne]of Object.entries(m))I.settings[G]=ne;return b&&I.setPersistence(b),I},[e,i,o,d,m,b]))(Ot,d,b,G,ne,me,I,ze)),(0,Ar.d)({bufferSize:1,refCount:!1}));if((0,g.PM)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,y.of)(null);else{St.pipe((0,zs.P)()).subscribe();const zt=St.pipe((0,f.w)(En=>En.getRedirectResult().then(Dn=>Dn,()=>null)),l_.iC,(0,Ar.d)({bufferSize:1,refCount:!1})),hn=St.pipe((0,f.w)(En=>new E.y(Dn=>({unsubscribe:d.runOutsideAngular(()=>En.onAuthStateChanged(Hn=>Dn.next(Hn),Hn=>Dn.error(Hn),()=>Dn.complete()))})))),ln=St.pipe((0,f.w)(En=>new E.y(Dn=>({unsubscribe:d.runOutsideAngular(()=>En.onIdTokenChanged(Hn=>Dn.next(Hn),Hn=>Dn.error(Hn),()=>Dn.complete()))}))));this.authState=zt.pipe(Nb(hn),(0,a_.R)(m.outsideAngular),(0,mr.Q)(m.insideAngular)),this.user=zt.pipe(Nb(ln),(0,a_.R)(m.outsideAngular),(0,mr.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,f.w)(En=>En?(0,w.D)(En.getIdToken()):(0,y.of)(null))),this.idTokenResult=this.user.pipe((0,f.w)(En=>En?(0,w.D)(En.getIdTokenResult()):(0,y.of)(null))),this.credential=(0,Lp.T)(zt,mt,this.authState.pipe((0,L.h)(En=>!En))).pipe((0,D.U)(En=>En?.user?En:null),(0,a_.R)(m.outsideAngular),(0,mr.Q)(m.insideAngular))}return(0,Ff.pX)(this,St,d,{spy:{apply:(Ot,zt,hn)=>{(Ot.startsWith("signIn")||Ot.startsWith("createUser"))&&hn.then(ln=>mt.next(ln))}}})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Ff.Dh),t.LFG(Ff.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(l_.HU),t.LFG(mP,8),t.LFG(pP,8),t.LFG(gP,8),t.LFG(_P,8),t.LFG(vP,8),t.LFG(yP,8),t.LFG(d1,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),EP=(()=>{class r{constructor(){fP.Z.registerVersion("angularfire",l_.q4.full,"auth-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[FM]}),r})(),TP=(()=>{class r{constructor(e,i){this.restProvider=e,this.afAuth=i}validateUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/authentication/ValidateUser",{UserName:e}).then(d=>{i(d)},d=>{o(d)})})}authenticateByLinkedAccount(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/authentication/AuthenticateLinkedAccount",e).then(d=>{i(d)},d=>{o(d)})})}authenticateUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/authentication/AuthenticateUser",e).then(d=>{i(d)},d=>{o(d)})})}authenticatePasswordAndConfirmLinkAccountToUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/authentication/AuthenticatePasswordAndConfirmLinkAccountToUser",e).then(d=>{i(d)},d=>{o(d)})})}authenticateWithGoogle(){return this.authenticate(new ni.V)}authenticateWithFacebook(){return this.authenticate(new ni.U)}authenticateWithApple(){}authenticate(e){return new Promise((i,o)=>this.afAuth.signInWithPopup(e).then(d=>{i(d)}).catch(d=>{o(d)}))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li),t.LFG(FM))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function SP(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function CP(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa el usuario correctamente "),t.qZA())}function DP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.validateUser())}),t.YNc(1,SP,2,1,"span",11),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Usuario"),t.qZA(),t._UZ(6,"input",14),t.YNc(7,CP,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Siguiente"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.loginWithGoogle())}),t._UZ(16,"img",2),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t._uU(19,"Continuar con Google"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.userFormGroup),t.xp6(1),t.Q6J("ngIf",e.errorMessage),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.userFormGroup.controls.username.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.userFormGroup.valid),t.xp6(7),t.Q6J("src",t.lcZ(17,6,t.xi3(18,8,"google.svg","GetIconURLByKey")),t.LSH)}}function MP(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function AP(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}const u1=function(r){return{disable:r}};function xP(r,n){if(1&r){const e=t.EpF();t.YNc(0,MP,2,1,"span",11),t.TgZ(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.authenticateUser())}),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Contrase\xf1a"),t.qZA(),t._UZ(6,"input",21),t.YNc(7,AP,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Iniciar sesi\xf3n"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showRecoverPasswordPage())}),t._uU(16,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngIf",e.errorMessage),t.xp6(1),t.Q6J("formGroup",e.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(6,u1,e.showLoading))}}function IP(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function wP(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}function PP(r,n){if(1&r){const e=t.EpF();t.YNc(0,IP,2,1,"span",11),t.TgZ(1,"div",23)(2,"div",24),t._uU(3," Encontramos una cuenta de Sinovad Stream para "),t.TgZ(4,"div",25),t._uU(5),t.qZA()(),t._uU(6," Verifique su cuenta para continuar "),t.qZA(),t.TgZ(7,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.ConfirmLinkAccountToUser())}),t.TgZ(8,"div",12)(9,"mat-form-field",13)(10,"mat-label"),t._uU(11,"Contrase\xf1a"),t.qZA(),t._UZ(12,"input",21),t.YNc(13,wP,3,0,"mat-error",15),t.qZA()(),t.TgZ(14,"div",12)(15,"button",16),t._uU(16,"Confirmar"),t.qZA()()(),t.TgZ(17,"div",12)(18,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(19,"Cancelar"),t.qZA()(),t.TgZ(20,"div",12)(21,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showRecoverPasswordPage())}),t._uU(22,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngIf",e.errorMessage),t.xp6(5),t.hij(" ",e.confirmLinkAccountData.Email," "),t.xp6(2),t.Q6J("formGroup",e.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(7,u1,e.showLoading))}}let f1=(()=>{class r{constructor(e,i,o,d,m,b,I){this.userService=e,this.authenticationService=i,this.menuService=o,this.signalIRHubService=d,this.formBuilder=m,this.router=b,this.sharedService=I,this._window=window,this.showLoading=!1,this.user=new An,this.userFormGroup=this.formBuilder.group({username:new rn.NI("",[rn.kI.required])}),this.passwordFormGroup=this.formBuilder.group({password:new rn.NI("",[rn.kI.required])}),this.matcher=new gl,this.showPasswordForm=!1,this.showConfirmLinkedAccountForm=!1}validateUser(){this.userFormGroup.valid?(this.showLoading=!0,this.user.UserName=this.userFormGroup.value.username,this.authenticationService.validateUser(this.user.UserName).then(e=>{this.showPasswordForm=!0,this.showLoading=!1,this.errorMessage=void 0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.userFormGroup.markAllAsTouched())}authenticateUser(){this.passwordFormGroup.valid?(this.user.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticateUser(this.user).then(e=>{this.setUserSessionDataAfterAuthenticate(e.Data)},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}loginWithGoogle(){this.showLoading=!0,this.errorMessage=void 0,this.authenticationService.authenticateWithGoogle().then(e=>{var i=new Wn;i.AccessToken=e.credential.accessToken,i.LinkedAccountProviderCatalogId=yn.LinkedAccountProvider,i.LinkedAccountProviderCatalogDetailId=In.Google,this.authenticationService.authenticateByLinkedAccount(i).then(o=>{var d=o.Data;d.ConfirmLinkAccountData?(this.showLoading=!1,this.confirmLinkAccountData=d.ConfirmLinkAccountData,this.showConfirmLinkedAccountForm=!0):this.setUserSessionDataAfterAuthenticate(d)},o=>{this.showLoading=!1})},e=>{console.error(e),this.showLoading=!1})}ConfirmLinkAccountToUser(){this.errorMessage=void 0,this.passwordFormGroup.valid?(this.confirmLinkAccountData.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticatePasswordAndConfirmLinkAccountToUser(this.confirmLinkAccountData).then(e=>{this.setUserSessionDataAfterAuthenticate(e.Data)},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}setUserSessionDataAfterAuthenticate(e){this.sharedService.apiToken=e.ApiToken,localStorage.setItem("apiToken",this.sharedService.apiToken);let i=e.UserData;this.sharedService.userData=i.User,this.sharedService.mediaServers=i.MediaServers,this.sharedService.listProfiles=i.Profiles,this.sharedService.linkedAccounts=i.LinkedAccounts,this.sharedService.currentProfile=i.Profiles[0],this.sharedService.showSplashScreen=!0,this.userService.calledGetUserData=!0,this.menuService.getManageMenu(),this.signalIRHubService.openConnection(),this.router.navigate(["select-profile"],{skipLocationChange:!1})}loginWithFacebook(){this.showLoading=!0,this.authenticationService.authenticateWithFacebook().then(e=>{console.log(e),this.showLoading=!1},e=>{console.error(e),this.showLoading=!1})}loginWithApple(){}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(co),t.Y36(TP),t.Y36(pr),t.Y36(Pr),t.Y36(rn.qu),t.Y36(Vn.F0),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:18,vars:16,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"login-container"],[1,"login-logo-container"],[1,"login-content"],[1,"login-form-container"],[1,"login-title-container"],[3,"ngIf"],[3,"showLoading"],["autocomplete","off",1,"login-form-content",3,"formGroup","ngSubmit"],["class","form-error-message",4,"ngIf"],[1,"mb-3"],[1,"login-form-field"],["id","title","matInput","","formControlName","username",3,"errorStateMatcher"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","google",3,"click"],[1,"form-error-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],["id","title","matInput","","formControlName","password","type","password",3,"errorStateMatcher"],[1,"btn","btn-secondary",3,"ngClass","click"],[1,"confirm-link-account-title"],[1,"confirm-link-account-message"],[1,"confirm-link-account-message-email"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"img",2),t.ALo(8,"async"),t.ALo(9,"formatDataPipe"),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7),t._uU(13," Inicia sesi\xf3n "),t.qZA(),t.YNc(14,DP,20,11,"ng-template",8),t.YNc(15,xP,17,8,"ng-template",8),t.YNc(16,PP,23,9,"ng-template",8),t.qZA()()(),t._UZ(17,"app-custom-spinner",9)),2&i&&(t.xp6(2),t.Q6J("src",t.lcZ(3,6,t.xi3(4,8,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(8,11,t.xi3(9,13,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.showPasswordForm&&!o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",o.showPasswordForm&&!o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,rn._Y,rn.Fj,rn.JJ,rn.JL,ta,Jo.Nt,Ki.KE,Ki.hX,Ki.TO,rn.sg,rn.u,g.Ov,Lr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.form-error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:15px;justify-content:center;overflow:hidden;padding:20px 0;text-align:center;width:100%;border-bottom-width:2px;color:#f06464}.confirm-link-account-title[_ngcontent-%COMP%]{padding:30px 0;color:#282a2d;display:flex;flex-direction:column;font-size:13px}.confirm-link-account-message[_ngcontent-%COMP%]{color:#51595e;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;margin-bottom:30px;text-align:center}.confirm-link-account-message-email[_ngcontent-%COMP%]{color:#007bff;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;text-align:center}.login-container[_ngcontent-%COMP%]{text-align:-webkit-center;display:block!important;padding:100px 0;width:100%;height:100%;color:#fff;position:absolute}.login-logo-container[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;margin-bottom:20px;display:flex;align-items:center;justify-content:center;font-size:20px;max-width:300px}.login-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login-title-container[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px}.login-content[_ngcontent-%COMP%]{display:block;max-width:500px}.login-form-container[_ngcontent-%COMP%]{padding:40px 20px;border-radius:5px;background:white;color:#000;justify-content:center;align-items:center;margin-bottom:300px;height:100%}.login-form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-invalid-input-message[_ngcontent-%COMP%]{color:#d93025;margin-top:5px;font-size:13px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;opacity:.9}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:10px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.65}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.login-form-container[_ngcontent-%COMP%]   button.enter[_ngcontent-%COMP%]{background-color:#007bff}.login-form-container[_ngcontent-%COMP%]   button.recover[_ngcontent-%COMP%]{background-color:#2e303d}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#51595e}.login-form-container[_ngcontent-%COMP%]   button.facebook[_ngcontent-%COMP%]{background-color:#4267b2;color:#fff}.login-form-container[_ngcontent-%COMP%]   button.apple[_ngcontent-%COMP%]{background-color:#000;color:#fff}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]{display:block;color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:5px;padding:10px;color:#000;outline:rgba(0,0,0,.3)!important;background:white;border:none;font-size:14px;opacity:.8;height:35px;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{opacity:1;border:2px solid white}.sinovad-form-error-message-container[_ngcontent-%COMP%]{color:#f44336de!important;padding-bottom:10px}.login-form-content[_ngcontent-%COMP%]{max-width:300px;width:100%}.mb-3[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]})}return r})();class OP{}function RP(r,n){if(1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const NP=function(r){return{disable:r}};function LP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SendRecoverPasswordEmail())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Olvido su contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,RP,3,1,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"button",17),t._uU(16,"Recuperar contrase\xf1a"),t.qZA()(),t.TgZ(17,"div",18),t._uU(18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.recoverPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,5,t.xi3(5,7,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.recoverPasswordForm,"email")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,NP,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function kP(r,n){1&r&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let h1=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.router=i,this.restProvider=o,this.sharedService=d,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new OP,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new rn.NI("",[rn.kI.required,rn.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.restProvider.executeSinovadApiService(Xe.POST,"/users/RecoverPassword",this.recoverPasswordModel).then(e=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rn.qu),t.Y36(Vn.F0),t.Y36(Li),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,LP,19,12,"div",5),t.YNc(8,kP,10,6,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",!o.sendedConfirmationEmail),t.xp6(1),t.Q6J("ngIf",o.sendedConfirmationEmail),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,rn._Y,rn.Fj,rn.JJ,rn.JL,ta,rn.sg,rn.u,g.Ov,Lr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class FP{}class BP{}function UP(r,n){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function GP(r,n){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const HP=function(r){return{disable:r}};function jP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirm())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Cambiar contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Contrase\xf1a "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,UP,3,0,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"label",13),t._uU(16," Confirmaci\xf3n de contrase\xf1a "),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",17),t.YNc(19,GP,3,0,"label",16),t.qZA()(),t.TgZ(20,"div",12)(21,"button",18),t._uU(22,"Confirmar"),t.qZA()(),t.TgZ(23,"div",19),t._uU(24),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.resetPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,6,t.xi3(5,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"password")),t.xp6(6),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(11,HP,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function VP(r,n){1&r&&(t.TgZ(0,"div",11),t._uU(1," Cambio de contrase\xf1a "),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),t.qZA())}function KP(r,n){1&r&&(t.TgZ(0,"div",11),t._uU(1," Validaci\xf3n de Token "),t.qZA(),t.TgZ(2,"h2",25),t._uU(3,"Token inv\xe1lido"),t.qZA())}function WP(r,n){if(1&r&&(t.TgZ(0,"div",22)(1,"div",23)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,VP,4,0,"ng-template",24),t.YNc(7,KP,4,0,"ng-template",24),t.qZA()()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",e.showResetPasswordSuccessMessage),t.xp6(1),t.Q6J("ngIf",e.showInvalidTokenMessage)}}let m1=(()=>{class r{constructor(e,i,o,d,m){this.formBuilder=e,this.router=i,this.activeRoute=o,this.restProvider=d,this.sharedService=m,this._window=window,this.showLoading=!1,this.resetPasswordModel=new FP,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new rn.NI("",[rn.kI.required]),confirmPassword:new rn.NI("",[rn.kI.required])})}ngOnInit(){let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let d=Ph().decode(e);var i=JSON.parse(d);if(this.resetPasswordToken=i.ResetPasswordToken,this.userId=i.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var o=new BP;o.ResetPasswordToken=this.resetPasswordToken,o.UserId=this.userId,this.restProvider.executeSinovadApiService(Xe.POST,"/users/ValidateResetPasswordToken",o).then(m=>{this.showResetPasswordForm=!0,this.showLoading=!1},m=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=m,console.error(m)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.restProvider.executeSinovadApiService(Xe.POST,"/users/ResetPassword",this.resetPasswordModel).then(e=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rn.qu),t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(Li),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClickCloseButton()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,jP,25,13,"div",5),t.YNc(8,WP,8,8,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",o.showResetPasswordForm),t.xp6(1),t.Q6J("ngIf",!o.showResetPasswordForm&&(o.showInvalidTokenMessage||o.showResetPasswordSuccessMessage)),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,rn._Y,rn.Fj,rn.JJ,rn.JL,ta,rn.sg,rn.u,g.Ov,Lr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class YP{}function zP(r,n){if(1&r&&(t.TgZ(0,"h2",9),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMessage)}}function ZP(r,n){1&r&&(t.TgZ(0,"h2"),t._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),t.qZA())}let p1=(()=>{class r{constructor(e,i,o){this.router=e,this.activeRoute=i,this.restProvider=o,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let d=Ph().decode(e);var i=JSON.parse(d);if(i.ConfirmEmailToken){this.showLoading=!0;var o=new YP;o.ConfirmEmailToken=i.ConfirmEmailToken,o.UserId=i.UserId,this.restProvider.executeSinovadApiService(Xe.POST,"/users/ValidateConfirmEmailToken",o).then(m=>{this.showLoading=!1,this.showSuccessMessage=!0},m=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=m,console.error(m)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(Li))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Confirmaci\xf3n de Email "),t.qZA(),t.YNc(14,zP,2,1,"ng-template",8),t.YNc(15,ZP,2,0,"ng-template",8),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("src",t.lcZ(3,4,t.xi3(4,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("src",t.lcZ(10,9,t.xi3(11,11,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",o.showInvalidTokenMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage))},dependencies:[g.O5,g.Ov,Lr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return r})(),g1=(()=>{class r{constructor(e,i){this.router=e,this.sharedService=i}ngOnInit(){}goInitialPage(){this.router.navigateByUrl(null!=this.sharedService.apiToken?"/home":"/landing").then(i=>{},i=>{console.error(i)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"p",4),t._uU(7,"No encontramos la p\xe1gina que esta buscando"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return o.goInitialPage()}),t._uU(11,"Inicio"),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[g.Ov,Lr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return r})();class $P{}let _1=(()=>{class r{constructor(e){this.restProvider=e}getTvSerie(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/tvseries/GetAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,b){return new Promise((I,G)=>{let ne=kt();this.lastCallGuid=ne;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(Xe.GET,"/tvseries/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==ne&&I(et)},et=>{console.error(et),G(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/tvseries/Update":"/tvseries/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/tvseries/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/tvseries/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function qP(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function JP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,qP,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Primera fecha de emisi\xf3n"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"\xdaltima fecha de emisi\xf3n"),t.qZA(),t._UZ(24,"input",12),t.TgZ(25,"mat-hint"),t._uU(26,"MM/DD/YYYY"),t.qZA(),t._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),t.qZA(),t.TgZ(30,"mat-form-field")(31,"mat-label"),t._uU(32,"G\xe9neros"),t.qZA(),t.TgZ(33,"textarea",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(34,"mat-form-field")(35,"mat-label"),t._uU(36,"Directores"),t.qZA(),t._UZ(37,"textarea",14),t.qZA(),t.TgZ(38,"mat-form-field")(39,"mat-label"),t._uU(40,"Actores"),t.qZA(),t._UZ(41,"textarea",15),t.qZA(),t.TgZ(42,"mat-form-field")(43,"mat-label"),t._uU(44,"Resumen"),t.qZA(),t._UZ(45,"textarea",16),t.qZA(),t.TgZ(46,"mat-form-field")(47,"mat-label"),t._uU(48,"Im\xe1gen"),t.qZA(),t._UZ(49,"textarea",17),t.qZA()(),t.TgZ(50,"div",18)(51,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(52,"Close"),t.qZA(),t.TgZ(53,"button",20),t._uU(54,"Guardar"),t.qZA()()(),t._UZ(55,"app-custom-spinner",21)}if(2&r){const e=t.MAs(20),i=t.oxw();t.Q6J("formGroup",i.tvserieFormGroup),t.xp6(3),t.Oqu(i.tvserie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.tvserieFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",i.showLoading||!i.tvserieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",i.showLoading)}}let QP=(()=>{class r{constructor(e,i,o,d,m,b,I){this.sharedService=e,this.modalService=i,this.genreService=o,this.formBuilder=d,this.activeModal=m,this.snackbarService=b,this.tvserieService=I,this.showLoading=!1,this.matcher=new gl}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new rn.NI(this.tvserie.Name,[rn.kI.required]),firstAirDate:new rn.NI(this.sharedService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new rn.NI(this.sharedService.formatDate(this.tvserie.LastAirDate)),directors:new rn.NI(this.tvserie.Directors),actors:new rn.NI(this.tvserie.Actors),overview:new rn.NI(this.tvserie.Overview),posterPath:new rn.NI(this.tvserie.PosterPath),selectedGenres:new rn.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(e=>{this.tvserie=e.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.tvserie));e.Name=this.tvserieFormGroup.value.name,e.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,e.LastAirDate=this.tvserieFormGroup.value.lastAirDate,e.Directors=this.tvserieFormGroup.value.directors,e.Actors=this.tvserieFormGroup.value.actors,e.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",Vi.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){if(this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0){var e=this.tvserie.ListItemGenres.map(i=>i.GenreName);return e.join(", ")}return""}showGenresSelectionModal(){var e=this,i=this.modalService.open(Qy,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.listAllGenres=this.listGenres,i.componentInstance.selection=new Ih.Ov(!0,this.getTvSerieGenres()),i.closed.subscribe(o=>{e.setTvSerieGenres(o)})}getTvSerieGenres(){var e=this.tvserie.ListItemGenres.map(i=>i.GenreId);return this.listGenres.filter(i=>-1!=e.indexOf(i.Id))}setTvSerieGenres(e){var i=[];e.forEach(o=>{i.push({TvSerieId:this.tvserie.Id,GenreId:o.Id,GenreName:o.Name})}),this.tvserie.ListItemGenres=i,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(hi),t.Y36(na),t.Y36(Wg),t.Y36(rn.qu),t.Y36(Ws),t.Y36(Do),t.Y36(_1))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,JP,56,11,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.tvserie&&o.tvserieFormGroup)},dependencies:[rn._Y,rn.Fj,rn.JJ,rn.JL,rn.sg,rn.u,ta,g.O5,Jo.Nt,Ki.KE,Ki.hX,Ki.bx,Ki.TO,Ki.R9,Fd.Mq,Fd.hl,Fd.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class XP{}let v1=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,b,I){return new Promise((G,ne)=>{let me=kt();this.lastCallGuid=me;var ze="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+b+"&searchBy="+I;this.restProvider.executeSinovadApiService(Xe.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+e+ze).then(mt=>{this.lastCallGuid==me&&G(mt)},mt=>{console.error(mt),ne(mt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/seasons/Update":"/seasons/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/seasons/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/seasons/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function eO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function tO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,eO,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.seasonFormGroup),t.xp6(3),t.Oqu(e.season.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.seasonFormGroup.controls.name.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.seasonFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let nO=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.seasonService=d,this.showLoading=!1,this.matcher=new gl}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new rn.NI(this.season.Name,[rn.kI.required]),seasonNumber:new rn.NI(this.season.SeasonNumber),summary:new rn.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.season));e.SeasonNumber=this.seasonFormGroup.value.seasonNumber,e.Name=this.seasonFormGroup.value.name,e.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(e).then(i=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",Vi.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rn.qu),t.Y36(Ws),t.Y36(Do),t.Y36(v1))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,tO,26,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.season&&o.seasonFormGroup)},dependencies:[rn._Y,rn.Fj,rn.wV,rn.JJ,rn.JL,rn.sg,rn.u,ta,g.O5,Jo.Nt,Ki.KE,Ki.hX,Ki.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class y1{}let BM=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,b,I){return new Promise((G,ne)=>{let me=kt();this.lastCallGuid=me;var ze="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+b+"&searchBy="+I;this.restProvider.executeSinovadApiService(Xe.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+e+ze).then(mt=>{this.lastCallGuid==me&&G(mt)},mt=>{console.error(mt),ne(mt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/episodes/Update":"/episodes/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}createList(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/episodes/CreateList",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/episodes/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/episodes/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Li))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function iO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xcdtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function rO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xcdtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,iO,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.episodeFormGroup),t.xp6(3),t.Oqu(e.episode.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.episodeFormGroup.controls.title.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.episodeFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let oO=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.episodeService=d,this.showLoading=!1,this.matcher=new gl}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new rn.NI(this.episode.Title,[rn.kI.required]),episodeNumber:new rn.NI(this.episode.EpisodeNumber),summary:new rn.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.episode));e.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,e.Title=this.episodeFormGroup.value.title,e.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(e).then(i=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",Vi.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rn.qu),t.Y36(Ws),t.Y36(Do),t.Y36(BM))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,rO,26,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.episode&&o.episodeFormGroup)},dependencies:[rn._Y,rn.Fj,rn.wV,rn.JJ,rn.JL,rn.sg,rn.u,ta,g.O5,Jo.Nt,Ki.KE,Ki.hX,Ki.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function sO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function aO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function lO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.save())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3,"Rango de Episodios"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Desde"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,sO,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Hasta"),t.qZA(),t._UZ(15,"input",9),t.YNc(16,aO,4,0,"mat-error",8),t.qZA()(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(19,"Close"),t.qZA(),t.TgZ(20,"button",12),t._uU(21,"Guardar"),t.qZA()(),t._UZ(22,"app-custom-spinner",13),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.formGroup),t.xp6(11),t.Q6J("ngIf",e.formGroup.controls.initialEpisodeNumber.hasError("required")),t.xp6(5),t.Q6J("ngIf",e.formGroup.controls.lastEpisodeNumber.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.formGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let cO=(()=>{class r{constructor(e,i,o){this.formBuilder=e,this.episodeService=i,this.activeModal=o,this.matcher=new gl,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new rn.NI("",[rn.kI.required]),lastEpisodeNumber:new rn.NI("",[rn.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let i=[];for(let o=Number(this.formGroup.value.initialEpisodeNumber);o<=Number(this.formGroup.value.lastEpisodeNumber);o++){var e=new y1;e.EpisodeNumber=o,e.SeasonId=this.parent.Id,e.Title="Episodio "+o,i.push(e)}this.episodeService.createList(i).then(o=>{this.showLoading=!1,this.activeModal.close(!0)},o=>{this.showLoading=!1,console.error(o)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rn.qu),t.Y36(BM),t.Y36(Ws))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,lO,23,5,"form",0),2&i&&t.Q6J("ngIf",o.formGroup)},dependencies:[rn._Y,rn.Fj,rn.wV,rn.JJ,rn.JL,rn.sg,rn.u,ta,g.O5,Jo.Nt,Ki.KE,Ki.hX,Ki.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function dO(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function uO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function fO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function hO(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function mO(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.EpisodeNumber,"")}}function pO(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1,"T\xcdtulo"),t.qZA())}function gO(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function _O(r,n){1&r&&t._UZ(0,"th",41)}function vO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function yO(r,n){1&r&&t._UZ(0,"tr",47)}function bO(r,n){1&r&&t._UZ(0,"tr",48)}function EO(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function TO(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,EO,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const SO=function(r){return{disable:r}},CO=function(){return[5,10,25,100]};let DO=(()=>{class r extends $l{constructor(e,i,o,d,m){super(d),this.modalService=e,this.dialog=i,this.episodeService=o,this.matPaginatorIntl=d,this.snackbarService=m}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new y1;e.SeasonId=this.parentItem.Id,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(oO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.episode=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new qn.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new ar.vA;i.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+e.Title+"?",accordMessage:"Si, eliminar el episodio '"+e.Title+"'"},this.dialog.open(ko,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.episodeService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Vi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ar.vA;e.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(ko,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Vi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Vi.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var e=this,i=this.modalService.open(cO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.parent=this.parentItem,i.closed.subscribe(o=>{e.getAllItems()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(na),t.Y36(ar.uw),t.Y36(BM),t.Y36(Ur.ye),t.Y36(Do))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Ur.NW,5),t.Gf(lo.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return o.showEpisodeRangeModal()}),t._uU(12," Agregar por Rango "),t.qZA()()(),t.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),t._uU(17,"Buscar"),t.qZA(),t.TgZ(18,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(20,"div",12),t.YNc(21,dO,2,0,"div",13),t.TgZ(22,"div",14)(23,"table",15),t.ynx(24,16),t.YNc(25,uO,2,2,"th",17),t.YNc(26,fO,2,1,"td",18),t.BQk(),t.ynx(27,19),t.YNc(28,hO,2,0,"th",20),t.YNc(29,mO,2,1,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,pO,2,0,"th",23),t.YNc(32,gO,2,1,"td",24),t.BQk(),t.ynx(33,25),t.YNc(34,_O,1,0,"th",26),t.YNc(35,vO,6,0,"td",27),t.BQk(),t.YNc(36,yO,1,0,"tr",28),t.YNc(37,bO,1,0,"tr",29),t.YNc(38,TO,2,1,"tr",30),t.qZA()()()()(),t.TgZ(39,"div",1)(40,"div",9),t._UZ(41,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.Name," :Episodios"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,SO,!o.selection.hasValue())),t.xp6(12),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,CO)))},dependencies:[g.mk,g.O5,Ur.NW,qn.BZ,qn.fO,qn.as,qn.w1,qn.Dz,qn.nj,qn.ge,qn.ev,qn.XQ,qn.Gk,qn.Ee,Jo.Nt,Ki.KE,Ki.hX,lo.YE,lo.nU,Ml.oG,Zr.Ou,Ec.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function MO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-episode-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Episodios"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let AO=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ws))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,MO,10,2,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,DO]})}return r})();function xO(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function IO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function wO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function PO(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function OO(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SeasonNumber,"")}}function RO(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1,"Nombre"),t.qZA())}function NO(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function LO(r,n){1&r&&t._UZ(0,"th",41)}function kO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showEpisodeListModal(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(5,"i",47),t.qZA(),t.TgZ(6,"button",48),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(7,"i",7),t.qZA()()()}}function FO(r,n){1&r&&t._UZ(0,"tr",49)}function BO(r,n){1&r&&t._UZ(0,"tr",50)}function UO(r,n){1&r&&(t.TgZ(0,"td",53),t._uU(1,"No se encontraron datos"),t.qZA())}function GO(r,n){if(1&r&&(t.TgZ(0,"tr",51),t.YNc(1,UO,2,0,"td",52),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const HO=function(r){return{disable:r}},jO=function(){return[5,10,25,100]};let VO=(()=>{class r extends $l{constructor(e,i,o,d,m){super(d),this.modalService=e,this.dialog=i,this.seasonService=o,this.matPaginatorIntl=d,this.snackbarService=m}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new XP;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(nO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.season=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new qn.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new ar.vA;i.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+e.Name+"?",accordMessage:"Si, eliminar la temporada '"+e.Name+"'"},this.dialog.open(ko,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.seasonService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Vi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ar.vA;e.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(ko,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Vi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Vi.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(e){var o=this.modalService.open(AO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(na),t.Y36(ar.uw),t.Y36(v1),t.Y36(Ur.ye),t.Y36(Do))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Ur.NW,5),t.Gf(lo.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,xO,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,IO,2,2,"th",17),t.YNc(25,wO,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,PO,2,0,"th",20),t.YNc(28,OO,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,RO,2,0,"th",23),t.YNc(31,NO,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,LO,1,0,"th",26),t.YNc(34,kO,8,0,"td",27),t.BQk(),t.YNc(35,FO,1,0,"tr",28),t.YNc(36,BO,1,0,"tr",29),t.YNc(37,GO,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.Name," :Temporadas"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,HO,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,jO)))},dependencies:[g.mk,g.O5,Ur.NW,qn.BZ,qn.fO,qn.as,qn.w1,qn.Dz,qn.nj,qn.ge,qn.ev,qn.XQ,qn.Gk,qn.Ee,Jo.Nt,Ki.KE,Ki.hX,lo.YE,lo.nU,Ml.oG,Zr.Ou,Ec.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function KO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-season-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Temporadas"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let WO=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ws))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,KO,10,2,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,VO]})}return r})();function YO(r,n){1&r&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner"),t.qZA())}function zO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",41)(1,"mat-checkbox",42),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function ZO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",43)(1,"mat-checkbox",44),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function $O(r,n){1&r&&(t.TgZ(0,"th",45),t._uU(1,"N\xb0"),t.qZA())}function qO(r,n){if(1&r&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function JO(r,n){1&r&&(t.TgZ(0,"th",47),t._uU(1,"Nombre"),t.qZA())}function QO(r,n){if(1&r&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function XO(r,n){1&r&&(t.TgZ(0,"th",49),t._uU(1,"Primera emisi\xf3n"),t.qZA())}function eR(r,n){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.FirstAirDate,"dd-MM-YYYY")," ")}}function tR(r,n){1&r&&(t.TgZ(0,"th",49),t._uU(1,"\xdaltima emisi\xf3n"),t.qZA())}function nR(r,n){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.LastAirDate,"dd-MM-YYYY")," ")}}function iR(r,n){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Actores"),t.qZA())}function rR(r,n){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=n.$implicit,i=t.MAs(1);t.Udp("cursor",i.offsetWidth<i.scrollWidth?"pointer":""),t.s9C("matTooltip",i.offsetWidth<i.scrollWidth?e.Actors:""),t.xp6(2),t.Oqu(e.Actors)}}function oR(r,n){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Directores"),t.qZA())}function sR(r,n){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=n.$implicit,i=t.MAs(1);t.Udp("cursor",i.offsetWidth<i.scrollWidth?"pointer":""),t.s9C("matTooltip",i.offsetWidth<i.scrollWidth?e.Directors:""),t.xp6(2),t.hij(" ",e.Directors," ")}}function aR(r,n){1&r&&t._UZ(0,"th",54)}function lR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",55)(1,"div",56)(2,"button",57),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showSeasonListModal(d))}),t._UZ(3,"i",58),t.qZA(),t.TgZ(4,"button",59),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(5,"i",60),t.qZA(),t.TgZ(6,"button",61),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(7,"i",7),t.qZA()()()}}function cR(r,n){1&r&&t._UZ(0,"tr",62)}function dR(r,n){1&r&&t._UZ(0,"tr",63)}function uR(r,n){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function fR(r,n){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,uR,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const hR=function(r){return{disable:r}},mR=function(){return[5,10,25,100]};let b1=(()=>{class r extends $l{constructor(e,i,o,d,m,b){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.tvserieService=b}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new $P;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(QP,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.tvserie=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new qn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new ar.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+e.Name+"?",accordMessage:"Si, eliminar la serie '"+e.Name+"'"},this.dialog.open(ko,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.tvserieService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Vi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Vi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ar.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(ko,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Vi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Vi.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(e){var o=this.modalService.open(WO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(na),t.Y36(ar.uw),t.Y36(Ur.ye),t.Y36(Do),t.Y36(_1))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Ur.NW,5),t.Gf(lo.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Series"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,YO,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,zO,2,2,"th",17),t.YNc(25,ZO,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,$O,2,0,"th",20),t.YNc(28,qO,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,JO,2,0,"th",23),t.YNc(31,QO,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,XO,2,0,"th",26),t.YNc(34,eR,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,tR,2,0,"th",26),t.YNc(37,nR,3,4,"td",27),t.BQk(),t.ynx(38,29),t.YNc(39,iR,2,0,"th",30),t.YNc(40,rR,3,4,"td",31),t.BQk(),t.ynx(41,32),t.YNc(42,oR,2,0,"th",30),t.YNc(43,sR,3,4,"td",31),t.BQk(),t.ynx(44,33),t.YNc(45,aR,1,0,"th",34),t.YNc(46,lR,8,0,"td",35),t.BQk(),t.YNc(47,cR,1,0,"tr",36),t.YNc(48,dR,1,0,"tr",37),t.YNc(49,fR,2,1,"tr",38),t.qZA()()()()(),t.TgZ(50,"div",1)(51,"div",9),t._UZ(52,"mat-paginator",39),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,hR,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,mR)))},dependencies:[g.mk,g.O5,Ur.NW,qn.BZ,qn.fO,qn.as,qn.w1,qn.Dz,qn.nj,qn.ge,qn.ev,qn.XQ,qn.Gk,qn.Ee,Jo.Nt,Ki.KE,Ki.hX,lo.YE,lo.nU,Ml.oG,Zr.Ou,Ec.gM,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();const pR=[{path:"home",component:Ai,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[_r]},{path:"media/movies",component:Ai,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[_r]},{path:"media/tvseries",component:Ai,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[_r]},{path:"media/server/:serverGuid",component:Ai,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[_r]},{path:"media/server/:serverGuid/libraries/:libraryId",component:Ai,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[_r]},{path:"media/server/:serverGuid/libraries/:libraryId/detail",component:aa,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[_r]},{path:"media/server/:serverGuid/video/:mediaFileId",component:tu,loadChildren:()=>S.e(867).then(S.bind(S,8867)).then(r=>r.VideoPageModule),canActivate:[_r]},{path:"search",component:Ap,loadChildren:()=>S.e(82).then(S.bind(S,5082)).then(r=>r.SearchModule),canActivate:[_r]},{path:"select-profile",component:hv,loadChildren:()=>S.e(956).then(S.bind(S,9956)).then(r=>r.ProfilesModule),canActivate:[_r]},{path:"add-profile",component:qE,loadChildren:()=>S.e(956).then(S.bind(S,9956)).then(r=>r.ProfilesModule),canActivate:[_r]},{path:"edit-profile/:profileGuid",component:XE,loadChildren:()=>S.e(956).then(S.bind(S,9956)).then(r=>r.ProfilesModule),canActivate:[_r]},{path:"settings/server/:serverGuid/settings/general",component:lf,loadChildren:()=>S.e(338).then(S.bind(S,9338)).then(r=>r.ServerSettingsGeneralPageModule),canActivate:[_r]},{path:"settings/server/:serverGuid/status/alerts",component:Op,loadChildren:()=>S.e(178).then(S.bind(S,6178)).then(r=>r.AlertsModule),canActivate:[_r]},{path:"settings/server/:serverGuid/manage/libraries",component:Gg,loadChildren:()=>S.e(223).then(S.bind(S,1223)).then(r=>r.LibrariesModule),canActivate:[_r]},{path:"settings/server/:serverGuid/settings/transcoder",component:jg,loadChildren:()=>S.e(257).then(S.bind(S,5257)).then(r=>r.TranscoderSettingssPageModule),canActivate:[_r]},{path:"settings/account",component:_D,loadChildren:()=>S.e(770).then(S.bind(S,6770)).then(r=>r.AccountSettingsModule),canActivate:[_r]},{path:"manage/movies",component:wm,loadChildren:()=>S.e(944).then(S.bind(S,1944)).then(r=>r.MoviesModule),canActivate:[_r,jo]},{path:"manage/tvseries",component:b1,loadChildren:()=>S.e(242).then(S.bind(S,242)).then(r=>r.TvSeriesModule),canActivate:[_r,jo]},{path:"manage/genres",component:Jg,loadChildren:()=>S.e(723).then(S.bind(S,4723)).then(r=>r.GenresModule),canActivate:[_r,jo]},{path:"manage/menus",component:Xc,loadChildren:()=>S.e(545).then(S.bind(S,7545)).then(r=>r.MenusModule),canActivate:[_r,jo]},{path:"manage/users",component:s_,loadChildren:()=>S.e(237).then(S.bind(S,7717)).then(r=>r.UsersModule),canActivate:[_r,jo]},{path:"manage/roles",component:Rb,loadChildren:()=>S.e(897).then(S.bind(S,8897)).then(r=>r.RolesPageModule),canActivate:[_r,jo]},{path:"landing",component:l,loadChildren:()=>S.e(45).then(S.bind(S,8045)).then(r=>r.LandingPageModule),canActivate:[ns]},{path:"register",component:vn,loadChildren:()=>S.e(470).then(S.bind(S,1470)).then(r=>r.RegisterAcccountPageModule),canActivate:[ns]},{path:"login",component:f1,loadChildren:()=>S.e(717).then(S.bind(S,717)).then(r=>r.LoginPageModule),canActivate:[ns]},{path:"recover",component:h1,loadChildren:()=>S.e(456).then(S.bind(S,456)).then(r=>r.RecoverPasswordPageModule),canActivate:[ns]},{path:"reset/:base64Data",component:m1,loadChildren:()=>S.e(300).then(S.bind(S,2300)).then(r=>r.ResetPasswordPageModule),canActivate:[ns]},{path:"confirm/:base64Data",component:p1,loadChildren:()=>S.e(159).then(S.bind(S,159)).then(r=>r.ConfirmEmailPageModule),canActivate:[ns]},{path:"404",component:g1,loadChildren:()=>S.e(41).then(S.bind(S,3041)).then(r=>r.NotFoundPageModule)},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}];let gR=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[Vn.Bz.forRoot(pR,{onSameUrlNavigation:"reload"}),Vn.Bz]})}return r})();var go=S(6825);function E1(r){return new t.vHH(3e3,!1)}function Iu(r){switch(r.length){case 0:return new go.ZN;case 1:return r[0];default:return new go.ZE(r)}}function T1(r,n,e=new Map,i=new Map){const o=[],d=[];let m=-1,b=null;if(n.forEach(I=>{const G=I.get("offset"),ne=G==m,me=ne&&b||new Map;I.forEach((ze,et)=>{let mt=et,St=ze;if("offset"!==et)switch(mt=r.normalizePropertyName(mt,o),St){case go.k1:St=e.get(et);break;case go.l3:St=i.get(et);break;default:St=r.normalizeStyleValue(et,mt,St,o)}me.set(mt,St)}),ne||d.push(me),b=me,m=G}),o.length)throw function UR(r){return new t.vHH(3502,!1)}();return d}function UM(r,n,e,i){switch(n){case"start":r.onStart(()=>i(e&&GM(e,"start",r)));break;case"done":r.onDone(()=>i(e&&GM(e,"done",r)));break;case"destroy":r.onDestroy(()=>i(e&&GM(e,"destroy",r)))}}function GM(r,n,e){const d=HM(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),m=r._data;return null!=m&&(d._data=m),d}function HM(r,n,e,i,o="",d=0,m){return{element:r,triggerName:n,fromState:e,toState:i,phaseName:o,totalTime:d,disabled:!!m}}function Il(r,n,e){let i=r.get(n);return i||r.set(n,i=e),i}function S1(r){const n=r.indexOf(":");return[r.substring(1,n),r.slice(n+1)]}const JR=(()=>typeof document>"u"?null:document.documentElement)();function jM(r){const n=r.parentNode||r.host||null;return n===JR?null:n}let Bf=null,C1=!1;function D1(r,n){for(;n;){if(n===r)return!0;n=jM(n)}return!1}function M1(r,n,e){if(e)return Array.from(r.querySelectorAll(n));const i=r.querySelector(n);return i?[i]:[]}let A1=(()=>{class r{validateStyleProperty(e){return function XR(r){Bf||(Bf=function eN(){return typeof document<"u"?document.body:null}()||{},C1=!!Bf.style&&"WebkitAppearance"in Bf.style);let n=!0;return Bf.style&&!function QR(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in Bf.style,!n&&C1&&(n="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Bf.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return D1(e,i)}getParentElement(e){return jM(e)}query(e,i,o){return M1(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,d,m,b=[],I){return new go.ZN(o,d)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})(),VM=(()=>{class r{static#e=this.NOOP=new A1}return r})();const tN=1e3,KM="ng-enter",Vb="ng-leave",Kb="ng-trigger",Wb=".ng-trigger",I1="ng-animating",WM=".ng-animating";function Bd(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:YM(parseFloat(n[1]),n[2])}function YM(r,n){return"s"===n?r*tN:r}function Yb(r,n,e){return r.hasOwnProperty("duration")?r:function iN(r,n,e){let o,d=0,m="";if("string"==typeof r){const b=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===b)return n.push(E1()),{duration:0,delay:0,easing:""};o=YM(parseFloat(b[1]),b[2]);const I=b[3];null!=I&&(d=YM(parseFloat(I),b[4]));const G=b[5];G&&(m=G)}else o=r;if(!e){let b=!1,I=n.length;o<0&&(n.push(function _R(){return new t.vHH(3100,!1)}()),b=!0),d<0&&(n.push(function vR(){return new t.vHH(3101,!1)}()),b=!0),b&&n.splice(I,0,E1())}return{duration:o,delay:d,easing:m}}(r,n,e)}function u_(r,n={}){return Object.keys(r).forEach(e=>{n[e]=r[e]}),n}function w1(r){const n=new Map;return Object.keys(r).forEach(e=>{n.set(e,r[e])}),n}function wu(r,n=new Map,e){if(e)for(let[i,o]of e)n.set(i,o);for(let[i,o]of r)n.set(i,o);return n}function ed(r,n,e){n.forEach((i,o)=>{const d=ZM(o);e&&!e.has(o)&&e.set(o,r.style[d]),r.style[d]=i})}function Uf(r,n){n.forEach((e,i)=>{const o=ZM(i);r.style[o]=""})}function f_(r){return Array.isArray(r)?1==r.length?r[0]:(0,go.vP)(r):r}const zM=new RegExp("{{\\s*(.+?)\\s*}}","g");function O1(r){let n=[];if("string"==typeof r){let e;for(;e=zM.exec(r);)n.push(e[1]);zM.lastIndex=0}return n}function h_(r,n,e){const i=r.toString(),o=i.replace(zM,(d,m)=>{let b=n[m];return null==b&&(e.push(function bR(r){return new t.vHH(3003,!1)}()),b=""),b.toString()});return o==i?r:o}function zb(r){const n=[];let e=r.next();for(;!e.done;)n.push(e.value),e=r.next();return n}const sN=/-+([a-z0-9])/g;function ZM(r){return r.replace(sN,(...n)=>n[1].toUpperCase())}function wl(r,n,e){switch(n.type){case 7:return r.visitTrigger(n,e);case 0:return r.visitState(n,e);case 1:return r.visitTransition(n,e);case 2:return r.visitSequence(n,e);case 3:return r.visitGroup(n,e);case 4:return r.visitAnimate(n,e);case 5:return r.visitKeyframes(n,e);case 6:return r.visitStyle(n,e);case 8:return r.visitReference(n,e);case 9:return r.visitAnimateChild(n,e);case 10:return r.visitAnimateRef(n,e);case 11:return r.visitQuery(n,e);case 12:return r.visitStagger(n,e);default:throw function ER(r){return new t.vHH(3004,!1)}()}}function R1(r,n){return window.getComputedStyle(r)[n]}const Zb="*";function cN(r,n){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function dN(r,n,e){if(":"==r[0]){const I=function uN(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function LR(r){return new t.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof I)return void n.push(I);r=I}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function NR(r){return new t.vHH(3015,!1)}()),n;const o=i[1],d=i[2],m=i[3];n.push(N1(o,m));"<"==d[0]&&!(o==Zb&&m==Zb)&&n.push(N1(m,o))}(i,e,n)):e.push(r),e}const $b=new Set(["true","1"]),qb=new Set(["false","0"]);function N1(r,n){const e=$b.has(r)||qb.has(r),i=$b.has(n)||qb.has(n);return(o,d)=>{let m=r==Zb||r==o,b=n==Zb||n==d;return!m&&e&&"boolean"==typeof o&&(m=o?$b.has(r):qb.has(r)),!b&&i&&"boolean"==typeof d&&(b=d?$b.has(n):qb.has(n)),m&&b}}const fN=new RegExp("s*:selfs*,?","g");function $M(r,n,e,i){return new hN(r).build(n,e,i)}class hN{constructor(n){this._driver=n}build(n,e,i){const o=new gN(e);return this._resetContextStyleTimingState(o),wl(this,f_(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,o=e.depCount=0;const d=[],m=[];return"@"==n.name.charAt(0)&&e.errors.push(function SR(){return new t.vHH(3006,!1)}()),n.definitions.forEach(b=>{if(this._resetContextStyleTimingState(e),0==b.type){const I=b,G=I.name;G.toString().split(/\s*,\s*/).forEach(ne=>{I.name=ne,d.push(this.visitState(I,e))}),I.name=G}else if(1==b.type){const I=this.visitTransition(b,e);i+=I.queryCount,o+=I.depCount,m.push(I)}else e.errors.push(function CR(){return new t.vHH(3007,!1)}())}),{type:7,name:n.name,states:d,transitions:m,queryCount:i,depCount:o,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(i.containsDynamicStyles){const d=new Set,m=o||{};i.styles.forEach(b=>{b instanceof Map&&b.forEach(I=>{O1(I).forEach(G=>{m.hasOwnProperty(G)||d.add(G)})})}),d.size&&(zb(d.values()),e.errors.push(function DR(r,n){return new t.vHH(3008,!1)}()))}return{type:0,name:n.name,style:i,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=wl(this,f_(n.animation),e);return{type:1,matchers:cN(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Gf(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>wl(this,i,e)),options:Gf(n.options)}}visitGroup(n,e){const i=e.currentTime;let o=0;const d=n.steps.map(m=>{e.currentTime=i;const b=wl(this,m,e);return o=Math.max(o,e.currentTime),b});return e.currentTime=o,{type:3,steps:d,options:Gf(n.options)}}visitAnimate(n,e){const i=function vN(r,n){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return qM(Yb(r,n).duration,0,"");const e=r;if(e.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=qM(0,0,"");return d.dynamic=!0,d.strValue=e,d}const o=Yb(e,n);return qM(o.duration,o.delay,o.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let o,d=n.styles?n.styles:(0,go.oB)({});if(5==d.type)o=this.visitKeyframes(d,e);else{let m=n.styles,b=!1;if(!m){b=!0;const G={};i.easing&&(G.easing=i.easing),m=(0,go.oB)(G)}e.currentTime+=i.duration+i.delay;const I=this.visitStyle(m,e);I.isEmptyStep=b,o=I}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let b of o)"string"==typeof b?b===go.l3?i.push(b):e.errors.push(new t.vHH(3002,!1)):i.push(w1(b));let d=!1,m=null;return i.forEach(b=>{if(b instanceof Map&&(b.has("easing")&&(m=b.get("easing"),b.delete("easing")),!d))for(let I of b.values())if(I.toString().indexOf("{{")>=0){d=!0;break}}),{type:6,styles:i,easing:m,offset:n.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let o=e.currentTime,d=e.currentTime;i&&d>0&&(d-=i.duration+i.delay),n.styles.forEach(m=>{"string"!=typeof m&&m.forEach((b,I)=>{const G=e.collectedStyles.get(e.currentQuerySelector),ne=G.get(I);let me=!0;ne&&(d!=o&&d>=ne.startTime&&o<=ne.endTime&&(e.errors.push(function AR(r,n,e,i,o){return new t.vHH(3010,!1)}()),me=!1),d=ne.startTime),me&&G.set(I,{startTime:d,endTime:o}),e.options&&function oN(r,n,e){const i=n.params||{},o=O1(r);o.length&&o.forEach(d=>{i.hasOwnProperty(d)||e.push(function yR(r){return new t.vHH(3001,!1)}())})}(b,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function xR(){return new t.vHH(3011,!1)}()),i;let d=0;const m=[];let b=!1,I=!1,G=0;const ne=n.steps.map(zt=>{const hn=this._makeStyleAst(zt,e);let ln=null!=hn.offset?hn.offset:function _N(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(hn.styles),En=0;return null!=ln&&(d++,En=hn.offset=ln),I=I||En<0||En>1,b=b||En<G,G=En,m.push(En),hn});I&&e.errors.push(function IR(){return new t.vHH(3012,!1)}()),b&&e.errors.push(function wR(){return new t.vHH(3200,!1)}());const me=n.steps.length;let ze=0;d>0&&d<me?e.errors.push(function PR(){return new t.vHH(3202,!1)}()):0==d&&(ze=1/(me-1));const et=me-1,mt=e.currentTime,St=e.currentAnimateTimings,Ot=St.duration;return ne.forEach((zt,hn)=>{const ln=ze>0?hn==et?1:ze*hn:m[hn],En=ln*Ot;e.currentTime=mt+St.delay+En,St.duration=En,this._validateStyleAst(zt,e),zt.offset=ln,i.styles.push(zt)}),i}visitReference(n,e){return{type:8,animation:wl(this,f_(n.animation),e),options:Gf(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Gf(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Gf(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[d,m]=function mN(r){const n=!!r.split(/\s*,\s*/).find(e=>":self"==e);return n&&(r=r.replace(fN,"")),r=r.replace(/@\*/g,Wb).replace(/@\w+/g,e=>Wb+"-"+e.slice(1)).replace(/:animating/g,WM),[r,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+d:d,Il(e.collectedStyles,e.currentQuerySelector,new Map);const b=wl(this,f_(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:d,limit:o.limit||0,optional:!!o.optional,includeSelf:m,animation:b,originalSelector:n.selector,options:Gf(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function OR(){return new t.vHH(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Yb(n.timings,e.errors,!0);return{type:12,animation:wl(this,f_(n.animation),e),timings:i,options:null}}}class gN{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gf(r){return r?(r=u_(r)).params&&(r.params=function pN(r){return r?u_(r):null}(r.params)):r={},r}function qM(r,n,e){return{duration:r,delay:n,easing:e}}function JM(r,n,e,i,o,d,m=null,b=!1){return{type:1,element:r,keyframes:n,preStyleProps:e,postStyleProps:i,duration:o,delay:d,totalTime:o+d,easing:m,subTimeline:b}}class Jb{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const EN=new RegExp(":enter","g"),SN=new RegExp(":leave","g");function QM(r,n,e,i,o,d=new Map,m=new Map,b,I,G=[]){return(new CN).buildKeyframes(r,n,e,i,o,d,m,b,I,G)}class CN{buildKeyframes(n,e,i,o,d,m,b,I,G,ne=[]){G=G||new Jb;const me=new XM(n,e,G,o,d,ne,[]);me.options=I;const ze=I.delay?Bd(I.delay):0;me.currentTimeline.delayNextStep(ze),me.currentTimeline.setStyles([m],null,me.errors,I),wl(this,i,me);const et=me.timelines.filter(mt=>mt.containsAnimation());if(et.length&&b.size){let mt;for(let St=et.length-1;St>=0;St--){const Ot=et[St];if(Ot.element===e){mt=Ot;break}}mt&&!mt.allowOnlyTimelineStyles()&&mt.setStyles([b],null,me.errors,I)}return et.length?et.map(mt=>mt.buildKeyframes()):[JM(e,[],[],[],0,ze,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(n.options),d=e.currentTimeline.currentTime,m=this._visitSubInstructions(i,o,o.options);d!=m&&e.transformIntoNewTimeline(m)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const o of n){const d=o?.delay;if(d){const m="number"==typeof d?d:Bd(h_(d,o?.params??{},e.errors));i.delayNextStep(m)}}}_visitSubInstructions(n,e,i){let d=e.currentTimeline.currentTime;const m=null!=i.duration?Bd(i.duration):null,b=null!=i.delay?Bd(i.delay):null;return 0!==m&&n.forEach(I=>{const G=e.appendInstructionToTimeline(I,m,b);d=Math.max(d,G.duration+G.delay)}),d}visitReference(n,e){e.updateOptions(n.options,!0),wl(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let o=e;const d=n.options;if(d&&(d.params||d.delay)&&(o=e.createSubContext(d),o.transformIntoNewTimeline(),null!=d.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Qb);const m=Bd(d.delay);o.delayNextStep(m)}n.steps.length&&(n.steps.forEach(m=>wl(this,m,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let o=e.currentTimeline.currentTime;const d=n.options&&n.options.delay?Bd(n.options.delay):0;n.steps.forEach(m=>{const b=e.createSubContext(n.options);d&&b.delayNextStep(d),wl(this,m,b),o=Math.max(o,b.currentTimeline.currentTime),i.push(b.currentTimeline)}),i.forEach(m=>e.currentTimeline.mergeTimelineCollectedStyles(m)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return Yb(e.params?h_(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,e):(e.incrementTime(i.duration),this.visitStyle(d,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const d=o&&o.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(d):i.setStyles(n.styles,d,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,d=i.duration,b=e.createSubContext().currentTimeline;b.easing=i.easing,n.styles.forEach(I=>{b.forwardTime((I.offset||0)*d),b.setStyles(I.styles,I.easing,e.errors,e.options),b.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(b),e.transformIntoNewTimeline(o+d),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,o=n.options||{},d=o.delay?Bd(o.delay):0;d&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qb);let m=i;const b=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=b.length;let I=null;b.forEach((G,ne)=>{e.currentQueryIndex=ne;const me=e.createSubContext(n.options,G);d&&me.delayNextStep(d),G===e.element&&(I=me.currentTimeline),wl(this,n.animation,me),me.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,me.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(m),I&&(e.currentTimeline.mergeTimelineCollectedStyles(I),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,o=e.currentTimeline,d=n.timings,m=Math.abs(d.duration),b=m*(e.currentQueryTotal-1);let I=m*e.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":I=b-I;break;case"full":I=i.currentStaggerTime}const ne=e.currentTimeline;I&&ne.delayNextStep(I);const me=ne.currentTime;wl(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=o.currentTime-me+(o.startTime-i.currentTimeline.startTime)}}const Qb={};class XM{constructor(n,e,i,o,d,m,b,I){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=d,this.errors=m,this.timelines=b,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=I||new Xb(this._driver,e,0),b.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let o=this.options;null!=i.duration&&(o.duration=Bd(i.duration)),null!=i.delay&&(o.delay=Bd(i.delay));const d=i.params;if(d){let m=o.params;m||(m=this.options.params={}),Object.keys(d).forEach(b=>{(!e||!m.hasOwnProperty(b))&&(m[b]=h_(d[b],m,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return n}createSubContext(n=null,e,i){const o=e||this.element,d=new XM(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=Qb,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},d=new DN(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(d),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,o,d,m){let b=[];if(o&&b.push(this.element),n.length>0){n=(n=n.replace(EN,"."+this._enterClassName)).replace(SN,"."+this._leaveClassName);let G=this._driver.query(this.element,n,1!=i);0!==i&&(G=i<0?G.slice(G.length+i,G.length):G.slice(0,i)),b.push(...G)}return!d&&0==b.length&&m.push(function RR(r){return new t.vHH(3014,!1)}()),b}}class Xb{constructor(n,e,i,o){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Xb(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||go.l3),this._currentKeyframe.set(e,go.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,o){e&&this._previousKeyframe.set("easing",e);const d=o&&o.params||{},m=function MN(r,n){const e=new Map;let i;return r.forEach(o=>{if("*"===o){i=i||n.keys();for(let d of i)e.set(d,go.l3)}else wu(o,e)}),e}(n,this._globalTimelineStyles);for(let[b,I]of m){const G=h_(I,d,i);this._pendingStyles.set(b,G),this._localTimelineStyles.has(b)||this._backFill.set(b,this._globalTimelineStyles.get(b)??go.l3),this._updateStyle(b,G)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((b,I)=>{const G=wu(b,new Map,this._backFill);G.forEach((ne,me)=>{ne===go.k1?n.add(me):ne===go.l3&&e.add(me)}),i||G.set("offset",I/this.duration),o.push(G)});const d=n.size?zb(n.values()):[],m=e.size?zb(e.values()):[];if(i){const b=o[0],I=new Map(b);b.set("offset",0),I.set("offset",1),o=[b,I]}return JM(this.element,o,d,m,this.duration,this.startTime,this.easing,!1)}}class DN extends Xb{constructor(n,e,i,o,d,m,b=!1){super(n,e,m.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=d,this._stretchStartingKeyframe=b,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const d=[],m=i+e,b=e/m,I=wu(n[0]);I.set("offset",0),d.push(I);const G=wu(n[0]);G.set("offset",F1(b)),d.push(G);const ne=n.length-1;for(let me=1;me<=ne;me++){let ze=wu(n[me]);const et=ze.get("offset");ze.set("offset",F1((e+et*i)/m)),d.push(ze)}i=m,e=0,o="",n=d}return JM(this.element,n,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function F1(r,n=3){const e=Math.pow(10,n-1);return Math.round(r*e)/e}class eA{}const AN=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xN extends eA{normalizePropertyName(n,e){return ZM(n)}normalizeStyleValue(n,e,i,o){let d="";const m=i.toString().trim();if(AN.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)d="px";else{const b=i.match(/^[+-]?[\d\.]+([a-z]*)$/);b&&0==b[1].length&&o.push(function TR(r,n){return new t.vHH(3005,!1)}())}return m+d}}function B1(r,n,e,i,o,d,m,b,I,G,ne,me,ze){return{type:0,element:r,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:d,toState:i,toStyles:m,timelines:b,queriedElements:I,preStyleProps:G,postStyleProps:ne,totalTime:me,errors:ze}}const tA={};class U1{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,o){return function IN(r,n,e,i,o){return r.some(d=>d(n,e,i,o))}(this.ast.matchers,n,e,i,o)}buildStyles(n,e,i){let o=this._stateStyles.get("*");return void 0!==n&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,i):new Map}build(n,e,i,o,d,m,b,I,G,ne){const me=[],ze=this.ast.options&&this.ast.options.params||tA,mt=this.buildStyles(i,b&&b.params||tA,me),St=I&&I.params||tA,Ot=this.buildStyles(o,St,me),zt=new Set,hn=new Map,ln=new Map,En="void"===o,Dn={params:wN(St,ze),delay:this.ast.options?.delay},Hn=ne?[]:QM(n,e,this.ast.animation,d,m,mt,Ot,Dn,G,me);let Rn=0;if(Hn.forEach(ii=>{Rn=Math.max(ii.duration+ii.delay,Rn)}),me.length)return B1(e,this._triggerName,i,o,En,mt,Ot,[],[],hn,ln,Rn,me);Hn.forEach(ii=>{const kn=ii.element,Ei=Il(hn,kn,new Set);ii.preStyleProps.forEach(Zi=>Ei.add(Zi));const pi=Il(ln,kn,new Set);ii.postStyleProps.forEach(Zi=>pi.add(Zi)),kn!==e&&zt.add(kn)});const $n=zb(zt.values());return B1(e,this._triggerName,i,o,En,mt,Ot,Hn,$n,hn,ln,Rn)}}function wN(r,n){const e=u_(n);for(const i in r)r.hasOwnProperty(i)&&null!=r[i]&&(e[i]=r[i]);return e}class PN{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,o=u_(this.defaultParams);return Object.keys(n).forEach(d=>{const m=n[d];null!==m&&(o[d]=m)}),this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((m,b)=>{m&&(m=h_(m,o,e));const I=this.normalizer.normalizePropertyName(b,e);m=this.normalizer.normalizeStyleValue(b,I,m,e),i.set(b,m)})}),i}}class RN{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new PN(o.style,o.options&&o.options.params||{},i))}),G1(this.states,"true","1"),G1(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new U1(n,o,this.states))}),this.fallbackTransition=function NN(r,n,e){return new U1(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,b)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,o){return this.transitionFactories.find(m=>m.match(n,e,i,o))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function G1(r,n,e){r.has(n)?r.has(e)||r.set(e,r.get(n)):r.has(e)&&r.set(n,r.get(e))}const LN=new Jb;class kN{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],d=$M(this._driver,e,i,[]);if(i.length)throw function GR(r){return new t.vHH(3503,!1)}();this._animations.set(n,d)}_buildPlayer(n,e,i){const o=n.element,d=T1(this._normalizer,n.keyframes,e,i);return this._driver.animate(o,d,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const o=[],d=this._animations.get(n);let m;const b=new Map;if(d?(m=QM(this._driver,e,d,KM,Vb,new Map,new Map,i,LN,o),m.forEach(ne=>{const me=Il(b,ne.element,new Map);ne.postStyleProps.forEach(ze=>me.set(ze,null))})):(o.push(function HR(){return new t.vHH(3300,!1)}()),m=[]),o.length)throw function jR(r){return new t.vHH(3504,!1)}();b.forEach((ne,me)=>{ne.forEach((ze,et)=>{ne.set(et,this._driver.computeStyle(me,et,go.l3))})});const G=Iu(m.map(ne=>{const me=b.get(ne.element);return this._buildPlayer(ne,new Map,me)}));return this._playersById.set(n,G),G.onDestroy(()=>this.destroy(n)),this.players.push(G),G}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function VR(r){return new t.vHH(3301,!1)}();return e}listen(n,e,i,o){const d=HM(e,"","","");return UM(this._getPlayer(n),i,d,o),()=>{}}command(n,e,i,o){if("register"==i)return void this.register(n,o[0]);if("create"==i)return void this.create(n,e,o[0]||{});const d=this._getPlayer(n);switch(i){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const H1="ng-animate-queued",nA="ng-animate-disabled",HN=[],j1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tc="__ng_removed";class iA{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function YN(r){return r??null}(i?n.value:n),i){const d=u_(n);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const m_="void",rA=new iA(m_);class VN{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,tc(e,this._hostClassName)}listen(n,e,i,o){if(!this._triggers.has(e))throw function KR(r,n){return new t.vHH(3302,!1)}();if(null==i||0==i.length)throw function WR(r){return new t.vHH(3303,!1)}();if(!function zN(r){return"start"==r||"done"==r}(i))throw function YR(r,n){return new t.vHH(3400,!1)}();const d=Il(this._elementListeners,n,[]),m={name:e,phase:i,callback:o};d.push(m);const b=Il(this._engine.statesByElement,n,new Map);return b.has(e)||(tc(n,Kb),tc(n,Kb+"-"+e),b.set(e,rA)),()=>{this._engine.afterFlush(()=>{const I=d.indexOf(m);I>=0&&d.splice(I,1),this._triggers.has(e)||b.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function zR(r){return new t.vHH(3401,!1)}();return e}trigger(n,e,i,o=!0){const d=this._getTrigger(e),m=new oA(this.id,e,n);let b=this._engine.statesByElement.get(n);b||(tc(n,Kb),tc(n,Kb+"-"+e),this._engine.statesByElement.set(n,b=new Map));let I=b.get(e);const G=new iA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&I&&G.absorbOptions(I.options),b.set(e,G),I||(I=rA),G.value!==m_&&I.value===G.value){if(!function qN(r,n){const e=Object.keys(r),i=Object.keys(n);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const d=e[o];if(!n.hasOwnProperty(d)||r[d]!==n[d])return!1}return!0}(I.params,G.params)){const St=[],Ot=d.matchStyles(I.value,I.params,St),zt=d.matchStyles(G.value,G.params,St);St.length?this._engine.reportError(St):this._engine.afterFlush(()=>{Uf(n,Ot),ed(n,zt)})}return}const ze=Il(this._engine.playersByElement,n,[]);ze.forEach(St=>{St.namespaceId==this.id&&St.triggerName==e&&St.queued&&St.destroy()});let et=d.matchTransition(I.value,G.value,n,G.params),mt=!1;if(!et){if(!o)return;et=d.fallbackTransition,mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:et,fromState:I,toState:G,player:m,isFallbackTransition:mt}),mt||(tc(n,H1),m.onStart(()=>{Fm(n,H1)})),m.onDone(()=>{let St=this.players.indexOf(m);St>=0&&this.players.splice(St,1);const Ot=this._engine.playersByElement.get(n);if(Ot){let zt=Ot.indexOf(m);zt>=0&&Ot.splice(zt,1)}}),this.players.push(m),ze.push(m),m}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,Wb,!0);i.forEach(o=>{if(o[Tc])return;const d=this._engine.fetchNamespacesByElement(o);d.size?d.forEach(m=>m.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,i,o){const d=this._engine.statesByElement.get(n),m=new Map;if(d){const b=[];if(d.forEach((I,G)=>{if(m.set(G,I.value),this._triggers.has(G)){const ne=this.trigger(n,G,m_,o);ne&&b.push(ne)}}),b.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,m),i&&Iu(b).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const o=new Set;e.forEach(d=>{const m=d.name;if(o.has(m))return;o.add(m);const I=this._triggers.get(m).fallbackTransition,G=i.get(m)||rA,ne=new iA(m_),me=new oA(this.id,m,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:m,transition:I,fromState:G,toState:ne,player:me,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(i.totalAnimations){const d=i.players.length?i.playersByQueriedElement.get(n):[];if(d&&d.length)o=!0;else{let m=n;for(;m=m.parentNode;)if(i.statesByElement.get(m)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)i.markElementAsRemoved(this.id,n,!1,e);else{const d=n[Tc];(!d||d===j1)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){tc(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const d=i.element,m=this._elementListeners.get(d);m&&m.forEach(b=>{if(b.name==i.triggerName){const I=HM(d,i.triggerName,i.fromState.value,i.toState.value);I._data=n,UM(i.player,b.phase,I,b.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const d=i.transition.ast.depCount,m=o.transition.ast.depCount;return 0==d||0==m?d-m:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class KN{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,d)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new VN(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let m=!1,b=this.driver.getParentElement(e);for(;b;){const I=o.get(b);if(I){const G=i.indexOf(I);i.splice(G+1,0,n),m=!0;break}b=this.driver.getParentElement(b)}m||i.unshift(n)}else i.push(n);return o.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let o=this._namespaceLookup[n];o&&o.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let o of i.values())if(o.namespaceId){const d=this._fetchNamespace(o.namespaceId);d&&e.add(d)}return e}trigger(n,e,i,o){if(eE(e)){const d=this._fetchNamespace(n);if(d)return d.trigger(e,i,o),!0}return!1}insertNode(n,e,i,o){if(!eE(e))return;const d=e[Tc];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const m=this.collectedLeaveElements.indexOf(e);m>=0&&this.collectedLeaveElements.splice(m,1)}if(n){const m=this._fetchNamespace(n);m&&m.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),tc(n,nA)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Fm(n,nA))}removeNode(n,e,i){if(eE(e)){const o=n?this._fetchNamespace(n):null;o?o.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const d=this.namespacesByHostElement.get(e);d&&d.id!==n&&d.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,o,d){this.collectedLeaveElements.push(e),e[Tc]={namespaceId:n,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:d}}listen(n,e,i,o,d){return eE(e)?this._fetchNamespace(n).listen(e,i,o,d):()=>{}}_buildInstruction(n,e,i,o,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,o,n.fromState.options,n.toState.options,e,d)}destroyInnerAnimations(n){let e=this.driver.query(n,Wb,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,WM,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Iu(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Tc];if(e&&e.setForRemoval){if(n[Tc]=j1,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(nA)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)tc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Iu(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(n){throw function ZR(r){return new t.vHH(3402,!1)}()}_flushAnimations(n,e){const i=new Jb,o=[],d=new Map,m=[],b=new Map,I=new Map,G=new Map,ne=new Set;this.disabledNodes.forEach(ri=>{ne.add(ri);const ui=this.driver.query(ri,".ng-animate-queued",!0);for(let Qn=0;Qn<ui.length;Qn++)ne.add(ui[Qn])});const me=this.bodyNode,ze=Array.from(this.statesByElement.keys()),et=W1(ze,this.collectedEnterElements),mt=new Map;let St=0;et.forEach((ri,ui)=>{const Qn=KM+St++;mt.set(ui,Qn),ri.forEach(ai=>tc(ai,Qn))});const Ot=[],zt=new Set,hn=new Set;for(let ri=0;ri<this.collectedLeaveElements.length;ri++){const ui=this.collectedLeaveElements[ri],Qn=ui[Tc];Qn&&Qn.setForRemoval&&(Ot.push(ui),zt.add(ui),Qn.hasAnimation?this.driver.query(ui,".ng-star-inserted",!0).forEach(ai=>zt.add(ai)):hn.add(ui))}const ln=new Map,En=W1(ze,Array.from(zt));En.forEach((ri,ui)=>{const Qn=Vb+St++;ln.set(ui,Qn),ri.forEach(ai=>tc(ai,Qn))}),n.push(()=>{et.forEach((ri,ui)=>{const Qn=mt.get(ui);ri.forEach(ai=>Fm(ai,Qn))}),En.forEach((ri,ui)=>{const Qn=ln.get(ui);ri.forEach(ai=>Fm(ai,Qn))}),Ot.forEach(ri=>{this.processLeaveNode(ri)})});const Dn=[],Hn=[];for(let ri=this._namespaceList.length-1;ri>=0;ri--)this._namespaceList[ri].drainQueuedTransitions(e).forEach(Qn=>{const ai=Qn.player,$i=Qn.element;if(Dn.push(ai),this.collectedEnterElements.length){const io=$i[Tc];if(io&&io.setForMove){if(io.previousTriggersValues&&io.previousTriggersValues.has(Qn.triggerName)){const Rs=io.previousTriggersValues.get(Qn.triggerName),ga=this.statesByElement.get(Qn.element);if(ga&&ga.has(Qn.triggerName)){const Gm=ga.get(Qn.triggerName);Gm.value=Rs,ga.set(Qn.triggerName,Gm)}}return void ai.destroy()}}const Tr=!me||!this.driver.containsElement(me,$i),er=ln.get($i),Gr=mt.get($i),lr=this._buildInstruction(Qn,i,Gr,er,Tr);if(lr.errors&&lr.errors.length)return void Hn.push(lr);if(Tr)return ai.onStart(()=>Uf($i,lr.fromStyles)),ai.onDestroy(()=>ed($i,lr.toStyles)),void o.push(ai);if(Qn.isFallbackTransition)return ai.onStart(()=>Uf($i,lr.fromStyles)),ai.onDestroy(()=>ed($i,lr.toStyles)),void o.push(ai);const Fo=[];lr.timelines.forEach(io=>{io.stretchStartingKeyframe=!0,this.disabledNodes.has(io.element)||Fo.push(io)}),lr.timelines=Fo,i.append($i,lr.timelines),m.push({instruction:lr,player:ai,element:$i}),lr.queriedElements.forEach(io=>Il(b,io,[]).push(ai)),lr.preStyleProps.forEach((io,Rs)=>{if(io.size){let ga=I.get(Rs);ga||I.set(Rs,ga=new Set),io.forEach((Gm,Hf)=>ga.add(Hf))}}),lr.postStyleProps.forEach((io,Rs)=>{let ga=G.get(Rs);ga||G.set(Rs,ga=new Set),io.forEach((Gm,Hf)=>ga.add(Hf))})});if(Hn.length){const ri=[];Hn.forEach(ui=>{ri.push(function $R(r,n){return new t.vHH(3505,!1)}())}),Dn.forEach(ui=>ui.destroy()),this.reportError(ri)}const Rn=new Map,$n=new Map;m.forEach(ri=>{const ui=ri.element;i.has(ui)&&($n.set(ui,ui),this._beforeAnimationBuild(ri.player.namespaceId,ri.instruction,Rn))}),o.forEach(ri=>{const ui=ri.element;this._getPreviousPlayers(ui,!1,ri.namespaceId,ri.triggerName,null).forEach(ai=>{Il(Rn,ui,[]).push(ai),ai.destroy()})});const ii=Ot.filter(ri=>z1(ri,I,G)),kn=new Map;K1(kn,this.driver,hn,G,go.l3).forEach(ri=>{z1(ri,I,G)&&ii.push(ri)});const pi=new Map;et.forEach((ri,ui)=>{K1(pi,this.driver,new Set(ri),I,go.k1)}),ii.forEach(ri=>{const ui=kn.get(ri),Qn=pi.get(ri);kn.set(ri,new Map([...ui?.entries()??[],...Qn?.entries()??[]]))});const Zi=[],_o=[],Or={};m.forEach(ri=>{const{element:ui,player:Qn,instruction:ai}=ri;if(i.has(ui)){if(ne.has(ui))return Qn.onDestroy(()=>ed(ui,ai.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(ai.totalTime),void o.push(Qn);let $i=Or;if($n.size>1){let er=ui;const Gr=[];for(;er=er.parentNode;){const lr=$n.get(er);if(lr){$i=lr;break}Gr.push(er)}Gr.forEach(lr=>$n.set(lr,$i))}const Tr=this._buildAnimation(Qn.namespaceId,ai,Rn,d,pi,kn);if(Qn.setRealPlayer(Tr),$i===Or)Zi.push(Qn);else{const er=this.playersByElement.get($i);er&&er.length&&(Qn.parentPlayer=Iu(er)),o.push(Qn)}}else Uf(ui,ai.fromStyles),Qn.onDestroy(()=>ed(ui,ai.toStyles)),_o.push(Qn),ne.has(ui)&&o.push(Qn)}),_o.forEach(ri=>{const ui=d.get(ri.element);if(ui&&ui.length){const Qn=Iu(ui);ri.setRealPlayer(Qn)}}),o.forEach(ri=>{ri.parentPlayer?ri.syncPlayerEvents(ri.parentPlayer):ri.destroy()});for(let ri=0;ri<Ot.length;ri++){const ui=Ot[ri],Qn=ui[Tc];if(Fm(ui,Vb),Qn&&Qn.hasAnimation)continue;let ai=[];if(b.size){let Tr=b.get(ui);Tr&&Tr.length&&ai.push(...Tr);let er=this.driver.query(ui,WM,!0);for(let Gr=0;Gr<er.length;Gr++){let lr=b.get(er[Gr]);lr&&lr.length&&ai.push(...lr)}}const $i=ai.filter(Tr=>!Tr.destroyed);$i.length?ZN(this,ui,$i):this.processLeaveNode(ui)}return Ot.length=0,Zi.forEach(ri=>{this.players.push(ri),ri.onDone(()=>{ri.destroy();const ui=this.players.indexOf(ri);this.players.splice(ui,1)}),ri.play()}),Zi}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,o,d){let m=[];if(e){const b=this.playersByQueriedElement.get(n);b&&(m=b)}else{const b=this.playersByElement.get(n);if(b){const I=!d||d==m_;b.forEach(G=>{G.queued||!I&&G.triggerName!=o||m.push(G)})}}return(i||o)&&(m=m.filter(b=>!(i&&i!=b.namespaceId||o&&o!=b.triggerName))),m}_beforeAnimationBuild(n,e,i){const d=e.element,m=e.isRemovalTransition?void 0:n,b=e.isRemovalTransition?void 0:e.triggerName;for(const I of e.timelines){const G=I.element,ne=G!==d,me=Il(i,G,[]);this._getPreviousPlayers(G,ne,m,b,e.toState).forEach(et=>{const mt=et.getRealPlayer();mt.beforeDestroy&&mt.beforeDestroy(),et.destroy(),me.push(et)})}Uf(d,e.fromStyles)}_buildAnimation(n,e,i,o,d,m){const b=e.triggerName,I=e.element,G=[],ne=new Set,me=new Set,ze=e.timelines.map(mt=>{const St=mt.element;ne.add(St);const Ot=St[Tc];if(Ot&&Ot.removedBeforeQueried)return new go.ZN(mt.duration,mt.delay);const zt=St!==I,hn=function $N(r){const n=[];return Y1(r,n),n}((i.get(St)||HN).map(Rn=>Rn.getRealPlayer())).filter(Rn=>!!Rn.element&&Rn.element===St),ln=d.get(St),En=m.get(St),Dn=T1(this._normalizer,mt.keyframes,ln,En),Hn=this._buildPlayer(mt,Dn,hn);if(mt.subTimeline&&o&&me.add(St),zt){const Rn=new oA(n,b,St);Rn.setRealPlayer(Hn),G.push(Rn)}return Hn});G.forEach(mt=>{Il(this.playersByQueriedElement,mt.element,[]).push(mt),mt.onDone(()=>function WN(r,n,e){let i=r.get(n);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&r.delete(n)}return i}(this.playersByQueriedElement,mt.element,mt))}),ne.forEach(mt=>tc(mt,I1));const et=Iu(ze);return et.onDestroy(()=>{ne.forEach(mt=>Fm(mt,I1)),ed(I,e.toStyles)}),me.forEach(mt=>{Il(o,mt,[]).push(et)}),et}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new go.ZN(n.duration,n.delay)}}class oA{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new go.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>UM(n,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Il(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function eE(r){return r&&1===r.nodeType}function V1(r,n){const e=r.style.display;return r.style.display=n??"none",e}function K1(r,n,e,i,o){const d=[];e.forEach(I=>d.push(V1(I)));const m=[];i.forEach((I,G)=>{const ne=new Map;I.forEach(me=>{const ze=n.computeStyle(G,me,o);ne.set(me,ze),(!ze||0==ze.length)&&(G[Tc]=jN,m.push(G))}),r.set(G,ne)});let b=0;return e.forEach(I=>V1(I,d[b++])),m}function W1(r,n){const e=new Map;if(r.forEach(b=>e.set(b,[])),0==n.length)return e;const o=new Set(n),d=new Map;function m(b){if(!b)return 1;let I=d.get(b);if(I)return I;const G=b.parentNode;return I=e.has(G)?G:o.has(G)?1:m(G),d.set(b,I),I}return n.forEach(b=>{const I=m(b);1!==I&&e.get(I).push(b)}),e}function tc(r,n){r.classList?.add(n)}function Fm(r,n){r.classList?.remove(n)}function ZN(r,n,e){Iu(e).onDone(()=>r.processLeaveNode(n))}function Y1(r,n){for(let e=0;e<r.length;e++){const i=r[e];i instanceof go.ZE?Y1(i.players,n):n.push(i)}}function z1(r,n,e){const i=e.get(r);if(!i)return!1;let o=n.get(r);return o?i.forEach(d=>o.add(d)):n.set(r,i),e.delete(r),!0}class tE{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,d)=>{},this._transitionEngine=new KN(n,e,i),this._timelineEngine=new kN(n,e,i),this._transitionEngine.onRemovalComplete=(o,d)=>this.onRemovalComplete(o,d)}registerTrigger(n,e,i,o,d){const m=n+"-"+o;let b=this._triggerCache[m];if(!b){const I=[],ne=$M(this._driver,d,I,[]);if(I.length)throw function BR(r,n){return new t.vHH(3404,!1)}();b=function ON(r,n,e){return new RN(r,n,e)}(o,ne,this._normalizer),this._triggerCache[m]=b}this._transitionEngine.registerTrigger(e,o,b)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,o){this._transitionEngine.insertNode(n,e,i,o)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,o){if("@"==i.charAt(0)){const[d,m]=S1(i);this._timelineEngine.command(d,e,m,o)}else this._transitionEngine.trigger(n,e,i,o)}listen(n,e,i,o,d){if("@"==i.charAt(0)){const[m,b]=S1(i);return this._timelineEngine.listen(m,e,b,d)}return this._transitionEngine.listen(n,e,i,o,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let QN=(()=>{class r{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let d=r.initialStylesByElement.get(e);d||r.initialStylesByElement.set(e,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&ed(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ed(this._element,this._initialStyles),this._endStyles&&(ed(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Uf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Uf(this._element,this._endStyles),this._endStyles=null),ed(this._element,this._initialStyles),this._state=3)}}return r})();function sA(r){let n=null;return r.forEach((e,i)=>{(function XN(r){return"display"===r||"position"===r})(i)&&(n=n||new Map,n.set(i,e))}),n}class Z1{constructor(n,e,i,o){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&n.set(o,this._finished?i:R1(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class eL{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return D1(n,e)}getParentElement(n){return jM(n)}query(n,e,i){return M1(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,o,d,m=[]){const I={duration:i,delay:o,fill:0==o?"both":"forwards"};d&&(I.easing=d);const G=new Map,ne=m.filter(et=>et instanceof Z1);(function aN(r,n){return 0===r||0===n})(i,o)&&ne.forEach(et=>{et.currentSnapshot.forEach((mt,St)=>G.set(St,mt))});let me=function rN(r){return r.length?r[0]instanceof Map?r:r.map(n=>w1(n)):[]}(e).map(et=>wu(et));me=function lN(r,n,e){if(e.size&&n.length){let i=n[0],o=[];if(e.forEach((d,m)=>{i.has(m)||o.push(m),i.set(m,d)}),o.length)for(let d=1;d<n.length;d++){let m=n[d];o.forEach(b=>m.set(b,R1(r,b)))}}return n}(n,me,G);const ze=function JN(r,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=sA(n[0]),n.length>1&&(i=sA(n[n.length-1]))):n instanceof Map&&(e=sA(n)),e||i?new QN(r,e,i):null}(n,me);return new Z1(n,me,I,ze)}}let tL=(()=>{class r extends go._j{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?(0,go.vP)(e):e;return $1(this._renderer,null,i,"register",[o]),new nL(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.FYo),t.LFG(g.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class nL extends go.LC{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new iL(this._id,n,e||{},this._renderer)}}class iL{constructor(n,e,i,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return $1(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function $1(r,n,e,i,o){return r.setProperty(n,`@@${e}:${i}`,o)}const q1="@.disabled";let rL=(()=>{class r{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(d,m)=>{const b=m?.parentNode(d);b&&m.removeChild(b,d)}}createRenderer(e,i){const d=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let ne=this._rendererCache.get(d);return ne||(ne=new J1("",d,this.engine,()=>this._rendererCache.delete(d)),this._rendererCache.set(d,ne)),ne}const m=i.id,b=i.id+"-"+this._currentId;this._currentId++,this.engine.register(b,e);const I=ne=>{Array.isArray(ne)?ne.forEach(I):this.engine.registerTrigger(m,b,e,ne.name,ne)};return i.data.animation.forEach(I),new oL(this,b,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[m,b]=d;m(b)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.FYo),t.LFG(tE),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class J1{constructor(n,e,i,o){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,o=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,o){this.delegate.setAttribute(n,e,i,o)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,o){this.delegate.setStyle(n,e,i,o)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==q1?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class oL extends J1{constructor(n,e,i,o,d){super(e,i,o,d),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==q1?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const o=function sL(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let d=e.slice(1),m="";return"@"!=d.charAt(0)&&([d,m]=function aL(r){const n=r.indexOf(".");return[r.substring(0,n),r.slice(n+1)]}(d)),this.engine.listen(this.namespaceId,o,d,m,b=>{this.factory.scheduleListenerCallback(b._data||-1,i,b)})}return this.delegate.listen(n,e,i)}}let lL=(()=>{class r extends tE{constructor(e,i,o,d){super(e.body,i,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0),t.LFG(VM),t.LFG(eA),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const Q1=[{provide:go._j,useClass:tL},{provide:eA,useFactory:function cL(){return new xN}},{provide:tE,useClass:lL},{provide:t.FYo,useFactory:function dL(r,n,e){return new rL(r,n,e)},deps:[c.se,tE,t.R0b]}],aA=[{provide:VM,useFactory:()=>new eL},{provide:t.QbO,useValue:"BrowserAnimations"},...Q1],X1=[{provide:VM,useClass:A1},{provide:t.QbO,useValue:"NoopAnimations"},...Q1];let uL=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?X1:aA}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:aA,imports:[c.b2]})}return r})();const ew_firebase={apiKey:"AIzaSyCPw-M_b3TyI_lHHkg3lT8ZZ_Z8XRa6vLU",authDomain:"sinovadclient-119aa.firebaseapp.com",projectId:"sinovadclient-119aa",storageBucket:"sinovadclient-119aa.appspot.com",messagingSenderId:"734621308263",appId:"1:734621308263:web:93ab2203f67a179c5a4bc2",measurementId:"G-2HCXG6DS06"},Bm={UKNOWN:"Unknown"},lA={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Bm.UKNOWN},iE={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Um={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Pu={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Bm.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},tw=[Pu.PS4,Pu.CHROME_BOOK,Pu.MAC,Pu.DELL,Pu.ASUS,Pu.UNKNOWN],fL={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Bm.UKNOWN},hL={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Bm.UKNOWN.toLowerCase()},nw={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},pL={...iE,...Um,...nw,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},cA={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},dA={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},gL=Object.keys(cA).reduce((r,n)=>(r[n]=cA[n],r),{}),iw=Object.keys(dA).reduce((r,n)=>(r[lA[n]]=dA[n],r),{});var td=Object.freeze({__proto__:null,BROWSERS:lA,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:iw,BROWSER_VERSIONS_RE_MAP:dA,DESKTOP_DEVICES:tw,DEVICES:Pu,DEVICES_RE:pL,GENERAL:Bm,MOBILES_RE:iE,OS:fL,OS_RE:nw,OS_VERSIONS:hL,OS_VERSIONS_RE:gL,OS_VERSIONS_RE_MAP:cA,TABLETS_RE:Um});class _L{constructor(){}test(n,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(n):e&&Array.isArray(e.and)?e.and.every(i=>this.test(n,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(n,i)):!(!e||!e.not||this.test(n,e.not))}exec(n,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(n):e&&Array.isArray(e)?e.reduce((i,o)=>i||this.exec(n,o),null):null}}var p_=function(r){return r.Mobile="mobile",r.Tablet="tablet",r.Desktop="desktop",r.Unknown="unknown",r}(p_||{}),uA=function(r){return r.Portrait="portrait",r.Landscape="landscape",r}(uA||{});const fA="iPad";let vL=(()=>{class r{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new _L,this.deviceType="",this.orientation="",(0,g.NF)(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(o=>{this[o.prop]=Object.keys(td[o.const]).reduce((d,m)=>"device"===td[o.const][m]&&(0,g.NF)(this.platformId)&&(this.reTree.test(this.userAgent,Um[fA])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(d[td[o.const][m]]=fA,Object):(d[td[o.const][m]]=this.reTree.test(e,td[`${o.const}_RE`][m]),d),{})}),i.forEach(o=>{this[o.prop]=Object.keys(td[o.const]).map(d=>td[o.const][d]).reduce((d,m)=>"device"===o.prop&&d===td[o.const].ANDROID?this[o.prop][m]?m:d:d===td[o.const].UNKNOWN&&this[o.prop][m]?m:d,td[o.const].UNKNOWN)}),this.browser_version="0",this.browser!==lA.UNKNOWN){const d=this.reTree.exec(e,iw[this.browser]);d&&(this.browser_version=d[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?uA.Landscape:uA.Portrait:Bm.UKNOWN,this.deviceType=this.isTablet()?p_.Tablet:this.isMobile(this.userAgent)?p_.Mobile:this.isDesktop(this.userAgent)?p_.Desktop:p_.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(iE).find(o=>this.reTree.test(e,iE[o]))}isTablet(e=this.userAgent){return!(!(0,g.NF)(this.platformId)||!(this.reTree.test(this.userAgent,Um[fA])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Um).find(o=>!!this.reTree.test(e,Um[o]))}isDesktop(e=this.userAgent){return(this.device!==Pu.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&tw.indexOf(this.device)>-1}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.Lbi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function yL(r,n){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.sharedService.currentProfile)," ")}}function bL(r,n){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(3);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.sharedService.currentProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function EL(r,n){if(1&r&&(t.TgZ(0,"span",11),t._uU(1),t.qZA(),t.YNc(2,yL,2,1,"div",12),t.YNc(3,bL,3,6,"img",12)),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.currentProfile.FullName," "),t.xp6(1),t.Q6J("ngIf",null==e.sharedService.currentProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.sharedService.currentProfile.AvatarPath)}}function TL(r,n){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.hij(" ",i.sharedService.getInitials(e)," ")}}function SL(r,n){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2).$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function CL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",15,5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,d=t.oxw(3);return t.KtG(d.onSelectProfile(o))}),t.YNc(3,TL,2,1,"div",12),t.YNc(4,SL,3,6,"img",12),t.TgZ(5,"span",11),t._uU(6),t.qZA()()()}if(2&r){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(2),t.hij(" ",e.FullName," ")}}function DL(r,n){if(1&r&&t.YNc(0,CL,7,3,"li",10),2&r){const e=n.$implicit,i=t.oxw(3);t.Q6J("ngIf",i.sharedService.currentProfile&&e.Id!=i.sharedService.currentProfile.Id)}}function ML(r,n){if(1&r&&t.YNc(0,DL,1,1,"ng-template",14),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.sharedService.listProfiles)}}function AL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickAdminMode())}),t.TgZ(2,"span"),t._uU(3,"Mantenimiento"),t.qZA()()()}}function xL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),t.YNc(5,EL,4,3,"ng-template",6),t.qZA()(),t._UZ(6,"div",7),t.TgZ(7,"div",8),t.YNc(8,ML,1,1,"ng-template",6),t.TgZ(9,"li",3)(10,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickEditProfilesButton())}),t.TgZ(11,"span"),t._uU(12,"Editar perfiles"),t.qZA()()(),t.TgZ(13,"li",3)(14,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickAccountOption())}),t.TgZ(15,"span"),t._uU(16,"Cuenta"),t.qZA()()(),t.YNc(17,AL,4,0,"li",10),t.TgZ(18,"li",3)(19,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.logOut())}),t.TgZ(20,"span"),t._uU(21,"Cerrar Sesi\xf3n"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.sharedService.currentProfile),t.xp6(3),t.Q6J("ngIf",e.sharedService.listProfiles&&e.sharedService.listProfiles.length>0),t.xp6(9),t.Q6J("ngIf",e.sharedService.manageMenus&&e.sharedService.manageMenus.length>0)}}let IL=(()=>{class r{constructor(e,i,o,d){this.userService=e,this.ref=i,this.router=o,this.sharedService=d}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onClickEditProfilesButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedService.manageMenus[0].ChildMenus[0].Path)}logOut(){this.userService.clearSessionData(),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(co),t.Y36(t.sBO),t.Y36(Vn.F0),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(i,o){1&i&&t.YNc(0,xL,22,3,"div",0),2&i&&t.Q6J("ngIf",!o.sharedService.showSplashScreen)},dependencies:[g.sg,g.O5,g.Ov,Lr],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return r})();const wL=["searchTarget"],rw=function(){return["/home"]};function PL(r,n){1&r&&(t.TgZ(0,"a",11),t._UZ(1,"i",12),t.qZA()),2&r&&t.Q6J("routerLink",t.DdM(1,rw))}const ow=function(r){return{focused:r}};function OL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.searchText=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeSearchValue())})("focus",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!0)})("blur",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!1)}),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickSearchButton())}),t._UZ(5,"i",9),t.qZA()(),t.TgZ(6,"div",15)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showNavbarSearch=!1)}),t._UZ(8,"i",16),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,ow,e.isFocusSearch)),t.xp6(1),t.Q6J("ngModel",e.searchText)}}let RL=(()=>{class r{constructor(e,i,o){this.router=e,this.restProvider=i,this.sharedService=o,this.toggleSidebar=new t.vpe,this.selectOption=new t.vpe,this.toggleMenu=new t.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const e=document.getElementById("userDropDown");document.addEventListener("click",i=>{this.showDropDown=!!i.composedPath().includes(e)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(e){this.selectOption.emit(e)}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(e){e.preventDefault(),e.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(Li),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-navbar"]],viewQuery:function(i,o){if(1&i&&t.Gf(wL,5),2&i){let d;t.iGM(d=t.CRH())&&(o.searchTarget=d.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(i,o){1&i&&(t.TgZ(0,"header")(1,"nav")(2,"a",0),t.NdJ("click",function(m){return o.onClickToggleSidebarButton(m)}),t._UZ(3,"i",1),t.qZA(),t.YNc(4,PL,2,2,"a",2),t.TgZ(5,"a",3),t._UZ(6,"img",4),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA(),t.TgZ(9,"div",5)(10,"input",6,7),t.NdJ("ngModelChange",function(m){return o.searchText=m})("change",function(){return o.onChangeSearchValue()})("focus",function(){return o.isFocusSearch=!0})("blur",function(){return o.isFocusSearch=!1}),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return o.onClickSearchButton()}),t._UZ(13,"i",9),t.qZA()(),t._UZ(14,"app-dropdown-user"),t.qZA(),t.YNc(15,OL,9,4,"div",10),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngIf",o.showingSidebarAccount||o.showingSidebarAdminMode),t.xp6(1),t.Q6J("routerLink",t.DdM(11,rw)),t.xp6(1),t.Q6J("src",t.lcZ(7,6,t.xi3(8,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngClass",t.VKq(12,ow,o.isFocusSearch&&!o.sharedService.isSmallDevice())),t.xp6(1),t.Q6J("ngModel",o.searchText),t.xp6(5),t.Q6J("ngIf",o.sharedService.isSmallDevice()&&o.showNavbarSearch))},dependencies:[g.mk,g.O5,rn.Fj,rn.JJ,rn.On,Vn.rH,IL,g.Ov,Lr],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return r})();function NL(r,n){1&r&&t._UZ(0,"i",12)}const LL=function(r){return{selected:r}};function kL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onClickDropDownMenuOption(d))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t.YNc(9,NL,1,0,"i",10),t.qZA(),t.TgZ(10,"div",11),t._UZ(11,"i"),t.qZA()()()()}if(2&r){const e=n.$implicit;t.Q6J("ngClass",t.VKq(7,LL,e.isSelected)),t.xp6(4),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," "),t.xp6(3),t.Q6J("ngIf",e.isSelected),t.xp6(2),t.Tol(e.iconClass)}}function FL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.YNc(1,kL,12,9,"ng-template",2),t.qZA()}if(2&r){const e=t.oxw();t.Udp("width",e.width+"px")("top",e.top+"px")("left",e.left+"px"),t.xp6(1),t.Q6J("ngForOf",e.dropDownMenuOptions.listItems)}}let BL=(()=>{class r{constructor(e,i,o){this.ref=e,this.sharedService=i,this.router=o,this.hide=new t.vpe,this.clickItem=new t.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var e=this;return(0,Hi.Z)(function*(){yield e.sharedService.delay(100),e.show=!0,e.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(e){this.clickItem.emit(e),this.router.navigateByUrl(e.path)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(hi),t.Y36(Vn.F0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(i,o){1&i&&t.YNc(0,FL,2,7,"div",0),2&i&&t.Q6J("ngIf",o.show)},dependencies:[g.mk,g.sg,g.O5,Au],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return r})(),UL=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o,this.isShowing=!1}show(e){return new Promise((i,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const d=this.factoryResolver.resolveComponentFactory(BL);this.componentRef=d.create(this.injector),this.lastViewRef=this.componentRef.hostView,this.applicationRef.attachView(this.componentRef.hostView);let m=this;const b=e.target.getBoundingClientRect();this.componentRef.instance.dropDownMenuOptions=e,this.componentRef.instance.left=b.left,this.componentRef.instance.top=b.top+b.height,this.componentRef.instance.width=b.width,this.componentRef.instance.clickItem.subscribe(ne=>{this.componentRef.destroy(),m.applicationRef.detachView(this.componentRef.hostView),m.isShowing=!1,i(ne)}),this.componentRef.instance.hide.subscribe(ne=>{this.componentRef.destroy(),m.applicationRef.detachView(this.componentRef.hostView),m.isShowing=!1,o(!0)}),this.isShowing=!0;const I=this.componentRef.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(I)})}closeDropDown(){this.componentRef.instance.hide.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const GL=["mediaServerButton"],hA=function(r){return{selected:r}},HL=function(){return["/settings/account"]};function jL(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.TgZ(4,"div",9)(5,"a",10)(6,"div",11),t._UZ(7,"div",12),t.TgZ(8,"div",13),t._uU(9," Cuenta "),t.qZA()()()()()),2&r){const e=t.oxw();t.xp6(3),t.AsE(" ",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(4,hA,e.isSelectedAccountOption())),t.xp6(1),t.Q6J("routerLink",t.DdM(6,HL))}}function VL(r,n){1&r&&t._UZ(0,"i",23)}function KL(r,n){1&r&&t._UZ(0,"i",24)}function WL(r,n){1&r&&t._UZ(0,"i",28)}function YL(r,n){1&r&&t._UZ(0,"i",29)}const zL=function(r,n){return{"icon-secure":r,"icon-alert":n}};function ZL(r,n){if(1&r&&(t.TgZ(0,"div",25),t.YNc(1,WL,1,0,"i",26),t.YNc(2,YL,1,0,"i",27),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.WLB(3,zL,e.selectedMediaServer.isSecureConnection,!e.selectedMediaServer.isSecureConnection)),t.xp6(1),t.Q6J("ngIf",e.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!e.selectedMediaServer.isSecureConnection)}}function $L(r,n){1&r&&(t.TgZ(0,"div",30),t._UZ(1,"i",31),t.qZA())}function qL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14,15),t.NdJ("click",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.togleDropDownMediaServers(o))}),t.TgZ(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5),t.qZA(),t.YNc(6,VL,1,0,"i",19),t.YNc(7,KL,1,0,"i",20),t.qZA(),t.YNc(8,ZL,3,6,"div",21),t.YNc(9,$L,2,0,"div",22),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(6,hA,e.isSelectedServerOption())),t.xp6(5),t.hij(" ",e.selectedMediaServer.FamilyName?e.selectedMediaServer.FamilyName:e.selectedMediaServer.DeviceName," "),t.xp6(1),t.Q6J("ngIf",e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!e.loadingConnection),t.xp6(1),t.Q6J("ngIf",e.loadingConnection)}}const JL=function(r){return[r]};function QL(r,n){if(1&r&&(t.TgZ(0,"div",9)(1,"a",10)(2,"div",11),t._UZ(3,"div",12),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()()),2&r){const e=n.$implicit,i=t.oxw(5);t.Q6J("ngClass",t.VKq(3,hA,i.isSelectedSidebarOption(e))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,JL,i.getOptionPath(e))),t.xp6(4),t.hij(" ",e.name," ")}}function XL(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.YNc(4,QL,6,7,"ng-template",32),t.qZA()),2&r){const e=n.$implicit;t.xp6(3),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngForOf",e.listOptions)}}function ek(r,n){if(1&r&&t.YNc(0,XL,5,2,"ng-template",32),2&r){const e=t.oxw(3);t.Q6J("ngForOf",e.serverModules)}}function tk(r,n){if(1&r&&(t.TgZ(0,"div")(1,"p",33),t._uU(2),t.qZA()()),2&r){const e=t.oxw(3);t.xp6(2),t.hij('No se puede conectar a "',e.selectedMediaServer.FamilyName?e.selectedMediaServer.FamilyName:e.selectedMediaServer.DeviceName,'" desde este sitio')}}function nk(r,n){if(1&r&&(t.YNc(0,ek,1,1,"ng-template",5),t.YNc(1,tk,3,1,"ng-template",5)),2&r){const e=t.oxw(2);t.Q6J("ngIf",!e.sharedService.isHttpsSite()),t.xp6(1),t.Q6J("ngIf",e.sharedService.isHttpsSite())}}function ik(r,n){if(1&r&&(t.TgZ(0,"div")(1,"p",33),t._uU(2),t.qZA()()),2&r){const e=t.oxw(2);t.xp6(2),t.hij('No se puede conectar a "',e.selectedMediaServer.FamilyName?e.selectedMediaServer.FamilyName:e.selectedMediaServer.DeviceName,'" porque el servidor esta apagado')}}function rk(r,n){if(1&r&&(t.YNc(0,nk,2,2,"ng-template",5),t.YNc(1,ik,3,1,"ng-template",5)),2&r){const e=t.oxw();t.Q6J("ngIf",e.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!e.selectedMediaServer.isSecureConnection)}}function ok(r,n){1&r&&(t.TgZ(0,"div",34),t._UZ(1,"mat-spinner"),t.qZA())}let sk=(()=>{class r{constructor(e,i,o,d,m){this.signalIrService=e,this.dropDownServersService=i,this.activeRoute=o,this.ref=d,this.sharedService=m,this.mediaServers=[],this.collapseSidebar=new t.vpe,this.loadingConnection=!0,this.serverModules=[{index:1,order:1,name:"Estado",listOptions:[{index:1,name:"Panel de Control",path:"/settings/server/{serverGuid}/status/server-dashboard"},{index:2,name:"Alertas",path:"/settings/server/{serverGuid}/status/alerts"}]},{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcoder"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}],this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(b=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==b&&!this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.closeDropDown());var I=this.mediaServers.find(G=>G.Guid==b);I&&!I.isSecureConnection&&(I.isSecureConnection=!0)}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(b=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==b&&this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!1,this.closeDropDown());var I=this.mediaServers.find(G=>G.Guid==b);I&&I.isSecureConnection&&(I.isSecureConnection=!1)})}ngOnInit(){if(this.mediaServers=JSON.parse(JSON.stringify(this.sharedService.mediaServers)),this.mediaServers&&this.mediaServers.length>0){if(this.activeRoute.firstChild&&this.activeRoute.firstChild.snapshot.params.serverGuid){var e=this.activeRoute.firstChild.snapshot.params.serverGuid,i=this.mediaServers.find(o=>o.Guid==e);i&&(this.selectedMediaServer=i)}else this.selectedMediaServer=this.mediaServers[0];this.selectedMediaServer.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3)}}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getOptionPath(e){return e.path.replace("{serverGuid}",this.selectedMediaServer.Guid)}onClickModule(e){e.isCollapsed=!e.isCollapsed}togleDropDownMediaServers(e){this.showMediaServerMenuOptions(e)}showMediaServerMenuOptions(e){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(i=>{this.selectedMediaServer=i.itemData},i=>{})}getDropDownMenuOptions(){var e=void 0;if(this.mediaServerButton){let i=[];this.mediaServers.forEach(d=>{i.push({title:d.FamilyName?d.FamilyName:d.DeviceName,subtitle:d.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:d.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+d.Guid+"/settings/general",isSelected:this.selectedMediaServer.Id==d.Id,itemData:d})}),e={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:i}}return e}closeDropDown(){this.dropDownServersService.isShowing&&this.dropDownServersService.closeDropDown()}isSelectedSidebarOption(e){return-1!=this.getOptionPath(e).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Pr),t.Y36(UL),t.Y36(Vn.gz),t.Y36(t.sBO),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-account"]],viewQuery:function(i,o){if(1&i&&t.Gf(GL,5),2&i){let d;t.iGM(d=t.CRH())&&(o.mediaServerButton=d.first)}},outputs:{collapseSidebar:"collapseSidebar"},decls:7,vars:4,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],["class","server-settings-menu-button-icon",3,"ngClass",4,"ngIf"],["class","server-settings-menu-button-icon",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],[1,"server-settings-menu-button-icon"],[1,"fa-solid","fa-circle-notch","fa-spin",2,"color","white"],["ngFor","",3,"ngForOf"],[1,"sidebar-message"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,jL,10,7,"div",3),t.YNc(4,qL,10,8,"button",4),t.YNc(5,rk,2,2,"ng-template",5),t.YNc(6,ok,2,0,"ng-template",5),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("ngIf",o.sharedService.userData),t.xp6(1),t.Q6J("ngIf",o.selectedMediaServer),t.xp6(1),t.Q6J("ngIf",!o.loadingConnection&&o.selectedMediaServer&&o.serverModules&&o.serverModules.length>0),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.mk,g.sg,g.O5,Au,Zr.Ou,Vn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-message[_ngcontent-%COMP%]{color:#ffffff73;margin:15px 10px 15px 25px}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function ak(r,n){1&r&&t._UZ(0,"i",9)}function lk(r,n){1&r&&t._UZ(0,"i",10)}function ck(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const dk=function(r){return[r]},uk=function(r){return{active:r}};function fk(r,n){if(1&r&&(t.TgZ(0,"li",12)(1,"a",13),t.YNc(2,ck,1,3,"i",14),t.TgZ(3,"span",7),t._uU(4),t.qZA()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,dk,e.Path))("ngClass",t.VKq(6,uk,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function hk(r,n){if(1&r&&(t.TgZ(0,"div")(1,"ul",11),t.YNc(2,fk,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function mk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"button",4),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onClickModule(m,o))}),t.YNc(2,ak,1,0,"i",5),t.YNc(3,lk,1,0,"i",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.YNc(6,hk,3,1,"div",8),t.qZA()}if(2&r){const e=n.$implicit;t.xp6(2),t.Q6J("ngIf",e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let pk=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}onClickModule(e,i){i.preventDefault(),i.stopPropagation(),e.isCollapsed=!e.isCollapsed}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}isSelectedMenu(e){return-1!=e.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"ul",1),t.YNc(2,mk,7,4,"ng-template",2),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.manageMenus))},dependencies:[g.mk,g.sg,g.O5,Au,Vn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function gk(r,n){1&r&&t._UZ(0,"i",10)}function _k(r,n){1&r&&t._UZ(0,"i",11)}function vk(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}function yk(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const sw=function(r){return[r]},aw=function(r){return{active:r}};function bk(r,n){if(1&r&&(t.TgZ(0,"li",13)(1,"a",14),t.YNc(2,yk,1,3,"i",7),t.TgZ(3,"span",8),t._uU(4),t.qZA()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,sw,e.Path))("ngClass",t.VKq(6,aw,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function Ek(r,n){if(1&r&&(t.TgZ(0,"div")(1,"ul",12),t.YNc(2,bk,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function Tk(r,n){if(1&r&&(t.TgZ(0,"li",3)(1,"button",4),t.YNc(2,gk,1,0,"i",5),t.YNc(3,_k,1,0,"i",6),t.YNc(4,vk,1,3,"i",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.YNc(7,Ek,3,1,"div",9),t.qZA()),2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,sw,e.Path))("ngClass",t.VKq(9,aw,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&!e.isCollapsed),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let Sk=(()=>{class r{constructor(e,i,o){this.libraryService=e,this.signalIrService=i,this.sharedService=o,this.collapseSidebar=new t.vpe,this.mediaMenu=[],this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(d=>{var m=this.mediaMenu.find(I=>I.MediaServerGuid==d);if(m&&!m.IsSecureConnection){m.IsSecureConnection=!0;var b=this.sharedService.mediaServers.find(I=>I.Guid==m.MediaServerGuid);b&&this.updateLibrariesInMediaServer(m,b)}}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(d=>{var m=this.mediaMenu.find(b=>b.MediaServerGuid==d);m&&m.IsSecureConnection&&(m.IsSecureConnection=!1,m.ChildMenus=[])}),this.subscriptionUpdateLibrariesByMediaServer=this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(d=>{var m=this.mediaMenu.find(I=>I.MediaServerGuid==d),b=this.sharedService.mediaServers.find(I=>I.Guid==d);m&&b&&(m.IsSecureConnection=!0,this.updateLibrariesInMediaServer(m,b))})}ngOnInit(){this.getMediaMenu()}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateLibrariesByMediaServer.unsubscribe()}getMediaMenu(){var e=[],i=new xl;i.SortOrder=e.length+1,i.Title="Inicio",i.Path="/home",i.IconClass="fa-house fa-solid",e.push(i);var o=new xl;o.SortOrder=e.length+1,o.Title="Pel\xedculas",o.Path="/media/movies",o.IconClass="fa-film fa-solid",e.push(o);var d=new xl;d.SortOrder=e.length+1,d.Title="Series",d.Path="/media/tvseries",d.IconClass="fa-tv fa-solid",e.push(d),this.mediaMenu=e,this.sharedService.mediaServers.forEach(m=>{var b=new xl;b.SortOrder=this.mediaMenu.length+1,b.Title=null!=m.FamilyName&&""!=m.FamilyName?m.FamilyName:m.DeviceName,b.Path="/media/server/"+m.Guid,b.ChildMenus=[],b.MediaServerId=m.Id,b.MediaServerGuid=m.Guid,this.mediaMenu.push(b)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedService.mediaServers.forEach(e=>{var i=this.mediaMenu.find(o=>o.MediaServerId==e.Id);e.isSecureConnection?(i.IsSecureConnection=!0,this.updateLibrariesInMediaServer(i,e)):(i.IsSecureConnection=!1,i.ChildMenus=[])})}updateLibrariesInMediaServer(e,i){this.libraryService.getLibrariesByMediaServer(i.Url).then(o=>{var d=[];o.forEach(m=>{var b=new xl;b.SortOrder=d.length+1,b.Title=m.Name,b.Path="/media/server/"+i.Guid+"/libraries/"+m.Id,b.IconClass=m.MediaTypeCatalogDetailId==bt.Movie?"fa-film fa-solid":"fa-tv fa-solid",d.push(b)}),e.ChildMenus=d})}onClickModule(e){e.isCollapsed=!e.isCollapsed}isSelectedMenu(e){return-1!=decodeURIComponent(window.location.pathname).indexOf(e.Path)}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(vo),t.Y36(Pr),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"ul",1),t.YNc(2,Tk,8,11,"ng-template",2),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.mediaMenu))},dependencies:[g.mk,g.sg,g.O5,Au,Vn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function Ck(r,n){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),t._UZ(5,"img",6),t.ALo(6,"async"),t.ALo(7,"formatDataPipe"),t.qZA()()()()),2&r){const e=t.MAs(2);t.xp6(5),t.Udp("width",e.offsetWidth/3+"px"),t.Q6J("src",t.lcZ(6,3,t.xi3(7,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH)}}let Dk=(()=>{class r{constructor(e,i,o){this.restProvider=e,this.domSanitizer=i,this.sharedService=o}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Li),t.Y36(c.H7),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(i,o){1&i&&t.YNc(0,Ck,8,8,"div",0),2&i&&t.Q6J("ngIf",o.sharedService.showSplashScreen)},dependencies:[g.O5,g.Ov,Lr],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return r})();function Mk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-navbar",12),t.NdJ("toggleSidebar",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickToggleSidebarButton())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("showingSidebarAccount",e.showingSidebarAccount)("showingSidebarAdminMode",e.showingSidebarAdminMode)}}function Ak(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-administrator",19),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function xk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-account",19),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function Ik(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-media",19),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function wk(r,n){if(1&r&&(t.TgZ(0,"section",13,14)(2,"div",15),t._UZ(3,"div",16),t.TgZ(4,"div",17),t.YNc(5,Ak,1,0,"app-sidebar-administrator",18),t.YNc(6,xk,1,0,"app-sidebar-account",18),t.YNc(7,Ik,1,0,"app-sidebar-media",18),t.qZA()()()),2&r){const e=t.oxw();t.Udp("height","100%"),t.xp6(5),t.Q6J("ngIf",e.showingSidebarAdminMode),t.xp6(1),t.Q6J("ngIf",e.showingSidebarAccount),t.xp6(1),t.Q6J("ngIf",e.showingSidebarMedia)}}const Pk=function(r){return{locked:r}};let Ok=(()=>{class r{constructor(e,i,o,d){this.deviceService=e,this.userService=i,this.ref=o,this.sharedService=d,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}ngOnInit(){var e=this.deviceService.getDeviceInfo();this.sharedService.platform=e.os+" - "+e.deviceType+" - "+e.browser;const i=window.location.search;if(""!=i){var o=new URLSearchParams(i).get("apiToken");null!=o&&localStorage.setItem("apiToken",o)}window.configurationData&&(this.sharedService.configurationData=window.configurationData),localStorage.getItem("apiToken")&&(this.sharedService.apiToken=localStorage.getItem("apiToken"),this.userService.getUserData())}ngAfterViewInit(){let e=this;window.addEventListener("click",function(d){e.sharedService.configurationData.alwaysFullScreen&&e.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(e){this.isCollapsedSidebar=!0,this.sharedService.showSplashScreen=!1,(e instanceof g1||e instanceof tu||e instanceof f1||e instanceof vn||e instanceof h1||e instanceof m1||e instanceof l||e instanceof p1||e instanceof hv)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof Ap&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(e instanceof Ai||e instanceof aa)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(e instanceof _D||e instanceof jg||e instanceof lf||e instanceof Gg||e instanceof Op)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(e instanceof wm||e instanceof b1||e instanceof Xc||e instanceof Jg||e instanceof s_||e instanceof Rb)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(e){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(vL),t.Y36(co),t.Y36(t.sBO),t.Y36(hi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-root"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},decls:16,vars:9,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[1,"sidebar"],[1,"blocker"],[1,"content"],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",null,3),t.YNc(5,Mk,1,2,"app-navbar",4),t.qZA(),t.TgZ(6,"div",5)(7,"div",null,6),t.YNc(9,wk,8,5,"section",7),t.qZA(),t.TgZ(10,"section",8,9)(12,"router-outlet",10),t.NdJ("activate",function(m){return o.onActivate(m)}),t.qZA()()(),t._UZ(13,"div",null,11),t.qZA()(),t._UZ(15,"app-splash-screen")),2&i){const d=t.MAs(4),m=t.MAs(8),b=t.MAs(14);t.xp6(5),t.Q6J("ngIf",!o.showRouterChildWithFullDimentions),t.xp6(1),t.Udp("height","calc(100% - "+(d.offsetHeight+b.offsetHeight)+"px)"),t.xp6(3),t.Q6J("ngIf",!(o.showRouterChildWithFullDimentions||o.sharedService.isSmallDevice()&&o.isCollapsedSidebar)),t.xp6(1),t.Udp("width","calc(100% - "+m.offsetWidth+"px)"),t.Q6J("ngClass",t.VKq(7,Pk,o.sharedService.isSmallDevice()&&!o.isCollapsedSidebar))}},dependencies:[g.mk,g.O5,Vn.lC,RL,sk,pk,Sk,Dk],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}.sidebar[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%}@media only screen and (max-width: 767px){.sidebar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;padding:0;background:rgba(0,0,0,.5);display:block;z-index:99999}.sidebar[_ngcontent-%COMP%]   .blocker[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0}}"]})}return r})();var Rk=S(7102);let Nk=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r,bootstrap:[Ok]});static#n=this.\u0275inj=t.cJS({providers:[{provide:g.mr,useValue:"/"}],imports:[c.b2,rn.u5,Rk.m,Ft,gR,Ff.hO.initializeApp(ew_firebase),EP,uL]})}return r})();c.q6().bootstrapModule(Nk).catch(r=>console.error(r))},4753:(Gn,tt,S)=>{"use strict";tt.Q=void 0;const t=S(2546),y=S(8540);tt.Q=E=>E.startsWith("WEBVTT")?y.vttParser(E):t.srtParser(E)},2546:(Gn,tt,S)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0}),tt.srtParser=void 0;const c=S(4575),t=S(2279),w=L=>{let p,f,g,D=L.split(":");return 2===D.length?[f,g]=D:[p,f,g]=D,parseInt(g.replace(",",""),10)+60*parseInt(f,10)*1e3+60*(p?parseInt(p,10):0)*60*1e3},E=()=>({start(L){let D="ID",p={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==D;){const f=this[D](p);p=f.params,D=f.next}return p.result},ID(L){const{tokens:D,pos:p,current:f}=L;if(D.length<=p)return{next:"FINISH",params:L};if(t.isBlank(D[p]))return{next:"ID",params:{...L,pos:p+1}};const g=D[p].includes("--\x3e");return f.id=g?"":D[p],{next:"TIME_LINE",params:{...L,current:f,tokens:D,pos:g?p:p+1}}},TIME_LINE(L){const{tokens:D,pos:p,current:f}=L,g=D[p],[v,A]=g.split("--\x3e");return f.from=w(v),f.to=w(A),{next:"TEXT",params:{...L,current:f,pos:p+1}}},TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:(f.text=D[p],{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},MULTI_LINE_TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"FIN_ENTRY",params:L}:(f.text=`${f.text}\n${D[p]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},FIN_ENTRY(L){const{pos:D,current:p,result:f}=L;if(!c.isEntryFromPartial(p))throw new Error(`Parsing error current not complete ${JSON.stringify(p)}`);return f.push(p),{next:"ID",params:{...L,current:{},pos:D+1}}},FINISH:L=>({next:"FINISH",params:L})});tt.srtParser=L=>({entries:E().start(L)})},4575:(Gn,tt)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0}),tt.isEntryFromPartial=void 0,tt.isEntryFromPartial=c=>"string"==typeof c.id&&"number"==typeof c.from&&"number"==typeof c.to&&"string"==typeof c.text},2279:(Gn,tt)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0}),tt.isBlank=void 0,tt.isBlank=c=>!c||/^\s*$/.test(c)},8540:(Gn,tt,S)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0}),tt.vttParser=void 0;const c=S(4575),t=S(2279),w=L=>{let p,f,g,D=L.split(":");return 2===D.length?[f,g]=D:[p,f,g]=D,parseInt(g.replace(".",""),10)+60*parseInt(f,10)*1e3+60*(p?parseInt(p,10):0)*60*1e3},E=()=>({start(L){let D="HEADER",p={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==D;){const f=this[D](p);p=f.params,D=f.next}return p.result},HEADER:L=>({next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:L.pos+1}}),ID_OR_NOTE_OR_STYLE(L){const{tokens:D,pos:p}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:D[p].toUpperCase().includes("NOTE")?{next:"NOTE",params:L}:D[p].toUpperCase().includes("STYLE")?{next:"STYLE",params:L}:{next:"ID",params:L}},STYLE(L){const{tokens:D,pos:p}=L;return t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:{next:"STYLE",params:{...L,pos:p+1}}},NOTE(L){const{tokens:D,pos:p}=L;return t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:{next:"STYLE",params:{...L,pos:p+1}}},ID(L){const{tokens:D,pos:p,current:f}=L;if(D.length<=p)return{next:"FINISH",params:L};if(t.isBlank(D[p]))return{next:"ID",params:{...L,pos:p+1}};const g=D[p].includes("--\x3e");return f.id=g?"":D[p],{next:"TIME_LINE",params:{...L,current:f,tokens:D,pos:g?p:p+1}}},TIME_LINE(L){const{tokens:D,pos:p,current:f}=L,g=D[p],[v,A]=g.split("--\x3e");return f.from=w(v),f.to=w(A),{next:"TEXT",params:{...L,current:f,pos:p+1}}},TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:(f.text=D[p],{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},MULTI_LINE_TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"FIN_ENTRY",params:L}:(f.text=`${f.text}\n${D[p]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},FIN_ENTRY(L){const{pos:D,current:p,result:f}=L;if(!c.isEntryFromPartial(p))throw new Error(`Parsing error current not complete ${JSON.stringify(p)}`);return f.push(p),{next:"ID_OR_NOTE_OR_STYLE",params:{...L,current:{},pos:D+1}}},FINISH:L=>({next:"FINISH",params:L})});tt.vttParser=L=>({entries:E().start(L)})},9919:(Gn,tt)=>{"use strict";tt.byteLength=function L(A){var U=F(A),H=U[1];return 3*(U[0]+H)/4-H},tt.toByteArray=function p(A){var U,T,R=F(A),H=R[0],k=R[1],O=new t(function D(A,U,R){return 3*(U+R)/4-R}(0,H,k)),M=0,P=k>0?H-4:H;for(T=0;T<P;T+=4)U=c[A.charCodeAt(T)]<<18|c[A.charCodeAt(T+1)]<<12|c[A.charCodeAt(T+2)]<<6|c[A.charCodeAt(T+3)],O[M++]=U>>16&255,O[M++]=U>>8&255,O[M++]=255&U;return 2===k&&(U=c[A.charCodeAt(T)]<<2|c[A.charCodeAt(T+1)]>>4,O[M++]=255&U),1===k&&(U=c[A.charCodeAt(T)]<<10|c[A.charCodeAt(T+1)]<<4|c[A.charCodeAt(T+2)]>>2,O[M++]=U>>8&255,O[M++]=255&U),O},tt.fromByteArray=function v(A){for(var U,R=A.length,H=R%3,k=[],O=16383,M=0,P=R-H;M<P;M+=O)k.push(g(A,M,M+O>P?P:M+O));return 1===H?k.push(S[(U=A[R-1])>>2]+S[U<<4&63]+"=="):2===H&&k.push(S[(U=(A[R-2]<<8)+A[R-1])>>10]+S[U>>4&63]+S[U<<2&63]+"="),k.join("")};for(var S=[],c=[],t=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0;w<64;++w)S[w]=y[w],c[y.charCodeAt(w)]=w;function F(A){var U=A.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=A.indexOf("=");return-1===R&&(R=U),[R,R===U?0:4-R%4]}function f(A){return S[A>>18&63]+S[A>>12&63]+S[A>>6&63]+S[63&A]}function g(A,U,R){for(var k=[],O=U;O<R;O+=3)k.push(f((A[O]<<16&16711680)+(A[O+1]<<8&65280)+(255&A[O+2])));return k.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},9007:(Gn,tt,S)=>{"use strict";var t=S(9919),y=S(2601),w="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;tt.lW=D,tt.h2=50;var E=2147483647;function L(Q){if(Q>E)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var Z=new Uint8Array(Q);return Object.setPrototypeOf(Z,D.prototype),Z}function D(Q,Z,te){if("number"==typeof Q){if("string"==typeof Z)throw new TypeError('The "string" argument must be of type string. Received type number');return v(Q)}return p(Q,Z,te)}function p(Q,Z,te){if("string"==typeof Q)return function A(Q,Z){if(("string"!=typeof Z||""===Z)&&(Z="utf8"),!D.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var te=0|P(Q,Z),ie=L(te),ee=ie.write(Q,Z);return ee!==te&&(ie=ie.slice(0,ee)),ie}(Q,Z);if(ArrayBuffer.isView(Q))return function R(Q){if(se(Q,Uint8Array)){var Z=new Uint8Array(Q);return H(Z.buffer,Z.byteOffset,Z.byteLength)}return U(Q)}(Q);if(null==Q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(se(Q,ArrayBuffer)||Q&&se(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(Q,SharedArrayBuffer)||Q&&se(Q.buffer,SharedArrayBuffer)))return H(Q,Z,te);if("number"==typeof Q)throw new TypeError('The "value" argument must not be of type number. Received type number');var ie=Q.valueOf&&Q.valueOf();if(null!=ie&&ie!==Q)return D.from(ie,Z,te);var ee=function k(Q){if(D.isBuffer(Q)){var Z=0|O(Q.length),te=L(Z);return 0===te.length||Q.copy(te,0,0,Z),te}return void 0!==Q.length?"number"!=typeof Q.length||_e(Q.length)?L(0):U(Q):"Buffer"===Q.type&&Array.isArray(Q.data)?U(Q.data):void 0}(Q);if(ee)return ee;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Q[Symbol.toPrimitive])return D.from(Q[Symbol.toPrimitive]("string"),Z,te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}function f(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function v(Q){return f(Q),L(Q<0?0:0|O(Q))}function U(Q){for(var Z=Q.length<0?0:0|O(Q.length),te=L(Z),ie=0;ie<Z;ie+=1)te[ie]=255&Q[ie];return te}function H(Q,Z,te){if(Z<0||Q.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<Z+(te||0))throw new RangeError('"length" is outside of buffer bounds');var ie;return ie=void 0===Z&&void 0===te?new Uint8Array(Q):void 0===te?new Uint8Array(Q,Z):new Uint8Array(Q,Z,te),Object.setPrototypeOf(ie,D.prototype),ie}function O(Q){if(Q>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return 0|Q}function P(Q,Z){if(D.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||se(Q,ArrayBuffer))return Q.byteLength;if("string"!=typeof Q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);var te=Q.length,ie=arguments.length>2&&!0===arguments[2];if(!ie&&0===te)return 0;for(var ee=!1;;)switch(Z){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return st(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*te;case"hex":return te>>>1;case"base64":return Te(Q).length;default:if(ee)return ie?-1:st(Q).length;Z=(""+Z).toLowerCase(),ee=!0}}function T(Q,Z,te){var ie=!1;if((void 0===Z||Z<0)&&(Z=0),Z>this.length||((void 0===te||te>this.length)&&(te=this.length),te<=0)||(te>>>=0)<=(Z>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return Le(this,Z,te);case"utf8":case"utf-8":return K(this,Z,te);case"ascii":return he(this,Z,te);case"latin1":case"binary":return Ce(this,Z,te);case"base64":return ae(this,Z,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,Z,te);default:if(ie)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),ie=!0}}function N(Q,Z,te){var ie=Q[Z];Q[Z]=Q[te],Q[te]=ie}function C(Q,Z,te,ie,ee){if(0===Q.length)return-1;if("string"==typeof te?(ie=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),_e(te=+te)&&(te=ee?0:Q.length-1),te<0&&(te=Q.length+te),te>=Q.length){if(ee)return-1;te=Q.length-1}else if(te<0){if(!ee)return-1;te=0}if("string"==typeof Z&&(Z=D.from(Z,ie)),D.isBuffer(Z))return 0===Z.length?-1:B(Q,Z,te,ie,ee);if("number"==typeof Z)return Z&=255,"function"==typeof Uint8Array.prototype.indexOf?ee?Uint8Array.prototype.indexOf.call(Q,Z,te):Uint8Array.prototype.lastIndexOf.call(Q,Z,te):B(Q,[Z],te,ie,ee);throw new TypeError("val must be string, number or Buffer")}function B(Q,Z,te,ie,ee){var Ae,X=1,ue=Q.length,ve=Z.length;if(void 0!==ie&&("ucs2"===(ie=String(ie).toLowerCase())||"ucs-2"===ie||"utf16le"===ie||"utf-16le"===ie)){if(Q.length<2||Z.length<2)return-1;X=2,ue/=2,ve/=2,te/=2}function de(ct,it){return 1===X?ct[it]:ct.readUInt16BE(it*X)}if(ee){var We=-1;for(Ae=te;Ae<ue;Ae++)if(de(Q,Ae)===de(Z,-1===We?0:Ae-We)){if(-1===We&&(We=Ae),Ae-We+1===ve)return We*X}else-1!==We&&(Ae-=Ae-We),We=-1}else for(te+ve>ue&&(te=ue-ve),Ae=te;Ae>=0;Ae--){for(var He=!0,at=0;at<ve;at++)if(de(Q,Ae+at)!==de(Z,at)){He=!1;break}if(He)return Ae}return-1}function W(Q,Z,te,ie){te=Number(te)||0;var ee=Q.length-te;ie?(ie=Number(ie))>ee&&(ie=ee):ie=ee;var X=Z.length;ie>X/2&&(ie=X/2);for(var ue=0;ue<ie;++ue){var ve=parseInt(Z.substr(2*ue,2),16);if(_e(ve))return ue;Q[te+ue]=ve}return ue}function q(Q,Z,te,ie){return Y(st(Z,Q.length-te),Q,te,ie)}function le(Q,Z,te,ie){return Y(function Je(Q){for(var Z=[],te=0;te<Q.length;++te)Z.push(255&Q.charCodeAt(te));return Z}(Z),Q,te,ie)}function Fe(Q,Z,te,ie){return Y(Te(Z),Q,te,ie)}function $(Q,Z,te,ie){return Y(function Ne(Q,Z){for(var te,ie,X=[],ue=0;ue<Q.length&&!((Z-=2)<0);++ue)ie=(te=Q.charCodeAt(ue))>>8,X.push(te%256),X.push(ie);return X}(Z,Q.length-te),Q,te,ie)}function ae(Q,Z,te){return t.fromByteArray(0===Z&&te===Q.length?Q:Q.slice(Z,te))}function K(Q,Z,te){te=Math.min(Q.length,te);for(var ie=[],ee=Z;ee<te;){var de,Ae,We,He,X=Q[ee],ue=null,ve=X>239?4:X>223?3:X>191?2:1;if(ee+ve<=te)switch(ve){case 1:X<128&&(ue=X);break;case 2:128==(192&(de=Q[ee+1]))&&(He=(31&X)<<6|63&de)>127&&(ue=He);break;case 3:Ae=Q[ee+2],128==(192&(de=Q[ee+1]))&&128==(192&Ae)&&(He=(15&X)<<12|(63&de)<<6|63&Ae)>2047&&(He<55296||He>57343)&&(ue=He);break;case 4:Ae=Q[ee+2],We=Q[ee+3],128==(192&(de=Q[ee+1]))&&128==(192&Ae)&&128==(192&We)&&(He=(15&X)<<18|(63&de)<<12|(63&Ae)<<6|63&We)>65535&&He<1114112&&(ue=He)}null===ue?(ue=65533,ve=1):ue>65535&&(ie.push((ue-=65536)>>>10&1023|55296),ue=56320|1023&ue),ie.push(ue),ee+=ve}return function oe(Q){var Z=Q.length;if(Z<=ge)return String.fromCharCode.apply(String,Q);for(var te="",ie=0;ie<Z;)te+=String.fromCharCode.apply(String,Q.slice(ie,ie+=ge));return te}(ie)}!(D.TYPED_ARRAY_SUPPORT=function F(){try{var Q=new Uint8Array(1),Z={foo:function(){return 42}};return Object.setPrototypeOf(Z,Uint8Array.prototype),Object.setPrototypeOf(Q,Z),42===Q.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}}),D.poolSize=8192,D.from=function(Q,Z,te){return p(Q,Z,te)},Object.setPrototypeOf(D.prototype,Uint8Array.prototype),Object.setPrototypeOf(D,Uint8Array),D.alloc=function(Q,Z,te){return function g(Q,Z,te){return f(Q),Q<=0?L(Q):void 0!==Z?"string"==typeof te?L(Q).fill(Z,te):L(Q).fill(Z):L(Q)}(Q,Z,te)},D.allocUnsafe=function(Q){return v(Q)},D.allocUnsafeSlow=function(Q){return v(Q)},D.isBuffer=function(Z){return null!=Z&&!0===Z._isBuffer&&Z!==D.prototype},D.compare=function(Z,te){if(se(Z,Uint8Array)&&(Z=D.from(Z,Z.offset,Z.byteLength)),se(te,Uint8Array)&&(te=D.from(te,te.offset,te.byteLength)),!D.isBuffer(Z)||!D.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Z===te)return 0;for(var ie=Z.length,ee=te.length,X=0,ue=Math.min(ie,ee);X<ue;++X)if(Z[X]!==te[X]){ie=Z[X],ee=te[X];break}return ie<ee?-1:ee<ie?1:0},D.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(Z,te){if(!Array.isArray(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Z.length)return D.alloc(0);var ie;if(void 0===te)for(te=0,ie=0;ie<Z.length;++ie)te+=Z[ie].length;var ee=D.allocUnsafe(te),X=0;for(ie=0;ie<Z.length;++ie){var ue=Z[ie];if(se(ue,Uint8Array))X+ue.length>ee.length?D.from(ue).copy(ee,X):Uint8Array.prototype.set.call(ee,ue,X);else{if(!D.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(ee,X)}X+=ue.length}return ee},D.byteLength=P,D.prototype._isBuffer=!0,D.prototype.swap16=function(){var Z=this.length;if(Z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<Z;te+=2)N(this,te,te+1);return this},D.prototype.swap32=function(){var Z=this.length;if(Z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<Z;te+=4)N(this,te,te+3),N(this,te+1,te+2);return this},D.prototype.swap64=function(){var Z=this.length;if(Z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<Z;te+=8)N(this,te,te+7),N(this,te+1,te+6),N(this,te+2,te+5),N(this,te+3,te+4);return this},D.prototype.toLocaleString=D.prototype.toString=function(){var Z=this.length;return 0===Z?"":0===arguments.length?K(this,0,Z):T.apply(this,arguments)},D.prototype.equals=function(Z){if(!D.isBuffer(Z))throw new TypeError("Argument must be a Buffer");return this===Z||0===D.compare(this,Z)},D.prototype.inspect=function(){var Z="",te=tt.h2;return Z=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(Z+=" ... "),"<Buffer "+Z+">"},w&&(D.prototype[w]=D.prototype.inspect),D.prototype.compare=function(Z,te,ie,ee,X){if(se(Z,Uint8Array)&&(Z=D.from(Z,Z.offset,Z.byteLength)),!D.isBuffer(Z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Z);if(void 0===te&&(te=0),void 0===ie&&(ie=Z?Z.length:0),void 0===ee&&(ee=0),void 0===X&&(X=this.length),te<0||ie>Z.length||ee<0||X>this.length)throw new RangeError("out of range index");if(ee>=X&&te>=ie)return 0;if(ee>=X)return-1;if(te>=ie)return 1;if(this===Z)return 0;for(var ue=(X>>>=0)-(ee>>>=0),ve=(ie>>>=0)-(te>>>=0),de=Math.min(ue,ve),Ae=this.slice(ee,X),We=Z.slice(te,ie),He=0;He<de;++He)if(Ae[He]!==We[He]){ue=Ae[He],ve=We[He];break}return ue<ve?-1:ve<ue?1:0},D.prototype.includes=function(Z,te,ie){return-1!==this.indexOf(Z,te,ie)},D.prototype.indexOf=function(Z,te,ie){return C(this,Z,te,ie,!0)},D.prototype.lastIndexOf=function(Z,te,ie){return C(this,Z,te,ie,!1)},D.prototype.write=function(Z,te,ie,ee){if(void 0===te)ee="utf8",ie=this.length,te=0;else if(void 0===ie&&"string"==typeof te)ee=te,ie=this.length,te=0;else{if(!isFinite(te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");te>>>=0,isFinite(ie)?(ie>>>=0,void 0===ee&&(ee="utf8")):(ee=ie,ie=void 0)}var X=this.length-te;if((void 0===ie||ie>X)&&(ie=X),Z.length>0&&(ie<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var ue=!1;;)switch(ee){case"hex":return W(this,Z,te,ie);case"utf8":case"utf-8":return q(this,Z,te,ie);case"ascii":case"latin1":case"binary":return le(this,Z,te,ie);case"base64":return Fe(this,Z,te,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,Z,te,ie);default:if(ue)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),ue=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ge=4096;function he(Q,Z,te){var ie="";te=Math.min(Q.length,te);for(var ee=Z;ee<te;++ee)ie+=String.fromCharCode(127&Q[ee]);return ie}function Ce(Q,Z,te){var ie="";te=Math.min(Q.length,te);for(var ee=Z;ee<te;++ee)ie+=String.fromCharCode(Q[ee]);return ie}function Le(Q,Z,te){var ie=Q.length;(!Z||Z<0)&&(Z=0),(!te||te<0||te>ie)&&(te=ie);for(var ee="",X=Z;X<te;++X)ee+=J[Q[X]];return ee}function fe(Q,Z,te){for(var ie=Q.slice(Z,te),ee="",X=0;X<ie.length-1;X+=2)ee+=String.fromCharCode(ie[X]+256*ie[X+1]);return ee}function Re(Q,Z,te){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+Z>te)throw new RangeError("Trying to access beyond buffer length")}function xe(Q,Z,te,ie,ee,X){if(!D.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>ee||Z<X)throw new RangeError('"value" argument is out of bounds');if(te+ie>Q.length)throw new RangeError("Index out of range")}function pe(Q,Z,te,ie,ee,X){if(te+ie>Q.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function Ue(Q,Z,te,ie,ee){return Z=+Z,te>>>=0,ee||pe(Q,0,te,4),y.write(Q,Z,te,ie,23,4),te+4}function ke(Q,Z,te,ie,ee){return Z=+Z,te>>>=0,ee||pe(Q,0,te,8),y.write(Q,Z,te,ie,52,8),te+8}D.prototype.slice=function(Z,te){var ie=this.length;(Z=~~Z)<0?(Z+=ie)<0&&(Z=0):Z>ie&&(Z=ie),(te=void 0===te?ie:~~te)<0?(te+=ie)<0&&(te=0):te>ie&&(te=ie),te<Z&&(te=Z);var ee=this.subarray(Z,te);return Object.setPrototypeOf(ee,D.prototype),ee},D.prototype.readUintLE=D.prototype.readUIntLE=function(Z,te,ie){Z>>>=0,te>>>=0,ie||Re(Z,te,this.length);for(var ee=this[Z],X=1,ue=0;++ue<te&&(X*=256);)ee+=this[Z+ue]*X;return ee},D.prototype.readUintBE=D.prototype.readUIntBE=function(Z,te,ie){Z>>>=0,te>>>=0,ie||Re(Z,te,this.length);for(var ee=this[Z+--te],X=1;te>0&&(X*=256);)ee+=this[Z+--te]*X;return ee},D.prototype.readUint8=D.prototype.readUInt8=function(Z,te){return Z>>>=0,te||Re(Z,1,this.length),this[Z]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(Z,te){return Z>>>=0,te||Re(Z,2,this.length),this[Z]|this[Z+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(Z,te){return Z>>>=0,te||Re(Z,2,this.length),this[Z]<<8|this[Z+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+16777216*this[Z+3]},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),16777216*this[Z]+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},D.prototype.readIntLE=function(Z,te,ie){Z>>>=0,te>>>=0,ie||Re(Z,te,this.length);for(var ee=this[Z],X=1,ue=0;++ue<te&&(X*=256);)ee+=this[Z+ue]*X;return ee>=(X*=128)&&(ee-=Math.pow(2,8*te)),ee},D.prototype.readIntBE=function(Z,te,ie){Z>>>=0,te>>>=0,ie||Re(Z,te,this.length);for(var ee=te,X=1,ue=this[Z+--ee];ee>0&&(X*=256);)ue+=this[Z+--ee]*X;return ue>=(X*=128)&&(ue-=Math.pow(2,8*te)),ue},D.prototype.readInt8=function(Z,te){return Z>>>=0,te||Re(Z,1,this.length),128&this[Z]?-1*(255-this[Z]+1):this[Z]},D.prototype.readInt16LE=function(Z,te){Z>>>=0,te||Re(Z,2,this.length);var ie=this[Z]|this[Z+1]<<8;return 32768&ie?4294901760|ie:ie},D.prototype.readInt16BE=function(Z,te){Z>>>=0,te||Re(Z,2,this.length);var ie=this[Z+1]|this[Z]<<8;return 32768&ie?4294901760|ie:ie},D.prototype.readInt32LE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},D.prototype.readInt32BE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},D.prototype.readFloatLE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),y.read(this,Z,!0,23,4)},D.prototype.readFloatBE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),y.read(this,Z,!1,23,4)},D.prototype.readDoubleLE=function(Z,te){return Z>>>=0,te||Re(Z,8,this.length),y.read(this,Z,!0,52,8)},D.prototype.readDoubleBE=function(Z,te){return Z>>>=0,te||Re(Z,8,this.length),y.read(this,Z,!1,52,8)},D.prototype.writeUintLE=D.prototype.writeUIntLE=function(Z,te,ie,ee){Z=+Z,te>>>=0,ie>>>=0,ee||xe(this,Z,te,ie,Math.pow(2,8*ie)-1,0);var ue=1,ve=0;for(this[te]=255&Z;++ve<ie&&(ue*=256);)this[te+ve]=Z/ue&255;return te+ie},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(Z,te,ie,ee){Z=+Z,te>>>=0,ie>>>=0,ee||xe(this,Z,te,ie,Math.pow(2,8*ie)-1,0);var ue=ie-1,ve=1;for(this[te+ue]=255&Z;--ue>=0&&(ve*=256);)this[te+ue]=Z/ve&255;return te+ie},D.prototype.writeUint8=D.prototype.writeUInt8=function(Z,te,ie){return Z=+Z,te>>>=0,ie||xe(this,Z,te,1,255,0),this[te]=255&Z,te+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(Z,te,ie){return Z=+Z,te>>>=0,ie||xe(this,Z,te,2,65535,0),this[te]=255&Z,this[te+1]=Z>>>8,te+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(Z,te,ie){return Z=+Z,te>>>=0,ie||xe(this,Z,te,2,65535,0),this[te]=Z>>>8,this[te+1]=255&Z,te+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(Z,te,ie){return Z=+Z,te>>>=0,ie||xe(this,Z,te,4,4294967295,0),this[te+3]=Z>>>24,this[te+2]=Z>>>16,this[te+1]=Z>>>8,this[te]=255&Z,te+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(Z,te,ie){return Z=+Z,te>>>=0,ie||xe(this,Z,te,4,4294967295,0),this[te]=Z>>>24,this[te+1]=Z>>>16,this[te+2]=Z>>>8,this[te+3]=255&Z,te+4},D.prototype.writeIntLE=function(Z,te,ie,ee){if(Z=+Z,te>>>=0,!ee){var X=Math.pow(2,8*ie-1);xe(this,Z,te,ie,X-1,-X)}var ue=0,ve=1,de=0;for(this[te]=255&Z;++ue<ie&&(ve*=256);)Z<0&&0===de&&0!==this[te+ue-1]&&(de=1),this[te+ue]=(Z/ve>>0)-de&255;return te+ie},D.prototype.writeIntBE=function(Z,te,ie,ee){if(Z=+Z,te>>>=0,!ee){var X=Math.pow(2,8*ie-1);xe(this,Z,te,ie,X-1,-X)}var ue=ie-1,ve=1,de=0;for(this[te+ue]=255&Z;--ue>=0&&(ve*=256);)Z<0&&0===de&&0!==this[te+ue+1]&&(de=1),this[te+ue]=(Z/ve>>0)-de&255;return te+ie},D.prototype.writeInt8=function(Z,te,ie){return Z=+Z,te>>>=0,ie||xe(this,Z,te,1,127,-128),Z<0&&(Z=255+Z+1),this[te]=255&Z,te+1},D.prototype.writeInt16LE=function(Z,te,ie){return Z=+Z,te>>>=0,ie||xe(this,Z,te,2,32767,-32768),this[te]=255&Z,this[te+1]=Z>>>8,te+2},D.prototype.writeInt16BE=function(Z,te,ie){return Z=+Z,te>>>=0,ie||xe(this,Z,te,2,32767,-32768),this[te]=Z>>>8,this[te+1]=255&Z,te+2},D.prototype.writeInt32LE=function(Z,te,ie){return Z=+Z,te>>>=0,ie||xe(this,Z,te,4,2147483647,-2147483648),this[te]=255&Z,this[te+1]=Z>>>8,this[te+2]=Z>>>16,this[te+3]=Z>>>24,te+4},D.prototype.writeInt32BE=function(Z,te,ie){return Z=+Z,te>>>=0,ie||xe(this,Z,te,4,2147483647,-2147483648),Z<0&&(Z=4294967295+Z+1),this[te]=Z>>>24,this[te+1]=Z>>>16,this[te+2]=Z>>>8,this[te+3]=255&Z,te+4},D.prototype.writeFloatLE=function(Z,te,ie){return Ue(this,Z,te,!0,ie)},D.prototype.writeFloatBE=function(Z,te,ie){return Ue(this,Z,te,!1,ie)},D.prototype.writeDoubleLE=function(Z,te,ie){return ke(this,Z,te,!0,ie)},D.prototype.writeDoubleBE=function(Z,te,ie){return ke(this,Z,te,!1,ie)},D.prototype.copy=function(Z,te,ie,ee){if(!D.isBuffer(Z))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!ee&&0!==ee&&(ee=this.length),te>=Z.length&&(te=Z.length),te||(te=0),ee>0&&ee<ie&&(ee=ie),ee===ie||0===Z.length||0===this.length)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),Z.length-te<ee-ie&&(ee=Z.length-te+ie);var X=ee-ie;return this===Z&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(te,ie,ee):Uint8Array.prototype.set.call(Z,this.subarray(ie,ee),te),X},D.prototype.fill=function(Z,te,ie,ee){if("string"==typeof Z){if("string"==typeof te?(ee=te,te=0,ie=this.length):"string"==typeof ie&&(ee=ie,ie=this.length),void 0!==ee&&"string"!=typeof ee)throw new TypeError("encoding must be a string");if("string"==typeof ee&&!D.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(1===Z.length){var X=Z.charCodeAt(0);("utf8"===ee&&X<128||"latin1"===ee)&&(Z=X)}}else"number"==typeof Z?Z&=255:"boolean"==typeof Z&&(Z=Number(Z));if(te<0||this.length<te||this.length<ie)throw new RangeError("Out of range index");if(ie<=te)return this;var ue;if(te>>>=0,ie=void 0===ie?this.length:ie>>>0,Z||(Z=0),"number"==typeof Z)for(ue=te;ue<ie;++ue)this[ue]=Z;else{var ve=D.isBuffer(Z)?Z:D.from(Z,ee),de=ve.length;if(0===de)throw new TypeError('The value "'+Z+'" is invalid for argument "value"');for(ue=0;ue<ie-te;++ue)this[ue+te]=ve[ue%de]}return this};var we=/[^+/0-9A-Za-z-_]/g;function st(Q,Z){Z=Z||1/0;for(var te,ie=Q.length,ee=null,X=[],ue=0;ue<ie;++ue){if((te=Q.charCodeAt(ue))>55295&&te<57344){if(!ee){if(te>56319){(Z-=3)>-1&&X.push(239,191,189);continue}if(ue+1===ie){(Z-=3)>-1&&X.push(239,191,189);continue}ee=te;continue}if(te<56320){(Z-=3)>-1&&X.push(239,191,189),ee=te;continue}te=65536+(ee-55296<<10|te-56320)}else ee&&(Z-=3)>-1&&X.push(239,191,189);if(ee=null,te<128){if((Z-=1)<0)break;X.push(te)}else if(te<2048){if((Z-=2)<0)break;X.push(te>>6|192,63&te|128)}else if(te<65536){if((Z-=3)<0)break;X.push(te>>12|224,te>>6&63|128,63&te|128)}else{if(!(te<1114112))throw new Error("Invalid code point");if((Z-=4)<0)break;X.push(te>>18|240,te>>12&63|128,te>>6&63|128,63&te|128)}}return X}function Te(Q){return t.toByteArray(function Ve(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function Y(Q,Z,te,ie){for(var ee=0;ee<ie&&!(ee+te>=Z.length||ee>=Q.length);++ee)Z[ee+te]=Q[ee];return ee}function se(Q,Z){return Q instanceof Z||null!=Q&&null!=Q.constructor&&null!=Q.constructor.name&&Q.constructor.name===Z.name}function _e(Q){return Q!=Q}var J=function(){for(var Q="0123456789abcdef",Z=new Array(256),te=0;te<16;++te)for(var ie=16*te,ee=0;ee<16;++ee)Z[ie+ee]=Q[te]+Q[ee];return Z}()},5094:Gn=>{window,Gn.exports=function(tt){var S={};function c(t){if(S[t])return S[t].exports;var y=S[t]={i:t,l:!1,exports:{}};return tt[t].call(y.exports,y,y.exports,c),y.l=!0,y.exports}return c.m=tt,c.c=S,c.d=function(t,y,w){c.o(t,y)||Object.defineProperty(t,y,{enumerable:!0,get:w})},c.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,y){if(1&y&&(t=c(t)),8&y||4&y&&"object"==typeof t&&t&&t.__esModule)return t;var w=Object.create(null);if(c.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:t}),2&y&&"string"!=typeof t)for(var E in t)c.d(w,E,function(F){return t[F]}.bind(null,E));return w},c.n=function(t){var y=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(y,"a",y),y},c.o=function(t,y){return Object.prototype.hasOwnProperty.call(t,y)},c.p="/dist/",c(c.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(tt,S,c){var w,E,F,L,D,t_encode=function(w){for(var E=[],F=0;F<w.length;++F){var L=w.charCodeAt(F);L<128?E.push(L):L<2048?(E.push(192|L>>6),E.push(128|63&L)):L<65536?(E.push(224|L>>12),E.push(128|63&L>>6),E.push(128|63&L)):(E.push(240|L>>18),E.push(128|63&L>>12),E.push(128|63&L>>6),E.push(128|63&L))}return E},t_decode=function(w){for(var E=[],F=0;F<w.length;){var L=w[F++];L<128||(L<224?(L=(31&L)<<6,L|=63&w[F++]):L<240?(L=(15&L)<<12,L|=(63&w[F++])<<6,L|=63&w[F++]):(L=(7&L)<<18,L|=(63&w[F++])<<12,L|=(63&w[F++])<<6,L|=63&w[F++])),E.push(String.fromCharCode(L))}return E.join("")},y={};w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=function(f){for(var g=0,v=[],A=0|f.length/3;0<A--;){var U=(f[g]<<16)+(f[g+1]<<8)+f[g+2];g+=3,v.push(w.charAt(63&U>>18)),v.push(w.charAt(63&U>>12)),v.push(w.charAt(63&U>>6)),v.push(w.charAt(63&U))}return f.length-g==2?(v.push(w.charAt(63&(U=(f[g]<<16)+(f[g+1]<<8))>>18)),v.push(w.charAt(63&U>>12)),v.push(w.charAt(63&U>>6)),v.push("=")):f.length-g==1&&(v.push(w.charAt(63&(U=f[g]<<16)>>18)),v.push(w.charAt(63&U>>12)),v.push("==")),v.join("")},F=function(){for(var p=[],f=0;f<64;++f)p[w.charCodeAt(f)]=f;return p["=".charCodeAt(0)]=0,p}(),L=function(f){for(var g=0,v=[],A=0|f.length/4;0<A--;){var U=(F[f.charCodeAt(g)]<<18)+(F[f.charCodeAt(g+1)]<<12)+(F[f.charCodeAt(g+2)]<<6)+F[f.charCodeAt(g+3)];v.push(255&U>>16),v.push(255&U>>8),v.push(255&U),g+=4}return v&&("="==f.charAt(g-2)?(v.pop(),v.pop()):"="==f.charAt(g-1)&&v.pop()),v},D={encode:function(p){for(var f=[],g=0;g<p.length;++g)f.push(p.charCodeAt(g));return f},decode:function(p){for(var f=0;f<s.length;++f)a[f]=String.fromCharCode(a[f]);return a.join("")}},y.decodeArray=function(p){var f=L(p);return new Uint8Array(f)},y.encodeASCII=function(p){var f=D.encode(p);return E(f)},y.decodeASCII=function(p){var f=L(p);return D.decode(f)},y.encode=function(p){var f=t_encode(p);return E(f)},y.decode=function(p){var f=L(p);return t_decode(f)},S.decode=y.decode,S.decodeArray=y.decodeArray,S.encode=y.encode,S.encodeASCII=y.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(tt,S,c){!function(t){"use strict";var y={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},w=function(C){var B=C;return y.hasOwnProperty(C)&&(B=y[C]),String.fromCharCode(B)},E=15,F=32,L={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},D={17:2,18:4,21:6,22:8,23:10,19:13,20:15},p={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f={25:2,26:4,29:6,30:8,31:10,27:13,28:15},g=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],v={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(C){this.time=C},log:function(C,B){this.verboseLevel>=this.verboseFilter[C]&&console.log(this.time+" ["+C+"] "+B)}},A=function(C){for(var B=[],W=0;W<C.length;W++)B.push(C[W].toString(16));return B},U=function(C,B,W,q,le){this.foreground=C||"white",this.underline=B||!1,this.italics=W||!1,this.background=q||"black",this.flash=le||!1};U.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(C){for(var B=["foreground","underline","italics","background","flash"],W=0;W<B.length;W++){var q=B[W];C.hasOwnProperty(q)&&(this[q]=C[q])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(C){return this.foreground===C.foreground&&this.underline===C.underline&&this.italics===C.italics&&this.background===C.background&&this.flash===C.flash},copy:function(C){this.foreground=C.foreground,this.underline=C.underline,this.italics=C.italics,this.background=C.background,this.flash=C.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var R=function(C,B,W,q,le,Fe){this.uchar=C||" ",this.penState=new U(B,W,q,le,Fe)};R.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(C,B){this.uchar=C,this.penState.copy(B)},setPenState:function(C){this.penState.copy(C)},equals:function(C){return this.uchar===C.uchar&&this.penState.equals(C.penState)},copy:function(C){this.uchar=C.uchar,this.penState.copy(C.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var H=function(){this.chars=[];for(var C=0;C<F;C++)this.chars.push(new R);this.pos=0,this.currPenState=new U};H.prototype={equals:function(C){for(var B=!0,W=0;W<F;W++)if(!this.chars[W].equals(C.chars[W])){B=!1;break}return B},copy:function(C){for(var B=0;B<F;B++)this.chars[B].copy(C.chars[B])},isEmpty:function(){for(var C=!0,B=0;B<F;B++)if(!this.chars[B].isEmpty()){C=!1;break}return C},setCursor:function(C){this.pos!==C&&(this.pos=C),this.pos<0?(v.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>F&&(v.log("ERROR","Too large cursor position "+this.pos),this.pos=F)},moveCursor:function(C){var B=this.pos+C;if(C>1)for(var W=this.pos+1;W<B+1;W++)this.chars[W].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(C){C>=144&&this.backSpace();var B=w(C);this.pos>=F?v.log("ERROR","Cannot insert "+C.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(C){var B;for(B=C;B<F;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var C=[],B=!0,W=0;W<F;W++){var q=this.chars[W].uchar;" "!==q&&(B=!1),C.push(q)}return B?"":C.join("")},setPenStyles:function(C){this.currPenState.setStyles(C),this.chars[this.pos].setPenState(this.currPenState)}};var k=function(){this.rows=[];for(var C=0;C<E;C++)this.rows.push(new H);this.currRow=14,this.nrRollUpRows=null,this.reset()};k.prototype={reset:function(){for(var C=0;C<E;C++)this.rows[C].clear();this.currRow=14},equals:function(C){for(var B=!0,W=0;W<E;W++)if(!this.rows[W].equals(C.rows[W])){B=!1;break}return B},copy:function(C){for(var B=0;B<E;B++)this.rows[B].copy(C.rows[B])},isEmpty:function(){for(var C=!0,B=0;B<E;B++)if(!this.rows[B].isEmpty()){C=!1;break}return C},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(C){this.rows[this.currRow].insertChar(C)},setPen:function(C){this.rows[this.currRow].setPenStyles(C)},moveCursor:function(C){this.rows[this.currRow].moveCursor(C)},setCursor:function(C){v.log("INFO","setCursor: "+C),this.rows[this.currRow].setCursor(C)},setPAC:function(C){v.log("INFO","pacData = "+JSON.stringify(C));var B=C.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var W=this.rows[this.currRow];if(null!==C.indent){var le=Math.max(C.indent-1,0);W.setCursor(C.indent),C.color=W.chars[le].penState.foreground}this.setPen({foreground:C.color,underline:C.underline,italics:C.italics,background:"black",flash:!1})},setBkgData:function(C){v.log("INFO","bkgData = "+JSON.stringify(C)),this.backSpace(),this.setPen(C),this.insertChar(32)},setRollUpRows:function(C){this.nrRollUpRows=C},rollUp:function(){if(null!==this.nrRollUpRows){v.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),v.log("INFO","Rolling up")}else v.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(C){C=C||!1;for(var B=[],W="",le=0;le<E;le++){var Fe=this.rows[le].getTextString();Fe&&B.push(C?"Row "+(le+1)+': "'+Fe+'"':Fe.trim())}return B.length>0&&(W=C?"["+B.join(" | ")+"]":B.join("\n")),W},getTextAndFormat:function(){return this.rows}};var O=function(C,B){this.chNr=C,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new k,this.nonDisplayedMemory=new k,this.lastOutputScreen=new k,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};O.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(C){this.outputFilter=C},setPAC:function(C){this.writeScreen.setPAC(C)},setBkgData:function(C){this.writeScreen.setBkgData(C)},setMode:function(C){C!==this.mode&&(this.mode=C,v.log("INFO","MODE="+C),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=C)},insertChars:function(C){for(var B=0;B<C.length;B++)this.writeScreen.insertChar(C[B]);v.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(v.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){v.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){v.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){v.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(C){v.log("INFO","RU("+C+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(C)},cc_FON:function(){v.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){v.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){v.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){v.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){v.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){v.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){v.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(v.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var C=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=C,this.writeScreen=this.nonDisplayedMemory,v.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(C){v.log("INFO","TO("+C+") - Tab Offset"),this.writeScreen.moveCursor(C)},cc_MIDROW:function(C){var B={flash:!1};if(B.underline=C%2==1,B.italics=C>=46,B.italics)B.foreground="white";else{var W=Math.floor(C/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][W]}v.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var C=v.time;null!==C&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(C,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:C):this.cueStartTime=C,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(C){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.displayedMemory),this.cueStartTime=C))}};var M=function(C,B,W){this.field=C||1,this.outputs=[B,W],this.channels=[new O(1,B),new O(2,W)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};M.prototype={getHandler:function(C){return this.channels[C].getHandler()},setHandler:function(C,B){this.channels[C].setHandler(B)},addData:function(C,B){var W,q,le,Fe=!1;this.lastTime=C,v.setTime(C);for(var $=0;$<B.length;$+=2)le=127&B[$+1],(q=127&B[$])>=16&&q<=31&&q===this.lastCmdA&&le===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,v.log("DEBUG","Repeated command ("+A([q,le])+") is dropped")):0!==q||0!==le?(v.log("DATA","["+A([B[$],B[$+1]])+"] -> ("+A([q,le])+")"),(W=this.parseCmd(q,le))||(W=this.parseMidrow(q,le)),W||(W=this.parsePAC(q,le)),W||(W=this.parseBackgroundAttributes(q,le)),!W&&(Fe=this.parseChars(q,le))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Fe):v.log("WARNING","No channel found yet. TEXT-MODE?")),W?this.dataCounters.cmd+=2:Fe?this.dataCounters.char+=2:(this.dataCounters.other+=2,v.log("WARNING","Couldn't parse cleaned data "+A([q,le])+" orig: "+A([B[$],B[$+1]])))):this.dataCounters.padding+=2},parseCmd:function(C,B){var W;if(!((20===C||21===C||28===C||29===C)&&32<=B&&B<=47||(23===C||31===C)&&33<=B&&B<=35))return!1;var Fe=this.channels[(W=20===C||21===C||23===C?1:2)-1];return 20===C||21===C||28===C||29===C?32===B?Fe.cc_RCL():33===B?Fe.cc_BS():34===B?Fe.cc_AOF():35===B?Fe.cc_AON():36===B?Fe.cc_DER():37===B?Fe.cc_RU(2):38===B?Fe.cc_RU(3):39===B?Fe.cc_RU(4):40===B?Fe.cc_FON():41===B?Fe.cc_RDC():42===B?Fe.cc_TR():43===B?Fe.cc_RTD():44===B?Fe.cc_EDM():45===B?Fe.cc_CR():46===B?Fe.cc_ENM():47===B&&Fe.cc_EOC():Fe.cc_TO(B-32),this.lastCmdA=C,this.lastCmdB=B,this.currChNr=W,!0},parseMidrow:function(C,B){var W=null;if((17===C||25===C)&&32<=B&&B<=47){if((W=17===C?1:2)!==this.currChNr)return v.log("ERROR","Mismatch channel in midrow parsing"),!1;var q=this.channels[W-1];return q.insertChars([32]),q.cc_MIDROW(B),v.log("DEBUG","MIDROW ("+A([C,B])+")"),this.lastCmdA=C,this.lastCmdB=B,!0}return!1},parsePAC:function(C,B){var W;if(!((17<=C&&C<=23||25<=C&&C<=31)&&64<=B&&B<=127||(16===C||24===C)&&64<=B&&B<=95))return!1;W=C<=23?1:2;var $=this.interpretPAC(64<=B&&B<=95?1===W?L[C]:p[C]:1===W?D[C]:f[C],B);return this.channels[W-1].setPAC($),this.lastCmdA=C,this.lastCmdB=B,this.currChNr=W,!0},interpretPAC:function(C,B){var W,q={color:null,italics:!1,indent:null,underline:!1,row:C};return q.underline=1==(1&(W=B>95?B-96:B-64)),W<=13?q.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(W/2)]:W<=15?(q.italics=!0,q.color="white"):q.indent=4*Math.floor((W-16)/2),q},parseChars:function(C,B){var W=null,q=null,le=null;if(C>=25?(W=2,le=C-8):(W=1,le=C),17<=le&&le<=19){var $;v.log("INFO","Special char '"+w($=17===le?B+80:18===le?B+112:B+144)+"' in channel "+W),q=[$],this.lastCmdA=C,this.lastCmdB=B}else 32<=C&&C<=127&&(q=0===B?[C]:[C,B],this.lastCmdA=null,this.lastCmdB=null);if(q){var ae=A(q);v.log("DEBUG","Char codes =  "+ae.join(","))}return q},parseBackgroundAttributes:function(C,B){var W,q;return!!((16===C||24===C)&&32<=B&&B<=47||(23===C||31===C)&&45<=B&&B<=47)&&(W={},16===C||24===C?(q=Math.floor((B-32)/2),W.background=g[q],B%2==1&&(W.background=W.background+"_semi")):45===B?W.background="transparent":(W.foreground="black",47===B&&(W.underline=!0)),this.channels[(C<24?1:2)-1].setBkgData(W),this.lastCmdA=C,this.lastCmdB=B,!0)},reset:function(){for(var C=0;C<this.channels.length;C++)this.channels[C]&&this.channels[C].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(C){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(C)}};t.logger=v,t.PenState=U,t.CaptionScreen=k,t.Cea608Parser=M,t.findCea608Nalus=function(C,B,W){for(var q=0,le=B,$=[],ae=function(Le,fe,Re,xe){if(4!==Le||fe<8)return null;var pe=Re.getUint8(xe),Ue=Re.getUint16(xe+1),ke=Re.getUint32(xe+3),we=Re.getUint8(xe+7);return 181==pe&&49==Ue&&1195456820==ke&&3==we};le<B+W;){if(q=C.getUint32(le),6==(31&C.getUint8(le+4)))for(var K=le+5,ge=-1;K<le+4+q-1;){ge=0;for(var oe=255;255===oe;)ge+=oe=C.getUint8(K),K++;var he=0;for(oe=255;255===oe;)he+=oe=C.getUint8(K),K++;ae(ge,he,C,K)&&$.push([K,he]),K+=he}le+=q+4}return $},t.extractCea608DataFromRange=function(C,B){var W=B[0],q=[[],[]],le=31&C.getUint8(W+=8);W+=2;for(var Fe=0;Fe<le;Fe++){var $=C.getUint8(W),ae=4&$,K=3&$;W++;var ge=C.getUint8(W);W++;var oe=C.getUint8(W);W++,ae&&(127&ge)+(127&oe)!=0&&(0===K?(q[0].push(ge),q[0].push(oe)):1===K&&(q[1].push(ge),q[1].push(oe)))}return q}}(S)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S),S.default=function t(y){y=y||{},function E(){void 0===y.escapeMode&&(y.escapeMode=!0),void 0===y.attributePrefix&&(y.attributePrefix="_"),y.arrayAccessForm=y.arrayAccessForm||"none",y.emptyNodeForm=y.emptyNodeForm||"text",void 0===y.enableToStringFunc&&(y.enableToStringFunc=!0),y.arrayAccessFormPaths=y.arrayAccessFormPaths||[],void 0===y.skipEmptyTextNodesForObj&&(y.skipEmptyTextNodesForObj=!0),void 0===y.stripWhitespaces&&(y.stripWhitespaces=!0),y.datetimeAccessFormPaths=y.datetimeAccessFormPaths||[],void 0===y.useDoubleQuotes&&(y.useDoubleQuotes=!1),y.xmlElementsFilter=y.xmlElementsFilter||[],y.jsonPropertiesFilter=y.jsonPropertiesFilter||[],void 0===y.keepCData&&(y.keepCData=!1),void 0===y.ignoreRoot&&(y.ignoreRoot=!1)}();var F={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function D(ae){var K=ae.localName;return null==K&&(K=ae.baseName),(null==K||""==K)&&(K=ae.nodeName),K}function f(ae){return"string"==typeof ae?ae.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):ae}function v(ae,K,ge,oe){for(var he=0;he<ae.length;he++){var Ce=ae[he];if("string"==typeof Ce){if(Ce==oe)break}else if(Ce instanceof RegExp){if(Ce.test(oe))break}else if("function"==typeof Ce&&Ce(K,ge,oe))break}return he!=ae.length}function A(ae,K,ge){"property"===y.arrayAccessForm&&(ae[K+"_asArray"]=ae[K]instanceof Array?ae[K]:[ae[K]]),!(ae[K]instanceof Array)&&y.arrayAccessFormPaths.length>0&&v(y.arrayAccessFormPaths,ae,K,ge)&&(ae[K]=[ae[K]])}function U(ae){var K=ae.split(/[-T:+Z]/g),ge=new Date(K[0],K[1]-1,K[2]),oe=K[5].split(".");if(ge.setHours(K[3],K[4],oe[0]),oe.length>1&&ge.setMilliseconds(oe[1]),K[6]&&K[7]){var he=60*K[6]+Number(K[7]);he=0+("-"==(/\d\d-\d\d:\d\d$/.test(ae)?"-":"+")?-1*he:he),ge.setMinutes(ge.getMinutes()-he-ge.getTimezoneOffset())}else-1!==ae.indexOf("Z",ae.length-1)&&(ge=new Date(Date.UTC(ge.getFullYear(),ge.getMonth(),ge.getDate(),ge.getHours(),ge.getMinutes(),ge.getSeconds(),ge.getMilliseconds())));return ge}function H(ae,K,ge,oe){return!(K==F.ELEMENT_NODE&&y.xmlElementsFilter.length>0)||v(y.xmlElementsFilter,ae,ge,oe)}function k(ae,K){if(ae.nodeType==F.DOCUMENT_NODE){for(var ge=new Object,oe=ae.childNodes,he=0;he<oe.length;he++)(Ce=oe[he]).nodeType==F.ELEMENT_NODE&&(y.ignoreRoot?ge=k(Ce):(ge={})[Le=D(Ce)]=k(Ce));return ge}if(ae.nodeType==F.ELEMENT_NODE){(ge=new Object).__cnt=0;var fe=[];for(oe=ae.childNodes,he=0;he<oe.length;he++){var Ce,Le=D(Ce=oe[he]);if(Ce.nodeType!=F.COMMENT_NODE){var Re=K+"."+Le;if(H(ge,Ce.nodeType,Le,Re))if(ge.__cnt++,null==ge[Le]){var xe=k(Ce,Re);("#text"!=Le||/[^\s]/.test(xe))&&((pe={})[Le]=xe,fe.push(pe)),ge[Le]=xe,A(ge,Le,Re)}else{var pe;null!=ge[Le]&&(ge[Le]instanceof Array||(ge[Le]=[ge[Le]],A(ge,Le,Re))),xe=k(Ce,Re),("#text"!=Le||/[^\s]/.test(xe))&&((pe={})[Le]=xe,fe.push(pe)),ge[Le][ge[Le].length]=xe}}}ge.__children=fe;for(var Ue=D(ae),ke=0;ke<ae.attributes.length;ke++){var we=ae.attributes[ke];ge.__cnt++;for(var Ve=we.value,st=0,Je=y.matchers.length;st<Je;st++){var Ne=y.matchers[st];Ne.test(we,Ue)&&(Ve=Ne.converter(we.value))}ge[y.attributePrefix+we.name]=Ve}var Te=function p(ae){return ae.prefix}(ae);return null!=Te&&""!=Te&&(ge.__cnt++,ge.__prefix=Te),null!=ge["#text"]&&(ge.__text=ge["#text"],ge.__text instanceof Array&&(ge.__text=ge.__text.join("\n")),y.stripWhitespaces&&(ge.__text=ge.__text.trim()),delete ge["#text"],"property"==y.arrayAccessForm&&delete ge["#text_asArray"],ge.__text=function R(ae,K,ge){if(y.datetimeAccessFormPaths.length>0){var oe=ge.split(".#")[0];return v(y.datetimeAccessFormPaths,ae,K,oe)?U(ae):ae}return ae}(ge.__text,Le,K+"."+Le)),null!=ge["#cdata-section"]&&(ge.__cdata=ge["#cdata-section"],delete ge["#cdata-section"],"property"==y.arrayAccessForm&&delete ge["#cdata-section_asArray"]),0==ge.__cnt&&"text"==y.emptyNodeForm?ge="":1==ge.__cnt&&null!=ge.__text?ge=ge.__text:1!=ge.__cnt||null==ge.__cdata||y.keepCData?ge.__cnt>1&&null!=ge.__text&&y.skipEmptyTextNodesForObj&&(y.stripWhitespaces&&""==ge.__text||""==ge.__text.trim())&&delete ge.__text:ge=ge.__cdata,delete ge.__cnt,y.enableToStringFunc&&(null!=ge.__text||null!=ge.__cdata)&&(ge.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),ge}if(ae.nodeType==F.TEXT_NODE||ae.nodeType==F.CDATA_SECTION_NODE)return ae.nodeValue}function O(ae,K,ge,oe){var he="<"+(null!=ae&&null!=ae.__prefix?ae.__prefix+":":"")+K;if(null!=ge)for(var Ce=0;Ce<ge.length;Ce++){var Le=ge[Ce],fe=ae[Le];y.escapeMode&&(fe=f(fe)),he+=" "+Le.substr(y.attributePrefix.length)+"=",he+=y.useDoubleQuotes?'"'+fe+'"':"'"+fe+"'"}return he+(oe?"/>":">")}function M(ae,K){return"</"+(null!=ae.__prefix?ae.__prefix+":":"")+K+">"}function T(ae,K){return!!("property"==y.arrayAccessForm&&function P(ae,K){return-1!==ae.indexOf(K,ae.length-K.length)}(K.toString(),"_asArray")||0==K.toString().indexOf(y.attributePrefix)||0==K.toString().indexOf("__")||ae[K]instanceof Function)}function N(ae){var K=0;if(ae instanceof Object)for(var ge in ae)T(ae,ge)||K++;return K}function C(ae,K,ge){return 0==y.jsonPropertiesFilter.length||""==ge||v(y.jsonPropertiesFilter,ae,K,ge)}function B(ae){var K=[];if(ae instanceof Object)for(var ge in ae)-1==ge.toString().indexOf("__")&&0==ge.toString().indexOf(y.attributePrefix)&&K.push(ge);return K}function q(ae){var K="";return ae instanceof Object?K+=function W(ae){var K="";return null!=ae.__cdata&&(K+="<![CDATA["+ae.__cdata+"]]>"),null!=ae.__text&&(K+=y.escapeMode?f(ae.__text):ae.__text),K}(ae):null!=ae&&(K+=y.escapeMode?f(ae):ae),K}function le(ae,K){return""===ae?K:ae+"."+K}function Fe(ae,K,ge,oe){var he="";if(0==ae.length)he+=O(ae,K,ge,!0);else for(var Ce=0;Ce<ae.length;Ce++)he+=O(ae[Ce],K,B(ae[Ce]),!1),he+=$(ae[Ce],le(oe,K)),he+=M(ae[Ce],K);return he}function $(ae,K){var ge="";if(N(ae)>0)for(var he in ae)if(!T(ae,he)&&(""==K||C(ae,he,le(K,he)))){var Ce=ae[he],Le=B(Ce);null==Ce||null==Ce?ge+=O(Ce,he,Le,!0):Ce instanceof Object?Ce instanceof Array?ge+=Fe(Ce,he,Le,K):Ce instanceof Date?(ge+=O(Ce,he,Le,!1),ge+=Ce.toISOString(),ge+=M(Ce,he)):N(Ce)>0||null!=Ce.__text||null!=Ce.__cdata?(ge+=O(Ce,he,Le,!1),ge+=$(Ce,le(K,he)),ge+=M(Ce,he)):ge+=O(Ce,he,Le,!0):(ge+=O(Ce,he,Le,!1),ge+=q(Ce),ge+=M(Ce,he))}return ge+q(ae)}this.parseXmlString=function(ae){var ge;if(window.ActiveXObject||window,void 0===ae)return null;if(window.DOMParser){var oe=new window.DOMParser;try{(ge=oe.parseFromString(ae,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ge=null)}catch{ge=null}}else 0==ae.indexOf("<?")&&(ae=ae.substr(ae.indexOf("?>")+2)),(ge=new ActiveXObject("Microsoft.XMLDOM")).async="false",ge.loadXML(ae);return ge},this.asArray=function(ae){return void 0===ae||null==ae?[]:ae instanceof Array?ae:[ae]},this.toXmlDateTime=function(ae){return ae instanceof Date?ae.toISOString():"number"==typeof ae?new Date(ae).toISOString():null},this.asDateTime=function(ae){return"string"==typeof ae?U(ae):ae},this.xml2json=function(ae){return k(ae)},this.xml_str2json=function(ae){var K=this.parseXmlString(ae);return null!=K?this.xml2json(K):null},this.json2xml_str=function(ae){return $(ae,"")},this.json2xml=function(ae){var K=this.json2xml_str(ae);return this.parseXmlString(K)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");c.d(S,"MediaPlayer",function(){return t.MediaPlayer});var y=c(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");c.d(S,"supportsMediaSource",function(){return y.supportsMediaSource});var w=c(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");c.d(S,"MetricsReporting",function(){return w.default});var E=c(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");c.d(S,"Protection",function(){return E.default});var F=c(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");c.d(S,"MediaPlayerFactory",function(){return F.default});var L=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(S,"Debug",function(){return L.default}),dashjs.Protection=E.default,dashjs.MetricsReporting=w.default,dashjs.MediaPlayerFactory=F.default,dashjs.Debug=L.default,dashjs.supportsMediaSource=y.supportsMediaSource,S.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(tt,S,c){"use strict";c.r(S),function(t){var y=c(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");c.d(S,"MediaPlayer",function(){return y.default});var w=c(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");c.d(S,"FactoryMaker",function(){return w.default});var E=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(S,"Debug",function(){return E.default});var F=c(
/*! ./src/core/Version */
"./src/core/Version.js"),p=(c(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||t),f=p.dashjs;f||(f=p.dashjs={}),f.MediaPlayer=y.default,f.FactoryMaker=w.default,f.Debug=E.default,f.Version=Object(F.getVersionString)(),S.default=f}.call(this,c(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(tt,S,c){"use strict";S.byteLength=function p(R){var H=D(R),O=H[1];return 3*(H[0]+O)/4-O},S.toByteArray=function g(R){var H,C,k=D(R),O=k[0],M=k[1],P=new w(function f(R,H,k){return 3*(H+k)/4-k}(0,O,M)),T=0,N=M>0?O-4:O;for(C=0;C<N;C+=4)H=y[R.charCodeAt(C)]<<18|y[R.charCodeAt(C+1)]<<12|y[R.charCodeAt(C+2)]<<6|y[R.charCodeAt(C+3)],P[T++]=H>>16&255,P[T++]=H>>8&255,P[T++]=255&H;return 2===M&&(H=y[R.charCodeAt(C)]<<2|y[R.charCodeAt(C+1)]>>4,P[T++]=255&H),1===M&&(H=y[R.charCodeAt(C)]<<10|y[R.charCodeAt(C+1)]<<4|y[R.charCodeAt(C+2)]>>2,P[T++]=H>>8&255,P[T++]=255&H),P},S.fromByteArray=function U(R){for(var H,k=R.length,O=k%3,M=[],P=16383,T=0,N=k-O;T<N;T+=P)M.push(A(R,T,T+P>N?N:T+P));return 1===O?M.push(t[(H=R[k-1])>>2]+t[H<<4&63]+"=="):2===O&&M.push(t[(H=(R[k-2]<<8)+R[k-1])>>10]+t[H>>4&63]+t[H<<2&63]+"="),M.join("")};for(var t=[],y=[],w=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0;F<64;++F)t[F]=E[F],y[E.charCodeAt(F)]=F;function D(R){var H=R.length;if(H%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=R.indexOf("=");return-1===k&&(k=H),[k,k===H?0:4-k%4]}function v(R){return t[R>>18&63]+t[R>>12&63]+t[R>>6&63]+t[63&R]}function A(R,H,k){for(var M=[],P=H;P<k;P+=3)M.push(v((R[P]<<16&16711680)+(R[P+1]<<8&65280)+(255&R[P+2])));return M.join("")}y["-".charCodeAt(0)]=62,y["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(tt,S,c){"use strict";function E(L,D){return function p(f,g){for(var H,k,O,v=F(f,"tag"),A=F(g??"*","range"),U=[],R=-1;++R<A.length;)if(H=A[R].toLowerCase(),D||"*"!==H){for(k=-1,O=[];++k<v.length;)if(L(v[k].toLowerCase(),H)){if(!D)return v[k];U.push(v[k])}else O.push(v[k]);v=O}return D?U:void 0}}function F(L,D){var p=L&&"string"==typeof L?[L]:L;if(!p||"object"!=typeof p||!("length"in p))throw new Error("Invalid "+D+" `"+p+"`, expected non-empty string");return p}S.basicFilter=E(function t(L,D){return"*"===D||L===D||L.indexOf(D+"-")>-1},!0),S.extendedFilter=E(function y(L,D){var p=L.split("-"),f=D.split("-"),g=0,v=0;if("*"!==f[v]&&p[g]!==f[v])return!1;for(g++,v++;v<f.length;)if("*"!==f[v]){if(!p[g])return!1;if(p[g]!==f[v]){if(1===p[g].length)return!1;g++}else g++,v++}else v++;return!0},!0),S.lookup=E(function w(L,D){for(var f,p=D;;){if("*"===p||L===p)return!0;if((f=p.lastIndexOf("-"))<0)return!1;"-"===p.charAt(f-2)&&(f-=2),p=p.slice(0,f)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=c(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(tt){tt.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(tt){tt.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),y=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),w=c(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),E=c(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),F=c(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),L=c(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");tt.exports=function g(H,k){var N,O=k||{},M=t.parse(String(H||"").toLowerCase(),O),P=t.stringify(M),T=-1;if(!P)return P;for(;++T<w.length;)y.extendedFilter(P,w[T].from).length&&(v(M,w[T].from,w[T].to),P=t.stringify(M));for(T=-1;++T<E.length;)A(M,E[T].from.field,E[T].from.value)&&U(M,E[T].to.field,E[T].to.value);for(P=t.stringify(Object.assign({},M,f)),T=-1;++T<F.length;)P===F[T]&&(v(M,F[T],F[T].split("-").slice(0,-1).join("-")),P=t.stringify(Object.assign({},M,f)));if(M.extensions.sort(R),O.warning)for(N in L)D.call(L[N],M[N])&&O.warning("Deprecated "+N+" `"+M[N]+"`, expected one of `"+L[N][M[N]].join("`, `")+"`",null,7);return M.script&&(M.script=M.script.charAt(0).toUpperCase()+M.script.slice(1)),M.region&&(M.region=M.region.toUpperCase()),t.stringify(M)};var D={}.hasOwnProperty,p=new Intl.Collator,f={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function v(H,k,O){var N,M=t.parse(k),P=t.parse(O),T=[];for(N in M)M[N]&&M[N].length&&A(H,N,M[N])&&T.push(N);for(N in P)P[N]&&P[N].length&&(T.indexOf(N)>-1||!H[N]||!H[N].length)&&U(H,N,P[N])}function A(H,k,O){var P,T,N,C,M=!1;if(O){if(T=P=H[k],P&&"object"==typeof P)for(T=[],N=-1;++N<P.length;)O.indexOf(C=P[N])<0?T.push(C):M=!0;else P===O&&(T=null,M=!0);H[k]=T}return M}function U(H,k,O){var P,T,N,M=H[k];if(M&&"object"==typeof M)for(P=[].concat(O),T=-1;++T<P.length;)M.indexOf(N=P[T])<0&&M.push(N);else H[k]=O}function R(H,k){return p.compare(H.singleton,k.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(tt){tt.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(tt){tt.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(tt,S,c){"use strict";S.parse=c(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),S.stringify=c(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(tt){tt.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),y=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),w=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),E=c(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),F=c(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");tt.exports=function D(f,g){var k,O,M,v=g||{},A={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},U=String(f),R=U.toLowerCase(),H=0;if(null==f)throw new Error("Expected string, got `"+f+"`");if(L.call(F,R))return(null==v.normalize||v.normalize)&&F[R]?D(F[R]):(A[-1===E.indexOf(R)?"irregular":"regular"]=U,A);for(;y(R.charCodeAt(H))&&H<9;)H++;if(H>1&&H<9){if(A.language=U.slice(0,H),H<4)for(O=0;45===R.charCodeAt(H)&&y(R.charCodeAt(H+1))&&y(R.charCodeAt(H+2))&&y(R.charCodeAt(H+3))&&!y(R.charCodeAt(H+4));){if(O>2)return P(H,3,"Too many extended language subtags, expected at most 3 subtags");A.extendedLanguageSubtags.push(U.slice(H+1,H+4)),H+=4,O++}for(45===R.charCodeAt(H)&&y(R.charCodeAt(H+1))&&y(R.charCodeAt(H+2))&&y(R.charCodeAt(H+3))&&y(R.charCodeAt(H+4))&&!y(R.charCodeAt(H+5))&&(A.script=U.slice(H+1,H+5),H+=5),45===R.charCodeAt(H)&&(y(R.charCodeAt(H+1))&&y(R.charCodeAt(H+2))&&!y(R.charCodeAt(H+3))?(A.region=U.slice(H+1,H+3),H+=3):w(R.charCodeAt(H+1))&&w(R.charCodeAt(H+2))&&w(R.charCodeAt(H+3))&&!w(R.charCodeAt(H+4))&&(A.region=U.slice(H+1,H+4),H+=4));45===R.charCodeAt(H);){for(M=k=H+1;t(R.charCodeAt(M));){if(M-k>7)return P(M,1,"Too long variant, expected at most 8 characters");M++}if(!(M-k>4||M-k>3&&w(R.charCodeAt(k))))break;A.variants.push(U.slice(k,M)),H=M}for(;45===R.charCodeAt(H)&&120!==R.charCodeAt(H+1)&&t(R.charCodeAt(H+1))&&45===R.charCodeAt(H+2)&&t(R.charCodeAt(H+3));){for(M=H+2,O=0;45===R.charCodeAt(M)&&t(R.charCodeAt(M+1))&&t(R.charCodeAt(M+2));)for(M=(k=M+1)+2,O++;t(R.charCodeAt(M));){if(M-k>7)return P(M,2,"Too long extension, expected at most 8 characters");M++}if(!O)return P(M,4,"Empty extension, extensions must have at least 2 characters of content");A.extensions.push({singleton:U.charAt(H+1),extensions:U.slice(H+3,M).split("-")}),H=M}}else H=0;if(0===H&&120===R.charCodeAt(H)||45===R.charCodeAt(H)&&120===R.charCodeAt(H+1))for(M=H=H?H+2:1;45===R.charCodeAt(M)&&t(R.charCodeAt(M+1));){for(M=k=H+1;t(R.charCodeAt(M));){if(M-k>7)return P(M,5,"Too long private-use area, expected at most 8 characters");M++}A.privateuse.push(U.slice(H+1,M)),H=M}return H!==U.length?P(H,6,"Found superfluous content after tag"):A;function P(T,N,C){return v.warning&&v.warning(C,N,T),v.forgiving?A:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var L={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(tt){tt.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=function t(y){var F,L,D,w=y||{},E=[];if(w.irregular||w.regular)return w.irregular||w.regular;if(w.language)for(E=E.concat(w.language,w.extendedLanguageSubtags||[],w.script||[],w.region||[],w.variants||[]),F=w.extensions||[],L=-1;++L<F.length;)(D=F[L]).singleton&&D.extensions&&D.extensions.length&&(E=E.concat(D.singleton,D.extensions));return w.privateuse&&w.privateuse.length&&(E=E.concat("x",w.privateuse)),E.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(tt,S,c){"use strict";(function(t){var y=c(
/*! base64-js */
"./node_modules/base64-js/index.js"),w=c(
/*! ieee754 */
"./node_modules/ieee754/index.js"),E=c(
/*! isarray */
"./node_modules/isarray/index.js");function L(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(ie,ee){if(L()<ee)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(ie=new Uint8Array(ee)).__proto__=p.prototype:(null===ie&&(ie=new p(ee)),ie.length=ee),ie}function p(ie,ee,X){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(ie,ee,X);if("number"==typeof ie){if("string"==typeof ee)throw new Error("If encoding is specified then the first argument must be a string");return A(this,ie)}return f(this,ie,ee,X)}function f(ie,ee,X,ue){if("number"==typeof ee)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&ee instanceof ArrayBuffer?function H(ie,ee,X,ue){if(X<0||ee.byteLength<X)throw new RangeError("'offset' is out of bounds");if(ee.byteLength<X+(ue||0))throw new RangeError("'length' is out of bounds");return ee=void 0===X&&void 0===ue?new Uint8Array(ee):void 0===ue?new Uint8Array(ee,X):new Uint8Array(ee,X,ue),p.TYPED_ARRAY_SUPPORT?(ie=ee).__proto__=p.prototype:ie=R(ie,ee),ie}(ie,ee,X,ue):"string"==typeof ee?function U(ie,ee,X){if(("string"!=typeof X||""===X)&&(X="utf8"),!p.isEncoding(X))throw new TypeError('"encoding" must be a valid string encoding');var ue=0|P(ee,X),ve=(ie=D(ie,ue)).write(ee,X);return ve!==ue&&(ie=ie.slice(0,ve)),ie}(ie,ee,X):function k(ie,ee){if(p.isBuffer(ee)){var X=0|O(ee.length);return 0===(ie=D(ie,X)).length||ee.copy(ie,0,0,X),ie}if(ee){if(typeof ArrayBuffer<"u"&&ee.buffer instanceof ArrayBuffer||"length"in ee)return"number"!=typeof ee.length||function te(ie){return ie!=ie}(ee.length)?D(ie,0):R(ie,ee);if("Buffer"===ee.type&&E(ee.data))return R(ie,ee.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ie,ee)}function g(ie){if("number"!=typeof ie)throw new TypeError('"size" argument must be a number');if(ie<0)throw new RangeError('"size" argument must not be negative')}function A(ie,ee){if(g(ee),ie=D(ie,ee<0?0:0|O(ee)),!p.TYPED_ARRAY_SUPPORT)for(var X=0;X<ee;++X)ie[X]=0;return ie}function R(ie,ee){var X=ee.length<0?0:0|O(ee.length);ie=D(ie,X);for(var ue=0;ue<X;ue+=1)ie[ue]=255&ee[ue];return ie}function O(ie){if(ie>=L())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L().toString(16)+" bytes");return 0|ie}function P(ie,ee){if(p.isBuffer(ie))return ie.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(ie)||ie instanceof ArrayBuffer))return ie.byteLength;"string"!=typeof ie&&(ie=""+ie);var X=ie.length;if(0===X)return 0;for(var ue=!1;;)switch(ee){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":case void 0:return se(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return Q(ie).length;default:if(ue)return se(ie).length;ee=(""+ee).toLowerCase(),ue=!0}}function T(ie,ee,X){var ue=!1;if((void 0===ee||ee<0)&&(ee=0),ee>this.length||((void 0===X||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(ee>>>=0))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return fe(this,ee,X);case"utf8":case"utf-8":return ge(this,ee,X);case"ascii":return Ce(this,ee,X);case"latin1":case"binary":return Le(this,ee,X);case"base64":return K(this,ee,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,ee,X);default:if(ue)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),ue=!0}}function N(ie,ee,X){var ue=ie[ee];ie[ee]=ie[X],ie[X]=ue}function C(ie,ee,X,ue,ve){if(0===ie.length)return-1;if("string"==typeof X?(ue=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,isNaN(X)&&(X=ve?0:ie.length-1),X<0&&(X=ie.length+X),X>=ie.length){if(ve)return-1;X=ie.length-1}else if(X<0){if(!ve)return-1;X=0}if("string"==typeof ee&&(ee=p.from(ee,ue)),p.isBuffer(ee))return 0===ee.length?-1:B(ie,ee,X,ue,ve);if("number"==typeof ee)return ee&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ve?Uint8Array.prototype.indexOf.call(ie,ee,X):Uint8Array.prototype.lastIndexOf.call(ie,ee,X):B(ie,[ee],X,ue,ve);throw new TypeError("val must be string, number or Buffer")}function B(ie,ee,X,ue,ve){var at,de=1,Ae=ie.length,We=ee.length;if(void 0!==ue&&("ucs2"===(ue=String(ue).toLowerCase())||"ucs-2"===ue||"utf16le"===ue||"utf-16le"===ue)){if(ie.length<2||ee.length<2)return-1;de=2,Ae/=2,We/=2,X/=2}function He(Ht,It){return 1===de?Ht[It]:Ht.readUInt16BE(It*de)}if(ve){var ct=-1;for(at=X;at<Ae;at++)if(He(ie,at)===He(ee,-1===ct?0:at-ct)){if(-1===ct&&(ct=at),at-ct+1===We)return ct*de}else-1!==ct&&(at-=at-ct),ct=-1}else for(X+We>Ae&&(X=Ae-We),at=X;at>=0;at--){for(var it=!0,vt=0;vt<We;vt++)if(He(ie,at+vt)!==He(ee,vt)){it=!1;break}if(it)return at}return-1}function W(ie,ee,X,ue){X=Number(X)||0;var ve=ie.length-X;ue?(ue=Number(ue))>ve&&(ue=ve):ue=ve;var de=ee.length;if(de%2!=0)throw new TypeError("Invalid hex string");ue>de/2&&(ue=de/2);for(var Ae=0;Ae<ue;++Ae){var We=parseInt(ee.substr(2*Ae,2),16);if(isNaN(We))return Ae;ie[X+Ae]=We}return Ae}function q(ie,ee,X,ue){return Z(se(ee,ie.length-X),ie,X,ue)}function le(ie,ee,X,ue){return Z(function _e(ie){for(var ee=[],X=0;X<ie.length;++X)ee.push(255&ie.charCodeAt(X));return ee}(ee),ie,X,ue)}function Fe(ie,ee,X,ue){return le(ie,ee,X,ue)}function $(ie,ee,X,ue){return Z(Q(ee),ie,X,ue)}function ae(ie,ee,X,ue){return Z(function J(ie,ee){for(var X,ue,de=[],Ae=0;Ae<ie.length&&!((ee-=2)<0);++Ae)ue=(X=ie.charCodeAt(Ae))>>8,de.push(X%256),de.push(ue);return de}(ee,ie.length-X),ie,X,ue)}function K(ie,ee,X){return y.fromByteArray(0===ee&&X===ie.length?ie:ie.slice(ee,X))}function ge(ie,ee,X){X=Math.min(ie.length,X);for(var ue=[],ve=ee;ve<X;){var He,at,ct,it,de=ie[ve],Ae=null,We=de>239?4:de>223?3:de>191?2:1;if(ve+We<=X)switch(We){case 1:de<128&&(Ae=de);break;case 2:128==(192&(He=ie[ve+1]))&&(it=(31&de)<<6|63&He)>127&&(Ae=it);break;case 3:at=ie[ve+2],128==(192&(He=ie[ve+1]))&&128==(192&at)&&(it=(15&de)<<12|(63&He)<<6|63&at)>2047&&(it<55296||it>57343)&&(Ae=it);break;case 4:at=ie[ve+2],ct=ie[ve+3],128==(192&(He=ie[ve+1]))&&128==(192&at)&&128==(192&ct)&&(it=(15&de)<<18|(63&He)<<12|(63&at)<<6|63&ct)>65535&&it<1114112&&(Ae=it)}null===Ae?(Ae=65533,We=1):Ae>65535&&(ue.push((Ae-=65536)>>>10&1023|55296),Ae=56320|1023&Ae),ue.push(Ae),ve+=We}return function he(ie){var ee=ie.length;if(ee<=oe)return String.fromCharCode.apply(String,ie);for(var X="",ue=0;ue<ee;)X+=String.fromCharCode.apply(String,ie.slice(ue,ue+=oe));return X}(ue)}S.Buffer=p,S.SlowBuffer=function M(ie){return+ie!=ie&&(ie=0),p.alloc(+ie)},S.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function F(){try{var ie=new Uint8Array(1);return ie.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===ie.foo()&&"function"==typeof ie.subarray&&0===ie.subarray(1,1).byteLength}catch{return!1}}(),S.kMaxLength=L(),p.poolSize=8192,p._augment=function(ie){return ie.__proto__=p.prototype,ie},p.from=function(ie,ee,X){return f(null,ie,ee,X)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(ie,ee,X){return function v(ie,ee,X,ue){return g(ee),ee<=0?D(ie,ee):void 0!==X?"string"==typeof ue?D(ie,ee).fill(X,ue):D(ie,ee).fill(X):D(ie,ee)}(null,ie,ee,X)},p.allocUnsafe=function(ie){return A(null,ie)},p.allocUnsafeSlow=function(ie){return A(null,ie)},p.isBuffer=function(ee){return!(null==ee||!ee._isBuffer)},p.compare=function(ee,X){if(!p.isBuffer(ee)||!p.isBuffer(X))throw new TypeError("Arguments must be Buffers");if(ee===X)return 0;for(var ue=ee.length,ve=X.length,de=0,Ae=Math.min(ue,ve);de<Ae;++de)if(ee[de]!==X[de]){ue=ee[de],ve=X[de];break}return ue<ve?-1:ve<ue?1:0},p.isEncoding=function(ee){switch(String(ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(ee,X){if(!E(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ee.length)return p.alloc(0);var ue;if(void 0===X)for(X=0,ue=0;ue<ee.length;++ue)X+=ee[ue].length;var ve=p.allocUnsafe(X),de=0;for(ue=0;ue<ee.length;++ue){var Ae=ee[ue];if(!p.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ve,de),de+=Ae.length}return ve},p.byteLength=P,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var ee=this.length;if(ee%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<ee;X+=2)N(this,X,X+1);return this},p.prototype.swap32=function(){var ee=this.length;if(ee%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<ee;X+=4)N(this,X,X+3),N(this,X+1,X+2);return this},p.prototype.swap64=function(){var ee=this.length;if(ee%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<ee;X+=8)N(this,X,X+7),N(this,X+1,X+6),N(this,X+2,X+5),N(this,X+3,X+4);return this},p.prototype.toString=function(){var ee=0|this.length;return 0===ee?"":0===arguments.length?ge(this,0,ee):T.apply(this,arguments)},p.prototype.equals=function(ee){if(!p.isBuffer(ee))throw new TypeError("Argument must be a Buffer");return this===ee||0===p.compare(this,ee)},p.prototype.inspect=function(){var ee="",X=S.INSPECT_MAX_BYTES;return this.length>0&&(ee=this.toString("hex",0,X).match(/.{2}/g).join(" "),this.length>X&&(ee+=" ... ")),"<Buffer "+ee+">"},p.prototype.compare=function(ee,X,ue,ve,de){if(!p.isBuffer(ee))throw new TypeError("Argument must be a Buffer");if(void 0===X&&(X=0),void 0===ue&&(ue=ee?ee.length:0),void 0===ve&&(ve=0),void 0===de&&(de=this.length),X<0||ue>ee.length||ve<0||de>this.length)throw new RangeError("out of range index");if(ve>=de&&X>=ue)return 0;if(ve>=de)return-1;if(X>=ue)return 1;if(this===ee)return 0;for(var Ae=(de>>>=0)-(ve>>>=0),We=(ue>>>=0)-(X>>>=0),He=Math.min(Ae,We),at=this.slice(ve,de),ct=ee.slice(X,ue),it=0;it<He;++it)if(at[it]!==ct[it]){Ae=at[it],We=ct[it];break}return Ae<We?-1:We<Ae?1:0},p.prototype.includes=function(ee,X,ue){return-1!==this.indexOf(ee,X,ue)},p.prototype.indexOf=function(ee,X,ue){return C(this,ee,X,ue,!0)},p.prototype.lastIndexOf=function(ee,X,ue){return C(this,ee,X,ue,!1)},p.prototype.write=function(ee,X,ue,ve){if(void 0===X)ve="utf8",ue=this.length,X=0;else if(void 0===ue&&"string"==typeof X)ve=X,ue=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X|=0,isFinite(ue)?(ue|=0,void 0===ve&&(ve="utf8")):(ve=ue,ue=void 0)}var de=this.length-X;if((void 0===ue||ue>de)&&(ue=de),ee.length>0&&(ue<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");for(var Ae=!1;;)switch(ve){case"hex":return W(this,ee,X,ue);case"utf8":case"utf-8":return q(this,ee,X,ue);case"ascii":return le(this,ee,X,ue);case"latin1":case"binary":return Fe(this,ee,X,ue);case"base64":return $(this,ee,X,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,ee,X,ue);default:if(Ae)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),Ae=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var oe=4096;function Ce(ie,ee,X){var ue="";X=Math.min(ie.length,X);for(var ve=ee;ve<X;++ve)ue+=String.fromCharCode(127&ie[ve]);return ue}function Le(ie,ee,X){var ue="";X=Math.min(ie.length,X);for(var ve=ee;ve<X;++ve)ue+=String.fromCharCode(ie[ve]);return ue}function fe(ie,ee,X){var ue=ie.length;(!ee||ee<0)&&(ee=0),(!X||X<0||X>ue)&&(X=ue);for(var ve="",de=ee;de<X;++de)ve+=Y(ie[de]);return ve}function Re(ie,ee,X){for(var ue=ie.slice(ee,X),ve="",de=0;de<ue.length;de+=2)ve+=String.fromCharCode(ue[de]+256*ue[de+1]);return ve}function xe(ie,ee,X){if(ie%1!=0||ie<0)throw new RangeError("offset is not uint");if(ie+ee>X)throw new RangeError("Trying to access beyond buffer length")}function pe(ie,ee,X,ue,ve,de){if(!p.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee>ve||ee<de)throw new RangeError('"value" argument is out of bounds');if(X+ue>ie.length)throw new RangeError("Index out of range")}function Ue(ie,ee,X,ue){ee<0&&(ee=65535+ee+1);for(var ve=0,de=Math.min(ie.length-X,2);ve<de;++ve)ie[X+ve]=(ee&255<<8*(ue?ve:1-ve))>>>8*(ue?ve:1-ve)}function ke(ie,ee,X,ue){ee<0&&(ee=4294967295+ee+1);for(var ve=0,de=Math.min(ie.length-X,4);ve<de;++ve)ie[X+ve]=ee>>>8*(ue?ve:3-ve)&255}function we(ie,ee,X,ue,ve,de){if(X+ue>ie.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function Ve(ie,ee,X,ue,ve){return ve||we(ie,0,X,4),w.write(ie,ee,X,ue,23,4),X+4}function st(ie,ee,X,ue,ve){return ve||we(ie,0,X,8),w.write(ie,ee,X,ue,52,8),X+8}p.prototype.slice=function(ee,X){var ve,ue=this.length;if((ee=~~ee)<0?(ee+=ue)<0&&(ee=0):ee>ue&&(ee=ue),(X=void 0===X?ue:~~X)<0?(X+=ue)<0&&(X=0):X>ue&&(X=ue),X<ee&&(X=ee),p.TYPED_ARRAY_SUPPORT)(ve=this.subarray(ee,X)).__proto__=p.prototype;else{var de=X-ee;ve=new p(de,void 0);for(var Ae=0;Ae<de;++Ae)ve[Ae]=this[Ae+ee]}return ve},p.prototype.readUIntLE=function(ee,X,ue){ee|=0,X|=0,ue||xe(ee,X,this.length);for(var ve=this[ee],de=1,Ae=0;++Ae<X&&(de*=256);)ve+=this[ee+Ae]*de;return ve},p.prototype.readUIntBE=function(ee,X,ue){ee|=0,X|=0,ue||xe(ee,X,this.length);for(var ve=this[ee+--X],de=1;X>0&&(de*=256);)ve+=this[ee+--X]*de;return ve},p.prototype.readUInt8=function(ee,X){return X||xe(ee,1,this.length),this[ee]},p.prototype.readUInt16LE=function(ee,X){return X||xe(ee,2,this.length),this[ee]|this[ee+1]<<8},p.prototype.readUInt16BE=function(ee,X){return X||xe(ee,2,this.length),this[ee]<<8|this[ee+1]},p.prototype.readUInt32LE=function(ee,X){return X||xe(ee,4,this.length),(this[ee]|this[ee+1]<<8|this[ee+2]<<16)+16777216*this[ee+3]},p.prototype.readUInt32BE=function(ee,X){return X||xe(ee,4,this.length),16777216*this[ee]+(this[ee+1]<<16|this[ee+2]<<8|this[ee+3])},p.prototype.readIntLE=function(ee,X,ue){ee|=0,X|=0,ue||xe(ee,X,this.length);for(var ve=this[ee],de=1,Ae=0;++Ae<X&&(de*=256);)ve+=this[ee+Ae]*de;return ve>=(de*=128)&&(ve-=Math.pow(2,8*X)),ve},p.prototype.readIntBE=function(ee,X,ue){ee|=0,X|=0,ue||xe(ee,X,this.length);for(var ve=X,de=1,Ae=this[ee+--ve];ve>0&&(de*=256);)Ae+=this[ee+--ve]*de;return Ae>=(de*=128)&&(Ae-=Math.pow(2,8*X)),Ae},p.prototype.readInt8=function(ee,X){return X||xe(ee,1,this.length),128&this[ee]?-1*(255-this[ee]+1):this[ee]},p.prototype.readInt16LE=function(ee,X){X||xe(ee,2,this.length);var ue=this[ee]|this[ee+1]<<8;return 32768&ue?4294901760|ue:ue},p.prototype.readInt16BE=function(ee,X){X||xe(ee,2,this.length);var ue=this[ee+1]|this[ee]<<8;return 32768&ue?4294901760|ue:ue},p.prototype.readInt32LE=function(ee,X){return X||xe(ee,4,this.length),this[ee]|this[ee+1]<<8|this[ee+2]<<16|this[ee+3]<<24},p.prototype.readInt32BE=function(ee,X){return X||xe(ee,4,this.length),this[ee]<<24|this[ee+1]<<16|this[ee+2]<<8|this[ee+3]},p.prototype.readFloatLE=function(ee,X){return X||xe(ee,4,this.length),w.read(this,ee,!0,23,4)},p.prototype.readFloatBE=function(ee,X){return X||xe(ee,4,this.length),w.read(this,ee,!1,23,4)},p.prototype.readDoubleLE=function(ee,X){return X||xe(ee,8,this.length),w.read(this,ee,!0,52,8)},p.prototype.readDoubleBE=function(ee,X){return X||xe(ee,8,this.length),w.read(this,ee,!1,52,8)},p.prototype.writeUIntLE=function(ee,X,ue,ve){ee=+ee,X|=0,ue|=0,ve||pe(this,ee,X,ue,Math.pow(2,8*ue)-1,0);var Ae=1,We=0;for(this[X]=255&ee;++We<ue&&(Ae*=256);)this[X+We]=ee/Ae&255;return X+ue},p.prototype.writeUIntBE=function(ee,X,ue,ve){ee=+ee,X|=0,ue|=0,ve||pe(this,ee,X,ue,Math.pow(2,8*ue)-1,0);var Ae=ue-1,We=1;for(this[X+Ae]=255&ee;--Ae>=0&&(We*=256);)this[X+Ae]=ee/We&255;return X+ue},p.prototype.writeUInt8=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,1,255,0),p.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),this[X]=255&ee,X+1},p.prototype.writeUInt16LE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[X]=255&ee,this[X+1]=ee>>>8):Ue(this,ee,X,!0),X+2},p.prototype.writeUInt16BE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>8,this[X+1]=255&ee):Ue(this,ee,X,!1),X+2},p.prototype.writeUInt32LE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[X+3]=ee>>>24,this[X+2]=ee>>>16,this[X+1]=ee>>>8,this[X]=255&ee):ke(this,ee,X,!0),X+4},p.prototype.writeUInt32BE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>24,this[X+1]=ee>>>16,this[X+2]=ee>>>8,this[X+3]=255&ee):ke(this,ee,X,!1),X+4},p.prototype.writeIntLE=function(ee,X,ue,ve){if(ee=+ee,X|=0,!ve){var de=Math.pow(2,8*ue-1);pe(this,ee,X,ue,de-1,-de)}var Ae=0,We=1,He=0;for(this[X]=255&ee;++Ae<ue&&(We*=256);)ee<0&&0===He&&0!==this[X+Ae-1]&&(He=1),this[X+Ae]=(ee/We>>0)-He&255;return X+ue},p.prototype.writeIntBE=function(ee,X,ue,ve){if(ee=+ee,X|=0,!ve){var de=Math.pow(2,8*ue-1);pe(this,ee,X,ue,de-1,-de)}var Ae=ue-1,We=1,He=0;for(this[X+Ae]=255&ee;--Ae>=0&&(We*=256);)ee<0&&0===He&&0!==this[X+Ae+1]&&(He=1),this[X+Ae]=(ee/We>>0)-He&255;return X+ue},p.prototype.writeInt8=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,1,127,-128),p.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),ee<0&&(ee=255+ee+1),this[X]=255&ee,X+1},p.prototype.writeInt16LE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[X]=255&ee,this[X+1]=ee>>>8):Ue(this,ee,X,!0),X+2},p.prototype.writeInt16BE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>8,this[X+1]=255&ee):Ue(this,ee,X,!1),X+2},p.prototype.writeInt32LE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[X]=255&ee,this[X+1]=ee>>>8,this[X+2]=ee>>>16,this[X+3]=ee>>>24):ke(this,ee,X,!0),X+4},p.prototype.writeInt32BE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,4,2147483647,-2147483648),ee<0&&(ee=4294967295+ee+1),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>24,this[X+1]=ee>>>16,this[X+2]=ee>>>8,this[X+3]=255&ee):ke(this,ee,X,!1),X+4},p.prototype.writeFloatLE=function(ee,X,ue){return Ve(this,ee,X,!0,ue)},p.prototype.writeFloatBE=function(ee,X,ue){return Ve(this,ee,X,!1,ue)},p.prototype.writeDoubleLE=function(ee,X,ue){return st(this,ee,X,!0,ue)},p.prototype.writeDoubleBE=function(ee,X,ue){return st(this,ee,X,!1,ue)},p.prototype.copy=function(ee,X,ue,ve){if(ue||(ue=0),!ve&&0!==ve&&(ve=this.length),X>=ee.length&&(X=ee.length),X||(X=0),ve>0&&ve<ue&&(ve=ue),ve===ue||0===ee.length||0===this.length)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("sourceStart out of bounds");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),ee.length-X<ve-ue&&(ve=ee.length-X+ue);var Ae,de=ve-ue;if(this===ee&&ue<X&&X<ve)for(Ae=de-1;Ae>=0;--Ae)ee[Ae+X]=this[Ae+ue];else if(de<1e3||!p.TYPED_ARRAY_SUPPORT)for(Ae=0;Ae<de;++Ae)ee[Ae+X]=this[Ae+ue];else Uint8Array.prototype.set.call(ee,this.subarray(ue,ue+de),X);return de},p.prototype.fill=function(ee,X,ue,ve){if("string"==typeof ee){if("string"==typeof X?(ve=X,X=0,ue=this.length):"string"==typeof ue&&(ve=ue,ue=this.length),1===ee.length){var de=ee.charCodeAt(0);de<256&&(ee=de)}if(void 0!==ve&&"string"!=typeof ve)throw new TypeError("encoding must be a string");if("string"==typeof ve&&!p.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve)}else"number"==typeof ee&&(ee&=255);if(X<0||this.length<X||this.length<ue)throw new RangeError("Out of range index");if(ue<=X)return this;var Ae;if(X>>>=0,ue=void 0===ue?this.length:ue>>>0,ee||(ee=0),"number"==typeof ee)for(Ae=X;Ae<ue;++Ae)this[Ae]=ee;else{var We=p.isBuffer(ee)?ee:se(new p(ee,ve).toString()),He=We.length;for(Ae=0;Ae<ue-X;++Ae)this[Ae+X]=We[Ae%He]}return this};var Je=/[^+\/0-9A-Za-z-_]/g;function Y(ie){return ie<16?"0"+ie.toString(16):ie.toString(16)}function se(ie,ee){ee=ee||1/0;for(var X,ue=ie.length,ve=null,de=[],Ae=0;Ae<ue;++Ae){if((X=ie.charCodeAt(Ae))>55295&&X<57344){if(!ve){if(X>56319){(ee-=3)>-1&&de.push(239,191,189);continue}if(Ae+1===ue){(ee-=3)>-1&&de.push(239,191,189);continue}ve=X;continue}if(X<56320){(ee-=3)>-1&&de.push(239,191,189),ve=X;continue}X=65536+(ve-55296<<10|X-56320)}else ve&&(ee-=3)>-1&&de.push(239,191,189);if(ve=null,X<128){if((ee-=1)<0)break;de.push(X)}else if(X<2048){if((ee-=2)<0)break;de.push(X>>6|192,63&X|128)}else if(X<65536){if((ee-=3)<0)break;de.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((ee-=4)<0)break;de.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return de}function Q(ie){return y.toByteArray(function Ne(ie){if((ie=function Te(ie){return ie.trim?ie.trim():ie.replace(/^\s+|\s+$/g,"")}(ie).replace(Je,"")).length<2)return"";for(;ie.length%4!=0;)ie+="=";return ie}(ie))}function Z(ie,ee,X,ue){for(var ve=0;ve<ue&&!(ve+X>=ee.length||ve>=ie.length);++ve)ee[ve+X]=ie[ve];return ve}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(tt,S,c){var t={parseBuffer:function(E){return new y(E).parse()},addBoxProcessor:function(E,F){"string"!=typeof E||"function"!=typeof F||(w.prototype._boxProcessors[E]=F)},createFile:function(){return new y},createBox:function(E,F,L){var D=w.create(E);return F&&F.append(D,L),D},createFullBox:function(E,F,L){var D=t.createBox(E,F,L);return D.version=0,D.flags=0,D},Utils:{}};t.Utils.dataViewToString=function(E,F){var L=F||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(L).decode(E);var D=[],p=0;if("utf-8"===L)for(;p<E.byteLength;){var f=E.getUint8(p++);f<128||(f<224?(f=(31&f)<<6,f|=63&E.getUint8(p++)):f<240?(f=(15&f)<<12,f|=(63&E.getUint8(p++))<<6,f|=63&E.getUint8(p++)):(f=(7&f)<<18,f|=(63&E.getUint8(p++))<<12,f|=(63&E.getUint8(p++))<<6,f|=63&E.getUint8(p++))),D.push(String.fromCharCode(f))}else for(;p<E.byteLength;)D.push(String.fromCharCode(E.getUint8(p++)));return D.join("")},t.Utils.utf8ToByteArray=function(E){var F,L;if(typeof TextEncoder<"u")F=(new TextEncoder).encode(E);else for(F=[],L=0;L<E.length;++L){var D=E.charCodeAt(L);D<128?F.push(D):D<2048?(F.push(192|D>>6),F.push(128|63&D)):D<65536?(F.push(224|D>>12),F.push(128|63&D>>6),F.push(128|63&D)):(F.push(240|D>>18),F.push(128|63&D>>12),F.push(128|63&D>>6),F.push(128|63&D))}return F},t.Utils.appendBox=function(E,F,L){if(F._offset=E._cursor.offset,F._root=E._root?E._root:E,F._raw=E._raw,F._parent=E,-1!==L){if(null==L)return void E.boxes.push(F);var p,D=-1;if("number"==typeof L)D=L;else{if("string"==typeof L)p=L;else{if("object"!=typeof L||!L.type)return void E.boxes.push(F);p=L.type}for(var f=0;f<E.boxes.length;f++)if(p===E.boxes[f].type){D=f+1;break}}E.boxes.splice(D,0,F)}},S.parseBuffer=t.parseBuffer,S.addBoxProcessor=t.addBoxProcessor,S.createFile=t.createFile,S.createBox=t.createBox,S.createFullBox=t.createFullBox,S.Utils=t.Utils,t.Cursor=function(E){this.offset=typeof E>"u"?0:E};var y=function(E){this._cursor=new t.Cursor,this.boxes=[],E&&(this._raw=new DataView(E))};y.prototype.fetch=function(E){var F=this.fetchAll(E,!0);return F.length?F[0]:null},y.prototype.fetchAll=function(E,F){var L=[];return y._sweep.call(this,E,L,F),L},y.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var E=w.parse(this);if(typeof E.type>"u")break;this.boxes.push(E)}return this},y._sweep=function(E,F,L){for(var D in this.type&&this.type==E&&F.push(this),this.boxes){if(F.length&&L)return;y._sweep.call(this.boxes[D],E,F,L)}},y.prototype.write=function(){var F,E=0;for(F=0;F<this.boxes.length;F++)E+=this.boxes[F].getLength(!1);var L=new Uint8Array(E);for(this._rawo=new DataView(L.buffer),this.bytes=L,this._cursor.offset=0,F=0;F<this.boxes.length;F++)this.boxes[F].write();return L.buffer},y.prototype.append=function(E,F){t.Utils.appendBox(this,E,F)};var w=function(){this._cursor=new t.Cursor};w.parse=function(E){var F=new w;return F._offset=E._cursor.offset,F._root=E._root?E._root:E,F._raw=E._raw,F._parent=E,F._parseBox(),E._cursor.offset=F._raw.byteOffset+F._raw.byteLength,F},w.create=function(E){var F=new w;return F.type=E,F.boxes=[],F},w.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],w.prototype._boxProcessors={},w.prototype._procField=function(E,F,L){this._parsing?this[E]=this._readField(F,L):this._writeField(F,L,this[E])},w.prototype._procFieldArray=function(E,F,L,D){var p;if(this._parsing)for(this[E]=[],p=0;p<F;p++)this[E][p]=this._readField(L,D);else for(p=0;p<this[E].length;p++)this._writeField(L,D,this[E][p])},w.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},w.prototype._procEntries=function(E,F,L){var D;if(this._parsing)for(this[E]=[],D=0;D<F;D++)this[E].push({}),L.call(this,this[E][D]);else for(D=0;D<F;D++)L.call(this,this[E][D])},w.prototype._procSubEntries=function(E,F,L,D){var p;if(this._parsing)for(E[F]=[],p=0;p<L;p++)E[F].push({}),D.call(this,E[F][p]);else for(p=0;p<L;p++)D.call(this,E[F][p])},w.prototype._procEntryField=function(E,F,L,D){this._parsing?E[F]=this._readField(L,D):this._writeField(L,D,E[F])},w.prototype._procSubBoxes=function(E,F){var L;if(this._parsing)for(this[E]=[],L=0;L<F;L++)this[E].push(w.parse(this));else for(L=0;L<F;L++)this._rawo?this[E][L].write():this.size+=this[E][L].getLength()},w.prototype._readField=function(E,F){switch(E){case"uint":return this._readUint(F);case"int":return this._readInt(F);case"template":return this._readTemplate(F);case"string":return-1===F?this._readTerminatedString():this._readString(F);case"data":return this._readData(F);case"utf8":return this._readUTF8String();default:return-1}},w.prototype._readInt=function(E){var F=null,L=this._cursor.offset-this._raw.byteOffset;switch(E){case 8:F=this._raw.getInt8(L);break;case 16:F=this._raw.getInt16(L);break;case 32:F=this._raw.getInt32(L);break;case 64:var D=this._raw.getInt32(L),p=this._raw.getInt32(L+4);F=D*Math.pow(2,32)+p}return this._cursor.offset+=E>>3,F},w.prototype._readUint=function(E){var D,p,F=null,L=this._cursor.offset-this._raw.byteOffset;switch(E){case 8:F=this._raw.getUint8(L);break;case 16:F=this._raw.getUint16(L);break;case 24:F=((D=this._raw.getUint16(L))<<8)+(p=this._raw.getUint8(L+2));break;case 32:F=this._raw.getUint32(L);break;case 64:D=this._raw.getUint32(L),p=this._raw.getUint32(L+4),F=D*Math.pow(2,32)+p}return this._cursor.offset+=E>>3,F},w.prototype._readString=function(E){for(var F="",L=0;L<E;L++){var D=this._readUint(8);F+=String.fromCharCode(D)}return F},w.prototype._readTemplate=function(E){return this._readUint(E/2)+this._readUint(E/2)/Math.pow(2,E/2)},w.prototype._readTerminatedString=function(){for(var E="";this._cursor.offset-this._offset<this._raw.byteLength;){var F=this._readUint(8);if(0===F)break;E+=String.fromCharCode(F)}return E},w.prototype._readData=function(E){var F=E>0?E:this._raw.byteLength-(this._cursor.offset-this._offset);if(F>0){var L=new Uint8Array(this._raw.buffer,this._cursor.offset,F);return this._cursor.offset+=F,L}return null},w.prototype._readUTF8String=function(){var E=this._raw.byteLength-(this._cursor.offset-this._offset),F=null;return E>0&&(F=new DataView(this._raw.buffer,this._cursor.offset,E),this._cursor.offset+=E),F&&t.Utils.dataViewToString(F)},w.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},w.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},w.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(w.parse(this))},w.prototype.append=function(E,F){t.Utils.appendBox(this,E,F)},w.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var E=0;E<this.boxes.length;E++)this.size+=this.boxes[E].getLength();return this._data&&this._writeData(this._data),this.size},w.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var E=0;E<this.boxes.length;E++)this.boxes[E].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},w.prototype._writeInt=function(E,F){if(this._rawo){var L=this._cursor.offset-this._rawo.byteOffset;switch(E){case 8:this._rawo.setInt8(L,F);break;case 16:this._rawo.setInt16(L,F);break;case 32:this._rawo.setInt32(L,F);break;case 64:var D=Math.floor(F/Math.pow(2,32)),p=F-D*Math.pow(2,32);this._rawo.setUint32(L,D),this._rawo.setUint32(L+4,p)}this._cursor.offset+=E>>3}else this.size+=E>>3},w.prototype._writeUint=function(E,F){if(this._rawo){var D,p,L=this._cursor.offset-this._rawo.byteOffset;switch(E){case 8:this._rawo.setUint8(L,F);break;case 16:this._rawo.setUint16(L,F);break;case 24:p=255&F,this._rawo.setUint16(L,D=(16776960&F)>>8),this._rawo.setUint8(L+2,p);break;case 32:this._rawo.setUint32(L,F);break;case 64:p=F-(D=Math.floor(F/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(L,D),this._rawo.setUint32(L+4,p)}this._cursor.offset+=E>>3}else this.size+=E>>3},w.prototype._writeString=function(E,F){for(var L=0;L<E;L++)this._writeUint(8,F.charCodeAt(L))},w.prototype._writeTerminatedString=function(E){if(0!==E.length){for(var F=0;F<E.length;F++)this._writeUint(8,E.charCodeAt(F));this._writeUint(8,0)}},w.prototype._writeTemplate=function(E,F){var L=Math.floor(F),D=(F-L)*Math.pow(2,E/2);this._writeUint(E/2,L),this._writeUint(E/2,D)},w.prototype._writeData=function(E){if(E)if(this._rawo){if(E instanceof Array){for(var L=this._cursor.offset-this._rawo.byteOffset,F=0;F<E.length;F++)this._rawo.setInt8(L+F,E[F]);this._cursor.offset+=E.length}E instanceof Uint8Array&&(this._root.bytes.set(E,this._cursor.offset),this._cursor.offset+=E.length)}else this.size+=E.length},w.prototype._writeUTF8String=function(E){var F=t.Utils.utf8ToByteArray(E);if(this._rawo)for(var L=new DataView(this._rawo.buffer,this._cursor.offset,F.length),D=0;D<F.length;D++)L.setUint8(D,F[D]);else this.size+=F.length},w.prototype._writeField=function(E,F,L){switch(E){case"uint":this._writeUint(F,L);break;case"int":this._writeInt(F,L);break;case"template":this._writeTemplate(F,L);break;case"string":-1==F?this._writeTerminatedString(L):this._writeString(F,L);break;case"data":this._writeData(L);break;case"utf8":this._writeUTF8String(L)}},w.prototype._boxProcessors.avc1=w.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},w.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},w.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(E){this._procEntryField(E,"segment_duration","uint",1===this.version?64:32),this._procEntryField(E,"media_time","int",1===this.version?64:32),this._procEntryField(E,"media_rate_integer","int",16),this._procEntryField(E,"media_rate_fraction","int",16)})},w.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},w.prototype._boxProcessors.free=w.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},w.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},w.prototype._boxProcessors.ftyp=w.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var E=-1;this._parsing&&(E=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",E,"string",4)},w.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},w.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},w.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},w.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},w.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},w.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},w.prototype._boxProcessors.mp4a=w.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},w.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},w.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},w.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},w.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},w.prototype._boxProcessors.sdtp=function(){this._procFullBox();var E=-1;this._parsing&&(E=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",E,"uint",8)},w.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(E){this._parsing||(E.reference=(1&E.reference_type)<<31,E.reference|=2147483647&E.referenced_size,E.sap=(1&E.starts_with_SAP)<<31,E.sap|=(3&E.SAP_type)<<28,E.sap|=268435455&E.SAP_delta_time),this._procEntryField(E,"reference","uint",32),this._procEntryField(E,"subsegment_duration","uint",32),this._procEntryField(E,"sap","uint",32),this._parsing&&(E.reference_type=E.reference>>31&1,E.referenced_size=2147483647&E.reference,E.starts_with_SAP=E.sap>>31&1,E.SAP_type=E.sap>>28&7,E.SAP_delta_time=268435455&E.sap)})},w.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},w.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(E){this._procEntryField(E,"ranges_count","uint",32),this._procSubEntries(E,"ranges",E.ranges_count,function(F){this._procEntryField(F,"level","uint",8),this._procEntryField(F,"range_size","uint",24)})})},w.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},w.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(E){this._procEntryField(E,"sample_delta","uint",32),this._procEntryField(E,"subsample_count","uint",16),this._procSubEntries(E,"subsamples",E.subsample_count,function(F){this._procEntryField(F,"subsample_size","uint",1===this.version?32:16),this._procEntryField(F,"subsample_priority","uint",8),this._procEntryField(F,"discardable","uint",8),this._procEntryField(F,"codec_specific_parameters","uint",32)})})},w.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},w.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},w.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},w.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(E){this._procEntryField(E,"time","uint",1===this.version?64:32),this._procEntryField(E,"moof_offset","uint",1===this.version?64:32),this._procEntryField(E,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(E,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(E,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},w.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},w.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},w.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(E){256&this.flags&&this._procEntryField(E,"sample_duration","uint",32),512&this.flags&&this._procEntryField(E,"sample_size","uint",32),1024&this.flags&&this._procEntryField(E,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(E,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},w.prototype._boxProcessors["url "]=w.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},w.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},w.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},w.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},w.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){function H(k){return Object.prototype.toString.call(k)}S.isArray=function t(k){return Array.isArray?Array.isArray(k):"[object Array]"===H(k)},S.isBoolean=function y(k){return"boolean"==typeof k},S.isNull=function w(k){return null===k},S.isNullOrUndefined=function E(k){return null==k},S.isNumber=function F(k){return"number"==typeof k},S.isString=function L(k){return"string"==typeof k},S.isSymbol=function D(k){return"symbol"==typeof k},S.isUndefined=function p(k){return void 0===k},S.isRegExp=function f(k){return"[object RegExp]"===H(k)},S.isObject=function g(k){return"object"==typeof k&&null!==k},S.isDate=function v(k){return"[object Date]"===H(k)},S.isError=function A(k){return"[object Error]"===H(k)||k instanceof Error},S.isFunction=function U(k){return"function"==typeof k},S.isPrimitive=function R(k){return null===k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||"symbol"==typeof k||typeof k>"u"},S.isBuffer=c(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=c(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(tt,S,c){(function(t,y){var E;E=function(){"use strict";function E(de){return"function"==typeof de}var L=Array.isArray?Array.isArray:function(de){return"[object Array]"===Object.prototype.toString.call(de)},D=0,p=void 0,f=void 0,g=function(Ae,We){B[D]=Ae,B[D+1]=We,2===(D+=2)&&(f?f(W):le())};var U=typeof window<"u"?window:void 0,R=U||{},H=R.MutationObserver||R.WebKitMutationObserver,k=typeof self>"u"&&typeof t<"u"&&"[object process]"==={}.toString.call(t),O=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function C(){var de=setTimeout;return function(){return de(W,1)}}var B=new Array(1e3);function W(){for(var de=0;de<D;de+=2)(0,B[de])(B[de+1]),B[de]=void 0,B[de+1]=void 0;D=0}var le=void 0;function Fe(de,Ae){var We=this,He=new this.constructor(K);void 0===He[ae]&&_e(He);var at=We._state;if(at){var ct=arguments[at-1];g(function(){return Ne(at,He,ct,We._result)})}else st(We,He,de,Ae);return He}function $(de){if(de&&"object"==typeof de&&de.constructor===this)return de;var We=new this(K);return Ue(We,de),We}le=k?function M(){return function(){return t.nextTick(W)}}():H?function T(){var de=0,Ae=new H(W),We=document.createTextNode("");return Ae.observe(We,{characterData:!0}),function(){We.data=de=++de%2}}():O?function N(){var de=new MessageChannel;return de.port1.onmessage=W,function(){return de.port2.postMessage(0)}}():void 0===U?function q(){try{var de=Function("return this")().require("vertx");return p=de.runOnLoop||de.runOnContext,function P(){return typeof p<"u"?function(){p(W)}:C()}()}catch{return C()}}():C();var ae=Math.random().toString(36).substring(2);function K(){}var ge=void 0,oe=1,he=2;function pe(de,Ae,We){Ae.constructor===de.constructor&&We===Fe&&Ae.constructor.resolve===$?function xe(de,Ae){Ae._state===oe?we(de,Ae._result):Ae._state===he?Ve(de,Ae._result):st(Ae,void 0,function(We){return Ue(de,We)},function(We){return Ve(de,We)})}(de,Ae):void 0===We?we(de,Ae):E(We)?function Re(de,Ae,We){g(function(He){var at=!1,ct=function fe(de,Ae,We,He){try{de.call(Ae,We,He)}catch(at){return at}}(We,Ae,function(it){at||(at=!0,Ae!==it?Ue(He,it):we(He,it))},function(it){at||(at=!0,Ve(He,it))});!at&&ct&&(at=!0,Ve(He,ct))},de)}(de,Ae,We):we(de,Ae)}function Ue(de,Ae){if(de===Ae)Ve(de,function Ce(){return new TypeError("You cannot resolve a promise with itself")}());else if(function w(de){var Ae=typeof de;return null!==de&&("object"===Ae||"function"===Ae)}(Ae)){var We=void 0;try{We=Ae.then}catch(He){return void Ve(de,He)}pe(de,Ae,We)}else we(de,Ae)}function ke(de){de._onerror&&de._onerror(de._result),Je(de)}function we(de,Ae){de._state===ge&&(de._result=Ae,de._state=oe,0!==de._subscribers.length&&g(Je,de))}function Ve(de,Ae){de._state===ge&&(de._state=he,de._result=Ae,g(ke,de))}function st(de,Ae,We,He){var at=de._subscribers,ct=at.length;de._onerror=null,at[ct]=Ae,at[ct+oe]=We,at[ct+he]=He,0===ct&&de._state&&g(Je,de)}function Je(de){var Ae=de._subscribers,We=de._state;if(0!==Ae.length){for(var He=void 0,at=void 0,ct=de._result,it=0;it<Ae.length;it+=3)at=Ae[it+We],(He=Ae[it])?Ne(We,He,at,ct):at(ct);de._subscribers.length=0}}function Ne(de,Ae,We,He){var at=E(We),ct=void 0,it=void 0,vt=!0;if(at){try{ct=We(He)}catch(Ht){vt=!1,it=Ht}if(Ae===ct)return void Ve(Ae,function Le(){return new TypeError("A promises callback cannot return that same promise.")}())}else ct=He;Ae._state!==ge||(at&&vt?Ue(Ae,ct):!1===vt?Ve(Ae,it):de===oe?we(Ae,ct):de===he&&Ve(Ae,ct))}var Y=0;function _e(de){de[ae]=Y++,de._state=void 0,de._result=void 0,de._subscribers=[]}var Q=function(){function de(Ae,We){this._instanceConstructor=Ae,this.promise=new Ae(K),this.promise[ae]||_e(this.promise),L(We)?(this.length=We.length,this._remaining=We.length,this._result=new Array(this.length),0===this.length?we(this.promise,this._result):(this.length=this.length||0,this._enumerate(We),0===this._remaining&&we(this.promise,this._result))):Ve(this.promise,function J(){return new Error("Array Methods must be provided an Array")}())}return de.prototype._enumerate=function(We){for(var He=0;this._state===ge&&He<We.length;He++)this._eachEntry(We[He],He)},de.prototype._eachEntry=function(We,He){var at=this._instanceConstructor,ct=at.resolve;if(ct===$){var it=void 0,vt=void 0,Ht=!1;try{it=We.then}catch(jt){Ht=!0,vt=jt}if(it===Fe&&We._state!==ge)this._settledAt(We._state,He,We._result);else if("function"!=typeof it)this._remaining--,this._result[He]=We;else if(at===ue){var It=new at(K);Ht?Ve(It,vt):pe(It,We,it),this._willSettleAt(It,He)}else this._willSettleAt(new at(function(jt){return jt(We)}),He)}else this._willSettleAt(ct(We),He)},de.prototype._settledAt=function(We,He,at){var ct=this.promise;ct._state===ge&&(this._remaining--,We===he?Ve(ct,at):this._result[He]=at),0===this._remaining&&we(ct,this._result)},de.prototype._willSettleAt=function(We,He){var at=this;st(We,void 0,function(ct){return at._settledAt(oe,He,ct)},function(ct){return at._settledAt(he,He,ct)})},de}();var ue=function(){function de(Ae){this[ae]=function se(){return Y++}(),this._result=this._state=void 0,this._subscribers=[],K!==Ae&&("function"!=typeof Ae&&function ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof de?function Te(de,Ae){try{Ae(function(He){Ue(de,He)},function(He){Ve(de,He)})}catch(We){Ve(de,We)}}(this,Ae):function X(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return de.prototype.catch=function(We){return this.then(null,We)},de.prototype.finally=function(We){var at=this.constructor;return E(We)?this.then(function(ct){return at.resolve(We()).then(function(){return ct})},function(ct){return at.resolve(We()).then(function(){throw ct})}):this.then(We,We)},de}();return ue.prototype.then=Fe,ue.all=function Z(de){return new Q(this,de).promise},ue.race=function te(de){var Ae=this;return L(de)?new Ae(function(We,He){for(var at=de.length,ct=0;ct<at;ct++)Ae.resolve(de[ct]).then(We,He)}):new Ae(function(We,He){return He(new TypeError("You must pass an array to race."))})},ue.resolve=$,ue.reject=function ie(de){var We=new this(K);return Ve(We,de),We},ue._setScheduler=function v(de){f=de},ue._setAsap=function A(de){g=de},ue._asap=g,ue.polyfill=function ve(){var de=void 0;if(typeof y<"u")de=y;else if(typeof self<"u")de=self;else try{de=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ae=de.Promise;if(Ae){var We=null;try{We=Object.prototype.toString.call(Ae.resolve())}catch{}if("[object Promise]"===We&&!Ae.cast)return}de.Promise=ue},ue.Promise=ue,ue},tt.exports=E()}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(tt,S,c){"use strict";var w,t="object"==typeof Reflect?Reflect:null,y=t&&"function"==typeof t.apply?t.apply:function(C,B,W){return Function.prototype.apply.call(C,B,W)};w=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.getOwnPropertyNames(C)};var F=Number.isNaN||function(C){return C!=C};function L(){L.init.call(this)}tt.exports=L,tt.exports.once=function M(N,C){return new Promise(function(B,W){function q(Fe){N.removeListener(C,le),W(Fe)}function le(){"function"==typeof N.removeListener&&N.removeListener("error",q),B([].slice.call(arguments))}T(N,C,le,{once:!0}),"error"!==C&&function P(N,C,B){"function"==typeof N.on&&T(N,"error",C,B)}(N,q,{once:!0})})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var D=10;function p(N){if("function"!=typeof N)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function f(N){return void 0===N._maxListeners?L.defaultMaxListeners:N._maxListeners}function g(N,C,B,W){var q,le,Fe;if(p(B),void 0===(le=N._events)?(le=N._events=Object.create(null),N._eventsCount=0):(void 0!==le.newListener&&(N.emit("newListener",C,B.listener?B.listener:B),le=N._events),Fe=le[C]),void 0===Fe)Fe=le[C]=B,++N._eventsCount;else if("function"==typeof Fe?Fe=le[C]=W?[B,Fe]:[Fe,B]:W?Fe.unshift(B):Fe.push(B),(q=f(N))>0&&Fe.length>q&&!Fe.warned){Fe.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+Fe.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=N,$.type=C,$.count=Fe.length,function E(N){console&&console.warn&&console.warn(N)}($)}return N}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(N,C,B){var W={fired:!1,wrapFn:void 0,target:N,type:C,listener:B},q=v.bind(W);return q.listener=B,W.wrapFn=q,q}function U(N,C,B){var W=N._events;if(void 0===W)return[];var q=W[C];return void 0===q?[]:"function"==typeof q?B?[q.listener||q]:[q]:B?function O(N){for(var C=new Array(N.length),B=0;B<C.length;++B)C[B]=N[B].listener||N[B];return C}(q):H(q,q.length)}function R(N){var C=this._events;if(void 0!==C){var B=C[N];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function H(N,C){for(var B=new Array(C),W=0;W<C;++W)B[W]=N[W];return B}function T(N,C,B,W){if("function"==typeof N.on)W.once?N.once(C,B):N.on(C,B);else{if("function"!=typeof N.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N);N.addEventListener(C,function q(le){W.once&&N.removeEventListener(C,q),B(le)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return D},set:function(N){if("number"!=typeof N||N<0||F(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");D=N}}),L.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(C){if("number"!=typeof C||C<0||F(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},L.prototype.getMaxListeners=function(){return f(this)},L.prototype.emit=function(C){for(var B=[],W=1;W<arguments.length;W++)B.push(arguments[W]);var q="error"===C,le=this._events;if(void 0!==le)q=q&&void 0===le.error;else if(!q)return!1;if(q){var Fe;if(B.length>0&&(Fe=B[0]),Fe instanceof Error)throw Fe;var $=new Error("Unhandled error."+(Fe?" ("+Fe.message+")":""));throw $.context=Fe,$}var ae=le[C];if(void 0===ae)return!1;if("function"==typeof ae)y(ae,this,B);else{var K=ae.length,ge=H(ae,K);for(W=0;W<K;++W)y(ge[W],this,B)}return!0},L.prototype.on=L.prototype.addListener=function(C,B){return g(this,C,B,!1)},L.prototype.prependListener=function(C,B){return g(this,C,B,!0)},L.prototype.once=function(C,B){return p(B),this.on(C,A(this,C,B)),this},L.prototype.prependOnceListener=function(C,B){return p(B),this.prependListener(C,A(this,C,B)),this},L.prototype.off=L.prototype.removeListener=function(C,B){var W,q,le,Fe,$;if(p(B),void 0===(q=this._events))return this;if(void 0===(W=q[C]))return this;if(W===B||W.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete q[C],q.removeListener&&this.emit("removeListener",C,W.listener||B));else if("function"!=typeof W){for(le=-1,Fe=W.length-1;Fe>=0;Fe--)if(W[Fe]===B||W[Fe].listener===B){$=W[Fe].listener,le=Fe;break}if(le<0)return this;0===le?W.shift():function k(N,C){for(;C+1<N.length;C++)N[C]=N[C+1];N.pop()}(W,le),1===W.length&&(q[C]=W[0]),void 0!==q.removeListener&&this.emit("removeListener",C,$||B)}return this},L.prototype.removeAllListeners=function(C){var B,W,q;if(void 0===(W=this._events))return this;if(void 0===W.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==W[C]&&(0==--this._eventsCount?this._events=Object.create(null):delete W[C]),this;if(0===arguments.length){var Fe,le=Object.keys(W);for(q=0;q<le.length;++q)"removeListener"!==(Fe=le[q])&&this.removeAllListeners(Fe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=W[C]))this.removeListener(C,B);else if(void 0!==B)for(q=B.length-1;q>=0;q--)this.removeListener(C,B[q]);return this},L.prototype.listeners=function(C){return U(this,C,!0)},L.prototype.rawListeners=function(C){return U(this,C,!1)},L.listenerCount=function(N,C){return"function"==typeof N.listenerCount?N.listenerCount(C):R.call(N,C)},L.prototype.listenerCount=R,L.prototype.eventNames=function(){return this._eventsCount>0?w(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=Array.isArray,y=Object.keys,w=Object.prototype.hasOwnProperty;tt.exports=function E(F,L){if(F===L)return!0;if(F&&L&&"object"==typeof F&&"object"==typeof L){var f,g,v,D=t(F),p=t(L);if(D&&p){if((g=F.length)!=L.length)return!1;for(f=g;0!=f--;)if(!E(F[f],L[f]))return!1;return!0}if(D!=p)return!1;var A=F instanceof Date,U=L instanceof Date;if(A!=U)return!1;if(A&&U)return F.getTime()==L.getTime();var R=F instanceof RegExp,H=L instanceof RegExp;if(R!=H)return!1;if(R&&H)return F.toString()==L.toString();var k=y(F);if((g=k.length)!==y(L).length)return!1;for(f=g;0!=f--;)if(!w.call(L,k[f]))return!1;for(f=g;0!=f--;)if(!E(F[v=k[f]],L[v]))return!1;return!0}return F!=F&&L!=L}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(tt,S){S.read=function(c,t,y,w,E){var F,L,D=8*E-w-1,p=(1<<D)-1,f=p>>1,g=-7,v=y?E-1:0,A=y?-1:1,U=c[t+v];for(v+=A,F=U&(1<<-g)-1,U>>=-g,g+=D;g>0;F=256*F+c[t+v],v+=A,g-=8);for(L=F&(1<<-g)-1,F>>=-g,g+=w;g>0;L=256*L+c[t+v],v+=A,g-=8);if(0===F)F=1-f;else{if(F===p)return L?NaN:1/0*(U?-1:1);L+=Math.pow(2,w),F-=f}return(U?-1:1)*L*Math.pow(2,F-w)},S.write=function(c,t,y,w,E,F){var L,D,p,f=8*F-E-1,g=(1<<f)-1,v=g>>1,A=23===E?Math.pow(2,-24)-Math.pow(2,-77):0,U=w?0:F-1,R=w?1:-1,H=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(D=isNaN(t)?1:0,L=g):(L=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-L))<1&&(L--,p*=2),(t+=L+v>=1?A/p:A*Math.pow(2,1-v))*p>=2&&(L++,p/=2),L+v>=g?(D=0,L=g):L+v>=1?(D=(t*p-1)*Math.pow(2,E),L+=v):(D=t*Math.pow(2,v-1)*Math.pow(2,E),L=0));E>=8;c[y+U]=255&D,U+=R,D/=256,E-=8);for(L=L<<E|D,f+=E;f>0;c[y+U]=255&L,U+=R,L/=256,f-=8);c[y+U-R]|=128*H}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(tt,S,c){!function(t,y,w,E,F){function L(J){if("contents"in J)for(var Q=("styleAttrs"in J?J.styleAttrs[E.byName.ruby.qname]:null),Z="span"===J.kind&&("container"===Q||"textContainer"===Q||"baseContainer"===Q),te=J.contents.length-1;te>=0;te--)!Z||"styleAttrs"in J.contents[te]&&E.byName.ruby.qname in J.contents[te].styleAttrs?L(J.contents[te]):delete J.contents[te]}function D(J,Q,Z,te){var ie=te&&"seq"===te.timeContainer,ee=0;te&&(ee=ie&&Z?Z.end:te.begin),Q.begin=Q.explicit_begin?Q.explicit_begin+ee:ee;var X=Q.begin,ue=null;if("sets"in Q)for(var ve=0;ve<Q.sets.length;ve++)D(J,Q.sets[ve],ue,Q),X="seq"===Q.timeContainer?Q.sets[ve].end:Math.max(X,Q.sets[ve].end),ue=Q.sets[ve];if("contents"in Q){if("contents"in Q)for(var de=0;de<Q.contents.length;de++)D(J,Q.contents[de],ue,Q),X="seq"===Q.timeContainer?Q.contents[de].end:Math.max(X,Q.contents[de].end),ue=Q.contents[de]}else X=ie?Q.begin:Number.POSITIVE_INFINITY;Q.end=null!==Q.explicit_end&&null!==Q.explicit_dur?Math.min(Q.begin+Q.explicit_dur,ee+Q.explicit_end):null===Q.explicit_end&&null!==Q.explicit_dur?Q.begin+Q.explicit_dur:null!==Q.explicit_end&&null===Q.explicit_dur?ee+Q.explicit_end:X,delete Q.explicit_begin,delete Q.explicit_dur,delete Q.explicit_end,J._registerEvent(Q)}function p(J){this.node=J}function f(){this.events=[],this.head=new g,this.body=null}function g(){this.styling=new v,this.layout=new R}function v(){this.styles={},this.initials={}}function A(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function U(){this.styleAttrs=null}function R(){this.regions={}}function H(J,Q){k.call(this,"image"),this.src=J,this.type=Q}function k(J){this.kind=J}function O(J){this.id=J}function M(J){this.regionID=J}function P(J){this.styleAttrs=J}function T(J){this.sets=J}function N(J){this.contents=J}function C(J,Q,Z){this.explicit_begin=J,this.explicit_end=Q,this.explicit_dur=Z}function B(){k.call(this,"body")}function W(){k.call(this,"div")}function q(){k.call(this,"p")}function le(){k.call(this,"span")}function Fe(){k.call(this,"span")}function $(){k.call(this,"br")}function ae(){}function K(){}function ge(J){return J&&"xml:id"in J.attributes&&J.attributes["xml:id"].value||null}function Ce(J){return J&&"style"in J.attributes?J.attributes.style.value.split(" "):[]}function Le(J,Q){var Z={};if(null!==J)for(var te in J.attributes){var ie=J.attributes[te].uri+" "+J.attributes[te].local,ee=E.byQName[ie];if(void 0!==ee){var X=ee.parse(J.attributes[te].value);null!==X?(Z[ie]=X,ee===E.byName.zIndex&&Te(Q,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Y(Q,"Cannot parse styling attribute "+ie+" --\x3e "+J.attributes[te].value)}}return Z}function fe(J,Q,Z){for(var te in J.attributes)if(J.attributes[te].uri===Q&&J.attributes[te].local===Z)return J.attributes[te].value;return null}function ke(J,Q,Z){var We,He=null;return null!==(We=/^(\d+(?:\.\d+)?)f$/.exec(Z))?null!==Q&&(He=parseFloat(We[1])/Q):null!==(We=/^(\d+(?:\.\d+)?)t$/.exec(Z))?null!==J&&(He=parseFloat(We[1])/J):null!==(We=/^(\d+(?:\.\d+)?)ms$/.exec(Z))?He=parseFloat(We[1])/1e3:null!==(We=/^(\d+(?:\.\d+)?)s$/.exec(Z))?He=parseFloat(We[1]):null!==(We=/^(\d+(?:\.\d+)?)h$/.exec(Z))?He=3600*parseFloat(We[1]):null!==(We=/^(\d+(?:\.\d+)?)m$/.exec(Z))?He=60*parseFloat(We[1]):null!==(We=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(Z))?He=3600*parseInt(We[1])+60*parseInt(We[2])+parseFloat(We[3]):null!==(We=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(Z))&&null!==Q&&(He=3600*parseInt(We[1])+60*parseInt(We[2])+parseInt(We[3])+(null===We[4]?0:parseInt(We[4])/Q)),He}function Ve(J,Q,Z){for(;Q.styleRefs.length>0;){var te=Q.styleRefs.pop();te in J.styles?(Ve(J,J.styles[te],Z),Je(J.styles[te].styleAttrs,Q.styleAttrs)):Y(Z,"Non-existant style id referenced")}}function st(J,Q,Z,te){for(var ie=Q.length-1;ie>=0;ie--){var ee=Q[ie];ee in J.styles?Je(J.styles[ee].styleAttrs,Z):Y(te,"Non-existant style id referenced")}}function Je(J,Q){for(var Z in J)J.hasOwnProperty(Z)&&(Z in Q||(Q[Z]=J[Z]))}function Te(J,Q){if(J&&J.warn&&J.warn(Q))throw Q}function Y(J,Q){if(J&&J.error&&J.error(Q))throw Q}function se(J,Q){throw J&&J.fatal&&J.fatal(Q),Q}function _e(J,Q){for(var ie,Z=0,te=J.length-1;Z<=te;){var ee=J[ie=Math.floor((Z+te)/2)];if(ee<Q)Z=ie+1;else{if(!(ee>Q))return{found:!0,index:ie};te=ie-1}}return{found:!1,index:Z}}t.fromXML=function(J,Q,Z){var te=y.parser(!0,{xmlns:!0}),ie=[],ee=[],X=[],ue=0,ve=null;te.onclosetag=function(at){if(ie[0]instanceof ae)null!==ve.head&&null!==ve.head.styling&&st(ve.head.styling,ie[0].styleRefs,ie[0].styleAttrs,Q),delete ie[0].styleRefs;else if(ie[0]instanceof v)for(var ct in ie[0].styles)ie[0].styles.hasOwnProperty(ct)&&Ve(ie[0],ie[0].styles[ct],Q);else if(ie[0]instanceof q||ie[0]instanceof le){if(ie[0].contents.length>1){var vt,it=[ie[0].contents[0]];for(vt=1;vt<ie[0].contents.length;vt++)ie[0].contents[vt]instanceof Fe&&it[it.length-1]instanceof Fe?it[it.length-1].text+=ie[0].contents[vt].text:it.push(ie[0].contents[vt]);ie[0].contents=it}ie[0]instanceof le&&1===ie[0].contents.length&&ie[0].contents[0]instanceof Fe&&(ie[0].text=ie[0].contents[0].text,delete ie[0].contents)}else ie[0]instanceof p&&(ie[0].node.uri===w.ns_tt&&"metadata"===ie[0].node.local?ue--:ue>0&&Z&&"onCloseTag"in Z&&Z.onCloseTag());X.shift(),ee.shift(),ie.shift()},te.ontext=function(at){if(void 0!==ie[0])if(ie[0]instanceof le||ie[0]instanceof q){if(ie[0]instanceof le){var ct=ie[0].styleAttrs[E.byName.ruby.qname];if("container"===ct||"textContainer"===ct||"baseContainer"===ct)return}var it=new Fe;it.initFromText(ve,ie[0],at,ee[0],X[0],Q),ie[0].contents.push(it)}else ie[0]instanceof p&&ue>0&&Z&&"onText"in Z&&Z.onText(at)},te.onopentag=function(at){var ct=at.attributes["xml:space"];X.unshift(ct?ct.value:0===X.length?"default":X[0]);var it=at.attributes["xml:lang"];if(ee.unshift(it?it.value:0===ee.length?"":ee[0]),at.uri===w.ns_tt)if("tt"===at.local)null!==ve&&se(Q,"Two <tt> elements at ("+this.line+","+this.column+")"),(ve=new f).initFromNode(at,ee[0],Q),ie.unshift(ve);else if("head"===at.local)ie[0]instanceof f||se(Q,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ie.unshift(ve.head);else if("styling"===at.local)ie[0]instanceof g||se(Q,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ie.unshift(ve.head.styling);else if("style"===at.local){var vt;ie[0]instanceof v?((vt=new A).initFromNode(at,Q),vt.id?ve.head.styling.styles[vt.id]=vt:Y(Q,"<style> element missing @id attribute"),ie.unshift(vt)):ie[0]instanceof ae?((vt=new A).initFromNode(at,Q),Je(vt.styleAttrs,ie[0].styleAttrs),ie.unshift(vt)):se(Q,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===at.local){var Ht;if(ie[0]instanceof v){for(var It in(Ht=new U).initFromNode(at,Q),Ht.styleAttrs)Ht.styleAttrs.hasOwnProperty(It)&&(ve.head.styling.initials[It]=Ht.styleAttrs[It]);ie.unshift(Ht)}else se(Q,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===at.local)ie[0]instanceof g||se(Q,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ie.unshift(ve.head.layout);else if("region"===at.local){ie[0]instanceof R||se(Q,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var jt=new ae;jt.initFromNode(ve,at,ee[0],Q),!jt.id||jt.id in ve.head.layout.regions?Y(Q,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):ve.head.layout.regions[jt.id]=jt,ie.unshift(jt)}else if("body"===at.local){ie[0]instanceof f||se(Q,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==ve.body&&se(Q,"Second <body> element at "+this.line+","+this.column+")");var en=new B;en.initFromNode(ve,at,ee[0],Q),ve.body=en,ie.unshift(en)}else if("div"===at.local){ie[0]instanceof W||ie[0]instanceof B||se(Q,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var dn=new W;dn.initFromNode(ve,ie[0],at,ee[0],Q);var un=dn.styleAttrs[E.byName.backgroundImage.qname];un&&(dn.contents.push(new H(un)),delete dn.styleAttrs[E.byName.backgroundImage.qname]),ie[0].contents.push(dn),ie.unshift(dn)}else if("image"===at.local){ie[0]instanceof W||se(Q,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Kt=new H;Kt.initFromNode(ve,ie[0],at,ee[0],Q),ie[0].contents.push(Kt),ie.unshift(Kt)}else if("p"===at.local){ie[0]instanceof W||se(Q,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Cn=new q;Cn.initFromNode(ve,ie[0],at,ee[0],Q),ie[0].contents.push(Cn),ie.unshift(Cn)}else if("span"===at.local){ie[0]instanceof le||ie[0]instanceof q||se(Q,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var nn=new le;nn.initFromNode(ve,ie[0],at,ee[0],X[0],Q),ie[0].contents.push(nn),ie.unshift(nn)}else if("br"===at.local){ie[0]instanceof le||ie[0]instanceof q||se(Q,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Dt=new $;Dt.initFromNode(ve,ie[0],at,ee[0],Q),ie[0].contents.push(Dt),ie.unshift(Dt)}else if("set"===at.local){ie[0]instanceof le||ie[0]instanceof q||ie[0]instanceof W||ie[0]instanceof B||ie[0]instanceof ae||ie[0]instanceof $||se(Q,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var ft=new K;ft.initFromNode(ve,ie[0],at,Q),ie[0].sets.push(ft),ie.unshift(ft)}else ie.unshift(new p(at));else ie.unshift(new p(at));if(ie[0]instanceof p)if(at.uri===w.ns_tt&&"metadata"===at.local)ue++;else if(ue>0&&Z&&"onOpenTag"in Z){var Qe=[];for(var De in at.attributes)Qe[at.attributes[De].uri+" "+at.attributes[De].local]={uri:at.attributes[De].uri,local:at.attributes[De].local,value:at.attributes[De].value};Z.onOpenTag(at.uri,at.local,Qe)}},te.write(J).close(),delete ve.head.styling.styles;var de=!1;for(var Ae in ve.head.layout.regions)if(ve.head.layout.regions.hasOwnProperty(Ae)){de=!0;break}if(!de){var We=ae.prototype.createDefaultRegion(ve.lang);ve.head.layout.regions[We.id]=We}for(var He in ve.head.layout.regions)ve.head.layout.regions.hasOwnProperty(He)&&D(ve,ve.head.layout.regions[He],null,null);return ve.body&&D(ve,ve.body,null,null),ve.body&&L(ve.body),ve},f.prototype.initFromNode=function(J,Q,Z){var te=function xe(J,Q){var Z=fe(J,w.ns_ttp,"cellResolution"),te=15,ie=32;if(null!==Z){var X=/(\d+) (\d+)/.exec(Z);null!==X?(ie=parseInt(X[1]),te=parseInt(X[2])):Te(Q,"Malformed cellResolution value (using initial value instead)")}return{w:ie,h:te}}(J,Z);this.cellLength={h:new F.ComputedLength(0,1/te.h),w:new F.ComputedLength(1/te.w,0)};var ie=function pe(J,Q){var ie,Z=fe(J,w.ns_ttp,"frameRate"),te=30;null!==Z&&(null!==(ie=/(\d+)/.exec(Z))?te=parseInt(ie[1]):Te(Q,"Malformed frame rate attribute (using initial value instead)"));var X=fe(J,w.ns_ttp,"frameRateMultiplier"),ue=1;null!==X&&(null!==(ie=/(\d+) (\d+)/.exec(X))?ue=parseInt(ie[1])/parseInt(ie[2]):Te(Q,"Malformed frame rate multiplier attribute (using initial value instead)"));var de=ue*te,Ae=1,We=fe(J,w.ns_ttp,"tickRate");return null===We?null!==Z&&(Ae=de):null!==(ie=/(\d+)/.exec(We))?Ae=parseInt(ie[1]):Te(Q,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:de,tickRate:Ae}}(J,Z);this.effectiveFrameRate=ie.effectiveFrameRate,this.tickRate=ie.tickRate,this.aspectRatio=function Re(J,Q){var Z=fe(J,w.ns_ittp,"aspectRatio");null===Z&&(Z=fe(J,w.ns_ttp,"displayAspectRatio"));var te=null;if(null!==Z){var ee=/(\d+)\s+(\d+)/.exec(Z);if(null!==ee){var X=parseInt(ee[1]),ue=parseInt(ee[2]);0!==X&&0!==ue?te=X/ue:Y(Q,"Illegal aspectRatio values (ignoring)")}else Y(Q,"Malformed aspectRatio attribute (ignoring)")}return te}(J,Z);var ee=fe(J,w.ns_ttp,"timeBase");null!==ee&&"media"!==ee&&se(Z,"Unsupported time base");var X=function Ue(J,Q){var Z=fe(J,w.ns_tts,"extent");if(null===Z)return null;var te=Z.split(" ");if(2!==te.length)return Te(Q,"Malformed extent (ignoring)"),null;var ie=F.parseLength(te[0]),ee=F.parseLength(te[1]);return ee&&ie?{h:ee,w:ie}:(Te(Q,"Malformed extent values (ignoring)"),null)}(J,Z);null===X?this.pxLength={h:null,w:null}:(("px"!==X.h.unit||"px"!==X.w.unit)&&se(Z,"Extent on TT must be in px or absent"),this.pxLength={h:new F.ComputedLength(0,1/X.h.value),w:new F.ComputedLength(1/X.w.value,0)}),this.dimensions={h:new F.ComputedLength(0,1),w:new F.ComputedLength(1,0)},this.lang=Q},f.prototype._registerEvent=function(J){if(!(J.end<=J.begin)){var Q=_e(this.events,J.begin);if(Q.found||this.events.splice(Q.index,0,J.begin),J.end!==Number.POSITIVE_INFINITY){var Z=_e(this.events,J.end);Z.found||this.events.splice(Z.index,0,J.end)}}},f.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},f.prototype.getMediaTimeEvents=function(){return this.events},A.prototype.initFromNode=function(J,Q){this.id=ge(J),this.styleAttrs=Le(J,Q),this.styleRefs=Ce(J)},U.prototype.initFromNode=function(J,Q){for(var Z in this.styleAttrs={},J.attributes)J.attributes[Z].uri!==w.ns_itts&&J.attributes[Z].uri!==w.ns_ebutts&&J.attributes[Z].uri!==w.ns_tts||(this.styleAttrs[J.attributes[Z].uri+" "+J.attributes[Z].local]=J.attributes[Z].value)},H.prototype.initFromNode=function(J,Q,Z,te,ie){this.src="src"in Z.attributes?Z.attributes.src.value:null,this.src||Y(ie,"Invalid image@src attribute"),this.type="type"in Z.attributes?Z.attributes.type.value:null,this.type||Y(ie,"Invalid image@type attribute"),P.prototype.initFromNode.call(this,J,Q,Z,ie),C.prototype.initFromNode.call(this,J,Q,Z,ie),T.prototype.initFromNode.call(this,J,Q,Z,ie),M.prototype.initFromNode.call(this,J,Q,Z,ie),this.lang=te},O.prototype.initFromNode=function(J,Q,Z,te){this.id=ge(Z)},M.prototype.initFromNode=function(J,Q,Z,te){this.regionID=function oe(J){return J&&"region"in J.attributes?J.attributes.region.value:""}(Z)},P.prototype.initFromNode=function(J,Q,Z,te){this.styleAttrs=Le(Z,te),null!==J.head&&null!==J.head.styling&&st(J.head.styling,Ce(Z),this.styleAttrs,te)},T.prototype.initFromNode=function(J,Q,Z,te){this.sets=[]},N.prototype.initFromNode=function(J,Q,Z,te){this.contents=[]},C.prototype.initFromNode=function(J,Q,Z,te){var ie=function we(J,Q,Z,te){var ie=null;Z&&"begin"in Z.attributes&&null===(ie=ke(J.tickRate,J.effectiveFrameRate,Z.attributes.begin.value))&&Te(te,"Malformed begin value "+Z.attributes.begin.value+" (using 0)");var ee=null;Z&&"dur"in Z.attributes&&null===(ee=ke(J.tickRate,J.effectiveFrameRate,Z.attributes.dur.value))&&Te(te,"Malformed dur value "+Z.attributes.dur.value+" (ignoring)");var X=null;return Z&&"end"in Z.attributes&&null===(X=ke(J.tickRate,J.effectiveFrameRate,Z.attributes.end.value))&&Te(te,"Malformed end value (ignoring)"),{explicit_begin:ie,explicit_end:X,explicit_dur:ee}}(J,0,Z,te);this.explicit_begin=ie.explicit_begin,this.explicit_end=ie.explicit_end,this.explicit_dur=ie.explicit_dur,this.timeContainer=function he(J,Q){var Z=J&&"timeContainer"in J.attributes?J.attributes.timeContainer.value:null;return Z&&"par"!==Z?"seq"===Z?"seq":(Y(Q,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(Z,te)},B.prototype.initFromNode=function(J,Q,Z,te){P.prototype.initFromNode.call(this,J,null,Q,te),C.prototype.initFromNode.call(this,J,null,Q,te),T.prototype.initFromNode.call(this,J,null,Q,te),M.prototype.initFromNode.call(this,J,null,Q,te),N.prototype.initFromNode.call(this,J,null,Q,te),this.lang=Z},W.prototype.initFromNode=function(J,Q,Z,te,ie){P.prototype.initFromNode.call(this,J,Q,Z,ie),C.prototype.initFromNode.call(this,J,Q,Z,ie),T.prototype.initFromNode.call(this,J,Q,Z,ie),M.prototype.initFromNode.call(this,J,Q,Z,ie),N.prototype.initFromNode.call(this,J,Q,Z,ie),this.lang=te},q.prototype.initFromNode=function(J,Q,Z,te,ie){P.prototype.initFromNode.call(this,J,Q,Z,ie),C.prototype.initFromNode.call(this,J,Q,Z,ie),T.prototype.initFromNode.call(this,J,Q,Z,ie),M.prototype.initFromNode.call(this,J,Q,Z,ie),N.prototype.initFromNode.call(this,J,Q,Z,ie),this.lang=te},le.prototype.initFromNode=function(J,Q,Z,te,ie,ee){P.prototype.initFromNode.call(this,J,Q,Z,ee),C.prototype.initFromNode.call(this,J,Q,Z,ee),T.prototype.initFromNode.call(this,J,Q,Z,ee),M.prototype.initFromNode.call(this,J,Q,Z,ee),N.prototype.initFromNode.call(this,J,Q,Z,ee),this.space=ie,this.lang=te},Fe.prototype.initFromText=function(J,Q,Z,te,ie,ee){C.prototype.initFromNode.call(this,J,Q,null,ee),this.text=Z,this.space=ie,this.lang=te},$.prototype.initFromNode=function(J,Q,Z,te,ie){M.prototype.initFromNode.call(this,J,Q,Z,ie),C.prototype.initFromNode.call(this,J,Q,Z,ie),this.lang=te},ae.prototype.createDefaultRegion=function(J){var Q=new ae;return O.call(Q,""),P.call(Q,{}),T.call(Q,[]),C.call(Q,0,Number.POSITIVE_INFINITY,null),this.lang=J,Q},ae.prototype.initFromNode=function(J,Q,Z,te){O.prototype.initFromNode.call(this,J,null,Q,te),C.prototype.initFromNode.call(this,J,null,Q,te),T.prototype.initFromNode.call(this,J,null,Q,te),this.styleAttrs=Le(Q,te),this.styleRefs=Ce(Q),this.lang=Z},K.prototype.initFromNode=function(J,Q,Z,te){C.prototype.initFromNode.call(this,J,Q,Z,te);var ie=Le(Z,te);for(var ee in this.qname=null,this.value=null,ie)if(ie.hasOwnProperty(ee)){if(this.qname){Y(te,"More than one style specified on set");break}this.qname=ee,this.value=ie[ee]}}}(S,typeof sax>"u"?c(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){!function(t,y,w){function E($,ae,K,ge){var oe;if("region"===K.kind)(oe=document.createElement("div")).style.position="absolute";else if("body"===K.kind)oe=document.createElement("div");else if("div"===K.kind)oe=document.createElement("div");else if("image"===K.kind){if(oe=document.createElement("img"),null!==$.imgResolver&&null!==K.src){var he=$.imgResolver(K.src,oe);he&&(oe.src=he),oe.height=$.regionH,oe.width=$.regionW}}else if("p"===K.kind)oe=document.createElement("p");else if("span"===K.kind)if("container"===K.styleAttrs[w.byName.ruby.qname])oe=document.createElement("ruby"),$.ruby=!0;else if("base"===K.styleAttrs[w.byName.ruby.qname])oe=document.createElement("rb");else if("text"===K.styleAttrs[w.byName.ruby.qname])oe=document.createElement("rt");else if("baseContainer"===K.styleAttrs[w.byName.ruby.qname])oe=document.createElement("rbc");else if("textContainer"===K.styleAttrs[w.byName.ruby.qname])oe=document.createElement("rtc");else{if("delimiter"===K.styleAttrs[w.byName.ruby.qname])return;oe=document.createElement("span")}else"br"===K.kind&&(oe=document.createElement("br"));if(oe){if(K.lang&&("region"===K.kind||K.lang!==ge.lang)&&(oe.lang=K.lang),ae.appendChild(oe),oe.style.margin="0","region"===K.kind){var Ce=K.styleAttrs[w.byName.writingMode.qname];"lrtb"===Ce||"lr"===Ce?($.ipd="lr",$.bpd="tb"):"rltb"===Ce||"rl"===Ce?($.ipd="rl",$.bpd="tb"):"tblr"===Ce?($.ipd="tb",$.bpd="lr"):("tbrl"===Ce||"tb"===Ce)&&($.ipd="tb",$.bpd="rl")}else"p"===K.kind&&"tb"===$.bpd&&($.ipd="ltr"===K.styleAttrs[w.byName.direction.qname]?"lr":"rl");for(var fe=0;fe<T.length;fe++){var Re=T[fe],xe=K.styleAttrs[Re.qname];void 0!==xe&&null!==Re.map&&Re.map($,oe,K,xe)}var pe=oe,Ue=K.styleAttrs[w.byName.linePadding.qname];if(Ue&&!Ue.isZero()){var ke=Ue.toUsedLength($.w,$.h);if(ke>0){var we=Math.ceil(ke)+"px";"tb"===$.bpd?(pe.style.paddingLeft=we,pe.style.paddingRight=we):(pe.style.paddingTop=we,pe.style.paddingBottom=we),$.lp=Ue}}var Ve=K.styleAttrs[w.byName.multiRowAlign.qname];if(Ve&&"auto"!==Ve){var st=document.createElement("span");st.style.display="inline-block",st.style.textAlign=Ve,oe.appendChild(st),pe=st,$.mra=Ve}var Je=K.styleAttrs[w.byName.rubyReserve.qname];if(Je&&"none"!==Je[0]&&($.rubyReserve=Je),K.styleAttrs[w.byName.fillLineGap.qname]&&($.flg=!0),"span"===K.kind&&K.text){var Ne=K.styleAttrs[w.byName.textEmphasis.qname];if(Ne&&"none"!==Ne.style&&($.textEmphasis=!0),w.byName.textCombine.qname in K.styleAttrs&&"all"===K.styleAttrs[w.byName.textCombine.qname])oe.textContent=K.text,Ne&&M($,oe,0,Ne);else for(var Te="",Y=0;Y<K.text.length;Y++){Te+=K.text.charAt(Y);var se=K.text.charCodeAt(Y);if(se<55296||se>56319||Y===K.text.length-1){var _e=document.createElement("span");_e.textContent=Te,Ne&&M($,_e,0,Ne),oe.appendChild(_e),Te="",_e._isd_element=K}}}if("contents"in K)for(var J=0;J<K.contents.length;J++)E($,pe,K.contents[J],K);var Q=[];if("p"===K.kind&&(k($,pe,Q,null),$.rubyReserve&&(function A($,ae){for(var K=0;K<$.length;K++){var ge=document.createElement("ruby"),oe=document.createElement("rb");oe.textContent="\u200b",ge.appendChild(oe);var he,Ce,Le=ae.rubyReserve[1].toUsedLength(ae.w,ae.h)+"px";"both"===ae.rubyReserve[0]||"outside"===ae.rubyReserve[0]&&1==$.length?((he=document.createElement("rtc")).style[W]=B?"after":"under",he.textContent="\u200b",he.style.fontSize=Le,(Ce=document.createElement("rtc")).style[W]=B?"before":"over",Ce.textContent="\u200b",Ce.style.fontSize=Le,ge.appendChild(he),ge.appendChild(Ce)):((he=document.createElement("rtc")).textContent="\u200b",he.style.fontSize=Le,he.style[W]="after"===ae.rubyReserve[0]||"outside"===ae.rubyReserve[0]&&K>0?B?"after":"tb"===ae.bpd||"rl"===ae.bpd?"under":"over":B?"before":"tb"===ae.bpd||"rl"===ae.bpd?"over":"under",ge.appendChild(he));for(var Re=null,xe=0;xe<$[K].rbc.length;xe++)if("ruby"===$[K].rbc[xe].localName){Re=$[K].rbc[xe];for(var pe=0;pe<Re.style.length;pe++)ge.style.setProperty(Re.style.item(pe),Re.style.getPropertyValue(Re.style.item(pe)));break}(Re=Re||$[K].elements[0].node).parentElement.insertBefore(ge,Re)}}(Q,$),$.rubyReserve=null),($.ruby||$.rubyReserve)&&(function v($,ae){for(var K=0;K<$.length;K++)for(var ge=0;ge<$[K].rbc.length;ge++)$[K].rbc[ge].style[W]||($[K].rbc[ge].style[W]=B?0===K?"before":"after":"tb"===ae.bpd||"rl"===ae.bpd?0===K?"over":"under":0===K?"under":"over")}(Q,$),$.ruby=null),$.textEmphasis&&(function g($,ae){for(var K=0;K<$.length;K++)for(var ge=0;ge<$[K].te.length;ge++)$[K].te[ge].style[le]&&"none"!==$[K].te[ge].style[le]||($[K].te[ge].style[le]="tb"===ae.bpd?0===K?"left over":"left under":"rl"===ae.bpd?0===K?"right under":"left under":0===K?"left under":"right under")}(Q,$),$.textEmphasis=null),$.mra&&(function f($){for(var ae=0;ae<$.length-1;ae++){var K=$[ae].elements.length;if(0!==K&&!1===$[ae].br){var ge=document.createElement("br"),oe=$[ae].elements[K-1].node;oe.parentElement.insertBefore(ge,oe.nextSibling)}}}(Q),$.mra=null),$.lp&&(function p($,ae,K){if(null!==$)for(var ge=0;ge<$.length;ge++){var oe=$[ge].elements.length,he=Math.ceil(ae)+"px",Ce="-"+Math.ceil(ae)+"px";if(0!==oe){var Le=$[ge].elements[$[ge].start_elem],fe=$[ge].elements[$[ge].end_elem];if(Le===fe&&(elementBoundingRect=Le.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===K.ipd?(Le.node.style.marginLeft=Ce,Le.node.style.paddingLeft=he):"rl"===K.ipd?(Le.node.style.paddingRight=he,Le.node.style.marginRight=Ce):"tb"===K.ipd&&(Le.node.style.paddingTop=he,Le.node.style.marginTop=Ce),"lr"===K.ipd?(fe.node.style.marginRight=Ce,fe.node.style.paddingRight=he):"rl"===K.ipd?(fe.node.style.paddingLeft=he,fe.node.style.marginLeft=Ce):"tb"===K.ipd&&(fe.node.style.paddingBottom=he,fe.node.style.marginBottom=Ce)}}}(Q,$.lp.toUsedLength($.w,$.h),$),$.lp=null),function F($){for(var ae=0;ae<$.length;ae++)for(var K=$[ae],ge=1;ge<K.elements.length;)D(K.elements[ge-1].node,K.elements[ge].node)?K.elements.splice(ge,1):ge++;for(var Ce,Le,fe=[],Re=0;Re<$.length;Re++)for(var xe=0;xe<$[Re].elements.length;xe++)(Le=L(Ce=$[Re].elements[xe].node,fe,!1))&&(Ce.style.backgroundColor=Le);for(var pe=0;pe<fe.length;pe++)fe[pe].style.backgroundColor=""}(Q),$.flg)){var Z=H(pe.getBoundingClientRect(),$);(function U($,ae,K,ge,oe){for(var he=Math.sign(K-ae),Ce=0;Ce<=$.length;Ce++){var Le,fe,Re,xe;if(Le=0===Ce?Math.round(ae):Ce===$.length?Math.round(K):Math.round(($[Ce-1].after+$[Ce].before)/2),Ce>0&&$[Ce-1])for(Re=0;Re<$[Ce-1].elements.length;Re++)fe=he*(Le-(xe=$[Ce-1].elements[Re]).after)+"px","lr"===ge.bpd?xe.node.style.paddingRight=fe:"rl"===ge.bpd?xe.node.style.paddingLeft=fe:"tb"===ge.bpd&&(xe.node.style.paddingBottom=fe);if(Ce<$.length)for(Re=0;Re<$[Ce].elements.length;Re++)fe=he*((xe=$[Ce].elements[Re]).before-Le)+"px","lr"===ge.bpd?xe.node.style.paddingLeft=fe:"rl"===ge.bpd?xe.node.style.paddingRight=fe:"tb"===ge.bpd&&(xe.node.style.paddingTop=fe)}})(Q,Z.before,Z.after,$),$.flg=null}if("region"===K.kind&&"tb"===$.bpd&&$.enableRollUp&&K.contents.length>0&&"after"===K.styleAttrs[w.byName.displayAlign.qname]){k($,pe,Q,null);var ie=new R(""===K.id?"_":K.id,Q);if($.currentISDState[ie.id]=ie,$.previousISDState&&ie.id in $.previousISDState&&$.previousISDState[ie.id].plist.length>0&&ie.plist.length>1&&ie.plist[ie.plist.length-2].text===$.previousISDState[ie.id].plist[$.previousISDState[ie.id].plist.length-1].text){var ee=oe.firstElementChild,X=ie.plist[ie.plist.length-1].after-ie.plist[ie.plist.length-1].before;ee.style.bottom="-"+X+"px",ee.style.transition="transform 0.4s",ee.style.position="relative",ee.style.transform="translateY(-"+X+"px)"}}}else!function Fe($,ae){if($&&$.error&&$.error(ae))throw ae}($.errorHandler,"Error processing ISD element kind: "+K.kind)}function L($,ae,K){return $.style.backgroundColor?(K&&!ae.includes($)&&ae.push($),$.style.backgroundColor):"SPAN"===$.parentElement.nodeName?L($.parentElement,ae,!0):void 0}function D($,ae){if("SPAN"===$.tagName&&"SPAN"===ae.tagName&&$._isd_element===ae._isd_element){$.textContent+=ae.textContent;for(var K=0;K<ae.style.length;K++){var ge=ae.style[K];(ge.indexOf("border")>=0||ge.indexOf("padding")>=0||ge.indexOf("margin")>=0)&&($.style[ge]=ae.style[ge])}return ae.parentElement.removeChild(ae),!0}return!1}function R($,ae){this.id=$,this.plist=ae}function H($,ae){var K={before:null,after:null,start:null,end:null};return"tb"===ae.bpd?(K.before=$.top,K.after=$.bottom,"lr"===ae.ipd?(K.start=$.left,K.end=$.right):(K.start=$.right,K.end=$.left)):"lr"===ae.bpd?(K.before=$.left,K.after=$.right,K.start=$.top,K.end=$.bottom):"rl"===ae.bpd&&(K.before=$.right,K.after=$.left,K.start=$.top,K.end=$.bottom),K}function k($,ae,K,ge){if("rt"!==ae.localName&&"rtc"!==ae.localName){var oe=ae.style.backgroundColor||ge;if(0===ae.childElementCount)if("span"===ae.localName||"rb"===ae.localName){var Ce=H(ae.getBoundingClientRect(),$);if(0!==K.length&&function O($,ae,K,ge){return ae<ge&&$>K||ge<=ae&&K>=$}(Ce.before,Ce.after,K[K.length-1].before,K[K.length-1].after)){var Le=Math.sign(Ce.after-Ce.before),fe=Math.sign(Ce.end-Ce.start);Le*(Ce.before-K[K.length-1].before)<0&&(K[K.length-1].before=Ce.before),Le*(Ce.after-K[K.length-1].after)>0&&(K[K.length-1].after=Ce.after),fe*(Ce.start-K[K.length-1].start)<0&&(K[K.length-1].start=Ce.start,K[K.length-1].start_elem=K[K.length-1].elements.length),fe*(Ce.end-K[K.length-1].end)>0&&(K[K.length-1].end=Ce.end,K[K.length-1].end_elem=K[K.length-1].elements.length)}else K.push({before:Ce.before,after:Ce.after,start:Ce.start,end:Ce.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});K[K.length-1].text+=ae.textContent,K[K.length-1].elements.push({node:ae,bgcolor:oe,before:Ce.before,after:Ce.after})}else"br"===ae.localName&&0!==K.length&&(K[K.length-1].br=!0);else for(var Re=ae.firstChild;Re;)Re.nodeType===Node.ELEMENT_NODE&&(k($,Re,K,oe),"ruby"===Re.localName||"rtc"===Re.localName?K.length>0&&K[K.length-1].rbc.push(Re):"span"===Re.localName&&Re.style[q]&&"none"!==Re.style[q]&&K.length>0&&K[K.length-1].te.push(Re)),Re=Re.nextSibling}}function M($,ae,K,ge){"none"!==ge.style&&(ae.style[q]="auto"===ge.style?"filled":ge.style+" "+ge.symbol,"before"===ge.position||"after"===ge.position)&&(ae.style[le]="tb"===$.bpd?"before"===ge.position?"left over":"left under":"rl"===$.bpd?"before"===ge.position?"right under":"left under":"before"===ge.position?"left under":"right under")}function P($,ae){this.qname=$,this.map=ae}t.render=function($,ae,K,ge,oe,he,Ce,Le,fe){var Re=ge||ae.clientHeight,xe=oe||ae.clientWidth;if(null!==$.aspectRatio){var pe=Re*$.aspectRatio;pe>xe?Re=Math.round(xe/$.aspectRatio):xe=pe}var Ue=document.createElement("div");Ue.style.position="relative",Ue.style.width=xe+"px",Ue.style.height=Re+"px",Ue.style.margin="auto",Ue.style.top=0,Ue.style.bottom=0,Ue.style.left=0,Ue.style.right=0,Ue.style.zIndex=0;var ke={h:Re,w:xe,regionH:null,regionW:null,imgResolver:K,displayForcedOnlyMode:he||!1,isd:$,errorHandler:Ce,previousISDState:Le,enableRollUp:fe||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(ae.appendChild(Ue),"contents"in $)for(var we=0;we<$.contents.length;we++)E(ke,Ue,$.contents[we],$);return ke.currentISDState};for(var T=[new P("http://www.w3.org/ns/ttml#styling backgroundColor",function($,ae,K,ge){0!==ge[3]&&(ae.style.backgroundColor="rgba("+ge[0].toString()+","+ge[1].toString()+","+ge[2].toString()+","+(ge[3]/255).toString()+")")}),new P("http://www.w3.org/ns/ttml#styling color",function($,ae,K,ge){ae.style.color="rgba("+ge[0].toString()+","+ge[1].toString()+","+ge[2].toString()+","+(ge[3]/255).toString()+")"}),new P("http://www.w3.org/ns/ttml#styling direction",function($,ae,K,ge){ae.style.direction=ge}),new P("http://www.w3.org/ns/ttml#styling display",function($,ae,K,ge){}),new P("http://www.w3.org/ns/ttml#styling displayAlign",function($,ae,K,ge){ae.style.display="flex",ae.style.flexDirection="column","before"===ge?ae.style.justifyContent="flex-start":"center"===ge?ae.style.justifyContent="center":"after"===ge&&(ae.style.justifyContent="flex-end")}),new P("http://www.w3.org/ns/ttml#styling extent",function($,ae,K,ge){$.regionH=ge.h.toUsedLength($.w,$.h),$.regionW=ge.w.toUsedLength($.w,$.h);var oe=0,he=0,Ce=K.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Ce&&(oe=Ce[0].toUsedLength($.w,$.h)+Ce[2].toUsedLength($.w,$.h),he=Ce[1].toUsedLength($.w,$.h)+Ce[3].toUsedLength($.w,$.h)),ae.style.height=$.regionH-oe+"px",ae.style.width=$.regionW-he+"px"}),new P("http://www.w3.org/ns/ttml#styling fontFamily",function($,ae,K,ge){for(var oe=[],he=0;he<ge.length;he++)"monospaceSerif"===ge[he]?(oe.push("Courier New"),oe.push('"Liberation Mono"'),oe.push("Courier"),oe.push("monospace")):"proportionalSansSerif"===ge[he]?(oe.push("Arial"),oe.push("Helvetica"),oe.push('"Liberation Sans"'),oe.push("sans-serif")):"monospace"===ge[he]?oe.push("monospace"):"sansSerif"===ge[he]?oe.push("sans-serif"):"serif"===ge[he]?oe.push("serif"):"monospaceSansSerif"===ge[he]?(oe.push("Consolas"),oe.push("monospace")):oe.push("proportionalSerif"===ge[he]?"serif":ge[he]);if(oe.length>0){for(var Ce=[oe[0]],Le=1;Le<oe.length;Le++)-1==Ce.indexOf(oe[Le])&&Ce.push(oe[Le]);oe=Ce}ae.style.fontFamily=oe.join(",")}),new P("http://www.w3.org/ns/ttml#styling shear",function($,ae,K,ge){if(0!==ge){var oe=-.9*ge;ae.style.transform="tb"===$.bpd?"skewX("+oe+"deg)":"skewY("+oe+"deg)"}}),new P("http://www.w3.org/ns/ttml#styling fontSize",function($,ae,K,ge){ae.style.fontSize=ge.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling fontStyle",function($,ae,K,ge){ae.style.fontStyle=ge}),new P("http://www.w3.org/ns/ttml#styling fontWeight",function($,ae,K,ge){ae.style.fontWeight=ge}),new P("http://www.w3.org/ns/ttml#styling lineHeight",function($,ae,K,ge){ae.style.lineHeight="normal"===ge?"normal":ge.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling opacity",function($,ae,K,ge){ae.style.opacity=ge}),new P("http://www.w3.org/ns/ttml#styling origin",function($,ae,K,ge){ae.style.top=ge.h.toUsedLength($.w,$.h)+"px",ae.style.left=ge.w.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling overflow",function($,ae,K,ge){ae.style.overflow=ge}),new P("http://www.w3.org/ns/ttml#styling padding",function($,ae,K,ge){var oe=[];oe[0]=ge[0].toUsedLength($.w,$.h)+"px",oe[1]=ge[3].toUsedLength($.w,$.h)+"px",oe[2]=ge[2].toUsedLength($.w,$.h)+"px",oe[3]=ge[1].toUsedLength($.w,$.h)+"px",ae.style.padding=oe.join(" ")}),new P("http://www.w3.org/ns/ttml#styling position",function($,ae,K,ge){ae.style.top=ge.h.toUsedLength($.w,$.h)+"px",ae.style.left=ge.w.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling rubyAlign",function($,ae,K,ge){ae.style.rubyAlign="spaceAround"===ge?"space-around":"center"}),new P("http://www.w3.org/ns/ttml#styling rubyPosition",function($,ae,K,ge){"before"!==ge&&"after"!==ge||(ae.parentElement.style[W]=B?ge:"tb"===$.bpd||"rl"===$.bpd?"before"===ge?"over":"under":"before"===ge?"under":"over")}),new P("http://www.w3.org/ns/ttml#styling showBackground",null),new P("http://www.w3.org/ns/ttml#styling textAlign",function($,ae,K,ge){ae.style.textAlign="start"===ge?"rl"===$.ipd?"right":"left":"end"===ge?"rl"===$.ipd?"left":"right":ge}),new P("http://www.w3.org/ns/ttml#styling textDecoration",function($,ae,K,ge){ae.style.textDecoration=ge.join(" ").replace("lineThrough","line-through")}),new P("http://www.w3.org/ns/ttml#styling textOutline",function($,ae,K,ge){}),new P("http://www.w3.org/ns/ttml#styling textShadow",function($,ae,K,ge){var oe=K.styleAttrs[w.byName.textOutline.qname];if("none"===ge&&"none"===oe)ae.style.textShadow="";else{var he=[];if("none"!==oe){var Ce="rgba("+oe.color[0].toString()+","+oe.color[1].toString()+","+oe.color[2].toString()+","+(oe.color[3]/255).toString()+")";he.push("1px 1px 1px "+Ce),he.push("-1px 1px 1px "+Ce),he.push("1px -1px 1px "+Ce),he.push("-1px -1px 1px "+Ce)}if("none"!==ge)for(var Le=0;Le<ge.length;Le++)he.push(ge[Le].x_off.toUsedLength($.w,$.h)+"px "+ge[Le].y_off.toUsedLength($.w,$.h)+"px "+ge[Le].b_radius.toUsedLength($.w,$.h)+"px rgba("+ge[Le].color[0].toString()+","+ge[Le].color[1].toString()+","+ge[Le].color[2].toString()+","+(ge[Le].color[3]/255).toString()+")");ae.style.textShadow=he.join(",")}}),new P("http://www.w3.org/ns/ttml#styling textCombine",function($,ae,K,ge){ae.style.textCombineUpright=ge}),new P("http://www.w3.org/ns/ttml#styling textEmphasis",function($,ae,K,ge){}),new P("http://www.w3.org/ns/ttml#styling unicodeBidi",function($,ae,K,ge){ae.style.unicodeBidi="bidiOverride"===ge?"bidi-override":ge}),new P("http://www.w3.org/ns/ttml#styling visibility",function($,ae,K,ge){ae.style.visibility=ge}),new P("http://www.w3.org/ns/ttml#styling wrapOption",function($,ae,K,ge){ae.style.whiteSpace="wrap"===ge?"preserve"===K.space?"pre-wrap":"normal":"preserve"===K.space?"pre":"noWrap"}),new P("http://www.w3.org/ns/ttml#styling writingMode",function($,ae,K,ge){"lrtb"===ge||"lr"===ge||"rltb"===ge||"rl"===ge?ae.style.writingMode="horizontal-tb":"tblr"===ge?ae.style.writingMode="vertical-lr":("tbrl"===ge||"tb"===ge)&&(ae.style.writingMode="vertical-rl")}),new P("http://www.w3.org/ns/ttml#styling zIndex",function($,ae,K,ge){ae.style.zIndex=ge}),new P("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function($,ae,K,ge){$.displayForcedOnlyMode&&!1===ge&&(ae.style.visibility="hidden")})],N={},C=0;C<T.length;C++)N[T[C].qname]=T[C];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),W=B?"webkitRubyPosition":"rubyPosition",q="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",le="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(S,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(tt,S,c){!function(t,y,w,E){t.generateISD=function(k,O,M){var N,P=new g(k),T={},C={},B=k.head.styling.initials[w.byName.showBackground.qname],W=k.head.styling.initials[w.byName.backgroundColor.qname];for(var q in k.head.layout.regions)if(k.head.layout.regions.hasOwnProperty(q)){var le=k.head.layout.regions[q],Fe=le.styleAttrs[w.byName.showBackground.qname]||B;C[le.id]=("always"===Fe||void 0===Fe)&&void 0!==(le.styleAttrs[w.byName.backgroundColor.qname]||W)&&!(O<le.begin||O>=le.end)}for(var K in k.body&&k.body.regionID&&(C[k.body.regionID]=!0),N=null!==k.body?function ae(oe,he){if(he.contents){var Le={};for(var fe in he)he.hasOwnProperty(fe)&&(Le[fe]=he[fe]);return Le.contents=[],he.contents.filter(function Ce(Re){return!(oe<Re.begin||oe>=Re.end)}).forEach(function(Re){var xe=ae(oe,Re);xe.regionID&&(C[xe.regionID]=!0),null!==xe&&Le.contents.push(xe)}),Le}return he}(O,k.body):null,void 0!==C[""]&&(C[""]=!0),C)if(C[K]){var ge=L(k,O,k.head.layout.regions[K],N,null,"",k.head.layout.regions[K],M,T);null!==ge&&P.contents.push(ge.element)}return P};var F=[w.byName.color.qname,w.byName.textCombine.qname,w.byName.textDecoration.qname,w.byName.textEmphasis.qname,w.byName.textOutline.qname,w.byName.textShadow.qname];function L(k,O,M,P,T,N,C,B,W){if(O<C.begin||O>=C.end)return null;var q="regionID"in C&&""!==C.regionID?C.regionID:N;if(null!==T&&q!==M.id&&(!("contents"in C)||"contents"in C&&0===C.contents.length||""!==q))return null;var le=new v(C);if("sets"in C)for(var Fe=0;Fe<C.sets.length;Fe++)O<C.sets[Fe].begin||O>=C.sets[Fe].end||(le.styleAttrs[C.sets[Fe].qname]=C.sets[Fe].value);var $={};for(var ae in le.styleAttrs)if(le.styleAttrs.hasOwnProperty(ae)&&($[ae]=!0,"region"===le.kind&&ae===w.byName.writingMode.qname&&!(w.byName.direction.qname in le.styleAttrs))){var K=le.styleAttrs[ae];"lrtb"===K||"lr"===K?le.styleAttrs[w.byName.direction.qname]="ltr":("rltb"===K||"rl"===K)&&(le.styleAttrs[w.byName.direction.qname]="rtl")}if(null!==T)for(var ge=0;ge<w.all.length;ge++){var oe=w.all[ge];if(oe.qname===w.byName.textDecoration.qname){var he=T.styleAttrs[oe.qname],Ce=le.styleAttrs[oe.qname],Le=[];void 0===Ce?Le=he:-1===Ce.indexOf("none")?((-1===Ce.indexOf("noUnderline")&&-1!==he.indexOf("underline")||-1!==Ce.indexOf("underline"))&&Le.push("underline"),(-1===Ce.indexOf("noLineThrough")&&-1!==he.indexOf("lineThrough")||-1!==Ce.indexOf("lineThrough"))&&Le.push("lineThrough"),(-1===Ce.indexOf("noOverline")&&-1!==he.indexOf("overline")||-1!==Ce.indexOf("overline"))&&Le.push("overline")):Le.push("none"),le.styleAttrs[oe.qname]=Le}else if(oe.qname!==w.byName.fontSize.qname||oe.qname in le.styleAttrs||"span"!==le.kind||"textContainer"!==le.styleAttrs[w.byName.ruby.qname])if(oe.qname!==w.byName.fontSize.qname||oe.qname in le.styleAttrs||"span"!==le.kind||"text"!==le.styleAttrs[w.byName.ruby.qname])oe.inherit&&oe.qname in T.styleAttrs&&!(oe.qname in le.styleAttrs)&&(le.styleAttrs[oe.qname]=T.styleAttrs[oe.qname]);else{var Re=T.styleAttrs[w.byName.fontSize.qname];le.styleAttrs[oe.qname]="textContainer"===T.styleAttrs[w.byName.ruby.qname]?Re:new E.ComputedLength(.5*Re.rw,.5*Re.rh)}else{var fe=T.styleAttrs[w.byName.fontSize.qname];le.styleAttrs[oe.qname]=new E.ComputedLength(.5*fe.rw,.5*fe.rh)}}for(var xe=0;xe<w.all.length;xe++){var pe=w.all[xe];if(!(pe.qname in le.styleAttrs||pe.qname===w.byName.position.qname&&w.byName.origin.qname in le.styleAttrs||pe.qname===w.byName.origin.qname&&w.byName.position.qname in le.styleAttrs)){var Ue=k.head.styling.initials[pe.qname]||pe.initial;if(null!==Ue&&("region"===le.kind||!1===pe.inherit&&null!==Ue)){var ke=pe.parse(Ue);null!==ke?(le.styleAttrs[pe.qname]=ke,$[pe.qname]=!0):R(B,"Invalid initial value for '"+pe.qname+"' on element '"+le.kind)}}}for(var we=0;we<w.all.length;we++){var Ve=w.all[we];if(Ve.qname in $&&null!==Ve.compute){var st=Ve.compute(k,T,le,le.styleAttrs[Ve.qname],W);null!==st?le.styleAttrs[Ve.qname]=st:(le.styleAttrs[Ve.qname]=Ve.compute(k,T,le,Ve.parse(Ve.initial),W),R(B,"Style '"+Ve.qname+"' on element '"+le.kind+"' cannot be computed"))}}if("none"===le.styleAttrs[w.byName.display.qname])return null;var Je=null;null===T?Je=null===P?[]:[P]:"contents"in C&&(Je=C.contents);for(var Ne=0;null!==Je&&Ne<Je.length;Ne++){var Te=L(k,O,M,P,le,q,Je[Ne],B,W);null!==Te&&le.contents.push(Te.element)}for(var Y in le.styleAttrs)if(le.styleAttrs.hasOwnProperty(Y)){var se=!1;if("span"===le.kind){var _e=le.styleAttrs[w.byName.ruby.qname];(se=("container"===_e||"textContainer"===_e||"baseContainer"===_e)&&-1!==F.indexOf(Y))||(se="container"!==_e&&Y===w.byName.rubyAlign.qname),se||(se=!("textContainer"===_e||"text"===_e)&&Y===w.byName.rubyPosition.qname)}if(!se){var J=w.byQName[Y];"applies"in J&&(se=-1===J.applies.indexOf(le.kind))}se&&delete le.styleAttrs[Y]}var Q=le.styleAttrs[w.byName.ruby.qname];if("p"===le.kind||"span"===le.kind&&("textContainer"===Q||"text"===Q)){var Z=[];p(le,Z),function D(k){function O(C){return"br"===C.kind||/[\r\n\t ]$/.test(C.text)}function M(C){return"br"===C.kind||"preserve"===C.space&&/^[\r\n]/.test(C.text)}for(var P,T=0;T<k.length;)if("br"!==(P=k[T]).kind&&"preserve"!==P.space){var N=P.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(N)&&(0===T||O(k[T-1]))&&(N=N.substring(1)),P.text=N,0===N.length?k.splice(T,1):T++}else T++;for(T=0;T<k.length;T++)"br"!==(P=k[T]).kind&&"preserve"!==P.space?/[ ]$/.test(P.text)&&(T===k.length-1||M(k[T+1]))&&(P.text=P.text.slice(0,-1)):T++}(Z),f(le)}return"div"===le.kind&&w.byName.backgroundImage.qname in le.styleAttrs||"br"===le.kind||"image"===le.kind||"contents"in le&&le.contents.length>0||"span"===le.kind&&null!==le.text||"region"===le.kind&&"always"===le.styleAttrs[w.byName.showBackground.qname]?{region_id:q,element:le}:null}function p(k,O){if("contents"in k)for(var M=0;M<k.contents.length;M++){var P=k.contents[M],T=P.styleAttrs[w.byName.ruby.qname];"span"===P.kind&&("textContainer"===T||"text"===T)||("contents"in P?p(P,O):("span"===P.kind&&0!==P.text.length||"br"===P.kind)&&O.push(P))}}function f(k){if("br"===k.kind)return!1;if("text"in k)return 0===k.text.length;if("contents"in k){for(var O=k.contents.length;O--;)f(k.contents[O])&&k.contents.splice(O,1);return 0===k.contents.length}}function g(k){this.contents=[],this.aspectRatio=k.aspectRatio,this.lang=k.lang}function v(k){for(var O in this.kind=k.kind||"region",this.lang=k.lang,k.id&&(this.id=k.id),this.styleAttrs={},k.styleAttrs)k.styleAttrs.hasOwnProperty(O)&&(this.styleAttrs[O]=k.styleAttrs[O]);"src"in k&&(this.src=k.src),"type"in k&&(this.type=k.type),"text"in k?this.text=k.text:("region"===this.kind||"contents"in k)&&(this.contents=[]),"space"in k&&(this.space=k.space)}function R(k,O){if(k&&k.error&&k.error(O))throw O}}(S,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){S.generateISD=c(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,S.fromXML=c(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,S.renderHTML=c(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(tt,S,c){var t;(t=S).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(tt,S,c){!function(t,y,w){function E(D,p,f,g,v,A,U,R){this.name=p,this.ns=D,this.qname=D+" "+p,this.inherit=v,this.animatable=A,this.initial=f,this.applies=g,this.parse=U,this.compute=R}for(var F in t.all=[new E(y.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,w.parseColor,null),new E(y.ns_tts,"color","white",["span"],!0,!0,w.parseColor,null),new E(y.ns_tts,"direction","ltr",["p","span"],!0,!0,function(D){return D},null),new E(y.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(D){return D},null),new E(y.ns_tts,"displayAlign","before",["region"],!1,!0,function(D){return D},null),new E(y.ns_tts,"extent","auto",["tt","region"],!1,!0,function(D){if("auto"===D)return D;var p=D.split(" ");if(2!==p.length)return null;var f=w.parseLength(p[0]),g=w.parseLength(p[1]);return g&&f?{h:g,w:f}:null},function(D,p,f,g,v){var A,U;if("auto"===g)A=new w.ComputedLength(0,1);else if(null===(A=w.toComputedLength(g.h.value,g.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===g)U=new w.ComputedLength(1,0);else if(null===(U=w.toComputedLength(g.w.value,g.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:A,w:U}}),new E(y.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(D){for(var p=D.split(","),f=[],g=0;g<p.length;g++)"'"!==p[g].charAt(0)&&'"'!==p[g].charAt(0)&&"default"===p[g]?f.push("monospaceSerif"):f.push(p[g]);return f},null),new E(y.ns_tts,"shear","0%",["p"],!0,!0,w.parseLength,function(D,p,f,g){return"%"!==g.unit?null:Math.abs(g.value)>100?100*Math.sign(g.value):g.value}),new E(y.ns_tts,"fontSize","1c",["span","p"],!0,!0,w.parseLength,function(D,p,f,g,v){return w.toComputedLength(g.value,g.unit,null!==p?p.styleAttrs[t.byName.fontSize.qname]:D.cellLength.h,null!==p?p.styleAttrs[t.byName.fontSize.qname]:D.cellLength.h,D.cellLength.h,D.pxLength.h)}),new E(y.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(D){return D},null),new E(y.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(D){return D},null),new E(y.ns_tts,"lineHeight","normal",["p"],!0,!0,function(D){return"normal"===D?D:w.parseLength(D)},function(D,p,f,g,v){var A;if("normal"===g)A=g;else if(null===(A=w.toComputedLength(g.value,g.unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h)))return null;return A}),new E(y.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new E(y.ns_tts,"origin","auto",["region"],!1,!0,function(D){if("auto"===D)return D;var p=D.split(" ");if(2!==p.length)return null;var f=w.parseLength(p[0]),g=w.parseLength(p[1]);return g&&f?{h:g,w:f}:null},function(D,p,f,g,v){var A,U;if("auto"===g)A=new w.ComputedLength(0,0);else if(null===(A=w.toComputedLength(g.h.value,g.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===g)U=new w.ComputedLength(0,0);else if(null===(U=w.toComputedLength(g.w.value,g.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:A,w:U}}),new E(y.ns_tts,"overflow","hidden",["region"],!1,!0,function(D){return D},null),new E(y.ns_tts,"padding","0px",["region"],!1,!0,function(D){var p=D.split(" ");if(p.length>4)return null;for(var f=[],g=0;g<p.length;g++){var v=w.parseLength(p[g]);if(!v)return null;f.push(v)}return f},function(D,p,f,g,v){var A;if(1===g.length)A=[g[0],g[0],g[0],g[0]];else if(2===g.length)A=[g[0],g[1],g[0],g[1]];else if(3===g.length)A=[g[0],g[1],g[2],g[1]];else{if(4!==g.length)return null;A=[g[0],g[1],g[2],g[3]]}var U=f.styleAttrs[t.byName.writingMode.qname];if("lrtb"===U||"lr"===U)A=[A[0],A[3],A[2],A[1]];else if("rltb"===U||"rl"===U)A=[A[0],A[1],A[2],A[3]];else if("tblr"===U)A=[A[3],A[0],A[1],A[2]];else{if("tbrl"!==U&&"tb"!==U)return null;A=[A[3],A[2],A[1],A[0]]}for(var R=[],H=0;H<A.length;H++)if(0===A[H].value)R[H]=new w.ComputedLength(0,0);else if(R[H]=w.toComputedLength(A[H].value,A[H].unit,f.styleAttrs[t.byName.fontSize.qname],0===H||2===H?f.styleAttrs[t.byName.extent.qname].h:f.styleAttrs[t.byName.extent.qname].w,0===H||2===H?D.cellLength.h:D.cellLength.w,0===H||2===H?D.pxLength.h:D.pxLength.w),null===R[H])return null;return R}),new E(y.ns_tts,"position","top left",["region"],!1,!0,function(D){return w.parsePosition(D)},function(D,p,f,g){var v,A;return null===(v=w.toComputedLength(g.v.offset.value,g.v.offset.unit,null,new w.ComputedLength(-f.styleAttrs[t.byName.extent.qname].h.rw,D.dimensions.h.rh-f.styleAttrs[t.byName.extent.qname].h.rh),null,D.pxLength.h))||("bottom"===g.v.edge&&(v=new w.ComputedLength(-v.rw-f.styleAttrs[t.byName.extent.qname].h.rw,D.dimensions.h.rh-v.rh-f.styleAttrs[t.byName.extent.qname].h.rh)),A=w.toComputedLength(g.h.offset.value,g.h.offset.unit,null,new w.ComputedLength(D.dimensions.w.rw-f.styleAttrs[t.byName.extent.qname].w.rw,-f.styleAttrs[t.byName.extent.qname].w.rh),null,D.pxLength.w),null===v)?null:("right"===g.h.edge&&(A=new w.ComputedLength(D.dimensions.w.rw-A.rw-f.styleAttrs[t.byName.extent.qname].w.rw,-A.rh-f.styleAttrs[t.byName.extent.qname].w.rh)),{h:v,w:A})}),new E(y.ns_tts,"ruby","none",["span"],!1,!0,function(D){return D},null),new E(y.ns_tts,"rubyAlign","center",["span"],!0,!0,function(D){return"center"===D||"spaceAround"===D?D:null},null),new E(y.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(D){return D},null),new E(y.ns_tts,"rubyReserve","none",["p"],!0,!0,function(D){var p=D.split(" "),f=[null,null];if(0===p.length||p.length>2)return null;if("none"!==p[0]&&"both"!==p[0]&&"after"!==p[0]&&"before"!==p[0]&&"outside"!==p[0])return null;if(f[0]=p[0],2===p.length&&"none"!==p[0]){var g=w.parseLength(p[1]);if(!g)return null;f[1]=g}return f},function(D,p,f,g,v){if("none"===g[0])return g;var A;return null===(A=null===g[1]?new w.ComputedLength(.5*f.styleAttrs[t.byName.fontSize.qname].rw,.5*f.styleAttrs[t.byName.fontSize.qname].rh):w.toComputedLength(g[1].value,g[1].unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h))?null:[g[0],A]}),new E(y.ns_tts,"showBackground","always",["region"],!1,!0,function(D){return D},null),new E(y.ns_tts,"textAlign","start",["p"],!0,!0,function(D){return D},function(D,p,f,g,v){return"left"===g?"start":"right"===g?"end":g}),new E(y.ns_tts,"textCombine","none",["span"],!0,!0,function(D){return"none"===D||"all"===D?D:null},null),new E(y.ns_tts,"textDecoration","none",["span"],!0,!0,function(D){return D.split(" ")},null),new E(y.ns_tts,"textEmphasis","none",["span"],!0,!0,function(D){for(var p=D.split(" "),f={style:null,symbol:null,color:null,position:null},g=0;g<p.length;g++)if("none"===p[g]||"auto"===p[g])f.style=p[g];else if("filled"===p[g]||"open"===p[g])f.style=p[g];else if("circle"===p[g]||"dot"===p[g]||"sesame"===p[g])f.symbol=p[g];else if("current"===p[g])f.color=p[g];else if("outside"===p[g]||"before"===p[g]||"after"===p[g])f.position=p[g];else if(f.color=w.parseColor(p[g]),null===f.color)return null;return null==f.style&&null==f.symbol?f.style="auto":(f.symbol=f.symbol||"circle",f.style=f.style||"filled"),f.position=f.position||"outside",f.color=f.color||"current",f},null),new E(y.ns_tts,"textOutline","none",["span"],!0,!0,function(D){if("none"===D)return D;var p={},f=D.split(" ");if(0===f.length||f.length>2)return null;var g=w.parseColor(f[0]);if(p.color=g,null!==g&&f.shift(),1!==f.length)return null;var v=w.parseLength(f[0]);return v?(p.thickness=v,p):null},function(D,p,f,g,v){if("none"===g)return g;var A={};return A.color=null===g.color?f.styleAttrs[t.byName.color.qname]:g.color,A.thickness=w.toComputedLength(g.thickness.value,g.thickness.unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h),null===A.thickness?null:A}),new E(y.ns_tts,"textShadow","none",["span"],!0,!0,w.parseTextShadow,function(D,p,f,g){if("none"===g)return g;for(var v=[],A=0;A<g.length;A++){var U={};if(U.x_off=w.toComputedLength(g[A][0].value,g[A][0].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.w),null===U.x_off||(U.y_off=w.toComputedLength(g[A][1].value,g[A][1].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.h),null===U.y_off))return null;if(null===g[A][2])U.b_radius=0;else if(U.b_radius=w.toComputedLength(g[A][2].value,g[A][2].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.h),null===U.b_radius)return null;U.color=null===g[A][3]?f.styleAttrs[t.byName.color.qname]:g[A][3],v.push(U)}return v}),new E(y.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(D){return D},null),new E(y.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(D){return D},null),new E(y.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(D){return D},null),new E(y.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(D){return D},null),new E(y.ns_tts,"zIndex","auto",["region"],!1,!0,function(D){var p;return"auto"===D?p=D:(p=parseInt(D),isNaN(p)&&(p=null)),p},null),new E(y.ns_ebutts,"linePadding","0c",["p"],!0,!1,w.parseLength,function(D,p,f,g,v){return w.toComputedLength(g.value,g.unit,null,null,D.cellLength.w,null)}),new E(y.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(D){return D},null),new E(y.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(D){return D},null),new E(y.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(D){return"true"===D},null),new E(y.ns_itts,"fillLineGap","false",["p"],!0,!0,function(D){return"true"===D},null)],t.byQName={},t.all)t.byQName[t.all[F].qname]=t.all[F];for(var L in t.byName={},t.all)t.byName[t.all[L].name]=t.all[L]}(S,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(tt,S,c){!function(t){var y=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,w=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,E=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,F={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(D){var p,f=null,g=F[D.toLowerCase()];return void 0!==g?f=g:null!==(p=y.exec(D))?f=[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16),void 0!==p[4]?parseInt(p[4],16):255]:null!==(p=w.exec(D))?f=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),255]:null!==(p=E.exec(D))&&(f=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),parseInt(p[4])]),f};var L=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(D){var p,f=null;return null!==(p=L.exec(D))&&(f={value:parseFloat(p[1]),unit:p[2]}),f},t.parseTextShadow=function(D){for(var p=D.match(/([^\(,\)]|\([^\)]+\))+/g),f=[],g=0;g<p.length;g++){var v=p[g].split(" ");if(1===v.length&&"none"===v[0])return"none";if(v.length>1&&v.length<5){var A=[null,null,null,null],U=t.parseLength(v.shift());if(null===U||(A[0]=U,null===(U=t.parseLength(v.shift()))))return null;if(A[1]=U,0===v.length){f.push(A);continue}if(null!==(U=t.parseLength(v[0]))&&(A[2]=U,v.shift()),0===v.length){f.push(A);continue}var R=t.parseColor(v[0]);if(null===R)return null;A[3]=R,f.push(A)}}return f},t.parsePosition=function(D){var p=D.split(" "),f=function(k){return"center"===k||"left"===k||"top"===k||"bottom"===k||"right"===k};if(p.length>4)return null;for(var g=0;g<p.length;g++)if(!f(p[g])){var v=t.parseLength(p[g]);if(null===v)return null;p[g]=v}for(var A={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},U=0;U<p.length;){var R=p[U++];if(f(R)){var H={value:0,unit:"%"};2!==p.length&&U<p.length&&!f(p[U])&&(H=p[U++]),"right"===R?(A.h.edge=R,A.h.offset=H):"bottom"===R?(A.v.edge=R,A.v.offset=H):"left"===R?A.h.offset=H:"top"===R&&(A.v.offset=H)}else{if(1!==p.length&&2!==p.length)return null;1===U?A.h.offset=R:A.v.offset=R}}return A},t.ComputedLength=function(D,p){this.rw=D,this.rh=p},t.ComputedLength.prototype.toUsedLength=function(D,p){return D*this.rw+p*this.rh},t.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},t.toComputedLength=function(D,p,f,g,v,A){return"%"===p&&g?new t.ComputedLength(g.rw*D/100,g.rh*D/100):"em"===p&&f?new t.ComputedLength(f.rw*D,f.rh*D):"c"===p&&v?new t.ComputedLength(D*v.rw,D*v.rh):"px"===p&&A?new t.ComputedLength(D*A.rw,D*A.rh):"rh"===p?new t.ComputedLength(0,D/100):"rw"===p?new t.ComputedLength(D/100,0):null}}(S)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(tt,S){tt.exports="function"==typeof Object.create?function(t,y){y&&(t.super_=y,t.prototype=Object.create(y.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,y){if(y){t.super_=y;var w=function(){};w.prototype=y.prototype,t.prototype=new w,t.prototype.constructor=t}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=function t(y){var w="string"==typeof y?y.charCodeAt(0):y;return w>=97&&w<=122||w>=65&&w<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),y=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js");tt.exports=function w(E){return t(E)||y(E)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=function t(y){var w="string"==typeof y?y.charCodeAt(0):y;return w>=48&&w<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(tt,S){var c={}.toString;tt.exports=Array.isArray||function(t){return"[object Array]"==c.call(t)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){(function(t){function y(L,D){for(var p=0,f=L.length-1;f>=0;f--){var g=L[f];"."===g?L.splice(f,1):".."===g?(L.splice(f,1),p++):p&&(L.splice(f,1),p--)}if(D)for(;p--;p)L.unshift("..");return L}function E(L,D){if(L.filter)return L.filter(D);for(var p=[],f=0;f<L.length;f++)D(L[f],f,L)&&p.push(L[f]);return p}S.resolve=function(){for(var L="",D=!1,p=arguments.length-1;p>=-1&&!D;p--){var f=p>=0?arguments[p]:t.cwd();if("string"!=typeof f)throw new TypeError("Arguments to path.resolve must be strings");f&&(L=f+"/"+L,D="/"===f.charAt(0))}return(D?"/":"")+(L=y(E(L.split("/"),function(g){return!!g}),!D).join("/"))||"."},S.normalize=function(L){var D=S.isAbsolute(L),p="/"===F(L,-1);return!(L=y(E(L.split("/"),function(f){return!!f}),!D).join("/"))&&!D&&(L="."),L&&p&&(L+="/"),(D?"/":"")+L},S.isAbsolute=function(L){return"/"===L.charAt(0)},S.join=function(){var L=Array.prototype.slice.call(arguments,0);return S.normalize(E(L,function(D,p){if("string"!=typeof D)throw new TypeError("Arguments to path.join must be strings");return D}).join("/"))},S.relative=function(L,D){function p(H){for(var k=0;k<H.length&&""===H[k];k++);for(var O=H.length-1;O>=0&&""===H[O];O--);return k>O?[]:H.slice(k,O-k+1)}L=S.resolve(L).substr(1),D=S.resolve(D).substr(1);for(var f=p(L.split("/")),g=p(D.split("/")),v=Math.min(f.length,g.length),A=v,U=0;U<v;U++)if(f[U]!==g[U]){A=U;break}var R=[];for(U=A;U<f.length;U++)R.push("..");return(R=R.concat(g.slice(A))).join("/")},S.sep="/",S.delimiter=":",S.dirname=function(L){if("string"!=typeof L&&(L+=""),0===L.length)return".";for(var D=L.charCodeAt(0),p=47===D,f=-1,g=!0,v=L.length-1;v>=1;--v)if(47===(D=L.charCodeAt(v))){if(!g){f=v;break}}else g=!1;return-1===f?p?"/":".":p&&1===f?"/":L.slice(0,f)},S.basename=function(L,D){var p=function w(L){"string"!=typeof L&&(L+="");var g,D=0,p=-1,f=!0;for(g=L.length-1;g>=0;--g)if(47===L.charCodeAt(g)){if(!f){D=g+1;break}}else-1===p&&(f=!1,p=g+1);return-1===p?"":L.slice(D,p)}(L);return D&&p.substr(-1*D.length)===D&&(p=p.substr(0,p.length-D.length)),p},S.extname=function(L){"string"!=typeof L&&(L+="");for(var D=-1,p=0,f=-1,g=!0,v=0,A=L.length-1;A>=0;--A){var U=L.charCodeAt(A);if(47!==U)-1===f&&(g=!1,f=A+1),46===U?-1===D?D=A:1!==v&&(v=1):-1!==D&&(v=-1);else if(!g){p=A+1;break}}return-1===D||-1===f||0===v||1===v&&D===f-1&&D===p+1?"":L.slice(D,f)};var F=function(L,D,p){return L.substr(D,p)}}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(tt,S,c){"use strict";(function(t){tt.exports=typeof t>"u"||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function y(w,E,F,L){if("function"!=typeof w)throw new TypeError('"callback" argument must be a function');var p,f,D=arguments.length;switch(D){case 0:case 1:return t.nextTick(w);case 2:return t.nextTick(function(){w.call(null,E)});case 3:return t.nextTick(function(){w.call(null,E,F)});case 4:return t.nextTick(function(){w.call(null,E,F,L)});default:for(p=new Array(D-1),f=0;f<p.length;)p[f++]=arguments[f];return t.nextTick(function(){w.apply(null,p)})}}}:t}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(tt,S){var t,y,c=tt.exports={};function w(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}function F(H){if(t===setTimeout)return setTimeout(H,0);if((t===w||!t)&&setTimeout)return t=setTimeout,setTimeout(H,0);try{return t(H,0)}catch{try{return t.call(null,H,0)}catch{return t.call(this,H,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:w}catch{t=w}try{y="function"==typeof clearTimeout?clearTimeout:E}catch{y=E}}();var f,D=[],p=!1,g=-1;function v(){!p||!f||(p=!1,f.length?D=f.concat(D):g=-1,D.length&&A())}function A(){if(!p){var H=F(v);p=!0;for(var k=D.length;k;){for(f=D,D=[];++g<k;)f&&f[g].run();g=-1,k=D.length}f=null,p=!1,function L(H){if(y===clearTimeout)return clearTimeout(H);if((y===E||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(H);try{return y(H)}catch{try{return y.call(null,H)}catch{return y.call(this,H)}}}(H)}}function U(H,k){this.fun=H,this.array=k}function R(){}c.nextTick=function(H){var k=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)k[O-1]=arguments[O];D.push(new U(H,k)),1===D.length&&!p&&F(A)},U.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=R,c.addListener=R,c.once=R,c.off=R,c.removeListener=R,c.removeAllListeners=R,c.emit=R,c.prependListener=R,c.prependOnceListener=R,c.listeners=function(H){return[]},c.binding=function(H){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(H){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),y=Object.keys||function(A){var U=[];for(var R in A)U.push(R);return U};tt.exports=f;var w=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));w.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var E=c(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),F=c(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");w.inherits(f,E);for(var L=y(F.prototype),D=0;D<L.length;D++){var p=L[D];f.prototype[p]||(f.prototype[p]=F.prototype[p])}function f(A){if(!(this instanceof f))return new f(A);E.call(this,A),F.call(this,A),A&&!1===A.readable&&(this.readable=!1),A&&!1===A.writable&&(this.writable=!1),this.allowHalfOpen=!0,A&&!1===A.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||t.nextTick(v,this)}function v(A){A.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(A){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),f.prototype._destroy=function(A,U){this.push(null),this.end(),t.nextTick(U,A)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=w;var t=c(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),y=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function w(E){if(!(this instanceof w))return new w(E);t.call(this,E)}y.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),y.inherits(w,t),w.prototype._transform=function(E,F,L){L(null,E)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";(function(t,y){var w=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");tt.exports=C;var F,E=c(
/*! isarray */
"./node_modules/isarray/index.js");C.ReadableState=N,c(
/*! events */
"./node_modules/events/events.js");var D=function(Te,Y){return Te.listeners(Y).length},p=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),f=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,g=t.Uint8Array||function(){};var U=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));U.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var R=c(
/*! util */
0),H=void 0;H=R&&R.debuglog?R.debuglog("stream"):function(){};var M,k=c(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),O=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");U.inherits(C,p);var P=["error","close","destroy","pause","resume"];function N(Te,Y){var se=Y instanceof(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(Te=Te||{}).objectMode,se&&(this.objectMode=this.objectMode||!!Te.readableObjectMode);var _e=Te.highWaterMark,J=Te.readableHighWaterMark;this.highWaterMark=_e||0===_e?_e:se&&(J||0===J)?J:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Te.encoding&&(M||(M=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new M(Te.encoding),this.encoding=Te.encoding)}function C(Te){if(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof C))return new C(Te);this._readableState=new N(Te,this),this.readable=!0,Te&&("function"==typeof Te.read&&(this._read=Te.read),"function"==typeof Te.destroy&&(this._destroy=Te.destroy)),p.call(this)}function B(Te,Y,se,_e,J){var Z,Q=Te._readableState;return null===Y?(Q.reading=!1,function K(Te,Y){if(!Y.ended){if(Y.decoder){var se=Y.decoder.end();se&&se.length&&(Y.buffer.push(se),Y.length+=Y.objectMode?1:se.length)}Y.ended=!0,ge(Te)}}(Te,Q)):(J||(Z=function q(Te,Y){var se;return!function A(Te){return f.isBuffer(Te)||Te instanceof g}(Y)&&"string"!=typeof Y&&void 0!==Y&&!Te.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se}(Q,Y)),Z?Te.emit("error",Z):Q.objectMode||Y&&Y.length>0?("string"!=typeof Y&&!Q.objectMode&&Object.getPrototypeOf(Y)!==f.prototype&&(Y=function v(Te){return f.from(Te)}(Y)),_e?Q.endEmitted?Te.emit("error",new Error("stream.unshift() after end event")):W(Te,Q,Y,!0):Q.ended?Te.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!se?(Y=Q.decoder.write(Y),Q.objectMode||0!==Y.length?W(Te,Q,Y,!1):he(Te,Q)):W(Te,Q,Y,!1))):_e||(Q.reading=!1)),function le(Te){return!Te.ended&&(Te.needReadable||Te.length<Te.highWaterMark||0===Te.length)}(Q)}function W(Te,Y,se,_e){Y.flowing&&0===Y.length&&!Y.sync?(Te.emit("data",se),Te.read(0)):(Y.length+=Y.objectMode?1:se.length,_e?Y.buffer.unshift(se):Y.buffer.push(se),Y.needReadable&&ge(Te)),he(Te,Y)}Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Te){this._readableState&&(this._readableState.destroyed=Te)}}),C.prototype.destroy=O.destroy,C.prototype._undestroy=O.undestroy,C.prototype._destroy=function(Te,Y){this.push(null),Y(Te)},C.prototype.push=function(Te,Y){var _e,se=this._readableState;return se.objectMode?_e=!0:"string"==typeof Te&&((Y=Y||se.defaultEncoding)!==se.encoding&&(Te=f.from(Te,Y),Y=""),_e=!0),B(this,Te,Y,!1,_e)},C.prototype.unshift=function(Te){return B(this,Te,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(Te){return M||(M=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new M(Te),this._readableState.encoding=Te,this};var Fe=8388608;function ae(Te,Y){return Te<=0||0===Y.length&&Y.ended?0:Y.objectMode?1:Te!=Te?Y.flowing&&Y.length?Y.buffer.head.data.length:Y.length:(Te>Y.highWaterMark&&(Y.highWaterMark=function $(Te){return Te>=Fe?Te=Fe:(Te--,Te|=Te>>>1,Te|=Te>>>2,Te|=Te>>>4,Te|=Te>>>8,Te|=Te>>>16,Te++),Te}(Te)),Te<=Y.length?Te:Y.ended?Y.length:(Y.needReadable=!0,0))}function ge(Te){var Y=Te._readableState;Y.needReadable=!1,Y.emittedReadable||(H("emitReadable",Y.flowing),Y.emittedReadable=!0,Y.sync?w.nextTick(oe,Te):oe(Te))}function oe(Te){H("emit readable"),Te.emit("readable"),pe(Te)}function he(Te,Y){Y.readingMore||(Y.readingMore=!0,w.nextTick(Ce,Te,Y))}function Ce(Te,Y){for(var se=Y.length;!Y.reading&&!Y.flowing&&!Y.ended&&Y.length<Y.highWaterMark&&(H("maybeReadMore read 0"),Te.read(0),se!==Y.length);)se=Y.length;Y.readingMore=!1}function fe(Te){H("readable nexttick read 0"),Te.read(0)}function xe(Te,Y){Y.reading||(H("resume read 0"),Te.read(0)),Y.resumeScheduled=!1,Y.awaitDrain=0,Te.emit("resume"),pe(Te),Y.flowing&&!Y.reading&&Te.read(0)}function pe(Te){var Y=Te._readableState;for(H("flow",Y.flowing);Y.flowing&&null!==Te.read(););}function Ue(Te,Y){return 0===Y.length?null:(Y.objectMode?se=Y.buffer.shift():!Te||Te>=Y.length?(se=Y.decoder?Y.buffer.join(""):1===Y.buffer.length?Y.buffer.head.data:Y.buffer.concat(Y.length),Y.buffer.clear()):se=function ke(Te,Y,se){var _e;return Te<Y.head.data.length?(_e=Y.head.data.slice(0,Te),Y.head.data=Y.head.data.slice(Te)):_e=Te===Y.head.data.length?Y.shift():se?function we(Te,Y){var se=Y.head,_e=1,J=se.data;for(Te-=J.length;se=se.next;){var Q=se.data,Z=Te>Q.length?Q.length:Te;if(J+=Z===Q.length?Q:Q.slice(0,Te),0==(Te-=Z)){Z===Q.length?(++_e,Y.head=se.next?se.next:Y.tail=null):(Y.head=se,se.data=Q.slice(Z));break}++_e}return Y.length-=_e,J}(Te,Y):function Ve(Te,Y){var se=f.allocUnsafe(Te),_e=Y.head,J=1;for(_e.data.copy(se),Te-=_e.data.length;_e=_e.next;){var Q=_e.data,Z=Te>Q.length?Q.length:Te;if(Q.copy(se,se.length-Te,0,Z),0==(Te-=Z)){Z===Q.length?(++J,Y.head=_e.next?_e.next:Y.tail=null):(Y.head=_e,_e.data=Q.slice(Z));break}++J}return Y.length-=J,se}(Te,Y),_e}(Te,Y.buffer,Y.decoder),se);var se}function st(Te){var Y=Te._readableState;if(Y.length>0)throw new Error('"endReadable()" called on non-empty stream');Y.endEmitted||(Y.ended=!0,w.nextTick(Je,Y,Te))}function Je(Te,Y){!Te.endEmitted&&0===Te.length&&(Te.endEmitted=!0,Y.readable=!1,Y.emit("end"))}function Ne(Te,Y){for(var se=0,_e=Te.length;se<_e;se++)if(Te[se]===Y)return se;return-1}C.prototype.read=function(Te){H("read",Te),Te=parseInt(Te,10);var Y=this._readableState,se=Te;if(0!==Te&&(Y.emittedReadable=!1),0===Te&&Y.needReadable&&(Y.length>=Y.highWaterMark||Y.ended))return H("read: emitReadable",Y.length,Y.ended),0===Y.length&&Y.ended?st(this):ge(this),null;if(0===(Te=ae(Te,Y))&&Y.ended)return 0===Y.length&&st(this),null;var J,_e=Y.needReadable;return H("need readable",_e),(0===Y.length||Y.length-Te<Y.highWaterMark)&&H("length less than watermark",_e=!0),Y.ended||Y.reading?H("reading or ended",_e=!1):_e&&(H("do read"),Y.reading=!0,Y.sync=!0,0===Y.length&&(Y.needReadable=!0),this._read(Y.highWaterMark),Y.sync=!1,Y.reading||(Te=ae(se,Y))),null===(J=Te>0?Ue(Te,Y):null)?(Y.needReadable=!0,Te=0):Y.length-=Te,0===Y.length&&(Y.ended||(Y.needReadable=!0),se!==Te&&Y.ended&&st(this)),null!==J&&this.emit("data",J),J},C.prototype._read=function(Te){this.emit("error",new Error("_read() is not implemented"))},C.prototype.pipe=function(Te,Y){var se=this,_e=this._readableState;switch(_e.pipesCount){case 0:_e.pipes=Te;break;case 1:_e.pipes=[_e.pipes,Te];break;default:_e.pipes.push(Te)}_e.pipesCount+=1,H("pipe count=%d opts=%j",_e.pipesCount,Y);var Q=Y&&!1===Y.end||Te===y.stdout||Te===y.stderr?He:te;function Z(at,ct){H("onunpipe"),at===se&&ct&&!1===ct.hasUnpiped&&(ct.hasUnpiped=!0,function X(){H("cleanup"),Te.removeListener("close",Ae),Te.removeListener("finish",We),Te.removeListener("drain",ie),Te.removeListener("error",de),Te.removeListener("unpipe",Z),se.removeListener("end",te),se.removeListener("end",He),se.removeListener("data",ve),ee=!0,_e.awaitDrain&&(!Te._writableState||Te._writableState.needDrain)&&ie()}())}function te(){H("onend"),Te.end()}_e.endEmitted?w.nextTick(Q):se.once("end",Q),Te.on("unpipe",Z);var ie=function Le(Te){return function(){var Y=Te._readableState;H("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,0===Y.awaitDrain&&D(Te,"data")&&(Y.flowing=!0,pe(Te))}}(se);Te.on("drain",ie);var ee=!1;var ue=!1;function ve(at){H("ondata"),ue=!1,!1===Te.write(at)&&!ue&&((1===_e.pipesCount&&_e.pipes===Te||_e.pipesCount>1&&-1!==Ne(_e.pipes,Te))&&!ee&&(H("false write response, pause",se._readableState.awaitDrain),se._readableState.awaitDrain++,ue=!0),se.pause())}function de(at){H("onerror",at),He(),Te.removeListener("error",de),0===D(Te,"error")&&Te.emit("error",at)}function Ae(){Te.removeListener("finish",We),He()}function We(){H("onfinish"),Te.removeListener("close",Ae),He()}function He(){H("unpipe"),se.unpipe(Te)}return se.on("data",ve),function T(Te,Y,se){if("function"==typeof Te.prependListener)return Te.prependListener(Y,se);Te._events&&Te._events[Y]?E(Te._events[Y])?Te._events[Y].unshift(se):Te._events[Y]=[se,Te._events[Y]]:Te.on(Y,se)}(Te,"error",de),Te.once("close",Ae),Te.once("finish",We),Te.emit("pipe",se),_e.flowing||(H("pipe resume"),se.resume()),Te},C.prototype.unpipe=function(Te){var Y=this._readableState,se={hasUnpiped:!1};if(0===Y.pipesCount)return this;if(1===Y.pipesCount)return Te&&Te!==Y.pipes||(Te||(Te=Y.pipes),Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,Te&&Te.emit("unpipe",this,se)),this;if(!Te){var _e=Y.pipes,J=Y.pipesCount;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var Q=0;Q<J;Q++)_e[Q].emit("unpipe",this,se);return this}var Z=Ne(Y.pipes,Te);return-1===Z||(Y.pipes.splice(Z,1),Y.pipesCount-=1,1===Y.pipesCount&&(Y.pipes=Y.pipes[0]),Te.emit("unpipe",this,se)),this},C.prototype.addListener=C.prototype.on=function(Te,Y){var se=p.prototype.on.call(this,Te,Y);if("data"===Te)!1!==this._readableState.flowing&&this.resume();else if("readable"===Te){var _e=this._readableState;!_e.endEmitted&&!_e.readableListening&&(_e.readableListening=_e.needReadable=!0,_e.emittedReadable=!1,_e.reading?_e.length&&ge(this):w.nextTick(fe,this))}return se},C.prototype.resume=function(){var Te=this._readableState;return Te.flowing||(H("resume"),Te.flowing=!0,function Re(Te,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,w.nextTick(xe,Te,Y))}(this,Te)),this},C.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this},C.prototype.wrap=function(Te){var Y=this,se=this._readableState,_e=!1;for(var J in Te.on("end",function(){if(H("wrapped end"),se.decoder&&!se.ended){var Z=se.decoder.end();Z&&Z.length&&Y.push(Z)}Y.push(null)}),Te.on("data",function(Z){H("wrapped data"),se.decoder&&(Z=se.decoder.write(Z)),se.objectMode&&null==Z||!(se.objectMode||Z&&Z.length)||Y.push(Z)||(_e=!0,Te.pause())}),Te)void 0===this[J]&&"function"==typeof Te[J]&&(this[J]=function(Z){return function(){return Te[Z].apply(Te,arguments)}}(J));for(var Q=0;Q<P.length;Q++)Te.on(P[Q],this.emit.bind(this,P[Q]));return this._read=function(Z){H("wrapped _read",Z),_e&&(_e=!1,Te.resume())},this},Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),C._fromList=Ue}).call(this,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=E;var t=c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),y=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function w(D,p){var f=this._transformState;f.transforming=!1;var g=f.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,null!=p&&this.push(p),g(D);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function E(D){if(!(this instanceof E))return new E(D);t.call(this,D),this._transformState={afterTransform:w.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",F)}function F(){var D=this;"function"==typeof this._flush?this._flush(function(p,f){L(D,p,f)}):L(this,null,null)}function L(D,p,f){if(p)return D.emit("error",p);if(null!=f&&D.push(f),D._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(D._transformState.transforming)throw new Error("Calling transform done when still transforming");return D.push(null)}y.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),y.inherits(E,t),E.prototype.push=function(D,p){return this._transformState.needTransform=!1,t.prototype.push.call(this,D,p)},E.prototype._transform=function(D,p,f){throw new Error("_transform() is not implemented")},E.prototype._write=function(D,p,f){var g=this._transformState;if(g.writecb=f,g.writechunk=D,g.writeencoding=p,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},E.prototype._read=function(D){var p=this._transformState;null!==p.writechunk&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},E.prototype._destroy=function(D,p){var f=this;t.prototype._destroy.call(this,D,function(g){p(g),f.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";(function(t,y,w){var E=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function L(xe){var pe=this;this.next=null,this.entry=null,this.finish=function(){!function Re(xe,pe,Ue){var ke=xe.entry;for(xe.entry=null;ke;){var we=ke.callback;pe.pendingcb--,we(Ue),ke=ke.next}pe.corkedRequestsFree?pe.corkedRequestsFree.next=xe:pe.corkedRequestsFree=xe}(pe,xe)}}tt.exports=T;var p,D=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?y:E.nextTick;T.WritableState=M;var f=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));f.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var g={deprecate:c(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},v=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),A=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,U=w.Uint8Array||function(){};var P,k=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function O(){}function M(xe,pe){p=p||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var Ue=pe instanceof p;this.objectMode=!!(xe=xe||{}).objectMode,Ue&&(this.objectMode=this.objectMode||!!xe.writableObjectMode);var ke=xe.highWaterMark,we=xe.writableHighWaterMark;this.highWaterMark=ke||0===ke?ke:Ue&&(we||0===we)?we:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===xe.decodeStrings),this.defaultEncoding=xe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Je){!function $(xe,pe){var Ue=xe._writableState,ke=Ue.sync,we=Ue.writecb;if(function Fe(xe){xe.writing=!1,xe.writecb=null,xe.length-=xe.writelen,xe.writelen=0}(Ue),pe)!function le(xe,pe,Ue,ke,we){--pe.pendingcb,Ue?(E.nextTick(we,ke),E.nextTick(Le,xe,pe),xe._writableState.errorEmitted=!0,xe.emit("error",ke)):(we(ke),xe._writableState.errorEmitted=!0,xe.emit("error",ke),Le(xe,pe))}(xe,Ue,ke,pe,we);else{var Ve=oe(Ue);!Ve&&!Ue.corked&&!Ue.bufferProcessing&&Ue.bufferedRequest&&ge(xe,Ue),ke?D(ae,xe,Ue,Ve,we):ae(xe,Ue,Ve,we)}}(pe,Je)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}function T(xe){if(p=p||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(P.call(T,this)||this instanceof p))return new T(xe);this._writableState=new M(xe,this),this.writable=!0,xe&&("function"==typeof xe.write&&(this._write=xe.write),"function"==typeof xe.writev&&(this._writev=xe.writev),"function"==typeof xe.destroy&&(this._destroy=xe.destroy),"function"==typeof xe.final&&(this._final=xe.final)),v.call(this)}function W(xe,pe,Ue,ke,we,Ve){if(!Ue){var st=function B(xe,pe,Ue){return!xe.objectMode&&!1!==xe.decodeStrings&&"string"==typeof pe&&(pe=A.from(pe,Ue)),pe}(pe,ke,we);ke!==st&&(Ue=!0,we="buffer",ke=st)}var Je=pe.objectMode?1:ke.length;pe.length+=Je;var Ne=pe.length<pe.highWaterMark;if(Ne||(pe.needDrain=!0),pe.writing||pe.corked){var Te=pe.lastBufferedRequest;pe.lastBufferedRequest={chunk:ke,encoding:we,isBuf:Ue,callback:Ve,next:null},Te?Te.next=pe.lastBufferedRequest:pe.bufferedRequest=pe.lastBufferedRequest,pe.bufferedRequestCount+=1}else q(xe,pe,!1,Je,ke,we,Ve);return Ne}function q(xe,pe,Ue,ke,we,Ve,st){pe.writelen=ke,pe.writecb=st,pe.writing=!0,pe.sync=!0,Ue?xe._writev(we,pe.onwrite):xe._write(we,Ve,pe.onwrite),pe.sync=!1}function ae(xe,pe,Ue,ke){Ue||function K(xe,pe){0===pe.length&&pe.needDrain&&(pe.needDrain=!1,xe.emit("drain"))}(xe,pe),pe.pendingcb--,ke(),Le(xe,pe)}function ge(xe,pe){pe.bufferProcessing=!0;var Ue=pe.bufferedRequest;if(xe._writev&&Ue&&Ue.next){var we=new Array(pe.bufferedRequestCount),Ve=pe.corkedRequestsFree;Ve.entry=Ue;for(var st=0,Je=!0;Ue;)we[st]=Ue,Ue.isBuf||(Je=!1),Ue=Ue.next,st+=1;we.allBuffers=Je,q(xe,pe,!0,pe.length,we,"",Ve.finish),pe.pendingcb++,pe.lastBufferedRequest=null,Ve.next?(pe.corkedRequestsFree=Ve.next,Ve.next=null):pe.corkedRequestsFree=new L(pe),pe.bufferedRequestCount=0}else{for(;Ue;){var Ne=Ue.chunk;if(q(xe,pe,!1,pe.objectMode?1:Ne.length,Ne,Ue.encoding,Ue.callback),Ue=Ue.next,pe.bufferedRequestCount--,pe.writing)break}null===Ue&&(pe.lastBufferedRequest=null)}pe.bufferedRequest=Ue,pe.bufferProcessing=!1}function oe(xe){return xe.ending&&0===xe.length&&null===xe.bufferedRequest&&!xe.finished&&!xe.writing}function he(xe,pe){xe._final(function(Ue){pe.pendingcb--,Ue&&xe.emit("error",Ue),pe.prefinished=!0,xe.emit("prefinish"),Le(xe,pe)})}function Le(xe,pe){var Ue=oe(pe);return Ue&&(function Ce(xe,pe){!pe.prefinished&&!pe.finalCalled&&("function"==typeof xe._final?(pe.pendingcb++,pe.finalCalled=!0,E.nextTick(he,xe,pe)):(pe.prefinished=!0,xe.emit("prefinish")))}(xe,pe),0===pe.pendingcb&&(pe.finished=!0,xe.emit("finish"))),Ue}f.inherits(T,v),M.prototype.getBuffer=function(){for(var pe=this.bufferedRequest,Ue=[];pe;)Ue.push(pe),pe=pe.next;return Ue},function(){try{Object.defineProperty(M.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(xe){return!!P.call(this,xe)||this===T&&xe&&xe._writableState instanceof M}})):P=function(xe){return xe instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(xe,pe,Ue){var ke=this._writableState,we=!1,Ve=!ke.objectMode&&function H(xe){return A.isBuffer(xe)||xe instanceof U}(xe);return Ve&&!A.isBuffer(xe)&&(xe=function R(xe){return A.from(xe)}(xe)),"function"==typeof pe&&(Ue=pe,pe=null),Ve?pe="buffer":pe||(pe=ke.defaultEncoding),"function"!=typeof Ue&&(Ue=O),ke.ended?function N(xe,pe){var Ue=new Error("write after end");xe.emit("error",Ue),E.nextTick(pe,Ue)}(this,Ue):(Ve||function C(xe,pe,Ue,ke){var we=!0,Ve=!1;return null===Ue?Ve=new TypeError("May not write null values to stream"):"string"!=typeof Ue&&void 0!==Ue&&!pe.objectMode&&(Ve=new TypeError("Invalid non-string/buffer chunk")),Ve&&(xe.emit("error",Ve),E.nextTick(ke,Ve),we=!1),we}(this,ke,xe,Ue))&&(ke.pendingcb++,we=W(this,ke,Ve,xe,pe,Ue)),we},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var xe=this._writableState;xe.corked&&(xe.corked--,!xe.writing&&!xe.corked&&!xe.finished&&!xe.bufferProcessing&&xe.bufferedRequest&&ge(this,xe))},T.prototype.setDefaultEncoding=function(pe){if("string"==typeof pe&&(pe=pe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((pe+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+pe);return this._writableState.defaultEncoding=pe,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(xe,pe,Ue){Ue(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(xe,pe,Ue){var ke=this._writableState;"function"==typeof xe?(Ue=xe,xe=null,pe=null):"function"==typeof pe&&(Ue=pe,pe=null),null!=xe&&this.write(xe,pe),ke.corked&&(ke.corked=1,this.uncork()),!ke.ending&&!ke.finished&&function fe(xe,pe,Ue){pe.ending=!0,Le(xe,pe),Ue&&(pe.finished?E.nextTick(Ue):xe.once("finish",Ue)),pe.ended=!0,xe.writable=!1}(this,ke,Ue)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(xe){this._writableState&&(this._writableState.destroyed=xe)}}),T.prototype.destroy=k.destroy,T.prototype._undestroy=k.undestroy,T.prototype._destroy=function(xe,pe){this.end(),pe(xe)}}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var y=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,w=c(
/*! util */
1);function E(F,L,D){F.copy(L,D)}tt.exports=function(){function F(){(function t(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")})(this,F),this.head=null,this.tail=null,this.length=0}return F.prototype.push=function(D){var p={data:D,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},F.prototype.unshift=function(D){var p={data:D,next:this.head};0===this.length&&(this.tail=p),this.head=p,++this.length},F.prototype.shift=function(){if(0!==this.length){var D=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,D}},F.prototype.clear=function(){this.head=this.tail=null,this.length=0},F.prototype.join=function(D){if(0===this.length)return"";for(var p=this.head,f=""+p.data;p=p.next;)f+=D+p.data;return f},F.prototype.concat=function(D){if(0===this.length)return y.alloc(0);if(1===this.length)return this.head.data;for(var p=y.allocUnsafe(D>>>0),f=this.head,g=0;f;)E(f.data,p,g),g+=f.data.length,f=f.next;return p},F}(),w&&w.inspect&&w.inspect.custom&&(tt.exports.prototype[w.inspect.custom]=function(){var F=w.inspect({length:this.length});return this.constructor.name+" "+F})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function E(F,L){F.emit("error",L)}tt.exports={destroy:function y(F,L){var D=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(L?L(F):F&&(!this._writableState||!this._writableState.errorEmitted)&&t.nextTick(E,this,F),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(F||null,function(g){!L&&g?(t.nextTick(E,D,g),D._writableState&&(D._writableState.errorEmitted=!0)):L&&L(g)}),this)},undestroy:function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=c(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(tt,S,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),y=t.Buffer;function w(F,L){for(var D in F)L[D]=F[D]}function E(F,L,D){return y(F,L,D)}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?tt.exports=t:(w(t,S),S.Buffer=E),w(y,E),E.from=function(F,L,D){if("number"==typeof F)throw new TypeError("Argument must not be a number");return y(F,L,D)},E.alloc=function(F,L,D){if("number"!=typeof F)throw new TypeError("Argument must be a number");var p=y(F);return void 0!==L?"string"==typeof D?p.fill(L,D):p.fill(L):p.fill(0),p},E.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return y(F)},E.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(tt,S,c){(S=tt.exports=c(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=S,S.Readable=S,S.Writable=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),S.Duplex=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),S.Transform=c(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),S.PassThrough=c(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(tt,S,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),y=t.Buffer;function w(F,L){for(var D in F)L[D]=F[D]}function E(F,L,D){return y(F,L,D)}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?tt.exports=t:(w(t,S),S.Buffer=E),E.prototype=Object.create(y.prototype),w(y,E),E.from=function(F,L,D){if("number"==typeof F)throw new TypeError("Argument must not be a number");return y(F,L,D)},E.alloc=function(F,L,D){if("number"!=typeof F)throw new TypeError("Argument must be a number");var p=y(F);return void 0!==L?"string"==typeof D?p.fill(L,D):p.fill(L):p.fill(0),p},E.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return y(F)},E.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(tt,S,c){(function(t){!function(y){y.parser=function(Y,se){return new E(Y,se)},y.SAXParser=E,y.SAXStream=v,y.createStream=function g(Y,se){return new v(Y,se)},y.MAX_BUFFER_LENGTH=65536;var p,w=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function E(Y,se){if(!(this instanceof E))return new E(Y,se);var _e=this;(function L(Y){for(var se=0,_e=w.length;se<_e;se++)Y[w[se]]=""})(_e),_e.q=_e.c="",_e.bufferCheckPosition=y.MAX_BUFFER_LENGTH,_e.opt=se||{},_e.opt.lowercase=_e.opt.lowercase||_e.opt.lowercasetags,_e.looseCase=_e.opt.lowercase?"toLowerCase":"toUpperCase",_e.tags=[],_e.closed=_e.closedRoot=_e.sawRoot=!1,_e.tag=_e.error=null,_e.strict=!!Y,_e.noscript=!(!Y&&!_e.opt.noscript),_e.state=K.BEGIN,_e.strictEntities=_e.opt.strictEntities,_e.ENTITIES=Object.create(_e.strictEntities?y.XML_ENTITIES:y.ENTITIES),_e.attribList=[],_e.opt.xmlns&&(_e.ns=Object.create(N)),_e.trackPosition=!1!==_e.opt.position,_e.trackPosition&&(_e.position=_e.line=_e.column=0),oe(_e,"onready")}y.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(Y){function se(){}return se.prototype=Y,new se}),Object.keys||(Object.keys=function(Y){var se=[];for(var _e in Y)Y.hasOwnProperty(_e)&&se.push(_e);return se}),E.prototype={end:function(){Re(this)},write:function Te(Y){var se=this;if(this.error)throw this.error;if(se.closed)return fe(se,"Cannot write after close. Assign an onready handler.");if(null===Y)return Re(se);"object"==typeof Y&&(Y=Y.toString());for(var _e=0,J="";J=Ne(Y,_e++),se.c=J,J;)switch(se.trackPosition&&(se.position++,"\n"===J?(se.line++,se.column=0):se.column++),se.state){case K.BEGIN:if(se.state=K.BEGIN_WHITESPACE,"\ufeff"===J)continue;Je(se,J);continue;case K.BEGIN_WHITESPACE:Je(se,J);continue;case K.TEXT:if(se.sawRoot&&!se.closedRoot){for(var Q=_e-1;J&&"<"!==J&&"&"!==J;)(J=Ne(Y,_e++))&&se.trackPosition&&(se.position++,"\n"===J?(se.line++,se.column=0):se.column++);se.textNode+=Y.substring(Q,_e-1)}"<"!==J||se.sawRoot&&se.closedRoot&&!se.strict?(ae(A,J)&&(!se.sawRoot||se.closedRoot)&&xe(se,"Text data outside of root node."),"&"===J?se.state=K.TEXT_ENTITY:se.textNode+=J):(se.state=K.OPEN_WAKA,se.startTagPosition=se.position);continue;case K.SCRIPT:"<"===J?se.state=K.SCRIPT_ENDING:se.script+=J;continue;case K.SCRIPT_ENDING:"/"===J?se.state=K.CLOSE_TAG:(se.script+="<"+J,se.state=K.SCRIPT);continue;case K.OPEN_WAKA:"!"===J?(se.state=K.SGML_DECL,se.sgmlDecl=""):$(A,J)||($(C,J)?(se.state=K.OPEN_TAG,se.tagName=J):"/"===J?(se.state=K.CLOSE_TAG,se.tagName=""):"?"===J?(se.state=K.PROC_INST,se.procInstName=se.procInstBody=""):(xe(se,"Unencoded <"),se.startTagPosition+1<se.position&&(J=new Array(se.position-se.startTagPosition).join(" ")+J),se.textNode+="<"+J,se.state=K.TEXT));continue;case K.SGML_DECL:(se.sgmlDecl+J).toUpperCase()===O?(he(se,"onopencdata"),se.state=K.CDATA,se.sgmlDecl="",se.cdata=""):se.sgmlDecl+J==="--"?(se.state=K.COMMENT,se.comment="",se.sgmlDecl=""):(se.sgmlDecl+J).toUpperCase()===M?(se.state=K.DOCTYPE,(se.doctype||se.sawRoot)&&xe(se,"Inappropriately located doctype declaration"),se.doctype="",se.sgmlDecl=""):">"===J?(he(se,"onsgmldeclaration",se.sgmlDecl),se.sgmlDecl="",se.state=K.TEXT):($(H,J)&&(se.state=K.SGML_DECL_QUOTED),se.sgmlDecl+=J);continue;case K.SGML_DECL_QUOTED:J===se.q&&(se.state=K.SGML_DECL,se.q=""),se.sgmlDecl+=J;continue;case K.DOCTYPE:">"===J?(se.state=K.TEXT,he(se,"ondoctype",se.doctype),se.doctype=!0):(se.doctype+=J,"["===J?se.state=K.DOCTYPE_DTD:$(H,J)&&(se.state=K.DOCTYPE_QUOTED,se.q=J));continue;case K.DOCTYPE_QUOTED:se.doctype+=J,J===se.q&&(se.q="",se.state=K.DOCTYPE);continue;case K.DOCTYPE_DTD:se.doctype+=J,"]"===J?se.state=K.DOCTYPE:$(H,J)&&(se.state=K.DOCTYPE_DTD_QUOTED,se.q=J);continue;case K.DOCTYPE_DTD_QUOTED:se.doctype+=J,J===se.q&&(se.state=K.DOCTYPE_DTD,se.q="");continue;case K.COMMENT:"-"===J?se.state=K.COMMENT_ENDING:se.comment+=J;continue;case K.COMMENT_ENDING:"-"===J?(se.state=K.COMMENT_ENDED,se.comment=Le(se.opt,se.comment),se.comment&&he(se,"oncomment",se.comment),se.comment=""):(se.comment+="-"+J,se.state=K.COMMENT);continue;case K.COMMENT_ENDED:">"!==J?(xe(se,"Malformed comment"),se.comment+="--"+J,se.state=K.COMMENT):se.state=K.TEXT;continue;case K.CDATA:"]"===J?se.state=K.CDATA_ENDING:se.cdata+=J;continue;case K.CDATA_ENDING:"]"===J?se.state=K.CDATA_ENDING_2:(se.cdata+="]"+J,se.state=K.CDATA);continue;case K.CDATA_ENDING_2:">"===J?(se.cdata&&he(se,"oncdata",se.cdata),he(se,"onclosecdata"),se.cdata="",se.state=K.TEXT):"]"===J?se.cdata+="]":(se.cdata+="]]"+J,se.state=K.CDATA);continue;case K.PROC_INST:"?"===J?se.state=K.PROC_INST_ENDING:$(A,J)?se.state=K.PROC_INST_BODY:se.procInstName+=J;continue;case K.PROC_INST_BODY:if(!se.procInstBody&&$(A,J))continue;"?"===J?se.state=K.PROC_INST_ENDING:se.procInstBody+=J;continue;case K.PROC_INST_ENDING:">"===J?(he(se,"onprocessinginstruction",{name:se.procInstName,body:se.procInstBody}),se.procInstName=se.procInstBody="",se.state=K.TEXT):(se.procInstBody+="?"+J,se.state=K.PROC_INST_BODY);continue;case K.OPEN_TAG:$(B,J)?se.tagName+=J:(pe(se),">"===J?we(se):"/"===J?se.state=K.OPEN_TAG_SLASH:(ae(A,J)&&xe(se,"Invalid character in tag name"),se.state=K.ATTRIB));continue;case K.OPEN_TAG_SLASH:">"===J?(we(se,!0),Ve(se)):(xe(se,"Forward-slash in opening tag not followed by >"),se.state=K.ATTRIB);continue;case K.ATTRIB:if($(A,J))continue;">"===J?we(se):"/"===J?se.state=K.OPEN_TAG_SLASH:$(C,J)?(se.attribName=J,se.attribValue="",se.state=K.ATTRIB_NAME):xe(se,"Invalid attribute name");continue;case K.ATTRIB_NAME:"="===J?se.state=K.ATTRIB_VALUE:">"===J?(xe(se,"Attribute without value"),se.attribValue=se.attribName,ke(se),we(se)):$(A,J)?se.state=K.ATTRIB_NAME_SAW_WHITE:$(B,J)?se.attribName+=J:xe(se,"Invalid attribute name");continue;case K.ATTRIB_NAME_SAW_WHITE:if("="===J)se.state=K.ATTRIB_VALUE;else{if($(A,J))continue;xe(se,"Attribute without value"),se.tag.attributes[se.attribName]="",se.attribValue="",he(se,"onattribute",{name:se.attribName,value:""}),se.attribName="",">"===J?we(se):$(C,J)?(se.attribName=J,se.state=K.ATTRIB_NAME):(xe(se,"Invalid attribute name"),se.state=K.ATTRIB)}continue;case K.ATTRIB_VALUE:if($(A,J))continue;$(H,J)?(se.q=J,se.state=K.ATTRIB_VALUE_QUOTED):(xe(se,"Unquoted attribute value"),se.state=K.ATTRIB_VALUE_UNQUOTED,se.attribValue=J);continue;case K.ATTRIB_VALUE_QUOTED:if(J!==se.q){"&"===J?se.state=K.ATTRIB_VALUE_ENTITY_Q:se.attribValue+=J;continue}ke(se),se.q="",se.state=K.ATTRIB_VALUE_CLOSED;continue;case K.ATTRIB_VALUE_CLOSED:$(A,J)?se.state=K.ATTRIB:">"===J?we(se):"/"===J?se.state=K.OPEN_TAG_SLASH:$(C,J)?(xe(se,"No whitespace between attributes"),se.attribName=J,se.attribValue="",se.state=K.ATTRIB_NAME):xe(se,"Invalid attribute name");continue;case K.ATTRIB_VALUE_UNQUOTED:if(ae(k,J)){"&"===J?se.state=K.ATTRIB_VALUE_ENTITY_U:se.attribValue+=J;continue}ke(se),">"===J?we(se):se.state=K.ATTRIB;continue;case K.CLOSE_TAG:if(se.tagName)">"===J?Ve(se):$(B,J)?se.tagName+=J:se.script?(se.script+="</"+se.tagName,se.tagName="",se.state=K.SCRIPT):(ae(A,J)&&xe(se,"Invalid tagname in closing tag"),se.state=K.CLOSE_TAG_SAW_WHITE);else{if($(A,J))continue;ae(C,J)?se.script?(se.script+="</"+J,se.state=K.SCRIPT):xe(se,"Invalid tagname in closing tag."):se.tagName=J}continue;case K.CLOSE_TAG_SAW_WHITE:if($(A,J))continue;">"===J?Ve(se):xe(se,"Invalid characters in closing tag");continue;case K.TEXT_ENTITY:case K.ATTRIB_VALUE_ENTITY_Q:case K.ATTRIB_VALUE_ENTITY_U:var te,ie;switch(se.state){case K.TEXT_ENTITY:te=K.TEXT,ie="textNode";break;case K.ATTRIB_VALUE_ENTITY_Q:te=K.ATTRIB_VALUE_QUOTED,ie="attribValue";break;case K.ATTRIB_VALUE_ENTITY_U:te=K.ATTRIB_VALUE_UNQUOTED,ie="attribValue"}";"===J?(se[ie]+=st(se),se.entity="",se.state=te):$(se.entity.length?q:W,J)?se.entity+=J:(xe(se,"Invalid character in entity name"),se[ie]+="&"+se.entity+J,se.entity="",se.state=te);continue;default:throw new Error(se,"Unknown state: "+se.state)}return se.position>=se.bufferCheckPosition&&function F(Y){for(var se=Math.max(y.MAX_BUFFER_LENGTH,10),_e=0,J=0,Q=w.length;J<Q;J++){var Z=Y[w[J]].length;if(Z>se)switch(w[J]){case"textNode":Ce(Y);break;case"cdata":he(Y,"oncdata",Y.cdata),Y.cdata="";break;case"script":he(Y,"onscript",Y.script),Y.script="";break;default:fe(Y,"Max buffer length exceeded: "+w[J])}_e=Math.max(_e,Z)}Y.bufferCheckPosition=y.MAX_BUFFER_LENGTH-_e+Y.position}(se),se},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function D(Y){Ce(Y),""!==Y.cdata&&(he(Y,"oncdata",Y.cdata),Y.cdata=""),""!==Y.script&&(he(Y,"onscript",Y.script),Y.script="")}(this)}};try{p=c(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{p=function(){}}var f=y.EVENTS.filter(function(Y){return"error"!==Y&&"end"!==Y});function v(Y,se){if(!(this instanceof v))return new v(Y,se);p.apply(this),this._parser=new E(Y,se),this.writable=!0,this.readable=!0;var _e=this;this._parser.onend=function(){_e.emit("end")},this._parser.onerror=function(J){_e.emit("error",J),_e._parser.error=null},this._decoder=null,f.forEach(function(J){Object.defineProperty(_e,"on"+J,{get:function(){return _e._parser["on"+J]},set:function(Q){if(!Q)return _e.removeAllListeners(J),_e._parser["on"+J]=Q,Q;_e.on(J,Q)},enumerable:!0,configurable:!1})})}(v.prototype=Object.create(p.prototype,{constructor:{value:v}})).write=function(Y){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(Y)){if(!this._decoder){var se=c(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new se("utf8")}Y=this._decoder.write(Y)}return this._parser.write(Y.toString()),this.emit("data",Y),!0},v.prototype.end=function(Y){return Y&&Y.length&&this.write(Y),this._parser.end(),!0},v.prototype.on=function(Y,se){var _e=this;return!_e._parser["on"+Y]&&-1!==f.indexOf(Y)&&(_e._parser["on"+Y]=function(){var J=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);J.splice(0,0,Y),_e.emit.apply(_e,J)}),p.prototype.on.call(_e,Y,se)};var A="\r\n\t ",U="0124356789",R="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",H="'\"",k=A+">",O="[CDATA[",M="DOCTYPE",P="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",N={xml:P,xmlns:T};A=le(A),U=le(U),R=le(R);var C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,W=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function le(Y){return Y.split("").reduce(function(se,_e){return se[_e]=!0,se},{})}function $(Y,se){return function Fe(Y){return"[object RegExp]"===Object.prototype.toString.call(Y)}(Y)?!!se.match(Y):Y[se]}function ae(Y,se){return!$(Y,se)}H=le(H),k=le(k);var Y,se,_e,K=0;for(var ge in y.STATE={BEGIN:K++,BEGIN_WHITESPACE:K++,TEXT:K++,TEXT_ENTITY:K++,OPEN_WAKA:K++,SGML_DECL:K++,SGML_DECL_QUOTED:K++,DOCTYPE:K++,DOCTYPE_QUOTED:K++,DOCTYPE_DTD:K++,DOCTYPE_DTD_QUOTED:K++,COMMENT_STARTING:K++,COMMENT:K++,COMMENT_ENDING:K++,COMMENT_ENDED:K++,CDATA:K++,CDATA_ENDING:K++,CDATA_ENDING_2:K++,PROC_INST:K++,PROC_INST_BODY:K++,PROC_INST_ENDING:K++,OPEN_TAG:K++,OPEN_TAG_SLASH:K++,ATTRIB:K++,ATTRIB_NAME:K++,ATTRIB_NAME_SAW_WHITE:K++,ATTRIB_VALUE:K++,ATTRIB_VALUE_QUOTED:K++,ATTRIB_VALUE_CLOSED:K++,ATTRIB_VALUE_UNQUOTED:K++,ATTRIB_VALUE_ENTITY_Q:K++,ATTRIB_VALUE_ENTITY_U:K++,CLOSE_TAG:K++,CLOSE_TAG_SAW_WHITE:K++,SCRIPT:K++,SCRIPT_ENDING:K++},y.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(y.ENTITIES).forEach(function(Y){var se=y.ENTITIES[Y],_e="number"==typeof se?String.fromCharCode(se):se;y.ENTITIES[Y]=_e}),y.STATE)y.STATE[y.STATE[ge]]=ge;function oe(Y,se,_e){Y[se]&&Y[se](_e)}function he(Y,se,_e){Y.textNode&&Ce(Y),oe(Y,se,_e)}function Ce(Y){Y.textNode=Le(Y.opt,Y.textNode),Y.textNode&&oe(Y,"ontext",Y.textNode),Y.textNode=""}function Le(Y,se){return Y.trim&&(se=se.trim()),Y.normalize&&(se=se.replace(/\s+/g," ")),se}function fe(Y,se){return Ce(Y),Y.trackPosition&&(se+="\nLine: "+Y.line+"\nColumn: "+Y.column+"\nChar: "+Y.c),se=new Error(se),Y.error=se,oe(Y,"onerror",se),Y}function Re(Y){return Y.sawRoot&&!Y.closedRoot&&xe(Y,"Unclosed root tag"),Y.state!==K.BEGIN&&Y.state!==K.BEGIN_WHITESPACE&&Y.state!==K.TEXT&&fe(Y,"Unexpected end"),Ce(Y),Y.c="",Y.closed=!0,oe(Y,"onend"),E.call(Y,Y.strict,Y.opt),Y}function xe(Y,se){if("object"!=typeof Y||!(Y instanceof E))throw new Error("bad call to strictFail");Y.strict&&fe(Y,se)}function pe(Y){Y.strict||(Y.tagName=Y.tagName[Y.looseCase]());var se=Y.tags[Y.tags.length-1]||Y,_e=Y.tag={name:Y.tagName,attributes:{}};Y.opt.xmlns&&(_e.ns=se.ns),Y.attribList.length=0,he(Y,"onopentagstart",_e)}function Ue(Y,se){var J=Y.indexOf(":")<0?["",Y]:Y.split(":"),Q=J[0],Z=J[1];return se&&"xmlns"===Y&&(Q="xmlns",Z=""),{prefix:Q,local:Z}}function ke(Y){if(Y.strict||(Y.attribName=Y.attribName[Y.looseCase]()),-1!==Y.attribList.indexOf(Y.attribName)||Y.tag.attributes.hasOwnProperty(Y.attribName))Y.attribName=Y.attribValue="";else{if(Y.opt.xmlns){var se=Ue(Y.attribName,!0),J=se.local;if("xmlns"===se.prefix)if("xml"===J&&Y.attribValue!==P)xe(Y,"xml: prefix must be bound to "+P+"\nActual: "+Y.attribValue);else if("xmlns"===J&&Y.attribValue!==T)xe(Y,"xmlns: prefix must be bound to "+T+"\nActual: "+Y.attribValue);else{var Q=Y.tag,Z=Y.tags[Y.tags.length-1]||Y;Q.ns===Z.ns&&(Q.ns=Object.create(Z.ns)),Q.ns[J]=Y.attribValue}Y.attribList.push([Y.attribName,Y.attribValue])}else Y.tag.attributes[Y.attribName]=Y.attribValue,he(Y,"onattribute",{name:Y.attribName,value:Y.attribValue});Y.attribName=Y.attribValue=""}}function we(Y,se){if(Y.opt.xmlns){var _e=Y.tag,J=Ue(Y.tagName);_e.prefix=J.prefix,_e.local=J.local,_e.uri=_e.ns[J.prefix]||"",_e.prefix&&!_e.uri&&(xe(Y,"Unbound namespace prefix: "+JSON.stringify(Y.tagName)),_e.uri=J.prefix),_e.ns&&(Y.tags[Y.tags.length-1]||Y).ns!==_e.ns&&Object.keys(_e.ns).forEach(function(He){he(Y,"onopennamespace",{prefix:He,uri:_e.ns[He]})});for(var Z=0,te=Y.attribList.length;Z<te;Z++){var ie=Y.attribList[Z],ee=ie[0],X=ie[1],ue=Ue(ee,!0),ve=ue.prefix,Ae=""===ve?"":_e.ns[ve]||"",We={name:ee,value:X,prefix:ve,local:ue.local,uri:Ae};ve&&"xmlns"!==ve&&!Ae&&(xe(Y,"Unbound namespace prefix: "+JSON.stringify(ve)),We.uri=ve),Y.tag.attributes[ee]=We,he(Y,"onattribute",We)}Y.attribList.length=0}Y.tag.isSelfClosing=!!se,Y.sawRoot=!0,Y.tags.push(Y.tag),he(Y,"onopentag",Y.tag),se||(Y.state=Y.noscript||"script"!==Y.tagName.toLowerCase()?K.TEXT:K.SCRIPT,Y.tag=null,Y.tagName=""),Y.attribName=Y.attribValue="",Y.attribList.length=0}function Ve(Y){if(!Y.tagName)return xe(Y,"Weird empty close tag."),Y.textNode+="</>",void(Y.state=K.TEXT);if(Y.script){if("script"!==Y.tagName)return Y.script+="</"+Y.tagName+">",Y.tagName="",void(Y.state=K.SCRIPT);he(Y,"onscript",Y.script),Y.script=""}var se=Y.tags.length,_e=Y.tagName;Y.strict||(_e=_e[Y.looseCase]());for(var J=_e;se--&&Y.tags[se].name!==J;)xe(Y,"Unexpected close tag");if(se<0)return xe(Y,"Unmatched closing tag: "+Y.tagName),Y.textNode+="</"+Y.tagName+">",void(Y.state=K.TEXT);Y.tagName=_e;for(var Z=Y.tags.length;Z-- >se;){var te=Y.tag=Y.tags.pop();Y.tagName=Y.tag.name,he(Y,"onclosetag",Y.tagName);var ie={};for(var ee in te.ns)ie[ee]=te.ns[ee];Y.opt.xmlns&&te.ns!==(Y.tags[Y.tags.length-1]||Y).ns&&Object.keys(te.ns).forEach(function(ue){he(Y,"onclosenamespace",{prefix:ue,uri:te.ns[ue]})})}0===se&&(Y.closedRoot=!0),Y.tagName=Y.attribValue=Y.attribName="",Y.attribList.length=0,Y.state=K.TEXT}function st(Y){var J,se=Y.entity,_e=se.toLowerCase(),Q="";return Y.ENTITIES[se]?Y.ENTITIES[se]:Y.ENTITIES[_e]?Y.ENTITIES[_e]:("#"===(se=_e).charAt(0)&&("x"===se.charAt(1)?(se=se.slice(2),Q=(J=parseInt(se,16)).toString(16)):(se=se.slice(1),Q=(J=parseInt(se,10)).toString(10))),se=se.replace(/^0+/,""),Q.toLowerCase()!==se?(xe(Y,"Invalid character entity"),"&"+Y.entity+";"):String.fromCodePoint(J))}function Je(Y,se){"<"===se?(Y.state=K.OPEN_WAKA,Y.startTagPosition=Y.position):ae(A,se)&&(xe(Y,"Non-whitespace before first tag."),Y.textNode=se,Y.state=K.TEXT)}function Ne(Y,se){var _e="";return se<Y.length&&(_e=Y.charAt(se)),_e}K=y.STATE,String.fromCodePoint||(Y=String.fromCharCode,se=Math.floor,_e=function(){var Q=[],ie=-1,ee=arguments.length;if(!ee)return"";for(var X="";++ie<ee;){var ue=Number(arguments[ie]);if(!isFinite(ue)||ue<0||ue>1114111||se(ue)!==ue)throw RangeError("Invalid code point: "+ue);ue<=65535?Q.push(ue):Q.push(55296+((ue-=65536)>>10),ue%1024+56320),(ie+1===ee||Q.length>16384)&&(X+=Y.apply(null,Q),Q.length=0)}return X},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:_e,configurable:!0,writable:!0}):String.fromCodePoint=_e)}(S)}).call(this,c(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(tt,S,c){(function(t,y){!function(w,E){"use strict";if(!w.setImmediate){var f,F=1,L={},D=!1,p=w.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(w);T=T&&T.setTimeout?T:w,"[object process]"==={}.toString.call(w.process)?function R(){f=function(N){y.nextTick(function(){U(N)})}}():function H(){if(w.postMessage&&!w.importScripts){var N=!0,C=w.onmessage;return w.onmessage=function(){N=!1},w.postMessage("","*"),w.onmessage=C,N}}()?function k(){var N="setImmediate$"+Math.random()+"$",C=function(B){B.source===w&&"string"==typeof B.data&&0===B.data.indexOf(N)&&U(+B.data.slice(N.length))};w.addEventListener?w.addEventListener("message",C,!1):w.attachEvent("onmessage",C),f=function(B){w.postMessage(N+B,"*")}}():w.MessageChannel?function O(){var N=new MessageChannel;N.port1.onmessage=function(C){U(C.data)},f=function(C){N.port2.postMessage(C)}}():p&&"onreadystatechange"in p.createElement("script")?function M(){var N=p.documentElement;f=function(C){var B=p.createElement("script");B.onreadystatechange=function(){U(C),B.onreadystatechange=null,N.removeChild(B),B=null},N.appendChild(B)}}():function P(){f=function(N){setTimeout(U,0,N)}}(),T.setImmediate=function g(N){"function"!=typeof N&&(N=new Function(""+N));for(var C=new Array(arguments.length-1),B=0;B<C.length;B++)C[B]=arguments[B+1];return L[F]={callback:N,args:C},f(F),F++},T.clearImmediate=v}function v(N){delete L[N]}function U(N){if(D)setTimeout(U,0,N);else{var C=L[N];if(C){D=!0;try{!function A(N){var C=N.callback,B=N.args;switch(B.length){case 0:C();break;case 1:C(B[0]);break;case 2:C(B[0],B[1]);break;case 3:C(B[0],B[1],B[2]);break;default:C.apply(E,B)}}(C)}finally{v(N),D=!1}}}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=w;var t=c(
/*! events */
"./node_modules/events/events.js").EventEmitter;function w(){t.call(this)}c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(w,t),w.Readable=c(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),w.Writable=c(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),w.Duplex=c(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),w.Transform=c(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),w.PassThrough=c(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),w.Stream=w,w.prototype.pipe=function(E,F){var L=this;function D(R){E.writable&&!1===E.write(R)&&L.pause&&L.pause()}function p(){L.readable&&L.resume&&L.resume()}L.on("data",D),E.on("drain",p),!E._isStdio&&(!F||!1!==F.end)&&(L.on("end",g),L.on("close",v));var f=!1;function g(){f||(f=!0,E.end())}function v(){f||(f=!0,"function"==typeof E.destroy&&E.destroy())}function A(R){if(U(),0===t.listenerCount(this,"error"))throw R}function U(){L.removeListener("data",D),E.removeListener("drain",p),L.removeListener("end",g),L.removeListener("close",v),L.removeListener("error",A),E.removeListener("error",A),L.removeListener("end",U),L.removeListener("close",U),E.removeListener("close",U)}return L.on("error",A),E.on("error",A),L.on("end",U),L.on("close",U),E.on("close",U),E.emit("pipe",L),E}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,y=t.isEncoding||function(M){switch((M=""+M)&&M.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function F(M){var P;switch(this.encoding=function E(M){var P=function w(M){if(!M)return"utf8";for(var P;;)switch(M){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return M;default:if(P)return;M=(""+M).toLowerCase(),P=!0}}(M);if("string"!=typeof P&&(t.isEncoding===y||!y(M)))throw new Error("Unknown encoding: "+M);return P||M}(M),this.encoding){case"utf16le":this.text=A,this.end=U,P=4;break;case"utf8":this.fillLast=f,P=4;break;case"base64":this.text=R,this.end=H,P=3;break;default:return this.write=k,void(this.end=O)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(P)}function L(M){return M<=127?0:M>>5==6?2:M>>4==14?3:M>>3==30?4:M>>6==2?-1:-2}function f(M){var P=this.lastTotal-this.lastNeed,T=function p(M,P,T){if(128!=(192&P[0]))return M.lastNeed=0,"\ufffd";if(M.lastNeed>1&&P.length>1){if(128!=(192&P[1]))return M.lastNeed=1,"\ufffd";if(M.lastNeed>2&&P.length>2&&128!=(192&P[2]))return M.lastNeed=2,"\ufffd"}}(this,M);return void 0!==T?T:this.lastNeed<=M.length?(M.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(M.copy(this.lastChar,P,0,M.length),void(this.lastNeed-=M.length))}function A(M,P){if((M.length-P)%2==0){var T=M.toString("utf16le",P);if(T){var N=T.charCodeAt(T.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=M[M.length-1],M.toString("utf16le",P,M.length-1)}function U(M){var P=M&&M.length?this.write(M):"";return this.lastNeed?P+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):P}function R(M,P){var T=(M.length-P)%3;return 0===T?M.toString("base64",P):(this.lastNeed=3-T,this.lastTotal=3,1===T?this.lastChar[0]=M[M.length-1]:(this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1]),M.toString("base64",P,M.length-T))}function H(M){var P=M&&M.length?this.write(M):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function k(M){return M.toString(this.encoding)}function O(M){return M&&M.length?this.write(M):""}S.StringDecoder=F,F.prototype.write=function(M){if(0===M.length)return"";var P,T;if(this.lastNeed){if(void 0===(P=this.fillLast(M)))return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<M.length?P?P+this.text(M,T):this.text(M,T):P||""},F.prototype.end=function v(M){var P=M&&M.length?this.write(M):"";return this.lastNeed?P+"\ufffd":P},F.prototype.text=function g(M,P){var T=function D(M,P,T){var N=P.length-1;if(N<T)return 0;var C=L(P[N]);return C>=0?(C>0&&(M.lastNeed=C-1),C):--N<T||-2===C?0:(C=L(P[N]))>=0?(C>0&&(M.lastNeed=C-2),C):--N<T||-2===C?0:(C=L(P[N]))>=0?(C>0&&(2===C?C=0:M.lastNeed=C-3),C):0}(this,M,P);if(!this.lastNeed)return M.toString("utf8",P);this.lastTotal=T;var N=M.length-(T-this.lastNeed);return M.copy(this.lastChar,0,N),M.toString("utf8",P,N)},F.prototype.fillLast=function(M){if(this.lastNeed<=M.length)return M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,M.length),this.lastNeed-=M.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(tt,S,c){(function(t){var y=typeof t<"u"&&t||typeof self<"u"&&self||window,w=Function.prototype.apply;function E(F,L){this._id=F,this._clearFn=L}S.setTimeout=function(){return new E(w.call(setTimeout,y,arguments),clearTimeout)},S.setInterval=function(){return new E(w.call(setInterval,y,arguments),clearInterval)},S.clearTimeout=S.clearInterval=function(F){F&&F.close()},E.prototype.unref=E.prototype.ref=function(){},E.prototype.close=function(){this._clearFn.call(y,this._id)},S.enroll=function(F,L){clearTimeout(F._idleTimeoutId),F._idleTimeout=L},S.unenroll=function(F){clearTimeout(F._idleTimeoutId),F._idleTimeout=-1},S._unrefActive=S.active=function(F){clearTimeout(F._idleTimeoutId);var L=F._idleTimeout;L>=0&&(F._idleTimeoutId=setTimeout(function(){F._onTimeout&&F._onTimeout()},L))},c(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),S.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,S.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(tt,S,c){var t;!function(y,w){"use strict";var D="function",p="undefined",f="object",g="string",A="model",U="name",R="type",H="vendor",k="version",O="architecture",M="console",P="mobile",T="tablet",N="smarttv",C="wearable",B="embedded",q="Amazon",le="Apple",$="BlackBerry",ae="Browser",K="Chrome",oe="Firefox",he="Google",fe="Microsoft",Re="Motorola",xe="Opera",pe="Samsung",ke="Sony",we="Xiaomi",Ve="Zebra",st="Facebook",Ne=function(ve){for(var de={},Ae=0;Ae<ve.length;Ae++)de[ve[Ae].toUpperCase()]=ve[Ae];return de},Te=function(ve,de){return typeof ve===g&&-1!==Y(de).indexOf(Y(ve))},Y=function(ve){return ve.toLowerCase()},_e=function(ve,de){if(typeof ve===g)return ve=ve.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof de===p?ve:ve.substring(0,350)},J=function(ve,de){for(var We,He,at,ct,it,vt,Ae=0;Ae<de.length&&!it;){var Ht=de[Ae],It=de[Ae+1];for(We=He=0;We<Ht.length&&!it;)if(it=Ht[We++].exec(ve))for(at=0;at<It.length;at++)vt=it[++He],typeof(ct=It[at])===f&&ct.length>0?2===ct.length?this[ct[0]]=typeof ct[1]==D?ct[1].call(this,vt):ct[1]:3===ct.length?this[ct[0]]=typeof ct[1]!==D||ct[1].exec&&ct[1].test?vt?vt.replace(ct[1],ct[2]):w:vt?ct[1].call(this,vt,ct[2]):w:4===ct.length&&(this[ct[0]]=vt?ct[3].call(this,vt.replace(ct[1],ct[2])):w):this[ct]=vt||w;Ae+=2}},Q=function(ve,de){for(var Ae in de)if(typeof de[Ae]===f&&de[Ae].length>0){for(var We=0;We<de[Ae].length;We++)if(Te(de[Ae][We],ve))return"?"===Ae?w:Ae}else if(Te(de[Ae],ve))return"?"===Ae?w:Ae;return ve},te={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ie={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[U,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[U,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[U,k],[/opios[\/ ]+([\w\.]+)/i],[k,[U,xe+" Mini"]],[/\bopr\/([\w\.]+)/i],[k,[U,xe]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[U,k],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[U,"UC"+ae]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[k,[U,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[k,[U,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[U,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[U,"IE"]],[/yabrowser\/([\w\.]+)/i],[k,[U,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[U,/(.+)/,"$1 Secure "+ae],k],[/\bfocus\/([\w\.]+)/i],[k,[U,oe+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[U,xe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[U,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[U,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[U,xe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[U,"MIUI "+ae]],[/fxios\/([-\w\.]+)/i],[k,[U,oe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[U,"360 "+ae]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[U,/(.+)/,"$1 "+ae],k],[/(comodo_dragon)\/([\w\.]+)/i],[[U,/_/g," "],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[U,k],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[U],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[U,st],k],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[U,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[U,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[U,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[U,K+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[U,"Android "+ae]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[U,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[U,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,U],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[U,[k,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[U,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[U,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[U,oe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[U,k]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[O,"amd64"]],[/(ia32(?=;))/i],[[O,Y]],[/((?:i[346]|x)86)[;\)]/i],[[O,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/windows (ce|mobile); ppc;/i],[[O,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[O,/ower/,"",Y]],[/(sun4\w)[;\)]/i],[[O,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[O,Y]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[A,[H,pe],[R,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[A,[H,pe],[R,P]],[/\((ip(?:hone|od)[\w ]*);/i],[A,[H,le],[R,P]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[A,[H,le],[R,T]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[A,[H,"Huawei"],[R,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[A,[H,"Huawei"],[R,P]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[A,/_/g," "],[H,we],[R,P]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[A,/_/g," "],[H,we],[R,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[A,[H,"OPPO"],[R,P]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[A,[H,"Vivo"],[R,P]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[A,[H,"Realme"],[R,P]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[A,[H,Re],[R,P]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[A,[H,Re],[R,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[A,[H,"LG"],[R,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[A,[H,"LG"],[R,P]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[A,[H,"Lenovo"],[R,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[A,/_/g," "],[H,"Nokia"],[R,P]],[/(pixel c)\b/i],[A,[H,he],[R,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[A,[H,he],[R,P]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[A,[H,ke],[R,P]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[A,"Xperia Tablet"],[H,ke],[R,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[A,[H,"OnePlus"],[R,P]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[A,[H,q],[R,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[A,/(.+)/g,"Fire Phone $1"],[H,q],[R,P]],[/(playbook);[-\w\),; ]+(rim)/i],[A,H,[R,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[A,[H,$],[R,P]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[A,[H,"ASUS"],[R,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[A,[H,"ASUS"],[R,P]],[/(nexus 9)/i],[A,[H,"HTC"],[R,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[H,[A,/_/g," "],[R,P]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[A,[H,"Acer"],[R,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[A,[H,"Meizu"],[R,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[A,[H,"Sharp"],[R,P]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[H,A,[R,P]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[H,A,[R,T]],[/(surface duo)/i],[A,[H,fe],[R,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[A,[H,"Fairphone"],[R,P]],[/(u304aa)/i],[A,[H,"AT&T"],[R,P]],[/\bsie-(\w*)/i],[A,[H,"Siemens"],[R,P]],[/\b(rct\w+) b/i],[A,[H,"RCA"],[R,T]],[/\b(venue[\d ]{2,7}) b/i],[A,[H,"Dell"],[R,T]],[/\b(q(?:mv|ta)\w+) b/i],[A,[H,"Verizon"],[R,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[A,[H,"Barnes & Noble"],[R,T]],[/\b(tm\d{3}\w+) b/i],[A,[H,"NuVision"],[R,T]],[/\b(k88) b/i],[A,[H,"ZTE"],[R,T]],[/\b(nx\d{3}j) b/i],[A,[H,"ZTE"],[R,P]],[/\b(gen\d{3}) b.+49h/i],[A,[H,"Swiss"],[R,P]],[/\b(zur\d{3}) b/i],[A,[H,"Swiss"],[R,T]],[/\b((zeki)?tb.*\b) b/i],[A,[H,"Zeki"],[R,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[H,"Dragon Touch"],A,[R,T]],[/\b(ns-?\w{0,9}) b/i],[A,[H,"Insignia"],[R,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[A,[H,"NextBook"],[R,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[H,"Voice"],A,[R,P]],[/\b(lvtel\-)?(v1[12]) b/i],[[H,"LvTel"],A,[R,P]],[/\b(ph-1) /i],[A,[H,"Essential"],[R,P]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[A,[H,"Envizen"],[R,T]],[/\b(trio[-\w\. ]+) b/i],[A,[H,"MachSpeed"],[R,T]],[/\btu_(1491) b/i],[A,[H,"Rotor"],[R,T]],[/(shield[\w ]+) b/i],[A,[H,"Nvidia"],[R,T]],[/(sprint) (\w+)/i],[H,A,[R,P]],[/(kin\.[onetw]{3})/i],[[A,/\./g," "],[H,fe],[R,P]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[A,[H,Ve],[R,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[A,[H,Ve],[R,P]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[H,A,[R,M]],[/droid.+; (shield) bui/i],[A,[H,"Nvidia"],[R,M]],[/(playstation [345portablevi]+)/i],[A,[H,ke],[R,M]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[A,[H,fe],[R,M]],[/smart-tv.+(samsung)/i],[H,[R,N]],[/hbbtv.+maple;(\d+)/i],[[A,/^/,"SmartTV"],[H,pe],[R,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[H,"LG"],[R,N]],[/(apple) ?tv/i],[H,[A,le+" TV"],[R,N]],[/crkey/i],[[A,K+"cast"],[H,he],[R,N]],[/droid.+aft(\w)( bui|\))/i],[A,[H,q],[R,N]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[A,[H,"Sharp"],[R,N]],[/(bravia[\w ]+)( bui|\))/i],[A,[H,ke],[R,N]],[/(mitv-\w{5}) bui/i],[A,[H,we],[R,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[H,_e],[A,_e],[R,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[R,N]],[/((pebble))app/i],[H,A,[R,C]],[/droid.+; (glass) \d/i],[A,[H,he],[R,C]],[/droid.+; (wt63?0{2,3})\)/i],[A,[H,Ve],[R,C]],[/(quest( 2)?)/i],[A,[H,st],[R,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[H,[R,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[A,[R,P]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[A,[R,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[R,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[R,P]],[/(android[-\w\. ]{0,9});.+buil/i],[A,[H,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[U,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[U,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[U,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,U]],os:[[/microsoft (windows) (vista|xp)/i],[U,k],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[U,[k,Q,te]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[U,"Windows"],[k,Q,te]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[U,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[U,"Mac OS"],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,U],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[U,k],[/\(bb(10);/i],[k,[U,$]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[U,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[U,oe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[U,"webOS"]],[/crkey\/([\d\.]+)/i],[k,[U,K+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[U,"Chromium OS"],k],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[U,k],[/(sunos) ?([\w\.\d]*)/i],[[U,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[U,k]]},ee=function(ve,de){if(typeof ve===f&&(de=ve,ve=w),!(this instanceof ee))return new ee(ve,de).getResult();var Ae=ve||(typeof y!==p&&y.navigator&&y.navigator.userAgent?y.navigator.userAgent:""),We=de?function(ve,de){var Ae={};for(var We in ve)Ae[We]=de[We]&&de[We].length%2==0?de[We].concat(ve[We]):ve[We];return Ae}(ie,de):ie;return this.getBrowser=function(){var He={};return He[U]=w,He[k]=w,J.call(He,Ae,We.browser),He.major=function(ve){return typeof ve===g?ve.replace(/[^\d\.]/g,"").split(".")[0]:w}(He.version),He},this.getCPU=function(){var He={};return He[O]=w,J.call(He,Ae,We.cpu),He},this.getDevice=function(){var He={};return He[H]=w,He[A]=w,He[R]=w,J.call(He,Ae,We.device),He},this.getEngine=function(){var He={};return He[U]=w,He[k]=w,J.call(He,Ae,We.engine),He},this.getOS=function(){var He={};return He[U]=w,He[k]=w,J.call(He,Ae,We.os),He},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ae},this.setUA=function(He){return Ae=typeof He===g&&He.length>350?_e(He,350):He,this},this.setUA(Ae),this};ee.VERSION="1.0.32",ee.BROWSER=Ne([U,k,"major"]),ee.CPU=Ne([O]),ee.DEVICE=Ne([A,H,R,M,P,N,T,C,B]),ee.ENGINE=ee.OS=Ne([U,k]),typeof S!==p?(typeof tt!==p&&tt.exports&&(S=tt.exports=ee),S.UAParser=ee):c(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(t=function(){return ee}.call(S,c,S,tt))!==w&&(tt.exports=t):typeof y!==p&&(y.UAParser=ee);var X=typeof y!==p&&(y.jQuery||y.Zepto);if(X&&!X.ua){var ue=new ee;X.ua=ue.getResult(),X.ua.get=function(){return ue.getUA()},X.ua.set=function(ve){ue.setUA(ve);var de=ue.getResult();for(var Ae in de)X.ua[Ae]=de[Ae]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(tt,S,c){(function(t){function w(E){try{if(!t.localStorage)return!1}catch{return!1}var F=t.localStorage[E];return null!=F&&"true"===String(F).toLowerCase()}tt.exports=function y(E,F){if(w("noDeprecation"))return E;var L=!1;return function D(){if(!L){if(w("throwDeprecation"))throw new Error(F);w("traceDeprecation")?console.trace(F):console.warn(F),L=!0}return E.apply(this,arguments)}}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(tt,S){(function(c){tt.exports=c}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(tt,S){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{"object"==typeof window&&(c=window)}tt.exports=c},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./EventBus */
"./src/core/EventBus.js"),y=c(
/*! ./events/Events */
"./src/core/events/Events.js"),w=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),F=1,L=2,D=3,p=4,f=5;function g(A){A=A||{};var O,M,P,T,U=this.context,R=Object(t.default)(U).getInstance(),H=A.settings,k=[];function C(oe){return oe&&oe.bind?oe.bind(window.console):window.console.log.bind(window.console)}function le(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];ge.apply(void 0,[F,this].concat(he))}function Fe(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];ge.apply(void 0,[L,this].concat(he))}function $(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];ge.apply(void 0,[D,this].concat(he))}function ae(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];ge.apply(void 0,[p,this].concat(he))}function K(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];ge.apply(void 0,[f,this].concat(he))}function ge(oe,he){var Ce="",Le=null;M&&(Le=(new Date).getTime(),Ce+="["+(Le-T)+"]"),P&&he&&he.getClassName&&(Ce+="["+he.getClassName()+"]",he.getType&&(Ce+="["+he.getType()+"]")),Ce.length>0&&(Ce+=" ");for(var fe=arguments.length,Re=new Array(fe>2?fe-2:0),xe=2;xe<fe;xe++)Re[xe-2]=arguments[xe];Array.apply(null,Re).forEach(function(pe){Ce+=pe+" "}),k[oe]&&H.get().debug.logLevel>=oe&&k[oe](Ce),H&&H.get().debug.dispatchEvent&&R.trigger(y.default.LOG,{message:Ce,level:oe})}return O={getLogger:function B(oe){return{fatal:le.bind(oe),error:Fe.bind(oe),warn:$.bind(oe),info:ae.bind(oe),debug:K.bind(oe)}},setLogTimestampVisible:function W(oe){M=oe},setCalleeNameVisible:function q(oe){P=oe}},function N(){M=!0,P=!0,T=(new Date).getTime(),typeof window<"u"&&window.console&&(k[F]=C(window.console.error),k[L]=C(window.console.error),k[D]=C(window.console.warn),k[p]=C(window.console.info),k[f]=C(window.console.debug))}(),O}g.__dashjs_factory_name="Debug";var v=w.default.getSingletonFactory(g);v.LOG_LEVEL_NONE=0,v.LOG_LEVEL_FATAL=F,v.LOG_LEVEL_ERROR=L,v.LOG_LEVEL_WARNING=D,v.LOG_LEVEL_INFO=p,v.LOG_LEVEL_DEBUG=f,w.default.updateSingletonFactory(g.__dashjs_factory_name,v),S.default=v},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function F(){var D={};function v(R,H,k){var O=-1;return D[R]&&D[R].some(function(M,P){if(M&&M.callback===H&&(!k||k===M.scope))return O=P,!0}),O}return{on:function p(R,H,k){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!R)throw new Error("event type cannot be null or undefined");if(!H||"function"!=typeof H)throw new Error("listener must be a function: "+H);var M=O.priority||0;if(!(v(R,H,k)>=0)){D[R]=D[R]||[];var P={callback:H,scope:k,priority:M};k&&k.getStreamId&&(P.streamId=k.getStreamId()),k&&k.getType&&(P.mediaType=k.getType()),O&&O.mode&&(P.mode=O.mode),D[R].some(function(N,C){if(N&&M>N.priority)return D[R].splice(C,0,P),!0})||D[R].push(P)}},off:function f(R,H,k){if(R&&H&&D[R]){var O=v(R,H,k);O<0||(D[R][O]=null)}},trigger:function g(R){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(R&&D[R]){if((H=H||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");H.type=R,k.streamId&&(H.streamId=k.streamId),k.mediaType&&(H.mediaType=k.mediaType),D[R].filter(function(O){return!(!O||k.streamId&&O.streamId&&O.streamId!==k.streamId||k.mediaType&&O.mediaType&&O.mediaType!==k.mediaType||k.mode&&O.mode&&O.mode!==k.mode||!O.mode&&k.mode&&k.mode===y.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(O){return O&&O.callback.call(O.scope,H)})}},reset:function A(){D={}}}}F.__dashjs_factory_name="EventBus";var L=t.default.getSingletonFactory(F);L.EVENT_PRIORITY_LOW=0,L.EVENT_PRIORITY_HIGH=5e3,t.default.updateSingletonFactory(F.__dashjs_factory_name,L),S.default=L},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=function(){var y,w=[],E={},F={};function D(P,T){for(var N in w){var C=w[N];if(C.context===P&&C.name===T)return C.instance}return null}function g(P,T){return T[P]}function v(P,T,N){P in N&&(N[P]=T)}function M(P,T,N){var C,B=P.__dashjs_factory_name,W=T[B];if(W){var q=W.instance;if(!W.override)return q.apply({context:T,factory:y},N);for(var le in C=P.apply({context:T},N),q=q.apply({context:T,factory:y,parent:C},N))C.hasOwnProperty(le)&&(C[le]=q[le])}else C=P.apply({context:T},N);return C.getClassName=function(){return B},C}return y={extend:function L(P,T,N,C){!C[P]&&T&&(C[P]={instance:T,override:N})},getSingletonInstance:D,setSingletonInstance:function p(P,T,N){for(var C in w){var B=w[C];if(B.context===P&&B.name===T)return void(w[C].instance=N)}w.push({name:T,context:P,instance:N})},deleteSingletonInstances:function f(P){w=w.filter(function(T){return T.context!==P})},getSingletonFactory:function O(P){var T=g(P.__dashjs_factory_name,E);return T||(T=function(C){var B;return void 0===C&&(C={}),{getInstance:function(){return B||(B=D(C,P.__dashjs_factory_name)),B||(B=M(P,C,arguments),w.push({name:P.__dashjs_factory_name,context:C,instance:B})),B}}},E[P.__dashjs_factory_name]=T),T},getSingletonFactoryByName:function k(P){return g(P,E)},updateSingletonFactory:function H(P,T){v(P,T,E)},getClassFactory:function R(P){var T=g(P.__dashjs_factory_name,F);return T||(T=function(C){return void 0===C&&(C={}),{create:function(){return M(P,C,arguments)}}},F[P.__dashjs_factory_name]=T),T},getClassFactoryByName:function U(P){return g(P,F)},updateClassFactory:function A(P,T){v(P,T,F)}}}();S.default=t},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./Utils.js */
"./src/core/Utils.js"),w=c(
/*! ../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),L=c(
/*! ./EventBus */
"./src/core/EventBus.js"),D=c(
/*! ./events/Events */
"./src/core/events/Events.js");function p(R){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(R)}function f(R,H,k){return(H=function g(R){var H=function v(R,H){if("object"!==p(R)||null===R)return R;var k=R[Symbol.toPrimitive];if(void 0!==k){var O=k.call(R,H||"default");if("object"!==p(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===H?String:Number)(R)}(R,"string");return"symbol"===p(H)?H:String(H)}(H))in R?Object.defineProperty(R,H,{value:k,enumerable:!0,configurable:!0,writable:!0}):R[H]=k,R}function A(){var R,H,O=this.context,M=Object(L.default)(O).getInstance(),P={"streaming.delay.liveDelay":D.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":D.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},T={debug:{logLevel:w.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:E.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:E.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:E.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:E.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(R={},f(R,F.HTTPRequest.MPD_TYPE,500),f(R,F.HTTPRequest.XLINK_EXPANSION_TYPE,500),f(R,F.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.INIT_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.LICENSE,1e3),f(R,F.HTTPRequest.OTHER_TYPE,1e3),f(R,"lowLatencyReductionFactor",10),R),retryAttempts:(H={},f(H,F.HTTPRequest.MPD_TYPE,3),f(H,F.HTTPRequest.XLINK_EXPANSION_TYPE,1),f(H,F.HTTPRequest.MEDIA_SEGMENT_TYPE,3),f(H,F.HTTPRequest.INIT_SEGMENT_TYPE,3),f(H,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),f(H,F.HTTPRequest.INDEX_SEGMENT_TYPE,3),f(H,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),f(H,F.HTTPRequest.LICENSE,3),f(H,F.HTTPRequest.OTHER_TYPE,3),f(H,"lowLatencyMultiplyFactor",5),H),abr:{movingAverageMethod:E.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:E.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:E.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:E.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},N=y.default.clone(T);function C(le,Fe,$){for(var ae in le)le.hasOwnProperty(ae)&&(Fe.hasOwnProperty(ae)?"object"!==p(le[ae])||le[ae]instanceof Array||null===le[ae]?(Fe[ae]=y.default.clone(le[ae]),P[$+ae]&&M.trigger(P[$+ae])):C(le[ae],Fe[ae],$.slice()+ae+"."):console.error("Settings parameter "+$+ae+" is not supported"))}return{get:function B(){return N},update:function W(le){"object"===p(le)&&C(le,N,"")},reset:function q(){N=y.default.clone(T)}}}A.__dashjs_factory_name="Settings";var U=t.default.getSingletonFactory(A);S.default=U},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),y=c.n(t),w=c(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function F(A){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function D(A,U){for(var R=0;R<U.length;R++){var H=U[R];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(A,f(H.key),H)}}function f(A){var U=function g(A,U){if("object"!==F(A)||null===A)return A;var R=A[Symbol.toPrimitive];if(void 0!==R){var H=R.call(A,U||"default");if("object"!==F(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(A)}(A,"string");return"symbol"===F(U)?U:String(U)}var v=function(){function A(){!function L(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")}(this,A)}return function p(A,U,R){return U&&D(A.prototype,U),R&&D(A,R),Object.defineProperty(A,"prototype",{writable:!1}),A}(A,null,[{key:"mixin",value:function(R,H,k){var O,M={};if(R)for(var P in H)H.hasOwnProperty(P)&&(O=H[P],(!(P in R)||R[P]!==O&&(!(P in M)||M[P]!==O))&&(R[P]="object"===F(R[P])&&null!==R[P]?A.mixin(R[P],O,k):k(O)));return R}},{key:"clone",value:function(R){if(!R||"object"!==F(R))return R;var H;if(R instanceof Array){H=[];for(var k=0,O=R.length;k<O;++k)k in R&&H.push(A.clone(R[k]))}else H={};return A.mixin(H,R,A.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(R,H){try{if(!H||0===H.length)return R;var k=new URL(R);return H.forEach(function(O){O.key&&O.value&&k.searchParams.set(O.key,O.value)}),k.href}catch{return R}}},{key:"parseHttpHeaders",value:function(R){var H={};if(!R)return H;for(var k=R.trim().split("\r\n"),O=0,M=k.length;O<M;O++){var P=k[O],T=P.indexOf(": ");T>0&&(H[P.substring(0,T)]=P.substring(T+2))}return H}},{key:"generateUuid",value:function(){var R=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(k){var O=(R+16*Math.random())%16|0;return R=Math.floor(R/16),("x"==k?O:3&O|8).toString(16)})}},{key:"generateHashCode",value:function(R){var H=0;if(0===R.length)return H;for(var k=0;k<R.length;k++)H=(H<<5)-H+R.charCodeAt(k),H|=0;return H}},{key:"getRelativeUrl",value:function(R,H){try{var k=new URL(R),O=new URL(H);if(k.protocol=O.protocol,k.origin!==O.origin)return H;var M=y.a.relative(k.pathname.substr(0,k.pathname.lastIndexOf("/")),O.pathname.substr(0,O.pathname.lastIndexOf("/"))),P=0===M.length?1:0;return M+=O.pathname.substr(O.pathname.lastIndexOf("/")+P,O.pathname.length-1),O.pathname.length<M.length?O.pathname:M}catch{return H}}},{key:"parseUserAgent",value:function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var H=null===R&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(w.UAParser)(H)}catch{return{}}}}]),A}();S.default=v},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(tt,S,c){"use strict";c.r(S),c.d(S,"getVersionString",function(){return y});var t="4.5.2";function y(){return t}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function w(O,M){for(var P=0;P<M.length;P++){var T=M[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var M=function L(O,M){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,M||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===y(M)?M:String(M)}function p(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&f(O,M)}function f(O,M){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,M)}function g(O){var M=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(M){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(O,M){if(M&&("object"===y(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var k=new(function(O){p(P,O);var M=g(P);function P(){var T;return function D(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,P),(T=M.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,T.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,T.SEGMENT_BASE_LOADER_ERROR_CODE=15,T.TIME_SYNC_FAILED_ERROR_CODE=16,T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,T.APPEND_ERROR_CODE=20,T.REMOVE_ERROR_CODE=21,T.DATA_UPDATE_FAILED_ERROR_CODE=22,T.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,T.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,T.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,T.DOWNLOAD_ERROR_ID_SIDX_CODE=26,T.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,T.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,T.DOWNLOAD_ERROR_ID_XLINK_CODE=29,T.MANIFEST_ERROR_ID_PARSE_CODE=31,T.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,T.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,T.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,T.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,T.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",T.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",T.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",T.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",T.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",T.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",T.APPEND_ERROR_MESSAGE="chunk is not defined",T.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",T.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",T.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",T.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",T.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",T.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",T}return function E(O,M,P){return M&&w(O.prototype,M),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));S.default=k},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(){!function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p)}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"extend",value:function(g,v){if(g){var A=!!v&&v.override,U=!!v&&v.publicOnly;for(var R in g)!g.hasOwnProperty(R)||this[R]&&!A||U&&-1===g[R].indexOf("public_")||(this[R]=g[R])}}}]),p}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function y(k){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(k)}function w(k,O){for(var M=0;M<O.length;M++){var P=O[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,F(P.key),P)}}function F(k){var O=function L(k,O){if("object"!==y(k)||null===k)return k;var M=k[Symbol.toPrimitive];if(void 0!==M){var P=M.call(k,O||"default");if("object"!==y(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(k)}(k,"string");return"symbol"===y(O)?O:String(O)}function p(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),O&&f(k,O)}function f(k,O){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,T){return P.__proto__=T,P})(k,O)}function g(k){var O=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,P=R(k);if(O){var N=R(this).constructor;T=Reflect.construct(P,arguments,N)}else T=P.apply(this,arguments);return function v(k,O){if(O&&("object"===y(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)})(k)}S.default=function(k){p(M,k);var O=g(M);function M(){var P;return function D(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,M),(P=O.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",P.BUFFERING_COMPLETED="bufferingCompleted",P.BUFFER_CLEARED="bufferCleared",P.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",P.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",P.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",P.CURRENT_TRACK_CHANGED="currentTrackChanged",P.DATA_UPDATE_COMPLETED="dataUpdateCompleted",P.INBAND_EVENTS="inbandEvents",P.INITIAL_STREAM_SWITCH="initialStreamSwitch",P.INIT_FRAGMENT_LOADED="initFragmentLoaded",P.INIT_FRAGMENT_NEEDED="initFragmentNeeded",P.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",P.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",P.LOADING_COMPLETED="loadingCompleted",P.LOADING_PROGRESS="loadingProgress",P.LOADING_DATA_PROGRESS="loadingDataProgress",P.LOADING_ABANDONED="loadingAborted",P.MANIFEST_UPDATED="manifestUpdated",P.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",P.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",P.QUOTA_EXCEEDED="quotaExceeded",P.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",P.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",P.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",P.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",P.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",P.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",P.SOURCE_BUFFER_ERROR="sourceBufferError",P.STREAMS_COMPOSED="streamsComposed",P.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",P.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",P.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",P.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",P.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",P.URL_RESOLUTION_FAILED="urlResolutionFailed",P.VIDEO_CHUNK_RECEIVED="videoChunkReceived",P.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",P.XLINK_ELEMENT_LOADED="xlinkElementLoaded",P.XLINK_READY="xlinkReady",P.SEEK_TARGET="seekTarget",P.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",P.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",P.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",P.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",P.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",P}return function E(k,O,M){return O&&w(k.prototype,O),M&&w(k,M),Object.defineProperty(k,"prototype",{writable:!1}),k}(M)}(t.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function w(O,M){for(var P=0;P<M.length;P++){var T=M[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var M=function L(O,M){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,M||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===y(M)?M:String(M)}function p(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&f(O,M)}function f(O,M){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,M)}function g(O){var M=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(M){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(O,M){if(M&&("object"===y(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var H=function(O){p(P,O);var M=g(P);function P(){return function D(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,P),M.apply(this,arguments)}return function E(O,M,P){return M&&w(O.prototype,M),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),k=new H;S.default=k},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(){!function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p)}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"extend",value:function(g,v){if(g){var A=!!v&&v.override,U=!!v&&v.publicOnly;for(var R in g)!g.hasOwnProperty(R)||this[R]&&!A||U&&-1===g[R].indexOf("public_")||(this[R]=g[R])}}}]),p}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),y=c(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),w=c(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),E=c(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),F=c(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),L=c(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),D=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),f=c(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),g=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),v=c.n(g);function A(){var U,R,H,k,O,M,P,T=this.context;function le(De){return R.getRolesForAdaptation(De).filter(function(Pe){return Pe.value===t.default.MAIN})[0]}function Fe(De,Pe,Ye){var $e=R.getAdaptationsForType(k[0].mpd.manifest,De,Pe);if(!$e||0===$e.length)return null;if($e.length>1&&Ye){var lt=K(Ye,Pe);if(O[Ye.id]&&O[Ye.id][Pe])for(var ot=0,dt=$e.length;ot<dt;ot++)if($(O[Ye.id][Pe],lt[ot]))return $e[ot];for(var Ft=0,$t=$e.length;Ft<$t;Ft++)if(le($e[Ft]))return $e[Ft]}return $e[0]}function $(De,Pe){if(!De||!Pe)return!1;var Ye=De.id===Pe.id,$e=De.codec===Pe.codec,lt=De.viewpoint===Pe.viewpoint,ot=De.lang===Pe.lang,dt=De.roles.toString()===Pe.roles.toString(),Ft=De.accessibility.toString()===Pe.accessibility.toString(),$t=De.audioChannelConfiguration.toString()===Pe.audioChannelConfiguration.toString();return Ye&&$e&&lt&&ot&&dt&&Ft&&$t}function ae(De,Pe,Ye,$e,lt,ot){var $t,Lt,Jt,cn,mn,dt=[];if(!$e||0===$e.length)return[];var xn=R.getAdaptationsForPeriod(Pe);for(Jt=0,mn=$e.length;Jt<mn;Jt++)if($t=jt(xn[Lt=R.getIndexForAdaptation($e[Jt],De,Ye.index)]),ot){var Ln=$t.accessibility.length;for(cn=0;cn<Ln;cn++)if($t){var Yn=$t.accessibility[cn];if(0===Yn.indexOf("cea-608:")){var ci=Yn.substring(8).split(";");if("CC"===ci[0].substring(0,2))for(cn=0;cn<ci.length;cn++)$t||($t=jt.call(this,xn[Lt])),en($t,ci[cn].substring(0,3),ci[cn].substring(4)),dt.push($t),$t=null;else for(cn=0;cn<ci.length;cn++)$t||($t=jt.call(this,xn[Lt])),en($t,"CC"+(cn+1),ci[cn]),dt.push($t),$t=null}else 0===Yn.indexOf("cea-608")&&(en($t,M.CC1,"eng"),dt.push($t),$t=null)}}else lt===M.IMAGE?(dn($t),dt.push($t),$t=null):$t&&dt.push($t);return dt}function K(De,Pe,Ye){var $e=k,lt=Ye,ot=[];if(lt)Cn(),$e=Te(lt);else{if(!(k.length>0))return ot;lt=k[0].mpd.manifest}var dt=It(De,$e),Ft=R.getAdaptationsForType(lt,De?De.index:null,Pe);return ot=ae(lt,dt,De,Ft,Pe),Pe===M.TEXT&&(Ft=R.getAdaptationsForType(lt,De?De.index:null,M.VIDEO),ot=ot.concat(ae(lt,dt,De,Ft,Pe,!0))),ot}function Te(De){var Pe=Y(De);return R.getRegularPeriods(Pe)}function Y(De){var Pe=vt(De);return R.getMpd(Pe)}function at(){k=[],O={}}function vt(De){return De||(k.length>0?k[0].mpd.manifest:null)}function Ht(De){try{var Pe=It(De.streamInfo,k),Ye=R.getAdaptationsForPeriod(Pe);return De&&De.streamInfo&&void 0!==De.streamInfo.id&&Ye?Ye[De.index]:null}catch{return null}}function It(De,Pe){for(var Ye=Pe.length,$e=0;$e<Ye;$e++){var lt=Pe[$e];if(De&&De.id===lt.id)return lt}return null}function jt(De){if(!De)return null;var $e,Pe=new w.default,Ye=De.period.mpd.manifest.Period_asArray[De.period.index].AdaptationSet_asArray[De.index];if(Pe.id=De.id,Pe.index=De.index,Pe.type=De.type,Pe.streamInfo=un(De.period),Pe.representationCount=R.getRepresentationCount(Ye),Pe.labels=R.getLabelsForAdaptation(Ye),Pe.lang=R.getLanguageForAdaptation(Ye),$e=R.getViewpointForAdaptation(Ye),Pe.viewpoint=$e?$e.value:void 0,Pe.accessibility=R.getAccessibilityForAdaptation(Ye).map(function(dt){var Ft=dt.value,$t=Ft;return dt.schemeIdUri&&dt.schemeIdUri.search("cea-608")>=0&&typeof P<"u"&&($t=Ft?"cea-608:"+Ft:"cea-608",Pe.embeddedCaptions=!0),$t}),Pe.audioChannelConfiguration=R.getAudioChannelConfigurationForAdaptation(Ye).map(function(dt){return dt.value}),0===Pe.audioChannelConfiguration.length&&Array.isArray(Ye.Representation_asArray)&&Ye.Representation_asArray.length>0&&(Pe.audioChannelConfiguration=R.getAudioChannelConfigurationForRepresentation(Ye.Representation_asArray[0]).map(function(dt){return dt.value})),Pe.roles=R.getRolesForAdaptation(Ye).map(function(dt){return dt.value}),Pe.codec=R.getCodec(Ye),Pe.mimeType=R.getMimeType(Ye),Pe.contentProtection=R.getContentProtectionData(Ye),Pe.bitrateList=R.getBitrateListForAdaptation(Ye),Pe.selectionPriority=R.getSelectionPriority(Ye),Pe.contentProtection){var lt=Pe.contentProtection.map(function(dt){return R.getKID(dt)}).filter(function(dt){return null!==dt});if(lt.length){var ot=lt[0];Pe.contentProtection.forEach(function(dt){dt.keyId=ot})}}return Pe.isText=R.getIsText(Ye),Pe.supplementalProperties=R.getSupplementalProperties(Ye),Pe.isFragmented=R.getIsFragmented(Ye),Pe.isEmbedded=!1,Pe}function en(De,Pe,Ye){De.id=Pe,De.index=100+parseInt(Pe.substring(2,3)),De.type=M.TEXT,De.codec="cea-608-in-SEI",De.isEmbedded=!0,De.isFragmented=!1,De.lang=v()(Ye),De.roles=["caption"]}function dn(De){De.type=M.IMAGE}function un(De){var Pe=new E.default;return Pe.id=De.id,Pe.index=De.index,Pe.start=De.start,Pe.duration=De.duration,Pe.manifestInfo=function Kt(De){var Pe=new F.default;return Pe.dvrWindowSize=De.timeShiftBufferDepth,Pe.loadedTime=De.manifest.loadedTime,Pe.availableFrom=De.availabilityStartTime,Pe.minBufferTime=De.manifest.minBufferTime,Pe.maxFragmentDuration=De.maxSegmentDuration,Pe.duration=R.getDuration(De.manifest),Pe.isDynamic=R.getIsDynamic(De.manifest),Pe.serviceDescriptions=R.getServiceDescriptions(De.manifest),Pe.protocol=De.manifest.protocol,Pe}(De.mpd),Pe.isLast=1===De.mpd.manifest.Period_asArray.length||Math.abs(Pe.start+Pe.duration-Pe.manifestInfo.duration)<1,Pe}function Cn(){if(!M)throw new Error("setConfig function has to be called previously")}function nn(De){return k.length>0?k[0].mpd.manifest.Period_asArray[De]:null}function ft(De,Pe,Ye){var lt,ot,dt,Ft,$t;if(De)for(lt=De.AdaptationSet_asArray,Ft=0;Ft<lt.length;Ft+=1)for(dt=lt[Ft].Representation_asArray,$t=0;$t<dt.length;$t+=1)if(Pe===(ot=dt[$t]).id)return Ye?$t:ot;return null}return U={getBandwidthForRepresentation:function ve(De,Pe){var Ye;return(Ye=ft(nn(Pe),De))?Ye.bandwidth:null},getIndexForRepresentation:function de(De,Pe){return function Dt(De,Pe){var Ye=ft(De,Pe,!0);return null!==Ye?Ye:-1}(nn(Pe),De)},getMaxIndexForBufferType:function Ae(De,Pe){return function Qe(De,Pe){var Ye,$e,lt,ot;if(!De||!Pe)return-1;for($e=De.AdaptationSet_asArray,ot=0;ot<$e.length;ot+=1)if(lt=(Ye=$e[ot]).Representation_asArray,R.getIsTypeOf(Ye,Pe))return lt.length;return-1}(nn(Pe),De)},convertRepresentationToRepresentationInfo:function W(De){if(De){var Pe=new y.default,$e=R.getRepresentationFor(De.index,De.adaptation.period.mpd.manifest.Period_asArray[De.adaptation.period.index].AdaptationSet_asArray[De.adaptation.index]);return Pe.id=De.id,Pe.quality=De.index,Pe.bandwidth=R.getBandwidth($e),Pe.fragmentDuration=De.segmentDuration||(De.segments&&De.segments.length>0?De.segments[0].duration:NaN),Pe.MSETimeOffset=De.MSETimeOffset,Pe.mediaInfo=jt(De.adaptation),Pe}return null},getStreamsInfo:function oe(De,Pe){var Ye=[],$e=k;if(De&&(Cn(),$e=Te(De)),$e.length>0){(!Pe||Pe>$e.length)&&(Pe=$e.length);for(var lt=0;lt<Pe;lt++)Ye.push(un($e[lt]))}return Ye},getMediaInfoForType:function q(De,Pe){if(0===k.length||!De)return null;var Ye=It(De,k);if(!Ye)return null;var $e=R.getAdaptationsForPeriod(Ye),lt=Fe(De.index,Pe,De);return lt?jt($e[R.getIndexForAdaptation(lt,k[0].mpd.manifest,De.index)]):null},getAllMediaInfoForType:K,getAdaptationForType:Fe,getRealAdaptation:function he(De,Pe){var Ye,$e,lt=It(De,k);return Ye=Pe?Pe.id:null,k.length>0&&lt&&($e=Ye?R.getAdaptationForId(Ye,k[0].mpd.manifest,lt.index):R.getAdaptationForIndex(Pe?Pe.index:null,k[0].mpd.manifest,lt.index)),$e},getProducerReferenceTimes:function Ce(De,Pe){var Ye,$e,lt=It(De,k);return Ye=Pe?Pe.id:null,k.length>0&&lt&&($e=Ye?R.getAdaptationForId(Ye,k[0].mpd.manifest,lt.index):R.getAdaptationForIndex(Pe?Pe.index:null,k[0].mpd.manifest,lt.index)),$e?R.getProducerReferenceTimesForAdaptation($e):[]},getRealPeriodByIndex:function fe(De){return R.getRealPeriodForIndex(De,k[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Le(De){try{return R.getEssentialPropertiesForRepresentation(De)}catch{return[]}},getVoRepresentations:function Re(De){var Ye=Ht(De);return R.getRepresentationsForAdaptation(Ye)},getEventsFor:function pe(De,Pe,Ye){var $e=[];if(k.length>0){var lt=k[0].mpd.manifest;if(De instanceof E.default){var ot=It(De,k);$e=R.getEventsForPeriod(ot)}else if(De instanceof w.default){var dt=It(Ye,k);$e=R.getEventStreamForAdaptationSet(lt,Ht(De),dt)}else if(De instanceof y.default){var Ft=It(Ye,k);$e=R.getEventStreamForRepresentation(lt,Pe,Ft)}}return $e},getEvent:function xe(De,Pe,Ye,$e){try{if(!De||!Pe||isNaN(Ye)||!$e)return null;var lt=De.scheme_id_uri,ot=De.value;if(!Pe[lt+"/"+ot])return null;var mn,dt=new L.default,Ft=De.timescale||1,$t=$e.adaptation.period.start,Lt=Pe[lt+"/"+ot],Jt=isNaN($e.presentationTimeOffset)?isNaN(Lt.presentationTimeOffset)?0:Lt.presentationTimeOffset:$e.presentationTimeOffset,cn=De.presentation_time_delta/Ft;mn=0===De.version?$t+Ye-Jt+cn:$t-Jt+cn;var xn=De.event_duration/Ft,Ln=De.id,Yn=De.message_data;return dt.eventStream=Lt,dt.eventStream.value=ot,dt.eventStream.timescale=Ft,dt.duration=xn,dt.id=Ln,dt.calculatedPresentationTime=mn,dt.messageData=Yn,dt.presentationTimeDelta=cn,dt}catch{return null}},getMpd:Y,setConfig:function B(De){De&&(De.constants&&(M=De.constants),De.cea608parser&&(P=De.cea608parser),De.errHandler&&R.setConfig({errHandler:De.errHandler}),De.BASE64&&R.setConfig({BASE64:De.BASE64}))},updatePeriods:function ge(De){if(!De)return null;Cn(),k=Te(De)},getIsTextTrack:function ke(De){return R.getIsText(De)},getUTCTimingSources:function we(){var De=vt();return R.getUTCTimingSources(De)},getSuggestedPresentationDelay:function Ve(){return R.getSuggestedPresentationDelay(k.length>0?k[0].mpd:null)},getAvailabilityStartTime:function st(De){var Pe=Y(De);return R.getAvailabilityStartTime(Pe)},getIsTypeOf:function He(De,Pe){return R.getIsTypeOf(De,Pe)},getIsDynamic:function Je(De){var Pe=vt(De);return R.getIsDynamic(Pe)},getDuration:function Ne(De){var Pe=vt(De);return R.getDuration(Pe)},getRegularPeriods:Te,getContentSteering:function se(De){return R.getContentSteering(De)},getLocation:function _e(De){return R.getLocation(De)},getPatchLocation:function Z(De){var Pe=R.getPatchLocation(De),Ye=R.getPublishTime(De);if(!Pe||!Ye)return null;if(Pe.hasOwnProperty("ttl")&&Ye){var $e=1e3*parseFloat(Pe.ttl);if(Ye.getTime()+$e<=(new Date).getTime())return null}return Pe.__text},getManifestUpdatePeriod:function J(De){return R.getManifestUpdatePeriod(De,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function Q(De){return R.getPublishTime(De)},getIsDVB:function te(De){return R.hasProfile(De,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function ie(De){return H.getIsPatch(De)},getBaseURLsFromElement:function ee(De){return R.getBaseURLsFromElement(De)},getRepresentationSortFunction:function X(){return R.getRepresentationSortFunction()},getCodec:function ue(De,Pe,Ye){return R.getCodec(De,Pe,Ye)},getPeriodById:function We(De){if(!De||0===k.length)return null;var Pe=k.filter(function(Ye){return Ye.id===De});return Pe&&Pe.length>0?Pe[0]:null},setCurrentMediaInfo:function Ue(De,Pe,Ye){O[De]=O[De]||{},O[De][Pe]=O[De][Pe]||{},O[De][Pe]=Ye},isPatchValid:function ct(De,Pe){var Ye=R.getId(De),$e=H.getMpdId(Pe),lt=R.getPublishTime(De),ot=H.getPublishTime(Pe),dt=H.getOriginalPublishTime(Pe);return!!(Ye&&$e&&Ye==$e&&lt&&dt&&lt.getTime()==dt.getTime()&&ot&&lt.getTime()<ot.getTime())},applyPatchToManifest:function it(De,Pe){H.getPatchOperations(Pe).forEach(function(Ye){var $e=Ye.getMpdTarget(De);if(null!==$e){var lt=$e.name,ot=$e.target,dt=$e.leaf;if(Ye.xpath.findsAttribute()){switch(Ye.action){case"add":case"replace":ot[lt]=Ye.value;break;case"remove":delete ot[lt]}return}var Ft=(ot[lt+"_asArray"]||[]).indexOf(dt),$t="prepend"===Ye.position||"before"===Ye.position;if(("remove"===Ye.action||"replace"===Ye.action)&&(delete ot[lt],-1!=Ft)){var Lt=ot[lt+"_asArray"];Lt.splice(Ft,1),Lt.length>1?ot[lt]=Lt:1==Lt.length?ot[lt]=Lt[0]:delete ot[lt+"_asArray"]}("add"===Ye.action||"replace"===Ye.action)&&Object.keys(Ye.value).forEach(function(Jt){var cn=Ye.value[Jt],mn=ot[Jt+"_asArray"]||[];0===mn.length&&ot[Jt]&&mn.push(ot[Jt]),0===mn.length?mn=cn:mn.splice.apply(mn,[Jt==lt&&-1!=Ft?Ft+($t?0:1)+("replace"==Ye.action?-1:0):$t?0:mn.length,0].concat(cn)),ot[Jt+"_asArray"]=mn,ot[Jt]=1==mn.length?mn[0]:mn})}})},areMediaInfosEqual:$,reset:at},function C(){R=Object(p.default)(T).getInstance(),H=Object(f.default)(T).getInstance(),at()}(),U}A.__dashjs_factory_name="DashAdapter",S.default=D.default.getSingletonFactory(A)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),y=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),L=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function f(g){var P,T,N,C,B,v=(g=g||{}).eventBus,A=g.debug,U=g.urlUtils,R=g.type,H=g.streamInfo,k=g.segmentsController,O=g.timelineConverter,M=g.baseURLController;function Fe(){return R}function ae(){N=null}function ge(we,Ve,st){var Ne,Te,Je=M.resolve(st.path);return Je&&Ve!==Je.url&&U.isRelative(Ve)?(Ne=Je.url,Te=Je.serviceLocation,Ve&&(Ne=U.resolve(Ve,Ne))):Ne=Ve,!U.isRelative(Ne)&&(we.url=Ne,we.serviceLocation=Te,!0)}function Ce(we,Ve){if(null==Ve)return null;var st=new t.default,Je=Ve.representation,Ne=Je.adaptation.period.mpd.manifest.Period_asArray[Je.adaptation.period.index].AdaptationSet_asArray[Je.adaptation.index].Representation_asArray[Je.index].bandwidth,Te=Ve.media;return Te=Object(F.replaceTokenForTemplate)(Te,"Number",Ve.replacementNumber),Te=Object(F.replaceTokenForTemplate)(Te,"Time",Ve.replacementTime),Te=Object(F.replaceTokenForTemplate)(Te,"Bandwidth",Ne),Te=Object(F.replaceIDForTemplate)(Te,Je.id),Te=Object(F.unescapeDollarsInTemplate)(Te),st.mediaType=Fe(),st.type=y.HTTPRequest.MEDIA_SEGMENT_TYPE,st.range=Ve.mediaRange,st.startTime=Ve.presentationStartTime,st.mediaStartTime=Ve.mediaStartTime,st.duration=Ve.duration,st.timescale=Je.timescale,st.availabilityStartTime=Ve.availabilityStartTime,st.availabilityEndTime=Ve.availabilityEndTime,st.availabilityTimeComplete=Je.availabilityTimeComplete,st.wallStartTime=Ve.wallStartTime,st.quality=Je.index,st.index=Ve.index,st.mediaInfo=we,st.adaptationIndex=Je.adaptation.index,st.representationId=Je.id,ge(st,Te,Je)?st:void 0}function fe(we,Ve,st){var Je=null;if(!Ve||!Ve.segmentInfoType)return Je;var Ne=k.getSegmentByTime(Ve,st);return Ne&&(N=Ne,T.debug("Index for time "+st+" is "+Ne.index),Je=Ce(we,Ne)),Je}function ke(){T.debug("Dynamic stream complete"),B=!0}return P={initialize:function q(we){C=we,B=!1,k.initialize(we)},getStreamId:function le(){return H.id},getType:Fe,getStreamInfo:function $(){return H},getInitRequest:function oe(we,Ve){return Ve?function he(we,Ve,st){var Je=new t.default,Ne=Ve.adaptation.period,Te=Ne.start;if(Je.mediaType=st,Je.type=y.HTTPRequest.INIT_SEGMENT_TYPE,Je.range=Ve.range,Je.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(Te,Ve,C),Je.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(Te+Ne.duration,Ve,C),Je.quality=Ve.index,Je.mediaInfo=we,Je.representationId=Ve.id,ge(Je,Ve.initialization,Ve))return Je.url=Object(F.replaceTokenForTemplate)(Je.url,"Bandwidth",Ve.bandwidth),Je}(we,Ve,Fe()):null},getSegmentRequestForTime:fe,getCurrentIndex:function Ue(){return N?N.index:-1},getNextSegmentRequest:function xe(we,Ve){var st=null;if(!Ve||!Ve.segmentInfoType)return null;var Je=N?N.index+1:0,Ne=k.getSegmentByIndex(Ve,Je,N?N.mediaStartTime:-1);if(Ne)st=Ce(we,Ne),N=Ne;else{if(C&&!B)return T.debug(Fe()+" No segment found at index: "+Je+". Wait for next loop"),null;B=!0}return st},isLastSegmentRequested:function Le(we,Ve){if(!we||!N)return!1;if(B)return!0;if(!isFinite(we.adaptation.period.duration)||N.presentationStartTime+N.duration>Ve)return!1;if(we.mediaFinishedInformation&&!isNaN(we.mediaFinishedInformation.numberOfSegments)&&!isNaN(N.index)&&N.index>=we.mediaFinishedInformation.numberOfSegments-1){if(!C||we.segmentInfoType===L.default.SEGMENT_TEMPLATE)return!0;if(C&&we.segmentInfoType===L.default.SEGMENT_LIST&&we.adaptation.period.nextPeriodId)return!0}return!!(C&&we.adaptation.period.nextPeriodId&&we.segmentInfoType===L.default.SEGMENT_TIMELINE&&we.mediaFinishedInformation&&!isNaN(we.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&N&&!isNaN(N.mediaStartTime)&&!isNaN(N.duration)&&N.mediaStartTime+N.duration>=we.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function K(){ae(),v.off(E.default.DYNAMIC_TO_STATIC,ke,P)},getNextSegmentRequestIdempotent:function Re(we,Ve){var Ne=k.getSegmentByIndex(Ve,N?N.index+1:0,N?N.mediaStartTime:-1);return Ne?Ce(we,Ne):null},getValidTimeAheadOfTargetTime:function pe(we,Ve,st,Je){try{if(isNaN(we)||!Ve||!st)return NaN;if(we<0&&(we=0),isNaN(Je)&&(Je=.5),fe(Ve,st,we))return we;if(st.adaptation.period.start+st.adaptation.period.duration<we)return NaN;for(var Ne=isFinite(st.adaptation.period.duration)?st.adaptation.period.start+st.adaptation.period.duration:we+30,Te=Math.min(we+Je,Ne),Y=NaN,se=null;Te<=Ne;){var _e=null;if(Te<=Ne&&(_e=fe(Ve,st,Te)),_e){Y=Te,se=_e;break}Te+=Je}if(se){var J=se.startTime+se.duration;return we>se.startTime&&J-we>Je?we:!isNaN(se.startTime)&&we<se.startTime&&Y>se.startTime?se.startTime+.001:Math.min(J-Je,Y)}return Y}catch{return NaN}}},function W(){T=A.getLogger(P),ae(),v.on(E.default.DYNAMIC_TO_STATIC,ke,P)}(),P}f.__dashjs_factory_name="DashHandler",S.default=w.default.getClassFactory(f)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),F=c(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),L=c(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),D=c(
/*! ../core/Utils */
"./src/core/Utils.js"),p=c(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function f(g){var A,U,R,H,v=this.context,k=(g=g||{}).metricsModel;function le(_e){var J=k.getMetricsFor(_e,!0);if(!J)return null;var te,Q=J.HttpList,Z=null;if(!Q||Q.length<=0)return null;for(te=Q.length-1;te>=0;){if(Q[te].responsecode){Z=Q[te];break}te--}return Z}function Fe(_e){var J=k.getMetricsFor(_e,!0);return J&&J.HttpList?J.HttpList:[]}function ae(_e,J){if(!_e)return null;var Q=_e[J];return Q&&0!==Q.length?Q[Q.length-1]:null}return A={getCurrentRepresentationSwitch:function P(_e){return ae(k.getMetricsFor(_e,!0),E.default.TRACK_SWITCH)},getCurrentBufferState:function N(_e){return ae(k.getMetricsFor(_e,!0),E.default.BUFFER_STATE)},getCurrentBufferLevel:function C(_e){var Q=ae(k.getMetricsFor(_e,!0),E.default.BUFFER_LEVEL);return Q?F.default.round10(Q.level/1e3,-3):0},getCurrentHttpRequest:le,getHttpRequests:Fe,getCurrentDroppedFrames:function K(){return ae(k.getMetricsFor(t.default.VIDEO,!0),E.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function oe(_e){return ae(k.getMetricsFor(_e,!0),E.default.SCHEDULING_INFO)},getCurrentDVRInfo:function Ue(_e){return ae(_e?k.getMetricsFor(_e,!0):k.getMetricsFor(t.default.VIDEO,!0)||k.getMetricsFor(t.default.AUDIO,!0),E.default.DVR_INFO)},getCurrentManifestUpdate:function Ce(){return ae(k.getMetricsFor(t.default.STREAM),E.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function Ve(_e,J){if(!J)return null;var Q={},Z=le(_e);Z&&(Q=D.default.parseHttpHeaders(Z._responseHeaders));var te=Q[J.toLowerCase()];return void 0===te?null:te},getLatestMPDRequestHeaderValueByID:function we(_e){if(!_e)return null;var Q,Z,te,J={};for(te=(Q=Fe(t.default.STREAM)).length-1;te>=0;te--)if((Z=Q[te]).type===y.HTTPRequest.MPD_TYPE){J=D.default.parseHttpHeaders(Z._responseHeaders);break}var ie=J[_e.toLowerCase()];return void 0===ie?null:ie},addRepresentationSwitch:function T(_e,J,Q,Z,te){k.addRepresentationSwitch(_e,J,Q,Z,te)},addDVRInfo:function ke(_e,J,Q,Z){k.addDVRInfo(_e,J,Q,Z)},updateManifestUpdateInfo:function Le(_e){var J=this.getCurrentManifestUpdate();k.updateManifestUpdateInfo(J,_e)},addManifestUpdateStreamInfo:function fe(_e){if(_e){var J=this.getCurrentManifestUpdate();k.addManifestUpdateStreamInfo(J,_e.id,_e.index,_e.start,_e.duration)}},addManifestUpdateRepresentationInfo:function pe(_e,J){if(_e){var Q=this.getCurrentManifestUpdate();k.addManifestUpdateRepresentationInfo(Q,_e.id,_e.index,_e.streamIndex,J,_e.presentationTimeOffset,_e.startNumber,_e.fragmentInfoType)}},addManifestUpdate:function Re(_e){k.addManifestUpdate(t.default.STREAM,_e.type,_e.requestStartDate,_e.requestEndDate)},addHttpRequest:function xe(_e,J,Q,Z,te){k.addHttpRequest(_e.mediaType,null,_e.type,_e.url,_e.quality,J,_e.serviceLocation||null,_e.range||null,_e.requestStartDate,_e.firstByteDate,_e.requestEndDate,Q,_e.duration,Z,te,_e.fileLoaderType)},addSchedulingInfo:function he(_e,J){k.addSchedulingInfo(_e.mediaType,new Date,_e.type,_e.startTime,_e.availabilityStartTime,_e.duration,_e.quality,_e.range,J)},addRequestsQueue:function $(_e,J,Q){k.addRequestsQueue(_e,J,Q)},addBufferLevel:function B(_e,J,Q){k.addBufferLevel(_e,J,Q)},addBufferState:function W(_e,J,Q){k.addBufferState(_e,J,Q)},addDroppedFrames:function ge(_e){k.addDroppedFrames(t.default.VIDEO,_e)},addPlayList:function st(){H&&(k.addPlayList(H),H=null)},addDVBErrors:function se(_e){k.addDVBErrors(_e)},createPlaylistMetrics:function Je(_e,J){(H=new p.PlayList).start=new Date,H.mstart=_e,H.starttype=J},createPlaylistTraceMetrics:function Ne(_e,J,Q){!0===U&&(U=!1,(R=new p.PlayListTrace).representationid=_e,R.start=new Date,R.mstart=J,R.playbackspeed=null!==Q?Q.toString():null)},updatePlayListTraceMetrics:function Te(_e){if(R)for(var J in R)R[J]=_e[J]},pushPlayListTraceMetrics:function Y(_e,J){if(!1===U&&H&&R&&R.start){var Q=R.start,Z=_e.getTime()-Q.getTime();R.duration=Z,R.stopreason=J,H.trace.push(R),U=!0}},clearAllCurrentMetrics:function q(){k.clearAllCurrentMetrics()}},function O(){k=k||Object(L.default)(v).getInstance({settings:g.settings}),function M(){U=!0,R=null,H=null}()}(),A}f.__dashjs_factory_name="DashMetrics",S.default=w.default.getSingletonFactory(f)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),y=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),F=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function L(){var p,f,g,v,A,U,R,H,k,O,M,P,T,D=this.context;function q(oe,he,Ce,Le){var fe=null,Re=oe?T.resolve(oe.path):null,xe=Le||{init:!0,url:Re?Re.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:he};f.debug("Start searching for initialization.");var pe=ge(xe);H.load({request:pe,success:function(Ve){if(xe.bytesLoaded=xe.range.end,!(fe=v.findInitRange(Ve)))return xe.range.end=xe.bytesLoaded+xe.bytesToLoad,q(oe,he,Ce,xe);oe.range=fe,Ce(oe)},error:function(){Ce(oe)}}),f.debug("Perform init search: "+xe.url)}function Fe(oe,he,Ce,Le,fe,Re){if(Ce&&(void 0===Ce.start||void 0===Ce.end)){var xe=Ce?Ce.toString().split("-"):null;Ce=xe?{start:parseFloat(xe[0]),end:parseFloat(xe[1])}:null}fe=fe||$;var pe=null,Ue=null,ke=!!Ce,we=oe?T.resolve(oe.path):null,Ve={init:!1,url:we?we.url:void 0,range:ke?Ce:{start:0,end:1500},searching:!ke,bytesLoaded:Re?Re.bytesLoaded:0,bytesToLoad:1500,mediaType:he},st=ge(Ve);H.load({request:st,success:function(Y){var se=Ve.bytesToLoad,_e=Y.byteLength;if(Ve.bytesLoaded=Ve.range.end-Ve.range.start,pe=v.parse(Y),(Ue=pe.getBox("sidx"))&&Ue.isComplete){var Z,te,Q=Ue.references;if(null!=Q&&Q.length>0&&(Z=1===Q[0].reference_type),Z){f.debug("Initiate multiple SIDX load."),Ve.range.end=Ve.range.start+Ue.size;var ie,ee,X,ue,de=[],Ae=0,We=(Ue.offset||Ve.range.start)+Ue.size,He=function(ct){ct?(de=de.concat(ct),++Ae>=ee&&(de.sort(function(it,vt){return it.startTime-vt.startTime<0?-1:0}),fe(de,oe,Le))):fe(null,oe,Le)};for(ie=0,ee=Q.length;ie<ee;ie++)X=We,ue=We+Q[ie].referenced_size-1,We+=Q[ie].referenced_size,Fe(oe,he,{start:X,end:ue},Le,He,Ve)}else f.debug("Parsing segments from SIDX. representation "+he+" - id: "+oe.id+" for range : "+Ve.range.start+" - "+Ve.range.end),te=function K(oe,he){for(var Ue,we,Ve,Ce=oe.references,Le=Ce.length,fe=oe.timescale,Re=oe.earliest_presentation_time,xe=he.range.start+oe.offset+oe.first_offset+oe.size,pe=[],st=0;st<Le;st++)we=Ce[st].subsegment_duration,Ve=Ce[st].referenced_size,(Ue=new t.default).duration=we,Ue.startTime=Re,Ue.timescale=fe,Ue.mediaRange=xe+"-"+(xe+Ve-1),pe.push(Ue),Re+=we,xe+=Ve;return pe}(Ue,Ve),fe(te,oe,Le)}else{if(Ue)Ve.range.start=Ue.offset||Ve.range.start,Ve.range.end=Ve.range.start+(Ue.size||se);else{if(_e<Ve.bytesLoaded)return void fe(null,oe,Le);var J=pe.getLastBox();J&&J.size?(Ve.range.start=J.offset+J.size,Ve.range.end=Ve.range.start+se):Ve.range.end+=se}Fe(oe,he,Ve.range,Le,null,Ve)}},error:function(){fe(null,oe,Le)}}),f.debug("Perform SIDX load for type ".concat(he," : ").concat(Ve.url," with range ").concat(Ve.range.start," - ").concat(Ve.range.end))}function $(oe,he,Ce){Ce({segments:oe,representation:he,error:oe?void 0:new y.default(k.SEGMENT_BASE_LOADER_ERROR_CODE,k.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function ge(oe){if(oe.url){var he=new E.default;return he.setInfo(oe),he}}return p={setConfig:function B(oe){oe.baseURLController&&(T=oe.baseURLController),oe.dashMetrics&&(U=oe.dashMetrics),oe.mediaPlayerModel&&(R=oe.mediaPlayerModel),oe.errHandler&&(g=oe.errHandler),oe.boxParser&&(v=oe.boxParser),oe.debug&&(f=oe.debug.getLogger(p)),oe.requestModifier&&(A=oe.requestModifier),oe.errors&&(k=oe.errors),oe.urlUtils&&(P=oe.urlUtils),oe.constants&&(O=oe.constants),oe.dashConstants&&(M=oe.dashConstants)},initialize:function C(){H=Object(F.default)(D).create({errHandler:g,dashMetrics:U,mediaPlayerModel:R,requestModifier:A,boxParser:v,errors:k,urlUtils:P,constants:O,dashConstants:M})},loadInitialization:function W(oe,he){return new Promise(function(Ce){q(oe,he,Ce)})},loadSegments:function le(oe,he,Ce){return new Promise(function(Le){Fe(oe,he,Ce,Le)})},reset:function ae(){H&&(H.abort(),H=null)}}}L.__dashjs_factory_name="SegmentBaseLoader",S.default=w.default.getSingletonFactory(L)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),y=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),F=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),L=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),D=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function p(){var g,v,A,U,R,H,k,O,M,P,f=this.context;function W(K,ge,oe,he){var Le,fe,Re,xe,pe;for(fe=[],xe=0,pe=(Le=function B(K){var he,Ce,ge=[],oe=Object(t.default)(f).create({data:K});for(oe.consumeTagAndSize(A.Segment.Cues);oe.moreData()&&oe.consumeTagAndSize(A.Segment.Cues.CuePoint,!0);){for((he={}).CueTime=oe.parseTag(A.Segment.Cues.CuePoint.CueTime),he.CueTracks=[];oe.moreData()&&oe.consumeTag(A.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Le=oe.getMatroskaCodedNum(),fe=oe.getPos();if((Ce={}).Track=oe.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===Ce.Track)throw new Error("Cue track cannot be 0");Ce.ClusterPosition=oe.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),he.CueTracks.push(Ce),oe.setPos(fe+Le)}if(0===he.CueTracks.length)throw new Error("Mandatory cuetrack not found");ge.push(he)}if(0===ge.length)throw new Error("mandatory cuepoint not found");return ge}(K)).length;xe<pe;xe+=1)(Re=new E.default).duration=xe<Le.length-1?Le[xe+1].CueTime-Le[xe].CueTime:he-Le[xe].CueTime,Re.startTime=Le[xe].CueTime,Re.timescale=1e3,Re.mediaRange=Le[xe].CueTracks[0].ClusterPosition+ge+"-"+(xe<Le.length-1?Le[xe+1].CueTracks[0].ClusterPosition+ge-1:oe-1),fe.push(Re);return v.debug("Parsed cues: "+fe.length+" cues."),fe}function $(K){var ge=new F.default;return ge.setInfo(K),ge}return g={setConfig:function C(K){if(!(K.baseURLController&&K.dashMetrics&&K.mediaPlayerModel&&K.errHandler))throw new Error(y.default.MISSING_CONFIG_ERROR);P=K.baseURLController,H=K.dashMetrics,k=K.mediaPlayerModel,U=K.errHandler,M=K.errors,v=K.debug.getLogger(g),R=K.requestModifier},initialize:function N(){O=Object(L.default)(f).create({errHandler:U,dashMetrics:H,mediaPlayerModel:k,requestModifier:R,errors:M})},loadInitialization:function le(K,ge){return new Promise(function(oe){var he=null,Ce=K?P.resolve(K.path):null,Le=K?K.range.split("-"):null,fe={range:{start:Le?parseFloat(Le[0]):null,end:Le?parseFloat(Le[1]):null},request:he,url:Ce?Ce.url:void 0,init:!0,mediaType:ge};v.info("Start loading initialization."),he=$(fe),O.load({request:he,success:function(){oe(K)},error:function(){oe(K)}}),v.debug("Perform init load: "+fe.url)})},loadSegments:function Fe(K,ge,oe){return new Promise(function(he){var Ce=null,Le=K?P.resolve(K.path):null,fe=Le?Le.url:void 0;Ce=$({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Ce,url:fe,init:!1,mediaType:ge}),v.debug("Parsing ebml header"),O.load({request:Ce,success:function(we){!function q(K,ge,oe,he){if(K&&0!==K.byteLength){var Le,fe,Re,xe,Ce=Object(t.default)(f).create({data:K}),pe=oe?oe.split("-"):null,Ue=null,ke={url:ge,range:{start:pe?parseFloat(pe[0]):null,end:pe?parseFloat(pe[1]):null},request:Ue};for(v.debug("Parse EBML header: "+ke.url),Ce.skipOverElement(A.EBML),Ce.consumeTag(A.Segment),Re=Ce.getMatroskaCodedNum(),Re+=Ce.getPos(),xe=Ce.getPos();Ce.moreData()&&!Ce.consumeTagAndSize(A.Segment.Info,!0);)if(!(Ce.skipOverElement(A.Segment.SeekHead,!0)||Ce.skipOverElement(A.Segment.Tracks,!0)||Ce.skipOverElement(A.Segment.Cues,!0)||Ce.skipOverElement(A.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Le;){var we=Ce.getMatroskaCodedNum(!0),Ve=Ce.getMatroskaCodedNum();we===A.Segment.Info.Duration.tag?Le=Ce[A.Segment.Info.Duration.parse](Ve):Ce.setPos(Ce.getPos()+Ve)}Ue=$(ke),O.load({request:Ue,success:function(Te){fe=W(Te,xe,Re,Le),he(fe)},error:function(){v.error("Download Error: Cues "+ke.url),he(null)}}),v.debug("Perform cues load: "+ke.url+" bytes="+ke.range.start+"-"+ke.range.end)}else he(null)}(we,fe,oe,function(Ve){he({segments:Ve,representation:K,error:Ve?void 0:new D.default(M.SEGMENT_BASE_LOADER_ERROR_CODE,M.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){he({representation:K,error:new D.default(M.SEGMENT_BASE_LOADER_ERROR_CODE,M.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function ae(){O&&(O.abort(),O=null)}},function T(){A={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),g}p.__dashjs_factory_name="WebmSegmentBaseLoader",S.default=w.default.getSingletonFactory(p)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,v){return g&&w(f.prototype,g),v&&w(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),f}());S.default=p},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),E=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),L=c(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),D=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),A=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),U_THROUGHPUT="_DASH_throughput",U_PATHWAY="_DASH_pathway",U_URL="url";function R(){var O,M,P,T,N,C,B,W,q,le,Fe,$,ae,K,ge,H=this.context,k=Object(A.default)(H).getInstance();function Le(Y){Y&&Y.toStreamInfo&&(T=Y.toStreamInfo)}function fe(Y){Y&&Y.request&&Y.request.serviceLocation&&(N=Y.request.serviceLocation)}function Re(){var Y=Fe.getValue();return ge.getContentSteering(Y)}function pe(){return new Promise(function(Y){try{var se=Re();if(!se||!se.serverUrl)return void Y();var _e=function Ue(Y){var se=Y.proxyServerUrl?Y.proxyServerUrl:Y.serverUrl;P&&P.reloadUri&&(se=k.isRelative(P.reloadUri)?k.resolve(P.reloadUri,Y.serverUrl):P.reloadUri);var _e=[];if(T){var J=ge.getIsDynamic(),Q=ge.getAllMediaInfoForType(T,g.default.VIDEO).length>0?g.default.VIDEO:g.default.AUDIO,Z=ae.getThroughputHistory(),te=Z?Z.getAverageThroughput(Q,J):NaN;isNaN(te)||_e.push({key:U_THROUGHPUT,value:1e3*te})}return N&&_e.push({key:U_PATHWAY,value:N}),Y.proxyServerUrl&&Y.proxyServerUrl===se&&Y.serverUrl&&_e.push({key:U_URL,value:encodeURI(Y.serverUrl)}),v.default.addAditionalQueryParameterToUrl(se,_e)}(se),J=new F.default(_e);B.load({request:J,success:function(Z){(function ke(Y){!Y||!Y[D.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(Y[D.default.CONTENT_STEERING_RESPONSE.VERSION])||((P=new L.default).version=Y[D.default.CONTENT_STEERING_RESPONSE.VERSION],Y[D.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Y[D.default.CONTENT_STEERING_RESPONSE.TTL])&&(P.ttl=Y[D.default.CONTENT_STEERING_RESPONSE.TTL]),Y[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(P.reloadUri=Y[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Y[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(P.serviceLocationPriority=Y[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),we())})(Z),K.trigger(p.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:P,url:_e}),Y()},error:function(Z){(function st(Y){M.warn("Error fetching data from content steering server",Y),we()})(Z),Y(Z)}})}catch(Q){Y(Q)}})}function we(){P&&P.ttl&&!isNaN(P.ttl)&&(C&&clearTimeout(C),C=setTimeout(function(){pe()},1e3*P.ttl))}function Ve(){C&&clearTimeout(C),C=null}function Te(){P=null,T=null,N=null,Ve()}return O={reset:function Ne(){Te(),K.off(p.default.PERIOD_SWITCH_COMPLETED,Le,O),K.off(f.default.FRAGMENT_LOADING_STARTED,fe,O)},setConfig:function he(Y){Y&&(Y.adapter&&(ge=Y.adapter),Y.errHandler&&(W=Y.errHandler),Y.dashMetrics&&(q=Y.dashMetrics),Y.mediaPlayerModel&&(le=Y.mediaPlayerModel),Y.requestModifier&&($=Y.requestModifier),Y.manifestModel&&(Fe=Y.manifestModel),Y.abrController&&(ae=Y.abrController),Y.eventBus&&(K=Y.eventBus))},loadSteeringData:pe,getCurrentSteeringResponseData:function Je(){return P},shouldQueryBeforeStart:function xe(){var Y=Re();return Y&&Y.queryBeforeStart},getSteeringDataFromManifest:Re,stopSteeringRequestTimer:Ve,initialize:function Ce(){B=Object(w.default)(H).create({errHandler:W,dashMetrics:q,mediaPlayerModel:le,requestModifier:$,errors:E.default}),K.on(p.default.PERIOD_SWITCH_COMPLETED,Le,O),K.on(f.default.FRAGMENT_LOADING_STARTED,fe,O)}},function oe(){M=Object(y.default)(H).getInstance().getLogger(O),Te()}(),O}R.__dashjs_factory_name="ContentSteeringController",S.default=t.default.getSingletonFactory(R)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),E=c(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function F(L){var M,P,T,N,C,D=(L=L||{}).eventBus,p=L.events,f=L.abrController,g=L.dashMetrics,v=L.playbackController,A=L.timelineConverter,U=L.type,R=L.streamInfo,H=L.dashConstants,k=L.segmentsController,O=L.isDynamic;function q(){return U}function le(){if(!(f&&g&&v&&A))throw new Error(t.default.MISSING_CONFIG_ERROR)}function $(){return T}function ae(){return C}function K(){P=null,T=!0,N=[]}function he(Ne){return new Promise(function(Te,Y){var se=Ne.hasInitialization(),_e=Ne.hasSegments(),J=[];J.push(k.updateInitData(Ne,se)),J.push(k.updateSegmentData(Ne,_e)),Promise.all(J).then(function(Q){Q[0]&&!Q[0].error&&(Ne=function Le(Ne,Te){return Te&&!Te.error&&Te.representation?Te.representation:Ne}(Ne,Q[0])),Q[1]&&!Q[1].error&&(Ne=function fe(Ne,Te){if(Te&&!Te.error){var J,Q,Z,te,Y=Te.segments,se=[],_e=0;for(J=0,Q=Y?Y.length:0;J<Q;J++)Z=Y[J],(te=Object(E.getTimeBasedSegment)(A,O,Ne,Z.startTime,Z.duration,Z.timescale,Z.media,Z.mediaRange,_e))&&(se.push(te),te=null,_e++);return se.length>0&&(Ne.segments=se),Ne}}(Ne,Q[1])),function Ce(Ne){Ne.mediaFinishedInformation=k.getMediaFinishedInformation(Ne)}(Ne),function we(Ne){if($()){var se,Te=g.getCurrentManifestUpdate(),Y=!1;if(Te){for(var J=0;J<Te.representationInfo.length;J++)if((se=Te.representationInfo[J]).index===Ne.index&&se.mediaType===q()){Y=!0;break}Y||g.addManifestUpdateRepresentationInfo(Ne,q())}if(function Ue(){for(var Ne=0,Te=N.length;Ne<Te;Ne++){var Y=N[Ne].segmentInfoType;if(!N[Ne].hasInitialization()||(Y===H.SEGMENT_BASE||Y===H.BASE_URL)&&!N[Ne].segments)return!1}return!0}()){f.setPlaybackQuality(U,R,function pe(Ne){return N.indexOf(Ne)}(C));var Q=g.getCurrentDVRInfo(U);Q&&g.updateManifestUpdateInfo({latency:Q.range.end-v.getTime()}),g.getCurrentRepresentationSwitch(ae().adaptation.type)||Re(),ke()}}}(Ne),Te()}).catch(function(Q){Y(Q)})})}function Re(){le();var Ne=new Date,Te=ae(),Y=1e3*v.getTime();Te&&g.addRepresentationSwitch(Te.adaptation.type,Ne,Y,Te.id),D.trigger(w.default.REPRESENTATION_SWITCH,{mediaType:U,streamId:R.id,currentRepresentation:Te,numberOfRepresentations:N.length},{streamId:R.id,mediaType:U})}function xe(Ne){return null==Ne||Ne>=N.length?null:N[Ne]}function ke(Ne){T=!1,D.trigger(p.DATA_UPDATE_COMPLETED,{data:P,currentRepresentation:C,error:Ne},{streamId:R.id,mediaType:U})}function st(Ne){C=Ne}function Je(Ne){if(Ne.newDuration){var Te=ae();Te&&Te.adaptation.period&&(Te.adaptation.period.duration=Ne.newDuration)}}return M={getStreamId:function W(){return R.id},getType:q,getData:function Fe(){return P},isUpdating:$,updateData:function oe(Ne,Te,Y,se,_e){if(le(),T=!0,N=Te,st(xe(_e)),P=Ne,Y!==t.default.VIDEO&&Y!==t.default.AUDIO&&(Y!==t.default.TEXT||!se))return ke(),Promise.resolve();for(var Q=[],Z=0,te=N.length;Z<te;Z++)Q.push(he(N[Z]));return Promise.all(Q)},getCurrentRepresentation:ae,getRepresentationForQuality:xe,prepareQualityChange:function Ve(Ne){st(xe(Ne)),Re()},reset:function ge(){D.off(w.default.MANIFEST_VALIDITY_CHANGED,Je,M),K()}},function B(){K(),D.on(w.default.MANIFEST_VALIDITY_CHANGED,Je,M)}(),M}F.__dashjs_factory_name="RepresentationController",S.default=y.default.getClassFactory(F)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),w=c(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function E(L){var M,P,T,D=this.context,p=(L=L||{}).eventBus,f=L.events,g=L.dashMetrics,v=L.mediaPlayerModel,A=L.errHandler,U=L.baseURLController,R=L.debug,H=L.boxParser,k=L.requestModifier,O=L.errors;function C(Fe){return"webm"===(Fe?Fe.split("/")[1]:"").toLowerCase()}return M={initialize:function B(){P.initialize(),T.initialize()},getSegmentBaseInitSegment:function W(Fe){return C(Fe.representation.mimeType)?T.loadInitialization(Fe.representation,Fe.mediaType):P.loadInitialization(Fe.representation,Fe.mediaType)},getSegmentList:function q(Fe){return C(Fe.mimeType)?T.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null):P.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null)},reset:function le(){P.reset(),T.reset()}},function N(){P=Object(y.default)(D).getInstance(),T=Object(w.default)(D).getInstance(),P.setConfig({baseURLController:U,dashMetrics:g,mediaPlayerModel:v,errHandler:A,eventBus:p,events:f,errors:O,debug:R,boxParser:H,requestModifier:k}),T.setConfig({baseURLController:U,dashMetrics:g,mediaPlayerModel:v,errHandler:A,eventBus:p,events:f,errors:O,debug:R,requestModifier:k})}(),M}E.__dashjs_factory_name="SegmentBaseController";var F=t.default.getSingletonFactory(E);S.default=F},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),w=c(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),E=c(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),F=c(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function L(p){var U,R,f=this.context,g=(p=p||{}).dashConstants,v=p.type,A=p.segmentBaseController;function P(B){return B?B.segments?R[g.SEGMENT_BASE]:R[B.segmentInfoType]:null}return U={initialize:function k(B){R[g.SEGMENT_TIMELINE]=Object(y.default)(f).create(p,B),R[g.SEGMENT_TEMPLATE]=Object(w.default)(f).create(p,B),R[g.SEGMENT_LIST]=Object(E.default)(f).create(p,B),R[g.SEGMENT_BASE]=Object(F.default)(f).create(p,B)},updateInitData:function O(B,W){return W?Promise.resolve():A.getSegmentBaseInitSegment({representation:B,mediaType:v})},updateSegmentData:function M(B,W){return W?Promise.resolve():A.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:v})},getSegmentByIndex:function T(B,W,q){var le=P(B);return le?le.getSegmentByIndex(B,W,q):null},getSegmentByTime:function N(B,W){var q=P(B);return q?q.getSegmentByTime(B,W):null},getMediaFinishedInformation:function C(B){var W=P(B);return W?W.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function H(){R={}}(),U}L.__dashjs_factory_name="SegmentsController";var D=t.default.getClassFactory(L);S.default=D},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=[w.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],L_VIDEO="video",L_AUDIO="audio",L_ANY="any",L_ALL="all";function D(){var f,g,v,A,U,p=this.context;function O(){g={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},v=[]}function le(K,ge,oe){try{g[K][ge]=oe/1e3}catch(he){A.error(he)}}return f={getServiceDescriptionSettings:function M(){return g},getProducerReferenceTimeOffsets:function Fe(){return v},calculateProducerReferenceTimeOffsets:function $(K){try{var ge=[];if(K&&K.length>0){var oe=[w.default.VIDEO,w.default.AUDIO,w.default.TEXT],he=U.getAvailabilityStartTime()/1e3;K.forEach(function(Ce){var Le=oe.reduce(function(fe,Re){return fe.concat(U.getAllMediaInfoForType(Ce,Re))},[]).reduce(function(fe,Re){return U.getProducerReferenceTimes(Ce,Re).forEach(function(pe){var Ue=U.getVoRepresentations(Re);if(Ue&&Ue.length>0&&Ue[0].adaptation&&Ue[0].segmentInfoType===E.default.SEGMENT_TEMPLATE){var ke=Ue[0],Ve=new Date(pe[E.default.WALL_CLOCK_TIME]).getTime()/1e3;fe.push({id:pe[E.default.ID],to:he-(Ve-(pe[E.default.PRESENTATION_TIME]/ke[E.default.TIMESCALE]-ke[E.default.PRESENTATION_TIME_OFFSET]+Ce.start))})}}),fe},[]);ge=ge.concat(Le)})}v=ge}catch(Ce){A.error(Ce),v=[]}},applyServiceDescription:function P(K){if(K&&K.serviceDescriptions){var ge=K.serviceDescriptions.filter(function(Ce){return F.includes(Ce.schemeIdUri)}),oe=K.serviceDescriptions.filter(function(Ce){return null==Ce.schemeIdUri}),he=ge.length>0?ge[ge.length-1]:oe[oe.length-1];he&&(he.latency&&he.latency.target>0&&function T(K){var ge;if(ge=K.schemeIdUri===w.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function C(K){return{liveDelay:K.latency.target/1e3,maxDrift:!isNaN(K.latency.max)&&K.latency.max>K.latency.target?(K.latency.max-K.latency.target+500)/1e3:NaN,referenceId:K.latency.referenceId||NaN}}(K):function N(K){return{liveDelay:K.latency.target/1e3,maxDrift:!isNaN(K.latency.max)&&K.latency.max>K.latency.target?(K.latency.max-K.latency.target+500)/1e3:NaN,referenceId:K.latency.referenceId||NaN}}(K),v.length>0){var oe=function ae(K){var oe,ge=0,he=v.filter(function(Ce){return Ce.id===K.referenceId});return 0===he.length?(ge=v.length>0?v[0].to:0,oe=v[0].id||NaN):(ge=he[0].to||0,oe=he[0].id||NaN),{to:ge,id:oe}}(ge),he=oe.to,Ce=oe.id;g.liveDelay=ge.liveDelay-he,g.liveCatchup.maxDrift=ge.maxDrift,A.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(he," from ProducerReferenceTime element with id ").concat(Ce,".\n                Live Delay: ").concat(ge.liveDelay-he,", Live catchup max drift: ").concat(ge.maxDrift,"\n            "))}else g.liveDelay=ge.liveDelay,g.liveCatchup.maxDrift=ge.maxDrift,A.debug("Found latency properties coming from service description: Live Delay: ".concat(ge.liveDelay,", Live catchup max drift: ").concat(ge.maxDrift))}(he),he.playbackRate&&function B(K){var ge=K.playbackRate.min?Math.round(1e3*(K.playbackRate.min-1))/1e3:NaN,oe=K.playbackRate.max?Math.round(1e3*(K.playbackRate.max-1))/1e3:NaN;g.liveCatchup.playbackRate.min=ge,g.liveCatchup.playbackRate.max=oe,A.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(ge)),A.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(oe))}(he),he.operatingBandwidth&&function q(K){if(K&&K.operatingBandwidth&&K.operatingBandwidth.mediaType&&K.operatingBandwidth.mediaType!==L_ALL){var ge={};ge.minBandwidth=K.operatingBandwidth.min,ge.maxBandwidth=K.operatingBandwidth.max,ge.targetBandwidth=K.operatingBandwidth.target;var oe=[];K.operatingBandwidth.mediaType===L_VIDEO||K.operatingBandwidth.mediaType===L_AUDIO?oe.push(K.operatingBandwidth.mediaType):K.operatingBandwidth.mediaType===L_ANY&&(oe.push(L_AUDIO),oe.push(L_VIDEO)),oe.forEach(function(he){isNaN(ge.minBandwidth)||le("minBitrate",he,ge.minBandwidth),isNaN(ge.maxBandwidth)||le("maxBitrate",he,ge.maxBandwidth),isNaN(ge.targetBandwidth)||le("initialBitrate",he,ge.targetBandwidth)})}}(he))}},reset:function k(){O()},setConfig:function H(K){K&&K.adapter&&(U=K.adapter)}},function R(){A=Object(y.default)(p).getInstance().getLogger(f),O()}(),f}D.__dashjs_factory_name="ServiceDescriptionController",S.default=t.default.getSingletonFactory(D)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),E=c(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),F=c(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),L=c(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),D=c(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),p=c(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),f=c(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),g=c(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),v=c(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),A=c(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),U=c(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),R=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),H=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),k=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),M=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),P=c(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function T($,ae){var K=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!K){if(Array.isArray($)||(K=B($))||ae&&$&&"number"==typeof $.length){K&&($=K);var ge=0,oe=function(){};return{s:oe,n:function(){return ge>=$.length?{done:!0}:{done:!1,value:$[ge++]}},e:function(Re){throw Re},f:oe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Le,he=!0,Ce=!1;return{s:function(){K=K.call($)},n:function(){var Re=K.next();return he=Re.done,Re},e:function(Re){Ce=!0,Le=Re},f:function(){try{!he&&null!=K.return&&K.return()}finally{if(Ce)throw Le}}}}function N($){return function q($){if(Array.isArray($))return le($)}($)||function W($){if(typeof Symbol<"u"&&null!=$[Symbol.iterator]||null!=$["@@iterator"])return Array.from($)}($)||B($)||function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B($,ae){if($){if("string"==typeof $)return le($,ae);var K=Object.prototype.toString.call($).slice(8,-1);if("Object"===K&&$.constructor&&(K=$.constructor.name),"Map"===K||"Set"===K)return Array.from($);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return le($,ae)}}function le($,ae){(null==ae||ae>$.length)&&(ae=$.length);for(var K=0,ge=new Array(ae);K<ae;K++)ge[K]=$[K];return ge}function Fe(){var $,ae,K,ge,oe=this.context,he=Object(R.default)(oe).getInstance(),Ce=Number.isInteger||function(bt){return"number"==typeof bt&&isFinite(bt)&&Math.floor(bt)===bt};function fe(bt,ut){if(!bt)throw new Error("adaptation is not defined");if(!ut)throw new Error("type is not defined");if(bt.Representation_asArray&&bt.Representation_asArray.length){var tn=Kt(bt.Representation_asArray[0]);if(tn&&tn.length>0&&P.THUMBNAILS_SCHEME_ID_URIS.indexOf(tn[0].schemeIdUri)>=0)return ut===t.default.IMAGE}if(bt.ContentComponent_asArray&&bt.ContentComponent_asArray.length>0){if(bt.ContentComponent_asArray.length>1)return ut===t.default.MUXED;if(bt.ContentComponent_asArray[0].contentType===ut)return!0}var Ze=ut===t.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(ut);if(bt.Representation_asArray&&bt.Representation_asArray.length&&Ze.test(bt.Representation_asArray[0].codecs))return!0;if(bt.hasOwnProperty(y.default.MIME_TYPE))return Ze.test(bt.mimeType);if(bt.Representation_asArray)for(var Pt,Qt=0;Qt<bt.Representation_asArray.length;Qt++)if((Pt=bt.Representation_asArray[Qt]).hasOwnProperty(y.default.MIME_TYPE))return Ze.test(Pt.mimeType);return!1}function Re(bt){if(!bt)throw new Error("adaptation is not defined");if(bt.hasOwnProperty(y.default.SEGMENT_TEMPLATE)||bt.hasOwnProperty(y.default.SEGMENT_TIMELINE)||bt.hasOwnProperty(y.default.SEGMENT_LIST)||bt.hasOwnProperty(y.default.SEGMENT_BASE))return!0;if(bt.Representation_asArray&&bt.Representation_asArray.length>0){var ut=bt.Representation_asArray[0];if(ut.hasOwnProperty(y.default.SEGMENT_TEMPLATE)||ut.hasOwnProperty(y.default.SEGMENT_TIMELINE)||ut.hasOwnProperty(y.default.SEGMENT_LIST)||ut.hasOwnProperty(y.default.SEGMENT_BASE))return!0}return!1}function xe(bt){return fe(bt,t.default.AUDIO)}function pe(bt){return fe(bt,t.default.VIDEO)}function Ue(bt){return fe(bt,t.default.TEXT)}function ke(bt){return fe(bt,t.default.MUXED)}function we(bt){return fe(bt,t.default.IMAGE)}function _e(){return function(bt,ut){return bt.bandwidth-ut.bandwidth}}function J(bt){return bt&&Array.isArray(bt.Representation_asArray)&&bt.Representation_asArray.sort(function(bt,ut){return bt.bandwidth-ut.bandwidth}),bt}function Q(bt,ut){return bt&&bt.Period_asArray&&Ce(ut)&&bt.Period_asArray[ut]?bt.Period_asArray[ut].AdaptationSet_asArray:[]}function Z(bt){return bt&&bt.Period_asArray?bt.Period_asArray:[]}function at(bt){var ut=!1;return bt&&bt.hasOwnProperty("type")&&(ut=bt.type===y.default.DYNAMIC),ut}function Kt(bt){return bt&&bt.EssentialProperty_asArray&&bt.EssentialProperty_asArray.length?bt.EssentialProperty_asArray.map(function(ut){return{schemeIdUri:ut.schemeIdUri,value:ut.value}}):null}function ft(bt){if(!bt||!bt.S_asArray)return NaN;var ut=bt.S_asArray[0],tn=bt.S_asArray[1];return ut.hasOwnProperty("d")?ut.d:tn.t-ut.t}function Qe(bt){return bt.adaptation.period.start-bt.presentationTimeOffset}function Ye(bt,ut){if(!bt)throw new Error("Period cannot be null or undefined");var tn=F.default.DEFAULT_ID+"_"+ut;return bt.hasOwnProperty(y.default.ID)&&bt.id.length>0&&"__proto__"!==bt.id&&(tn=bt.id),tn}function Ft(bt,ut,tn){var Xe,Ze=[];if(!bt)return Ze;for(Xe=0;Xe<bt.length;Xe++){var Pt=new g.default;if(Pt.timescale=1,Pt.representation=ut,!bt[Xe].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Pt.schemeIdUri=bt[Xe].schemeIdUri,bt[Xe].hasOwnProperty(y.default.TIMESCALE)&&(Pt.timescale=bt[Xe].timescale),bt[Xe].hasOwnProperty(y.default.VALUE)&&(Pt.value=bt[Xe].value),Ze.push(Pt),Pt.period=tn}return Ze}function cn(bt){var ut=[],Ze=!1;return(bt.BaseURL_asArray||[bt.baseUri]).some(function(Xe){if(Xe){var Pt=new f.default,Qt=Xe.__text||Xe;return he.isRelative(Qt)&&(Ze=!0,bt.baseUri&&(Qt=he.resolve(Qt,bt.baseUri))),Pt.url=Qt,Pt.serviceLocation=Xe.hasOwnProperty(y.default.SERVICE_LOCATION)&&Xe.serviceLocation.length?Xe.serviceLocation:Qt,Xe.hasOwnProperty(y.default.DVB_PRIORITY)&&(Pt.dvb_priority=Xe[y.default.DVB_PRIORITY]),Xe.hasOwnProperty(y.default.DVB_WEIGHT)&&(Pt.dvb_weight=Xe[y.default.DVB_WEIGHT]),Xe.hasOwnProperty(y.default.AVAILABILITY_TIME_OFFSET)&&(Pt.availabilityTimeOffset=Xe[y.default.AVAILABILITY_TIME_OFFSET]),Xe.hasOwnProperty(y.default.AVAILABILITY_TIME_COMPLETE)&&(Pt.availabilityTimeComplete="false"!==Xe[y.default.AVAILABILITY_TIME_COMPLETE]),ut.push(Pt),Ze}}),ut}return $={getIsTypeOf:fe,getIsText:Ue,getIsFragmented:Re,getProducerReferenceTimesForAdaptation:function Ve(bt){var ut=bt&&bt.hasOwnProperty(y.default.PRODUCERREFERENCETIME_ASARRAY)?bt[y.default.PRODUCERREFERENCETIME_ASARRAY]:[];(bt&&bt.hasOwnProperty(y.default.REPRESENTATION_ASARRAY)?bt[y.default.REPRESENTATION_ASARRAY]:[]).forEach(function(Xe){Xe.hasOwnProperty(y.default.PRODUCERREFERENCETIME_ASARRAY)&&ut.push.apply(ut,N(Xe[y.default.PRODUCERREFERENCETIME_ASARRAY]))});var Ze=[];return ut.forEach(function(Xe){var Pt=new v.default;Xe.hasOwnProperty(y.default.ID)&&(Pt[y.default.ID]=Xe[y.default.ID],Xe.hasOwnProperty(y.default.WALL_CLOCK_TIME)&&(Pt[y.default.WALL_CLOCK_TIME]=Xe[y.default.WALL_CLOCK_TIME],Xe.hasOwnProperty(y.default.PRESENTATION_TIME)&&(Pt[y.default.PRESENTATION_TIME]=Xe[y.default.PRESENTATION_TIME],Ze.push(Pt))))}),Ze},getLanguageForAdaptation:function st(bt){var ut="";return bt&&bt.hasOwnProperty(y.default.LANG)&&(ut=bt.lang),ut},getViewpointForAdaptation:function Je(bt){return bt&&bt.hasOwnProperty(y.default.VIEWPOINT)?bt.Viewpoint:null},getRolesForAdaptation:function Ne(bt){return bt&&bt.hasOwnProperty(y.default.ROLE_ASARRAY)?bt.Role_asArray:[]},getAccessibilityForAdaptation:function Te(bt){return bt&&bt.hasOwnProperty(y.default.ACCESSIBILITY_ASARRAY)?bt.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function Y(bt){return bt&&bt.hasOwnProperty(y.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?bt.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function se(bt){return bt&&bt.hasOwnProperty(y.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?bt.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function ee(bt,ut,tn){var Ze=Q(ut,tn);return Ze.length>0&&Ce(bt)?Ze[bt]:null},getIndexForAdaptation:function X(bt,ut,tn){if(!bt)return-1;for(var Ze=Q(ut,tn),Xe=0;Xe<Ze.length;Xe++)if(Object(U.default)(oe).getInstance().areEqual(Ze[Xe],bt))return Xe;return-1},getAdaptationForId:function ie(bt,ut,tn){var Xe,Pt,Ze=Q(ut,tn);for(Xe=0,Pt=Ze.length;Xe<Pt;Xe++)if(Ze[Xe].hasOwnProperty(y.default.ID)&&Ze[Xe].id===bt)return Ze[Xe];return null},getAdaptationsForType:function ue(bt,ut,tn){var Xe,Pt,Ze=Q(bt,ut),Qt=[];for(Xe=0,Pt=Ze.length;Xe<Pt;Xe++)fe(Ze[Xe],tn)&&Qt.push(J(Ze[Xe]));return Qt},getRealPeriods:Z,getRealPeriodForIndex:function te(bt,ut){var tn=Z(ut);return tn.length>0&&Ce(bt)?tn[bt]:null},getCodec:function ve(bt,ut,tn){var Ze=null;if(bt&&bt.Representation_asArray&&bt.Representation_asArray.length>0){var Xe=Ce(ut)&&ut>=0&&ut<bt.Representation_asArray.length?bt.Representation_asArray[ut]:bt.Representation_asArray[0];Xe&&(Ze=Xe.mimeType+';codecs="'+Xe.codecs+'"',tn&&void 0!==Xe.width&&(Ze+=';width="'+Xe.width+'";height="'+Xe.height+'"'))}return Ze&&(Ze=Ze.replace(/\sprofiles=[^;]*/g,"")),Ze},getSelectionPriority:function un(bt){try{var ut=bt&&typeof bt.selectionPriority<"u"?parseInt(bt.selectionPriority):1;return isNaN(ut)?1:ut}catch{return 1}},getMimeType:function de(bt){return bt&&bt.Representation_asArray&&bt.Representation_asArray.length>0?bt.Representation_asArray[0].mimeType:null},getKID:function Ae(bt){return bt&&bt.hasOwnProperty(y.default.CENC_DEFAULT_KID)?bt[y.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function We(bt){if(!bt||!Array.isArray(bt.Label_asArray))return[];for(var ut=[],tn=0;tn<bt.Label_asArray.length;tn++)ut.push({lang:bt.Label_asArray[tn].lang,text:bt.Label_asArray[tn].__text||bt.Label_asArray[tn]});return ut},getContentProtectionData:function He(bt){return bt&&bt.hasOwnProperty(y.default.CONTENTPROTECTION_ASARRAY)&&0!==bt.ContentProtection_asArray.length?bt.ContentProtection_asArray:null},getIsDynamic:at,getId:function ct(bt){return bt&&bt[y.default.ID]||null},hasProfile:function it(bt,ut){var tn=!1;return bt&&bt.profiles&&bt.profiles.length>0&&(tn=-1!==bt.profiles.indexOf(ut)),tn},getDuration:function vt(bt){return bt&&bt.hasOwnProperty(y.default.MEDIA_PRESENTATION_DURATION)?bt.mediaPresentationDuration:bt&&"dynamic"==bt.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Ht(bt){return bt&&bt.bandwidth?bt.bandwidth:NaN},getManifestUpdatePeriod:function It(bt){var ut=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,tn=NaN;return bt&&bt.hasOwnProperty(y.default.MINIMUM_UPDATE_PERIOD)&&(tn=bt.minimumUpdatePeriod),isNaN(tn)?tn:Math.max(tn-ut,1)},getPublishTime:function jt(bt){return bt&&bt.hasOwnProperty(y.default.PUBLISH_TIME)?new Date(bt[y.default.PUBLISH_TIME]):null},getRepresentationCount:function en(bt){return bt&&Array.isArray(bt.Representation_asArray)?bt.Representation_asArray.length:0},getBitrateListForAdaptation:function dn(bt){var ut=J(bt);return(ut&&Array.isArray(ut.Representation_asArray)?ut.Representation_asArray:[]).map(function(Ze){return{bandwidth:Ze.bandwidth,width:Ze.width||0,height:Ze.height||0,scanType:Ze.scanType||null,id:Ze.id||null}})},getRepresentationFor:function Cn(bt,ut){return ut&&ut.Representation_asArray&&ut.Representation_asArray.length>0&&Ce(bt)?ut.Representation_asArray[bt]:null},getRepresentationsForAdaptation:function Dt(bt){var Ze,Xe,ut=[],tn=function nn(bt){if(bt&&bt.period&&Ce(bt.period.index)){var ut=bt.period.mpd.manifest.Period_asArray[bt.period.index];if(ut&&ut.AdaptationSet_asArray&&Ce(bt.index))return J(ut.AdaptationSet_asArray[bt.index])}}(bt);if(tn&&tn.Representation_asArray){if(bt&&bt.period&&Ce(bt.period.index)){var Pt=cn(bt.period.mpd.manifest);Pt&&(Xe=Pt[0])}for(var Qt=0,In=tn.Representation_asArray.length;Qt<In;++Qt){var Fn=tn.Representation_asArray[Qt],Zt=new w.default;if(Zt.index=Qt,Zt.adaptation=bt,Fn.hasOwnProperty(y.default.ID)&&(Zt.id=Fn.id),Fn.hasOwnProperty(y.default.CODECS)&&(Zt.codecs=Fn.codecs),Fn.hasOwnProperty(y.default.MIME_TYPE)&&(Zt.mimeType=Fn[y.default.MIME_TYPE]),Fn.hasOwnProperty(y.default.CODEC_PRIVATE_DATA)&&(Zt.codecPrivateData=Fn.codecPrivateData),Fn.hasOwnProperty(y.default.BANDWITH)&&(Zt.bandwidth=Fn.bandwidth),Fn.hasOwnProperty(y.default.WIDTH)&&(Zt.width=Fn.width),Fn.hasOwnProperty(y.default.HEIGHT)&&(Zt.height=Fn.height),Fn.hasOwnProperty(y.default.SCAN_TYPE)&&(Zt.scanType=Fn.scanType),Fn.hasOwnProperty(y.default.MAX_PLAYOUT_RATE)&&(Zt.maxPlayoutRate=Fn.maxPlayoutRate),Fn.hasOwnProperty(y.default.SEGMENT_BASE)?(Ze=Fn.SegmentBase,Zt.segmentInfoType=y.default.SEGMENT_BASE):Fn.hasOwnProperty(y.default.SEGMENT_LIST)?Zt.segmentInfoType=(Ze=Fn.SegmentList).hasOwnProperty(y.default.SEGMENT_TIMELINE)?y.default.SEGMENT_TIMELINE:y.default.SEGMENT_LIST:Fn.hasOwnProperty(y.default.SEGMENT_TEMPLATE)?(Zt.segmentInfoType=(Ze=Fn.SegmentTemplate).hasOwnProperty(y.default.SEGMENT_TIMELINE)?y.default.SEGMENT_TIMELINE:y.default.SEGMENT_TEMPLATE,Ze.hasOwnProperty(y.default.INITIALIZATION_MINUS)&&(Zt.initialization=Ze.initialization.split("$Bandwidth$").join(Fn.bandwidth).split("$RepresentationID$").join(Fn.id))):Zt.segmentInfoType=y.default.BASE_URL,Zt.essentialProperties=Kt(Fn),Ze){if(Ze.hasOwnProperty(y.default.INITIALIZATION)){var Yt=Ze.Initialization;Yt.hasOwnProperty(y.default.SOURCE_URL)&&(Zt.initialization=Yt.sourceURL),Yt.hasOwnProperty(y.default.RANGE)&&(Zt.range=Yt.range)}else Ue(tn)&&Re(tn)&&tn.mimeType&&-1===tn.mimeType.indexOf("application/mp4")&&(Zt.range=0);Ze.hasOwnProperty(y.default.TIMESCALE)&&(Zt.timescale=Ze.timescale),Ze.hasOwnProperty(y.default.DURATION)?Zt.segmentDuration=Ze.duration/Zt.timescale:Fn.hasOwnProperty(y.default.SEGMENT_TEMPLATE)&&(Ze=Fn.SegmentTemplate).hasOwnProperty(y.default.SEGMENT_TIMELINE)&&(Zt.segmentDuration=ft(Ze.SegmentTimeline)/Zt.timescale),Ze.hasOwnProperty(y.default.MEDIA)&&(Zt.media=Ze.media),Ze.hasOwnProperty(y.default.START_NUMBER)&&(Zt.startNumber=Ze.startNumber),Ze.hasOwnProperty(y.default.INDEX_RANGE)&&(Zt.indexRange=Ze.indexRange),Ze.hasOwnProperty(y.default.PRESENTATION_TIME_OFFSET)&&(Zt.presentationTimeOffset=Ze.presentationTimeOffset/Zt.timescale),Ze.hasOwnProperty(y.default.AVAILABILITY_TIME_OFFSET)?Zt.availabilityTimeOffset=Ze.availabilityTimeOffset:Xe&&void 0!==Xe.availabilityTimeOffset&&(Zt.availabilityTimeOffset=Xe.availabilityTimeOffset),Ze.hasOwnProperty(y.default.AVAILABILITY_TIME_COMPLETE)?Zt.availabilityTimeComplete="false"!==Ze.availabilityTimeComplete:Xe&&void 0!==Xe.availabilityTimeComplete&&(Zt.availabilityTimeComplete=Xe.availabilityTimeComplete)}Zt.MSETimeOffset=Qe(Zt),Zt.path=[bt.period.index,bt.index,Qt],ut.push(Zt)}}return ut},getAdaptationsForPeriod:function De(bt){var Ze,Xe,Pt,ut=bt&&Ce(bt.index)?bt.mpd.manifest.Period_asArray[bt.index]:null,tn=[];if(ut&&ut.AdaptationSet_asArray)for(Pt=0;Pt<ut.AdaptationSet_asArray.length;Pt++)Xe=ut.AdaptationSet_asArray[Pt],Ze=new E.default,Xe.hasOwnProperty(y.default.ID)&&(Ze.id=Xe.id),Ze.index=Pt,Ze.period=bt,ke(Xe)?Ze.type=t.default.MUXED:xe(Xe)?Ze.type=t.default.AUDIO:pe(Xe)?Ze.type=t.default.VIDEO:Ue(Xe)?Ze.type=t.default.TEXT:we(Xe)?Ze.type=t.default.IMAGE:ae.warn("Unknown Adaptation stream type"),tn.push(Ze);return tn},getRegularPeriods:function Pe(bt){var In,Fn,ut=!!bt&&at(bt.manifest),tn=[],Ze=null,Xe=null,Pt=null,Qt=null;for(Fn=0,In=bt&&bt.manifest&&bt.manifest.Period_asArray?bt.manifest.Period_asArray.length:0;Fn<In;Fn++)(Xe=bt.manifest.Period_asArray[Fn]).hasOwnProperty(y.default.START)?(Qt=new F.default).start=Xe.start:null!==Ze&&Ze.hasOwnProperty(y.default.DURATION)&&null!==Pt?(Qt=new F.default).start=parseFloat((Pt.start+Pt.duration).toFixed(5)):0===Fn&&!ut&&((Qt=new F.default).start=0),null!==Pt&&isNaN(Pt.duration)&&(null!==Qt?Pt.duration=parseFloat((Qt.start-Pt.start).toFixed(5)):ae.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Qt&&(Qt.id=Ye(Xe,Fn),Qt.index=Fn,Qt.mpd=bt,Xe.hasOwnProperty(y.default.DURATION)&&(Qt.duration=Xe.duration),Pt&&(Pt.nextPeriodId=Qt.id),tn.push(Qt),Ze=Xe,Pt=Qt),Xe=null,Qt=null;return 0===tn.length||null!==Pt&&isNaN(Pt.duration)&&(Pt.duration=parseFloat((function ot(bt){!function lt(){if(!K||!K.hasOwnProperty("error"))throw new Error(t.default.MISSING_CONFIG_ERROR)}();var tn,ut=at(bt.mpd.manifest);return bt.mpd.manifest.mediaPresentationDuration?tn=bt.mpd.manifest.mediaPresentationDuration:bt.duration?tn=bt.duration:ut?tn=Number.POSITIVE_INFINITY:K.error(new O.default(M.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",bt)),tn}(Pt)-Pt.start).toFixed(5))),tn},getMpd:function $e(bt){var ut=new L.default;return bt&&(ut.manifest=bt,bt.hasOwnProperty(y.default.AVAILABILITY_START_TIME)?ut.availabilityStartTime=new Date(bt.availabilityStartTime.getTime()):bt.loadedTime&&(ut.availabilityStartTime=new Date(bt.loadedTime.getTime())),bt.hasOwnProperty(y.default.AVAILABILITY_END_TIME)&&(ut.availabilityEndTime=new Date(bt.availabilityEndTime.getTime())),bt.hasOwnProperty(y.default.MINIMUM_UPDATE_PERIOD)&&(ut.minimumUpdatePeriod=bt.minimumUpdatePeriod),bt.hasOwnProperty(y.default.MEDIA_PRESENTATION_DURATION)&&(ut.mediaPresentationDuration=bt.mediaPresentationDuration),bt.hasOwnProperty(y.default.SUGGESTED_PRESENTATION_DELAY)&&(ut.suggestedPresentationDelay=bt.suggestedPresentationDelay),bt.hasOwnProperty(y.default.TIMESHIFT_BUFFER_DEPTH)&&(ut.timeShiftBufferDepth=bt.timeShiftBufferDepth),bt.hasOwnProperty(y.default.MAX_SEGMENT_DURATION)&&(ut.maxSegmentDuration=bt.maxSegmentDuration),bt.hasOwnProperty(y.default.PUBLISH_TIME)&&(ut.publishTime=new Date(bt.publishTime))),ut},getEventsForPeriod:function dt(bt){var Pt,Qt,ut=bt&&bt.mpd&&bt.mpd.manifest?bt.mpd.manifest:null,tn=ut?ut.Period_asArray:null,Ze=tn&&bt&&Ce(bt.index)?tn[bt.index].EventStream_asArray:null,Xe=[];if(Ze)for(Pt=0;Pt<Ze.length;Pt++){var In=new g.default;if(In.period=bt,In.timescale=1,!Ze[Pt].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(In.schemeIdUri=Ze[Pt][t.default.SCHEME_ID_URI],Ze[Pt].hasOwnProperty(y.default.TIMESCALE)&&(In.timescale=Ze[Pt][y.default.TIMESCALE]),Ze[Pt].hasOwnProperty(y.default.VALUE)&&(In.value=Ze[Pt][y.default.VALUE]),Ze[Pt].hasOwnProperty(y.default.PRESENTATION_TIME_OFFSET)&&(In.presentationTimeOffset=Ze[Pt][y.default.PRESENTATION_TIME_OFFSET]),Qt=0;Ze[Pt].Event_asArray&&Qt<Ze[Pt].Event_asArray.length;Qt++){var Fn=Ze[Pt].Event_asArray[Qt],Zt=new p.default;Zt.presentationTime=0,Zt.eventStream=In,Fn.hasOwnProperty(y.default.PRESENTATION_TIME)&&(Zt.presentationTime=Fn.presentationTime),Zt.calculatedPresentationTime=Zt.presentationTime/In.timescale+bt.start-(In.presentationTimeOffset?In.presentationTimeOffset/In.timescale:0),Fn.hasOwnProperty(y.default.DURATION)&&(Zt.duration=Fn.duration/In.timescale),Zt.id=Fn.hasOwnProperty(y.default.ID)?Fn.id:null,Zt.messageData=Fn.Signal&&Fn.Signal.Binary?ge.decodeArray(Fn.Signal.Binary.toString()):Fn.messageData||Fn.__cdata||Fn.__text,Xe.push(Zt)}}return Xe},getEssentialPropertiesForRepresentation:Kt,getEventStreamForAdaptationSet:function $t(bt,ut,tn){var Ze,Xe,Pt;return bt&&bt.Period_asArray&&ut&&ut.period&&Ce(ut.period.index)&&(Xe=bt.Period_asArray[ut.period.index])&&Xe.AdaptationSet_asArray&&Ce(ut.index)&&(Pt=Xe.AdaptationSet_asArray[ut.index])&&(Ze=Pt.InbandEventStream_asArray),Ft(Ze,null,tn)},getEventStreamForRepresentation:function Lt(bt,ut,tn){var Ze,Xe,Pt,Qt;return bt&&bt.Period_asArray&&ut&&ut.adaptation&&ut.adaptation.period&&Ce(ut.adaptation.period.index)&&(Xe=bt.Period_asArray[ut.adaptation.period.index])&&Xe.AdaptationSet_asArray&&Ce(ut.adaptation.index)&&(Pt=Xe.AdaptationSet_asArray[ut.adaptation.index])&&Pt.Representation_asArray&&Ce(ut.index)&&(Qt=Pt.Representation_asArray[ut.index])&&(Ze=Qt.InbandEventStream_asArray),Ft(Ze,ut,tn)},getUTCTimingSources:function Jt(bt){var ut=at(bt),tn=!!bt&&bt.hasOwnProperty(y.default.AVAILABILITY_START_TIME),Ze=bt?bt.UTCTiming_asArray:null,Xe=[];return(ut||tn)&&Ze&&Ze.forEach(function(Pt){var Qt=new D.default;Pt.hasOwnProperty(t.default.SCHEME_ID_URI)&&(Qt.schemeIdUri=Pt.schemeIdUri,Pt.hasOwnProperty(y.default.VALUE)&&(Qt.value=Pt.value.toString(),Xe.push(Qt)))}),Xe},getBaseURLsFromElement:cn,getRepresentationSortFunction:_e,getContentSteering:function mn(bt){if(bt&&bt.hasOwnProperty(y.default.CONTENT_STEERING_AS_ARRAY)){var ut=bt[y.default.CONTENT_STEERING_AS_ARRAY][0],tn=new A.default;return tn.serverUrl=ut.__text,ut.hasOwnProperty(y.default.DEFAULT_SERVICE_LOCATION)&&(tn.defaultServiceLocation=ut[y.default.DEFAULT_SERVICE_LOCATION]),ut.hasOwnProperty(y.default.QUERY_BEFORE_START)&&(tn.queryBeforeStart="true"===ut[y.default.QUERY_BEFORE_START].toLowerCase()),ut.hasOwnProperty(y.default.PROXY_SERVER_URL)&&(tn.proxyServerUrl=ut[y.default.PROXY_SERVER_URL]),tn}},getLocation:function xn(bt){if(bt&&bt.hasOwnProperty(t.default.LOCATION))return bt.Location=bt.Location_asArray[0],bt.Location},getPatchLocation:function Ln(bt){if(bt&&bt.hasOwnProperty(y.default.PATCH_LOCATION))return bt.PatchLocation=bt.PatchLocation_asArray[0],bt.PatchLocation},getSuggestedPresentationDelay:function Yn(bt){return bt&&bt.hasOwnProperty(y.default.SUGGESTED_PRESENTATION_DELAY)?bt.suggestedPresentationDelay:null},getAvailabilityStartTime:function Vn(bt){return bt&&bt.hasOwnProperty(y.default.AVAILABILITY_START_TIME)&&null!==bt.availabilityStartTime?bt.availabilityStartTime.getTime():null},getServiceDescriptions:function ci(bt){var ut=[];if(bt&&bt.hasOwnProperty(y.default.SERVICE_DESCRIPTION)){var Ze,tn=T(bt.ServiceDescription_asArray);try{for(tn.s();!(Ze=tn.n()).done;){var Xe=Ze.value,Pt=null,Qt=null,In=null,Fn=null,Zt=null,Yt=null;for(var on in Xe)Xe.hasOwnProperty(on)&&(on===y.default.ID?Pt=Xe[on]:on===y.default.SERVICE_DESCRIPTION_SCOPE?Qt=Xe[on].schemeIdUri:on===y.default.SERVICE_DESCRIPTION_LATENCY?In={target:parseInt(Xe[on].target),max:parseInt(Xe[on].max),min:parseInt(Xe[on].min),referenceId:parseInt(Xe[on].referenceId)}:on===y.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?Fn={max:parseFloat(Xe[on].max),min:parseFloat(Xe[on].min)}:on===y.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?Zt={mediaType:Xe[on].mediaType,max:parseInt(Xe[on].max),min:parseInt(Xe[on].min),target:parseInt(Xe[on].target),type:Xe[on].type,maxQualityDifference:parseInt(Xe[on].maxQualityDifference)}:on===y.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Yt={mediaType:Xe[on].mediaType,max:parseInt(Xe[on].max),min:parseInt(Xe[on].min),target:parseInt(Xe[on].target)}));ut.push({id:Pt,schemeIdUri:Qt,latency:In,playbackRate:Fn,operatingQuality:Zt,operatingBandwidth:Yt})}}catch(Tn){tn.e(Tn)}finally{tn.f()}}return ut},getSupplementalProperties:function yn(bt){var ut={};if(bt&&bt.hasOwnProperty(y.default.SUPPLEMENTAL_PROPERTY)){var Ze,tn=T(bt.SupplementalProperty_asArray);try{for(tn.s();!(Ze=tn.n()).done;){var Xe=Ze.value;Xe.hasOwnProperty(t.default.SCHEME_ID_URI)&&Xe.hasOwnProperty(y.default.VALUE)&&(ut[Xe[t.default.SCHEME_ID_URI]]=Xe[y.default.VALUE])}}catch(Pt){tn.e(Pt)}finally{tn.f()}}return ut},setConfig:function _n(bt){bt&&(bt.errHandler&&(K=bt.errHandler),bt.BASE64&&(ge=bt.BASE64))}},function Le(){ae=Object(k.default)(oe).getInstance().getLogger($)}(),$}Fe.__dashjs_factory_name="DashManifestModel",S.default=H.default.getSingletonFactory(Fe)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),F=c(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function L(){var D,p,f=this.context;return D={getIsPatch:function v(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function A(k){return k&&k.hasOwnProperty(t.default.PUBLISH_TIME)?new Date(k[t.default.PUBLISH_TIME]):null},getOriginalPublishTime:function U(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_PUBLISH_TIME)?new Date(k[t.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function R(k){return k&&k[t.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function H(k){return k?(k.__children||[]).map(function(O){var M=Object.keys(O)[0];if("add"!==M&&"remove"!==M&&"replace"!==M)return p.warn("Ignoring node of invalid action: ".concat(M)),null;var P=O[M],T=P.sel;if("add"===M&&P.type){if(!P.type.startsWith("@"))return p.warn("Ignoring add action for prefixed namespace declaration: ".concat(P.type,"=").concat(P.__text)),null;T="".concat(T,"/").concat(P.type)}var N=new E.default(T);if(!N.isValid())return p.warn("Ignoring action with invalid selector: ".concat(M," - ").concat(T)),null;var C=null;N.findsAttribute()?C=P.__text||"":"remove"!==M&&(C=P.__children.reduce(function(W,q){var le=Object.keys(q)[0];return"#text"!==le&&(W[le]=W[le]||[],W[le].push(q[le])),W},{}));var B=new F.default(M,N,C);return"add"===M&&(B.position=P.pos),B}).filter(function(O){return!!O}):[]}},function g(){p=Object(w.default)(f).getInstance().getLogger(D)}(),D}L.__dashjs_factory_name="PatchManifestModel",S.default=y.default.getSingletonFactory(L)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),w=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),E=c(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),F=c(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),L=c(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),D=c(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),p=c(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),f=c(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),g=c(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function v(A){var H,k,O,M,P,U=this.context,R=(A=A||{}).debug;return H={parse:function B(W){var q,le=window.performance.now();if(!(q=M.xml_str2json(W)))throw new Error("parsing the manifest failed");var Fe=window.performance.now();q.Patch?((q=q.Patch).add_asArray&&q.add_asArray.forEach(function(ae){return P.run(ae)}),q.replace_asArray&&q.replace_asArray.forEach(function(ae){return P.run(ae)})):P.run(q=q.MPD);var $=window.performance.now();return k.info("Parsing complete: ( xml2json: "+(Fe-le).toPrecision(3)+"ms, objectiron: "+($-Fe).toPrecision(3)+"ms, total: "+(($-le)/1e3).toPrecision(3)+"s)"),q.protocol="DASH",q},getMatchers:function N(){return O},getIron:function C(){return P}},function T(){k=R.getLogger(H),O=[new F.default,new L.default,new D.default,new p.default,new E.default],M=new w.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:O}),P=Object(y.default)(U).create({adaptationset:new f.default,period:new g.default})}(),H}v.__dashjs_factory_name="DashParser",S.default=t.default.getClassFactory(v)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f){!function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p);var A;this._name=f,this._merge=(A=f)&&A.length&&A.charAt(0)===A.charAt(0).toUpperCase()}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),p}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,L(A.key),A)}}function L(f){var g=function D(f,g){if("object"!==y(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==y(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===y(g)?g:String(g)}S.default=function(){function f(g,v,A){var U=this;(function w(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this._name=g||"",this._properties=[],this._children=A||[],Array.isArray(v)&&v.forEach(function(R){U._properties.push(new t.default(R))})}return function F(f,g,v){return g&&E(f.prototype,g),v&&E(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),f}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),y=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function w(O){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function E(O,M){for(var P=0;P<M.length;P++){var T=M[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,L(T.key),T)}}function L(O){var M=function D(O,M){if("object"!==w(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,M||"default");if("object"!==w(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===w(M)?M:String(M)}function f(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&g(O,M)}function g(O,M){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,M)}function v(O){var M=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=H(O);if(M){var C=H(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function A(O,M){if(M&&("object"===w(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function U(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function H(O){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}S.default=function(O){f(P,O);var M=v(P);function P(){!function p(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,P);var T=[y.default.PROFILES,y.default.WIDTH,y.default.HEIGHT,y.default.SAR,y.default.FRAMERATE,y.default.AUDIO_SAMPLING_RATE,y.default.MIME_TYPE,y.default.SEGMENT_PROFILES,y.default.CODECS,y.default.MAXIMUM_SAP_PERIOD,y.default.START_WITH_SAP,y.default.MAX_PLAYOUT_RATE,y.default.CODING_DEPENDENCY,y.default.SCAN_TYPE,y.default.FRAME_PACKING,y.default.AUDIO_CHANNEL_CONFIGURATION,y.default.CONTENT_PROTECTION,y.default.ESSENTIAL_PROPERTY,y.default.SUPPLEMENTAL_PROPERTY,y.default.INBAND_EVENT_STREAM];return M.call(this,y.default.ADAPTATION_SET,T,[new t.default(y.default.REPRESENTATION,T,[new t.default(y.default.SUB_REPRESENTATION,T)])])}return function F(O,M,P){return M&&E(O.prototype,M),P&&E(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(t.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),y=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function w(O){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function E(O,M){for(var P=0;P<M.length;P++){var T=M[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,L(T.key),T)}}function L(O){var M=function D(O,M){if("object"!==w(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,M||"default");if("object"!==w(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===w(M)?M:String(M)}function f(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&g(O,M)}function g(O,M){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,M)}function v(O){var M=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=H(O);if(M){var C=H(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function A(O,M){if(M&&("object"===w(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function U(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function H(O){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}S.default=function(O){f(P,O);var M=v(P);function P(){!function p(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,P);var T=[y.default.SEGMENT_BASE,y.default.SEGMENT_TEMPLATE,y.default.SEGMENT_LIST];return M.call(this,y.default.PERIOD,T,[new t.default(y.default.ADAPTATION_SET,T,[new t.default(y.default.REPRESENTATION,T)])])}return function F(O,M,P){return M&&E(O.prototype,M),P&&E(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(t.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f,g){(function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this._test=f,this._converter=g}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),p}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function y(T){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function w(T,N){for(var C=0;C<N.length;C++){var B=N[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,F(B.key),B)}}function F(T){var N=function L(T,N){if("object"!==y(T)||null===T)return T;var C=T[Symbol.toPrimitive];if(void 0!==C){var B=C.call(T,N||"default");if("object"!==y(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===y(N)?N:String(N)}function p(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&f(T,N)}function f(T,N){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,W){return B.__proto__=W,B})(T,N)}function g(T){var N=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,B=R(T);if(N){var q=R(this).constructor;W=Reflect.construct(B,arguments,q)}else W=B.apply(this,arguments);return function v(T,N){if(N&&("object"===y(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function A(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,W)}}function R(T){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(T)}var M=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;S.default=function(T){p(C,T);var N=g(C);function C(){return function D(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,C),N.call(this,function(B){return M.test(B.value)},function(B){var q,W=M.exec(B);if(q=Date.UTC(parseInt(W[1],10),parseInt(W[2],10)-1,parseInt(W[3],10),parseInt(W[4],10),parseInt(W[5],10),W[6]&&parseInt(W[6],10)||0,W[7]&&1e3*parseFloat(W[7])||0),W[9]&&W[10]){var le=60*parseInt(W[9],10)+parseInt(W[10],10);q+=("+"===W[8]?-1:1)*le*60*1e3}return new Date(q)})}return function E(T,N,C){return N&&w(T.prototype,N),C&&w(T,C),Object.defineProperty(T,"prototype",{writable:!1}),T}(C)}(t.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),y=c(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function E(W){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(W)}function F(W,q){for(var le=0;le<q.length;le++){var Fe=q[le];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(W,D(Fe.key),Fe)}}function D(W){var q=function p(W,q){if("object"!==E(W)||null===W)return W;var le=W[Symbol.toPrimitive];if(void 0!==le){var Fe=le.call(W,q||"default");if("object"!==E(Fe))return Fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===q?String:Number)(W)}(W,"string");return"symbol"===E(q)?q:String(q)}function g(W,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(q&&q.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),q&&v(W,q)}function v(W,q){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,$){return Fe.__proto__=$,Fe})(W,q)}function A(W){var q=function H(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var $,Fe=k(W);if(q){var ae=k(this).constructor;$=Reflect.construct(Fe,arguments,ae)}else $=Fe.apply(this,arguments);return function U(W,q){if(q&&("object"===E(q)||"function"==typeof q))return q;if(void 0!==q)throw new TypeError("Derived constructors may only return object or undefined");return function R(W){if(void 0===W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}(W)}(this,$)}}function k(W){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)})(W)}var O=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;S.default=function(W){g(le,W);var q=A(le);function le(){return function f(W,q){if(!(W instanceof q))throw new TypeError("Cannot call a class as a function")}(this,le),q.call(this,function(Fe){for(var $=[w.default.MIN_BUFFER_TIME,w.default.MEDIA_PRESENTATION_DURATION,w.default.MINIMUM_UPDATE_PERIOD,w.default.TIMESHIFT_BUFFER_DEPTH,w.default.MAX_SEGMENT_DURATION,w.default.MAX_SUBSEGMENT_DURATION,w.default.SUGGESTED_PRESENTATION_DELAY,w.default.START,y.default.START_TIME,w.default.DURATION],ae=$.length,K=0;K<ae;K++)if(Fe.nodeName===$[K])return O.test(Fe.value);return!1},function(Fe){var $=O.exec(Fe),ae=31536e3*parseFloat($[3]||0)+2592e3*parseFloat($[5]||0)+86400*parseFloat($[7]||0)+3600*parseFloat($[9]||0)+60*parseFloat($[11]||0)+parseFloat($[13]||0);return void 0!==$[1]&&(ae=-ae),ae})}return function L(W,q,le){return q&&F(W.prototype,q),le&&F(W,le),Object.defineProperty(W,"prototype",{writable:!1}),W}(le)}(t.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),y=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),E=c.n(w);function F(T){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function L(T,N,C){return(N=f(N))in T?Object.defineProperty(T,N,{value:C,enumerable:!0,configurable:!0,writable:!0}):T[N]=C,T}function D(T,N){for(var C=0;C<N.length;C++){var B=N[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,f(B.key),B)}}function f(T){var N=function g(T,N){if("object"!==F(T)||null===T)return T;var C=T[Symbol.toPrimitive];if(void 0!==C){var B=C.call(T,N||"default");if("object"!==F(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===F(N)?N:String(N)}function A(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&U(T,N)}function U(T,N){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,W){return B.__proto__=W,B})(T,N)}function R(T){var N=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,B=M(T);if(N){var q=M(this).constructor;W=Reflect.construct(B,arguments,q)}else W=B.apply(this,arguments);return function H(T,N){if(N&&("object"===F(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function k(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,W)}}function M(T){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(T)}S.default=function(T){A(C,T);var N=R(C);function C(){return function v(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,C),N.call(this,function(B,W){var q,le=(L(q={},y.default.ADAPTATION_SET,[y.default.LANG]),L(q,y.default.REPRESENTATION,[y.default.LANG]),L(q,y.default.CONTENT_COMPONENT,[y.default.LANG]),L(q,y.default.LABEL,[y.default.LANG]),L(q,y.default.GROUP_LABEL,[y.default.LANG]),q);if(le.hasOwnProperty(W)){var Fe=le[W];return void 0!==Fe&&Fe.indexOf(B.name)>=0}return!1},function(B){var W=E()(B);return void 0!==W?W:String(B)})}return function p(T,N,C){return N&&D(T.prototype,N),C&&D(T,C),Object.defineProperty(T,"prototype",{writable:!1}),T}(C)}(t.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function w(O,M){for(var P=0;P<M.length;P++){var T=M[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var M=function L(O,M){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,M||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===y(M)?M:String(M)}function p(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&f(O,M)}function f(O,M){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,M)}function g(O){var M=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(M){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(O,M){if(M&&("object"===y(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}var H=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;S.default=function(O){p(P,O);var M=g(P);function P(){return function D(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,P),M.call(this,function(T){return H.test(T.value)},function(T){return parseFloat(T)})}return function E(O,M,P){return M&&w(O.prototype,M),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(t.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),y=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function w(M){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(M)}function E(M,P,T){return(P=D(P))in M?Object.defineProperty(M,P,{value:T,enumerable:!0,configurable:!0,writable:!0}):M[P]=T,M}function F(M,P){for(var T=0;T<P.length;T++){var N=P[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(M,D(N.key),N)}}function D(M){var P=function p(M,P){if("object"!==w(M)||null===M)return M;var T=M[Symbol.toPrimitive];if(void 0!==T){var N=T.call(M,P||"default");if("object"!==w(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(M)}(M,"string");return"symbol"===w(P)?P:String(P)}function g(M,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(P&&P.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),P&&v(M,P)}function v(M,P){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,C){return N.__proto__=C,N})(M,P)}function A(M){var P=function H(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,N=k(M);if(P){var B=k(this).constructor;C=Reflect.construct(N,arguments,B)}else C=N.apply(this,arguments);return function U(M,P){if(P&&("object"===w(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function R(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(M)}(this,C)}}function k(M){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(M)}S.default=function(M){g(T,M);var P=A(T);function T(){return function f(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}(this,T),P.call(this,function(N,C){var B,W=(E(B={},y.default.MPD,[y.default.ID,y.default.PROFILES]),E(B,y.default.PERIOD,[y.default.ID]),E(B,y.default.BASE_URL,[y.default.SERVICE_LOCATION,y.default.BYTE_RANGE]),E(B,y.default.SEGMENT_BASE,[y.default.INDEX_RANGE]),E(B,y.default.INITIALIZATION,[y.default.RANGE]),E(B,y.default.REPRESENTATION_INDEX,[y.default.RANGE]),E(B,y.default.SEGMENT_LIST,[y.default.INDEX_RANGE]),E(B,y.default.BITSTREAM_SWITCHING,[y.default.RANGE]),E(B,y.default.SEGMENT_URL,[y.default.MEDIA_RANGE,y.default.INDEX_RANGE]),E(B,y.default.SEGMENT_TEMPLATE,[y.default.INDEX_RANGE,y.default.MEDIA,y.default.INDEX,y.default.INITIALIZATION_MINUS,y.default.BITSTREAM_SWITCHING_MINUS]),E(B,y.default.ASSET_IDENTIFIER,[y.default.VALUE,y.default.ID]),E(B,y.default.EVENT_STREAM,[y.default.VALUE]),E(B,y.default.ADAPTATION_SET,[y.default.PROFILES,y.default.MIME_TYPE,y.default.SEGMENT_PROFILES,y.default.CODECS,y.default.CONTENT_TYPE]),E(B,y.default.FRAME_PACKING,[y.default.VALUE,y.default.ID]),E(B,y.default.AUDIO_CHANNEL_CONFIGURATION,[y.default.VALUE,y.default.ID]),E(B,y.default.CONTENT_PROTECTION,[y.default.VALUE,y.default.ID]),E(B,y.default.ESSENTIAL_PROPERTY,[y.default.VALUE,y.default.ID]),E(B,y.default.SUPPLEMENTAL_PROPERTY,[y.default.VALUE,y.default.ID]),E(B,y.default.INBAND_EVENT_STREAM,[y.default.VALUE,y.default.ID]),E(B,y.default.ACCESSIBILITY,[y.default.VALUE,y.default.ID]),E(B,y.default.ROLE,[y.default.VALUE,y.default.ID]),E(B,y.default.RATING,[y.default.VALUE,y.default.ID]),E(B,y.default.VIEWPOINT,[y.default.VALUE,y.default.ID]),E(B,y.default.CONTENT_COMPONENT,[y.default.CONTENT_TYPE]),E(B,y.default.REPRESENTATION,[y.default.ID,y.default.DEPENDENCY_ID,y.default.MEDIA_STREAM_STRUCTURE_ID]),E(B,y.default.SUBSET,[y.default.ID]),E(B,y.default.METRICS,[y.default.METRICS_MINUS]),E(B,y.default.REPORTING,[y.default.VALUE,y.default.ID]),B);if(W.hasOwnProperty(C)){var q=W[C];return void 0!==q&&q.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return function L(M,P,T){return P&&F(M.prototype,P),T&&F(M,T),Object.defineProperty(M,"prototype",{writable:!1}),M}(T)}(t.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(F){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function w(F){function L(g,v){for(var A in g)v.hasOwnProperty(A)||(v[A]=g[A])}function D(g,v,A){for(var U=0,R=g.length;U<R;++U){var H=g[U];if(v[H.name])if(A[H.name]){if(H.merge){var k=v[H.name],O=A[H.name];"object"===y(k)&&"object"===y(O)?L(k,O):A[H.name]=k+O}}else A[H.name]=v[H.name]}}function p(g,v){for(var A=0,U=g.children.length;A<U;++A){var R=g.children[A],H=v[R.name+"_asArray"];if(H)for(var k=0,O=H.length;k<O;++k){var M=H[k];D(g.properties,v,M),p(R,M)}}}return{run:function f(g){if(null===g||"object"!==y(g))return g;if(g.Period_asArray&&"period"in F)for(var v=F.period,A=g.Period_asArray,U=0,R=A.length;U<R;++U){var H=A[U];if(p(v,H),"adaptationset"in F){var k=H.AdaptationSet_asArray;if(k)for(var O=F.adaptationset,M=0,P=k.length;M<P;++M)p(O,k[M])}}return g}}}w.__dashjs_factory_name="ObjectIron";var E=t.default.getClassFactory(w);S.default=E},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter;function g(){if(!p||!p.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(y.default.MISSING_CONFIG_ERROR)}function A(R,H){if(g(),!R)return null;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentList,O=k.SegmentURL_asArray.length,M=R&&!isNaN(R.startNumber)?R.startNumber:1,P=Math.max(M-1,0),T=Math.max(H-P,0),N=null;if(T<O){var C=k.SegmentURL_asArray[T];(N=Object(w.getIndexBasedSegment)(p,D,R,H))&&(N.replacementTime=(M+H-1)*R.segmentDuration,N.media=C.media?C.media:"",N.mediaRange=C.mediaRange,N.indexRange=C.indexRange)}return N}return{getSegmentByIndex:A,getSegmentByTime:function U(R,H){if(g(),!R)return null;var k=R.segmentDuration;if(isNaN(k))return null;var O=p.calcPeriodRelativeTimeFromMpdRelativeTime(R,H);return A(R,Math.floor(O/k))},getMediaFinishedInformation:function v(R){var H={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!R)return H;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentList,O=R&&!isNaN(R.startNumber)?R.startNumber:1,M=Math.max(O-1,0);return H.numberOfSegments=M+k.SegmentURL_asArray.length,H}}}E.__dashjs_factory_name="ListSegmentsGetter";var F=t.default.getClassFactory(E);S.default=F},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S),c.d(S,"default",function(){return D});var D=function(){function f(){!function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}return function E(f,g,v){return g&&w(f.prototype,g),v&&w(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,null,[{key:"round10",value:function(v,A){return function p(f,g,v){return typeof v>"u"||0==+v?Math[f](g):(v=+v,null===(g=+g)||isNaN(g)||"number"!=typeof v||v%1!=0?NaN:(g=g.toString().split("e"),+((g=(g=Math[f](+(g[0]+"e"+(g[1]?+g[1]-v:-v)))).toString().split("e"))[0]+"e"+(g[1]?+g[1]+v:v))))}("round",v,A)}}]),f}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function w(F){var L=(F=F||{}).timelineConverter;function p(){if(!L||!L.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(y.default.MISSING_CONFIG_ERROR)}function g(U,R){if(p(),!U)return null;var k,H=U.segments?U.segments.length:-1;if(R<H&&(k=U.segments[R])&&k.index===R)return k;for(var O=0;O<H;O++)if((k=U.segments[O])&&k.index===R)return k;return null}return{getSegmentByIndex:g,getSegmentByTime:function v(U,R){return p(),g(U,function A(U,R){if(!U)return-1;var M,P,T,N,C,H=U.segments,k=H?H.length:null,O=-1;if(H&&k>0)for(C=0;C<k;C++)if(R+(M=(N=(P=H[C]).duration)/2)>=(T=P.presentationStartTime)&&R-M<T+N){O=P.index;break}return O}(U,R))},getMediaFinishedInformation:function f(U){var R={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!U||!U.segments||(R.numberOfSegments=U.segments.length),R}}}w.__dashjs_factory_name="SegmentBaseGetter";var E=t.default.getClassFactory(w);S.default=E},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(tt,S,c){"use strict";c.r(S),c.d(S,"unescapeDollarsInTemplate",function(){return E}),c.d(S,"replaceIDForTemplate",function(){return F}),c.d(S,"replaceTokenForTemplate",function(){return L}),c.d(S,"getIndexBasedSegment",function(){return f}),c.d(S,"getTimeBasedSegment",function(){return g});var t=c(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function y(v,A){for(;v.length<A;)v="0"+v;return v}function E(v){return v&&v.split("$$").join("$")}function F(v,A){if(!A||!v||-1===v.indexOf("$RepresentationID$"))return v;var U=A.toString();return v.split("$RepresentationID$").join(U)}function L(v,A,U){var H,k,O,M,P,T,N=A.length;if(!v)return v;for(;;){if((H=v.indexOf("$"+A))<0||(k=v.indexOf("$",H+N))<0)return v;if((O=v.indexOf("%0",H+N))>H&&O<k)switch(M=v.charAt(k-1),P=parseInt(v.substring(O+2,k-1),10),M){case"d":case"i":case"u":T=y(U.toString(),P);break;case"x":T=y(U.toString(16),P);break;case"X":T=y(U.toString(16),P).toUpperCase();break;case"o":T=y(U.toString(8),P);break;default:return v}else T=U;v=v.substring(0,H)+T+v.substring(k+1)}}function D(v,A,U,R,H,k,O,M){var P=new t.default;return P.representation=v,P.duration=A,P.presentationStartTime=U,P.mediaStartTime=R,P.availabilityStartTime=H.calcAvailabilityStartTimeFromPresentationTime(k,v,O),P.availabilityEndTime=H.calcAvailabilityEndTimeFromPresentationTime(k+A,v,O),P.wallStartTime=H.calcWallTimeForSegment(P,O),P.replacementNumber=function w(v,A){return v.representation.startNumber+A}(P,M),P.index=M,P}function p(v,A,U,R){var H=A.adaptation.period;if(isFinite(H.duration)&&H.start+H.duration<=U.presentationStartTime)return!1;if(R){if("INF"===A.availabilityTimeOffset)return!0;var k=v.getClientReferenceTime();return U.availabilityStartTime.getTime()<=k&&(!isFinite(U.availabilityEndTime)||U.availabilityEndTime.getTime()>=k)}return!0}function f(v,A,U,R){var H,k,O;H=U.segmentDuration,isNaN(H)&&(H=U.adaptation.period.duration),k=parseFloat((U.adaptation.period.start+R*H).toFixed(5)),O=parseFloat((k+H).toFixed(5));var P=D(U,H,k,v.calcMediaTimeFromPresentationTime(k,U),v,O,A,R);return p(v,U,P,A)?P:null}function g(v,A,U,R,H,k,O,M,P,T){var B,q,N=R/k,C=H/k;return B=v.calcPresentationTimeFromMediaTime(N,U),p(v,U,q=D(U,C,B,N,v,B+C,A,P),A)?(q.replacementTime=T||R,O=L(O,"Number",q.replacementNumber),O=L(O,"Time",q.replacementTime),q.media=O,q.mediaRange=M,q):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter;function g(){if(!p||!p.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(y.default.MISSING_CONFIG_ERROR)}function A(R,H){if(g(),!R)return null;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentTemplate;H=Math.max(H,0);var O=Object(w.getIndexBasedSegment)(p,D,R,H);if(O){O.replacementTime=Math.round((H-1)*R.segmentDuration*R.timescale,10);var M=k.media;M=Object(w.replaceTokenForTemplate)(M,"Number",O.replacementNumber),M=Object(w.replaceTokenForTemplate)(M,"Time",O.replacementTime),O.media=M}return O}return{getSegmentByIndex:A,getSegmentByTime:function U(R,H){if(g(),!R)return null;var k=R.segmentDuration;if(isNaN(k))return null;var O=p.calcPeriodRelativeTimeFromMpdRelativeTime(R,H);return A(R,Math.floor(O/k))},getMediaFinishedInformation:function v(R){var H={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!R)return H;var k=R.segmentDuration;return H.numberOfSegments=isNaN(k)?1:Math.ceil(R.adaptation.period.duration/k),H}}}E.__dashjs_factory_name="TemplateSegmentsGetter";var F=t.default.getClassFactory(E);S.default=F},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),L=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),D=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),p=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function g(){var R,H,k,O,v=this.context,A=Object(t.default)(v).getInstance(),U=Object(L.default)(v).getInstance();function N(ke){O=ke}function B(ke,we,Ve,st){var Je,Ne=we.adaptation.period.mpd,Te=Ne.availabilityStartTime;if(st)Je=Ve&&Ne.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Te.getTime()+1e3*(ke+Ne.timeShiftBufferDepth)):Ne.availabilityEndTime;else if(Ve){var Y=we.availabilityTimeOffset;Je=new Date(Te.getTime()+1e3*(ke-Y))}else Je=Te;return Je}function le(ke,we){return(ke.getTime()-we.mpd.availabilityStartTime.getTime()+1e3*O)/1e3}function Fe(ke,we){return ke+(we.adaptation.period.start-we.presentationTimeOffset)}function he(ke){var we={start:NaN,end:NaN},Ve=ke[0].getAdapter().getRegularPeriods()[0],st=le(new Date,Ve);if(!ke||0===ke.length)return{range:we,now:st};ke.forEach(function(Ne){var Te=Ne.getAdapter(),Y=Te.getMediaInfoForType(Ne.getStreamInfo(),D.default.VIDEO)||Te.getMediaInfoForType(Ne.getStreamInfo(),D.default.AUDIO),_e=Te.getVoRepresentations(Y)[0],J={start:NaN,end:NaN};if(_e)if(_e.segmentInfoType===E.default.SEGMENT_TIMELINE)J=function fe(ke){var se,_e,J,Q,Ve=H.getRepresentationFor(ke.index,ke.adaptation.period.mpd.manifest.Period_asArray[ke.adaptation.period.index].AdaptationSet_asArray[ke.adaptation.index]),Je=Ve.SegmentTemplate.timescale,Ne=Ve.SegmentTemplate.SegmentTimeline.S_asArray,Te={start:0,end:0},Y=0;for(Te.start=Fe(Ne[0].t/Je,ke),J=0,Q=Ne.length;J<Q;J++)_e=0,(se=Ne[J]).hasOwnProperty("r")&&(_e=se.r),Y+=se.d*(1+_e);return Te.end=Fe((Ne[0].t+Y)/Je,ke),Te}(_e);else{var Q=_e.adaptation.period;J.start=Q.start,J.end=Math.max(st,Q.start+Q.duration)}!isNaN(J.start)&&(isNaN(we.start)||we.start>J.start)&&(we.start=J.start),!isNaN(J.end)&&(isNaN(we.end)||we.end<J.end)&&(we.end=J.end)}),we.end=Math.min(st,we.end);var Je=Le(ke,we.end,!0);return we.end=isNaN(Je)?we.end:Je,we.start=Ve&&Ve.mpd&&Ve.mpd.timeShiftBufferDepth&&!isNaN(Ve.mpd.timeShiftBufferDepth)&&!isNaN(we.end)?Math.max(we.end-Ve.mpd.timeShiftBufferDepth,we.start):we.start,we.start=Le(ke,we.start),{range:we,now:st}}function Ce(ke,we){k=ke-we.end}function Le(ke,we){var Ve=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var st=0,Je=!1,Ne=NaN;!Je&&st<ke.length;){var Te=ke[st].getStreamInfo();Te.start<=we&&(!isFinite(Te.duration)||Te.start+Te.duration>=we)?(Ne=we,Je=!0):!Ve&&Te.start>we&&(isNaN(Ne)||Te.start<Ne)?Ne=Te.start:Ve&&Te.start+Te.duration<we&&(isNaN(Ne)||Te.start+Te.duration>Ne)&&(Ne=Te.start+Te.duration),st+=1}return Ne}catch{return we}}function xe(ke){void 0!==ke.offset&&!isNaN(ke.offset)&&N(ke.offset/1e3)}function pe(){O=0,k=0}function Ue(){A.off(y.default.UPDATE_TIME_SYNC_OFFSET,xe,this),pe()}return R={initialize:function P(){pe(),A.on(y.default.UPDATE_TIME_SYNC_OFFSET,xe,this)},getClientTimeOffset:function T(){return O},setClientTimeOffset:N,getClientReferenceTime:function C(){return Date.now()-1e3*k+1e3*O},calcAvailabilityStartTimeFromPresentationTime:function W(ke,we,Ve){return B(ke,we,Ve)},calcAvailabilityEndTimeFromPresentationTime:function q(ke,we,Ve){return B(ke,we,Ve,!0)},calcPresentationTimeFromWallTime:le,calcPresentationTimeFromMediaTime:Fe,calcPeriodRelativeTimeFromMpdRelativeTime:function Re(ke,we){return we-ke.adaptation.period.start},calcMediaTimeFromPresentationTime:function $(ke,we){return ke-we.adaptation.period.start+we.presentationTimeOffset},calcWallTimeForSegment:function ae(ke,we){var st,Je;return we&&(st=ke.presentationStartTime+ke.representation.adaptation.period.mpd.suggestedPresentationDelay,Je=new Date(ke.availabilityStartTime.getTime()+1e3*st)),Je},calcTimeShiftBufferWindow:function K(ke,we){if(!we)return function ge(ke){var we={start:NaN,end:NaN},Ve=0,st=NaN;return ke.forEach(function(Je){var Ne=Je.getStreamInfo();Ve+=Ne.duration,(isNaN(st)||Ne.start<st)&&(st=Ne.start)}),we.start=st,we.end=st+Ve,we}(ke);if(U.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var Ve=he(ke);return Ce(Ve.now,Ve.range),Ve.range}return function oe(ke){var we={start:NaN,end:NaN};if(!ke||0===ke.length)return we;var Ve=ke[0].getAdapter().getRegularPeriods()[0],st=le(new Date,Ve),Je=Ve.mpd.timeShiftBufferDepth,Ne=isNaN(Je)?0:st-Je;if(we.start=Le(ke,Ne),we.end=!isNaN(we.start)&&st<we.start?st:Le(ke,st,!0),!isNaN(Je)&&we.end<st-Je&&(we.end=NaN),U.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var Te=he(ke);if(Te.range.end<we.start)return A.trigger(p.default.CONFORMANCE_VIOLATION,{level:f.default.LEVELS.WARNING,event:f.default.EVENTS.INVALID_DVR_WINDOW}),Ce(Te.now,Te.range),Te.range}return we}(ke)},reset:Ue},function M(){H=Object(F.default)(v).getInstance(),Ue()}(),R}g.__dashjs_factory_name="TimelineConverter",S.default=w.default.getSingletonFactory(g)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter,f=L.dashMetrics;function v(){if(!p)throw new Error(y.default.MISSING_CONFIG_ERROR)}function U(M,P){var q,le,Fe,$,ae,K,ge,T=M.adaptation.period.mpd.manifest.Period_asArray[M.adaptation.period.index].AdaptationSet_asArray[M.adaptation.index].Representation_asArray[M.index].SegmentTemplate||M.adaptation.period.mpd.manifest.Period_asArray[M.adaptation.period.index].AdaptationSet_asArray[M.adaptation.index].Representation_asArray[M.index].SegmentList,C=T.SegmentURL_asArray,B=0,W=-1;ge=M.timescale;var oe=!1;for(Fe=0,$=(q=T.SegmentTimeline.S_asArray).length;Fe<$&&!oe;Fe++)for(K=0,(le=q[Fe]).hasOwnProperty("r")&&(K=le.r),le.hasOwnProperty("t")&&(B=le.t),K<0&&(K=R(M,q[Fe+1],le,ge,B/ge)),ae=0;ae<=K&&!oe;ae++)(oe=P(B,T,C,le,ge,++W,Fe))&&(M.segmentDuration=le.d/ge),B+=le.d}function R(M,P,T,N,C){var B;if(P&&P.hasOwnProperty("t"))B=P.t/N;else try{var W=0;if(isNaN(M.adaptation.period.start)||isNaN(M.adaptation.period.duration)||!isFinite(M.adaptation.period.duration)){var q=f.getCurrentDVRInfo();W=isNaN(q.end)?0:q.end}else W=M.adaptation.period.start+M.adaptation.period.duration;B=p.calcMediaTimeFromPresentationTime(W,M),M.segmentDuration=T.d/N}catch{B=0}return Math.max(Math.ceil((B-C)/(T.d/N))-1,0)}return{getSegmentByIndex:function H(M,P,T){if(v(),!M)return null;var N=null,C=!1;return U(M,function(B,W,q,le,Fe,$,ae){if(C||T<0){var K=W.media,ge=le.mediaRange;return q&&(K=q[ae].media||"",ge=q[ae].mediaRange),N=Object(w.getTimeBasedSegment)(p,D,M,B,le.d,Fe,K,ge,$,le.tManifest),!0}return B>=T*Fe-.5*le.d&&(C=!0),!1}),N},getSegmentByTime:function k(M,P){if(v(),!M)return null;void 0===P&&(P=null);var T=null,N=p.calcMediaTimeFromPresentationTime(P,M);return U(M,function(C,B,W,q,le,Fe,$){var ae=function O(M){return parseFloat(M.toPrecision(15))}(N*le);if(ae<C+q.d&&ae>=C){var K=B.media,ge=q.mediaRange;return W&&(K=W[$].media||"",ge=W[$].mediaRange),T=Object(w.getTimeBasedSegment)(p,D,M,C,q.d,le,K,ge,Fe,q.tManifest),!0}return!1}),T},getMediaFinishedInformation:function A(M){if(!M)return 0;var W,q,le,Fe,$,ae,K,N=0,C=0,B=0;for(K=M.timescale,Fe=(W=(M.adaptation.period.mpd.manifest.Period_asArray[M.adaptation.period.index].AdaptationSet_asArray[M.adaptation.index].Representation_asArray[M.index].SegmentTemplate||M.adaptation.period.mpd.manifest.Period_asArray[M.adaptation.period.index].AdaptationSet_asArray[M.adaptation.index].Representation_asArray[M.index].SegmentList).SegmentTimeline.S_asArray).length,le=0;le<Fe;le++)for(ae=0,(q=W[le]).hasOwnProperty("r")&&(ae=q.r),q.hasOwnProperty("t")&&(C=(N=q.t)/K),ae<0&&(ae=R(M,W[le+1],q,K,C)),$=0;$<=ae;$++)B++,C=(N+=q.d)/K;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:C}}}}E.__dashjs_factory_name="TimelineSegmentsGetter";var F=t.default.getClassFactory(E);S.default=F},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function y(g,v){for(var A=0;A<v.length;A++){var U=v[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(g,E(U.key),U)}}function w(g,v,A){return v&&y(g.prototype,v),A&&y(g,A),Object.defineProperty(g,"prototype",{writable:!1}),g}function E(g){var v=function F(g,v){if("object"!==t(g)||null===g)return g;var A=g[Symbol.toPrimitive];if(void 0!==A){var U=A.call(g,v||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(g)}(g,"string");return"symbol"===t(v)?v:String(v)}c.r(S);var f=w(function g(v,A,U,R){(function L(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=v||"",this.serviceLocation=A||v||"",this.dvb_priority=U||1,this.dvb_weight=R||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});f.DEFAULT_DVB_PRIORITY=1,f.DEFAULT_DVB_WEIGHT=1,S.default=f},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function E(f,g,v){return g&&w(f.prototype,g),v&&w(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}function F(f){var g=function L(f,g){if("object"!==y(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==y(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===y(g)?g:String(g)}S.default=E(function f(g){(function D(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.url=g||null,this.type=t.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f,g,v){(function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.action=f,this.xpath=g,this.value=v,this.position=null}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"getMpdTarget",value:function(g){return this.xpath.getMpdTarget(g,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),p}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S);var D=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});D.DEFAULT_ID="defaultId",S.default=D},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,L(A.key),A)}}function L(f){var g=function D(f,g){if("object"!==y(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==y(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===y(g)?g:String(g)}S.default=function(){function f(){(function w(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function F(f,g,v){return g&&E(f.prototype,g),v&&E(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==t.default.BASE_URL&&this.segmentInfoType!==t.default.SEGMENT_BASE&&!this.indexRange}}]),f}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f){var g=this;(function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.valid="/"==f[0],this.path=f.split("/").filter(function(v){return 0!==v.length}).map(function(v){var A={name:v},U=v.indexOf("[");if(-1!=U){A.name=v.substring(0,U);var R=v.substring(U+1,v.length-1);g.valid=g.valid&&-1==R.indexOf("[");var H=R.indexOf("=");-1!=H?(A.attribute={name:R.substring(1,H),value:R.substring(H+1)},-1!=["'",'"'].indexOf(A.attribute.value[0])&&(A.attribute.value=A.attribute.value.substring(1,A.attribute.value.length-1))):A.position=parseInt(R,10)-1}return A})}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(g,v){for(var A=null,U=g,R=1,H="MPD";R<this.path.length&&null!==U;){A=U;var k=this.path[R];if(H=k.name,R!==this.path.length-1||!H.startsWith("@")){var O=A[H+"_asArray"]||[];0===O.length&&A[H]&&O.push(A[H]),k.position?U=O[k.position]||null:k.attribute?function(){var M=k.attribute;U=O.filter(function(P){return P[M.name]==M.value})[0]||null}():U=O[0]||null}R++}return null===U?null:H.startsWith("@")?{name:H.substring(1),leaf:U,target:U}:{name:H,leaf:U,target:v?A:U}}}]),p}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),w=c(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),E=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function L(D){var R,H,p=this.context,f=(D=D||{}).eventBus,g=D.events,v=D.urlUtils,A=D.errors,U=D.streamId;return R={checkForExistence:function O(N){var C=function(q){f.trigger(g.CHECK_FOR_EXISTENCE_COMPLETED,{request:N,exists:q})};if(N){var B=new w.default(N.url);H.load({request:B,success:function(){C(!0)},error:function(){C(!1)}})}else C(!1)},load:function M(N){var C=function(W,q){f.trigger(g.LOADING_COMPLETED,{request:N,response:W||null,error:q||null,sender:R})};N?H.load({request:N,progress:function(W){f.trigger(g.LOADING_PROGRESS,{request:N,stream:W.stream,streamId:U}),W.data&&f.trigger(g.LOADING_DATA_PROGRESS,{request:N,response:W.data||null,error:null,sender:R})},success:function(W){C(W)},error:function(W,q,le){C(void 0,new E.default(A.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,le,q))},abort:function(W){W&&f.trigger(g.LOADING_ABANDONED,{mediaType:W.mediaType,request:W,sender:R})}}):C(void 0,new E.default(A.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,A.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function P(){H&&H.abort()},reset:function T(){H&&(H.abort(),H=null)}},function k(){H=Object(y.default)(p).create({errHandler:D.errHandler,errors:A,dashMetrics:D.dashMetrics,mediaPlayerModel:D.mediaPlayerModel,requestModifier:D.requestModifier,urlUtils:v,constants:t.default,boxParser:D.boxParser,dashConstants:D.dashConstants,requestTimeout:D.settings.get().streaming.fragmentRequestTimeout})}(),R}L.__dashjs_factory_name="FragmentLoader",S.default=F.default.getClassFactory(L)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),E=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),F=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),D=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),p=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),f=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),g=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),v=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),A=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),U=c(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function R(k){var C,B,W,q,le,O=this.context,M=(k=k||{}).debug,P=k.settings,T=Object(f.default)(O).getInstance(),N=Object(F.default)(O).getInstance(),Fe=k.mssHandler,$=k.errHandler;function K(Ce){T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:Ce.manifest})}return C={load:function oe(Ce){var Le=new L.default(Ce,p.HTTPRequest.MPD_TYPE);W.load({request:Le,success:function(Re,xe,pe){if(q){var Ue,ke,we;if(pe&&pe!==Ce?(ke=N.parseBaseUrl(pe),Ue=pe):(N.isRelative(Ce)&&(Ce=N.resolve(Ce,window.location.href)),ke=N.parseBaseUrl(Ce)),"No Content"==xe)return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===le&&(le=function ge(Ce){var Le=null;return Ce.indexOf("SmoothStreamingMedia")>-1?(Fe&&(Le=Fe.createMssParser(),Fe.registerEvents()),Le):Ce.indexOf("MPD")>-1||Ce.indexOf("Patch")>-1?Object(U.default)(O).create({debug:M}):Le}(Re)),null===le)return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ce))});q.setMatchers(le.getMatchers()),q.setIron(le.getIron());try{we=le.parse(Re)}catch{return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ce))})}if(we){if(we.url=Ue||Ce,we.originalUrl||(we.originalUrl=we.url),we.hasOwnProperty(t.default.LOCATION)&&(ke=N.parseBaseUrl(we.Location_asArray[0]),B.debug("BaseURI set by Location to: "+ke)),P&&P.get().streaming.enableManifestDurationMismatchFix&&we.mediaPresentationDuration&&we.Period_asArray.length>1){var Ve=we.Period_asArray.reduce(function(st,Je){return st+Je.duration},0);!isNaN(Ve)&&we.mediaPresentationDuration>Ve&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),we.mediaPresentationDuration=Ve)}we.baseUri=ke,we.loadedTime=new Date,q.resolveManifestOnLoad(we),T.trigger(g.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Re})}else T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ce))})}},error:function(Re,xe,pe){T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(Ce,", ").concat(pe))})}})},reset:function he(){T.off(g.default.XLINK_READY,K,C),Fe&&Fe.reset(),q&&(q.reset(),q=null),W&&(W.abort(),W=null)}},function ae(){B=M.getLogger(C),T.on(g.default.XLINK_READY,K,C),W=Object(E.default)(O).create({errHandler:k.errHandler,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,urlUtils:N,constants:t.default,dashConstants:y.default,errors:v.default,requestTimeout:k.settings.get().streaming.manifestRequestTimeout}),q=Object(w.default)(O).create({errHandler:$,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,settings:k.settings}),le=null}(),C}R.__dashjs_factory_name="ManifestLoader";var H=A.default.getClassFactory(R);S.default=H},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),E=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),D=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function f(){var U,R,H,k,O,M,P,T,N,C,B,W,g=this.context,v=Object(t.default)(g).getInstance(),A=Object(p.default)(g).getInstance();function ae(){H=NaN,P=!1,O=!0,M=!1,ge()}function ge(){null!==k&&(clearTimeout(k),k=null)}function oe(ke){ge(),!M&&(isNaN(ke)&&!isNaN(H)&&(ke=1e3*H),isNaN(ke)||(R.debug("Refresh manifest in "+ke+" milliseconds."),k=setTimeout(Le,ke)))}function he(){var ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0];P=!0;var we=N.getValue(),Ve=we.url,st=C.getPatchLocation(we),Je=C.getLocation(we);st&&!ke?Ve=st:Je&&(Ve=Je),A.isRelative(Ve)&&(Ve=A.resolve(Ve,we.url)),T.load(Ve)}function Ce(ke){if(ke){if(C.getIsPatch(ke)){var we=ke;ke=N.getValue();var Ve=C.isPatchValid(ke,we),st=Ve;if(Ve){var Je=C.getPublishTime(ke);st=C.applyPatchToManifest(ke,we);var Ne=C.getPublishTime(ke);st=Je.getTime()!=Ne.getTime()}if(!st)return R.debug("Patch provided is invalid, performing full manifest refresh"),void he(!0);ke.loadedTime=new Date}}else(ke=N.getValue()).loadedTime=new Date;if(N.getValue()&&N.getValue().type===D.default.DYNAMIC&&ke.type===D.default.STATIC)return v.trigger(y.default.DYNAMIC_TO_STATIC),P=!1,void(M=!0);N.setValue(ke);var Te=new Date,Y=(Te.getTime()-ke.loadedTime.getTime())/1e3;1e3*(H=C.getManifestUpdatePeriod(ke,Y))>2147483647&&(H=2147483.647),v.trigger(y.default.MANIFEST_UPDATED,{manifest:ke}),R.info("Manifest has been refreshed at "+Te+"["+Te.getTime()/1e3+"] "),O||oe()}function Le(){if(!O){if(P)return void oe(W.get().streaming.manifestUpdateRetryInterval);he()}}function fe(ke){ke.error?ke.error.code===L.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(ke.error):Ce(ke.manifest)}function Re(){O=!1,oe()}function xe(){(O=!W.get().streaming.scheduling.scheduleWhilePaused)&&ge()}function pe(){P=!1}return U={initialize:function Fe(){ae(),v.on(y.default.STREAMS_COMPOSED,pe,this),v.on(w.default.PLAYBACK_STARTED,Re,this),v.on(w.default.PLAYBACK_PAUSED,xe,this),v.on(y.default.INTERNAL_MANIFEST_LOADED,fe,this)},setManifest:function $(ke){Ce(ke)},refreshManifest:he,getIsUpdating:function Ue(){return P},setConfig:function le(ke){ke&&(ke.manifestModel&&(N=ke.manifestModel),ke.adapter&&(C=ke.adapter),ke.manifestLoader&&(T=ke.manifestLoader),ke.errHandler&&(B=ke.errHandler),ke.settings&&(W=ke.settings))},reset:function K(){v.off(w.default.PLAYBACK_STARTED,Re,this),v.off(w.default.PLAYBACK_PAUSED,xe,this),v.off(y.default.STREAMS_COMPOSED,pe,this),v.off(y.default.INTERNAL_MANIFEST_LOADED,fe,this),ae()}},function q(){R=Object(F.default)(g).getInstance().getLogger(U)}(),U}f.__dashjs_factory_name="ManifestUpdater",S.default=E.default.getClassFactory(f)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),y=c.n(t),w=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),L=c(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),D=c(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),p=c(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),f=c(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),g=c(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),v=c(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),A=c(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),U=c(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),R=c(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),H=c(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),k=c(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),O=c(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),M=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),P=c(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),T=c(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),N=c(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),C=c(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=c(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),W=c(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),q=c(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),le=c(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Fe=c(
/*! ./../core/Debug */
"./src/core/Debug.js"),$=c(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),ae=c(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),K=c(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),ge=c(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),oe=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),he=c(
/*! ../core/Settings */
"./src/core/Settings.js"),Ce=c(
/*! ../core/Version */
"./src/core/Version.js"),Le=c(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),fe=c(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Re=c(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),xe=c(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),pe=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),Ue=c(
/*! ../../externals/base64 */
"./externals/base64.js"),ke=c.n(Ue),we=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),Ve=c.n(we),st=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),Je=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),Ne=c(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),Te=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),Y=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),se=c(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),_e=c(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function J(){var We,He,at,ct,it,vt,Ht,It,jt,en,dn,un,Kt,Cn,nn,Dt,ft,Qe,De,Pe,Ye,$e,lt,ot,dt,Ft,$t,Lt,Jt,cn,mn,xn,Ln,Yn,Vn,ci,yn,Z="You must first call initialize() and set a source before calling this method",te="You must first call initialize() and set a valid source and view before calling this method",ie="You must first call attachView() to set the video element before calling this method",X="MediaPlayer not initialized!",ue=this.context,ve=Object(ae.default)(ue).getInstance(),de=Object(he.default)(ue).getInstance(),Ae=Object(Fe.default)(ue).getInstance({settings:de});function tn(){No(null),yr(null),ct=null,Kt&&(Kt.reset(),Kt=null),Cn&&(Cn.reset(),Cn=null),De&&De.reset(),de.reset(),Dt&&(Dt.reset(),Dt=null)}function Xe(){return!!at&&!!Yn.getElement()}function In(){return Object(Ce.getVersionString)()}function on(){if(!Ht)throw te;return $t.isPaused()}function Et(){if(!Ht)throw te;return $t.getIsDynamic()}function pr(gn){var nt=ot&&ot.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,ht=mn.getCurrentDVRInfo(nt);if(!ht)return 0;var qe=$t.getOriginalLiveDelay(),wt=ht.range.start+gn;return wt>ht.range.end-qe&&(wt=ht.range.end-qe),wt}function mo(gn){if(!Ht)throw te;var nt=Ri().currentTime;if(void 0!==gn)nt=ot.getTimeRelativeToStreamId(nt,gn);else if($t.getIsDynamic()){var ht=ot&&ot.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,qe=mn.getCurrentDVRInfo(ht);nt=null===qe||0===nt?0:Math.max(0,nt-qe.range.start)}return nt}function Hi(){if(!Ht)throw te;var gn=Ri().duration;if($t.getIsDynamic()){var nt=ot&&ot.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,ht=mn.getCurrentDVRInfo(nt);gn=ht?ht.range.end-ht.range.start:0}return gn}function Ji(gn){Object(Je.checkParameterType)(gn,"boolean"),It=gn}function zi(){De.restoreDefaultUTCTimingSources()}function Pn(){return mn}function Ri(){if(!Yn.getElement())throw ie;return Yn.getElement()}function yr(gn){if(!it)throw X;Yn.setElement(gn),gn&&(Lr(),function _a(){if(!Cn){var gn=dashjs.MetricsReporting;if("function"==typeof gn){var nt=gn(ue).create();Cn=nt.createMetricsReporting({debug:Ae,eventBus:ve,mediaElement:Ri(),adapter:ft,dashMetrics:mn,mediaPlayerModel:Qe,events:K.default,constants:w.default,metricsConstants:F.default})}}}(),function $s(){if(!nn){var gn=dashjs.MssHandler;"function"==typeof gn&&($.default.extend(gn.errors),nn=gn(ue).create({eventBus:ve,mediaPlayerModel:Qe,dashMetrics:mn,manifestModel:xn,playbackController:$t,streamController:ot,protectionController:Kt,baseURLController:Ye,errHandler:Pe,events:K.default,constants:w.default,debug:Ae,initSegmentType:pe.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:ke.a,ISOBoxer:Ve.a,settings:de}))}}(),ot&&ot.switchToVideoElement()),Ht&&vo(),ur()}function jr(gn){if(!vt)throw Z;var nt=ot.getActiveStreamInfo();return nt?un.getTracksFor(gn,nt.id):[]}function No(gn){var nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!it)throw X;"string"==typeof gn&&Vn.initialize(gn),(null==nt||isNaN(nt))&&(nt=NaN),nt=Math.max(0,nt),at=gn,(vt||Ht)&&vo(),Xe()&&ur(nt)}function co(){if(!vt)throw Z;var gn=ot.getActiveStreamInfo();return gn?ot.getStreamById(gn.id):null}function vo(){Ht=!1,vt=!1,ft.reset(),ot.reset(),Ft.reset(),cn.reset(),$t.reset(),Lt.reset(),Jt.reset(),jt.reset(),un.reset(),yn.reset(),Kt&&(de.get().streaming.protection.keepProtectionMediaKeys?Kt.stop():(Kt.reset(),Kt=null,Lr())),dt.reset(),Ln.reset()}function Vo(){return Object(R.default)(ue).create({debug:Ae,errHandler:Pe,dashMetrics:mn,mediaPlayerModel:Qe,requestModifier:Object(M.default)(ue).getInstance(),mssHandler:nn,settings:de})}function Lr(){if(Kt)return Kt;var gn=dashjs.Protection;if("function"==typeof gn){var nt=gn(ue).create();return K.default.extend(gn.events),ge.default.extend(gn.events,{publicOnly:!0}),$.default.extend(gn.errors),$e||($e=Object(k.default)(ue).getInstance()),Kt=nt.createProtectionSystem({debug:Ae,errHandler:Pe,videoModel:Yn,customParametersModel:De,capabilities:$e,eventBus:ve,events:K.default,BASE64:ke.a,constants:w.default,cmcdModel:Ln,settings:de})}return null}function Ls(){if(!it)throw X;if(Dt)return Dt;var gn=dashjs.OfflineController;if("function"==typeof gn){K.default.extend(gn.events),ge.default.extend(gn.events,{publicOnly:!0}),$.default.extend(gn.errors);var nt=Vo(),ht=Object(Ne.default)(ue).create();return ht.setConfig({manifestModel:xn,adapter:ft,manifestLoader:nt,errHandler:Pe}),Dt=gn(ue).create({debug:Ae,manifestUpdater:ht,baseURLController:Ye,manifestLoader:nt,manifestModel:xn,mediaPlayerModel:Qe,abrController:jt,playbackController:$t,adapter:ft,errHandler:Pe,dashMetrics:mn,timelineConverter:dn,segmentBaseController:yn,schemeLoaderFactory:en,eventBus:ve,events:K.default,errors:$.default,constants:w.default,settings:de,dashConstants:E.default,urlUtils:Object(Te.default)(ue).getInstance()})}return null}function ks(gn){var nt=ot&&ot.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,ht=mn.getCurrentDVRInfo(nt);return ht?gn+(ht.manifestInfo.availableFrom.getTime()/1e3+ht.range.start):0}function ur(){var gn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Dt&&Dt.resetRecords(),!vt&&at&&(vt=!0,He.info("Streaming Initialized"),function Zr(){var gn=Vo();ot||(ot=Object(D.default)(ue).getInstance()),dt||(dt=Object(se.default)(ue).create({errHandler:Pe,manifestModel:xn,adapter:ft,mediaController:un,videoModel:Yn,settings:de})),lt.setConfig({capabilities:$e,customParametersModel:De,adapter:ft,settings:de,manifestModel:xn,errHandler:Pe}),ot.setConfig({capabilities:$e,capabilitiesFilter:lt,manifestLoader:gn,manifestModel:xn,mediaPlayerModel:Qe,customParametersModel:De,protectionController:Kt,textController:dt,adapter:ft,dashMetrics:mn,errHandler:Pe,timelineConverter:dn,videoModel:Yn,playbackController:$t,serviceDescriptionController:Lt,contentSteeringController:Jt,abrController:jt,mediaController:un,settings:de,baseURLController:Ye,uriFragmentModel:Vn,segmentBaseController:yn}),Ft.setConfig({settings:de,playbackController:$t,streamController:ot,videoModel:Yn,timelineConverter:dn,adapter:ft}),$t.setConfig({streamController:ot,serviceDescriptionController:Lt,dashMetrics:mn,adapter:ft,videoModel:Yn,timelineConverter:dn,settings:de}),cn.setConfig({streamController:ot,playbackController:$t,mediaPlayerModel:Qe,videoModel:Yn,settings:de}),jt.setConfig({streamController:ot,domStorage:ci,mediaPlayerModel:Qe,customParametersModel:De,dashMetrics:mn,adapter:ft,videoModel:Yn,settings:de}),Ln.setConfig({abrController:jt,dashMetrics:mn,playbackController:$t}),Jt.setConfig({adapter:ft,errHandler:Pe,dashMetrics:mn,mediaPlayerModel:Qe,manifestModel:xn,abrController:jt,eventBus:ve,requestModifier:Object(M.default)(ue).getInstance()}),jt.initialize(),ot.initialize(It,ct),dt.initialize(),Ft.initialize(),cn.initialize(),Ln.initialize(),Jt.initialize(),yn.initialize()}(),"string"==typeof at?ot.load(at,gn):ot.loadWithManifest(at,gn)),!Ht&&Xe()&&(Ht=!0,He.info("Playback Initialized"))}return We={initialize:function ut(gn,nt,ht){var qe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;$e||($e=Object(k.default)(ue).getInstance()).setConfig({settings:de}),Pe||(Pe=Object(H.default)(ue).getInstance()),$e.supportsMediaSource()?(it||(it=!0,dn=Object(xe.default)(ue).getInstance(),jt||(jt=Object(C.default)(ue).getInstance()).setConfig({settings:de}),en||(en=Object(B.default)(ue).getInstance()),$t||($t=Object(L.default)(ue).getInstance()),un||(un=Object(A.default)(ue).getInstance()),ot||(ot=Object(D.default)(ue).getInstance()),Ft||(Ft=Object(p.default)(ue).getInstance()),cn||(cn=Object(f.default)(ue).getInstance()),Lt||(Lt=Object(g.default)(ue).getInstance()),Jt||(Jt=Object(v.default)(ue).getInstance()),lt||(lt=Object(O.default)(ue).getInstance()),ft=Object(fe.default)(ue).getInstance(),xn=Object(T.default)(ue).getInstance(),Ln=Object(q.default)(ue).getInstance(),mn=Object(Re.default)(ue).getInstance({settings:de}),ci=Object(le.default)(ue).getInstance({settings:de}),ft.setConfig({constants:w.default,cea608parser:y.a,errHandler:Pe,BASE64:ke.a}),Ye||(Ye=Object(U.default)(ue).create()),Ye.setConfig({adapter:ft}),Lt.setConfig({adapter:ft}),yn||(yn=Object(Le.default)(ue).getInstance({dashMetrics:mn,mediaPlayerModel:Qe,errHandler:Pe,baseURLController:Ye,events:K.default,eventBus:ve,debug:Ae,boxParser:Object(Y.default)(ue).getInstance(),requestModifier:Object(M.default)(ue).getInstance(),errors:$.default})),un.setConfig({domStorage:ci,settings:de,customParametersModel:De}),Qe.setConfig({playbackController:$t,serviceDescriptionController:Lt}),zi(),Ji(void 0===ht||ht),Ls()),gn&&yr(gn),nt&&No(nt,qe),He.info("[dash.js "+In()+"] MediaPlayer has been initialized")):Pe.error(new st.default($.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,$.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function bt(gn){gn&&(gn.capabilities&&($e=gn.capabilities),gn.capabilitiesFilter&&(lt=gn.capabilitiesFilter),gn.streamController&&(ot=gn.streamController),gn.textController&&(dt=gn.textController),gn.gapController&&(Ft=gn.gapController),gn.playbackController&&($t=gn.playbackController),gn.serviceDescriptionController&&(Lt=gn.serviceDescriptionController),gn.contentSteeringController&&(Jt=gn.contentSteeringController),gn.catchupController&&(cn=gn.catchupController),gn.mediaPlayerModel&&(Qe=gn.mediaPlayerModel),gn.customParametersModel&&(De=gn.customParametersModel),gn.abrController&&(jt=gn.abrController),gn.schemeLoaderFactory&&(en=gn.schemeLoaderFactory),gn.mediaController&&(un=gn.mediaController),gn.settings&&(de=gn.settings))},on:function Pt(gn,nt,ht,qe){ve.on(gn,nt,ht,qe)},off:function Qt(gn,nt,ht){ve.off(gn,nt,ht)},extend:function Pr(gn,nt,ht){oe.default.extend(gn,nt,ht,ue)},attachView:yr,attachSource:No,isReady:Xe,play:function Zt(){if(!Ht)throw te;(!It||on()&&Ht)&&$t.play(!0)},isPaused:on,pause:function Yt(){if(!Ht)throw te;$t.pause()},isSeeking:function ei(){if(!Ht)throw te;return $t.isSeeking()},isDynamic:Et,getLowLatencyModeEnabled:function fn(){if(!Ht)throw te;return $t.getLowLatencyModeEnabled()},seek:function Tn(gn){if(!Ht)throw te;if(Object(Je.checkParameterType)(gn,"number"),isNaN(gn))throw w.default.BAD_ARGUMENT_ERROR;gn<0&&(gn=0);var nt=$t.getIsDynamic()?pr(gn):gn,ht=Ri();!$t.getIsDynamic()&&ht.duration&&(nt=Math.min(ht.duration,nt)),$t.seek(nt,!1,!1,!0)},seekToOriginalLive:function Un(){!Ht||!Et()||$t.seekToOriginalLive()},setPlaybackRate:function be(gn){Ri().playbackRate=gn},getPlaybackRate:function yt(){return Ri().playbackRate},setMute:function gt(gn){Object(Je.checkParameterType)(gn,"boolean"),Ri().muted=gn},isMuted:function kt(){return Ri().muted},setVolume:function an(gn){if("number"!=typeof gn||isNaN(gn)||gn<0||gn>1)throw w.default.BAD_ARGUMENT_ERROR;Ri().volume=gn},getVolume:function ti(){return Ri().volume},time:mo,duration:Hi,timeAsUTC:function Wr(){if(!Ht)throw te;return mo()<0?NaN:ks(mo())},durationAsUTC:function Bo(){if(!Ht)throw te;return ks(Hi())},getActiveStream:co,getDVRWindowSize:function Li(){var gn=ot&&ot.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,nt=mn.getCurrentDVRInfo(gn);return nt?nt.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:pr,getTargetLiveDelay:function vr(){if(!Ht)throw te;return $t.getOriginalLiveDelay()},convertToTimeCode:function sa(gn){gn=Math.max(gn,0);var nt=Math.floor(gn/3600),ht=Math.floor(gn%3600/60),qe=Math.floor(gn%3600%60);return(0===nt?"":nt<10?"0"+nt.toString()+":":nt.toString()+":")+(ht<10?"0"+ht.toString():ht.toString())+":"+(qe<10?"0"+qe.toString():qe.toString())},formatUTC:function bs(gn,nt,ht){var qe=arguments.length>3&&void 0!==arguments[3]&&arguments[3],wt=new Date(1e3*gn),sn=wt.toLocaleDateString(nt),li=wt.toLocaleTimeString(nt,{hour12:ht});return qe?li+" "+sn:li},getVersion:In,getDebug:function Fn(){return Ae},getBufferLength:function hi(gn){var nt=[w.default.VIDEO,w.default.AUDIO,w.default.TEXT];if(gn)return-1!==nt.indexOf(gn)?Pn().getCurrentBufferLevel(gn)||NaN:(He.warn("getBufferLength requested for invalid type"),NaN);var ht=nt.map(function(wt){return jr(wt).length>0?Pn().getCurrentBufferLevel(wt):Number.MAX_VALUE}).reduce(function(wt,sn){return Math.min(wt,sn)});return ht===Number.MAX_VALUE?NaN:ht},getTTMLRenderingDiv:function wr(){return Yn?Yn.getTTMLRenderingDiv():null},getVideoElement:Ri,getSource:function or(){if(!at)throw"You must first call attachSource() with a valid source before calling this method";return at},updateSource:function ys(gn){ot.load(at=gn)},getCurrentLiveLatency:function Ao(){if(!it)throw X;return Ht?$t.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function xi(gn){if(!vt)throw Z;return jt.getTopBitrateInfoFor(gn)},setAutoPlay:Ji,getAutoPlay:function Xo(){return It},getDashMetrics:Pn,getQualityFor:function Dr(gn){if(!vt)throw Z;if(gn===w.default.IMAGE){var nt=co();if(!nt)return-1;var ht=nt.getThumbnailController();return ht?ht.getCurrentTrackIndex():-1}return jt.getQualityFor(gn)},setQualityFor:function qi(gn,nt){var ht=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!vt)throw Z;if(gn===w.default.IMAGE){var qe=co();if(!qe)return;var wt=qe.getThumbnailController();wt&&wt.setTrackByIndex(nt)}jt.setPlaybackQuality(gn,ot.getActiveStreamInfo(),nt,{forceReplace:ht})},updatePortalSize:function Yr(){jt.setElementSize(),jt.setWindowResizeEventCalled(!0)},enableText:function Xn(gn){var nt=ot.getActiveStreamInfo();return!(!nt||!dt)&&dt.enableText(nt.id,gn)},enableForcedTextStreaming:function Kn(gn){return!(!ot.getActiveStreamInfo()||!dt)&&dt.enableForcedTextStreaming(gn)},isTextEnabled:function vi(){var gn=ot.getActiveStreamInfo();return!(!gn||!dt)&&dt.isTextEnabled(gn)},setTextTrack:function Oi(gn){if(!Ht)throw te;var nt=ot.getActiveStreamInfo();!nt||!dt||dt.setTextTrack(nt.id,gn)},getBitrateInfoListFor:function as(gn){if(!vt)throw Z;var nt=co();return nt?nt.getBitrateListFor(gn):[]},getStreamsFromManifest:function Nr(gn){if(!vt)throw Z;return ft.getStreamsInfo(gn)},getTracksFor:jr,getTracksForTypeFromManifest:function Uo(gn,nt,ht){if(!vt)throw Z;return(ht=ht||ft.getStreamsInfo(nt,1)[0])?ft.getAllMediaInfoForType(ht,gn,nt):[]},getCurrentTrackFor:function gr(gn){if(!vt)throw Z;var nt=ot.getActiveStreamInfo();return un.getCurrentTrackFor(gn,nt.id)},setInitialMediaSettingsFor:function Pi(gn,nt){if(!it)throw X;un.setInitialSettings(gn,nt)},getInitialMediaSettingsFor:function oa(gn){if(!it)throw X;return un.getInitialSettings(gn)},setCurrentTrack:function xo(gn){if(!vt)throw Z;un.setTrack(gn)},addABRCustomRule:function Hr(gn,nt,ht){De.addAbrCustomRule(gn,nt,ht)},removeABRCustomRule:function zr(gn){De.removeAbrCustomRule(gn)},removeAllABRCustomRule:function Ro(){De.removeAllAbrCustomRule()},getABRCustomRules:function On(){return De.getAbrCustomRules()},getAverageThroughput:function ro(gn){var nt=jt.getThroughputHistory(),ht=$t.getIsDynamic();return nt?nt.getAverageThroughput(gn,ht):0},retrieveManifest:function dr(gn,nt){var ht=Vo(),qe=this;ve.on(K.default.INTERNAL_MANIFEST_LOADED,function sn(li){li.error?nt(null,li.error):nt(li.manifest),ve.off(K.default.INTERNAL_MANIFEST_LOADED,sn,qe),ht.reset()},qe),Vn.initialize(gn),ht.load(gn)},addUTCTimingSource:function oi(gn,nt){De.addUTCTimingSource(gn,nt)},removeUTCTimingSource:function ki(gn,nt){De.removeUTCTimingSource(gn,nt)},clearDefaultUTCTimingSources:function wi(){De.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:zi,setXHRWithCredentialsForType:function xr(gn,nt){De.setXHRWithCredentialsForType(gn,nt)},getXHRWithCredentialsForType:function Rr(gn){return De.getXHRWithCredentialsForType(gn)},getProtectionController:function br(){return Lr()},attachProtectionController:function cr(gn){Kt=gn},setProtectionData:function eo(gn){ct=gn,ot&&ot.setProtectionData(ct)},registerLicenseRequestFilter:function ls(gn){De.registerLicenseRequestFilter(gn)},registerLicenseResponseFilter:function Mr(gn){De.registerLicenseResponseFilter(gn)},unregisterLicenseRequestFilter:function Ho(gn){De.unregisterLicenseRequestFilter(gn)},unregisterLicenseResponseFilter:function nr(gn){De.unregisterLicenseResponseFilter(gn)},registerCustomCapabilitiesFilter:function vs(gn){De.registerCustomCapabilitiesFilter(gn)},unregisterCustomCapabilitiesFilter:function so(gn){De.unregisterCustomCapabilitiesFilter(gn)},setCustomInitialTrackSelectionFunction:function Go(gn){De.setCustomInitialTrackSelectionFunction(gn)},resetCustomInitialTrackSelectionFunction:function es(){De.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function oo(gn){if(!Yn.getElement())throw ie;Yn.setTTMLRenderingDiv(gn)},attachVttRenderingDiv:function po(gn){if(!Yn.getElement())throw ie;Yn.setVttRenderingDiv(gn)},getCurrentTextTrackIndex:function Ui(){var nt=ot.getActiveStreamInfo();if(nt&&dt)return dt.getCurrentTrackIdx(nt.id)},provideThumbnail:function ts(gn,nt){if("function"==typeof nt){if(gn<0)return void nt(null);var ht=$t.getIsDynamic()?pr(gn):gn,qe=ot.getStreamForTime(ht);if(null===qe)return void nt(null);var wt=qe.getThumbnailController();return wt?wt.provide(ht,nt):void nt(null)}},getDashAdapter:function _r(){return ft},getOfflineController:function qt(){return Ls()},triggerSteeringRequest:function jo(){if(Jt)return Jt.loadSteeringData()},getCurrentSteeringResponseData:function ns(){if(Jt)return Jt.getCurrentSteeringResponseData()},getSettings:function Zs(){return de.get()},updateSettings:function Ns(gn){de.update(gn)},resetSettings:function cs(){de.reset()},reset:tn,destroy:function Ze(){tn(),oe.default.deleteSingletonInstances(ue)}},function _n(){He=Ae.getLogger(We),it=!1,Ht=!1,vt=!1,It=!0,Kt=null,Dt=null,ct=null,ft=null,yn=null,K.default.extend(ge.default),Qe=Object(N.default)(ue).getInstance(),De=Object(_e.default)(ue).getInstance(),Yn=Object(W.default)(ue).getInstance(),Vn=Object(P.default)(ue).getInstance()}(),We}J.__dashjs_factory_name="MediaPlayer";var Q=oe.default.getClassFactory(J);Q.events=ge.default,Q.errors=$.default,oe.default.updateClassFactory(J.__dashjs_factory_name,Q),S.default=Q},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function w(O,M){for(var P=0;P<M.length;P++){var T=M[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var M=function L(O,M){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,M||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===y(M)?M:String(M)}function p(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&f(O,M)}function f(O,M){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,M)}function g(O){var M=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(M){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(O,M){if(M&&("object"===y(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var k=new(function(O){p(P,O);var M=g(P);function P(){var T;return function D(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,P),(T=M.call(this)).AST_IN_FUTURE="astInFuture",T.BUFFER_EMPTY="bufferStalled",T.BUFFER_LOADED="bufferLoaded",T.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",T.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",T.DYNAMIC_TO_STATIC="dynamicToStatic",T.ERROR="error",T.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",T.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",T.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",T.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",T.LOG="log",T.MANIFEST_LOADED="manifestLoaded",T.METRICS_CHANGED="metricsChanged",T.METRIC_CHANGED="metricChanged",T.METRIC_ADDED="metricAdded",T.METRIC_UPDATED="metricUpdated",T.PERIOD_SWITCH_STARTED="periodSwitchStarted",T.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",T.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",T.QUALITY_CHANGE_RENDERED="qualityChangeRendered",T.TRACK_CHANGE_RENDERED="trackChangeRendered",T.STREAM_INITIALIZING="streamInitializing",T.STREAM_UPDATED="streamUpdated",T.STREAM_ACTIVATED="streamActivated",T.STREAM_DEACTIVATED="streamDeactivated",T.STREAM_INITIALIZED="streamInitialized",T.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",T.TEXT_TRACKS_ADDED="allTextTracksAdded",T.TEXT_TRACK_ADDED="textTrackAdded",T.TTML_PARSED="ttmlParsed",T.TTML_TO_PARSE="ttmlToParse",T.CAPTION_RENDERED="captionRendered",T.CAPTION_CONTAINER_RESIZE="captionContainerResize",T.CAN_PLAY="canPlay",T.CAN_PLAY_THROUGH="canPlayThrough",T.PLAYBACK_ENDED="playbackEnded",T.PLAYBACK_ERROR="playbackError",T.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",T.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",T.PLAYBACK_LOADED_DATA="playbackLoadedData",T.PLAYBACK_PAUSED="playbackPaused",T.PLAYBACK_PLAYING="playbackPlaying",T.PLAYBACK_PROGRESS="playbackProgress",T.PLAYBACK_RATE_CHANGED="playbackRateChanged",T.PLAYBACK_SEEKED="playbackSeeked",T.PLAYBACK_SEEKING="playbackSeeking",T.PLAYBACK_STALLED="playbackStalled",T.PLAYBACK_STARTED="playbackStarted",T.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",T.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",T.PLAYBACK_WAITING="playbackWaiting",T.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",T.EVENT_MODE_ON_START="eventModeOnStart",T.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",T.CONFORMANCE_VIOLATION="conformanceViolation",T.REPRESENTATION_SWITCH="representationSwitch",T.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",T.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",T}return function E(O,M,P){return M&&w(O.prototype,M),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));S.default=k},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var E,w=function y(){var f,p="application/dash+xml";function g(U,R,H){if(!U||!/^VIDEO$/i.test(U.nodeName))return null;if(U._dashjs_player)return U._dashjs_player;var k,O=U.id||U.name||"video element";if(!(R=R||[].slice.call(U.querySelectorAll("source")).filter(function(M){return M.type==p})[0])&&U.src)(R=document.createElement("source")).src=U.src;else if(!R&&!U.src)return null;return H=H||{},(k=Object(t.default)(H).create()).initialize(U,R.src,U.autoplay),f||(f=k.getDebug().getLogger()),f.debug("Converted "+O+" to dash.js player and added content: "+R.src),U._dashjs_player=k,k}function A(U){return/^VIDEO$/i.test(U.nodeName)?U:A(U.parentNode)}return{create:g,createAll:function v(U,R){var H=[];U=U||"[data-dashjs-player]";for(var k=(R=R||document).querySelectorAll(U),O=0;O<k.length;O++){var M=g(k[O],null);H.push(M)}for(var P=R.querySelectorAll('source[type="'+p+'"]'),T=0;T<P.length;T++){var C=g(A(P[T]),null);H.push(C)}return H}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?w.createAll():E=window.setInterval(function L(){window.dashjs&&(window.clearInterval(E),w.createAll())},500):window.addEventListener("load",function F(){window.removeEventListener("load",F),w.createAll()})),S.default=w},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),p=c(
/*! ../core/events/Events */
"./src/core/events/Events.js");function A(R){var P,T,N,C,B,W,H=this.context,k=Object(F.default)(H).getInstance(),O=R.textController,M=R.eventBus,q=[],le=[],Fe=!1,$=R.mediaSource,ae=null;function oe(te){return new Promise(function(ie){Z(function(){C.changeType&&C.changeType(te),ie()})})}function Le(te){return C=O.getTextSourceBuffer(te),Promise.resolve()}function fe(){if("function"==typeof C.addEventListener)try{C.addEventListener("updateend",_e,!1),C.addEventListener("error",J,!1),C.addEventListener("abort",J,!1)}catch{W=setInterval(_e,50)}else W=setInterval(_e,50)}function pe(te){return new Promise(function(ie){C&&k.get().streaming.buffer.useAppendWindow?Z(function(){try{if(!C)return void ie();var ee=$.duration,X=0;te&&!isNaN(te.start)&&!isNaN(te.duration)&&isFinite(te.duration)&&(ee=te.start+te.duration),te&&!isNaN(te.start)&&(X=te.start),(C.appendWindowEnd!==ee||C.appendWindowStart!==X)&&(C.appendWindowStart=0,C.appendWindowEnd=ee+.01,C.appendWindowStart=Math.max(X-.1,0),N.debug("Updated append window for ".concat(B.type,". Set start to ").concat(C.appendWindowStart," and end to ").concat(C.appendWindowEnd))),ie()}catch{N.warn("Failed to set append window"),ie()}}):ie()})}function Ue(te){return new Promise(function(ie){C?Z(function(){try{C.timestampOffset!==te&&!isNaN(te)&&(C.timestampOffset=te,N.debug("Set MSE timestamp offset to ".concat(te))),ie()}catch{ie()}}):ie()})}function Te(){if(!Fe&&le.length>0){Fe=!0;var te=le[0];le.splice(0,1);var ie=function(){Fe=!1,le.length>0&&Te.call(this),te&&te.data&&te.data.segmentType&&te.data.segmentType!==D.HTTPRequest.INIT_SEGMENT_TYPE&&delete te.data.bytes,te.promise.resolve({chunk:te.data})};try{ae=te.request,0===te.data.bytes.byteLength?ie.call(this):(C.appendBuffer?C.appendBuffer(te.data.bytes):C.append(te.data.bytes,te.data),Z(ie.bind(this)))}catch(ee){N.fatal('SourceBuffer append failed "'+ee+'"'),le.length>0?Te():Fe=!1,delete te.data.bytes,te.promise.reject({chunk:te.data,error:new y.default(ee.code,ee.message)})}}}function se(){q.length>0&&!C.updating&&(q.shift()(),se())}function _e(){C.updating||se()}function J(te){!function Q(te,ie){M.trigger(te,ie||{},{streamId:B.streamInfo.id,mediaType:T})}(p.default.SOURCE_BUFFER_ERROR,{error:te.target||{},lastRequestAppended:ae})}function Z(te){q.push(te),C.updating||se()}return P={getType:function Re(){return T},getAllBufferRanges:function Ve(){try{return C.buffered}catch(te){return N.error("getAllBufferRanges exception: "+te.message),null}},getBuffer:function we(){return C},append:function st(te){var ie=this,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(X,ue){te?(le.push({data:te,promise:{resolve:X,reject:ue},request:ee}),Z(Te.bind(ie))):ue({chunk:te,error:new y.default(E.default.APPEND_ERROR_CODE,E.default.APPEND_ERROR_MESSAGE)})})},remove:function Ne(te){return new Promise(function(ie,ee){var X=te.start,ue=te.end;X>=0&&ue>X?Z(function(){try{C.remove(X,ue),Z(function(){ie({from:X,to:ue,unintended:!1}),te.resolve&&te.resolve()})}catch(ve){ee({from:X,to:ue,unintended:!1,error:new y.default(E.default.REMOVE_ERROR_CODE,E.default.REMOVE_ERROR_MESSAGE)}),te.reject&&te.reject(ve)}}):ie()})},abort:function Y(){return new Promise(function(te){try{le=[],"open"===$.readyState?Z(function(){try{C&&C.abort(),te()}catch{te()}}):(C&&C.setTextTrack&&"ended"===$.readyState&&C.abort(),te())}catch{te()}})},reset:function ke(){if(C){try{q=[],function xe(){try{"function"==typeof C.removeEventListener&&(C.removeEventListener("updateend",_e,!1),C.removeEventListener("error",J,!1),C.removeEventListener("abort",J,!1)),clearInterval(W)}catch(te){N.error(te)}}(),Fe=!1,le=[],(!C.getClassName||"TextSourceBuffer"!==C.getClassName())&&(N.debug("Removing sourcebuffer from media source"),$.removeSourceBuffer(C))}catch{}C=null}ae=null},updateTimestampOffset:Ue,initializeForStreamSwitch:function ge(te,ie,ee){T=(B=te).type;var X=B.codec;(function he(te){C=te.getBuffer()})(ee),fe();var ue=[];return ue.push(function Je(){return new Promise(function(te){Z(function(){var ie=C.appendWindowStart,ee=C.appendWindowEnd;C&&(C.abort(),C.appendWindowStart=ie,C.appendWindowEnd=ee),te()})})}()),ue.push(pe(B.streamInfo)),ue.push(oe(X)),ie&&void 0!==ie.MSETimeOffset&&ue.push(Ue(ie.MSETimeOffset)),Promise.all(ue)},initializeForFirstUse:function Ce(te,ie,ee){T=(B=ie).type;var X=B.codec;try{if(X.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Le(te);C=$.addSourceBuffer(X),fe();var ue=[];return ue.push(pe(B.streamInfo)),ee&&void 0!==ee.MSETimeOffset&&ue.push(Ue(ee.MSETimeOffset)),Promise.all(ue)}catch(ve){return B.type==L.default.TEXT&&!B.isFragmented||-1!==X.indexOf('codecs="stpp')||-1!==X.indexOf('codecs="vtt')?Le(te):Promise.reject(ve)}},updateAppendWindow:pe,changeType:oe},function K(){N=Object(t.default)(H).getInstance().getLogger(P)}(),P}A.__dashjs_factory_name="SourceBufferSink";var U=w.default.getClassFactory(A);S.default=U},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),E=c(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),F=c(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),L=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),g=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),U=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),R=c(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),H=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT,t.default.MUXED,t.default.IMAGE];function k(O){O=O||{};var xe,pe,Ue,ke,we,Ve,st,Je,Ne,Te,Y,se,_e,J,Q,Z,te,ie,M=this.context,P=Object(L.default)(M).getInstance(),T=Object(U.default)(M).getInstance(),N=O.manifestModel,C=O.mediaPlayerModel,B=O.dashMetrics,W=O.manifestUpdater,q=O.adapter,le=O.timelineConverter,Fe=O.capabilities,$=O.errHandler,ae=O.abrController,K=O.playbackController,ge=O.eventController,oe=O.mediaController,he=O.protectionController,Ce=O.textController,Le=O.videoModel,fe=O.streamInfo,Re=O.settings;function it(Yt,on){return new Promise(function(Tn,Un){ot(),Te=!0,Jt();var ei=Le.getElement();H.forEach(function(Et){(Et!==t.default.VIDEO||!ei||ei&&/^VIDEO$/i.test(ei.nodeName))&&function vt(Yt,on){var Et,Tn=q.getAllMediaInfoForType(fe,Yt),Un=[],ei=null;if(Tn&&0!==Tn.length){Yt===t.default.VIDEO&&(st=!0),Yt===t.default.AUDIO&&(Je=!0);for(var fn=0,be=Tn.length;fn<be;fn++)ei=Tn[fn],Yt===t.default.TEXT&&ei.isEmbedded&&(Ce.addEmbeddedTrack(fe,ei),Un.push(ei)),Ht(ei)&&oe.addTrack(ei);if(Un.length>0&&(oe.setInitialMediaSettingsForType(Yt,fe),Ce.addMediaInfosToBuffer(fe,Yt,Un)),0!==(Tn=Tn.filter(function(gt){return!gt.isEmbedded})).length){if(Yt===t.default.IMAGE)return void(se=Object(F.default)(M).create({streamInfo:fe,adapter:q,baseURLController:O.baseURLController,timelineConverter:O.timelineConverter,debug:Z,eventBus:P,events:D.default,dashConstants:y.default,dashMetrics:O.dashMetrics,segmentBaseController:O.segmentBaseController})).initialize();P.trigger(D.default.STREAM_INITIALIZING,{streamInfo:fe,mediaInfo:ei}),oe.setInitialMediaSettingsForType(Yt,fe);var yt=function It(Yt,on){var Tn=Yt&&Yt.length>0?Yt[0]:null,Un=Y.getModel(Tn?Tn.type:null),ei=Tn?Tn.type:null,Et=Tn?Tn.mimeType:null,fn=Tn?Tn.isFragmented:null,be=Object(w.default)(M).create({streamInfo:fe,type:ei,mimeType:Et,timelineConverter:le,adapter:q,manifestModel:N,mediaPlayerModel:C,fragmentModel:Un,dashMetrics:O.dashMetrics,baseURLController:O.baseURLController,segmentBaseController:O.segmentBaseController,abrController:ae,playbackController:K,mediaController:oe,textController:Ce,errHandler:$,settings:Re,boxParser:Q,segmentBlacklistController:_e});be.initialize(on,st,fn),Ue.push(be);for(var yt=0;yt<Yt.length;yt++)be.addMediaInfo(Yt[yt]);return ei===t.default.TEXT&&Ce.addMediaInfosToBuffer(fe,ei,Yt,Un),be}(Tn,on);(Et=oe.getCurrentTrackFor(Yt,fe.id))&&(ae.updateTopQualityIndex(Et),yt.selectMediaInfo(Yt===t.default.TEXT&&Et.isEmbedded?Tn[0]:Et))}}else pe.info("No "+Yt+" data.")}(Et,Yt)}),function jt(Yt){return new Promise(function(on){var Tn={},Un=Ue.map(function(ei){return ei.createBufferSinks(Yt)});Promise.all(Un).then(function(ei){ei.forEach(function(Et){Et&&(Tn[Et.getType()]=Et)}),on(Tn)}).catch(function(){on(Tn)})})}(on).then(function(Et){if(Te=!1,0===Ue.length){var fn="No streams to play.";$.error(new v.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,fn,N.getValue())),pe.fatal(fn)}else cn();Ce.createTracks(fe),Tn(Et)}).catch(function(Et){Un(Et)})})}function Ht(Yt){var on=Yt?Yt.type:null;return on===t.default.MUXED?(pe.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),$.error(new v.default(f.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",N.getValue())),!1):!(on!==t.default.TEXT&&on!==t.default.IMAGE&&Yt.contentProtection&&!Fe.supportsEncryptedMedia()&&($.error(new v.default(f.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,f.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function en(Yt){for(var on=Ue?Ue.length:0,Un=0;Un<on;Un++){var ei=Ue[Un].getFragmentModel();ei.abortRequests(),ei.resetInitialSettings(),Ue[Un].reset(false,Yt)}Ce&&Ce.deactivateStream(fe),Ue=[],we=!1,Ve=!1,Qt(!1),ft(!1),P.trigger(D.default.STREAM_DEACTIVATED,{streamInfo:fe})}function Kt(Yt){en(Yt),ke=!1,st=!1,Je=!1,Ne={},Te=!1,te=!1,ie=[]}function ft(Yt){te=Yt}function Qe(){return fe?fe.start:NaN}function De(){return fe?fe.id:null}function Pe(){return fe}function ot(){if(!Le||!ae)throw new Error(t.default.MISSING_CONFIG_ERROR)}function Ft(Yt){Yt.error&&($.error(Yt.error),pe.fatal(Yt.error.message))}function Jt(){if(ge){var Yt=q.getEventsFor(fe);Yt&&Yt.length>0&&ge.addInlineEvents(Yt,fe.id)}}function cn(){for(var Yt=Ue.length,Tn=Ne.audio||Ne.video?new v.default(f.default.DATA_UPDATE_FAILED_ERROR_CODE,f.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Un=0;Un<Yt;Un++)if(Ue[Un].isUpdating()||Te)return;if(he){he.clearMediaInfoArray();for(var ei=0;ei<Yt&&Ue[ei];ei++){var Et=Ue[ei].getType(),fn=Ue[ei].getMediaInfo();if(Et===t.default.AUDIO||Et===t.default.VIDEO||Et===t.default.TEXT&&fn.isFragmented){var be=Ue[ei].getMediaInfo();be&&he.initializeForMedia(be)}}he.handleKeySystemFromManifest()}Tn?$.error(Tn):ke||(ke=!0,Le.waitForReadyState(t.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){P.trigger(D.default.STREAM_INITIALIZED,{streamInfo:fe})}))}function xn(){var Yt=yn(),on=Yt.length;if(0!==on){for(var Tn=0;Tn<on;Tn++)if(!Yt[Tn].isBufferingCompleted()&&(Yt[Tn].getType()===t.default.AUDIO||Yt[Tn].getType()===t.default.VIDEO))return void pe.debug("onBufferingCompleted - One streamProcessor has finished but",Yt[Tn].getType(),"one is not buffering completed");pe.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),Ve=!0,P.trigger(D.default.STREAM_BUFFERING_COMPLETED,{streamInfo:fe},{streamInfo:fe})}else pe.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Ln(Yt){Ne[Yt.mediaType]=Yt.error,cn()}function Yn(Yt){ge&&ge.addInbandEvents(Yt.events,fe.id)}function Vn(Yt){return Yt&&Yt.type?ci(Yt.type):null}function ci(Yt){return Yt?yn().filter(function(Tn){return Tn.getType()===Yt})[0]:null}function yn(){for(var on,Tn,Yt=[],Un=0;Un<Ue.length;Un++)((on=(Tn=Ue[Un]).getType())===t.default.AUDIO||on===t.default.VIDEO||on===t.default.TEXT)&&Yt.push(Tn);return Yt}function Ze(Yt,on){var Tn=Pe(),Un=on.getStreamInfo();if(!Un||!Tn)return!0;var ei=q.getAdaptationForType(Un.index,Yt,Un),Et=q.getAdaptationForType(Tn.index,Yt,Tn);return ei&&Et?!(!Xe(Et)&&Xe(ei)):!ei&&!Et}function Xe(Yt){return!!Yt&&!!(Yt.ContentProtection||Yt.Representation&&Yt.Representation.length>0&&Yt.Representation[0].ContentProtection)}function Pt(Yt,on){var Tn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Yt||!Yt.hasOwnProperty("getStreamInfo"))return!1;var Un=Yt.getStreamInfo(),ei=Tn?Tn.getStreamInfo():Pe();if(!Un||!ei)return!1;var Et=q.getAdaptationForType(Un.index,on,Un),fn=q.getAdaptationForType(ei.index,on,ei);if(!Et||!fn)return!Et&&!fn;var be=Et&&fn&&Et.mimeType===fn.mimeType,yt=fn.Representation_asArray.map(function(ti){return ti.codecs}),gt=Et.Representation_asArray.map(function(ti){return ti.codecs}),kt=gt.some(function(ti){return yt.indexOf(ti)>-1}),an=gt.some(function(ti){return yt.some(function(hi){return Fe.codecRootCompatibleWithCodec(hi,ti)})});return kt||an&&be}function Qt(Yt){J=Yt}function In(){return J}return xe={initialize:function X(){(function ue(){P.on(D.default.BUFFERING_COMPLETED,xn,xe),P.on(D.default.DATA_UPDATE_COMPLETED,Ln,xe),P.on(D.default.INBAND_EVENTS,Yn,xe)})(),function de(){he&&(P.on(D.default.KEY_ERROR,Ft,xe),P.on(D.default.SERVER_CERTIFICATE_UPDATED,Ft,xe),P.on(D.default.LICENSE_REQUEST_COMPLETE,Ft,xe),P.on(D.default.KEY_SYSTEM_SELECTED,Ft,xe),P.on(D.default.KEY_SESSION_CREATED,Ft,xe),P.on(D.default.KEY_STATUSES_CHANGED,Ft,xe))}(),Ce.initializeForStream(fe),P.trigger(D.default.STREAM_UPDATED,{streamInfo:fe})},getStreamId:function We(){return fe?fe.id:null},activate:function He(Yt,on){return new Promise(function(Tn,Un){if(!we)return In()?(we=!0,P.trigger(D.default.STREAM_ACTIVATED,{streamInfo:fe}),void Tn(on)):void function at(Yt,on){return it(Yt,on)}(Yt,on).then(function(ei){we=!0,P.trigger(D.default.STREAM_ACTIVATED,{streamInfo:fe}),Tn(ei)}).catch(function(ei){Un(ei)});Tn(on)})},deactivate:en,getIsActive:function dn(){return we},getDuration:function nn(){return fe?fe.duration:NaN},getStartTime:Qe,getId:De,getStreamInfo:Pe,getHasAudioTrack:function Ye(){return Je},getHasVideoTrack:function $e(){return st},startPreloading:function ct(Yt,on){return new Promise(function(Tn,Un){In()?Un():(pe.info("[startPreloading] Preloading next stream with id ".concat(De())),Qt(!0),it(Yt,on).then(function(){for(var ei=0;ei<Ue.length&&Ue[ei];ei++)Ue[ei].setExplicitBufferingTime(Qe()),Ue[ei].getScheduleController().startScheduleTimer();Tn()}).catch(function(){Qt(!1),Un()}))})},getThumbnailController:function lt(){return se},getBitrateListFor:function dt(Yt){if(ot(),Yt===t.default.IMAGE)return se?se.getBitrateList():[];var on=function mn(Yt){for(var on=null,Tn=0;Tn<Ue.length;Tn++)if((on=Ue[Tn]).getType()===Yt)return on.getMediaInfo();return null}(Yt);return ae.getBitrateList(on)},updateData:function bt(Yt){return new Promise(function(on){Te=!0,fe=Yt,ge&&Jt();for(var Tn=[],Un=0,ei=Ue.length;Un<ei;Un++){var Et=Ue[Un],fn=Et.getMediaInfo();Tn.push(Et.updateStreamInfo(fe));var be=q.getAllMediaInfoForType(fe,Et.getType());if(be){Et.clearMediaInfoArray();for(var yt=0;yt<be.length;yt++){var gt=be[yt];Et.addMediaInfo(be[yt]),q.areMediaInfosEqual(fn,gt)&&(ae.updateTopQualityIndex(gt),Tn.push(Et.selectMediaInfo(gt)))}}}Promise.all(Tn).then(function(){for(Tn=[];ie.length>0;){var kt=ie.pop(),an=kt.newMediaInfo,ti=Vn(kt.oldMediaInfo);if(!ti)return;Tn.push(ti.prepareTrackSwitch()),ti.selectMediaInfo(an)}return Promise.all(Tn)}).then(function(){Te=!1,cn(),P.trigger(D.default.STREAM_UPDATED,{streamInfo:fe}),on()})})},reset:function Cn(Yt){Y&&(Y.reset(),Y=null),ae&&fe&&ae.clearDataForStream(fe.id),_e&&(_e.reset(),_e=null),Kt(Yt),fe=null,function ve(){P.off(D.default.DATA_UPDATE_COMPLETED,Ln,xe),P.off(D.default.BUFFERING_COMPLETED,xn,xe),P.off(D.default.INBAND_EVENTS,Yn,xe)}(),function Ae(){he&&(P.off(D.default.KEY_ERROR,Ft,xe),P.off(D.default.SERVER_CERTIFICATE_UPDATED,Ft,xe),P.off(D.default.LICENSE_REQUEST_COMPLETE,Ft,xe),P.off(D.default.KEY_SYSTEM_SELECTED,Ft,xe),P.off(D.default.KEY_SESSION_CREATED,Ft,xe),P.off(D.default.KEY_STATUSES_CHANGED,Ft,xe))}()},getProcessors:yn,setMediaSource:function un(Yt){for(var on=0;on<Ue.length;)Ht(Ue[on].getMediaInfo())?(Ue[on].setMediaSource(Yt),on++):(Ue[on].reset(),Ue.splice(on,1));if(0===Ue.length){var Tn="No streams to play.";$.error(new v.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Tn+"nostreams",N.getValue())),pe.fatal(Tn)}},isMediaCodecCompatible:function ut(Yt){var on=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Pt(Yt,t.default.VIDEO,on)&&Pt(Yt,t.default.AUDIO,on)},isProtectionCompatible:function tn(Yt){return!Yt||Ze(t.default.VIDEO,Yt)&&Ze(t.default.AUDIO,Yt)},getPreloaded:In,getIsEndedEventSignaled:function Dt(){return te},setIsEndedEventSignaled:ft,getAdapter:function Zt(){return q},getHasFinishedBuffering:function Fn(){return Ve},setPreloaded:Qt,startScheduleControllers:function _n(){for(var Yt=Ue.length,on=0;on<Yt&&Ue[on];on++)Ue[on].getScheduleController().startScheduleTimer()},prepareTrackChange:function $t(Yt){if(we&&fe){Ve=!1;var on=Yt.newMediaInfo,Tn=N.getValue();q.setCurrentMediaInfo(fe.id,on.type,on);var Un=Vn(on);if(Un){var ei=K.getTime();pe.info("Stream -  Process track changed at current time "+ei),Tn.refreshManifestOnSwitchTrack?(ie.push(Yt),W.getIsUpdating()||(pe.debug("Stream -  Refreshing manifest for switch track"),W.refreshManifest())):Un.selectMediaInfo(on).then(function(){(on.type===t.default.VIDEO||on.type===t.default.AUDIO)&&ae.updateTopQualityIndex(on),Un.prepareTrackSwitch()})}}},prepareQualityChange:function Lt(Yt){var on=ci(Yt.mediaType);on&&on.prepareQualityChange(Yt)}},function ee(){try{Z=Object(p.default)(M).getInstance(),pe=Z.getLogger(xe),Kt(),Q=Object(A.default)(M).getInstance(),_e=Object(R.default)(M).create({updateEventName:D.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:D.default.SEGMENT_LOCATION_BLACKLIST_ADD}),Y=Object(E.default)(M).create({streamInfo:fe,mediaPlayerModel:C,dashMetrics:B,errHandler:$,settings:Re,boxParser:Q,dashConstants:y.default,urlUtils:T})}catch(Yt){throw Yt}}(),xe}k.__dashjs_factory_name="Stream",S.default=g.default.getClassFactory(k)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),F=c(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),L=c(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),D=c(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),p=c(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),f=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),v=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),A=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),U=c(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),R=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),H=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),M=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),P=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),T=c(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),N=c(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),C=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(W){W=W||{};var st,Je,Ne,Te,Y,se,_e,J,Q,Z,te,ie,ee,q=this.context,le=Object(v.default)(q).getInstance(),Fe=W.streamInfo,$=W.type,ae=W.errHandler,K=W.mimeType,ge=W.timelineConverter,oe=W.adapter,he=W.manifestModel,Ce=W.mediaPlayerModel,Le=W.fragmentModel,fe=W.abrController,Re=W.playbackController,xe=W.mediaController,pe=W.textController,Ue=W.dashMetrics,ke=W.settings,we=W.boxParser,Ve=W.segmentBlacklistController;function ve(){return Fe.id}function de(){return $}function Ae(){return oe.getIsTextTrack(J.getData())}function We(){Y=[],Te=null,ee=0,Q=!1,Z=!1}function vt(Et){var fn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Et.sender){if(Re.getIsManifestUpdateInProgress())return void un();if((!Ae()||pe.isTextEnabled())&&se&&Et.representationId&&!se.appendInitSegmentFromCache(Et.representationId)){var be=J.getCurrentRepresentation();if(0===be.range)return void Ht();var yt=te?te.getInitRequest(Te,be):null;yt?Le.executeRequest(yt):fn&&(_e.setInitSegmentRequired(!0),un())}}}function Ht(Et){var fn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Re.getIsManifestUpdateInProgress()||se.getIsPruningInProgress())un();else{var be=function dn(){var fn,Et=ut();if(isNaN(ee)||de()===t.default.TEXT&&!pe.isTextEnabled())return null;var be=Q;if(te){var yt=J&&Et?J.getRepresentationForQuality(Et.quality):null;fn=be?te.getSegmentRequestForTime(Te,yt,ee):te.getNextSegmentRequest(Te,yt)}return fn}();be?(Q=!1,function It(Et){isNaN(Et.startTime+Et.duration)||(ee=Et.startTime+Et.duration),Et.delayLoadingTime=(new Date).getTime()+_e.getTimeToLoadDelay(),_e.setTimeToLoadDelay(0),function en(Et){var fn=Et.url;return Et.range&&(fn=fn.concat("_",Et.range)),Ve.contains(fn)}(Et)?(Je.warn("Fragment request url ".concat(Et.url," for stream id ").concat(Fe.id," and media type ").concat($," is on the ignore list and will be skipped")),un()):(Je.debug("Next fragment request url for stream id ".concat(Fe.id," and media type ").concat($," is ").concat(Et.url)),Le.executeRequest(Et))}(be)):function jt(Et){var be,fn=J.getCurrentRepresentation();if(!ke.get().streaming.gaps.enableSeekFix||!Q&&0!==Re.getTime()||(Ne?Ne&&fn.segmentInfoType===y.default.SEGMENT_TIMELINE&&(be=te.getValidTimeAheadOfTargetTime(ee,Te,fn,ke.get().streaming.gaps.threshold)):be=te.getValidTimeAheadOfTargetTime(ee,Te,fn,ke.get().streaming.gaps.threshold),isNaN(be)||be===ee)){if(te.isLastSegmentRequested(fn,ee)){var gt=te.getCurrentIndex();return Je.debug("Segment requesting for stream ".concat(Fe.id," has finished")),le.trigger(A.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:gt},{streamId:Fe.id,mediaType:$}),se.segmentRequestingCompleted(gt),void _e.clearScheduleTimer()}Et&&un()}else Re.isSeeking()||0===Re.getTime()?(Je.warn("Adjusting playback time ".concat(be," because of gap in the manifest. Seeking by ").concat(be-ee)),Re.seek(be,!1,!1)):(Je.warn("Adjusting buffering time ".concat(be," because of gap in the manifest. Adjusting time by ").concat(be-ee)),Un(be),Et&&un())}(fn)}}function un(){_e.startScheduleTimer(Re.getLowLatencyModeEnabled()?ke.get().streaming.scheduling.lowLatencyTimeout:ke.get().streaming.scheduling.defaultTimeout)}function Kt(Et){Et.error||(_e.setCurrentRepresentation(oe.convertRepresentationToRepresentationInfo(Et.currentRepresentation)),se.getIsBufferingCompleted()||se.updateBufferTimestampOffset(Et.currentRepresentation))}function Cn(Et){Ue.addBufferState($,Et.state,_e.getBufferTarget()),Et.state===w.default.BUFFER_EMPTY&&!Re.isSeeking()&&(Je.info("Buffer is empty! Stalling!"),Ue.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REBUFFERING_REASON))}function nn(Et){Le.syncExecutedRequestsWithBufferedRange(se.getBuffer().getAllBufferRanges(),Fe.duration),Et.quotaExceeded&&Et.from>Re.getTime()&&Un(Et.from),Et.hasEnoughSpaceToAppend&&Et.quotaExceeded&&_e.startScheduleTimer()}function Dt(Et){if(Et&&Et.lastRequestAppended&&Et.lastRequestAppended.url){var fn=Et.lastRequestAppended.url;Et.lastRequestAppended.range&&(fn=fn.concat("_",Et.lastRequestAppended.range)),Je.warn("Blacklisting segment with url ".concat(fn)),Ve.add(fn)}}function Pe(){Yt(),Z=!1}function Ye(Et){Je.info("onFragmentLoadingAbandoned request: "+Et.request.url+" has been aborted"),!Re.isSeeking()&&!_e.getSwitchStrack()&&!Z&&(Je.info("onFragmentLoadingAbandoned request: "+Et.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Et.request&&Et.request.isInitializationRequest()?_e.setInitSegmentRequired(!0):Un(Et.request.startTime+Et.request.duration/2),_e.startScheduleTimer(0))}function $e(Et){Je.info("OnFragmentLoadingCompleted for stream id "+Fe.id+" and media type "+$+" - Url:",Et.request?Et.request.url:"undefined",Et.request.range?", Range:"+Et.request.range:""),Ae()&&_e.startScheduleTimer(0),Et.error&&Et.request.serviceLocation&&function lt(Et){Je.info("Fragment loading completed with an error"),Et&&Et.request&&Et.request.type&&(Et.request.type===C.HTTPRequest.INIT_SEGMENT_TYPE?vt({representationId:Et.request.representationId,sender:{}},!1):Et.request.type===C.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Un(Et.request.startTime+Et.request.duration/2),Ht({},!1)))}(Et)}function ot(){Un(Re.getTime()),bt().startScheduleTimer()}function dt(Et){var fn=Et.currentTrackInfo;if(fn){var be=Y.find(function(yt){return yt.index===fn.index&&yt.lang===fn.lang});be&&Ln(be).then(function(){se.setIsBufferingCompleted(!1),Un(Re.getTime()),_e.setInitSegmentRequired(!0),_e.startScheduleTimer()})}}function Ft(Et){Un(Et.quotaExceededTime),_e.clearScheduleTimer()}function Lt(){return se?se.getBuffer():null}function Ln(Et){Et!==Te&&(!Et||!Te||Et.type===Te.type)&&(Te=Et);var fn=oe.getRealAdaptation(Fe,Te),be=oe.getVoRepresentations(Te);if(J){var an,yt=J.getData(),gt=fe.getMaxAllowedIndexFor($,Fe.id),kt=fe.getMinAllowedIndexFor($,Fe.id),hi=null;return null!==yt&&yt.id===fn.id||$===t.default.TEXT?an=fe.getQualityFor($,Fe.id):(hi=fe.getThroughputHistory().getAverageThroughput($,Ne)||fe.getInitialBitrateFor($,Fe.id),an=fe.getQualityForBitrate(Te,hi,Fe.id)),void 0!==kt&&an<kt&&(an=kt),an>gt&&(an=gt),J.updateData(fn,be,$,Te.isFragmented,an)}return Promise.resolve()}function bt(){return _e}function ut(Et){var fn;return void 0!==Et?(Object(g.checkInteger)(Et),fn=J?J.getRepresentationForQuality(Et):null):fn=J?J.getCurrentRepresentation():null,oe.convertRepresentationToRepresentationInfo(fn)}function tn(){return!!se&&se.getIsBufferingCompleted()}function Pt(Et){var fn=Et.chunk,be=fn.bytes,yt=fn.quality,gt=ut(yt),kt=J&&gt?J.getRepresentationForQuality(gt.quality):null;if(gt&&kt){var an=oe.getEventsFor(gt.mediaInfo,null,Fe),ti=oe.getEventsFor(gt,kt,Fe);if(an&&an.length>0||ti&&ti.length>0){var Li=function Qt(Et,fn,be,yt){try{for(var gt={},kt=[],an=be.concat(yt),ti=0,hi=an.length;ti<hi;ti++)gt[an[ti].schemeIdUri+"/"+an[ti].value]=an[ti];var Li=Object(P.default)(q).getInstance().parse(Et),pr=Li.getBoxes("emsg");if(!pr||0===pr.length)return kt;for(var vr=Li.getBox("sidx"),mo=!vr||isNaN(vr.earliest_presentation_time)||isNaN(vr.timescale)?fn&&!isNaN(fn.mediaStartTime)?fn.mediaStartTime:0:vr.earliest_presentation_time/vr.timescale,Hi=Math.max(mo,0),Wr=J.getCurrentRepresentation(),Bo=0,xi=pr.length;Bo<xi;Bo++){var Dr=oe.getEvent(pr[Bo],gt,Hi,Wr);Dr&&kt.push(Dr)}return kt}catch{return[]}}(be,Le.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,quality:yt,index:fn.index})[0],an,ti);le.trigger(A.default.INBAND_EVENTS,{events:Li},{streamId:Fe.id})}}}function Zt(){var Et=Re.getTime();ke.get().streaming.buffer.flushBufferAtTrackSwitch&&Re.seek(Et+.001,!1,!0),Un(Et),se.setSeekTarget(Et),_e.startScheduleTimer()}function Yt(){var Et=Re.getTime(),fn=se.getContinuousBufferTimeForTargetTime(Et);Un(isNaN(fn)?Et:fn),_e.startScheduleTimer()}function Tn(Et){Et&&!isNaN(Et.time)&&(Un(Et.time),se.setSeekTarget(Et.time))}function Un(Et){ee=Et,Q=!0}return st={initialize:function ue(Et,fn,be){ie=Object(N.default)(q).create({events:A.default,eventBus:le,streamInfo:Fe,timelineConverter:ge,dashConstants:y.default,segmentBaseController:W.segmentBaseController,type:$}),(te=Object(U.default)(q).create({streamInfo:Fe,type:$,timelineConverter:ge,dashMetrics:Ue,mediaPlayerModel:Ce,baseURLController:W.baseURLController,errHandler:ae,segmentsController:ie,settings:ke,boxParser:we,events:A.default,eventBus:le,errors:R.default,debug:Object(k.default)(q).getInstance(),requestModifier:Object(O.default)(q).getInstance(),dashConstants:y.default,constants:t.default,urlUtils:Object(M.default)(q).getInstance()})).initialize(Ne=Fe.manifestInfo.isDynamic),fe.registerStreamType($,st),J=Object(p.default)(q).create({streamInfo:Fe,type:$,abrController:fe,dashMetrics:Ue,playbackController:Re,timelineConverter:ge,dashConstants:y.default,events:A.default,eventBus:le,errors:R.default,isDynamic:Ne,segmentsController:ie}),(se=function on(Et,fn){return Et?Et!==t.default.TEXT||fn?Object(F.default)(q).create({streamInfo:Fe,type:Et,mediaPlayerModel:Ce,manifestModel:he,fragmentModel:Le,errHandler:ae,mediaController:xe,representationController:J,adapter:oe,textController:pe,abrController:fe,playbackController:Re,settings:ke}):Object(L.default)(q).create({streamInfo:Fe,type:Et,mimeType:K,fragmentModel:Le,textController:pe,errHandler:ae,settings:ke}):(ae.error(new H.default(R.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,R.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}($,be))&&se.initialize(Et),(_e=Object(D.default)(q).create({streamInfo:Fe,type:$,mimeType:K,adapter:oe,dashMetrics:Ue,mediaPlayerModel:Ce,fragmentModel:Le,abrController:fe,playbackController:Re,textController:pe,mediaController:xe,bufferController:se,settings:ke})).initialize(fn),ee=0,Q=!1},getStreamId:ve,getType:de,isUpdating:function at(){return!!J&&J.isUpdating()},getBufferController:function Jt(){return se},getFragmentModel:function cn(){return Le},getScheduleController:bt,getRepresentationController:function $t(){return J},getRepresentationInfo:ut,getBufferLevel:function Ze(){return se?se.getBufferLevel():0},isBufferingCompleted:tn,createBufferSinks:function In(Et){var fn=Lt();return fn?Promise.resolve(fn):se?se.createBufferSink(Te,Et):Promise.resolve(null)},updateStreamInfo:function mn(Et){return Fe=Et,tn()?Promise.resolve():se.updateAppendWindow()},getStreamInfo:function xn(){return Fe},selectMediaInfo:Ln,clearMediaInfoArray:function Vn(){Y=[]},addMediaInfo:function Yn(Et){-1===Y.indexOf(Et)&&Y.push(Et)},prepareTrackSwitch:function Fn(){return new Promise(function(Et){Je.debug("Preparing track switch for type ".concat($));var fn=$===t.default.TEXT||ke.get().streaming.trackSwitchMode[$]===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Re.getTimeToStreamEnd(Fe)>ke.get().streaming.buffer.stallThreshold;if(se.getIsBufferingCompleted()&&!fn)return se.prepareForNonReplacementTrackSwitch(Te.codec).then(function(){le.trigger(A.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:$})}).catch(function(){le.trigger(A.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:$})}),void Et();_e.clearScheduleTimer(),_e.setSwitchTrack(!0),fn?(le.trigger(A.default.BUFFER_REPLACEMENT_STARTED,{mediaType:$,streamId:Fe.id},{mediaType:$,streamId:Fe.id}),Le.abortRequests(),se.prepareForReplacementTrackSwitch(Te.codec).then(function(){var be=ut();return se.updateBufferTimestampOffset(be)}).then(function(){Zt(),Et()}).catch(function(){Zt(),Et()})):se.prepareForNonReplacementTrackSwitch(Te.codec).then(function(){Yt(),Et()}).catch(function(){Yt(),Et()})})},prepareQualityChange:function ft(Et){Je.debug("Preparing quality switch for type ".concat($));var fn=Et.newQuality;Z=!0,_e.clearScheduleTimer();var be=ut(fn);_e.setCurrentRepresentation(be),J.prepareQualityChange(fn),Le.abortRequests(),se.updateBufferTimestampOffset(be).then(function(){Et.reason&&Et.reason.forceReplace?function Qe(){le.trigger(A.default.BUFFER_REPLACEMENT_STARTED,{mediaType:$,streamId:Fe.id},{mediaType:$,streamId:Fe.id}),se.prepareForReplacementQualitySwitch().then(function(){Zt(),Z=!1}).catch(function(){Zt(),Z=!1})}():ke.get().streaming.buffer.fastSwitchEnabled?function De(Et){var fn=Re.getTime(),be=1.5*(isNaN(Et.fragmentDuration)?1:Et.fragmentDuration),yt=Le.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,time:fn+be,threshold:0})[0];if(yt&&!Ae()){var gt=se.getBufferLevel(),kt=fe.getAbandonmentStateFor(Fe.id,$);yt.quality<Et.quality&&gt>=be&&kt!==w.default.ABANDON_LOAD?(Un(fn+be),_e.setCheckPlaybackQuality(!1),_e.startScheduleTimer()):Pe()}else _e.startScheduleTimer();Z=!1}(be):Pe(),Ue.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Ue.createPlaylistTraceMetrics(be.id,1e3*Re.getTime(),Re.getPlaybackRate())})},getMediaInfo:function ci(){return Te},getMediaSource:function yn(){return se.getMediaSource()},setMediaSource:function _n(Et){se.setMediaSource(Et)},getBuffer:Lt,setExplicitBufferingTime:Un,finalisePlayList:function ei(Et,fn){Ue.pushPlayListTraceMetrics(Et,fn)},probeNextRequest:function Xe(){var Et=ut(),fn=J&&Et?J.getRepresentationForQuality(Et.quality):null;return te.getNextSegmentRequestIdempotent(Te,fn)},prepareInnerPeriodPlaybackSeeking:function ct(Et){return new Promise(function(fn){if(se.hasBufferAtTime(Et.seekTime))return se.pruneBuffer(),void fn();_e.clearScheduleTimer(),Le.abortRequests(),se.prepareForPlaybackSeek().then(function(){var yt=se.getAllRangesWithSafetyFactor(Et.seekTime);return se.clearBuffers(yt)}).then(function(){var yt=se.getContinuousBufferTimeForTargetTime(Et.seekTime);if(!isNaN(yt)&&!isNaN(Fe.duration)&&isFinite(Fe.duration)&&yt>=Fe.start+Fe.duration)se.setIsBufferingCompleted(!0),fn();else{var gt=isNaN(yt)?Et.seekTime:yt;Un(gt),se.setSeekTarget(gt);var kt=[];kt.push(se.updateAppendWindow());var an=ut();kt.push(se.updateBufferTimestampOffset(an)),Promise.all(kt).then(function(){_e.setInitSegmentRequired(!0),_e.setCheckPlaybackQuality(!1),_e.startScheduleTimer(),fn()})}}).catch(function(yt){Je.error(yt)})})},prepareOuterPeriodPlaybackSeeking:function it(){return new Promise(function(Et,fn){try{_e.clearScheduleTimer(),Le.abortRequests(),se.prepareForPlaybackSeek().then(function(){return se.pruneAllSafely()}).then(function(){Et()})}catch(be){fn(be)}})},reset:function He(Et,fn){te&&te.reset(),se&&(se.reset(Et,fn),se=null),_e&&(_e.reset(),_e=null),J&&(J.reset(),J=null),ie&&(ie=null),fe&&fe.unRegisterStreamType(ve(),$),le.off(A.default.DATA_UPDATE_COMPLETED,Kt,st),le.off(A.default.INIT_FRAGMENT_NEEDED,vt,st),le.off(A.default.MEDIA_FRAGMENT_NEEDED,Ht,st),le.off(A.default.MEDIA_FRAGMENT_LOADED,Pt,st),le.off(A.default.BUFFER_LEVEL_STATE_CHANGED,Cn,st),le.off(A.default.BUFFER_CLEARED,nn,st),le.off(A.default.SEEK_TARGET,Tn,st),le.off(A.default.FRAGMENT_LOADING_ABANDONED,Ye,st),le.off(A.default.FRAGMENT_LOADING_COMPLETED,$e,st),le.off(A.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ot,st),le.off(A.default.SET_NON_FRAGMENTED_TEXT,dt,st),le.off(A.default.QUOTA_EXCEEDED,Ft,st),le.off(A.default.SOURCE_BUFFER_ERROR,Dt,st),We(),$=null,Fe=null}},function X(){Je=Object(k.default)(q).getInstance().getLogger(st),We(),le.on(A.default.DATA_UPDATE_COMPLETED,Kt,st,{priority:v.default.EVENT_PRIORITY_HIGH}),le.on(A.default.INIT_FRAGMENT_NEEDED,vt,st),le.on(A.default.MEDIA_FRAGMENT_NEEDED,Ht,st),le.on(A.default.MEDIA_FRAGMENT_LOADED,Pt,st),le.on(A.default.BUFFER_LEVEL_STATE_CHANGED,Cn,st),le.on(A.default.BUFFER_CLEARED,nn,st),le.on(A.default.SEEK_TARGET,Tn,st),le.on(A.default.FRAGMENT_LOADING_ABANDONED,Ye,st),le.on(A.default.FRAGMENT_LOADING_COMPLETED,$e,st),le.on(A.default.QUOTA_EXCEEDED,Ft,st),le.on(A.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ot,st),le.on(A.default.SET_NON_FRAGMENTED_TEXT,dt,st),le.on(A.default.SOURCE_BUFFER_ERROR,Dt,st)}(),st}B.__dashjs_factory_name="StreamProcessor",S.default=f.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),w=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),E=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),F=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function f(g){g=g||{};var A=this.context,U=Object(F.default)(A).getInstance(),R=Object(y.default)(A).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,errors:p.default});return{load:function k(M,P,T){var N=function(W,q){P.resolved=!0,P.resolvedContent=W||null,U.trigger(L.default.XLINK_ELEMENT_LOADED,{element:P,resolveObject:T,error:W||q?null:new t.default(p.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,p.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+M)})};if("urn:mpeg:dash:resolve-to-zero:2013"===M)N(null,!0);else{var C=new E.default(M,w.HTTPRequest.XLINK_EXPANSION_TYPE);R.load({request:C,success:function(W){N(W)},error:function(){N(null)}})}},reset:function O(){R&&(R.abort(),R=null)}}}f.__dashjs_factory_name="XlinkLoader",S.default=D.default.getClassFactory(f)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S),S.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,v){return g&&w(f.prototype,g),v&&w(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),f}());S.default=p},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,v){return g&&w(f.prototype,g),v&&w(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),f}());S.default=p},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,v){return g&&w(f.prototype,g),v&&w(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),f}());S.default=p},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),y=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),F=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=c(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),g=c(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=c(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),A=c(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),U=c(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),R=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),H=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),k=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),O=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function N(){var le,Fe,$,ae,K,ge,oe,he,Ce,Le,fe,Re,xe,pe,Ue,ke,we,Ve,st,Je,Ne,Te,Y,se,_e,J,B=this.context,W=Object(R.default)(B).getInstance(),q=Object(L.default)(B).getInstance();function X(){K={},ge={},he={},oe={},st={},Te={},Y={},se={},void 0===Le&&(Le=!1),Je&&Je.reset(),Ve=void 0,Je=void 0,Ne=void 0,clearTimeout(Ce),Ce=null}function Ae(Lt){var Jt=Lt.request.mediaType,cn=Lt.streamId;if(Jt&&cn&&oe[cn]&&J.get().streaming.abr.autoSwitchBitrate[Jt]){var mn=oe[cn][Jt];if(mn){var xn=Object(f.default)(B).create({abrController:le,streamProcessor:mn,currentRequest:Lt.request,useBufferOccupancyABR:Te[Jt],useL2AABR:Y[Jt],useLoLPABR:se[Jt],videoModel:pe}),Ln=$.shouldAbandonFragment(xn,cn);Ln.quality>g.default.NO_CHANGE&&mn.getFragmentModel().getRequests({state:F.default.FRAGMENT_MODEL_LOADING,index:Lt.request.index})[0]&&(he[cn][Jt].state=w.default.ABANDON_LOAD,st[cn][Jt].reset(),st[cn][Jt].push({oldValue:Kt(Jt,cn),newValue:Ln.quality,confidence:1,reason:Ln.reason}),Cn(Jt,ae.getActiveStreamInfo(),Ln.quality,Ln.reason),clearTimeout(Ce),Ce=setTimeout(function(){he[cn][Jt].state=w.default.ALLOW_LOAD,Ce=null},J.get().streaming.abandonLoadTimeout))}}}function We(Lt){Lt.mediaType===y.default.VIDEO&&(void 0!==Ve&&Je.push(Lt.streamId,Ve,pe.getPlaybackQuality()),Ve=Lt.newQuality)}function He(Lt){Lt.metric===w.default.HTTP_REQUEST&&Lt.value&&Lt.value.type===H.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Lt.mediaType===y.default.AUDIO||Lt.mediaType===y.default.VIDEO)&&Ne.push(Lt.mediaType,Lt.value,J.get().streaming.abr.useDeadTimeLatency),Lt.metric===w.default.BUFFER_LEVEL&&(Lt.mediaType===y.default.AUDIO||Lt.mediaType===y.default.VIDEO)&&function Pe(Lt,Jt){J.get().streaming.abr.ABRStrategy===y.default.ABR_STRATEGY_DYNAMIC&&function Ye(Lt,Jt){try{var cn=Ue.getStableBufferTime(),Ln=Te[Lt],Yn=Jt>(Ln?.5*cn:cn);Te[Lt]=Yn,Yn!==Ln&&Fe.info(Yn?"["+Lt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Jt.toFixed(3)+").":"["+Lt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Jt.toFixed(3)+").")}catch(Vn){Fe.error(Vn)}}(Lt,Jt)}(Lt.mediaType,.001*Lt.value.level)}function at(Lt,Jt){try{return K[Jt]=K[Jt]||{},K[Jt].hasOwnProperty(Lt)||(K[Jt][Lt]=0),function jt(Lt,Jt,cn){if(Jt!==y.default.VIDEO||!J.get().streaming.abr.limitBitrateByPortal||!oe[cn]||!oe[cn][Jt])return Lt;Le||Ft();var mn=oe[cn][Jt].getStreamInfo(),xn=xe.getAdaptationForType(mn.index,Jt,mn).Representation_asArray,Ln=Lt;if(fe>0&&Re>0){for(;Ln>0&&xn[Ln]&&fe<xn[Ln].width&&fe-xn[Ln-1].width<xn[Ln].width-fe;)Ln-=1;for(;Ln<xn.length-1&&xn[Ln].width===xn[Ln+1].width;)Ln+=1}return Ln}(function It(Lt,Jt,cn){var mn=K[cn][Jt],xn=J.get().streaming.abr.maxRepresentationRatio[Jt];return isNaN(xn)||xn>=1||xn<0?Lt:Math.min(Lt,Math.round(mn*xn))}(function Ht(Lt,Jt){var cn=K[Jt][Lt],mn=cn;if(!oe[Jt]||!oe[Jt][Lt])return mn;var xn=ct(Lt,Jt);void 0!==xn&&(mn=Math.max(cn,xn));var Ln=function it(Lt,Jt){try{var cn=Ue.getAbrBitrateParameter("maxBitrate",Lt);return cn>-1?Qe(oe[Jt][Lt].getMediaInfo(),cn,Jt):void 0}catch{return}}(Lt,Jt);return void 0!==Ln&&(mn=Math.min(mn,Ln)),mn}(Lt,Jt),Lt,Jt),Lt,Jt)}catch{return}}function ct(Lt,Jt){try{return function vt(Lt,Jt){try{var cn=Ue.getAbrBitrateParameter("minBitrate",Lt);if(cn>-1){var mn=oe[Jt][Lt].getMediaInfo(),xn=De(mn),Ln=Qe(mn,cn,Jt);return xn[Ln]&&Ln<xn.length-1&&xn[Ln].bitrate<1e3*cn&&Ln++,Ln}return}catch{return}}(Lt,Jt)}catch{return}}function Kt(Lt){var Jt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Jt||(Jt=ae.getActiveStreamInfo().id),Lt&&oe[Jt]&&oe[Jt][Lt]&&Jt?(ge[Jt]=ge[Jt]||{},ge[Jt].hasOwnProperty(Lt)||(ge[Jt][Lt]=0),ge[Jt][Lt]):0}catch{return 0}}function Cn(Lt,Jt,cn){var mn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Jt&&Jt.id&&Lt){var xn=Jt.id,Ln=Kt(Lt,xn);Object(k.checkInteger)(cn);var Yn=at(Lt,xn);cn!==Ln&&cn>=0&&cn<=Yn&&Dt(Lt,Ln,cn,Yn,mn,xn)}}function Dt(Lt,Jt,cn,mn,xn,Ln){if(Lt&&oe[Ln]&&oe[Ln][Lt]){var Yn=oe[Ln][Lt].getStreamInfo(),Vn=Yn&&Yn.manifestInfo&&Yn.manifestInfo.isDynamic,ci=_e.getCurrentBufferLevel(Lt);Fe.info("Stream ID: "+Ln+" ["+Lt+"] switch from "+Jt+" to "+cn+"/"+mn+" (buffer: "+ci+") "+(xn?JSON.stringify(xn):".")),ge[Ln]=ge[Ln]||{},ge[Ln][Lt]=cn;var yn=function ft(Lt,Jt,cn){if(Jt&&oe&&oe[Lt]&&oe[Lt][Jt]){var mn=De(oe[Lt][Jt].getMediaInfo());return mn[cn]?mn[cn]:null}return null}(Ln,Lt,cn);q.trigger(D.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Jt,newQuality:cn,reason:xn,streamInfo:Yn,bitrateInfo:yn,maxIdx:mn,mediaType:Lt},{streamId:Yn.id,mediaType:Lt});var _n=Ne.getAverageThroughput(Lt,Vn);isNaN(_n)||we.setSavedBitrateSettings(Lt,_n)}}function Qe(Lt,Jt,cn){var mn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,xn=Lt&&Lt.type?oe[cn][Lt.type].getRepresentationInfo():null;if(J.get().streaming.abr.useDeadTimeLatency&&mn&&xn&&xn.fragmentDuration){var Ln=xn.fragmentDuration;if((mn/=1e3)>Ln)return 0;Jt*=1-mn/Ln}for(var Vn=De(Lt),ci=Vn.length-1;ci>=0;ci--)if(1e3*Jt>=Vn[ci].bitrate)return ci;return 0}function De(Lt){var Jt=[];if(!Lt||!Lt.bitrateList)return Jt;for(var xn,cn=Lt.bitrateList,mn=Lt.type,Ln=0,Yn=cn.length;Ln<Yn;Ln++)(xn=new E.default).mediaType=mn,xn.qualityIndex=Ln,xn.bitrate=cn[Ln].bandwidth,xn.width=cn[Ln].width,xn.height=cn[Ln].height,xn.scanType=cn[Ln].scanType,Jt.push(xn);return Jt}function Ft(){if(pe){var Jt=J.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;fe=pe.getClientWidth()*Jt,Re=pe.getClientHeight()*Jt}}return le={initialize:function Z(){Je=Object(A.default)(B).create(),Ne=Object(U.default)(B).create({settings:J}),($=Object(t.default)(B).create({dashMetrics:_e,customParametersModel:ke,mediaPlayerModel:Ue,settings:J})).initialize(),q.on(O.default.QUALITY_CHANGE_RENDERED,We,le),q.on(O.default.METRIC_ADDED,He,le),q.on(D.default.LOADING_PROGRESS,Ae,le)},isPlayingAtTopQuality:function ot(Lt){var Jt=Lt?Lt.id:null,cn=Kt(y.default.AUDIO,Jt),mn=Kt(y.default.VIDEO,Jt);return cn===at(y.default.AUDIO,Jt)&&mn===at(y.default.VIDEO,Jt)},updateTopQualityIndex:function lt(Lt){var Jt=Lt.type,cn=Lt.streamInfo.id,mn=Lt.representationCount-1;return K[cn]=K[cn]||{},K[cn][Jt]=mn,mn},clearDataForStream:function $t(Lt){Je&&Je.clearForStream(Lt),oe[Lt]&&delete oe[Lt],st[Lt]&&delete st[Lt],he[Lt]&&delete he[Lt]},getThroughputHistory:function $e(){return Ne},getBitrateList:De,getQualityForBitrate:Qe,getTopBitrateInfoFor:function en(Lt){var Jt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Jt||(Jt=ae.getActiveStreamInfo().id),Lt&&oe&&oe[Jt]&&oe[Jt][Lt]){var cn=at(Lt,Jt),mn=De(oe[Jt][Lt].getMediaInfo());return mn[cn]?mn[cn]:null}return null},getMinAllowedIndexFor:ct,getMaxAllowedIndexFor:at,getInitialBitrateFor:function dn(Lt,Jt){if(function de(){if(!we||!we.hasOwnProperty("getSavedBitrateSettings"))throw new Error(y.default.MISSING_CONFIG_ERROR)}(),Lt===y.default.TEXT)return NaN;var cn=we.getSavedBitrateSettings(Lt),mn=Ue.getAbrBitrateParameter("initialBitrate",Lt),xn=J.get().streaming.abr.initialRepresentationRatio[Lt];if(-1===mn)if(xn>-1){var Ln=oe[Jt][Lt].getStreamInfo(),Yn=xe.getAdaptationForType(Ln.index,Lt,Ln).Representation_asArray;mn=Array.isArray(Yn)?Yn[Math.max(Math.round(Yn.length*xn)-1,0)].bandwidth/1e3:0}else mn=isNaN(cn)?Lt===y.default.VIDEO?1e3:100:cn;return mn},getQualityFor:Kt,getAbandonmentStateFor:function nn(Lt,Jt){return he[Lt]&&he[Lt][Jt]?he[Lt][Jt].state:null},setPlaybackQuality:Cn,checkPlaybackQuality:function un(Lt,Jt){try{if(!(Lt&&oe&&oe[Jt]&&oe[Jt][Lt]))return!1;if(Je){var cn=pe.getPlaybackQuality();cn&&Je.push(Jt,Ve,cn)}if(!J.get().streaming.abr.autoSwitchBitrate[Lt])return!1;var mn=Kt(Lt,Jt),xn=Object(f.default)(B).create({abrController:le,switchHistory:st[Jt][Lt],droppedFramesHistory:Je,streamProcessor:oe[Jt][Lt],currentValue:mn,useBufferOccupancyABR:Te[Lt],useL2AABR:Y[Lt],useLoLPABR:se[Lt],videoModel:pe}),Ln=ct(Lt,Jt),Yn=at(Lt,Jt),Vn=$.getMaxQuality(xn),ci=Vn.quality;return void 0!==Ln&&(ci>g.default.NO_CHANGE?ci:mn)<Ln&&(ci=Ln),ci>Yn&&(ci=Yn),st[Jt][Lt].push({oldValue:mn,newValue:ci}),ci>g.default.NO_CHANGE&&ci!==mn&&(he[Jt][Lt].state===w.default.ALLOW_LOAD||ci<mn)&&(Dt(Lt,mn,ci,Yn,Vn.reason,Jt),!0)}catch{return!1}},setElementSize:Ft,setWindowResizeEventCalled:function dt(Lt){Le=Lt},registerStreamType:function te(Lt,Jt){var cn=Jt.getStreamInfo().id;oe[cn]||(oe[cn]={}),st[cn]||(st[cn]={}),he[cn]||(he[cn]={}),st[cn][Lt]=Object(v.default)(B).create(),oe[cn][Lt]=Jt,he[cn][Lt]={},he[cn][Lt].state=w.default.ALLOW_LOAD,function ie(Lt){var Jt=J.get().streaming.abr.ABRStrategy;Jt===y.default.ABR_STRATEGY_L2A?(Te[Lt]=!1,se[Lt]=!1,Y[Lt]=!0):Jt===y.default.ABR_STRATEGY_LoLP?(Te[Lt]=!1,se[Lt]=!0,Y[Lt]=!1):Jt===y.default.ABR_STRATEGY_BOLA?(Te[Lt]=!0,se[Lt]=!1,Y[Lt]=!1):Jt===y.default.ABR_STRATEGY_THROUGHPUT?(Te[Lt]=!1,se[Lt]=!1,Y[Lt]=!1):Jt===y.default.ABR_STRATEGY_DYNAMIC&&(Te[Lt]=!(!Te||!Te[Lt])&&Te[Lt],se[Lt]=!1,Y[Lt]=!1)}(Lt),Lt===y.default.VIDEO&&Ft()},unRegisterStreamType:function ee(Lt,Jt){try{oe[Lt]&&oe[Lt][Jt]&&delete oe[Lt][Jt],st[Lt]&&st[Lt][Jt]&&delete st[Lt][Jt],he[Lt]&&he[Lt][Jt]&&delete he[Lt][Jt]}catch{}},setConfig:function ve(Lt){Lt&&(Lt.streamController&&(ae=Lt.streamController),Lt.domStorage&&(we=Lt.domStorage),Lt.mediaPlayerModel&&(Ue=Lt.mediaPlayerModel),Lt.customParametersModel&&(ke=Lt.customParametersModel),Lt.dashMetrics&&(_e=Lt.dashMetrics),Lt.adapter&&(xe=Lt.adapter),Lt.videoModel&&(pe=Lt.videoModel),Lt.settings&&(J=Lt.settings))},reset:function ue(){X(),q.off(D.default.LOADING_PROGRESS,Ae,le),q.off(O.default.QUALITY_CHANGE_RENDERED,We,le),q.off(O.default.METRIC_ADDED,He,le),$&&$.reset()}},function Q(){Fe=W.getLogger(le),X()}(),le}N.__dashjs_factory_name="AbrController";var C=p.default.getSingletonFactory(N);C.QUALITY_DEFAULT=0,p.default.updateSingletonFactory(N.__dashjs_factory_name,C),S.default=C},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),y=c(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),w=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),E=c(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function p(){var f,g,R,H,v=this.context,A=Object(L.default)(v).getInstance(),U=Object(w.default)(v).getInstance();function k(B){R.invalidateSelectedIndexes(B.entry)}return f={reset:function N(){R.reset(),H.reset()},initialize:function C(B){R.setConfig({adapter:g}),function P(B){R.update(B),H.chooseSelector(g.getIsDVB(B))}(B)},resolve:function T(B){var q=R.getForPath(B).reduce(function(le,Fe){var $=H.select(Fe);return $?(U.isRelative($.url)?le.url=U.resolve($.url,le.url):(le.url=$.url,le.serviceLocation=$.serviceLocation),le.availabilityTimeOffset=$.availabilityTimeOffset,le.availabilityTimeComplete=$.availabilityTimeComplete,le):new E.default},new E.default);if(!U.isRelative(q.url))return q},setConfig:function M(B){B.baseURLTreeModel&&(R=B.baseURLTreeModel),B.baseURLSelector&&(H=B.baseURLSelector),B.adapter&&(g=B.adapter)}},function O(){R=Object(t.default)(v).create(),H=Object(y.default)(v).create(),A.on(D.default.SERVICE_LOCATION_BLACKLIST_CHANGED,k,f)}(),f}p.__dashjs_factory_name="BaseURLController",S.default=F.default.getClassFactory(p)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function w(E){E=E||{};var F,L=[],D=Object(y.default)(this.context).getInstance(),p=E.updateEventName,f=E.addBlacklistEventName;function v(H){-1===L.indexOf(H)&&(L.push(H),D.trigger(p,{entry:H}))}function A(H){v(H.entry)}return F={add:v,contains:function g(H){return!!(L.length&&H&&H.length)&&-1!==L.indexOf(H)},reset:function R(){L=[]}},function U(){f&&D.on(f,A,F)}(),F}w.__dashjs_factory_name="BlackListController",S.default=t.default.getClassFactory(w)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),E=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),g=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),A=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),U=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),H=.01,O="BufferController";function M(P){P=P||{};var oe,he,Ce,Le,fe,Re,xe,pe,Ue,ke,we,Ve,st,Je,Ne,Te,Y,se,T=this.context,N=Object(F.default)(T).getInstance(),C=P.errHandler,B=P.fragmentModel,W=P.representationController,q=P.adapter,le=P.textController,Fe=P.abrController,$=P.playbackController,ae=P.streamInfo,K=P.type,ge=P.settings;function ie(Zt){Re=Zt}function ee(Zt){return q.convertRepresentationToRepresentationInfo(W.getRepresentationForQuality(Zt))}function ve(Zt){ge.get().streaming.cacheInitSegments&&(he.info("Init fragment finished loading saving to",K+"'s init cache"),Ne.save(Zt.chunk)),he.debug("Append Init fragment",K," with representationId:",Zt.chunk.representationId," and quality:",Zt.chunk.quality,", data size:",Zt.chunk.bytes.byteLength),We(Zt.chunk)}function Ae(Zt){We(Zt.chunk,Zt.request)}function We(Zt){Ue.append(Zt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(on){at(on)}).catch(function(on){at(on)}),Zt.mediaInfo.type===t.default.VIDEO&&Qt(L.default.VIDEO_CHUNK_RECEIVED,{chunk:Zt})}function He(Zt){if(Zt&&Zt.length>0)for(var Yt=0,on=Zt.length;Yt<on;Yt++)he.debug("Buffered range: "+Zt.start(Yt)+" - "+Zt.end(Yt)+", currentTime = ",$.getTime())}function at(Zt){if(Zt.error)return 22===Zt.error.code&&function it(){if(Je=!0,fe=.8*tn(),he.warn("Quota exceeded, Critical Buffer: "+fe),fe>0){var Zt=Math.max(.2*fe,1),Yt=fe-Zt,on=Math.min(ge.get().streaming.buffer.bufferTimeAtTopQuality,.9*Yt),Tn=Math.min(ge.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Yt),Un={streaming:{buffer:{bufferToKeep:parseFloat(Zt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(on.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Tn.toFixed(5))}}};ge.update(Un)}}(),void((22===Zt.error.code||!Xe())&&(he.warn("Clearing playback buffer to overcome quota exceed situation"),Qt(L.default.QUOTA_EXCEEDED,{criticalBufferLevel:fe,quotaExceededTime:Zt.chunk.start}),Ft(dt())));if(Ue&&(Pe(),Je=!1,(we=Zt.chunk)&&we.endFragment)){we&&!isNaN(we.index)&&(xe=Math.max(we.index,xe),Ye());var Yt=Ue.getAllBufferRanges();we.segmentType===A.HTTPRequest.MEDIA_SEGMENT_TYPE&&(He(Yt),Cn(),function ct(){if(!isNaN(se)){if(K!==t.default.AUDIO&&K!==t.default.VIDEO)return void(se=NaN);var Zt=$.getTime(),Yt=Qe(Zt,0),on=Qe(se,0);if(Yt&&on&&Yt.start===on.start)return void(se=NaN);var Tn=W.getCurrentRepresentation().segmentDuration,Un=Qe(se,Tn);Un&&(ge.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Zt-se)>Tn?se<=Un.end&&$.seek(Math.max(se,Un.start),!1,!0):Zt<Un.start&&$.seek(Un.start,!1,!0))}}()),we&&Qt(L.default.BYTES_APPENDED_END_FRAGMENT,{quality:we.quality,startTime:we.start,index:we.index,bufferedRanges:Yt,segmentType:we.segmentType,mediaType:K})}}function en(){return new Promise(function(Zt,Yt){var on=dn();if(!on||0===on.length)return Cn(),void Zt();Ft(on).then(function(){Zt()}).catch(function(Tn){Yt(Tn)})})}function dn(Zt){var Yt=[],on=Ue.getAllBufferRanges();if(!on||0===on.length)return Yt;if(!Zt&&0!==Zt||isNaN(Zt))Yt.push({start:on.start(0),end:on.end(on.length-1)+.5});else{var Tn=function un(Zt,Yt){var on=ge.get().streaming.buffer.bufferToKeep,Tn=Yt.start(0);if(Zt-Tn>on){var ei=Math.max(0,Zt-on),Et=B.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:Zt,threshold:H})[0];if(Et&&(ei=Math.min(Et.startTime,ei)),ei>0)return{start:Tn,end:ei}}return null}(Zt,on),Un=function Kt(Zt,Yt){var on=Yt.end(Yt.length-1)+.5,Tn=Ze(Zt),ei=ae.manifestInfo.duration>=ge.get().streaming.buffer.longFormContentDurationThreshold?ge.get().streaming.buffer.bufferTimeAtTopQualityLongForm:ge.get().streaming.buffer.bufferTimeAtTopQuality,Et=isNaN(Tn)?Zt:Math.min(Tn,Zt+ei);if(Et>=Yt.end(Yt.length-1))return null;var fn=B.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:Zt,threshold:H})[0];if(fn&&(Et=Math.max(fn.startTime+fn.duration,Et)),ge.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var yt=0;yt<Yt.length;yt++)if(Yt.start(yt)<=Zt&&Zt<=Yt.end(yt)&&Yt.start(yt)<=Et&&Et<=Yt.end(yt)){var gt=Et;Et=yt+1<Yt.length?Yt.start(yt+1):Yt.end(yt)+1,he.debug("Buffered range ["+Yt.start(yt)+", "+Yt.end(yt)+"] overlaps with targetTime "+Zt+" and range to be pruned ["+gt+", "+on+"], using ["+Et+", "+on+"] instead"+(Et<on?"":" (no actual pruning)"));break}return Et<Yt.end(Yt.length-1)?{start:Et,end:on}:null}(Zt,on);Tn&&Yt.push(Tn),Un&&Yt.push(Un)}return Yt}function Cn(){(!Y||K===t.default.TEXT&&le.isTextEnabled())&&Pe()}function nn(){$e()}function Dt(){$e(),se=NaN}function Qe(Zt,Yt){var be,yt,on=Ue.getAllBufferRanges(),Tn=0,Un=0,ei=null,Et=null,fn=0,gt=isNaN(Yt)?.15:Yt;if(null!=on){for(yt=0,be=on.length;yt<be;yt++)if(Tn=on.start(yt),Un=on.end(yt),null===ei)fn=Math.abs(Tn-Zt),(Zt>=Tn&&Zt<Un||fn<=gt)&&(ei=Tn,Et=Un);else{if(!((fn=Tn-Et)<=gt))break;Et=Un}if(null!==ei)return{start:ei,end:Et}}return null}function Pe(){if($){var Zt=ge.get().streaming.gaps.jumpGaps&&!isNaN(ge.get().streaming.gaps.smallGapLimit)?ge.get().streaming.gaps.smallGapLimit:NaN;Le=Math.max(function De(Zt,Yt){var on;return ge.get().streaming.gaps.jumpGaps&&(Yt=ge.get().streaming.gaps.smallGapLimit),null===(on=Qe(Zt,Yt))?0:on.end-Zt}($.getTime()||0,Zt),0),Qt(L.default.BUFFER_LEVEL_UPDATED,{mediaType:K,bufferLevel:Le}),$e()}}function Ye(){var Zt=xe>=pe-1,Yt=$.getTimeToStreamEnd(ae)-Le<1e-5;(Zt||Yt)&&!Ce&&(bt(!0),he.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(ae.id," and type ").concat(K)))}function $e(){K!==t.default.AUDIO&&K!==t.default.VIDEO||((!$.getLowLatencyModeEnabled()&&Le<ge.get().streaming.buffer.stallThreshold||0===Le)&&!Ce?lt(y.default.BUFFER_EMPTY):(Ce||Le>=ge.get().streaming.buffer.stallThreshold||$.getLowLatencyModeEnabled()&&Le>0)&&lt(y.default.BUFFER_LOADED))}function lt(Zt){ke===Zt||Zt===y.default.BUFFER_EMPTY&&0===$.getTime()||K===t.default.TEXT&&!le.isTextEnabled()||(ke=Zt,Qt(L.default.BUFFER_LEVEL_STATE_CHANGED,{state:Zt}),Qt(Zt===y.default.BUFFER_LOADED?L.default.BUFFER_LOADED:L.default.BUFFER_EMPTY),he.debug(Zt===y.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function ot(){!Ue||K===t.default.TEXT||Ce||Ft(dt())}function dt(){var Zt=[],Yt=Ue.getAllBufferRanges();if(!Yt||0===Yt.length)return Zt;var on=$.getTime(),Tn=Math.max(0,on-ge.get().streaming.buffer.bufferToKeep),Un=B.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:on,threshold:H})[0];if(Un)Tn=Math.min(Un.startTime,Tn);else if(0===on&&$.getIsDynamic())return[];if(Yt.start(0)<=Tn){for(var ei={start:0,end:Tn},Et=0;Et<Yt.length&&Yt.end(Et)<=Tn;Et++)ei.end=Yt.end(Et);ei.start<ei.end&&Zt.push(ei)}return Zt}function Ft(Zt){return new Promise(function(Yt,on){if(Zt&&Ue&&0!==Zt.length){var Tn=[];Zt.forEach(function(Un){Tn.push(function $t(Zt){return new Promise(function(Yt,on){Zt.resolve=Yt,Zt.reject=on,Te.push(Zt)})}(Un))}),st||Lt(),Promise.all(Tn).then(function(){Yt()}).catch(function(Un){on(Un)})}else Yt()})}function Lt(){try{if(0===Te.length||!Ue)return he.debug("Nothing to prune, halt pruning"),Te=[],void(st=!1);var Zt=Ue.getBuffer();if(!Zt||!Zt.buffered||0===Zt.buffered.length)return he.debug("SourceBuffer is empty (or does not exist), halt pruning"),Te=[],void(st=!1);var Yt=Te.shift();he.debug("".concat(K,": Removing buffer from: ").concat(Yt.start," to ").concat(Yt.end)),st=!0,$.getTime()<Yt.end&&bt(!1),Ue.remove(Yt).then(function(Tn){Jt(Tn)}).catch(function(Tn){Jt(Tn)})}catch{st=!1}}function Jt(Zt){he.debug("onRemoved buffer from:",Zt.from,"to",Zt.to),He(Ue.getAllBufferRanges()),0===Te.length&&(st=!1,Pe()),Zt.unintended&&(he.warn("Detected unintended removal from:",Zt.from,"to",Zt.to,"setting streamprocessor time to",Zt.from),Qt(L.default.SEEK_TARGET,{time:Zt.from})),st?Lt():(Y?Y=!1:Pe(),Qt(L.default.BUFFER_CLEARED,{from:Zt.from,to:Zt.to,unintended:Zt.unintended,hasEnoughSpaceToAppend:Xe(),quotaExceeded:Je}))}function cn(Zt){return new Promise(function(Yt){Zt&&void 0!==Zt.MSETimeOffset&&Ue&&Ue.updateTimestampOffset?Ue.updateTimestampOffset(Zt.MSETimeOffset).then(function(){Yt()}).catch(function(){Yt()}):Yt()})}function mn(){return Ue&&!Ce?Ue.updateAppendWindow(ae):Promise.resolve()}function Ln(){++Ve*(ge.get().streaming.wallclockTimeUpdateInterval/1e3)>=ge.get().streaming.buffer.bufferPruningInterval&&(Ve=0,ot())}function Yn(){$e()}function bt(Zt){Ce!==Zt&&((Ce=Zt)?Qt(L.default.BUFFERING_COMPLETED):pe=Number.POSITIVE_INFINITY)}function tn(){try{var on,Tn,Zt=Ue.getAllBufferRanges(),Yt=0;if(!Zt)return Yt;for(Tn=0,on=Zt.length;Tn<on;Tn++)Yt+=Zt.end(Tn)-Zt.start(Tn);return Yt}catch{return 0}}function Ze(Zt){try{var Yt=Zt,on=Ue.getAllBufferRanges();if(!on||0===on.length)return NaN;for(var Tn=0;Yt===Zt&&Tn<on.length;){var Un=on.start(Tn),ei=on.end(Tn);Yt>=Un&&Yt<=ei&&(Yt=ei),Tn+=1}return Yt===Zt?NaN:Yt}catch{}}function Xe(){var Zt=tn();return isNaN(Zt)||Zt<fe}function Qt(Zt,Yt){N.trigger(Zt,Yt||{},{streamId:ae.id,mediaType:K})}function In(Zt,Yt){if(fe=Number.POSITIVE_INFINITY,ke=void 0,pe=Number.POSITIVE_INFINITY,xe=0,we=null,Ce=!1,st=!1,Je=!1,Le=0,Ve=0,Te=[],se=NaN,Ue){var on=Ue;Ue=null,!Zt&&!Yt&&on.abort().then(function(){on.reset(Yt),on=null})}Y=!1}return oe={initialize:function J(Zt){ie(Zt),N.on(L.default.INIT_FRAGMENT_LOADED,ve,oe),N.on(L.default.MEDIA_FRAGMENT_LOADED,Ae,oe),N.on(L.default.WALLCLOCK_TIME_UPDATED,Ln,oe),N.on(U.default.PLAYBACK_PLAYING,Dt,oe),N.on(U.default.PLAYBACK_PROGRESS,Cn,oe),N.on(U.default.PLAYBACK_TIME_UPDATED,Cn,oe),N.on(U.default.PLAYBACK_RATE_CHANGED,Yn,oe),N.on(U.default.PLAYBACK_STALLED,nn,oe)},getStreamId:function Q(){return ae.id},getType:function Z(){return K},getBufferControllerType:function te(){return O},createBufferSink:function X(Zt){var Yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(on,Tn){if(Ne&&Zt&&Re){var Un=Fe.getQualityFor(K,ae.id);Ue=Object(E.default)(T).create({mediaSource:Re,textController:le,eventBus:N}),function ue(Zt,Yt,on){var Tn=ee(on);return Yt&&Yt[K]&&(K===t.default.VIDEO||K===t.default.AUDIO)?Ue.initializeForStreamSwitch(Zt,Tn,Yt[K]):Ue.initializeForFirstUse(ae,Zt,Tn)}(Zt,Yt,Un).then(function(){return cn(ee(Un))}).then(function(){on(Ue)}).catch(function(ei){he.fatal("Caught error on create SourceBuffer: "+ei),C.error(new g.default(v.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,v.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+K)),Tn(ei)})}else on(null)})},getBuffer:function Vn(){return Ue},getBufferLevel:function ci(){return Le},getRangeAt:Qe,hasBufferAtTime:function ft(Zt){try{var Yt=Ue.getAllBufferRanges();if(!Yt||0===Yt.length)return!1;for(var on=0;on<Yt.length;){var Tn=Yt.start(on),Un=Yt.end(on);if(Zt>=Tn&&Zt<=Un)return!0;on+=1}return!1}catch(ei){return he.error(ei),!1}},pruneBuffer:ot,setMediaSource:ie,getMediaSource:function yn(){return Re},appendInitSegmentFromCache:function de(Zt){var Yt=Ne.extract(ae.id,Zt);return!!Yt&&(he.info("Append Init fragment",K," with representationId:",Yt.representationId," and quality:",Yt.quality,", data size:",Yt.bytes.byteLength),We(Yt),!0)},getIsBufferingCompleted:function _n(){return Ce},setIsBufferingCompleted:bt,getIsPruningInProgress:function ut(){return st},reset:function Fn(Zt,Yt){N.off(L.default.INIT_FRAGMENT_LOADED,ve,this),N.off(L.default.MEDIA_FRAGMENT_LOADED,Ae,this),N.off(L.default.WALLCLOCK_TIME_UPDATED,Ln,this),N.off(U.default.PLAYBACK_PLAYING,Dt,this),N.off(U.default.PLAYBACK_PROGRESS,Cn,this),N.off(U.default.PLAYBACK_TIME_UPDATED,Cn,this),N.off(U.default.PLAYBACK_RATE_CHANGED,Yn,this),N.off(U.default.PLAYBACK_STALLED,nn,this),In(Zt,Yt)},prepareForPlaybackSeek:function vt(){return Ce&&bt(!1),Ue.abort()},prepareForReplacementTrackSwitch:function Ht(Zt){return new Promise(function(Yt,on){Ue.abort().then(function(){return mn()}).then(function(){return ge.get().streaming.buffer.useChangeTypeForTrackSwitch?Ue.changeType(Zt):Promise.resolve()}).then(function(){return en()}).then(function(){bt(!1),Yt()}).catch(function(Tn){on(Tn)})})},prepareForNonReplacementTrackSwitch:function jt(Zt){return new Promise(function(Yt,on){mn().then(function(){return ge.get().streaming.buffer.useChangeTypeForTrackSwitch?Ue.changeType(Zt):Promise.resolve()}).then(function(){Yt()}).catch(function(Tn){on(Tn)})})},prepareForReplacementQualitySwitch:function It(){return new Promise(function(Zt,Yt){Ue.abort().then(function(){return mn()}).then(function(){return en()}).then(function(){bt(!1),Zt()}).catch(function(on){Yt(on)})})},updateAppendWindow:mn,getAllRangesWithSafetyFactor:dn,getContinuousBufferTimeForTargetTime:Ze,clearBuffers:Ft,pruneAllSafely:en,updateBufferTimestampOffset:cn,setSeekTarget:function Pt(Zt){se=Zt},segmentRequestingCompleted:function xn(Zt){isNaN(Zt)||(pe=Zt,Ye())}},function _e(){he=Object(p.default)(T).getInstance().getLogger(oe),Ne=Object(f.default)(T).getInstance(),In()}(),oe}M.__dashjs_factory_name=O,S.default=D.default.getClassFactory(M)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function f(){var A,U,R,H,k,O,M,P,T,N,g=this.context,v=Object(w.default)(g).getInstance();function $(){U=!1;var Ve=p.default.parseUserAgent();R=Ve&&Ve.browser&&Ve.browser.name&&"safari"===Ve.browser.name.toLowerCase()}function ae(){U=!1}function K(Ve){if(Ve.streamId===O.getActiveStreamInfo().id&&T){var st=M.getLiveDelay();M.getBufferLevel()>st/2&&(T=!1)}}function ge(Ve){Ve.streamId===O.getActiveStreamInfo().id&&(T=Ve.state===D.default.BUFFER_EMPTY)}function oe(){P.getCatchupModeEnabled()||H.setPlaybackRate(1)}function he(){M.getIsDynamic()&&P.getCatchupModeEnabled()&&(P.getCatchupPlaybackRates().max>0||P.getCatchupPlaybackRates().min<0)&&!M.isPaused()&&!M.isSeeking()&&function fe(){try{return!(!M.getTime()>0||U)&&(Re()===E.default.LIVE_CATCHUP_MODE_LOLP?function pe(Ve,st){try{return Math.abs(Le())>0||Ve<st}catch{return!1}}(M.getBufferLevel(),k.get().streaming.liveCatchup.playbackBufferMin):function xe(){try{return Math.abs(Le())>0}catch{return!1}}())}catch{return!1}}()&&function Ce(){if(!U&&H){var Ve,st=H.getPlaybackRate(),Je=P.getCatchupPlaybackRates(),Ne=M.getBufferLevel(),Te=Le(),Y=P.getCatchupMaxDrift();if(!isNaN(Y)&&Y>0&&Te>Y)N.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),U=!0,M.seekToCurrentLive(!0,!1);else{var se=M.getCurrentLiveLatency(),_e=M.getLiveDelay();Ve=Re()===E.default.LIVE_CATCHUP_MODE_LOLP?function ke(Ve,st,Je,Ne,Te){var Y;if(Te<Ne){var se=Math.abs(Ve.min),Q=2*se/(1+Math.pow(Math.E,-5*(Te-Ne)));N.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Te+", newRate: "+(Y=1-se+Q))}else{var Z=Ve.max,te=.02;Y=Math.abs(st-Je)<=te*Je?1:1-Z+2*Z/(1+Math.pow(Math.E,-5*(st-Je))),N.debug("[LoL+ playback control_latency-based] latency: "+st+", newRate: "+Y)}return Y}(Je,se,_e,k.get().streaming.liveCatchup.playbackBufferMin,Ne):function Ue(Ve,st,Je,Ne){if(T)return 1;var Te=st-Je,Y=Te<0?Math.abs(Ve.min):Ve.max,J=1-Y+2*Y/(1+Math.pow(Math.E,-5*Te));return M.getPlaybackStalled()&&Ne<=Je/2&&Te>0&&(J=1),J}(Je,se,_e,Ne);var Q=R?.25:.02/(.5/Je.max);Ve&&Math.abs(st-Ve)>=Q&&(N.debug("[CatchupController]: Setting playback rate to ".concat(Ve)),H.setPlaybackRate(Ve))}}}()}function Le(){return M.getCurrentLiveLatency()-M.getLiveDelay()}function Re(){var Ve=k.get().streaming.liveCatchup.playbackBufferMin;return k.get().streaming.liveCatchup.mode!==E.default.LIVE_CATCHUP_MODE_LOLP||null===Ve||isNaN(Ve)?E.default.LIVE_CATCHUP_MODE_DEFAULT:E.default.LIVE_CATCHUP_MODE_LOLP}function we(){P.getCatchupPlaybackRates(!0)}return A={reset:function Fe(){(function q(){v.off(F.default.BUFFER_LEVEL_UPDATED,K,A),v.off(F.default.BUFFER_LEVEL_STATE_CHANGED,ge,A),v.off(F.default.PLAYBACK_PROGRESS,he,A),v.off(F.default.PLAYBACK_TIME_UPDATED,he,A),v.off(F.default.PLAYBACK_SEEKED,he,A),v.off(L.default.SETTING_UPDATED_CATCHUP_ENABLED,oe,A),v.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,we,A),v.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,we,A),v.off(F.default.STREAM_INITIALIZED,we,A)})(),$(),H.setPlaybackRate(1,!0)},setConfig:function B(Ve){Ve&&(Ve.settings&&(k=Ve.settings),Ve.videoModel&&(H=Ve.videoModel),Ve.streamController&&(O=Ve.streamController),Ve.playbackController&&(M=Ve.playbackController),Ve.mediaPlayerModel&&(P=Ve.mediaPlayerModel))},initialize:function C(){(function W(){v.on(F.default.BUFFER_LEVEL_UPDATED,K,A),v.on(F.default.BUFFER_LEVEL_STATE_CHANGED,ge,A),v.on(F.default.PLAYBACK_PROGRESS,he,A),v.on(F.default.PLAYBACK_TIME_UPDATED,he,A),v.on(F.default.PLAYBACK_SEEKED,ae,A),v.on(L.default.SETTING_UPDATED_CATCHUP_ENABLED,oe,A),v.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,we,A),v.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,we,A),v.on(F.default.STREAM_INITIALIZED,we,A)})(),we()}},function le(){N=Object(y.default)(g).getInstance().getLogger(A),$()}(),A}f.__dashjs_factory_name="CatchupController",S.default=t.default.getSingletonFactory(f)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function L(){var H,k,O,M,P,T,N,C,B,W,q,D="urn:mpeg:dash:event:2012",p=1,f="urn:mpeg:dash:event:callback:2015",g=1,v=300,A={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},U=this.context,R=Object(w.default)(U).getInstance();function Fe(){if(!N||!C)throw new Error("setConfig function has to be called previously")}function $(){q=!1,O={},M={},P=null,W=!1,T=Date.now()/1e3}function ae(){try{null!==P&&q&&(clearInterval(P),P=null,q=!1,function xe(){try{pe(M),pe(O)}catch(J){k.error(J)}}())}catch(J){throw J}}function ge(){try{if(!W){W=!0;var J=C.getTime(),Q=J-T;Q=T>0?Math.max(0,Q):0,oe(M,Q,J),oe(O,Q,J),he(M),he(O),T=J,W=!1}}catch(Z){W=!1,k.error(Z)}}function oe(J,Q,Z){try{Ue(J,function(ee){if(void 0!==ee){var X=isNaN(ee.duration)?0:ee.duration;ee.calculatedPresentationTime<=Z&&ee.calculatedPresentationTime+Q+X>=Z?Ve(ee,E.default.EVENT_MODE_ON_START):(ke(Z,X+Q,ee.calculatedPresentationTime)||function we(J){try{return J.calculatedPresentationTime>J.eventStream.period.start+J.eventStream.period.duration}catch(Z){return k.error(Z),!1}}(ee))&&(k.debug("Removing event ".concat(ee.id," from period ").concat(ee.eventStream.period.id," as it is expired or invalid")),function st(J,Q){try{var Z=Q.eventStream.schemeIdUri,te=Q.eventStream.period.id,ie=Q.eventStream.value,ee=Q.id;J[te][Z]=J[te][Z].filter(function(X){return ie&&X.eventStream.value&&X.eventStream.value!==ie||X.id!==ee}),0===J[te][Z].length&&delete J[te][Z]}catch(X){k.error(X)}}(J,ee))}})}catch(ie){k.error(ie)}}function he(J){try{for(var Q in J)J.hasOwnProperty(Q)&&0===Object.keys(J[Q]).length&&delete J[Q]}catch(Z){k.error(Z)}}function fe(J,Q){var Z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],te=J.eventStream.schemeIdUri,ie=J.eventStream.value,ee=J.id,X=A.DISCARDED;Q[te]||(Q[te]=[]);var ue=Q[te].findIndex(function(de){return(!ie||de.eventStream.value&&de.eventStream.value===ie)&&de.id===ee});if(-1===ue)Q[te].push(J),J.triggeredReceivedEvent=!1,J.triggeredStartEvent=!1,X=A.ADDED;else if(Z){var ve=Q[te][ue];J.triggeredReceivedEvent=ve.triggeredReceivedEvent,J.triggeredStartEvent=ve.triggeredStartEvent,Q[te][ue]=J,X=A.UPDATED}return X}function Re(J){try{J.eventStream.value==p&&R.trigger(E.default.MANIFEST_VALIDITY_CHANGED,{id:J.id,validUntil:J.calculatedPresentationTime,newDuration:4294967295==J.calculatedPresentationTime?NaN:J.calculatedPresentationTime+J.duration,newManifestValidAfter:NaN},{mode:E.default.EVENT_MODE_ON_START})}catch(te){k.error(te)}}function pe(J){try{var Q=C.getTime();Ue(J,function(ie){var ee=ie.eventStream&&ie.eventStream.period&&!isNaN(ie.eventStream.period.duration)?ie.eventStream.period.duration:NaN,X=ie.eventStream&&ie.eventStream.period&&!isNaN(ie.eventStream.period.start)?ie.eventStream.period.start:NaN;isNaN(ee)||isNaN(X)||Math.abs(ie.calculatedPresentationTime-Q)<v&&Ve(ie,E.default.EVENT_MODE_ON_START)})}catch(te){k.error(te)}}function Ue(J,Q){try{if(J)for(var Z=Object.keys(J),te=0;te<Z.length;te++)for(var ie=J[Z[te]],ee=Object.keys(ie),X=0;X<ee.length;X++)ie[ee[X]].forEach(function(ve){void 0!==ve&&Q(ve)})}catch(ve){k.error(ve)}}function ke(J,Q,Z){try{return J-Q>Z}catch(te){return k.error(te),!1}}function Ve(J,Q){try{var Z=C.getTime(),te=J.id;if(Q===E.default.EVENT_MODE_ON_RECEIVE&&!J.triggeredReceivedEvent)return k.debug("Received event ".concat(te)),J.triggeredReceivedEvent=!0,void R.trigger(J.eventStream.schemeIdUri,{event:J},{mode:Q});J.triggeredStartEvent||(J.eventStream.schemeIdUri===D&&J.eventStream.value==p?(0!==J.duration||0!==J.presentationTimeDelta)&&(k.debug("Starting manifest refresh event ".concat(te," at ").concat(Z)),function Je(){try{Fe(),N.refreshManifest()}catch(J){k.error(J)}}()):J.eventStream.schemeIdUri===f&&J.eventStream.value==g?(k.debug("Starting callback event ".concat(te," at ").concat(Z)),function Ne(J){try{Object(F.default)(U).create({}).load({method:"get",url:J,request:{responseType:"arraybuffer"}})}catch(Z){k.error(Z)}}(J.messageData)):(k.debug("Starting event ".concat(te," from period ").concat(J.eventStream.period.id," at ").concat(Z)),R.trigger(J.eventStream.schemeIdUri,{event:J},{mode:Q})),J.triggeredStartEvent=!0)}catch(ie){k.error(ie)}}return H={addInlineEvents:function Ce(J,Q){try{if(Fe(),O[Q]||(O[Q]={}),J)for(var Z=0;Z<J.length;Z++){var te=J[Z];if(!ke(C.getTime(),isNaN(te.duration)?0:te.duration,te.calculatedPresentationTime)){var X=fe(te,O[Q],!0);X===A.ADDED?(k.debug("Added inline event with id ".concat(te.id," from period ").concat(Q)),Ve(te,E.default.EVENT_MODE_ON_RECEIVE)):X===A.UPDATED&&k.debug("Updated inline event with id ".concat(te.id," from period ").concat(Q))}}}catch(ue){throw ue}},addInbandEvents:function Le(J,Q){try{Fe(),M[Q]||(M[Q]={});for(var Z=0;Z<J.length;Z++){var te=J[Z];ke(C.getTime(),isNaN(te.duration)?0:te.duration,te.calculatedPresentationTime)||(fe(te,M[Q],!1)===A.ADDED?(te.eventStream.schemeIdUri===D&&Re(te),k.debug("Added inband event with id ".concat(te.id," from period ").concat(Q)),Ve(te,E.default.EVENT_MODE_ON_RECEIVE)):k.debug("Inband event with scheme_id_uri ".concat(te.eventStream.schemeIdUri,", value ").concat(te.eventStream.value,", period id ").concat(Q," and event id ").concat(te.id," was ignored because it has been added before.")))}ge()}catch(ue){throw ue}},getInbandEvents:function se(){return M},getInlineEvents:function Y(){return O},start:function K(){try{Fe(),k.debug("Start Event Controller");var J=B.get().streaming.eventControllerRefreshDelay;!q&&!isNaN(J)&&(q=!0,P=setInterval(ge,J))}catch(Q){throw Q}},setConfig:function Te(J){try{if(!J)return;J.manifestUpdater&&(N=J.manifestUpdater),J.playbackController&&(C=J.playbackController),J.settings&&(B=J.settings)}catch(Q){throw Q}},reset:function _e(){ae(),$()}},function le(){k=Object(y.default)(U).getInstance().getLogger(H),$()}(),H}L.__dashjs_factory_name="EventController",S.default=t.default.getSingletonFactory(L)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),w=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),E=c(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),F=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),g=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function A(U){U=U||{};var N,C,B,R=this.context,H=Object(L.default)(R).getInstance(),k=U.errHandler,O=U.mediaPlayerModel,M=U.dashMetrics,P=Object(v.default)(R).getInstance(),T=U.streamInfo;function q(){return T.id}function Fe(){for(var ge in B)B[ge].reset();B={}}function K(ge){if(ge.sender){var oe=ge.request,he=ge.response,Ce=oe.isInitializationRequest(),Le=oe.mediaInfo.streamInfo;if(ge.error&&(oe.mediaType===t.default.AUDIO||oe.mediaType===t.default.VIDEO||oe.mediaType===t.default.TEXT&&oe.mediaInfo.isFragmented)&&H.trigger(D.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:ge.request.serviceLocation}),!he||!Le)return void C.warn("No "+oe.mediaType+" bytes to push or stream is inactive.");var fe=function ae(ge,oe,he,Ce){var Le=new y.default;return Le.streamId=he,Le.mediaInfo=oe.mediaInfo,Le.segmentType=oe.type,Le.start=oe.startTime,Le.duration=oe.duration,Le.end=Le.start+Le.duration,Le.bytes=ge,Le.index=oe.index,Le.quality=oe.quality,Le.representationId=oe.representationId,Le.endFragment=Ce,Le}(he,oe,T.id,ge.type!==D.default.FRAGMENT_LOADING_PROGRESS);H.trigger(Ce?D.default.INIT_FRAGMENT_LOADED:D.default.MEDIA_FRAGMENT_LOADED,{chunk:fe,request:oe},{streamId:Le.id,mediaType:oe.mediaType})}}return N={getStreamId:q,getModel:function le(ge){var oe=B[ge];return oe||(oe=Object(w.default)(R).create({streamInfo:T,type:ge,dashMetrics:M,fragmentLoader:Object(E.default)(R).create({dashMetrics:M,mediaPlayerModel:O,errHandler:k,requestModifier:Object(F.default)(R).getInstance(),settings:U.settings,boxParser:U.boxParser,eventBus:H,events:D.default,errors:f.default,dashConstants:U.dashConstants,urlUtils:U.urlUtils,streamId:q()}),debug:P,eventBus:H,events:D.default}),B[ge]=oe),oe},reset:function $(){H.off(p.default.FRAGMENT_LOADING_COMPLETED,K,this),H.off(p.default.FRAGMENT_LOADING_PROGRESS,K,this),Fe()}},function W(){C=P.getLogger(N),Fe(),H.on(p.default.FRAGMENT_LOADING_COMPLETED,K,N),H.on(p.default.FRAGMENT_LOADING_PROGRESS,K,N)}(),N}A.__dashjs_factory_name="FragmentController",S.default=g.default.getClassFactory(A)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function f(){var A,U,R,H,k,O,M,P,T,N,C,B,g=this.context,v=Object(E.default)(g).getInstance();function le(){(function ke(){B.debug("Stopping the gap controller"),k&&(clearInterval(k),k=null)})(),function K(){v.off(w.default.WALLCLOCK_TIME_UPDATED,Le,this),v.off(w.default.INITIAL_STREAM_SWITCH,Ce,this),v.off(w.default.PLAYBACK_SEEKING,ge,this),v.off(w.default.BUFFER_REPLACEMENT_STARTED,oe,A),v.off(w.default.TRACK_CHANGE_RENDERED,he,A)}(),function Fe(){k=null,O=NaN,H=0,N=null,C={}}()}function ge(){N&&(clearTimeout(N),N=null)}function oe(Ve){try{if(Ve.streamId!==P.getActiveStreamInfo().id||Ve.mediaType!==F.default.VIDEO&&Ve.mediaType!==F.default.AUDIO)return;Ve.streamId===P.getActiveStreamInfo().id&&(C[Ve.mediaType]=!0)}catch(st){B.error(st)}}function he(Ve){!Ve||!Ve.mediaType||(C[Ve.mediaType]=!1)}function Ce(){k||function Ue(){try{k||(B.debug("Starting the gap controller"),k=setInterval(function(){fe()&&we(M.getTime())},100))}catch{}}()}function Le(){if(fe(R.get().streaming.gaps.enableSeekFix)&&++H>=10){var Ve=M.getTime();U===Ve?we(Ve,!0):(U=Ve,O=NaN),H=0}}function fe(){var Ve=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!P.getActiveStream())return!1;var st=Object.keys(C).some(function(Ne){return C[Ne]}),Je=!!Ve&&function Re(){var Ve=P.getActiveStream(),st=parseFloat((Ve.getStartTime()+Ve.getDuration()).toFixed(5));return M.getTime()+R.get().streaming.gaps.threshold>=st}();return!st&&R.get().streaming.gaps.jumpGaps&&P.getActiveStreamProcessors().length>0&&(!M.isSeeking()||Je)&&!M.isPaused()&&!P.getIsStreamSwitchInProgress()&&!P.getHasMediaOrInitialisationError()}function we(Ve){var _e,st=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Je=R.get().streaming.gaps.enableStallFix,Ne=R.get().streaming.gaps.stallSeek,Te=R.get().streaming.gaps.smallGapLimit,Y=R.get().streaming.gaps.jumpLargeGaps,se=T.getBufferRange(),J=NaN,Q=!1;if(_e=function xe(Ve,st){try{if(!Ve||Ve.length<=1&&st>0)return NaN;for(var Je=NaN,Ne=0;isNaN(Je)&&Ne<Ve.length;){var Te=Ne>0?Ve.end(Ne-1):0;st<Ve.start(Ne)&&Te-st<R.get().streaming.gaps.threshold&&(Je=Ne),Ne+=1}return Je}catch{return null}}(se,Ve),!isNaN(_e)){var Z=se.start(_e),te=Z-Ve;te>0&&(te<=Te||Y)&&(J=Z)}var ie=M.getTimeToStreamEnd();if(isNaN(J)&&st&&isFinite(ie)&&!isNaN(ie)&&ie<Te&&(J=parseFloat(M.getStreamEndTime().toFixed(5)),Q=!0),Je&&isNaN(J)&&st&&isNaN(_e)&&function pe(Ve,st){for(var Je=0,Ne=Ve.length;Je<Ne;Je++)if(st>=Ve.start(Je)&&st<=Ve.end(Je))return!0;return!1}(se,Ve)&&(0===Ne?(B.warn("Toggle play pause to break stall"),T.pause(),T.play()):(B.warn("Jumping ".concat(Ne,"s to break stall")),J=Ve+Ne)),J>0&&O!==J&&J>Ve&&!N){var ee=J-Ve;if(Q){var X=P.getStreamForTime(J),ue=X&&!!X.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(Ve," to ").concat(J,". Gap duration: ").concat(ee)),M.seek(J,!0,ue)}else{var ve=M.getIsDynamic(),de=_e>0?se.end(_e-1):Ve,Ae=ve?1e3*Math.max(0,ee-.1):0;N=window.setTimeout(function(){M.seek(J,!0,!0),B.warn("Jumping gap occuring in period ".concat(P.getActiveStream().getStreamId()," starting at ").concat(de," and ending at ").concat(J,". Jumping by: ").concat(J-de)),N=null},Ae)}O=J}}return A={reset:le,setConfig:function $(Ve){Ve&&(Ve.settings&&(R=Ve.settings),Ve.playbackController&&(M=Ve.playbackController),Ve.streamController&&(P=Ve.streamController),Ve.videoModel&&(T=Ve.videoModel))},initialize:function W(){!function ae(){v.on(w.default.WALLCLOCK_TIME_UPDATED,Le,this),v.on(w.default.INITIAL_STREAM_SWITCH,Ce,this),v.on(w.default.PLAYBACK_SEEKING,ge,this),v.on(w.default.BUFFER_REPLACEMENT_STARTED,oe,A),v.on(w.default.TRACK_CHANGE_RENDERED,he,A)}()}},function q(){B=Object(y.default)(g).getInstance().getLogger(A),le()}(),A}f.__dashjs_factory_name="GapController",S.default=t.default.getSingletonFactory(f)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),D=c.n(L),p=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function g(){var R,H,k,O,M,P,T,N,A=this.context,U=Object(w.default)(A).getInstance();function q(X,ue){return X&&k[ue]&&k[ue][X]?k[ue][X].list:[]}function le(X,ue){return X&&k[ue]&&k[ue][X]?k[ue][X].current:null}function $(X){var ue=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(X&&X.streamInfo){var ve=X.type,Ae=X.streamInfo.id,We=le(ve,Ae);if(k[Ae]&&k[Ae][ve]&&(k[Ae][ve].current=X,k[Ae][ve].current&&(ve!==t.default.TEXT&&!he(X,We)||ve===t.default.TEXT&&X.isFragmented)&&U.trigger(y.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:We,newMediaInfo:X,switchMode:O.get().streaming.trackSwitchMode[ve]},{streamId:Ae}),!ue)){var He=function fe(X){var ue={lang:X.lang,viewpoint:X.viewpoint,roles:X.roles,accessibility:X.accessibility,audioChannelConfiguration:X.audioChannelConfiguration};return ue.lang||ue.viewpoint||ue.role&&ue.role.length>0||ue.accessibility&&ue.accessibility.length>0||ue.audioChannelConfiguration&&ue.audioChannelConfiguration.length>0?ue:null}(X);if(!He||!k[Ae][ve].storeLastSettings)return;He.roles&&(He.role=He.roles[0],delete He.roles),He.accessibility&&(He.accessibility=He.accessibility[0]),He.audioChannelConfiguration&&(He.audioChannelConfiguration=He.audioChannelConfiguration[0]),P[ve]=He,N.setSavedMediaSettings(ve,He)}}}function ae(X,ue){!X||!ue||(M[X]=ue)}function K(X){return X?M[X]:null}function he(X,ue){if(!X&&!ue)return!0;if(!X||!ue)return!1;var ve=X.id===ue.id,de=X.viewpoint===ue.viewpoint,Ae=X.lang===ue.lang,We=X.codec===ue.codec,He=X.roles.toString()===ue.roles.toString(),at=X.accessibility.toString()===ue.accessibility.toString(),ct=X.audioChannelConfiguration.toString()===ue.audioChannelConfiguration.toString();return ve&&We&&de&&Ae&&He&&at&&ct}function Le(){k={},P={},function Je(){M={audio:null,video:null,text:null}}()}function Re(X,ue,ve){var de=[];return X.forEach(function(Ae){ue(ve,Ae)&&de.push(Ae)}),0!==de.length?de:X}function xe(X,ue){return!X.lang||X.lang instanceof RegExp?ue.lang.match(X.lang):""!==ue.lang&&Object(p.extendedFilter)(ue.lang,D()(X.lang)).length>0}function pe(X,ue){return null==X.index||ue.index===X.index}function Ue(X,ue){return!X.viewpoint||X.viewpoint===ue.viewpoint}function ke(X,ue){var ve=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!X.role||!!ue.roles.filter(function(Ae){return Ae===X.role})[0]||ue.type===t.default.AUDIO&&ve}function we(X,ue){return X.accessibility?!!ue.accessibility.filter(function(de){return de===X.accessibility})[0]:!ue.accessibility.length}function Ve(X,ue){return!X.audioChannelConfiguration||!!ue.audioChannelConfiguration.filter(function(de){return de===X.audioChannelConfiguration})[0]}function Te(X){var de,ue=0,ve=[];return X.forEach(function(Ae){(de=Math.max.apply(Math,Ae.bitrateList.map(function(We){return We.bandwidth})))>ue?(ue=de,ve=[Ae]):de===ue&&ve.push(Ae)}),ve}function Y(X){var de,ue=1/0,ve=[];return X.forEach(function(Ae){var We=Ae.bitrateList.reduce(function(He,at){var ct=Math.max(1,at.width*at.height);return He+at.bandwidth/ct},0);(de=We/Ae.bitrateList.length)<ue?(ue=de,ve=[Ae]):de===ue&&ve.push(Ae)}),ve}function se(X){var de,ue=0,ve=[];return X.forEach(function(Ae){(de=Ae.representationCount)>ue?(ue=de,ve=[Ae]):de===ue&&ve.push(Ae)}),ve}function _e(X,ue){if(X===t.default.TEXT)return ue[0];var de,ve=O.get().streaming.selectionModeForInitialTrack,Ae=T.getCustomInitialTrackSelectionFunction();if(Ae&&"function"==typeof Ae)de=Ae(ue);else switch(ve){case t.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:de=function J(X){var ue=function Ne(X){var ue=0,ve=[];return X.forEach(function(de){isNaN(de.selectionPriority)||(de.selectionPriority>ue?(ue=de.selectionPriority,ve=[de]):de.selectionPriority===ue&&ve.push(de))}),ve}(X);return ue.length>1&&(ue=Te(ue)),ue.length>1&&(ue=se(ue)),ue}(ue);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:de=function Q(X){var ue=Te(X);return ue.length>1&&(ue=se(ue)),ue}(ue);break;case t.default.TRACK_SELECTION_MODE_FIRST_TRACK:de=Z(ue);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:de=function te(X){var ue=Y(X);return ue.length>1&&(ue=Te(ue)),ue}(ue);break;case t.default.TRACK_SELECTION_MODE_WIDEST_RANGE:de=function ie(X){var ue=se(X);return ue.length>1&&(ue=Te(X)),ue}(ue);break;default:H.warn("Track selection mode ".concat(ve," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),de=Z(ue)}return de.length>0?de[0]:ue[0]}function Z(X){return X[0]}return R={setInitialMediaSettingsForType:function B(X,ue){var ve=P[X]||K(X),de=q(X,ue.id),Ae=[];ve||ae(X,ve=N.getSavedMediaSettings(X)),de&&0!==de.length&&(ve&&(Ae=Re(Ae=Array.from(de),xe,ve),Ae=Re(Ae,pe,ve),Ae=Re(Ae,Ue,ve),X===t.default.AUDIO&&P[X]||(Ae=Re(Ae,ke,ve)),Ae=Re(Ae,we,ve),Ae=Re(Ae,Ve,ve)),0===Ae.length?$(_e(X,de),!0):$(Ae.length>1?_e(X,Ae):Ae[0]))},addTrack:function W(X){if(X){var ue=X.type;if(function oe(X){return X===t.default.AUDIO||X===t.default.VIDEO||X===t.default.TEXT||X===t.default.IMAGE}(ue)){var ve=X.streamInfo.id;k[ve]||(k[ve]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var de=k[ve][ue].list,Ae=0,We=de.length;Ae<We;++Ae)if(he(de[Ae],X))return;de.push(X)}}},getTracksFor:q,getCurrentTrackFor:le,isCurrentTrack:function Fe(X){if(!X)return!1;var ue=X.type,ve=X.streamInfo.id;return k[ve]&&k[ve][ue]&&he(k[ve][ue].current,X)},setTrack:$,selectInitialTrack:_e,setInitialSettings:ae,getInitialSettings:K,getTracksWithHighestBitrate:Te,getTracksWithHighestEfficiency:Y,getTracksWithWidestRange:se,isTracksEqual:he,matchSettings:function st(X,ue){var ve=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var de=!1;if(X.lang){if(X.lang instanceof RegExp)de=ue.lang.match(X.lang);else if(""!==ue.lang){var Ae=D()(X.lang);Ae&&(de=Object(p.extendedFilter)(ue.lang,Ae).length>0)}}else de=!0;var We=null==X.index||ue.index===X.index,He=!X.viewpoint||X.viewpoint===ue.viewpoint,at=!X.role||!!ue.roles.filter(function(vt){return vt===X.role})[0],ct=!X.accessibility||!!ue.accessibility.filter(function(vt){return vt===X.accessibility})[0],it=!X.audioChannelConfiguration||!!ue.audioChannelConfiguration.filter(function(vt){return vt===X.audioChannelConfiguration})[0];return de&&We&&He&&(at||ue.type===t.default.AUDIO&&ve)&&ct&&it}catch(vt){return!1}},matchSettingsLang:xe,matchSettingsIndex:pe,matchSettingsViewPoint:Ue,matchSettingsRole:ke,matchSettingsAccessibility:we,matchSettingsAudioChannelConfig:Ve,saveTextSettingsDisabled:function ge(){N.setSavedMediaSettings(t.default.TEXT,null)},setConfig:function Ce(X){X&&(X.domStorage&&(N=X.domStorage),X.settings&&(O=X.settings),X.customParametersModel&&(T=X.customParametersModel))},reset:Le},function C(){H=Object(F.default)(A).getInstance().getLogger(R),Le()}(),R}g.__dashjs_factory_name="MediaController";var v=E.default.getSingletonFactory(g);E.default.updateSingletonFactory(g.__dashjs_factory_name,v),S.default=v},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function w(){var E,F,L,D=this.context;return E={createMediaSource:function f(){var k="WebKitMediaSource"in window;return"MediaSource"in window?F=new MediaSource:k&&(F=new WebKitMediaSource),F},attachMediaSource:function g(k){var O=window.URL.createObjectURL(F);return k.setSource(O),O},detachMediaSource:function v(k){k.setSource(null)},setDuration:function A(k){!F||"open"!==F.readyState||null===k&&isNaN(k)||F.duration!==k&&(function H(k){for(var O=k.sourceBuffers,M=0;M<O.length;M++)if(O[M].updating)return!0;return!1}(F)?setTimeout(A.bind(null,k),50):(L.info("Set MediaSource duration:"+k),F.duration=k))},setSeekable:function U(k,O){F&&"function"==typeof F.setLiveSeekableRange&&"function"==typeof F.clearLiveSeekableRange&&"open"===F.readyState&&k>=0&&k<O&&(F.clearLiveSeekableRange(),F.setLiveSeekableRange(k,O))},signalEndOfStream:function R(k){if(k&&"open"===k.readyState){for(var O=k.sourceBuffers,M=0;M<O.length;M++)if(O[M].updating||0===O[M].buffered.length)return;L.info("call to mediaSource endOfStream"),k.endOfStream()}}},function p(){L=Object(y.default)(D).getInstance().getLogger(E)}(),E}w.__dashjs_factory_name="MediaSourceController",S.default=t.default.getSingletonFactory(w)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function f(){var A,U,R,H,k,O,M,P,T,N,C,B,W,q,le,Fe,ae,K,ge,oe,he,Ce,Le,g=this.context,v=Object(y.default)(g).getInstance();function Re(){st(),q=!1,N=0,C=0,Fe=0,he=!1,ae=!1,Ce=!1,K=NaN,M&&(v.off(w.default.DATA_UPDATE_COMPLETED,jt,A),v.off(w.default.LOADING_PROGRESS,xn,A),v.off(w.default.MANIFEST_UPDATED,yn,A),v.off(w.default.STREAMS_COMPOSED,_n,A),v.off(L.default.PLAYBACK_ENDED,Ft,A),v.off(L.default.STREAM_INITIALIZING,Yn,A),v.off(L.default.REPRESENTATION_SWITCH,Vn,A),v.off(L.default.BUFFER_LEVEL_STATE_CHANGED,un,A),It(),function tn(){M.removeEventListener("canplay",en),M.removeEventListener("canplaythrough",dn),M.removeEventListener("play",Kt),M.removeEventListener("waiting",Cn),M.removeEventListener("playing",nn),M.removeEventListener("pause",Dt),M.removeEventListener("error",$t),M.removeEventListener("seeking",ft),M.removeEventListener("seeked",Qe),M.removeEventListener("timeupdate",De),M.removeEventListener("progress",Pe),M.removeEventListener("ratechange",Ye),M.removeEventListener("loadedmetadata",$e),M.removeEventListener("loadeddata",lt),M.removeEventListener("stalled",Ln),M.removeEventListener("ended",ot),M.removeEventListener("volumechange",dt)}()),T=null,M=null,B=null,W=null}function ke(){return parseFloat((we(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-_e()).toFixed(5))}function we(Ze){var Xe=Ze||B;return Xe.start+Xe.duration}function Ve(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&M&&M.getElement()?(Ze&&W&&se(_e()),M.play()):q=!0}function st(){B&&M&&M.pause()}function Je(Ze){var Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Pt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Qt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&M&&Ze!==(isNaN(K)?M.getTime():K)&&((ge=!0===Pt)||(K=Ze),U.info("Requesting seek to time: "+Ze+(ge?" (internal)":"")),W&&Qt&&se(Ze),M.setCurrentTime(Ze,Xe))}function Y(){if(B&&M&&W){var Ze=R&&R.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO,Xe=k.getCurrentDVRInfo(Ze);return Xe&&Xe.range?Xe.range.end:0}}function se(Ze){var Xe=new Date(P.getClientReferenceTime()),Pt=O.getRegularPeriods()[0],Qt=P.calcPresentationTimeFromWallTime(Xe,Pt);N=Qt-Ze}function _e(){return B&&M?M.getTime():null}function J(){return B&&M?M.isPaused():null}function Q(){return B&&M?M.isSeeking():null}function Z(){return B&&M?M.isStalled():null}function te(){return B&&M?M.getPlaybackRate():null}function ee(){return B&&M?M.getEnded():null}function X(){return W}function it(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!J()&&W&&0!==M.getReadyState()&&!Q()&&!he){Ze||(Ze=R.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO);var Xe=_e(),Pt=function vt(Ze,Xe){var Pt=k.getCurrentDVRInfo(Xe),Qt=Pt?Pt.range:null;return Qt?Ze>Qt.end?Math.max(Qt.end-N,Qt.start):Ze>0&&Ze+.25<Qt.start&&Math.abs(Ze-Qt.start)<31536e4?ae?Math.max(Qt.end-N,Qt.start):Qt.start:Ze:NaN}(Xe,Ze);!isNaN(Pt)&&Pt!==Xe&&!Q()&&(Z()||oe||1===M.getReadyState())&&(U.debug("UpdateCurrentTime: Seek to actual time: ".concat(Pt," from currentTime: ").concat(Xe)),Je(Pt,!1,!1))}}function Ht(){null===T&&(T=setInterval(function(){!function Lt(){v.trigger(w.default.WALLCLOCK_TIME_UPDATED,{isDynamic:W,time:new Date}),X()&&(R.addDVRMetric(),J()?function Jt(){var Ze=Date.now();(!le||Ze>le+500)&&(le=Ze,De())}():it())}()},Le.get().streaming.wallclockTimeUpdateInterval))}function It(){clearInterval(T),T=null}function jt(Ze){var Xe=O.convertRepresentationToRepresentationInfo(Ze.currentRepresentation),Pt=Xe?Xe.mediaInfo.streamInfo:null;null===Pt||B.id!==Pt.id||(B=Pt)}function en(){v.trigger(w.default.CAN_PLAY)}function dn(){v.trigger(w.default.CAN_PLAY_THROUGH)}function un(Ze){Ze.streamId===R.getActiveStreamInfo().id&&(oe=Ze.state===D.default.BUFFER_EMPTY,Le.get().streaming.buffer.setStallState&&M.setStallState(Ze.mediaType,Ze.state===D.default.BUFFER_EMPTY))}function Kt(){U.info("Native video element event: play"),it(),Ht(),v.trigger(w.default.PLAYBACK_STARTED,{startTime:_e()})}function Cn(){U.info("Native video element event: waiting"),v.trigger(w.default.PLAYBACK_WAITING,{playingTime:_e()})}function nn(){U.info("Native video element event: playing"),ge=!1,v.trigger(w.default.PLAYBACK_PLAYING,{playingTime:_e()})}function Dt(){U.info("Native video element event: pause"),v.trigger(w.default.PLAYBACK_PAUSED,{ended:ee()})}function ft(){if(!ge){var Ze=_e();!isNaN(K)&&K!==Ze&&(Ze=K),K=NaN,U.info("Seeking to: "+Ze),Ht(),v.trigger(w.default.PLAYBACK_SEEKING,{seekTime:Ze,streamId:B.id})}}function Qe(){U.info("Native video element event: seeked"),ge=!1,v.trigger(w.default.PLAYBACK_SEEKED)}function De(){B&&v.trigger(w.default.PLAYBACK_TIME_UPDATED,{timeToEnd:ke(),time:_e(),streamId:B.id})}function Pe(){v.trigger(w.default.PLAYBACK_PROGRESS,{streamId:B.id})}function Ye(){var Ze=te();U.info("Native video element event: ratechange: ",Ze),v.trigger(w.default.PLAYBACK_RATE_CHANGED,{playbackRate:Ze})}function $e(){U.info("Native video element event: loadedmetadata"),v.trigger(w.default.PLAYBACK_METADATA_LOADED),Ht()}function lt(){U.info("Native video element event: loadeddata"),v.trigger(w.default.PLAYBACK_LOADED_DATA)}function ot(){U.info("Native video element event: ended"),st(),It();var Ze=R?R.getActiveStreamInfo():null;Ze&&v.trigger(w.default.PLAYBACK_ENDED,{isLast:Ze.isLast})}function dt(){v.trigger(w.default.PLAYBACK_VOLUME_CHANGED)}function Ft(Ze){if(T&&Ze.isLast){U.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Xe=Ze.seekTime?Ze.seekTime:we();M.setCurrentTime(Xe),st(),It()}}function $t(Ze){v.trigger(w.default.PLAYBACK_ERROR,{error:(Ze.target||Ze.srcElement).error})}function xn(Ze){if(!1===Ze.stream&&ae&&!isNaN(Ze.request.duration)){var Xe=1.2*Ze.request.duration;Xe>N&&(U.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Xe.toFixed(2)),N=Xe,C=Xe)}}function Ln(Ze){v.trigger(w.default.PLAYBACK_STALLED,{e:Ze})}function Yn(Ze){!function bt(Ze){Ze&&Ze.supplementalProperties&&"true"===Ze.supplementalProperties[t.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(U.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),ae=!0)}(Ze.mediaInfo)}function Vn(Ze){var Xe=R.getActiveStreamInfo();!Ze||!Xe||!Ze.currentRepresentation||!Ze.streamId||Ze.streamId!==Xe.id||!Ze.mediaType||Ze.mediaType!==t.default.VIDEO&&Ze.mediaType!==t.default.AUDIO||(ae=!Ze.currentRepresentation.availabilityTimeComplete)&&!Ce&&(Ce=!0)}function yn(){he=!0}function _n(){he=!1}return A={initialize:function xe(Ze,Xe){B=Ze,!0!==Xe&&function pe(){(function ut(){M.addEventListener("canplay",en),M.addEventListener("canplaythrough",dn),M.addEventListener("play",Kt),M.addEventListener("waiting",Cn),M.addEventListener("playing",nn),M.addEventListener("pause",Dt),M.addEventListener("error",$t),M.addEventListener("seeking",ft),M.addEventListener("seeked",Qe),M.addEventListener("timeupdate",De),M.addEventListener("progress",Pe),M.addEventListener("ratechange",Ye),M.addEventListener("loadedmetadata",$e),M.addEventListener("loadeddata",lt),M.addEventListener("stalled",Ln),M.addEventListener("ended",ot),M.addEventListener("volumechange",dt)})(),W=B.manifestInfo.isDynamic,oe=!1,ge=!1,v.on(w.default.DATA_UPDATE_COMPLETED,jt,A),v.on(w.default.LOADING_PROGRESS,xn,A),v.on(w.default.MANIFEST_UPDATED,yn,A),v.on(w.default.STREAMS_COMPOSED,_n,A),v.on(L.default.PLAYBACK_ENDED,Ft,A,{priority:y.default.EVENT_PRIORITY_HIGH}),v.on(L.default.STREAM_INITIALIZING,Yn,A),v.on(L.default.REPRESENTATION_SWITCH,Vn,A),v.on(L.default.BUFFER_LEVEL_STATE_CHANGED,un,A),q&&(q=!1,Ve())}()},setConfig:function ct(Ze){Ze&&(Ze.streamController&&(R=Ze.streamController),Ze.serviceDescriptionController&&(H=Ze.serviceDescriptionController),Ze.dashMetrics&&(k=Ze.dashMetrics),Ze.adapter&&(O=Ze.adapter),Ze.videoModel&&(M=Ze.videoModel),Ze.timelineConverter&&(P=Ze.timelineConverter),Ze.settings&&(Le=Ze.settings))},getTimeToStreamEnd:ke,getBufferLevel:function cn(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Xe=null;return R.getActiveStreamProcessors().forEach(function(Pt){if(!Ze||0===Ze.length||-1===Ze.indexOf(Pt.getType())){var Qt=Pt.getBufferLevel();Xe=null===Xe?Qt:Math.min(Xe,Qt)}}),Xe},getPlaybackStalled:function Ue(){return oe},getTime:_e,getLowLatencyModeEnabled:function mn(){return ae},getInitialCatchupModeActivated:function ci(){return Ce},getIsManifestUpdateInProgress:function ve(){return he},getPlaybackRate:te,getPlayedRanges:function ie(){return B&&M?M.getPlayedRanges():null},getEnded:ee,getIsDynamic:X,getStreamController:function ue(){return R},computeAndSetLiveDelay:function at(Ze,Xe){var Pt,Qt,In,Yt=!isNaN(Ze)&&isFinite(Ze)?Ze:NaN,on=O.getSuggestedPresentationDelay(),Tn=H.getServiceDescriptionSettings();return Pt=isNaN(Le.get().streaming.delay.liveDelay)?null===Le.get().streaming.delay.liveDelayFragmentCount||isNaN(Le.get().streaming.delay.liveDelayFragmentCount)||isNaN(Yt)?Tn&&!isNaN(Tn.liveDelay)&&Tn.liveDelay>0?Tn.liveDelay:!0===Le.get().streaming.delay.useSuggestedPresentationDelay&&null!==on&&!isNaN(on)&&on>0?on:isNaN(Yt)?Xe&&!isNaN(Xe.minBufferTime)?4*Xe.minBufferTime:4*B.manifestInfo.minBufferTime:4*Yt:Yt*Le.get().streaming.delay.liveDelayFragmentCount:Le.get().streaming.delay.liveDelay,null!==(In=O.getAvailabilityStartTime())&&(Fe=In),Qt=Xe&&Xe.dvrWindowSize>0?Math.min(Pt,Xe.dvrWindowSize):Pt,N=Qt,C=Qt,Qt},getLiveDelay:function Ae(){return N},getOriginalLiveDelay:function We(){return C},getCurrentLiveLatency:function He(){if(!W||isNaN(Fe))return NaN;var Ze=_e();if(isNaN(Ze)||0===Ze)return 0;var Xe=(new Date).getTime()+1e3*P.getClientTimeOffset();return Math.max(((Xe-Fe-1e3*Ze)/1e3).toFixed(3),0)},play:Ve,isPaused:J,isStalled:Z,pause:st,isSeeking:Q,getStreamEndTime:we,seek:Je,seekToOriginalLive:function Ne(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Pt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Qt=Y();0!==Qt&&Je(Qt-(N=C),Ze,Xe,Pt)},seekToCurrentLive:function Te(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Pt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Qt=Y();0!==Qt&&Je(Qt-N,Ze,Xe,Pt)},reset:Re,updateCurrentTime:it,getAvailabilityStartTime:function de(){return Fe}},function fe(){U=Object(F.default)(g).getInstance().getLogger(A),Re()}(),A}f.__dashjs_factory_name="PlaybackController",S.default=E.default.getSingletonFactory(f)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function f(g){g=g||{};var C,B,W,q,le,Fe,$,ae,K,ge,oe,he,Ce,v=this.context,A=Object(w.default)(v).getInstance(),U=g.dashMetrics,R=g.mediaPlayerModel,H=g.fragmentModel,k=g.abrController,O=g.playbackController,M=g.textController,P=g.type,T=g.bufferController,N=g.settings;function Ue(vt){if(!T.getIsBufferingCompleted()){ke();var Ht=isNaN(vt)?0:vt;Fe=setTimeout(Ve,Ht)}}function ke(){Fe&&(clearTimeout(Fe),Fe=null)}function Ve(){try{if(function Je(){try{return P===t.default.TEXT&&!M.isTextEnabled()||O.isPaused()&&(!O.getStreamController().getInitialPlayback()||!O.getStreamController().getAutoPlay())&&!N.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void ke();if(function Ne(){try{return q&&(isNaN(ge)||oe||function we(){var Ht=k.getMaxAllowedIndexFor(P,B.id);return!(!isNaN(K)&&K==Ht||(W.info("Top quality "+P+" index has changed from "+K+" to "+Ht),K=Ht,0))}()||function Te(){return!P||!q||U.getCurrentBufferLevel(P)<Y()}())}catch{return!1}}()){var vt=!1;Ce&&(vt=k.checkPlaybackQuality(P,B.id)),vt||function st(){he||q.quality!==ge||oe?(oe?(W.debug("Switch track for "+P+", representation id = "+q.id),oe=!1):W.debug("Quality has changed, get init request for representationid = "+q.id),A.trigger(E.default.INIT_FRAGMENT_NEEDED,{representationId:q.id,sender:C},{streamId:B.id,mediaType:P}),Ce=!1,he=!1):(W.debug("Media segment needed for ".concat(P," and stream id ").concat(B.id)),A.trigger(E.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:P}),Ce=!0)}()}else Ue(O.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}catch{Ue(O.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}}function Y(){var vt=NaN;return!P||!q||(vt=P===t.default.TEXT?function se(){try{if(M.isTextEnabled()){if(isNaN(q.fragmentDuration)){var vt=U.getCurrentSchedulingInfo(D.default.SCHEDULING_INFO);return vt?vt.duration:0}return q.fragmentDuration}return 0}catch{return 0}}():P===t.default.AUDIO&&$?function _e(){try{var vt=U.getCurrentBufferLevel(t.default.VIDEO);return isNaN(q.fragmentDuration)?vt+1:Math.max(vt+1,q.fragmentDuration)}catch{return 0}}():function J(){try{var vt=q.mediaInfo.streamInfo;return k.isPlayingAtTopQuality(vt)?vt.manifestInfo.duration>=N.get().streaming.buffer.longFormContentDurationThreshold?N.get().streaming.buffer.bufferTimeAtTopQualityLongForm:N.get().streaming.buffer.bufferTimeAtTopQuality:R.getStableBufferTime()}catch{return R.getStableBufferTime()}}()),vt}function te(){ie(!0)}function ie(vt){if(O&&H){var Ht=H.getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,time:O.getTime(),threshold:0})[0];Ht&&O.getTime()>=Ht.startTime&&((!ae.mediaInfo||Ht.mediaInfo.type===ae.mediaInfo.type&&Ht.mediaInfo.id!==ae.mediaInfo.id)&&vt&&A.trigger(E.default.TRACK_CHANGE_RENDERED,{mediaType:P,oldMediaInfo:ae.mediaInfo,newMediaInfo:Ht.mediaInfo,streamId:B.id}),(Ht.quality!==ae.quality||Ht.adaptationIndex!==ae.adaptationIndex)&&vt&&(W.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(P)),A.trigger(E.default.QUALITY_CHANGE_RENDERED,{mediaType:P,oldQuality:ae.quality,newQuality:Ht.quality,streamId:B.id})),ae={mediaInfo:Ht.mediaInfo,quality:Ht.quality,adaptationIndex:Ht.adaptationIndex})}}function ee(vt){W.debug("Appended bytes for ".concat(vt.mediaType," and stream id ").concat(B.id)),(isNaN(vt.index)||isNaN(ge))&&(ge=vt.quality,W.info("["+P+"] lastInitializedRepresentationInfo changed to "+vt.quality)),Ue(0)}function X(){H.abortRequests(),ke()}function ue(){N.get().streaming.scheduling.scheduleWhilePaused||Ue()}function ve(vt){U.updatePlayListTraceMetrics({playbackspeed:vt.playbackRate.toString()})}function at(){Ce=!0,le=0,ge=NaN,ae={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},K=NaN,oe=!1,he=!1}return C={initialize:function fe(vt){$=vt,A.on(E.default.BYTES_APPENDED_END_FRAGMENT,ee,C),A.on(E.default.URL_RESOLUTION_FAILED,X,C),A.on(p.default.PLAYBACK_STARTED,ue,C),A.on(p.default.PLAYBACK_RATE_CHANGED,ve,C),A.on(p.default.PLAYBACK_TIME_UPDATED,te,C)},getType:function Re(){return P},getStreamId:function xe(){return B.id},setCurrentRepresentation:function pe(vt){q=vt},setTimeToLoadDelay:function de(vt){le=vt},getTimeToLoadDelay:function Ae(){return le},setSwitchTrack:function Q(vt){oe=vt},getSwitchStrack:function Z(){return oe},startScheduleTimer:Ue,clearScheduleTimer:ke,reset:function ct(){A.off(E.default.BYTES_APPENDED_END_FRAGMENT,ee,C),A.off(E.default.URL_RESOLUTION_FAILED,X,C),A.off(p.default.PLAYBACK_STARTED,ue,C),A.off(p.default.PLAYBACK_RATE_CHANGED,ve,C),A.off(p.default.PLAYBACK_TIME_UPDATED,te,C),ke(),ie(!1),at(),B=null},getBufferTarget:Y,getPlaybackController:function it(){return O},setCheckPlaybackQuality:function We(vt){Ce=vt},setInitSegmentRequired:function He(vt){he=vt}},function Le(){W=Object(L.default)(v).getInstance().getLogger(C),at(),B=g.streamInfo}(),C}f.__dashjs_factory_name="ScheduleController",S.default=F.default.getClassFactory(f)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=c(
/*! ../Stream */
"./src/streaming/Stream.js"),E=c(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),f=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),v=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),A=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),U=c(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),R=c(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),H=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),O=c(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),M=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function P($){return function B($){if(Array.isArray($))return W($)}($)||function C($){if(typeof Symbol<"u"&&null!=$[Symbol.iterator]||null!=$["@@iterator"])return Array.from($)}($)||function N($,ae){if($){if("string"==typeof $)return W($,ae);var K=Object.prototype.toString.call($).slice(8,-1);if("Object"===K&&$.constructor&&(K=$.constructor.name),"Map"===K||"Set"===K)return Array.from($);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return W($,ae)}}($)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W($,ae){(null==ae||ae>$.length)&&(ae=$.length);for(var K=0,ge=new Array(ae);K<ae;K++)ge[K]=$[K];return ge}function Fe(){var K,ge,oe,he,Ce,Le,fe,Re,xe,pe,Ue,ke,we,Ve,st,Je,Ne,Te,Y,se,_e,J,Q,Z,te,ie,ee,X,ue,ve,de,Ae,We,He,at,ct,it,vt,Ht,It,jt,en,dn,un,Kt,Cn,nn,Dt,ft,$=this.context,ae=Object(F.default)($).getInstance();function $e(){if(!(Le&&Le.hasOwnProperty("load")&&J&&J.hasOwnProperty("initialize")&&J.hasOwnProperty("reset")&&J.hasOwnProperty("getClientTimeOffset")&&fe&&_e&&xe&&He))throw new Error(t.default.MISSING_CONFIG_ERROR)}function Ft(){!function Lt(){try{var qt=Re.getStreamsInfo();if(!Z&&0===qt.length)throw new Error("There are no periods in the MPD");Z&&qt.length>0&&xe.updateManifestUpdateInfo({currentTime:He.getTime(),buffered:We.getBufferRange(),presentationStartTime:qt[0].start,clientTimeOffset:J.getClientTimeOffset()}),Q.length>0&&function Hi(qt){0!==qt.length?Q=Q.filter(function(Pn){var Kn=qt.filter(function(vi){return vi.id===Pn.getId()}).length>0||Pn.getId()===Z.getId();return Kn||(ge.debug("Removing stream ".concat(Pn.getId())),Pn.reset(!0)),Kn}):ge.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(qt);for(var Pn=[],Xn=0,Kn=qt.length;Xn<Kn;Xn++){var vi=qt[Xn];Pn.push(Jt(vi)),xe.addManifestUpdateStreamInfo(vi)}Promise.all(Pn).then(function(){return Kt.get().streaming.applyContentSteering&&!Z&&ke.shouldQueryBeforeStart()?ke.loadSteeringData():Promise.resolve()}).then(function(){Z||cn(qt),ae.trigger(L.default.STREAMS_COMPOSED),Tn()}).catch(function(Oi){throw Oi})}catch(Oi){_e.error(new H.default(k.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Oi.message+" nostreamscomposed",fe.getValue())),de=!0,ro()}}()}function $t(){Cn=!0}function Jt(qt){var Pn=On(qt.id);return Pn?Pn.updateData(qt):(Pn=Object(w.default)($).create({manifestModel:fe,mediaPlayerModel:ct,dashMetrics:xe,manifestUpdater:Ce,adapter:Re,timelineConverter:J,capabilities:oe,capabilitiesFilter:he,errHandler:_e,baseURLController:we,segmentBaseController:Ve,textController:ie,abrController:Je,playbackController:He,eventController:Te,mediaController:Ne,protectionController:te,videoModel:We,streamInfo:qt,settings:Kt}),Q.push(Pn),Pn.initialize(),Promise.resolve())}function cn(qt){Xe();var Pn=xe.getCurrentDVRInfo().range;if(Pn.end<Pn.start){nn&&clearTimeout(nn);var Xn=Math.min(1e3*(-1*(Pn.end-Pn.start)+2),2147483647);return ge.debug("Waiting for ".concat(Xn," ms before playback can start")),ae.trigger(L.default.AST_IN_FUTURE,{delay:Xn}),void(nn=setTimeout(function(){cn(qt)},Xn))}Kt.get().streaming.applyProducerReferenceTime&&at.calculateProducerReferenceTimeOffsets(qt);var Kn=qt[0].manifestInfo;if(Kt.get().streaming.applyServiceDescription&&at.applyServiceDescription(Kn),Re.getIsDynamic()){var vi=Wr(qt,Kn);He.computeAndSetLiveDelay(vi,Kn)}var Oi=function Li(){var qt;if(Re.getIsDynamic()){var Xn=xe.getCurrentDVRInfo();qt=(Xn&&Xn.range?Xn.range.end:0)-He.getOriginalLiveDelay();var vi=Xn?Xn.range:null;if(vi){if(isNaN(Dt)&&-1===Dt.toString().indexOf("posix:")){var Ui=pr(!0);isNaN(Ui)||(ge.info("Start time from URI parameters: ".concat(Ui)),qt=Math.min(qt,Ui))}else{ge.info("Start time provided by the app: ".concat(Dt));var Oi=vr(!0,Dt);isNaN(Oi)||(qt=Math.min(qt,Oi))}var Ri=Kt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;qt=Math.max(qt,vi.start+Ri)}}else if(qt=Rr()[0].getStreamInfo().start,isNaN(Dt)){var po=pr(!1);isNaN(po)||(ge.info("Start time from URI parameters: ".concat(po)),qt=Math.max(qt,po))}else{ge.info("Start time provided by the app: ".concat(Dt));var oo=vr(!1,Dt);isNaN(oo)||(qt=Math.max(qt,oo))}return qt}(),Ui=Ze(Oi),Ri=null!==Ui?Ui:Q[0];ae.trigger(L.default.INITIAL_STREAM_SWITCH,{startTime:Oi}),mn(Ri,null,Oi),function Un(){jt||(jt=setInterval(function(){!ue&&He.getTimeToStreamEnd()<=0&&!He.isSeeking()&&ae.trigger(L.default.PLAYBACK_ENDED,{isLast:Hr().isLast})},200))}()}function mn(qt,Pn,Xn){try{if(ue||!qt||Pn===qt&&qt.getIsActive())return;ue=!0,ae.trigger(L.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:Pn?Pn.getStreamInfo():null,toStreamInfo:qt.getStreamInfo()});var Kn=!1;Z=qt,Pn&&(Kn=ut(qt,Pn),Pn.deactivate(Kn)),Xn=isNaN(Xn)?!Kn&&Pn?qt.getStreamInfo().start:NaN:Xn,ge.info("Switch to stream ".concat(qt.getId(),". Seektime is ").concat(Xn,", current playback time is ").concat(He.getTime(),". Seamless period switch is set to ").concat(Kn)),dn=dn.filter(function(vi){return vi.getId()!==Z.getId()}),He.initialize(Hr(),!!Pn),We.getElement()&&xn(Xn,Kn)}catch{ue=!1}}function xn(qt,Pn){var Xn;function Kn(){if(Ae&&"open"===Ae.readyState){ge.debug("MediaSource is open!"),window.URL.revokeObjectURL(Xn),Ae.removeEventListener("sourceopen",Kn),Ae.removeEventListener("webkitsourceopen",Kn),kt();var Oi=xe.getCurrentDVRInfo();pe.setSeekable(Oi.range.start,Oi.range.end),Ln(qt,Pn)}}function vi(){Ae.addEventListener("sourceopen",Kn,!1),Ae.addEventListener("webkitsourceopen",Kn,!1),Xn=pe.attachMediaSource(We),ge.debug("MediaSource attached to element.  Waiting on open...")}Ae?Pn?Ln(qt,Pn):(pe.detachMediaSource(We),vi()):(Ae=pe.createMediaSource(),vi())}function Ln(qt,Pn){Z.activate(Ae,Pn?en:void 0,qt).then(function(Xn){if(Xn){var Kn=Object.keys(Xn);Kn.length>0&&Xn[Kn[0]].getBuffer().changeType&&(un=!0),en=Xn}isNaN(qt)||(ae.trigger(L.default.SEEK_TARGET,{time:qt},{streamId:Z.getId()}),He.seek(qt,!1,!0),Z.startScheduleControllers()),ue=!1,ae.trigger(L.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Hr()})})}function Yn(qt){var Xn=Ze(qt.seekTime);Xn&&Xn!==Z?Xn&&Xn!==Z&&(Vn(),function _n(qt,Pn){var Xn=qt&&!isNaN(qt.seekTime)?qt.seekTime:NaN,vi=Z.getProcessors().map(function(Oi){return Oi.prepareOuterPeriodPlaybackSeeking(qt)});Promise.all(vi).then(function(){mn(Pn,Z,Xn)}).catch(function(Oi){_e.error(Oi)})}(qt,Xn)):(Vn(),function yn(qt){Z.getProcessors().forEach(function(Xn){return Xn.prepareInnerPeriodPlaybackSeeking(qt)}),Yr(p.PlayListTrace.USER_REQUEST_STOP_REASON)}(qt)),Ji(p.PlayList.SEEK_START_REASON)}function Vn(){ci()}function ci(){dn&&dn.length>0&&(dn.forEach(function(qt){qt.deactivate(!0)}),dn=[])}function bt(qt){qt.newMediaInfo.streamInfo.id===Z.getId()&&(ci(),Z.prepareTrackChange(qt))}function ut(qt,Pn){try{return Kt.get().streaming.buffer.reuseExistingSourceBuffers&&(Pn.isProtectionCompatible(qt)||Cn)&&(un||Pn.isMediaCodecCompatible(qt,Pn))}catch{return!1}}function tn(qt){var Pn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ae&&!qt.getPreloaded()&&ut(qt,Pn)&&qt.startPreloading(Ae,en).then(function(){dn.push(qt)})}function Ze(qt){if(isNaN(qt))return null;for(var Pn=Q.length,Xn=0;Xn<Pn;Xn++){var Kn=Q[Xn];if(qt<parseFloat((Kn.getStartTime()+Kn.getDuration()).toFixed(5)))return Kn}return null}function Xe(){try{var qt=Re.getIsDynamic(),Xn=Re.getStreamsInfo()[0].manifestInfo,Kn=He.getTime(),vi=J.calcTimeShiftBufferWindow(Q,qt),Oi=fn();if(typeof vi.start>"u"||typeof vi.end>"u")return;Oi&&0!==Oi.length?Oi.forEach(function(Ui){xe.addDVRInfo(Ui.getType(),Kn,Xn,vi)}):xe.addDVRInfo(t.default.VIDEO,Kn,Xn,vi)}catch{}}function Pt(qt){if(Ht&&X){var Pn=ct.getInitialBufferLevel(),Xn=[t.default.TEXT];(isNaN(Pn)||Pn<=He.getBufferLevel(Xn)||Re.getIsDynamic()&&Pn>He.getLiveDelay())&&(Ht=!1,Ji(p.PlayList.INITIAL_PLAYOUT_START_REASON),He.play())}qt&&qt.mediaType&&xe.addBufferLevel(qt.mediaType,new Date,1e3*qt.bufferLevel)}function Qt(qt){qt.streamInfo.id===Z.getId()&&qt.reason&&qt.reason.forceReplace&&ci(),On(qt.streamInfo.id).prepareQualityChange(qt)}function In(){if(Re.getIsDynamic()&&0!==He.getOriginalLiveDelay()&&Z){var qt=Re.getStreamsInfo();if(qt.length>0){var Pn=qt[0].manifestInfo,Xn=Wr(qt,Pn);He.computeAndSetLiveDelay(Xn,Pn)}}}function Fn(){if(xi()){var qt=We.getPlaybackQuality();qt&&xe.addDroppedFrames(qt)}}function Zt(){ge.debug("[onPlaybackStarted]"),!Ht&&vt&&Ji(p.PlayList.RESUME_FROM_PAUSE_START_REASON),Ht&&(Ht=!1),It&&(It=!1,Kt.get().streaming.applyContentSteering&&!ke.shouldQueryBeforeStart()&&ke.loadSteeringData()),vt=!1}function Yt(qt){ge.debug("[onPlaybackPaused]"),qt.ended||(vt=!0,Yr(p.PlayListTrace.USER_REQUEST_STOP_REASON))}function on(qt){ge.debug("Stream with id ".concat(qt.streamInfo.id," finished buffering")),Ae&&qt.streamInfo.isLast?(ge.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),pe.signalEndOfStream(Ae)):Tn()}function Tn(){if(Z&&Z.getHasFinishedBuffering())for(var qt=function gt(){var qt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var Pn=qt||Z||null;if(Pn){var Xn=Pn.getStreamInfo();return Q.filter(function(Kn){var vi=Kn.getStreamInfo();return vi.start>Xn.start&&Xn.id!==vi.id})}}catch{return[]}}(Z),Pn=0;Pn<qt.length;){var Xn=qt[Pn],Kn=0===Pn?Z:qt[Pn-1];!Xn.getPreloaded()&&Kn.getHasFinishedBuffering()&&Ae&&tn(Xn,Kn),Pn+=1}}function ei(){jt&&(clearInterval(jt),jt=null)}function fn(){return Z?Z.getProcessors():[]}function be(qt){if(Z&&!Z.getIsEndedEventSignaled()){Z.setIsEndedEventSignaled(!0);var Pn=function yt(){var Pn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||Z||null;if(!Pn)return null;for(var Xn=Pn.getStreamInfo(),Kn=Xn.start,vi=0,Oi=-1,Ui=NaN;vi<Q.length;){var yr=Q[vi].getStreamInfo(),wr=yr.start-Kn;wr>0&&(isNaN(Ui)||wr<Ui)&&Xn.id!==yr.id&&(Ui=wr,Oi=vi),vi+=1}return Oi>=0?Q[Oi]:null}();Pn?(ge.debug("StreamController onEnded, found next stream with id ".concat(Pn.getStreamInfo().id,". Switching from ").concat(Z.getStreamInfo().id," to ").concat(Pn.getStreamInfo().id)),mn(Pn,Z,NaN)):(ge.debug("StreamController no next stream found"),Z.setIsEndedEventSignaled(!1)),Yr(Pn?p.PlayListTrace.END_OF_PERIOD_STOP_REASON:p.PlayListTrace.END_OF_CONTENT_STOP_REASON)}qt&&qt.isLast&&(ei(),ke.stopSteeringRequestTimer())}function kt(qt){var Pn=qt||Hr().manifestInfo.duration;pe.setDuration(Pn)}function pr(qt){var Pn=st.getURIFragmentData();if(!Pn||!Pn.t)return NaN;var Kn=Rr()[0].getStreamInfo().start;return Pn.t=Pn.t.split(",")[0],mo(qt,Pn.t,Kn)}function vr(qt,Pn){var Xn=0;return qt||(Xn=Rr()[0].getStreamInfo().start),mo(qt,Pn,Xn)}function mo(qt,Pn,Xn){var Kn=Re.getRegularPeriods()[0],vi=Pn.toString(),Oi=-1!==vi.indexOf("posix:")?"now"===vi.substring(6)?Date.now()/1e3:parseFloat(vi.substring(6)):NaN;return qt&&!isNaN(Oi)?J.calcPresentationTimeFromWallTime(new Date(1e3*Oi),Kn):parseFloat(vi)+Xn}function Wr(qt,Pn){try{var Xn=NaN;if(Pn&&!isNaN(Pn.maxFragmentDuration)&&isFinite(Pn.maxFragmentDuration))return Pn.maxFragmentDuration;if(qt&&1===qt.length){var Kn=qt[0],Oi=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT].reduce(function(Ui,Ri){var yr=Re.getMediaInfoForType(Kn,Ri);return yr&&!1!==yr.isFragmented&&Ui.push(yr),Ui},[]).reduce(function(Ui,Ri){var yr=Re.getVoRepresentations(Ri);return yr&&yr.length>0&&yr.forEach(function(wr){wr&&Ui.push(wr)}),Ui},[]).reduce(function(Ui,Ri){var yr=Re.convertRepresentationToRepresentationInfo(Ri);return yr&&yr.fragmentDuration&&!isNaN(yr.fragmentDuration)&&Ui.push(yr.fragmentDuration),Ui},[]);Xn=Math.max.apply(Math,P(Oi))}return isFinite(Xn)?Xn:NaN}catch{return NaN}}function Bo(qt){if(qt.error)de=!0,ro();else{ge.info("Manifest updated... updating data system wide.");var Pn=qt.manifest;Re.updatePeriods(Pn);var Xn=Re.getUTCTimingSources();Re.getIsDynamic()&&(!Xn||0===Xn.length)&&ae.trigger(A.default.CONFORMANCE_VIOLATION,{level:M.default.LEVELS.WARNING,event:M.default.EVENTS.NO_UTC_TIMING_ELEMENT});var Kn=Re.getIsDynamic()?Xn.concat(it.getUTCTimingSources()):Xn,vi=se.isHTTPS(qt.manifest.url);Kn.forEach(function(Oi){Oi.value.replace(/.*?:\/\//g,"")===Kt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(Oi.value=Oi.value.replace(vi?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),vi?"https://":"http://"),ge.debug("Matching default timing source protocol to manifest protocol: ",Oi.value))}),he.filterUnsupportedFeatures(Pn).then(function(){we.initialize(Pn),Ue.attemptSync(Kn,Re.getIsDynamic())})}}function xi(){return!!Z&&Z.getHasVideoTrack()}function Dr(){return!!Z&&Z.getHasAudioTrack()}function Yr(qt,Pn){Pn=Pn||new Date,fn().forEach(function(Xn){Xn.finalisePlayList(Pn,qt)}),xe.addPlayList()}function Ji(qt){xe.createPlaylistMetrics(1e3*He.getTime(),qt)}function Xo(qt){if(qt.error){var Pn="";switch(qt.error.code){case 1:Pn="MEDIA_ERR_ABORTED";break;case 2:Pn="MEDIA_ERR_NETWORK";break;case 3:Pn="MEDIA_ERR_DECODE",ft.counts.mediaErrorDecode+=1;break;case 4:Pn="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Pn="MEDIA_ERR_ENCRYPTED";break;default:Pn="UNKNOWN"}if("MEDIA_ERR_DECODE"===Pn&&Kt.get().errors.recoverAttempts.mediaErrorDecode>=ft.counts.mediaErrorDecode)return void function Ao(){ge.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var qt=He.getTime();Z.deactivate(!1),ge.warn("MediaSource has been resetted. Resuming playback from time ".concat(qt)),xn(qt,!1)}();ve=!0,qt.error.message&&(Pn+=" ("+qt.error.message+")"),qt.error.msExtendedCode&&(Pn+=" (0x"+(qt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),ge.fatal("Video Element Error: "+Pn),qt.error&&ge.fatal(qt.error),_e.error(new H.default(qt.error.code,Pn)),ro()}}function Hr(){return Z?Z.getStreamInfo():null}function On(qt){for(var Pn=0,Xn=Q.length;Pn<Xn;Pn++)if(Q[Pn].getId()===qt)return Q[Pn];return null}function oi(qt){isNaN(qt.newDuration)||kt(qt.newDuration)}function zi(){Q=[],Dt=NaN,te=null,ue=!1,Z=null,ve=!1,de=!1,Ht=!0,It=!0,vt=!1,X=!0,jt=null,Cn=!1,un=!1,dn=[],nn=null,ft={counts:{mediaErrorDecode:0}}}function ro(){$e(),Ue.reset(),Yr(ve||de?p.PlayListTrace.FAILURE_STOP_REASON:p.PlayListTrace.USER_REQUEST_STOP_REASON);for(var qt=0,Pn=Q?Q.length:0;qt<Pn;qt++)Q[qt].reset(ve);(function Ye(){ae.off(A.default.PLAYBACK_TIME_UPDATED,Fn,K),ae.off(A.default.PLAYBACK_SEEKING,Yn,K),ae.off(A.default.PLAYBACK_ERROR,Xo,K),ae.off(A.default.PLAYBACK_STARTED,Zt,K),ae.off(A.default.PLAYBACK_PAUSED,Yt,K),ae.off(A.default.PLAYBACK_ENDED,be,K),ae.off(A.default.METRIC_ADDED,xr,K),ae.off(A.default.MANIFEST_VALIDITY_CHANGED,oi,K),ae.off(A.default.BUFFER_LEVEL_UPDATED,Pt,K),ae.off(A.default.QUALITY_CHANGE_REQUESTED,Qt,K),L.default.KEY_SESSION_UPDATED&&ae.off(L.default.KEY_SESSION_UPDATED,$t,K),ae.off(L.default.MANIFEST_UPDATED,Bo,K),ae.off(L.default.STREAM_BUFFERING_COMPLETED,on,K),ae.off(L.default.TIME_SYNCHRONIZATION_COMPLETED,Ft,K),ae.off(L.default.CURRENT_TRACK_CHANGED,bt,K),ae.off(L.default.SETTING_UPDATED_LIVE_DELAY,In,K),ae.off(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,In,K)})(),we.reset(),Ce.reset(),Te.reset(),xe.clearAllCurrentMetrics(),fe.setValue(null),Le.reset(),J.reset(),Y.reset(),Ae&&(pe.detachMediaSource(We),Ae=null),We=null,te&&(te=null,ee=null,fe.getValue()&&ae.trigger(L.default.PROTECTION_DESTROYED,{data:fe.getValue().url})),ei(),ae.trigger(L.default.STREAM_TEARDOWN_COMPLETE),zi()}function xr(qt){if(qt.metric===y.default.DVR_INFO){var Pn=Dr()?t.default.AUDIO:t.default.VIDEO;qt.mediaType===Pn&&pe.setSeekable(qt.value.range.start,qt.value.range.end)}}function Rr(){return Q}return K={initialize:function De(qt,Pn){$e(),X=qt,ee=Pn,J.initialize(),(Ce=Object(E.default)($).create()).setConfig({manifestModel:fe,adapter:Re,manifestLoader:Le,errHandler:_e,settings:Kt}),Ce.initialize(),(Te=Object(O.default)($).getInstance()).setConfig({manifestUpdater:Ce,playbackController:He,settings:Kt}),Te.start(),Ue.setConfig({dashMetrics:xe,baseURLController:we,errHandler:_e,settings:Kt}),Ue.initialize(),te&&(ae.trigger(L.default.PROTECTION_CREATED,{controller:te}),te.setMediaElement(We.getElement()),ee&&te.setProtectionData(ee)),function Pe(){ae.on(A.default.PLAYBACK_TIME_UPDATED,Fn,K),ae.on(A.default.PLAYBACK_SEEKING,Yn,K),ae.on(A.default.PLAYBACK_ERROR,Xo,K),ae.on(A.default.PLAYBACK_STARTED,Zt,K),ae.on(A.default.PLAYBACK_PAUSED,Yt,K),ae.on(A.default.PLAYBACK_ENDED,be,K),ae.on(A.default.METRIC_ADDED,xr,K),ae.on(A.default.MANIFEST_VALIDITY_CHANGED,oi,K),ae.on(A.default.BUFFER_LEVEL_UPDATED,Pt,K),ae.on(A.default.QUALITY_CHANGE_REQUESTED,Qt,K),L.default.KEY_SESSION_UPDATED&&ae.on(L.default.KEY_SESSION_UPDATED,$t,K),ae.on(L.default.MANIFEST_UPDATED,Bo,K),ae.on(L.default.STREAM_BUFFERING_COMPLETED,on,K),ae.on(L.default.TIME_SYNCHRONIZATION_COMPLETED,Ft,K),ae.on(L.default.CURRENT_TRACK_CHANGED,bt,K),ae.on(L.default.SETTING_UPDATED_LIVE_DELAY,In,K),ae.on(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,In,K)}()},getActiveStreamInfo:Hr,addDVRMetric:Xe,hasVideoTrack:xi,hasAudioTrack:Dr,getStreamById:On,getStreamForTime:Ze,getTimeRelativeToStreamId:function Et(qt,Pn){for(var Xn=null,Kn=0,vi=0,Oi=null,Ui=0;Ui<Q.length;Ui++){if(vi=(Xn=Q[Ui]).getStartTime(),Oi=Xn.getDuration(),Number.isFinite(vi)&&(Kn=vi),Xn.getId()===Pn)return qt-Kn;Number.isFinite(Oi)&&(Kn+=Oi)}return null},load:function ot(qt){var Pn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;$e(),Dt=Pn,Le.load(qt)},loadWithManifest:function dt(qt){var Pn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function lt(){if(!Ce||!Ce.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Dt=Pn,Ce.setManifest(qt)},getActiveStreamProcessors:fn,setConfig:function ki(qt){qt&&(qt.capabilities&&(oe=qt.capabilities),qt.capabilitiesFilter&&(he=qt.capabilitiesFilter),qt.manifestLoader&&(Le=qt.manifestLoader),qt.manifestModel&&(fe=qt.manifestModel),qt.mediaPlayerModel&&(ct=qt.mediaPlayerModel),qt.customParametersModel&&(it=qt.customParametersModel),qt.protectionController&&(te=qt.protectionController),qt.adapter&&(Re=qt.adapter),qt.dashMetrics&&(xe=qt.dashMetrics),qt.errHandler&&(_e=qt.errHandler),qt.timelineConverter&&(J=qt.timelineConverter),qt.videoModel&&(We=qt.videoModel),qt.playbackController&&(He=qt.playbackController),qt.serviceDescriptionController&&(at=qt.serviceDescriptionController),qt.contentSteeringController&&(ke=qt.contentSteeringController),qt.textController&&(ie=qt.textController),qt.abrController&&(Je=qt.abrController),qt.mediaController&&(Ne=qt.mediaController),qt.settings&&(Kt=qt.settings),qt.baseURLController&&(we=qt.baseURLController),qt.uriFragmentModel&&(st=qt.uriFragmentModel),qt.segmentBaseController&&(Ve=qt.segmentBaseController))},setProtectionData:function wi(qt){ee=qt,te&&te.setProtectionData(ee)},getIsStreamSwitchInProgress:function zr(){return ue},switchToVideoElement:function qi(qt){Z&&(He.initialize(Hr()),xn(qt,!1))},getHasMediaOrInitialisationError:function Ro(){return ve||de},getStreams:Rr,getActiveStream:function an(){return Z},getInitialPlayback:function ti(){return Ht},getAutoPlay:function hi(){return X},reset:ro},function Qe(){ge=Object(f.default)($).getInstance().getLogger(K),Ue=Object(U.default)($).getInstance(),pe=Object(R.default)($).getInstance(),Y=Object(g.default)($).getInstance(),se=Object(v.default)($).getInstance(),zi()}(),K}Fe.__dashjs_factory_name="StreamController",S.default=D.default.getSingletonFactory(Fe)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function O(){var C,B,W,q,le,Fe,$,ae,K,ge,oe,he,Ce,Le,fe,Re,P=this.context,T=Object(w.default)(P).getInstance(),N=Object(p.default)(P).getInstance();function Ue(){ae=[],K=[],ge=null,oe=null,Ce=null,he=NaN,W=!1,q=!1,Le=le.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function Ve(){!le.get().streaming.utcSynchronization.enabled||W||q||!Ce||!Ce.value||!Ce.schemeIdUri||isNaN(he)||isNaN(le.get().streaming.utcSynchronization.backgroundAttempts)||oe&&(Date.now()-oe)/1e3<30||(ae=[],q=!0,st(isNaN(le.get().streaming.utcSynchronization.backgroundAttempts)?2:le.get().streaming.utcSynchronization.backgroundAttempts))}function st(He){try{if(He<=0)return void de();var at=Date.now();Fe[Ce.schemeIdUri](Ce.value,function(ct){var it=Date.now(),vt=Ne(at,it,ct);ae.push(vt),st(He-1)},function(){de()})}catch{de()}}function Je(){var at=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!K||0===K.length||at>=K.length)Y();else{var ct=K[at];if(ct)if(Fe.hasOwnProperty(ct.schemeIdUri)){var it=(new Date).getTime();Fe[ct.schemeIdUri](ct.value,function(vt){var Ht=(new Date).getTime(),It=Ne(it,Ht,vt);Ce=ct,Y(It)},function(){Je(at+1)})}else Je(at+1);else Y()}}function Ne(He,at,ct){return ct-(at-(at-He)/2)}function Y(){var He=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,at=isNaN(He);at&&le.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function X(){var He=$.getLatestMPDRequestHeaderValueByID("Date"),at=null!==He?new Date(He).getTime():Number.NaN;isNaN(at)?ue(!0):ue(!1,at-Date.now())}():ue(at,He)}function _e(He){var at=Date.parse(He);return isNaN(at)&&(at=function se(He){var Ht,It,jt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(He);return Ht=Date.UTC(parseInt(jt[1],10),parseInt(jt[2],10)-1,parseInt(jt[3],10),parseInt(jt[4],10),parseInt(jt[5],10),jt[6]&&(parseInt(jt[6],10)||0),jt[7]&&1e3*parseFloat(jt[7])||0),jt[9]&&jt[10]&&(It=60*parseInt(jt[9],10)+parseInt(jt[10],10),Ht+=("+"===jt[8]?-1:1)*It*60*1e3),new Date(Ht).getTime()}(He)),at}function J(He){return Date.parse(He)}function Q(He){return Date.parse(He)}function Z(He,at,ct){ct()}function te(He,at,ct){var it=_e(He);isNaN(it)?ct():at(it)}function ie(He,at,ct,it,vt){var Ht,It,jt=!1,en=new XMLHttpRequest,dn=vt?y.HTTPRequest.HEAD:y.HTTPRequest.GET,un=at.match(/\S+/g);if(at=un.shift(),Ht=function(){jt||(jt=!0,un.length?ie(He,un.join(" "),ct,it,vt):it())},It=function(){var nn,Dt;200===en.status&&(nn=vt?en.getResponseHeader("Date"):en.response,Dt=He(nn),isNaN(Dt)||(ct(Dt),jt=!0))},N.isRelative(at)){var Kt=Re.resolve();Kt&&(at=N.resolve(at,Kt.url))}en.open(dn,at),en.timeout=5e3,en.onload=It,en.onloadend=Ht,en.send()}function ee(He,at,ct){ie(Q,He,at,ct,!0)}function ue(He,at){if(!isNaN(he)&&!isNaN(at)&&!He&&function ve(He){try{var It,at=Ae(He),ct=isNaN(Le)?30:Le,it=isNaN(le.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:le.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,vt=isNaN(le.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:le.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Ht=isNaN(le.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:le.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;at?(It=Math.min(ct*it,vt),B.debug("Increasing timeBetweenSyncAttempts to ".concat(It))):(It=Math.max(ct/it,Ht),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(It))),Le=It}catch{}}(at),!He&&!isNaN(at)){ge=Date.now(),W=!1;var ct=isNaN(he);he=at,ct&&Ve(),B.debug("Completed UTC sync. Setting client - server offset to ".concat(at))}He&&(Ce=null,W=!1,fe.error(new t.default(F.default.TIME_SYNC_FAILED_ERROR_CODE,F.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),T.trigger(E.default.UPDATE_TIME_SYNC_OFFSET,{offset:at}),T.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED)}function de(){if(ae&&0!==ae.length){var He=ae.reduce(function(at,ct){return at+ct},0)/ae.length;Ae(He)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(He)),T.trigger(E.default.UPDATE_TIME_SYNC_OFFSET,{offset:he=He})),q=!1,oe=Date.now()}}function Ae(He){try{if(isNaN(he))return!0;var at=le.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(le.get().streaming.utcSynchronization.maximumAllowedDrift)?le.get().streaming.utcSynchronization.maximumAllowedDrift:100;return He>=he-at&&He<=he+at}catch{return!0}}return C={initialize:function ke(){Ue(),Fe={"urn:mpeg:dash:utc:http-head:2014":ee,"urn:mpeg:dash:utc:http-xsdate:2014":ie.bind(null,_e),"urn:mpeg:dash:utc:http-iso:2014":ie.bind(null,J),"urn:mpeg:dash:utc:direct:2014":te,"urn:mpeg:dash:utc:http-head:2012":ee,"urn:mpeg:dash:utc:http-xsdate:2012":ie.bind(null,_e),"urn:mpeg:dash:utc:http-iso:2012":ie.bind(null,J),"urn:mpeg:dash:utc:direct:2012":te,"urn:mpeg:dash:utc:http-ntp:2014":Z,"urn:mpeg:dash:utc:ntp:2014":Z,"urn:mpeg:dash:utc:sntp:2014":Z}},attemptSync:function we(He,at){if(K=He,!W){if(!function Te(He){try{if(!He||!le.get().streaming.utcSynchronization.enabled)return!1;var at=isNaN(Le)?30:Le;return!(ge&&at&&!isNaN(at))||(Date.now()-ge)/1e3>=at}catch{return!0}}(at))return void T.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED);W=!0,Je()}},setConfig:function pe(He){He&&(He.dashMetrics&&($=He.dashMetrics),He.baseURLController&&(Re=He.baseURLController),He.errHandler&&(fe=He.errHandler),He.settings&&(le=He.settings))},reset:function We(){Ue(),T.off(E.default.ATTEMPT_BACKGROUND_SYNC,Ve,C)}},function xe(){B=Object(D.default)(P).getInstance().getLogger(C),T.on(E.default.ATTEMPT_BACKGROUND_SYNC,Ve,C)}(),C}O.__dashjs_factory_name="TimeSyncController";var M=L.default.getSingletonFactory(O);M.HTTP_TIMEOUT_MS=5e3,L.default.updateSingletonFactory(O.__dashjs_factory_name,M),S.default=M},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),L=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),D=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p="onLoad";function v(A){A=A||{};var k,O,M,P,T,N,U=this.context,R=Object(y.default)(U).getInstance(),H=Object(L.default)(U).getInstance();function Fe(Le,fe,Re){var pe,Ue,xe={};xe.elements=Le,xe.type=fe,xe.resolveType=Re,0===xe.elements.length&&ae(xe);for(var ke=0;ke<xe.elements.length;ke++)Ue=H.isHTTPURL((pe=xe.elements[ke]).url)?pe.url:pe.originalContent.BaseURL+pe.url,N.load(Ue,pe,xe)}function $(Le){var fe,Re,Ue="";if(Re=Le.resolveObject,(fe=Le.element).resolvedContent){var ke=0;0===fe.resolvedContent.indexOf("<?xml")&&(ke=fe.resolvedContent.indexOf("?>")+2),Ue=fe.resolvedContent.substr(0,ke)+"<response>"+fe.resolvedContent.substr(ke)+"</response>",fe.resolvedContent=T.xml_str2json(Ue)}(function he(Le){var fe;for(fe=0;fe<Le.elements.length;fe++)if(!1===Le.elements[fe].resolved)return!1;return!0})(Re)&&ae(Re)}function ae(Le){var Re,xe,fe=[];if(function ge(Le){var Re,xe,Ue,ke,we,fe=[];for(Ue=Le.elements.length-1;Ue>=0;Ue--){if(xe=(Re=Le.elements[Ue]).type+"_asArray",Re.resolvedContent){if(Re.resolvedContent)for(ke=0;ke<Re.resolvedContent[xe].length;ke++)fe.push(Re.resolvedContent[xe][ke])}else delete Re.originalContent["xlink:actuate"],delete Re.originalContent["xlink:href"],fe.push(Re.originalContent);for(Re.parentElement[xe].splice(Re.index,1),we=0;we<fe.length;we++)Re.parentElement[xe].splice(Re.index+we,0,fe[we]);fe=[]}Le.elements.length>0&&M.run(P)}(Le),"onActuate"===Le.resolveType&&R.trigger(w.default.XLINK_READY,{manifest:P}),Le.resolveType===p)switch(Le.type){case D.default.PERIOD:for(Re=0;Re<P[D.default.PERIOD+"_asArray"].length;Re++)(xe=P[D.default.PERIOD+"_asArray"][Re]).hasOwnProperty(D.default.ADAPTATION_SET+"_asArray")&&(fe=fe.concat(K(xe[D.default.ADAPTATION_SET+"_asArray"],xe,D.default.ADAPTATION_SET,p))),xe.hasOwnProperty(D.default.EVENT_STREAM+"_asArray")&&(fe=fe.concat(K(xe[D.default.EVENT_STREAM+"_asArray"],xe,D.default.EVENT_STREAM,p)));Fe(fe,D.default.ADAPTATION_SET,p);break;case D.default.ADAPTATION_SET:R.trigger(w.default.XLINK_READY,{manifest:P})}}function K(Le,fe,Re,xe){var Ue,ke,we,pe=[];for(ke=Le.length-1;ke>=0;ke--)(Ue=Le[ke]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===Ue["xlink:href"]&&Le.splice(ke,1);for(ke=0;ke<Le.length;ke++)(Ue=Le[ke]).hasOwnProperty("xlink:href")&&Ue.hasOwnProperty("xlink:actuate")&&Ue["xlink:actuate"]===xe&&(we=oe(Ue["xlink:href"],fe,Re,ke,xe,Ue),pe.push(we));return pe}function oe(Le,fe,Re,xe,pe,Ue){return{url:Le,parentElement:fe,type:Re,index:xe,resolveType:pe,originalContent:Ue,resolvedContent:null,resolved:!1}}return k={resolveManifestOnLoad:function q(Le){T=new F.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:O}),(P=Le).Period_asArray?Fe(K(P.Period_asArray,P,D.default.PERIOD,p),D.default.PERIOD,p):R.trigger(w.default.XLINK_READY,{manifest:P})},setMatchers:function B(Le){Le&&(O=Le)},setIron:function W(Le){Le&&(M=Le)},reset:function le(){R.off(w.default.XLINK_ELEMENT_LOADED,$,k),N&&(N.reset(),N=null)}},function C(){R.on(w.default.XLINK_ELEMENT_LOADED,$,k),N=Object(t.default)(U).create({errHandler:A.errHandler,dashMetrics:A.dashMetrics,mediaPlayerModel:A.mediaPlayerModel,requestModifier:A.requestModifier,settings:A.settings})}(),k}v.__dashjs_factory_name="XlinkController",S.default=E.default.getClassFactory(v)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),y=c(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),w=c(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),E=c(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),F=c(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function L(){var p=this.context;return{createMetricsReporting:function v(R){return Object(t.default)(p).getInstance({eventBus:R.eventBus,dashMetrics:R.dashMetrics,metricsConstants:R.metricsConstants,events:R.events}).initialise(),Object(w.default)(p).create(R)},getReportingFactory:function A(){return Object(F.default)(p).getInstance()},getMetricsHandlerFactory:function U(){return Object(E.default)(p).getInstance()}}}L.__dashjs_factory_name="MetricsReporting";var D=dashjs.FactoryMaker.getClassFactory(L);D.events=y.default,dashjs.FactoryMaker.updateClassFactory(L.__dashjs_factory_name,D),S.default=D},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function w(O,M){for(var P=0;P<M.length;P++){var T=M[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var M=function L(O,M){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,M||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===y(M)?M:String(M)}function p(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&f(O,M)}function f(O,M){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,M)}function g(O){var M=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(M){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(O,M){if(M&&("object"===y(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var k=new(function(O){p(P,O);var M=g(P);function P(){var T;return function D(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,P),(T=M.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",T.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",T.CMCD_DATA_GENERATED="cmcdDataGenerated",T}return function E(O,M,P){return M&&w(O.prototype,M),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));S.default=k},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),y=c(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),w=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function E(F){var L,D={},p=this.context,f=(F=F||{}).eventBus,g=F.events;function v(H){if(!H.error){var k=Object.keys(D);Object(y.default)(p).getInstance({adapter:F.adapter,constants:F.constants}).getMetrics(H.manifest).forEach(function(M){var P=JSON.stringify(M);if(D.hasOwnProperty(P))k.splice(P,1);else try{var T=Object(t.default)(p).create(F);T.initialize(M),D[P]=T}catch{}}),k.forEach(function(M){D[M].reset(),delete D[M]}),f.trigger(w.default.METRICS_INITIALISATION_COMPLETE)}}function A(){Object.keys(D).forEach(function(H){D[H].reset()}),D={}}return L={reset:function R(){f.off(g.MANIFEST_UPDATED,v,L),f.off(g.STREAM_TEARDOWN_COMPLETE,A,L)}},function U(){f.on(g.MANIFEST_UPDATED,v,L),f.on(g.STREAM_TEARDOWN_COMPLETE,A,L)}(),L}E.__dashjs_factory_name="MetricsCollectionController",S.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),y=c(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),w=c(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function E(F){F=F||{};var L,D,p,g=this.context;function A(){L&&L.reset(),D&&D.reset(),p&&p.reset()}return{initialize:function v(U){try{(p=Object(t.default)(g).create({mediaElement:F.mediaElement})).initialize(U.Range),(D=Object(y.default)(g).create({debug:F.debug,metricsConstants:F.metricsConstants,mediaPlayerModel:F.mediaPlayerModel})).initialize(U.Reporting,p),(L=Object(w.default)(g).create({debug:F.debug,eventBus:F.eventBus,metricsConstants:F.metricsConstants,events:F.events})).initialize(U.metrics,D)}catch(R){throw A(),R}},reset:A}}E.__dashjs_factory_name="MetricsController",S.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function y(w){var F,E=[],L=this.context,D=(w=w||{}).eventBus,p=w.events,f=Object(t.default)(L).getInstance({debug:w.debug,eventBus:w.eventBus,metricsConstants:w.metricsConstants});function g(U){E.forEach(function(R){R.handleNewMetric(U.metric,U.value,U.mediaType)})}return F={initialize:function v(U,R){U.split(",").forEach(function(H,k,O){var M;if(-1!==H.indexOf("(")&&-1===H.indexOf(")")){var P=O[k+1];P&&-1===P.indexOf("(")&&-1!==P.indexOf(")")&&(H+=","+P,delete O[k+1])}(M=f.create(H,R))&&E.push(M)}),D.on(p.METRIC_ADDED,g,F),D.on(p.METRIC_UPDATED,g,F)},reset:function A(){D.off(p.METRIC_ADDED,g,F),D.off(p.METRIC_UPDATED,g,F),E.forEach(function(U){return U.reset()}),E=[]}}}y.__dashjs_factory_name="MetricsHandlersController",S.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function y(w){var L,D,E=!1,F=this.context,p=(w=w||{}).mediaElement;return L={initialize:function f(U){U&&U.length&&(U.forEach(function(R){var H=R.starttime;D.add(H,H+R.duration)}),E=!!U[0]._useWallClockTime)},reset:function g(){D.clear()},isEnabled:function A(){var R,U=D.length;if(!U)return!0;R=E?(new Date).getTime()/1e3:p.currentTime;for(var H=0;H<U;H+=1){var k=D.start(H),O=D.end(H);if(k<=R&&R<O)return!0}return!1}},function v(){D=Object(t.default)(F).create()}(),L}y.__dashjs_factory_name="RangeController",S.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function y(w){var E=[],L=Object(t.default)(this.context).getInstance(w);return{initialize:function D(g,v){g.some(function(A){var U=L.create(A,v);if(U)return E.push(U),!0})},reset:function p(){E.forEach(function(g){return g.reset()}),E=[]},report:function f(g,v){E.forEach(function(A){return A.report(g,v)})}}}y.__dashjs_factory_name="ReportingController",S.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),y=c(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),w=c(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),E=c(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function F(L){var D,p=(L=L||{}).debug?L.debug.getLogger(D):{},f=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,g=this.context,v={BufferLevel:t.default,DVBErrors:y.default,HttpList:w.default,PlayList:E.default,RepSwitchList:E.default,TcpList:E.default};return{create:function A(H,k){var M,O=H.match(f);if(O){try{(M=v[O[1]](g).create({eventBus:L.eventBus,metricsConstants:L.metricsConstants})).initialize(O[1],k,O[3],O[5])}catch(P){M=null,p.error("MetricsHandlerFactory: Could not create handler for type ".concat(O[1]," with args ").concat(O[3],", ").concat(O[5]," (").concat(P.message,")"))}return M}},register:function U(H,k){v[H]=k},unregister:function R(H){delete v[H]}}}F.__dashjs_factory_name="MetricsHandlerFactory",S.default=dashjs.FactoryMaker.getSingletonFactory(F)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function y(w){w=w||{};var F,L,D,p,f,g=this.context,v=Object(t.default)(g).getInstance(),A=[],U=w.metricsConstants;function H(){var P=function R(){try{return Object.keys(A).map(function(P){return A[P]}).reduce(function(P,T){return P.level<T.level?P:T})}catch{return}}();P&&f!==P.t&&(f=P.t,F.report(D,P))}return{initialize:function k(P,T,N){T&&(L=v.validateN(N),F=T,D=v.reconstructFullMetricName(P,N),p=setInterval(H,L))},reset:function O(){clearInterval(p),p=null,L=0,F=null,f=null},handleNewMetric:function M(P,T,N){P===U.BUFFER_LEVEL&&(A[N]=T)}}}y.__dashjs_factory_name="BufferLevelHandler",S.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");S.default=dashjs.FactoryMaker.getClassFactory(function y(w){var F,L=(w=w||{}).eventBus,D=w.metricsConstants;function p(){L.off(t.default.METRICS_INITIALISATION_COMPLETE,p,this),L.trigger(t.default.BECAME_REPORTING_PLAYER)}return{initialize:function f(A,U){U&&(F=U,L.on(t.default.METRICS_INITIALISATION_COMPLETE,p,this))},reset:function g(){F=null},handleNewMetric:function v(A,U){A===D.DVB_ERRORS&&F&&F.report(A,U)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){var w,E;return{initialize:function F(p,f){w=p,E=f},reset:function L(){E=null,w=void 0},handleNewMetric:function D(p,f){p===w&&E&&E.report(w,f)}}}c.r(S),t.__dashjs_factory_name="GenericMetricHandler",S.default=dashjs.FactoryMaker.getClassFactory(t)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function y(w){w=w||{};var F,L,D,p,f,g=[],v=Object(t.default)(this.context).getInstance(),A=w.metricsConstants;function U(){g.length&&F&&F.report(p,g),g=[]}return{initialize:function R(O,M,P,T){M&&(L=v.validateN(P),F=M,T&&T.length&&(D=T),p=v.reconstructFullMetricName(O,P,T),f=setInterval(U,L))},reset:function H(){clearInterval(f),f=null,L=null,D=null,g=[],F=null},handleNewMetric:function k(O,M){O===A.HTTP_REQUEST&&(!D||D===M.type)&&g.push(M)}}}y.__dashjs_factory_name="HttpListHandler",S.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function y(w){var L,E={"urn:dvb:dash:reporting:2014":t.default},F=this.context,D=(w=w||{}).debug?w.debug.getLogger(L):{},p=w.metricsConstants,f=w.mediaPlayerModel||{};return{create:function g(U,R){var H;try{(H=E[U.schemeIdUri](F).create({metricsConstants:p,mediaPlayerModel:f})).initialize(U,R)}catch(k){H=null,D.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(U.schemeIdUri," (").concat(k.message,")"))}return H},register:function v(U,R){E[U]=R},unregister:function A(U){delete E[U]}}}y.__dashjs_factory_name="ReportingFactory",S.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),y=c(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),w=c(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function E(F){var L,p,f,g,v,A,U,R,D=this.context,O=[],M=(F=F||{}).metricsConstants;function B(){v=!1,A=!1,U=null,R=null}return L={report:function N(q,le){Array.isArray(le)||(le=[le]),A&&R.isEnabled()&&le.forEach(function(Fe){var $=p.serialise(Fe);q!==M.DVB_ERRORS&&($="metricname=".concat(q,"&").concat($)),function T(q,le,Fe){var $=new XMLHttpRequest;$.withCredentials=f.getXHRWithCredentialsForType(M.HTTP_REQUEST_DVB_REPORTING_TYPE);var ae=function(){var ge=O.indexOf($);-1!==ge&&(O.splice(ge,1),$.status>=200&&$.status<300?le&&le():Fe&&Fe())};O.push($);try{$.open("GET",q),$.onloadend=ae,$.onerror=ae,$.send()}catch{$.onerror()}}($="".concat(U,"?").concat($),null,function(){A=!1})})},initialize:function C(q,le){var Fe;if(R=le,!(U=q.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");v||((Fe=q.dvb_probability)&&(1e3===Fe||Fe/1e3>=g.random())&&(A=!0),v=!0)},reset:function W(){B()}},function P(){p=Object(t.default)(D).getInstance(),g=Object(y.default)(D).getInstance(),f=Object(w.default)(D).getInstance(),B()}(),L}E.__dashjs_factory_name="DVBReporting",S.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),y=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function w(E){var F,L,D=(E=E||{}).eventBus,p=E.dashMetrics,f=E.metricsConstants,g=E.events;function v(T){var N=new t.default;if(L){for(var C in T)T.hasOwnProperty(C)&&(N[C]=T[C]);N.mpdurl||(N.mpdurl=L.originalUrl||L.url),N.terror||(N.terror=new Date),p.addDVBErrors(N)}}function A(T){T.error||(L=T.manifest)}function U(T){v({errorcode:t.default.BASE_URL_CHANGED,servicelocation:T.entry})}function R(){v({errorcode:t.default.BECAME_REPORTER})}function k(T){T.metric===f.HTTP_REQUEST&&function H(T){(0===T.responsecode||null==T.responsecode||T.responsecode>=400||T.responsecode<100||T.responsecode>=600)&&v({errorcode:T.responsecode||t.default.CONNECTION_ERROR,url:T.url,terror:T.tresponse,servicelocation:T._serviceLocation})}(T.value)}function O(T){var C;switch(T.error?T.error.code:0){case MediaError.MEDIA_ERR_NETWORK:C=t.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:C=t.default.CORRUPT_MEDIA_OTHER;break;default:return}v({errorcode:C})}return F={initialise:function M(){D.on(g.MANIFEST_UPDATED,A,F),D.on(g.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),D.on(g.METRIC_ADDED,k,F),D.on(g.METRIC_UPDATED,k,F),D.on(g.PLAYBACK_ERROR,O,F),D.on(y.default.BECAME_REPORTING_PLAYER,R,F)},reset:function P(){D.off(g.MANIFEST_UPDATED,A,F),D.off(g.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),D.off(g.METRIC_ADDED,k,F),D.off(g.METRIC_UPDATED,k,F),D.off(g.PLAYBACK_ERROR,O,F),D.off(y.default.BECAME_REPORTING_PLAYER,R,F)}}}w.__dashjs_factory_name="DVBErrorsTranslator",S.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){return{reconstructFullMetricName:function(w,E,F){var L=w;return E&&(L+="("+E,F&&F.length&&(L+=","+F),L+=")"),L},validateN:function(w){if(!w)throw new Error("missing n");if(isNaN(w))throw new Error("n is NaN");if(w<0)throw new Error("n must be positive");return w}}}c.r(S),t.__dashjs_factory_name="HandlerHelpers",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),y=c(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),w=c(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function E(F){var D=(F=F||{}).adapter,p=F.constants;return{getMetrics:function g(v){var A=[];return v&&v.Metrics_asArray&&v.Metrics_asArray.forEach(function(U){var R=new t.default,H=D.getIsDynamic(v);U.hasOwnProperty("metrics")&&(R.metrics=U.metrics,U.Range_asArray&&U.Range_asArray.forEach(function(k){var O=new y.default;O.starttime=function f(v,A,U){var R,H,k=0;return A?k=D.getAvailabilityStartTime(v)/1e3:(R=D.getRegularPeriods(v)).length&&(k=R[0].start),H=k,U&&U.hasOwnProperty(p.START_TIME)&&(H+=U.starttime),H}(v,H,k),O.duration=k.hasOwnProperty("duration")?k.duration:D.getDuration(v),O._useWallClockTime=H,R.Range.push(O)}),U.Reporting_asArray&&(U.Reporting_asArray.forEach(function(k){var O=new w.default;k.hasOwnProperty(p.SCHEME_ID_URI)&&(O.schemeIdUri=k.schemeIdUri,k.hasOwnProperty("value")&&(O.value=k.value),k.hasOwnProperty(p.DVB_REPORTING_URL)&&(O.dvb_reportingUrl=k[p.DVB_REPORTING_URL]),k.hasOwnProperty(p.DVB_PROBABILITY)&&(O.dvb_probability=k[p.DVB_PROBABILITY]),R.Reporting.push(O))}),A.push(R)))}),A}}}E.__dashjs_factory_name="ManifestParsing",S.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){return{serialise:function y(w){var L,D,E=[],F=[];for(L in w)if(w.hasOwnProperty(L)&&0!==L.indexOf("_")){if(null==(D=w[L])&&(D=""),Array.isArray(D)){if(!D.length)continue;F=[],D.forEach(function(p){var f="Object"!==Object.prototype.toString.call(p).slice(8,-1);F.push(f?p:y(p))}),D=F.map(encodeURIComponent).join(",")}else"string"==typeof D?D=encodeURIComponent(D):D instanceof Date?D=D.toISOString():"number"==typeof D&&(D=Math.round(D));E.push(L+"="+D)}return E.join("&")}}}c.r(S),t.__dashjs_factory_name="MetricSerialiser",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){var L,D,p,y=window.crypto||window.msCrypto,w=Uint32Array,E=Math.pow(2,8*w.BYTES_PER_ELEMENT)-1,F=10;function f(){y&&(L||(L=new w(F)),y.getRandomValues(L),D=0)}return p={random:function g(v,A){var U;return v||(v=0),A||(A=1),y?(D===L.length&&f(),U=L[D]/E,D+=1):U=Math.random(),U*(A-v)+v}},f(),p}c.r(S),t.__dashjs_factory_name="RNG",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S);var D=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});D.SSL_CONNECTION_FAILED_PREFIX="SSL",D.DNS_RESOLUTION_FAILED="C00",D.HOST_UNREACHABLE="C01",D.CONNECTION_REFUSED="C02",D.CONNECTION_ERROR="C03",D.CORRUPT_MEDIA_ISOBMFF="M00",D.CORRUPT_MEDIA_OTHER="M01",D.BASE_URL_CHANGED="F00",D.BECAME_REPORTER="S00",S.default=D},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function y(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,E(A.key),A)}}function w(f,g,v){return g&&y(f.prototype,g),v&&y(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);S.default=w(function f(){(function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(A){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function E(A,U){for(var R=0;R<U.length;R++){var H=U[R];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(A,L(H.key),H)}}function F(A,U,R){return U&&E(A.prototype,U),R&&E(A,R),Object.defineProperty(A,"prototype",{writable:!1}),A}function L(A){var U=function D(A,U){if("object"!==w(A)||null===A)return A;var R=A[Symbol.toPrimitive];if(void 0!==R){var H=R.call(A,U||"default");if("object"!==w(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(A)}(A,"string");return"symbol"===w(U)?U:String(U)}var f=NaN,g=F(function A(U,R){(function p(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")})(this,A),this.data={baseUrls:U||null,selectedIdx:R||f},this.children=[]});function v(){var A,U,R,H=this.context,k=Object(t.default)(H).getInstance();function T(Fe,$,ae){var K=R.getBaseURLsFromElement(ae);Fe[$]?k.areEqual(K,Fe[$].data.baseUrls)||(Fe[$].data.baseUrls=K,Fe[$].data.selectedIdx=f):Fe[$]=new g(K)}function N(Fe){!function P(){if(!R||!R.hasOwnProperty("getBaseURLsFromElement")||!R.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var $=R.getBaseURLsFromElement(Fe);k.areEqual($,U.data.baseUrls)||(U.data.baseUrls=$,U.data.selectedIdx=f),Fe&&Fe.Period_asArray&&Fe.Period_asArray.forEach(function(ae,K){T(U.children,K,ae),ae.AdaptationSet_asArray&&ae.AdaptationSet_asArray.forEach(function(ge,oe){T(U.children[K].children,oe,ge),ge.Representation_asArray&&ge.Representation_asArray.sort(R.getRepresentationSortFunction()).forEach(function(he,Ce){T(U.children[K].children[oe].children,Ce,he)})})})}function C(Fe,$){var ae=$||U;Fe(ae.data),ae.children&&ae.children.forEach(function(K){return C(Fe,K)})}function q(){U=new g}return A={reset:q,update:function W(Fe){N(Fe)},getForPath:function le(Fe){var $=U,ae=[$.data];return Fe&&Fe.forEach(function(K){($=$.children[K])&&ae.push($.data)}),ae.filter(function(K){return K.baseUrls.length})},invalidateSelectedIndexes:function B(Fe){C(function($){isNaN($.selectedIdx)||Fe===$.baseUrls[$.selectedIdx].serviceLocation&&($.selectedIdx=f)})},setConfig:function M(Fe){Fe.adapter&&(R=Fe.adapter)}},function O(){q()}(),A}v.__dashjs_factory_name="BaseURLTreeModel",S.default=y.default.getClassFactory(v)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),w=c(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),p=c(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),f=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function g(T,N){var C=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!C){if(Array.isArray(T)||(C=function v(T,N){if(T){if("string"==typeof T)return A(T,N);var C=Object.prototype.toString.call(T).slice(8,-1);if("Object"===C&&T.constructor&&(C=T.constructor.name),"Map"===C||"Set"===C)return Array.from(T);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return A(T,N)}}(T))||N&&T&&"number"==typeof T.length){C&&(T=C);var B=0,W=function(){};return{s:W,n:function(){return B>=T.length?{done:!0}:{done:!1,value:T[B++]}},e:function(ae){throw ae},f:W}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Fe,q=!0,le=!1;return{s:function(){C=C.call(T)},n:function(){var ae=C.next();return q=ae.done,ae},e:function(ae){le=!0,Fe=ae},f:function(){try{!q&&null!=C.return&&C.return()}finally{if(le)throw Fe}}}}function A(T,N){(null==N||N>T.length)&&(N=T.length);for(var C=0,B=new Array(N);C<N;C++)B[C]=T[C];return B}var H_MANIFEST="m",H_AUDIO="a",H_VIDEO="v",H_INIT="i",H_CAPTION="c",H_ISOBMFF_TEXT_TRACK="tt",H_ENCRYPTION_KEY="k",H_OTHER="o",k_DASH="d",k_MSS="s",O_VOD="v",O_LIVE="l";function P(){var T,N,C,B,W,q,le,Fe,$,ae,K=this.context,ge=Object(t.default)(K).getInstance(),oe=Object(F.default)(K).getInstance();function fe(){C={pr:1,nor:null,st:null,sf:null,sid:"".concat(f.default.generateUuid()),cid:null},$={},Fe={},ae={},xe()}function Re(){xe()}function xe(){if(q){var it=q.getStreamController();if(it&&"function"==typeof it.getActiveStream){var vt=it.getActiveStream();vt&&(le=vt.getProcessors())}}}function ke(it,vt){var jt,Ht={},It=g(vt);try{for(It.s();!(jt=It.n()).done;){var en=jt.value;it[en]&&(Ht[en]=it[en])}}catch(dn){It.e(dn)}finally{It.f()}return Ht}function Ve(it){var vt=oe.get().streaming.cmcd.enabledKeys;return it.filter(function(Ht){return vt.includes(Ht)})}function st(it){try{return it.type===D.HTTPRequest.MPD_TYPE?function Ne(){var it=J();return it.ot=H_MANIFEST,it}():it.type===D.HTTPRequest.MEDIA_SEGMENT_TYPE?(function Y(it){ae.hasOwnProperty(it)||(ae[it]=!1),Fe.hasOwnProperty(it)||(Fe[it]=!1),$.hasOwnProperty(it)||($[it]=!1)}(it.mediaType),function Te(it){var nn,vt=J(),Ht=function Q(it){try{return parseInt(it.mediaInfo.bitrateList[it.quality].bandwidth/1e3)}catch{return null}}(it),It=function te(it){try{return isNaN(it.duration)?null:Math.round(1e3*it.duration)}catch{return null}}(it),jt=function ie(it){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput(it)/100)}catch{return null}}(it.mediaType),en=function ee(it){try{var vt=C.pr,Ht=W.getCurrentBufferLevel(it);return isNaN(vt)||isNaN(Ht)?null:100*parseInt(Ht/vt*10)}catch{return null}}(it.mediaType),dn=X(it.mediaType),un=function Z(it){try{var vt=B.getTopBitrateInfoFor(it);return Math.round(vt.bitrate/1e3)}catch{return null}}(it.mediaType),Kt=C.pr,Cn=function He(it){if(le&&0!==le.length){var Ht,vt=g(le);try{for(vt.s();!(Ht=vt.n()).done;){var It=Ht.value;if(It.getType()===it)return It.probeNextRequest()}}catch(jt){vt.e(jt)}finally{vt.f()}}}(it.mediaType);it.mediaType===L.default.VIDEO&&(nn=H_VIDEO),it.mediaType===L.default.AUDIO&&(nn=H_AUDIO),it.mediaType===L.default.TEXT&&(nn="application/mp4"===it.mediaInfo.mimeType?H_ISOBMFF_TEXT_TRACK:H_CAPTION);var Dt=oe.get().streaming.cmcd.rtp;return Dt||(Dt=function at(it){var vt=q.getPlaybackRate();vt||(vt=1);var Ht=it.quality,jt=it.mediaInfo,en=it.duration,dn=X(it.mediaType);0===dn&&(dn=500);var nn=jt.bitrateList[Ht].bandwidth*en/1e3/(dn/vt/1e3),Dt=oe.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(oe.get().streaming.cmcd.rtpSafetyFactor)?oe.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(nn*Dt/100)+1)}(it)),vt.rtp=Dt,Cn&&(it.url!==Cn.url?vt.nor=encodeURIComponent(f.default.getRelativeUrl(it.url,Cn.url)):Cn.range&&(vt.nrr=Cn.range)),Ht&&(vt.br=Ht),nn&&(vt.ot=nn),isNaN(It)||(vt.d=It),isNaN(jt)||(vt.mtp=jt),isNaN(en)||(vt.dl=en),isNaN(dn)||(vt.bl=dn),isNaN(un)||(vt.tb=un),!isNaN(Kt)&&1!==Kt&&(vt.pr=Kt),$[it.mediaType]&&(vt.bs=!0,$[it.mediaType]=!1),(Fe[it.mediaType]||!ae[it.mediaType])&&(vt.su=!0,Fe[it.mediaType]=!1,ae[it.mediaType]=!0),vt}(it)):it.type===D.HTTPRequest.INIT_SEGMENT_TYPE?function se(){var it=J();return it.ot=H_INIT,it.su=!0,it}():it.type===D.HTTPRequest.OTHER_TYPE||it.type===D.HTTPRequest.XLINK_EXPANSION_TYPE?function _e(){var it=J();return it.ot=H_OTHER,it}():it.type===D.HTTPRequest.LICENSE?function Je(it){var vt=J();return vt.ot=H_ENCRYPTION_KEY,vt}():null}catch{return null}}function J(){var it={},vt=oe.get().streaming.cmcd.cid?oe.get().streaming.cmcd.cid:C.cid;return it.v=1,it.sid=oe.get().streaming.cmcd.sid?oe.get().streaming.cmcd.sid:C.sid,it.sid="".concat(it.sid),vt&&(it.cid="".concat(vt)),!isNaN(C.pr)&&1!==C.pr&&null!==C.pr&&(it.pr=C.pr),C.st&&(it.st=C.st),C.sf&&(it.sf=C.sf),it}function X(it){try{var vt=W.getCurrentBufferLevel(it);return isNaN(vt)?null:100*parseInt(10*vt)}catch{return null}}function ue(it){try{C.pr=it.playbackRate}catch{}}function ve(it){try{var vt=T.getIsDynamic(it.data),It=it.protocol&&"MSS"===it.protocol?k_MSS:k_DASH;C.st="".concat(vt?O_LIVE:O_VOD),C.sf="".concat(It)}catch{}}function de(it){try{it.state&&it.mediaType&&it.state===y.default.BUFFER_EMPTY&&($[it.mediaType]||($[it.mediaType]=!0),Fe[it.mediaType]||(Fe[it.mediaType]=!0))}catch{}}function Ae(){for(var it in $)$.hasOwnProperty(it)&&($[it]=!0);for(var vt in Fe)Fe.hasOwnProperty(vt)&&(Fe[vt]=!0)}function We(it){try{if(!it)return null;var vt=Object.keys(it).sort(function(jt,en){return jt.localeCompare(en)}),Ht=vt.length,It=vt.reduce(function(jt,en,dn){return"v"===en&&1===it[en]||(jt+="string"==typeof it[en]&&"ot"!==en&&"sf"!==en&&"st"!==en?"".concat(en,"=").concat(JSON.stringify(it[en])):"".concat(en,"=").concat(it[en]),dn<Ht-1&&(jt+=",")),jt},"");return(It=It.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return N={getQueryParameter:function pe(it){try{if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled){var vt=st(it),It=We(function Ue(it){try{var vt=oe.get().streaming.cmcd.enabledKeys;return Object.keys(it).filter(function(Ht){return vt.includes(Ht)}).reduce(function(Ht,It){return Ht[It]=it[It],Ht},{})}catch{return it}}(vt));return ge.trigger(w.default.CMCD_DATA_GENERATED,{url:it.url,mediaType:it.mediaType,cmcdData:vt,cmcdString:It}),{key:"CMCD",value:It}}return null}catch{return null}},getHeaderParameters:function we(it){try{if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled){var vt=st(it),Ht=ke(vt,Ve(["br","d","ot","tb"])),It=ke(vt,Ve(["bl","dl","mtp","nor","nrr","su"])),jt=ke(vt,Ve(["bs","rtp"])),en=ke(vt,Ve(["cid","pr","sf","sid","st","v"])),dn={"CMCD-Object":We(Ht),"CMCD-Request":We(It),"CMCD-Status":We(jt),"CMCD-Session":We(en)};return ge.trigger(w.default.CMCD_DATA_GENERATED,{url:it.url,mediaType:it.mediaType,cmcdData:vt,headers:dn}),dn}return null}catch{return null}},setConfig:function Le(it){it&&(it.abrController&&(B=it.abrController),it.dashMetrics&&(W=it.dashMetrics),it.playbackController&&(q=it.playbackController))},reset:function ct(){ge.off(y.default.PLAYBACK_RATE_CHANGED,ue,this),ge.off(y.default.MANIFEST_LOADED,ve,this),ge.off(y.default.BUFFER_LEVEL_STATE_CHANGED,de,N),ge.off(y.default.PLAYBACK_SEEKED,Ae,N),fe()},initialize:function Ce(){ge.on(y.default.PLAYBACK_RATE_CHANGED,ue,N),ge.on(y.default.MANIFEST_LOADED,ve,N),ge.on(y.default.BUFFER_LEVEL_STATE_CHANGED,de,N),ge.on(y.default.PLAYBACK_SEEKED,Ae,N),ge.on(y.default.PERIOD_SWITCH_COMPLETED,Re,N)}},function he(){T=Object(p.default)(K).getInstance(),fe()}(),N}P.__dashjs_factory_name="CmcdModel",S.default=E.default.getSingletonFactory(P)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),E=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),F=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),L=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function p(){var f,g,v,A,U,R,H,k,O=this.context,M=Object(w.default)(O).getInstance();function T(){A=[],U=[],R=[],k=[],H=null,g=[]}function Le(Y,se){var _e=-1;Y.some(function(J,Q){if(J===se)return _e=Q,!0}),!(_e<0)&&Y.splice(_e,1)}function fe(Y){var se;for(se=0;se<k.length;se++)if(k[se].rulename===Y)return se;return-1}function ke(Y,se){Ve(Y,se);var _e=new t.default;_e.schemeIdUri=Y,_e.value=se,g.push(_e)}function Ve(Y,se){Object(E.checkParameterType)(Y,"string"),Object(E.checkParameterType)(se,"string"),g.forEach(function(_e,J){_e.schemeIdUri===Y&&_e.value===se&&g.splice(J,1)})}return f={getCustomInitialTrackSelectionFunction:function q(){return H},setCustomInitialTrackSelectionFunction:function B(Y){H=Y},resetCustomInitialTrackSelectionFunction:function W(){H=null},getLicenseResponseFilters:function Fe(){return U},getLicenseRequestFilters:function le(){return A},getCustomCapabilitiesFilters:function oe(){return R},registerCustomCapabilitiesFilter:function he(Y){R.push(Y)},registerLicenseResponseFilter:function ae(Y){U.push(Y)},registerLicenseRequestFilter:function $(Y){A.push(Y)},unregisterCustomCapabilitiesFilter:function Ce(Y){Le(R,Y)},unregisterLicenseResponseFilter:function ge(Y){Le(U,Y)},unregisterLicenseRequestFilter:function K(Y){Le(A,Y)},addAbrCustomRule:function Re(Y,se,_e){if("string"!=typeof Y||Y!==F.default.ABANDON_FRAGMENT_RULES&&Y!==F.default.QUALITY_SWITCH_RULES||"string"!=typeof se)throw L.default.BAD_ARGUMENT_ERROR;var J=fe(se);-1===J?k.push({type:Y,rulename:se,rule:_e}):(k[J].type=Y,k[J].rule=_e)},removeAllAbrCustomRule:function pe(){k=[]},removeAbrCustomRule:function xe(Y){if(Y){var se=fe(Y);-1!==se&&k.splice(se,1)}else k=[]},getAbrCustomRules:function Ue(){return k},addUTCTimingSource:ke,removeUTCTimingSource:Ve,getUTCTimingSources:function we(){return g},clearDefaultUTCTimingSources:function st(){g=[]},restoreDefaultUTCTimingSources:function Je(){var Y=M.get().streaming.utcSynchronization.defaultTimingSource;ke(Y.scheme,Y.value)},setXHRWithCredentialsForType:function Ne(Y,se){Y?v[Y]=!!se:Object.keys(v).forEach(function(_e){Ne(_e,se)})},getXHRWithCredentialsForType:function Te(Y){var se=v[Y];return void 0===se?v.default:se},setConfig:function C(){},reset:function N(){T()}},function P(){v={default:false},T()}(),f}p.__dashjs_factory_name="CustomParametersModel",S.default=y.default.getSingletonFactory(p)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),w="loading",E="executed",L="failed";function D(f){var O,M,P,T,g=(f=f||{}).eventBus,v=f.events,A=f.dashMetrics,U=f.fragmentLoader,R=f.debug,H=f.streamInfo,k=f.type;function W(Je){var Q;return!!Je&&(Q=!1,P.some(function(Z){if(function(J,Q){return!isNaN(J.index)&&J.startTime===Q.startTime&&J.adaptationIndex===Q.adaptationIndex&&J.type===Q.type}(Je,Z)||function(J,Q){return isNaN(J.index)&&isNaN(Q.index)&&J.quality===Q.quality}(Je,Z)||function(J,Q){return J.action===y.default.ACTION_COMPLETE&&J.action===Q.action}(Je,Z))return Q=!0}),Q)}function Fe(Je){return isNaN(Je.duration)?.25:Math.min(Je.duration/8,.5)}function $(Je){P=P.filter(function(Ne){var Te=Fe(Ne);return isNaN(Ne.startTime)||void 0!==Je&&Ne.startTime>=Je-Te})}function K(Je,Ne){Ne<=Je+.5||(P=P.filter(function(Te){var Y=Fe(Te);return isNaN(Te.startTime)||Te.startTime>=Ne-Y||isNaN(Te.duration)||Te.startTime+Te.duration<=Je+Y}))}function Le(Je,Ne,Te){for(var se=Je.length-1;se>=0;se--){var _e=Je[se],J=_e.startTime,Q=J+_e.duration;if(Te=isNaN(Te)?Fe(_e):Te,!isNaN(J)&&!isNaN(Q)&&Ne+Te>=J&&Ne-Te<Q||isNaN(J)&&isNaN(Ne))return _e}return null}function xe(Je,Ne){A.addSchedulingInfo(Je,Ne),A.addRequestsQueue(Je.mediaType,T,P)}function pe(Je){Je.sender===U&&(T.splice(T.indexOf(Je.request),1),Je.response&&!Je.error&&P.push(Je.request),xe(Je.request,Je.error?L:E),g.trigger(v.FRAGMENT_LOADING_COMPLETED,{request:Je.request,response:Je.response,error:Je.error,sender:this},{streamId:H.id,mediaType:k}))}function Ue(Je){Je.sender===U&&g.trigger(v.FRAGMENT_LOADING_PROGRESS,{request:Je.request,response:Je.response,error:Je.error,sender:this},{streamId:H.id,mediaType:k})}function ke(Je){Je.sender===U&&g.trigger(v.FRAGMENT_LOADING_ABANDONED,{request:Je.request},{streamId:H.id,mediaType:k})}function we(){P=[],T=[]}return O={getStreamId:function C(){return H.id},getType:function B(){return k},getRequests:function le(Je){var Te=[];return(Je?Je.state instanceof Array?Je.state:[Je.state]:[]).forEach(function(Y){var se=function Re(Je){var Ne;switch(Je){case w:Ne=T;break;case E:Ne=P;break;default:Ne=[]}return Ne}(Y);Te=Te.concat(function fe(Je,Ne){return Ne.hasOwnProperty("time")?[Le(Je,Ne.time,Ne.threshold)]:Je.filter(function(Te){for(var Y in Ne)if("state"!==Y&&Ne.hasOwnProperty(Y)&&Te[Y]!=Ne[Y])return!1;return!0})}(se,Je))}),Te},isFragmentLoaded:W,isFragmentLoadedOrPending:function q(Je){var Y,Ne=!1,Te=0;if(!(Ne=W(Je)))for(Te=0;Te<T.length;Te++)Je.url===(Y=T[Te]).url&&Je.startTime===Y.startTime&&(Ne=!0);return Ne},removeExecutedRequestsBeforeTime:$,removeExecutedRequestsAfterTime:function ae(Je){P=P.filter(function(Ne){return isNaN(Ne.startTime)||void 0!==Je&&Ne.startTime<Je})},syncExecutedRequestsWithBufferedRange:function ge(Je,Ne){if(Je&&0!==Je.length){for(var Te=0,Y=0,se=Je.length;Y<se;Y++)K(Te,Je.start(Y)),Te=Je.end(Y);Ne>0&&K(Te,Ne)}else $()},abortRequests:function oe(){M.debug("abort requests"),U.abort(),T=[]},executeRequest:function he(Je){Je.action===y.default.ACTION_DOWNLOAD?(xe(Je,w),T.push(Je),function Ce(Je){g.trigger(v.FRAGMENT_LOADING_STARTED,{request:Je},{streamId:H.id,mediaType:k}),U.load(Je)}(Je)):M.warn("Unknown request action.")},reset:function Ve(){g.off(v.LOADING_COMPLETED,pe,this),g.off(v.LOADING_DATA_PROGRESS,Ue,this),g.off(v.LOADING_ABANDONED,ke,this),U&&U.reset(),we()},resetInitialSettings:we,addExecutedRequest:function st(Je){P.push(Je)}},function N(){M=R.getLogger(O),we(),g.on(v.LOADING_COMPLETED,pe,O),g.on(v.LOADING_DATA_PROGRESS,Ue,O),g.on(v.LOADING_ABANDONED,ke,O)}(),O}D.__dashjs_factory_name="FragmentModel";var p=t.default.getClassFactory(D);p.FRAGMENT_MODEL_LOADING=w,p.FRAGMENT_MODEL_EXECUTED=E,p.FRAGMENT_MODEL_CANCELED="canceled",p.FRAGMENT_MODEL_FAILED=L,t.default.updateClassFactory(D.__dashjs_factory_name,p),S.default=p},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var g,v,f=this.context,A={};function U(){v=Object(t.default)(f).getInstance().getLogger(g)}function R(P){for(var T={},N=0,C=0,B=0,W=0,q=P.length,le=0;le<q;++le)N+=P[le].chunkDownloadTimeRelativeMS,C+=P[le].bufferLevel,B+=P[le].chunkDownloadTimeRelativeMS*P[le].bufferLevel,W+=P[le].chunkDownloadTimeRelativeMS*P[le].chunkDownloadTimeRelativeMS;return T.m=(B-N*C/q)/(W-N*N/q),T.b=C/q-T.m*N/q,function(Fe){return T.m*Fe+T.b}}function H(P){var N,T=!0,C=P.reduce(function(B,W){return B+W.bufferLevelAtSegmentEnd},0)/P.length;return P.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(T=!1),B.bufferLevelAtSegmentEnd/C<.8&&(T=!1),N?N>B.bitrate&&(T=!1):N=B.bitrate}),T}return g={setup:U,addMeasurement:function M(P,T,N,C,B){P&&P.mediaType&&!A[P.mediaType]&&(A[P.mediaType]=[]);var W=P.mediaInfo.bitrateList.find(function(q){return q.id===P.representationId});A[P.mediaType].push({index:P.index,repId:P.representationId,mediaType:P.mediaType,requestTimeMS:C,adjustedAvailabilityStartTimeMS:P.availabilityStartTime.getTime(),segDurationMS:1e3*P.duration,chunksDurationMS:N.reduce(function(q,le){return q+le.chunkDownloadDurationMS},0),segmentBytes:N.reduce(function(q,le){return q+le.chunkBytes},0),bitrate:W&&W.bandwidth,bitrateList:P.mediaInfo.bitrateList,chunkMeasurements:N,fetchDownloadDurationMS:T,throughputCapacityDelayMS:B,getEstimatedBufferLevel:R(N.slice(1))}),A[P.mediaType].length>10&&A[P.mediaType].shift()},getThroughputCapacityDelayMS:function O(P,T){var N=A[P.mediaType]&&A[P.mediaType].slice(-3);return!N||N.length<3||!H(N)?0:T/4>250?250:T/4},getEstimatedDownloadDurationMS:function k(P){var T=A[P.mediaType].slice(-1).pop(),N=A[P.mediaType].slice(-3),C=T.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;T.bufferLevelAtSegmentStart=T.getEstimatedBufferLevel(C/2),T.bufferLevelAtSegmentEnd=T.getEstimatedBufferLevel(C);var B=H(N),W=B?.6:.8;if(T.isBufferStable&&1.05*T.segDurationMS<T.fetchDownloadDurationMS)return T.fetchDownloadDurationMS;if(!B||T.segDurationMS<T.fetchDownloadDurationMS||T.adjustedAvailabilityStartTimeMS<=T.requestTimeMS+T.throughputCapacityDelayMS-T.segDurationMS)return.8*T.fetchDownloadDurationMS;for(var q=T.requestTimeMS+T.throughputCapacityDelayMS-T.adjustedAvailabilityStartTimeMS,le=0,Fe=0,$=0,ae=0;ae<T.chunkMeasurements.length;ae++){var K=T.chunkMeasurements[ae];if(q<Fe+K.chunkDownloadDurationMS)break;Fe+=K.chunkDownloadDurationMS,le+=K.chunkBytes,$++}if(q<0&&v.warn("request time was before adjusted availibitly start time"),le&&Fe&&$>.2*T.chunkMeasurements.length){var oe=T.segmentBytes/(le/Fe);return T.fetchDownloadDurationMS<oe?T.fetchDownloadDurationMS*W:oe*W}var he=T.bitrate;return T.bitrateList.some(function(Ce){if(Ce.bandwidth>T.bitrate)return he=Ce.bandwidth,!0}),he===T.bitrate?T.fetchDownloadDurationMS*W:W*T.segmentBytes*8*1e3/he}},U(),g}w.__dashjs_factory_name="LowLatencyThroughputModel",S.default=y.default.getSingletonFactory(w)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var p,F=this.context,L=Object(t.default)(F).getInstance();return{getValue:function f(){return p},setValue:function g(v){p=v,v&&L.trigger(y.default.MANIFEST_LOADED,{data:v})}}}E.__dashjs_factory_name="ManifestModel",S.default=w.default.getSingletonFactory(E)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),v=-.5;function U(){var R,H,k,O,M=this.context,P=Object(w.default)(M).getInstance();function C(he,Ce){return isNaN(he)?0:he>0?(Ce&&H.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):he<v?(Ce&&H.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(v,": ").concat(-50,"% playback speed.")),v):he}function B(he,Ce){return isNaN(he)?0:he<0?(Ce&&H.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):he>1?(Ce&&H.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):he}function ae(){var he=P.get().streaming.buffer.stableBufferTime>0?P.get().streaming.buffer.stableBufferTime:P.get().streaming.buffer.fastSwitchEnabled?20:12,Ce=k.getLiveDelay();return!isNaN(Ce)&&Ce>0?Math.min(he,Ce):he}return R={getCatchupMaxDrift:function W(){if(!isNaN(P.get().streaming.liveCatchup.maxDrift)&&P.get().streaming.liveCatchup.maxDrift>0)return P.get().streaming.liveCatchup.maxDrift;var he=O.getServiceDescriptionSettings();return he&&he.liveCatchup&&!isNaN(he.liveCatchup.maxDrift)&&he.liveCatchup.maxDrift>0?he.liveCatchup.maxDrift:12},getCatchupModeEnabled:function le(){return null!==P.get().streaming.liveCatchup.enabled?P.get().streaming.liveCatchup.enabled:k.getInitialCatchupModeActivated()},getStableBufferTime:ae,getInitialBufferLevel:function $(){var he=P.get().streaming.buffer.initialBufferLevel;return isNaN(he)||he<0?0:Math.min(ae(),he)},getRetryAttemptsForType:function K(he){var Ce=isNaN(P.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:P.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return k.getLowLatencyModeEnabled()?P.get().streaming.retryAttempts[he]*Ce:P.get().streaming.retryAttempts[he]},getRetryIntervalsForType:function ge(he){var Ce=isNaN(P.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:P.get().streaming.retryIntervals.lowLatencyReductionFactor;return k.getLowLatencyModeEnabled()?P.get().streaming.retryIntervals[he]/Ce:P.get().streaming.retryIntervals[he]},getCatchupPlaybackRates:function q(he){var Ce=P.get().streaming.liveCatchup.playbackRate;if(!isNaN(Ce.min)||!isNaN(Ce.max))return{min:C(Ce.min,he),max:B(Ce.max,he)};var Le=O.getServiceDescriptionSettings();if(Le&&Le.liveCatchup&&(!isNaN(Le.liveCatchup.playbackRate.min)||!isNaN(Le.liveCatchup.playbackRate.max))){var fe=Le.liveCatchup.playbackRate;return{min:C(fe.min,he),max:B(fe.max,he)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Fe(he,Ce){try{var Le=P.get().streaming.abr[he][Ce];if(!isNaN(Le)&&-1!==Le)return Le;var fe=O.getServiceDescriptionSettings();return fe&&fe[he]&&!isNaN(fe[he][Ce])?fe[he][Ce]:-1}catch{return-1}},setConfig:function N(he){he.playbackController&&(k=he.playbackController),he.serviceDescriptionController&&(O=he.serviceDescriptionController)},reset:function oe(){}},function T(){H=Object(t.default)(M).getInstance().getLogger(R)}(),R}U.__dashjs_factory_name="MediaPlayerModel",S.default=y.default.getSingletonFactory(U)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=c(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),E=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),L=c(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),D=c(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),p=c(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),f=c(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),g=c(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),v=c(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),A=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),U=c(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),R=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),H=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function k(O){var N,C,M=(O=O||{}).settings,P=this.context,T=Object(A.default)(P).getInstance();function W(){T.trigger(R.default.METRICS_CHANGED)}function q(Y){T.trigger(R.default.METRIC_CHANGED,{mediaType:Y}),W()}function le(Y,se,_e){T.trigger(R.default.METRIC_UPDATED,{mediaType:Y,metric:se,value:_e}),q(Y)}function Fe(Y,se,_e){T.trigger(R.default.METRIC_ADDED,{mediaType:Y,metric:se,value:_e}),q(Y)}function K(Y,se){var _e=null;return Y&&(C.hasOwnProperty(Y)?_e=C[Y]:se||(_e=new w.default,C[Y]=_e)),_e}function ge(Y,se,_e){var J=K(Y);null!==J&&(J[se].push(_e),J[se].length>M.get().streaming.metrics.maxListDepth&&J[se].shift())}function Le(Y,se,_e){ge(Y,se,_e),Fe(Y,se,_e)}return N={clearCurrentMetricsForType:function $(Y){delete C[Y],q(Y)},clearAllCurrentMetrics:function ae(){C={},W()},getMetricsFor:K,addHttpRequest:function he(Y,se,_e,J,Q,Z,te,ie,ee,X,ue,ve,de,Ae,We,He){var at=new E.HTTPRequest;Z&&Z!==J&&(he(Y,null,_e,J,Q,null,null,ie,ee,null,null,null,de,null,null,He),at.actualurl=Z),at.tcpid=se,at.type=_e,at.url=J,at.range=ie,at.trequest=ee,at.tresponse=X,at.responsecode=ve,at._tfinish=ue,at._stream=Y,at._mediaduration=de,at._quality=Q,at._responseHeaders=Ae,at._serviceLocation=te,at._fileLoaderType=He,We?We.forEach(function(ct){!function oe(Y,se,_e,J){var Q=new E.HTTPRequestTrace;return Q.s=se,Q.d=_e,Q.b=J,Y.trace.push(Q),Y.interval||(Y.interval=0),Y.interval+=_e,Q}(at,ct.s,ct.d,ct.b)}):(delete at.interval,delete at.trace),Le(Y,y.default.HTTP_REQUEST,at)},addRepresentationSwitch:function Ce(Y,se,_e,J,Q){var Z=new F.default;Z.t=se,Z.mt=_e,Z.to=J,Q?Z.lto=Q:delete Z.lto,Le(Y,y.default.TRACK_SWITCH,Z)},addBufferLevel:function fe(Y,se,_e){var J=new L.default;J.t=se,J.level=_e,Le(Y,y.default.BUFFER_LEVEL,J)},addBufferState:function Re(Y,se,_e){var J=new D.default;J.target=_e,J.state=se,Le(Y,y.default.BUFFER_STATE,J)},addDVRInfo:function xe(Y,se,_e,J){var Q=new p.default;Q.time=se,Q.range=J,Q.manifestInfo=_e,Le(Y,y.default.DVR_INFO,Q)},addDroppedFrames:function pe(Y,se){var _e=new f.default,J=K(Y).DroppedFrames;se&&(_e.time=se.creationTime,_e.droppedFrames=se.droppedVideoFrames,!(J.length>0&&J[J.length-1]==_e)&&Le(Y,y.default.DROPPED_FRAMES,_e))},addSchedulingInfo:function Ue(Y,se,_e,J,Q,Z,te,ie,ee){var X=new v.default;X.mediaType=Y,X.t=se,X.type=_e,X.startTime=J,X.availabilityStartTime=Q,X.duration=Z,X.quality=te,X.range=ie,X.state=ee,Le(Y,y.default.SCHEDULING_INFO,X)},addRequestsQueue:function ke(Y,se,_e){var J=new U.default;J.loadingRequests=se,J.executedRequests=_e,K(Y).RequestsQueue=J,Fe(Y,y.default.REQUESTS_QUEUE,J)},addManifestUpdate:function we(Y,se,_e,J,Q,Z,te,ie,ee,X){var ue=new g.ManifestUpdate;ue.mediaType=Y,ue.type=se,ue.requestTime=_e,ue.fetchTime=J,ue.availabilityStartTime=Q,ue.presentationStartTime=Z,ue.clientTimeOffset=te,ue.currentTime=ie,ue.buffered=ee,ue.latency=X,ge(t.default.STREAM,y.default.MANIFEST_UPDATE,ue),Fe(Y,y.default.MANIFEST_UPDATE,ue)},updateManifestUpdateInfo:function Ve(Y,se){if(Y){for(var _e in se)Y[_e]=se[_e];le(Y.mediaType,y.default.MANIFEST_UPDATE,Y)}},addManifestUpdateStreamInfo:function st(Y,se,_e,J,Q){if(Y){var Z=new g.ManifestUpdateStreamInfo;Z.id=se,Z.index=_e,Z.start=J,Z.duration=Q,Y.streamInfo.push(Z),le(Y.mediaType,y.default.MANIFEST_UPDATE_STREAM_INFO,Y)}},addManifestUpdateRepresentationInfo:function Je(Y,se,_e,J,Q,Z,te,ie){if(Y&&Y.representationInfo){var ee=new g.ManifestUpdateRepresentationInfo;ee.id=se,ee.index=_e,ee.streamIndex=J,ee.mediaType=Q,ee.startNumber=te,ee.fragmentInfoType=ie,ee.presentationTimeOffset=Z,Y.representationInfo.push(ee),le(Y.mediaType,y.default.MANIFEST_UPDATE_TRACK_INFO,Y)}},addPlayList:function Ne(Y){Y.trace&&Array.isArray(Y.trace)?Y.trace.forEach(function(se){se.hasOwnProperty("subreplevel")&&!se.subreplevel&&delete se.subreplevel}):delete Y.trace,Le(t.default.STREAM,y.default.PLAY_LIST,Y)},addDVBErrors:function Te(Y){Le(t.default.STREAM,y.default.DVB_ERRORS,Y)}},function B(){C={}}(),N}k.__dashjs_factory_name="MetricsModel",S.default=H.default.getSingletonFactory(k)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var F;return{initialize:function L(p){if(F=new t.default,!p)return null;var f=p.indexOf("#");if(-1!==f)for(var g=p.substr(f+1).split("&"),v=0,A=g.length;v<A;++v){var U=g[v],R=U.indexOf("=");if(-1!==R){var H=U.substring(0,R);F.hasOwnProperty(H)&&(F[H]=U.substr(R+1))}}},getURIFragmentData:function D(){return F}}}w.__dashjs_factory_name="URIFragmentModel",S.default=y.default.getSingletonFactory(w)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),L=new Map([[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function D(){var p,f,g,v,A,U,R,k=this.context,O=Object(y.default)(k).getInstance(),M=[];function C(){g&&(g.playbackRate=R||1,g.removeEventListener("canplay",C))}function Le(){return M.length>0}function pe(){if(g&&Le()&&0===g.playbackRate){var it=document.createEvent("Event");it.initEvent("waiting",!0,!1),g.dispatchEvent(it)}}function se(it,vt){g&&g.addEventListener(it,vt)}function _e(it,vt){g&&g.removeEventListener(it,vt)}function J(){return g?g.readyState:NaN}function Q(){return g?g.buffered:null}function de(it,vt,Ht,It,jt){if(g)for(var en=0;en<g.textTracks.length;en++)if(g.textTracks[en].kind===it&&(!vt||g.textTracks[en].label==vt)&&g.textTracks[en].language===Ht&&g.textTracks[en].isTTML===It&&g.textTracks[en].isEmbedded===jt)return g.textTracks[en];return null}function at(it,vt){it===F.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||J()>=it?vt():function ct(it,vt){se(it,function It(){_e(it,It),vt(it)})}(L.get(it),vt)}return p={initialize:function T(){O.on(w.default.PLAYBACK_PLAYING,pe,this)},setCurrentTime:function W(it,vt){v=it,at(F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(g){if(g.currentTime===v)return void(v=NaN);try{v=vt?function q(it){var vt=Q(),Ht=it,It=9999999999;if(vt)for(var jt=0;jt<vt.length;jt++){var en=vt.start(jt),dn=vt.end(jt),un=Math.abs(en-it),Kt=Math.abs(dn-it);if(it>=en&&it<=dn)return it;un<It&&(It=un,Ht=en),Kt<It&&(It=Kt,Ht=dn)}return Ht}(v):v,g.currentTime=v,v=NaN}catch(Ht){0===g.readyState&&Ht.code===Ht.INVALID_STATE_ERR&&setTimeout(function(){g.currentTime=v,v=NaN},400)}}})},play:function ke(){if(g){g.autoplay=!0;var it=g.play();it&&it.catch&&typeof Promise<"u"&&it.catch(function(vt){"NotAllowedError"===vt.name&&O.trigger(w.default.PLAYBACK_NOT_ALLOWED),f.warn("Caught pending play exception - continuing (".concat(vt,")"))})}},isPaused:function we(){return g?g.paused:null},pause:function Ve(){g&&(g.pause(),g.autoplay=!1)},isStalled:Le,isSeeking:function st(){return g?g.seeking||!isNaN(v):null},getTime:function Je(){return g?isNaN(v)?g.currentTime:v:null},getPlaybackRate:function Ne(){return g?g.playbackRate:null},setPlaybackRate:function B(it){g&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&g.readyState<=2&&it>0?g.addEventListener("canplay",C):g.playbackRate=it)},getPlayedRanges:function Te(){return g?g.played:null},getEnded:function Y(){return g?g.ended:null},setStallState:function Ce(it,vt){!function xe(it,vt){vt?function fe(it){null===it||!g||g.seeking||-1!==M.indexOf(it)||M.push(it)}(it):function Re(it){var vt=M.indexOf(it);null!==it&&-1!==vt&&M.splice(vt,1)}(it)}(it,vt)},getElement:function le(){return g},setElement:function Fe(it){if(!(null==it||it&&/^(VIDEO|AUDIO)$/i.test(it.nodeName)))throw"element is not video or audio DOM type!";(g=it)&&(g.preload="auto")},setSource:function $(it){g&&(it?g.src=it:(g.removeAttribute("src"),g.load()))},getSource:function ae(){return g?g.src:null},getTTMLRenderingDiv:function K(){return A},setTTMLRenderingDiv:function oe(it){(A=it).style.position="absolute",A.style.display="flex",A.style.overflow="hidden",A.style.pointerEvents="none",A.style.top=0,A.style.left=0},getVttRenderingDiv:function ge(){return U},setVttRenderingDiv:function he(it){U=it},getPlaybackQuality:function Ue(){if(!g)return null;var it="webkitDroppedFrameCount"in g&&"webkitDecodedFrameCount"in g,Ht=null;return"getVideoPlaybackQuality"in g?Ht=g.getVideoPlaybackQuality():it&&(Ht={droppedVideoFrames:g.webkitDroppedFrameCount,totalVideoFrames:g.webkitDroppedFrameCount+g.webkitDecodedFrameCount,creationTime:new Date}),Ht},addEventListener:se,removeEventListener:_e,getReadyState:J,getBufferRange:Q,getClientWidth:function Z(){return g?g.clientWidth:NaN},getClientHeight:function te(){return g?g.clientHeight:NaN},getTextTracks:function ve(){return g?g.textTracks:[]},getTextTrack:de,addTextTrack:function Ae(it,vt,Ht,It,jt){if(!g)return null;var en=de(it,vt,Ht,It,jt);return en||((en=g.addTextTrack(it,vt,Ht)).isEmbedded=jt,en.isTTML=It),en},appendChild:function We(it){g&&(g.appendChild(it),void 0!==it.isTTML&&(g.textTracks[g.textTracks.length-1].isTTML=it.isTTML,g.textTracks[g.textTracks.length-1].isEmbedded=it.isEmbedded))},removeChild:function He(it){g&&g.removeChild(it)},getVideoWidth:function ie(){return g?g.videoWidth:NaN},getVideoHeight:function ee(){return g?g.videoHeight:NaN},getVideoRelativeOffsetTop:function X(){var it=g.parentNode.host||g.parentNode;return it?g.getBoundingClientRect().top-it.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function ue(){var it=g.parentNode.host||g.parentNode;return it?g.getBoundingClientRect().left-it.getBoundingClientRect().left:NaN},waitForReadyState:at,reset:function N(){O.off(w.default.PLAYBACK_PLAYING,pe,this)}},function P(){f=Object(E.default)(k).getInstance().getLogger(p),v=NaN}(),p}D.__dashjs_factory_name="VideoModel",S.default=t.default.getSingletonFactory(D)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function F(R,H){return function p(R){if(Array.isArray(R))return R}(R)||function D(R,H){var k=null==R?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(null!=k){var O,M,P,T,N=[],C=!0,B=!1;try{if(P=(k=k.call(R)).next,0===H){if(Object(k)!==k)return;C=!1}else for(;!(C=(O=P.call(k)).done)&&(N.push(O.value),N.length!==H);C=!0);}catch(W){B=!0,M=W}finally{try{if(!C&&null!=k.return&&(T=k.return(),Object(T)!==T))return}finally{if(B)throw M}}return N}}(R,H)||g(R,H)||function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(R,H){if(R){if("string"==typeof R)return v(R,H);var k=Object.prototype.toString.call(R).slice(8,-1);if("Object"===k&&R.constructor&&(k=R.constructor.name),"Map"===k||"Set"===k)return Array.from(R);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return v(R,H)}}function v(R,H){(null==H||H>R.length)&&(H=R.length);for(var k=0,O=new Array(H);k<H;k++)O[k]=R[k];return O}function A(R){var N,H=this.context,k=(R=R||{}).requestModifier,O=R.lowLatencyThroughputModel,M=R.boxParser,P=Object(y.default)(H).getInstance();function W(K){var fe,ge=new Date,oe=K.request,he=new Headers;if(oe.range&&he.append("Range","bytes="+oe.range),K.headers)for(var Ce in K.headers){var Le=K.headers[Ce];Le&&he.append(Ce,Le)}oe.requestStartDate||(oe.requestStartDate=ge),k&&k.modifyRequestHeader&&k.modifyRequestHeader({setRequestHeader:function(we,Ve){he.append(we,Ve)}},{url:K.url}),"function"==typeof window.AbortController&&(fe=new AbortController,K.abortController=fe,fe.signal.onabort=K.onabort);var Re={method:K.method,headers:he,credentials:K.withCredentials?"include":void 0,signal:fe?fe.signal:void 0},xe=P.get().streaming.abr.fetchThroughputCalculationMode,pe=Date.now(),Ue=0;new Promise(function(ke){if(xe===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(Ue=O.getThroughputCapacityDelayMS(oe,1e3*N.getCurrentBufferLevel(oe.mediaType))))return setTimeout(ke,Ue);ke()}).then(function(){var ke=Date.now();fetch(K.url,Re).then(function(we){K.response||(K.response={}),K.response.status=we.status,K.response.statusText=we.statusText,K.response.responseURL=we.url,we.ok||K.onerror();var Je,Ve="",st=function f(R,H){var k=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!k){if(Array.isArray(R)||(k=g(R))||H&&R&&"number"==typeof R.length){k&&(R=k);var O=0,M=function(){};return{s:M,n:function(){return O>=R.length?{done:!0}:{done:!1,value:R[O++]}},e:function(B){throw B},f:M}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,P=!0,T=!1;return{s:function(){k=k.call(R)},n:function(){var B=k.next();return P=B.done,B},e:function(B){T=!0,N=B},f:function(){try{!P&&null!=k.return&&k.return()}finally{if(T)throw N}}}}(we.headers.keys());try{for(st.s();!(Je=st.n()).done;){var Ne=Je.value;Ve+=Ne+": "+we.headers.get(Ne)+"\r\n"}}catch(at){st.e(at)}finally{st.f()}if(K.response.responseHeaders=Ve,!we.body)return we.arrayBuffer().then(function(at){K.response.response=at,K.progress({loaded:at.byteLength,total:at.byteLength,stream:!1}),K.onload(),K.onend()});var it,vt,Te=parseInt(we.headers.get("Content-Length"),10),Y=0,se=!1,_e=new Uint8Array,J=0;if(xe===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var Z=ke,te=0,ee=F(we.body.tee(),2),ue=ee[1];it=ee[0].getReader(),vt=[],it.read().then(function Ht(It){var jt=It.value,en=It.done;if(te=Date.now(),jt&&jt.length){var dn=te-Z,un=jt.length;vt.push({chunkDownloadTimeRelativeMS:te-ke,chunkDownloadDurationMS:dn,chunkBytes:un,kbps:Math.round(8*un/(dn/1e3)),bufferLevel:N.getCurrentBufferLevel(oe.mediaType)})}if(en){var Kt=te-ke,Cn=vt.reduce(function(nn,Dt){return nn+Dt.chunkBytes},0);return O.addMeasurement(oe,Kt,vt,pe,Ue,Ve),void K.progress({loaded:Cn,total:Cn,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(oe),stream:!0})}return Z=Date.now(),it.read().then(Ht)}),K.reader=ue.getReader()}else K.reader=we.body.getReader();var ve=[],de=[],Ae=[],We=!0;q(K,function at(ct){var it=ct.value;if(ct.done){if(_e){if(xe!==w.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Ht=null,It=null;xe===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Ht=function ae(K,ge){try{var oe,he;oe=K.filter(function(ke,we){return we<K.length-1}),he=ge.filter(function(ke,we){return we<ge.length-1});var Ce=[];if(oe.length>1){for(var Le=0,fe=0,Re=0;Re<oe.length;Re++)if(oe[Re]&&he[Re]){var xe=he[Re].ts-oe[Re].ts;if(xe>1)Ce.push(8*he[Re].bytes/xe);else{0===fe&&(fe=oe[Re].ts);var pe=he[Re].ts-fe;pe>1?(Ce.push(8*Le/pe),Le=0,fe=0):Le+=he[Re].bytes}}if(Ce.length>0)return Ce.reduce(function(ke,we){return ke+we},0)/Ce.length}return null}catch{return null}}(de,Ae))&&(It=8*Y/Ht):xe===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(It=$(ve,Y)),K.progress({loaded:Y,total:isNaN(Te)?Y:Te,lengthComputable:!0,time:It,stream:!0})}K.response.response=_e.buffer}return K.onload(),void K.onend()}if(it&&it.length>0){_e=function le(K,ge){if(0===K.length)return ge;var oe=new Uint8Array(K.length+ge.length);return oe.set(K),oe.set(ge,K.length),oe}(_e,it),Y+=it.length,ve.push({ts:Date.now(),bytes:it.length}),xe===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&We&&M.findLastTopIsoBoxCompleted(["moof"],_e,J).found&&(We=!1,de.push({ts:performance.now(),bytes:it.length}));var en=M.findLastTopIsoBoxCompleted(["moov","mdat"],_e,J);if(en.found){var un,dn=en.lastCompletedOffset+en.size;xe===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!We&&(We=!0,Ae.push({ts:performance.now(),bytes:_e.length})),dn===_e.length?(un=_e,_e=new Uint8Array):(un=new Uint8Array(_e.subarray(0,dn)),_e=_e.subarray(dn)),K.progress({data:un.buffer,lengthComputable:!1,noTrace:!0}),J=0}else J=en.lastCompletedOffset,se||(K.progress({lengthComputable:!1,noTrace:!0}),se=!0)}q(K,at)})}).catch(function(we){K.onerror&&K.onerror(we)})})}function q(K,ge){K.reader.read().then(ge).catch(function(oe){K.onerror&&200===K.response.status&&K.onerror(oe)})}function $(K,ge){try{if((K=K.filter(function(Ce){return Ce.bytes>ge/4/K.length})).length>1){var oe=0,he=(K[K.length-1].ts-K[0].ts)/K.length;return K.forEach(function(Ce,Le){var fe=K[Le+1];if(fe){var Re=fe.ts-Ce.ts;oe+=Re<he?Re:0}}),oe}return null}catch{return null}}return{load:function B(K){k&&k.modifyRequest?Object(E.modifyRequest)(K,k).then(function(){return W(K)}):W(K)},abort:function Fe(K){if(K.abortController)K.abortController.abort();else if(K.reader)try{K.reader.cancel(),K.onabort()}catch{}},calculateDownloadedTime:$,setup:function C(K){N=K.dashMetrics}}}A.__dashjs_factory_name="FetchLoader";var U=t.default.getClassFactory(A);S.default=U},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),y=c(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),w=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),D=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),p=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),v=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),A=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),U=c(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),R=c(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function H(N){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(N)}function k(N,C,B){return(C=function O(N){var C=function M(N,C){if("object"!==H(N)||null===N)return N;var B=N[Symbol.toPrimitive];if(void 0!==B){var W=B.call(N,C||"default");if("object"!==H(W))return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(N)}(N,"string");return"symbol"===H(C)?C:String(C)}(C))in N?Object.defineProperty(N,C,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[C]=B,N}function P(N){var oe,he,Ce,Le,fe,Re,xe,pe,Ue,C=this.context,B=(N=N||{}).errHandler,W=N.dashMetrics,q=N.mediaPlayerModel,le=N.requestModifier,Fe=N.boxParser,$=N.errors,ae=N.requestTimeout||0,K=Object(f.default)(C).getInstance(),ge=Object(v.default)(C).getInstance();function we(Ne,Te){var ee,Y=Ne.request,se=[],_e=!0,J=!0,Q=new Date,Z=Q,te=0,ie=null;if(!le||!W||!B)throw new Error("config object is not correct or missing");var He,X=function(un){if(J=!1,Y.requestStartDate=Q,Y.requestEndDate=new Date,Y.firstByteDate=Y.firstByteDate||Q,Y.fileLoaderType=ie,!Y.checkExistenceOnly){var Kt=ee.response?ee.response.responseURL:null,Cn=ee.response?ee.response.status:null,nn=ee.response&&ee.response.getAllResponseHeaders?ee.response.getAllResponseHeaders():ee.response?ee.response.responseHeaders:[];W.addHttpRequest(Y,Kt,Cn,nn,un?se:null),Y.type===w.HTTPRequest.MPD_TYPE&&W.addManifestUpdate(Y)}},ue=function(){if(-1!==he.indexOf(ee)&&(he.splice(he.indexOf(ee),1),J))if(X(!1),Te>0){try{ge.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&Y.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&q.getRetryAttemptsForType(w.HTTPRequest.MEDIA_SEGMENT_TYPE)===Te&&K.trigger(g.default.ATTEMPT_BACKGROUND_SYNC)}catch{}Te--;var Kt={config:Ne};Le.push(Kt),Kt.timeout=setTimeout(function(){-1!==Le.indexOf(Kt)&&(Le.splice(Le.indexOf(Kt),1),we(Ne,Te))},q.getRetryIntervalsForType(Y.type))}else{if(Y.type===w.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new F.default(fe[Y.type],Y.url+" is not available",{request:Y,response:ee.response})),Ne.error&&Ne.error(Y,"error",ee.response.statusText),Ne.complete&&Ne.complete(Y,ee.response.statusText)}};Y.hasOwnProperty("availabilityTimeComplete")&&!1===Y.availabilityTimeComplete&&window.fetch&&"arraybuffer"===Y.responseType&&Y.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE?((He=Object(y.default)(C).create({requestModifier:le,lowLatencyThroughputModel:pe,boxParser:Fe})).setup({dashMetrics:W}),ie=A.default.FILE_LOADER_TYPES.FETCH):(He=Object(t.default)(C).create({requestModifier:le}),ie=A.default.FILE_LOADER_TYPES.XHR);var at=null,ct=le.modifyRequestURL?le.modifyRequestURL(Y.url):Y.url;if(ge.get().streaming.cmcd&&ge.get().streaming.cmcd.enabled){var it=ge.get().streaming.cmcd.mode;if(it===A.default.CMCD_MODE_QUERY){var vt=function Ve(Ne){try{var Te=[],Y=Re.getQueryParameter(Ne);return Y&&Te.push(Y),Te}catch{return[]}}(Y);ct=D.default.addAditionalQueryParameterToUrl(ct,vt)}else it===A.default.CMCD_MODE_HEADER&&(at=Re.getHeaderParameters(Y))}Y.url=ct;var Ht=Y.checkExistenceOnly?w.HTTPRequest.HEAD:w.HTTPRequest.GET,It=xe.getXHRWithCredentialsForType(Y.type);ee={url:ct,method:Ht,withCredentials:It,request:Y,onload:function(){ee.response.status>=200&&ee.response.status<=299&&(X(!0),Ne.success&&Ne.success(ee.response.response,ee.response.statusText,ee.response.responseURL),Ne.complete&&Ne.complete(Y,ee.response.statusText))},onend:ue,onerror:ue,progress:function(un){var Kt=new Date;_e&&(_e=!1,(!un.lengthComputable||un.lengthComputable&&un.total!==un.loaded)&&(Y.firstByteDate=Kt)),un.lengthComputable&&(Y.bytesLoaded=un.loaded,Y.bytesTotal=un.total),un.noTrace||(se.push({s:Z,d:un.time?un.time:Kt.getTime()-Z.getTime(),b:[un.loaded?un.loaded-te:0]}),Z=Kt,te=un.loaded),Ne.progress&&un&&Ne.progress(un)},onabort:function(){Ne.abort&&Ne.abort(Y)},ontimeout:function(un){var Kt;Kt=un.lengthComputable?"Request timeout: loaded: "+un.loaded+", out of: "+un.total+" : "+(un.loaded/un.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Ue.warn(Kt)},loader:He,timeout:ae,headers:at};var jt=(new Date).getTime();if(isNaN(Y.delayLoadingTime)||jt>=Y.delayLoadingTime)he.push(ee),He.load(ee);else{var en={httpRequest:ee};Ce.push(en),en.delayTimeout=setTimeout(function(){if(-1!==Ce.indexOf(en)){Ce.splice(Ce.indexOf(en),1);try{Z=Q=new Date,he.push(en.httpRequest),He.load(en.httpRequest)}catch{en.httpRequest.onerror()}}},Y.delayLoadingTime-jt)}}return oe={load:function st(Ne){Ne.request?we(Ne,q.getRetryAttemptsForType(Ne.request.type)):Ne.error&&Ne.error(Ne.request,"error")},abort:function Je(){Le.forEach(function(Ne){clearTimeout(Ne.timeout),Ne.config.request&&Ne.config.abort&&Ne.config.abort(Ne.config.request)}),Le=[],Ce.forEach(function(Ne){return clearTimeout(Ne.delayTimeout)}),Ce=[],he.forEach(function(Ne){Ne.request.type!==w.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Ne.onloadend=Ne.onerror=Ne.onprogress=void 0,Ne.loader.abort(Ne))}),he=[]}},function ke(){var Ne;Ue=Object(p.default)(C).getInstance().getLogger(oe),he=[],Ce=[],Le=[],Re=Object(L.default)(C).getInstance(),pe=Object(U.default)(C).getInstance(),xe=Object(R.default)(C).getInstance(),k(Ne={},w.HTTPRequest.MPD_TYPE,$.DOWNLOAD_ERROR_ID_MANIFEST_CODE),k(Ne,w.HTTPRequest.XLINK_EXPANSION_TYPE,$.DOWNLOAD_ERROR_ID_XLINK_CODE),k(Ne,w.HTTPRequest.INIT_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),k(Ne,w.HTTPRequest.MEDIA_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,w.HTTPRequest.INDEX_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,w.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,w.HTTPRequest.OTHER_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),fe=Ne}(),oe}P.__dashjs_factory_name="HTTPLoader";var T=E.default.getClassFactory(P);S.default=T},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function w(){var L;function f(){L={}}function v(){f()}return function A(){v()}(),{getLoader:function g(U){for(var R in L)if(L.hasOwnProperty(R)&&U.startsWith(R))return L[R];return y.default},registerLoader:function D(U,R){L[U]=R},unregisterLoader:function p(U){L[U]&&delete L[U]},unregisterAllLoader:f,reset:v}}w.__dashjs_factory_name="SchemeLoaderFactory";var E=t.default.getSingletonFactory(w);S.default=E},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function w(F){F=F||{};var p,f,L=this.context;return p=Object(y.default)(L).getInstance(),{load:function g(A){if(!f){var U=p.getLoader(A&&A.request?A.request.url:null);f=U(L).create({errHandler:F.errHandler,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,dashMetrics:F.dashMetrics,boxParser:F.boxParser?F.boxParser:null,constants:F.constants?F.constants:null,dashConstants:F.dashConstants?F.dashConstants:null,urlUtils:F.urlUtils?F.urlUtils:null,requestTimeout:isNaN(F.requestTimeout)?0:F.requestTimeout,errors:F.errors})}f.load(A)},abort:function v(){f&&f.abort()}}}w.__dashjs_factory_name="URLLoader";var E=t.default.getClassFactory(w);S.default=E},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function w(F){var L=(F=F||{}).requestModifier;function f(v){var A=new Date,U=v.request,R=new XMLHttpRequest;if(R.open(v.method,v.url,!0),U.responseType&&(R.responseType=U.responseType),U.range&&R.setRequestHeader("Range","bytes="+U.range),U.requestStartDate||(U.requestStartDate=A),L&&L.modifyRequestHeader&&(R=L.modifyRequestHeader(R,{url:v.url})),v.headers)for(var H in v.headers){var k=v.headers[H];k&&R.setRequestHeader(H,k)}R.withCredentials=v.withCredentials,R.onload=v.onload,R.onloadend=v.onend,R.onerror=v.onerror,R.onprogress=v.progress,R.onabort=v.onabort,R.ontimeout=v.ontimeout,R.timeout=v.timeout,R.send(),v.response=R}return{load:function p(v){L&&L.modifyRequest?Object(y.modifyRequest)(v,L).then(function(){return f(v)}):f(v)},abort:function g(v){var A=v.response;A.onloadend=A.onerror=A.onprogress=void 0,A.abort()}}}w.__dashjs_factory_name="XHRLoader";var E=t.default.getClassFactory(w);S.default=E},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var D={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};S.default=function(){function f(){!function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}return function E(f,g,v){return g&&w(f.prototype,g),v&&w(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,null,[{key:"findCencContentProtection",value:function(v){for(var A=null,U=0;U<v.length;++U){var R=v[U];"urn:mpeg:dash:mp4protection:2011"===R.schemeIdUri.toLowerCase()&&("cenc"===R.value.toLowerCase()||"cbcs"===R.value.toLowerCase())&&(A=R)}return A}},{key:"getPSSHData",value:function(v){var A=8,U=new DataView(v),R=U.getUint8(A);return A+=20,R>0&&(A+=4+16*U.getUint32(A)),v.slice(A+=4)}},{key:"getPSSHForKeySystem",value:function(v,A){var U=f.parsePSSHList(A);return v&&U.hasOwnProperty(v.uuid.toLowerCase())?U[v.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(v,A){return"pssh"in v?(v.pssh.__text=v.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),A.decodeArray(v.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(v){if(null==v)return[];for(var A=new DataView(v.buffer||v),R={},H=0;;){var O,M=void 0,P=void 0,T=H;if(H>=A.buffer.byteLength)break;if(O=H+A.getUint32(H),1886614376===A.getUint32(H+=4))if(0===(M=A.getUint8(H+=4))||1===M){H++,H+=3,P="";var N=void 0,C=void 0;for(N=0;N<4;N++)P+=1===(C=A.getUint8(H+N).toString(16)).length?"0"+C:C;for(H+=4,P+="-",N=0;N<2;N++)P+=1===(C=A.getUint8(H+N).toString(16)).length?"0"+C:C;for(H+=2,P+="-",N=0;N<2;N++)P+=1===(C=A.getUint8(H+N).toString(16)).length?"0"+C:C;for(H+=2,P+="-",N=0;N<2;N++)P+=1===(C=A.getUint8(H+N).toString(16)).length?"0"+C:C;for(H+=2,P+="-",N=0;N<6;N++)P+=1===(C=A.getUint8(H+N).toString(16)).length?"0"+C:C;H+=6,H+=4,R[P=P.toLowerCase()]=A.buffer.slice(T,O),H=O}else H=O;else H=O}return R}},{key:"getLicenseServerUrlFromMediaInfo",value:function(v,A){try{if(!v||0===v.length)return null;for(var U=0,R=null;U<v.length&&!R;){var H=v[U];if(H&&H.contentProtection&&H.contentProtection.length>0){var k=H.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===A});if(k&&k.length>0)for(var O=0;O<k.length&&!R;){for(var M=k[O],P=0;P<D.attributes.length&&!R;){for(var T=0,N=D.attributes[P];T<D.prefixes.length&&!R;)M[N]&&M[N].__prefix&&M[N].__prefix===D.prefixes[T]&&M[N].__text&&(R=M[N].__text),T+=1;P+=1}O+=1}}U+=1}return R}catch{return null}}}]),f}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),y=c(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),w=c(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),E=c(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),L=c(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),D=c(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),p=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],f=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function g(){var A,U=this.context;function k(O,M){for(var P=0;P<M.length;P++){var T=M[P];if("function"==typeof O[T[Object.keys(T)[0]]])return T}return null}return A={createProtectionSystem:function R(O){var M=null,P=Object(y.default)(U).getInstance();P.setConfig({debug:O.debug,BASE64:O.BASE64,settings:O.settings}),P.initialize();var T=function H(O){var M=O.debug,P=M.getLogger(A),T=O.eventBus,N=O.errHandler,C=O.videoModel?O.videoModel.getElement():null;return C&&void 0===C.onencrypted||C&&void 0===C.mediaKeys?k(C,f)?(P.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(L.default)(U).create({debug:M,eventBus:T,events:O.events,api:k(C,f)})):k(C,p)?(P.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(D.default)(U).create({debug:M,eventBus:T,errHandler:N,events:O.events,api:k(C,p)})):(P.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(P.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(F.default)(U).create({debug:M,eventBus:T,events:O.events}))}(O);return!M&&T&&(M=Object(t.default)(U).create({protectionModel:T,protectionKeyController:P,eventBus:O.eventBus,debug:O.debug,events:O.events,BASE64:O.BASE64,constants:O.constants,cmcdModel:O.cmcdModel,customParametersModel:O.customParametersModel,settings:O.settings}),O.capabilities.setEncryptedMediaSupported(!0)),M}}}g.__dashjs_factory_name="Protection";var v=dashjs.FactoryMaker.getClassFactory(g);v.events=w.default,v.errors=E.default,dashjs.FactoryMaker.updateClassFactory(g.__dashjs_factory_name,v),S.default=v},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function w(O,M){for(var P=0;P<M.length;P++){var T=M[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var M=function L(O,M){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,M||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===y(M)?M:String(M)}function p(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&f(O,M)}function f(O,M){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,M)}function g(O){var M=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(M){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(O,M){if(M&&("object"===y(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var k=new(function(O){p(P,O);var M=g(P);function P(){var T;return function D(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,P),(T=M.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",T.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",T.KEY_ADDED="public_keyAdded",T.KEY_ERROR="public_keyError",T.KEY_MESSAGE="public_keyMessage",T.KEY_SESSION_CLOSED="public_keySessionClosed",T.KEY_SESSION_CREATED="public_keySessionCreated",T.KEY_SESSION_REMOVED="public_keySessionRemoved",T.KEY_STATUSES_CHANGED="public_keyStatusesChanged",T.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",T.KEY_SYSTEM_SELECTED="public_keySystemSelected",T.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",T.LICENSE_REQUEST_SENDING="public_licenseRequestSending",T.NEED_KEY="needkey",T.PROTECTION_CREATED="public_protectioncreated",T.PROTECTION_DESTROYED="public_protectiondestroyed",T.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",T.TEARDOWN_COMPLETE="protectionTeardownComplete",T.VIDEO_ELEMENT_SELECTED="videoElementSelected",T.KEY_SESSION_UPDATED="public_keySessionUpdated",T}return function E(O,M,P){return M&&w(O.prototype,M),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));S.default=k},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),y=c(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),w=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),E=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),D=c(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),p=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),f=c(
/*! ../../../core/Utils */
"./src/core/Utils.js"),g=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),v=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(P){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}function M(P){var ge,oe,he,Ce,Le,fe,Re,xe,pe,Ue,ke,T=(P=P||{}).protectionKeyController,N=P.protectionModel,C=P.eventBus,B=P.events,W=P.debug,q=P.BASE64,le=P.constants,Fe=[],$=P.cmcdModel,ae=P.settings,K=P.customParametersModel;function Ve(){if(!(C&&C.hasOwnProperty("on")&&T&&T.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function Te(Pe,Ye){xe||pe?xe&&se():function Y(Pe,Ye){if(!pe){pe=!0;var dt,$e=[];Pe=Pe.sort(function(Ft,$t){return(Le&&Le[Ft.ks.systemString]&&Le[Ft.ks.systemString].priority>=0?Le[Ft.ks.systemString].priority:Pe.length)-(Le&&Le[$t.ks.systemString]&&Le[$t.ks.systemString].priority>=0?Le[$t.ks.systemString].priority:Pe.length)});for(var lt=0;lt<Pe.length;lt++){var ot=vt(Pe[lt]);$e.push({ks:Pe[lt].ks,configs:[ot],protData:Pe[lt].protData})}N.requestKeySystemAccess($e).then(function(Ft){return oe.info("DRM: KeySystem Access Granted for system string ("+((dt=Ft.data).mksa&&dt.mksa.selectedSystemString?dt.mksa.selectedSystemString:dt.keySystem.systemString)+")!  Selecting key system..."),N.selectKeySystem(dt)}).then(function(Ft){if(xe=Ft,pe=!1,N){C.trigger(B.KEY_SYSTEM_SELECTED,{data:dt});var $t=Z(xe);$t&&$t.serverCertificate&&$t.serverCertificate.length>0&&N.setServerCertificate(q.decodeArray($t.serverCertificate).buffer),se()}}).catch(function(Ft){xe=null,pe=!1,Ye||C.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new F.default(E.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,E.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Ft.error)})})}}(Pe,Ye)}function se(){for(var Pe,Ye=0;Ye<he.length;Ye++)for(Pe=0;Pe<he[Ye].length;Pe++)if(xe===he[Ye][Pe].ks){_e(he[Ye][Pe]);break}he=[]}function _e(Pe){if(T.isClearKey(xe)&&Pe.protData&&Pe.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Pe.protData.clearkeys).length){var Ye={kids:Object.keys(Pe.protData.clearkeys)};Pe.initData=(new TextEncoder).encode(JSON.stringify(Ye))}Pe.sessionId?J(Pe):null!==Pe.initData&&Q(Pe)}function J(Pe){Ve(),N.loadKeySession(Pe)}function Q(Pe){var Ye=t.default.getPSSHForKeySystem(xe,Pe?Pe.initData:null);if(Ye){if(function ee(Pe){if(!Pe)return!1;try{for(var Ye=N.getSessions(),$e=0;$e<Ye.length;$e++)if(Ye[$e].getKeyId()===Pe)return!0;return!1}catch{return!1}}(Pe.keyId)||X(Ye))return;try{Pe.initData=Ye,N.createKeySession(Pe)}catch($e){C.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+$e.message)})}}else Pe&&Pe.initData?N.createKeySession(Pe):C.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(xe?xe.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function Z(Pe){if(Pe){var Ye=Pe.systemString;if(Le)return Ye in Le?Le[Ye]:null}return null}function X(Pe){if(!Pe)return!1;try{for(var Ye=N.getAllInitData(),$e=0;$e<Ye.length;$e++)if(T.initDataEquals(Pe,Ye[$e]))return oe.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Ae(Pe){Ve(),Pe?(N.setMediaElement(Pe),C.on(B.NEED_KEY,ft,ge)):null===Pe&&(N.setMediaElement(Pe),C.off(B.NEED_KEY,ft,ge))}function vt(Pe){var Ye=Pe.protData,$e=[],lt=[],ot=Ye&&Ye.audioRobustness&&Ye.audioRobustness.length>0?Ye.audioRobustness:Re,dt=Ye&&Ye.videoRobustness&&Ye.videoRobustness.length>0?Ye.videoRobustness:Re,Ft=Pe.sessionType,$t=Ye&&Ye.distinctiveIdentifier?Ye.distinctiveIdentifier:"optional",Lt=Ye&&Ye.persistentState?Ye.persistentState:"temporary"===Ft?"optional":"required";return Ce.forEach(function(Jt){Jt.type===le.AUDIO?$e.push(new y.default(Jt.codec,ot)):Jt.type===le.VIDEO&&lt.push(new y.default(Jt.codec,dt))}),new w.default($e,lt,$t,Lt,[Ft])}function Ht(Pe){Pe.error?C.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:Pe.error}):oe.debug("DRM: key status = "+Pe.status)}function It(Pe){oe.debug("DRM: onKeyMessage");var Ye=Pe.data;C.trigger(B.KEY_MESSAGE,{data:Ye});var $e=Ye.messageType?Ye.messageType:"license-request",lt=Ye.message,ot=Ye.sessionToken,dt=Z(xe),Ft=T.getLicenseServerModelInstance(xe,dt,$e),$t={sessionToken:ot,messageType:$e};if(lt&&0!==lt.byteLength){if(!Ft)return oe.debug("DRM: License server request not required for this message (type = "+Pe.data.messageType+").  Session ID = "+ot.getSessionId()),void jt($t);if(T.isClearKey(xe)){var Lt=T.processClearKeyLicenseRequest(xe,dt,lt);if(Lt&&Lt.keyPairs&&Lt.keyPairs.length>0)return oe.debug("DRM: ClearKey license request handled by application!"),jt($t),void N.updateKeySession(ot,Lt)}!function en(Pe,Ye,$e){var lt=Pe.sessionToken,ot=Pe.messageType?Pe.messageType:"license-request",dt={sessionToken:lt,messageType:ot},Ft=xe?xe.systemString:null,$t=function Kt(Pe,Ye,$e,lt,ot){var dt=null,Ft=lt.message;if(Pe&&Pe.serverURL){var $t=Pe.serverURL;"string"==typeof $t&&""!==$t?dt=$t:"object"===A($t)&&$t.hasOwnProperty(Ye)&&(dt=$t[Ye])}else if(Pe&&Pe.laURL&&""!==Pe.laURL)dt=Pe.laURL;else if(!(dt=t.default.getLicenseServerUrlFromMediaInfo(Ce,xe.schemeIdURI))&&!T.isClearKey(xe)){var Lt=t.default.getPSSHData($e.initData);(dt=xe.getLicenseServerURLFromInitData(Lt))||(dt=lt.laURL)}return ot.getServerURLFromMessage(dt,Ft,Ye)}($e,ot,lt,Pe,Ye);if($t){var Lt={},Jt=!1;$e&&Cn(Lt,$e.httpRequestHeaders);var cn=Pe.message;Cn(Lt,xe.getRequestHeadersFromMessage(cn)),Object.keys(Lt).forEach(function(Xe){"authorization"===Xe.toLowerCase()&&(Jt=!0)}),$e&&"boolean"==typeof $e.withCredentials&&(Jt=$e.withCredentials);var xn=function(Pt){if(N)if(Pt.status>=200&&Pt.status<=299){var Qt=f.default.parseHttpHeaders(Pt.getAllResponseHeaders?Pt.getAllResponseHeaders():null),In=new D.default(Pt.responseURL,Qt,Pt.response);Dt(K.getLicenseResponseFilters(),In).then(function(){var Zt=Ye.getLicenseMessage(In.data,Ft,ot);null!==Zt?(jt(dt),N.updateKeySession(lt,Zt)):nn(Pt,dt,Ft,ot,Ye)})}else nn(Pt,dt,Ft,ot,Ye)},Ln=function(Pt){jt(dt,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ft+' update, XHR aborted. status is "'+Pt.statusText+'" ('+Pt.status+"), readyState is "+Pt.readyState))},Yn=function(Pt){jt(dt,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ft+' update, XHR error. status is "'+Pt.statusText+'" ('+Pt.status+"), readyState is "+Pt.readyState))},Vn=xe.getLicenseRequestFromMessage(cn),ci=Ye.getHTTPMethod(ot),yn=Ye.getResponseType(Ft,ot),_n=$e&&!isNaN($e.httpTimeout)?$e.httpTimeout:8e3,bt=lt.getSessionId()||null,ut=new L.default($t,ci,yn,Lt,Jt,ot,bt,Vn),tn=isNaN(ae.get().streaming.retryAttempts[p.HTTPRequest.LICENSE])?3:ae.get().streaming.retryAttempts[p.HTTPRequest.LICENSE];Dt(K.getLicenseRequestFilters(),ut).then(function(){dn(ut,tn,_n,xn,Ln,Yn)})}else jt(dt,new F.default(E.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Ye,Ft,dt)}else jt($t,new F.default(E.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function jt(Pe,Ye){C.trigger(B.LICENSE_REQUEST_COMPLETE,{data:Pe,error:Ye})}function dn(Pe,Ye,$e,lt,ot,dt){var Ft=new XMLHttpRequest;if(ae.get().streaming.cmcd&&ae.get().streaming.cmcd.enabled&&ae.get().streaming.cmcd.mode===g.default.CMCD_MODE_QUERY){var Lt=$.getQueryParameter({url:Pe.url,type:p.HTTPRequest.LICENSE});Lt&&(Pe.url=f.default.addAditionalQueryParameterToUrl(Pe.url,[Lt]))}for(var Jt in Ft.open(Pe.method,Pe.url,!0),Ft.responseType=Pe.responseType,Ft.withCredentials=Pe.withCredentials,$e>0&&(Ft.timeout=$e),Pe.headers)Ft.setRequestHeader(Jt,Pe.headers[Jt]);if(ae.get().streaming.cmcd&&ae.get().streaming.cmcd.enabled&&ae.get().streaming.cmcd.mode===g.default.CMCD_MODE_HEADER){var mn=$.getHeaderParameters({url:Pe.url,type:p.HTTPRequest.LICENSE});if(mn)for(var xn in mn){var Ln=mn[xn];Ln&&Ft.setRequestHeader(xn,Ln)}}var Yn=function(){Ye--;var ci=isNaN(ae.get().streaming.retryIntervals[p.HTTPRequest.LICENSE])?1e3:ae.get().streaming.retryIntervals[p.HTTPRequest.LICENSE];ke=setTimeout(function(){dn(Pe,Ye,$e,lt,ot,dt)},ci)};Ft.onload=function(){Ue=null,this.status>=200&&this.status<=299||Ye<=0?lt(this):(oe.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Ye),Yn())},Ft.ontimeout=Ft.onerror=function(){Ue=null,Ye<=0?dt(this):(oe.warn("License request network request failed . Retrying it... Pending retries: "+Ye),Yn())},Ft.onabort=function(){ot(this)},C.trigger(B.LICENSE_REQUEST_SENDING,{url:Pe.url,headers:Pe.headers,payload:Pe.data,sessionId:Pe.sessionId}),Ue=Ft,Ft.send(Pe.data)}function un(){Ue&&(Ue.onloadend=Ue.onerror=Ue.onprogress=void 0,Ue.abort(),Ue=null),ke&&(clearTimeout(ke),ke=null)}function Cn(Pe,Ye){if(Ye)for(var $e in Ye)Pe[$e]=Ye[$e]}function nn(Pe,Ye,$e,lt,ot){var dt="NONE",Ft=null;Pe.response&&(dt=ot.getErrorResponse(Pe.response,$e,lt),Ft={serverResponse:Pe.response||null,responseCode:Pe.status||null,responseText:Pe.statusText||null}),jt(Ye,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+$e+' update, XHR complete. status is "'+Pe.statusText+'" ('+Pe.status+"), readyState is "+Pe.readyState+".  Response is "+dt,Ft))}function Dt(Pe,Ye){return Pe?Pe.reduce(function($e,lt){return $e.then(function(){return lt(Ye)})},Promise.resolve()):Promise.resolve()}function ft(Pe,Ye){if(!ae.get().streaming.protection.ignoreEmeEncryptedEvent){if(oe.debug("DRM: onNeedKey"),"cenc"!==Pe.key.initDataType)return void oe.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Pe.key.initDataType);if(0===Ce.length&&(oe.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Ye=typeof Ye>"u"?1:Ye+1)<5))return void Fe.push(setTimeout(function(){ft(Pe,Ye)},500));var $e=Pe.key.initData;if(ArrayBuffer.isView($e)&&($e=$e.buffer),xe){var lt=t.default.getPSSHForKeySystem(xe,$e);if(lt&&X(lt))return}oe.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array($e)));var ot=T.getSupportedKeySystemsFromSegmentPssh($e,Le,fe);if(0===ot.length)return void oe.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function Ne(Pe){he.push(Pe),Te(Pe,!1)}(ot)}}return ge={initializeForMedia:function st(Pe){if(!Pe)throw new Error("mediaInfo can not be null or undefined");Ve(),Ce.push(Pe)},clearMediaInfoArray:function te(){Ce=[]},handleKeySystemFromManifest:function Je(){if(Ce&&0!==Ce.length){var Pe=[];Ce.forEach(function(Ye){var $e=T.getSupportedKeySystemsFromContentProtection(Ye.contentProtection,Le,fe);$e.length>0&&(0===Pe.length&&(Pe=$e),he.push($e))}),Pe&&Pe.length>0&&Te(Pe,!0)}},createKeySession:Q,loadKeySession:J,removeKeySession:function ue(Pe){Ve(),N.removeKeySession(Pe)},closeKeySession:function ve(Pe){Ve(),N.closeKeySession(Pe)},setServerCertificate:function de(Pe){Ve(),N.setServerCertificate(Pe)},setMediaElement:Ae,setSessionType:function We(Pe){fe=Pe},setRobustnessLevel:function He(Pe){Re=Pe},setProtectionData:function at(Pe){Le=Pe,T.setProtectionData(Pe)},getSupportedKeySystemsFromContentProtection:function ie(Pe){return Ve(),T.getSupportedKeySystemsFromContentProtection(Pe,Le,fe)},getKeySystems:function Qe(){return T?T.getKeySystems():[]},setKeySystems:function De(Pe){T&&T.setKeySystems(Pe)},stop:function ct(){un(),N&&N.stop()},reset:function it(){C.off(B.INTERNAL_KEY_MESSAGE,It,ge),C.off(B.INTERNAL_KEY_STATUS_CHANGED,Ht,ge),Ve(),un(),Ae(null),xe=null,pe=!1,N&&(N.reset(),N=null),Fe.forEach(function(Pe){return clearTimeout(Pe)}),Fe=[],Ce=[],he=[]}},function we(){oe=W.getLogger(ge),he=[],Ce=[],fe="temporary",Re="",Ue=null,ke=null,C.on(B.INTERNAL_KEY_MESSAGE,It,ge),C.on(B.INTERNAL_KEY_STATUS_CHANGED,Ht,ge)}(),ge}M.__dashjs_factory_name="ProtectionController",S.default=v.default.getClassFactory(M)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),y=c(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),w=c(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),E=c(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),F=c(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),L=c(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),D=c(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),p=c(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),f=c(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),g=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function v(){var U,R,H,k,O,M,P,T,A=this.context;function he(fe,Re){return Re&&fe in Re?Re[fe]:null}function Ce(fe,Re){return fe&&fe.sessionId?fe.sessionId:Re&&Re.sessionId?Re.sessionId:null}function Le(fe,Re){return fe&&fe.sessionType?fe.sessionType:Re}return U={initialize:function C(){var fe;k=[],fe=Object(F.default)(A).getInstance({BASE64:O,settings:M}),k.push(fe),fe=Object(E.default)(A).getInstance({BASE64:O}),k.push(fe),fe=Object(y.default)(A).getInstance({BASE64:O}),k.push(fe),P=fe,fe=Object(w.default)(A).getInstance({BASE64:O,debug:R}),k.push(fe),T=fe},setProtectionData:function oe(fe){for(var xe=0;xe<k.length;xe++){var pe=k[xe];pe.hasOwnProperty("init")&&pe.init((ke=pe.systemString,we=void 0,we=null,fe&&(we=ke in fe?fe[ke]:null),we))}var ke,we},isClearKey:function le(fe){return fe===P||fe===T},initDataEquals:function Fe(fe,Re){if(fe.byteLength===Re.byteLength){for(var xe=new Uint8Array(fe),pe=new Uint8Array(Re),Ue=0;Ue<xe.length;Ue++)if(xe[Ue]!==pe[Ue])return!1;return!0}return!1},getKeySystems:function B(){return k},setKeySystems:function W(fe){k=fe},getKeySystemBySystemString:function q(fe){for(var Re=0;Re<k.length;Re++)if(k[Re].systemString===fe)return k[Re];return null},getSupportedKeySystemsFromContentProtection:function $(fe,Re,xe){var pe,Ue,ke,we,Ve=[];if(fe){var st=t.default.findCencContentProtection(fe);for(ke=0;ke<k.length;++ke){var Je=he((Ue=k[ke]).systemString,Re);for(we=0;we<fe.length;++we)if((pe=fe[we]).schemeIdUri.toLowerCase()===Ue.schemeIdURI){var Ne=Ue.getInitData(pe,st);Ve.push({ks:k[ke],keyId:pe.keyId,initData:Ne,protData:Je,cdmData:Ue.getCDMData(Je?Je.cdmData:null),sessionId:Ce(Je,pe),sessionType:Le(Je,xe)})}}}return Ve},getSupportedKeySystemsFromSegmentPssh:function ae(fe,Re,xe){for(var ke,pe=[],Ue=t.default.parsePSSHList(fe),Ve=0;Ve<k.length;++Ve){var st=he((ke=k[Ve]).systemString,Re);ke.uuid in Ue&&pe.push({ks:ke,initData:Ue[ke.uuid],protData:st,cdmData:ke.getCDMData(st?st.cdmData:null),sessionId:Ce(st),sessionType:Le(st,xe)})}return pe},getLicenseServerModelInstance:function K(fe,Re,xe){if("license-release"===xe||"individualization-request"===xe)return null;var pe=null;return Re&&Re.hasOwnProperty("drmtoday")?pe=Object(L.default)(A).getInstance({BASE64:O}):fe.systemString===g.default.WIDEVINE_KEYSTEM_STRING?pe=Object(p.default)(A).getInstance():fe.systemString===g.default.PLAYREADY_KEYSTEM_STRING?pe=Object(D.default)(A).getInstance():fe.systemString===g.default.CLEARKEY_KEYSTEM_STRING&&(pe=Object(f.default)(A).getInstance()),pe},processClearKeyLicenseRequest:function ge(fe,Re,xe){try{return fe.getClearKeysFromProtectionData(Re,xe)}catch{return H.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function N(fe){fe&&(fe.debug&&(H=(R=fe.debug).getLogger(U)),fe.BASE64&&(O=fe.BASE64),fe.settings&&(M=fe.settings))}}}v.__dashjs_factory_name="ProtectionKeyController",S.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),y=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),w=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="e2719d58-a985-b3c9-781a-b030af78d30e",L=E.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+F;function p(f){var v=(f=f||{}).BASE64;function R(P){try{var T=P.replace(/-/g,"");return(T=btoa(T.match(/\w{2}/g).map(function(N){return String.fromCharCode(parseInt(N,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:F,schemeIdURI:D,systemString:L,getInitData:function U(P,T){try{var N=w.default.parseInitDataFromContentProtection(P,v);if(!N&&T){var B={kids:[R(T["cenc:default_KID"])]};N=(new TextEncoder).encode(JSON.stringify(B))}return N}catch{return null}},getRequestHeadersFromMessage:function H(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function k(P){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(P))))},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function M(){return null},getClearKeysFromProtectionData:function A(P,T){var N=null;if(P){for(var C=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],W=0;W<C.kids.length;W++){var q=C.kids[W],le=P.clearkeys&&P.clearkeys.hasOwnProperty(q)?P.clearkeys[q]:null;if(!le)throw new Error("DRM: ClearKey keyID ("+q+") is not known!");B.push(new t.default(q,le))}N=new y.default(B)}return N}}}p.__dashjs_factory_name="KeySystemClearKey",S.default=dashjs.FactoryMaker.getSingletonFactory(p)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),y=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),w="9a04f079-9840-4286-ab92-e65be0885f95",E=y.default.PLAYREADY_KEYSTEM_STRING,F="urn:uuid:"+w;function D(p){var g="utf-16",v=(p=p||{}).BASE64,A=p.settings;function U(){if(!v||!v.hasOwnProperty("decodeArray")||!v.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:w,schemeIdURI:F,systemString:E,getInitData:function O(T){var q,le,Fe,$,ae,N=new Uint8Array([112,115,115,104,0,0,0,0]),C=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,W=null;if(U(),!T)return null;if("pssh"in T)return t.default.parseInitDataFromContentProtection(T,v);if("pro"in T)W=v.decodeArray(T.pro.__text);else{if(!("prheader"in T))return null;W=v.decodeArray(T.prheader.__text)}return le=4+N.length+C.length+4+(q=W.length),Fe=new ArrayBuffer(le),$=new Uint8Array(Fe),(ae=new DataView(Fe)).setUint32(B,le),$.set(N,B+=4),$.set(C,B+=N.length),ae.setUint32(B+=C.length,q),$.set(W,B+=4),B+=q,$.buffer},getRequestHeadersFromMessage:function R(T){var N,C,B={},W=new DOMParser;if(A&&A.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===g&&T&&T.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var q="utf-16"===g?new Uint16Array(T):new Uint8Array(T);N=String.fromCharCode.apply(null,q);for(var le=(C=W.parseFromString(N,"application/xml")).getElementsByTagName("name"),Fe=C.getElementsByTagName("value"),$=0;$<le.length;$++)B[le[$].childNodes[0].nodeValue]=Fe[$].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function H(T){var N=null,C=new DOMParser;if(A&&A.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===g&&T&&T.byteLength%2==1)return T;var B="utf-16"===g?new Uint16Array(T):new Uint8Array(T);U();var W=String.fromCharCode.apply(null,B),q=C.parseFromString(W,"application/xml");if(!q.getElementsByTagName("PlayReadyKeyMessage")[0])return T;var le=q.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return le&&(N=v.decode(le)),N},getLicenseServerURLFromInitData:function k(T){if(T)for(var N=new DataView(T),C=N.getUint16(4,!0),B=6,W=new DOMParser,q=0;q<C;q++){var le=N.getUint16(B,!0),Fe=N.getUint16(B+=2,!0);if(B+=2,1===le){var $=T.slice(B,B+Fe),ae=String.fromCharCode.apply(null,new Uint16Array($)),K=W.parseFromString(ae,"application/xml");if(K.getElementsByTagName("LA_URL")[0]){var ge=K.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(ge)return ge}if(K.getElementsByTagName("LUI_URL")[0]){var oe=K.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(oe)return oe}}else B+=Fe}return null},getCDMData:function P(T){var N,C,B,W;if(U(),!T)return null;for(N=[],W=0;W<T.length;++W)N.push(T.charCodeAt(W)),N.push(0);for(N=String.fromCharCode.apply(null,N),N=v.encode(N),C='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",N),B=[],W=0;W<C.length;++W)B.push(C.charCodeAt(W)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function M(T){if("utf-8"!==T&&"utf-16"!==T)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');g=T}}}D.__dashjs_factory_name="KeySystemPlayReady",S.default=dashjs.FactoryMaker.getSingletonFactory(D)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),y=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),w=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",L=E.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+F;function p(f){var g,v=f.BASE64,A=f.debug.getLogger(g);return{uuid:F,schemeIdURI:D,systemString:L,getInitData:function R(P){return w.default.parseInitDataFromContentProtection(P,v)},getRequestHeadersFromMessage:function H(){return null},getLicenseRequestFromMessage:function k(P){return new Uint8Array(P)},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function M(){return null},getClearKeysFromProtectionData:function U(P,T){var N=null;if(P){for(var C=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],W=0;W<C.kids.length;W++){var q=C.kids[W],le=P.clearkeys&&P.clearkeys.hasOwnProperty(q)?P.clearkeys[q]:null;if(!le)throw new Error("DRM: ClearKey keyID ("+q+") is not known!");B.push(new t.default(q,le))}N=new y.default(B),A.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return N}}}p.__dashjs_factory_name="KeySystemW3CClearKey",S.default=dashjs.FactoryMaker.getSingletonFactory(p)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),y=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),w="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",E=y.default.WIDEVINE_KEYSTEM_STRING,F="urn:uuid:"+w;function L(D){var f=(D=D||{}).BASE64;return{uuid:w,schemeIdURI:F,systemString:E,getInitData:function g(H){return t.default.parseInitDataFromContentProtection(H,f)},getRequestHeadersFromMessage:function v(){return null},getLicenseRequestFromMessage:function A(H){return new Uint8Array(H)},getLicenseServerURLFromInitData:function U(){return null},getCDMData:function R(){return null}}}L.__dashjs_factory_name="KeySystemWidevine",S.default=dashjs.FactoryMaker.getSingletonFactory(L)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function w(O,M){for(var P=0;P<M.length;P++){var T=M[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var M=function L(O,M){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,M||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===y(M)?M:String(M)}function p(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&f(O,M)}function f(O,M){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,M)}function g(O){var M=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(M){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function v(O,M){if(M&&("object"===y(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var k=new(function(O){p(P,O);var M=g(P);function P(){var T;return function D(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,P),(T=M.call(this)).MEDIA_KEYERR_CODE=100,T.MEDIA_KEYERR_UNKNOWN_CODE=101,T.MEDIA_KEYERR_CLIENT_CODE=102,T.MEDIA_KEYERR_SERVICE_CODE=103,T.MEDIA_KEYERR_OUTPUT_CODE=104,T.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,T.MEDIA_KEYERR_DOMAIN_CODE=106,T.MEDIA_KEY_MESSAGE_ERROR_CODE=107,T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,T.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,T.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,T.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,T.KEY_SESSION_CREATED_ERROR_CODE=113,T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,T.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",T.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",T.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",T.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",T.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",T.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",T.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",T.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",T.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",T.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",T.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",T}return function E(O,M,P){return M&&w(O.prototype,M),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));S.default=k},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),y=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),w=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),F=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function p(f){var k,O,M,P,T,N,C,B,W,g=this.context,v=(f=f||{}).eventBus,A=f.events,U=f.debug,R=f.api,H=f.errHandler;function le(){M&&Ue();for(var ke=0;ke<C.length;ke++)Ce(C[ke]);v.trigger(A.TEARDOWN_COMPLETE)}function Ce(ke){try{M[R.cancelKeyRequest](P.systemString,ke.sessionId)}catch(we){v.trigger(A.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+ke.sessionId+") "+we.message})}}function pe(ke,we){if(!we||!ke)return null;for(var Ve=ke.length,st=0;st<Ve;st++)if(ke[st].sessionId==we)return ke[st];return null}function Ue(){M.removeEventListener(R.keyerror,W),M.removeEventListener(R.needkey,W),M.removeEventListener(R.keymessage,W),M.removeEventListener(R.keyadded,W)}return k={getAllInitData:function Fe(){for(var ke=[],we=0;we<N.length;we++)ke.push(N[we].initData);for(var Ve=0;Ve<C.length;Ve++)ke.push(C[Ve].initData);return ke},getSessions:function $(){return C.concat(N)},requestKeySystemAccess:function ae(ke){return new Promise(function(we,Ve){var st=M;st||(st=document.createElement("video"));for(var Je=!1,Ne=0;Ne<ke.length;Ne++)for(var Te=ke[Ne].ks.systemString,Y=ke[Ne].configs,_e=null,J=0;J<Y.length;J++){var Q=Y[J].videoCapabilities;if(Q&&0!==Q.length){_e=[];for(var Z=0;Z<Q.length;Z++)""!==st.canPlayType(Q[Z].contentType,Te)&&_e.push(Q[Z])}if(_e&&(!_e||0!==_e.length)){Je=!0;var te=new F.default(null,_e),ie=T.getKeySystemBySystemString(Te),ee=new L.default(ie,te);v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:ee}),we({data:ee});break}}if(!Je){var X="Key system access denied! -- No valid audio/video content configurations detected!";v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:X}),Ve({error:X})}})},selectKeySystem:function K(ke){return P=ke.keySystem,Promise.resolve(P)},setMediaElement:function ge(ke){if(M!==ke){if(M){Ue();for(var we=0;we<C.length;we++)Ce(C[we]);C=[]}(M=ke)&&(M.addEventListener(R.keyerror,W),M.addEventListener(R.needkey,W),M.addEventListener(R.keymessage,W),M.addEventListener(R.keyadded,W),v.trigger(A.VIDEO_ELEMENT_SELECTED))}},createKeySession:function oe(ke){if(!P)throw new Error("Can not create sessions until you have selected a key system");if(B||0===C.length){var we={sessionId:null,keyId:ke.keyId,initData:ke.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return N.push(we),M[R.generateKeyRequest](P.systemString,new Uint8Array(ke.initData)),we}throw new Error("Multiple sessions not allowed!")},updateKeySession:function he(ke,we){var Ve=ke.sessionId;if(T.isClearKey(P))for(var st=0;st<we.keyPairs.length;st++)M[R.addKey](P.systemString,we.keyPairs[st].key,we.keyPairs[st].keyID,Ve);else M[R.addKey](P.systemString,new Uint8Array(we),new Uint8Array(ke.initData),Ve);v.trigger(A.KEY_SESSION_UPDATED)},closeKeySession:Ce,setServerCertificate:function Le(){},loadKeySession:function fe(){},removeKeySession:function Re(){},stop:le,reset:le},function q(){O=U.getLogger(k),M=null,P=null,N=[],C=[],T=Object(t.default)(g).getInstance(),W=function xe(){return{handleEvent:function(we){var Ve=null;switch(we.type){case R.needkey:var st=ArrayBuffer.isView(we.initData)?we.initData.buffer:we.initData;v.trigger(A.NEED_KEY,{key:new y.default(st,"cenc")});break;case R.keyerror:if((Ve=pe(C,we.sessionId))||(Ve=pe(N,we.sessionId)),Ve){var Je=D.default.MEDIA_KEYERR_CODE,Ne="";switch(we.errorCode.code){case 1:Je=D.default.MEDIA_KEYERR_UNKNOWN_CODE,Ne+="MEDIA_KEYERR_UNKNOWN - "+D.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Je=D.default.MEDIA_KEYERR_CLIENT_CODE,Ne+="MEDIA_KEYERR_CLIENT - "+D.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Je=D.default.MEDIA_KEYERR_SERVICE_CODE,Ne+="MEDIA_KEYERR_SERVICE - "+D.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Je=D.default.MEDIA_KEYERR_OUTPUT_CODE,Ne+="MEDIA_KEYERR_OUTPUT - "+D.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Je=D.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Ne+="MEDIA_KEYERR_HARDWARECHANGE - "+D.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Je=D.default.MEDIA_KEYERR_DOMAIN_CODE,Ne+="MEDIA_KEYERR_DOMAIN - "+D.default.MEDIA_KEYERR_DOMAIN_MESSAGE}v.trigger(A.KEY_ERROR,{error:new w.default(Je,Ne+="  System Code = "+we.systemCode,Ve)})}else O.error("No session token found for key error");break;case R.keyadded:(Ve=pe(C,we.sessionId))||(Ve=pe(N,we.sessionId)),Ve?(O.debug("DRM: Key added."),v.trigger(A.KEY_ADDED,{data:Ve})):O.debug("No session token found for key added");break;case R.keymessage:if((B=null!=we.sessionId)?!(Ve=pe(C,we.sessionId))&&N.length>0&&(Ve=N.shift(),C.push(Ve),Ve.sessionId=we.sessionId,v.trigger(A.KEY_SESSION_CREATED,{data:Ve})):N.length>0&&(Ve=N.shift(),C.push(Ve),0!==N.length&&H.error(new w.default(D.default.MEDIA_KEY_MESSAGE_ERROR_CODE,D.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Ve){var Te=ArrayBuffer.isView(we.message)?we.message.buffer:we.message;Ve.keyMessage=Te,v.trigger(A.INTERNAL_KEY_MESSAGE,{data:new E.default(Ve,Te,we.defaultURL)})}else O.warn("No session token found for key message")}}}}()}(),k}p.__dashjs_factory_name="ProtectionModel_01b",S.default=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),y=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),w=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),E=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),p={};function f(g){var H,k,O,M,P,T,N,C,v=this.context,A=(g=g||{}).eventBus,U=g.events,R=g.debug;function ae(Je,Ne,Te,Y){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var se="Insecure origins are not allowed";return A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:se}),void Y({error:se})}var Q=Je[Ne].ks,Z=Q.systemString;(function K(Je,Ne){return new Promise(function(Te,Y){ge(Je,Ne,0,Te,Y)})})((Je[Ne].protData&&Je[Ne].protData.systemStringPriority?Je[Ne].protData.systemStringPriority:null)||(p[Z]?p[Z]:[Z]),Je[Ne].configs).then(function(ie){var ee="function"==typeof ie.getConfiguration?ie.getConfiguration():null,X=new L.default(Q,ee);X.mksa=ie,A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{data:X}),Te({data:X})}).catch(function(ie){if(Ne+1<Je.length)ae(Je,Ne+1,Te,Y);else{var ee="Key system access denied! ";A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:ee+ie.message}),Y({error:ee+ie.message})}})}function ge(Je,Ne,Te,Y,se){var _e=Je[Te];k.debug("Requesting key system access for system string ".concat(_e)),navigator.requestMediaKeySystemAccess(_e,Ne).then(function(J){J.selectedSystemString=_e,Y(J)}).catch(function(J){Te+1<Je.length?ge(Je,Ne,Te+1,Y,se):se(J)})}function Ue(Je){var Ne=Je.session;return Ne.removeEventListener("keystatuseschange",Je),Ne.removeEventListener("message",Je),Ne.close()}function we(Je){for(var Ne=0;Ne<T.length;Ne++)if(T[Ne]===Je){T.splice(Ne,1);break}}function Ve(Je){var Ne,Te;return Je&&Je.length>0&&(Je[0]&&("string"==typeof Je[0]?Ne=Je[0]:Te=Je[0]),Je[1]&&("string"==typeof Je[1]?Ne=Je[1]:Te=Je[1])),{status:Ne,keyId:Te}}function st(Je,Ne){var Te={session:Je,keyId:Ne.keyId,initData:Ne.initData,sessionId:Ne.sessionId,sessionType:Ne.sessionType,handleEvent:function(se){switch(se.type){case"keystatuseschange":A.trigger(U.KEY_STATUSES_CHANGED,{data:this}),se.target.keyStatuses.forEach(function(){var J=Ve(arguments);A.trigger(U.INTERNAL_KEY_STATUS_CHANGED,"expired"===J.status?{error:new E.default(w.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,w.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:J)});break;case"message":var _e=ArrayBuffer.isView(se.message)?se.message.buffer:se.message;A.trigger(U.INTERNAL_KEY_MESSAGE,{data:new F.default(this,_e,void 0,se.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Je.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Je.expiration},getKeyStatuses:function(){return Je.keyStatuses},getUsable:function(){var se=!1;return Je.keyStatuses.forEach(function(){"usable"===Ve(arguments).status&&(se=!0)}),se}};return Je.addEventListener("keystatuseschange",Te),Je.addEventListener("message",Te),Je.closed.then(function(){we(Te),k.debug("DRM: Session closed.  SessionID = "+Te.getSessionId()),A.trigger(U.KEY_SESSION_CLOSED,{data:Te.getSessionId()})}),T.push(Te),Te}return H={getAllInitData:function le(){for(var Je=[],Ne=0;Ne<T.length;Ne++)T[Ne].initData&&Je.push(T[Ne].initData);return Je},getSessions:function Fe(){return T},requestKeySystemAccess:function $(Je){return new Promise(function(Ne,Te){ae(Je,0,Ne,Te)})},selectKeySystem:function oe(Je){return new Promise(function(Ne,Te){Je.mksa.createMediaKeys().then(function(Y){return O=Je.keySystem,P=Y,M?M.setMediaKeys(P):Promise.resolve()}).then(function(){Ne(O)}).catch(function(){Te({error:"Error selecting keys system ("+Je.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function he(Je){M!==Je&&(M&&(M.removeEventListener("encrypted",N),M.setMediaKeys&&M.setMediaKeys(null)),(M=Je)&&(M.addEventListener("encrypted",N),M.setMediaKeys&&P&&M.setMediaKeys(P)))},setServerCertificate:function Ce(Je){if(!O||!P)throw new Error("Can not set server certificate until you have selected a key system");P.setServerCertificate(Je).then(function(){k.info("DRM: License server certificate successfully updated."),A.trigger(U.SERVER_CERTIFICATE_UPDATED)}).catch(function(Ne){A.trigger(U.SERVER_CERTIFICATE_UPDATED,{error:new E.default(w.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,w.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Ne.name)})})},createKeySession:function Le(Je){if(!O||!P)throw new Error("Can not create sessions until you have selected a key system");var Ne=P.createSession(Je.sessionType),Te=st(Ne,Je);Ne.generateRequest(O.systemString===D.default.CLEARKEY_KEYSTEM_STRING&&(Je.initData||Je.protData&&Je.protData.clearkeys)?D.default.INITIALIZATION_DATA_TYPE_KEYIDS:D.default.INITIALIZATION_DATA_TYPE_CENC,Je.initData).then(function(){k.debug("DRM: Session created.  SessionID = "+Te.getSessionId()),A.trigger(U.KEY_SESSION_CREATED,{data:Te})}).catch(function(se){we(Te),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+se.name)})})},updateKeySession:function fe(Je,Ne){var Te=Je.session;C.isClearKey(O)&&(Ne=Ne.toJWK()),Te.update(Ne).then(function(){A.trigger(U.KEY_SESSION_UPDATED)}).catch(function(Y){A.trigger(U.KEY_ERROR,{error:new E.default(w.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+Y.name,Je)})})},loadKeySession:function Re(Je){if(!O||!P)throw new Error("Can not load sessions until you have selected a key system");for(var Ne=Je.sessionId,Te=0;Te<T.length;Te++)if(Ne===T[Te].sessionId)return void k.warn("DRM: Ignoring session ID because we have already seen it!");var Y=P.createSession(Je.sessionType),se=st(Y,Je);Y.load(Ne).then(function(_e){_e?(k.debug("DRM: Session loaded.  SessionID = "+se.getSessionId()),A.trigger(U.KEY_SESSION_CREATED,{data:se})):(we(se),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Ne+")")}))}).catch(function(_e){we(se),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Ne+")! "+_e.name)})})},removeKeySession:function xe(Je){Je.session.remove().then(function(){k.debug("DRM: Session removed.  SessionID = "+Je.getSessionId()),A.trigger(U.KEY_SESSION_REMOVED,{data:Je.getSessionId()})},function(Te){A.trigger(U.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Je.getSessionId()+"). "+Te.name})})},closeKeySession:function pe(Je){Ue(Je).catch(function(Ne){we(Je),A.trigger(U.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Je.getSessionId()+") "+Ne.name})})},stop:function q(){for(var Je,Ne=0;Ne<T.length;Ne++)(Je=T[Ne]).getUsable()||Ue(Je).catch(function(){we(Je)})},reset:function W(){var Ne,Je=T.length;0!==Je?function(){for(var Te=function(_e){we(_e),0===T.length&&(M?(M.removeEventListener("encrypted",N),M.setMediaKeys(null).then(function(){A.trigger(U.TEARDOWN_COMPLETE)})):A.trigger(U.TEARDOWN_COMPLETE))},Y=0;Y<Je;Y++)!function(se){Ne.session.closed.then(function(){Te(se)}),Ue(Ne).catch(function(){Te(se)})}(Ne=T[Y])}():A.trigger(U.TEARDOWN_COMPLETE)}},function B(){k=R.getLogger(H),O=null,M=null,P=null,T=[],C=Object(t.default)(v).getInstance(),N=function ke(){return{handleEvent:function(Ne){if("encrypted"===Ne.type&&Ne.initData){var Te=ArrayBuffer.isView(Ne.initData)?Ne.initData.buffer:Ne.initData;A.trigger(U.NEED_KEY,{key:new y.default(Te,Ne.initDataType)})}}}}()}(),H}p[D.default.PLAYREADY_KEYSTEM_STRING]=[D.default.PLAYREADY_KEYSTEM_STRING,D.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],p[D.default.WIDEVINE_KEYSTEM_STRING]=[D.default.WIDEVINE_KEYSTEM_STRING],p[D.default.CLEARKEY_KEYSTEM_STRING]=[D.default.CLEARKEY_KEYSTEM_STRING],f.__dashjs_factory_name="ProtectionModel_21Jan2015",S.default=dashjs.FactoryMaker.getClassFactory(f)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),y=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),w=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),D=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function p(f){var H,k,O,M,P,T,N,C,B,g=this.context,v=(f=f||{}).eventBus,A=f.events,U=f.debug,R=f.api;function q(){try{for(var Ue=0;Ue<N.length;Ue++)he(N[Ue]);O&&O.removeEventListener(R.needkey,C),v.trigger(A.TEARDOWN_COMPLETE)}catch(ke){v.trigger(A.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+ke.message})}}function he(Ue){var ke=Ue.session;ke.removeEventListener(R.error,Ue),ke.removeEventListener(R.message,Ue),ke.removeEventListener(R.ready,Ue),ke.removeEventListener(R.close,Ue);for(var we=0;we<N.length;we++)if(N[we]===Ue){N.splice(we,1);break}ke[R.release]()}function xe(){var Ue=null,ke=function(){O.removeEventListener("loadedmetadata",Ue),O[R.setMediaKeys](P),v.trigger(A.VIDEO_ELEMENT_SELECTED)};O.readyState>=1?ke():(Ue=ke.bind(this),O.addEventListener("loadedmetadata",Ue))}return H={getAllInitData:function le(){for(var Ue=[],ke=0;ke<N.length;ke++)Ue.push(N[ke].initData);return Ue},getSessions:function Fe(){return N},requestKeySystemAccess:function $(Ue){return new Promise(function(ke,we){for(var Ve=!1,st=0;st<Ue.length;st++)for(var Je=Ue[st].ks.systemString,Ne=Ue[st].configs,Te=null,Y=null,se=0;se<Ne.length;se++){var _e=Ne[se].audioCapabilities,J=Ne[se].videoCapabilities;if(_e&&0!==_e.length){Te=[];for(var Q=0;Q<_e.length;Q++)window[R.MediaKeys].isTypeSupported(Je,_e[Q].contentType)&&Te.push(_e[Q])}if(J&&0!==J.length){Y=[];for(var Z=0;Z<J.length;Z++)window[R.MediaKeys].isTypeSupported(Je,J[Z].contentType)&&Y.push(J[Z])}if(!(!Te&&!Y||Te&&0===Te.length||Y&&0===Y.length)){Ve=!0;var te=new L.default(Te,Y),ie=B.getKeySystemBySystemString(Je),ee=new D.default(ie,te);v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:ee}),ke({data:ee});break}}if(!Ve){var X="Key system access denied! -- No valid audio/video content configurations detected!";v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:X}),we({error:X})}})},selectKeySystem:function ae(Ue){return new Promise(function(ke,we){try{P=Ue.mediaKeys=new window[R.MediaKeys](Ue.keySystem.systemString),M=Ue.keySystem,T=Ue,O&&xe(),ke(M)}catch{we({error:"Error selecting keys system ("+M.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function K(Ue){O!==Ue&&(O&&O.removeEventListener(R.needkey,C),(O=Ue)&&(O.addEventListener(R.needkey,C),P&&xe()))},createKeySession:function ge(Ue){if(!M||!P||!T)throw new Error("Can not create sessions until you have selected a key system");var ke=null;if(T.ksConfiguration.videoCapabilities&&T.ksConfiguration.videoCapabilities.length>0&&(ke=T.ksConfiguration.videoCapabilities[0]),null===ke&&T.ksConfiguration.audioCapabilities&&T.ksConfiguration.audioCapabilities.length>0&&(ke=T.ksConfiguration.audioCapabilities[0]),null===ke)throw new Error("Can not create sessions for unknown content types.");var Ve=P.createSession(ke.contentType,new Uint8Array(Ue.initData),Ue.cdmData?new Uint8Array(Ue.cdmData):null),st=function pe(Ue,ke){return{session:Ue,keyId:ke.keyId,initData:ke.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Ve){switch(Ve.type){case R.error:v.trigger(A.KEY_ERROR,{error:new w.default(E.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case R.message:var Je=ArrayBuffer.isView(Ve.message)?Ve.message.buffer:Ve.message;v.trigger(A.INTERNAL_KEY_MESSAGE,{data:new F.default(this,Je,Ve.destinationURL)});break;case R.ready:k.debug("DRM: Key added."),v.trigger(A.KEY_ADDED);break;case R.close:k.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),v.trigger(A.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Ve,Ue);Ve.addEventListener(R.error,st),Ve.addEventListener(R.message,st),Ve.addEventListener(R.ready,st),Ve.addEventListener(R.close,st),N.push(st),k.debug("DRM: Session created.  SessionID = "+st.getSessionId()),v.trigger(A.KEY_SESSION_CREATED,{data:st})},updateKeySession:function oe(Ue,ke){var we=Ue.session;B.isClearKey(M)?we.update(new Uint8Array(ke.toJWK())):we.update(new Uint8Array(ke)),v.trigger(A.KEY_SESSION_UPDATED)},closeKeySession:he,setServerCertificate:function Ce(){},loadKeySession:function Le(){},removeKeySession:function fe(){},stop:q,reset:q},function W(){k=U.getLogger(H),O=null,M=null,P=null,T=null,N=[],B=Object(t.default)(g).getInstance(),C=function Re(){return{handleEvent:function(ke){if(ke.type===R.needkey&&ke.initData){var we=ArrayBuffer.isView(ke.initData)?ke.initData.buffer:ke.initData;v.trigger(A.NEED_KEY,{key:new y.default(we,"cenc")})}}}}()}(),H}p.__dashjs_factory_name="ProtectionModel_3Feb2014",S.default=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),y=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function w(){return{getServerURLFromMessage:function F(g){return g},getHTTPMethod:function L(){return"POST"},getResponseType:function D(){return"json"},getLicenseMessage:function p(g){if(!g.hasOwnProperty("keys"))return null;for(var v=[],A=0;A<g.keys.length;A++){var U=g.keys[A],R=U.kid.replace(/=/g,""),H=U.k.replace(/=/g,"");v.push(new t.default(R,H))}return new y.default(v)},getErrorResponse:function f(g){return String.fromCharCode.apply(null,new Uint8Array(g))}}}w.__dashjs_factory_name="ClearKey",S.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function y(w){var E=(w=w||{}).BASE64,F={};return F[t.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(R){return E.decodeArray(R.license)},getErrorResponse:function(R){return R}},F[t.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(R){return R},getErrorResponse:function(R){return String.fromCharCode.apply(null,new Uint8Array(R))}},{getServerURLFromMessage:function p(U){return U},getHTTPMethod:function f(){return"POST"},getResponseType:function g(U){return F[U].responseType},getLicenseMessage:function v(U,R){return function D(){if(!E||!E.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),F[R].getLicenseMessage(U)},getErrorResponse:function A(U,R){return F[R].getErrorResponse(U)}}}y.__dashjs_factory_name="DRMToday",S.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){var w="http://schemas.xmlsoap.org/soap/envelope/";function E(A){var U=String.fromCharCode.apply(null,new Uint8Array(A));return decodeURIComponent(escape(U))}function F(A){if(window.DOMParser){var U=E(A),H=(new window.DOMParser).parseFromString(U,"text/xml"),k=H?H.getElementsByTagNameNS(w,"Envelope")[0]:null,O=k?k.getElementsByTagNameNS(w,"Body")[0]:null;if(O&&O.getElementsByTagNameNS(w,"Fault")[0])return null}return A}function L(A){var U="",R="",H="",k=-1,O=-1;if(window.DOMParser){var M=E(A),T=(new window.DOMParser).parseFromString(M,"text/xml"),N=T?T.getElementsByTagNameNS(w,"Envelope")[0]:null,C=N?N.getElementsByTagNameNS(w,"Body")[0]:null,B=C?C.getElementsByTagNameNS(w,"Fault")[0]:null,W=B?B.getElementsByTagName("detail")[0]:null,q=W?W.getElementsByTagName("Exception")[0]:null,le=null;if(null===B)return M;U=(le=B.getElementsByTagName("faultstring")[0].firstChild)?le.nodeValue:null,null!==q&&(R=(le=q.getElementsByTagName("StatusCode")[0])?le.firstChild.nodeValue:null,k=(H=(le=q.getElementsByTagName("Message")[0])?le.firstChild.nodeValue:null)?H.lastIndexOf("[")+1:-1,O=H?H.indexOf("]"):-1,H=H?H.substring(k,O):"")}var Fe="code: ".concat(R,", name: ").concat(U);return H&&(Fe+=", message: ".concat(H)),Fe}return{getServerURLFromMessage:function D(A){return A},getHTTPMethod:function p(){return"POST"},getResponseType:function f(){return"arraybuffer"},getLicenseMessage:function g(A){return F.call(this,A)},getErrorResponse:function v(A){return L.call(this,A)}}}c.r(S),t.__dashjs_factory_name="PlayReady",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){return{getServerURLFromMessage:function w(p){return p},getHTTPMethod:function E(){return"POST"},getResponseType:function F(){return"arraybuffer"},getLicenseMessage:function L(p){return p},getErrorResponse:function D(p){return String.fromCharCode.apply(null,new Uint8Array(p))}}}c.r(S),t.__dashjs_factory_name="Widevine",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f,g){if(function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p),g&&"persistent"!==g&&"temporary"!==g)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=f,this.type=g}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"toJWK",value:function(){var g,v=this.keyPairs.length,A={keys:[]};for(g=0;g<v;g++)A.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[g].keyID,k:this.keyPairs[g].key});this.type&&(A.type=this.type);var R=JSON.stringify(A),H=R.length,k=new ArrayBuffer(H),O=new Uint8Array(k);for(g=0;g<H;g++)O[g]=R.charCodeAt(g);return k}}]),p}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,v,A){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.sessionToken=f,this.message=g,this.defaultURL=v,this.messageType=A||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.keyID=f,this.key=g})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.keySystem=f,this.ksConfiguration=g})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,v,A,U){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.initDataTypes=["cenc"],f&&f.length&&(this.audioCapabilities=f),g&&g.length&&(this.videoCapabilities=g),this.distinctiveIdentifier=v,this.persistentState=A,this.sessionTypes=U})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,v,A,U,R,H,k){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=f,this.method=g,this.responseType=v,this.headers=A,this.withCredentials=U,this.messageType=R,this.sessionId=H,this.data=k})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,v){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=f,this.headers=g,this.data=v})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.contentType=f,this.robustness=g})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.initData=f,this.initDataType=g})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var E={},F={},L={};return{push:function D(v,A,U){if(A){E[v]||(E[v]=[],F[v]=0,L[v]=0);var R=U&&U.droppedVideoFrames?U.droppedVideoFrames:0,H=U&&U.totalVideoFrames?U.totalVideoFrames:0,k=R-F[v];F[v]=R;var O=H-L[v];L[v]=H;var M=E[v];isNaN(A)||(M[A]?(M[A].droppedVideoFrames+=k,M[A].totalVideoFrames+=O):M[A]={droppedVideoFrames:k,totalVideoFrames:O})}},getFrameHistory:function p(v){return E[v]},clearForStream:function f(v){try{delete E[v],delete F[v],delete L[v]}catch{}},reset:function g(){E={},F={},L={}}}}y.__dashjs_factory_name="DroppedFramesHistory";var w=t.default.getClassFactory(y);S.default=w},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(w){var F=(w=w||{}).abrController,L=w.switchHistory,D=w.droppedFramesHistory,p=w.currentRequest,f=w.useBufferOccupancyABR,g=w.useL2AABR,v=w.useLoLPABR,A=w.streamProcessor?w.streamProcessor.getScheduleController():null,U=w.streamProcessor?w.streamProcessor.getRepresentationInfo():null,R=w.videoModel?w.videoModel:null;function O(){return U?U.mediaInfo:null}return{getMediaType:function H(){var $=O();return $?$.type:null},getMediaInfo:O,getDroppedFramesHistory:function B(){return D},getCurrentRequest:function W(){return p},getSwitchHistory:function N(){return L},getStreamInfo:function k(){var $=O();return $?$.streamInfo:null},getScheduleController:function P(){return A},getAbrController:function T(){return F},getRepresentationInfo:function M(){return U},useBufferOccupancyABR:function q(){return f},useL2AABR:function le(){return g},useLoLPABR:function Fe(){return v},getVideoModel:function C(){return R}}}y.__dashjs_factory_name="RulesContext",S.default=t.default.getClassFactory(y)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w={DEFAULT:.5,STRONG:1,WEAK:0};function E(L,D,p){return{quality:void 0===L?-1:L,reason:void 0===D?null:D,priority:function U(R){var H=w.DEFAULT;return(R===w.DEFAULT||R===w.STRONG||R===w.WEAK)&&(H=R),H}(p)}}E.__dashjs_factory_name="SwitchRequest";var F=t.default.getClassFactory(E);F.NO_CHANGE=-1,F.PRIORITY=w,t.default.updateClassFactory(E.__dashjs_factory_name,F),S.default=F},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function E(){var L=[],D=[];return{push:function p(v){v.newValue===y.default.NO_CHANGE&&(v.newValue=v.oldValue),L[v.oldValue]||(L[v.oldValue]={noDrops:0,drops:0,dropSize:0});var A=v.newValue-v.oldValue,U=A<0?1:0,R=U?-A:0,H=U?0:1;if(L[v.oldValue].drops+=U,L[v.oldValue].dropSize+=R,L[v.oldValue].noDrops+=H,D.push({idx:v.oldValue,noDrop:H,drop:U,dropSize:R}),D.length>8){var k=D.shift();L[k.idx].drops-=k.drop,L[k.idx].dropSize-=k.dropSize,L[k.idx].noDrops-=k.noDrop}},getSwitchRequests:function f(){return L},reset:function g(){L=[],D=[]}}}E.__dashjs_factory_name="SwitchRequestHistory";var F=t.default.getClassFactory(E);S.default=F},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(E){var k,O,M,P,T,L=3,D=4,p=4,f=1.3,g=1.3,H=(E=E||{}).settings;function W(fe,Re,xe,pe){var Ue=Math.pow(.5,xe/pe.fast);fe.fastEstimate=(1-Ue)*Re+Ue*fe.fastEstimate;var ke=Math.pow(.5,xe/pe.slow);fe.slowEstimate=(1-ke)*Re+ke*fe.slowEstimate,fe.totalWeight+=xe}function le(fe,Re,xe){return H.get().streaming.abr.movingAverageMethod!==t.default.MOVING_AVERAGE_SLIDING_WINDOW?function $(fe,Re){var xe=fe?T.throughputHalfLife:T.latencyHalfLife,pe=fe?M[Re]:P[Re];if(!pe||pe.totalWeight<=0)return NaN;var Ue=pe.fastEstimate/(1-Math.pow(.5,pe.totalWeight/xe.fast)),ke=pe.slowEstimate/(1-Math.pow(.5,pe.totalWeight/xe.slow));return fe?Math.min(Ue,ke):Math.max(Ue,ke)}(fe,Re):function Fe(fe,Re,xe){var pe=function q(fe,Re,xe){var pe,Ue;if(fe?(pe=k[Re],Ue=xe?L:D):(pe=O[Re],Ue=p),pe){if(Ue>=pe.length)Ue=pe.length;else if(fe)for(var ke=1;ke<Ue;++ke){var we=pe[pe.length-ke]/pe[pe.length-ke-1];if((we>=g||we<=1/f)&&(Ue+=1)===pe.length)break}}else Ue=0;return Ue}(fe,Re,xe),ke=(fe?k:O)[Re];return 0!==pe&&ke&&0!==ke.length?(ke=ke.slice(-pe)).reduce(function(we,Ve){return we+Ve})/ke.length:NaN}(fe,Re,xe)}function ae(fe,Re){return le(!0,fe,Re)}function oe(fe){k[fe]=k[fe]||[],O[fe]=O[fe]||[],M[fe]=M[fe]||{fastEstimate:0,slowEstimate:0,totalWeight:0},P[fe]=P[fe]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Ce(){k={},O={},M={},P={}}var Le={push:function B(fe,Re,xe){if(Re.trace&&Re.trace.length){var we,pe=Re.tresponse.getTime()-Re.trequest.getTime()||1,Ue=Re._tfinish.getTime()-Re.tresponse.getTime()||1,ke=Re.trace.reduce(function(st,Je){return st+Je.b[0]},0),Ve=0;if(0!==(we=Re._fileLoaderType&&Re._fileLoaderType===t.default.FILE_LOADER_TYPES.FETCH?Re.trace.reduce(function(st,Je){return st+Je.d},0):xe?Ue:pe+Ue)&&(Ve=Math.round(8*ke/we)),oe(fe),function C(fe,Re,xe){return fe===t.default.VIDEO?xe<H.get().streaming.cacheLoadThresholds[t.default.VIDEO]:fe===t.default.AUDIO?xe<H.get().streaming.cacheLoadThresholds[t.default.AUDIO]:void 0}(fe,0,Ue)){if(k[fe].length>0&&!k[fe].hasCachedEntries)return;k[fe].hasCachedEntries=!0}else k[fe]&&k[fe].hasCachedEntries&&function he(fe){delete k[fe],delete O[fe],delete M[fe],delete P[fe],oe(fe)}(fe);k[fe].push(Ve),k[fe].length>20&&k[fe].shift(),O[fe].push(pe),O[fe].length>20&&O[fe].shift(),W(M[fe],Ve,.001*Ue,T.throughputHalfLife),W(P[fe],pe,1,T.latencyHalfLife)}},getAverageThroughput:ae,getSafeAverageThroughput:function K(fe,Re){var xe=ae(fe,Re);return isNaN(xe)||(xe*=H.get().streaming.abr.bandwidthSafetyFactor),xe},getAverageLatency:function ge(fe){return le(!1,fe)},reset:Ce};return function N(){T={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},Ce()}(),Le}w.__dashjs_factory_name="ThroughputHistory",S.default=y.default.getClassFactory(w)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),y=c(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),w=c(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),E=c(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),F=c(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),L=c(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),D=c(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),p=c(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),f=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),A="qualitySwitchRules",U="abandonFragmentRules";function R(k){var B,W,O=this.context,M=(k=k||{}).mediaPlayerModel,P=k.customParametersModel,T=k.dashMetrics,N=k.settings;function le(oe){return oe.filter(function(he){return he.quality>g.default.NO_CHANGE})}function Fe(oe){var Le,fe,Re,xe,pe,he={},Ce=null;if(0!==oe.length){for(he[g.default.PRIORITY.STRONG]={quality:g.default.NO_CHANGE,reason:null},he[g.default.PRIORITY.WEAK]={quality:g.default.NO_CHANGE,reason:null},he[g.default.PRIORITY.DEFAULT]={quality:g.default.NO_CHANGE,reason:null},Le=0,fe=oe.length;Le<fe;Le+=1)(Re=oe[Le]).quality!==g.default.NO_CHANGE&&(he[Re.priority].quality===g.default.NO_CHANGE||he[Re.priority].quality>Re.quality)&&(he[Re.priority].quality=Re.quality,he[Re.priority].reason=Re.reason||null);return he[g.default.PRIORITY.WEAK].quality!==g.default.NO_CHANGE&&(Ce=he[g.default.PRIORITY.WEAK]),he[g.default.PRIORITY.DEFAULT].quality!==g.default.NO_CHANGE&&(Ce=he[g.default.PRIORITY.DEFAULT]),he[g.default.PRIORITY.STRONG].quality!==g.default.NO_CHANGE&&(Ce=he[g.default.PRIORITY.STRONG]),Ce&&(xe=Ce.quality,pe=Ce.reason),Object(g.default)(O).create(xe,pe)}}return{initialize:function q(){B=[],W=[],N.get().streaming.abr.useDefaultABRRules&&(N.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_L2A?B.push(Object(D.default)(O).create({dashMetrics:T,settings:N})):N.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_LoLP?B.push(Object(p.default)(O).create({dashMetrics:T})):(B.push(Object(L.default)(O).create({dashMetrics:T,mediaPlayerModel:M,settings:N})),B.push(Object(t.default)(O).create({dashMetrics:T})),N.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(y.default)(O).create({dashMetrics:T,settings:N})),N.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(F.default)(O).create()),N.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(E.default)(O).create()),N.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&W.push(Object(w.default)(O).create({dashMetrics:T,mediaPlayerModel:M,settings:N})))),P.getAbrCustomRules().forEach(function(he){he.type===A&&B.push(he.rule(O).create()),he.type===U&&W.push(he.rule(O).create())})},reset:function K(){[B,W].forEach(function(oe){oe&&oe.length&&oe.forEach(function(he){return he.reset&&he.reset()})}),B=[],W=[]},getMaxQuality:function $(oe){return Fe(le(B.map(function(fe){return fe.getMaxIndex(oe)})))||Object(g.default)(O).create()},getMinSwitchRequest:Fe,shouldAbandonFragment:function ae(oe,he){return Fe(le(W.map(function(Re){return Re.shouldAbandon(oe,he)})))||Object(g.default)(O).create()},getQualitySwitchRules:function ge(){return B}}}R.__dashjs_factory_name="ABRRulesCollection";var H=f.default.getClassFactory(R);H.QUALITY_SWITCH_RULES=A,H.ABANDON_FRAGMENT_RULES=U,f.default.updateSingletonFactory(R.__dashjs_factory_name,H),S.default=H},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function E(F){var U,R,H,k,O,f=this.context,g=(F=F||{}).mediaPlayerModel,v=F.dashMetrics,A=F.settings;function C(){H={},k={},O=[]}return U={shouldAbandon:function N(B){var W=Object(t.default)(f).create(t.default.NO_CHANGE,{name:E.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return W;var q=B.getMediaInfo(),le=B.getMediaType(),Fe=B.getStreamInfo(),$=Fe?Fe.id:null,ae=B.getCurrentRequest();if(!isNaN(ae.index)){!function P(B,W){H[B]=H[B]||{},H[B][W]=H[B][W]||{}}(le,ae.index);var K=g.getStableBufferTime();if(v.getCurrentBufferLevel(le)>K)return W;var oe=H[le][ae.index];if(null===oe||null===ae.firstByteDate||k.hasOwnProperty(oe.id))return W;if(void 0===oe.firstByteTime&&(O[le]=[],oe.firstByteTime=ae.firstByteDate.getTime(),oe.segmentDuration=ae.duration,oe.bytesTotal=ae.bytesTotal,oe.id=ae.index),oe.bytesLoaded=ae.bytesLoaded,oe.elapsedTime=(new Date).getTime()-oe.firstByteTime,oe.bytesLoaded>0&&oe.elapsedTime>0&&function T(B,W){O[B]=O[B]||[],O[B].push(W)}(le,Math.round(8*oe.bytesLoaded/oe.elapsedTime)),O[le].length>=5&&oe.elapsedTime>500&&oe.bytesLoaded<oe.bytesTotal){var he=O[le].reduce(function(ke,we){return ke+we},0);if(oe.measuredBandwidthInKbps=Math.round(he/O[le].length),oe.estimatedTimeOfDownload=+(8*oe.bytesTotal/oe.measuredBandwidthInKbps/1e3).toFixed(2),oe.estimatedTimeOfDownload<1.8*oe.segmentDuration||0===B.getRepresentationInfo().quality)return W;if(!k.hasOwnProperty(oe.id)){var Ce=B.getAbrController(),Le=oe.bytesTotal-oe.bytesLoaded,fe=Ce.getBitrateList(q),Re=Ce.getQualityForBitrate(q,oe.measuredBandwidthInKbps*A.get().streaming.abr.bandwidthSafetyFactor,$),xe=Ce.getMinAllowedIndexFor(le,$),pe=void 0!==xe?Math.max(xe,Re):Re;Le>oe.bytesTotal*fe[pe].bitrate/fe[Ce.getQualityFor(le,$)].bitrate&&(W.quality=pe,W.reason.throughput=oe.measuredBandwidthInKbps,W.reason.fragmentID=oe.id,k[oe.id]=oe,R.debug("["+le+"] frag id",oe.id," is asking to abandon and switch to quality to ",pe," measured bandwidth was",oe.measuredBandwidthInKbps),delete H[le][oe.id])}}else oe.bytesLoaded===oe.bytesTotal&&delete H[le][oe.id]}return W},reset:C},function M(){R=Object(w.default)(f).getInstance().getLogger(U),C()}(),U}E.__dashjs_factory_name="AbandonRequestsRule",S.default=y.default.getClassFactory(E)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),y=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),U=10;function k(O){var C,B,W,M=this.context,P=(O=O||{}).dashMetrics,T=O.mediaPlayerModel,N=Object(F.default)(M).getInstance();function Fe(Ne,Te,Y){var se=Y.reduce(function(Z,te,ie){return te>Y[Z]?ie:Z},0);if(0===se)return null;var _e=Math.max(Ne,U+2*Te.length),J=(Y[se]-1)/(_e/U-1);return{gp:J,Vp:U/J}}function $(Ne){var Te={},se=Ne.getMediaInfo().bitrateList.map(function(Z){return Z.bandwidth}),_e=function le(Ne){return Ne.map(function(Te){return Math.log(Te)})}(se);_e=_e.map(function(Z){return Z-_e[0]+1});var J=T.getStableBufferTime(),Q=Fe(J,se,_e);return Q?(Te.state=1,Te.bitrates=se,Te.utilities=_e,Te.stableBufferTime=J,Te.Vp=Q.Vp,Te.gp=Q.gp,Te.lastQuality=0,ae(Te)):Te.state=0,Te}function ae(Ne){Ne.placeholderBuffer=0,Ne.mostAdvancedSegmentStart=NaN,Ne.lastSegmentWasReplacement=!1,Ne.lastSegmentStart=NaN,Ne.lastSegmentDurationS=NaN,Ne.lastSegmentRequestTimeMs=NaN,Ne.lastSegmentFinishTimeMs=NaN}function K(Ne,Te){var Y=T.getStableBufferTime();if(Ne.stableBufferTime!==Y){var se=Fe(Y,Ne.bitrates,Ne.utilities);if(se.Vp!==Ne.Vp||se.gp!==Ne.gp){var _e=P.getCurrentBufferLevel(Te),J=_e+Ne.placeholderBuffer;J-=U,J*=se.Vp/Ne.Vp,J+=U,Ne.stableBufferTime=Y,Ne.Vp=se.Vp,Ne.gp=se.gp,Ne.placeholderBuffer=Math.max(0,J-_e)}}}function he(Ne,Te){return Ne.Vp*(Ne.utilities[Te]+Ne.gp)}function Ce(Ne,Te){for(var Y=Ne.bitrates[Te],se=Ne.utilities[Te],_e=0,J=Te-1;J>=0;--J)if(Ne.utilities[J]<Ne.utilities[Te]){var Q=Ne.bitrates[J];_e=Math.max(_e,Ne.Vp*(Ne.gp+(Y*Ne.utilities[J]-Q*se)/(Y-Q)))}return _e}function fe(Ne){var Y=Ne.mediaType===f.default.AUDIO?[f.default.AUDIO]:W;for(var se in Y)W.hasOwnProperty(se)&&2===W[se].state&&(W[se].placeholderBuffer=0)}function Re(){for(var Ne in W)if(W.hasOwnProperty(Ne)){var Te=W[Ne];0!==Te.state&&(Te.state=1,ae(Te))}}function xe(Ne){if(Ne&&Ne.chunk&&Ne.chunk.mediaInfo){var Te=W[Ne.chunk.mediaInfo.type];if(Te&&0!==Te.state){var Y=Ne.chunk.start;isNaN(Te.mostAdvancedSegmentStart)||Y>Te.mostAdvancedSegmentStart?(Te.mostAdvancedSegmentStart=Y,Te.lastSegmentWasReplacement=!1):Te.lastSegmentWasReplacement=!0,Te.lastSegmentStart=Y,Te.lastSegmentDurationS=Ne.chunk.duration,Te.lastQuality=Ne.chunk.quality,Ue(Te,Ne.chunk.mediaInfo.type)}}}function pe(Ne){if(Ne&&Ne.metric===t.default.HTTP_REQUEST&&Ne.value&&Ne.value.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&Ne.value.trace&&Ne.value.trace.length){var Te=W[Ne.mediaType];Te&&0!==Te.state&&(Te.lastSegmentRequestTimeMs=Ne.value.trequest.getTime(),Te.lastSegmentFinishTimeMs=Ne.value._tfinish.getTime(),Ue(Te,Ne.mediaType))}}function Ue(Ne,Te){if(!isNaN(Ne.lastSegmentStart)&&!isNaN(Ne.lastSegmentRequestTimeMs)&&!isNaN(Ne.placeholderBuffer)){if(Ne.placeholderBuffer*=.99,!isNaN(Ne.lastSegmentFinishTimeMs)){var se=P.getCurrentBufferLevel(Te)+.001*(Ne.lastSegmentFinishTimeMs-Ne.lastSegmentRequestTimeMs),_e=he(Ne,Ne.lastQuality),J=Math.max(0,_e-se);Ne.placeholderBuffer=Math.min(J,Ne.placeholderBuffer)}Ne.lastSegmentWasReplacement&&!isNaN(Ne.lastSegmentDurationS)&&(Ne.placeholderBuffer+=Ne.lastSegmentDurationS),Ne.lastSegmentStart=NaN,Ne.lastSegmentRequestTimeMs=NaN}}function ke(Ne){if(Ne){var Te=W[Ne.mediaType];Te&&0!==Te.state&&(Te.abrQuality=Ne.newQuality)}}function we(Ne){if(Ne){var Te=W[Ne.mediaType];if(Te&&0!==Te.state){var se,Y=P.getCurrentBufferLevel(Ne.mediaType);se=Te.abrQuality>0?Ce(Te,Te.abrQuality):U;var _e=Math.max(0,se-Y);Te.placeholderBuffer=Math.min(Te.placeholderBuffer,_e)}}}function st(){W={}}return C={getMaxIndex:function Ve(Ne){var Te=Object(y.default)(M).create();if(!(Ne&&Ne.hasOwnProperty("getMediaInfo")&&Ne.hasOwnProperty("getMediaType")&&Ne.hasOwnProperty("getScheduleController")&&Ne.hasOwnProperty("getStreamInfo")&&Ne.hasOwnProperty("getAbrController")&&Ne.hasOwnProperty("useBufferOccupancyABR")))return Te;var Y=Ne.getMediaInfo(),se=Ne.getMediaType(),_e=Ne.getScheduleController(),J=Ne.getStreamInfo(),Q=Ne.getAbrController(),Z=Q.getThroughputHistory(),te=J?J.id:null,ie=J&&J.manifestInfo&&J.manifestInfo.isDynamic,ee=Ne.useBufferOccupancyABR();if(Te.reason=Te.reason||{},!ee)return Te;_e.setTimeToLoadDelay(0);var X=function ge(Ne){var Te=Ne.getMediaType(),Y=W[Te];return Y?0!==Y.state&&K(Y,Te):(Y=$(Ne),W[Te]=Y),Y}(Ne);if(0===X.state)return Te;var We,ue=P.getCurrentBufferLevel(se),ve=Z.getAverageThroughput(se,ie),de=Z.getSafeAverageThroughput(se,ie),Ae=Z.getAverageLatency(se);if(Te.reason.state=X.state,Te.reason.throughput=ve,Te.reason.latency=Ae,isNaN(ve))return Te;switch(X.state){case 1:We=Q.getQualityForBitrate(Y,de,te,Ae),Te.quality=We,Te.reason.throughput=de,X.placeholderBuffer=Math.max(0,Ce(X,We)-ue),X.lastQuality=We,!isNaN(X.lastSegmentDurationS)&&ue>=X.lastSegmentDurationS&&(X.state=2);break;case 2:(function Le(Ne,Te){var Y=Date.now();isNaN(Ne.lastSegmentFinishTimeMs)?isNaN(Ne.lastCallTimeMs)||(Ne.placeholderBuffer+=Math.max(0,.001*(Y-Ne.lastCallTimeMs))):Ne.placeholderBuffer+=Math.max(0,.001*(Y-Ne.lastSegmentFinishTimeMs)),Ne.lastCallTimeMs=Y,Ne.lastSegmentStart=NaN,Ne.lastSegmentRequestTimeMs=NaN,Ne.lastSegmentFinishTimeMs=NaN,K(Ne,Te)})(X,se),We=function oe(Ne,Te){for(var Y=Ne.bitrates.length,se=NaN,_e=NaN,J=0;J<Y;++J){var Q=(Ne.Vp*(Ne.utilities[J]+Ne.gp)-Te)/Ne.bitrates[J];(isNaN(_e)||Q>=_e)&&(_e=Q,se=J)}return se}(X,ue+X.placeholderBuffer);var He=Q.getQualityForBitrate(Y,de,te,Ae);We>X.lastQuality&&We>He&&(We=Math.max(He,X.lastQuality));var at=Math.max(0,ue+X.placeholderBuffer-he(X,We));at<=X.placeholderBuffer?(X.placeholderBuffer-=at,at=0):(at-=X.placeholderBuffer,X.placeholderBuffer=0,We<Q.getMaxAllowedIndexFor(se,te)?_e.setTimeToLoadDelay(1e3*at):at=0),Te.quality=We,Te.reason.throughput=ve,Te.reason.latency=Ae,Te.reason.bufferLevel=ue,Te.reason.placeholderBuffer=X.placeholderBuffer,Te.reason.delay=at,X.lastQuality=We;break;default:B.debug("BOLA ABR rule invoked in bad state."),Te.quality=Q.getQualityForBitrate(Y,de,te,Ae),Te.reason.state=X.state,Te.reason.throughput=de,Te.reason.latency=Ae,X.state=1,ae(X)}return Te},reset:function Je(){st(),N.off(p.default.BUFFER_EMPTY,fe,C),N.off(p.default.PLAYBACK_SEEKING,Re,C),N.off(p.default.METRIC_ADDED,pe,C),N.off(p.default.QUALITY_CHANGE_REQUESTED,ke,C),N.off(p.default.FRAGMENT_LOADING_ABANDONED,we,C),N.off(L.default.MEDIA_FRAGMENT_LOADED,xe,C)}},function q(){B=Object(D.default)(M).getInstance().getLogger(C),st(),N.on(p.default.BUFFER_EMPTY,fe,C),N.on(p.default.PLAYBACK_SEEKING,Re,C),N.on(p.default.METRIC_ADDED,pe,C),N.on(p.default.QUALITY_CHANGE_REQUESTED,ke,C),N.on(p.default.FRAGMENT_LOADING_ABANDONED,we,C),N.on(L.default.MEDIA_FRAGMENT_LOADED,xe,C)}(),C}k.__dashjs_factory_name="BolaRule",S.default=w.default.getClassFactory(k)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function E(){var L,D,F=this.context;return L={getMaxIndex:function v(A){var U=Object(y.default)(F).create();if(!A||!A.hasOwnProperty("getDroppedFramesHistory"))return U;var R=A.getDroppedFramesHistory(),H=A.getStreamInfo().id;if(R){var k=R.getFrameHistory(H);if(!k||0===k.length)return U;for(var O=0,M=0,P=y.default.NO_CHANGE,T=1;T<k.length;T++)if(k[T]&&(O=k[T].droppedVideoFrames,(M=k[T].totalVideoFrames)>375&&O/M>.15)){D.debug("index: "+(P=T-1)+" Dropped Frames: "+O+" Total Frames: "+M);break}return Object(y.default)(F).create(P,{droppedFrames:O})}return U}},function g(){D=Object(w.default)(F).getInstance().getLogger(L)}(),L}E.__dashjs_factory_name="DroppedFramesRule",S.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function f(g){g=g||{};var k,O,M,A=2,U=this.context,R=Object(t.default)(U).getInstance(),H=g.dashMetrics;function B(){(M={})[L.default.VIDEO]={ignoreCount:A},M[L.default.AUDIO]={ignoreCount:A}}function W(){B()}function q(Fe){!isNaN(Fe.startTime)&&(Fe.mediaType===L.default.AUDIO||Fe.mediaType===L.default.VIDEO)&&M[Fe.mediaType].ignoreCount>0&&M[Fe.mediaType].ignoreCount--}return k={getMaxIndex:function N(Fe){var $=Object(F.default)(U).create();if(!Fe||!Fe.hasOwnProperty("getMediaType"))return $;!function T(){if(!H||!H.hasOwnProperty("getCurrentBufferLevel")||!H.hasOwnProperty("getCurrentBufferState"))throw new Error(L.default.MISSING_CONFIG_ERROR)}();var ae=Fe.getMediaType(),K=H.getCurrentBufferState(ae),oe=Fe.getRepresentationInfo().fragmentDuration,he=Fe.getStreamInfo(),Ce=he?he.id:null,Le=Fe.getScheduleController(),fe=he&&he.manifestInfo&&he.manifestInfo.isDynamic;if(function C(Fe,$){return!Fe&&M[$].ignoreCount>0}(Le.getPlaybackController().getLowLatencyModeEnabled(),ae)||!oe)return $;if(K&&K.state===D.default.BUFFER_EMPTY)O.debug("["+ae+"] Switch to index 0; buffer is empty."),$.quality=0,$.reason="InsufficientBufferRule: Buffer is empty";else{var pe=Fe.getMediaInfo(),Ue=Fe.getAbrController(),ke=Ue.getThroughputHistory(),we=H.getCurrentBufferLevel(ae),Ve=ke.getAverageThroughput(ae,fe),st=ke.getAverageLatency(ae);$.quality=Ue.getQualityForBitrate(pe,Ve*(we/oe)*.5,Ce,st),$.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return $},reset:function le(){B(),R.off(p.default.PLAYBACK_SEEKING,W,k),R.off(y.default.BYTES_APPENDED_END_FRAGMENT,q,k)}},function P(){O=Object(E.default)(U).getInstance().getLogger(k),B(),R.on(p.default.PLAYBACK_SEEKING,W,k),R.on(y.default.BYTES_APPENDED_END_FRAGMENT,q,k)}(),k}f.__dashjs_factory_name="InsufficientBufferRule",S.default=w.default.getClassFactory(f)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),y=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function A(U){var O,M,P,T,R=this.context,H=(U=U||{}).dashMetrics,k=Object(F.default)(R).getInstance();function C(fe){var Re={},xe=fe.getMediaInfo(),pe=xe.bitrateList.map(function(Ue){return Ue.bandwidth/1e3});return Re.state=1,Re.bitrates=pe,Re.lastQuality=0,function B(fe){!fe||!fe.type||(P[fe.type]={},P[fe.type].w=[],P[fe.type].prev_w=[],P[fe.type].Q=0,P[fe.type].segment_request_start_s=0,P[fe.type].segment_download_finish_s=0,P[fe.type].B_target=1.5)}(xe),W(Re),Re}function W(fe){fe.placeholderBuffer=0,fe.mostAdvancedSegmentStart=NaN,fe.lastSegmentWasReplacement=!1,fe.lastSegmentStart=NaN,fe.lastSegmentDurationS=NaN,fe.lastSegmentRequestTimeMs=NaN,fe.lastSegmentFinishTimeMs=NaN}function le(){for(var fe in M)if(M.hasOwnProperty(fe)){var Re=M[fe];0!==Re.state&&(Re.state=1,W(Re))}}function Fe(fe){if(fe&&fe.chunk&&fe.chunk.mediaInfo){var Re=M[fe.chunk.mediaInfo.type],xe=P[fe.chunk.mediaInfo.type];if(Re&&0!==Re.state){var pe=fe.chunk.start;isNaN(Re.mostAdvancedSegmentStart)||pe>Re.mostAdvancedSegmentStart?(Re.mostAdvancedSegmentStart=pe,Re.lastSegmentWasReplacement=!1):Re.lastSegmentWasReplacement=!0,Re.lastSegmentStart=pe,Re.lastSegmentDurationS=fe.chunk.duration,Re.lastQuality=fe.chunk.quality,ae(Re,xe)}}}function $(fe){if(fe&&fe.metric===t.default.HTTP_REQUEST&&fe.value&&fe.value.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&fe.value.trace&&fe.value.trace.length){var Re=M[fe.mediaType],xe=P[fe.mediaType];Re&&0!==Re.state&&(Re.lastSegmentRequestTimeMs=fe.value.trequest.getTime(),Re.lastSegmentFinishTimeMs=fe.value._tfinish.getTime(),ae(Re,xe))}}function ae(fe,Re){!isNaN(fe.lastSegmentStart)&&!isNaN(fe.lastSegmentRequestTimeMs)&&(Re.segment_request_start_s=.001*fe.lastSegmentRequestTimeMs,Re.segment_download_finish_s=.001*fe.lastSegmentFinishTimeMs,fe.lastSegmentStart=NaN,fe.lastSegmentRequestTimeMs=NaN)}function K(fe){if(fe&&fe.mediaType){var Re=M[fe.mediaType];Re&&0!==Re.state&&(Re.abrQuality=fe.newQuality)}}function ge(fe,Re){if(fe.length!==Re.length)return-1;for(var xe=0,pe=0;pe<fe.length;pe++)xe+=fe[pe]*Re[pe];return xe}function Ce(){M={},P={}}return O={getMaxIndex:function he(fe){var X,Re=Object(y.default)(R).create(),pe=Math.pow(4,.99),Ue=Math.max(Math.pow(4,1),pe*Math.sqrt(4)),ke=fe.getMediaInfo(),we=fe.getMediaType(),Ve=ke.bitrateList.map(function(dn){return dn.bandwidth}),st=Ve.length,Je=fe.getScheduleController(),Ne=fe.getStreamInfo(),Te=fe.getAbrController(),Y=Te.getThroughputHistory(),se=Ne&&Ne.manifestInfo&&Ne.manifestInfo.isDynamic,_e=fe.useL2AABR(),J=H.getCurrentBufferLevel(we,!0),Q=Y.getSafeAverageThroughput(we,se),Z=Y.getAverageThroughput(we,se),ie=Y.getAverageLatency(we),ue=fe.getVideoModel().getPlaybackRate();if(!(fe&&fe.hasOwnProperty("getMediaInfo")&&fe.hasOwnProperty("getMediaType")&&fe.hasOwnProperty("getScheduleController")&&fe.hasOwnProperty("getStreamInfo")&&fe.hasOwnProperty("getAbrController")&&fe.hasOwnProperty("useL2AABR")&&(Re.reason=Re.reason||{},_e&&we!==p.default.AUDIO)))return Re;Je.setTimeToLoadDelay(0);var ve=function q(fe){var Re=fe.getMediaType(),xe=M[Re];return xe||(xe=C(fe),M[Re]=xe),xe}(fe);if(0===ve.state)return Re;var de=P[we];if(!de||(Re.reason.state=ve.state,Re.reason.throughput=Z,Re.reason.latency=ie,isNaN(Z)))return Re;switch(ve.state){case 1:if(X=Te.getQualityForBitrate(ke,Q,Ne.id,ie),Re.quality=X,Re.reason.throughput=Q,ve.lastQuality=X,!isNaN(ve.lastSegmentDurationS)&&J>=de.B_target){ve.state=2,de.Q=pe;for(var Ae=0;Ae<st;++Ae)de.prev_w[Ae]=Ae===ve.lastQuality?1:0}break;case 2:var We=[],He=H.getCurrentHttpRequest(we).trace.reduce(function(dn,un){return dn+un.d},0),at=H.getCurrentHttpRequest(we).trace.reduce(function(dn,un){return dn+un.b[0]},0),ct=Math.round(8*at/He);ct<1&&(ct=1);for(var it=ve.lastSegmentDurationS,vt=1,Ht=0;Ht<st;++Ht)Ve[Ht]=Ve[Ht]/1e3,ue*Ve[Ht]>ct&&(vt=-1),de.w[Ht]=de.prev_w[Ht]+vt*(it/(2*Ue))*((de.Q+pe)*(ue*Ve[Ht]/ct));de.w=function oe(fe){for(var Re=fe.length,xe=!1,pe=[],Ue=0;Ue<Re;++Ue)pe[Ue]=fe[Ue];for(var ke=fe.sort(function(Te,Y){return Y-Te}),we=0,Ve=0,st=[],Je=0;Je<Re-1;++Je)if((Ve=((we+=ke[Je])-1)/(Je+1))>=ke[Je+1]){xe=!0;break}xe||(Ve=(we+ke[Re-1]-1)/Re);for(var Ne=0;Ne<Re;++Ne)st[Ne]=Math.max(pe[Ne]-Ve,0);return st}(de.w);for(var It=0;It<st;++It)We[It]=de.w[It]-de.prev_w[It],de.prev_w[It]=de.w[It];de.Q=Math.max(0,de.Q-it+it*ue*((ge(Ve,de.prev_w)+ge(Ve,We))/ct));for(var jt=[],en=0;en<st;++en)jt[en]=Math.abs(Ve[en]-ge(de.w,Ve));(X=jt.indexOf(Math.min.apply(Math,jt)))>ve.lastQuality&&Ve[ve.lastQuality+1]<=ct&&(X=ve.lastQuality+1),Ve[X]>=ct&&(de.Q=2*Math.max(pe,de.Q)),Re.quality=X,Re.reason.throughput=Z,Re.reason.latency=ie,Re.reason.bufferLevel=J,ve.lastQuality=Re.quality;break;default:T.debug("L2A ABR rule invoked in bad state."),Re.quality=Te.getQualityForBitrate(ke,Q,Ne.id,ie),Re.reason.state=ve.state,Re.reason.throughput=Q,Re.reason.latency=ie,ve.state=1,W(ve)}return Re},reset:function Le(){Ce(),k.off(L.default.PLAYBACK_SEEKING,le,O),k.off(L.default.MEDIA_FRAGMENT_LOADED,Fe,O),k.off(L.default.METRIC_ADDED,$,O),k.off(L.default.QUALITY_CHANGE_REQUESTED,K,O)}},function N(){T=Object(D.default)(R).getInstance().getLogger(O),Ce(),k.on(L.default.PLAYBACK_SEEKING,le,O),k.on(L.default.MEDIA_FRAGMENT_LOADED,Fe,O),k.on(L.default.METRIC_ADDED,$,O),k.on(L.default.QUALITY_CHANGE_REQUESTED,K,O)}(),O}A.__dashjs_factory_name="L2ARule",S.default=w.default.getClassFactory(A)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function E(){var L,D,F=this.context;return L={getMaxIndex:function v(A){for(var U=A?A.getSwitchHistory():null,R=U?U.getSwitchRequests():[],H=0,k=0,O=0,M=Object(w.default)(F).create(),P=0;P<R.length;P++)if(void 0!==R[P]&&(O+=R[P].dropSize,(H+=R[P].drops)+(k+=R[P].noDrops)>=6&&H/k>.075)){M.quality=P>0&&R[P].drops>0?P-1:P,M.reason={index:M.quality,drops:H,noDrops:k,dropSize:O},D.debug("Switch history rule index: "+M.quality+" samples: "+(H+k)+" drops: "+H);break}return M}},function g(){D=Object(y.default)(F).getInstance().getLogger(L)}(),L}E.__dashjs_factory_name="SwitchHistoryRule",S.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function F(L){var D=this.context,p=(L=L||{}).dashMetrics;return{getMaxIndex:function A(R){var H=Object(y.default)(D).create();if(!(R&&R.hasOwnProperty("getMediaInfo")&&R.hasOwnProperty("getMediaType")&&R.hasOwnProperty("useBufferOccupancyABR")&&R.hasOwnProperty("getAbrController")&&R.hasOwnProperty("getScheduleController")))return H;!function v(){if(!p||!p.hasOwnProperty("getCurrentBufferState"))throw new Error(w.default.MISSING_CONFIG_ERROR)}();var k=R.getMediaInfo(),O=R.getMediaType(),M=p.getCurrentBufferState(O),P=R.getScheduleController(),T=R.getAbrController(),N=R.getStreamInfo(),C=N?N.id:null,B=N&&N.manifestInfo?N.manifestInfo.isDynamic:null,W=T.getThroughputHistory(),q=W.getSafeAverageThroughput(O,B),le=W.getAverageLatency(O),Fe=R.useBufferOccupancyABR();return isNaN(q)||!M||Fe||T.getAbandonmentStateFor(C,O)!==E.default.ABANDON_LOAD&&(M.state===E.default.BUFFER_LOADED||B)&&(H.quality=T.getQualityForBitrate(k,q,C,le),P.setTimeToLoadDelay(0),H.reason={throughput:q,latency:le}),H},reset:function U(){}}}F.__dashjs_factory_name="ThroughputRule",S.default=t.default.getClassFactory(F)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),w_MANUAL="manual_weight_selection",w_RANDOM="random_weight_selection",w_DYNAMIC="dynamic_weight_selection";function E(){var L,D,p,f,g,v,A,U,R,F=this.context;function O(){p=null,f=1,g=100,v=0,A=null,U=null,R=w_DYNAMIC}function M(){var he=0;if(p)for(var Ce=0;Ce<p.length;Ce++){var Le=p[Ce];Le.state.throughput>he&&(he=Le.state.throughput)}return he}function T(he,Ce,Le){var fe=he.map(function(xe,pe){return Le[pe]*Math.pow(xe-Ce[pe],2)}).reduce(function(xe,pe){return xe+pe});return(fe<0?-1:1)*Math.sqrt(Math.abs(fe))}function N(he,Ce){return T([he.state.throughput,he.state.latency,he.state.rebuffer,he.state.switch],[Ce.state.throughput,Ce.state.latency,Ce.state.rebuffer,Ce.state.switch],[1,1,1,1])}function C(he,Ce,Le){for(var fe=0;fe<Ce.length;fe++){var Re=Ce[fe],pe=N(Re,he);B(Re,Le,Math.exp(-1*Math.pow(pe,2)/(2*Math.pow(.1,2))))}}function B(he,Ce,Le){var fe=he.state,Re=[.01,.01,.01,.01];fe.throughput=fe.throughput+(Ce[0]-fe.throughput)*Re[0]*Le,fe.latency=fe.latency+(Ce[1]-fe.latency)*Re[1]*Le,fe.rebuffer=fe.rebuffer+(Ce[2]-fe.rebuffer)*Re[2]*Le,fe.switch=fe.switch+(Ce[3]-fe.switch)*Re[3]*Le}return L={getNextQuality:function q(he,Ce,Le,fe,Re,xe,pe){var Ue=Le,ke=fe,we=Ce,Ve=function K(he){if(!p){p=[];var Ce=he.bitrateList,Le=[];v=Ce[0].bandwidth,Ce.forEach(function(xe){Le.push(xe.bandwidth),xe.bandwidth<v&&(v=xe.bandwidth)}),f=function P(he){var Ce=he.map(function(Le){return Math.pow(Le,2)}).reduce(function(Le,fe){return Le+fe});return Math.sqrt(Ce)}(Le);for(var fe=0;fe<Ce.length;fe++)p.push({qualityIndex:fe,bitrate:Ce[fe].bandwidth,state:{throughput:Ce[fe].bandwidth/f,latency:0,rebuffer:0,switch:0}});U=function oe(he){var Ce=[],Le=function ge(he){for(var Ce=[],Le=0;Le<he;Le++){var fe=[Math.random()*M(),Math.random(),Math.random(),Math.random()];Ce.push(fe)}return Ce}(Math.pow(he.length,2));Ce.push(Le[0]);for(var fe=[1,1,1,1],Re=1;Re<he.length;Re++){for(var xe=null,pe=null,Ue=0;Ue<Le.length;Ue++){for(var ke=Le[Ue],we=null,Ve=0;Ve<Ce.length;Ve++){var st=T(ke,Ce[Ve],fe);(null===we||st<we)&&(we=st)}(null===pe||we>pe)&&(xe=ke,pe=we)}Ce.push(xe)}for(var Je=null,Ne=null,Te=0;Te<Ce.length;Te++){for(var Y=0,se=0;se<Ce.length;se++)Te!==se&&(Y+=T(Ce[Te],Ce[se],fe));(null===Je||Y>Je)&&(Je=Y,Ne=Te)}var _e=[];for(_e.push(Ce[Ne]),Ce.splice(Ne,1);Ce.length>0;){for(var J=null,Q=null,Z=0;Z<Ce.length;Z++){var te=T(_e[0],Ce[Z],fe);(null===J||te<J)&&(J=te,Q=Z)}_e.push(Ce[Q]),Ce.splice(Q,1)}return _e}(p)}return p}(he),st=Ce/f;st>1&&(st=M()),Le/=g,D.debug("getNextQuality called throughput:".concat(st," latency:").concat(Le," bufferSize:").concat(fe," currentQualityIndex:").concat(xe," playbackRate:").concat(Re));var se=Ve[xe],_e=se.bitrate*pe.getSegmentDuration()/we,J=Math.max(0,_e-ke);if(ke-_e<pe.getMinBuffer())return D.debug("Buffer is low for bitrate= ".concat(se.bitrate," downloadTime=").concat(_e," currentBuffer=").concat(ke," rebuffer=").concat(J)),function W(he,Ce){var Le=0,fe=he;if(p)for(var Re=0;Re<p.length;Re++){var xe=p[Re];xe.bitrate<he.bitrate&&xe.bitrate>Le&&Ce>xe.bitrate&&(Le=xe.bitrate,fe=xe)}return fe}(se,we).qualityIndex;switch(R){case w_MANUAL:!function le(){A=[.4,.4,.4,.4]}();break;case w_RANDOM:!function Fe(he){A=function ae(he,Ce){for(var Le=[],fe=Math.sqrt(2/he),Re=0;Re<Ce;Re++)Le.push(Math.random()*fe);return A=Le}(he.length,4)}(Ve);break;default:!function $(he,Ce,Le,fe,Re,xe,pe){A||(A=U[U.length-1]);var Ue=he.findWeightVector(Ce,Le,fe,Re,xe,pe);null!==Ue&&-1!==Ue&&(A=Ue)}(pe,Ve,Ue,ke,J,we,Re)}for(var Q=null,Z=null,te=null,ie=0;ie<Ve.length;ie++){var ee=Ve[ie],X=ee.state,ue=[X.throughput,X.latency,X.rebuffer,X.switch],ve=A.slice(),de=pe.getNextBufferWithBitrate(ee.bitrate,ke,we),Ae=de<pe.getMinBuffer();Ae&&D.debug("Buffer is low for bitrate=".concat(ee.bitrate," downloadTime=").concat(_e," currentBuffer=").concat(ke," nextBuffer=").concat(de)),(ee.bitrate>Ce-1e4||Ae)&&ee.bitrate!==v&&(ve[0]=100);var We=T(ue,[st,0,0,0],ve);(null===Q||We<Q)&&(Q=We,Z=ee.qualityIndex,te=ee)}var He=Math.abs(se.bitrate-te.bitrate)/f;return C(se,Ve,[st,Le,J,He]),C(te,Ve,[st,0,0,He]),Z},reset:function k(){O()}},function H(){D=Object(y.default)(F).getInstance().getLogger(L),O()}(),L}E.__dashjs_factory_name="LearningAbrController",S.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function w(){var E,F,L,D,p;function g(){F=null,L=null,D=null,p=null}function A(M,P,T,N){var C=new y.default;return C.type=M,C.weights.bitrateReward=P||1,C.weights.bitrateSwitchPenalty=1,C.weights.rebufferPenalty=T||1e3,C.weights.latencyPenalty=[],C.weights.latencyPenalty.push({threshold:1.1,penalty:.05*N}),C.weights.latencyPenalty.push({threshold:1e8,penalty:.1*T}),C.weights.playbackSpeedPenalty=N||200,C}function R(M,P,T,N,C){C.bitrateWSum+=C.weights.bitrateReward*M,C.lastBitrate&&(C.bitrateSwitchWSum+=C.weights.bitrateSwitchPenalty*Math.abs(M-C.lastBitrate)),C.lastBitrate=M,C.rebufferWSum+=C.weights.rebufferPenalty*P;for(var B=0;B<C.weights.latencyPenalty.length;B++){var W=C.weights.latencyPenalty[B];if(T<=W.threshold){C.latencyWSum+=W.penalty*T;break}}C.playbackSpeedWSum+=C.weights.playbackSpeedPenalty*Math.abs(1-N),C.totalQoe=C.bitrateWSum-C.bitrateSwitchWSum-C.rebufferWSum-C.latencyWSum-C.playbackSpeedWSum}return E={setupPerSegmentQoe:function v(M,P,T){F=A("segment",M,P,T),L=M,D=P,p=T},logSegmentMetrics:function U(M,P,T,N){F&&R(M,P,T,N,F)},getPerSegmentQoe:function H(){return F},calculateSingleUseQoe:function k(M,P,T,N){var C=null;return L&&D&&p&&(C=A("segment",L,D,p)),C?(R(M,P,T,N,C),C.totalQoe):0},reset:function O(){g()}},function f(){g()}(),E}w.__dashjs_factory_name="LoLpQoeEvaluator",S.default=t.default.getClassFactory(w)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),E=c(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),F=c(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),D=c(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),p=c(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function v(A){var H,k,O,M,U=(A=A||{}).dashMetrics,R=this.context;return k={getMaxIndex:function T(B){try{var W=Object(F.default)(R).create(),q=B.getMediaInfo().type,le=B.getAbrController(),Fe=B.getStreamInfo(),$=le.getQualityFor(q,Fe.id),ae=B.getMediaInfo(),K=U.getCurrentBufferState(q),ge=B.getScheduleController(),oe=U.getCurrentBufferLevel(q,!0),he=Fe&&Fe.manifestInfo?Fe.manifestInfo.isDynamic:null,Ce=ge.getPlaybackController(),Le=Ce.getCurrentLiveLatency();if(!B.useLoLPABR()||q===p.default.AUDIO)return W;Le||(Le=0);var fe=Ce.getPlaybackRate(),xe=le.getThroughputHistory().getSafeAverageThroughput(q,he);if(H.debug("Throughput ".concat(Math.round(xe)," kbps")),isNaN(xe)||!K||le.getAbandonmentStateFor(Fe.id,q)===L.default.ABANDON_LOAD)return W;for(var pe=ae.bitrateList,Ue=B.getRepresentationInfo().fragmentDuration,ke=pe[0].bandwidth/1e3,we=pe[pe.length-1].bandwidth/1e3,Ve=0;Ve<pe.length;Ve++){var st=pe[Ve].bandwidth/1e3;st>we?we=st:st<ke&&(ke=st)}var Ne=pe[$].bandwidth/1e3,Te=U.getCurrentHttpRequest(q,!0),Y=(Te.tresponse.getTime()-Te.trequest.getTime())/1e3,se=Y>Ue?Y-Ue:0;M.setupPerSegmentQoe(Ue,we,ke),M.logSegmentMetrics(Ne,se,Le,fe);var _e=Object(D.default)(R).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Ue,qoeEvaluator:M});return W.quality=O.getNextQuality(ae,1e3*xe,Le,oe,fe,$,_e),W.reason={throughput:xe,latency:Le},W.priority=F.default.PRIORITY.STRONG,ge.setTimeToLoadDelay(0),W.quality!==$&&console.log("[TgcLearningRule]["+q+"] requesting switch to index: ",W.quality,"Average throughput",Math.round(xe),"kbps"),W}catch(J){throw J}},reset:function C(){!function N(){O.reset(),M.reset()}()}},function P(){H=Object(t.default)(R).getInstance().getLogger(k),O=Object(w.default)(R).create(),M=Object(E.default)(R).create()}(),k}v.__dashjs_factory_name="LoLPRule",S.default=y.default.getClassFactory(v)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(w){var p,v,A,E=w.targetLatency,F=w.bufferMin,L=w.segmentDuration,D=w.qoeEvaluator;function P(){return L}function N(C,B){var W=P();return B>W?C-W:C+W-B}return p={getMinBuffer:function M(){return F},getSegmentDuration:P,getNextBufferWithBitrate:function T(C,B,W){return N(B,C*L/W)},getNextBuffer:N,findWeightVector:function H(C,B,W,q,le,Fe){var $=null,ae=null,K=null,ge=Math.abs(B-A);return C.forEach(function(oe){v.forEach(function(he){var Ce_latency=he[1],Ce_buffer=he[2],Le=oe.bitrate*L/le,fe=N(W,Le),Re=Math.max(1e-5,Le-fe),ke=D.calculateSingleUseQoe(oe.bitrate,(0===Ce_buffer?10:1/Ce_buffer)*Re,(0===Ce_latency?10:1/Ce_latency)*oe.state.latency,Fe);(null===$||ke>$)&&function k(C,B,W){return!(C>E+W)&&B>=F}(B,fe,ge)&&($=ke,ae=he,K=oe.bitrate)})}),null===ae&&null===K&&(ae=-1),A=B,ae}},function U(){!function R(){v=function O(C,B){return function le(Fe,$,ae){if(ae===$)return Fe;for(var K=Fe.length,ge=0;ge<K;ge++)for(var oe=Fe.shift(),he=0;he<C.length;he++)Fe.push(oe.concat(C[he]));return le(Fe,$,ae+1)}(C.map(function(le){return[le]}),B,1)}([.2,.4,.6,.8,1],4),A=0}()}(),p}y.__dashjs_factory_name="LoLpWeightSelector",S.default=t.default.getClassFactory(y)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var w=0;function F(A){for(var U="",R=0;R<A.length;++R)U+=A[R].uchar;return U.length-U.replace(/^\s+/,"").length}function L(A){return"left: "+3.125*A.x+"%; top: "+6.66*A.y1+"%; width: "+(100-3.125*A.x)+"%; height: "+6.66*Math.max(A.y2-1-A.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(A){return"red"===A?"rgb(255, 0, 0)":"green"===A?"rgb(0, 255, 0)":"blue"===A?"rgb(0, 0, 255)":"cyan"===A?"rgb(0, 255, 255)":"magenta"===A?"rgb(255, 0, 255)":"yellow"===A?"rgb(255, 255, 0)":"white"===A?"rgb(255, 255, 255)":"black"===A?"rgb(0, 0, 0)":A}function p(A,U){var R=A.videoHeight/15;return U?"font-size: "+R+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(U.foreground?D(U.foreground):"rgb(255, 255, 255)")+"; font-style: "+(U.italics?"italic":"normal")+"; text-decoration: "+(U.underline?"underline":"none")+"; white-space: pre; background-color: "+(U.background?D(U.background):"transparent")+";":"font-size: "+R+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function f(A){return A.replace(/^\s+/g,"")}function g(A){return A.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function v(A,U,R,H){var q,le,k=null,M=!1,P=-1,T={start:U,end:R,spans:[]},N="style_cea608_white_black",C={},B={},W=[];for(q=0;q<15;++q){var Fe=H.rows[q],$="",ae=null;if(!1===Fe.isEmpty()){var K=F(Fe.chars);null===k&&(k={x:K,y1:q,y2:q+1,p:[]}),K!==P&&M&&(k.p.push(T),T={start:U,end:R,spans:[]},k.y2=q,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(W.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k={x:K,y1:q,y2:q+1,p:[]});for(var ge=0;ge<Fe.chars.length;++ge){var oe=Fe.chars[ge],he=oe.penState;if(null===ae||!he.equals(ae)){$.trim().length>0&&(T.spans.push({name:N,line:$,row:q}),$="");var Ce="style_cea608_"+he.foreground+"_"+he.background;he.underline&&(Ce+="_underline"),he.italics&&(Ce+="_italics"),B.hasOwnProperty(Ce)||(B[Ce]=JSON.parse(JSON.stringify(he))),ae=he,N=Ce}$+=oe.uchar}$.trim().length>0&&T.spans.push({name:N,line:$,row:q}),M=!0,P=K}else M=!1,P=-1,k&&(k.p.push(T),T={start:U,end:R,spans:[]},k.y2=q,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(W.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k=null)}k&&(k.p.push(T),k.y2=q+1,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(W.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k=null);var Le=[];for(q=0;q<W.length;++q){var fe=W[q],Re="sub_cea608_"+w++,xe=document.createElement("div");xe.id=Re;var pe=L(fe);xe.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+pe;var Ue=document.createElement("div");Ue.className="paragraph bodyStyle",Ue.style.cssText=p(A);var ke=document.createElement("div");ke.className="cueUniWrapper",ke.style.cssText="unicode-bidi: normal; direction: ltr;";for(var we=0;we<fe.p.length;++we){var Ve=fe.p[we],st=0;for(le=0;le<Ve.spans.length;++le){var Je=Ve.spans[le];if(Je.line.length>0){if(0!==le&&st!=Je.row){var Ne=document.createElement("br");Ne.className="lineBreak",ke.appendChild(Ne)}var Te=!1;st===Je.row&&(Te=!0),st=Je.row;var Y=B[Je.name],se=document.createElement("span");se.className="spanPadding "+Je.name+" customSpanColor",se.style.cssText=p(A,Y),se.textContent=0!==le&&Te?le===Ve.spans.length-1?g(Je.line):Je.line:Ve.spans.length>1&&le<Ve.spans.length-1&&Je.row===Ve.spans[le+1].row?f(Je.line):Je.line.trim(),ke.appendChild(se)}}}Ue.appendChild(ke),xe.appendChild(Ue);var _e={bodyStyle:["%",90]};for(var J in B)B.hasOwnProperty(J)&&(_e[J]=["%",90]);Le.push({type:"html",start:U,end:R,cueHTMLElement:xe,cueID:Re,cellResolution:[32,15],isFromCEA608:!0,fontSize:_e,lineHeight:{},linePadding:{}})}return Le}}}y.__dashjs_factory_name="EmbeddedTextHtmlRender",S.default=t.default.getSingletonFactory(y)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),F=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),L=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),p="NotFragmentedTextBufferController";function f(g){g=g||{};var O,M,P,T,N,C,v=this.context,A=Object(t.default)(v).getInstance(),U=g.textController,R=g.errHandler,H=g.streamInfo,k=g.type;function K(Z){T=Z}function Le(Z){M!==Z&&(M=Z)&&function Q(Z,te){A.trigger(Z,te||{},{streamId:H.id,mediaType:k})}(y.default.BUFFERING_COMPLETED)}function xe(Z){!Z.chunk.bytes||M||(C.save(Z.chunk),N.append(Z.chunk),Le(!0))}return O={initialize:function q(Z){K(Z)},getStreamId:function Fe(){return H.id},getType:function $(){return k},getBufferControllerType:function W(){return p},createBufferSink:function le(Z){return new Promise(function(te,ie){try{(N=Object(F.default)(v).create({mediaSource:T,textController:U,eventBus:A})).initializeForFirstUse(H,Z),P||(N.getBuffer()&&"function"==typeof N.getBuffer().initialize&&N.getBuffer().initialize(),P=!0),te(N)}catch(ee){R.error(new L.default(D.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,D.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+k)),ie(ee)}})},getBuffer:function ae(){return N},getBufferLevel:function he(){return 0},getRangeAt:function pe(){return null},pruneBuffer:function st(){},hasBufferAtTime:function Ue(){return!0},getAllRangesWithSafetyFactor:function ke(){return[]},getContinuousBufferTimeForTargetTime:function we(){return Number.POSITIVE_INFINITY},setMediaSource:K,getMediaSource:function ge(){return T},appendInitSegmentFromCache:function Re(Z){return null!==C.extract(H.id,Z)},getIsBufferingCompleted:function Ce(){return M},setIsBufferingCompleted:Le,getIsPruningInProgress:function oe(){return!1},reset:function fe(Z){A.off(y.default.INIT_FRAGMENT_LOADED,xe,O),!Z&&N&&(N.abort(),N.reset(),N=null)},clearBuffers:function Ve(){return Promise.resolve()},prepareForPlaybackSeek:function Ne(){return Promise.resolve()},prepareForReplacementTrackSwitch:function Te(){return M=!1,Promise.resolve()},setSeekTarget:function se(){},updateAppendWindow:function Y(){return Promise.resolve()},pruneAllSafely:function J(){return Promise.resolve()},updateBufferTimestampOffset:function Je(){return Promise.resolve()},segmentRequestingCompleted:function _e(){}},function B(){P=!1,T=null,M=!1,C=Object(E.default)(v).getInstance(),A.on(y.default.INIT_FRAGMENT_LOADED,xe,O)}(),O}f.__dashjs_factory_name=p,S.default=w.default.getClassFactory(f)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),E=c(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),F=c(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),L=c(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),D=c(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),p=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),v=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function A(U){var N,C,B,W,q,le,Fe,$,ae,K,ge,oe,R=this.context,H=U.adapter,k=U.errHandler,O=U.manifestModel,M=U.mediaController,P=U.videoModel,T=U.settings;function ke(te){var ie=te.tracks,ee=te.index,X=te.streamId;if(!1===T.get().streaming.text.defaultEnabled&&!Je()||oe)Te(X,-1);else{var ve=M.getCurrentTrackFor(t.default.TEXT,X);if(ve){var de={lang:ve.lang,role:ve.roles[0],index:ve.index,codec:ve.codec,accessibility:ve.accessibility[0]};ie.some(function(Ae,We){if(M.matchSettings(de,Ae))return Te(X,We),ee=We,!0})}ae=!1}C[X].lastEnabledIndex=ee,$.trigger(g.default.TEXT_TRACKS_ADDED,{enabled:Je(),index:ee,tracks:ie,streamId:X}),ge=!0}function we(te){try{var ie=te.streamId;if(!W[ie]||isNaN(te.time))return;W[ie].manualCueProcessing(te.time)}catch{}}function Ve(te){try{var ie=te.streamId;if(!W[ie])return;W[ie].disableManualTracks()}catch{}}function Je(){var te=!0;return ae&&!K&&(te=!1),te}function Te(te,ie){(ae=-1===ie)&&M&&M.saveTextSettingsDisabled();var ee=_e(te);if(ee!==ie&&W[te]){W[te].disableManualTracks(),W[te].setModeForTrackIdx(ee,t.default.TEXT_HIDDEN),W[te].setCurrentTrackIdx(ie),W[te].setModeForTrackIdx(ie,t.default.TEXT_SHOWING);var X=W[te].getCurrentTrackInfo();X&&X.isFragmented&&!X.isEmbedded?function Y(te,ie,ee){if(B[te])for(var ue=B[te].getConfig().fragmentedTracks,ve=0;ve<ue.length;ve++){var de=ue[ve];if(ie.lang===de.lang&&(de.id?ie.id===de.id:ie.index===de.index)){var Ae=M.getCurrentTrackFor(t.default.TEXT,te);(de.id?Ae.id!==de.id:Ae.index!==de.index)?(W[te].deleteCuesFromTrackIdx(ee),B[te].setCurrentFragmentedTrackIdx(ve)):-1===ee&&$.trigger(f.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:te,mediaType:t.default.TEXT})}}}(te,X,ee):X&&!X.isFragmented&&function se(te,ie){$.trigger(f.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ie},{streamId:te,mediaType:t.default.TEXT})}(te,X),M.setTrack(X)}}function _e(te){return W[te].getCurrentTrackIdx()}function Q(){B={},W={},C={},ae=!0,ge=!1,oe=!1}return N={deactivateStream:function J(te){if(te){var ie=te.id;B[ie]&&B[ie].resetMediaInfos(),W[ie]&&W[ie].deleteAllTextTracks()}},initialize:function Ce(){$.on(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,ke,N),T.get().streaming.text.webvtt.customRenderingEnabled&&($.on(f.default.PLAYBACK_TIME_UPDATED,we,N),$.on(f.default.PLAYBACK_SEEKING,Ve,N))},initializeForStream:function Le(te){var ie=te.id,ee=Object(E.default)(R).create({videoModel:P,settings:T,streamInfo:te});ee.initialize(),W[ie]=ee;var X=Object(w.default)(R).create({errHandler:k,adapter:H,manifestModel:O,mediaController:M,videoModel:P,textTracks:ee,vttParser:q,vttCustomRenderingParser:le,ttmlParser:Fe,streamInfo:te,settings:T});X.initialize(),B[ie]=X,C[ie]={},C[ie].lastEnabledIndex=-1},createTracks:function fe(te){var ie=te.id;W[ie]&&W[ie].createTracks()},getTextSourceBuffer:function xe(te){var ie=te.id;if(B&&B[ie])return B[ie]},getAllTracksAreDisabled:function pe(){return ae},addEmbeddedTrack:function Ue(te,ie){var ee=te.id;B[ee]&&B[ee].addEmbeddedTrack(ie)},enableText:function st(te,ie){Object(v.checkParameterType)(ie,"boolean"),Je()!==ie&&(ie&&Te(te,C[te].lastEnabledIndex),ie||(C[te].lastEnabledIndex=_e(te),ge?Te(te,-1):oe=!0))},isTextEnabled:Je,setTextTrack:Te,getCurrentTrackIdx:_e,enableForcedTextStreaming:function Ne(te){Object(v.checkParameterType)(te,"boolean"),K=te},addMediaInfosToBuffer:function Re(te,ie,ee){var ue=te.id;B[ue]&&B[ue].addMediaInfos(ie,ee,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function Z(){Q(),$.off(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,ke,N),T.get().streaming.text.webvtt.customRenderingEnabled&&($.off(f.default.PLAYBACK_TIME_UPDATED,we,N),$.off(f.default.PLAYBACK_SEEKING,Ve,N)),Object.keys(B).forEach(function(te){B[te].resetEmbedded(),B[te].reset()})}},function he(){K=!1,ge=!1,oe=!1,q=Object(F.default)(R).getInstance(),le=Object(L.default)(R).getInstance(),Fe=Object(D.default)(R).getInstance(),$=Object(p.default)(R).getInstance(),Q()}(),N}A.__dashjs_factory_name="TextController",S.default=y.default.getClassFactory(A)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),E=c(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),F=c(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),f=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),g=c.n(f),v=c(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),A=c.n(v),U=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),H=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function O(M){var oe,he,Ce,Le,fe,Re,xe,pe,Ue,ke,we,Ve,st,Je,Ne,Te,P=M.errHandler,T=M.manifestModel,N=M.mediaController,C=M.videoModel,B=M.textTracks,W=M.vttParser,q=M.vttCustomRenderingParser,le=M.ttmlParser,Fe=M.streamInfo,$=M.settings,ae=this.context,K=Object(U.default)(ae).getInstance(),ge=!1;function J(){(function _e(){Re=null,pe=NaN,Ue=[],ke=null,xe=!1})(),fe=[],Le=null}function te(De){var Pe=new w.default;for(var $e in De)Pe[$e]=De[$e];Pe.labels=De.labels,Pe.defaultTrack=function Cn(De){var Pe=!1;return Ve.length>1&&De.isEmbedded?Pe=De.id&&De.id===t.default.CC1:1===Ve.length?De.id&&"string"==typeof De.id&&"CC"===De.id.substring(0,2)&&(Pe=!0):0===Ve.length&&(Pe=De.index===fe[0].index),Pe}(De),Pe.isFragmented=De.isFragmented,Pe.isEmbedded=!!De.isEmbedded,Pe.isTTML=function He(De){return De.codec&&De.codec.search(t.default.STPP)>=0||De.mimeType&&De.mimeType.search(t.default.TTML)>=0}(De),Pe.kind=function at(De,Pe){var Ye=De.roles&&De.roles.length>0?Pe[De.roles[0]]:Pe.caption;return Ye===Pe.caption||Ye===Pe.subtitle?Ye:Pe.caption}(De,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(Pe)}function X(De){var Pe=De.chunk;Pe.mediaInfo.embeddedCaptions&&ct(Pe.bytes,Pe)}function We(De){we=De}function ct(De,Pe){var Ye=Pe.mediaInfo,$e=Ye.type,ot=Ye.codec||Ye.mimeType;ot?-1!==Ye.codec.indexOf("application/mp4")?function it(De,Pe,Ye){var $e;if("InitializationSegment"===Pe.segmentType)xe=!0,pe=Ce.getMediaTimescaleFromMoov(De);else{if(!xe)return;($e=Ce.getSamplesInfo(De).sampleList).length>0&&(ke=$e[0].cts-Pe.start*pe),Ye.search(t.default.STPP)>=0?function vt(De,Pe,Ye){var $e,lt;for(Le=null!==Le?Le:nn(Ye),$e=0;$e<Pe.length;$e++){var ot=Pe[$e],dt=ot.cts,Ft=Kt(),$t=Ft+dt/pe;oe.buffered.add($t,$t+ot.duration/pe);var Jt=new DataView(De,ot.offset,ot.subSizes[0]),cn=g.a.Utils.dataViewToString(Jt,t.default.UTF8),mn=[],xn=ot.offset+ot.subSizes[0];for(lt=1;lt<ot.subSizes.length;lt++){var Ln=new Uint8Array(De,xn,ot.subSizes[lt]),Yn=String.fromCharCode.apply(null,Ln);mn.push(Yn),xn+=ot.subSizes[lt]}try{var Vn=T.getValue(),yn=Le.parse(cn,Vn.ttmlTimeIsRelative?dt/pe:0,dt/pe,(dt+ot.duration)/pe,mn);B.addCaptions(we,Ft,yn)}catch(_n){Re.removeExecutedRequestsBeforeTime(),this.remove(),he.error("TTML parser error: "+_n.message)}}}(De,$e,Ye):function Ht(De,Pe){var Ye,$e,lt,ot=[];for(Ye=0;Ye<Pe.length;Ye++){var dt=Pe[Ye];dt.cts-=ke;var $t=Kt()+dt.cts/pe;oe.buffered.add($t,$t+dt.duration/pe);var Jt=De.slice(dt.offset,dt.offset+dt.size),cn=g.a.parseBuffer(Jt);for($e=0;$e<cn.boxes.length;$e++){var mn=cn.boxes[$e];if(he.debug("VTT box1: "+mn.type),"vtte"!==mn.type&&"vttc"===mn.type)for(he.debug("VTT vttc boxes.length = "+mn.boxes.length),lt=0;lt<mn.boxes.length;lt++){var xn=mn.boxes[lt];if(he.debug("VTT box2: "+xn.type),"payl"===xn.type){var Ln=xn.cue_text;he.debug("VTT cue_text = "+Ln);var Yn=dt.cts/pe,Vn=(dt.cts+dt.duration)/pe;ot.push({start:Yn,end:Vn,data:Ln,styles:{}}),he.debug("VTT "+Yn+"-"+Vn+" : "+Ln)}}}}ot.length>0&&B.addCaptions(we,0,ot)}(De,$e)}}(De,Pe,ot):$e===t.default.VIDEO?function jt(De,Pe){var Ye,$e;if(Pe.segmentType===y.HTTPRequest.INIT_SEGMENT_TYPE)0===st&&(st=Ce.getMediaTimescaleFromMoov(De));else if(Pe.segmentType===y.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===st)return void he.warn("CEA-608: No timescale for embeddedTextTrack yet");var lt=($e=Ce.getSamplesInfo(De)).lastSequenceNumber;if(!Ne[0]&&!Ne[1]&&function en(){for(var De,Pe=0;Pe<Ve.length;Pe++){if(-1===(De=B.getTrackIdxForId(Ve[Pe].id)))return void he.warn("CEA-608: data before track is ready.");var Ye=dn(De);Ne[Pe]=new A.a.Cea608Parser(Pe+1,{newCue:Ye},null)}}(),st){if(null!==Je&&lt!==Je+$e.numSequences)for(Ye=0;Ye<Ne.length;Ye++)Ne[Ye]&&Ne[Ye].reset();for(var ot=function un(De,Pe){if(0===Pe.length)return null;for(var Ye={splits:[],fields:[[],[]]},$e=new DataView(De),lt=0;lt<Pe.length;lt++)for(var ot=Pe[lt],dt=A.a.findCea608Nalus($e,ot.offset,ot.size),Ft=null,$t=0,Lt=0;Lt<dt.length;Lt++)for(var Jt=A.a.extractCea608DataFromRange($e,dt[Lt]),cn=0;cn<2;cn++)if(Jt[cn].length>0){ot.cts!==Ft?$t=0:$t+=1;var mn=Kt();Ye.fields[cn].push([ot.cts+mn*st,Jt[cn],$t]),Ft=ot.cts}return Ye.fields.forEach(function(Ln){Ln.sort(function(Yn,Vn){return Yn[0]===Vn[0]?Yn[2]-Vn[2]:Yn[0]-Vn[0]})}),Ye}(De,$e.sampleList),dt=0;dt<Ne.length;dt++){var Ft=ot.fields[dt],$t=Ne[dt];if($t)for(Ye=0;Ye<Ft.length;Ye++)$t.addData(Ft[Ye][0]/st,Ft[Ye][1])}Je=lt}}}(De,Pe):function It(De,Pe,Ye){var $e,lt,ot=new DataView(De,0,De.byteLength);lt=g.a.Utils.dataViewToString(ot,t.default.UTF8);try{$e=nn(Ye).parse(lt,0),B.addCaptions(B.getCurrentTrackIdx(),0,$e),oe.buffered&&oe.buffered.add(Pe.start,Pe.end)}catch(dt){P.error(new H.default(k.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,k.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+dt.message,lt))}}(De,Pe,ot):he.error("No text type defined")}function dn(De){return function Pe(Ye,$e,lt){var ot;(ot=C.getTTMLRenderingDiv()?Te.createHTMLCaptionsFromScreen(C.getElement(),Ye,$e,lt):[{start:Ye,end:$e,data:lt.getDisplayText(),styles:{}}])&&B.addCaptions(De,0,ot)}}function Kt(){return isNaN(oe.timestampOffset)?0:oe.timestampOffset}function nn(De){var Pe;return De.search(t.default.VTT)>=0?Pe=$.get().streaming.text.webvtt.customRenderingEnabled&&q?q:W:(De.search(t.default.TTML)>=0||De.search(t.default.STPP)>=0)&&(Pe=le),Pe}function ft(De){Ve.forEach(function(Pe){var Ye=B.getTrackIdxForId(Pe.id);Ye>=0&&B.deleteCuesFromTrackIdx(Ye,De.from,De.to)})}return oe={initialize:function Q(){ge||function ue(){Ve=[],we=null,st=0,Ne=[],Je=null,ge=!0,Te=Object(p.default)(ae).getInstance(),K.on(R.default.VIDEO_CHUNK_RECEIVED,X,oe),K.on(R.default.BUFFER_CLEARED,ft,oe)}()},addMediaInfos:function Z(De,Pe,Ye){if(fe=fe.concat(Pe),De===t.default.TEXT&&Pe[0].isFragmented&&!Pe[0].isEmbedded){Re=Ye,oe.buffered=Object(F.default)(ae).create(),Ue=N.getTracksFor(t.default.TEXT,Fe.id).filter(function(dt){return dt.isFragmented});for(var $e=N.getCurrentTrackFor(t.default.TEXT,Fe.id),lt=0;lt<Ue.length;lt++)if(Ue[lt]===$e){We(lt);break}}for(var ot=0;ot<Pe.length;ot++)te(Pe[ot])},resetMediaInfos:function Qe(){fe=[]},getStreamId:function se(){return Fe.id},append:ct,abort:function ie(){},addEmbeddedTrack:function de(De){if(ge&&De)if(De.id===t.default.CC1||De.id===t.default.CC3){for(var Pe=0;Pe<Ve.length;Pe++)if(Ve[Pe].id===De.id)return;Ve.push(De)}else he.warn("Embedded track "+De.id+" not supported!")},resetEmbedded:function ve(){K.off(R.default.VIDEO_CHUNK_RECEIVED,X,oe),K.off(R.default.BUFFER_CLEARED,ft,oe),B&&B.deleteAllTextTracks(),ge=!1,Ve=[],Ne=[null,null],Je=null},getConfig:function Ae(){return{fragmentModel:Re,fragmentedTracks:Ue,videoModel:C}},setCurrentFragmentedTrackIdx:We,remove:function Dt(De,Pe){void 0===De&&De===Pe&&(De=oe.buffered.start(0),Pe=oe.buffered.end(oe.buffered.length-1)),oe.buffered.remove(De,Pe),B.deleteCuesFromTrackIdx(we,De,Pe)},reset:function ee(){J(),fe=[],Ce=null}},function Y(){he=Object(D.default)(ae).getInstance().getLogger(oe),Ce=Object(E.default)(ae).getInstance(),J()}(),oe}O.__dashjs_factory_name="TextSourceBuffer",S.default=L.default.getClassFactory(O)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function f(U,R){var H=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!H){if(Array.isArray(U)||(H=function g(U,R){if(U){if("string"==typeof U)return v(U,R);var H=Object.prototype.toString.call(U).slice(8,-1);if("Object"===H&&U.constructor&&(H=U.constructor.name),"Map"===H||"Set"===H)return Array.from(U);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return v(U,R)}}(U))||R&&U&&"number"==typeof U.length){H&&(U=H);var k=0,O=function(){};return{s:O,n:function(){return k>=U.length?{done:!0}:{done:!1,value:U[k++]}},e:function(C){throw C},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,M=!0,P=!1;return{s:function(){H=H.call(U)},n:function(){var C=H.next();return M=C.done,C},e:function(C){P=!0,T=C},f:function(){try{!M&&null!=H.return&&H.return()}finally{if(P)throw T}}}}function v(U,R){(null==R||R>U.length)&&(R=U.length);for(var H=0,k=new Array(R);H<R;H++)k[H]=U[H];return k}function A(U){var P,T,N,C,B,W,q,le,Fe,$,ae,K,ge,oe,he,Ce,Le,fe,R=this.context,H=Object(y.default)(R).getInstance(),k=U.videoModel,O=U.streamInfo,M=U.settings;function Ue(It){return k.addTextTrack(It.kind,void 0!==It.id?It.id:It.lang,It.lang,It.isTTML,It.isEmbedded)}function Ve(It,jt,en,dn,un,Kt){var Dt=0,ft=0;It/jt>en/dn?Dt=(ft=jt)/dn*en:ft=(Dt=It)/en*dn;var Qe,De,Pe=0,Ye=0;return Dt/ft>un?(Ye=ft,Pe=ft*un):(Pe=Dt,Ye=Dt/un),Qe=(It-Pe)/2,De=(jt-Ye)/2,Kt?{x:Qe+.1*Pe,y:De+.1*Ye,w:.8*Pe,h:.8*Ye}:{x:Qe,y:De,w:Pe,h:Ye}}function st(It,jt){var en=k.getClientWidth(),dn=k.getClientHeight(),un=k.getVideoWidth(),Kt=k.getVideoHeight(),Cn=k.getVideoRelativeOffsetTop(),nn=k.getVideoRelativeOffsetLeft();if(0!==un&&0!==Kt){var Dt=un/Kt,ft=!1;It.isFromCEA608&&(Dt=3.5/3,ft=!0);var Qe=Ve.call(this,en,dn,un,Kt,Dt,ft),De=Qe.w,Pe=Qe.h,Ye=Qe.x,$e=Qe.y;if(De!=Fe||Pe!=$||Ye!=q||$e!=le||jt){if(q=Ye+nn,le=$e+Cn,Fe=De,$=Pe,ae){var lt=ae.style;lt&&(lt.left=q+"px",lt.top=le+"px",lt.width=Fe+"px",lt.height=$+"px",lt.zIndex=oe&&document[oe]||he?Le:null,H.trigger(E.default.CAPTION_CONTAINER_RESIZE))}var ot=It.activeCues;if(ot)for(var dt=ot.length,Ft=0;Ft<dt;++Ft){var $t=ot[Ft];$t.scaleCue($t)}}}}function Je(It){var dn,un,Kt,Cn,nn;if(It.cellResolution){var Dt=[Fe/It.cellResolution[0],$/It.cellResolution[1]];if(It.linePadding)for(dn in It.linePadding)if(It.linePadding.hasOwnProperty(dn)){un=(It.linePadding[dn]*Dt[0]).toString();for(var Qe=document.getElementsByClassName("spanPadding"),De=0;De<Qe.length;De++)Qe[De].style.cssText=Qe[De].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+un),Qe[De].style.cssText=Qe[De].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+un)}if(It.fontSize){for(dn in It.fontSize)if(It.fontSize.hasOwnProperty(dn)){"%"===It.fontSize[dn][0]?Kt=It.fontSize[dn][1]/100:"c"===It.fontSize[dn][0]&&(Kt=It.fontSize[dn][1]),un=(Kt*Dt[1]).toString(),nn="defaultFontSize"!==dn?document.getElementsByClassName(dn):document.getElementsByClassName("paragraph");for(var Pe=0;Pe<nn.length;Pe++)nn[Pe].style.cssText=nn[Pe].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+un)}if(It.lineHeight)for(dn in It.lineHeight)if(It.lineHeight.hasOwnProperty(dn)){"%"===It.lineHeight[dn][0]?Cn=It.lineHeight[dn][1]/100:"c"===It.fontSize[dn][0]&&(Cn=It.lineHeight[dn][1]),un=(Cn*Dt[1]).toString(),nn=document.getElementsByClassName(dn);for(var Ye=0;Ye<nn.length;Ye++)nn[Ye].style.cssText=nn[Ye].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+un)}}}if(It.isd){var $e=document.getElementById(It.cueID);$e&&ae.removeChild($e),Ne(It)}}function Ne(It){if(ae){var jt=document.createElement("div");ae.appendChild(jt),Ce=Object(D.renderHTML)(It.isd,jt,function(en){var dn=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,un=/^#(.*)$/;if(dn.test(en)){var Kt=dn.exec(en),Cn=parseInt(Kt[4],10)-1;return"data:image/png;base64,"+btoa(It.images[Cn])}if(un.test(en)){var ft=un.exec(en);return"data:image/png;base64,"+It.embeddedImages[ft[1]]}return null},ae.clientHeight,ae.clientWidth,!1,function(en){T.info("renderCaption :",en)},Ce,!0),jt.id=It.cueID,H.trigger(E.default.CAPTION_RENDERED,{captionDiv:jt,currentTrackIdx:W})}}function Te(It,jt,en){var dn=Z(It);if(dn&&Array.isArray(en)&&0!==en.length)for(var un=0;un<en.length;un++){var Kt=void 0,Cn=en[un];dn.cellResolution=Cn.cellResolution,dn.isFromCEA608=Cn.isFromCEA608,!isNaN(Cn.start)&&!isNaN(Cn.end)&&(Kt="html"===Cn.type&&ae?Y(Cn,jt,dn):Cn.data?se(Cn,jt,dn):null);try{Kt?ue(dn,Kt)||(M.get().streaming.text.webvtt.customRenderingEnabled?(dn.manualCueList||(dn.manualCueList=[]),dn.manualCueList.push(Kt)):dn.addCue(Kt)):T.error("impossible to display subtitles.")}catch(nn){throw de(dn),dn.addCue(Kt),nn}}}function Y(It,jt,en){var dn=this,un=new N(It.start+jt,It.end+jt,"");return un.cueHTMLElement=It.cueHTMLElement,un.isd=It.isd,un.images=It.images,un.embeddedImages=It.embeddedImages,un.cueID=It.cueID,un.scaleCue=Je.bind(dn),un.cellResolution=It.cellResolution,un.lineHeight=It.lineHeight,un.linePadding=It.linePadding,un.fontSize=It.fontSize,ae.style.left=q+"px",ae.style.top=le+"px",ae.style.width=Fe+"px",ae.style.height=$+"px",un.onenter=function(){en.mode===t.default.TEXT_SHOWING&&(this.isd?(Ne(this),T.debug("Cue enter id:"+this.cueID)):(ae.appendChild(this.cueHTMLElement),Je.call(dn,this),H.trigger(E.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:W})))},un.onexit=function(){if(ae)for(var Kt=ae.childNodes,Cn=0;Cn<Kt.length;++Cn)Kt[Cn].id===this.cueID&&(T.debug("Cue exit id:"+Kt[Cn].id),ae.removeChild(Kt[Cn]),--Cn)},un}function se(It,jt,en){var dn=new N(It.start-jt,It.end-jt,It.data);if(dn.cueID="".concat(dn.startTime,"_").concat(dn.endTime),dn.isActive=!1,It.styles)try{void 0!==It.styles.align&&"align"in dn&&(dn.align=It.styles.align),void 0!==It.styles.line&&"line"in dn&&(dn.line=It.styles.line),void 0!==It.styles.position&&"position"in dn&&(dn.position=It.styles.position),void 0!==It.styles.size&&"size"in dn&&(dn.size=It.styles.size)}catch(un){T.error(un)}return dn.onenter=function(){en.mode===t.default.TEXT_SHOWING&&H.trigger(E.default.CAPTION_RENDERED,{currentTrackIdx:W})},dn}function Q(){var dn,jt=[],en=f(k.getTextTracks());try{for(en.s();!(dn=en.n()).done;){var un=dn.value;un.manualMode===t.default.TEXT_SHOWING&&jt.push(un)}}catch(Kt){en.e(Kt)}finally{en.f()}return jt}function Z(It){return It>=0&&C[It]?k.getTextTrack(C[It].kind,C[It].id,C[It].lang,C[It].isTTML,C[It].isEmbedded):null}function ee(It){var jt=this;if(It!==W){var en=Z(W=It);X.call(this,en),ge&&(clearInterval(ge),ge=null),en&&"html"===en.renderingType&&(st.call(this,en,!0),window.ResizeObserver?(fe=new window.ResizeObserver(function(){st.call(jt,en,!0)})).observe(k.getElement()):ge=setInterval(st.bind(this,en),500))}}function X(It){it.call(this),It&&"html"===It.renderingType?at.call(this):ct.call(this)}function ue(It,jt){if(!It.cues)return!1;for(var en=0;en<It.cues.length;en++)if(It.cues[en].startTime===jt.startTime&&It.cues[en].endTime===jt.endTime)return!0;return!1}function ve(It,jt,en){var dn=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(jt)||(dn?It.startTime:It.endTime)>=jt)&&(isNaN(en)||(dn?It.endTime:It.startTime)<=en)}function de(It,jt,en){var dn=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(It.cues)for(var un=It.cues,Cn=un.length-1;Cn>=0;Cn--)ve(un[Cn],jt,en,dn)&&(un[Cn].onexit&&un[Cn].onexit(),It.removeCue(un[Cn]))}function at(){var It=document.getElementById("native-cue-style");if(!It){(It=document.createElement("style")).id="native-cue-style",document.head.appendChild(It);var jt=It.sheet,en=k.getElement();try{en&&jt.insertRule(en.id?"#"+en.id+"::cue {background: transparent}":0!==en.classList.length?"."+en.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(dn){T.info(""+dn.message)}}}function ct(){var It=document.getElementById("native-cue-style");It&&document.head.removeChild(It)}function it(){if(ae)for(;ae.firstChild;)ae.removeChild(ae.firstChild)}return P={initialize:function xe(){typeof window>"u"||typeof navigator>"u"||(N=window.VTTCue||window.TextTrackCue,C=[],B=[],W=-1,q=0,le=0,Fe=0,$=0,ae=null,K=null,ge=null,he=!1,Le=2147483647,Ce=null,void 0!==document.fullscreenElement?oe="fullscreenElement":void 0!==document.webkitIsFullScreen?oe="webkitIsFullScreen":document.msFullscreenElement?oe="msFullscreenElement":document.mozFullScreen&&(oe="mozFullScreen"))},getStreamId:function pe(){return O.id},addTextTrack:function ke(It){C.push(It)},addCaptions:Te,createTracks:function we(){C.sort(function(nn,Dt){return nn.index-Dt.index}),ae=k.getTTMLRenderingDiv(),K=k.getVttRenderingDiv();for(var It=-1,jt=0;jt<C.length;jt++){var en=Ue(C[jt]);B.push(en),C[jt].defaultTrack&&(en.default=!0,It=jt);var dn=Z(jt);dn&&(dn.mode=t.default.TEXT_SHOWING,dn.renderingType=ae&&(C[jt].isTTML||C[jt].isEmbedded)?"html":"default"),Te(jt,0,C[jt].captionData),H.trigger(E.default.TEXT_TRACK_ADDED)}if(ee.call(this,It),It>=0){H.on(E.default.PLAYBACK_METADATA_LOADED,function nn(){var Dt=Z(It);Dt&&"html"===Dt.renderingType&&st.call(this,Dt,!0),H.off(E.default.PLAYBACK_METADATA_LOADED,nn,this)},this);for(var Kt=0;Kt<C.length;Kt++){var Cn=Z(Kt);Cn&&(Cn.mode=Kt===It?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN,Cn.manualMode=Kt===It?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN)}}H.trigger(w.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:W,tracks:C,streamId:O.id})},getCurrentTrackIdx:function te(){return W},setCurrentTrackIdx:ee,getTrackIdxForId:function ie(It){for(var jt=-1,en=0;en<C.length;en++)if(C[en].id===It){jt=en;break}return jt},getCurrentTrackInfo:function Ht(){return C[W]},setModeForTrackIdx:function vt(It,jt){var en=Z(It);en&&en.mode!==jt&&(en.mode=jt),en&&en.manualMode!==jt&&(en.manualMode=jt)},deleteCuesFromTrackIdx:function Ae(It,jt,en){var dn=Z(It);dn&&de(dn,jt,en)},deleteAllTextTracks:function We(){for(var It=B?B.length:0,jt=0;jt<It;jt++){var en=Z(jt);en&&de.call(this,en,O.start,O.start+O.duration,!1)}B=[],C=[],ge&&(clearInterval(ge),ge=null),fe&&k&&(fe.unobserve(k.getElement()),fe=null),W=-1,it.call(this)},deleteTextTrack:function He(It){k.removeChild(B[It]),B.splice(It,1)},manualCueProcessing:function _e(It){var jt=Q();if(jt&&jt.length>0){var dn=jt[0].manualCueList;dn&&dn.length>0&&dn.forEach(function(un){if(un.startTime<=It&&un.endTime>=It&&!un.isActive)un.isActive=!0,WebVTT.processCues(window,[un],K,un.cueID);else if(un.isActive&&(un.startTime>It||un.endTime<It)&&(un.isActive=!1,K))for(var Kt=K.childNodes,Cn=0;Cn<Kt.length;++Cn)Kt[Cn].id===un.cueID&&(K.removeChild(Kt[Cn]),--Cn)})}},disableManualTracks:function J(){var It=Q();if(It&&It.length>0){var en=It[0].manualCueList;en&&en.length>0&&en.forEach(function(dn){if(dn.isActive&&(dn.isActive=!1,K))for(var un=K.childNodes,Kt=0;Kt<un.length;++Kt)un[Kt].id===dn.cueID&&(K.removeChild(un[Kt]),--Kt)})}}},function Re(){T=Object(L.default)(R).getInstance().getLogger(P)}(),P}A.__dashjs_factory_name="TextTracks",S.default=F.default.getClassFactory(A)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),E=c(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),F=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function D(p){var v,A,f=this.context,g=p.streamInfo;function M(C){A.setTrackByIndex(C)}function N(){A&&A.reset()}return v={getStreamId:function H(){return g.id},initialize:function R(){A.addTracks();var C=A.getTracks();C&&C.length>0&&M(0)},provide:function k(C,B){if("function"==typeof B){var le,W=A.getCurrentTrack();if(!W||W.segmentDuration<=0||null==C)return void B(null);(le=A.getThumbnailRequestForTime(C))&&(W.segmentDuration=le.duration);var Fe=Math.floor(C%W.segmentDuration*W.tilesHor*W.tilesVert/W.segmentDuration),$=new w.default;if($.width=Math.floor(W.widthPerTile),$.height=Math.floor(W.heightPerTile),$.x=Math.floor(Fe%W.tilesHor)*W.widthPerTile,$.y=Math.floor(Fe/W.tilesHor)*W.heightPerTile,"readThumbnail"in W)return W.readThumbnail(C,function(K){$.url=K,B($)});if(le)$.url=le.url,W.segmentDuration=NaN;else{var ae=Math.floor(C/W.segmentDuration);$.url=function O(C,B){var W=B+C.startNumber,q=Object(L.replaceTokenForTemplate)(C.templateUrl,"Number",W);return q=Object(L.replaceTokenForTemplate)(q,"Time",(W-1)*C.segmentDuration*C.timescale),q=Object(L.replaceTokenForTemplate)(q,"Bandwidth",C.bandwidth),Object(L.unescapeDollarsInTemplate)(q)}(W,ae)}B($)}},setTrackByIndex:M,getCurrentTrackIndex:function P(){return A.getCurrentTrackIndex()},getBitrateList:function T(){var C=A.getTracks(),B=0;return C.map(function(W){var q=new F.default;return q.mediaType=y.default.IMAGE,q.qualityIndex=B++,q.bitrate=W.bitrate,q.width=W.width,q.height=W.height,q})},reset:N},function U(){N(),A=Object(E.default)(f).create({streamInfo:g,adapter:p.adapter,baseURLController:p.baseURLController,timelineConverter:p.timelineConverter,debug:p.debug,eventBus:p.eventBus,events:p.events,dashConstants:p.dashConstants,dashMetrics:p.dashMetrics,segmentBaseController:p.segmentBaseController})}(),v}D.__dashjs_factory_name="ThumbnailController",S.default=t.default.getClassFactory(D)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(tt,S,c){"use strict";c.r(S),c.d(S,"THUMBNAILS_SCHEME_ID_URIS",function(){return v});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),F=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),D=c(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),p=c(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),f=c(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),g=c(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),v=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function A(U){var W,q,le,Fe,$,ae,K,ge,R=this.context,H=U.adapter,k=U.baseURLController,O=U.streamInfo,M=U.timelineConverter,P=U.debug,T=U.eventBus,N=U.events,C=U.dashConstants,B=Object(F.default)(R).getInstance();function Ce(st,Je){var Ne=new E.default;Ne.id=st.id,Ne.bitrate=st.bandwidth,Ne.width=st.width,Ne.height=st.height,Ne.tilesHor=1,Ne.tilesVert=1,st.essentialProperties&&st.essentialProperties.forEach(function(Te){if(v.indexOf(Te.schemeIdUri)>=0&&Te.value){var Y=Te.value.split("x");2===Y.length&&!isNaN(Y[0])&&!isNaN(Y[1])&&(Ne.tilesHor=parseInt(Y[0],10),Ne.tilesVert=parseInt(Y[1],10))}}),Je?ae.updateSegmentData(st).then(function(Te){!function Le(st,Je,Ne){var Te=[],Y=function fe(st,Je){var Y,se,_e,J,Ne=[],Te=0;for(Y=0,se=st.segments.length;Y<se;Y++)_e=st.segments[Y],(J=Object(L.getTimeBasedSegment)(M,H.getIsDynamic(),Je,_e.startTime,_e.duration,_e.timescale,_e.media,_e.mediaRange,Te))&&(Ne.push(J),J=null,Te++);return Ne}(Ne,Je);Je.segments=Y,st.segmentDuration=Je.segments[0].duration,st.readThumbnail=function(se,_e){var J=null;Te.some(function(Q){if(Q.start<=se&&Q.end>se)return J=Q.url,!0}),J?_e(J):Je.segments.some(function(Q){if(Q.mediaStartTime<=se&&Q.mediaStartTime+Q.duration>se){var Z=k.resolve(Je.path);return K.load({method:"get",url:Z.url,request:{range:Q.mediaRange,responseType:"arraybuffer"},onload:function(ie){var ee=ge.getSamplesInfo(ie.target.response),X=new Blob([ie.target.response.slice(ee.sampleList[0].offset,ee.sampleList[0].offset+ee.sampleList[0].size)],{type:"image/jpeg"}),ue=window.URL.createObjectURL(X);Te.push({start:Q.mediaStartTime,end:Q.mediaStartTime+Q.duration,url:ue}),_e&&_e(ue)}}),!0}})}}(Ne,st,Te)}):(Ne.startNumber=st.startNumber,Ne.segmentDuration=st.segmentDuration,Ne.timescale=st.timescale,Ne.templateUrl=function Re(st){var Je=B.isRelative(st.media)?B.resolve(st.media,k.resolve(st.path).url):st.media;return Je?Object(L.replaceIDForTemplate)(Je,st.id):""}(st)),Ne.tilesHor>0&&Ne.tilesVert>0&&(Ne.widthPerTile=Ne.width/Ne.tilesHor,Ne.heightPerTile=Ne.height/Ne.tilesVert,q.push(Ne))}function Ve(){q=[],Fe=-1,$=null}return W={getTracks:function xe(){return q},addTracks:function he(){if(O&&H&&($=H.getMediaInfoForType(O,t.default.IMAGE))){var st=H.getVoRepresentations($);st&&st.length>0&&st.forEach(function(Je){(Je.segmentInfoType===y.default.SEGMENT_TEMPLATE&&Je.segmentDuration>0&&Je.media||Je.segmentInfoType===y.default.SEGMENT_TIMELINE)&&Ce(Je),Je.segmentInfoType===y.default.SEGMENT_BASE&&Ce(Je,!0)}),q.length>0&&q.sort(function(Je,Ne){return Je.bitrate-Ne.bitrate})}},reset:Ve,setTrackByIndex:function ke(st){!q||0===q.length||(st>=q.length&&(st=q.length-1),Fe=st)},getCurrentTrack:function Ue(){return Fe<0?null:q[Fe]},getCurrentTrackIndex:function pe(){return Fe},getThumbnailRequestForTime:function we(st){for(var Je,Ne=H.getVoRepresentations($),Te=0;Te<Ne.length;Te++)if(q[Fe].id===Ne[Te].id){Je=Ne[Te];break}return le.getSegmentRequestForTime($,Je,st)}},function oe(){Ve(),K=Object(p.default)(R).create({}),ge=Object(D.default)(R).getInstance(),ae=Object(g.default)(R).create({events:N,eventBus:T,streamInfo:O,timelineConverter:M,dashConstants:C,dashMetrics:U.dashMetrics,segmentBaseController:U.segmentBaseController,type:t.default.IMAGE}),(le=Object(f.default)(R).create({streamInfo:O,type:t.default.IMAGE,timelineConverter:M,segmentsController:ae,baseURLController:k,debug:P,eventBus:T,events:N,dashConstants:C,urlUtils:B})).initialize(!!H&&H.getIsDynamic())}(),W}A.__dashjs_factory_name="ThumbnailTracks",S.default=w.default.getClassFactory(A)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),F=c(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),L=c(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),f=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),g=c(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),v=c(
/*! ../../core/Settings */
"./src/core/Settings.js");function A(){var k,O,M,P,T,N,U=this.context,R=Object(y.default)(U).getInstance(),H=Object(v.default)(U).getInstance();function le(){O.reset()}return k={chooseSelector:function W(Fe){Object(f.checkParameterType)(Fe,"boolean"),N=Fe?P:M},select:function q(Fe){if(Fe){if(H.get().streaming.applyContentSteering){var $=T.selectBaseUrlIndex(Fe);!isNaN($)&&-1!==$&&(Fe.selectedIdx=$)}if(!isNaN(Fe.selectedIdx))return Fe.baseUrls[Fe.selectedIdx];var ae=N.select(Fe.baseUrls);return ae?(Fe.selectedIdx=Fe.baseUrls.indexOf(ae),ae):(R.trigger(w.default.URL_RESOLUTION_FAILED,{error:new p.default(t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===M&&le()))}},reset:le,setConfig:function B(Fe){Fe.selector&&(N=Fe.selector),Fe.contentSteeringSelector&&(T=Fe.contentSteeringSelector)}},function C(){O=Object(E.default)(U).create({updateEventName:w.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:w.default.SERVICE_LOCATION_BLACKLIST_ADD}),M=Object(L.default)(U).create({blacklistController:O}),P=Object(F.default)(U).create({blacklistController:O}),(T=Object(g.default)(U).create()).setConfig({blacklistController:O}),N=M}(),k}A.__dashjs_factory_name="BaseURLSelector",S.default=D.default.getClassFactory(A)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),F=c.n(E),L=c(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function D(){var p,f,g=this.context;function A(T){if(!T)return null;void 0===T.fileStart&&(T.fileStart=0);var N=F.a.parseBuffer(T),C=Object(y.default)(g).create();return C.setData(N),C}function k(T,N){return T[N+3]>>>0|T[N+2]<<8>>>0|T[N+1]<<16>>>0|T[N]<<24>>>0}function O(T,N){return String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N])}return f={parse:A,findLastTopIsoBoxCompleted:function U(T,N,C){if(void 0===C&&(C=0),!N||C+8>=N.byteLength)return new L.default(0,!1);for(var W,B=N instanceof ArrayBuffer?new Uint8Array(N):N,q=0;C<B.byteLength;){var le=k(B,C),Fe=O(B,C+4);if(0===le)break;C+le<=B.byteLength&&(T.indexOf(Fe)>=0?W=new L.default(C,!0,le):q=C+le),C+=le}return W||new L.default(q,!1)},getMediaTimescaleFromMoov:function H(T){var N=A(T),C=N?N.getBox("mdhd"):void 0;return C?C.timescale:NaN},getSamplesInfo:function R(T){if(!T||0===T.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var W,le,Fe,$,ae,K,ge,oe,he,Ce,Le,fe,Re,xe,pe,Ue,N=A(T),C=N.getBoxes("moof"),B=N.getBoxes("mfhd");pe=N.getBoxes("moof").length,xe=B[B.length-1].sequence_number,le=0,ae=[];var ke=-1,we=-1;for(Ce=0;Ce<C.length;Ce++){var Ve=C[Ce],st=Ve.getChildBoxes("traf");for(oe=0;oe<st.length;oe++){var Je=st[oe],Ne=Je.getChildBox("tfhd"),Te=Je.getChildBox("tfdt");$=Te.baseMediaDecodeTime;var Y=Je.getChildBoxes("trun"),se=Je.getChildBoxes("subs");for(he=0;he<Y.length;he++){var _e=Y[he];for(le=_e.sample_count,Re=(Ne.base_data_offset||0)+(_e.data_offset||0),ge=0;ge<le;ge++){var J={dts:$,cts:$+(void 0!==(K=_e.samples[ge]).sample_composition_time_offset?K.sample_composition_time_offset:0),duration:W=void 0!==K.sample_duration?K.sample_duration:Ne.default_sample_duration,offset:Ve.offset+Re,size:Fe=void 0!==K.sample_size?K.sample_size:Ne.default_sample_size,subSizes:[Fe]};if(se)for(Le=0;Le<se.length;Le++){var Q=se[Le];if(ke<Q.entry_count-1&&ge>we&&(ke++,we+=Q.entries[ke].sample_delta),ge==we){J.subSizes=[];var Z=Q.entries[ke];for(fe=0;fe<Z.subsample_count;fe++)J.subSizes.push(Z.subsamples[fe].subsample_size)}}ae.push(J),Re+=Fe,$+=W}}Ue=$-Te.baseMediaDecodeTime}}return{sampleList:ae,lastSequenceNumber:xe,totalDuration:Ue,numSequences:pe}},findInitRange:function M(T){var N=null,W=A(T);if(!W)return N;var q=W.getBox("ftyp"),le=W.getBox("moov");return p.debug("Searching for initialization."),le&&le.isComplete&&p.debug("Found the initialization.  Range: "+(N=(q?q.offset:le.offset)+"-"+(le.offset+le.size-1))),N},parsePayload:function P(T,N,C){if(void 0===C&&(C=0),!N||C+8>=N.byteLength)return new L.default(0,!1);for(var W,B=N instanceof ArrayBuffer?new Uint8Array(N):N,q=0;C<B.byteLength;){var le=k(B,C),Fe=O(B,C+4);if(0===le)break;C+le<=B.byteLength&&(T.indexOf(Fe)>=0?W=new L.default(C,!0,le,Fe):q=C+le),C+=le}return W||new L.default(q,!1)}},function v(){p=Object(t.default)(g).getInstance().getLogger(f)}(),f}D.__dashjs_factory_name="BoxParser",S.default=w.default.getSingletonFactory(D)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(tt,S,c){"use strict";c.r(S),c.d(S,"supportsMediaSource",function(){return F});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function F(){var D="WebKitMediaSource"in window,p="MediaSource"in window;return D||p}function L(){var D,p,f;return D={setConfig:function v(T){T&&T.settings&&(p=T.settings)},supportsMediaSource:F,supportsEncryptedMedia:function A(){return f},supportsCodec:function R(T,N){return N!==w.default.AUDIO&&N!==w.default.VIDEO?Promise.resolve(!0):function H(T,N){return p.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&N===w.default.AUDIO||N===w.default.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)}(T,N)?function O(T,N){return new Promise(function(C){if(T&&T.codec){var B={type:"media-source"};B[N]={},B[N].contentType=T.codec,B[N].width=T.width,B[N].height=T.height,B[N].bitrate=parseInt(T.bitrate),B[N].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(W){C(W.supported)}).catch(function(){C(!1)})}else C(!1)})}(T,N):function k(T){return new Promise(function(N){if(T&&T.codec){var C=T.codec;T.width&&T.height&&(C+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(C)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(C)?N(!0):N(!1)}else N(!1)})}(T)},setEncryptedMediaSupported:function U(T){f=T},supportsEssentialProperty:function M(T){try{return-1!==y.THUMBNAILS_SCHEME_ID_URIS.indexOf(T.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function P(T,N){for(var W,C=T.split(".")[0],B=0===N.indexOf(C),q=0;q<E.length;q++)if(E[q].codec===C){W=E[q];break}return W?B||W.compatibleCodecs.some(function(le){return 0===N.indexOf(le)}):B}},function g(){f=!1}(),D}L.__dashjs_factory_name="Capabilities",S.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function L(){var f,g,v,A,U,R,D=this.context,p=Object(E.default)(D).getInstance();function M(le,Fe){if(!Fe||!Fe.Period_asArray||0===Fe.Period_asArray.length)return Promise.resolve();var $=[];return Fe.Period_asArray.forEach(function(ae){$.push(function P(le,Fe){return new Promise(function($){if(le&&le.AdaptationSet_asArray&&0!==le.AdaptationSet_asArray.length){var ae=[];le.AdaptationSet_asArray.forEach(function(K){g.getIsTypeOf(K,Fe)&&ae.push(function T(le,Fe){return new Promise(function($){if(le.Representation_asArray&&0!==le.Representation_asArray.length){var ae=[],K=[];le.Representation_asArray.forEach(function(ge,oe){var he=g.getCodec(le,oe,!1),Ce=function N(le,Fe,$){switch(le){case w.default.VIDEO:return function C(le,Fe){return{codec:Fe,width:le.width||null,height:le.height||null,framerate:le.frameRate||null,bitrate:le.bandwidth||null}}(Fe,$);case w.default.AUDIO:return function B(le,Fe){return{codec:Fe,bitrate:le.bandwidth||null,samplerate:le.audioSamplingRate||null}}(Fe,$);default:return null}}(Fe,ge,he);K.push(Ce),ae.push(v.supportsCodec(Ce,Fe))}),Promise.all(ae).then(function(ge){le.Representation_asArray=le.Representation_asArray.filter(function(oe,he){return ge[he]||R.debug("[Stream] Codec ".concat(K[he].codec," not supported ")),ge[he]}),$()}).catch(function(){$()})}else $()})}(K,Fe))}),Promise.all(ae).then(function(){le.AdaptationSet_asArray=le.AdaptationSet_asArray.filter(function(K){var ge=K.Representation_asArray&&K.Representation_asArray.length>0;return ge||(p.trigger(F.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:K}),R.warn("AdaptationSet has been removed because of no supported Representation")),ge}),$()}).catch(function(){$()})}else $()})}(ae,le))}),Promise.all($)}return f={setConfig:function k(le){le&&(le.adapter&&(g=le.adapter),le.capabilities&&(v=le.capabilities),le.settings&&(A=le.settings),le.customParametersModel&&(U=le.customParametersModel))},filterUnsupportedFeatures:function O(le){return new Promise(function(Fe){var $=[];$.push(M(w.default.VIDEO,le)),$.push(M(w.default.AUDIO,le)),Promise.all($).then(function(){A.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function W(le){!le||!le.Period_asArray||0===le.Period_asArray.length||le.Period_asArray.forEach(function(Fe){Fe.AdaptationSet_asArray=Fe.AdaptationSet_asArray.filter(function($){return!$.Representation_asArray||0===$.Representation_asArray.length||($.Representation_asArray=$.Representation_asArray.filter(function(ae){var K=g.getEssentialPropertiesForRepresentation(ae);if(K&&K.length>0)for(var ge=0;ge<K.length;){if(!v.supportsEssentialProperty(K[ge]))return R.debug("[Stream] EssentialProperty not supported: "+K[ge].schemeIdUri),!1;ge+=1}return!0}),$.Representation_asArray&&$.Representation_asArray.length>0)})})}(le),function q(le){var Fe=U.getCustomCapabilitiesFilters();!Fe||0===Fe.length||!le||!le.Period_asArray||0===le.Period_asArray.length||le.Period_asArray.forEach(function($){$.AdaptationSet_asArray=$.AdaptationSet_asArray.filter(function(ae){return!ae.Representation_asArray||0===ae.Representation_asArray.length||(ae.Representation_asArray=ae.Representation_asArray.filter(function(K){return!Fe.some(function(ge){return!ge(K)})}),ae.Representation_asArray&&ae.Representation_asArray.length>0)})})}(le),Fe()}).catch(function(){Fe()})})}},function H(){R=Object(y.default)(D).getInstance().getLogger(f)}(),f}L.__dashjs_factory_name="CapabilitiesFilter",S.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function w(){return{customTimeRangeArray:[],length:0,add:function L(A,U){var R=0;for(R=0;R<this.customTimeRangeArray.length&&A>this.customTimeRangeArray[R].start;R++);for(this.customTimeRangeArray.splice(R,0,{start:A,end:U}),R=0;R<this.customTimeRangeArray.length-1;R++)this.mergeRanges(R,R+1)&&R--;this.length=this.customTimeRangeArray.length},clear:function D(){this.customTimeRangeArray=[],this.length=0},remove:function p(A,U){for(var R=0;R<this.customTimeRangeArray.length;R++)if(A<=this.customTimeRangeArray[R].start&&U>=this.customTimeRangeArray[R].end)this.customTimeRangeArray.splice(R,1),R--;else{if(A>this.customTimeRangeArray[R].start&&U<this.customTimeRangeArray[R].end){this.customTimeRangeArray.splice(R+1,0,{start:U,end:this.customTimeRangeArray[R].end}),this.customTimeRangeArray[R].end=A;break}A>this.customTimeRangeArray[R].start&&A<this.customTimeRangeArray[R].end?this.customTimeRangeArray[R].end=A:U>this.customTimeRangeArray[R].start&&U<this.customTimeRangeArray[R].end&&(this.customTimeRangeArray[R].start=U)}this.length=this.customTimeRangeArray.length},mergeRanges:function f(A,U){var R=this.customTimeRangeArray[A],H=this.customTimeRangeArray[U];return R.start<=H.start&&H.start<=R.end&&R.end<=H.end?(R.end=H.end,this.customTimeRangeArray.splice(U,1),!0):H.start<=R.start&&R.start<=H.end&&H.end<=R.end?(R.start=H.start,this.customTimeRangeArray.splice(U,1),!0):H.start<=R.start&&R.start<=H.end&&R.end<=H.end?(this.customTimeRangeArray.splice(A,1),!0):R.start<=H.start&&H.start<=R.end&&H.end<=R.end&&(this.customTimeRangeArray.splice(U,1),!0)},start:function g(A){return Object(y.checkInteger)(A),A>=this.customTimeRangeArray.length||A<0?NaN:this.customTimeRangeArray[A].start},end:function v(A){return Object(y.checkInteger)(A),A>=this.customTimeRangeArray.length||A<0?NaN:this.customTimeRangeArray[A].end}}}w.__dashjs_factory_name="CustomTimeRanges",S.default=t.default.getClassFactory(w)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],F="dashjs_?_bitrate",L="dashjs_?_settings",D="localStorage",f="lastBitrate",g="lastMediaSettings";function v(U){var k,O,M,R=this.context,H=(U=U||{}).settings;function T(ae){if(void 0!==M)return M;M=!1;var oe;try{typeof window<"u"&&(oe=window[ae])}catch(he){return O.warn("DOMStorage access denied: "+he.message),M}if(!oe||ae!==D&&"sessionStorage"!==ae)return M;try{oe.setItem("1","1"),oe.removeItem("1"),M=!0}catch(he){O.warn("DOMStorage is supported, but cannot be used: "+he.message)}return M}function C(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(ae,K){return T(ae)&&H.get().streaming[K+"CachingInfo"].enabled}function W(){if(!H)throw new Error(w.default.MISSING_CONFIG_ERROR)}return k={getSavedBitrateSettings:function le(ae){if(W(),!H.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var K=NaN;if(B(D,f)){var ge=F.replace(/\?/,ae);try{var oe=JSON.parse(localStorage.getItem(ge))||{},he=(new Date).getTime()-parseInt(oe.timestamp,10)>=H.get().streaming.lastBitrateCachingInfo.ttl||!1,Ce=parseFloat(oe.bitrate);isNaN(Ce)||he?he&&localStorage.removeItem(ge):(K=Ce,O.debug("Last saved bitrate for "+ae+" was "+Ce))}catch{return null}}return K},setSavedBitrateSettings:function $(ae,K){if(B(D,f)&&K){var ge=F.replace(/\?/,ae);try{localStorage.setItem(ge,JSON.stringify({bitrate:K.toFixed(3),timestamp:C()}))}catch(oe){O.error(oe.message)}}},getSavedMediaSettings:function q(ae){if(W(),!H.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var K=null;if(B(D,g)){var ge=L.replace(/\?/,ae);try{var oe=JSON.parse(localStorage.getItem(ge))||{},he=(new Date).getTime()-parseInt(oe.timestamp,10)>=H.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;K=oe.settings,he&&(localStorage.removeItem(ge),K=null)}catch{return null}}return K},setSavedMediaSettings:function Fe(ae,K){if(B(D,g)){var ge=L.replace(/\?/,ae);try{localStorage.setItem(ge,JSON.stringify({settings:K,timestamp:C()}))}catch(oe){O.error(oe.message)}}}},function P(){O=Object(y.default)(R).getInstance().getLogger(k),function N(){T(D)&&E.forEach(function(ae){var K=localStorage.getItem(ae.oldKey);if(K){localStorage.removeItem(ae.oldKey);try{localStorage.setItem(ae.newKey,K)}catch(ge){O.error(ge.message)}}})}()}(),k}v.__dashjs_factory_name="DOMStorage";var A=t.default.getSingletonFactory(v);S.default=A},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var w,E=/^[a-z][a-z0-9+\-_.]*:/i,F=/^https?:\/\//i,L=/^https:\/\//i,D=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,p=function(B,W){try{return new window.URL(B,W).toString()}catch{return B}},f=function(B,W){var q=v;if(!W||!H(B))return B;k(B)&&(q=A),O(B)&&(q=R);var le=q(W),Fe="/"!==le.charAt(le.length-1)&&"/"!==B.charAt(0)?"/":"";return[le,B].join(Fe)};function v(C){var B=C.indexOf("/"),W=C.lastIndexOf("/");return-1!==B?W===B+1?C:(-1!==C.indexOf("?")&&(C=C.substring(0,C.indexOf("?"))),C.substring(0,W+1)):""}function A(C){var B=C.match(D);return B?B[1]:""}function R(C){var B=C.match(E);return B?B[0]:""}function H(C){return!E.test(C)}function k(C){return H(C)&&"/"===C.charAt(0)}function O(C){return 0===C.indexOf("//")}return function g(){try{new window.URL("x","http://y"),w=p}catch{}finally{w=w||f}}(),{parseBaseUrl:v,parseOrigin:A,parseScheme:R,isRelative:H,isPathAbsolute:k,isSchemeRelative:O,isHTTPURL:function M(C){return F.test(C)},isHTTPS:function P(C){return L.test(C)},removeHostname:function U(C){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(C)[2].substring(1)},resolve:function T(C,B){return w(C,B)}}}y.__dashjs_factory_name="DefaultURLUtils",S.default=t.default.getSingletonFactory(y)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(w){w=w||{};var E,F=new DataView(w.data),L=0;function f(O,M){var P=!0,T=0;if(void 0===M&&(M=!1),O.tag>16777215?(F.getUint32(L)!==O.tag&&(P=!1),T=4):O.tag>65535?(256*F.getUint16(L)+F.getUint8(L+2)!==O.tag&&(P=!1),T=3):O.tag>255?(F.getUint16(L)!==O.tag&&(P=!1),T=2):(F.getUint8(L)!==O.tag&&(P=!1),T=1),!P&&O.required&&!M)throw new Error("required tag not found");return P&&(L+=T),P}function U(O){var M=1,P=128,N=-1,C=0,B=F.getUint8(L),W=0;for(W=0;W<8;W+=1){if((B&P)===P){C=void 0===O?B&~P:B,N=W;break}P>>=1}for(W=0;W<N;W+=1,M+=1)C=C<<8|255&F.getUint8(L+M);return L+=M,C}return E={getPos:function D(){return L},setPos:function p(O){L=O},consumeTag:f,consumeTagAndSize:function g(O,M){var P=f(O,M);return P&&U(),P},parseTag:function v(O){var M;return f(O),M=U(),E[O.parse](M)},skipOverElement:function A(O,M){var T,P=f(O,M);return P&&(T=U(),L+=T),P},getMatroskaCodedNum:U,getMatroskaFloat:function R(O){var M;switch(O){case 4:M=F.getFloat32(L),L+=4;break;case 8:M=F.getFloat64(L),L+=8}return M},getMatroskaUint:function H(O){for(var M=0,P=0;P<O;P+=1)M<<=8,M|=255&F.getUint8(L+P);return L+=O,M},moreData:function k(){return L<F.byteLength}}}y.__dashjs_factory_name="EBMLParser",S.default=t.default.getClassFactory(y)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var L=this.context,D=Object(t.default)(L).getInstance();return{error:function p(f){D.trigger(y.default.ERROR,{error:f})}}}E.__dashjs_factory_name="ErrorHandler",S.default=w.default.getSingletonFactory(E)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var w={};return{save:function E(p){var f=p.streamId,g=p.representationId;w[f]=w[f]||{},w[f][g]=p},extract:function F(p,f){return w&&w[p]&&w[p][f]?w[p][f]:null},reset:function L(){w={}}}}y.__dashjs_factory_name="InitCache",S.default=t.default.getSingletonFactory(y)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var F;function D(v){var A=[];if(!v||!F||"function"!=typeof F.fetchAll)return A;for(var R,U=F.fetchAll(v),H=0,k=U.length;H<k;H++)(R=g(U[H]))&&A.push(R);return A}function g(v){if(!v)return null;var A=new t.default(v);return v.hasOwnProperty("_incomplete")&&(A.isComplete=!v._incomplete),A}return{getBox:function L(v){return v&&F&&F.boxes&&0!==F.boxes.length&&"function"==typeof F.fetch?g(F.fetch(v)):null},getBoxes:D,setData:function p(v){F=v},getLastBox:function f(){if(!F||!F.boxes||!F.boxes.length)return null;var A=D(F.boxes[F.boxes.length-1].type);return A.length>0?A[A.length-1]:null}}}w.__dashjs_factory_name="IsoFile",S.default=y.default.getClassFactory(w)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),w=c.n(y);function E(){return{areEqual:function L(D,p){return w()(D,p)}}}E.__dashjs_factory_name="ObjectUtils",S.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(tt,S,c){"use strict";c.r(S),c.d(S,"modifyRequest",function(){return y});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(E,F){var L={url:E.url,method:E.method,headers:Object.assign({},E.headers),credentials:E.withCredentials?"include":void 0};return Promise.resolve(F.modifyRequest(L)).then(function(){return Object.assign(E,L,{withCredentials:"include"===L.credentials})})}function w(){return{modifyRequest:null,modifyRequestURL:function F(D){return D},modifyRequestHeader:function L(D,p){return D}}}w.__dashjs_factory_name="RequestModifier",S.default=t.default.getSingletonFactory(w)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(tt,S,c){"use strict";c.r(S),c.d(S,"checkParameterType",function(){return w}),c.d(S,"checkInteger",function(){return E}),c.d(S,"checkRange",function(){return F}),c.d(S,"checkIsVideoOrAudioType",function(){return L});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function y(D){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(D)}function w(D,p){if(y(D)!==p)throw t.default.BAD_ARGUMENT_ERROR}function E(D){if(null===D||isNaN(D)||D%1!=0)throw t.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function F(D,p,f){if(D<p||D>f)throw t.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function L(D){if("string"!=typeof D||D!==t.default.AUDIO&&D!==t.default.VIDEO)throw t.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),D=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),p=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function f(){var A,U,g=this.context,v=Object(w.default)(g).getInstance(),R=0;function k(){var M="cue_TTML_"+R;return R++,M}return A={parse:function O(M,P,T,N,C){var q,le,Fe,B="",W=[],$={},ae={},K="",ge="",oe={onOpenTag:function(Re,xe,pe){if(pe[" imagetype"]&&!pe[" imageType"]&&(v.trigger(D.default.CONFORMANCE_VIOLATION,{level:p.default.LEVELS.ERROR,event:p.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),pe[" imageType"]=pe[" imagetype"]),"image"===xe&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Re||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Re)){if(!pe[" imageType"]||"PNG"!==pe[" imageType"].value)return void U.warn("smpte-tt imageType != PNG. Discarded");K=pe["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){K&&(ae[K]=ge.trim()),ge="",K=""},onText:function(Re){K&&(ge+=Re)}};if(!M)throw B="no ttml data to parse",new Error(B);$.data=M,v.trigger(E.default.TTML_TO_PARSE,$);var he=Object(F.fromXML)($.data,function(fe){B=fe},oe);v.trigger(E.default.TTML_PARSED,{ttmlString:$.data,ttmlDoc:he});var Ce=he.getMediaTimeEvents();for(Fe=0;Fe<Ce.length;Fe++){var Le=Object(F.generateISD)(he,Ce[Fe],function(fe){B=fe});Le.contents.some(function(fe){return fe.contents.length})&&(q=Ce[Fe]+P<T?T:Ce[Fe]+P)<(le=Ce[Fe+1]+P>N?N:Ce[Fe+1]+P)&&W.push({start:q,end:le,type:"html",cueID:k(),isd:Le,images:C,embeddedImages:ae})}if(""!==B)throw U.error(B),new Error(B);return W}},function H(){U=Object(y.default)(g).getInstance().getLogger(A)}(),A}f.__dashjs_factory_name="TTMLParser",S.default=t.default.getSingletonFactory(f)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function w(){var L,D=[],p=this.context;function A(B,W,q){var le=function f(B){var W;for(W=0;W<D.length;W++)if(D[W].regex.test(B))return D[W].utils;return L}(q||W);return le&&"function"==typeof le[B]?le[B](W,q):L[B](W,q)}return function g(){L=Object(y.default)(p).getInstance()}(),{registerUrlRegex:function v(B,W){D.push({regex:B,utils:W})},parseBaseUrl:function U(B){return A("parseBaseUrl",B)},parseOrigin:function R(B){return A("parseOrigin",B)},parseScheme:function k(B){return A("parseScheme",B)},isRelative:function O(B){return A("isRelative",B)},isPathAbsolute:function M(B){return A("isPathAbsolute",B)},isSchemeRelative:function P(B){return A("isSchemeRelative",B)},isHTTPURL:function T(B){return A("isHTTPURL",B)},isHTTPS:function N(B){return A("isHTTPS",B)},removeHostname:function H(B){return A("removeHostname",B)},resolve:function C(B,W){return A("resolve",B,W)}}}w.__dashjs_factory_name="URLUtils";var E=t.default.getSingletonFactory(w);S.default=E},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function E(){var L,D,p,f,g,v,F=this.context;function R(M){var P=M.split(":"),T=P.length-1;return M=60*parseInt(P[T-1],10)+parseFloat(P[T]),2===T&&(M+=3600*parseInt(P[0],10)),M}function H(M){var P=M.split(f),T=P[1].split(v);return T.shift(),P[1]=T[0],T.shift(),{cuePoints:P,styles:k(T)}}function k(M){var P={};return M.forEach(function(T){if(T.split(/:/).length>1){var N=T.split(/:/)[1];N&&-1!=N.search(/%/)&&(N=parseInt(N.replace(/%/,""),10)),(T.match(/align/)||T.match(/A/))&&(P.align=N),(T.match(/line/)||T.match(/L/))&&(P.line=N),(T.match(/position/)||T.match(/P/))&&(P.position=N),(T.match(/size/)||T.match(/S/))&&(P.size=N)}}),P}function O(M,P){for(var B,T=P,N="",C="";""!==M[T]&&T<M.length;)T++;if((B=T-P)>1)for(var W=0;W<B;W++){if((C=M[P+W]).match(f)){N="";break}N+=C,W!==B-1&&(N+="\n")}else(C=M[P]).match(f)||(N=C);return N}return L={parse:function U(M){var T,N,P=[];if(!M)return P;T=(M=M.split(p)).length,N=-1;for(var C=0;C<T;C++){var B=M[C];if(B.length>0&&"WEBVTT"!==B&&B.match(f)){var W=H(B),q=W.cuePoints,le=W.styles,Fe=O(M,C+1),$=R(q[0].replace(g,"")),ae=R(q[1].replace(g,""));!isNaN($)&&!isNaN(ae)&&$>=N&&ae>$?""!==Fe?(N=$,P.push({start:$,end:ae,data:Fe,styles:le})):D.error("Skipping cue due to empty/malformed cue text"):D.error("Skipping cue due to incorrect cue timing")}}return P}},function A(){D=Object(y.default)(F).getInstance().getLogger(L),p=/(?:\r\n|\r|\n)/gm,f=/-->/,g=/(^[\s]+|[\s]+$)/g,v=/\s\b/g}(),L}E.__dashjs_factory_name="VTTParser",S.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var w,E;return w={parse:function L(D){var p=[];return E.oncue=function(f){f.start=f.startTime,f.end=f.endTime,f.data=f.text,f.styles={align:f.align,line:f.line,position:f.position,size:f.size},p.push(f)},E.parse(D),p}},function F(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(E=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),w}y.__dashjs_factory_name="VttCustomRenderingParser",S.default=t.default.getSingletonFactory(y)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(w){var F=(w=w||{}).blacklistController;return{select:function L(D){var f,p=0;return D&&D.some(function(g,v){return p=v,!F.contains(g.serviceLocation)})&&(f=D[p]),f}}}y.__dashjs_factory_name="BasicSelector",S.default=t.default.getClassFactory(y)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function w(){var F,L,D,E=this.context;function v(){for(var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=0,H=NaN,k=function(){var P=A[R],T=U.findIndex(function(N){return N.serviceLocation&&N.serviceLocation===P});if(-1!==T&&!D.contains(U[T].serviceLocation))return H=T,"break";R+=1};R<A.length&&"break"!==k(););return H}return F={selectBaseUrlIndex:function g(A){var U=NaN;if(isNaN(A.selectedIdx)){var R=L.getSteeringDataFromManifest();R&&R.defaultServiceLocation&&(U=v([R.defaultServiceLocation],A.baseUrls))}var H=L.getCurrentSteeringResponseData();return A.baseUrls&&A.baseUrls.length&&H&&H.serviceLocationPriority&&H.serviceLocationPriority.length&&(U=v(H.serviceLocationPriority,A.baseUrls)),U},setConfig:function f(A){A.blacklistController&&(D=A.blacklistController),A.contentSteeringController&&(L=A.contentSteeringController)}},function p(){L=Object(y.default)(E).getInstance()}(),F}w.__dashjs_factory_name="ContentSteeringSelector",S.default=t.default.getClassFactory(w)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(w){var F=(w=w||{}).blacklistController;return{select:function p(f){return f&&function D(f){var H,k,A=0,U=[],R=0;if((k=f.sort(function(M,P){var T=M.dvb_priority-P.dvb_priority;return isNaN(T)?0:T}).filter(function(M,P,T){return!P||T[0].dvb_priority&&M.dvb_priority&&T[0].dvb_priority===M.dvb_priority})).length)return k.length>1&&(k.forEach(function(O){U.push(A+=O.dvb_weight)}),H=Math.floor(Math.random()*(A-1)),U.every(function(O,M){return R=M,!(H<O)})),k[R]}(function L(f){var g=[];return f.filter(function(R){return!F.contains(R.serviceLocation)||(R.dvb_priority&&g.push(R.dvb_priority),!1)}).filter(function(R){return!(g.length&&R.dvb_priority&&-1!==g.indexOf(R.dvb_priority))})}(f))}}}y.__dashjs_factory_name="DVBSelector",S.default=t.default.getClassFactory(y)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,v){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.code=f||null,this.message=g||null,this.data=v||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,L(A.key),A)}}function L(f){var g=function D(f,g){if("object"!==y(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==y(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===y(g)?g:String(g)}var p=function(){function f(g){(function w(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.action=f.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=g||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function F(f,g,v){return g&&E(f.prototype,g),v&&E(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===t.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(v){this.type=v&&v.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=v&&v.url?v.url:null,this.range=v&&v.range?v.range.start+"-"+v.range.end:null,this.mediaType=v&&v.mediaType?v.mediaType:null}}]),f}();p.ACTION_DOWNLOAD="download",p.ACTION_COMPLETE="complete",S.default=p},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function y(k){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(k)}function w(k,O){for(var M=0;M<O.length;M++){var P=O[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,F(P.key),P)}}function F(k){var O=function L(k,O){if("object"!==y(k)||null===k)return k;var M=k[Symbol.toPrimitive];if(void 0!==M){var P=M.call(k,O||"default");if("object"!==y(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(k)}(k,"string");return"symbol"===y(O)?O:String(O)}function p(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),O&&f(k,O)}function f(k,O){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,T){return P.__proto__=T,P})(k,O)}function g(k){var O=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,P=R(k);if(O){var N=R(this).constructor;T=Reflect.construct(P,arguments,N)}else T=P.apply(this,arguments);return function v(k,O){if(O&&("object"===y(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)})(k)}S.default=function(k){p(M,k);var O=g(M);function M(P){var T;return function D(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,M),(T=O.call(this,P)).checkForExistenceOnly=!0,T}return function E(k,O,M){return O&&w(k.prototype,O),M&&w(k,M),Object.defineProperty(k,"prototype",{writable:!1}),k}(M)}(t.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f){if(function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p),this.offset=f._offset,this.type=f.type,this.size=f.size,this.boxes=[],f.boxes)for(var g=0;g<f.boxes.length;g++)this.boxes.push(new p(f.boxes[g]));switch(this.isComplete=!0,f.type){case"sidx":if(this.timescale=f.timescale,this.earliest_presentation_time=f.earliest_presentation_time,this.first_offset=f.first_offset,this.references=f.references,f.references){this.references=[];for(var v=0;v<f.references.length;v++)this.references.push({reference_type:f.references[v].reference_type,referenced_size:f.references[v].referenced_size,subsegment_duration:f.references[v].subsegment_duration})}break;case"emsg":this.id=f.id,this.version=1===f.version?1:0,this.value=f.value,this.timescale=f.timescale,this.scheme_id_uri=f.scheme_id_uri,this.presentation_time_delta=1===f.version?f.presentation_time:f.presentation_time_delta,this.event_duration=f.event_duration,this.message_data=f.message_data;break;case"mdhd":this.timescale=f.timescale;break;case"mfhd":this.sequence_number=f.sequence_number;break;case"subs":this.entry_count=f.entry_count,this.entries=f.entries;break;case"tfhd":this.base_data_offset=f.base_data_offset,this.sample_description_index=f.sample_description_index,this.default_sample_duration=f.default_sample_duration,this.default_sample_size=f.default_sample_size,this.default_sample_flags=f.default_sample_flags,this.flags=f.flags;break;case"tfdt":this.version=f.version,this.baseMediaDecodeTime=f.baseMediaDecodeTime,this.flags=f.flags;break;case"trun":if(this.sample_count=f.sample_count,this.first_sample_flags=f.first_sample_flags,this.data_offset=f.data_offset,this.flags=f.flags,this.samples=f.samples,f.samples){this.samples=[];for(var U=0,R=f.samples.length;U<R;U++)this.samples.push({sample_size:f.samples[U].sample_size,sample_duration:f.samples[U].sample_duration,sample_composition_time_offset:f.samples[U].sample_composition_time_offset})}}}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"getChildBox",value:function(g){for(var v=0;v<this.boxes.length;v++)if(this.boxes[v].type===g)return this.boxes[v]}},{key:"getChildBoxes",value:function(g){for(var v=[],A=0;A<this.boxes.length;A++)this.boxes[A].type===g&&v.push(this.boxes[A]);return v}}]),p}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,v){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.lastCompletedOffset=f,this.found=g,this.size=v})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function w(O){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}function E(O,M){for(var P=0;P<M.length;P++){var T=M[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,L(T.key),T)}}function L(O){var M=function D(O,M){if("object"!==w(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,M||"default");if("object"!==w(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===M?String:Number)(O)}(O,"string");return"symbol"===w(M)?M:String(M)}function f(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&g(O,M)}function g(O,M){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,M)}function v(O){var M=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=H(O);if(M){var C=H(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function A(O,M){if(M&&("object"===w(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function U(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function H(O){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}S.default=function(O){f(P,O);var M=v(P);function P(T,N){var C;return function p(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,P),(C=M.call(this)).url=T||null,C.type=N||null,C.mediaType=t.default.STREAM,C.responseType="",C}return function F(O,M,P){return M&&E(O.prototype,M),P&&E(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(y.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function y(k){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(k)}function w(k,O){for(var M=0;M<O.length;M++){var P=O[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,F(P.key),P)}}function F(k){var O=function L(k,O){if("object"!==y(k)||null===k)return k;var M=k[Symbol.toPrimitive];if(void 0!==M){var P=M.call(k,O||"default");if("object"!==y(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(k)}(k,"string");return"symbol"===y(O)?O:String(O)}function p(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),O&&f(k,O)}function f(k,O){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,T){return P.__proto__=T,P})(k,O)}function g(k){var O=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,P=R(k);if(O){var N=R(this).constructor;T=Reflect.construct(P,arguments,N)}else T=P.apply(this,arguments);return function v(k,O){if(O&&("object"===y(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)})(k)}S.default=function(k){p(M,k);var O=g(M);function M(){var P;return function D(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,M),(P=O.call(this)).captionData=null,P.label=null,P.defaultTrack=!1,P.kind=null,P.isFragmented=!1,P.isEmbedded=!1,P.isTTML=null,P}return function E(k,O,M){return O&&w(k.prototype,O),M&&w(k,M),Object.defineProperty(k,"prototype",{writable:!1}),k}(M)}(t.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function E(f,g,v){return g&&w(f.prototype,g),v&&w(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}function F(f){var g=function L(f,g){if("object"!==y(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==y(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===y(g)?g:String(g)}S.default=E(function f(){(function D(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.target=null,this.state=t.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function y(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,E(A.key),A)}}function w(f,g,v){return g&&y(f.prototype,g),v&&y(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}c.r(S),c.d(S,"HTTPRequest",function(){return D}),c.d(S,"HTTPRequestTrace",function(){return p});var D=w(function f(){L(this,f),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),p=w(function f(){L(this,f),this.s=null,this.d=null,this.b=[]});D.GET="GET",D.HEAD="HEAD",D.MPD_TYPE="MPD",D.XLINK_EXPANSION_TYPE="XLinkExpansion",D.INIT_SEGMENT_TYPE="InitializationSegment",D.INDEX_SEGMENT_TYPE="IndexSegment",D.MEDIA_SEGMENT_TYPE="MediaSegment",D.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",D.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",D.DVB_REPORTING_TYPE="DVBReporting",D.LICENSE="license",D.CONTENT_STEERING_TYPE="ContentSteering",D.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(tt,S,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function y(g,v){for(var A=0;A<v.length;A++){var U=v[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(g,E(U.key),U)}}function w(g,v,A){return v&&y(g.prototype,v),A&&y(g,A),Object.defineProperty(g,"prototype",{writable:!1}),g}function E(g){var v=function F(g,v){if("object"!==t(g)||null===g)return g;var A=g[Symbol.toPrimitive];if(void 0!==A){var U=A.call(g,v||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(g)}(g,"string");return"symbol"===t(v)?v:String(v)}function L(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}c.r(S),c.d(S,"ManifestUpdate",function(){return D}),c.d(S,"ManifestUpdateStreamInfo",function(){return p}),c.d(S,"ManifestUpdateRepresentationInfo",function(){return f});var D=w(function g(){L(this,g),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),p=w(function g(){L(this,g),this.id=null,this.index=null,this.start=null,this.duration=null}),f=w(function g(){L(this,g),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function y(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,E(A.key),A)}}function w(f,g,v){return g&&y(f.prototype,g),v&&y(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}c.r(S),c.d(S,"PlayList",function(){return D}),c.d(S,"PlayListTrace",function(){return p});var D=w(function f(){L(this,f),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});D.INITIAL_PLAYOUT_START_REASON="initial_playout",D.SEEK_START_REASON="seek",D.RESUME_FROM_PAUSE_START_REASON="resume",D.METRICS_COLLECTION_START_REASON="metrics_collection_start";var p=w(function f(){L(this,f),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});p.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",p.REBUFFERING_REASON="rebuffering",p.USER_REQUEST_STOP_REASON="user_request",p.END_OF_PERIOD_STOP_REASON="end_of_period",p.END_OF_CONTENT_STOP_REASON="end_of_content",p.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",p.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function w(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(tt,S){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(tt,S){}}).default},4440:(Gn,tt,S)=>{var c;!function(){"use strict";var t="object"==typeof window?window:{},y=!t.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;y&&(t=global);var A,U,w=!t.HI_BASE64_NO_COMMON_JS&&Gn.exports,E=S.amdO,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),L={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},p=function(M){var P,T,N,C,B=[],W=0,q=M.length;"="===M.charAt(q-2)?q-=2:"="===M.charAt(q-1)&&(q-=1);for(var le=0,Fe=q>>2<<2;le<Fe;)P=L[M.charAt(le++)],T=L[M.charAt(le++)],N=L[M.charAt(le++)],C=L[M.charAt(le++)],B[W++]=255&(P<<2|T>>>4),B[W++]=255&(T<<4|N>>>2),B[W++]=255&(N<<6|C);var $=q-Fe;return 2===$?(P=L[M.charAt(le++)],T=L[M.charAt(le++)],B[W++]=255&(P<<2|T>>>4)):3===$&&(P=L[M.charAt(le++)],T=L[M.charAt(le++)],N=L[M.charAt(le++)],B[W++]=255&(P<<2|T>>>4),B[W++]=255&(T<<4|N>>>2)),B},f=function(M){for(var P,T,N,C="",B=M.length,W=0,q=3*parseInt(B/3);W<q;)P=M[W++],T=M[W++],N=M[W++],C+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var le=B-q;return 1===le?C+=F[(P=M[W])>>>2]+F[P<<4&63]+"==":2===le&&(P=M[W++],C+=F[P>>>2]+F[63&(P<<4|(T=M[W])>>>4)]+F[T<<2&63]+"="),C},g=t.btoa,v=t.atob;if(y){var R=S(9007).lW;g=function(M){return new R(M,"ascii").toString("base64")},f=A=function(M){return new R(M).toString("base64")},v=function(M){return new R(M,"base64").toString("ascii")},U=function(M){return new R(M,"base64").toString()}}else g?(A=function(M){for(var P="",T=0;T<M.length;T++){var N=M.charCodeAt(T);N<128?P+=String.fromCharCode(N):N<2048?P+=String.fromCharCode(192|N>>6)+String.fromCharCode(128|63&N):N<55296||N>=57344?P+=String.fromCharCode(224|N>>12)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N):(N=65536+((1023&N)<<10|1023&M.charCodeAt(++T)),P+=String.fromCharCode(240|N>>18)+String.fromCharCode(128|N>>12&63)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N))}return g(P)},U=function(M){var P=v(M.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(P))return P;for(var W,q,T="",N=0,C=P.length,B=0;N<C;)if((W=P.charCodeAt(N++))<=127)T+=String.fromCharCode(W);else{if(W>191&&W<=223)q=31&W,B=1;else if(W<=239)q=15&W,B=2;else{if(!(W<=247))throw"not a UTF-8 string";q=7&W,B=3}for(var le=0;le<B;++le){if((W=P.charCodeAt(N++))<128||W>191)throw"not a UTF-8 string";q<<=6,q+=63&W}if(q>=55296&&q<=57343||q>1114111)throw"not a UTF-8 string";q<=65535?T+=String.fromCharCode(q):(q-=65536,T+=String.fromCharCode(55296+(q>>10)),T+=String.fromCharCode(56320+(1023&q)))}return T}):(g=function(M){for(var P,T,N,C="",B=M.length,W=0,q=3*parseInt(B/3);W<q;)P=M.charCodeAt(W++),T=M.charCodeAt(W++),N=M.charCodeAt(W++),C+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var le=B-q;return 1===le?(P=M.charCodeAt(W),C+=F[P>>>2]+F[P<<4&63]+"=="):2===le&&(P=M.charCodeAt(W++),T=M.charCodeAt(W),C+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[T<<2&63]+"="),C},A=function(M){for(var P,T,N,C="",B=function(M){for(var P=[],T=0;T<M.length;T++){var N=M.charCodeAt(T);N<128?P[P.length]=N:N<2048?(P[P.length]=192|N>>6,P[P.length]=128|63&N):N<55296||N>=57344?(P[P.length]=224|N>>12,P[P.length]=128|N>>6&63,P[P.length]=128|63&N):(N=65536+((1023&N)<<10|1023&M.charCodeAt(++T)),P[P.length]=240|N>>18,P[P.length]=128|N>>12&63,P[P.length]=128|N>>6&63,P[P.length]=128|63&N)}return P}(M),W=B.length,q=0,le=3*parseInt(W/3);q<le;)P=B[q++],T=B[q++],N=B[q++],C+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var Fe=W-le;return 1===Fe?C+=F[(P=B[q])>>>2]+F[P<<4&63]+"==":2===Fe&&(P=B[q++],C+=F[P>>>2]+F[63&(P<<4|(T=B[q])>>>4)]+F[T<<2&63]+"="),C},v=function(M){var P,T,N,C,B="",W=M.length;"="===M.charAt(W-2)?W-=2:"="===M.charAt(W-1)&&(W-=1);for(var q=0,le=W>>2<<2;q<le;)P=L[M.charAt(q++)],T=L[M.charAt(q++)],N=L[M.charAt(q++)],C=L[M.charAt(q++)],B+=String.fromCharCode(255&(P<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))+String.fromCharCode(255&(N<<6|C));var Fe=W-le;return 2===Fe?(P=L[M.charAt(q++)],T=L[M.charAt(q++)],B+=String.fromCharCode(255&(P<<2|T>>>4))):3===Fe&&(P=L[M.charAt(q++)],T=L[M.charAt(q++)],N=L[M.charAt(q++)],B+=String.fromCharCode(255&(P<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))),B},U=function(M){for(var W,q,P="",T=p(M),N=T.length,C=0,B=0;C<N;)if((W=T[C++])<=127)P+=String.fromCharCode(W);else{if(W>191&&W<=223)q=31&W,B=1;else if(W<=239)q=15&W,B=2;else{if(!(W<=247))throw"not a UTF-8 string";q=7&W,B=3}for(var le=0;le<B;++le){if((W=T[C++])<128||W>191)throw"not a UTF-8 string";q<<=6,q+=63&W}if(q>=55296&&q<=57343||q>1114111)throw"not a UTF-8 string";q<=65535?P+=String.fromCharCode(q):(q-=65536,P+=String.fromCharCode(55296+(q>>10)),P+=String.fromCharCode(56320+(1023&q)))}return P});var k=function(M,P){return P?v(M):U(M)},O={encode:function(M,P){var T="string"!=typeof M;return T&&M.constructor===t.ArrayBuffer&&(M=new Uint8Array(M)),T?f(M):!P&&/[^\x00-\x7F]/.test(M)?A(M):g(M)},decode:k,atob:v,btoa:g};k.bytes=p,k.string=k,w?Gn.exports=O:(t.base64=O,E&&void 0!==(c=function(){return O}.call(O,S,O,Gn))&&(Gn.exports=c))}()},2601:(Gn,tt)=>{tt.read=function(S,c,t,y,w){var E,F,L=8*w-y-1,D=(1<<L)-1,p=D>>1,f=-7,g=t?w-1:0,v=t?-1:1,A=S[c+g];for(g+=v,E=A&(1<<-f)-1,A>>=-f,f+=L;f>0;E=256*E+S[c+g],g+=v,f-=8);for(F=E&(1<<-f)-1,E>>=-f,f+=y;f>0;F=256*F+S[c+g],g+=v,f-=8);if(0===E)E=1-p;else{if(E===D)return F?NaN:1/0*(A?-1:1);F+=Math.pow(2,y),E-=p}return(A?-1:1)*F*Math.pow(2,E-y)},tt.write=function(S,c,t,y,w,E){var F,L,D,p=8*E-w-1,f=(1<<p)-1,g=f>>1,v=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,A=y?0:E-1,U=y?1:-1,R=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(L=isNaN(c)?1:0,F=f):(F=Math.floor(Math.log(c)/Math.LN2),c*(D=Math.pow(2,-F))<1&&(F--,D*=2),(c+=F+g>=1?v/D:v*Math.pow(2,1-g))*D>=2&&(F++,D/=2),F+g>=f?(L=0,F=f):F+g>=1?(L=(c*D-1)*Math.pow(2,w),F+=g):(L=c*Math.pow(2,g-1)*Math.pow(2,w),F=0));w>=8;S[t+A]=255&L,A+=U,L/=256,w-=8);for(F=F<<w|L,p+=w;p>0;S[t+A]=255&F,A+=U,F/=256,p-=8);S[t+A-U]|=128*R}},5619:(Gn,tt,S)=>{"use strict";S.d(tt,{X:()=>t});var c=S(8645);class t extends c.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const E=super._subscribe(w);return!E.closed&&w.next(this._value),E}getValue(){const{hasError:w,thrownError:E,_value:F}=this;if(w)throw E;return this._throwIfClosed(),F}next(w){super.next(this._value=w)}}},5592:(Gn,tt,S)=>{"use strict";S.d(tt,{y:()=>D});var c=S(305),t=S(7394),y=S(4850),w=S(8407),E=S(2653),F=S(4674),L=S(1441);let D=(()=>{class v{constructor(U){U&&(this._subscribe=U)}lift(U){const R=new v;return R.source=this,R.operator=U,R}subscribe(U,R,H){const k=function g(v){return v&&v instanceof c.Lv||function f(v){return v&&(0,F.m)(v.next)&&(0,F.m)(v.error)&&(0,F.m)(v.complete)}(v)&&(0,t.Nn)(v)}(U)?U:new c.Hp(U,R,H);return(0,L.x)(()=>{const{operator:O,source:M}=this;k.add(O?O.call(k,M):M?this._subscribe(k):this._trySubscribe(k))}),k}_trySubscribe(U){try{return this._subscribe(U)}catch(R){U.error(R)}}forEach(U,R){return new(R=p(R))((H,k)=>{const O=new c.Hp({next:M=>{try{U(M)}catch(P){k(P),O.unsubscribe()}},error:k,complete:H});this.subscribe(O)})}_subscribe(U){var R;return null===(R=this.source)||void 0===R?void 0:R.subscribe(U)}[y.L](){return this}pipe(...U){return(0,w.U)(U)(this)}toPromise(U){return new(U=p(U))((R,H)=>{let k;this.subscribe(O=>k=O,O=>H(O),()=>R(k))})}}return v.create=A=>new v(A),v})();function p(v){var A;return null!==(A=v??E.config.Promise)&&void 0!==A?A:Promise}},8645:(Gn,tt,S)=>{"use strict";S.d(tt,{x:()=>L});var c=S(5592),t=S(7394);const w=(0,S(2306).d)(p=>function(){p(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var E=S(9039),F=S(1441);let L=(()=>{class p extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(g){const v=new D(this,this);return v.operator=g,v}_throwIfClosed(){if(this.closed)throw new w}next(g){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(g)}})}error(g){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=g;const{observers:v}=this;for(;v.length;)v.shift().error(g)}})}complete(){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:g}=this;for(;g.length;)g.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var g;return(null===(g=this.observers)||void 0===g?void 0:g.length)>0}_trySubscribe(g){return this._throwIfClosed(),super._trySubscribe(g)}_subscribe(g){return this._throwIfClosed(),this._checkFinalizedStatuses(g),this._innerSubscribe(g)}_innerSubscribe(g){const{hasError:v,isStopped:A,observers:U}=this;return v||A?t.Lc:(this.currentObservers=null,U.push(g),new t.w0(()=>{this.currentObservers=null,(0,E.P)(U,g)}))}_checkFinalizedStatuses(g){const{hasError:v,thrownError:A,isStopped:U}=this;v?g.error(A):U&&g.complete()}asObservable(){const g=new c.y;return g.source=this,g}}return p.create=(f,g)=>new D(f,g),p})();class D extends L{constructor(f,g){super(),this.destination=f,this.source=g}next(f){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.next)||void 0===v||v.call(g,f)}error(f){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.error)||void 0===v||v.call(g,f)}complete(){var f,g;null===(g=null===(f=this.destination)||void 0===f?void 0:f.complete)||void 0===g||g.call(f)}_subscribe(f){var g,v;return null!==(v=null===(g=this.source)||void 0===g?void 0:g.subscribe(f))&&void 0!==v?v:t.Lc}}},305:(Gn,tt,S)=>{"use strict";S.d(tt,{Hp:()=>H,Lv:()=>v});var c=S(4674),t=S(7394),y=S(2653),w=S(3894),E=S(2420);const F=p("C",void 0,void 0);function p(T,N,C){return{kind:T,value:N,error:C}}var f=S(7599),g=S(1441);class v extends t.w0{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,t.Nn)(N)&&N.add(this)):this.destination=P}static create(N,C,B){return new H(N,C,B)}next(N){this.isStopped?M(function D(T){return p("N",T,void 0)}(N),this):this._next(N)}error(N){this.isStopped?M(function L(T){return p("E",void 0,T)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?M(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A=Function.prototype.bind;function U(T,N){return A.call(T,N)}class R{constructor(N){this.partialObserver=N}next(N){const{partialObserver:C}=this;if(C.next)try{C.next(N)}catch(B){k(B)}}error(N){const{partialObserver:C}=this;if(C.error)try{C.error(N)}catch(B){k(B)}else k(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(C){k(C)}}}class H extends v{constructor(N,C,B){let W;if(super(),(0,c.m)(N)||!N)W={next:N??void 0,error:C??void 0,complete:B??void 0};else{let q;this&&y.config.useDeprecatedNextContext?(q=Object.create(N),q.unsubscribe=()=>this.unsubscribe(),W={next:N.next&&U(N.next,q),error:N.error&&U(N.error,q),complete:N.complete&&U(N.complete,q)}):W=N}this.destination=new R(W)}}function k(T){y.config.useDeprecatedSynchronousErrorHandling?(0,g.O)(T):(0,w.h)(T)}function M(T,N){const{onStoppedNotification:C}=y.config;C&&f.z.setTimeout(()=>C(T,N))}const P={closed:!0,next:E.Z,error:function O(T){throw T},complete:E.Z}},7394:(Gn,tt,S)=>{"use strict";S.d(tt,{Lc:()=>F,w0:()=>E,Nn:()=>L});var c=S(4674);const y=(0,S(2306).d)(p=>function(g){p(this),this.message=g?`${g.length} errors occurred during unsubscription:\n${g.map((v,A)=>`${A+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=g});var w=S(9039);class E{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:g}=this;if(g)if(this._parentage=null,Array.isArray(g))for(const U of g)U.remove(this);else g.remove(this);const{initialTeardown:v}=this;if((0,c.m)(v))try{v()}catch(U){f=U instanceof y?U.errors:[U]}const{_finalizers:A}=this;if(A){this._finalizers=null;for(const U of A)try{D(U)}catch(R){f=f??[],R instanceof y?f=[...f,...R.errors]:f.push(R)}}if(f)throw new y(f)}}add(f){var g;if(f&&f!==this)if(this.closed)D(f);else{if(f instanceof E){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(g=this._finalizers)&&void 0!==g?g:[]).push(f)}}_hasParent(f){const{_parentage:g}=this;return g===f||Array.isArray(g)&&g.includes(f)}_addParent(f){const{_parentage:g}=this;this._parentage=Array.isArray(g)?(g.push(f),g):g?[g,f]:f}_removeParent(f){const{_parentage:g}=this;g===f?this._parentage=null:Array.isArray(g)&&(0,w.P)(g,f)}remove(f){const{_finalizers:g}=this;g&&(0,w.P)(g,f),f instanceof E&&f._removeParent(this)}}E.EMPTY=(()=>{const p=new E;return p.closed=!0,p})();const F=E.EMPTY;function L(p){return p instanceof E||p&&"closed"in p&&(0,c.m)(p.remove)&&(0,c.m)(p.add)&&(0,c.m)(p.unsubscribe)}function D(p){(0,c.m)(p)?p():p.unsubscribe()}},2653:(Gn,tt,S)=>{"use strict";S.d(tt,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Gn,tt,S)=>{"use strict";S.d(tt,{c:()=>F});var c=S(5592),t=S(7394),y=S(6196),w=S(8251),E=S(9360);class F extends c.y{constructor(D,p){super(),this.source=D,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,E.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new t.w0;const p=this.getSubject();D.add(this.source.subscribe((0,w.x)(p,void 0,()=>{this._teardown(),p.complete()},f=>{this._teardown(),p.error(f)},()=>this._teardown()))),D.closed&&(this._connection=null,D=t.w0.EMPTY)}return D}refCount(){return(0,y.x)()(this)}}},2572:(Gn,tt,S)=>{"use strict";S.d(tt,{a:()=>f});var c=S(5592),t=S(7453),y=S(2459),w=S(2737),E=S(7400),F=S(9940),L=S(2714),D=S(8251),p=S(7103);function f(...A){const U=(0,F.yG)(A),R=(0,F.jO)(A),{args:H,keys:k}=(0,t.D)(A);if(0===H.length)return(0,y.D)([],U);const O=new c.y(function g(A,U,R=w.y){return H=>{v(U,()=>{const{length:k}=A,O=new Array(k);let M=k,P=k;for(let T=0;T<k;T++)v(U,()=>{const N=(0,y.D)(A[T],U);let C=!1;N.subscribe((0,D.x)(H,B=>{O[T]=B,C||(C=!0,P--),P||H.next(R(O.slice()))},()=>{--M||H.complete()}))},H)},H)}}(H,U,k?M=>(0,L.n)(k,M):w.y));return R?O.pipe((0,E.Z)(R)):O}function v(A,U,R){A?(0,p.f)(R,A,U):U()}},5211:(Gn,tt,S)=>{"use strict";S.d(tt,{z:()=>E});var c=S(7537),y=S(9940),w=S(2459);function E(...F){return function t(){return(0,c.J)(1)}()((0,w.D)(F,(0,y.yG)(F)))}},4911:(Gn,tt,S)=>{"use strict";S.d(tt,{P:()=>y});var c=S(5592),t=S(4829);function y(w){return new c.y(E=>{(0,t.Xf)(w()).subscribe(E)})}},6232:(Gn,tt,S)=>{"use strict";S.d(tt,{E:()=>t});const t=new(S(5592).y)(E=>E.complete())},2459:(Gn,tt,S)=>{"use strict";S.d(tt,{D:()=>N});var c=S(4829),t=S(3093),y=S(5137),F=S(5592),D=S(4971),p=S(4674),f=S(7103);function v(C,B){if(!C)throw new Error("Iterable cannot be null");return new F.y(W=>{(0,f.f)(W,B,()=>{const q=C[Symbol.asyncIterator]();(0,f.f)(W,B,()=>{q.next().then(le=>{le.done?W.complete():W.next(le.value)})},0,!0)})})}var A=S(8382),U=S(4026),R=S(4266),H=S(3664),k=S(5726),O=S(9853),M=S(541);function N(C,B){return B?function T(C,B){if(null!=C){if((0,A.c)(C))return function w(C,B){return(0,c.Xf)(C).pipe((0,y.R)(B),(0,t.Q)(B))}(C,B);if((0,R.z)(C))return function L(C,B){return new F.y(W=>{let q=0;return B.schedule(function(){q===C.length?W.complete():(W.next(C[q++]),W.closed||this.schedule())})})}(C,B);if((0,U.t)(C))return function E(C,B){return(0,c.Xf)(C).pipe((0,y.R)(B),(0,t.Q)(B))}(C,B);if((0,k.D)(C))return v(C,B);if((0,H.T)(C))return function g(C,B){return new F.y(W=>{let q;return(0,f.f)(W,B,()=>{q=C[D.h](),(0,f.f)(W,B,()=>{let le,Fe;try{({value:le,done:Fe}=q.next())}catch($){return void W.error($)}Fe?W.complete():W.next(le)},0,!0)}),()=>(0,p.m)(q?.return)&&q.return()})}(C,B);if((0,M.L)(C))return function P(C,B){return v((0,M.Q)(C),B)}(C,B)}throw(0,O.z)(C)}(C,B):(0,c.Xf)(C)}},2438:(Gn,tt,S)=>{"use strict";S.d(tt,{R:()=>f});var c=S(4829),t=S(5592),y=S(1631),w=S(4266),E=S(4674),F=S(7400);const L=["addListener","removeListener"],D=["addEventListener","removeEventListener"],p=["on","off"];function f(R,H,k,O){if((0,E.m)(k)&&(O=k,k=void 0),O)return f(R,H,k).pipe((0,F.Z)(O));const[M,P]=function U(R){return(0,E.m)(R.addEventListener)&&(0,E.m)(R.removeEventListener)}(R)?D.map(T=>N=>R[T](H,N,k)):function v(R){return(0,E.m)(R.addListener)&&(0,E.m)(R.removeListener)}(R)?L.map(g(R,H)):function A(R){return(0,E.m)(R.on)&&(0,E.m)(R.off)}(R)?p.map(g(R,H)):[];if(!M&&(0,w.z)(R))return(0,y.z)(T=>f(T,H,k))((0,c.Xf)(R));if(!M)throw new TypeError("Invalid event target");return new t.y(T=>{const N=(...C)=>T.next(1<C.length?C:C[0]);return M(N),()=>P(N)})}function g(R,H){return k=>O=>R[k](H,O)}},4829:(Gn,tt,S)=>{"use strict";S.d(tt,{Xf:()=>A});var c=S(7582),t=S(4266),y=S(4026),w=S(5592),E=S(8382),F=S(5726),L=S(9853),D=S(3664),p=S(541),f=S(4674),g=S(3894),v=S(4850);function A(T){if(T instanceof w.y)return T;if(null!=T){if((0,E.c)(T))return function U(T){return new w.y(N=>{const C=T[v.L]();if((0,f.m)(C.subscribe))return C.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(T);if((0,t.z)(T))return function R(T){return new w.y(N=>{for(let C=0;C<T.length&&!N.closed;C++)N.next(T[C]);N.complete()})}(T);if((0,y.t)(T))return function H(T){return new w.y(N=>{T.then(C=>{N.closed||(N.next(C),N.complete())},C=>N.error(C)).then(null,g.h)})}(T);if((0,F.D)(T))return O(T);if((0,D.T)(T))return function k(T){return new w.y(N=>{for(const C of T)if(N.next(C),N.closed)return;N.complete()})}(T);if((0,p.L)(T))return function M(T){return O((0,p.Q)(T))}(T)}throw(0,L.z)(T)}function O(T){return new w.y(N=>{(function P(T,N){var C,B,W,q;return(0,c.mG)(this,void 0,void 0,function*(){try{for(C=(0,c.KL)(T);!(B=yield C.next()).done;)if(N.next(B.value),N.closed)return}catch(le){W={error:le}}finally{try{B&&!B.done&&(q=C.return)&&(yield q.call(C))}finally{if(W)throw W.error}}N.complete()})})(T,N).catch(C=>N.error(C))})}},3019:(Gn,tt,S)=>{"use strict";S.d(tt,{T:()=>F});var c=S(7537),t=S(4829),y=S(6232),w=S(9940),E=S(2459);function F(...L){const D=(0,w.yG)(L),p=(0,w._6)(L,1/0),f=L;return f.length?1===f.length?(0,t.Xf)(f[0]):(0,c.J)(p)((0,E.D)(f,D)):y.E}},2096:(Gn,tt,S)=>{"use strict";S.d(tt,{of:()=>y});var c=S(9940),t=S(2459);function y(...w){const E=(0,c.yG)(w);return(0,t.D)(w,E)}},4825:(Gn,tt,S)=>{"use strict";S.d(tt,{H:()=>E});var c=S(5592),t=S(6321),y=S(671);function E(F=0,L,D=t.P){let p=-1;return null!=L&&((0,y.K)(L)?D=L:p=L),new c.y(f=>{let g=function w(F){return F instanceof Date&&!isNaN(F)}(F)?+F-D.now():F;g<0&&(g=0);let v=0;return D.schedule(function(){f.closed||(f.next(v++),0<=p?this.schedule(void 0,p):f.complete())},g)})}},8251:(Gn,tt,S)=>{"use strict";S.d(tt,{x:()=>t});var c=S(305);function t(w,E,F,L,D){return new y(w,E,F,L,D)}class y extends c.Lv{constructor(E,F,L,D,p,f){super(E),this.onFinalize=p,this.shouldUnsubscribe=f,this._next=F?function(g){try{F(g)}catch(v){E.error(v)}}:super._next,this._error=D?function(g){try{D(g)}catch(v){E.error(v)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(g){E.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var E;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:F}=this;super.unsubscribe(),!F&&(null===(E=this.onFinalize)||void 0===E||E.call(this))}}}},6328:(Gn,tt,S)=>{"use strict";S.d(tt,{b:()=>y});var c=S(1631),t=S(4674);function y(w,E){return(0,t.m)(E)?(0,c.z)(w,E,1):(0,c.z)(w,1)}},3620:(Gn,tt,S)=>{"use strict";S.d(tt,{b:()=>w});var c=S(6321),t=S(9360),y=S(8251);function w(E,F=c.z){return(0,t.e)((L,D)=>{let p=null,f=null,g=null;const v=()=>{if(p){p.unsubscribe(),p=null;const U=f;f=null,D.next(U)}};function A(){const U=g+E,R=F.now();if(R<U)return p=this.schedule(void 0,U-R),void D.add(p);v()}L.subscribe((0,y.x)(D,U=>{f=U,g=F.now(),p||(p=F.schedule(A,E),D.add(p))},()=>{v(),D.complete()},void 0,()=>{f=p=null}))})}},3572:(Gn,tt,S)=>{"use strict";S.d(tt,{d:()=>y});var c=S(9360),t=S(8251);function y(w){return(0,c.e)((E,F)=>{let L=!1;E.subscribe((0,t.x)(F,D=>{L=!0,F.next(D)},()=>{L||F.next(w),F.complete()}))})}},3997:(Gn,tt,S)=>{"use strict";S.d(tt,{x:()=>w});var c=S(2737),t=S(9360),y=S(8251);function w(F,L=c.y){return F=F??E,(0,t.e)((D,p)=>{let f,g=!0;D.subscribe((0,y.x)(p,v=>{const A=L(v);(g||!F(f,A))&&(g=!1,f=A,p.next(v))}))})}function E(F,L){return F===L}},2181:(Gn,tt,S)=>{"use strict";S.d(tt,{h:()=>y});var c=S(9360),t=S(8251);function y(w,E){return(0,c.e)((F,L)=>{let D=0;F.subscribe((0,t.x)(L,p=>w.call(E,p,D++)&&L.next(p)))})}},4716:(Gn,tt,S)=>{"use strict";S.d(tt,{x:()=>t});var c=S(9360);function t(y){return(0,c.e)((w,E)=>{try{w.subscribe(E)}finally{E.add(y)}})}},1374:(Gn,tt,S)=>{"use strict";S.d(tt,{P:()=>L});var c=S(6973),t=S(2181),y=S(8180),w=S(3572),E=S(3026),F=S(2737);function L(D,p){const f=arguments.length>=2;return g=>g.pipe(D?(0,t.h)((v,A)=>D(v,A,g)):F.y,(0,y.q)(1),f?(0,w.d)(p):(0,E.T)(()=>new c.K))}},7398:(Gn,tt,S)=>{"use strict";S.d(tt,{U:()=>y});var c=S(9360),t=S(8251);function y(w,E){return(0,c.e)((F,L)=>{let D=0;F.subscribe((0,t.x)(L,p=>{L.next(w.call(E,p,D++))}))})}},975:(Gn,tt,S)=>{"use strict";S.d(tt,{h:()=>t});var c=S(7398);function t(y){return(0,c.U)(()=>y)}},7537:(Gn,tt,S)=>{"use strict";S.d(tt,{J:()=>y});var c=S(1631),t=S(2737);function y(w=1/0){return(0,c.z)(t.y,w)}},1631:(Gn,tt,S)=>{"use strict";S.d(tt,{z:()=>D});var c=S(7398),t=S(4829),y=S(9360),w=S(7103),E=S(8251),L=S(4674);function D(p,f,g=1/0){return(0,L.m)(f)?D((v,A)=>(0,c.U)((U,R)=>f(v,U,A,R))((0,t.Xf)(p(v,A))),g):("number"==typeof f&&(g=f),(0,y.e)((v,A)=>function F(p,f,g,v,A,U,R,H){const k=[];let O=0,M=0,P=!1;const T=()=>{P&&!k.length&&!O&&f.complete()},N=B=>O<v?C(B):k.push(B),C=B=>{U&&f.next(B),O++;let W=!1;(0,t.Xf)(g(B,M++)).subscribe((0,E.x)(f,q=>{A?.(q),U?N(q):f.next(q)},()=>{W=!0},void 0,()=>{if(W)try{for(O--;k.length&&O<v;){const q=k.shift();R?(0,w.f)(f,R,()=>C(q)):C(q)}T()}catch(q){f.error(q)}}))};return p.subscribe((0,E.x)(f,N,()=>{P=!0,T()})),()=>{H?.()}}(v,A,p,g)))}},3093:(Gn,tt,S)=>{"use strict";S.d(tt,{Q:()=>w});var c=S(7103),t=S(9360),y=S(8251);function w(E,F=0){return(0,t.e)((L,D)=>{L.subscribe((0,y.x)(D,p=>(0,c.f)(D,E,()=>D.next(p),F),()=>(0,c.f)(D,E,()=>D.complete(),F),p=>(0,c.f)(D,E,()=>D.error(p),F)))})}},6196:(Gn,tt,S)=>{"use strict";S.d(tt,{x:()=>y});var c=S(9360),t=S(8251);function y(){return(0,c.e)((w,E)=>{let F=null;w._refCount++;const L=(0,t.x)(E,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(F=null);const D=w._connection,p=F;F=null,D&&(!p||D===p)&&D.unsubscribe(),E.unsubscribe()});w.subscribe(L),L.closed||(F=w.connect())})}},3020:(Gn,tt,S)=>{"use strict";S.d(tt,{B:()=>E});var c=S(4829),t=S(8645),y=S(305),w=S(9360);function E(L={}){const{connector:D=(()=>new t.x),resetOnError:p=!0,resetOnComplete:f=!0,resetOnRefCountZero:g=!0}=L;return v=>{let A,U,R,H=0,k=!1,O=!1;const M=()=>{U?.unsubscribe(),U=void 0},P=()=>{M(),A=R=void 0,k=O=!1},T=()=>{const N=A;P(),N?.unsubscribe()};return(0,w.e)((N,C)=>{H++,!O&&!k&&M();const B=R=R??D();C.add(()=>{H--,0===H&&!O&&!k&&(U=F(T,g))}),B.subscribe(C),!A&&H>0&&(A=new y.Hp({next:W=>B.next(W),error:W=>{O=!0,M(),U=F(P,p,W),B.error(W)},complete:()=>{k=!0,M(),U=F(P,f),B.complete()}}),(0,c.Xf)(N).subscribe(A))})(v)}}function F(L,D,...p){if(!0===D)return void L();if(!1===D)return;const f=new y.Hp({next:()=>{f.unsubscribe(),L()}});return(0,c.Xf)(D(...p)).subscribe(f)}},940:(Gn,tt,S)=>{"use strict";S.d(tt,{d:()=>E});var c=S(8645),t=S(4552);class y extends c.x{constructor(L=1/0,D=1/0,p=t.l){super(),this._bufferSize=L,this._windowTime=D,this._timestampProvider=p,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=D===1/0,this._bufferSize=Math.max(1,L),this._windowTime=Math.max(1,D)}next(L){const{isStopped:D,_buffer:p,_infiniteTimeWindow:f,_timestampProvider:g,_windowTime:v}=this;D||(p.push(L),!f&&p.push(g.now()+v)),this._trimBuffer(),super.next(L)}_subscribe(L){this._throwIfClosed(),this._trimBuffer();const D=this._innerSubscribe(L),{_infiniteTimeWindow:p,_buffer:f}=this,g=f.slice();for(let v=0;v<g.length&&!L.closed;v+=p?1:2)L.next(g[v]);return this._checkFinalizedStatuses(L),D}_trimBuffer(){const{_bufferSize:L,_timestampProvider:D,_buffer:p,_infiniteTimeWindow:f}=this,g=(f?1:2)*L;if(L<1/0&&g<p.length&&p.splice(0,p.length-g),!f){const v=D.now();let A=0;for(let U=1;U<p.length&&p[U]<=v;U+=2)A=U;A&&p.splice(0,A+1)}}}var w=S(3020);function E(F,L,D){let p,f=!1;return F&&"object"==typeof F?({bufferSize:p=1/0,windowTime:L=1/0,refCount:f=!1,scheduler:D}=F):p=F??1/0,(0,w.B)({connector:()=>new y(p,L,D),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}},836:(Gn,tt,S)=>{"use strict";S.d(tt,{T:()=>t});var c=S(2181);function t(y){return(0,c.h)((w,E)=>y<=E)}},7921:(Gn,tt,S)=>{"use strict";S.d(tt,{O:()=>w});var c=S(5211),t=S(9940),y=S(9360);function w(...E){const F=(0,t.yG)(E);return(0,y.e)((L,D)=>{(F?(0,c.z)(E,L,F):(0,c.z)(E,L)).subscribe(D)})}},5137:(Gn,tt,S)=>{"use strict";S.d(tt,{R:()=>t});var c=S(9360);function t(y,w=0){return(0,c.e)((E,F)=>{F.add(y.schedule(()=>E.subscribe(F),w))})}},4664:(Gn,tt,S)=>{"use strict";S.d(tt,{w:()=>w});var c=S(4829),t=S(9360),y=S(8251);function w(E,F){return(0,t.e)((L,D)=>{let p=null,f=0,g=!1;const v=()=>g&&!p&&D.complete();L.subscribe((0,y.x)(D,A=>{p?.unsubscribe();let U=0;const R=f++;(0,c.Xf)(E(A,R)).subscribe(p=(0,y.x)(D,H=>D.next(F?F(A,H,R,U++):H),()=>{p=null,v()}))},()=>{g=!0,v()}))})}},8180:(Gn,tt,S)=>{"use strict";S.d(tt,{q:()=>w});var c=S(6232),t=S(9360),y=S(8251);function w(E){return E<=0?()=>c.E:(0,t.e)((F,L)=>{let D=0;F.subscribe((0,y.x)(L,p=>{++D<=E&&(L.next(p),E<=D&&L.complete())}))})}},9773:(Gn,tt,S)=>{"use strict";S.d(tt,{R:()=>E});var c=S(9360),t=S(8251),y=S(4829),w=S(2420);function E(F){return(0,c.e)((L,D)=>{(0,y.Xf)(F).subscribe((0,t.x)(D,()=>D.complete(),w.Z)),!D.closed&&L.subscribe(D)})}},9397:(Gn,tt,S)=>{"use strict";S.d(tt,{b:()=>E});var c=S(4674),t=S(9360),y=S(8251),w=S(2737);function E(F,L,D){const p=(0,c.m)(F)||L||D?{next:F,error:L,complete:D}:F;return p?(0,t.e)((f,g)=>{var v;null===(v=p.subscribe)||void 0===v||v.call(p);let A=!0;f.subscribe((0,y.x)(g,U=>{var R;null===(R=p.next)||void 0===R||R.call(p,U),g.next(U)},()=>{var U;A=!1,null===(U=p.complete)||void 0===U||U.call(p),g.complete()},U=>{var R;A=!1,null===(R=p.error)||void 0===R||R.call(p,U),g.error(U)},()=>{var U,R;A&&(null===(U=p.unsubscribe)||void 0===U||U.call(p)),null===(R=p.finalize)||void 0===R||R.call(p)}))}):w.y}},3026:(Gn,tt,S)=>{"use strict";S.d(tt,{T:()=>w});var c=S(6973),t=S(9360),y=S(8251);function w(F=E){return(0,t.e)((L,D)=>{let p=!1;L.subscribe((0,y.x)(D,f=>{p=!0,D.next(f)},()=>p?D.complete():D.error(F())))})}function E(){return new c.K}},1954:(Gn,tt,S)=>{"use strict";S.d(tt,{o:()=>E});var c=S(7394);class t extends c.w0{constructor(L,D){super()}schedule(L,D=0){return this}}const y={setInterval(F,L,...D){const{delegate:p}=y;return p?.setInterval?p.setInterval(F,L,...D):setInterval(F,L,...D)},clearInterval(F){const{delegate:L}=y;return(L?.clearInterval||clearInterval)(F)},delegate:void 0};var w=S(9039);class E extends t{constructor(L,D){super(L,D),this.scheduler=L,this.work=D,this.pending=!1}schedule(L,D=0){var p;if(this.closed)return this;this.state=L;const f=this.id,g=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(g,f,D)),this.pending=!0,this.delay=D,this.id=null!==(p=this.id)&&void 0!==p?p:this.requestAsyncId(g,this.id,D),this}requestAsyncId(L,D,p=0){return y.setInterval(L.flush.bind(L,this),p)}recycleAsyncId(L,D,p=0){if(null!=p&&this.delay===p&&!1===this.pending)return D;null!=D&&y.clearInterval(D)}execute(L,D){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const p=this._execute(L,D);if(p)return p;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,D){let f,p=!1;try{this.work(L)}catch(g){p=!0,f=g||new Error("Scheduled action threw falsy error")}if(p)return this.unsubscribe(),f}unsubscribe(){if(!this.closed){const{id:L,scheduler:D}=this,{actions:p}=D;this.work=this.state=this.scheduler=null,this.pending=!1,(0,w.P)(p,this),null!=L&&(this.id=this.recycleAsyncId(D,L,null)),this.delay=null,super.unsubscribe()}}}},2631:(Gn,tt,S)=>{"use strict";S.d(tt,{v:()=>y});var c=S(4552);class t{constructor(E,F=t.now){this.schedulerActionCtor=E,this.now=F}schedule(E,F=0,L){return new this.schedulerActionCtor(this,E).schedule(L,F)}}t.now=c.l.now;class y extends t{constructor(E,F=t.now){super(E,F),this.actions=[],this._active=!1}flush(E){const{actions:F}=this;if(this._active)return void F.push(E);let L;this._active=!0;do{if(L=E.execute(E.state,E.delay))break}while(E=F.shift());if(this._active=!1,L){for(;E=F.shift();)E.unsubscribe();throw L}}}},6321:(Gn,tt,S)=>{"use strict";S.d(tt,{P:()=>w,z:()=>y});var c=S(1954);const y=new(S(2631).v)(c.o),w=y},4552:(Gn,tt,S)=>{"use strict";S.d(tt,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(Gn,tt,S)=>{"use strict";S.d(tt,{z:()=>c});const c={setTimeout(t,y,...w){const{delegate:E}=c;return E?.setTimeout?E.setTimeout(t,y,...w):setTimeout(t,y,...w)},clearTimeout(t){const{delegate:y}=c;return(y?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(Gn,tt,S)=>{"use strict";S.d(tt,{h:()=>t});const t=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Gn,tt,S)=>{"use strict";S.d(tt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Gn,tt,S)=>{"use strict";S.d(tt,{K:()=>t});const t=(0,S(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Gn,tt,S)=>{"use strict";S.d(tt,{_6:()=>F,jO:()=>w,yG:()=>E});var c=S(4674),t=S(671);function y(L){return L[L.length-1]}function w(L){return(0,c.m)(y(L))?L.pop():void 0}function E(L){return(0,t.K)(y(L))?L.pop():void 0}function F(L,D){return"number"==typeof y(L)?L.pop():D}},7453:(Gn,tt,S)=>{"use strict";S.d(tt,{D:()=>E});const{isArray:c}=Array,{getPrototypeOf:t,prototype:y,keys:w}=Object;function E(L){if(1===L.length){const D=L[0];if(c(D))return{args:D,keys:null};if(function F(L){return L&&"object"==typeof L&&t(L)===y}(D)){const p=w(D);return{args:p.map(f=>D[f]),keys:p}}}return{args:L,keys:null}}},9039:(Gn,tt,S)=>{"use strict";function c(t,y){if(t){const w=t.indexOf(y);0<=w&&t.splice(w,1)}}S.d(tt,{P:()=>c})},2306:(Gn,tt,S)=>{"use strict";function c(t){const w=t(E=>{Error.call(E),E.stack=(new Error).stack});return w.prototype=Object.create(Error.prototype),w.prototype.constructor=w,w}S.d(tt,{d:()=>c})},2714:(Gn,tt,S)=>{"use strict";function c(t,y){return t.reduce((w,E,F)=>(w[E]=y[F],w),{})}S.d(tt,{n:()=>c})},1441:(Gn,tt,S)=>{"use strict";S.d(tt,{O:()=>w,x:()=>y});var c=S(2653);let t=null;function y(E){if(c.config.useDeprecatedSynchronousErrorHandling){const F=!t;if(F&&(t={errorThrown:!1,error:null}),E(),F){const{errorThrown:L,error:D}=t;if(t=null,L)throw D}}else E()}function w(E){c.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=E)}},7103:(Gn,tt,S)=>{"use strict";function c(t,y,w,E=0,F=!1){const L=y.schedule(function(){w(),F?t.add(this.schedule(null,E)):this.unsubscribe()},E);if(t.add(L),!F)return L}S.d(tt,{f:()=>c})},2737:(Gn,tt,S)=>{"use strict";function c(t){return t}S.d(tt,{y:()=>c})},4266:(Gn,tt,S)=>{"use strict";S.d(tt,{z:()=>c});const c=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(Gn,tt,S)=>{"use strict";S.d(tt,{D:()=>t});var c=S(4674);function t(y){return Symbol.asyncIterator&&(0,c.m)(y?.[Symbol.asyncIterator])}},4674:(Gn,tt,S)=>{"use strict";function c(t){return"function"==typeof t}S.d(tt,{m:()=>c})},8382:(Gn,tt,S)=>{"use strict";S.d(tt,{c:()=>y});var c=S(4850),t=S(4674);function y(w){return(0,t.m)(w[c.L])}},3664:(Gn,tt,S)=>{"use strict";S.d(tt,{T:()=>y});var c=S(4971),t=S(4674);function y(w){return(0,t.m)(w?.[c.h])}},2664:(Gn,tt,S)=>{"use strict";S.d(tt,{b:()=>y});var c=S(5592),t=S(4674);function y(w){return!!w&&(w instanceof c.y||(0,t.m)(w.lift)&&(0,t.m)(w.subscribe))}},4026:(Gn,tt,S)=>{"use strict";S.d(tt,{t:()=>t});var c=S(4674);function t(y){return(0,c.m)(y?.then)}},541:(Gn,tt,S)=>{"use strict";S.d(tt,{L:()=>w,Q:()=>y});var c=S(7582),t=S(4674);function y(E){return(0,c.FC)(this,arguments,function*(){const L=E.getReader();try{for(;;){const{value:D,done:p}=yield(0,c.qq)(L.read());if(p)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(D)}}finally{L.releaseLock()}})}function w(E){return(0,t.m)(E?.getReader)}},671:(Gn,tt,S)=>{"use strict";S.d(tt,{K:()=>t});var c=S(4674);function t(y){return y&&(0,c.m)(y.schedule)}},9360:(Gn,tt,S)=>{"use strict";S.d(tt,{A:()=>t,e:()=>y});var c=S(4674);function t(w){return(0,c.m)(w?.lift)}function y(w){return E=>{if(t(E))return E.lift(function(F){try{return w(F,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Gn,tt,S)=>{"use strict";S.d(tt,{Z:()=>w});var c=S(7398);const{isArray:t}=Array;function w(E){return(0,c.U)(F=>function y(E,F){return t(F)?E(...F):E(F)}(E,F))}},2420:(Gn,tt,S)=>{"use strict";function c(){}S.d(tt,{Z:()=>c})},8407:(Gn,tt,S)=>{"use strict";S.d(tt,{U:()=>y,z:()=>t});var c=S(2737);function t(...w){return y(w)}function y(w){return 0===w.length?c.y:1===w.length?w[0]:function(F){return w.reduce((L,D)=>D(L),F)}}},3894:(Gn,tt,S)=>{"use strict";S.d(tt,{h:()=>y});var c=S(2653),t=S(7599);function y(w){t.z.setTimeout(()=>{const{onUnhandledError:E}=c.config;if(!E)throw w;E(w)})}},9853:(Gn,tt,S)=>{"use strict";function c(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(tt,{z:()=>c})},6825:(Gn,tt,S)=>{"use strict";S.d(tt,{F4:()=>f,IO:()=>R,LC:()=>t,SB:()=>p,X$:()=>w,ZE:()=>O,ZN:()=>k,_j:()=>c,eR:()=>g,jt:()=>E,k1:()=>M,l3:()=>y,oB:()=>D,pV:()=>A,ru:()=>F,vP:()=>L});class c{}class t{}const y="*";function w(P,T){return{type:7,name:P,definitions:T,options:{}}}function E(P,T=null){return{type:4,styles:T,timings:P}}function F(P,T=null){return{type:3,steps:P,options:T}}function L(P,T=null){return{type:2,steps:P,options:T}}function D(P){return{type:6,styles:P,offset:null}}function p(P,T,N){return{type:0,name:P,styles:T,options:N}}function f(P){return{type:5,steps:P}}function g(P,T,N=null){return{type:1,expr:P,animation:T,options:N}}function A(P=null){return{type:9,options:P}}function R(P,T,N=null){return{type:11,selector:P,animation:T,options:N}}class k{constructor(T=0,N=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=T+N}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}onStart(T){this._originalOnStartFns.push(T),this._onStartFns.push(T)}onDone(T){this._originalOnDoneFns.push(T),this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(T=>T()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(T){this._position=this.totalTime?T*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(C=>C()),N.length=0}}class O{constructor(T){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=T;let N=0,C=0,B=0;const W=this.players.length;0==W?queueMicrotask(()=>this._onFinish()):this.players.forEach(q=>{q.onDone(()=>{++N==W&&this._onFinish()}),q.onDestroy(()=>{++C==W&&this._onDestroy()}),q.onStart(()=>{++B==W&&this._onStart()})}),this.totalTime=this.players.reduce((q,le)=>Math.max(q,le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}init(){this.players.forEach(T=>T.init())}onStart(T){this._onStartFns.push(T)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(T=>T()),this._onStartFns=[])}onDone(T){this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(T=>T.play())}pause(){this.players.forEach(T=>T.pause())}restart(){this.players.forEach(T=>T.restart())}finish(){this._onFinish(),this.players.forEach(T=>T.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(T=>T.destroy()),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this.players.forEach(T=>T.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(T){const N=T*this.totalTime;this.players.forEach(C=>{const B=C.totalTime?Math.min(1,N/C.totalTime):1;C.setPosition(B)})}getPosition(){const T=this.players.reduce((N,C)=>null===N||C.totalTime>N.totalTime?C:N,null);return null!=T?T.getPosition():0}beforeDestroy(){this.players.forEach(T=>{T.beforeDestroy&&T.beforeDestroy()})}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(C=>C()),N.length=0}}const M="!"},4300:(Gn,tt,S)=>{"use strict";S.d(tt,{$s:()=>Fe,Kd:()=>it,X6:()=>ie,Zf:()=>T,iD:()=>N,ic:()=>Ce,kH:()=>en,mK:()=>se,qV:()=>Y,qm:()=>Cn,rt:()=>nn,s1:()=>ge,tE:()=>jt,yG:()=>ee});var c=S(6814),t=S(5879),y=S(2831),w=S(8645),E=S(7394),F=S(5619),L=S(2096),D=S(6028),p=S(9397),f=S(3620),g=S(2181),v=S(7398),A=S(8180),U=S(836),R=S(3997),H=S(9773),k=S(2495),O=S(7131),M=S(1088);const P=" ";function T(Dt,ft,Qe){const De=C(Dt,ft);De.some(Pe=>Pe.trim()==Qe.trim())||(De.push(Qe.trim()),Dt.setAttribute(ft,De.join(P)))}function N(Dt,ft,Qe){const Pe=C(Dt,ft).filter(Ye=>Ye!=Qe.trim());Pe.length?Dt.setAttribute(ft,Pe.join(P)):Dt.removeAttribute(ft)}function C(Dt,ft){return(Dt.getAttribute(ft)||"").match(/\S+/g)||[]}const W="cdk-describedby-message",q="cdk-describedby-host";let le=0,Fe=(()=>{class Dt{constructor(Qe,De){this._platform=De,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+le++,this._document=Qe,this._id=(0,t.f3M)(t.AFp)+"-"+le++}describe(Qe,De,Pe){if(!this._canBeDescribed(Qe,De))return;const Ye=$(De,Pe);"string"!=typeof De?(ae(De,this._id),this._messageRegistry.set(Ye,{messageElement:De,referenceCount:0})):this._messageRegistry.has(Ye)||this._createMessageElement(De,Pe),this._isElementDescribedByMessage(Qe,Ye)||this._addMessageReference(Qe,Ye)}removeDescription(Qe,De,Pe){if(!De||!this._isElementNode(Qe))return;const Ye=$(De,Pe);if(this._isElementDescribedByMessage(Qe,Ye)&&this._removeMessageReference(Qe,Ye),"string"==typeof De){const $e=this._messageRegistry.get(Ye);$e&&0===$e.referenceCount&&this._deleteMessageElement(Ye)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Qe=this._document.querySelectorAll(`[${q}="${this._id}"]`);for(let De=0;De<Qe.length;De++)this._removeCdkDescribedByReferenceIds(Qe[De]),Qe[De].removeAttribute(q);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Qe,De){const Pe=this._document.createElement("div");ae(Pe,this._id),Pe.textContent=Qe,De&&Pe.setAttribute("role",De),this._createMessagesContainer(),this._messagesContainer.appendChild(Pe),this._messageRegistry.set($(Qe,De),{messageElement:Pe,referenceCount:0})}_deleteMessageElement(Qe){this._messageRegistry.get(Qe)?.messageElement?.remove(),this._messageRegistry.delete(Qe)}_createMessagesContainer(){if(this._messagesContainer)return;const Qe="cdk-describedby-message-container",De=this._document.querySelectorAll(`.${Qe}[platform="server"]`);for(let Ye=0;Ye<De.length;Ye++)De[Ye].remove();const Pe=this._document.createElement("div");Pe.style.visibility="hidden",Pe.classList.add(Qe),Pe.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Pe.setAttribute("platform","server"),this._document.body.appendChild(Pe),this._messagesContainer=Pe}_removeCdkDescribedByReferenceIds(Qe){const De=C(Qe,"aria-describedby").filter(Pe=>0!=Pe.indexOf(W));Qe.setAttribute("aria-describedby",De.join(" "))}_addMessageReference(Qe,De){const Pe=this._messageRegistry.get(De);T(Qe,"aria-describedby",Pe.messageElement.id),Qe.setAttribute(q,this._id),Pe.referenceCount++}_removeMessageReference(Qe,De){const Pe=this._messageRegistry.get(De);Pe.referenceCount--,N(Qe,"aria-describedby",Pe.messageElement.id),Qe.removeAttribute(q)}_isElementDescribedByMessage(Qe,De){const Pe=C(Qe,"aria-describedby"),Ye=this._messageRegistry.get(De),$e=Ye&&Ye.messageElement.id;return!!$e&&-1!=Pe.indexOf($e)}_canBeDescribed(Qe,De){if(!this._isElementNode(Qe))return!1;if(De&&"object"==typeof De)return!0;const Pe=null==De?"":`${De}`.trim(),Ye=Qe.getAttribute("aria-label");return!(!Pe||Ye&&Ye.trim()===Pe)}_isElementNode(Qe){return Qe.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(c.K0),t.LFG(y.t4))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();function $(Dt,ft){return"string"==typeof Dt?`${ft||""}/${Dt}`:Dt}function ae(Dt,ft){Dt.id||(Dt.id=`${W}-${ft}-${le++}`)}class K{constructor(ft){this._items=ft,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new w.x,this._typeaheadSubscription=E.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Qe=>Qe.disabled,this._pressedLetters=[],this.tabOut=new w.x,this.change=new w.x,ft instanceof t.n_E&&(this._itemChangesSubscription=ft.changes.subscribe(Qe=>{if(this._activeItem){const Pe=Qe.toArray().indexOf(this._activeItem);Pe>-1&&Pe!==this._activeItemIndex&&(this._activeItemIndex=Pe)}}))}skipPredicate(ft){return this._skipPredicateFn=ft,this}withWrap(ft=!0){return this._wrap=ft,this}withVerticalOrientation(ft=!0){return this._vertical=ft,this}withHorizontalOrientation(ft){return this._horizontal=ft,this}withAllowedModifierKeys(ft){return this._allowedModifierKeys=ft,this}withTypeAhead(ft=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,p.b)(Qe=>this._pressedLetters.push(Qe)),(0,f.b)(ft),(0,g.h)(()=>this._pressedLetters.length>0),(0,v.U)(()=>this._pressedLetters.join(""))).subscribe(Qe=>{const De=this._getItemsArray();for(let Pe=1;Pe<De.length+1;Pe++){const Ye=(this._activeItemIndex+Pe)%De.length,$e=De[Ye];if(!this._skipPredicateFn($e)&&0===$e.getLabel().toUpperCase().trim().indexOf(Qe)){this.setActiveItem(Ye);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ft=!0){return this._homeAndEnd=ft,this}withPageUpDown(ft=!0,Qe=10){return this._pageUpAndDown={enabled:ft,delta:Qe},this}setActiveItem(ft){const Qe=this._activeItem;this.updateActiveItem(ft),this._activeItem!==Qe&&this.change.next(this._activeItemIndex)}onKeydown(ft){const Qe=ft.keyCode,Pe=["altKey","ctrlKey","metaKey","shiftKey"].every(Ye=>!ft[Ye]||this._allowedModifierKeys.indexOf(Ye)>-1);switch(Qe){case D.Mf:return void this.tabOut.next();case D.JH:if(this._vertical&&Pe){this.setNextItemActive();break}return;case D.LH:if(this._vertical&&Pe){this.setPreviousItemActive();break}return;case D.SV:if(this._horizontal&&Pe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case D.oh:if(this._horizontal&&Pe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case D.Sd:if(this._homeAndEnd&&Pe){this.setFirstItemActive();break}return;case D.uR:if(this._homeAndEnd&&Pe){this.setLastItemActive();break}return;case D.Ku:if(this._pageUpAndDown.enabled&&Pe){const Ye=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ye>0?Ye:0,1);break}return;case D.VM:if(this._pageUpAndDown.enabled&&Pe){const Ye=this._activeItemIndex+this._pageUpAndDown.delta,$e=this._getItemsArray().length;this._setActiveItemByIndex(Ye<$e?Ye:$e-1,-1);break}return;default:return void((Pe||(0,D.Vb)(ft,"shiftKey"))&&(ft.key&&1===ft.key.length?this._letterKeyStream.next(ft.key.toLocaleUpperCase()):(Qe>=D.A&&Qe<=D.Z||Qe>=D.xE&&Qe<=D.aO)&&this._letterKeyStream.next(String.fromCharCode(Qe))))}this._pressedLetters=[],ft.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ft){const Qe=this._getItemsArray(),De="number"==typeof ft?ft:Qe.indexOf(ft);this._activeItem=Qe[De]??null,this._activeItemIndex=De}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ft){this._wrap?this._setActiveInWrapMode(ft):this._setActiveInDefaultMode(ft)}_setActiveInWrapMode(ft){const Qe=this._getItemsArray();for(let De=1;De<=Qe.length;De++){const Pe=(this._activeItemIndex+ft*De+Qe.length)%Qe.length;if(!this._skipPredicateFn(Qe[Pe]))return void this.setActiveItem(Pe)}}_setActiveInDefaultMode(ft){this._setActiveItemByIndex(this._activeItemIndex+ft,ft)}_setActiveItemByIndex(ft,Qe){const De=this._getItemsArray();if(De[ft]){for(;this._skipPredicateFn(De[ft]);)if(!De[ft+=Qe])return;this.setActiveItem(ft)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}class ge extends K{setActiveItem(ft){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ft),this.activeItem&&this.activeItem.setActiveStyles()}}let Ce=(()=>{class Dt{constructor(Qe){this._platform=Qe}isDisabled(Qe){return Qe.hasAttribute("disabled")}isVisible(Qe){return function fe(Dt){return!!(Dt.offsetWidth||Dt.offsetHeight||"function"==typeof Dt.getClientRects&&Dt.getClientRects().length)}(Qe)&&"visible"===getComputedStyle(Qe).visibility}isTabbable(Qe){if(!this._platform.isBrowser)return!1;const De=function Le(Dt){try{return Dt.frameElement}catch{return null}}(function Ne(Dt){return Dt.ownerDocument&&Dt.ownerDocument.defaultView||window}(Qe));if(De&&(-1===Ve(De)||!this.isVisible(De)))return!1;let Pe=Qe.nodeName.toLowerCase(),Ye=Ve(Qe);return Qe.hasAttribute("contenteditable")?-1!==Ye:!("iframe"===Pe||"object"===Pe||this._platform.WEBKIT&&this._platform.IOS&&!function st(Dt){let ft=Dt.nodeName.toLowerCase(),Qe="input"===ft&&Dt.type;return"text"===Qe||"password"===Qe||"select"===ft||"textarea"===ft}(Qe))&&("audio"===Pe?!!Qe.hasAttribute("controls")&&-1!==Ye:"video"===Pe?-1!==Ye&&(null!==Ye||this._platform.FIREFOX||Qe.hasAttribute("controls")):Qe.tabIndex>=0)}isFocusable(Qe,De){return function Je(Dt){return!function xe(Dt){return function Ue(Dt){return"input"==Dt.nodeName.toLowerCase()}(Dt)&&"hidden"==Dt.type}(Dt)&&(function Re(Dt){let ft=Dt.nodeName.toLowerCase();return"input"===ft||"select"===ft||"button"===ft||"textarea"===ft}(Dt)||function pe(Dt){return function ke(Dt){return"a"==Dt.nodeName.toLowerCase()}(Dt)&&Dt.hasAttribute("href")}(Dt)||Dt.hasAttribute("contenteditable")||we(Dt))}(Qe)&&!this.isDisabled(Qe)&&(De?.ignoreVisibility||this.isVisible(Qe))}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(y.t4))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();function we(Dt){if(!Dt.hasAttribute("tabindex")||void 0===Dt.tabIndex)return!1;let ft=Dt.getAttribute("tabindex");return!(!ft||isNaN(parseInt(ft,10)))}function Ve(Dt){if(!we(Dt))return null;const ft=parseInt(Dt.getAttribute("tabindex")||"",10);return isNaN(ft)?-1:ft}class Te{get enabled(){return this._enabled}set enabled(ft){this._enabled=ft,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ft,this._startAnchor),this._toggleAnchorTabIndex(ft,this._endAnchor))}constructor(ft,Qe,De,Pe,Ye=!1){this._element=ft,this._checker=Qe,this._ngZone=De,this._document=Pe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ye||this.attachAnchors()}destroy(){const ft=this._startAnchor,Qe=this._endAnchor;ft&&(ft.removeEventListener("focus",this.startAnchorListener),ft.remove()),Qe&&(Qe.removeEventListener("focus",this.endAnchorListener),Qe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ft){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusInitialElement(ft)))})}focusFirstTabbableElementWhenReady(ft){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusFirstTabbableElement(ft)))})}focusLastTabbableElementWhenReady(ft){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusLastTabbableElement(ft)))})}_getRegionBoundary(ft){const Qe=this._element.querySelectorAll(`[cdk-focus-region-${ft}], [cdkFocusRegion${ft}], [cdk-focus-${ft}]`);return"start"==ft?Qe.length?Qe[0]:this._getFirstTabbableElement(this._element):Qe.length?Qe[Qe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ft){const Qe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Qe){if(!this._checker.isFocusable(Qe)){const De=this._getFirstTabbableElement(Qe);return De?.focus(ft),!!De}return Qe.focus(ft),!0}return this.focusFirstTabbableElement(ft)}focusFirstTabbableElement(ft){const Qe=this._getRegionBoundary("start");return Qe&&Qe.focus(ft),!!Qe}focusLastTabbableElement(ft){const Qe=this._getRegionBoundary("end");return Qe&&Qe.focus(ft),!!Qe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ft){if(this._checker.isFocusable(ft)&&this._checker.isTabbable(ft))return ft;const Qe=ft.children;for(let De=0;De<Qe.length;De++){const Pe=Qe[De].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Qe[De]):null;if(Pe)return Pe}return null}_getLastTabbableElement(ft){if(this._checker.isFocusable(ft)&&this._checker.isTabbable(ft))return ft;const Qe=ft.children;for(let De=Qe.length-1;De>=0;De--){const Pe=Qe[De].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Qe[De]):null;if(Pe)return Pe}return null}_createAnchor(){const ft=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ft),ft.classList.add("cdk-visually-hidden"),ft.classList.add("cdk-focus-trap-anchor"),ft.setAttribute("aria-hidden","true"),ft}_toggleAnchorTabIndex(ft,Qe){ft?Qe.setAttribute("tabindex","0"):Qe.removeAttribute("tabindex")}toggleAnchors(ft){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ft,this._startAnchor),this._toggleAnchorTabIndex(ft,this._endAnchor))}_executeOnStable(ft){this._ngZone.isStable?ft():this._ngZone.onStable.pipe((0,A.q)(1)).subscribe(ft)}}let Y=(()=>{class Dt{constructor(Qe,De,Pe){this._checker=Qe,this._ngZone=De,this._document=Pe}create(Qe,De=!1){return new Te(Qe,this._checker,this._ngZone,this._document,De)}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(Ce),t.LFG(t.R0b),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})(),se=(()=>{class Dt{get enabled(){return this.focusTrap.enabled}set enabled(Qe){this.focusTrap.enabled=(0,k.Ig)(Qe)}get autoCapture(){return this._autoCapture}set autoCapture(Qe){this._autoCapture=(0,k.Ig)(Qe)}constructor(Qe,De,Pe){this._elementRef=Qe,this._focusTrapFactory=De,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Qe){const De=Qe.autoCapture;De&&!De.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,y.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.Y36(t.SBq),t.Y36(Y),t.Y36(c.K0))};static#t=this.\u0275dir=t.lG2({type:Dt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]})}return Dt})();function ie(Dt){return 0===Dt.buttons||0===Dt.offsetX&&0===Dt.offsetY}function ee(Dt){const ft=Dt.touches&&Dt.touches[0]||Dt.changedTouches&&Dt.changedTouches[0];return!(!ft||-1!==ft.identifier||null!=ft.radiusX&&1!==ft.radiusX||null!=ft.radiusY&&1!==ft.radiusY)}const X=new t.OlP("cdk-input-modality-detector-options"),ue={ignoreKeys:[D.zL,D.jx,D.b2,D.MW,D.JU]},de=(0,y.i$)({passive:!0,capture:!0});let Ae=(()=>{class Dt{get mostRecentModality(){return this._modality.value}constructor(Qe,De,Pe,Ye){this._platform=Qe,this._mostRecentTarget=null,this._modality=new F.X(null),this._lastTouchMs=0,this._onKeydown=$e=>{this._options?.ignoreKeys?.some(lt=>lt===$e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,y.sA)($e))},this._onMousedown=$e=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ie($e)?"keyboard":"mouse"),this._mostRecentTarget=(0,y.sA)($e))},this._onTouchstart=$e=>{ee($e)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,y.sA)($e))},this._options={...ue,...Ye},this.modalityDetected=this._modality.pipe((0,U.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,R.x)()),Qe.isBrowser&&De.runOutsideAngular(()=>{Pe.addEventListener("keydown",this._onKeydown,de),Pe.addEventListener("mousedown",this._onMousedown,de),Pe.addEventListener("touchstart",this._onTouchstart,de)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,de),document.removeEventListener("mousedown",this._onMousedown,de),document.removeEventListener("touchstart",this._onTouchstart,de))}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(y.t4),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(X,8))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();const We=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function He(){return null}}),at=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ct=0,it=(()=>{class Dt{constructor(Qe,De,Pe,Ye){this._ngZone=De,this._defaultOptions=Ye,this._document=Pe,this._liveElement=Qe||this._createLiveElement()}announce(Qe,...De){const Pe=this._defaultOptions;let Ye,$e;return 1===De.length&&"number"==typeof De[0]?$e=De[0]:[Ye,$e]=De,this.clear(),clearTimeout(this._previousTimeout),Ye||(Ye=Pe&&Pe.politeness?Pe.politeness:"polite"),null==$e&&Pe&&($e=Pe.duration),this._liveElement.setAttribute("aria-live",Ye),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(lt=>this._currentResolve=lt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Qe,"number"==typeof $e&&(this._previousTimeout=setTimeout(()=>this.clear(),$e)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Qe="cdk-live-announcer-element",De=this._document.getElementsByClassName(Qe),Pe=this._document.createElement("div");for(let Ye=0;Ye<De.length;Ye++)De[Ye].remove();return Pe.classList.add(Qe),Pe.classList.add("cdk-visually-hidden"),Pe.setAttribute("aria-atomic","true"),Pe.setAttribute("aria-live","polite"),Pe.id="cdk-live-announcer-"+ct++,this._document.body.appendChild(Pe),Pe}_exposeAnnouncerToModals(Qe){const De=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Pe=0;Pe<De.length;Pe++){const Ye=De[Pe],$e=Ye.getAttribute("aria-owns");$e?-1===$e.indexOf(Qe)&&Ye.setAttribute("aria-owns",$e+" "+Qe):Ye.setAttribute("aria-owns",Qe)}}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(We,8),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(at,8))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();const Ht=new t.OlP("cdk-focus-monitor-default-options"),It=(0,y.i$)({passive:!0,capture:!0});let jt=(()=>{class Dt{constructor(Qe,De,Pe,Ye,$e){this._ngZone=Qe,this._platform=De,this._inputModalityDetector=Pe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new w.x,this._rootNodeFocusAndBlurListener=lt=>{for(let dt=(0,y.sA)(lt);dt;dt=dt.parentElement)"focus"===lt.type?this._onFocus(lt,dt):this._onBlur(lt,dt)},this._document=Ye,this._detectionMode=$e?.detectionMode||0}monitor(Qe,De=!1){const Pe=(0,k.fI)(Qe);if(!this._platform.isBrowser||1!==Pe.nodeType)return(0,L.of)();const Ye=(0,y.kV)(Pe)||this._getDocument(),$e=this._elementInfo.get(Pe);if($e)return De&&($e.checkChildren=!0),$e.subject;const lt={checkChildren:De,subject:new w.x,rootNode:Ye};return this._elementInfo.set(Pe,lt),this._registerGlobalListeners(lt),lt.subject}stopMonitoring(Qe){const De=(0,k.fI)(Qe),Pe=this._elementInfo.get(De);Pe&&(Pe.subject.complete(),this._setClasses(De),this._elementInfo.delete(De),this._removeGlobalListeners(Pe))}focusVia(Qe,De,Pe){const Ye=(0,k.fI)(Qe);Ye===this._getDocument().activeElement?this._getClosestElementsInfo(Ye).forEach(([lt,ot])=>this._originChanged(lt,De,ot)):(this._setOrigin(De),"function"==typeof Ye.focus&&Ye.focus(Pe))}ngOnDestroy(){this._elementInfo.forEach((Qe,De)=>this.stopMonitoring(De))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Qe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Qe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Qe&&this._isLastInteractionFromInputLabel(Qe)?"mouse":"program"}_shouldBeAttributedToTouch(Qe){return 1===this._detectionMode||!!Qe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Qe,De){Qe.classList.toggle("cdk-focused",!!De),Qe.classList.toggle("cdk-touch-focused","touch"===De),Qe.classList.toggle("cdk-keyboard-focused","keyboard"===De),Qe.classList.toggle("cdk-mouse-focused","mouse"===De),Qe.classList.toggle("cdk-program-focused","program"===De)}_setOrigin(Qe,De=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Qe,this._originFromTouchInteraction="touch"===Qe&&De,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Qe,De){const Pe=this._elementInfo.get(De),Ye=(0,y.sA)(Qe);!Pe||!Pe.checkChildren&&De!==Ye||this._originChanged(De,this._getFocusOrigin(Ye),Pe)}_onBlur(Qe,De){const Pe=this._elementInfo.get(De);!Pe||Pe.checkChildren&&Qe.relatedTarget instanceof Node&&De.contains(Qe.relatedTarget)||(this._setClasses(De),this._emitOrigin(Pe,null))}_emitOrigin(Qe,De){Qe.subject.observers.length&&this._ngZone.run(()=>Qe.subject.next(De))}_registerGlobalListeners(Qe){if(!this._platform.isBrowser)return;const De=Qe.rootNode,Pe=this._rootNodeFocusListenerCount.get(De)||0;Pe||this._ngZone.runOutsideAngular(()=>{De.addEventListener("focus",this._rootNodeFocusAndBlurListener,It),De.addEventListener("blur",this._rootNodeFocusAndBlurListener,It)}),this._rootNodeFocusListenerCount.set(De,Pe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,H.R)(this._stopInputModalityDetector)).subscribe(Ye=>{this._setOrigin(Ye,!0)}))}_removeGlobalListeners(Qe){const De=Qe.rootNode;if(this._rootNodeFocusListenerCount.has(De)){const Pe=this._rootNodeFocusListenerCount.get(De);Pe>1?this._rootNodeFocusListenerCount.set(De,Pe-1):(De.removeEventListener("focus",this._rootNodeFocusAndBlurListener,It),De.removeEventListener("blur",this._rootNodeFocusAndBlurListener,It),this._rootNodeFocusListenerCount.delete(De))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Qe,De,Pe){this._setClasses(Qe,De),this._emitOrigin(Pe,De),this._lastFocusOrigin=De}_getClosestElementsInfo(Qe){const De=[];return this._elementInfo.forEach((Pe,Ye)=>{(Ye===Qe||Pe.checkChildren&&Ye.contains(Qe))&&De.push([Ye,Pe])}),De}_isLastInteractionFromInputLabel(Qe){const{_mostRecentTarget:De,mostRecentModality:Pe}=this._inputModalityDetector;if("mouse"!==Pe||!De||De===Qe||"INPUT"!==Qe.nodeName&&"TEXTAREA"!==Qe.nodeName||Qe.disabled)return!1;const Ye=Qe.labels;if(Ye)for(let $e=0;$e<Ye.length;$e++)if(Ye[$e].contains(De))return!0;return!1}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(t.R0b),t.LFG(y.t4),t.LFG(Ae),t.LFG(c.K0,8),t.LFG(Ht,8))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})(),en=(()=>{class Dt{constructor(Qe,De){this._elementRef=Qe,this._focusMonitor=De,this._focusOrigin=null,this.cdkFocusChange=new t.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Qe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Qe,1===Qe.nodeType&&Qe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(De=>{this._focusOrigin=De,this.cdkFocusChange.emit(De)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.Y36(t.SBq),t.Y36(jt))};static#t=this.\u0275dir=t.lG2({type:Dt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return Dt})();const dn="cdk-high-contrast-black-on-white",un="cdk-high-contrast-white-on-black",Kt="cdk-high-contrast-active";let Cn=(()=>{class Dt{constructor(Qe,De){this._platform=Qe,this._document=De,this._breakpointSubscription=(0,t.f3M)(M.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Qe=this._document.createElement("div");Qe.style.backgroundColor="rgb(1,2,3)",Qe.style.position="absolute",this._document.body.appendChild(Qe);const De=this._document.defaultView||window,Pe=De&&De.getComputedStyle?De.getComputedStyle(Qe):null,Ye=(Pe&&Pe.backgroundColor||"").replace(/ /g,"");switch(Qe.remove(),Ye){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Qe=this._document.body.classList;Qe.remove(Kt,dn,un),this._hasCheckedHighContrastMode=!0;const De=this.getHighContrastMode();1===De?Qe.add(Kt,dn):2===De&&Qe.add(Kt,un)}}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(y.t4),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})(),nn=(()=>{class Dt{constructor(Qe){Qe._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(Cn))};static#t=this.\u0275mod=t.oAB({type:Dt});static#n=this.\u0275inj=t.cJS({imports:[O.Q8]})}return Dt})()},9388:(Gn,tt,S)=>{"use strict";S.d(tt,{Is:()=>L,vT:()=>p});var c=S(5879),t=S(6814);const y=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function w(){return(0,c.f3M)(t.K0)}}),E=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let L=(()=>{class f{constructor(v){this.value="ltr",this.change=new c.vpe,v&&(this.value=function F(f){const g=f?.toLowerCase()||"";return"auto"===g&&typeof navigator<"u"&&navigator?.language?E.test(navigator.language)?"rtl":"ltr":"rtl"===g?"rtl":"ltr"}((v.body?v.body.dir:null)||(v.documentElement?v.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(A){return new(A||f)(c.LFG(y,8))};static#t=this.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),p=(()=>{class f{static#e=this.\u0275fac=function(A){return new(A||f)};static#t=this.\u0275mod=c.oAB({type:f});static#n=this.\u0275inj=c.cJS({})}return f})()},2495:(Gn,tt,S)=>{"use strict";S.d(tt,{Eq:()=>E,HM:()=>F,Ig:()=>t,du:()=>D,fI:()=>L,su:()=>y,t6:()=>w});var c=S(5879);function t(p){return null!=p&&"false"!=`${p}`}function y(p,f=0){return w(p)?Number(p):f}function w(p){return!isNaN(parseFloat(p))&&!isNaN(Number(p))}function E(p){return Array.isArray(p)?p:[p]}function F(p){return null==p?"":"string"==typeof p?p:`${p}px`}function L(p){return p instanceof c.SBq?p.nativeElement:p}function D(p,f=/\s+/){const g=[];if(null!=p){const v=Array.isArray(p)?p:`${p}`.split(f);for(const A of v){const U=`${A}`.trim();U&&g.push(U)}}return g}},8337:(Gn,tt,S)=>{"use strict";S.d(tt,{Ov:()=>p,Z9:()=>E,eX:()=>D,k:()=>v,o2:()=>w,yy:()=>L});var c=S(3168),t=S(8645),y=S(5879);class w{}function E(A){return A&&"function"==typeof A.connect&&!(A instanceof c.c)}class L{applyChanges(U,R,H,k,O){U.forEachOperation((M,P,T)=>{let N,C;if(null==M.previousIndex){const B=H(M,P,T);N=R.createEmbeddedView(B.templateRef,B.context,B.index),C=1}else null==T?(R.remove(P),C=3):(N=R.get(P),R.move(N,T),C=2);O&&O({context:N?.context,operation:C,record:M})})}detach(){}}class D{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(U,R,H,k,O){U.forEachOperation((M,P,T)=>{let N,C;null==M.previousIndex?(N=this._insertView(()=>H(M,P,T),T,R,k(M)),C=N?1:0):null==T?(this._detachAndCacheView(P,R),C=3):(N=this._moveView(P,T,R,k(M)),C=2),O&&O({context:N?.context,operation:C,record:M})})}detach(){for(const U of this._viewCache)U.destroy();this._viewCache=[]}_insertView(U,R,H,k){const O=this._insertViewFromCache(R,H);if(O)return void(O.context.$implicit=k);const M=U();return H.createEmbeddedView(M.templateRef,M.context,M.index)}_detachAndCacheView(U,R){const H=R.detach(U);this._maybeCacheView(H,R)}_moveView(U,R,H,k){const O=H.get(U);return H.move(O,R),O.context.$implicit=k,O}_maybeCacheView(U,R){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(U);else{const H=R.indexOf(U);-1===H?U.destroy():R.remove(H)}}_insertViewFromCache(U,R){const H=this._viewCache.pop();return H&&R.insert(H,U),H||null}}class p{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(U=!1,R,H=!0,k){this._multiple=U,this._emitChanges=H,this.compareWith=k,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,R&&R.length&&(U?R.forEach(O=>this._markSelected(O)):this._markSelected(R[0]),this._selectedToEmit.length=0)}select(...U){this._verifyValueAssignment(U),U.forEach(H=>this._markSelected(H));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}deselect(...U){this._verifyValueAssignment(U),U.forEach(H=>this._unmarkSelected(H));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}setSelection(...U){this._verifyValueAssignment(U);const R=this.selected,H=new Set(U);U.forEach(O=>this._markSelected(O)),R.filter(O=>!H.has(O)).forEach(O=>this._unmarkSelected(O));const k=this._hasQueuedChanges();return this._emitChangeEvent(),k}toggle(U){return this.isSelected(U)?this.deselect(U):this.select(U)}clear(U=!0){this._unmarkAll();const R=this._hasQueuedChanges();return U&&this._emitChangeEvent(),R}isSelected(U){return this._selection.has(this._getConcreteValue(U))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(U){this._multiple&&this.selected&&this._selected.sort(U)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(U){U=this._getConcreteValue(U),this.isSelected(U)||(this._multiple||this._unmarkAll(),this.isSelected(U)||this._selection.add(U),this._emitChanges&&this._selectedToEmit.push(U))}_unmarkSelected(U){U=this._getConcreteValue(U),this.isSelected(U)&&(this._selection.delete(U),this._emitChanges&&this._deselectedToEmit.push(U))}_unmarkAll(){this.isEmpty()||this._selection.forEach(U=>this._unmarkSelected(U))}_verifyValueAssignment(U){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(U){if(this.compareWith){for(let R of this._selection)if(this.compareWith(U,R))return R;return U}return U}}const v=new y.OlP("_ViewRepeater")},6028:(Gn,tt,S)=>{"use strict";S.d(tt,{A:()=>xe,JH:()=>P,JU:()=>F,K5:()=>E,Ku:()=>A,LH:()=>O,L_:()=>v,MW:()=>at,Mf:()=>y,SV:()=>M,Sd:()=>H,VM:()=>U,Vb:()=>gt,Z:()=>He,aO:()=>he,b2:()=>yt,hY:()=>g,jx:()=>L,oh:()=>k,uR:()=>R,xE:()=>W,zL:()=>D});const y=9,E=13,F=16,L=17,D=18,g=27,v=32,A=33,U=34,R=35,H=36,k=37,O=38,M=39,P=40,W=48,he=57,xe=65,He=90,at=91,yt=224;function gt(kt,...an){return an.length?an.some(ti=>kt[ti]):kt.altKey||kt.shiftKey||kt.ctrlKey||kt.metaKey}},1088:(Gn,tt,S)=>{"use strict";S.d(tt,{Yg:()=>P,u3:()=>N});var c=S(5879),t=S(2495),y=S(8645),w=S(2572),E=S(5211),F=S(5592),L=S(8180),D=S(836),p=S(3620),f=S(7398),g=S(7921),v=S(9773),A=S(2831);const R=new Set;let H,k=(()=>{class C{constructor(W,q){this._platform=W,this._nonce=q,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):M}matchMedia(W){return(this._platform.WEBKIT||this._platform.BLINK)&&function O(C,B){if(!R.has(C))try{H||(H=document.createElement("style"),B&&(H.nonce=B),H.setAttribute("type","text/css"),document.head.appendChild(H)),H.sheet&&(H.sheet.insertRule(`@media ${C} {body{ }}`,0),R.add(C))}catch(W){console.error(W)}}(W,this._nonce),this._matchMedia(W)}static#e=this.\u0275fac=function(q){return new(q||C)(c.LFG(A.t4),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function M(C){return{matches:"all"===C||""===C,media:C,addListener:()=>{},removeListener:()=>{}}}let P=(()=>{class C{constructor(W,q){this._mediaMatcher=W,this._zone=q,this._queries=new Map,this._destroySubject=new y.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(W){return T((0,t.Eq)(W)).some(le=>this._registerQuery(le).mql.matches)}observe(W){const le=T((0,t.Eq)(W)).map($=>this._registerQuery($).observable);let Fe=(0,w.a)(le);return Fe=(0,E.z)(Fe.pipe((0,L.q)(1)),Fe.pipe((0,D.T)(1),(0,p.b)(0))),Fe.pipe((0,f.U)($=>{const ae={matches:!1,breakpoints:{}};return $.forEach(({matches:K,query:ge})=>{ae.matches=ae.matches||K,ae.breakpoints[ge]=K}),ae}))}_registerQuery(W){if(this._queries.has(W))return this._queries.get(W);const q=this._mediaMatcher.matchMedia(W),Fe={observable:new F.y($=>{const ae=K=>this._zone.run(()=>$.next(K));return q.addListener(ae),()=>{q.removeListener(ae)}}).pipe((0,g.O)(q),(0,f.U)(({matches:$})=>({query:W,matches:$})),(0,v.R)(this._destroySubject)),mql:q};return this._queries.set(W,Fe),Fe}static#e=this.\u0275fac=function(q){return new(q||C)(c.LFG(k),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function T(C){return C.map(B=>B.split(",")).reduce((B,W)=>B.concat(W)).map(B=>B.trim())}const N={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(Gn,tt,S)=>{"use strict";S.d(tt,{Q8:()=>E});var c=S(5879);let t=(()=>{class F{create(D){return typeof MutationObserver>"u"?null:new MutationObserver(D)}static#e=this.\u0275fac=function(p){return new(p||F)};static#t=this.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),E=(()=>{class F{static#e=this.\u0275fac=function(p){return new(p||F)};static#t=this.\u0275mod=c.oAB({type:F});static#n=this.\u0275inj=c.cJS({providers:[t]})}return F})()},3651:(Gn,tt,S)=>{"use strict";S.d(tt,{pI:()=>Z,xu:()=>Q,_G:()=>pe,aV:()=>se,X_:()=>le,Xj:()=>Le,U8:()=>ee,Iu:()=>fe});var c=S(799),t=S(6814),y=S(5879),w=S(2495),E=S(2831),F=S(2181),L=S(8180),D=S(9773),p=S(9360),f=S(8251),v=S(9388),A=S(8484),U=S(8645),R=S(7394),H=S(3019),k=S(6028);const O=(0,E.Mq)();class M{constructor(ve,de){this._viewportRuler=ve,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=de}attach(){}enable(){if(this._canBeEnabled()){const ve=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ve.style.left||"",this._previousHTMLStyles.top=ve.style.top||"",ve.style.left=(0,w.HM)(-this._previousScrollPosition.left),ve.style.top=(0,w.HM)(-this._previousScrollPosition.top),ve.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ve=this._document.documentElement,Ae=ve.style,We=this._document.body.style,He=Ae.scrollBehavior||"",at=We.scrollBehavior||"";this._isEnabled=!1,Ae.left=this._previousHTMLStyles.left,Ae.top=this._previousHTMLStyles.top,ve.classList.remove("cdk-global-scrollblock"),O&&(Ae.scrollBehavior=We.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),O&&(Ae.scrollBehavior=He,We.scrollBehavior=at)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const de=this._document.body,Ae=this._viewportRuler.getViewportSize();return de.scrollHeight>Ae.height||de.scrollWidth>Ae.width}}class T{constructor(ve,de,Ae,We){this._scrollDispatcher=ve,this._ngZone=de,this._viewportRuler=Ae,this._config=We,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ve){this._overlayRef=ve}enable(){if(this._scrollSubscription)return;const ve=this._scrollDispatcher.scrolled(0).pipe((0,F.h)(de=>!de||!this._overlayRef.overlayElement.contains(de.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ve.subscribe(()=>{const de=this._viewportRuler.getViewportScrollPosition().top;Math.abs(de-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ve.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class N{enable(){}disable(){}attach(){}}function C(ue,ve){return ve.some(de=>ue.bottom<de.top||ue.top>de.bottom||ue.right<de.left||ue.left>de.right)}function B(ue,ve){return ve.some(de=>ue.top<de.top||ue.bottom>de.bottom||ue.left<de.left||ue.right>de.right)}class W{constructor(ve,de,Ae,We){this._scrollDispatcher=ve,this._viewportRuler=de,this._ngZone=Ae,this._config=We,this._scrollSubscription=null}attach(ve){this._overlayRef=ve}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const de=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ae,height:We}=this._viewportRuler.getViewportSize();C(de,[{width:Ae,height:We,bottom:We,right:Ae,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let q=(()=>{class ue{constructor(de,Ae,We,He){this._scrollDispatcher=de,this._viewportRuler=Ae,this._ngZone=We,this.noop=()=>new N,this.close=at=>new T(this._scrollDispatcher,this._ngZone,this._viewportRuler,at),this.block=()=>new M(this._viewportRuler,this._document),this.reposition=at=>new W(this._scrollDispatcher,this._viewportRuler,this._ngZone,at),this._document=He}static#e=this.\u0275fac=function(Ae){return new(Ae||ue)(y.LFG(c.mF),y.LFG(c.rL),y.LFG(y.R0b),y.LFG(t.K0))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();class le{constructor(ve){if(this.scrollStrategy=new N,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ve){const de=Object.keys(ve);for(const Ae of de)void 0!==ve[Ae]&&(this[Ae]=ve[Ae])}}}class ae{constructor(ve,de){this.connectionPair=ve,this.scrollableViewProperties=de}}let oe=(()=>{class ue{constructor(de){this._attachedOverlays=[],this._document=de}ngOnDestroy(){this.detach()}add(de){this.remove(de),this._attachedOverlays.push(de)}remove(de){const Ae=this._attachedOverlays.indexOf(de);Ae>-1&&this._attachedOverlays.splice(Ae,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Ae){return new(Ae||ue)(y.LFG(t.K0))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),he=(()=>{class ue extends oe{constructor(de,Ae){super(de),this._ngZone=Ae,this._keydownListener=We=>{const He=this._attachedOverlays;for(let at=He.length-1;at>-1;at--)if(He[at]._keydownEvents.observers.length>0){const ct=He[at]._keydownEvents;this._ngZone?this._ngZone.run(()=>ct.next(We)):ct.next(We);break}}}add(de){super.add(de),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Ae){return new(Ae||ue)(y.LFG(t.K0),y.LFG(y.R0b,8))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),Ce=(()=>{class ue extends oe{constructor(de,Ae,We){super(de),this._platform=Ae,this._ngZone=We,this._cursorStyleIsSet=!1,this._pointerDownListener=He=>{this._pointerDownEventTarget=(0,E.sA)(He)},this._clickListener=He=>{const at=(0,E.sA)(He),ct="click"===He.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:at;this._pointerDownEventTarget=null;const it=this._attachedOverlays.slice();for(let vt=it.length-1;vt>-1;vt--){const Ht=it[vt];if(Ht._outsidePointerEvents.observers.length<1||!Ht.hasAttached())continue;if(Ht.overlayElement.contains(at)||Ht.overlayElement.contains(ct))break;const It=Ht._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>It.next(He)):It.next(He)}}}add(de){if(super.add(de),!this._isAttached){const Ae=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ae)):this._addEventListeners(Ae),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ae.style.cursor,Ae.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const de=this._document.body;de.removeEventListener("pointerdown",this._pointerDownListener,!0),de.removeEventListener("click",this._clickListener,!0),de.removeEventListener("auxclick",this._clickListener,!0),de.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(de.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(de){de.addEventListener("pointerdown",this._pointerDownListener,!0),de.addEventListener("click",this._clickListener,!0),de.addEventListener("auxclick",this._clickListener,!0),de.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Ae){return new(Ae||ue)(y.LFG(t.K0),y.LFG(E.t4),y.LFG(y.R0b,8))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),Le=(()=>{class ue{constructor(de,Ae){this._platform=Ae,this._document=de}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const de="cdk-overlay-container";if(this._platform.isBrowser||(0,E.Oy)()){const We=this._document.querySelectorAll(`.${de}[platform="server"], .${de}[platform="test"]`);for(let He=0;He<We.length;He++)We[He].remove()}const Ae=this._document.createElement("div");Ae.classList.add(de),(0,E.Oy)()?Ae.setAttribute("platform","test"):this._platform.isBrowser||Ae.setAttribute("platform","server"),this._document.body.appendChild(Ae),this._containerElement=Ae}static#e=this.\u0275fac=function(Ae){return new(Ae||ue)(y.LFG(t.K0),y.LFG(E.t4))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();class fe{constructor(ve,de,Ae,We,He,at,ct,it,vt,Ht=!1){this._portalOutlet=ve,this._host=de,this._pane=Ae,this._config=We,this._ngZone=He,this._keyboardDispatcher=at,this._document=ct,this._location=it,this._outsideClickDispatcher=vt,this._animationsDisabled=Ht,this._backdropElement=null,this._backdropClick=new U.x,this._attachments=new U.x,this._detachments=new U.x,this._locationChanges=R.w0.EMPTY,this._backdropClickHandler=It=>this._backdropClick.next(It),this._backdropTransitionendHandler=It=>{this._disposeBackdrop(It.target)},this._keydownEvents=new U.x,this._outsidePointerEvents=new U.x,We.scrollStrategy&&(this._scrollStrategy=We.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=We.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ve){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const de=this._portalOutlet.attach(ve);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,L.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof de?.onDestroy&&de.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),de}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ve=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ve}dispose(){const ve=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ve&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ve){ve!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ve,this.hasAttached()&&(ve.attach(this),this.updatePosition()))}updateSize(ve){this._config={...this._config,...ve},this._updateElementSize()}setDirection(ve){this._config={...this._config,direction:ve},this._updateElementDirection()}addPanelClass(ve){this._pane&&this._toggleClasses(this._pane,ve,!0)}removePanelClass(ve){this._pane&&this._toggleClasses(this._pane,ve,!1)}getDirection(){const ve=this._config.direction;return ve?"string"==typeof ve?ve:ve.value:"ltr"}updateScrollStrategy(ve){ve!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ve,this.hasAttached()&&(ve.attach(this),ve.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ve=this._pane.style;ve.width=(0,w.HM)(this._config.width),ve.height=(0,w.HM)(this._config.height),ve.minWidth=(0,w.HM)(this._config.minWidth),ve.minHeight=(0,w.HM)(this._config.minHeight),ve.maxWidth=(0,w.HM)(this._config.maxWidth),ve.maxHeight=(0,w.HM)(this._config.maxHeight)}_togglePointerEvents(ve){this._pane.style.pointerEvents=ve?"":"none"}_attachBackdrop(){const ve="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ve)})}):this._backdropElement.classList.add(ve)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ve=this._backdropElement;if(ve){if(this._animationsDisabled)return void this._disposeBackdrop(ve);ve.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ve.addEventListener("transitionend",this._backdropTransitionendHandler)}),ve.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ve)},500))}}_toggleClasses(ve,de,Ae){const We=(0,w.Eq)(de||[]).filter(He=>!!He);We.length&&(Ae?ve.classList.add(...We):ve.classList.remove(...We))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ve=this._ngZone.onStable.pipe((0,D.R)((0,H.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ve.unsubscribe())})})}_disposeScrollStrategy(){const ve=this._scrollStrategy;ve&&(ve.disable(),ve.detach&&ve.detach())}_disposeBackdrop(ve){ve&&(ve.removeEventListener("click",this._backdropClickHandler),ve.removeEventListener("transitionend",this._backdropTransitionendHandler),ve.remove(),this._backdropElement===ve&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Re="cdk-overlay-connected-position-bounding-box",xe=/([A-Za-z%]+)$/;class pe{get positions(){return this._preferredPositions}constructor(ve,de,Ae,We,He){this._viewportRuler=de,this._document=Ae,this._platform=We,this._overlayContainer=He,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.x,this._resizeSubscription=R.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ve)}attach(ve){this._validatePositions(),ve.hostElement.classList.add(Re),this._overlayRef=ve,this._boundingBox=ve.hostElement,this._pane=ve.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ve=this._originRect,de=this._overlayRect,Ae=this._viewportRect,We=this._containerRect,He=[];let at;for(let ct of this._preferredPositions){let it=this._getOriginPoint(ve,We,ct),vt=this._getOverlayPoint(it,de,ct),Ht=this._getOverlayFit(vt,de,Ae,ct);if(Ht.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ct,it);this._canFitWithFlexibleDimensions(Ht,vt,Ae)?He.push({position:ct,origin:it,overlayRect:de,boundingBoxRect:this._calculateBoundingBoxRect(it,ct)}):(!at||at.overlayFit.visibleArea<Ht.visibleArea)&&(at={overlayFit:Ht,overlayPoint:vt,originPoint:it,position:ct,overlayRect:de})}if(He.length){let ct=null,it=-1;for(const vt of He){const Ht=vt.boundingBoxRect.width*vt.boundingBoxRect.height*(vt.position.weight||1);Ht>it&&(it=Ht,ct=vt)}return this._isPushed=!1,void this._applyPosition(ct.position,ct.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(at.position,at.originPoint);this._applyPosition(at.position,at.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ue(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Re),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ve=this._lastPosition;if(ve){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const de=this._getOriginPoint(this._originRect,this._containerRect,ve);this._applyPosition(ve,de)}else this.apply()}withScrollableContainers(ve){return this._scrollables=ve,this}withPositions(ve){return this._preferredPositions=ve,-1===ve.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ve){return this._viewportMargin=ve,this}withFlexibleDimensions(ve=!0){return this._hasFlexibleDimensions=ve,this}withGrowAfterOpen(ve=!0){return this._growAfterOpen=ve,this}withPush(ve=!0){return this._canPush=ve,this}withLockedPosition(ve=!0){return this._positionLocked=ve,this}setOrigin(ve){return this._origin=ve,this}withDefaultOffsetX(ve){return this._offsetX=ve,this}withDefaultOffsetY(ve){return this._offsetY=ve,this}withTransformOriginOn(ve){return this._transformOriginSelector=ve,this}_getOriginPoint(ve,de,Ae){let We,He;if("center"==Ae.originX)We=ve.left+ve.width/2;else{const at=this._isRtl()?ve.right:ve.left,ct=this._isRtl()?ve.left:ve.right;We="start"==Ae.originX?at:ct}return de.left<0&&(We-=de.left),He="center"==Ae.originY?ve.top+ve.height/2:"top"==Ae.originY?ve.top:ve.bottom,de.top<0&&(He-=de.top),{x:We,y:He}}_getOverlayPoint(ve,de,Ae){let We,He;return We="center"==Ae.overlayX?-de.width/2:"start"===Ae.overlayX?this._isRtl()?-de.width:0:this._isRtl()?0:-de.width,He="center"==Ae.overlayY?-de.height/2:"top"==Ae.overlayY?0:-de.height,{x:ve.x+We,y:ve.y+He}}_getOverlayFit(ve,de,Ae,We){const He=we(de);let{x:at,y:ct}=ve,it=this._getOffset(We,"x"),vt=this._getOffset(We,"y");it&&(at+=it),vt&&(ct+=vt);let jt=0-ct,en=ct+He.height-Ae.height,dn=this._subtractOverflows(He.width,0-at,at+He.width-Ae.width),un=this._subtractOverflows(He.height,jt,en),Kt=dn*un;return{visibleArea:Kt,isCompletelyWithinViewport:He.width*He.height===Kt,fitsInViewportVertically:un===He.height,fitsInViewportHorizontally:dn==He.width}}_canFitWithFlexibleDimensions(ve,de,Ae){if(this._hasFlexibleDimensions){const We=Ae.bottom-de.y,He=Ae.right-de.x,at=ke(this._overlayRef.getConfig().minHeight),ct=ke(this._overlayRef.getConfig().minWidth);return(ve.fitsInViewportVertically||null!=at&&at<=We)&&(ve.fitsInViewportHorizontally||null!=ct&&ct<=He)}return!1}_pushOverlayOnScreen(ve,de,Ae){if(this._previousPushAmount&&this._positionLocked)return{x:ve.x+this._previousPushAmount.x,y:ve.y+this._previousPushAmount.y};const We=we(de),He=this._viewportRect,at=Math.max(ve.x+We.width-He.width,0),ct=Math.max(ve.y+We.height-He.height,0),it=Math.max(He.top-Ae.top-ve.y,0),vt=Math.max(He.left-Ae.left-ve.x,0);let Ht=0,It=0;return Ht=We.width<=He.width?vt||-at:ve.x<this._viewportMargin?He.left-Ae.left-ve.x:0,It=We.height<=He.height?it||-ct:ve.y<this._viewportMargin?He.top-Ae.top-ve.y:0,this._previousPushAmount={x:Ht,y:It},{x:ve.x+Ht,y:ve.y+It}}_applyPosition(ve,de){if(this._setTransformOrigin(ve),this._setOverlayElementStyles(de,ve),this._setBoundingBoxStyles(de,ve),ve.panelClass&&this._addPanelClasses(ve.panelClass),this._lastPosition=ve,this._positionChanges.observers.length){const Ae=this._getScrollVisibility(),We=new ae(ve,Ae);this._positionChanges.next(We)}this._isInitialRender=!1}_setTransformOrigin(ve){if(!this._transformOriginSelector)return;const de=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ae,We=ve.overlayY;Ae="center"===ve.overlayX?"center":this._isRtl()?"start"===ve.overlayX?"right":"left":"start"===ve.overlayX?"left":"right";for(let He=0;He<de.length;He++)de[He].style.transformOrigin=`${Ae} ${We}`}_calculateBoundingBoxRect(ve,de){const Ae=this._viewportRect,We=this._isRtl();let He,at,ct,Ht,It,jt;if("top"===de.overlayY)at=ve.y,He=Ae.height-at+this._viewportMargin;else if("bottom"===de.overlayY)ct=Ae.height-ve.y+2*this._viewportMargin,He=Ae.height-ct+this._viewportMargin;else{const en=Math.min(Ae.bottom-ve.y+Ae.top,ve.y),dn=this._lastBoundingBoxSize.height;He=2*en,at=ve.y-en,He>dn&&!this._isInitialRender&&!this._growAfterOpen&&(at=ve.y-dn/2)}if("end"===de.overlayX&&!We||"start"===de.overlayX&&We)jt=Ae.width-ve.x+this._viewportMargin,Ht=ve.x-this._viewportMargin;else if("start"===de.overlayX&&!We||"end"===de.overlayX&&We)It=ve.x,Ht=Ae.right-ve.x;else{const en=Math.min(Ae.right-ve.x+Ae.left,ve.x),dn=this._lastBoundingBoxSize.width;Ht=2*en,It=ve.x-en,Ht>dn&&!this._isInitialRender&&!this._growAfterOpen&&(It=ve.x-dn/2)}return{top:at,left:It,bottom:ct,right:jt,width:Ht,height:He}}_setBoundingBoxStyles(ve,de){const Ae=this._calculateBoundingBoxRect(ve,de);!this._isInitialRender&&!this._growAfterOpen&&(Ae.height=Math.min(Ae.height,this._lastBoundingBoxSize.height),Ae.width=Math.min(Ae.width,this._lastBoundingBoxSize.width));const We={};if(this._hasExactPosition())We.top=We.left="0",We.bottom=We.right=We.maxHeight=We.maxWidth="",We.width=We.height="100%";else{const He=this._overlayRef.getConfig().maxHeight,at=this._overlayRef.getConfig().maxWidth;We.height=(0,w.HM)(Ae.height),We.top=(0,w.HM)(Ae.top),We.bottom=(0,w.HM)(Ae.bottom),We.width=(0,w.HM)(Ae.width),We.left=(0,w.HM)(Ae.left),We.right=(0,w.HM)(Ae.right),We.alignItems="center"===de.overlayX?"center":"end"===de.overlayX?"flex-end":"flex-start",We.justifyContent="center"===de.overlayY?"center":"bottom"===de.overlayY?"flex-end":"flex-start",He&&(We.maxHeight=(0,w.HM)(He)),at&&(We.maxWidth=(0,w.HM)(at))}this._lastBoundingBoxSize=Ae,Ue(this._boundingBox.style,We)}_resetBoundingBoxStyles(){Ue(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ue(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ve,de){const Ae={},We=this._hasExactPosition(),He=this._hasFlexibleDimensions,at=this._overlayRef.getConfig();if(We){const Ht=this._viewportRuler.getViewportScrollPosition();Ue(Ae,this._getExactOverlayY(de,ve,Ht)),Ue(Ae,this._getExactOverlayX(de,ve,Ht))}else Ae.position="static";let ct="",it=this._getOffset(de,"x"),vt=this._getOffset(de,"y");it&&(ct+=`translateX(${it}px) `),vt&&(ct+=`translateY(${vt}px)`),Ae.transform=ct.trim(),at.maxHeight&&(We?Ae.maxHeight=(0,w.HM)(at.maxHeight):He&&(Ae.maxHeight="")),at.maxWidth&&(We?Ae.maxWidth=(0,w.HM)(at.maxWidth):He&&(Ae.maxWidth="")),Ue(this._pane.style,Ae)}_getExactOverlayY(ve,de,Ae){let We={top:"",bottom:""},He=this._getOverlayPoint(de,this._overlayRect,ve);return this._isPushed&&(He=this._pushOverlayOnScreen(He,this._overlayRect,Ae)),"bottom"===ve.overlayY?We.bottom=this._document.documentElement.clientHeight-(He.y+this._overlayRect.height)+"px":We.top=(0,w.HM)(He.y),We}_getExactOverlayX(ve,de,Ae){let at,We={left:"",right:""},He=this._getOverlayPoint(de,this._overlayRect,ve);return this._isPushed&&(He=this._pushOverlayOnScreen(He,this._overlayRect,Ae)),at=this._isRtl()?"end"===ve.overlayX?"left":"right":"end"===ve.overlayX?"right":"left","right"===at?We.right=this._document.documentElement.clientWidth-(He.x+this._overlayRect.width)+"px":We.left=(0,w.HM)(He.x),We}_getScrollVisibility(){const ve=this._getOriginRect(),de=this._pane.getBoundingClientRect(),Ae=this._scrollables.map(We=>We.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(ve,Ae),isOriginOutsideView:C(ve,Ae),isOverlayClipped:B(de,Ae),isOverlayOutsideView:C(de,Ae)}}_subtractOverflows(ve,...de){return de.reduce((Ae,We)=>Ae-Math.max(We,0),ve)}_getNarrowedViewportRect(){const ve=this._document.documentElement.clientWidth,de=this._document.documentElement.clientHeight,Ae=this._viewportRuler.getViewportScrollPosition();return{top:Ae.top+this._viewportMargin,left:Ae.left+this._viewportMargin,right:Ae.left+ve-this._viewportMargin,bottom:Ae.top+de-this._viewportMargin,width:ve-2*this._viewportMargin,height:de-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ve,de){return"x"===de?null==ve.offsetX?this._offsetX:ve.offsetX:null==ve.offsetY?this._offsetY:ve.offsetY}_validatePositions(){}_addPanelClasses(ve){this._pane&&(0,w.Eq)(ve).forEach(de=>{""!==de&&-1===this._appliedPanelClasses.indexOf(de)&&(this._appliedPanelClasses.push(de),this._pane.classList.add(de))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ve=>{this._pane.classList.remove(ve)}),this._appliedPanelClasses=[])}_getOriginRect(){const ve=this._origin;if(ve instanceof y.SBq)return ve.nativeElement.getBoundingClientRect();if(ve instanceof Element)return ve.getBoundingClientRect();const de=ve.width||0,Ae=ve.height||0;return{top:ve.y,bottom:ve.y+Ae,left:ve.x,right:ve.x+de,height:Ae,width:de}}}function Ue(ue,ve){for(let de in ve)ve.hasOwnProperty(de)&&(ue[de]=ve[de]);return ue}function ke(ue){if("number"!=typeof ue&&null!=ue){const[ve,de]=ue.split(xe);return de&&"px"!==de?null:parseFloat(ve)}return ue||null}function we(ue){return{top:Math.floor(ue.top),right:Math.floor(ue.right),bottom:Math.floor(ue.bottom),left:Math.floor(ue.left),width:Math.floor(ue.width),height:Math.floor(ue.height)}}const Je="cdk-global-overlay-wrapper";class Ne{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ve){const de=ve.getConfig();this._overlayRef=ve,this._width&&!de.width&&ve.updateSize({width:this._width}),this._height&&!de.height&&ve.updateSize({height:this._height}),ve.hostElement.classList.add(Je),this._isDisposed=!1}top(ve=""){return this._bottomOffset="",this._topOffset=ve,this._alignItems="flex-start",this}left(ve=""){return this._xOffset=ve,this._xPosition="left",this}bottom(ve=""){return this._topOffset="",this._bottomOffset=ve,this._alignItems="flex-end",this}right(ve=""){return this._xOffset=ve,this._xPosition="right",this}start(ve=""){return this._xOffset=ve,this._xPosition="start",this}end(ve=""){return this._xOffset=ve,this._xPosition="end",this}width(ve=""){return this._overlayRef?this._overlayRef.updateSize({width:ve}):this._width=ve,this}height(ve=""){return this._overlayRef?this._overlayRef.updateSize({height:ve}):this._height=ve,this}centerHorizontally(ve=""){return this.left(ve),this._xPosition="center",this}centerVertically(ve=""){return this.top(ve),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ve=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement.style,Ae=this._overlayRef.getConfig(),{width:We,height:He,maxWidth:at,maxHeight:ct}=Ae,it=!("100%"!==We&&"100vw"!==We||at&&"100%"!==at&&"100vw"!==at),vt=!("100%"!==He&&"100vh"!==He||ct&&"100%"!==ct&&"100vh"!==ct),Ht=this._xPosition,It=this._xOffset,jt="rtl"===this._overlayRef.getConfig().direction;let en="",dn="",un="";it?un="flex-start":"center"===Ht?(un="center",jt?dn=It:en=It):jt?"left"===Ht||"end"===Ht?(un="flex-end",en=It):("right"===Ht||"start"===Ht)&&(un="flex-start",dn=It):"left"===Ht||"start"===Ht?(un="flex-start",en=It):("right"===Ht||"end"===Ht)&&(un="flex-end",dn=It),ve.position=this._cssPosition,ve.marginLeft=it?"0":en,ve.marginTop=vt?"0":this._topOffset,ve.marginBottom=this._bottomOffset,ve.marginRight=it?"0":dn,de.justifyContent=un,de.alignItems=vt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ve=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement,Ae=de.style;de.classList.remove(Je),Ae.justifyContent=Ae.alignItems=ve.marginTop=ve.marginBottom=ve.marginLeft=ve.marginRight=ve.position="",this._overlayRef=null,this._isDisposed=!0}}let Te=(()=>{class ue{constructor(de,Ae,We,He){this._viewportRuler=de,this._document=Ae,this._platform=We,this._overlayContainer=He}global(){return new Ne}flexibleConnectedTo(de){return new pe(de,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Ae){return new(Ae||ue)(y.LFG(c.rL),y.LFG(t.K0),y.LFG(E.t4),y.LFG(Le))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),Y=0,se=(()=>{class ue{constructor(de,Ae,We,He,at,ct,it,vt,Ht,It,jt,en){this.scrollStrategies=de,this._overlayContainer=Ae,this._componentFactoryResolver=We,this._positionBuilder=He,this._keyboardDispatcher=at,this._injector=ct,this._ngZone=it,this._document=vt,this._directionality=Ht,this._location=It,this._outsideClickDispatcher=jt,this._animationsModuleType=en}create(de){const Ae=this._createHostElement(),We=this._createPaneElement(Ae),He=this._createPortalOutlet(We),at=new le(de);return at.direction=at.direction||this._directionality.value,new fe(He,Ae,We,at,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(de){const Ae=this._document.createElement("div");return Ae.id="cdk-overlay-"+Y++,Ae.classList.add("cdk-overlay-pane"),de.appendChild(Ae),Ae}_createHostElement(){const de=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(de),de}_createPortalOutlet(de){return this._appRef||(this._appRef=this._injector.get(y.z2F)),new A.u0(de,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Ae){return new(Ae||ue)(y.LFG(q),y.LFG(Le),y.LFG(y._Vd),y.LFG(Te),y.LFG(he),y.LFG(y.zs3),y.LFG(y.R0b),y.LFG(t.K0),y.LFG(v.Is),y.LFG(t.Ye),y.LFG(Ce),y.LFG(y.QbO,8))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();const _e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],J=new y.OlP("cdk-connected-overlay-scroll-strategy");let Q=(()=>{class ue{constructor(de){this.elementRef=de}static#e=this.\u0275fac=function(Ae){return new(Ae||ue)(y.Y36(y.SBq))};static#t=this.\u0275dir=y.lG2({type:ue,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return ue})(),Z=(()=>{class ue{get offsetX(){return this._offsetX}set offsetX(de){this._offsetX=de,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(de){this._offsetY=de,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(de){this._hasBackdrop=(0,w.Ig)(de)}get lockPosition(){return this._lockPosition}set lockPosition(de){this._lockPosition=(0,w.Ig)(de)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(de){this._flexibleDimensions=(0,w.Ig)(de)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(de){this._growAfterOpen=(0,w.Ig)(de)}get push(){return this._push}set push(de){this._push=(0,w.Ig)(de)}constructor(de,Ae,We,He,at){this._overlay=de,this._dir=at,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=R.w0.EMPTY,this._attachSubscription=R.w0.EMPTY,this._detachSubscription=R.w0.EMPTY,this._positionSubscription=R.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new y.vpe,this.positionChange=new y.vpe,this.attach=new y.vpe,this.detach=new y.vpe,this.overlayKeydown=new y.vpe,this.overlayOutsideClick=new y.vpe,this._templatePortal=new A.UE(Ae,We),this._scrollStrategyFactory=He,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(de){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),de.origin&&this.open&&this._position.apply()),de.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=_e);const de=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=de.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=de.detachments().subscribe(()=>this.detach.emit()),de.keydownEvents().subscribe(Ae=>{this.overlayKeydown.next(Ae),Ae.keyCode===k.hY&&!this.disableClose&&!(0,k.Vb)(Ae)&&(Ae.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ae=>{this.overlayOutsideClick.next(Ae)})}_buildConfig(){const de=this._position=this.positionStrategy||this._createPositionStrategy(),Ae=new le({direction:this._dir,positionStrategy:de,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ae.width=this.width),(this.height||0===this.height)&&(Ae.height=this.height),(this.minWidth||0===this.minWidth)&&(Ae.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ae.minHeight=this.minHeight),this.backdropClass&&(Ae.backdropClass=this.backdropClass),this.panelClass&&(Ae.panelClass=this.panelClass),Ae}_updatePositionStrategy(de){const Ae=this.positions.map(We=>({originX:We.originX,originY:We.originY,overlayX:We.overlayX,overlayY:We.overlayY,offsetX:We.offsetX||this.offsetX,offsetY:We.offsetY||this.offsetY,panelClass:We.panelClass||void 0}));return de.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ae).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const de=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(de),de}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Q?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(de=>{this.backdropClick.emit(de)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function g(ue,ve=!1){return(0,p.e)((de,Ae)=>{let We=0;de.subscribe((0,f.x)(Ae,He=>{const at=ue(He,We++);(at||ve)&&Ae.next(He),!at&&Ae.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(de=>{this.positionChange.emit(de),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Ae){return new(Ae||ue)(y.Y36(se),y.Y36(y.Rgc),y.Y36(y.s_b),y.Y36(J),y.Y36(v.Is,8))};static#t=this.\u0275dir=y.lG2({type:ue,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[y.TTD]})}return ue})();const ie={provide:J,deps:[se],useFactory:function te(ue){return()=>ue.scrollStrategies.reposition()}};let ee=(()=>{class ue{static#e=this.\u0275fac=function(Ae){return new(Ae||ue)};static#t=this.\u0275mod=y.oAB({type:ue});static#n=this.\u0275inj=y.cJS({providers:[se,ie],imports:[v.vT,A.eL,c.Cl,c.Cl]})}return ue})()},2831:(Gn,tt,S)=>{"use strict";S.d(tt,{Mq:()=>U,Oy:()=>T,ht:()=>M,i$:()=>g,kV:()=>O,qK:()=>D,sA:()=>P,t4:()=>w});var c=S(5879),t=S(6814);let y;try{y=typeof Intl<"u"&&Intl.v8BreakIterator}catch{y=!1}let F,w=(()=>{class N{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!y)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(W){return new(W||N)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const L=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function D(){if(F)return F;if("object"!=typeof document||!document)return F=new Set(L),F;let N=document.createElement("input");return F=new Set(L.filter(C=>(N.setAttribute("type",C),N.type===C))),F}let p,A,H;function g(N){return function f(){if(null==p&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>p=!0}))}finally{p=p||!1}return p}()?N:!!N.capture}function U(){if(null==A){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return A=!1,A;if("scrollBehavior"in document.documentElement.style)A=!0;else{const N=Element.prototype.scrollTo;A=!!N&&!/\{\s*\[native code\]\s*\}/.test(N.toString())}}return A}function O(N){if(function k(){if(null==H){const N=typeof document<"u"?document.head:null;H=!(!N||!N.createShadowRoot&&!N.attachShadow)}return H}()){const C=N.getRootNode?N.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&C instanceof ShadowRoot)return C}return null}function M(){let N=typeof document<"u"&&document?document.activeElement:null;for(;N&&N.shadowRoot;){const C=N.shadowRoot.activeElement;if(C===N)break;N=C}return N}function P(N){return N.composedPath?N.composedPath()[0]:N.target}function T(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(Gn,tt,S)=>{"use strict";S.d(tt,{C5:()=>f,Pl:()=>M,UE:()=>g,eL:()=>T,en:()=>A,u0:()=>R});var c=S(5879),t=S(6814);class p{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class f extends p{constructor(B,W,q,le,Fe){super(),this.component=B,this.viewContainerRef=W,this.injector=q,this.componentFactoryResolver=le,this.projectableNodes=Fe}}class g extends p{constructor(B,W,q,le){super(),this.templateRef=B,this.viewContainerRef=W,this.context=q,this.injector=le}get origin(){return this.templateRef.elementRef}attach(B,W=this.context){return this.context=W,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class v extends p{constructor(B){super(),this.element=B instanceof c.SBq?B.nativeElement:B}}class A{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof f?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof g?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof v?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class R extends A{constructor(B,W,q,le,Fe){super(),this.outletElement=B,this._componentFactoryResolver=W,this._appRef=q,this._defaultInjector=le,this.attachDomPortal=$=>{const ae=$.element,K=this._document.createComment("dom-portal");ae.parentNode.insertBefore(K,ae),this.outletElement.appendChild(ae),this._attachedPortal=$,super.setDisposeFn(()=>{K.parentNode&&K.parentNode.replaceChild(ae,K)})},this._document=Fe}attachComponentPortal(B){const q=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let le;return B.viewContainerRef?(le=B.viewContainerRef.createComponent(q,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>le.destroy())):(le=q.create(B.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(le.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(le.hostView),le.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(le)),this._attachedPortal=B,le}attachTemplatePortal(B){let W=B.viewContainerRef,q=W.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return q.rootNodes.forEach(le=>this.outletElement.appendChild(le)),q.detectChanges(),this.setDisposeFn(()=>{let le=W.indexOf(q);-1!==le&&W.remove(le)}),this._attachedPortal=B,q}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let M=(()=>{class C extends A{constructor(W,q,le){super(),this._componentFactoryResolver=W,this._viewContainerRef=q,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=Fe=>{const $=Fe.element,ae=this._document.createComment("dom-portal");Fe.setAttachedHost(this),$.parentNode.insertBefore(ae,$),this._getRootNode().appendChild($),this._attachedPortal=Fe,super.setDisposeFn(()=>{ae.parentNode&&ae.parentNode.replaceChild($,ae)})},this._document=le}get portal(){return this._attachedPortal}set portal(W){this.hasAttached()&&!W&&!this._isInitialized||(this.hasAttached()&&super.detach(),W&&super.attach(W),this._attachedPortal=W||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(W){W.setAttachedHost(this);const q=null!=W.viewContainerRef?W.viewContainerRef:this._viewContainerRef,Fe=(W.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(W.component),$=q.createComponent(Fe,q.length,W.injector||q.injector,W.projectableNodes||void 0);return q!==this._viewContainerRef&&this._getRootNode().appendChild($.hostView.rootNodes[0]),super.setDisposeFn(()=>$.destroy()),this._attachedPortal=W,this._attachedRef=$,this.attached.emit($),$}attachTemplatePortal(W){W.setAttachedHost(this);const q=this._viewContainerRef.createEmbeddedView(W.templateRef,W.context,{injector:W.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=W,this._attachedRef=q,this.attached.emit(q),q}_getRootNode(){const W=this._viewContainerRef.element.nativeElement;return W.nodeType===W.ELEMENT_NODE?W:W.parentNode}static#e=this.\u0275fac=function(q){return new(q||C)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(t.K0))};static#t=this.\u0275dir=c.lG2({type:C,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]})}return C})(),T=(()=>{class C{static#e=this.\u0275fac=function(q){return new(q||C)};static#t=this.\u0275mod=c.oAB({type:C});static#n=this.\u0275inj=c.cJS({})}return C})()},799:(Gn,tt,S)=>{"use strict";S.d(tt,{ZD:()=>ue,mF:()=>Je,Cl:()=>ve,rL:()=>Y});var c=S(2495),t=S(5879),y=S(8645),w=S(2096),E=S(5592),F=S(2438),L=S(1954),D=S(7394);const p={schedule(de){let Ae=requestAnimationFrame,We=cancelAnimationFrame;const{delegate:He}=p;He&&(Ae=He.requestAnimationFrame,We=He.cancelAnimationFrame);const at=Ae(ct=>{We=void 0,de(ct)});return new D.w0(()=>We?.(at))},requestAnimationFrame(...de){const{delegate:Ae}=p;return(Ae?.requestAnimationFrame||requestAnimationFrame)(...de)},cancelAnimationFrame(...de){const{delegate:Ae}=p;return(Ae?.cancelAnimationFrame||cancelAnimationFrame)(...de)},delegate:void 0};var g=S(2631);new class v extends g.v{flush(Ae){this._active=!0;const We=this._scheduled;this._scheduled=void 0;const{actions:He}=this;let at;Ae=Ae||He.shift();do{if(at=Ae.execute(Ae.state,Ae.delay))break}while((Ae=He[0])&&Ae.id===We&&He.shift());if(this._active=!1,at){for(;(Ae=He[0])&&Ae.id===We&&He.shift();)Ae.unsubscribe();throw at}}}(class f extends L.o{constructor(Ae,We){super(Ae,We),this.scheduler=Ae,this.work=We}requestAsyncId(Ae,We,He=0){return null!==He&&He>0?super.requestAsyncId(Ae,We,He):(Ae.actions.push(this),Ae._scheduled||(Ae._scheduled=p.requestAnimationFrame(()=>Ae.flush(void 0))))}recycleAsyncId(Ae,We,He=0){var at;if(null!=He?He>0:this.delay>0)return super.recycleAsyncId(Ae,We,He);const{actions:ct}=Ae;null!=We&&(null===(at=ct[ct.length-1])||void 0===at?void 0:at.id)!==We&&(p.cancelAnimationFrame(We),Ae._scheduled=void 0)}});let H,R=1;const k={};function O(de){return de in k&&(delete k[de],!0)}const M={setImmediate(de){const Ae=R++;return k[Ae]=!0,H||(H=Promise.resolve()),H.then(()=>O(Ae)&&de()),Ae},clearImmediate(de){O(de)}},{setImmediate:T,clearImmediate:N}=M,C={setImmediate(...de){const{delegate:Ae}=C;return(Ae?.setImmediate||T)(...de)},clearImmediate(de){const{delegate:Ae}=C;return(Ae?.clearImmediate||N)(de)},delegate:void 0};new class W extends g.v{flush(Ae){this._active=!0;const We=this._scheduled;this._scheduled=void 0;const{actions:He}=this;let at;Ae=Ae||He.shift();do{if(at=Ae.execute(Ae.state,Ae.delay))break}while((Ae=He[0])&&Ae.id===We&&He.shift());if(this._active=!1,at){for(;(Ae=He[0])&&Ae.id===We&&He.shift();)Ae.unsubscribe();throw at}}}(class B extends L.o{constructor(Ae,We){super(Ae,We),this.scheduler=Ae,this.work=We}requestAsyncId(Ae,We,He=0){return null!==He&&He>0?super.requestAsyncId(Ae,We,He):(Ae.actions.push(this),Ae._scheduled||(Ae._scheduled=C.setImmediate(Ae.flush.bind(Ae,void 0))))}recycleAsyncId(Ae,We,He=0){var at;if(null!=He?He>0:this.delay>0)return super.recycleAsyncId(Ae,We,He);const{actions:ct}=Ae;null!=We&&(null===(at=ct[ct.length-1])||void 0===at?void 0:at.id)!==We&&(C.clearImmediate(We),Ae._scheduled===We&&(Ae._scheduled=void 0))}});var Fe=S(6321),$=S(9360),ae=S(4829),K=S(8251),oe=S(4825);function he(de,Ae=Fe.z){return function ge(de){return(0,$.e)((Ae,We)=>{let He=!1,at=null,ct=null,it=!1;const vt=()=>{if(ct?.unsubscribe(),ct=null,He){He=!1;const It=at;at=null,We.next(It)}it&&We.complete()},Ht=()=>{ct=null,it&&We.complete()};Ae.subscribe((0,K.x)(We,It=>{He=!0,at=It,ct||(0,ae.Xf)(de(It)).subscribe(ct=(0,K.x)(We,vt,Ht))},()=>{it=!0,(!He||!ct||ct.closed)&&We.complete()}))})}(()=>(0,oe.H)(de,Ae))}var Ce=S(2181),Le=S(2831),fe=S(6814),Re=S(9388);let Je=(()=>{class de{constructor(We,He,at){this._ngZone=We,this._platform=He,this._scrolled=new y.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=at}register(We){this.scrollContainers.has(We)||this.scrollContainers.set(We,We.elementScrolled().subscribe(()=>this._scrolled.next(We)))}deregister(We){const He=this.scrollContainers.get(We);He&&(He.unsubscribe(),this.scrollContainers.delete(We))}scrolled(We=20){return this._platform.isBrowser?new E.y(He=>{this._globalSubscription||this._addGlobalListener();const at=We>0?this._scrolled.pipe(he(We)).subscribe(He):this._scrolled.subscribe(He);return this._scrolledCount++,()=>{at.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,w.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((We,He)=>this.deregister(He)),this._scrolled.complete()}ancestorScrolled(We,He){const at=this.getAncestorScrollContainers(We);return this.scrolled(He).pipe((0,Ce.h)(ct=>!ct||at.indexOf(ct)>-1))}getAncestorScrollContainers(We){const He=[];return this.scrollContainers.forEach((at,ct)=>{this._scrollableContainsElement(ct,We)&&He.push(ct)}),He}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(We,He){let at=(0,c.fI)(He),ct=We.getElementRef().nativeElement;do{if(at==ct)return!0}while(at=at.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const We=this._getWindow();return(0,F.R)(We.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(He){return new(He||de)(t.LFG(t.R0b),t.LFG(Le.t4),t.LFG(fe.K0,8))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Y=(()=>{class de{constructor(We,He,at){this._platform=We,this._change=new y.x,this._changeListener=ct=>{this._change.next(ct)},this._document=at,He.runOutsideAngular(()=>{if(We.isBrowser){const ct=this._getWindow();ct.addEventListener("resize",this._changeListener),ct.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const We=this._getWindow();We.removeEventListener("resize",this._changeListener),We.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const We={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),We}getViewportRect(){const We=this.getViewportScrollPosition(),{width:He,height:at}=this.getViewportSize();return{top:We.top,left:We.left,bottom:We.top+at,right:We.left+He,height:at,width:He}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const We=this._document,He=this._getWindow(),at=We.documentElement,ct=at.getBoundingClientRect();return{top:-ct.top||We.body.scrollTop||He.scrollY||at.scrollTop||0,left:-ct.left||We.body.scrollLeft||He.scrollX||at.scrollLeft||0}}change(We=20){return We>0?this._change.pipe(he(We)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const We=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:We.innerWidth,height:We.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(He){return new(He||de)(t.LFG(Le.t4),t.LFG(t.R0b),t.LFG(fe.K0,8))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),ue=(()=>{class de{static#e=this.\u0275fac=function(He){return new(He||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({})}return de})(),ve=(()=>{class de{static#e=this.\u0275fac=function(He){return new(He||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({imports:[Re.vT,ue,Re.vT,ue]})}return de})()},6814:(Gn,tt,S)=>{"use strict";S.d(tt,{Do:()=>H,ED:()=>Li,EM:()=>vs,HT:()=>w,JF:()=>Mr,K0:()=>F,Mn:()=>ge,Mx:()=>Fn,NF:()=>Uo,O5:()=>yt,Ov:()=>Xo,PM:()=>gr,RF:()=>ti,S$:()=>A,Tn:()=>q,UT:()=>oe,V_:()=>D,Ye:()=>k,ax:()=>Et,b0:()=>R,bD:()=>po,ez:()=>oo,mk:()=>on,mr:()=>U,n9:()=>hi,p6:()=>Ae,q:()=>y,sg:()=>Et,tP:()=>Wr,uU:()=>wi,w_:()=>E,x:()=>W});var c=S(5879);let t=null;function y(){return t}function w(Ie){t||(t=Ie)}class E{}const F=new c.OlP("DocumentToken");let L=(()=>{class Ie{historyGo(rt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)};static#t=this.\u0275prov=c.Yz7({token:Ie,factory:function(){return(0,c.f3M)(p)},providedIn:"platform"})}return Ie})();const D=new c.OlP("Location Initialized");let p=(()=>{class Ie extends L{constructor(){super(),this._doc=(0,c.f3M)(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return y().getBaseHref(this._doc)}onPopState(rt){const Mt=y().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("popstate",rt,!1),()=>Mt.removeEventListener("popstate",rt)}onHashChange(rt){const Mt=y().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("hashchange",rt,!1),()=>Mt.removeEventListener("hashchange",rt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(rt){this._location.pathname=rt}pushState(rt,Mt,Xt){this._history.pushState(rt,Mt,Xt)}replaceState(rt,Mt,Xt){this._history.replaceState(rt,Mt,Xt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(rt=0){this._history.go(rt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)};static#t=this.\u0275prov=c.Yz7({token:Ie,factory:function(){return new Ie},providedIn:"platform"})}return Ie})();function f(Ie,xt){if(0==Ie.length)return xt;if(0==xt.length)return Ie;let rt=0;return Ie.endsWith("/")&&rt++,xt.startsWith("/")&&rt++,2==rt?Ie+xt.substring(1):1==rt?Ie+xt:Ie+"/"+xt}function g(Ie){const xt=Ie.match(/#|\?|$/),rt=xt&&xt.index||Ie.length;return Ie.slice(0,rt-("/"===Ie[rt-1]?1:0))+Ie.slice(rt)}function v(Ie){return Ie&&"?"!==Ie[0]?"?"+Ie:Ie}let A=(()=>{class Ie{historyGo(rt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)};static#t=this.\u0275prov=c.Yz7({token:Ie,factory:function(){return(0,c.f3M)(R)},providedIn:"root"})}return Ie})();const U=new c.OlP("appBaseHref");let R=(()=>{class Ie extends A{constructor(rt,Mt){super(),this._platformLocation=rt,this._removeListenerFns=[],this._baseHref=Mt??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(rt){this._removeListenerFns.push(this._platformLocation.onPopState(rt),this._platformLocation.onHashChange(rt))}getBaseHref(){return this._baseHref}prepareExternalUrl(rt){return f(this._baseHref,rt)}path(rt=!1){const Mt=this._platformLocation.pathname+v(this._platformLocation.search),Xt=this._platformLocation.hash;return Xt&&rt?`${Mt}${Xt}`:Mt}pushState(rt,Mt,Xt,Bt){const jn=this.prepareExternalUrl(Xt+v(Bt));this._platformLocation.pushState(rt,Mt,jn)}replaceState(rt,Mt,Xt,Bt){const jn=this.prepareExternalUrl(Xt+v(Bt));this._platformLocation.replaceState(rt,Mt,jn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(rt=0){this._platformLocation.historyGo?.(rt)}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})(),H=(()=>{class Ie extends A{constructor(rt,Mt){super(),this._platformLocation=rt,this._baseHref="",this._removeListenerFns=[],null!=Mt&&(this._baseHref=Mt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(rt){this._removeListenerFns.push(this._platformLocation.onPopState(rt),this._platformLocation.onHashChange(rt))}getBaseHref(){return this._baseHref}path(rt=!1){let Mt=this._platformLocation.hash;return null==Mt&&(Mt="#"),Mt.length>0?Mt.substring(1):Mt}prepareExternalUrl(rt){const Mt=f(this._baseHref,rt);return Mt.length>0?"#"+Mt:Mt}pushState(rt,Mt,Xt,Bt){let jn=this.prepareExternalUrl(Xt+v(Bt));0==jn.length&&(jn=this._platformLocation.pathname),this._platformLocation.pushState(rt,Mt,jn)}replaceState(rt,Mt,Xt,Bt){let jn=this.prepareExternalUrl(Xt+v(Bt));0==jn.length&&(jn=this._platformLocation.pathname),this._platformLocation.replaceState(rt,Mt,jn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(rt=0){this._platformLocation.historyGo?.(rt)}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:Ie,factory:Ie.\u0275fac})}return Ie})(),k=(()=>{class Ie{constructor(rt){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=rt;const Mt=this._locationStrategy.getBaseHref();this._basePath=function T(Ie){if(new RegExp("^(https?:)?//").test(Ie)){const[,rt]=Ie.split(/\/\/[^\/]+/);return rt}return Ie}(g(P(Mt))),this._locationStrategy.onPopState(Xt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Xt.state,type:Xt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(rt=!1){return this.normalize(this._locationStrategy.path(rt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(rt,Mt=""){return this.path()==this.normalize(rt+v(Mt))}normalize(rt){return Ie.stripTrailingSlash(function M(Ie,xt){if(!Ie||!xt.startsWith(Ie))return xt;const rt=xt.substring(Ie.length);return""===rt||["/",";","?","#"].includes(rt[0])?rt:xt}(this._basePath,P(rt)))}prepareExternalUrl(rt){return rt&&"/"!==rt[0]&&(rt="/"+rt),this._locationStrategy.prepareExternalUrl(rt)}go(rt,Mt="",Xt=null){this._locationStrategy.pushState(Xt,"",rt,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(rt+v(Mt)),Xt)}replaceState(rt,Mt="",Xt=null){this._locationStrategy.replaceState(Xt,"",rt,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(rt+v(Mt)),Xt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(rt=0){this._locationStrategy.historyGo?.(rt)}onUrlChange(rt){return this._urlChangeListeners.push(rt),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Mt=>{this._notifyUrlChangeListeners(Mt.url,Mt.state)})),()=>{const Mt=this._urlChangeListeners.indexOf(rt);this._urlChangeListeners.splice(Mt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(rt="",Mt){this._urlChangeListeners.forEach(Xt=>Xt(rt,Mt))}subscribe(rt,Mt,Xt){return this._subject.subscribe({next:rt,error:Mt,complete:Xt})}static#e=this.normalizeQueryParams=v;static#t=this.joinWithSlash=f;static#n=this.stripTrailingSlash=g;static#i=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.LFG(A))};static#r=this.\u0275prov=c.Yz7({token:Ie,factory:function(){return function O(){return new k((0,c.LFG)(A))}()},providedIn:"root"})}return Ie})();function P(Ie){return Ie.replace(/\/index.html$/,"")}var W=function(Ie){return Ie[Ie.Format=0]="Format",Ie[Ie.Standalone=1]="Standalone",Ie}(W||{}),q=function(Ie){return Ie[Ie.Narrow=0]="Narrow",Ie[Ie.Abbreviated=1]="Abbreviated",Ie[Ie.Wide=2]="Wide",Ie[Ie.Short=3]="Short",Ie}(q||{}),le=function(Ie){return Ie[Ie.Short=0]="Short",Ie[Ie.Medium=1]="Medium",Ie[Ie.Long=2]="Long",Ie[Ie.Full=3]="Full",Ie}(le||{}),Fe=function(Ie){return Ie[Ie.Decimal=0]="Decimal",Ie[Ie.Group=1]="Group",Ie[Ie.List=2]="List",Ie[Ie.PercentSign=3]="PercentSign",Ie[Ie.PlusSign=4]="PlusSign",Ie[Ie.MinusSign=5]="MinusSign",Ie[Ie.Exponential=6]="Exponential",Ie[Ie.SuperscriptingExponent=7]="SuperscriptingExponent",Ie[Ie.PerMille=8]="PerMille",Ie[Ie.Infinity=9]="Infinity",Ie[Ie.NaN=10]="NaN",Ie[Ie.TimeSeparator=11]="TimeSeparator",Ie[Ie.CurrencyDecimal=12]="CurrencyDecimal",Ie[Ie.CurrencyGroup=13]="CurrencyGroup",Ie}(Fe||{});function ge(Ie,xt,rt){const Mt=(0,c.cg1)(Ie),Bt=_e([Mt[c.wAp.DaysFormat],Mt[c.wAp.DaysStandalone]],xt);return _e(Bt,rt)}function oe(Ie,xt,rt){const Mt=(0,c.cg1)(Ie),Bt=_e([Mt[c.wAp.MonthsFormat],Mt[c.wAp.MonthsStandalone]],xt);return _e(Bt,rt)}function fe(Ie,xt){return _e((0,c.cg1)(Ie)[c.wAp.DateFormat],xt)}function Re(Ie,xt){return _e((0,c.cg1)(Ie)[c.wAp.TimeFormat],xt)}function xe(Ie,xt){return _e((0,c.cg1)(Ie)[c.wAp.DateTimeFormat],xt)}function pe(Ie,xt){const rt=(0,c.cg1)(Ie),Mt=rt[c.wAp.NumberSymbols][xt];if(typeof Mt>"u"){if(xt===Fe.CurrencyDecimal)return rt[c.wAp.NumberSymbols][Fe.Decimal];if(xt===Fe.CurrencyGroup)return rt[c.wAp.NumberSymbols][Fe.Group]}return Mt}function Ne(Ie){if(!Ie[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Ie[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _e(Ie,xt){for(let rt=xt;rt>-1;rt--)if(typeof Ie[rt]<"u")return Ie[rt];throw new Error("Locale data API: locale data undefined")}function J(Ie){const[xt,rt]=Ie.split(":");return{hours:+xt,minutes:+rt}}const ie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ee={},X=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ue=function(Ie){return Ie[Ie.Short=0]="Short",Ie[Ie.ShortGMT=1]="ShortGMT",Ie[Ie.Long=2]="Long",Ie[Ie.Extended=3]="Extended",Ie}(ue||{}),ve=function(Ie){return Ie[Ie.FullYear=0]="FullYear",Ie[Ie.Month=1]="Month",Ie[Ie.Date=2]="Date",Ie[Ie.Hours=3]="Hours",Ie[Ie.Minutes=4]="Minutes",Ie[Ie.Seconds=5]="Seconds",Ie[Ie.FractionalSeconds=6]="FractionalSeconds",Ie[Ie.Day=7]="Day",Ie}(ve||{}),de=function(Ie){return Ie[Ie.DayPeriods=0]="DayPeriods",Ie[Ie.Days=1]="Days",Ie[Ie.Months=2]="Months",Ie[Ie.Eras=3]="Eras",Ie}(de||{});function Ae(Ie,xt,rt,Mt){let Xt=function $e(Ie){if(ot(Ie))return Ie;if("number"==typeof Ie&&!isNaN(Ie))return new Date(Ie);if("string"==typeof Ie){if(Ie=Ie.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Ie)){const[Xt,Bt=1,jn=1]=Ie.split("-").map(bi=>+bi);return We(Xt,Bt-1,jn)}const rt=parseFloat(Ie);if(!isNaN(Ie-rt))return new Date(rt);let Mt;if(Mt=Ie.match(ie))return function lt(Ie){const xt=new Date(0);let rt=0,Mt=0;const Xt=Ie[8]?xt.setUTCFullYear:xt.setFullYear,Bt=Ie[8]?xt.setUTCHours:xt.setHours;Ie[9]&&(rt=Number(Ie[9]+Ie[10]),Mt=Number(Ie[9]+Ie[11])),Xt.call(xt,Number(Ie[1]),Number(Ie[2])-1,Number(Ie[3]));const jn=Number(Ie[4]||0)-rt,bi=Number(Ie[5]||0)-Mt,Bi=Number(Ie[6]||0),ir=Math.floor(1e3*parseFloat("0."+(Ie[7]||0)));return Bt.call(xt,jn,bi,Bi,ir),xt}(Mt)}const xt=new Date(Ie);if(!ot(xt))throw new Error(`Unable to convert "${Ie}" into a date`);return xt}(Ie);xt=He(rt,xt)||xt;let bi,jn=[];for(;xt;){if(bi=X.exec(xt),!bi){jn.push(xt);break}{jn=jn.concat(bi.slice(1));const sr=jn.pop();if(!sr)break;xt=sr}}let Bi=Xt.getTimezoneOffset();Mt&&(Bi=De(Mt,Bi),Xt=function Ye(Ie,xt,rt){const Mt=rt?-1:1,Xt=Ie.getTimezoneOffset();return function Pe(Ie,xt){return(Ie=new Date(Ie.getTime())).setMinutes(Ie.getMinutes()+xt),Ie}(Ie,Mt*(De(xt,Xt)-Xt))}(Xt,Mt,!0));let ir="";return jn.forEach(sr=>{const Qi=function Qe(Ie){if(ft[Ie])return ft[Ie];let xt;switch(Ie){case"G":case"GG":case"GGG":xt=It(de.Eras,q.Abbreviated);break;case"GGGG":xt=It(de.Eras,q.Wide);break;case"GGGGG":xt=It(de.Eras,q.Narrow);break;case"y":xt=vt(ve.FullYear,1,0,!1,!0);break;case"yy":xt=vt(ve.FullYear,2,0,!0,!0);break;case"yyy":xt=vt(ve.FullYear,3,0,!1,!0);break;case"yyyy":xt=vt(ve.FullYear,4,0,!1,!0);break;case"Y":xt=Dt(1);break;case"YY":xt=Dt(2,!0);break;case"YYY":xt=Dt(3);break;case"YYYY":xt=Dt(4);break;case"M":case"L":xt=vt(ve.Month,1,1);break;case"MM":case"LL":xt=vt(ve.Month,2,1);break;case"MMM":xt=It(de.Months,q.Abbreviated);break;case"MMMM":xt=It(de.Months,q.Wide);break;case"MMMMM":xt=It(de.Months,q.Narrow);break;case"LLL":xt=It(de.Months,q.Abbreviated,W.Standalone);break;case"LLLL":xt=It(de.Months,q.Wide,W.Standalone);break;case"LLLLL":xt=It(de.Months,q.Narrow,W.Standalone);break;case"w":xt=nn(1);break;case"ww":xt=nn(2);break;case"W":xt=nn(1,!0);break;case"d":xt=vt(ve.Date,1);break;case"dd":xt=vt(ve.Date,2);break;case"c":case"cc":xt=vt(ve.Day,1);break;case"ccc":xt=It(de.Days,q.Abbreviated,W.Standalone);break;case"cccc":xt=It(de.Days,q.Wide,W.Standalone);break;case"ccccc":xt=It(de.Days,q.Narrow,W.Standalone);break;case"cccccc":xt=It(de.Days,q.Short,W.Standalone);break;case"E":case"EE":case"EEE":xt=It(de.Days,q.Abbreviated);break;case"EEEE":xt=It(de.Days,q.Wide);break;case"EEEEE":xt=It(de.Days,q.Narrow);break;case"EEEEEE":xt=It(de.Days,q.Short);break;case"a":case"aa":case"aaa":xt=It(de.DayPeriods,q.Abbreviated);break;case"aaaa":xt=It(de.DayPeriods,q.Wide);break;case"aaaaa":xt=It(de.DayPeriods,q.Narrow);break;case"b":case"bb":case"bbb":xt=It(de.DayPeriods,q.Abbreviated,W.Standalone,!0);break;case"bbbb":xt=It(de.DayPeriods,q.Wide,W.Standalone,!0);break;case"bbbbb":xt=It(de.DayPeriods,q.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":xt=It(de.DayPeriods,q.Abbreviated,W.Format,!0);break;case"BBBB":xt=It(de.DayPeriods,q.Wide,W.Format,!0);break;case"BBBBB":xt=It(de.DayPeriods,q.Narrow,W.Format,!0);break;case"h":xt=vt(ve.Hours,1,-12);break;case"hh":xt=vt(ve.Hours,2,-12);break;case"H":xt=vt(ve.Hours,1);break;case"HH":xt=vt(ve.Hours,2);break;case"m":xt=vt(ve.Minutes,1);break;case"mm":xt=vt(ve.Minutes,2);break;case"s":xt=vt(ve.Seconds,1);break;case"ss":xt=vt(ve.Seconds,2);break;case"S":xt=vt(ve.FractionalSeconds,1);break;case"SS":xt=vt(ve.FractionalSeconds,2);break;case"SSS":xt=vt(ve.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":xt=en(ue.Short);break;case"ZZZZZ":xt=en(ue.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":xt=en(ue.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":xt=en(ue.Long);break;default:return null}return ft[Ie]=xt,xt}(sr);ir+=Qi?Qi(Xt,rt,Bi):"''"===sr?"'":sr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ir}function We(Ie,xt,rt){const Mt=new Date(0);return Mt.setFullYear(Ie,xt,rt),Mt.setHours(0,0,0),Mt}function He(Ie,xt){const rt=function ae(Ie){return(0,c.cg1)(Ie)[c.wAp.LocaleId]}(Ie);if(ee[rt]=ee[rt]||{},ee[rt][xt])return ee[rt][xt];let Mt="";switch(xt){case"shortDate":Mt=fe(Ie,le.Short);break;case"mediumDate":Mt=fe(Ie,le.Medium);break;case"longDate":Mt=fe(Ie,le.Long);break;case"fullDate":Mt=fe(Ie,le.Full);break;case"shortTime":Mt=Re(Ie,le.Short);break;case"mediumTime":Mt=Re(Ie,le.Medium);break;case"longTime":Mt=Re(Ie,le.Long);break;case"fullTime":Mt=Re(Ie,le.Full);break;case"short":const Xt=He(Ie,"shortTime"),Bt=He(Ie,"shortDate");Mt=at(xe(Ie,le.Short),[Xt,Bt]);break;case"medium":const jn=He(Ie,"mediumTime"),bi=He(Ie,"mediumDate");Mt=at(xe(Ie,le.Medium),[jn,bi]);break;case"long":const Bi=He(Ie,"longTime"),ir=He(Ie,"longDate");Mt=at(xe(Ie,le.Long),[Bi,ir]);break;case"full":const sr=He(Ie,"fullTime"),Qi=He(Ie,"fullDate");Mt=at(xe(Ie,le.Full),[sr,Qi])}return Mt&&(ee[rt][xt]=Mt),Mt}function at(Ie,xt){return xt&&(Ie=Ie.replace(/\{([^}]+)}/g,function(rt,Mt){return null!=xt&&Mt in xt?xt[Mt]:rt})),Ie}function ct(Ie,xt,rt="-",Mt,Xt){let Bt="";(Ie<0||Xt&&Ie<=0)&&(Xt?Ie=1-Ie:(Ie=-Ie,Bt=rt));let jn=String(Ie);for(;jn.length<xt;)jn="0"+jn;return Mt&&(jn=jn.slice(jn.length-xt)),Bt+jn}function vt(Ie,xt,rt=0,Mt=!1,Xt=!1){return function(Bt,jn){let bi=function Ht(Ie,xt){switch(Ie){case ve.FullYear:return xt.getFullYear();case ve.Month:return xt.getMonth();case ve.Date:return xt.getDate();case ve.Hours:return xt.getHours();case ve.Minutes:return xt.getMinutes();case ve.Seconds:return xt.getSeconds();case ve.FractionalSeconds:return xt.getMilliseconds();case ve.Day:return xt.getDay();default:throw new Error(`Unknown DateType value "${Ie}".`)}}(Ie,Bt);if((rt>0||bi>-rt)&&(bi+=rt),Ie===ve.Hours)0===bi&&-12===rt&&(bi=12);else if(Ie===ve.FractionalSeconds)return function it(Ie,xt){return ct(Ie,3).substring(0,xt)}(bi,xt);const Bi=pe(jn,Fe.MinusSign);return ct(bi,xt,Bi,Mt,Xt)}}function It(Ie,xt,rt=W.Format,Mt=!1){return function(Xt,Bt){return function jt(Ie,xt,rt,Mt,Xt,Bt){switch(rt){case de.Months:return oe(xt,Xt,Mt)[Ie.getMonth()];case de.Days:return ge(xt,Xt,Mt)[Ie.getDay()];case de.DayPeriods:const jn=Ie.getHours(),bi=Ie.getMinutes();if(Bt){const ir=function Te(Ie){const xt=(0,c.cg1)(Ie);return Ne(xt),(xt[c.wAp.ExtraData][2]||[]).map(Mt=>"string"==typeof Mt?J(Mt):[J(Mt[0]),J(Mt[1])])}(xt),sr=function Y(Ie,xt,rt){const Mt=(0,c.cg1)(Ie);Ne(Mt);const Bt=_e([Mt[c.wAp.ExtraData][0],Mt[c.wAp.ExtraData][1]],xt)||[];return _e(Bt,rt)||[]}(xt,Xt,Mt),Qi=ir.findIndex(Ir=>{if(Array.isArray(Ir)){const[Si,Cr]=Ir,Ko=jn>=Si.hours&&bi>=Si.minutes,Di=jn<Cr.hours||jn===Cr.hours&&bi<Cr.minutes;if(Si.hours<Cr.hours){if(Ko&&Di)return!0}else if(Ko||Di)return!0}else if(Ir.hours===jn&&Ir.minutes===bi)return!0;return!1});if(-1!==Qi)return sr[Qi]}return function K(Ie,xt,rt){const Mt=(0,c.cg1)(Ie),Bt=_e([Mt[c.wAp.DayPeriodsFormat],Mt[c.wAp.DayPeriodsStandalone]],xt);return _e(Bt,rt)}(xt,Xt,Mt)[jn<12?0:1];case de.Eras:return function he(Ie,xt){return _e((0,c.cg1)(Ie)[c.wAp.Eras],xt)}(xt,Mt)[Ie.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${rt}`)}}(Xt,Bt,Ie,xt,rt,Mt)}}function en(Ie){return function(xt,rt,Mt){const Xt=-1*Mt,Bt=pe(rt,Fe.MinusSign),jn=Xt>0?Math.floor(Xt/60):Math.ceil(Xt/60);switch(Ie){case ue.Short:return(Xt>=0?"+":"")+ct(jn,2,Bt)+ct(Math.abs(Xt%60),2,Bt);case ue.ShortGMT:return"GMT"+(Xt>=0?"+":"")+ct(jn,1,Bt);case ue.Long:return"GMT"+(Xt>=0?"+":"")+ct(jn,2,Bt)+":"+ct(Math.abs(Xt%60),2,Bt);case ue.Extended:return 0===Mt?"Z":(Xt>=0?"+":"")+ct(jn,2,Bt)+":"+ct(Math.abs(Xt%60),2,Bt);default:throw new Error(`Unknown zone width "${Ie}"`)}}}const dn=0,un=4;function Cn(Ie){return We(Ie.getFullYear(),Ie.getMonth(),Ie.getDate()+(un-Ie.getDay()))}function nn(Ie,xt=!1){return function(rt,Mt){let Xt;if(xt){const Bt=new Date(rt.getFullYear(),rt.getMonth(),1).getDay()-1,jn=rt.getDate();Xt=1+Math.floor((jn+Bt)/7)}else{const Bt=Cn(rt),jn=function Kt(Ie){const xt=We(Ie,dn,1).getDay();return We(Ie,0,1+(xt<=un?un:un+7)-xt)}(Bt.getFullYear()),bi=Bt.getTime()-jn.getTime();Xt=1+Math.round(bi/6048e5)}return ct(Xt,Ie,pe(Mt,Fe.MinusSign))}}function Dt(Ie,xt=!1){return function(rt,Mt){return ct(Cn(rt).getFullYear(),Ie,pe(Mt,Fe.MinusSign),xt)}}const ft={};function De(Ie,xt){Ie=Ie.replace(/:/g,"");const rt=Date.parse("Jan 01, 1970 00:00:00 "+Ie)/6e4;return isNaN(rt)?xt:rt}function ot(Ie){return Ie instanceof Date&&!isNaN(Ie.valueOf())}function Fn(Ie,xt){xt=encodeURIComponent(xt);for(const rt of Ie.split(";")){const Mt=rt.indexOf("="),[Xt,Bt]=-1==Mt?[rt,""]:[rt.slice(0,Mt),rt.slice(Mt+1)];if(Xt.trim()===xt)return decodeURIComponent(Bt)}return null}const Zt=/\s+/,Yt=[];let on=(()=>{class Ie{constructor(rt,Mt,Xt,Bt){this._iterableDiffers=rt,this._keyValueDiffers=Mt,this._ngEl=Xt,this._renderer=Bt,this.initialClasses=Yt,this.stateMap=new Map}set klass(rt){this.initialClasses=null!=rt?rt.trim().split(Zt):Yt}set ngClass(rt){this.rawClass="string"==typeof rt?rt.trim().split(Zt):rt}ngDoCheck(){for(const Mt of this.initialClasses)this._updateState(Mt,!0);const rt=this.rawClass;if(Array.isArray(rt)||rt instanceof Set)for(const Mt of rt)this._updateState(Mt,!0);else if(null!=rt)for(const Mt of Object.keys(rt))this._updateState(Mt,!!rt[Mt]);this._applyStateDiff()}_updateState(rt,Mt){const Xt=this.stateMap.get(rt);void 0!==Xt?(Xt.enabled!==Mt&&(Xt.changed=!0,Xt.enabled=Mt),Xt.touched=!0):this.stateMap.set(rt,{enabled:Mt,changed:!0,touched:!0})}_applyStateDiff(){for(const rt of this.stateMap){const Mt=rt[0],Xt=rt[1];Xt.changed?(this._toggleClass(Mt,Xt.enabled),Xt.changed=!1):Xt.touched||(Xt.enabled&&this._toggleClass(Mt,!1),this.stateMap.delete(Mt)),Xt.touched=!1}}_toggleClass(rt,Mt){(rt=rt.trim()).length>0&&rt.split(Zt).forEach(Xt=>{Mt?this._renderer.addClass(this._ngEl.nativeElement,Xt):this._renderer.removeClass(this._ngEl.nativeElement,Xt)})}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return Ie})();class ei{constructor(xt,rt,Mt,Xt){this.$implicit=xt,this.ngForOf=rt,this.index=Mt,this.count=Xt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Et=(()=>{class Ie{set ngForOf(rt){this._ngForOf=rt,this._ngForOfDirty=!0}set ngForTrackBy(rt){this._trackByFn=rt}get ngForTrackBy(){return this._trackByFn}constructor(rt,Mt,Xt){this._viewContainer=rt,this._template=Mt,this._differs=Xt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(rt){rt&&(this._template=rt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const rt=this._ngForOf;!this._differ&&rt&&(this._differ=this._differs.find(rt).create(this.ngForTrackBy))}if(this._differ){const rt=this._differ.diff(this._ngForOf);rt&&this._applyChanges(rt)}}_applyChanges(rt){const Mt=this._viewContainer;rt.forEachOperation((Xt,Bt,jn)=>{if(null==Xt.previousIndex)Mt.createEmbeddedView(this._template,new ei(Xt.item,this._ngForOf,-1,-1),null===jn?void 0:jn);else if(null==jn)Mt.remove(null===Bt?void 0:Bt);else if(null!==Bt){const bi=Mt.get(Bt);Mt.move(bi,jn),fn(bi,Xt)}});for(let Xt=0,Bt=Mt.length;Xt<Bt;Xt++){const bi=Mt.get(Xt).context;bi.index=Xt,bi.count=Bt,bi.ngForOf=this._ngForOf}rt.forEachIdentityChange(Xt=>{fn(Mt.get(Xt.currentIndex),Xt)})}static ngTemplateContextGuard(rt,Mt){return!0}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return Ie})();function fn(Ie,xt){Ie.context.$implicit=xt.item}let yt=(()=>{class Ie{constructor(rt,Mt){this._viewContainer=rt,this._context=new gt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Mt}set ngIf(rt){this._context.$implicit=this._context.ngIf=rt,this._updateView()}set ngIfThen(rt){kt("ngIfThen",rt),this._thenTemplateRef=rt,this._thenViewRef=null,this._updateView()}set ngIfElse(rt){kt("ngIfElse",rt),this._elseTemplateRef=rt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(rt,Mt){return!0}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return Ie})();class gt{constructor(){this.$implicit=null,this.ngIf=null}}function kt(Ie,xt){if(xt&&!xt.createEmbeddedView)throw new Error(`${Ie} must be a TemplateRef, but received '${(0,c.AaK)(xt)}'.`)}class an{constructor(xt,rt){this._viewContainerRef=xt,this._templateRef=rt,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(xt){xt&&!this._created?this.create():!xt&&this._created&&this.destroy()}}let ti=(()=>{class Ie{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(rt){this._ngSwitch=rt,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(rt){this._defaultViews.push(rt)}_matchCase(rt){const Mt=rt==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Mt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Mt}_updateDefaultCases(rt){if(this._defaultViews.length>0&&rt!==this._defaultUsed){this._defaultUsed=rt;for(const Mt of this._defaultViews)Mt.enforceState(rt)}}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return Ie})(),hi=(()=>{class Ie{constructor(rt,Mt,Xt){this.ngSwitch=Xt,Xt._addCase(),this._view=new an(rt,Mt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ti,9))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return Ie})(),Li=(()=>{class Ie{constructor(rt,Mt,Xt){Xt._addDefault(new an(rt,Mt))}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ti,9))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return Ie})(),Wr=(()=>{class Ie{constructor(rt){this._viewContainerRef=rt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(rt){if(rt.ngTemplateOutlet||rt.ngTemplateOutletInjector){const Mt=this._viewContainerRef;if(this._viewRef&&Mt.remove(Mt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Xt,ngTemplateOutletContext:Bt,ngTemplateOutletInjector:jn}=this;this._viewRef=Mt.createEmbeddedView(Xt,Bt,jn?{injector:jn}:void 0)}else this._viewRef=null}else this._viewRef&&rt.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.s_b))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]})}return Ie})();function xi(Ie,xt){return new c.vHH(2100,!1)}class Dr{createSubscription(xt,rt){return(0,c.rg0)(()=>xt.subscribe({next:rt,error:Mt=>{throw Mt}}))}dispose(xt){(0,c.rg0)(()=>xt.unsubscribe())}}class qi{createSubscription(xt,rt){return xt.then(rt,Mt=>{throw Mt})}dispose(xt){}}const Yr=new qi,Ji=new Dr;let Xo=(()=>{class Ie{constructor(rt){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=rt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(rt){return this._obj?rt!==this._obj?(this._dispose(),this.transform(rt)):this._latestValue:(rt&&this._subscribe(rt),this._latestValue)}_subscribe(rt){this._obj=rt,this._strategy=this._selectStrategy(rt),this._subscription=this._strategy.createSubscription(rt,Mt=>this._updateLatestValue(rt,Mt))}_selectStrategy(rt){if((0,c.QGY)(rt))return Yr;if((0,c.F4k)(rt))return Ji;throw xi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(rt,Mt){rt===this._obj&&(this._latestValue=Mt,this._ref.markForCheck())}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.sBO,16))};static#t=this.\u0275pipe=c.Yjl({name:"async",type:Ie,pure:!1,standalone:!0})}return Ie})();const oi=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ki=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let wi=(()=>{class Ie{constructor(rt,Mt,Xt){this.locale=rt,this.defaultTimezone=Mt,this.defaultOptions=Xt}transform(rt,Mt,Xt,Bt){if(null==rt||""===rt||rt!=rt)return null;try{return Ae(rt,Mt??this.defaultOptions?.dateFormat??"mediumDate",Bt||this.locale,Xt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(jn){throw xi()}}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.soG,16),c.Y36(oi,24),c.Y36(ki,24))};static#t=this.\u0275pipe=c.Yjl({name:"date",type:Ie,pure:!0,standalone:!0})}return Ie})(),oo=(()=>{class Ie{static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)};static#t=this.\u0275mod=c.oAB({type:Ie});static#n=this.\u0275inj=c.cJS({})}return Ie})();const po="browser",as="server";function Uo(Ie){return Ie===po}function gr(Ie){return Ie===as}let vs=(()=>{class Ie{static#e=this.\u0275prov=(0,c.Yz7)({token:Ie,providedIn:"root",factory:()=>new so((0,c.LFG)(F),window)})}return Ie})();class so{constructor(xt,rt){this.document=xt,this.window=rt,this.offset=()=>[0,0]}setOffset(xt){this.offset=Array.isArray(xt)?()=>xt:xt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(xt){this.supportsScrolling()&&this.window.scrollTo(xt[0],xt[1])}scrollToAnchor(xt){if(!this.supportsScrolling())return;const rt=function es(Ie,xt){const rt=Ie.getElementById(xt)||Ie.getElementsByName(xt)[0];if(rt)return rt;if("function"==typeof Ie.createTreeWalker&&Ie.body&&"function"==typeof Ie.body.attachShadow){const Mt=Ie.createTreeWalker(Ie.body,NodeFilter.SHOW_ELEMENT);let Xt=Mt.currentNode;for(;Xt;){const Bt=Xt.shadowRoot;if(Bt){const jn=Bt.getElementById(xt)||Bt.querySelector(`[name="${xt}"]`);if(jn)return jn}Xt=Mt.nextNode()}}return null}(this.document,xt);rt&&(this.scrollToElement(rt),rt.focus())}setHistoryScrollRestoration(xt){if(this.supportScrollRestoration()){const rt=this.window.history;rt&&rt.scrollRestoration&&(rt.scrollRestoration=xt)}}scrollToElement(xt){const rt=xt.getBoundingClientRect(),Mt=rt.left+this.window.pageXOffset,Xt=rt.top+this.window.pageYOffset,Bt=this.offset();this.window.scrollTo(Mt-Bt[0],Xt-Bt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const xt=Go(this.window.history)||Go(Object.getPrototypeOf(this.window.history));return!(!xt||!xt.writable&&!xt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Go(Ie){return Object.getOwnPropertyDescriptor(Ie,"scrollRestoration")}class Mr{}},5879:(Gn,tt,S)=>{"use strict";S.d(tt,{$8M:()=>cc,$WT:()=>Yr,$Z:()=>Rh,AFp:()=>cv,ALo:()=>LC,AaK:()=>v,AsE:()=>mg,BQk:()=>Jh,CHM:()=>ol,CRH:()=>Fg,DdM:()=>gy,EJc:()=>gD,EiD:()=>J_,EpF:()=>hS,F$t:()=>E0,F4k:()=>mS,FYo:()=>_v,FiY:()=>Aa,G48:()=>UD,Gf:()=>zC,GfV:()=>vv,GkF:()=>p0,Gpc:()=>R,Gre:()=>im,HDt:()=>Ml,Hsn:()=>vS,Ikx:()=>cm,JOm:()=>Xf,JVY:()=>op,JZr:()=>P,Jf7:()=>Ev,KtG:()=>Ms,L6k:()=>TE,LAX:()=>SE,LFG:()=>Qe,LMc:()=>mM,LSH:()=>tf,Lbi:()=>yp,Lck:()=>cy,MAs:()=>zh,MGl:()=>Qh,MMx:()=>Nf,MR2:()=>fp,NdJ:()=>_0,O4$:()=>je,Ojb:()=>jE,OlP:()=>Br,Oqu:()=>k0,P3R:()=>ea,PXZ:()=>wD,Q6J:()=>ng,QGY:()=>g0,QbO:()=>HE,Qsj:()=>tT,R0b:()=>ia,RDi:()=>bE,Rgc:()=>Mm,SBq:()=>af,SDv:()=>vC,Sil:()=>bD,Suo:()=>ZC,TTD:()=>Oa,TgZ:()=>Zh,Tol:()=>N0,Udp:()=>Af,VKq:()=>_y,VuI:()=>fM,W1O:()=>Ki,WFA:()=>v0,WLB:()=>vy,X6Q:()=>BD,XFs:()=>ue,Xpm:()=>ti,Xq5:()=>$p,Xts:()=>Jd,Y36:()=>Cd,YKP:()=>ly,YNc:()=>u0,Yjl:()=>Bo,Yz7:()=>Ne,Z0I:()=>_e,ZZ4:()=>n_,_Bn:()=>na,_UZ:()=>rg,_Vd:()=>sf,_c5:()=>tM,_uU:()=>NS,aQg:()=>i_,c2e:()=>Jy,cJS:()=>Y,cg1:()=>fm,d8E:()=>dm,dDg:()=>MD,dqk:()=>at,eBb:()=>K_,eFA:()=>ub,eJc:()=>Bg,ekj:()=>lg,eoX:()=>ab,f3M:()=>Pe,g9A:()=>dv,h0i:()=>Mu,hGG:()=>nM,hYB:()=>S0,hij:()=>nm,iGM:()=>YC,ifc:()=>Jt,ip1:()=>qy,jDz:()=>dy,kEZ:()=>yy,kL8:()=>_g,kcU:()=>Be,lG2:()=>Wr,lcZ:()=>FC,lqb:()=>Sd,lri:()=>ob,mCW:()=>vh,n5z:()=>jl,n_E:()=>Rg,oAB:()=>vr,oJD:()=>Q_,oxw:()=>gS,pB0:()=>W_,q3G:()=>bd,q4F:()=>yv,qFp:()=>Rb,qLn:()=>nu,qOj:()=>Zp,qZA:()=>$h,qzn:()=>yd,rWj:()=>sb,rg0:()=>Sc,s9C:()=>T0,sBO:()=>GD,s_b:()=>kg,soG:()=>Im,tb:()=>$g,tp0:()=>no,uIk:()=>qp,vHH:()=>T,vpe:()=>ec,wAp:()=>Eu,xi3:()=>BC,xp6:()=>Np,ynx:()=>qh,z2F:()=>xl,z3N:()=>zl,zSh:()=>_p,zW0:()=>Zv,zs3:()=>Wc});var c=S(8645),t=S(7394),y=S(5619),w=S(5592),E=S(3019),F=S(2096),L=S(3020),D=S(4664),p=S(3997);function f(l){for(let u in l)if(l[u]===f)return u;throw Error("Could not find renamed property on target object.")}function g(l,u){for(const h in u)u.hasOwnProperty(h)&&!l.hasOwnProperty(h)&&(l[h]=u[h])}function v(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(v).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const h=u.indexOf("\n");return-1===h?u:u.substring(0,h)}function A(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const U=f({__forward_ref__:f});function R(l){return l.__forward_ref__=R,l.toString=function(){return v(this())},l}function H(l){return k(l)?l():l}function k(l){return"function"==typeof l&&l.hasOwnProperty(U)&&l.__forward_ref__===R}function O(l){return l&&!!l.\u0275providers}const P="https://g.co/ng/security#xss";class T extends Error{constructor(u,h){super(function N(l,u){return`NG0${Math.abs(l)}${u?": "+u:""}`}(u,h)),this.code=u}}function C(l){return"string"==typeof l?l:null==l?"":String(l)}function Fe(l,u){throw new T(-201,!1)}function we(l,u,h,_){throw new Error(`ASSERTION ERROR: ${l}`+(null==_?"":` [Expected=> ${h} ${_} ${u} <=Actual]`))}function Ne(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Y(l){return{providers:l.providers||[],imports:l.imports||[]}}function se(l){return J(l,te)||J(l,ee)}function _e(l){return null!==se(l)}function J(l,u){return l.hasOwnProperty(u)?l[u]:null}function Z(l){return l&&(l.hasOwnProperty(ie)||l.hasOwnProperty(X))?l[ie]:null}const te=f({\u0275prov:f}),ie=f({\u0275inj:f}),ee=f({ngInjectableDef:f}),X=f({ngInjectorDef:f});var ue=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}(ue||{});let ve;function Ae(l){const u=ve;return ve=l,u}function We(l,u,h){const _=se(l);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:h&ue.Optional?null:void 0!==u?u:void Fe(v(l))}const at=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ht={},It="__NG_DI_FLAG__",jt="ngTempTokenPath",dn=/\n/gm,Kt="__source";let Cn;function Dt(l){const u=Cn;return Cn=l,u}function ft(l,u=ue.Default){if(void 0===Cn)throw new T(-203,!1);return null===Cn?We(l,void 0,u):Cn.get(l,u&ue.Optional?null:void 0,u)}function Qe(l,u=ue.Default){return(function de(){return ve}()||ft)(H(l),u)}function Pe(l,u=ue.Default){return Qe(l,Ye(u))}function Ye(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function $e(l){const u=[];for(let h=0;h<l.length;h++){const _=H(l[h]);if(Array.isArray(_)){if(0===_.length)throw new T(900,!1);let x,j=ue.Default;for(let re=0;re<_.length;re++){const Se=_[re],Ge=ot(Se);"number"==typeof Ge?-1===Ge?x=Se.token:j|=Ge:x=Se}u.push(Qe(x,j))}else u.push(Qe(_))}return u}function lt(l,u){return l[It]=u,l.prototype[It]=u,l}function ot(l){return l[It]}function $t(l){return{toString:l}.toString()}var Lt=function(l){return l[l.OnPush=0]="OnPush",l[l.Default=1]="Default",l}(Lt||{}),Jt=function(l){return l[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}(Jt||{});const cn={},mn=[],xn=f({\u0275cmp:f}),Ln=f({\u0275dir:f}),Yn=f({\u0275pipe:f}),Vn=f({\u0275mod:f}),ci=f({\u0275fac:f}),yn=f({__NG_ELEMENT_ID__:f}),_n=f({__NG_ENV_ID__:f});function bt(l,u,h){let _=l.length;for(;;){const x=l.indexOf(u,h);if(-1===x)return x;if(0===x||l.charCodeAt(x-1)<=32){const j=u.length;if(x+j===_||l.charCodeAt(x+j)<=32)return x}h=x+1}}function ut(l,u,h){let _=0;for(;_<h.length;){const x=h[_];if("number"==typeof x){if(0!==x)break;_++;const j=h[_++],re=h[_++],Se=h[_++];l.setAttribute(u,re,Se,j)}else{const j=x,re=h[++_];Ze(j)?l.setProperty(u,j,re):l.setAttribute(u,j,re),_++}}return _}function tn(l){return 3===l||4===l||6===l}function Ze(l){return 64===l.charCodeAt(0)}function Xe(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let h=-1;for(let _=0;_<u.length;_++){const x=u[_];"number"==typeof x?h=x:0===h||Pt(l,h,x,null,-1===h||2===h?u[++_]:null)}}return l}function Pt(l,u,h,_,x){let j=0,re=l.length;if(-1===u)re=-1;else for(;j<l.length;){const Se=l[j++];if("number"==typeof Se){if(Se===u){re=-1;break}if(Se>u){re=j-1;break}}}for(;j<l.length;){const Se=l[j];if("number"==typeof Se)break;if(Se===h){if(null===_)return void(null!==x&&(l[j+1]=x));if(_===l[j+1])return void(l[j+2]=x)}j++,null!==_&&j++,null!==x&&j++}-1!==re&&(l.splice(re,0,u),j=re+1),l.splice(j++,0,h),null!==_&&l.splice(j++,0,_),null!==x&&l.splice(j++,0,x)}const Qt="ng-template";function In(l,u,h){let _=0,x=!0;for(;_<l.length;){let j=l[_++];if("string"==typeof j&&x){const re=l[_++];if(h&&"class"===j&&-1!==bt(re.toLowerCase(),u,0))return!0}else{if(1===j){for(;_<l.length&&"string"==typeof(j=l[_++]);)if(j.toLowerCase()===u)return!0;return!1}"number"==typeof j&&(x=!1)}}return!1}function Fn(l){return 4===l.type&&l.value!==Qt}function Zt(l,u,h){return u===(4!==l.type||h?l.value:Qt)}function Yt(l,u,h){let _=4;const x=l.attrs||[],j=function Et(l){for(let u=0;u<l.length;u++)if(tn(l[u]))return u;return l.length}(x);let re=!1;for(let Se=0;Se<u.length;Se++){const Ge=u[Se];if("number"!=typeof Ge){if(!re)if(4&_){if(_=2|1&_,""!==Ge&&!Zt(l,Ge,h)||""===Ge&&1===u.length){if(on(_))return!1;re=!0}}else{const pt=8&_?Ge:u[++Se];if(8&_&&null!==l.attrs){if(!In(l.attrs,pt,h)){if(on(_))return!1;re=!0}continue}const Wt=Tn(8&_?"class":Ge,x,Fn(l),h);if(-1===Wt){if(on(_))return!1;re=!0;continue}if(""!==pt){let vn;vn=Wt>j?"":x[Wt+1].toLowerCase();const An=8&_?vn:null;if(An&&-1!==bt(An,pt,0)||2&_&&pt!==vn){if(on(_))return!1;re=!0}}}}else{if(!re&&!on(_)&&!on(Ge))return!1;if(re&&on(Ge))continue;re=!1,_=Ge|1&_}}return on(_)||re}function on(l){return 0==(1&l)}function Tn(l,u,h,_){if(null===u)return-1;let x=0;if(_||!h){let j=!1;for(;x<u.length;){const re=u[x];if(re===l)return x;if(3===re||6===re)j=!0;else{if(1===re||2===re){let Se=u[++x];for(;"string"==typeof Se;)Se=u[++x];continue}if(4===re)break;if(0===re){x+=4;continue}}x+=j?1:2}return-1}return function fn(l,u){let h=l.indexOf(4);if(h>-1)for(h++;h<l.length;){const _=l[h];if("number"==typeof _)return-1;if(_===u)return h;h++}return-1}(u,l)}function Un(l,u,h=!1){for(let _=0;_<u.length;_++)if(Yt(l,u[_],h))return!0;return!1}function be(l,u){e:for(let h=0;h<u.length;h++){const _=u[h];if(l.length===_.length){for(let x=0;x<l.length;x++)if(l[x]!==_[x])continue e;return!0}}return!1}function yt(l,u){return l?":not("+u.trim()+")":u}function gt(l){let u=l[0],h=1,_=2,x="",j=!1;for(;h<l.length;){let re=l[h];if("string"==typeof re)if(2&_){const Se=l[++h];x+="["+re+(Se.length>0?'="'+Se+'"':"")+"]"}else 8&_?x+="."+re:4&_&&(x+=" "+re);else""!==x&&!on(re)&&(u+=yt(j,x),x=""),_=re,j=j||!on(_);h++}return""!==x&&(u+=yt(j,x)),u}function ti(l){return $t(()=>{const u=Xo(l),h={...u,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===Lt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&l.dependencies||null,getStandaloneInjector:null,signals:l.signals??!1,data:l.data||{},encapsulation:l.encapsulation||Jt.Emulated,styles:l.styles||mn,_:null,schemas:l.schemas||null,tView:null,id:""};Ao(h);const _=l.dependencies;return h.directiveDefs=Hr(_,!1),h.pipeDefs=Hr(_,!0),h.id=function Ro(l){let u=0;const h=[l.selectors,l.ngContentSelectors,l.hostVars,l.hostAttrs,l.consts,l.vars,l.decls,l.encapsulation,l.standalone,l.signals,l.exportAs,JSON.stringify(l.inputs),JSON.stringify(l.outputs),Object.getOwnPropertyNames(l.type.prototype),!!l.contentQueries,!!l.viewQuery].join("|");for(const x of h)u=Math.imul(31,u)+x.charCodeAt(0)<<0;return u+=2147483648,"c"+u}(h),h})}function Li(l){return xi(l)||Dr(l)}function pr(l){return null!==l}function vr(l){return $t(()=>({type:l.type,bootstrap:l.bootstrap||mn,declarations:l.declarations||mn,imports:l.imports||mn,exports:l.exports||mn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Hi(l,u){if(null==l)return cn;const h={};for(const _ in l)if(l.hasOwnProperty(_)){let x=l[_],j=x;Array.isArray(x)&&(j=x[1],x=x[0]),h[x]=_,u&&(u[x]=j)}return h}function Wr(l){return $t(()=>{const u=Xo(l);return Ao(u),u})}function Bo(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function xi(l){return l[xn]||null}function Dr(l){return l[Ln]||null}function qi(l){return l[Yn]||null}function Yr(l){const u=xi(l)||Dr(l)||qi(l);return null!==u&&u.standalone}function Ji(l,u){const h=l[Vn]||null;if(!h&&!0===u)throw new Error(`Type ${v(l)} does not have '\u0275mod' property.`);return h}function Xo(l){const u={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:u,inputTransforms:null,inputConfig:l.inputs||cn,exportAs:l.exportAs||null,standalone:!0===l.standalone,signals:!0===l.signals,selectors:l.selectors||mn,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hi(l.inputs,u),outputs:Hi(l.outputs)}}function Ao(l){l.features?.forEach(u=>u(l))}function Hr(l,u){if(!l)return null;const h=u?qi:Li;return()=>("function"==typeof l?l():l).map(_=>h(_)).filter(pr)}const On=0,oi=1,ki=2,wi=3,zi=4,ro=5,xr=6,Rr=7,qt=8,Pn=9,Xn=10,Kn=11,vi=12,Oi=13,Ui=14,Ri=15,yr=16,wr=17,oo=18,po=19,as=20,Nr=21,jr=22,Uo=23,gr=24,Pi=25,xo=1,vs=2,so=7,es=9,Mr=11;function nr(l){return Array.isArray(l)&&"object"==typeof l[xo]}function br(l){return Array.isArray(l)&&!0===l[xo]}function cr(l){return 0!=(4&l.flags)}function eo(l){return l.componentOffset>-1}function ts(l){return 1==(1&l.flags)}function dr(l){return!!l.template}function or(l){return 0!=(512&l[ki])}function nt(l,u){return l.hasOwnProperty(ci)?l[ci]:null}let Ai=at.WeakRef??class li{constructor(u){this.ref=u}deref(){return this.ref}},is=0,$r=null,Es=!1;function Sr(l){const u=$r;return $r=l,u}class Io{constructor(){this.id=is++,this.ref=function yo(l){return new Ai(l)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[u,h]of this.producers){const _=h.producerNode.deref();if(null!=_&&h.atTrackingVersion===this.trackingVersion){if(_.producerPollStatus(h.seenValueVersion))return!0}else this.producers.delete(u),_?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const u=Es;Es=!0;try{for(const[h,_]of this.consumers){const x=_.consumerNode.deref();null!=x&&x.trackingVersion===_.atTrackingVersion?x.onConsumerDependencyMayHaveChanged():(this.consumers.delete(h),x?.producers.delete(this.id))}}finally{Es=u}}producerAccessed(){if(Es)throw new Error("");if(null===$r)return;let u=$r.producers.get(this.id);void 0===u?(u={consumerNode:$r.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:$r.trackingVersion},$r.producers.set(this.id,u),this.consumers.set($r.id,u)):(u.seenValueVersion=this.valueVersion,u.atTrackingVersion=$r.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==$r?.consumerAllowSignalWrites}producerPollStatus(u){return this.valueVersion!==u||(this.onProducerUpdateValueVersion(),this.valueVersion!==u)}}let Xa=null;function Sc(l){const u=Sr(null);try{return l()}finally{Sr(u)}}const aa=()=>{};class la extends Io{constructor(u,h,_){super(),this.watch=u,this.schedule=h,this.dirty=!1,this.cleanupFn=aa,this.registerOnCleanup=x=>{this.cleanupFn=x},this.consumerAllowSignalWrites=_}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const u=Sr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=aa,this.watch(this.registerOnCleanup)}finally{Sr(u)}}cleanup(){this.cleanupFn()}}class Js{constructor(u,h,_){this.previousValue=u,this.currentValue=h,this.firstChange=_}isFirstChange(){return this.firstChange}}function Oa(){return Bs}function Bs(l){return l.type.prototype.ngOnChanges&&(l.setInput=va),Ra}function Ra(){const l=nl(this),u=l?.current;if(u){const h=l.previous;if(h===cn)l.previous=u;else for(let _ in u)h[_]=u[_];l.current=null,this.ngOnChanges(u)}}function va(l,u,h,_){const x=this.declaredInputs[h],j=nl(l)||function qr(l,u){return l[bo]=u}(l,{previous:cn,current:null}),re=j.current||(j.current={}),Se=j.previous,Ge=Se[x];re[x]=new Js(Ge&&Ge.currentValue,u,Se===cn),l[_]=u}Oa.ngInherit=!0;const bo="__ngSimpleChanges__";function nl(l){return l[bo]||null}const yi=function(l,u,h){},Rt="svg";function wn(l){for(;Array.isArray(l);)l=l[On];return l}function Ie(l,u){return wn(u[l])}function xt(l,u){return wn(u[l.index])}function Mt(l,u){return l.data[u]}function Xt(l,u){return l[u]}function Bt(l,u){const h=u[l];return nr(h)?h:h[On]}function ir(l,u){return null==u?null:l[u]}function sr(l){l[wr]=0}function Qi(l){1024&l[ki]||(l[ki]|=1024,Si(l,1))}function Ir(l){1024&l[ki]&&(l[ki]&=-1025,Si(l,-1))}function Si(l,u){let h=l[wi];if(null===h)return;h[ro]+=u;let _=h;for(h=h[wi];null!==h&&(1===u&&1===_[ro]||-1===u&&0===_[ro]);)h[ro]+=u,_=h,h=h[wi]}const Di={lFrame:Ll(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Rl(){return Di.bindingsEnabled}function Ds(){return null!==Di.skipHydrationRootTNode}function Zn(){return Di.lFrame.lView}function rr(){return Di.lFrame.tView}function ol(l){return Di.lFrame.contextLView=l,l[qt]}function Ms(l){return Di.lFrame.contextLView=null,l}function uo(){let l=Na();for(;null!==l&&64===l.type;)l=l.parent;return l}function Na(){return Di.lFrame.currentTNode}function sl(){const l=Di.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}function wo(l,u){const h=Di.lFrame;h.currentTNode=l,h.isParent=u}function La(){return Di.lFrame.isParent}function Fr(){Di.lFrame.isParent=!1}function Po(){const l=Di.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}function Vr(){return Di.lFrame.bindingIndex++}function ca(l){const u=Di.lFrame,h=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,h}function rc(l){Di.lFrame.inI18n=l}function Yo(l,u){const h=Di.lFrame;h.bindingIndex=h.bindingRootIndex=l,oc(u)}function oc(l){Di.lFrame.currentDirectiveIndex=l}function zo(l){const u=Di.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}function Fa(){return Di.lFrame.currentQueryIndex}function ba(l){Di.lFrame.currentQueryIndex=l}function Ac(l){const u=l[oi];return 2===u.type?u.declTNode:1===u.type?l[xr]:null}function Qr(l,u,h){if(h&ue.SkipSelf){let x=u,j=l;for(;!(x=x.parent,null!==x||h&ue.Host||(x=Ac(j),null===x||(j=j[Ui],10&x.type))););if(null===x)return!1;u=x,l=j}const _=Di.lFrame=ji();return _.currentTNode=u,_.lView=l,!0}function al(l){const u=ji(),h=l[oi];Di.lFrame=u,u.currentTNode=h.firstChild,u.lView=l,u.tView=h,u.contextLView=l,u.bindingIndex=h.bindingStartIndex,u.inI18n=!1}function ji(){const l=Di.lFrame,u=null===l?null:l.child;return null===u?Ll(l):u}function Ll(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function sc(){const l=Di.lFrame;return Di.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const fr=sc;function xc(){const l=sc();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Lo(){return Di.lFrame.selectedIndex}function da(l){Di.lFrame.selectedIndex=l}function Ee(){const l=Di.lFrame;return Mt(l.tView,l.selectedIndex)}function je(){Di.lFrame.currentNamespace=Rt}function Be(){!function _t(){Di.lFrame.currentNamespace=null}()}let Ut=!0;function Sn(){return Ut}function zn(l){Ut=l}function Ci(l,u){for(let h=u.directiveStart,_=u.directiveEnd;h<_;h++){const j=l.data[h].type.prototype,{ngAfterContentInit:re,ngAfterContentChecked:Se,ngAfterViewInit:Ge,ngAfterViewChecked:pt,ngOnDestroy:Nt}=j;re&&(l.contentHooks??=[]).push(-h,re),Se&&((l.contentHooks??=[]).push(h,Se),(l.contentCheckHooks??=[]).push(h,Se)),Ge&&(l.viewHooks??=[]).push(-h,Ge),pt&&((l.viewHooks??=[]).push(h,pt),(l.viewCheckHooks??=[]).push(h,pt)),null!=Nt&&(l.destroyHooks??=[]).push(h,Nt)}}function hr(l,u,h){xs(l,u,3,h)}function Oo(l,u,h,_){(3&l[ki])===h&&xs(l,u,h,_)}function Ea(l,u){let h=l[ki];(3&h)===u&&(h&=8191,h+=1,l[ki]=h)}function xs(l,u,h,_){const j=_??-1,re=u.length-1;let Se=0;for(let Ge=void 0!==_?65535&l[wr]:0;Ge<re;Ge++)if("number"==typeof u[Ge+1]){if(Se=u[Ge],null!=_&&Se>=_)break}else u[Ge]<0&&(l[wr]+=65536),(Se<j||-1==j)&&(ll(l,h,u,Ge),l[wr]=(4294901760&l[wr])+Ge+2),Ge++}function us(l,u){yi(4,l,u);const h=Sr(null);try{u.call(l)}finally{Sr(h),yi(5,l,u)}}function ll(l,u,h,_){const x=h[_]<0,j=h[_+1],Se=l[x?-h[_]:h[_]];x?l[ki]>>13<l[wr]>>16&&(3&l[ki])===u&&(l[ki]+=8192,us(Se,j)):us(Se,j)}const fs=-1;class Ba{constructor(u,h,_){this.factory=u,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=_}}function Fl(l){return l!==fs}function hs(l){return 32767&l}function lc(l,u){let h=function id(l){return l>>16}(l),_=u;for(;h>0;)_=_[Ui],h--;return _}let Ta=!0;function Bl(l){const u=Ta;return Ta=l,u}const Gs=255,cl=5;let Vf=0;const Is={};function Ul(l,u){const h=rd(l,u);if(-1!==h)return h;const _=u[oi];_.firstCreatePass&&(l.injectorIndex=u.length,Gl(_.data,l),Gl(u,null),Gl(_.blueprint,null));const x=tr(l,u),j=l.injectorIndex;if(Fl(x)){const re=hs(x),Se=lc(x,u),Ge=Se[oi].data;for(let pt=0;pt<8;pt++)u[j+pt]=Se[re+pt]|Ge[re+pt]}return u[j+8]=x,j}function Gl(l,u){l.push(0,0,0,0,0,0,0,0,u)}function rd(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function tr(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let h=0,_=null,x=u;for(;null!==x;){if(_=ad(x),null===_)return fs;if(h++,x=x[Ui],-1!==_.injectorIndex)return _.injectorIndex|h<<16}return fs}function Gi(l,u,h){!function Ru(l,u,h){let _;"string"==typeof h?_=h.charCodeAt(0)||0:h.hasOwnProperty(yn)&&(_=h[yn]),null==_&&(_=h[yn]=Vf++);const x=_&Gs;u.data[l+(x>>cl)]|=1<<x}(l,u,h)}function Ha(l,u,h){if(h&ue.Optional||void 0!==l)return l;Fe()}function od(l,u,h,_){if(h&ue.Optional&&void 0===_&&(_=null),!(h&(ue.Self|ue.Host))){const x=l[Pn],j=Ae(void 0);try{return x?x.get(u,_,h&ue.Optional):We(u,_,h&ue.Optional)}finally{Ae(j)}}return Ha(_,0,h)}function Pc(l,u,h,_=ue.Default,x){if(null!==l){if(2048&u[ki]&&!(_&ue.Self)){const re=function Lu(l,u,h,_,x){let j=l,re=u;for(;null!==j&&null!==re&&2048&re[ki]&&!(512&re[ki]);){const Se=Gd(j,re,h,_|ue.Self,Is);if(Se!==Is)return Se;let Ge=j.parent;if(!Ge){const pt=re[as];if(pt){const Nt=pt.get(h,Is,_);if(Nt!==Is)return Nt}Ge=ad(re),re=re[Ui]}j=Ge}return x}(l,u,h,_,Is);if(re!==Is)return re}const j=Gd(l,u,h,_,Is);if(j!==Is)return j}return od(u,h,_,x)}function Gd(l,u,h,_,x){const j=function Hd(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(yn)?l[yn]:void 0;return"number"==typeof u?u>=0?u&Gs:Rc:u}(h);if("function"==typeof j){if(!Qr(u,l,_))return _&ue.Host?Ha(x,0,_):od(u,h,_,x);try{const re=j(_);if(null!=re||_&ue.Optional)return re;Fe()}finally{fr()}}else if("number"==typeof j){let re=null,Se=rd(l,u),Ge=fs,pt=_&ue.Host?u[Ri][xr]:null;for((-1===Se||_&ue.SkipSelf)&&(Ge=-1===Se?tr(l,u):u[Se+8],Ge!==fs&&Oc(_,!1)?(re=u[oi],Se=hs(Ge),u=lc(Ge,u)):Se=-1);-1!==Se;){const Nt=u[oi];if(ws(j,Se,Nt.data)){const Wt=Hl(Se,u,h,re,_,pt);if(Wt!==Is)return Wt}Ge=u[Se+8],Ge!==fs&&Oc(_,u[oi].data[Se+8]===pt)&&ws(j,Se,u)?(re=Nt,Se=hs(Ge),u=lc(Ge,u)):Se=-1}}return x}function Hl(l,u,h,_,x,j){const re=u[oi],Se=re.data[l+8],Nt=dl(Se,re,h,null==_?eo(Se)&&Ta:_!=re&&0!=(3&Se.type),x&ue.Host&&j===Se);return null!==Nt?ul(u,re,Nt,Se):Is}function dl(l,u,h,_,x){const j=l.providerIndexes,re=u.data,Se=1048575&j,Ge=l.directiveStart,Nt=j>>20,vn=x?Se+Nt:l.directiveEnd;for(let An=_?Se:Se+Nt;An<vn;An++){const Wn=re[An];if(An<Ge&&h===Wn||An>=Ge&&Wn.type===h)return An}if(x){const An=re[Ge];if(An&&dr(An)&&An.type===h)return Ge}return null}function ul(l,u,h,_){let x=l[h];const j=u.data;if(function Zo(l){return l instanceof Ba}(x)){const re=x;re.resolving&&function W(l,u){const h=u?`. Dependency path: ${u.join(" > ")} > ${l}`:"";throw new T(-200,`Circular dependency in DI detected for ${l}${h}`)}(function B(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():C(l)}(j[h]));const Se=Bl(re.canSeeViewProviders);re.resolving=!0;const Ge=re.injectImpl?Ae(re.injectImpl):null;Qr(l,_,ue.Default);try{x=l[h]=re.factory(void 0,j,l,_),u.firstCreatePass&&h>=_.directiveStart&&function Ti(l,u,h){const{ngOnChanges:_,ngOnInit:x,ngDoCheck:j}=u.type.prototype;if(_){const re=Bs(u);(h.preOrderHooks??=[]).push(l,re),(h.preOrderCheckHooks??=[]).push(l,re)}x&&(h.preOrderHooks??=[]).push(0-l,x),j&&((h.preOrderHooks??=[]).push(l,j),(h.preOrderCheckHooks??=[]).push(l,j))}(h,j[h],u)}finally{null!==Ge&&Ae(Ge),Bl(Se),re.resolving=!1,fr()}}return x}function ws(l,u,h){return!!(h[u+(l>>cl)]&1<<l)}function Oc(l,u){return!(l&ue.Self||l&ue.Host&&u)}class ja{constructor(u,h){this._tNode=u,this._lView=h}get(u,h,_){return Pc(this._tNode,this._lView,u,Ye(_),h)}}function Rc(){return new ja(uo(),Zn())}function jl(l){return $t(()=>{const u=l.prototype.constructor,h=u[ci]||sd(u),_=Object.prototype;let x=Object.getPrototypeOf(l.prototype).constructor;for(;x&&x!==_;){const j=x[ci]||sd(x);if(j&&j!==h)return j;x=Object.getPrototypeOf(x)}return j=>new j})}function sd(l){return k(l)?()=>{const u=sd(H(l));return u&&u()}:nt(l)}function ad(l){const u=l[oi],h=u.type;return 2===h?u.declTNode:1===h?l[xr]:null}function cc(l){return function Nu(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const h=l.attrs;if(h){const _=h.length;let x=0;for(;x<_;){const j=h[x];if(tn(j))break;if(0===j)x+=2;else if("number"==typeof j)for(x++;x<_&&"string"==typeof h[x];)x++;else{if(j===u)return h[x+1];x+=2}}}return null}(uo(),l)}const Va="__parameters__";function Da(l,u,h){return $t(()=>{const _=function Ca(l){return function(...h){if(l){const _=l(...h);for(const x in _)this[x]=_[x]}}}(u);function x(...j){if(this instanceof x)return _.apply(this,j),this;const re=new x(...j);return Se.annotation=re,Se;function Se(Ge,pt,Nt){const Wt=Ge.hasOwnProperty(Va)?Ge[Va]:Object.defineProperty(Ge,Va,{value:[]})[Va];for(;Wt.length<=Nt;)Wt.push(null);return(Wt[Nt]=Wt[Nt]||[]).push(re),Ge}}return h&&(x.prototype=Object.create(h.prototype)),x.prototype.ngMetadataName=l,x.annotationCls=x,x})}function Vs(l,u){l.forEach(h=>Array.isArray(h)?Vs(h,u):u(h))}function ku(l,u,h){u>=l.length?l.push(h):l.splice(u,0,h)}function ml(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function Ka(l,u){const h=[];for(let _=0;_<l;_++)h.push(u);return h}function Ke(l,u,h){let _=Vt(l,u);return _>=0?l[1|_]=h:(_=~_,function Wf(l,u,h,_){let x=l.length;if(x==u)l.push(h,_);else if(1===x)l.push(_,l[0]),l[0]=h;else{for(x--,l.push(l[x-1],l[x]);x>u;)l[x]=l[x-2],x--;l[u]=h,l[u+1]=_}}(l,_,u,h)),_}function Tt(l,u){const h=Vt(l,u);if(h>=0)return l[1|h]}function Vt(l,u){return function Mn(l,u,h){let _=0,x=l.length>>h;for(;x!==_;){const j=_+(x-_>>1),re=l[j<<h];if(u===re)return j<<h;re>u?x=j:_=j+1}return~(x<<h)}(l,u,1)}const Aa=lt(Da("Optional"),8),no=lt(Da("SkipSelf"),4);function ju(l){return 128==(128&l.flags)}var Xf=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}(Xf||{});const oE=/^>|^->|<!--|-->|--!>|<!-$/g,eh=/(<|>)/,sE="\u200b$1\u200b";const Ym=new Map;let aE=0;const gs="__ngContext__";function Co(l,u){nr(u)?(l[gs]=u[po],function b_(l){Ym.set(l[po],l)}(u)):l[gs]=u}let Ku;function zm(l,u){return Ku(l,u)}function Yu(l){const u=l[wi];return br(u)?u[wi]:u}function x_(l){return rh(l[vi])}function zu(l){return rh(l[zi])}function rh(l){for(;null!==l&&!br(l);)l=l[zi];return l}function Vc(l,u,h,_,x){if(null!=_){let j,re=!1;br(_)?j=_:nr(_)&&(re=!0,_=_[On]);const Se=wn(_);0===l&&null!==h?null==x?ch(u,h,Se):gd(u,h,Se,x||null,!0):1===l&&null!==h?gd(u,h,Se,x||null,!0):2===l?function Ju(l,u,h){const _=Yd(l,u);_&&function R_(l,u,h,_){l.removeChild(u,h,_)}(l,_,u,h)}(u,Se,re):3===l&&u.destroyNode(Se),null!=j&&function _E(l,u,h,_,x){const j=h[so];j!==wn(h)&&Vc(u,l,_,j,x);for(let Se=Mr;Se<h.length;Se++){const Ge=h[Se];zd(Ge[oi],Ge,l,u,_,j)}}(u,l,j,h,x)}}function Xs(l,u){return l.createText(u)}function oh(l,u){return l.createComment(function v_(l){return l.replace(oE,u=>u.replace(eh,sE))}(u))}function Zu(l,u,h){return l.createElement(u,h)}function sh(l,u){const h=l[es],_=h.indexOf(u);Ir(u),h.splice(_,1)}function ah(l,u){if(l.length<=Mr)return;const h=Mr+u,_=l[h];if(_){const x=_[yr];null!==x&&x!==l&&sh(x,_),u>0&&(l[h-1][zi]=_[zi]);const j=ml(l,Mr+u);!function w_(l,u){zd(l,u,u[Kn],2,null,null),u[On]=null,u[xr]=null}(_[oi],_);const re=j[oo];null!==re&&re.detachView(j[oi]),_[wi]=null,_[zi]=null,_[ki]&=-129}return _}function O_(l,u){if(!(256&u[ki])){const h=u[Kn];u[Uo]?.destroy(),u[gr]?.destroy(),h.destroyNode&&zd(l,u,h,3,null,null),function hE(l){let u=l[vi];if(!u)return $u(l[oi],l);for(;u;){let h=null;if(nr(u))h=u[vi];else{const _=u[Mr];_&&(h=_)}if(!h){for(;u&&!u[zi]&&u!==l;)nr(u)&&$u(u[oi],u),u=u[wi];null===u&&(u=l),nr(u)&&$u(u[oi],u),h=u&&u[zi]}u=h}}(u)}}function $u(l,u){if(!(256&u[ki])){u[ki]&=-129,u[ki]|=256,function mE(l,u){let h;if(null!=l&&null!=(h=l.destroyHooks))for(let _=0;_<h.length;_+=2){const x=u[h[_]];if(!(x instanceof Ba)){const j=h[_+1];if(Array.isArray(j))for(let re=0;re<j.length;re+=2){const Se=x[j[re]],Ge=j[re+1];yi(4,Se,Ge);try{Ge.call(Se)}finally{yi(5,Se,Ge)}}else{yi(4,x,j);try{j.call(x)}finally{yi(5,x,j)}}}}}(l,u),function lh(l,u){const h=l.cleanup,_=u[Rr];if(null!==h)for(let j=0;j<h.length-1;j+=2)if("string"==typeof h[j]){const re=h[j+3];re>=0?_[re]():_[-re].unsubscribe(),j+=2}else h[j].call(_[h[j+1]]);null!==_&&(u[Rr]=null);const x=u[Nr];if(null!==x){u[Nr]=null;for(let j=0;j<x.length;j++)(0,x[j])()}}(l,u),1===u[oi].type&&u[Kn].destroy();const h=u[yr];if(null!==h&&br(u[wi])){h!==u[wi]&&sh(h,u);const _=u[oo];null!==_&&_.detachView(l)}!function E_(l){Ym.delete(l[po])}(u)}}function Zm(l,u,h){return $m(l,u.parent,h)}function $m(l,u,h){let _=u;for(;null!==_&&40&_.type;)_=(u=_).parent;if(null===_)return h[On];{const{componentOffset:x}=_;if(x>-1){const{encapsulation:j}=l.data[_.directiveStart+x];if(j===Jt.None||j===Jt.Emulated)return null}return xt(_,h)}}function gd(l,u,h,_,x){l.insertBefore(u,h,_,x)}function ch(l,u,h){l.appendChild(u,h)}function dh(l,u,h,_,x){null!==_?gd(l,u,h,_,x):ch(l,u,h)}function Yd(l,u){return l.parentNode(u)}function N_(l,u,h){return k_(l,u,h)}function L_(l,u,h){return 40&l.type?xt(l,h):null}let qm,Qu,tp,mh,k_=L_;function _d(l,u){k_=l,qm=u}function uh(l,u,h,_){const x=Zm(l,_,u),j=u[Kn],Se=N_(_.parent||u[xr],_,u);if(null!=x)if(Array.isArray(h))for(let Ge=0;Ge<h.length;Ge++)dh(j,x,h[Ge],Se,!1);else dh(j,x,h,Se,!1);void 0!==qm&&qm(j,_,u,h,x)}function qu(l,u){if(null!==u){const h=u.type;if(3&h)return xt(u,l);if(4&h)return Qm(-1,l[u.index]);if(8&h){const _=u.child;if(null!==_)return qu(l,_);{const x=l[u.index];return br(x)?Qm(-1,x):wn(x)}}if(32&h)return zm(u,l)()||wn(l[u.index]);{const _=Jm(l,u);return null!==_?Array.isArray(_)?_[0]:qu(Yu(l[Ri]),_):qu(l,u.next)}}return null}function Jm(l,u){return null!==u?l[Ri][xr].projection[u.projection]:null}function Qm(l,u){const h=Mr+l+1;if(h<u.length){const _=u[h],x=_[oi].firstChild;if(null!==x)return qu(_,x)}return u[so]}function Xm(l,u,h,_,x,j,re){for(;null!=h;){const Se=_[h.index],Ge=h.type;if(re&&0===u&&(Se&&Co(wn(Se),_),h.flags|=2),32!=(32&h.flags))if(8&Ge)Xm(l,u,h.child,_,x,j,!1),Vc(u,l,x,Se,j);else if(32&Ge){const pt=zm(h,_);let Nt;for(;Nt=pt();)Vc(u,l,x,Nt,j);Vc(u,l,x,Se,j)}else 16&Ge?ep(l,u,_,h,x,j):Vc(u,l,x,Se,j);h=re?h.projectionNext:h.next}}function zd(l,u,h,_,x,j){Xm(h,_,l.firstChild,u,x,j,!1)}function ep(l,u,h,_,x,j){const re=h[Ri],Ge=re[xr].projection[_.projection];if(Array.isArray(Ge))for(let pt=0;pt<Ge.length;pt++)Vc(u,l,x,Ge[pt],j);else{let pt=Ge;const Nt=re[wi];ju(_)&&(pt.flags|=128),Xm(l,u,pt,Nt,x,j,!0)}}function fh(l,u,h){""===h?l.removeAttribute(u,"class"):l.setAttribute(u,"class",h)}function B_(l,u,h){const{mergedAttrs:_,classes:x,styles:j}=h;null!==_&&ut(l,u,_),null!==x&&fh(l,u,x),null!==j&&function yE(l,u,h){l.setAttribute(u,"style",h)}(l,u,j)}function Zd(l){return function hh(){if(void 0===Qu&&(Qu=null,at.trustedTypes))try{Qu=at.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Qu}()?.createHTML(l)||l}function bE(l){tp=l}function Xu(){if(void 0!==tp)return tp;if(typeof document<"u")return document;throw new T(210,!1)}function np(){if(void 0===mh&&(mh=null,at.trustedTypes))try{mh=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return mh}function H_(l){return np()?.createHTML(l)||l}function ip(l){return np()?.createScriptURL(l)||l}class vd{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${P})`}}class EE extends vd{getTypeName(){return"HTML"}}class rp extends vd{getTypeName(){return"Style"}}class j_ extends vd{getTypeName(){return"Script"}}class V_ extends vd{getTypeName(){return"URL"}}class $d extends vd{getTypeName(){return"ResourceURL"}}function zl(l){return l instanceof vd?l.changingThisBreaksApplicationSecurity:l}function yd(l,u){const h=function ph(l){return l instanceof vd&&l.getTypeName()||null}(l);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see ${P})`)}return h===u}function op(l){return new EE(l)}function TE(l){return new rp(l)}function K_(l){return new j_(l)}function SE(l){return new V_(l)}function W_(l){return new $d(l)}function gh(l){const u=new CE(l);return function Y_(){try{return!!(new window.DOMParser).parseFromString(Zd(""),"text/html")}catch{return!1}}()?new _h(u):u}class _h{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(Zd(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.removeChild(h.firstChild),h)}catch{return null}}}class CE{constructor(u){this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(u){const h=this.inertDocument.createElement("template");return h.innerHTML=Zd(u),h}}const DE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vh(l){return(l=String(l)).match(DE)?l:"unsafe:"+l}function pl(l){const u={};for(const h of l.split(","))u[h]=!0;return u}function ef(...l){const u={};for(const h of l)for(const _ in h)h.hasOwnProperty(_)&&(u[_]=!0);return u}const yh=pl("area,br,col,hr,img,wbr"),bh=pl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),z_=pl("rp,rt"),Eh=ef(yh,ef(bh,pl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ef(z_,pl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ef(z_,bh)),sp=pl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Th=ef(sp,pl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$_=pl("script,style,template");class q_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let h=u.firstChild,_=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?_=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,_&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let x=this.checkClobberedElement(h,h.nextSibling);if(x){h=x;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(u){const h=u.nodeName.toLowerCase();if(!Eh.hasOwnProperty(h))return this.sanitizedSomething=!0,!$_.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const _=u.attributes;for(let x=0;x<_.length;x++){const j=_.item(x),re=j.name,Se=re.toLowerCase();if(!Th.hasOwnProperty(Se)){this.sanitizedSomething=!0;continue}let Ge=j.value;sp[Se]&&(Ge=vh(Ge)),this.buf.push(" ",re,'="',lp(Ge),'"')}return this.buf.push(">"),!0}endElement(u){const h=u.nodeName.toLowerCase();Eh.hasOwnProperty(h)&&!yh.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(lp(u))}checkClobberedElement(u,h){if(h&&(u.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return h}}const xE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ap=/([^\#-~ |!])/g;function lp(l){return l.replace(/&/g,"&amp;").replace(xE,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(ap,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qd;function J_(l,u){let h=null;try{qd=qd||gh(l);let _=u?String(u):"";h=qd.getInertBodyElement(_);let x=5,j=_;do{if(0===x)throw new Error("Failed to sanitize html because the input is unstable");x--,_=j,j=h.innerHTML,h=qd.getInertBodyElement(_)}while(_!==j);return Zd((new q_).sanitizeChildren(cp(h)||h))}finally{if(h){const _=cp(h)||h;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function cp(l){return"content"in l&&function IE(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var bd=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}(bd||{});function Q_(l){const u=nf();return u?H_(u.sanitize(bd.HTML,l)||""):yd(l,"HTML")?H_(zl(l)):J_(Xu(),C(l))}function tf(l){const u=nf();return u?u.sanitize(bd.URL,l)||"":yd(l,"URL")?zl(l):vh(C(l))}function ev(l){const u=nf();if(u)return ip(u.sanitize(bd.RESOURCE_URL,l)||"");if(yd(l,"ResourceURL"))return ip(zl(l));throw new T(904,!1)}function ea(l,u,h){return function PE(l,u){return"src"===u&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===u&&("base"===l||"link"===l)?ev:tf}(u,h)(l)}function nf(){const l=Zn();return l&&l[Xn].sanitizer}class Br{constructor(u,h){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=Ne({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jd=new Br("ENVIRONMENT_INITIALIZER"),dp=new Br("INJECTOR",-1),tv=new Br("INJECTOR_DEF_TYPES");class up{get(u,h=Ht){if(h===Ht){const _=new Error(`NullInjectorError: No provider for ${v(u)}!`);throw _.name="NullInjectorError",_}return h}}function fp(l){return{\u0275providers:l}}function OE(...l){return{\u0275providers:hp(0,l),\u0275fromNgModule:!0}}function hp(l,...u){const h=[],_=new Set;let x;return Vs(u,j=>{const re=j;mp(re,h,[],_)&&(x||=[],x.push(re))}),void 0!==x&&nv(x,h),h}function nv(l,u){for(let h=0;h<l.length;h++){const{providers:x}=l[h];pp(x,j=>{u.push(j)})}}function mp(l,u,h,_){if(!(l=H(l)))return!1;let x=null,j=Z(l);const re=!j&&xi(l);if(j||re){if(re&&!re.standalone)return!1;x=l}else{const Ge=l.ngModule;if(j=Z(Ge),!j)return!1;x=Ge}const Se=_.has(x);if(re){if(Se)return!1;if(_.add(x),re.dependencies){const Ge="function"==typeof re.dependencies?re.dependencies():re.dependencies;for(const pt of Ge)mp(pt,u,h,_)}}else{if(!j)return!1;{if(null!=j.imports&&!Se){let pt;_.add(x);try{Vs(j.imports,Nt=>{mp(Nt,u,h,_)&&(pt||=[],pt.push(Nt))})}finally{}void 0!==pt&&nv(pt,u)}if(!Se){const pt=nt(x)||(()=>new x);u.push({provide:x,useFactory:pt,deps:mn},{provide:tv,useValue:x,multi:!0},{provide:Jd,useValue:()=>Qe(x),multi:!0})}const Ge=j.providers;null==Ge||Se||pp(Ge,Nt=>{u.push(Nt)})}}return x!==l&&void 0!==l.providers}function pp(l,u){for(let h of l)O(h)&&(h=h.\u0275providers),Array.isArray(h)?pp(h,u):u(h)}const RE=f({provide:String,useValue:f});function gp(l){return null!==l&&"object"==typeof l&&RE in l}function Td(l){return"function"==typeof l}const _p=new Br("Set Injector scope."),Qd={},LE={};let gc;function ar(){return void 0===gc&&(gc=new up),gc}class Sd{}class ov extends Sd{get destroyed(){return this._destroyed}constructor(u,h,_,x){super(),this.parent=h,this.source=_,this.scopes=x,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vp(u,re=>this.processProvider(re)),this.records.set(dp,Xd(void 0,this)),x.has("environment")&&this.records.set(Sd,Xd(void 0,this));const j=this.records.get(_p);null!=j&&"string"==typeof j.value&&this.scopes.add(j.value),this.injectorDefTypes=new Set(this.get(tv.multi,mn,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const h of this._ngOnDestroyHooks)h.ngOnDestroy();const u=this._onDestroyHooks;this._onDestroyHooks=[];for(const h of u)h()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(u){return this.assertNotDestroyed(),this._onDestroyHooks.push(u),()=>this.removeOnDestroy(u)}runInContext(u){this.assertNotDestroyed();const h=Dt(this),_=Ae(void 0);try{return u()}finally{Dt(h),Ae(_)}}get(u,h=Ht,_=ue.Default){if(this.assertNotDestroyed(),u.hasOwnProperty(_n))return u[_n](this);_=Ye(_);const x=Dt(this),j=Ae(void 0);try{if(!(_&ue.SkipSelf)){let Se=this.records.get(u);if(void 0===Se){const Ge=function UE(l){return"function"==typeof l||"object"==typeof l&&l instanceof Br}(u)&&se(u);Se=Ge&&this.injectableDefInScope(Ge)?Xd(sv(u),Qd):null,this.records.set(u,Se)}if(null!=Se)return this.hydrate(u,Se)}return(_&ue.Self?ar():this.parent).get(u,h=_&ue.Optional&&h===Ht?null:h)}catch(re){if("NullInjectorError"===re.name){if((re[jt]=re[jt]||[]).unshift(v(u)),x)throw re;return function dt(l,u,h,_){const x=l[jt];throw u[Kt]&&x.unshift(u[Kt]),l.message=function Ft(l,u,h,_=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let x=v(u);if(Array.isArray(u))x=u.map(v).join(" -> ");else if("object"==typeof u){let j=[];for(let re in u)if(u.hasOwnProperty(re)){let Se=u[re];j.push(re+":"+("string"==typeof Se?JSON.stringify(Se):v(Se)))}x=`{${j.join(", ")}}`}return`${h}${_?"("+_+")":""}[${x}]: ${l.replace(dn,"\n  ")}`}("\n"+l.message,x,h,_),l.ngTokenPath=x,l[jt]=null,l}(re,u,"R3InjectorError",this.source)}throw re}finally{Ae(j),Dt(x)}}resolveInjectorInitializers(){const u=Dt(this),h=Ae(void 0);try{const _=this.get(Jd.multi,mn,ue.Self);for(const x of _)x()}finally{Dt(u),Ae(h)}}toString(){const u=[],h=this.records;for(const _ of h.keys())u.push(v(_));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(u){let h=Td(u=H(u))?u:H(u&&u.provide);const _=function FE(l){return gp(l)?Xd(void 0,l.useValue):Xd(av(l),Qd)}(u);if(Td(u)||!0!==u.multi)this.records.get(h);else{let x=this.records.get(h);x||(x=Xd(void 0,Qd,!0),x.factory=()=>$e(x.multi),this.records.set(h,x)),h=u,x.multi.push(u)}this.records.set(h,_)}hydrate(u,h){return h.value===Qd&&(h.value=LE,h.value=h.factory()),"object"==typeof h.value&&h.value&&function BE(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(u){if(!u.providedIn)return!1;const h=H(u.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}removeOnDestroy(u){const h=this._onDestroyHooks.indexOf(u);-1!==h&&this._onDestroyHooks.splice(h,1)}}function sv(l){const u=se(l),h=null!==u?u.factory:nt(l);if(null!==h)return h;if(l instanceof Br)throw new T(204,!1);if(l instanceof Function)return function kE(l){const u=l.length;if(u>0)throw Ka(u,"?"),new T(204,!1);const h=function Q(l){return l&&(l[te]||l[ee])||null}(l);return null!==h?()=>h.factory(l):()=>new l}(l);throw new T(204,!1)}function av(l,u,h){let _;if(Td(l)){const x=H(l);return nt(x)||sv(x)}if(gp(l))_=()=>H(l.useValue);else if(function rv(l){return!(!l||!l.useFactory)}(l))_=()=>l.useFactory(...$e(l.deps||[]));else if(function iv(l){return!(!l||!l.useExisting)}(l))_=()=>Qe(H(l.useExisting));else{const x=H(l&&(l.useClass||l.provide));if(!function lv(l){return!!l.deps}(l))return nt(x)||sv(x);_=()=>new x(...$e(l.deps))}return _}function Xd(l,u,h=!1){return{factory:l,value:u,multi:h?[]:void 0}}function vp(l,u){for(const h of l)Array.isArray(h)?vp(h,u):h&&O(h)?vp(h.\u0275providers,u):u(h)}const cv=new Br("AppId",{providedIn:"root",factory:()=>GE}),GE="ng",dv=new Br("Platform Initializer"),yp=new Br("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HE=new Br("AnimationModuleType"),jE=new Br("CSP nonce",{providedIn:"root",factory:()=>Xu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ap=(l,u)=>null;function ta(l,u){return Ap(l,u)}class qE{}class pv{}class QE{resolveComponentFactory(u){throw function JE(l){const u=Error(`No component factory found for ${v(l)}.`);return u.ngComponent=l,u}(u)}}let sf=(()=>{class l{static#e=this.NULL=new QE}return l})();function XE(){return Zl(uo(),Zn())}function Zl(l,u){return new af(xt(l,u))}let af=(()=>{class l{constructor(h){this.nativeElement=h}static#e=this.__NG_ELEMENT_ID__=XE}return l})();function eT(l){return l instanceof af?l.nativeElement:l}class _v{}let tT=(()=>{class l{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Vi(){const l=Zn(),h=Bt(uo().index,l);return(nr(h)?h:l)[Kn]}()}return l})(),DA=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:()=>null})}return l})();class vv{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const yv=new vv("16.1.7"),xh={};function Do(l){for(;l;){l[ki]|=64;const u=Yu(l);if(or(l)&&!u)return l;l=u}return null}function Pp(l){return l.ngOriginalError}class nu{constructor(){this._console=console}handleError(u){const h=this._findOriginalError(u);this._console.error("ERROR",u),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(u){let h=u&&Pp(u);for(;h&&Pp(h);)h=Pp(h);return h||null}}const Ih=new Br("",{providedIn:"root",factory:()=>!1});function Ev(l){return l.ownerDocument.defaultView}function _c(l){return l instanceof Function?l():l}class gl extends Io{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(u){this._lView=u}onConsumerDependencyMayHaveChanged(){Do(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(u,h,_){const x=Sr(this);this.trackingVersion++;try{u(h,_)}finally{Sr(x)}}destroy(){this.trackingVersion++}}let wh=null;function Ph(){return wh??=new gl,wh}function Dv(l,u){return l[u]??Ph()}function Rp(l,u){const h=Ph();h.hasReadASignal&&(l[u]=wh,h.lView=l,wh=new gl)}const Fi={};function Np(l){ru(rr(),Zn(),Lo()+l,!1)}function ru(l,u,h,_){if(!_)if(3==(3&u[ki])){const j=l.preOrderCheckHooks;null!==j&&hr(u,j,h)}else{const j=l.preOrderHooks;null!==j&&Oo(u,j,0,h)}da(h)}function za(l,u=null,h=null,_){const x=kp(l,u,h,_);return x.resolveInjectorInitializers(),x}function kp(l,u=null,h=null,_,x=new Set){const j=[h||mn,OE(l)];return _=_||("object"==typeof l?void 0:v(l)),new ov(j,u||ar(),_||null,x)}let Wc=(()=>{class l{static#e=this.THROW_IF_NOT_FOUND=Ht;static#t=this.NULL=new up;static create(h,_){if(Array.isArray(h))return za({name:""},_,h,"");{const x=h.name??"";return za({name:x},h.parent,h.providers,x)}}static#n=this.\u0275prov=Ne({token:l,providedIn:"any",factory:()=>Qe(dp)});static#i=this.__NG_ELEMENT_ID__=-1}return l})();function Cd(l,u=ue.Default){const h=Zn();return null===h?Qe(l,u):Pc(uo(),h,H(l),u)}function Rh(){throw new Error("invalid")}function Nh(l,u,h,_,x,j,re,Se,Ge,pt,Nt){const Wt=u.blueprint.slice();return Wt[On]=x,Wt[ki]=140|_,(null!==pt||l&&2048&l[ki])&&(Wt[ki]|=2048),sr(Wt),Wt[wi]=Wt[Ui]=l,Wt[qt]=h,Wt[Xn]=re||l&&l[Xn],Wt[Kn]=Se||l&&l[Kn],Wt[Pn]=Ge||l&&l[Pn]||null,Wt[xr]=j,Wt[po]=function y_(){return aE++}(),Wt[jr]=Nt,Wt[as]=pt,Wt[Ri]=2==u.type?l[Ri]:Wt,Wt}function su(l,u,h,_,x){let j=l.data[u];if(null===j)j=Fp(l,u,h,_,x),function So(){return Di.lFrame.inI18n}()&&(j.flags|=32);else if(64&j.type){j.type=h,j.value=_,j.attrs=x;const re=sl();j.injectorIndex=null===re?-1:re.injectorIndex}return wo(j,!0),j}function Fp(l,u,h,_,x){const j=Na(),re=La(),Ge=l.data[u]=function Hp(l,u,h,_,x,j){let re=u?u.injectorIndex:-1,Se=0;return Ds()&&(Se|=128),{type:h,index:_,insertBeforeIndex:null,injectorIndex:re,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Se,providerIndexes:0,value:x,attrs:j,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,re?j:j&&j.parent,h,u,_,x);return null===l.firstChild&&(l.firstChild=Ge),null!==j&&(re?null==j.child&&null!==Ge.parent&&(j.child=Ge):null===j.next&&(j.next=Ge,Ge.prev=j)),Ge}function au(l,u,h,_){if(0===h)return-1;const x=u.length;for(let j=0;j<h;j++)u.push(_),l.blueprint.push(_),l.data.push(null);return x}function wv(l,u,h,_,x){const j=Dv(u,Uo),re=Lo(),Se=2&_;try{if(da(-1),Se&&u.length>Pi&&ru(l,u,Pi,!1),yi(Se?2:0,x),Se)j.runInContext(h,_,x);else{const pt=Sr(null);try{h(_,x)}finally{Sr(pt)}}}finally{Se&&null===u[Uo]&&Rp(u,Uo),da(re),yi(Se?3:1,x)}}function Bp(l,u,h){if(cr(u)){const _=Sr(null);try{const j=u.directiveEnd;for(let re=u.directiveStart;re<j;re++){const Se=l.data[re];Se.contentQueries&&Se.contentQueries(1,h[re],re)}}finally{Sr(_)}}}function Up(l,u,h){Rl()&&(function pT(l,u,h,_){const x=h.directiveStart,j=h.directiveEnd;eo(h)&&function Za(l,u,h){const _=xt(u,l),x=Pv(h);let re=16;h.signals?re=4096:h.onPush&&(re=64);const Se=vc(l,Nh(l,x,null,re,_,u,null,l[Xn].rendererFactory.createRenderer(_,h),null,null,null));l[u.index]=Se}(u,h,l.data[x+h.componentOffset]),l.firstCreatePass||Ul(h,u),Co(_,u);const re=h.initialInputs;for(let Se=x;Se<j;Se++){const Ge=l.data[Se],pt=ul(u,l,Se,h);Co(pt,u),null!==re&&Ad(0,Se-x,pt,Ge,0,re),dr(Ge)&&(Bt(h.index,u)[qt]=ul(u,l,Se,h))}}(l,u,h,xt(h,u)),64==(64&h.flags)&&Nv(l,u,h))}function Gp(l,u,h=xt){const _=u.localNames;if(null!==_){let x=u.index+1;for(let j=0;j<_.length;j+=2){const re=_[j+1],Se=-1===re?h(u,l):l[re];l[x++]=Se}}}function Pv(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=lu(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts,l.id):u}function lu(l,u,h,_,x,j,re,Se,Ge,pt,Nt){const Wt=Pi+_,vn=Wt+x,An=function ql(l,u){const h=[];for(let _=0;_<u;_++)h.push(_<l?null:Fi);return h}(Wt,vn),Wn="function"==typeof pt?pt():pt;return An[oi]={type:l,blueprint:An,template:h,queries:null,viewQuery:Se,declTNode:u,data:An.slice().fill(null,Wt),bindingStartIndex:Wt,expandoStartIndex:vn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof j?j():j,pipeRegistry:"function"==typeof re?re():re,firstChild:null,schemas:Ge,consts:Wn,incompleteFirstPass:!1,ssrId:Nt}}let fa=l=>null;function cu(l,u,h,_){for(let x in l)if(l.hasOwnProperty(x)){h=null===h?{}:h;const j=l[x];null===_?Dd(h,u,x,j):_.hasOwnProperty(x)&&Dd(h,u,_[x],j)}return h}function Dd(l,u,h,_){l.hasOwnProperty(h)?l[h].push(u,_):l[h]=[u,_]}function ha(l,u,h,_,x,j,re,Se){const Ge=xt(u,h);let Nt,pt=u.inputs;!Se&&null!=pt&&(Nt=pt[_])?(uu(l,h,Nt,_,x),eo(u)&&function df(l,u){const h=Bt(u,l);16&h[ki]||(h[ki]|=64)}(h,u.index)):3&u.type&&(_=function dT(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(_),x=null!=re?re(x,u.value||"",_):x,j.setProperty(Ge,_,x))}function Lh(l,u,h,_){if(Rl()){const x=null===_?null:{"":-1},j=function _T(l,u){const h=l.directiveRegistry;let _=null,x=null;if(h)for(let j=0;j<h.length;j++){const re=h[j];if(Un(u,re.selectors,!1))if(_||(_=[]),dr(re))if(null!==re.findHostDirectiveDefs){const Se=[];x=x||new Map,re.findHostDirectiveDefs(re,Se,x),_.unshift(...Se,re),jp(l,u,Se.length)}else _.unshift(re),jp(l,u,0);else x=x||new Map,re.findHostDirectiveDefs?.(re,_,x),_.push(re)}return null===_?null:[_,x]}(l,h);let re,Se;null===j?re=Se=null:[re,Se]=j,null!==re&&Rv(l,u,h,re,x,Se),x&&function vT(l,u,h){if(u){const _=l.localNames=[];for(let x=0;x<u.length;x+=2){const j=h[u[x+1]];if(null==j)throw new T(-301,!1);_.push(u[x],j)}}}(h,_,x)}h.mergedAttrs=Xe(h.mergedAttrs,h.attrs)}function Rv(l,u,h,_,x,j){for(let pt=0;pt<_.length;pt++)Gi(Ul(h,u),l,_[pt].type);!function Ia(l,u,h){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+h,l.providerIndexes=u}(h,l.data.length,_.length);for(let pt=0;pt<_.length;pt++){const Nt=_[pt];Nt.providersResolver&&Nt.providersResolver(Nt)}let re=!1,Se=!1,Ge=au(l,u,_.length,null);for(let pt=0;pt<_.length;pt++){const Nt=_[pt];h.mergedAttrs=Xe(h.mergedAttrs,Nt.hostAttrs),Md(l,h,u,Ge,Nt),yT(Ge,Nt,x),null!==Nt.contentQueries&&(h.flags|=4),(null!==Nt.hostBindings||null!==Nt.hostAttrs||0!==Nt.hostVars)&&(h.flags|=64);const Wt=Nt.type.prototype;!re&&(Wt.ngOnChanges||Wt.ngOnInit||Wt.ngDoCheck)&&((l.preOrderHooks??=[]).push(h.index),re=!0),!Se&&(Wt.ngOnChanges||Wt.ngDoCheck)&&((l.preOrderCheckHooks??=[]).push(h.index),Se=!0),Ge++}!function cf(l,u,h){const x=u.directiveEnd,j=l.data,re=u.attrs,Se=[];let Ge=null,pt=null;for(let Nt=u.directiveStart;Nt<x;Nt++){const Wt=j[Nt],vn=h?h.get(Wt):null,Wn=vn?vn.outputs:null;Ge=cu(Wt.inputs,Nt,Ge,vn?vn.inputs:null),pt=cu(Wt.outputs,Nt,pt,Wn);const ni=null===Ge||null===re||Fn(u)?null:du(Ge,Nt,re);Se.push(ni)}null!==Ge&&(Ge.hasOwnProperty("class")&&(u.flags|=8),Ge.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=Se,u.inputs=Ge,u.outputs=pt}(l,h,j)}function Nv(l,u,h){const _=h.directiveStart,x=h.directiveEnd,j=h.index,re=function ya(){return Di.lFrame.currentDirectiveIndex}();try{da(j);for(let Se=_;Se<x;Se++){const Ge=l.data[Se],pt=u[Se];oc(Se),(null!==Ge.hostBindings||0!==Ge.hostVars||null!==Ge.hostAttrs)&&gT(Ge,pt)}}finally{da(-1),oc(re)}}function gT(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function jp(l,u,h){u.componentOffset=h,(l.components??=[]).push(u.index)}function yT(l,u,h){if(h){if(u.exportAs)for(let _=0;_<u.exportAs.length;_++)h[u.exportAs[_]]=l;dr(u)&&(h[""]=l)}}function Md(l,u,h,_,x){l.data[_]=x;const j=x.factory||(x.factory=nt(x.type)),re=new Ba(j,dr(x),Cd);l.blueprint[_]=re,h[_]=re,function hT(l,u,h,_,x){const j=x.hostBindings;if(j){let re=l.hostBindingOpCodes;null===re&&(re=l.hostBindingOpCodes=[]);const Se=~u.index;(function mT(l){let u=l.length;for(;u>0;){const h=l[--u];if("number"==typeof h&&h<0)return h}return 0})(re)!=Se&&re.push(Se),re.push(h,_,j)}}(l,u,_,au(l,h,x.hostVars,Fi),x)}function $a(l,u,h,_,x,j){const re=xt(l,u);!function Jl(l,u,h,_,x,j,re){if(null==j)l.removeAttribute(u,x,h);else{const Se=null==re?C(j):re(j,_||"",x);l.setAttribute(u,x,Se,h)}}(u[Kn],re,j,l.value,h,_,x)}function Ad(l,u,h,_,x,j){const re=j[u];if(null!==re)for(let Se=0;Se<re.length;)uf(_,h,re[Se++],re[Se++],re[Se++])}function uf(l,u,h,_,x){const j=Sr(null);try{const re=l.inputTransforms;null!==re&&re.hasOwnProperty(_)&&(x=re[_].call(u,x)),null!==l.setInput?l.setInput(u,x,h,_):u[_]=x}finally{Sr(j)}}function du(l,u,h){let _=null,x=0;for(;x<h.length;){const j=h[x];if(0!==j)if(5!==j){if("number"==typeof j)break;if(l.hasOwnProperty(j)){null===_&&(_=[]);const re=l[j];for(let Se=0;Se<re.length;Se+=2)if(re[Se]===u){_.push(j,re[Se+1],h[x+1]);break}}x+=2}else x+=2;else x+=4}return _}function kh(l,u,h,_){return[l,!0,!1,u,null,0,_,h,null,null,null]}function Vp(l,u){const h=l.contentQueries;if(null!==h)for(let _=0;_<h.length;_+=2){const j=h[_+1];if(-1!==j){const re=l.data[j];ba(h[_]),re.contentQueries(2,u[j],j)}}}function vc(l,u){return l[vi]?l[Oi][zi]=u:l[vi]=u,l[Oi]=u,u}function ff(l,u,h){ba(0);const _=Sr(null);try{u(l,h)}finally{Sr(_)}}function kv(l){return l[Rr]||(l[Rr]=[])}function Ql(l){return l.cleanup||(l.cleanup=[])}function Fv(l,u,h){return(null===l||dr(l))&&(h=function Eo(l){for(;Array.isArray(l);){if("object"==typeof l[xo])return l;l=l[On]}return null}(h[u.index])),h[Kn]}function yl(l,u){const h=l[Pn],_=h?h.get(nu,null):null;_&&_.handleError(u)}function uu(l,u,h,_,x){for(let j=0;j<h.length;){const re=h[j++],Se=h[j++];uf(l.data[re],u[re],_,Se,x)}}function bl(l,u,h){const _=Ie(u,l);!function I_(l,u,h){l.setValue(u,h)}(l[Kn],_,h)}function Bv(l,u){const h=Bt(u,l),_=h[oi];!function hf(l,u){for(let h=u.length;h<l.blueprint.length;h++)u.push(l.blueprint[h])}(_,h);const x=h[On];null!==x&&null===h[jr]&&(h[jr]=ta(x,h[Pn])),Kp(_,h,h[qt])}function Kp(l,u,h){al(u);try{const _=l.viewQuery;null!==_&&ff(1,_,h);const x=l.template;null!==x&&wv(l,u,x,1,h),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Vp(l,u),l.staticViewQueries&&ff(2,l.viewQuery,h);const j=l.components;null!==j&&function Uv(l,u){for(let h=0;h<u.length;h++)Bv(l,u[h])}(u,j)}catch(_){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),_}finally{u[ki]&=-5,xc()}}let Fh=(()=>{class l{constructor(){this.all=new Set,this.queue=new Map}create(h,_,x){const j=typeof Zone>"u"?null:Zone.current,re=new la(h,pt=>{this.all.has(pt)&&this.queue.set(pt,j)},x);let Se;this.all.add(re),re.notify();const Ge=()=>{re.cleanup(),Se?.(),this.all.delete(re),this.queue.delete(re)};return Se=_?.onDestroy(Ge),{destroy:Ge}}flush(){if(0!==this.queue.size)for(const[h,_]of this.queue)this.queue.delete(h),_?_.run(()=>h.run()):h.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:()=>new l})}return l})();function pf(l,u,h){let _=h?l.styles:null,x=h?l.classes:null,j=0;if(null!==u)for(let re=0;re<u.length;re++){const Se=u[re];"number"==typeof Se?j=Se:1==j?x=A(x,Se):2==j&&(_=A(_,Se+": "+u[++re]+";"))}h?l.styles=_:l.stylesWithoutHost=_,h?l.classes=x:l.classesWithoutHost=x}function gf(l,u,h,_,x=!1){for(;null!==h;){const j=u[h.index];if(null!==j&&_.push(wn(j)),br(j)){for(let Se=Mr;Se<j.length;Se++){const Ge=j[Se],pt=Ge[oi].firstChild;null!==pt&&gf(Ge[oi],Ge,pt,_)}j[so]!==j[On]&&_.push(j[so])}const re=h.type;if(8&re)gf(l,u,h.child,_);else if(32&re){const Se=zm(h,u);let Ge;for(;Ge=Se();)_.push(Ge)}else if(16&re){const Se=Jm(u,h);if(Array.isArray(Se))_.push(...Se);else{const Ge=Yu(u[Ri]);gf(Ge[oi],Ge,Se,_,!0)}}h=x?h.projectionNext:h.next}return _}function Bh(l,u,h,_=!0){const x=u[Xn].rendererFactory;x.begin&&x.begin();try{Yp(l,u,l.template,h)}catch(re){throw _&&yl(u,re),re}finally{x.end&&x.end(),u[Xn].effectManager?.flush()}}function Yp(l,u,h,_){const x=u[ki];if(256!=(256&x)){u[Xn].effectManager?.flush(),al(u);try{sr(u),function Nl(l){return Di.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==h&&wv(l,u,h,2,_);const re=3==(3&x);if(re){const pt=l.preOrderCheckHooks;null!==pt&&hr(u,pt,null)}else{const pt=l.preOrderHooks;null!==pt&&Oo(u,pt,0,null),Ea(u,0)}if(function Gv(l){for(let u=x_(l);null!==u;u=zu(u)){if(!u[vs])continue;const h=u[es];for(let _=0;_<h.length;_++){Qi(h[_])}}}(u),zp(u,2),null!==l.contentQueries&&Vp(l,u),re){const pt=l.contentCheckHooks;null!==pt&&hr(u,pt)}else{const pt=l.contentHooks;null!==pt&&Oo(u,pt,1),Ea(u,1)}!function lT(l,u){const h=l.hostBindingOpCodes;if(null===h)return;const _=Dv(u,gr);try{for(let x=0;x<h.length;x++){const j=h[x];if(j<0)da(~j);else{const re=j,Se=h[++x],Ge=h[++x];Yo(Se,re),_.runInContext(Ge,2,u[re])}}}finally{null===u[gr]&&Rp(u,gr),da(-1)}}(l,u);const Se=l.components;null!==Se&&jv(u,Se,0);const Ge=l.viewQuery;if(null!==Ge&&ff(2,Ge,_),re){const pt=l.viewCheckHooks;null!==pt&&hr(u,pt)}else{const pt=l.viewHooks;null!==pt&&Oo(u,pt,2),Ea(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),u[ki]&=-73,Ir(u)}finally{xc()}}}function zp(l,u){for(let h=x_(l);null!==h;h=zu(h))for(let _=Mr;_<h.length;_++)Uh(h[_],u)}function Hv(l,u,h){Uh(Bt(u,l),h)}function Uh(l,u){if(!function bi(l){return 128==(128&l[ki])}(l))return;const h=l[oi];if(80&l[ki]&&0===u||1024&l[ki]||2===u)Yp(h,l,h.template,l[qt]);else if(l[ro]>0){zp(l,1);const x=l[oi].components;null!==x&&jv(l,x,1)}}function jv(l,u,h){for(let _=0;_<u.length;_++)Hv(l,u[_],h)}class vf{get rootNodes(){const u=this._lView,h=u[oi];return gf(h,u,h.firstChild,[])}constructor(u,h){this._lView=u,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(u){this._lView[qt]=u}get destroyed(){return 256==(256&this._lView[ki])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[wi];if(br(u)){const h=u[8],_=h?h.indexOf(this):-1;_>-1&&(ah(u,_),ml(h,_))}this._attachedToViewContainer=!1}O_(this._lView[oi],this._lView)}onDestroy(u){!function Cr(l,u){if(256==(256&l[ki]))throw new T(911,!1);null===l[Nr]&&(l[Nr]=[]),l[Nr].push(u)}(this._lView,u)}markForCheck(){Do(this._cdRefInjectingView||this._lView)}detach(){this._lView[ki]&=-129}reattach(){this._lView[ki]|=128}detectChanges(){Bh(this._lView[oi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fE(l,u){zd(l,u,u[Kn],2,null,null)}(this._lView[oi],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=u}}class ST extends vf{constructor(u){super(u),this._view=u}detectChanges(){const u=this._view;Bh(u[oi],u,u[qt],!1)}checkNoChanges(){}get context(){return null}}class Vv extends sf{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=xi(u);return new xd(h,this.ngModule)}}function Kv(l){const u=[];for(let h in l)l.hasOwnProperty(h)&&u.push({propName:l[h],templateName:h});return u}class CT{constructor(u,h){this.injector=u,this.parentInjector=h}get(u,h,_){_=Ye(_);const x=this.injector.get(u,xh,_);return x!==xh||h===xh?x:this.parentInjector.get(u,h,_)}}class xd extends pv{get inputs(){const u=this.componentDef,h=u.inputTransforms,_=Kv(u.inputs);if(null!==h)for(const x of _)h.hasOwnProperty(x.propName)&&(x.transform=h[x.propName]);return _}get outputs(){return Kv(this.componentDef.outputs)}constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function kt(l){return l.map(gt).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!h}create(u,h,_,x){let j=(x=x||this.ngModule)instanceof Sd?x:x?.injector;j&&null!==this.componentDef.getStandaloneInjector&&(j=this.componentDef.getStandaloneInjector(j)||j);const re=j?new CT(u,j):u,Se=re.get(_v,null);if(null===Se)throw new T(407,!1);const Nt={rendererFactory:Se,sanitizer:re.get(DA,null),effectManager:re.get(Fh,null)},Wt=Se.createRenderer(null,this.componentDef),vn=this.componentDef.selectors[0][0]||"div",An=_?function cT(l,u,h,_){const j=_.get(Ih,!1)||h===Jt.ShadowDom,re=l.selectRootElement(u,j);return function Ov(l){fa(l)}(re),re}(Wt,_,this.componentDef.encapsulation,re):Zu(Wt,vn,function yf(l){const u=l.toLowerCase();return"svg"===u?Rt:"math"===u?"math":null}(vn)),gi=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Ii=lu(0,null,null,1,0,null,null,null,null,null,null),Jn=Nh(null,Ii,null,gi,null,null,Nt,Wt,re,null,null);let Xi,mr;al(Jn);try{const Ar=this.componentDef;let zs,Lm=null;Ar.findHostDirectiveDefs?(zs=[],Lm=new Map,Ar.findHostDirectiveDefs(Ar,zs,Lm),zs.push(Ar)):zs=[Ar];const Nb=function MT(l,u){const h=l[oi],_=Pi;return l[_]=u,su(h,_,2,"#host",null)}(Jn,An),a_=function AT(l,u,h,_,x,j,re){const Se=x[oi];!function xT(l,u,h,_){for(const x of l)u.mergedAttrs=Xe(u.mergedAttrs,x.hostAttrs);null!==u.mergedAttrs&&(pf(u,u.mergedAttrs,!0),null!==h&&B_(_,h,u))}(_,l,u,re);let Ge=null;null!==u&&(Ge=ta(u,x[Pn]));const pt=j.rendererFactory.createRenderer(u,h);let Nt=16;h.signals?Nt=4096:h.onPush&&(Nt=64);const Wt=Nh(x,Pv(h),null,Nt,x[l.index],l,j,pt,null,null,Ge);return Se.firstCreatePass&&jp(Se,l,_.length-1),vc(x,Wt),x[l.index]=Wt}(Nb,An,Ar,zs,Jn,Nt,Wt);mr=Mt(Ii,Pi),An&&function wT(l,u,h,_){if(_)ut(l,h,["ng-version",yv.full]);else{const{attrs:x,classes:j}=function an(l){const u=[],h=[];let _=1,x=2;for(;_<l.length;){let j=l[_];if("string"==typeof j)2===x?""!==j&&u.push(j,l[++_]):8===x&&h.push(j);else{if(!on(x))break;x=j}_++}return{attrs:u,classes:h}}(u.selectors[0]);x&&ut(l,h,x),j&&j.length>0&&fh(l,h,j.join(" "))}}(Wt,Ar,An,_),void 0!==h&&function PT(l,u,h){const _=l.projection=[];for(let x=0;x<u.length;x++){const j=h[x];_.push(null!=j?Array.from(j):null)}}(mr,this.ngContentSelectors,h),Xi=function IT(l,u,h,_,x,j){const re=uo(),Se=x[oi],Ge=xt(re,x);Rv(Se,x,re,h,null,_);for(let Nt=0;Nt<h.length;Nt++)Co(ul(x,Se,re.directiveStart+Nt,re),x);Nv(Se,x,re),Ge&&Co(Ge,x);const pt=ul(x,Se,re.directiveStart+re.componentOffset,re);if(l[qt]=x[qt]=pt,null!==j)for(const Nt of j)Nt(pt,u);return Bp(Se,re,l),pt}(a_,Ar,zs,Lm,Jn,[OT]),Kp(Ii,Jn,null)}finally{xc()}return new DT(this.componentType,Xi,Zl(mr,Jn),Jn,mr)}}class DT extends qE{constructor(u,h,_,x,j){super(),this.location=_,this._rootLView=x,this._tNode=j,this.previousInputValues=null,this.instance=h,this.hostView=this.changeDetectorRef=new ST(x),this.componentType=u}setInput(u,h){const _=this._tNode.inputs;let x;if(null!==_&&(x=_[u])){if(this.previousInputValues??=new Map,this.previousInputValues.has(u)&&Object.is(this.previousInputValues.get(u),h))return;const j=this._rootLView;uu(j[oi],j,x,u,h),this.previousInputValues.set(u,h),Do(Bt(this._tNode.index,j))}}get injector(){return new ja(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function OT(){const l=uo();Ci(Zn()[oi],l)}function Zp(l){let u=function Wv(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),h=!0;const _=[l];for(;u;){let x;if(dr(l))x=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new T(903,!1);x=u.\u0275dir}if(x){if(h){_.push(x);const re=l;re.inputs=Gh(l.inputs),re.inputTransforms=Gh(l.inputTransforms),re.declaredInputs=Gh(l.declaredInputs),re.outputs=Gh(l.outputs);const Se=x.hostBindings;Se&&zv(l,Se);const Ge=x.viewQuery,pt=x.contentQueries;if(Ge&&NT(l,Ge),pt&&Yv(l,pt),g(l.inputs,x.inputs),g(l.declaredInputs,x.declaredInputs),g(l.outputs,x.outputs),null!==x.inputTransforms&&(null===re.inputTransforms&&(re.inputTransforms={}),g(re.inputTransforms,x.inputTransforms)),dr(x)&&x.data.animation){const Nt=l.data;Nt.animation=(Nt.animation||[]).concat(x.data.animation)}}const j=x.features;if(j)for(let re=0;re<j.length;re++){const Se=j[re];Se&&Se.ngInherit&&Se(l),Se===Zp&&(h=!1)}}u=Object.getPrototypeOf(u)}!function RT(l){let u=0,h=null;for(let _=l.length-1;_>=0;_--){const x=l[_];x.hostVars=u+=x.hostVars,x.hostAttrs=Xe(x.hostAttrs,h=Xe(h,x.hostAttrs))}}(_)}function Gh(l){return l===cn?{}:l===mn?[]:l}function NT(l,u){const h=l.viewQuery;l.viewQuery=h?(_,x)=>{u(_,x),h(_,x)}:u}function Yv(l,u){const h=l.contentQueries;l.contentQueries=h?(_,x,j)=>{u(_,x,j),h(_,x,j)}:u}function zv(l,u){const h=l.hostBindings;l.hostBindings=h?(_,x)=>{u(_,x),h(_,x)}:u}function Zv(l){return u=>{u.findHostDirectiveDefs=$v,u.hostDirectives=(Array.isArray(l)?l:l()).map(h=>"function"==typeof h?{directive:H(h),inputs:cn,outputs:cn}:{directive:H(h.directive),inputs:qv(h.inputs),outputs:qv(h.outputs)})}}function $v(l,u,h){if(null!==l.hostDirectives)for(const _ of l.hostDirectives){const x=Dr(_.directive);kT(x.declaredInputs,_.inputs),$v(x,u,h),h.set(x,_),u.push(x)}}function qv(l){if(void 0===l||0===l.length)return cn;const u={};for(let h=0;h<l.length;h+=2)u[l[h]]=l[h+1];return u}function kT(l,u){for(const h in u)u.hasOwnProperty(h)&&(l[u[h]]=l[h])}function $p(l){const u=l.inputConfig,h={};for(const _ in u)if(u.hasOwnProperty(_)){const x=u[_];Array.isArray(x)&&x[2]&&(h[_]=x[2])}l.inputTransforms=h}function jh(l){return!!Qv(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function Qv(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Xl(l,u,h){return l[u]=h}function Ks(l,u,h){return!Object.is(l[u],h)&&(l[u]=h,!0)}function Id(l,u,h,_){const x=Ks(l,u,h);return Ks(l,u+1,_)||x}function qp(l,u,h,_){const x=Zn();return Ks(x,Vr(),u)&&(rr(),$a(Ee(),x,l,u,h,_)),qp}function hu(l,u,h,_){return Ks(l,Vr(),h)?u+C(h)+_:Fi}function mu(l,u,h,_,x,j){const Se=Id(l,function As(){return Di.lFrame.bindingIndex}(),h,x);return ca(2),Se?u+C(h)+_+C(x)+j:Fi}function u0(l,u,h,_,x,j,re,Se){const Ge=Zn(),pt=rr(),Nt=l+Pi,Wt=pt.firstCreatePass?function iS(l,u,h,_,x,j,re,Se,Ge){const pt=u.consts,Nt=su(u,l,4,re||null,ir(pt,Se));Lh(u,h,Nt,ir(pt,Ge)),Ci(u,Nt);const Wt=Nt.tView=lu(2,Nt,_,x,j,u.directiveRegistry,u.pipeRegistry,null,u.schemas,pt,null);return null!==u.queries&&(u.queries.template(u,Nt),Wt.queries=u.queries.embeddedTView(Nt)),Nt}(Nt,pt,Ge,u,h,_,x,j,re):pt.data[Nt];wo(Wt,!1);const vn=f0(pt,Ge,Wt,l);Sn()&&uh(pt,Ge,vn,Wt),Co(vn,Ge),vc(Ge,Ge[Nt]=kh(vn,Ge,vn,Wt)),ts(Wt)&&Up(pt,Ge,Wt),null!=re&&Gp(Ge,Wt,Se)}let f0=function h0(l,u,h,_){return zn(!0),u[Kn].createComment("")};function zh(l){return Xt(function ka(){return Di.lFrame.contextLView}(),Pi+l)}function ng(l,u,h){const _=Zn();return Ks(_,Vr(),u)&&ha(rr(),Ee(),_,l,u,_[Kn],h,!1),ng}function ig(l,u,h,_,x){const re=x?"class":"style";uu(l,h,u.inputs[re],re,_)}function Zh(l,u,h,_){const x=Zn(),j=rr(),re=Pi+l,Se=x[Kn],Ge=j.firstCreatePass?function aS(l,u,h,_,x,j){const re=u.consts,Ge=su(u,l,2,_,ir(re,x));return Lh(u,h,Ge,ir(re,j)),null!==Ge.attrs&&pf(Ge,Ge.attrs,!1),null!==Ge.mergedAttrs&&pf(Ge,Ge.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,Ge),Ge}(re,j,x,u,h,_):j.data[re],pt=m0(j,x,Ge,Se,u,l);x[re]=pt;const Nt=ts(Ge);return wo(Ge,!0),B_(Se,pt,Ge),32!=(32&Ge.flags)&&Sn()&&uh(j,x,pt,Ge),0===function Jr(){return Di.lFrame.elementDepthCount}()&&Co(pt,x),function Ss(){Di.lFrame.elementDepthCount++}(),Nt&&(Up(j,x,Ge),Bp(j,Ge,x)),null!==_&&Gp(x,Ge),Zh}function $h(){let l=uo();La()?Fr():(l=l.parent,wo(l,!1));const u=l;(function kr(l){return Di.skipHydrationRootTNode===l})(u)&&function nc(){Di.skipHydrationRootTNode=null}(),function Cs(){Di.lFrame.elementDepthCount--}();const h=rr();return h.firstCreatePass&&(Ci(h,l),cr(l)&&h.queries.elementEnd(l)),null!=u.classesWithoutHost&&function wc(l){return 0!=(8&l.flags)}(u)&&ig(h,u,Zn(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function ac(l){return 0!=(16&l.flags)}(u)&&ig(h,u,Zn(),u.stylesWithoutHost,!1),$h}function rg(l,u,h,_){return Zh(l,u,h,_),$h(),rg}let m0=(l,u,h,_,x,j)=>(zn(!0),Zu(_,x,function Gt(){return Di.lFrame.currentNamespace}()));function qh(l,u,h){const _=Zn(),x=rr(),j=l+Pi,re=x.firstCreatePass?function dS(l,u,h,_,x){const j=u.consts,re=ir(j,_),Se=su(u,l,8,"ng-container",re);return null!==re&&pf(Se,re,!0),Lh(u,h,Se,ir(j,x)),null!==u.queries&&u.queries.elementStart(u,Se),Se}(j,x,_,u,h):x.data[j];wo(re,!0);const Se=uS(x,_,re,l);return _[j]=Se,Sn()&&uh(x,_,Se,re),Co(Se,_),ts(re)&&(Up(x,_,re),Bp(x,re,_)),null!=h&&Gp(_,re),qh}function Jh(){let l=uo();const u=rr();return La()?Fr():(l=l.parent,wo(l,!1)),u.firstCreatePass&&(Ci(u,l),cr(l)&&u.queries.elementEnd(l)),Jh}function p0(l,u,h){return qh(l,u,h),Jh(),p0}let uS=(l,u,h,_)=>(zn(!0),oh(u[Kn],""));function hS(){return Zn()}function g0(l){return!!l&&"function"==typeof l.then}function mS(l){return!!l&&"function"==typeof l.subscribe}function _0(l,u,h,_){const x=Zn(),j=rr(),re=uo();return y0(j,x,x[Kn],re,l,u,_),_0}function v0(l,u){const h=uo(),_=Zn(),x=rr();return y0(x,_,Fv(zo(x.data),h,_),h,l,u),v0}function y0(l,u,h,_,x,j,re){const Se=ts(_),pt=l.firstCreatePass&&Ql(l),Nt=u[qt],Wt=kv(u);let vn=!0;if(3&_.type||re){const ni=xt(_,u),gi=re?re(ni):ni,Ii=Wt.length,Jn=re?mr=>re(wn(mr[_.index])):_.index;let Xi=null;if(!re&&Se&&(Xi=function jA(l,u,h,_){const x=l.cleanup;if(null!=x)for(let j=0;j<x.length-1;j+=2){const re=x[j];if(re===h&&x[j+1]===_){const Se=u[Rr],Ge=x[j+2];return Se.length>Ge?Se[Ge]:null}"string"==typeof re&&(j+=2)}return null}(l,u,x,_.index)),null!==Xi)(Xi.__ngLastListenerFn__||Xi).__ngNextListenerFn__=j,Xi.__ngLastListenerFn__=j,vn=!1;else{j=pS(_,u,Nt,j,!1);const mr=h.listen(gi,x,j);Wt.push(j,mr),pt&&pt.push(x,Jn,Ii,Ii+1)}}else j=pS(_,u,Nt,j,!1);const An=_.outputs;let Wn;if(vn&&null!==An&&(Wn=An[x])){const ni=Wn.length;if(ni)for(let gi=0;gi<ni;gi+=2){const Ar=u[Wn[gi]][Wn[gi+1]].subscribe(j),zs=Wt.length;Wt.push(j,Ar),pt&&pt.push(x,_.index,zs,-(zs+1))}}}function b0(l,u,h,_){try{return yi(6,u,h),!1!==h(_)}catch(x){return yl(l,x),!1}finally{yi(7,u,h)}}function pS(l,u,h,_,x){return function j(re){if(re===Function)return _;Do(l.componentOffset>-1?Bt(l.index,u):u);let Ge=b0(u,h,_,re),pt=j.__ngNextListenerFn__;for(;pt;)Ge=b0(u,h,pt,re)&&Ge,pt=pt.__ngNextListenerFn__;return x&&!1===Ge&&re.preventDefault(),Ge}}function gS(l=1){return function Ic(l){return(Di.lFrame.contextLView=function Ud(l,u){for(;l>0;)u=u[Ui],l--;return u}(l,Di.lFrame.contextLView))[qt]}(l)}function _S(l,u){let h=null;const _=function ei(l){const u=l.attrs;if(null!=u){const h=u.indexOf(5);if(!(1&h))return u[h+1]}return null}(l);for(let x=0;x<u.length;x++){const j=u[x];if("*"!==j){if(null===_?Un(l,j,!0):be(_,j))return x}else h=x}return h}function E0(l){const u=Zn()[Ri][xr];if(!u.projection){const _=u.projection=Ka(l?l.length:1,null),x=_.slice();let j=u.child;for(;null!==j;){const re=l?_S(j,l):0;null!==re&&(x[re]?x[re].projectionNext=j:_[re]=j,x[re]=j),j=j.next}}}function vS(l,u=0,h){const _=Zn(),x=rr(),j=su(x,Pi+l,16,null,h||null);null===j.projection&&(j.projection=u),Fr(),(!_[jr]||Ds())&&32!=(32&j.flags)&&function gE(l,u,h){ep(u[Kn],0,u,h,Zm(l,h,u),N_(h.parent||u[xr],h,u))}(x,_,j)}function T0(l,u,h){return Qh(l,"",u,"",h),T0}function Qh(l,u,h,_,x){const j=Zn(),re=hu(j,u,h,_);return re!==Fi&&ha(rr(),Ee(),j,l,re,j[Kn],x,!1),Qh}function S0(l,u,h,_,x,j,re){const Se=Zn(),Ge=mu(Se,u,h,_,x,j);return Ge!==Fi&&ha(rr(),Ee(),Se,l,Ge,Se[Kn],re,!1),S0}function Os(l,u){return l<<17|u<<2}function wd(l){return l>>17&32767}function os(l){return 2|l}function $o(l){return(131068&l)>>2}function yc(l,u){return-131069&l|u<<2}function Xh(l){return 1|l}function I0(l,u,h,_,x){const j=l[h+1],re=null===u;let Se=_?wd(j):$o(j),Ge=!1;for(;0!==Se&&(!1===Ge||re);){const Nt=l[Se+1];VA(l[Se],u)&&(Ge=!0,l[Se+1]=_?Xh(Nt):os(Nt)),Se=_?wd(Nt):$o(Nt)}Ge&&(l[h+1]=_?os(j):Xh(j))}function VA(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&Vt(l,u)>=0}const ss={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function og(l){return l.substring(ss.key,ss.keyEnd)}function yu(l,u){const h=ss.textEnd;return h===u?-1:(u=ss.keyEnd=function em(l,u,h){for(;u<h&&l.charCodeAt(u)>32;)u++;return u}(l,ss.key=u,h),Yc(l,u,h))}function Yc(l,u,h){for(;u<h&&l.charCodeAt(u)<=32;)u++;return u}function Af(l,u,h){return Sl(l,u,h,!1),Af}function lg(l,u){return Sl(l,u,null,!0),lg}function N0(l){Cl(WA,Tl,l,!0)}function Tl(l,u){for(let h=function MS(l){return function w0(l){ss.key=0,ss.keyEnd=0,ss.value=0,ss.valueEnd=0,ss.textEnd=l.length}(l),yu(l,Yc(l,0,ss.textEnd))}(u);h>=0;h=yu(u,h))Ke(l,og(u),!0)}function Sl(l,u,h,_){const x=Zn(),j=rr(),re=ca(2);j.firstUpdatePass&&dg(j,l,re,_),u!==Fi&&Ks(x,re,u)&&fg(j,j.data[Lo()],x,x[Kn],l,x[re+1]=function tm(l,u){return null==l||""===l||("string"==typeof u?l+=u:"object"==typeof l&&(l=v(zl(l)))),l}(u,h),_,re)}function Cl(l,u,h,_){const x=rr(),j=ca(2);x.firstUpdatePass&&dg(x,null,j,_);const re=Zn();if(h!==Fi&&Ks(re,j,h)){const Se=x.data[Lo()];if(RS(Se,_)&&!cg(x,j)){let Ge=_?Se.classesWithoutHost:Se.stylesWithoutHost;null!==Ge&&(h=A(Ge,h||"")),ig(x,Se,re,h,_)}else!function OS(l,u,h,_,x,j,re,Se){x===Fi&&(x=mn);let Ge=0,pt=0,Nt=0<x.length?x[0]:null,Wt=0<j.length?j[0]:null;for(;null!==Nt||null!==Wt;){const vn=Ge<x.length?x[Ge+1]:void 0,An=pt<j.length?j[pt+1]:void 0;let ni,Wn=null;Nt===Wt?(Ge+=2,pt+=2,vn!==An&&(Wn=Wt,ni=An)):null===Wt||null!==Nt&&Nt<Wt?(Ge+=2,Wn=Nt):(pt+=2,Wn=Wt,ni=An),null!==Wn&&fg(l,u,h,_,Wn,ni,re,Se),Nt=Ge<x.length?x[Ge]:null,Wt=pt<j.length?j[pt]:null}}(x,Se,re,re[Kn],re[j+1],re[j+1]=function KA(l,u,h){if(null==h||""===h)return mn;const _=[],x=zl(h);if(Array.isArray(x))for(let j=0;j<x.length;j++)l(_,x[j],!0);else if("object"==typeof x)for(const j in x)x.hasOwnProperty(j)&&l(_,j,x[j]);else"string"==typeof x&&u(_,x);return _}(l,u,h),_,j)}}function cg(l,u){return u>=l.expandoStartIndex}function dg(l,u,h,_){const x=l.data;if(null===x[h+1]){const j=x[Lo()],re=cg(l,h);RS(j,_)&&null===u&&!re&&(u=!1),u=function IS(l,u,h,_){const x=zo(l);let j=_?u.residualClasses:u.residualStyles;if(null===x)0===(_?u.classBindings:u.styleBindings)&&(h=xf(h=L0(null,l,u,h,_),u.attrs,_),j=null);else{const re=u.directiveStylingLast;if(-1===re||l[re]!==x)if(h=L0(x,l,u,h,_),null===j){let Ge=function wS(l,u,h){const _=h?u.classBindings:u.styleBindings;if(0!==$o(_))return l[wd(_)]}(l,u,_);void 0!==Ge&&Array.isArray(Ge)&&(Ge=L0(null,l,u,Ge[1],_),Ge=xf(Ge,u.attrs,_),function Od(l,u,h,_){l[wd(h?u.classBindings:u.styleBindings)]=_}(l,u,_,Ge))}else j=function ug(l,u,h){let _;const x=u.directiveEnd;for(let j=1+u.directiveStylingLast;j<x;j++)_=xf(_,l[j].hostAttrs,h);return xf(_,u.attrs,h)}(l,u,_)}return void 0!==j&&(_?u.residualClasses=j:u.residualStyles=j),h}(x,j,u,_),function CS(l,u,h,_,x,j){let re=j?u.classBindings:u.styleBindings,Se=wd(re),Ge=$o(re);l[_]=h;let Nt,pt=!1;if(Array.isArray(h)?(Nt=h[1],(null===Nt||Vt(h,Nt)>0)&&(pt=!0)):Nt=h,x)if(0!==Ge){const vn=wd(l[Se+1]);l[_+1]=Os(vn,Se),0!==vn&&(l[vn+1]=yc(l[vn+1],_)),l[Se+1]=function Pd(l,u){return 131071&l|u<<17}(l[Se+1],_)}else l[_+1]=Os(Se,0),0!==Se&&(l[Se+1]=yc(l[Se+1],_)),Se=_;else l[_+1]=Os(Ge,0),0===Se?Se=_:l[Ge+1]=yc(l[Ge+1],_),Ge=_;pt&&(l[_+1]=os(l[_+1])),I0(l,Nt,_,!0),I0(l,Nt,_,!1),function vu(l,u,h,_,x){const j=x?l.residualClasses:l.residualStyles;null!=j&&"string"==typeof u&&Vt(j,u)>=0&&(h[_+1]=Xh(h[_+1]))}(u,Nt,l,_,j),re=Os(Se,Ge),j?u.classBindings=re:u.styleBindings=re}(x,j,u,h,re,_)}}function L0(l,u,h,_,x){let j=null;const re=h.directiveEnd;let Se=h.directiveStylingLast;for(-1===Se?Se=h.directiveStart:Se++;Se<re&&(j=u[Se],_=xf(_,j.hostAttrs,x),j!==l);)Se++;return null!==l&&(h.directiveStylingLast=Se),_}function xf(l,u,h){const _=h?1:2;let x=-1;if(null!==u)for(let j=0;j<u.length;j++){const re=u[j];"number"==typeof re?x=re:x===_&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Ke(l,re,!!h||u[++j]))}return void 0===l?null:l}function WA(l,u,h){const _=String(u);""!==_&&!_.includes(" ")&&Ke(l,_,h)}function fg(l,u,h,_,x,j,re,Se){if(!(3&u.type))return;const Ge=l.data,pt=Ge[Se+1],Nt=function x0(l){return 1==(1&l)}(pt)?hg(Ge,u,h,x,$o(pt),re):void 0;zc(Nt)||(zc(j)||function TS(l){return 2==(2&l)}(pt)&&(j=hg(Ge,null,h,x,Se,re)),function vE(l,u,h,_,x){if(u)x?l.addClass(h,_):l.removeClass(h,_);else{let j=-1===_.indexOf("-")?void 0:Xf.DashCase;null==x?l.removeStyle(h,_,j):("string"==typeof x&&x.endsWith("!important")&&(x=x.slice(0,-10),j|=Xf.Important),l.setStyle(h,_,x,j))}}(_,re,Ie(Lo(),h),x,j))}function hg(l,u,h,_,x,j){const re=null===u;let Se;for(;x>0;){const Ge=l[x],pt=Array.isArray(Ge),Nt=pt?Ge[1]:Ge,Wt=null===Nt;let vn=h[x+1];vn===Fi&&(vn=Wt?mn:void 0);let An=Wt?Tt(vn,_):Nt===_?vn:void 0;if(pt&&!zc(An)&&(An=Tt(Ge,_)),zc(An)&&(Se=An,re))return Se;const Wn=l[x+1];x=re?wd(Wn):$o(Wn)}if(null!==u){let Ge=j?u.residualClasses:u.residualStyles;null!=Ge&&(Se=Tt(Ge,_))}return Se}function zc(l){return void 0!==l}function RS(l,u){return 0!=(l.flags&(u?8:16))}function NS(l,u=""){const h=Zn(),_=rr(),x=l+Pi,j=_.firstCreatePass?su(_,x,1,u,null):_.data[x],re=LS(_,h,j,u,l);h[x]=re,Sn()&&uh(_,h,re,j),wo(j,!1)}let LS=(l,u,h,_,x)=>(zn(!0),Xs(u[Kn],_));function k0(l){return nm("",l,""),k0}function nm(l,u,h){const _=Zn(),x=hu(_,l,u,h);return x!==Fi&&bl(_,Lo(),x),nm}function mg(l,u,h,_,x){const j=Zn(),re=mu(j,l,u,h,_,x);return re!==Fi&&bl(j,Lo(),re),mg}function im(l,u,h){Cl(Ke,Tl,hu(Zn(),l,u,h),!0)}function cm(l,u,h){const _=Zn();return Ks(_,Vr(),u)&&ha(rr(),Ee(),_,l,u,_[Kn],h,!0),cm}function dm(l,u,h){const _=Zn();if(Ks(_,Vr(),u)){const j=rr(),re=Ee();ha(j,re,_,l,u,Fv(zo(j.data),re,_),h,!0)}return dm}const bc=void 0;var z0=["en",[["a","p"],["AM","PM"],bc],[["AM","PM"],bc,bc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bc,"{1} 'at' {0}",bc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function um(l){const h=Math.floor(Math.abs(l)),_=l.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===_?1:5}];let bu={};function fm(l){const u=function ZS(l){return l.toLowerCase().replace(/_/g,"-")}(l);let h=vg(u);if(h)return h;const _=u.split("-")[0];if(h=vg(_),h)return h;if("en"===_)return z0;throw new T(701,!1)}function _g(l){return fm(l)[Eu.PluralCase]}function vg(l){return l in bu||(bu[l]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[l]),bu[l]}var Eu=function(l){return l[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l}(Eu||{});const Tu="en-US",hm={marker:"element"},mm={marker:"ICU"};var pa=function(l){return l[l.SHIFT=2]="SHIFT",l[l.APPEND_EAGERLY=1]="APPEND_EAGERLY",l[l.COMMENT=2]="COMMENT",l}(pa||{});let yg=Tu;function bg(l){(function ke(l,u){null==l&&we(u,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&(yg=l.toLowerCase().replace(/_/g,"-"))}function Eg(l,u,h){const _=u.insertBeforeIndex,x=Array.isArray(_)?_[0]:_;return null===x?L_(l,0,h):wn(h[x])}function $0(l,u,h,_,x){const j=u.insertBeforeIndex;if(Array.isArray(j)){let re=_,Se=null;if(3&u.type||(Se=re,re=x),null!==re&&-1===u.componentOffset)for(let Ge=1;Ge<j.length;Ge++)gd(l,re,h[j[Ge]],Se,!1)}}function Tg(l,u){if(l.push(u),l.length>1)for(let h=l.length-2;h>=0;h--){const _=l[h];q0(_)||XS(_,u)&&null===qA(_)&&JA(_,u.index)}}function q0(l){return!(64&l.type)}function XS(l,u){return q0(u)||l.index>u.index}function qA(l){const u=l.insertBeforeIndex;return Array.isArray(u)?u[0]:u}function JA(l,u){const h=l.insertBeforeIndex;Array.isArray(h)?h[0]=u:(_d(Eg,$0),l.insertBeforeIndex=u)}function ex(l,u,h){const _=Fp(l,h,64,null,null);return Tg(u,_),_}function Dl(){const l=[];let h,_,u=-1;function j(Se,Ge){u=0;const pt=function Sg(l,u){const h=u[l.currentCaseLViewIndex];return null===h?h:h<0?~h:h}(Se,Ge);_=null!==pt?Se.remove[pt]:mn}function re(){if(u<_.length){const Se=_[u++];return Se>0?h[Se]:(l.push(u,_),j(h[oi].data[~Se],h),re())}return 0===l.length?null:(_=l.pop(),u=l.pop(),re())}return function x(Se,Ge){for(h=Ge;l.length;)l.pop();return j(Se.value,Ge),re}}const vm=/\ufffd(\d+):?\d*\ufffd/gi,sx=/\ufffd(\d+)\ufffd/,Su=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Zc="\ufffd",ey=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,lC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,cC=/\uE500/g;function $c(l,u,h,_,x,j,re){const Se=au(l,_,1,null);let Ge=Se<<pa.SHIFT,pt=sl();u===pt&&(pt=null),null===pt&&(Ge|=pa.APPEND_EAGERLY),re&&(Ge|=pa.COMMENT,function Wu(l){void 0===Ku&&(Ku=l())}(Dl)),x.push(Ge,null===j?"":j);const Nt=Fp(l,Se,re?32:1,null===j?"":j,null);Tg(h,Nt);const Wt=Nt.index;return wo(Nt,!1),null!==pt&&u!==pt&&function XA(l,u){let h=l.insertBeforeIndex;null===h?(_d(Eg,$0),h=l.insertBeforeIndex=[null,u]):(function oe(l,u,h){l!=u&&we(h,l,u,"==")}(Array.isArray(h),!0,"Expecting array here"),h.push(u))}(pt,Wt),Nt}function wf(l,u,h,_,x,j,re){const Se=re.match(vm),Ge=$c(l,u,h,j,_,Se?null:re,!1);Se&&Du(x,re,Ge.index,null,0,null)}function Du(l,u,h,_,x,j){const re=l.length,Se=re+1;l.push(null,null);const Ge=re+2,pt=u.split(vm);let Nt=0;for(let Wt=0;Wt<pt.length;Wt++){const vn=pt[Wt];if(1&Wt){const An=x+parseInt(vn,10);l.push(-1-An),Nt|=qc(An)}else""!==vn&&l.push(vn)}return l.push(h<<2|(_?1:0)),_&&l.push(_,j),l[re]=Nt,l[Se]=l.length-Ge,Nt}function qc(l){return 1<<Math.min(l,31)}function uC(l){let u,j,h="",_=0,x=!1;for(;null!==(u=ey.exec(l));)x?u[0]===`${Zc}/*${j}${Zc}`&&(_=u.index,x=!1):(h+=l.substring(_,u.index+u[0].length),j=u[1],x=!0);return h+=l.slice(_),h}function fC(l,u,h,_,x,j){let re=0;const Se={type:x.type,currentCaseLViewIndex:au(l,u,1,null),anchorIdx:j,cases:[],create:[],remove:[],update:[]};(function fx(l,u,h){l.push(qc(u.mainBinding),2,-1-u.mainBinding,h<<2|2)})(h,x,j),function QA(l,u,h){const _=l.data[u];null===_?l.data[u]=h:_.value=h}(l,j,Se);const Ge=x.values;for(let pt=0;pt<Ge.length;pt++){const Nt=Ge[pt],Wt=[];for(let vn=0;vn<Nt.length;vn++){const An=Nt[vn];if("string"!=typeof An){const Wn=Wt.push(An)-1;Nt[vn]=`\x3c!--\ufffd${Wn}\ufffd--\x3e`}}re=dx(l,Se,u,h,_,x.cases[pt],Nt.join(""),Wt)|re}re&&function hx(l,u,h){l.push(u,1,h<<2|3)}(h,re,j)}function cx(l){const u=[],h=[];let _=1,x=0;const j=ny(l=l.replace(Su,function(re,Se,Ge){return _="select"===Ge?0:1,x=parseInt(Se.slice(1),10),""}));for(let re=0;re<j.length;){let Se=j[re++].trim();1===_&&(Se=Se.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Se.length&&u.push(Se);const Ge=ny(j[re++]);u.length>h.length&&h.push(Ge)}return{type:_,mainBinding:x,cases:u,values:h}}function ny(l){if(!l)return[];let u=0;const h=[],_=[],x=/[{}]/g;let j;for(x.lastIndex=0;j=x.exec(l);){const Se=j.index;if("}"==j[0]){if(h.pop(),0==h.length){const Ge=l.substring(u,Se);Su.test(Ge)?_.push(cx(Ge)):_.push(Ge),u=Se+1}}else{if(0==h.length){const Ge=l.substring(u,Se);_.push(Ge),u=Se+1}h.push("{")}}const re=l.substring(u);return _.push(re),_}function dx(l,u,h,_,x,j,re,Se){const Ge=[],pt=[],Nt=[];u.cases.push(j),u.create.push(Ge),u.remove.push(pt),u.update.push(Nt);const vn=gh(Xu()).getInertBodyElement(re),An=cp(vn)||vn;return An?hC(l,u,h,_,Ge,pt,Nt,An,x,Se,0):0}function hC(l,u,h,_,x,j,re,Se,Ge,pt,Nt){let Wt=0,vn=Se.firstChild;for(;vn;){const An=au(l,h,1,null);switch(vn.nodeType){case Node.ELEMENT_NODE:const Wn=vn,ni=Wn.tagName.toLowerCase();if(Eh.hasOwnProperty(ni)){iy(x,hm,ni,Ge,An),l.data[An]=ni;const Xi=Wn.attributes;for(let mr=0;mr<Xi.length;mr++){const Ar=Xi.item(mr),zs=Ar.name.toLowerCase();Ar.value.match(vm)?Th.hasOwnProperty(zs)&&Du(re,Ar.value,An,Ar.name,0,sp[zs]?vh:null):mx(x,An,Ar)}Wt=hC(l,u,h,_,x,j,re,vn,An,pt,Nt+1)|Wt,mC(j,An,Nt)}break;case Node.TEXT_NODE:const gi=vn.textContent||"",Ii=gi.match(vm);iy(x,null,Ii?"":gi,Ge,An),mC(j,An,Nt),Ii&&(Wt=Du(re,gi,An,null,0,null)|Wt);break;case Node.COMMENT_NODE:const Jn=sx.exec(vn.textContent||"");if(Jn){const mr=pt[parseInt(Jn[1],10)];iy(x,mm,"",Ge,An),fC(l,h,_,Ge,mr,An),ux(j,An,Nt)}}vn=vn.nextSibling}return Wt}function mC(l,u,h){0===h&&l.push(u)}function ux(l,u,h){0===h&&(l.push(~u),l.push(u))}function iy(l,u,h,_,x){null!==u&&l.push(u),l.push(h,x,function tx(l,u,h){return l|u<<17|h<<1}(0,_,x))}function mx(l,u,h){l.push(u<<1|1,h.name,h.value)}function sy(l,u,h=-1){const _=rr(),x=Zn(),j=Pi+l,re=ir(_.consts,u),Se=sl();_.firstCreatePass&&function Cu(l,u,h,_,x,j){const re=sl(),Se=[],Ge=[],pt=[[]];x=function lx(l,u){if(function ty(l){return-1===l}(u))return uC(l);{const h=l.indexOf(`:${u}${Zc}`)+2+u.toString().length,_=l.search(new RegExp(`${Zc}\\/\\*\\d+:${u}${Zc}`));return uC(l.substring(h,_))}}(x,j);const Nt=function dC(l){return l.replace(cC," ")}(x).split(lC);for(let Wt=0;Wt<Nt.length;Wt++){let vn=Nt[Wt];if(1&Wt){const An=47===vn.charCodeAt(0),ni=(vn.charCodeAt(An?1:0),Pi+Number.parseInt(vn.substring(An?2:1)));if(An)pt.shift(),wo(sl(),!1);else{const gi=ex(l,pt[0],ni);pt.unshift([]),wo(gi,!0)}}else{const An=ny(vn);for(let Wn=0;Wn<An.length;Wn++){let ni=An[Wn];if(1&Wn){const gi=ni;if("object"!=typeof gi)throw new Error(`Unable to parse ICU expression in "${x}" message.`);fC(l,h,Ge,u,gi,$c(l,re,pt[0],h,Se,"",!0).index)}else""!==ni&&wf(l,re,pt[0],Se,Ge,h,ni)}}}l.data[_]={create:Se,update:Ge}}(_,null===Se?0:Se.index,x,j,re,h),2===_.type?x[Ri][ki]|=32:x[ki]|=32;const Ge=_.data[j],Nt=$m(_,Se===x[xr]?null:Se,x);(function ix(l,u,h,_){const x=l[Kn];for(let j=0;j<u.length;j++){const re=u[j++],Se=u[j],pt=(re&pa.APPEND_EAGERLY)===pa.APPEND_EAGERLY,Nt=re>>>pa.SHIFT;let Wt=l[Nt];null===Wt&&(Wt=l[Nt]=(re&pa.COMMENT)===pa.COMMENT?x.createComment(Se):Xs(x,Se)),pt&&null!==h&&gd(x,h,Wt,_,!1)}})(x,Ge.create,Nt,Se&&8&Se.type?x[Se.index]:null),rc(!0)}function vC(l,u,h){sy(l,u,h),function Pf(){rc(!1)}()}function Mg(l,u,h,_,x){if(l=H(l),Array.isArray(l))for(let j=0;j<l.length;j++)Mg(l[j],u,h,_,x);else{const j=rr(),re=Zn();let Se=Td(l)?l:H(l.provide),Ge=av(l);const pt=uo(),Nt=1048575&pt.providerIndexes,Wt=pt.directiveStart,vn=pt.providerIndexes>>20;if(Td(l)||!l.multi){const An=new Ba(Ge,x,Cd),Wn=Of(Se,u,x?Nt:Nt+vn,Wt);-1===Wn?(Gi(Ul(pt,re),j,Se),Ag(j,l,u.length),u.push(Se),pt.directiveStart++,pt.directiveEnd++,x&&(pt.providerIndexes+=1048576),h.push(An),re.push(An)):(h[Wn]=An,re[Wn]=An)}else{const An=Of(Se,u,Nt+vn,Wt),Wn=Of(Se,u,Nt,Nt+vn),gi=Wn>=0&&h[Wn];if(x&&!gi||!x&&!(An>=0&&h[An])){Gi(Ul(pt,re),j,Se);const Ii=function SC(l,u,h,_,x){const j=new Ba(l,h,Cd);return j.multi=[],j.index=u,j.componentProviders=0,ay(j,x,_&&!h),j}(x?TC:EC,h.length,x,_,Ge);!x&&gi&&(h[Wn].providerFactory=Ii),Ag(j,l,u.length,0),u.push(Se),pt.directiveStart++,pt.directiveEnd++,x&&(pt.providerIndexes+=1048576),h.push(Ii),re.push(Ii)}else Ag(j,l,An>-1?An:Wn,ay(h[x?Wn:An],Ge,!x&&_));!x&&_&&gi&&h[Wn].componentProviders++}}}function Ag(l,u,h,_){const x=Td(u),j=function NE(l){return!!l.useClass}(u);if(x||j){const Ge=(j?H(u.useClass):u).prototype.ngOnDestroy;if(Ge){const pt=l.destroyHooks||(l.destroyHooks=[]);if(!x&&u.multi){const Nt=pt.indexOf(h);-1===Nt?pt.push(h,[_,Ge]):pt[Nt+1].push(_,Ge)}else pt.push(h,Ge)}}}function ay(l,u,h){return h&&l.componentProviders++,l.multi.push(u)-1}function Of(l,u,h,_){for(let x=h;x<_;x++)if(u[x]===l)return x;return-1}function EC(l,u,h,_){return xg(this.multi,[])}function TC(l,u,h,_){const x=this.multi;let j;if(this.providerFactory){const re=this.providerFactory.componentProviders,Se=ul(h,h[oi],this.providerFactory.index,_);j=Se.slice(0,re),xg(x,j);for(let Ge=re;Ge<Se.length;Ge++)j.push(Se[Ge])}else j=[],xg(x,j);return j}function xg(l,u){for(let h=0;h<l.length;h++)u.push((0,l[h])());return u}function na(l,u=[]){return h=>{h.providersResolver=(_,x)=>function Ws(l,u,h){const _=rr();if(_.firstCreatePass){const x=dr(l);Mg(h,_.data,_.blueprint,x,!0),Mg(u,_.data,_.blueprint,x,!1)}}(_,x?x(l):l,u)}}class Mu{}class ly{}function cy(l,u){return new Tm(l,u??null,[])}class Tm extends Mu{constructor(u,h,_){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const x=Ji(u);this._bootstrapComponents=_c(x.bootstrap),this._r3Injector=kp(u,h,[{provide:Mu,useValue:this},{provide:sf,useValue:this.componentFactoryResolver},..._],v(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Ig extends ly{constructor(u){super(),this.moduleType=u}create(u){return new Tm(this.moduleType,u,[])}}class Ld extends Mu{constructor(u){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const h=new ov([...u.providers,{provide:Mu,useValue:this},{provide:sf,useValue:this.componentFactoryResolver}],u.parent||ar(),u.debugName,new Set(["environment"]));this.injector=h,u.runEnvironmentInitializers&&h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function Nf(l,u,h=null){return new Ld({providers:l,parent:u,debugName:h,runEnvironmentInitializers:!0}).injector}let CC=(()=>{class l{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h)){const _=hp(0,h.type),x=_.length>0?Nf([_],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h,x)}return this.cachedInjectors.get(h)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ne({token:l,providedIn:"environment",factory:()=>new l(Qe(Sd))})}return l})();function dy(l){l.getStandaloneInjector=u=>u.get(CC).getOrCreateStandaloneInjector(l)}function gy(l,u,h){const _=Po()+l,x=Zn();return x[_]===Fi?Xl(x,_,h?u.call(h):u()):function bf(l,u){return l[u]}(x,_)}function _y(l,u,h,_){return Ey(Zn(),Po(),l,u,h,_)}function vy(l,u,h,_,x){return OC(Zn(),Po(),l,u,h,_,x)}function yy(l,u,h,_,x,j){return function RC(l,u,h,_,x,j,re,Se){const Ge=u+h;return function Vh(l,u,h,_,x){const j=Id(l,u,h,_);return Ks(l,u+2,x)||j}(l,Ge,x,j,re)?Xl(l,Ge+3,Se?_.call(Se,x,j,re):_(x,j,re)):Cm(l,Ge+3)}(Zn(),Po(),l,u,h,_,x,j)}function Cm(l,u){const h=l[u];return h===Fi?void 0:h}function Ey(l,u,h,_,x,j){const re=u+h;return Ks(l,re,x)?Xl(l,re+1,j?_.call(j,x):_(x)):Cm(l,re+1)}function OC(l,u,h,_,x,j,re){const Se=u+h;return Id(l,Se,x,j)?Xl(l,Se+2,re?_.call(re,x,j):_(x,j)):Cm(l,Se+2)}function LC(l,u){const h=rr();let _;const x=l+Pi;h.firstCreatePass?(_=function kC(l,u){if(u)for(let h=u.length-1;h>=0;h--){const _=u[h];if(l===_.name)return _}}(u,h.pipeRegistry),h.data[x]=_,_.onDestroy&&(h.destroyHooks??=[]).push(x,_.onDestroy)):_=h.data[x];const j=_.factory||(_.factory=nt(_.type)),re=Ae(Cd);try{const Se=Bl(!1),Ge=j();return Bl(Se),function sS(l,u,h,_){h>=l.data.length&&(l.data[h]=null,l.blueprint[h]=null),u[h]=_}(h,Zn(),x,Ge),Ge}finally{Ae(re)}}function FC(l,u,h){const _=l+Pi,x=Zn(),j=Xt(x,_);return Dm(x,_)?Ey(x,Po(),u,j.transform,h,j):j.transform(h)}function BC(l,u,h,_){const x=l+Pi,j=Zn(),re=Xt(j,x);return Dm(j,x)?OC(j,Po(),u,re.transform,h,_,re):re.transform(h,_)}function Dm(l,u){return l[oi].data[u].pure}function Sy(l){return u=>{setTimeout(l,void 0,u)}}const ec=class wx extends c.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,h,_){let x=u,j=h||(()=>null),re=_;if(u&&"object"==typeof u){const Ge=u;x=Ge.next?.bind(Ge),j=Ge.error?.bind(Ge),re=Ge.complete?.bind(Ge)}this.__isAsync&&(j=Sy(j),x&&(x=Sy(x)),re&&(re=Sy(re)));const Se=super.subscribe({next:x,error:j,complete:re});return u instanceof t.w0&&u.add(Se),Se}};function Px(){return this._results[Symbol.iterator]()}class Rg{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ec)}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=Rg.prototype;h[Symbol.iterator]||(h[Symbol.iterator]=Px)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){const _=this;_.dirty=!1;const x=function js(l){return l.flat(Number.POSITIVE_INFINITY)}(u);(this._changesDetected=!function Ps(l,u,h){if(l.length!==u.length)return!1;for(let _=0;_<l.length;_++){let x=l[_],j=u[_];if(h&&(x=h(x),j=h(j)),j!==x)return!1}return!0}(_._results,x,h))&&(_._results=x,_.length=x.length,_.last=x[this.length-1],_.first=x[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mm=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=Rx}return l})();const Ox=Mm,UC=class extends Ox{constructor(u,h,_){super(),this._declarationLView=u,this._declarationTContainer=h,this.elementRef=_}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(u,h){return this.createEmbeddedViewImpl(u,h,null)}createEmbeddedViewImpl(u,h,_){const re=this._declarationTContainer.tView,Se=Nh(this._declarationLView,re,u,4096&this._declarationLView[ki]?4096:16,null,re.declTNode,null,null,null,h||null,_||null);Se[yr]=this._declarationLView[this._declarationTContainer.index];const pt=this._declarationLView[oo];return null!==pt&&(Se[oo]=pt.createEmbeddedView(re)),Kp(re,Se,u),new vf(Se)}};function Rx(){return Ng(uo(),Zn())}function Ng(l,u){return 4&l.type?new UC(u,l,Zl(l,u)):null}let kg=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=Gx}return l})();function Gx(){return jC(uo(),Zn())}const Hx=kg,HC=class extends Hx{constructor(u,h,_){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=_}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new ja(this._hostTNode,this._hostLView)}get parentInjector(){const u=tr(this._hostTNode,this._hostLView);if(Fl(u)){const h=lc(u,this._hostLView),_=hs(u);return new ja(h[oi].data[_+8],h)}return new ja(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=My(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(u,h,_){let x,j;"number"==typeof _?x=_:null!=_&&(x=_.index,j=_.injector);const Se=u.createEmbeddedViewImpl(h||{},j,null);return this.insertImpl(Se,x,false),Se}createComponent(u,h,_,x,j){const re=u&&!function Vl(l){return"function"==typeof l}(u);let Se;if(re)Se=h;else{const ni=h||{};Se=ni.index,_=ni.injector,x=ni.projectableNodes,j=ni.environmentInjector||ni.ngModuleRef}const Ge=re?u:new xd(xi(u)),pt=_||this.parentInjector;if(!j&&null==Ge.ngModule){const gi=(re?pt:this.parentInjector).get(Sd,null);gi&&(j=gi)}xi(Ge.componentType??{});const An=Ge.create(pt,x,null,j);return this.insertImpl(An.hostView,Se,false),An}insert(u,h){return this.insertImpl(u,h,!1)}insertImpl(u,h,_){const x=u._lView,j=x[oi];if(function Bi(l){return br(l[wi])}(x)){const Ge=this.indexOf(u);if(-1!==Ge)this.detach(Ge);else{const pt=x[wi],Nt=new HC(pt,pt[xr],pt[wi]);Nt.detach(Nt.indexOf(u))}}const re=this._adjustIndex(h),Se=this._lContainer;if(function P_(l,u,h,_){const x=Mr+_,j=h.length;_>0&&(h[x-1][zi]=u),_<j-Mr?(u[zi]=h[x],ku(h,Mr+_,u)):(h.push(u),u[zi]=null),u[wi]=h;const re=u[yr];null!==re&&h!==re&&function mc(l,u){const h=l[es];u[Ri]!==u[wi][wi][Ri]&&(l[vs]=!0),null===h?l[es]=[u]:h.push(u)}(re,u);const Se=u[oo];null!==Se&&Se.insertView(l),u[ki]|=128}(j,x,Se,re),!_){const Ge=Qm(re,Se),pt=x[Kn],Nt=Yd(pt,Se[so]);null!==Nt&&function uE(l,u,h,_,x,j){_[On]=x,_[xr]=u,zd(l,_,h,1,x,j)}(j,Se[xr],pt,x,Nt,Ge)}return u.attachToViewContainerRef(),ku(Ay(Se),re,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=My(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),_=ah(this._lContainer,h);_&&(ml(Ay(this._lContainer),h),O_(_[oi],_))}detach(u){const h=this._adjustIndex(u,-1),_=ah(this._lContainer,h);return _&&null!=ml(Ay(this._lContainer),h)?new vf(_):null}_adjustIndex(u,h=0){return u??this.length+h}};function My(l){return l[8]}function Ay(l){return l[8]||(l[8]=[])}function jC(l,u){let h;const _=u[l.index];return br(_)?h=_:(h=kh(_,u,null,l),u[l.index]=h,vc(u,h)),VC(h,u,l,_),new HC(h,l,u)}let VC=function xy(l,u,h,_){if(l[so])return;let x;x=8&h.type?wn(_):function jx(l,u){const h=l[Kn],_=h.createComment(""),x=xt(u,l);return gd(h,Yd(h,x),_,function pE(l,u){return l.nextSibling(u)}(h,x),!1),_}(u,h),l[so]=x};class Iy{constructor(u){this.queryList=u,this.matches=null}clone(){return new Iy(this.queryList)}setDirty(){this.queryList.setDirty()}}class wy{constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const _=null!==u.contentQueries?u.contentQueries[0]:h.length,x=[];for(let j=0;j<_;j++){const re=h.getByIndex(j);x.push(this.queries[re.indexInDeclarationView].clone())}return new wy(x)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==Jo(u,h).matches&&this.queries[h].setDirty()}}class Py{constructor(u,h,_=null){this.predicate=u,this.flags=h,this.read=_}}class Oy{constructor(u=[]){this.queries=u}elementStart(u,h){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let _=0;_<this.length;_++){const x=null!==h?h.length:0,j=this.getByIndex(_).embeddedTView(u,x);j&&(j.indexInDeclarationView=_,null!==h?h.push(j):h=[j])}return null!==h?new Oy(h):null}template(u,h){for(let _=0;_<this.queries.length;_++)this.queries[_].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class Ry{constructor(u,h=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new Ry(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let _=u.parent;for(;null!==_&&8&_.type&&_.index!==h;)_=_.parent;return h===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const _=this.metadata.predicate;if(Array.isArray(_))for(let x=0;x<_.length;x++){const j=_[x];this.matchTNodeWithReadOption(u,h,KC(h,j)),this.matchTNodeWithReadOption(u,h,dl(h,u,j,!1,!1))}else _===Mm?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,dl(h,u,_,!1,!1))}matchTNodeWithReadOption(u,h,_){if(null!==_){const x=this.metadata.read;if(null!==x)if(x===af||x===kg||x===Mm&&4&h.type)this.addMatch(h.index,-2);else{const j=dl(h,u,x,!1,!1);null!==j&&this.addMatch(h.index,j)}else this.addMatch(h.index,_)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function KC(l,u){const h=l.localNames;if(null!==h)for(let _=0;_<h.length;_+=2)if(h[_]===u)return h[_+1];return null}function Yx(l,u,h,_){return-1===h?function Wx(l,u){return 11&l.type?Zl(l,u):4&l.type?Ng(l,u):null}(u,l):-2===h?function zx(l,u,h){return h===af?Zl(u,l):h===Mm?Ng(u,l):h===kg?jC(u,l):void 0}(l,u,_):ul(l,l[oi],h,u)}function WC(l,u,h,_){const x=u[oo].queries[_];if(null===x.matches){const j=l.data,re=h.matches,Se=[];for(let Ge=0;Ge<re.length;Ge+=2){const pt=re[Ge];Se.push(pt<0?null:Yx(u,j[pt],re[Ge+1],h.metadata.read))}x.matches=Se}return x.matches}function Ny(l,u,h,_){const x=l.queries.getByIndex(h),j=x.matches;if(null!==j){const re=WC(l,u,x,h);for(let Se=0;Se<j.length;Se+=2){const Ge=j[Se];if(Ge>0)_.push(re[Se/2]);else{const pt=j[Se+1],Nt=u[-Ge];for(let Wt=Mr;Wt<Nt.length;Wt++){const vn=Nt[Wt];vn[yr]===vn[wi]&&Ny(vn[oi],vn,pt,_)}if(null!==Nt[es]){const Wt=Nt[es];for(let vn=0;vn<Wt.length;vn++){const An=Wt[vn];Ny(An[oi],An,pt,_)}}}}}return _}function YC(l){const u=Zn(),h=rr(),_=Fa();ba(_+1);const x=Jo(h,_);if(l.dirty&&function jn(l){return 4==(4&l[ki])}(u)===(2==(2&x.metadata.flags))){if(null===x.matches)l.reset([]);else{const j=x.crossesNgTemplate?Ny(h,u,_,[]):WC(h,u,x,_);l.reset(j,eT),l.notifyOnChanges()}return!0}return!1}function zC(l,u,h){const _=rr();_.firstCreatePass&&(ky(_,new Py(l,u,h),-1),2==(2&u)&&(_.staticViewQueries=!0)),Ly(_,Zn(),u)}function ZC(l,u,h,_){const x=rr();if(x.firstCreatePass){const j=uo();ky(x,new Py(u,h,_),j.index),function Fy(l,u){const h=l.contentQueries||(l.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(l.queries.length-1,u)}(x,l),2==(2&h)&&(x.staticContentQueries=!0)}Ly(x,Zn(),h)}function Fg(){return function $C(l,u){return l[oo].queries[u].queryList}(Zn(),Fa())}function Ly(l,u,h){const _=new Rg(4==(4&h));(function xa(l,u,h,_){const x=kv(u);x.push(h),l.firstCreatePass&&Ql(l).push(_,x.length-1)})(l,u,_,_.destroy),null===u[oo]&&(u[oo]=new wy),u[oo].queries.push(new Iy(_))}function ky(l,u,h){null===l.queries&&(l.queries=new Oy),l.queries.track(new Ry(u,h))}function Jo(l,u){return l.queries.getByIndex(u)}function Ki(l,u){return Ng(l,u)}function Bg(l){return!!Ji(l)}const qy=new Br("Application Initializer");let Kg=(()=>{class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,_)=>{this.resolve=h,this.reject=_}),this.appInits=Pe(qy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const h=[];for(const x of this.appInits){const j=x();if(g0(j))h.push(j);else if(mS(j)){const re=new Promise((Se,Ge)=>{j.subscribe({complete:Se,error:Ge})});h.push(re)}}const _=()=>{this.done=!0,this.resolve()};Promise.all(h).then(()=>{_()}).catch(x=>{this.reject(x)}),0===h.length&&_(),this.initialized=!0}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Jy=(()=>{class l{log(h){console.log(h)}warn(h){console.warn(h)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();const Im=new Br("LocaleId",{providedIn:"root",factory:()=>Pe(Im,ue.Optional|ue.SkipSelf)||function pD(){return typeof $localize<"u"&&$localize.locale||Tu}()}),gD=new Br("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ml=(()=>{class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new y.X(!1)}add(){this.hasPendingTasks.next(!0);const h=this.taskId++;return this.pendingTasks.add(h),h}remove(h){this.pendingTasks.delete(h),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();class yD{constructor(u,h){this.ngModuleFactory=u,this.componentFactories=h}}let bD=(()=>{class l{compileModuleSync(h){return new Ig(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const _=this.compileModuleSync(h),j=_c(Ji(h).declarations).reduce((re,Se)=>{const Ge=xi(Se);return Ge&&re.push(new xd(Ge)),re},[]);return new yD(_,j)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Ec(...l){}class ia{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ec(!1),this.onMicrotaskEmpty=new ec(!1),this.onStable=new ec(!1),this.onError=new ec(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const x=this;x._nesting=0,x._outer=x._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(x._inner=x._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(x._inner=x._inner.fork(Zone.longStackTraceZoneSpec)),x.shouldCoalesceEventChangeDetection=!_&&h,x.shouldCoalesceRunChangeDetection=_,x.lastRequestAnimationFrameId=-1,x.nativeRequestAnimationFrame=function ED(){const l="function"==typeof at.requestAnimationFrame;let u=at[l?"requestAnimationFrame":"setTimeout"],h=at[l?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&u&&h){const _=u[Zone.__symbol__("OriginalDelegate")];_&&(u=_);const x=h[Zone.__symbol__("OriginalDelegate")];x&&(h=x)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:h}}().nativeRequestAnimationFrame,function CD(l){const u=()=>{!function SD(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(at,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,zg(l),l.isCheckStableRunning=!0,Yg(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),zg(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,_,x,j,re,Se)=>{try{return tb(l),h.invokeTask(x,j,re,Se)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===j.type||l.shouldCoalesceRunChangeDetection)&&u(),nb(l)}},onInvoke:(h,_,x,j,re,Se,Ge)=>{try{return tb(l),h.invoke(x,j,re,Se,Ge)}finally{l.shouldCoalesceRunChangeDetection&&u(),nb(l)}},onHasTask:(h,_,x,j)=>{h.hasTask(x,j),_===x&&("microTask"==j.change?(l._hasPendingMicrotasks=j.microTask,zg(l),Yg(l)):"macroTask"==j.change&&(l.hasPendingMacrotasks=j.macroTask))},onHandleError:(h,_,x,j)=>(h.handleError(x,j),l.runOutsideAngular(()=>l.onError.emit(j)),!1)})}(x)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ia.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(ia.isInAngularZone())throw new T(909,!1)}run(u,h,_){return this._inner.run(u,h,_)}runTask(u,h,_,x){const j=this._inner,re=j.scheduleEventTask("NgZoneEvent: "+x,u,TD,Ec,Ec);try{return j.runTask(re,h,_)}finally{j.cancelTask(re)}}runGuarded(u,h,_){return this._inner.runGuarded(u,h,_)}runOutsideAngular(u){return this._outer.run(u)}}const TD={};function Yg(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function zg(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function tb(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function nb(l){l._nesting--,Yg(l)}class DD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ec,this.onMicrotaskEmpty=new ec,this.onStable=new ec,this.onError=new ec}run(u,h,_){return u.apply(h,_)}runGuarded(u,h,_){return u.apply(h,_)}runOutsideAngular(u){return u()}runTask(u,h,_,x){return u.apply(h,_)}}const ib=new Br("",{providedIn:"root",factory:rb});function rb(){const l=Pe(ia);let u=!0;const h=new w.y(x=>{u=l.isStable&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks,l.runOutsideAngular(()=>{x.next(u),x.complete()})}),_=new w.y(x=>{let j;l.runOutsideAngular(()=>{j=l.onStable.subscribe(()=>{ia.assertNotInAngularZone(),queueMicrotask(()=>{!u&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks&&(u=!0,x.next(!0))})})});const re=l.onUnstable.subscribe(()=>{ia.assertInAngularZone(),u&&(u=!1,l.runOutsideAngular(()=>{x.next(!1)}))});return()=>{j.unsubscribe(),re.unsubscribe()}});return(0,E.T)(h,_.pipe((0,L.B)()))}const ob=new Br(""),sb=new Br("");let Zg,MD=(()=>{class l{constructor(h,_,x){this._ngZone=h,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zg||(function AD(l){Zg=l}(x),x.addToWindow(_)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ia.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(h)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,_,x){let j=-1;_&&_>0&&(j=setTimeout(()=>{this._callbacks=this._callbacks.filter(re=>re.timeoutId!==j),h(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:h,timeoutId:j,updateCb:x})}whenStable(h,_,x){if(x&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,_,x),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,_,x){return[]}static#e=this.\u0275fac=function(_){return new(_||l)(Qe(ia),Qe(ab),Qe(sb))};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac})}return l})(),ab=(()=>{class l{constructor(){this._applications=new Map}registerApplication(h,_){this._applications.set(h,_)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,_=!0){return Zg?.findTestabilityInTree(this,h,_)??null}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})(),Qc=null;const lb=new Br("AllowMultipleToken"),wm=new Br("PlatformDestroyListeners"),$g=new Br("appBootstrapListener");class wD{constructor(u,h){this.name=u,this.token=h}}function ub(l,u,h=[]){const _=`Platform: ${u}`,x=new Br(_);return(j=[])=>{let re=qg();if(!re||re.injector.get(lb,!1)){const Se=[...h,...j,{provide:x,useValue:!0}];l?l(Se):function PD(l){if(Qc&&!Qc.get(lb,!1))throw new T(400,!1);(function cb(){!function Pl(l){Xa=l}(()=>{throw new T(600,!1)})})(),Qc=l;const u=l.get(hb);(function db(l){l.get(dv,null)?.forEach(h=>h())})(l)}(function fb(l=[],u){return Wc.create({name:u,providers:[{provide:_p,useValue:"platform"},{provide:wm,useValue:new Set([()=>Qc=null])},...l]})}(Se,_))}return function RD(l){const u=qg();if(!u)throw new T(401,!1);return u}()}}function qg(){return Qc?.get(hb)??null}let hb=(()=>{class l{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,_){const x=function ND(l="zone.js",u){return"noop"===l?new DD:"zone.js"===l?new ia(u):l}(_?.ngZone,function mb(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:l?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:l?.runCoalescing??!1}}({eventCoalescing:_?.ngZoneEventCoalescing,runCoalescing:_?.ngZoneRunCoalescing}));return x.run(()=>{const j=function Rf(l,u,h){return new Tm(l,u,h)}(h.moduleType,this.injector,function vb(l){return[{provide:ia,useFactory:l},{provide:Jd,multi:!0,useFactory:()=>{const u=Pe(kD,{optional:!0});return()=>u.initialize()}},{provide:_b,useFactory:LD},{provide:ib,useFactory:rb}]}(()=>x)),re=j.injector.get(nu,null);return x.runOutsideAngular(()=>{const Se=x.onError.subscribe({next:Ge=>{re.handleError(Ge)}});j.onDestroy(()=>{Pm(this._modules,j),Se.unsubscribe()})}),function pb(l,u,h){try{const _=h();return g0(_)?_.catch(x=>{throw u.runOutsideAngular(()=>l.handleError(x)),x}):_}catch(_){throw u.runOutsideAngular(()=>l.handleError(_)),_}}(re,x,()=>{const Se=j.injector.get(Kg);return Se.runInitializers(),Se.donePromise.then(()=>(bg(j.injector.get(Im,Tu)||Tu),this._moduleDoBootstrap(j),j))})})}bootstrapModule(h,_=[]){const x=Jg({},_);return function xD(l,u,h){const _=new Ig(h);return Promise.resolve(_)}(0,0,h).then(j=>this.bootstrapModuleFactory(j,x))}_moduleDoBootstrap(h){const _=h.injector.get(xl);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(x=>_.bootstrap(x));else{if(!h.instance.ngDoBootstrap)throw new T(-403,!1);h.instance.ngDoBootstrap(_)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const h=this._injector.get(wm,null);h&&(h.forEach(_=>_()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(_){return new(_||l)(Qe(Wc))};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();function Jg(l,u){return Array.isArray(u)?u.reduce(Jg,l):{...l,...u}}let xl=(()=>{class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pe(_b),this.zoneIsStable=Pe(ib),this.componentTypes=[],this.components=[],this.isStable=Pe(Ml).hasPendingTasks.pipe((0,D.w)(h=>h?(0,F.of)(!1):this.zoneIsStable),(0,p.x)(),(0,L.B)()),this._injector=Pe(Sd)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,_){const x=h instanceof pv;if(!this._injector.get(Kg).done)throw!x&&Yr(h),new T(405,!1);let re;re=x?h:this._injector.get(sf).resolveComponentFactory(h),this.componentTypes.push(re.componentType);const Se=function ID(l){return l.isBoundToModule}(re)?void 0:this._injector.get(Mu),pt=re.create(Wc.NULL,[],_||re.selector,Se),Nt=pt.location.nativeElement,Wt=pt.injector.get(ob,null);return Wt?.registerApplication(Nt),pt.onDestroy(()=>{this.detachView(pt.hostView),Pm(this.components,pt),Wt?.unregisterApplication(Nt)}),this._loadComponent(pt),pt}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1}}attachView(h){const _=h;this._views.push(_),_.attachToAppRef(this)}detachView(h){const _=h;Pm(this._views,_),_.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const _=this._injector.get($g,[]);_.push(...this._bootstrapListeners),_.forEach(x=>x(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>Pm(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new T(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Pm(l,u){const h=l.indexOf(u);h>-1&&l.splice(h,1)}const _b=new Br("",{providedIn:"root",factory:()=>Pe(nu).handleError.bind(void 0)});function LD(){const l=Pe(ia),u=Pe(nu);return h=>l.runOutsideAngular(()=>u.handleError(h))}let kD=(()=>{class l{constructor(){this.zone=Pe(ia),this.applicationRef=Pe(xl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function BD(){return!1}function UD(){}let GD=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=HD}return l})();function HD(l){return function jD(l,u,h){if(eo(l)&&!h){const _=Bt(l.index,u);return new vf(_,_)}return 47&l.type?new vf(u[Ri],u):null}(uo(),Zn(),16==(16&l))}class Tb{constructor(){}supports(u){return jh(u)}create(u){return new ZD(u)}}const zD=(l,u)=>u;class ZD{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||zD}forEachItem(u){let h;for(h=this._itHead;null!==h;h=h._next)u(h)}forEachOperation(u){let h=this._itHead,_=this._removalsHead,x=0,j=null;for(;h||_;){const re=!_||h&&h.currentIndex<Cb(_,x,j)?h:_,Se=Cb(re,x,j),Ge=re.currentIndex;if(re===_)x--,_=_._nextRemoved;else if(h=h._next,null==re.previousIndex)x++;else{j||(j=[]);const pt=Se-x,Nt=Ge-x;if(pt!=Nt){for(let vn=0;vn<pt;vn++){const An=vn<j.length?j[vn]:j[vn]=0,Wn=An+vn;Nt<=Wn&&Wn<pt&&(j[vn]=An+1)}j[re.previousIndex]=Nt-pt}}Se!==Ge&&u(re,Se,Ge)}}forEachPreviousItem(u){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachMovedItem(u){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}forEachIdentityChange(u){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)u(h)}diff(u){if(null==u&&(u=[]),!jh(u))throw new T(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let x,j,re,h=this._itHead,_=!1;if(Array.isArray(u)){this.length=u.length;for(let Se=0;Se<this.length;Se++)j=u[Se],re=this._trackByFn(Se,j),null!==h&&Object.is(h.trackById,re)?(_&&(h=this._verifyReinsertion(h,j,re,Se)),Object.is(h.item,j)||this._addIdentityChange(h,j)):(h=this._mismatch(h,j,re,Se),_=!0),h=h._next}else x=0,function BT(l,u){if(Array.isArray(l))for(let h=0;h<l.length;h++)u(l[h]);else{const h=l[Symbol.iterator]();let _;for(;!(_=h.next()).done;)u(_.value)}}(u,Se=>{re=this._trackByFn(x,Se),null!==h&&Object.is(h.trackById,re)?(_&&(h=this._verifyReinsertion(h,Se,re,x)),Object.is(h.item,Se)||this._addIdentityChange(h,Se)):(h=this._mismatch(h,Se,re,x),_=!0),h=h._next,x++}),this.length=x;return this._truncate(h),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,h,_,x){let j;return null===u?j=this._itTail:(j=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._reinsertAfter(u,j,x)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(_,x))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._moveAfter(u,j,x)):u=this._addAfter(new $D(h,_),j,x),u}_verifyReinsertion(u,h,_,x){let j=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==j?u=this._reinsertAfter(j,u._prev,x):u.currentIndex!=x&&(u.currentIndex=x,this._addToMoves(u,x)),u}_truncate(u){for(;null!==u;){const h=u._next;this._addToRemovals(this._unlink(u)),u=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,h,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const x=u._prevRemoved,j=u._nextRemoved;return null===x?this._removalsHead=j:x._nextRemoved=j,null===j?this._removalsTail=x:j._prevRemoved=x,this._insertAfter(u,h,_),this._addToMoves(u,_),u}_moveAfter(u,h,_){return this._unlink(u),this._insertAfter(u,h,_),this._addToMoves(u,_),u}_addAfter(u,h,_){return this._insertAfter(u,h,_),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,h,_){const x=null===h?this._itHead:h._next;return u._next=x,u._prev=h,null===x?this._itTail=u:x._prev=u,null===h?this._itHead=u:h._next=u,null===this._linkedRecords&&(this._linkedRecords=new Sb),this._linkedRecords.put(u),u.currentIndex=_,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const h=u._prev,_=u._next;return null===h?this._itHead=_:h._next=_,null===_?this._itTail=h:_._prev=h,u}_addToMoves(u,h){return u.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sb),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,h){return u.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class $D{constructor(u,h){this.item=u,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qD{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,h){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===h||h<=_.currentIndex)&&Object.is(_.trackById,u))return _;return null}remove(u){const h=u._prevDup,_=u._nextDup;return null===h?this._head=_:h._nextDup=_,null===_?this._tail=h:_._prevDup=h,null===this._head}}class Sb{constructor(){this.map=new Map}put(u){const h=u.trackById;let _=this.map.get(h);_||(_=new qD,this.map.set(h,_)),_.add(u)}get(u,h){const x=this.map.get(u);return x?x.get(u,h):null}remove(u){const h=u.trackById;return this.map.get(h).remove(u)&&this.map.delete(h),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cb(l,u,h){const _=l.previousIndex;if(null===_)return _;let x=0;return h&&_<h.length&&(x=h[_]),_+u+x}class Db{constructor(){}supports(u){return u instanceof Map||Qv(u)}create(){return new JD}}class JD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let h;for(h=this._mapHead;null!==h;h=h._next)u(h)}forEachPreviousItem(u){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)u(h)}forEachChangedItem(u){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}diff(u){if(u){if(!(u instanceof Map||Qv(u)))throw new T(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(u,(_,x)=>{if(h&&h.key===x)this._maybeAddToChanges(h,_),this._appendAfter=h,h=h._next;else{const j=this._getOrCreateRecordForKey(x,_);h=this._insertBeforeOrAppend(h,j)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let _=h;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,h){if(u){const _=u._prev;return h._next=u,h._prev=_,u._prev=h,_&&(_._next=h),u===this._mapHead&&(this._mapHead=h),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(u,h){if(this._records.has(u)){const x=this._records.get(u);this._maybeAddToChanges(x,h);const j=x._prev,re=x._next;return j&&(j._next=re),re&&(re._prev=j),x._next=null,x._prev=null,x}const _=new QD(u);return this._records.set(u,_),_.currentValue=h,this._addToAdditions(_),_}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,h){Object.is(h,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=h,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,h){u instanceof Map?u.forEach(h):Object.keys(u).forEach(_=>h(u[_],_))}}class QD{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mb(){return new n_([new Tb])}let n_=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:Mb});constructor(h){this.factories=h}static create(h,_){if(null!=_){const x=_.factories.slice();h=h.concat(x)}return new l(h)}static extend(h){return{provide:l,useFactory:_=>l.create(h,_||Mb()),deps:[[l,new no,new Aa]]}}find(h){const _=this.factories.find(x=>x.supports(h));if(null!=_)return _;throw new T(901,!1)}}return l})();function Ab(){return new i_([new Db])}let i_=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:Ab});constructor(h){this.factories=h}static create(h,_){if(_){const x=_.factories.slice();h=h.concat(x)}return new l(h)}static extend(h){return{provide:l,useFactory:_=>l.create(h,_||Ab()),deps:[[l,new no,new Aa]]}}find(h){const _=this.factories.find(x=>x.supports(h));if(_)return _;throw new T(901,!1)}}return l})();const tM=ub(null,"core",[]);let nM=(()=>{class l{constructor(h){}static#e=this.\u0275fac=function(_){return new(_||l)(Qe(xl))};static#t=this.\u0275mod=vr({type:l});static#n=this.\u0275inj=Y({})}return l})();function fM(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function mM(l,u){const h=xi(l),_=u.elementInjector||ar();return new xd(h).create(_,u.projectableNodes,u.hostElement,u.environmentInjector)}function Rb(l){const u=xi(l);if(!u)return null;const h=new xd(u);return{get selector(){return h.selector},get type(){return h.componentType},get inputs(){return h.inputs},get outputs(){return h.outputs},get ngContentSelectors(){return h.ngContentSelectors},get isStandalone(){return u.standalone},get isSignal(){return u.signals}}}},95:(Gn,tt,S)=>{"use strict";S.d(tt,{Zs:()=>or,Fj:()=>T,qu:()=>_a,NI:()=>vr,u:()=>po,sg:()=>vi,u5:()=>ur,Cf:()=>B,JU:()=>R,a5:()=>ie,JJ:()=>ve,JL:()=>de,F:()=>hi,On:()=>Hr,YN:()=>gr,wV:()=>On,UX:()=>gn,EJ:()=>Uo,kI:()=>le,_Y:()=>zr,Kr:()=>Go});var c=S(5879),t=S(6814),y=S(2459),w=S(5592),E=S(7453),F=S(4829),L=S(9940),D=S(8251),p=S(7400),f=S(2714),v=S(7398);let A=(()=>{class nt{constructor(qe,wt){this._renderer=qe,this._elementRef=wt,this.onChange=sn=>{},this.onTouched=()=>{}}setProperty(qe,wt){this._renderer.setProperty(this._elementRef.nativeElement,qe,wt)}registerOnTouched(qe){this.onTouched=qe}registerOnChange(qe){this.onChange=qe}setDisabledState(qe){this.setProperty("disabled",qe)}static#e=this.\u0275fac=function(wt){return new(wt||nt)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:nt})}return nt})(),U=(()=>{class nt extends A{static#e=this.\u0275fac=function(){let qe;return function(sn){return(qe||(qe=c.n5z(nt)))(sn||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,features:[c.qOj]})}return nt})();const R=new c.OlP("NgValueAccessor"),O={provide:R,useExisting:(0,c.Gpc)(()=>T),multi:!0},P=new c.OlP("CompositionEventMode");let T=(()=>{class nt extends A{constructor(qe,wt,sn){super(qe,wt),this._compositionMode=sn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function M(){const nt=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(nt.toLowerCase())}())}writeValue(qe){this.setProperty("value",qe??"")}_handleInput(qe){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(qe)}_compositionStart(){this._composing=!0}_compositionEnd(qe){this._composing=!1,this._compositionMode&&this.onChange(qe)}static#e=this.\u0275fac=function(wt){return new(wt||nt)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(wt,sn){1&wt&&c.NdJ("input",function(Ai){return sn._handleInput(Ai.target.value)})("blur",function(){return sn.onTouched()})("compositionstart",function(){return sn._compositionStart()})("compositionend",function(Ai){return sn._compositionEnd(Ai.target.value)})},features:[c._Bn([O]),c.qOj]})}return nt})();function N(nt){return null==nt||("string"==typeof nt||Array.isArray(nt))&&0===nt.length}function C(nt){return null!=nt&&"number"==typeof nt.length}const B=new c.OlP("NgValidators"),W=new c.OlP("NgAsyncValidators"),q=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class le{static min(ht){return function Fe(nt){return ht=>{if(N(ht.value)||N(nt))return null;const qe=parseFloat(ht.value);return!isNaN(qe)&&qe<nt?{min:{min:nt,actual:ht.value}}:null}}(ht)}static max(ht){return function $(nt){return ht=>{if(N(ht.value)||N(nt))return null;const qe=parseFloat(ht.value);return!isNaN(qe)&&qe>nt?{max:{max:nt,actual:ht.value}}:null}}(ht)}static required(ht){return ae(ht)}static requiredTrue(ht){return K(ht)}static email(ht){return function ge(nt){return N(nt.value)||q.test(nt.value)?null:{email:!0}}(ht)}static minLength(ht){return function oe(nt){return ht=>N(ht.value)||!C(ht.value)?null:ht.value.length<nt?{minlength:{requiredLength:nt,actualLength:ht.value.length}}:null}(ht)}static maxLength(ht){return function he(nt){return ht=>C(ht.value)&&ht.value.length>nt?{maxlength:{requiredLength:nt,actualLength:ht.value.length}}:null}(ht)}static pattern(ht){return function Ce(nt){if(!nt)return Le;let ht,qe;return"string"==typeof nt?(qe="","^"!==nt.charAt(0)&&(qe+="^"),qe+=nt,"$"!==nt.charAt(nt.length-1)&&(qe+="$"),ht=new RegExp(qe)):(qe=nt.toString(),ht=nt),wt=>{if(N(wt.value))return null;const sn=wt.value;return ht.test(sn)?null:{pattern:{requiredPattern:qe,actualValue:sn}}}}(ht)}static nullValidator(ht){return null}static compose(ht){return we(ht)}static composeAsync(ht){return st(ht)}}function ae(nt){return N(nt.value)?{required:!0}:null}function K(nt){return!0===nt.value?null:{required:!0}}function Le(nt){return null}function fe(nt){return null!=nt}function Re(nt){return(0,c.QGY)(nt)?(0,y.D)(nt):nt}function xe(nt){let ht={};return nt.forEach(qe=>{ht=null!=qe?{...ht,...qe}:ht}),0===Object.keys(ht).length?null:ht}function pe(nt,ht){return ht.map(qe=>qe(nt))}function ke(nt){return nt.map(ht=>function Ue(nt){return!nt.validate}(ht)?ht:qe=>ht.validate(qe))}function we(nt){if(!nt)return null;const ht=nt.filter(fe);return 0==ht.length?null:function(qe){return xe(pe(qe,ht))}}function Ve(nt){return null!=nt?we(ke(nt)):null}function st(nt){if(!nt)return null;const ht=nt.filter(fe);return 0==ht.length?null:function(qe){return function g(...nt){const ht=(0,L.jO)(nt),{args:qe,keys:wt}=(0,E.D)(nt),sn=new w.y(li=>{const{length:Ai}=qe;if(!Ai)return void li.complete();const yo=new Array(Ai);let ds=Ai,is=Ai;for(let $r=0;$r<Ai;$r++){let Es=!1;(0,F.Xf)(qe[$r]).subscribe((0,D.x)(li,Sr=>{Es||(Es=!0,is--),yo[$r]=Sr},()=>ds--,void 0,()=>{(!ds||!Es)&&(is||li.next(wt?(0,f.n)(wt,yo):yo),li.complete())}))}});return ht?sn.pipe((0,p.Z)(ht)):sn}(pe(qe,ht).map(Re)).pipe((0,v.U)(xe))}}function Je(nt){return null!=nt?st(ke(nt)):null}function Ne(nt,ht){return null===nt?[ht]:Array.isArray(nt)?[...nt,ht]:[nt,ht]}function Te(nt){return nt._rawValidators}function Y(nt){return nt._rawAsyncValidators}function se(nt){return nt?Array.isArray(nt)?nt:[nt]:[]}function _e(nt,ht){return Array.isArray(nt)?nt.includes(ht):nt===ht}function J(nt,ht){const qe=se(ht);return se(nt).forEach(sn=>{_e(qe,sn)||qe.push(sn)}),qe}function Q(nt,ht){return se(ht).filter(qe=>!_e(nt,qe))}class Z{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ht){this._rawValidators=ht||[],this._composedValidatorFn=Ve(this._rawValidators)}_setAsyncValidators(ht){this._rawAsyncValidators=ht||[],this._composedAsyncValidatorFn=Je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ht){this._onDestroyCallbacks.push(ht)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ht=>ht()),this._onDestroyCallbacks=[]}reset(ht=void 0){this.control&&this.control.reset(ht)}hasError(ht,qe){return!!this.control&&this.control.hasError(ht,qe)}getError(ht,qe){return this.control?this.control.getError(ht,qe):null}}class te extends Z{get formDirective(){return null}get path(){return null}}class ie extends Z{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ee{constructor(ht){this._cd=ht}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ve=(()=>{class nt extends ee{constructor(qe){super(qe)}static#e=this.\u0275fac=function(wt){return new(wt||nt)(c.Y36(ie,2))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(wt,sn){2&wt&&c.ekj("ng-untouched",sn.isUntouched)("ng-touched",sn.isTouched)("ng-pristine",sn.isPristine)("ng-dirty",sn.isDirty)("ng-valid",sn.isValid)("ng-invalid",sn.isInvalid)("ng-pending",sn.isPending)},features:[c.qOj]})}return nt})(),de=(()=>{class nt extends ee{constructor(qe){super(qe)}static#e=this.\u0275fac=function(wt){return new(wt||nt)(c.Y36(te,10))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(wt,sn){2&wt&&c.ekj("ng-untouched",sn.isUntouched)("ng-touched",sn.isTouched)("ng-pristine",sn.isPristine)("ng-dirty",sn.isDirty)("ng-valid",sn.isValid)("ng-invalid",sn.isInvalid)("ng-pending",sn.isPending)("ng-submitted",sn.isSubmitted)},features:[c.qOj]})}return nt})();const ft="VALID",Qe="INVALID",De="PENDING",Pe="DISABLED";function Ye(nt){return(dt(nt)?nt.validators:nt)||null}function lt(nt,ht){return(dt(ht)?ht.asyncValidators:nt)||null}function dt(nt){return null!=nt&&!Array.isArray(nt)&&"object"==typeof nt}function Ft(nt,ht,qe){const wt=nt.controls;if(!(ht?Object.keys(wt):wt).length)throw new c.vHH(1e3,"");if(!wt[qe])throw new c.vHH(1001,"")}function $t(nt,ht,qe){nt._forEachChild((wt,sn)=>{if(void 0===qe[sn])throw new c.vHH(1002,"")})}class Lt{constructor(ht,qe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ht),this._assignAsyncValidators(qe)}get validator(){return this._composedValidatorFn}set validator(ht){this._rawValidators=this._composedValidatorFn=ht}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ht){this._rawAsyncValidators=this._composedAsyncValidatorFn=ht}get parent(){return this._parent}get valid(){return this.status===ft}get invalid(){return this.status===Qe}get pending(){return this.status==De}get disabled(){return this.status===Pe}get enabled(){return this.status!==Pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ht){this._assignValidators(ht)}setAsyncValidators(ht){this._assignAsyncValidators(ht)}addValidators(ht){this.setValidators(J(ht,this._rawValidators))}addAsyncValidators(ht){this.setAsyncValidators(J(ht,this._rawAsyncValidators))}removeValidators(ht){this.setValidators(Q(ht,this._rawValidators))}removeAsyncValidators(ht){this.setAsyncValidators(Q(ht,this._rawAsyncValidators))}hasValidator(ht){return _e(this._rawValidators,ht)}hasAsyncValidator(ht){return _e(this._rawAsyncValidators,ht)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ht={}){this.touched=!0,this._parent&&!ht.onlySelf&&this._parent.markAsTouched(ht)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ht=>ht.markAllAsTouched())}markAsUntouched(ht={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(qe=>{qe.markAsUntouched({onlySelf:!0})}),this._parent&&!ht.onlySelf&&this._parent._updateTouched(ht)}markAsDirty(ht={}){this.pristine=!1,this._parent&&!ht.onlySelf&&this._parent.markAsDirty(ht)}markAsPristine(ht={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(qe=>{qe.markAsPristine({onlySelf:!0})}),this._parent&&!ht.onlySelf&&this._parent._updatePristine(ht)}markAsPending(ht={}){this.status=De,!1!==ht.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ht.onlySelf&&this._parent.markAsPending(ht)}disable(ht={}){const qe=this._parentMarkedDirty(ht.onlySelf);this.status=Pe,this.errors=null,this._forEachChild(wt=>{wt.disable({...ht,onlySelf:!0})}),this._updateValue(),!1!==ht.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ht,skipPristineCheck:qe}),this._onDisabledChange.forEach(wt=>wt(!0))}enable(ht={}){const qe=this._parentMarkedDirty(ht.onlySelf);this.status=ft,this._forEachChild(wt=>{wt.enable({...ht,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ht.emitEvent}),this._updateAncestors({...ht,skipPristineCheck:qe}),this._onDisabledChange.forEach(wt=>wt(!1))}_updateAncestors(ht){this._parent&&!ht.onlySelf&&(this._parent.updateValueAndValidity(ht),ht.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ht){this._parent=ht}getRawValue(){return this.value}updateValueAndValidity(ht={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ft||this.status===De)&&this._runAsyncValidator(ht.emitEvent)),!1!==ht.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ht.onlySelf&&this._parent.updateValueAndValidity(ht)}_updateTreeValidity(ht={emitEvent:!0}){this._forEachChild(qe=>qe._updateTreeValidity(ht)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ht.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pe:ft}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ht){if(this.asyncValidator){this.status=De,this._hasOwnPendingAsyncValidator=!0;const qe=Re(this.asyncValidator(this));this._asyncValidationSubscription=qe.subscribe(wt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(wt,{emitEvent:ht})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ht,qe={}){this.errors=ht,this._updateControlsErrors(!1!==qe.emitEvent)}get(ht){let qe=ht;return null==qe||(Array.isArray(qe)||(qe=qe.split(".")),0===qe.length)?null:qe.reduce((wt,sn)=>wt&&wt._find(sn),this)}getError(ht,qe){const wt=qe?this.get(qe):this;return wt&&wt.errors?wt.errors[ht]:null}hasError(ht,qe){return!!this.getError(ht,qe)}get root(){let ht=this;for(;ht._parent;)ht=ht._parent;return ht}_updateControlsErrors(ht){this.status=this._calculateStatus(),ht&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ht)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Pe:this.errors?Qe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(De)?De:this._anyControlsHaveStatus(Qe)?Qe:ft}_anyControlsHaveStatus(ht){return this._anyControls(qe=>qe.status===ht)}_anyControlsDirty(){return this._anyControls(ht=>ht.dirty)}_anyControlsTouched(){return this._anyControls(ht=>ht.touched)}_updatePristine(ht={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ht.onlySelf&&this._parent._updatePristine(ht)}_updateTouched(ht={}){this.touched=this._anyControlsTouched(),this._parent&&!ht.onlySelf&&this._parent._updateTouched(ht)}_registerOnCollectionChange(ht){this._onCollectionChange=ht}_setUpdateStrategy(ht){dt(ht)&&null!=ht.updateOn&&(this._updateOn=ht.updateOn)}_parentMarkedDirty(ht){return!ht&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ht){return null}_assignValidators(ht){this._rawValidators=Array.isArray(ht)?ht.slice():ht,this._composedValidatorFn=function $e(nt){return Array.isArray(nt)?Ve(nt):nt||null}(this._rawValidators)}_assignAsyncValidators(ht){this._rawAsyncValidators=Array.isArray(ht)?ht.slice():ht,this._composedAsyncValidatorFn=function ot(nt){return Array.isArray(nt)?Je(nt):nt||null}(this._rawAsyncValidators)}}class Jt extends Lt{constructor(ht,qe,wt){super(Ye(qe),lt(wt,qe)),this.controls=ht,this._initObservables(),this._setUpdateStrategy(qe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ht,qe){return this.controls[ht]?this.controls[ht]:(this.controls[ht]=qe,qe.setParent(this),qe._registerOnCollectionChange(this._onCollectionChange),qe)}addControl(ht,qe,wt={}){this.registerControl(ht,qe),this.updateValueAndValidity({emitEvent:wt.emitEvent}),this._onCollectionChange()}removeControl(ht,qe={}){this.controls[ht]&&this.controls[ht]._registerOnCollectionChange(()=>{}),delete this.controls[ht],this.updateValueAndValidity({emitEvent:qe.emitEvent}),this._onCollectionChange()}setControl(ht,qe,wt={}){this.controls[ht]&&this.controls[ht]._registerOnCollectionChange(()=>{}),delete this.controls[ht],qe&&this.registerControl(ht,qe),this.updateValueAndValidity({emitEvent:wt.emitEvent}),this._onCollectionChange()}contains(ht){return this.controls.hasOwnProperty(ht)&&this.controls[ht].enabled}setValue(ht,qe={}){$t(this,0,ht),Object.keys(ht).forEach(wt=>{Ft(this,!0,wt),this.controls[wt].setValue(ht[wt],{onlySelf:!0,emitEvent:qe.emitEvent})}),this.updateValueAndValidity(qe)}patchValue(ht,qe={}){null!=ht&&(Object.keys(ht).forEach(wt=>{const sn=this.controls[wt];sn&&sn.patchValue(ht[wt],{onlySelf:!0,emitEvent:qe.emitEvent})}),this.updateValueAndValidity(qe))}reset(ht={},qe={}){this._forEachChild((wt,sn)=>{wt.reset(ht[sn],{onlySelf:!0,emitEvent:qe.emitEvent})}),this._updatePristine(qe),this._updateTouched(qe),this.updateValueAndValidity(qe)}getRawValue(){return this._reduceChildren({},(ht,qe,wt)=>(ht[wt]=qe.getRawValue(),ht))}_syncPendingControls(){let ht=this._reduceChildren(!1,(qe,wt)=>!!wt._syncPendingControls()||qe);return ht&&this.updateValueAndValidity({onlySelf:!0}),ht}_forEachChild(ht){Object.keys(this.controls).forEach(qe=>{const wt=this.controls[qe];wt&&ht(wt,qe)})}_setUpControls(){this._forEachChild(ht=>{ht.setParent(this),ht._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ht){for(const[qe,wt]of Object.entries(this.controls))if(this.contains(qe)&&ht(wt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(qe,wt,sn)=>((wt.enabled||this.disabled)&&(qe[sn]=wt.value),qe))}_reduceChildren(ht,qe){let wt=ht;return this._forEachChild((sn,li)=>{wt=qe(wt,sn,li)}),wt}_allControlsDisabled(){for(const ht of Object.keys(this.controls))if(this.controls[ht].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ht){return this.controls.hasOwnProperty(ht)?this.controls[ht]:null}}class xn extends Jt{}const Yn=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Vn}),Vn="always";function ci(nt,ht){return[...ht.path,nt]}function yn(nt,ht,qe=Vn){tn(nt,ht),ht.valueAccessor.writeValue(nt.value),(nt.disabled||"always"===qe)&&ht.valueAccessor.setDisabledState?.(nt.disabled),function Xe(nt,ht){ht.valueAccessor.registerOnChange(qe=>{nt._pendingValue=qe,nt._pendingChange=!0,nt._pendingDirty=!0,"change"===nt.updateOn&&Qt(nt,ht)})}(nt,ht),function In(nt,ht){const qe=(wt,sn)=>{ht.valueAccessor.writeValue(wt),sn&&ht.viewToModelUpdate(wt)};nt.registerOnChange(qe),ht._registerOnDestroy(()=>{nt._unregisterOnChange(qe)})}(nt,ht),function Pt(nt,ht){ht.valueAccessor.registerOnTouched(()=>{nt._pendingTouched=!0,"blur"===nt.updateOn&&nt._pendingChange&&Qt(nt,ht),"submit"!==nt.updateOn&&nt.markAsTouched()})}(nt,ht),function ut(nt,ht){if(ht.valueAccessor.setDisabledState){const qe=wt=>{ht.valueAccessor.setDisabledState(wt)};nt.registerOnDisabledChange(qe),ht._registerOnDestroy(()=>{nt._unregisterOnDisabledChange(qe)})}}(nt,ht)}function _n(nt,ht,qe=!0){const wt=()=>{};ht.valueAccessor&&(ht.valueAccessor.registerOnChange(wt),ht.valueAccessor.registerOnTouched(wt)),Ze(nt,ht),nt&&(ht._invokeOnDestroyCallbacks(),nt._registerOnCollectionChange(()=>{}))}function bt(nt,ht){nt.forEach(qe=>{qe.registerOnValidatorChange&&qe.registerOnValidatorChange(ht)})}function tn(nt,ht){const qe=Te(nt);null!==ht.validator?nt.setValidators(Ne(qe,ht.validator)):"function"==typeof qe&&nt.setValidators([qe]);const wt=Y(nt);null!==ht.asyncValidator?nt.setAsyncValidators(Ne(wt,ht.asyncValidator)):"function"==typeof wt&&nt.setAsyncValidators([wt]);const sn=()=>nt.updateValueAndValidity();bt(ht._rawValidators,sn),bt(ht._rawAsyncValidators,sn)}function Ze(nt,ht){let qe=!1;if(null!==nt){if(null!==ht.validator){const sn=Te(nt);if(Array.isArray(sn)&&sn.length>0){const li=sn.filter(Ai=>Ai!==ht.validator);li.length!==sn.length&&(qe=!0,nt.setValidators(li))}}if(null!==ht.asyncValidator){const sn=Y(nt);if(Array.isArray(sn)&&sn.length>0){const li=sn.filter(Ai=>Ai!==ht.asyncValidator);li.length!==sn.length&&(qe=!0,nt.setAsyncValidators(li))}}}const wt=()=>{};return bt(ht._rawValidators,wt),bt(ht._rawAsyncValidators,wt),qe}function Qt(nt,ht){nt._pendingDirty&&nt.markAsDirty(),nt.setValue(nt._pendingValue,{emitModelToViewChange:!1}),ht.viewToModelUpdate(nt._pendingValue),nt._pendingChange=!1}function Fn(nt,ht){tn(nt,ht)}function Et(nt,ht){if(!nt.hasOwnProperty("model"))return!1;const qe=nt.model;return!!qe.isFirstChange()||!Object.is(ht,qe.currentValue)}function be(nt,ht){nt._syncPendingControls(),ht.forEach(qe=>{const wt=qe.control;"submit"===wt.updateOn&&wt._pendingChange&&(qe.viewToModelUpdate(wt._pendingValue),wt._pendingChange=!1)})}function yt(nt,ht){if(!ht)return null;let qe,wt,sn;return Array.isArray(ht),ht.forEach(li=>{li.constructor===T?qe=li:function fn(nt){return Object.getPrototypeOf(nt.constructor)===U}(li)?wt=li:sn=li}),sn||wt||qe||null}const an={provide:te,useExisting:(0,c.Gpc)(()=>hi)},ti=(()=>Promise.resolve())();let hi=(()=>{class nt extends te{constructor(qe,wt,sn){super(),this.callSetDisabledState=sn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Jt({},Ve(qe),Je(wt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(qe){ti.then(()=>{const wt=this._findContainer(qe.path);qe.control=wt.registerControl(qe.name,qe.control),yn(qe.control,qe,this.callSetDisabledState),qe.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(qe)})}getControl(qe){return this.form.get(qe.path)}removeControl(qe){ti.then(()=>{const wt=this._findContainer(qe.path);wt&&wt.removeControl(qe.name),this._directives.delete(qe)})}addFormGroup(qe){ti.then(()=>{const wt=this._findContainer(qe.path),sn=new Jt({});Fn(sn,qe),wt.registerControl(qe.name,sn),sn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(qe){ti.then(()=>{const wt=this._findContainer(qe.path);wt&&wt.removeControl(qe.name)})}getFormGroup(qe){return this.form.get(qe.path)}updateModel(qe,wt){ti.then(()=>{this.form.get(qe.path).setValue(wt)})}setValue(qe){this.control.setValue(qe)}onSubmit(qe){return this.submitted=!0,be(this.form,this._directives),this.ngSubmit.emit(qe),"dialog"===qe?.target?.method}onReset(){this.resetForm()}resetForm(qe=void 0){this.form.reset(qe),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(qe){return qe.pop(),qe.length?this.form.get(qe):this.form}static#e=this.\u0275fac=function(wt){return new(wt||nt)(c.Y36(B,10),c.Y36(W,10),c.Y36(Yn,8))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(wt,sn){1&wt&&c.NdJ("submit",function(Ai){return sn.onSubmit(Ai)})("reset",function(){return sn.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([an]),c.qOj]})}return nt})();function Li(nt,ht){const qe=nt.indexOf(ht);qe>-1&&nt.splice(qe,1)}function pr(nt){return"object"==typeof nt&&null!==nt&&2===Object.keys(nt).length&&"value"in nt&&"disabled"in nt}const vr=class extends Lt{constructor(ht=null,qe,wt){super(Ye(qe),lt(wt,qe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ht),this._setUpdateStrategy(qe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dt(qe)&&(qe.nonNullable||qe.initialValueIsDefault)&&(this.defaultValue=pr(ht)?ht.value:ht)}setValue(ht,qe={}){this.value=this._pendingValue=ht,this._onChange.length&&!1!==qe.emitModelToViewChange&&this._onChange.forEach(wt=>wt(this.value,!1!==qe.emitViewToModelChange)),this.updateValueAndValidity(qe)}patchValue(ht,qe={}){this.setValue(ht,qe)}reset(ht=this.defaultValue,qe={}){this._applyFormState(ht),this.markAsPristine(qe),this.markAsUntouched(qe),this.setValue(this.value,qe),this._pendingChange=!1}_updateValue(){}_anyControls(ht){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ht){this._onChange.push(ht)}_unregisterOnChange(ht){Li(this._onChange,ht)}registerOnDisabledChange(ht){this._onDisabledChange.push(ht)}_unregisterOnDisabledChange(ht){Li(this._onDisabledChange,ht)}_forEachChild(ht){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ht){pr(ht)?(this.value=this._pendingValue=ht.value,ht.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ht}},Xo={provide:ie,useExisting:(0,c.Gpc)(()=>Hr)},Ao=(()=>Promise.resolve())();let Hr=(()=>{class nt extends ie{constructor(qe,wt,sn,li,Ai,yo){super(),this._changeDetectorRef=Ai,this.callSetDisabledState=yo,this.control=new vr,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=qe,this._setValidators(wt),this._setAsyncValidators(sn),this.valueAccessor=yt(0,li)}ngOnChanges(qe){if(this._checkForErrors(),!this._registered||"name"in qe){if(this._registered&&(this._checkName(),this.formDirective)){const wt=qe.name.previousValue;this.formDirective.removeControl({name:wt,path:this._getPath(wt)})}this._setUpControl()}"isDisabled"in qe&&this._updateDisabled(qe),Et(qe,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(qe){this.viewModel=qe,this.update.emit(qe)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(qe){Ao.then(()=>{this.control.setValue(qe,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(qe){const wt=qe.isDisabled.currentValue,sn=0!==wt&&(0,c.VuI)(wt);Ao.then(()=>{sn&&!this.control.disabled?this.control.disable():!sn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(qe){return this._parent?ci(qe,this._parent):[qe]}static#e=this.\u0275fac=function(wt){return new(wt||nt)(c.Y36(te,9),c.Y36(B,10),c.Y36(W,10),c.Y36(R,10),c.Y36(c.sBO,8),c.Y36(Yn,8))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Xo]),c.qOj,c.TTD]})}return nt})(),zr=(()=>{class nt{static#e=this.\u0275fac=function(wt){return new(wt||nt)};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return nt})();const Ro={provide:R,useExisting:(0,c.Gpc)(()=>On),multi:!0};let On=(()=>{class nt extends U{writeValue(qe){this.setProperty("value",qe??"")}registerOnChange(qe){this.onChange=wt=>{qe(""==wt?null:parseFloat(wt))}}static#e=this.\u0275fac=function(){let qe;return function(sn){return(qe||(qe=c.n5z(nt)))(sn||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(wt,sn){1&wt&&c.NdJ("input",function(Ai){return sn.onChange(Ai.target.value)})("blur",function(){return sn.onTouched()})},features:[c._Bn([Ro]),c.qOj]})}return nt})(),wi=(()=>{class nt{static#e=this.\u0275fac=function(wt){return new(wt||nt)};static#t=this.\u0275mod=c.oAB({type:nt});static#n=this.\u0275inj=c.cJS({})}return nt})();const qt=new c.OlP("NgModelWithFormControlWarning"),Kn={provide:te,useExisting:(0,c.Gpc)(()=>vi)};let vi=(()=>{class nt extends te{constructor(qe,wt,sn){super(),this.callSetDisabledState=sn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(qe),this._setAsyncValidators(wt)}ngOnChanges(qe){this._checkFormPresent(),qe.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ze(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(qe){const wt=this.form.get(qe.path);return yn(wt,qe,this.callSetDisabledState),wt.updateValueAndValidity({emitEvent:!1}),this.directives.push(qe),wt}getControl(qe){return this.form.get(qe.path)}removeControl(qe){_n(qe.control||null,qe,!1),function gt(nt,ht){const qe=nt.indexOf(ht);qe>-1&&nt.splice(qe,1)}(this.directives,qe)}addFormGroup(qe){this._setUpFormContainer(qe)}removeFormGroup(qe){this._cleanUpFormContainer(qe)}getFormGroup(qe){return this.form.get(qe.path)}addFormArray(qe){this._setUpFormContainer(qe)}removeFormArray(qe){this._cleanUpFormContainer(qe)}getFormArray(qe){return this.form.get(qe.path)}updateModel(qe,wt){this.form.get(qe.path).setValue(wt)}onSubmit(qe){return this.submitted=!0,be(this.form,this.directives),this.ngSubmit.emit(qe),"dialog"===qe?.target?.method}onReset(){this.resetForm()}resetForm(qe=void 0){this.form.reset(qe),this.submitted=!1}_updateDomValue(){this.directives.forEach(qe=>{const wt=qe.control,sn=this.form.get(qe.path);wt!==sn&&(_n(wt||null,qe),(nt=>nt instanceof vr)(sn)&&(yn(sn,qe,this.callSetDisabledState),qe.control=sn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(qe){const wt=this.form.get(qe.path);Fn(wt,qe),wt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(qe){if(this.form){const wt=this.form.get(qe.path);wt&&function Zt(nt,ht){return Ze(nt,ht)}(wt,qe)&&wt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tn(this.form,this),this._oldForm&&Ze(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(wt){return new(wt||nt)(c.Y36(B,10),c.Y36(W,10),c.Y36(Yn,8))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["","formGroup",""]],hostBindings:function(wt,sn){1&wt&&c.NdJ("submit",function(Ai){return sn.onSubmit(Ai)})("reset",function(){return sn.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Kn]),c.qOj,c.TTD]})}return nt})();const oo={provide:ie,useExisting:(0,c.Gpc)(()=>po)};let po=(()=>{class nt extends ie{set isDisabled(qe){}static#e=this._ngModelWarningSentOnce=!1;constructor(qe,wt,sn,li,Ai){super(),this._ngModelWarningConfig=Ai,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=qe,this._setValidators(wt),this._setAsyncValidators(sn),this.valueAccessor=yt(0,li)}ngOnChanges(qe){this._added||this._setUpControl(),Et(qe,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(qe){this.viewModel=qe,this.update.emit(qe)}get path(){return ci(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(wt){return new(wt||nt)(c.Y36(te,13),c.Y36(B,10),c.Y36(W,10),c.Y36(R,10),c.Y36(qt,8))};static#n=this.\u0275dir=c.lG2({type:nt,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([oo]),c.qOj,c.TTD]})}return nt})();const as={provide:R,useExisting:(0,c.Gpc)(()=>Uo),multi:!0};function Nr(nt,ht){return null==nt?`${ht}`:(ht&&"object"==typeof ht&&(ht="Object"),`${nt}: ${ht}`.slice(0,50))}let Uo=(()=>{class nt extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(qe){this._compareWith=qe}writeValue(qe){this.value=qe;const sn=Nr(this._getOptionId(qe),qe);this.setProperty("value",sn)}registerOnChange(qe){this.onChange=wt=>{this.value=this._getOptionValue(wt),qe(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(qe){for(const wt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(wt),qe))return wt;return null}_getOptionValue(qe){const wt=function jr(nt){return nt.split(":")[0]}(qe);return this._optionMap.has(wt)?this._optionMap.get(wt):qe}static#e=this.\u0275fac=function(){let qe;return function(sn){return(qe||(qe=c.n5z(nt)))(sn||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(wt,sn){1&wt&&c.NdJ("change",function(Ai){return sn.onChange(Ai.target.value)})("blur",function(){return sn.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([as]),c.qOj]})}return nt})(),gr=(()=>{class nt{constructor(qe,wt,sn){this._element=qe,this._renderer=wt,this._select=sn,this._select&&(this.id=this._select._registerOption())}set ngValue(qe){null!=this._select&&(this._select._optionMap.set(this.id,qe),this._setElementValue(Nr(this.id,qe)),this._select.writeValue(this._select.value))}set value(qe){this._setElementValue(qe),this._select&&this._select.writeValue(this._select.value)}_setElementValue(qe){this._renderer.setProperty(this._element.nativeElement,"value",qe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(wt){return new(wt||nt)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Uo,9))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return nt})();const Pi={provide:R,useExisting:(0,c.Gpc)(()=>so),multi:!0};function oa(nt,ht){return null==nt?`${ht}`:("string"==typeof ht&&(ht=`'${ht}'`),ht&&"object"==typeof ht&&(ht="Object"),`${nt}: ${ht}`.slice(0,50))}let so=(()=>{class nt extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(qe){this._compareWith=qe}writeValue(qe){let wt;if(this.value=qe,Array.isArray(qe)){const sn=qe.map(li=>this._getOptionId(li));wt=(li,Ai)=>{li._setSelected(sn.indexOf(Ai.toString())>-1)}}else wt=(sn,li)=>{sn._setSelected(!1)};this._optionMap.forEach(wt)}registerOnChange(qe){this.onChange=wt=>{const sn=[],li=wt.selectedOptions;if(void 0!==li){const Ai=li;for(let yo=0;yo<Ai.length;yo++){const is=this._getOptionValue(Ai[yo].value);sn.push(is)}}else{const Ai=wt.options;for(let yo=0;yo<Ai.length;yo++){const ds=Ai[yo];if(ds.selected){const is=this._getOptionValue(ds.value);sn.push(is)}}}this.value=sn,qe(sn)}}_registerOption(qe){const wt=(this._idCounter++).toString();return this._optionMap.set(wt,qe),wt}_getOptionId(qe){for(const wt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(wt)._value,qe))return wt;return null}_getOptionValue(qe){const wt=function xo(nt){return nt.split(":")[0]}(qe);return this._optionMap.has(wt)?this._optionMap.get(wt)._value:qe}static#e=this.\u0275fac=function(){let qe;return function(sn){return(qe||(qe=c.n5z(nt)))(sn||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(wt,sn){1&wt&&c.NdJ("change",function(Ai){return sn.onChange(Ai.target)})("blur",function(){return sn.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Pi]),c.qOj]})}return nt})(),Go=(()=>{class nt{constructor(qe,wt,sn){this._element=qe,this._renderer=wt,this._select=sn,this._select&&(this.id=this._select._registerOption(this))}set ngValue(qe){null!=this._select&&(this._value=qe,this._setElementValue(oa(this.id,qe)),this._select.writeValue(this._select.value))}set value(qe){this._select?(this._value=qe,this._setElementValue(oa(this.id,qe)),this._select.writeValue(this._select.value)):this._setElementValue(qe)}_setElementValue(qe){this._renderer.setProperty(this._element.nativeElement,"value",qe)}_setSelected(qe){this._renderer.setProperty(this._element.nativeElement,"selected",qe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(wt){return new(wt||nt)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(so,9))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return nt})(),Mr=(()=>{class nt{constructor(){this._validator=Le}ngOnChanges(qe){if(this.inputName in qe){const wt=this.normalizeInput(qe[this.inputName].currentValue);this._enabled=this.enabled(wt),this._validator=this._enabled?this.createValidator(wt):Le,this._onChange&&this._onChange()}}validate(qe){return this._validator(qe)}registerOnValidatorChange(qe){this._onChange=qe}enabled(qe){return null!=qe}static#e=this.\u0275fac=function(wt){return new(wt||nt)};static#t=this.\u0275dir=c.lG2({type:nt,features:[c.TTD]})}return nt})();const eo={provide:B,useExisting:(0,c.Gpc)(()=>dr),multi:!0},ts={provide:B,useExisting:(0,c.Gpc)(()=>or),multi:!0};let dr=(()=>{class nt extends Mr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=qe=>ae}enabled(qe){return qe}static#e=this.\u0275fac=function(){let qe;return function(sn){return(qe||(qe=c.n5z(nt)))(sn||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(wt,sn){2&wt&&c.uIk("required",sn._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([eo]),c.qOj]})}return nt})(),or=(()=>{class nt extends dr{constructor(){super(...arguments),this.createValidator=qe=>K}static#e=this.\u0275fac=function(){let qe;return function(sn){return(qe||(qe=c.n5z(nt)))(sn||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(wt,sn){2&wt&&c.uIk("required",sn._enabled?"":null)},features:[c._Bn([ts]),c.qOj]})}return nt})(),ns=(()=>{class nt{static#e=this.\u0275fac=function(wt){return new(wt||nt)};static#t=this.\u0275mod=c.oAB({type:nt});static#n=this.\u0275inj=c.cJS({imports:[wi]})}return nt})();class vo extends Lt{constructor(ht,qe,wt){super(Ye(qe),lt(wt,qe)),this.controls=ht,this._initObservables(),this._setUpdateStrategy(qe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ht){return this.controls[this._adjustIndex(ht)]}push(ht,qe={}){this.controls.push(ht),this._registerControl(ht),this.updateValueAndValidity({emitEvent:qe.emitEvent}),this._onCollectionChange()}insert(ht,qe,wt={}){this.controls.splice(ht,0,qe),this._registerControl(qe),this.updateValueAndValidity({emitEvent:wt.emitEvent})}removeAt(ht,qe={}){let wt=this._adjustIndex(ht);wt<0&&(wt=0),this.controls[wt]&&this.controls[wt]._registerOnCollectionChange(()=>{}),this.controls.splice(wt,1),this.updateValueAndValidity({emitEvent:qe.emitEvent})}setControl(ht,qe,wt={}){let sn=this._adjustIndex(ht);sn<0&&(sn=0),this.controls[sn]&&this.controls[sn]._registerOnCollectionChange(()=>{}),this.controls.splice(sn,1),qe&&(this.controls.splice(sn,0,qe),this._registerControl(qe)),this.updateValueAndValidity({emitEvent:wt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ht,qe={}){$t(this,0,ht),ht.forEach((wt,sn)=>{Ft(this,!1,sn),this.at(sn).setValue(wt,{onlySelf:!0,emitEvent:qe.emitEvent})}),this.updateValueAndValidity(qe)}patchValue(ht,qe={}){null!=ht&&(ht.forEach((wt,sn)=>{this.at(sn)&&this.at(sn).patchValue(wt,{onlySelf:!0,emitEvent:qe.emitEvent})}),this.updateValueAndValidity(qe))}reset(ht=[],qe={}){this._forEachChild((wt,sn)=>{wt.reset(ht[sn],{onlySelf:!0,emitEvent:qe.emitEvent})}),this._updatePristine(qe),this._updateTouched(qe),this.updateValueAndValidity(qe)}getRawValue(){return this.controls.map(ht=>ht.getRawValue())}clear(ht={}){this.controls.length<1||(this._forEachChild(qe=>qe._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ht.emitEvent}))}_adjustIndex(ht){return ht<0?ht+this.length:ht}_syncPendingControls(){let ht=this.controls.reduce((qe,wt)=>!!wt._syncPendingControls()||qe,!1);return ht&&this.updateValueAndValidity({onlySelf:!0}),ht}_forEachChild(ht){this.controls.forEach((qe,wt)=>{ht(qe,wt)})}_updateValue(){this.value=this.controls.filter(ht=>ht.enabled||this.disabled).map(ht=>ht.value)}_anyControls(ht){return this.controls.some(qe=>qe.enabled&&ht(qe))}_setUpControls(){this._forEachChild(ht=>this._registerControl(ht))}_allControlsDisabled(){for(const ht of this.controls)if(ht.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ht){ht.setParent(this),ht._registerOnCollectionChange(this._onCollectionChange)}_find(ht){return this.at(ht)??null}}function Lr(nt){return!!nt&&(void 0!==nt.asyncValidators||void 0!==nt.validators||void 0!==nt.updateOn)}let _a=(()=>{class nt{constructor(){this.useNonNullable=!1}get nonNullable(){const qe=new nt;return qe.useNonNullable=!0,qe}group(qe,wt=null){const sn=this._reduceControls(qe);let li={};return Lr(wt)?li=wt:null!==wt&&(li.validators=wt.validator,li.asyncValidators=wt.asyncValidator),new Jt(sn,li)}record(qe,wt=null){const sn=this._reduceControls(qe);return new xn(sn,wt)}control(qe,wt,sn){let li={};return this.useNonNullable?(Lr(wt)?li=wt:(li.validators=wt,li.asyncValidators=sn),new vr(qe,{...li,nonNullable:!0})):new vr(qe,wt,sn)}array(qe,wt,sn){const li=qe.map(Ai=>this._createControl(Ai));return new vo(li,wt,sn)}_reduceControls(qe){const wt={};return Object.keys(qe).forEach(sn=>{wt[sn]=this._createControl(qe[sn])}),wt}_createControl(qe){return qe instanceof vr||qe instanceof Lt?qe:Array.isArray(qe)?this.control(qe[0],qe.length>1?qe[1]:null,qe.length>2?qe[2]:null):this.control(qe)}static#e=this.\u0275fac=function(wt){return new(wt||nt)};static#t=this.\u0275prov=c.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),ur=(()=>{class nt{static withConfig(qe){return{ngModule:nt,providers:[{provide:Yn,useValue:qe.callSetDisabledState??Vn}]}}static#e=this.\u0275fac=function(wt){return new(wt||nt)};static#t=this.\u0275mod=c.oAB({type:nt});static#n=this.\u0275inj=c.cJS({imports:[ns]})}return nt})(),gn=(()=>{class nt{static withConfig(qe){return{ngModule:nt,providers:[{provide:qt,useValue:qe.warnOnNgModelWithFormControl??"always"},{provide:Yn,useValue:qe.callSetDisabledState??Vn}]}}static#e=this.\u0275fac=function(wt){return new(wt||nt)};static#t=this.\u0275mod=c.oAB({type:nt});static#n=this.\u0275inj=c.cJS({imports:[ns]})}return nt})()},2296:(Gn,tt,S)=>{"use strict";S.d(tt,{RK:()=>pe,lW:()=>ae,ot:()=>ke});var c=S(2831),t=S(5879),y=S(4300),w=S(3680),E=S(6814);const F=["mat-button",""],L=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],D=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],U=["mat-icon-button",""],R=["*"],k={capture:!0},O=["focus","click","mouseenter","touchstart"],M="mat-button-ripple-uninitialized";let P=(()=>{class we{constructor(){this._document=(0,t.f3M)(E.K0,{optional:!0}),this._animationMode=(0,t.f3M)(t.QbO,{optional:!0}),this._globalRippleOptions=(0,t.f3M)(w.Y2,{optional:!0}),this._platform=(0,t.f3M)(c.t4),this._ngZone=(0,t.f3M)(t.R0b),this._onInteraction=st=>{if(st.target===this._document)return;const Ne=st.target.closest(`[${M}]`);Ne&&(Ne.removeAttribute(M),this._appendRipple(Ne))},this._ngZone.runOutsideAngular(()=>{for(const st of O)this._document?.addEventListener(st,this._onInteraction,k)})}ngOnDestroy(){for(const st of O)this._document?.removeEventListener(st,this._onInteraction,k)}_appendRipple(st){if(!this._document)return;const Je=this._document.createElement("span");Je.classList.add("mat-mdc-button-ripple");const Ne=new T(st,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Ne.rippleConfig.centered=st.hasAttribute("mat-icon-button"),new w.IR(Ne,this._ngZone,Je,this._platform).setupTriggerEvents(st),st.append(Je)}_createMatRipple(st){if(!this._document)return;st.querySelector(".mat-mdc-button-ripple")?.remove(),st.removeAttribute(M);const Je=this._document.createElement("span");Je.classList.add("mat-mdc-button-ripple");const Ne=new w.wG(new t.SBq(Je),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ne._isInitialized=!0,Ne.trigger=st,st.append(Je),Ne}static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=t.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();class T{constructor(Ve,st,Je){this._button=Ve,this._globalRippleOptions=st,this._setRippleConfig(st,Je)}_setRippleConfig(Ve,st){this.rippleConfig=Ve||{},"NoopAnimations"===st&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],W=(0,w.pj)((0,w.Id)((0,w.Kr)(class{constructor(we){this._elementRef=we}})));let q=(()=>{class we extends W{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(st){this._ripple=st}constructor(st,Je,Ne,Te){super(st),this._platform=Je,this._ngZone=Ne,this._animationMode=Te,this._focusMonitor=(0,t.f3M)(y.tE),this._rippleLoader=(0,t.f3M)(P),this._isFab=!1;const Y=st.nativeElement.classList;for(const se of B)this._hasHostAttributes(se.selector)&&se.mdcClasses.forEach(_e=>{Y.add(_e)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(st="program",Je){st?this._focusMonitor.focusVia(this._elementRef.nativeElement,st,Je):this._elementRef.nativeElement.focus(Je)}_hasHostAttributes(...st){return st.some(Je=>this._elementRef.nativeElement.hasAttribute(Je))}static#e=this.\u0275fac=function(Je){t.$Z()};static#t=this.\u0275dir=t.lG2({type:we,features:[t.qOj,t.TTD]})}return we})(),ae=(()=>{class we extends q{constructor(st,Je,Ne,Te){super(st,Je,Ne,Te)}static#e=this.\u0275fac=function(Je){return new(Je||we)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:we,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Je,Ne){2&Je&&(t.uIk("disabled",Ne.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:F,ngContentSelectors:D,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Je,Ne){1&Je&&(t.F$t(L),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)),2&Je&&t.ekj("mdc-button__ripple",!Ne._isFab)("mdc-fab__ripple",Ne._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return we})(),pe=(()=>{class we extends q{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(st,Je,Ne,Te){super(st,Je,Ne,Te)}static#e=this.\u0275fac=function(Je){return new(Je||we)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:we,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Je,Ne){2&Je&&(t.uIk("disabled",Ne.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:U,ngContentSelectors:R,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Je,Ne){1&Je&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return we})(),ke=(()=>{class we{static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275mod=t.oAB({type:we});static#n=this.\u0275inj=t.cJS({imports:[w.BQ,w.si,w.BQ]})}return we})()},5986:(Gn,tt,S)=>{"use strict";S.d(tt,{oG:()=>H,p9:()=>P});var c=S(5879),t=S(95),y=S(3680),w=S(2495);const E=["input"],F=["label"],L=["*"],D=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:p});function p(){return{color:"accent",clickAction:"check-indeterminate"}}const f={provide:t.JU,useExisting:(0,c.Gpc)(()=>H),multi:!0};class g{}let v=0;const A=p(),U=(0,y.sb)((0,y.pj)((0,y.Kr)((0,y.Id)(class{constructor(T){this._elementRef=T}}))));let R=(()=>{class T extends U{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(C){this._required=(0,w.Ig)(C)}constructor(C,B,W,q,le,Fe,$){super(B),this._changeDetectorRef=W,this._ngZone=q,this._animationMode=Fe,this._options=$,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||A,this.color=this.defaultColor=this._options.color||A.color,this.tabIndex=parseInt(le)||0,this.id=this._uniqueId=`${C}${++v}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(C){const B=(0,w.Ig)(C);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(C){const B=(0,w.Ig)(C);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(C){const B=C!=this._indeterminate;this._indeterminate=(0,w.Ig)(C),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(C){this.checked=!!C}registerOnChange(C){this._controlValueAccessorChangeFn=C}registerOnTouched(C){this._onTouched=C}setDisabledState(C){this.disabled=C}_transitionCheckState(C){let B=this._currentCheckState,W=this._getAnimationTargetElement();if(B!==C&&W&&(this._currentAnimationClass&&W.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,C),this._currentCheckState=C,this._currentAnimationClass.length>0)){W.classList.add(this._currentAnimationClass);const q=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{W.classList.remove(q)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const C=this._options?.clickAction;this.disabled||"noop"===C?!this.disabled&&"noop"===C&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==C&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(C){C.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(C,B){if("NoopAnimations"===this._animationMode)return"";switch(C){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(C){const B=this._inputElement;B&&(B.nativeElement.indeterminate=C)}static#e=this.\u0275fac=function(B){c.$Z()};static#t=this.\u0275dir=c.lG2({type:T,viewQuery:function(B,W){if(1&B&&(c.Gf(E,5),c.Gf(F,5),c.Gf(y.wG,5)),2&B){let q;c.iGM(q=c.CRH())&&(W._inputElement=q.first),c.iGM(q=c.CRH())&&(W._labelElement=q.first),c.iGM(q=c.CRH())&&(W.ripple=q.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[c.qOj]})}return T})(),H=(()=>{class T extends R{constructor(C,B,W,q,le,Fe){super("mat-mdc-checkbox-",C,B,W,q,le,Fe),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(C){const B=new g;return B.source=this,B.checked=C,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(C){C.target&&this._labelElement.nativeElement.contains(C.target)&&C.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||T)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(c.QbO,8),c.Y36(D,8))};static#t=this.\u0275cmp=c.Xpm({type:T,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,W){2&B&&(c.Ikx("id",W.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mdc-checkbox--disabled",W.disabled)("mat-mdc-checkbox-disabled",W.disabled)("mat-mdc-checkbox-checked",W.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[c._Bn([f]),c.qOj],ngContentSelectors:L,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,W){if(1&B&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(le){return W._preventBubblingFromLabel(le)}),c.TgZ(1,"div",1,2)(3,"div",3),c.NdJ("click",function(){return W._onTouchTargetClick()}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("blur",function(){return W._onBlur()})("click",function(){return W._onInputClick()})("change",function(le){return W._onInteractionEvent(le)}),c.qZA(),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c._UZ(10,"div",10),c.qZA(),c._UZ(11,"div",11),c.qZA(),c.TgZ(12,"label",12,13),c.Hsn(14),c.qZA()()),2&B){const q=c.MAs(2);c.ekj("mdc-form-field--align-end","before"==W.labelPosition),c.xp6(4),c.ekj("mdc-checkbox--selected",W.checked),c.Q6J("checked",W.checked)("indeterminate",W.indeterminate)("disabled",W.disabled)("id",W.inputId)("required",W.required)("tabIndex",W.tabIndex),c.uIk("aria-label",W.ariaLabel||null)("aria-labelledby",W.ariaLabelledby)("aria-describedby",W.ariaDescribedby)("name",W.name)("value",W.value),c.xp6(7),c.Q6J("matRippleTrigger",q)("matRippleDisabled",W.disableRipple||W.disabled)("matRippleCentered",!0),c.xp6(1),c.Q6J("for",W.inputId)}},dependencies:[y.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return T})(),M=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({})}return T})(),P=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({imports:[y.BQ,y.si,M,y.BQ,M]})}return T})()},3680:(Gn,tt,S)=>{"use strict";S.d(tt,{yN:()=>P,mZ:()=>T,_A:()=>Le,rD:()=>st,sG:()=>fe,K7:()=>Ht,HF:()=>at,Y2:()=>ve,BQ:()=>B,XK:()=>we,ey:()=>un,Ng:()=>nn,wG:()=>de,si:()=>Ae,IR:()=>X,CB:()=>Kt,jH:()=>Cn,pj:()=>$,Kr:()=>ae,Id:()=>Fe,FD:()=>ge,dB:()=>oe,sb:()=>K});var c=S(5879),t=S(4300),y=S(9388),E=S(6814),F=S(2831),L=S(2495),D=S(5592),p=S(8645),f=S(6028);const A=["text"];function U(Dt,ft){if(1&Dt&&c._UZ(0,"mat-pseudo-checkbox",6),2&Dt){const Qe=c.oxw();c.Q6J("disabled",Qe.disabled)("state",Qe.selected?"checked":"unchecked")}}function R(Dt,ft){if(1&Dt&&c._UZ(0,"mat-pseudo-checkbox",7),2&Dt){const Qe=c.oxw();c.Q6J("disabled",Qe.disabled)}}function H(Dt,ft){if(1&Dt&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&Dt){const Qe=c.oxw();c.xp6(1),c.hij("(",Qe.group.label,")")}}const k=[[["mat-icon"]],"*"],O=["mat-icon","*"];let P=(()=>{class Dt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return Dt})(),T=(()=>{class Dt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return Dt})();const C=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function N(){return!0}});let B=(()=>{class Dt{constructor(Qe,De,Pe){this._sanityChecks=De,this._document=Pe,this._hasDoneGlobalChecks=!1,Qe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Qe){return!(0,F.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Qe])}static#e=this.\u0275fac=function(De){return new(De||Dt)(c.LFG(t.qm),c.LFG(C,8),c.LFG(E.K0))};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({imports:[y.vT,y.vT]})}return Dt})();function Fe(Dt){return class extends Dt{get disabled(){return this._disabled}set disabled(ft){this._disabled=(0,L.Ig)(ft)}constructor(...ft){super(...ft),this._disabled=!1}}}function $(Dt,ft){return class extends Dt{get color(){return this._color}set color(Qe){const De=Qe||this.defaultColor;De!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),De&&this._elementRef.nativeElement.classList.add(`mat-${De}`),this._color=De)}constructor(...Qe){super(...Qe),this.defaultColor=ft,this.color=ft}}}function ae(Dt){return class extends Dt{get disableRipple(){return this._disableRipple}set disableRipple(ft){this._disableRipple=(0,L.Ig)(ft)}constructor(...ft){super(...ft),this._disableRipple=!1}}}function K(Dt,ft=0){return class extends Dt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Qe){this._tabIndex=null!=Qe?(0,L.su)(Qe):this.defaultTabIndex}constructor(...Qe){super(...Qe),this._tabIndex=ft,this.defaultTabIndex=ft}}}function ge(Dt){return class extends Dt{updateErrorState(){const ft=this.errorState,Ye=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ye!==ft&&(this.errorState=Ye,this.stateChanges.next())}constructor(...ft){super(...ft),this.errorState=!1}}}function oe(Dt){return class extends Dt{constructor(...ft){super(...ft),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new D.y(Qe=>{this._isInitialized?this._notifySubscriber(Qe):this._pendingSubscribers.push(Qe)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(ft){ft.next(),ft.complete()}}}const he=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Ce(){return(0,c.f3M)(c.soG)}});class Le{constructor(){this._localeChanges=new p.x,this.localeChanges=this._localeChanges}getValidDateOrNull(ft){return this.isDateInstance(ft)&&this.isValid(ft)?ft:null}deserialize(ft){return null==ft||this.isDateInstance(ft)&&this.isValid(ft)?ft:this.invalid()}setLocale(ft){this.locale=ft,this._localeChanges.next()}compareDate(ft,Qe){return this.getYear(ft)-this.getYear(Qe)||this.getMonth(ft)-this.getMonth(Qe)||this.getDate(ft)-this.getDate(Qe)}sameDate(ft,Qe){if(ft&&Qe){let De=this.isValid(ft),Pe=this.isValid(Qe);return De&&Pe?!this.compareDate(ft,Qe):De==Pe}return ft==Qe}clampDate(ft,Qe,De){return Qe&&this.compareDate(ft,Qe)<0?Qe:De&&this.compareDate(ft,De)>0?De:ft}}const fe=new c.OlP("mat-date-formats"),Re=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function xe(Dt,ft){const Qe=Array(Dt);for(let De=0;De<Dt;De++)Qe[De]=ft(De);return Qe}let pe=(()=>{class Dt extends Le{constructor(Qe,De){super(),this.useUtcForDisplay=!1,super.setLocale(Qe)}getYear(Qe){return Qe.getFullYear()}getMonth(Qe){return Qe.getMonth()}getDate(Qe){return Qe.getDate()}getDayOfWeek(Qe){return Qe.getDay()}getMonthNames(Qe){const De=new Intl.DateTimeFormat(this.locale,{month:Qe,timeZone:"utc"});return xe(12,Pe=>this._format(De,new Date(2017,Pe,1)))}getDateNames(){const Qe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return xe(31,De=>this._format(Qe,new Date(2017,0,De+1)))}getDayOfWeekNames(Qe){const De=new Intl.DateTimeFormat(this.locale,{weekday:Qe,timeZone:"utc"});return xe(7,Pe=>this._format(De,new Date(2017,0,Pe+1)))}getYearName(Qe){const De=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(De,Qe)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Qe){return this.getDate(this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe)+1,0))}clone(Qe){return new Date(Qe.getTime())}createDate(Qe,De,Pe){let Ye=this._createDateWithOverflow(Qe,De,Pe);return Ye.getMonth(),Ye}today(){return new Date}parse(Qe,De){return"number"==typeof Qe?new Date(Qe):Qe?new Date(Date.parse(Qe)):null}format(Qe,De){if(!this.isValid(Qe))throw Error("NativeDateAdapter: Cannot format invalid date.");const Pe=new Intl.DateTimeFormat(this.locale,{...De,timeZone:"utc"});return this._format(Pe,Qe)}addCalendarYears(Qe,De){return this.addCalendarMonths(Qe,12*De)}addCalendarMonths(Qe,De){let Pe=this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe)+De,this.getDate(Qe));return this.getMonth(Pe)!=((this.getMonth(Qe)+De)%12+12)%12&&(Pe=this._createDateWithOverflow(this.getYear(Pe),this.getMonth(Pe),0)),Pe}addCalendarDays(Qe,De){return this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe),this.getDate(Qe)+De)}toIso8601(Qe){return[Qe.getUTCFullYear(),this._2digit(Qe.getUTCMonth()+1),this._2digit(Qe.getUTCDate())].join("-")}deserialize(Qe){if("string"==typeof Qe){if(!Qe)return null;if(Re.test(Qe)){let De=new Date(Qe);if(this.isValid(De))return De}}return super.deserialize(Qe)}isDateInstance(Qe){return Qe instanceof Date}isValid(Qe){return!isNaN(Qe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Qe,De,Pe){const Ye=new Date;return Ye.setFullYear(Qe,De,Pe),Ye.setHours(0,0,0,0),Ye}_2digit(Qe){return("00"+Qe).slice(-2)}_format(Qe,De){const Pe=new Date;return Pe.setUTCFullYear(De.getFullYear(),De.getMonth(),De.getDate()),Pe.setUTCHours(De.getHours(),De.getMinutes(),De.getSeconds(),De.getMilliseconds()),Qe.format(Pe)}static#e=this.\u0275fac=function(De){return new(De||Dt)(c.LFG(he,8),c.LFG(F.t4))};static#t=this.\u0275prov=c.Yz7({token:Dt,factory:Dt.\u0275fac})}return Dt})();const Ue={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ke=(()=>{class Dt{static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({providers:[{provide:Le,useClass:pe}]})}return Dt})(),we=(()=>{class Dt{static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({providers:[{provide:fe,useValue:Ue}],imports:[ke]})}return Dt})(),st=(()=>{class Dt{isErrorState(Qe,De){return!!(Qe&&Qe.invalid&&(Qe.touched||De&&De.submitted))}static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275prov=c.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();class se{constructor(ft,Qe,De,Pe=!1){this._renderer=ft,this.element=Qe,this.config=De,this._animationForciblyDisabledThroughCss=Pe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _e=(0,F.i$)({passive:!0,capture:!0});class J{constructor(){this._events=new Map,this._delegateEventHandler=ft=>{const Qe=(0,F.sA)(ft);Qe&&this._events.get(ft.type)?.forEach((De,Pe)=>{(Pe===Qe||Pe.contains(Qe))&&De.forEach(Ye=>Ye.handleEvent(ft))})}}addHandler(ft,Qe,De,Pe){const Ye=this._events.get(Qe);if(Ye){const $e=Ye.get(De);$e?$e.add(Pe):Ye.set(De,new Set([Pe]))}else this._events.set(Qe,new Map([[De,new Set([Pe])]])),ft.runOutsideAngular(()=>{document.addEventListener(Qe,this._delegateEventHandler,_e)})}removeHandler(ft,Qe,De){const Pe=this._events.get(ft);if(!Pe)return;const Ye=Pe.get(Qe);Ye&&(Ye.delete(De),0===Ye.size&&Pe.delete(Qe),0===Pe.size&&(this._events.delete(ft),document.removeEventListener(ft,this._delegateEventHandler,_e)))}}const Q={enterDuration:225,exitDuration:150},te=(0,F.i$)({passive:!0,capture:!0}),ie=["mousedown","touchstart"],ee=["mouseup","mouseleave","touchend","touchcancel"];class X{static#e=this._eventManager=new J;constructor(ft,Qe,De,Pe){this._target=ft,this._ngZone=Qe,this._platform=Pe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Pe.isBrowser&&(this._containerElement=(0,L.fI)(De))}fadeInRipple(ft,Qe,De={}){const Pe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ye={...Q,...De.animation};De.centered&&(ft=Pe.left+Pe.width/2,Qe=Pe.top+Pe.height/2);const $e=De.radius||function ue(Dt,ft,Qe){const De=Math.max(Math.abs(Dt-Qe.left),Math.abs(Dt-Qe.right)),Pe=Math.max(Math.abs(ft-Qe.top),Math.abs(ft-Qe.bottom));return Math.sqrt(De*De+Pe*Pe)}(ft,Qe,Pe),lt=ft-Pe.left,ot=Qe-Pe.top,dt=Ye.enterDuration,Ft=document.createElement("div");Ft.classList.add("mat-ripple-element"),Ft.style.left=lt-$e+"px",Ft.style.top=ot-$e+"px",Ft.style.height=2*$e+"px",Ft.style.width=2*$e+"px",null!=De.color&&(Ft.style.backgroundColor=De.color),Ft.style.transitionDuration=`${dt}ms`,this._containerElement.appendChild(Ft);const $t=window.getComputedStyle(Ft),Jt=$t.transitionDuration,cn="none"===$t.transitionProperty||"0s"===Jt||"0s, 0s"===Jt||0===Pe.width&&0===Pe.height,mn=new se(this,Ft,De,cn);Ft.style.transform="scale3d(1, 1, 1)",mn.state=0,De.persistent||(this._mostRecentTransientRipple=mn);let xn=null;return!cn&&(dt||Ye.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ln=()=>this._finishRippleTransition(mn),Yn=()=>this._destroyRipple(mn);Ft.addEventListener("transitionend",Ln),Ft.addEventListener("transitioncancel",Yn),xn={onTransitionEnd:Ln,onTransitionCancel:Yn}}),this._activeRipples.set(mn,xn),(cn||!dt)&&this._finishRippleTransition(mn),mn}fadeOutRipple(ft){if(2===ft.state||3===ft.state)return;const Qe=ft.element,De={...Q,...ft.config.animation};Qe.style.transitionDuration=`${De.exitDuration}ms`,Qe.style.opacity="0",ft.state=2,(ft._animationForciblyDisabledThroughCss||!De.exitDuration)&&this._finishRippleTransition(ft)}fadeOutAll(){this._getActiveRipples().forEach(ft=>ft.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ft=>{ft.config.persistent||ft.fadeOut()})}setupTriggerEvents(ft){const Qe=(0,L.fI)(ft);!this._platform.isBrowser||!Qe||Qe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Qe,ie.forEach(De=>{X._eventManager.addHandler(this._ngZone,De,Qe,this)}))}handleEvent(ft){"mousedown"===ft.type?this._onMousedown(ft):"touchstart"===ft.type?this._onTouchStart(ft):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ee.forEach(Qe=>{this._triggerElement.addEventListener(Qe,this,te)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ft){0===ft.state?this._startFadeOutTransition(ft):2===ft.state&&this._destroyRipple(ft)}_startFadeOutTransition(ft){const Qe=ft===this._mostRecentTransientRipple,{persistent:De}=ft.config;ft.state=1,!De&&(!Qe||!this._isPointerDown)&&ft.fadeOut()}_destroyRipple(ft){const Qe=this._activeRipples.get(ft)??null;this._activeRipples.delete(ft),this._activeRipples.size||(this._containerRect=null),ft===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ft.state=3,null!==Qe&&(ft.element.removeEventListener("transitionend",Qe.onTransitionEnd),ft.element.removeEventListener("transitioncancel",Qe.onTransitionCancel)),ft.element.remove()}_onMousedown(ft){const Qe=(0,t.X6)(ft),De=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Qe&&!De&&(this._isPointerDown=!0,this.fadeInRipple(ft.clientX,ft.clientY,this._target.rippleConfig))}_onTouchStart(ft){if(!this._target.rippleDisabled&&!(0,t.yG)(ft)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Qe=ft.changedTouches;if(Qe)for(let De=0;De<Qe.length;De++)this.fadeInRipple(Qe[De].clientX,Qe[De].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ft=>{!ft.config.persistent&&(1===ft.state||ft.config.terminateOnPointerUp&&0===ft.state)&&ft.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ft=this._triggerElement;ft&&(ie.forEach(Qe=>X._eventManager.removeHandler(Qe,ft,this)),this._pointerUpEventsRegistered&&ee.forEach(Qe=>ft.removeEventListener(Qe,this,te)))}}const ve=new c.OlP("mat-ripple-global-options");let de=(()=>{class Dt{get disabled(){return this._disabled}set disabled(Qe){Qe&&this.fadeOutAllNonPersistent(),this._disabled=Qe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Qe){this._trigger=Qe,this._setupTriggerEventsIfEnabled()}constructor(Qe,De,Pe,Ye,$e){this._elementRef=Qe,this._animationMode=$e,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ye||{},this._rippleRenderer=new X(this,De,Qe,Pe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Qe,De=0,Pe){return"number"==typeof Qe?this._rippleRenderer.fadeInRipple(Qe,De,{...this.rippleConfig,...Pe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Qe})}static#e=this.\u0275fac=function(De){return new(De||Dt)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(F.t4),c.Y36(ve,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:Dt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(De,Pe){2&De&&c.ekj("mat-ripple-unbounded",Pe.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return Dt})(),Ae=(()=>{class Dt{static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({imports:[B,B]})}return Dt})(),We=(()=>{class Dt{constructor(Qe){this._animationMode=Qe,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(De){return new(De||Dt)(c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:Dt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(De,Pe){2&De&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Pe.state)("mat-pseudo-checkbox-checked","checked"===Pe.state)("mat-pseudo-checkbox-disabled",Pe.disabled)("mat-pseudo-checkbox-minimal","minimal"===Pe.appearance)("mat-pseudo-checkbox-full","full"===Pe.appearance)("_mat-animation-noopable","NoopAnimations"===Pe._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(De,Pe){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Dt})(),He=(()=>{class Dt{static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({imports:[B]})}return Dt})();const at=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),Ht=new c.OlP("MatOptgroup");let jt=0;class en{constructor(ft,Qe=!1){this.source=ft,this.isUserInput=Qe}}let dn=(()=>{class Dt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Qe){this._disabled=(0,L.Ig)(Qe)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Qe,De,Pe,Ye){this._element=Qe,this._changeDetectorRef=De,this._parent=Pe,this.group=Ye,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+jt++,this.onSelectionChange=new c.vpe,this._stateChanges=new p.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Qe=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Qe&&this._emitSelectionChangeEvent())}deselect(Qe=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Qe&&this._emitSelectionChangeEvent())}focus(Qe,De){const Pe=this._getHostElement();"function"==typeof Pe.focus&&Pe.focus(De)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Qe){(Qe.keyCode===f.K5||Qe.keyCode===f.L_)&&!(0,f.Vb)(Qe)&&(this._selectViaInteraction(),Qe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Qe=this.viewValue;Qe!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Qe)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Qe=!1){this.onSelectionChange.emit(new en(this,Qe))}static#e=this.\u0275fac=function(De){c.$Z()};static#t=this.\u0275dir=c.lG2({type:Dt,viewQuery:function(De,Pe){if(1&De&&c.Gf(A,7),2&De){let Ye;c.iGM(Ye=c.CRH())&&(Pe._text=Ye.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return Dt})(),un=(()=>{class Dt extends dn{constructor(Qe,De,Pe,Ye){super(Qe,De,Pe,Ye)}static#e=this.\u0275fac=function(De){return new(De||Dt)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(at,8),c.Y36(Ht,8))};static#t=this.\u0275cmp=c.Xpm({type:Dt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(De,Pe){1&De&&c.NdJ("click",function(){return Pe._selectViaInteraction()})("keydown",function($e){return Pe._handleKeydown($e)}),2&De&&(c.Ikx("id",Pe.id),c.uIk("aria-selected",Pe.selected)("aria-disabled",Pe.disabled.toString()),c.ekj("mdc-list-item--selected",Pe.selected)("mat-mdc-option-multiple",Pe.multiple)("mat-mdc-option-active",Pe.active)("mdc-list-item--disabled",Pe.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:O,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(De,Pe){1&De&&(c.F$t(k),c.YNc(0,U,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,R,1,1,"mat-pseudo-checkbox",3),c.YNc(6,H,2,1,"span",4),c._UZ(7,"div",5)),2&De&&(c.Q6J("ngIf",Pe.multiple),c.xp6(5),c.Q6J("ngIf",!Pe.multiple&&Pe.selected&&!Pe.hideSingleSelectionIndicator),c.xp6(1),c.Q6J("ngIf",Pe.group&&Pe.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",Pe._getHostElement())("matRippleDisabled",Pe.disabled||Pe.disableRipple))},dependencies:[de,E.O5,We],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Dt})();function Kt(Dt,ft,Qe){if(Qe.length){let De=ft.toArray(),Pe=Qe.toArray(),Ye=0;for(let $e=0;$e<Dt+1;$e++)De[$e].group&&De[$e].group===Pe[Ye]&&Ye++;return Ye}return 0}function Cn(Dt,ft,Qe,De){return Dt<Qe?Dt:Dt+ft>Qe+De?Math.max(0,Dt-De+ft):Qe}let nn=(()=>{class Dt{static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({imports:[Ae,E.ez,B,He]})}return Dt})()},8034:(Gn,tt,S)=>{"use strict";S.d(tt,{FA:()=>ei,Mq:()=>Lt,hl:()=>Yn,nW:()=>ci});var c=S(4300),t=S(3651),y=S(8484),w=S(6814),E=S(5879),F=S(2296),L=S(799),D=S(3680),p=S(8645),f=S(7394),g=S(3019),v=S(2096),A=S(6028),U=S(9388),R=S(2831),H=S(8180),k=S(7921),O=S(2181),M=S(2495),P=S(6825),T=S(95),N=S(4170),C=S(2032);const B=["mat-calendar-body",""];function W(Et,fn){if(1&Et&&(E.TgZ(0,"tr",3)(1,"td",4),E._uU(2),E.qZA()()),2&Et){const be=E.oxw();E.xp6(1),E.Udp("padding-top",be._cellPadding)("padding-bottom",be._cellPadding),E.uIk("colspan",be.numCols),E.xp6(1),E.hij(" ",be.label," ")}}function q(Et,fn){if(1&Et&&(E.TgZ(0,"td",4),E._uU(1),E.qZA()),2&Et){const be=E.oxw(2);E.Udp("padding-top",be._cellPadding)("padding-bottom",be._cellPadding),E.uIk("colspan",be._firstRowOffset),E.xp6(1),E.hij(" ",be._firstRowOffset>=be.labelMinRequiredCells?be.label:""," ")}}function le(Et,fn){if(1&Et){const be=E.EpF();E.TgZ(0,"td",8)(1,"button",9),E.NdJ("click",function(gt){const an=E.CHM(be).$implicit,ti=E.oxw(2);return E.KtG(ti._cellClicked(an,gt))})("focus",function(gt){const an=E.CHM(be).$implicit,ti=E.oxw(2);return E.KtG(ti._emitActiveDateChange(an,gt))}),E.TgZ(2,"span",10),E._uU(3),E.qZA(),E._UZ(4,"span",11),E.qZA()()}if(2&Et){const be=fn.$implicit,yt=fn.index,gt=E.oxw().index,kt=E.oxw();E.Udp("width",kt._cellWidth)("padding-top",kt._cellPadding)("padding-bottom",kt._cellPadding),E.uIk("data-mat-row",gt)("data-mat-col",yt),E.xp6(1),E.ekj("mat-calendar-body-disabled",!be.enabled)("mat-calendar-body-active",kt._isActiveCell(gt,yt))("mat-calendar-body-range-start",kt._isRangeStart(be.compareValue))("mat-calendar-body-range-end",kt._isRangeEnd(be.compareValue))("mat-calendar-body-in-range",kt._isInRange(be.compareValue))("mat-calendar-body-comparison-bridge-start",kt._isComparisonBridgeStart(be.compareValue,gt,yt))("mat-calendar-body-comparison-bridge-end",kt._isComparisonBridgeEnd(be.compareValue,gt,yt))("mat-calendar-body-comparison-start",kt._isComparisonStart(be.compareValue))("mat-calendar-body-comparison-end",kt._isComparisonEnd(be.compareValue))("mat-calendar-body-in-comparison-range",kt._isInComparisonRange(be.compareValue))("mat-calendar-body-preview-start",kt._isPreviewStart(be.compareValue))("mat-calendar-body-preview-end",kt._isPreviewEnd(be.compareValue))("mat-calendar-body-in-preview",kt._isInPreview(be.compareValue)),E.Q6J("ngClass",be.cssClasses)("tabindex",kt._isActiveCell(gt,yt)?0:-1),E.uIk("aria-label",be.ariaLabel)("aria-disabled",!be.enabled||null)("aria-pressed",kt._isSelected(be.compareValue))("aria-current",kt.todayValue===be.compareValue?"date":null)("aria-describedby",kt._getDescribedby(be.compareValue)),E.xp6(1),E.ekj("mat-calendar-body-selected",kt._isSelected(be.compareValue))("mat-calendar-body-comparison-identical",kt._isComparisonIdentical(be.compareValue))("mat-calendar-body-today",kt.todayValue===be.compareValue),E.xp6(1),E.hij(" ",be.displayValue," ")}}function Fe(Et,fn){if(1&Et&&(E.TgZ(0,"tr",5),E.YNc(1,q,2,6,"td",6),E.YNc(2,le,5,48,"td",7),E.qZA()),2&Et){const be=fn.$implicit,yt=fn.index,gt=E.oxw();E.xp6(1),E.Q6J("ngIf",0===yt&&gt._firstRowOffset),E.xp6(1),E.Q6J("ngForOf",be)}}function $(Et,fn){if(1&Et&&(E.TgZ(0,"th",5)(1,"span",6),E._uU(2),E.qZA(),E.TgZ(3,"span",7),E._uU(4),E.qZA()()),2&Et){const be=fn.$implicit;E.xp6(2),E.Oqu(be.long),E.xp6(2),E.Oqu(be.narrow)}}const ae=["*"];function K(Et,fn){}function ge(Et,fn){if(1&Et){const be=E.EpF();E.TgZ(0,"mat-month-view",5),E.NdJ("activeDateChange",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt.activeDate=gt)})("_userSelection",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._dateSelected(gt))})("dragStarted",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._dragStarted(gt))})("dragEnded",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._dragEnded(gt))}),E.qZA()}if(2&Et){const be=E.oxw();E.Q6J("activeDate",be.activeDate)("selected",be.selected)("dateFilter",be.dateFilter)("maxDate",be.maxDate)("minDate",be.minDate)("dateClass",be.dateClass)("comparisonStart",be.comparisonStart)("comparisonEnd",be.comparisonEnd)("startDateAccessibleName",be.startDateAccessibleName)("endDateAccessibleName",be.endDateAccessibleName)("activeDrag",be._activeDrag)}}function oe(Et,fn){if(1&Et){const be=E.EpF();E.TgZ(0,"mat-year-view",6),E.NdJ("activeDateChange",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt.activeDate=gt)})("monthSelected",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._monthSelectedInYearView(gt))})("selectedChange",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._goToDateInView(gt,"month"))}),E.qZA()}if(2&Et){const be=E.oxw();E.Q6J("activeDate",be.activeDate)("selected",be.selected)("dateFilter",be.dateFilter)("maxDate",be.maxDate)("minDate",be.minDate)("dateClass",be.dateClass)}}function he(Et,fn){if(1&Et){const be=E.EpF();E.TgZ(0,"mat-multi-year-view",7),E.NdJ("activeDateChange",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt.activeDate=gt)})("yearSelected",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._yearSelectedInMultiYearView(gt))})("selectedChange",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._goToDateInView(gt,"year"))}),E.qZA()}if(2&Et){const be=E.oxw();E.Q6J("activeDate",be.activeDate)("selected",be.selected)("dateFilter",be.dateFilter)("maxDate",be.maxDate)("minDate",be.minDate)("dateClass",be.dateClass)}}function Ce(Et,fn){}const Le=["button"];function fe(Et,fn){1&Et&&(E.O4$(),E.TgZ(0,"svg",3),E._UZ(1,"path",4),E.qZA())}const Re=[[["","matDatepickerToggleIcon",""]]],xe=["[matDatepickerToggleIcon]"];let Ve=(()=>{class Et{constructor(){this.changes=new p.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(be,yt){return`${be} \u2013 ${yt}`}formatYearRangeLabel(be,yt){return`${be} to ${yt}`}static#e=this.\u0275fac=function(yt){return new(yt||Et)};static#t=this.\u0275prov=E.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})();class st{constructor(fn,be,yt,gt,kt={},an=fn,ti){this.value=fn,this.displayValue=be,this.ariaLabel=yt,this.enabled=gt,this.cssClasses=kt,this.compareValue=an,this.rawValue=ti}}let Je=1;const Ne=(0,R.i$)({passive:!1,capture:!0}),Te=(0,R.i$)({passive:!0,capture:!0}),Y=(0,R.i$)({passive:!0});let se=(()=>{class Et{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(be,yt){this._elementRef=be,this._ngZone=yt,this._platform=(0,E.f3M)(R.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new E.vpe,this.previewChange=new E.vpe,this.activeDateChange=new E.vpe,this.dragStarted=new E.vpe,this.dragEnded=new E.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=gt=>{if(this._skipNextFocus&&"focus"===gt.type)this._skipNextFocus=!1;else if(gt.target&&this.isRange){const kt=this._getCellFromElement(gt.target);kt&&this._ngZone.run(()=>this.previewChange.emit({value:kt.enabled?kt:null,event:gt}))}},this._touchmoveHandler=gt=>{if(!this.isRange)return;const kt=ie(gt),an=kt?this._getCellFromElement(kt):null;kt!==gt.target&&(this._didDragSinceMouseDown=!0),J(gt.target)&&gt.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:an?.enabled?an:null,event:gt}))},this._leaveHandler=gt=>{null!==this.previewEnd&&this.isRange&&("blur"!==gt.type&&(this._didDragSinceMouseDown=!0),gt.target&&this._getCellFromElement(gt.target)&&(!gt.relatedTarget||!this._getCellFromElement(gt.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:gt})))},this._mousedownHandler=gt=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const kt=gt.target&&this._getCellFromElement(gt.target);!kt||!this._isInRange(kt.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:kt.rawValue,event:gt})})},this._mouseupHandler=gt=>{if(!this.isRange)return;const kt=J(gt.target);kt?kt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const an=this._getCellFromElement(kt);this.dragEnded.emit({value:an?.rawValue??null,event:gt})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:gt})})},this._touchendHandler=gt=>{const kt=ie(gt);kt&&this._mouseupHandler({target:kt})},this._id="mat-calendar-body-"+Je++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,yt.runOutsideAngular(()=>{const gt=be.nativeElement;gt.addEventListener("touchmove",this._touchmoveHandler,Ne),gt.addEventListener("mouseenter",this._enterHandler,Te),gt.addEventListener("focus",this._enterHandler,Te),gt.addEventListener("mouseleave",this._leaveHandler,Te),gt.addEventListener("blur",this._leaveHandler,Te),gt.addEventListener("mousedown",this._mousedownHandler,Y),gt.addEventListener("touchstart",this._mousedownHandler,Y),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(be,yt){this._didDragSinceMouseDown||be.enabled&&this.selectedValueChange.emit({value:be.value,event:yt})}_emitActiveDateChange(be,yt){be.enabled&&this.activeDateChange.emit({value:be.value,event:yt})}_isSelected(be){return this.startValue===be||this.endValue===be}ngOnChanges(be){const yt=be.numCols,{rows:gt,numCols:kt}=this;(be.rows||yt)&&(this._firstRowOffset=gt&&gt.length&&gt[0].length?kt-gt[0].length:0),(be.cellAspectRatio||yt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/kt+"%"),(yt||!this._cellWidth)&&(this._cellWidth=100/kt+"%")}ngOnDestroy(){const be=this._elementRef.nativeElement;be.removeEventListener("touchmove",this._touchmoveHandler,Ne),be.removeEventListener("mouseenter",this._enterHandler,Te),be.removeEventListener("focus",this._enterHandler,Te),be.removeEventListener("mouseleave",this._leaveHandler,Te),be.removeEventListener("blur",this._leaveHandler,Te),be.removeEventListener("mousedown",this._mousedownHandler,Y),be.removeEventListener("touchstart",this._mousedownHandler,Y),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(be,yt){let gt=be*this.numCols+yt;return be&&(gt-=this._firstRowOffset),gt==this.activeCell}_focusActiveCell(be=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,H.q)(1)).subscribe(()=>{setTimeout(()=>{const yt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");yt&&(be||(this._skipNextFocus=!0),yt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(be){return Q(be,this.startValue,this.endValue)}_isRangeEnd(be){return Z(be,this.startValue,this.endValue)}_isInRange(be){return te(be,this.startValue,this.endValue,this.isRange)}_isComparisonStart(be){return Q(be,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(be,yt,gt){if(!this._isComparisonStart(be)||this._isRangeStart(be)||!this._isInRange(be))return!1;let kt=this.rows[yt][gt-1];if(!kt){const an=this.rows[yt-1];kt=an&&an[an.length-1]}return kt&&!this._isRangeEnd(kt.compareValue)}_isComparisonBridgeEnd(be,yt,gt){if(!this._isComparisonEnd(be)||this._isRangeEnd(be)||!this._isInRange(be))return!1;let kt=this.rows[yt][gt+1];if(!kt){const an=this.rows[yt+1];kt=an&&an[0]}return kt&&!this._isRangeStart(kt.compareValue)}_isComparisonEnd(be){return Z(be,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(be){return te(be,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(be){return this.comparisonStart===this.comparisonEnd&&be===this.comparisonStart}_isPreviewStart(be){return Q(be,this.previewStart,this.previewEnd)}_isPreviewEnd(be){return Z(be,this.previewStart,this.previewEnd)}_isInPreview(be){return te(be,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(be){return this.isRange?this.startValue===be&&this.endValue===be?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===be?this._startDateLabelId:this.endValue===be?this._endDateLabelId:null:null}_getCellFromElement(be){const yt=J(be);if(yt){const gt=yt.getAttribute("data-mat-row"),kt=yt.getAttribute("data-mat-col");if(gt&&kt)return this.rows[parseInt(gt)][parseInt(kt)]}return null}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(E.SBq),E.Y36(E.R0b))};static#t=this.\u0275cmp=E.Xpm({type:Et,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[E.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(yt,gt){1&yt&&(E.YNc(0,W,3,6,"tr",0),E.YNc(1,Fe,3,2,"tr",1),E.TgZ(2,"label",2),E._uU(3),E.qZA(),E.TgZ(4,"label",2),E._uU(5),E.qZA()),2&yt&&(E.Q6J("ngIf",gt._firstRowOffset<gt.labelMinRequiredCells),E.xp6(1),E.Q6J("ngForOf",gt.rows),E.xp6(1),E.Q6J("id",gt._startDateLabelId),E.xp6(1),E.hij(" ",gt.startDateAccessibleName,"\n"),E.xp6(1),E.Q6J("id",gt._endDateLabelId),E.xp6(1),E.hij(" ",gt.endDateAccessibleName,"\n"))},dependencies:[w.mk,w.sg,w.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return Et})();function _e(Et){return"TD"===Et?.nodeName}function J(Et){let fn;return _e(Et)?fn=Et:_e(Et.parentNode)?fn=Et.parentNode:_e(Et.parentNode?.parentNode)&&(fn=Et.parentNode.parentNode),null!=fn?.getAttribute("data-mat-row")?fn:null}function Q(Et,fn,be){return null!==be&&fn!==be&&Et<be&&Et===fn}function Z(Et,fn,be){return null!==fn&&fn!==be&&Et>=fn&&Et===be}function te(Et,fn,be,yt){return yt&&null!==fn&&null!==be&&fn!==be&&Et>=fn&&Et<=be}function ie(Et){const fn=Et.changedTouches[0];return document.elementFromPoint(fn.clientX,fn.clientY)}class ee{constructor(fn,be){this.start=fn,this.end=be}}let X=(()=>{class Et{constructor(be,yt){this.selection=be,this._adapter=yt,this._selectionChanged=new p.x,this.selectionChanged=this._selectionChanged,this.selection=be}updateSelection(be,yt){const gt=this.selection;this.selection=be,this._selectionChanged.next({selection:be,source:yt,oldValue:gt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(be){return this._adapter.isDateInstance(be)&&this._adapter.isValid(be)}static#e=this.\u0275fac=function(yt){E.$Z()};static#t=this.\u0275prov=E.Yz7({token:Et,factory:Et.\u0275fac})}return Et})(),ue=(()=>{class Et extends X{constructor(be){super(null,be)}add(be){super.updateSelection(be,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const be=new Et(this._adapter);return be.updateSelection(this.selection,this),be}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.LFG(D._A))};static#t=this.\u0275prov=E.Yz7({token:Et,factory:Et.\u0275fac})}return Et})();const Ae={provide:X,deps:[[new E.FiY,new E.tp0,X],D._A],useFactory:function de(Et,fn){return Et||new ue(fn)}},at=new E.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let It=(()=>{class Et{get activeDate(){return this._activeDate}set activeDate(be){const yt=this._activeDate,gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),this._hasSameMonthAndYear(yt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}constructor(be,yt,gt,kt,an){this._changeDetectorRef=be,this._dateFormats=yt,this._dateAdapter=gt,this._dir=kt,this._rangeStrategy=an,this._rerenderSubscription=f.w0.EMPTY,this.activeDrag=null,this.selectedChange=new E.vpe,this._userSelection=new E.vpe,this.dragStarted=new E.vpe,this.dragEnded=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnChanges(be){const yt=be.comparisonStart||be.comparisonEnd;yt&&!yt.firstChange&&this._setRanges(this.selected),be.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(be){const yt=be.value,gt=this._getDateFromDayOfMonth(yt);let kt,an;this._selected instanceof ee?(kt=this._getDateInCurrentMonth(this._selected.start),an=this._getDateInCurrentMonth(this._selected.end)):kt=an=this._getDateInCurrentMonth(this._selected),(kt!==yt||an!==yt)&&this.selectedChange.emit(gt),this._userSelection.emit({value:gt,event:be.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(be){const gt=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(be.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(be){const yt=this._activeDate,gt=this._isRtl();switch(be.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,gt?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,gt?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.Ku:this.activeDate=be.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.VM:this.activeDate=be.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.K5:case A.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&be.preventDefault());case A.hY:return void(null!=this._previewEnd&&!(0,A.Vb)(be)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:be}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:be})),be.preventDefault(),be.stopPropagation()));default:return}this._dateAdapter.compareDate(yt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),be.preventDefault()}_handleCalendarBodyKeyup(be){(be.keyCode===A.L_||be.keyCode===A.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:be}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let be=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(be)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(be){this._matCalendarBody._focusActiveCell(be)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:be,value:yt}){if(this._rangeStrategy){const gt=yt?yt.rawValue:null,kt=this._rangeStrategy.createPreview(gt,this.selected,be);if(this._previewStart=this._getCellCompareValue(kt.start),this._previewEnd=this._getCellCompareValue(kt.end),this.activeDrag&&gt){const an=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,gt,be);an&&(this._previewStart=this._getCellCompareValue(an.start),this._previewEnd=this._getCellCompareValue(an.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(be){if(this.activeDrag)if(be.value){const yt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,be.value,be.event);this.dragEnded.emit({value:yt??null,event:be.event})}else this.dragEnded.emit({value:null,event:be.event})}_getDateFromDayOfMonth(be){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),be)}_initWeekdays(){const be=this._dateAdapter.getFirstDayOfWeek(),yt=this._dateAdapter.getDayOfWeekNames("narrow");let kt=this._dateAdapter.getDayOfWeekNames("long").map((an,ti)=>({long:an,narrow:yt[ti]}));this._weekdays=kt.slice(be).concat(kt.slice(0,be))}_createWeekCells(){const be=this._dateAdapter.getNumDaysInMonth(this.activeDate),yt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let gt=0,kt=this._firstWeekOffset;gt<be;gt++,kt++){7==kt&&(this._weeks.push([]),kt=0);const an=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),gt+1),ti=this._shouldEnableDate(an),hi=this._dateAdapter.format(an,this._dateFormats.display.dateA11yLabel),Li=this.dateClass?this.dateClass(an,"month"):void 0;this._weeks[this._weeks.length-1].push(new st(gt+1,yt[gt],hi,ti,Li,this._getCellCompareValue(an),an))}}_shouldEnableDate(be){return!!be&&(!this.minDate||this._dateAdapter.compareDate(be,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(be,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(be))}_getDateInCurrentMonth(be){return be&&this._hasSameMonthAndYear(be,this.activeDate)?this._dateAdapter.getDate(be):null}_hasSameMonthAndYear(be,yt){return!(!be||!yt||this._dateAdapter.getMonth(be)!=this._dateAdapter.getMonth(yt)||this._dateAdapter.getYear(be)!=this._dateAdapter.getYear(yt))}_getCellCompareValue(be){if(be){const yt=this._dateAdapter.getYear(be),gt=this._dateAdapter.getMonth(be),kt=this._dateAdapter.getDate(be);return new Date(yt,gt,kt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(be){be instanceof ee?(this._rangeStart=this._getCellCompareValue(be.start),this._rangeEnd=this._getCellCompareValue(be.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(be),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(be){return!this.dateFilter||this.dateFilter(be)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(E.sBO),E.Y36(D.sG,8),E.Y36(D._A,8),E.Y36(U.Is,8),E.Y36(at,8))};static#t=this.\u0275cmp=E.Xpm({type:Et,selectors:[["mat-month-view"]],viewQuery:function(yt,gt){if(1&yt&&E.Gf(se,5),2&yt){let kt;E.iGM(kt=E.CRH())&&(gt._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[E.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(yt,gt){1&yt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E.YNc(3,$,5,2,"th",2),E.qZA(),E.TgZ(4,"tr"),E._UZ(5,"th",3),E.qZA()(),E.TgZ(6,"tbody",4),E.NdJ("selectedValueChange",function(an){return gt._dateSelected(an)})("activeDateChange",function(an){return gt._updateActiveDate(an)})("previewChange",function(an){return gt._previewChanged(an)})("dragStarted",function(an){return gt.dragStarted.emit(an)})("dragEnded",function(an){return gt._dragEnded(an)})("keyup",function(an){return gt._handleCalendarBodyKeyup(an)})("keydown",function(an){return gt._handleCalendarBodyKeydown(an)}),E.qZA()()),2&yt&&(E.xp6(3),E.Q6J("ngForOf",gt._weekdays),E.xp6(3),E.Q6J("label",gt._monthLabel)("rows",gt._weeks)("todayValue",gt._todayDate)("startValue",gt._rangeStart)("endValue",gt._rangeEnd)("comparisonStart",gt._comparisonRangeStart)("comparisonEnd",gt._comparisonRangeEnd)("previewStart",gt._previewStart)("previewEnd",gt._previewEnd)("isRange",gt._isRange)("labelMinRequiredCells",3)("activeCell",gt._dateAdapter.getDate(gt.activeDate)-1)("startDateAccessibleName",gt.startDateAccessibleName)("endDateAccessibleName",gt.endDateAccessibleName))},dependencies:[w.sg,se],encapsulation:2,changeDetection:0})}return Et})();const jt=24;let dn=(()=>{class Et{get activeDate(){return this._activeDate}set activeDate(be){let yt=this._activeDate;const gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),un(this._dateAdapter,yt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be)),this._setSelectedYear(be)}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}constructor(be,yt,gt){this._changeDetectorRef=be,this._dateAdapter=yt,this._dir=gt,this._rerenderSubscription=f.w0.EMPTY,this.selectedChange=new E.vpe,this.yearSelected=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const yt=this._dateAdapter.getYear(this._activeDate)-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let gt=0,kt=[];gt<jt;gt++)kt.push(yt+gt),4==kt.length&&(this._years.push(kt.map(an=>this._createCellForYear(an))),kt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(be){const yt=be.value,gt=this._dateAdapter.createDate(yt,0,1),kt=this._getDateFromYear(yt);this.yearSelected.emit(gt),this.selectedChange.emit(kt)}_updateActiveDate(be){const gt=this._activeDate;this.activeDate=this._getDateFromYear(be.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(be){const yt=this._activeDate,gt=this._isRtl();switch(be.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gt?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gt?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,jt-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?10*-jt:-jt);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?10*jt:jt);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(yt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),be.preventDefault()}_handleCalendarBodyKeyup(be){(be.keyCode===A.L_||be.keyCode===A.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:be}),this._selectionKeyPressed=!1)}_getActiveCell(){return Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(be){const yt=this._dateAdapter.getMonth(this.activeDate),gt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(be,yt,1));return this._dateAdapter.createDate(be,yt,Math.min(this._dateAdapter.getDate(this.activeDate),gt))}_createCellForYear(be){const yt=this._dateAdapter.createDate(be,0,1),gt=this._dateAdapter.getYearName(yt),kt=this.dateClass?this.dateClass(yt,"multi-year"):void 0;return new st(be,gt,gt,this._shouldEnableYear(be),kt)}_shouldEnableYear(be){if(null==be||this.maxDate&&be>this._dateAdapter.getYear(this.maxDate)||this.minDate&&be<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let gt=this._dateAdapter.createDate(be,0,1);this._dateAdapter.getYear(gt)==be;gt=this._dateAdapter.addCalendarDays(gt,1))if(this.dateFilter(gt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(be){if(this._selectedYear=null,be instanceof ee){const yt=be.start||be.end;yt&&(this._selectedYear=this._dateAdapter.getYear(yt))}else be&&(this._selectedYear=this._dateAdapter.getYear(be))}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(E.sBO),E.Y36(D._A,8),E.Y36(U.Is,8))};static#t=this.\u0275cmp=E.Xpm({type:Et,selectors:[["mat-multi-year-view"]],viewQuery:function(yt,gt){if(1&yt&&E.Gf(se,5),2&yt){let kt;E.iGM(kt=E.CRH())&&(gt._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(yt,gt){1&yt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E._UZ(3,"th",2),E.qZA()(),E.TgZ(4,"tbody",3),E.NdJ("selectedValueChange",function(an){return gt._yearSelected(an)})("activeDateChange",function(an){return gt._updateActiveDate(an)})("keyup",function(an){return gt._handleCalendarBodyKeyup(an)})("keydown",function(an){return gt._handleCalendarBodyKeydown(an)}),E.qZA()()),2&yt&&(E.xp6(4),E.Q6J("rows",gt._years)("todayValue",gt._todayYear)("startValue",gt._selectedYear)("endValue",gt._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",gt._getActiveCell()))},dependencies:[se],encapsulation:2,changeDetection:0})}return Et})();function un(Et,fn,be,yt,gt){const kt=Et.getYear(fn),an=Et.getYear(be),ti=Cn(Et,yt,gt);return Math.floor((kt-ti)/jt)===Math.floor((an-ti)/jt)}function Kt(Et,fn,be,yt){return function nn(Et,fn){return(Et%fn+fn)%fn}(Et.getYear(fn)-Cn(Et,be,yt),jt)}function Cn(Et,fn,be){let yt=0;return be?yt=Et.getYear(be)-jt+1:fn&&(yt=Et.getYear(fn)),yt}let Dt=(()=>{class Et{get activeDate(){return this._activeDate}set activeDate(be){let yt=this._activeDate;const gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),this._dateAdapter.getYear(yt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be)),this._setSelectedMonth(be)}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}constructor(be,yt,gt,kt){this._changeDetectorRef=be,this._dateFormats=yt,this._dateAdapter=gt,this._dir=kt,this._rerenderSubscription=f.w0.EMPTY,this.selectedChange=new E.vpe,this.monthSelected=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(be){const yt=be.value,gt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),yt,1);this.monthSelected.emit(gt);const kt=this._getDateFromMonth(yt);this.selectedChange.emit(kt)}_updateActiveDate(be){const gt=this._activeDate;this.activeDate=this._getDateFromMonth(be.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(be){const yt=this._activeDate,gt=this._isRtl();switch(be.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,gt?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,gt?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?-10:-1);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?10:1);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(yt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),be.preventDefault()}_handleCalendarBodyKeyup(be){(be.keyCode===A.L_||be.keyCode===A.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:be}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let be=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(yt=>yt.map(gt=>this._createCellForMonth(gt,be[gt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(be){return be&&this._dateAdapter.getYear(be)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(be):null}_getDateFromMonth(be){const yt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),be,1),gt=this._dateAdapter.getNumDaysInMonth(yt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),be,Math.min(this._dateAdapter.getDate(this.activeDate),gt))}_createCellForMonth(be,yt){const gt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),be,1),kt=this._dateAdapter.format(gt,this._dateFormats.display.monthYearA11yLabel),an=this.dateClass?this.dateClass(gt,"year"):void 0;return new st(be,yt.toLocaleUpperCase(),kt,this._shouldEnableMonth(be),an)}_shouldEnableMonth(be){const yt=this._dateAdapter.getYear(this.activeDate);if(null==be||this._isYearAndMonthAfterMaxDate(yt,be)||this._isYearAndMonthBeforeMinDate(yt,be))return!1;if(!this.dateFilter)return!0;for(let kt=this._dateAdapter.createDate(yt,be,1);this._dateAdapter.getMonth(kt)==be;kt=this._dateAdapter.addCalendarDays(kt,1))if(this.dateFilter(kt))return!0;return!1}_isYearAndMonthAfterMaxDate(be,yt){if(this.maxDate){const gt=this._dateAdapter.getYear(this.maxDate),kt=this._dateAdapter.getMonth(this.maxDate);return be>gt||be===gt&&yt>kt}return!1}_isYearAndMonthBeforeMinDate(be,yt){if(this.minDate){const gt=this._dateAdapter.getYear(this.minDate),kt=this._dateAdapter.getMonth(this.minDate);return be<gt||be===gt&&yt<kt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(be){this._selectedMonth=be instanceof ee?this._getMonthInCurrentYear(be.start)||this._getMonthInCurrentYear(be.end):this._getMonthInCurrentYear(be)}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(E.sBO),E.Y36(D.sG,8),E.Y36(D._A,8),E.Y36(U.Is,8))};static#t=this.\u0275cmp=E.Xpm({type:Et,selectors:[["mat-year-view"]],viewQuery:function(yt,gt){if(1&yt&&E.Gf(se,5),2&yt){let kt;E.iGM(kt=E.CRH())&&(gt._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(yt,gt){1&yt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E._UZ(3,"th",2),E.qZA()(),E.TgZ(4,"tbody",3),E.NdJ("selectedValueChange",function(an){return gt._monthSelected(an)})("activeDateChange",function(an){return gt._updateActiveDate(an)})("keyup",function(an){return gt._handleCalendarBodyKeyup(an)})("keydown",function(an){return gt._handleCalendarBodyKeydown(an)}),E.qZA()()),2&yt&&(E.xp6(4),E.Q6J("label",gt._yearLabel)("rows",gt._months)("todayValue",gt._todayMonth)("startValue",gt._selectedMonth)("endValue",gt._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",gt._dateAdapter.getMonth(gt.activeDate)))},dependencies:[se],encapsulation:2,changeDetection:0})}return Et})(),ft=1,Qe=(()=>{class Et{constructor(be,yt,gt,kt,an){this._intl=be,this.calendar=yt,this._dateAdapter=gt,this._dateFormats=kt,this._id="mat-calendar-header-"+ft++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>an.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-jt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:jt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(be,yt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(be)==this._dateAdapter.getYear(yt)&&this._dateAdapter.getMonth(be)==this._dateAdapter.getMonth(yt):"year"==this.calendar.currentView?this._dateAdapter.getYear(be)==this._dateAdapter.getYear(yt):un(this._dateAdapter,be,yt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const yt=this._dateAdapter.getYear(this.calendar.activeDate)-Kt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),gt=yt+jt-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(yt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(gt,0,1))]}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(Ve),E.Y36((0,E.Gpc)(()=>De)),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(E.sBO))};static#t=this.\u0275cmp=E.Xpm({type:Et,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ae,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(yt,gt){1&yt&&(E.F$t(),E.TgZ(0,"div",0)(1,"div",1)(2,"button",2),E.NdJ("click",function(){return gt.currentPeriodClicked()}),E.TgZ(3,"span",3),E._uU(4),E.qZA(),E.O4$(),E.TgZ(5,"svg",4),E._UZ(6,"polygon",5),E.qZA()(),E.kcU(),E._UZ(7,"div",6),E.Hsn(8),E.TgZ(9,"button",7),E.NdJ("click",function(){return gt.previousClicked()}),E.qZA(),E.TgZ(10,"button",8),E.NdJ("click",function(){return gt.nextClicked()}),E.qZA()()(),E.TgZ(11,"label",9),E._uU(12),E.qZA()),2&yt&&(E.xp6(2),E.uIk("aria-label",gt.periodButtonLabel)("aria-describedby",gt._periodButtonLabelId),E.xp6(2),E.Oqu(gt.periodButtonText),E.xp6(1),E.ekj("mat-calendar-invert","month"!==gt.calendar.currentView),E.xp6(4),E.Q6J("disabled",!gt.previousEnabled()),E.uIk("aria-label",gt.prevButtonLabel),E.xp6(1),E.Q6J("disabled",!gt.nextEnabled()),E.uIk("aria-label",gt.nextButtonLabel),E.xp6(1),E.Q6J("id",gt._periodButtonLabelId),E.xp6(1),E.Oqu(gt.periodButtonDescription))},dependencies:[F.lW,F.RK],encapsulation:2,changeDetection:0})}return Et})(),De=(()=>{class Et{get startAt(){return this._startAt}set startAt(be){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get activeDate(){return this._clampedActiveDate}set activeDate(be){this._clampedActiveDate=this._dateAdapter.clampDate(be,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(be){const yt=this._currentView!==be?be:null;this._currentView=be,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),yt&&this.viewChanged.emit(yt)}constructor(be,yt,gt,kt){this._dateAdapter=yt,this._dateFormats=gt,this._changeDetectorRef=kt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new E.vpe,this.yearSelected=new E.vpe,this.monthSelected=new E.vpe,this.viewChanged=new E.vpe(!0),this._userSelection=new E.vpe,this._userDragDrop=new E.vpe,this._activeDrag=null,this.stateChanges=new p.x,this._intlChanges=be.changes.subscribe(()=>{kt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new y.C5(this.headerComponent||Qe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(be){const yt=be.minDate&&!this._dateAdapter.sameDate(be.minDate.previousValue,be.minDate.currentValue)?be.minDate:void 0,gt=be.maxDate&&!this._dateAdapter.sameDate(be.maxDate.previousValue,be.maxDate.currentValue)?be.maxDate:void 0,kt=yt||gt||be.dateFilter;if(kt&&!kt.firstChange){const an=this._getCurrentViewComponent();an&&(this._changeDetectorRef.detectChanges(),an._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(be){const yt=be.value;(this.selected instanceof ee||yt&&!this._dateAdapter.sameDate(yt,this.selected))&&this.selectedChange.emit(yt),this._userSelection.emit(be)}_yearSelectedInMultiYearView(be){this.yearSelected.emit(be)}_monthSelectedInYearView(be){this.monthSelected.emit(be)}_goToDateInView(be,yt){this.activeDate=be,this.currentView=yt}_dragStarted(be){this._activeDrag=be}_dragEnded(be){this._activeDrag&&(be.value&&this._userDragDrop.emit(be),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(Ve),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(E.sBO))};static#t=this.\u0275cmp=E.Xpm({type:Et,selectors:[["mat-calendar"]],viewQuery:function(yt,gt){if(1&yt&&(E.Gf(It,5),E.Gf(Dt,5),E.Gf(dn,5)),2&yt){let kt;E.iGM(kt=E.CRH())&&(gt.monthView=kt.first),E.iGM(kt=E.CRH())&&(gt.yearView=kt.first),E.iGM(kt=E.CRH())&&(gt.multiYearView=kt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[E._Bn([Ae]),E.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(yt,gt){1&yt&&(E.YNc(0,K,0,0,"ng-template",0),E.TgZ(1,"div",1),E.YNc(2,ge,1,11,"mat-month-view",2),E.YNc(3,oe,1,6,"mat-year-view",3),E.YNc(4,he,1,6,"mat-multi-year-view",4),E.qZA()),2&yt&&(E.Q6J("cdkPortalOutlet",gt._calendarHeaderPortal),E.xp6(1),E.Q6J("ngSwitch",gt.currentView),E.xp6(1),E.Q6J("ngSwitchCase","month"),E.xp6(1),E.Q6J("ngSwitchCase","year"),E.xp6(1),E.Q6J("ngSwitchCase","multi-year"))},dependencies:[w.RF,w.n9,c.kH,y.Pl,It,Dt,dn],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return Et})();const Pe={transformPanel:(0,P.X$)("transformPanel",[(0,P.eR)("void => enter-dropdown",(0,P.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,P.F4)([(0,P.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,P.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,P.eR)("void => enter-dialog",(0,P.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,P.F4)([(0,P.oB)({opacity:0,transform:"scale(0.7)"}),(0,P.oB)({transform:"none",opacity:1})]))),(0,P.eR)("* => void",(0,P.jt)("100ms linear",(0,P.oB)({opacity:0})))]),fadeInCalendar:(0,P.X$)("fadeInCalendar",[(0,P.SB)("void",(0,P.oB)({opacity:0})),(0,P.SB)("enter",(0,P.oB)({opacity:1})),(0,P.eR)("void => *",(0,P.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Ye=0;const $e=new E.OlP("mat-datepicker-scroll-strategy"),ot={provide:$e,deps:[t.aV],useFactory:function lt(Et){return()=>Et.scrollStrategies.reposition()}},dt=(0,D.pj)(class{constructor(Et){this._elementRef=Et}});let Ft=(()=>{class Et extends dt{constructor(be,yt,gt,kt,an,ti){super(be),this._changeDetectorRef=yt,this._globalModel=gt,this._dateAdapter=kt,this._rangeSelectionStrategy=an,this._subscriptions=new f.w0,this._animationDone=new p.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=ti.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(be){const yt=this._model.selection,gt=be.value,kt=yt instanceof ee;if(kt&&this._rangeSelectionStrategy){const an=this._rangeSelectionStrategy.selectionFinished(gt,yt,be.event);this._model.updateSelection(an,this)}else gt&&(kt||!this._dateAdapter.sameDate(gt,yt))&&this._model.add(gt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(be){this._model.updateSelection(be.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(be){this._isAnimating="start"===be.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(be,yt){this._model=be?this._globalModel.clone():this._globalModel,this._actionsPortal=be,yt&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(X),E.Y36(D._A),E.Y36(at,8),E.Y36(Ve))};static#t=this.\u0275cmp=E.Xpm({type:Et,selectors:[["mat-datepicker-content"]],viewQuery:function(yt,gt){if(1&yt&&E.Gf(De,5),2&yt){let kt;E.iGM(kt=E.CRH())&&(gt._calendar=kt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(yt,gt){1&yt&&E.WFA("@transformPanel.start",function(an){return gt._handleAnimationEvent(an)})("@transformPanel.done",function(an){return gt._handleAnimationEvent(an)}),2&yt&&(E.d8E("@transformPanel",gt._animationState),E.ekj("mat-datepicker-content-touch",gt.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[E.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(yt,gt){if(1&yt&&(E.TgZ(0,"div",0)(1,"mat-calendar",1),E.NdJ("yearSelected",function(an){return gt.datepicker._selectYear(an)})("monthSelected",function(an){return gt.datepicker._selectMonth(an)})("viewChanged",function(an){return gt.datepicker._viewChanged(an)})("_userSelection",function(an){return gt._handleUserSelection(an)})("_userDragDrop",function(an){return gt._handleUserDragDrop(an)}),E.qZA(),E.YNc(2,Ce,0,0,"ng-template",2),E.TgZ(3,"button",3),E.NdJ("focus",function(){return gt._closeButtonFocused=!0})("blur",function(){return gt._closeButtonFocused=!1})("click",function(){return gt.datepicker.close()}),E._uU(4),E.qZA()()),2&yt){let kt;E.ekj("mat-datepicker-content-container-with-custom-header",gt.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",gt._actionsPortal),E.uIk("aria-modal",!0)("aria-labelledby",null!==(kt=gt._dialogLabelId)&&void 0!==kt?kt:void 0),E.xp6(1),E.Q6J("id",gt.datepicker.id)("ngClass",gt.datepicker.panelClass)("startAt",gt.datepicker.startAt)("startView",gt.datepicker.startView)("minDate",gt.datepicker._getMinDate())("maxDate",gt.datepicker._getMaxDate())("dateFilter",gt.datepicker._getDateFilter())("headerComponent",gt.datepicker.calendarHeaderComponent)("selected",gt._getSelected())("dateClass",gt.datepicker.dateClass)("comparisonStart",gt.comparisonStart)("comparisonEnd",gt.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",gt.startDateAccessibleName)("endDateAccessibleName",gt.endDateAccessibleName),E.xp6(1),E.Q6J("cdkPortalOutlet",gt._actionsPortal),E.xp6(1),E.ekj("cdk-visually-hidden",!gt._closeButtonFocused),E.Q6J("color",gt.color||"primary"),E.xp6(1),E.Oqu(gt._closeButtonText)}},dependencies:[w.mk,F.lW,c.mK,y.Pl,De],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Pe.transformPanel,Pe.fadeInCalendar]},changeDetection:0})}return Et})(),$t=(()=>{class Et{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(be){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(be){this._color=be}get touchUi(){return this._touchUi}set touchUi(be){this._touchUi=(0,M.Ig)(be)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(be){const yt=(0,M.Ig)(be);yt!==this._disabled&&(this._disabled=yt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(be){this._restoreFocus=(0,M.Ig)(be)}get panelClass(){return this._panelClass}set panelClass(be){this._panelClass=(0,M.du)(be)}get opened(){return this._opened}set opened(be){(0,M.Ig)(be)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(be,yt,gt,kt,an,ti,hi){this._overlay=be,this._ngZone=yt,this._viewContainerRef=gt,this._dateAdapter=an,this._dir=ti,this._model=hi,this._inputStateChanges=f.w0.EMPTY,this._document=(0,E.f3M)(w.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new E.vpe,this.monthSelected=new E.vpe,this.viewChanged=new E.vpe(!0),this.openedStream=new E.vpe,this.closedStream=new E.vpe,this._opened=!1,this.id="mat-datepicker-"+Ye++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new p.x,this._scrollStrategy=kt}ngOnChanges(be){const yt=be.xPosition||be.yPosition;if(yt&&!yt.firstChange&&this._overlayRef){const gt=this._overlayRef.getConfig().positionStrategy;gt instanceof t._G&&(this._setConnectedPositions(gt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(be){this._model.add(be)}_selectYear(be){this.yearSelected.emit(be)}_selectMonth(be){this.monthSelected.emit(be)}_viewChanged(be){this.viewChanged.emit(be)}registerInput(be){return this._inputStateChanges.unsubscribe(),this.datepickerInput=be,this._inputStateChanges=be.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(be){this._actionsPortal=be,this._componentRef?.instance._assignActions(be,!0)}removeActions(be){be===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,R.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const be=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,yt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:gt,location:kt}=this._componentRef;gt._startExitAnimation(),gt._animationDone.pipe((0,H.q)(1)).subscribe(()=>{const an=this._document.activeElement;be&&(!an||an===this._document.activeElement||kt.nativeElement.contains(an))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}be?setTimeout(yt):yt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(be){be.datepicker=this,be.color=this.color,be._dialogLabelId=this.datepickerInput.getOverlayLabelId(),be._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const be=this.touchUi,yt=new y.C5(Ft,this._viewContainerRef),gt=this._overlayRef=this._overlay.create(new t.X_({positionStrategy:be?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[be?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:be?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(be?"dialog":"popup")}));this._getCloseStream(gt).subscribe(kt=>{kt&&kt.preventDefault(),this.close()}),gt.keydownEvents().subscribe(kt=>{const an=kt.keyCode;(an===A.LH||an===A.JH||an===A.oh||an===A.SV||an===A.Ku||an===A.VM)&&kt.preventDefault()}),this._componentRef=gt.attach(yt),this._forwardContentValues(this._componentRef.instance),be||this._ngZone.onStable.pipe((0,H.q)(1)).subscribe(()=>gt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const be=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(be)}_setConnectedPositions(be){const yt="end"===this.xPosition?"end":"start",gt="start"===yt?"end":"start",kt="above"===this.yPosition?"bottom":"top",an="top"===kt?"bottom":"top";return be.withPositions([{originX:yt,originY:an,overlayX:yt,overlayY:kt},{originX:yt,originY:kt,overlayX:yt,overlayY:an},{originX:gt,originY:an,overlayX:gt,overlayY:kt},{originX:gt,originY:kt,overlayX:gt,overlayY:an}])}_getCloseStream(be){const yt=["ctrlKey","shiftKey","metaKey"];return(0,g.T)(be.backdropClick(),be.detachments(),be.keydownEvents().pipe((0,O.h)(gt=>gt.keyCode===A.hY&&!(0,A.Vb)(gt)||this.datepickerInput&&(0,A.Vb)(gt,"altKey")&&gt.keyCode===A.LH&&yt.every(kt=>!(0,A.Vb)(gt,kt)))))}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(t.aV),E.Y36(E.R0b),E.Y36(E.s_b),E.Y36($e),E.Y36(D._A,8),E.Y36(U.Is,8),E.Y36(X))};static#t=this.\u0275dir=E.lG2({type:Et,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[E.TTD]})}return Et})(),Lt=(()=>{class Et extends $t{static#e=this.\u0275fac=function(){let be;return function(gt){return(be||(be=E.n5z(Et)))(gt||Et)}}();static#t=this.\u0275cmp=E.Xpm({type:Et,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[E._Bn([Ae,{provide:$t,useExisting:Et}]),E.qOj],decls:0,vars:0,template:function(yt,gt){},encapsulation:2,changeDetection:0})}return Et})();class Jt{constructor(fn,be){this.target=fn,this.targetElement=be,this.value=this.target.value}}let cn=(()=>{class Et{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(be){this._assignValueProgrammatically(be)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(be){const yt=(0,M.Ig)(be),gt=this._elementRef.nativeElement;this._disabled!==yt&&(this._disabled=yt,this.stateChanges.next(void 0)),yt&&this._isInitialized&&gt.blur&&gt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(be){this._model=be,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(yt=>{if(this._shouldHandleChangeEvent(yt)){const gt=this._getValueFromModel(yt.selection);this._lastValueValid=this._isValidValue(gt),this._cvaOnChange(gt),this._onTouched(),this._formatValue(gt),this.dateInput.emit(new Jt(this,this._elementRef.nativeElement)),this.dateChange.emit(new Jt(this,this._elementRef.nativeElement))}})}constructor(be,yt,gt){this._elementRef=be,this._dateAdapter=yt,this._dateFormats=gt,this.dateChange=new E.vpe,this.dateInput=new E.vpe,this.stateChanges=new p.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=f.w0.EMPTY,this._localeSubscription=f.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=kt=>{const an=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(kt.value));return!an||this._matchesFilter(an)?null:{matDatepickerFilter:!0}},this._minValidator=kt=>{const an=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(kt.value)),ti=this._getMinDate();return!ti||!an||this._dateAdapter.compareDate(ti,an)<=0?null:{matDatepickerMin:{min:ti,actual:an}}},this._maxValidator=kt=>{const an=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(kt.value)),ti=this._getMaxDate();return!ti||!an||this._dateAdapter.compareDate(ti,an)>=0?null:{matDatepickerMax:{max:ti,actual:an}}},this._lastValueValid=!1,this._localeSubscription=yt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(be){(function mn(Et,fn){const be=Object.keys(Et);for(let yt of be){const{previousValue:gt,currentValue:kt}=Et[yt];if(!fn.isDateInstance(gt)||!fn.isDateInstance(kt))return!0;if(!fn.sameDate(gt,kt))return!0}return!1})(be,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(be){this._validatorOnChange=be}validate(be){return this._validator?this._validator(be):null}writeValue(be){this._assignValueProgrammatically(be)}registerOnChange(be){this._cvaOnChange=be}registerOnTouched(be){this._onTouched=be}setDisabledState(be){this.disabled=be}_onKeydown(be){(0,A.Vb)(be,"altKey")&&be.keyCode===A.JH&&["ctrlKey","shiftKey","metaKey"].every(kt=>!(0,A.Vb)(be,kt))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),be.preventDefault())}_onInput(be){const yt=this._lastValueValid;let gt=this._dateAdapter.parse(be,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(gt),gt=this._dateAdapter.getValidDateOrNull(gt);const kt=!this._dateAdapter.sameDate(gt,this.value);!gt||kt?this._cvaOnChange(gt):(be&&!this.value&&this._cvaOnChange(gt),yt!==this._lastValueValid&&this._validatorOnChange()),kt&&(this._assignValue(gt),this.dateInput.emit(new Jt(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Jt(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(be){this._elementRef.nativeElement.value=null!=be?this._dateAdapter.format(be,this._dateFormats.display.dateInput):""}_assignValue(be){this._model?(this._assignValueToModel(be),this._pendingValue=null):this._pendingValue=be}_isValidValue(be){return!be||this._dateAdapter.isValid(be)}_parentDisabled(){return!1}_assignValueProgrammatically(be){be=this._dateAdapter.deserialize(be),this._lastValueValid=this._isValidValue(be),be=this._dateAdapter.getValidDateOrNull(be),this._assignValue(be),this._formatValue(be)}_matchesFilter(be){const yt=this._getDateFilter();return!yt||yt(be)}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(E.SBq),E.Y36(D._A,8),E.Y36(D.sG,8))};static#t=this.\u0275dir=E.lG2({type:Et,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[E.TTD]})}return Et})();const xn={provide:T.JU,useExisting:(0,E.Gpc)(()=>Yn),multi:!0},Ln={provide:T.Cf,useExisting:(0,E.Gpc)(()=>Yn),multi:!0};let Yn=(()=>{class Et extends cn{set matDatepicker(be){be&&(this._datepicker=be,this._closedSubscription=be.closedStream.subscribe(()=>this._onTouched()),this._registerModel(be.registerInput(this)))}get min(){return this._min}set min(be){const yt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be));this._dateAdapter.sameDate(yt,this._min)||(this._min=yt,this._validatorOnChange())}get max(){return this._max}set max(be){const yt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be));this._dateAdapter.sameDate(yt,this._max)||(this._max=yt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(be){const yt=this._matchesFilter(this.value);this._dateFilter=be,this._matchesFilter(this.value)!==yt&&this._validatorOnChange()}constructor(be,yt,gt,kt){super(be,yt,gt),this._formField=kt,this._closedSubscription=f.w0.EMPTY,this._validator=T.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(be){return be}_assignValueToModel(be){this._model&&this._model.updateSelection(be,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(be){return be.source!==this}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(E.SBq),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(N.G_,8))};static#t=this.\u0275dir=E.lG2({type:Et,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(yt,gt){1&yt&&E.NdJ("input",function(an){return gt._onInput(an.target.value)})("change",function(){return gt._onChange()})("blur",function(){return gt._onBlur()})("keydown",function(an){return gt._onKeydown(an)}),2&yt&&(E.Ikx("disabled",gt.disabled),E.uIk("aria-haspopup",gt._datepicker?"dialog":null)("aria-owns",(null==gt._datepicker?null:gt._datepicker.opened)&&gt._datepicker.id||null)("min",gt.min?gt._dateAdapter.toIso8601(gt.min):null)("max",gt.max?gt._dateAdapter.toIso8601(gt.max):null)("data-mat-calendar",gt._datepicker?gt._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[E._Bn([xn,Ln,{provide:C.Jk,useExisting:Et}]),E.qOj]})}return Et})(),Vn=(()=>{class Et{static#e=this.\u0275fac=function(yt){return new(yt||Et)};static#t=this.\u0275dir=E.lG2({type:Et,selectors:[["","matDatepickerToggleIcon",""]]})}return Et})(),ci=(()=>{class Et{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(be){this._disabled=(0,M.Ig)(be)}constructor(be,yt,gt){this._intl=be,this._changeDetectorRef=yt,this._stateChanges=f.w0.EMPTY;const kt=Number(gt);this.tabIndex=kt||0===kt?kt:null}ngOnChanges(be){be.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(be){this.datepicker&&!this.disabled&&(this.datepicker.open(),be.stopPropagation())}_watchStateChanges(){const be=this.datepicker?this.datepicker.stateChanges:(0,v.of)(),yt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,v.of)(),gt=this.datepicker?(0,g.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,v.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,g.T)(this._intl.changes,be,yt,gt).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(yt){return new(yt||Et)(E.Y36(Ve),E.Y36(E.sBO),E.$8M("tabindex"))};static#t=this.\u0275cmp=E.Xpm({type:Et,selectors:[["mat-datepicker-toggle"]],contentQueries:function(yt,gt,kt){if(1&yt&&E.Suo(kt,Vn,5),2&yt){let an;E.iGM(an=E.CRH())&&(gt._customIcon=an.first)}},viewQuery:function(yt,gt){if(1&yt&&E.Gf(Le,5),2&yt){let kt;E.iGM(kt=E.CRH())&&(gt._button=kt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(yt,gt){1&yt&&E.NdJ("click",function(an){return gt._open(an)}),2&yt&&(E.uIk("tabindex",null)("data-mat-calendar",gt.datepicker?gt.datepicker.id:null),E.ekj("mat-datepicker-toggle-active",gt.datepicker&&gt.datepicker.opened)("mat-accent",gt.datepicker&&"accent"===gt.datepicker.color)("mat-warn",gt.datepicker&&"warn"===gt.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[E.TTD],ngContentSelectors:xe,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(yt,gt){1&yt&&(E.F$t(Re),E.TgZ(0,"button",0,1),E.YNc(2,fe,2,0,"svg",2),E.Hsn(3),E.qZA()),2&yt&&(E.Q6J("disabled",gt.disabled)("disableRipple",gt.disableRipple),E.uIk("aria-haspopup",gt.datepicker?"dialog":null)("aria-label",gt.ariaLabel||gt._intl.openCalendarLabel)("tabindex",gt.disabled?-1:gt.tabIndex),E.xp6(2),E.Q6J("ngIf",!gt._customIcon))},dependencies:[w.O5,F.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Et})(),ei=(()=>{class Et{static#e=this.\u0275fac=function(yt){return new(yt||Et)};static#t=this.\u0275mod=E.oAB({type:Et});static#n=this.\u0275inj=E.cJS({providers:[Ve,ot],imports:[w.ez,F.ot,t.U8,c.rt,y.eL,D.BQ,L.ZD]})}return Et})()},7700:(Gn,tt,S)=>{"use strict";S.d(tt,{WI:()=>Je,uw:()=>Z,H8:()=>ue,vA:()=>he,xY:()=>X,Is:()=>de,so:()=>Ve,uh:()=>ee});var c=S(3651),t=S(6814),y=S(5879),w=S(4300),E=S(2831),F=S(8484),L=S(6028),D=S(8645),p=S(4911),f=S(2096),g=S(9388),v=S(7921);function A(He,at){}class U{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let H=(()=>{class He extends F.en{constructor(ct,it,vt,Ht,It,jt,en,dn){super(),this._elementRef=ct,this._focusTrapFactory=it,this._config=Ht,this._interactivityChecker=It,this._ngZone=jt,this._overlayRef=en,this._focusMonitor=dn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=un=>{this._portalOutlet.hasAttached();const Kt=this._portalOutlet.attachDomPortal(un);return this._contentAttached(),Kt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=vt}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ct){this._portalOutlet.hasAttached();const it=this._portalOutlet.attachComponentPortal(ct);return this._contentAttached(),it}attachTemplatePortal(ct){this._portalOutlet.hasAttached();const it=this._portalOutlet.attachTemplatePortal(ct);return this._contentAttached(),it}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ct,it){this._interactivityChecker.isFocusable(ct)||(ct.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const vt=()=>{ct.removeEventListener("blur",vt),ct.removeEventListener("mousedown",vt),ct.removeAttribute("tabindex")};ct.addEventListener("blur",vt),ct.addEventListener("mousedown",vt)})),ct.focus(it)}_focusByCssSelector(ct,it){let vt=this._elementRef.nativeElement.querySelector(ct);vt&&this._forceFocus(vt,it)}_trapFocus(){const ct=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ct.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(it=>{it||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ct=this._config.restoreFocus;let it=null;if("string"==typeof ct?it=this._document.querySelector(ct):"boolean"==typeof ct?it=ct?this._elementFocusedBeforeDialogWasOpened:null:ct&&(it=ct),this._config.restoreFocus&&it&&"function"==typeof it.focus){const vt=(0,E.ht)(),Ht=this._elementRef.nativeElement;(!vt||vt===this._document.body||vt===Ht||Ht.contains(vt))&&(this._focusMonitor?(this._focusMonitor.focusVia(it,this._closeInteractionType),this._closeInteractionType=null):it.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ct=this._elementRef.nativeElement,it=(0,E.ht)();return ct===it||ct.contains(it)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,E.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(it){return new(it||He)(y.Y36(y.SBq),y.Y36(w.qV),y.Y36(t.K0,8),y.Y36(U),y.Y36(w.ic),y.Y36(y.R0b),y.Y36(c.Iu),y.Y36(w.tE))};static#t=this.\u0275cmp=y.Xpm({type:He,selectors:[["cdk-dialog-container"]],viewQuery:function(it,vt){if(1&it&&y.Gf(F.Pl,7),2&it){let Ht;y.iGM(Ht=y.CRH())&&(vt._portalOutlet=Ht.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(it,vt){2&it&&y.uIk("id",vt._config.id||null)("role",vt._config.role)("aria-modal",vt._config.ariaModal)("aria-labelledby",vt._config.ariaLabel?null:vt._ariaLabelledBy)("aria-label",vt._config.ariaLabel)("aria-describedby",vt._config.ariaDescribedBy||null)},features:[y.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(it,vt){1&it&&y.YNc(0,A,0,0,"ng-template",0)},dependencies:[F.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return He})();class k{constructor(at,ct){this.overlayRef=at,this.config=ct,this.closed=new D.x,this.disableClose=ct.disableClose,this.backdropClick=at.backdropClick(),this.keydownEvents=at.keydownEvents(),this.outsidePointerEvents=at.outsidePointerEvents(),this.id=ct.id,this.keydownEvents.subscribe(it=>{it.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(it)&&(it.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=at.detachments().subscribe(()=>{!1!==ct.closeOnOverlayDetachments&&this.close()})}close(at,ct){if(this.containerInstance){const it=this.closed;this.containerInstance._closeInteractionType=ct?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),it.next(at),it.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(at="",ct=""){return this.overlayRef.updateSize({width:at,height:ct}),this}addPanelClass(at){return this.overlayRef.addPanelClass(at),this}removePanelClass(at){return this.overlayRef.removePanelClass(at),this}}const O=new y.OlP("DialogScrollStrategy"),M=new y.OlP("DialogData"),P=new y.OlP("DefaultDialogConfig"),N={provide:O,deps:[c.aV],useFactory:function T(He){return()=>He.scrollStrategies.block()}};let C=0,B=(()=>{class He{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ct,it,vt,Ht,It,jt){this._overlay=ct,this._injector=it,this._defaultOptions=vt,this._parentDialog=Ht,this._overlayContainer=It,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,p.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.O)(void 0))),this._scrollStrategy=jt}open(ct,it){(it={...this._defaultOptions||new U,...it}).id=it.id||"cdk-dialog-"+C++,it.id&&this.getDialogById(it.id);const Ht=this._getOverlayConfig(it),It=this._overlay.create(Ht),jt=new k(It,it),en=this._attachContainer(It,jt,it);return jt.containerInstance=en,this._attachDialogContent(ct,jt,en,it),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(jt),jt.closed.subscribe(()=>this._removeOpenDialog(jt,!0)),this.afterOpened.next(jt),jt}closeAll(){W(this.openDialogs,ct=>ct.close())}getDialogById(ct){return this.openDialogs.find(it=>it.id===ct)}ngOnDestroy(){W(this._openDialogsAtThisLevel,ct=>{!1===ct.config.closeOnDestroy&&this._removeOpenDialog(ct,!1)}),W(this._openDialogsAtThisLevel,ct=>ct.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ct){const it=new c.X_({positionStrategy:ct.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ct.scrollStrategy||this._scrollStrategy(),panelClass:ct.panelClass,hasBackdrop:ct.hasBackdrop,direction:ct.direction,minWidth:ct.minWidth,minHeight:ct.minHeight,maxWidth:ct.maxWidth,maxHeight:ct.maxHeight,width:ct.width,height:ct.height,disposeOnNavigation:ct.closeOnNavigation});return ct.backdropClass&&(it.backdropClass=ct.backdropClass),it}_attachContainer(ct,it,vt){const Ht=vt.injector||vt.viewContainerRef?.injector,It=[{provide:U,useValue:vt},{provide:k,useValue:it},{provide:c.Iu,useValue:ct}];let jt;vt.container?"function"==typeof vt.container?jt=vt.container:(jt=vt.container.type,It.push(...vt.container.providers(vt))):jt=H;const en=new F.C5(jt,vt.viewContainerRef,y.zs3.create({parent:Ht||this._injector,providers:It}),vt.componentFactoryResolver);return ct.attach(en).instance}_attachDialogContent(ct,it,vt,Ht){if(ct instanceof y.Rgc){const It=this._createInjector(Ht,it,vt,void 0);let jt={$implicit:Ht.data,dialogRef:it};Ht.templateContext&&(jt={...jt,..."function"==typeof Ht.templateContext?Ht.templateContext():Ht.templateContext}),vt.attachTemplatePortal(new F.UE(ct,null,jt,It))}else{const It=this._createInjector(Ht,it,vt,this._injector),jt=vt.attachComponentPortal(new F.C5(ct,Ht.viewContainerRef,It,Ht.componentFactoryResolver));it.componentInstance=jt.instance}}_createInjector(ct,it,vt,Ht){const It=ct.injector||ct.viewContainerRef?.injector,jt=[{provide:M,useValue:ct.data},{provide:k,useValue:it}];return ct.providers&&("function"==typeof ct.providers?jt.push(...ct.providers(it,ct,vt)):jt.push(...ct.providers)),ct.direction&&(!It||!It.get(g.Is,null,{optional:!0}))&&jt.push({provide:g.Is,useValue:{value:ct.direction,change:(0,f.of)()}}),y.zs3.create({parent:It||Ht,providers:jt})}_removeOpenDialog(ct,it){const vt=this.openDialogs.indexOf(ct);vt>-1&&(this.openDialogs.splice(vt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Ht,It)=>{Ht?It.setAttribute("aria-hidden",Ht):It.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),it&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ct=this._overlayContainer.getContainerElement();if(ct.parentElement){const it=ct.parentElement.children;for(let vt=it.length-1;vt>-1;vt--){const Ht=it[vt];Ht!==ct&&"SCRIPT"!==Ht.nodeName&&"STYLE"!==Ht.nodeName&&!Ht.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Ht,Ht.getAttribute("aria-hidden")),Ht.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ct=this._parentDialog;return ct?ct._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(it){return new(it||He)(y.LFG(c.aV),y.LFG(y.zs3),y.LFG(P,8),y.LFG(He,12),y.LFG(c.Xj),y.LFG(O))};static#t=this.\u0275prov=y.Yz7({token:He,factory:He.\u0275fac})}return He})();function W(He,at){let ct=He.length;for(;ct--;)at(He[ct])}let q=(()=>{class He{static#e=this.\u0275fac=function(it){return new(it||He)};static#t=this.\u0275mod=y.oAB({type:He});static#n=this.\u0275inj=y.cJS({providers:[B,N],imports:[c.U8,F.eL,w.rt,F.eL]})}return He})();var le=S(2495),Fe=S(3019),$=S(2181),ae=S(8180),K=S(3680);function oe(He,at){}S(6825);class he{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ce="mdc-dialog--open",Le="mdc-dialog--opening",fe="mdc-dialog--closing";let pe=(()=>{class He extends H{constructor(ct,it,vt,Ht,It,jt,en,dn){super(ct,it,vt,Ht,It,jt,en,dn),this._animationStateChanged=new y.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ct){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ct})}static#e=this.\u0275fac=function(it){return new(it||He)(y.Y36(y.SBq),y.Y36(w.qV),y.Y36(t.K0,8),y.Y36(he),y.Y36(w.ic),y.Y36(y.R0b),y.Y36(c.Iu),y.Y36(w.tE))};static#t=this.\u0275cmp=y.Xpm({type:He,selectors:[["ng-component"]],features:[y.qOj],decls:0,vars:0,template:function(it,vt){},encapsulation:2})}return He})();const Ue="--mat-dialog-transition-duration";function ke(He){return null==He?null:"number"==typeof He?He:He.endsWith("ms")?(0,le.su)(He.substring(0,He.length-2)):He.endsWith("s")?1e3*(0,le.su)(He.substring(0,He.length-1)):"0"===He?0:null}let we=(()=>{class He extends pe{constructor(ct,it,vt,Ht,It,jt,en,dn,un){super(ct,it,vt,Ht,It,jt,en,un),this._animationMode=dn,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?ke(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?ke(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ue,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Le,Ce)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ce),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ce),this._animationsEnabled?(this._hostElement.style.setProperty(Ue,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fe)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Le,fe)}_waitForAnimationToComplete(ct,it){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(it,ct)}_requestAnimationFrame(ct){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ct):ct()})}static#e=this.\u0275fac=function(it){return new(it||He)(y.Y36(y.SBq),y.Y36(w.qV),y.Y36(t.K0,8),y.Y36(he),y.Y36(w.ic),y.Y36(y.R0b),y.Y36(c.Iu),y.Y36(y.QbO,8),y.Y36(w.tE))};static#t=this.\u0275cmp=y.Xpm({type:He,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(it,vt){2&it&&(y.Ikx("id",vt._config.id),y.uIk("aria-modal",vt._config.ariaModal)("role",vt._config.role)("aria-labelledby",vt._config.ariaLabel?null:vt._ariaLabelledBy)("aria-label",vt._config.ariaLabel)("aria-describedby",vt._config.ariaDescribedBy||null),y.ekj("_mat-animation-noopable",!vt._animationsEnabled))},features:[y.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(it,vt){1&it&&(y.TgZ(0,"div",0)(1,"div",1),y.YNc(2,oe,0,0,"ng-template",2),y.qZA()())},dependencies:[F.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return He})();class Ve{constructor(at,ct,it){this._ref=at,this._containerInstance=it,this._afterOpened=new D.x,this._beforeClosed=new D.x,this._state=0,this.disableClose=ct.disableClose,this.id=at.id,it._animationStateChanged.pipe((0,$.h)(vt=>"opened"===vt.state),(0,ae.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),it._animationStateChanged.pipe((0,$.h)(vt=>"closed"===vt.state),(0,ae.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),at.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Fe.T)(this.backdropClick(),this.keydownEvents().pipe((0,$.h)(vt=>vt.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(vt)))).subscribe(vt=>{this.disableClose||(vt.preventDefault(),function st(He,at,ct){He._closeInteractionType=at,He.close(ct)}(this,"keydown"===vt.type?"keyboard":"mouse"))})}close(at){this._result=at,this._containerInstance._animationStateChanged.pipe((0,$.h)(ct=>"closing"===ct.state),(0,ae.q)(1)).subscribe(ct=>{this._beforeClosed.next(at),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ct.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(at){let ct=this._ref.config.positionStrategy;return at&&(at.left||at.right)?at.left?ct.left(at.left):ct.right(at.right):ct.centerHorizontally(),at&&(at.top||at.bottom)?at.top?ct.top(at.top):ct.bottom(at.bottom):ct.centerVertically(),this._ref.updatePosition(),this}updateSize(at="",ct=""){return this._ref.updateSize(at,ct),this}addPanelClass(at){return this._ref.addPanelClass(at),this}removePanelClass(at){return this._ref.removePanelClass(at),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Je=new y.OlP("MatMdcDialogData"),Ne=new y.OlP("mat-mdc-dialog-default-options"),Te=new y.OlP("mat-mdc-dialog-scroll-strategy"),se={provide:Te,deps:[c.aV],useFactory:function Y(He){return()=>He.scrollStrategies.block()}};let J=0,Q=(()=>{class He{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ct=this._parentDialog;return ct?ct._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ct,it,vt,Ht,It,jt,en,dn,un,Kt){this._overlay=ct,this._defaultOptions=vt,this._parentDialog=Ht,this._dialogRefConstructor=en,this._dialogContainerType=dn,this._dialogDataToken=un,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=he,this.afterAllClosed=(0,p.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.O)(void 0))),this._scrollStrategy=jt,this._dialog=it.get(B)}open(ct,it){let vt;(it={...this._defaultOptions||new he,...it}).id=it.id||`${this._idPrefix}${J++}`,it.scrollStrategy=it.scrollStrategy||this._scrollStrategy();const Ht=this._dialog.open(ct,{...it,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:it},{provide:U,useValue:it}]},templateContext:()=>({dialogRef:vt}),providers:(It,jt,en)=>(vt=new this._dialogRefConstructor(It,it,en),vt.updatePosition(it?.position),[{provide:this._dialogContainerType,useValue:en},{provide:this._dialogDataToken,useValue:jt.data},{provide:this._dialogRefConstructor,useValue:vt}])});return vt.componentInstance=Ht.componentInstance,this.openDialogs.push(vt),this.afterOpened.next(vt),vt.afterClosed().subscribe(()=>{const It=this.openDialogs.indexOf(vt);It>-1&&(this.openDialogs.splice(It,1),this.openDialogs.length||this._getAfterAllClosed().next())}),vt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ct){return this.openDialogs.find(it=>it.id===ct)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ct){let it=ct.length;for(;it--;)ct[it].close()}static#e=this.\u0275fac=function(it){y.$Z()};static#t=this.\u0275prov=y.Yz7({token:He,factory:He.\u0275fac})}return He})(),Z=(()=>{class He extends Q{constructor(ct,it,vt,Ht,It,jt,en,dn){super(ct,it,Ht,jt,en,It,Ve,we,Je,dn),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(it){return new(it||He)(y.LFG(c.aV),y.LFG(y.zs3),y.LFG(t.Ye,8),y.LFG(Ne,8),y.LFG(Te),y.LFG(He,12),y.LFG(c.Xj),y.LFG(y.QbO,8))};static#t=this.\u0275prov=y.Yz7({token:He,factory:He.\u0275fac})}return He})(),te=0,ee=(()=>{class He{constructor(ct,it,vt){this._dialogRef=ct,this._elementRef=it,this._dialog=vt,this.id="mat-mdc-dialog-title-"+te++}ngOnInit(){this._dialogRef||(this._dialogRef=function ve(He,at){let ct=He.nativeElement.parentElement;for(;ct&&!ct.classList.contains("mat-mdc-dialog-container");)ct=ct.parentElement;return ct?at.find(it=>it.id===ct.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const ct=this._dialogRef._containerInstance;ct&&!ct._ariaLabelledBy&&(ct._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(it){return new(it||He)(y.Y36(Ve,8),y.Y36(y.SBq),y.Y36(Z))};static#t=this.\u0275dir=y.lG2({type:He,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(it,vt){2&it&&y.Ikx("id",vt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return He})(),X=(()=>{class He{static#e=this.\u0275fac=function(it){return new(it||He)};static#t=this.\u0275dir=y.lG2({type:He,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return He})(),ue=(()=>{class He{constructor(){this.align="start"}static#e=this.\u0275fac=function(it){return new(it||He)};static#t=this.\u0275dir=y.lG2({type:He,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(it,vt){2&it&&y.ekj("mat-mdc-dialog-actions-align-center","center"===vt.align)("mat-mdc-dialog-actions-align-end","end"===vt.align)},inputs:{align:"align"}})}return He})(),de=(()=>{class He{static#e=this.\u0275fac=function(it){return new(it||He)};static#t=this.\u0275mod=y.oAB({type:He});static#n=this.\u0275inj=y.cJS({providers:[Z,se],imports:[q,c.U8,F.eL,K.BQ,K.BQ]})}return He})()},4170:(Gn,tt,S)=>{"use strict";S.d(tt,{G_:()=>ct,TO:()=>Ne,KE:()=>dn,Eo:()=>Ae,lN:()=>un,bx:()=>Y,hX:()=>Ve,R9:()=>Q});var c=S(5879),t=S(9388),y=S(2831),w=S(7394),E=S(8645),F=S(3019),L=S(9773),D=S(5592),p=S(2181),f=S(940);class v{constructor(Cn){this._box=Cn,this._destroyed=new E.x,this._resizeSubject=new E.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(nn=>this._resizeSubject.next(nn)))}observe(Cn){return this._elementObservables.has(Cn)||this._elementObservables.set(Cn,new D.y(nn=>{const Dt=this._resizeSubject.subscribe(nn);return this._resizeObserver?.observe(Cn,{box:this._box}),()=>{this._resizeObserver?.unobserve(Cn),Dt.unsubscribe(),this._elementObservables.delete(Cn)}}).pipe((0,p.h)(nn=>nn.some(Dt=>Dt.target===Cn)),(0,f.d)({bufferSize:1,refCount:!0}),(0,L.R)(this._destroyed))),this._elementObservables.get(Cn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let A=(()=>{class Kt{constructor(){this._observers=new Map,this._ngZone=(0,c.f3M)(c.R0b)}ngOnDestroy(){for(const[,nn]of this._observers)nn.destroy();this._observers.clear()}observe(nn,Dt){const ft=Dt?.box||"content-box";return this._observers.has(ft)||this._observers.set(ft,new v(ft)),this._observers.get(ft).observe(nn)}static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)};static#t=this.\u0275prov=c.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"root"})}return Kt})();var U=S(2495),R=S(6825),H=S(6814),k=S(7131),O=S(3680);const M=["notch"],P=["matFormFieldNotchedOutline",""],T=["*"],N=["textField"],C=["iconPrefixContainer"],B=["textPrefixContainer"];function W(Kt,Cn){1&Kt&&c._UZ(0,"span",19)}function q(Kt,Cn){if(1&Kt&&(c.TgZ(0,"label",17),c.Hsn(1,1),c.YNc(2,W,1,0,"span",18),c.qZA()),2&Kt){const nn=c.oxw(2);c.Q6J("floating",nn._shouldLabelFloat())("monitorResize",nn._hasOutline())("id",nn._labelId),c.uIk("for",nn._control.id),c.xp6(2),c.Q6J("ngIf",!nn.hideRequiredMarker&&nn._control.required)}}function le(Kt,Cn){if(1&Kt&&c.YNc(0,q,3,5,"label",16),2&Kt){const nn=c.oxw();c.Q6J("ngIf",nn._hasFloatingLabel())}}function Fe(Kt,Cn){1&Kt&&c._UZ(0,"div",20)}function $(Kt,Cn){}function ae(Kt,Cn){if(1&Kt&&c.YNc(0,$,0,0,"ng-template",22),2&Kt){c.oxw(2);const nn=c.MAs(1);c.Q6J("ngTemplateOutlet",nn)}}function K(Kt,Cn){if(1&Kt&&(c.TgZ(0,"div",21),c.YNc(1,ae,1,1,"ng-template",9),c.qZA()),2&Kt){const nn=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",nn._shouldLabelFloat()),c.xp6(1),c.Q6J("ngIf",!nn._forceDisplayInfixLabel())}}function ge(Kt,Cn){1&Kt&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function oe(Kt,Cn){1&Kt&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function he(Kt,Cn){}function Ce(Kt,Cn){if(1&Kt&&c.YNc(0,he,0,0,"ng-template",22),2&Kt){c.oxw();const nn=c.MAs(1);c.Q6J("ngTemplateOutlet",nn)}}function Le(Kt,Cn){1&Kt&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function fe(Kt,Cn){1&Kt&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function Re(Kt,Cn){1&Kt&&c._UZ(0,"div",29)}function xe(Kt,Cn){if(1&Kt&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&Kt){const nn=c.oxw();c.Q6J("@transitionMessages",nn._subscriptAnimationState)}}function pe(Kt,Cn){if(1&Kt&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&Kt){const nn=c.oxw(2);c.Q6J("id",nn._hintLabelId),c.xp6(1),c.Oqu(nn.hintLabel)}}function Ue(Kt,Cn){if(1&Kt&&(c.TgZ(0,"div",31),c.YNc(1,pe,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&Kt){const nn=c.oxw();c.Q6J("@transitionMessages",nn._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",nn.hintLabel)}}const ke=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],we=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ve=(()=>{class Kt{static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["mat-label"]]})}return Kt})(),st=0;const Je=new c.OlP("MatError");let Ne=(()=>{class Kt{constructor(nn,Dt){this.id="mat-mdc-error-"+st++,nn||Dt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)(c.$8M("aria-live"),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Dt,ft){2&Dt&&c.Ikx("id",ft.id)},inputs:{id:"id"},features:[c._Bn([{provide:Je,useExisting:Kt}])]})}return Kt})(),Te=0,Y=(()=>{class Kt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Te++}static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Dt,ft){2&Dt&&(c.Ikx("id",ft.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===ft.align))},inputs:{align:"align",id:"id"}})}return Kt})();const se=new c.OlP("MatPrefix"),J=new c.OlP("MatSuffix");let Q=(()=>{class Kt{constructor(){this._isText=!1}set _isTextSelector(nn){this._isText=!0}static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:J,useExisting:Kt}])]})}return Kt})();const Z=new c.OlP("FloatingLabelParent");let te=(()=>{class Kt{get floating(){return this._floating}set floating(nn){this._floating=nn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(nn){this._monitorResize=nn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(nn){this._elementRef=nn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,c.f3M)(A),this._ngZone=(0,c.f3M)(c.R0b),this._parent=(0,c.f3M)(Z),this._resizeSubscription=new w.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ie(Kt){if(null!==Kt.offsetParent)return Kt.scrollWidth;const nn=Kt.cloneNode(!0);nn.style.setProperty("position","absolute"),nn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(nn);const Dt=nn.scrollWidth;return nn.remove(),Dt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Dt,ft){2&Dt&&c.ekj("mdc-floating-label--float-above",ft.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Kt})();const ee="mdc-line-ripple--active",X="mdc-line-ripple--deactivating";let ue=(()=>{class Kt{constructor(nn,Dt){this._elementRef=nn,this._handleTransitionEnd=ft=>{const Qe=this._elementRef.nativeElement.classList,De=Qe.contains(X);"opacity"===ft.propertyName&&De&&Qe.remove(ee,X)},Dt.runOutsideAngular(()=>{nn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const nn=this._elementRef.nativeElement.classList;nn.remove(X),nn.add(ee)}deactivate(){this._elementRef.nativeElement.classList.add(X)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Kt})(),ve=(()=>{class Kt{constructor(nn,Dt){this._elementRef=nn,this._ngZone=Dt,this.open=!1}ngAfterViewInit(){const nn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");nn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(nn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>nn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(nn){this._notch.nativeElement.style.width=this.open&&nn?`calc(${nn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:Kt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Dt,ft){if(1&Dt&&c.Gf(M,5),2&Dt){let Qe;c.iGM(Qe=c.CRH())&&(ft._notch=Qe.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Dt,ft){2&Dt&&c.ekj("mdc-notched-outline--notched",ft.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:P,ngContentSelectors:T,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(Dt,ft){1&Dt&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1,2),c.Hsn(3),c.qZA(),c._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Kt})();const de={transitionMessages:(0,R.X$)("transitionMessages",[(0,R.SB)("enter",(0,R.oB)({opacity:1,transform:"translateY(0%)"})),(0,R.eR)("void => enter",[(0,R.oB)({opacity:0,transform:"translateY(-5px)"}),(0,R.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ae=(()=>{class Kt{static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)};static#t=this.\u0275dir=c.lG2({type:Kt})}return Kt})();const ct=new c.OlP("MatFormField"),it=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let vt=0,dn=(()=>{class Kt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(nn){this._hideRequiredMarker=(0,U.Ig)(nn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(nn){nn!==this._floatLabel&&(this._floatLabel=nn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(nn){const Dt=this._appearance;this._appearance=nn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Dt&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(nn){this._subscriptSizing=nn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(nn){this._hintLabel=nn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(nn){this._explicitFormFieldControl=nn}constructor(nn,Dt,ft,Qe,De,Pe,Ye,$e){this._elementRef=nn,this._changeDetectorRef=Dt,this._ngZone=ft,this._dir=Qe,this._platform=De,this._defaults=Pe,this._animationMode=Ye,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+vt++,this._hintLabelId="mat-mdc-hint-"+vt++,this._subscriptAnimationState="",this._destroyed=new E.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Pe&&(Pe.appearance&&(this.appearance=Pe.appearance),this._hideRequiredMarker=!!Pe?.hideRequiredMarker,Pe.color&&(this.color=Pe.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const nn=this._control;nn.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${nn.controlType}`),nn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),nn.ngControl&&nn.ngControl.valueChanges&&nn.ngControl.valueChanges.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(nn=>!nn._isText),this._hasTextPrefix=!!this._prefixChildren.find(nn=>nn._isText),this._hasIconSuffix=!!this._suffixChildren.find(nn=>!nn._isText),this._hasTextSuffix=!!this._suffixChildren.find(nn=>nn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,F.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,L.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(nn){const Dt=this._control?this._control.ngControl:null;return Dt&&Dt[nn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let nn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&nn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Dt=this._hintChildren?this._hintChildren.find(Qe=>"start"===Qe.align):null,ft=this._hintChildren?this._hintChildren.find(Qe=>"end"===Qe.align):null;Dt?nn.push(Dt.id):this._hintLabel&&nn.push(this._hintLabelId),ft&&nn.push(ft.id)}else this._errorChildren&&nn.push(...this._errorChildren.map(Dt=>Dt.id));this._control.setDescribedByIds(nn)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const nn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(nn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const Dt=this._iconPrefixContainer?.nativeElement,ft=this._textPrefixContainer?.nativeElement,Qe=Dt?.getBoundingClientRect().width??0,De=ft?.getBoundingClientRect().width??0;nn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Qe+De}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const nn=this._elementRef.nativeElement;if(nn.getRootNode){const Dt=nn.getRootNode();return Dt&&Dt!==nn}return document.documentElement.contains(nn)}static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(t.Is),c.Y36(y.t4),c.Y36(it,8),c.Y36(c.QbO,8),c.Y36(H.K0))};static#t=this.\u0275cmp=c.Xpm({type:Kt,selectors:[["mat-form-field"]],contentQueries:function(Dt,ft,Qe){if(1&Dt&&(c.Suo(Qe,Ve,5),c.Suo(Qe,Ve,7),c.Suo(Qe,Ae,5),c.Suo(Qe,se,5),c.Suo(Qe,J,5),c.Suo(Qe,Je,5),c.Suo(Qe,Y,5)),2&Dt){let De;c.iGM(De=c.CRH())&&(ft._labelChildNonStatic=De.first),c.iGM(De=c.CRH())&&(ft._labelChildStatic=De.first),c.iGM(De=c.CRH())&&(ft._formFieldControl=De.first),c.iGM(De=c.CRH())&&(ft._prefixChildren=De),c.iGM(De=c.CRH())&&(ft._suffixChildren=De),c.iGM(De=c.CRH())&&(ft._errorChildren=De),c.iGM(De=c.CRH())&&(ft._hintChildren=De)}},viewQuery:function(Dt,ft){if(1&Dt&&(c.Gf(N,5),c.Gf(C,5),c.Gf(B,5),c.Gf(te,5),c.Gf(ve,5),c.Gf(ue,5)),2&Dt){let Qe;c.iGM(Qe=c.CRH())&&(ft._textField=Qe.first),c.iGM(Qe=c.CRH())&&(ft._iconPrefixContainer=Qe.first),c.iGM(Qe=c.CRH())&&(ft._textPrefixContainer=Qe.first),c.iGM(Qe=c.CRH())&&(ft._floatingLabel=Qe.first),c.iGM(Qe=c.CRH())&&(ft._notchedOutline=Qe.first),c.iGM(Qe=c.CRH())&&(ft._lineRipple=Qe.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Dt,ft){2&Dt&&c.ekj("mat-mdc-form-field-label-always-float",ft._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",ft._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",ft._hasIconSuffix)("mat-form-field-invalid",ft._control.errorState)("mat-form-field-disabled",ft._control.disabled)("mat-form-field-autofilled",ft._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===ft._animationMode)("mat-form-field-appearance-fill","fill"==ft.appearance)("mat-form-field-appearance-outline","outline"==ft.appearance)("mat-form-field-hide-placeholder",ft._hasFloatingLabel()&&!ft._shouldLabelFloat())("mat-focused",ft._control.focused)("mat-primary","accent"!==ft.color&&"warn"!==ft.color)("mat-accent","accent"===ft.color)("mat-warn","warn"===ft.color)("ng-untouched",ft._shouldForward("untouched"))("ng-touched",ft._shouldForward("touched"))("ng-pristine",ft._shouldForward("pristine"))("ng-dirty",ft._shouldForward("dirty"))("ng-valid",ft._shouldForward("valid"))("ng-invalid",ft._shouldForward("invalid"))("ng-pending",ft._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:ct,useExisting:Kt},{provide:Z,useExisting:Kt}])],ngContentSelectors:we,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(Dt,ft){1&Dt&&(c.F$t(ke),c.YNc(0,le,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(De){return ft._control.onContainerClick(De)}),c.YNc(4,Fe,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,K,2,2,"div",5),c.YNc(7,ge,3,0,"div",6),c.YNc(8,oe,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,Ce,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,Le,2,0,"div",10),c.YNc(13,fe,2,0,"div",11),c.qZA(),c.YNc(14,Re,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,xe,2,1,"div",14),c.YNc(17,Ue,5,2,"div",15),c.qZA()),2&Dt&&(c.xp6(2),c.ekj("mdc-text-field--filled",!ft._hasOutline())("mdc-text-field--outlined",ft._hasOutline())("mdc-text-field--no-label",!ft._hasFloatingLabel())("mdc-text-field--disabled",ft._control.disabled)("mdc-text-field--invalid",ft._control.errorState),c.xp6(2),c.Q6J("ngIf",!ft._hasOutline()&&!ft._control.disabled),c.xp6(2),c.Q6J("ngIf",ft._hasOutline()),c.xp6(1),c.Q6J("ngIf",ft._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",ft._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!ft._hasOutline()||ft._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",ft._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",ft._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!ft._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===ft.subscriptSizing),c.Q6J("ngSwitch",ft._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[H.O5,H.tP,H.RF,H.n9,Y,te,ve,ue],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[de.transitionMessages]},changeDetection:0})}return Kt})(),un=(()=>{class Kt{static#e=this.\u0275fac=function(Dt){return new(Dt||Kt)};static#t=this.\u0275mod=c.oAB({type:Kt});static#n=this.\u0275inj=c.cJS({imports:[O.BQ,H.ez,k.Q8,O.BQ]})}return Kt})()},2032:(Gn,tt,S)=>{"use strict";S.d(tt,{Jk:()=>R,Nt:()=>M,c:()=>P});var c=S(2495),t=S(2831),y=S(5879),w=S(6232),E=S(8645);const F=(0,t.i$)({passive:!0});let L=(()=>{class T{constructor(C,B){this._platform=C,this._ngZone=B,this._monitoredElements=new Map}monitor(C){if(!this._platform.isBrowser)return w.E;const B=(0,c.fI)(C),W=this._monitoredElements.get(B);if(W)return W.subject;const q=new E.x,le="cdk-text-field-autofilled",Fe=$=>{"cdk-text-field-autofill-start"!==$.animationName||B.classList.contains(le)?"cdk-text-field-autofill-end"===$.animationName&&B.classList.contains(le)&&(B.classList.remove(le),this._ngZone.run(()=>q.next({target:$.target,isAutofilled:!1}))):(B.classList.add(le),this._ngZone.run(()=>q.next({target:$.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Fe,F),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:q,unlisten:()=>{B.removeEventListener("animationstart",Fe,F)}}),q}stopMonitoring(C){const B=(0,c.fI)(C),W=this._monitoredElements.get(B);W&&(W.unlisten(),W.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((C,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||T)(y.LFG(t.t4),y.LFG(y.R0b))};static#t=this.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),f=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=y.oAB({type:T});static#n=this.\u0275inj=y.cJS({})}return T})();var g=S(95),v=S(3680),A=S(4170);const R=new y.OlP("MAT_INPUT_VALUE_ACCESSOR"),H=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let k=0;const O=(0,v.FD)(class{constructor(T,N,C,B){this._defaultErrorStateMatcher=T,this._parentForm=N,this._parentFormGroup=C,this.ngControl=B,this.stateChanges=new E.x}});let M=(()=>{class T extends O{get disabled(){return this._disabled}set disabled(C){this._disabled=(0,c.Ig)(C),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(C){this._id=C||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(g.kI.required)??!1}set required(C){this._required=(0,c.Ig)(C)}get type(){return this._type}set type(C){this._type=C||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(C){C!==this.value&&(this._inputValueAccessor.value=C,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(C){this._readonly=(0,c.Ig)(C)}constructor(C,B,W,q,le,Fe,$,ae,K,ge){super(Fe,q,le,W),this._elementRef=C,this._platform=B,this._autofillMonitor=ae,this._formField=ge,this._uid="mat-input-"+k++,this.focused=!1,this.stateChanges=new E.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ce=>(0,t.qK)().has(Ce)),this._iOSKeyupListener=Ce=>{const Le=Ce.target;!Le.value&&0===Le.selectionStart&&0===Le.selectionEnd&&(Le.setSelectionRange(1,1),Le.setSelectionRange(0,0))};const oe=this._elementRef.nativeElement,he=oe.nodeName.toLowerCase();this._inputValueAccessor=$||oe,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&K.runOutsideAngular(()=>{C.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===he,this._isTextarea="textarea"===he,this._isInFormField=!!ge,this._isNativeSelect&&(this.controlType=oe.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(C=>{this.autofilled=C.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(C){this._elementRef.nativeElement.focus(C)}_focusChanged(C){C!==this.focused&&(this.focused=C,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const C=this._elementRef.nativeElement.value;this._previousNativeValue!==C&&(this._previousNativeValue=C,this.stateChanges.next())}_dirtyCheckPlaceholder(){const C=this._getPlaceholder();if(C!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=C,C?B.setAttribute("placeholder",C):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){H.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let C=this._elementRef.nativeElement.validity;return C&&C.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const C=this._elementRef.nativeElement,B=C.options[0];return this.focused||C.multiple||!this.empty||!!(C.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(C){C.length?this._elementRef.nativeElement.setAttribute("aria-describedby",C.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const C=this._elementRef.nativeElement;return this._isNativeSelect&&(C.multiple||C.size>1)}static#e=this.\u0275fac=function(B){return new(B||T)(y.Y36(y.SBq),y.Y36(t.t4),y.Y36(g.a5,10),y.Y36(g.F,8),y.Y36(g.sg,8),y.Y36(v.rD),y.Y36(R,10),y.Y36(L),y.Y36(y.R0b),y.Y36(A.G_,8))};static#t=this.\u0275dir=y.lG2({type:T,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,W){1&B&&y.NdJ("focus",function(){return W._focusChanged(!0)})("blur",function(){return W._focusChanged(!1)})("input",function(){return W._onInput()}),2&B&&(y.Ikx("id",W.id)("disabled",W.disabled)("required",W.required),y.uIk("name",W.name||null)("readonly",W.readonly&&!W._isNativeSelect||null)("aria-invalid",W.empty&&W.required?null:W.errorState)("aria-required",W.required)("id",W.id),y.ekj("mat-input-server",W._isServer)("mat-mdc-form-field-textarea-control",W._isInFormField&&W._isTextarea)("mat-mdc-form-field-input-control",W._isInFormField)("mdc-text-field__input",W._isInFormField)("mat-mdc-native-select-inline",W._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[y._Bn([{provide:A.Eo,useExisting:T}]),y.qOj,y.TTD]})}return T})(),P=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=y.oAB({type:T});static#n=this.\u0275inj=y.cJS({imports:[v.BQ,A.lN,A.lN,f,v.BQ]})}return T})()},1476:(Gn,tt,S)=>{"use strict";S.d(tt,{NW:()=>W,TU:()=>q,ye:()=>H});var c=S(6814),t=S(5879),y=S(8645),w=S(2296),E=S(8525),F=S(2596),L=S(3680),D=S(2495),p=S(4170);function f(le,Fe){if(1&le&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&le){const $=Fe.$implicit;t.Q6J("value",$),t.xp6(1),t.hij(" ",$," ")}}function g(le,Fe){if(1&le){const $=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(K){t.CHM($);const ge=t.oxw(2);return t.KtG(ge._changePageSize(K.value))}),t.YNc(2,f,2,2,"mat-option",18),t.qZA()()}if(2&le){const $=t.oxw(2);t.Q6J("appearance",$._formFieldAppearance)("color",$.color),t.xp6(1),t.Q6J("value",$.pageSize)("disabled",$.disabled)("aria-labelledby",$._pageSizeLabelId)("panelClass",$.selectConfig.panelClass||"")("disableOptionCentering",$.selectConfig.disableOptionCentering),t.xp6(1),t.Q6J("ngForOf",$._displayedPageSizeOptions)}}function v(le,Fe){if(1&le&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&le){const $=t.oxw(2);t.xp6(1),t.Oqu($.pageSize)}}function A(le,Fe){if(1&le&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,g,3,8,"mat-form-field",14),t.YNc(4,v,2,1,"div",15),t.qZA()),2&le){const $=t.oxw();t.xp6(1),t.s9C("id",$._pageSizeLabelId),t.xp6(1),t.hij(" ",$._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",$._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",$._displayedPageSizeOptions.length<=1)}}function U(le,Fe){if(1&le){const $=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM($);const K=t.oxw();return t.KtG(K.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&le){const $=t.oxw();t.Q6J("matTooltip",$._intl.firstPageLabel)("matTooltipDisabled",$._previousButtonsDisabled())("matTooltipPosition","above")("disabled",$._previousButtonsDisabled()),t.uIk("aria-label",$._intl.firstPageLabel)}}function R(le,Fe){if(1&le){const $=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM($);const K=t.oxw();return t.KtG(K.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&le){const $=t.oxw();t.Q6J("matTooltip",$._intl.lastPageLabel)("matTooltipDisabled",$._nextButtonsDisabled())("matTooltipPosition","above")("disabled",$._nextButtonsDisabled()),t.uIk("aria-label",$._intl.lastPageLabel)}}let H=(()=>{class le{constructor(){this.changes=new y.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=($,ae,K)=>{if(0==K||0==ae)return`0 of ${K}`;const ge=$*ae;return`${ge+1} \u2013 ${ge<(K=Math.max(K,0))?Math.min(ge+ae,K):ge+ae} of ${K}`}}static#e=this.\u0275fac=function(ae){return new(ae||le)};static#t=this.\u0275prov=t.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const O={provide:H,deps:[[new t.FiY,new t.tp0,H]],useFactory:function k(le){return le||new H}},T=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),N=(0,L.Id)((0,L.dB)(class{}));let C=(()=>{class le extends N{get pageIndex(){return this._pageIndex}set pageIndex($){this._pageIndex=Math.max((0,D.su)($),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length($){this._length=(0,D.su)($),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize($){this._pageSize=Math.max((0,D.su)($),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions($){this._pageSizeOptions=($||[]).map(ae=>(0,D.su)(ae)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize($){this._hidePageSize=(0,D.Ig)($)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons($){this._showFirstLastButtons=(0,D.Ig)($)}constructor($,ae,K){if(super(),this._intl=$,this._changeDetectorRef=ae,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=$.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),K){const{pageSize:ge,pageSizeOptions:oe,hidePageSize:he,showFirstLastButtons:Ce}=K;null!=ge&&(this._pageSize=ge),null!=oe&&(this._pageSizeOptions=oe),null!=he&&(this._hidePageSize=he),null!=Ce&&(this._showFirstLastButtons=Ce)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const $=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent($)}previousPage(){if(!this.hasPreviousPage())return;const $=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent($)}firstPage(){if(!this.hasPreviousPage())return;const $=this.pageIndex;this.pageIndex=0,this._emitPageEvent($)}lastPage(){if(!this.hasNextPage())return;const $=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent($)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const $=this.getNumberOfPages()-1;return this.pageIndex<$&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize($){const K=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/$)||0,this.pageSize=$,this._emitPageEvent(K)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort(($,ae)=>$-ae),this._changeDetectorRef.markForCheck())}_emitPageEvent($){this.page.emit({previousPageIndex:$,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(ae){t.$Z()};static#t=this.\u0275dir=t.lG2({type:le,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]})}return le})(),B=0,W=(()=>{class le extends C{constructor($,ae,K){super($,ae,K),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=K?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(ae){return new(ae||le)(t.Y36(H),t.Y36(t.sBO),t.Y36(T,8))};static#t=this.\u0275cmp=t.Xpm({type:le,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(ae,K){1&ae&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,A,5,4,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,U,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return K.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return K.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,R,3,5,"button",11),t.qZA()()()),2&ae&&(t.xp6(2),t.Q6J("ngIf",!K.hidePageSize),t.xp6(3),t.hij(" ",K._intl.getRangeLabel(K.pageIndex,K.pageSize,K.length)," "),t.xp6(1),t.Q6J("ngIf",K.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",K._intl.previousPageLabel)("matTooltipDisabled",K._previousButtonsDisabled())("matTooltipPosition","above")("disabled",K._previousButtonsDisabled()),t.uIk("aria-label",K._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",K._intl.nextPageLabel)("matTooltipDisabled",K._nextButtonsDisabled())("matTooltipPosition","above")("disabled",K._nextButtonsDisabled()),t.uIk("aria-label",K._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",K.showFirstLastButtons))},dependencies:[c.sg,c.O5,w.RK,p.KE,E.gD,L.ey,F.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return le})(),q=(()=>{class le{static#e=this.\u0275fac=function(ae){return new(ae||le)};static#t=this.\u0275mod=t.oAB({type:le});static#n=this.\u0275inj=t.cJS({providers:[O],imports:[c.ez,w.ot,E.LD,F.AV]})}return le})()},5940:(Gn,tt,S)=>{"use strict";S.d(tt,{Cq:()=>U,Ou:()=>v});var c=S(5879),t=S(3680),y=S(2495),w=S(6814);const E=["determinateSpinner"];function F(R,H){if(1&R&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&R){const k=c.oxw();c.uIk("viewBox",k._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",k._strokeCircumference(),"px")("stroke-dashoffset",k._strokeCircumference()/2,"px")("stroke-width",k._circleStrokeWidth(),"%"),c.uIk("r",k._circleRadius())}}const L=(0,t.pj)(class{constructor(R){this._elementRef=R}},"primary"),D=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function p(){return{diameter:f}}}),f=100;let v=(()=>{class R extends L{constructor(k,O,M){super(k),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=f,this._noopAnimations="NoopAnimations"===O&&!!M&&!M._forceAnimations,M&&(M.color&&(this.color=this.defaultColor=M.color),M.diameter&&(this.diameter=M.diameter),M.strokeWidth&&(this.strokeWidth=M.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(k){this._value=Math.max(0,Math.min(100,(0,y.su)(k)))}get diameter(){return this._diameter}set diameter(k){this._diameter=(0,y.su)(k)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(k){this._strokeWidth=(0,y.su)(k)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const k=2*this._circleRadius()+this.strokeWidth;return`0 0 ${k} ${k}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(O){return new(O||R)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(D))};static#t=this.\u0275cmp=c.Xpm({type:R,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(O,M){if(1&O&&c.Gf(E,5),2&O){let P;c.iGM(P=c.CRH())&&(M._determinateCircle=P.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(O,M){2&O&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===M.mode?M.value:null)("mode",M.mode),c.Udp("width",M.diameter,"px")("height",M.diameter,"px")("--mdc-circular-progress-size",M.diameter+"px")("--mdc-circular-progress-active-indicator-width",M.diameter+"px"),c.ekj("_mat-animation-noopable",M._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===M.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(O,M){if(1&O&&(c.YNc(0,F,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&O){const P=c.MAs(1);c.xp6(4),c.uIk("viewBox",M._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",M._strokeCircumference(),"px")("stroke-dashoffset",M._strokeDashOffset(),"px")("stroke-width",M._circleStrokeWidth(),"%"),c.uIk("r",M._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",P),c.xp6(2),c.Q6J("ngTemplateOutlet",P),c.xp6(2),c.Q6J("ngTemplateOutlet",P)}},dependencies:[w.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return R})(),U=(()=>{class R{static#e=this.\u0275fac=function(O){return new(O||R)};static#t=this.\u0275mod=c.oAB({type:R});static#n=this.\u0275inj=c.cJS({imports:[w.ez,t.BQ]})}return R})()},8525:(Gn,tt,S)=>{"use strict";S.d(tt,{LD:()=>Te,gD:()=>Ne});var c=S(3651),t=S(6814),y=S(5879),w=S(3680),E=S(4170),F=S(799),L=S(4300),D=S(9388),p=S(2495),f=S(8337),g=S(6028),v=S(95),A=S(8645),U=S(4911),R=S(3019),H=S(7921),k=S(4664),O=S(8180),M=S(2181),P=S(7398),T=S(3997),N=S(9773),C=S(6825);const B=["trigger"],W=["panel"];function q(Y,se){if(1&Y&&(y.TgZ(0,"span",10),y._uU(1),y.qZA()),2&Y){const _e=y.oxw();y.xp6(1),y.Oqu(_e.placeholder)}}function le(Y,se){if(1&Y&&(y.TgZ(0,"span",14),y._uU(1),y.qZA()),2&Y){const _e=y.oxw(2);y.xp6(1),y.Oqu(_e.triggerValue)}}function Fe(Y,se){1&Y&&y.Hsn(0,0,["*ngSwitchCase","true"])}function $(Y,se){if(1&Y&&(y.TgZ(0,"span",11),y.YNc(1,le,2,1,"span",12),y.YNc(2,Fe,1,0,"ng-content",13),y.qZA()),2&Y){const _e=y.oxw();y.Q6J("ngSwitch",!!_e.customTrigger),y.xp6(2),y.Q6J("ngSwitchCase",!0)}}function ae(Y,se){if(1&Y){const _e=y.EpF();y.O4$(),y.kcU(),y.TgZ(0,"div",15,16),y.NdJ("@transformPanel.done",function(Q){y.CHM(_e);const Z=y.oxw();return y.KtG(Z._panelDoneAnimatingStream.next(Q.toState))})("keydown",function(Q){y.CHM(_e);const Z=y.oxw();return y.KtG(Z._handleKeydown(Q))}),y.Hsn(2,1),y.qZA()}if(2&Y){const _e=y.oxw();y.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",_e._getPanelTheme(),""),y.Q6J("ngClass",_e.panelClass)("@transformPanel","showing"),y.uIk("id",_e.id+"-panel")("aria-multiselectable",_e.multiple)("aria-label",_e.ariaLabel||null)("aria-labelledby",_e._getPanelAriaLabelledby())}}const K=[[["mat-select-trigger"]],"*"],ge=["mat-select-trigger","*"],oe={transformPanelWrap:(0,C.X$)("transformPanelWrap",[(0,C.eR)("* => void",(0,C.IO)("@transformPanel",[(0,C.pV)()],{optional:!0}))]),transformPanel:(0,C.X$)("transformPanel",[(0,C.SB)("void",(0,C.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,C.eR)("void => showing",(0,C.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,C.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,C.eR)("* => void",(0,C.jt)("100ms linear",(0,C.oB)({opacity:0})))])};let fe=0;const Re=new y.OlP("mat-select-scroll-strategy"),pe=new y.OlP("MAT_SELECT_CONFIG"),Ue={provide:Re,deps:[c.aV],useFactory:function xe(Y){return()=>Y.scrollStrategies.reposition()}},ke=new y.OlP("MatSelectTrigger");class we{constructor(se,_e){this.source=se,this.value=_e}}const Ve=(0,w.Kr)((0,w.sb)((0,w.Id)((0,w.FD)(class{constructor(Y,se,_e,J,Q){this._elementRef=Y,this._defaultErrorStateMatcher=se,this._parentForm=_e,this._parentFormGroup=J,this.ngControl=Q,this.stateChanges=new A.x}}))));let st=(()=>{class Y extends Ve{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(_e){this._placeholder=_e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(v.kI.required)??!1}set required(_e){this._required=(0,p.Ig)(_e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(_e){this._multiple=(0,p.Ig)(_e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(_e){this._disableOptionCentering=(0,p.Ig)(_e)}get compareWith(){return this._compareWith}set compareWith(_e){this._compareWith=_e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(_e){this._assignValue(_e)&&this._onChange(_e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(_e){this._typeaheadDebounceInterval=(0,p.su)(_e)}get id(){return this._id}set id(_e){this._id=_e||this._uid,this.stateChanges.next()}constructor(_e,J,Q,Z,te,ie,ee,X,ue,ve,de,Ae,We,He){super(te,Z,ee,X,ve),this._viewportRuler=_e,this._changeDetectorRef=J,this._ngZone=Q,this._dir=ie,this._parentFormField=ue,this._liveAnnouncer=We,this._defaultOptions=He,this._panelOpen=!1,this._compareWith=(at,ct)=>at===ct,this._uid="mat-select-"+fe++,this._triggerAriaLabelledBy=null,this._destroy=new A.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+fe++,this._panelDoneAnimatingStream=new A.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,U.P)(()=>{const at=this.options;return at?at.changes.pipe((0,H.O)(at),(0,k.w)(()=>(0,R.T)(...at.map(ct=>ct.onSelectionChange)))):this._ngZone.onStable.pipe((0,O.q)(1),(0,k.w)(()=>this.optionSelectionChanges))}),this.openedChange=new y.vpe,this._openedStream=this.openedChange.pipe((0,M.h)(at=>at),(0,P.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,M.h)(at=>!at),(0,P.U)(()=>{})),this.selectionChange=new y.vpe,this.valueChange=new y.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=He?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=He.typeaheadDebounceInterval),this._scrollStrategyFactory=Ae,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(de)||0,this.id=this.id}ngOnInit(){this._selectionModel=new f.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,T.x)(),(0,N.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,N.R)(this._destroy)).subscribe(_e=>{_e.added.forEach(J=>J.select()),_e.removed.forEach(J=>J.deselect())}),this.options.changes.pipe((0,H.O)(null),(0,N.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const _e=this._getTriggerAriaLabelledby(),J=this.ngControl;if(_e!==this._triggerAriaLabelledBy){const Q=this._elementRef.nativeElement;this._triggerAriaLabelledBy=_e,_e?Q.setAttribute("aria-labelledby",_e):Q.removeAttribute("aria-labelledby")}J&&(this._previousControl!==J.control&&(void 0!==this._previousControl&&null!==J.disabled&&J.disabled!==this.disabled&&(this.disabled=J.disabled),this._previousControl=J.control),this.updateErrorState())}ngOnChanges(_e){(_e.disabled||_e.userAriaDescribedBy)&&this.stateChanges.next(),_e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const _e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!_e)return;const J=`${this.id}-panel`;this._trackedModal&&(0,L.iD)(this._trackedModal,"aria-owns",J),(0,L.Zf)(_e,"aria-owns",J),this._trackedModal=_e}_clearFromModal(){this._trackedModal&&((0,L.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(_e){this._assignValue(_e)}registerOnChange(_e){this._onChange=_e}registerOnTouched(_e){this._onTouched=_e}setDisabledState(_e){this.disabled=_e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const _e=this._selectionModel.selected.map(J=>J.viewValue);return this._isRtl()&&_e.reverse(),_e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(_e){this.disabled||(this.panelOpen?this._handleOpenKeydown(_e):this._handleClosedKeydown(_e))}_handleClosedKeydown(_e){const J=_e.keyCode,Q=J===g.JH||J===g.LH||J===g.oh||J===g.SV,Z=J===g.K5||J===g.L_,te=this._keyManager;if(!te.isTyping()&&Z&&!(0,g.Vb)(_e)||(this.multiple||_e.altKey)&&Q)_e.preventDefault(),this.open();else if(!this.multiple){const ie=this.selected;te.onKeydown(_e);const ee=this.selected;ee&&ie!==ee&&this._liveAnnouncer.announce(ee.viewValue,1e4)}}_handleOpenKeydown(_e){const J=this._keyManager,Q=_e.keyCode,Z=Q===g.JH||Q===g.LH,te=J.isTyping();if(Z&&_e.altKey)_e.preventDefault(),this.close();else if(te||Q!==g.K5&&Q!==g.L_||!J.activeItem||(0,g.Vb)(_e))if(!te&&this._multiple&&Q===g.A&&_e.ctrlKey){_e.preventDefault();const ie=this.options.some(ee=>!ee.disabled&&!ee.selected);this.options.forEach(ee=>{ee.disabled||(ie?ee.select():ee.deselect())})}else{const ie=J.activeItemIndex;J.onKeydown(_e),this._multiple&&Z&&_e.shiftKey&&J.activeItem&&J.activeItemIndex!==ie&&J.activeItem._selectViaInteraction()}else _e.preventDefault(),J.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,O.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(_e){if(this.options.forEach(J=>J.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&_e)Array.isArray(_e),_e.forEach(J=>this._selectOptionByValue(J)),this._sortValues();else{const J=this._selectOptionByValue(_e);J?this._keyManager.updateActiveItem(J):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(_e){const J=this.options.find(Q=>{if(this._selectionModel.isSelected(Q))return!1;try{return null!=Q.value&&this._compareWith(Q.value,_e)}catch{return!1}});return J&&this._selectionModel.select(J),J}_assignValue(_e){return!!(_e!==this._value||this._multiple&&Array.isArray(_e))&&(this.options&&this._setSelectionByValue(_e),this._value=_e,!0)}_skipPredicate(_e){return _e.disabled}_initKeyManager(){this._keyManager=new L.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const _e=(0,R.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,N.R)(_e)).subscribe(J=>{this._onSelect(J.source,J.isUserInput),J.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,R.T)(...this.options.map(J=>J._stateChanges)).pipe((0,N.R)(_e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(_e,J){const Q=this._selectionModel.isSelected(_e);null!=_e.value||this._multiple?(Q!==_e.selected&&(_e.selected?this._selectionModel.select(_e):this._selectionModel.deselect(_e)),J&&this._keyManager.setActiveItem(_e),this.multiple&&(this._sortValues(),J&&this.focus())):(_e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(_e.value)),Q!==this._selectionModel.isSelected(_e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const _e=this.options.toArray();this._selectionModel.sort((J,Q)=>this.sortComparator?this.sortComparator(J,Q,_e):_e.indexOf(J)-_e.indexOf(Q)),this.stateChanges.next()}}_propagateChanges(_e){let J=null;J=this.multiple?this.selected.map(Q=>Q.value):this.selected?this.selected.value:_e,this._value=J,this.valueChange.emit(J),this._onChange(J),this.selectionChange.emit(this._getChangeEvent(J)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let _e=-1;for(let J=0;J<this.options.length;J++)if(!this.options.get(J).disabled){_e=J;break}this._keyManager.setActiveItem(_e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(_e){this._elementRef.nativeElement.focus(_e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const _e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(_e?_e+" ":"")+this.ariaLabelledby:_e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const _e=this._parentFormField?.getLabelId();let J=(_e?_e+" ":"")+this._valueId;return this.ariaLabelledby&&(J+=" "+this.ariaLabelledby),J}_panelDoneAnimating(_e){this.openedChange.emit(_e)}setDescribedByIds(_e){_e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",_e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(J){return new(J||Y)(y.Y36(F.rL),y.Y36(y.sBO),y.Y36(y.R0b),y.Y36(w.rD),y.Y36(y.SBq),y.Y36(D.Is,8),y.Y36(v.F,8),y.Y36(v.sg,8),y.Y36(E.G_,8),y.Y36(v.a5,10),y.$8M("tabindex"),y.Y36(Re),y.Y36(L.Kd),y.Y36(pe,8))};static#t=this.\u0275dir=y.lG2({type:Y,viewQuery:function(J,Q){if(1&J&&(y.Gf(B,5),y.Gf(W,5),y.Gf(c.pI,5)),2&J){let Z;y.iGM(Z=y.CRH())&&(Q.trigger=Z.first),y.iGM(Z=y.CRH())&&(Q.panel=Z.first),y.iGM(Z=y.CRH())&&(Q._overlayDir=Z.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[y.qOj,y.TTD]})}return Y})(),Ne=(()=>{class Y extends st{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=_e=>!this.panelOpen&&_e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,N.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(_e){const J=this.options.toArray()[_e];if(J){const Q=this.panel.nativeElement,Z=(0,w.CB)(_e,this.options,this.optionGroups),te=J._getHostElement();Q.scrollTop=0===_e&&1===Z?0:(0,w.jH)(te.offsetTop,te.offsetHeight,Q.scrollTop,Q.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(_e){return new we(this,_e)}_getOverlayWidth(_e){return"auto"===this.panelWidth?(_e instanceof c.xu?_e.elementRef:_e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(_e){this._hideSingleSelectionIndicator=(0,p.Ig)(_e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const _e of this.options)_e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let _e;return function(Q){return(_e||(_e=y.n5z(Y)))(Q||Y)}}();static#t=this.\u0275cmp=y.Xpm({type:Y,selectors:[["mat-select"]],contentQueries:function(J,Q,Z){if(1&J&&(y.Suo(Z,ke,5),y.Suo(Z,w.ey,5),y.Suo(Z,w.K7,5)),2&J){let te;y.iGM(te=y.CRH())&&(Q.customTrigger=te.first),y.iGM(te=y.CRH())&&(Q.options=te),y.iGM(te=y.CRH())&&(Q.optionGroups=te)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(J,Q){1&J&&y.NdJ("keydown",function(te){return Q._handleKeydown(te)})("focus",function(){return Q._onFocus()})("blur",function(){return Q._onBlur()}),2&J&&(y.uIk("id",Q.id)("tabindex",Q.tabIndex)("aria-controls",Q.panelOpen?Q.id+"-panel":null)("aria-expanded",Q.panelOpen)("aria-label",Q.ariaLabel||null)("aria-required",Q.required.toString())("aria-disabled",Q.disabled.toString())("aria-invalid",Q.errorState)("aria-activedescendant",Q._getAriaActiveDescendant()),y.ekj("mat-mdc-select-disabled",Q.disabled)("mat-mdc-select-invalid",Q.errorState)("mat-mdc-select-required",Q.required)("mat-mdc-select-empty",Q.empty)("mat-mdc-select-multiple",Q.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[y._Bn([{provide:E.Eo,useExisting:Y},{provide:w.HF,useExisting:Y}]),y.qOj],ngContentSelectors:ge,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(J,Q){if(1&J&&(y.F$t(K),y.TgZ(0,"div",0,1),y.NdJ("click",function(){return Q.toggle()}),y.TgZ(3,"div",2),y.YNc(4,q,2,1,"span",3),y.YNc(5,$,3,2,"span",4),y.qZA(),y.TgZ(6,"div",5)(7,"div",6),y.O4$(),y.TgZ(8,"svg",7),y._UZ(9,"path",8),y.qZA()()()(),y.YNc(10,ae,3,9,"ng-template",9),y.NdJ("backdropClick",function(){return Q.close()})("attach",function(){return Q._onAttached()})("detach",function(){return Q.close()})),2&J){const Z=y.MAs(1);y.xp6(3),y.Q6J("ngSwitch",Q.empty),y.uIk("id",Q._valueId),y.xp6(1),y.Q6J("ngSwitchCase",!0),y.xp6(1),y.Q6J("ngSwitchCase",!1),y.xp6(5),y.Q6J("cdkConnectedOverlayPanelClass",Q._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Q._scrollStrategy)("cdkConnectedOverlayOrigin",Q._preferredOverlayOrigin||Z)("cdkConnectedOverlayOpen",Q.panelOpen)("cdkConnectedOverlayPositions",Q._positions)("cdkConnectedOverlayWidth",Q._overlayWidth)}},dependencies:[t.mk,t.RF,t.n9,t.ED,c.pI,c.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[oe.transformPanel]},changeDetection:0})}return Y})(),Te=(()=>{class Y{static#e=this.\u0275fac=function(J){return new(J||Y)};static#t=this.\u0275mod=y.oAB({type:Y});static#n=this.\u0275inj=y.cJS({providers:[Ue],imports:[t.ez,c.U8,w.Ng,w.BQ,F.ZD,E.lN,w.Ng,w.BQ]})}return Y})()},2939:(Gn,tt,S)=>{"use strict";S.d(tt,{OX:()=>O,ZX:()=>$,qD:()=>M,u_:()=>P,ux:()=>oe});var c=S(5879),t=S(8645),y=S(6814),w=S(2296),E=S(6825),F=S(8484),L=S(2831),D=S(8180),p=S(9773),f=S(4300),g=S(1088),v=S(3651),A=S(3680);function U(he,Ce){if(1&he){const Le=c.EpF();c.TgZ(0,"div",2)(1,"button",3),c.NdJ("click",function(){c.CHM(Le);const Re=c.oxw();return c.KtG(Re.action())}),c._uU(2),c.qZA()()}if(2&he){const Le=c.oxw();c.xp6(2),c.hij(" ",Le.data.action," ")}}const R=["label"];function H(he,Ce){}const k=Math.pow(2,31)-1;class O{constructor(Ce,Le){this._overlayRef=Le,this._afterDismissed=new t.x,this._afterOpened=new t.x,this._onAction=new t.x,this._dismissedByAction=!1,this.containerInstance=Ce,Ce._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ce){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ce,k))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const M=new c.OlP("MatSnackBarData");class P{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let T=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275dir=c.lG2({type:he,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return he})(),N=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275dir=c.lG2({type:he,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return he})(),C=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275dir=c.lG2({type:he,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return he})(),B=(()=>{class he{constructor(Le,fe){this.snackBarRef=Le,this.data=fe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.Y36(O),c.Y36(M))};static#t=this.\u0275cmp=c.Xpm({type:he,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(fe,Re){1&fe&&(c.TgZ(0,"div",0),c._uU(1),c.qZA(),c.YNc(2,U,3,1,"div",1)),2&fe&&(c.xp6(1),c.hij(" ",Re.data.message,"\n"),c.xp6(1),c.Q6J("ngIf",Re.hasAction))},dependencies:[y.O5,w.lW,T,N,C],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return he})();const W={snackBarState:(0,E.X$)("state",[(0,E.SB)("void, hidden",(0,E.oB)({transform:"scale(0.8)",opacity:0})),(0,E.SB)("visible",(0,E.oB)({transform:"scale(1)",opacity:1})),(0,E.eR)("* => visible",(0,E.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,E.eR)("* => void, * => hidden",(0,E.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,E.oB)({opacity:0})))])};let q=0,le=(()=>{class he extends F.en{constructor(Le,fe,Re,xe,pe){super(),this._ngZone=Le,this._elementRef=fe,this._changeDetectorRef=Re,this._platform=xe,this.snackBarConfig=pe,this._document=(0,c.f3M)(y.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new t.x,this._onExit=new t.x,this._onEnter=new t.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+q++,this.attachDomPortal=Ue=>{this._assertNotAttached();const ke=this._portalOutlet.attachDomPortal(Ue);return this._afterPortalAttached(),ke},this._live="assertive"!==pe.politeness||pe.announcementMessage?"off"===pe.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Le){this._assertNotAttached();const fe=this._portalOutlet.attachComponentPortal(Le);return this._afterPortalAttached(),fe}attachTemplatePortal(Le){this._assertNotAttached();const fe=this._portalOutlet.attachTemplatePortal(Le);return this._afterPortalAttached(),fe}onAnimationEnd(Le){const{fromState:fe,toState:Re}=Le;if(("void"===Re&&"void"!==fe||"hidden"===Re)&&this._completeExit(),"visible"===Re){const xe=this._onEnter;this._ngZone.run(()=>{xe.next(),xe.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,D.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Le=this._elementRef.nativeElement,fe=this.snackBarConfig.panelClass;fe&&(Array.isArray(fe)?fe.forEach(Re=>Le.classList.add(Re)):Le.classList.add(fe)),this._exposeToModals()}_exposeToModals(){const Le=this._liveElementId,fe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Re=0;Re<fe.length;Re++){const xe=fe[Re],pe=xe.getAttribute("aria-owns");this._trackedModals.add(xe),pe?-1===pe.indexOf(Le)&&xe.setAttribute("aria-owns",pe+" "+Le):xe.setAttribute("aria-owns",Le)}}_clearFromModals(){this._trackedModals.forEach(Le=>{const fe=Le.getAttribute("aria-owns");if(fe){const Re=fe.replace(this._liveElementId,"").trim();Re.length>0?Le.setAttribute("aria-owns",Re):Le.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Le=this._elementRef.nativeElement.querySelector("[aria-hidden]"),fe=this._elementRef.nativeElement.querySelector("[aria-live]");if(Le&&fe){let Re=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Le.contains(document.activeElement)&&(Re=document.activeElement),Le.removeAttribute("aria-hidden"),fe.appendChild(Le),Re?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(L.t4),c.Y36(P))};static#t=this.\u0275dir=c.lG2({type:he,viewQuery:function(fe,Re){if(1&fe&&c.Gf(F.Pl,7),2&fe){let xe;c.iGM(xe=c.CRH())&&(Re._portalOutlet=xe.first)}},features:[c.qOj]})}return he})(),Fe=(()=>{class he extends le{_afterPortalAttached(){super._afterPortalAttached();const Le=this._label.nativeElement,fe="mdc-snackbar__label";Le.classList.toggle(fe,!Le.querySelector(`.${fe}`))}static#e=this.\u0275fac=function(){let Le;return function(Re){return(Le||(Le=c.n5z(he)))(Re||he)}}();static#t=this.\u0275cmp=c.Xpm({type:he,selectors:[["mat-snack-bar-container"]],viewQuery:function(fe,Re){if(1&fe&&c.Gf(R,7),2&fe){let xe;c.iGM(xe=c.CRH())&&(Re._label=xe.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(fe,Re){1&fe&&c.WFA("@state.done",function(pe){return Re.onAnimationEnd(pe)}),2&fe&&c.d8E("@state",Re._animationState)},features:[c.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(fe,Re){1&fe&&(c.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),c.YNc(4,H,0,0,"ng-template",4),c.qZA(),c._UZ(5,"div"),c.qZA()()),2&fe&&(c.xp6(5),c.uIk("aria-live",Re._live)("role",Re._role)("id",Re._liveElementId))},dependencies:[F.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[W.snackBarState]}})}return he})(),$=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275mod=c.oAB({type:he});static#n=this.\u0275inj=c.cJS({imports:[v.U8,F.eL,y.ez,w.ot,A.BQ,A.BQ]})}return he})();const K=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function ae(){return new P}});let ge=(()=>{class he{get _openedSnackBarRef(){const Le=this._parentSnackBar;return Le?Le._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Le){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Le:this._snackBarRefAtThisLevel=Le}constructor(Le,fe,Re,xe,pe,Ue){this._overlay=Le,this._live=fe,this._injector=Re,this._breakpointObserver=xe,this._parentSnackBar=pe,this._defaultConfig=Ue,this._snackBarRefAtThisLevel=null}openFromComponent(Le,fe){return this._attach(Le,fe)}openFromTemplate(Le,fe){return this._attach(Le,fe)}open(Le,fe="",Re){const xe={...this._defaultConfig,...Re};return xe.data={message:Le,action:fe},xe.announcementMessage===Le&&(xe.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,xe)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Le,fe){const xe=c.zs3.create({parent:fe&&fe.viewContainerRef&&fe.viewContainerRef.injector||this._injector,providers:[{provide:P,useValue:fe}]}),pe=new F.C5(this.snackBarContainerComponent,fe.viewContainerRef,xe),Ue=Le.attach(pe);return Ue.instance.snackBarConfig=fe,Ue.instance}_attach(Le,fe){const Re={...new P,...this._defaultConfig,...fe},xe=this._createOverlay(Re),pe=this._attachSnackBarContainer(xe,Re),Ue=new O(pe,xe);if(Le instanceof c.Rgc){const ke=new F.UE(Le,null,{$implicit:Re.data,snackBarRef:Ue});Ue.instance=pe.attachTemplatePortal(ke)}else{const ke=this._createInjector(Re,Ue),we=new F.C5(Le,void 0,ke),Ve=pe.attachComponentPortal(we);Ue.instance=Ve.instance}return this._breakpointObserver.observe(g.u3.HandsetPortrait).pipe((0,p.R)(xe.detachments())).subscribe(ke=>{xe.overlayElement.classList.toggle(this.handsetCssClass,ke.matches)}),Re.announcementMessage&&pe._onAnnounce.subscribe(()=>{this._live.announce(Re.announcementMessage,Re.politeness)}),this._animateSnackBar(Ue,Re),this._openedSnackBarRef=Ue,this._openedSnackBarRef}_animateSnackBar(Le,fe){Le.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Le&&(this._openedSnackBarRef=null),fe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Le.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Le.containerInstance.enter(),fe.duration&&fe.duration>0&&Le.afterOpened().subscribe(()=>Le._dismissAfter(fe.duration))}_createOverlay(Le){const fe=new v.X_;fe.direction=Le.direction;let Re=this._overlay.position().global();const xe="rtl"===Le.direction,pe="left"===Le.horizontalPosition||"start"===Le.horizontalPosition&&!xe||"end"===Le.horizontalPosition&&xe,Ue=!pe&&"center"!==Le.horizontalPosition;return pe?Re.left("0"):Ue?Re.right("0"):Re.centerHorizontally(),"top"===Le.verticalPosition?Re.top("0"):Re.bottom("0"),fe.positionStrategy=Re,this._overlay.create(fe)}_createInjector(Le,fe){return c.zs3.create({parent:Le&&Le.viewContainerRef&&Le.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:fe},{provide:M,useValue:Le.data}]})}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.LFG(v.aV),c.LFG(f.Kd),c.LFG(c.zs3),c.LFG(g.Yg),c.LFG(he,12),c.LFG(K))};static#t=this.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac})}return he})(),oe=(()=>{class he extends ge{constructor(Le,fe,Re,xe,pe,Ue){super(Le,fe,Re,xe,pe,Ue),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Fe,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.LFG(v.aV),c.LFG(f.Kd),c.LFG(c.zs3),c.LFG(g.Yg),c.LFG(he,12),c.LFG(K))};static#t=this.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac,providedIn:$})}return he})()},3566:(Gn,tt,S)=>{"use strict";S.d(tt,{JX:()=>Fe,YE:()=>M,nU:()=>le});var c=S(5879),t=S(4300),y=S(2495),w=S(6028),E=S(3680),F=S(8645),L=S(3019),D=S(6825),p=S(6814);const f=["mat-sort-header",""];function g($,ae){if(1&$){const K=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){c.CHM(K);const oe=c.oxw();return c.KtG(oe._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){c.CHM(K);const oe=c.oxw();return c.KtG(oe._disableViewStateAnimation=!1)}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6)(4,"div",7)(5,"div",8),c.qZA()()}if(2&$){const K=c.oxw();c.Q6J("@arrowOpacity",K._getArrowViewState())("@arrowPosition",K._getArrowViewState())("@allowChildren",K._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",K._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",K._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",K._getArrowDirectionState())}}const v=["*"],k=new c.OlP("MAT_SORT_DEFAULT_OPTIONS"),O=(0,E.dB)((0,E.Id)(class{}));let M=(()=>{class $ extends O{get direction(){return this._direction}set direction(K){this._direction=K}get disableClear(){return this._disableClear}set disableClear(K){this._disableClear=(0,y.Ig)(K)}constructor(K){super(),this._defaultOptions=K,this.sortables=new Map,this._stateChanges=new F.x,this.start="asc",this._direction="",this.sortChange=new c.vpe}register(K){this.sortables.set(K.id,K)}deregister(K){this.sortables.delete(K.id)}sort(K){this.active!=K.id?(this.active=K.id,this.direction=K.start?K.start:this.start):this.direction=this.getNextSortDirection(K),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(K){if(!K)return"";let oe=function P($,ae){let K=["asc","desc"];return"desc"==$&&K.reverse(),ae||K.push(""),K}(K.start||this.start,K?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),he=oe.indexOf(this.direction)+1;return he>=oe.length&&(he=0),oe[he]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(ge){return new(ge||$)(c.Y36(k,8))};static#t=this.\u0275dir=c.lG2({type:$,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]})}return $})();const T=E.mZ.ENTERING+" "+E.yN.STANDARD_CURVE,N={indicator:(0,D.X$)("indicator",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"translateY(0px)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"translateY(10px)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),leftPointer:(0,D.X$)("leftPointer",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"rotate(-45deg)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"rotate(45deg)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),rightPointer:(0,D.X$)("rightPointer",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"rotate(45deg)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"rotate(-45deg)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),arrowOpacity:(0,D.X$)("arrowOpacity",[(0,D.SB)("desc-to-active, asc-to-active, active",(0,D.oB)({opacity:1})),(0,D.SB)("desc-to-hint, asc-to-hint, hint",(0,D.oB)({opacity:.54})),(0,D.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,D.oB)({opacity:0})),(0,D.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,D.jt)("0ms")),(0,D.eR)("* <=> *",(0,D.jt)(T))]),arrowPosition:(0,D.X$)("arrowPosition",[(0,D.eR)("* => desc-to-hint, * => desc-to-active",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(-25%)"}),(0,D.oB)({transform:"translateY(0)"})]))),(0,D.eR)("* => hint-to-desc, * => active-to-desc",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(0)"}),(0,D.oB)({transform:"translateY(25%)"})]))),(0,D.eR)("* => asc-to-hint, * => asc-to-active",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(25%)"}),(0,D.oB)({transform:"translateY(0)"})]))),(0,D.eR)("* => hint-to-asc, * => active-to-asc",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(0)"}),(0,D.oB)({transform:"translateY(-25%)"})]))),(0,D.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,D.oB)({transform:"translateY(0)"})),(0,D.SB)("hint-to-desc, active-to-desc, desc",(0,D.oB)({transform:"translateY(-25%)"})),(0,D.SB)("hint-to-asc, active-to-asc, asc",(0,D.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,D.X$)("allowChildren",[(0,D.eR)("* <=> *",[(0,D.IO)("@*",(0,D.pV)(),{optional:!0})])])};let C=(()=>{class ${constructor(){this.changes=new F.x}static#e=this.\u0275fac=function(ge){return new(ge||$)};static#t=this.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();const W={provide:C,deps:[[new c.FiY,new c.tp0,C]],useFactory:function B($){return $||new C}},q=(0,E.Id)(class{});let le=(()=>{class $ extends q{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(K){this._updateSortActionDescription(K)}get disableClear(){return this._disableClear}set disableClear(K){this._disableClear=(0,y.Ig)(K)}constructor(K,ge,oe,he,Ce,Le,fe,Re){super(),this._intl=K,this._changeDetectorRef=ge,this._sort=oe,this._columnDef=he,this._focusMonitor=Ce,this._elementRef=Le,this._ariaDescriber=fe,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Re?.arrowPosition&&(this.arrowPosition=Re?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(K=>{const ge=!!K;ge!==this._showIndicatorHint&&(this._setIndicatorHintVisible(ge),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(K){this._isDisabled()&&K||(this._showIndicatorHint=K,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(K){this._viewState=K||{},this._disableViewStateAnimation&&(this._viewState={toState:K.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(K){!this._isDisabled()&&(K.keyCode===w.L_||K.keyCode===w.K5)&&(K.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const K=this._viewState.fromState;return(K?`${K}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(K){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,K)),this._sortActionDescription=K}_handleStateChanges(){this._rerenderSubscription=(0,L.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(ge){return new(ge||$)(c.Y36(C),c.Y36(c.sBO),c.Y36(M,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36(t.tE),c.Y36(c.SBq),c.Y36(t.$s,8),c.Y36(k,8))};static#t=this.\u0275cmp=c.Xpm({type:$,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(ge,oe){1&ge&&c.NdJ("click",function(){return oe._handleClick()})("keydown",function(Ce){return oe._handleKeydown(Ce)})("mouseenter",function(){return oe._setIndicatorHintVisible(!0)})("mouseleave",function(){return oe._setIndicatorHintVisible(!1)}),2&ge&&(c.uIk("aria-sort",oe._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",oe._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[c.qOj],attrs:f,ngContentSelectors:v,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(ge,oe){1&ge&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,g,6,6,"div",2),c.qZA()),2&ge&&(c.ekj("mat-sort-header-sorted",oe._isSorted())("mat-sort-header-position-before","before"===oe.arrowPosition),c.uIk("tabindex",oe._isDisabled()?null:0)("role",oe._isDisabled()?null:"button"),c.xp6(3),c.Q6J("ngIf",oe._renderArrow()))},dependencies:[p.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[N.indicator,N.leftPointer,N.rightPointer,N.arrowOpacity,N.arrowPosition,N.allowChildren]},changeDetection:0})}return $})(),Fe=(()=>{class ${static#e=this.\u0275fac=function(ge){return new(ge||$)};static#t=this.\u0275mod=c.oAB({type:$});static#n=this.\u0275inj=c.cJS({providers:[W],imports:[p.ez,E.BQ]})}return $})()},5313:(Gn,tt,S)=>{"use strict";S.d(tt,{ev:()=>Ft,Dz:()=>Pe,w1:()=>lt,ge:()=>ot,fO:()=>Ye,XQ:()=>cn,as:()=>$t,Ee:()=>Ln,Gk:()=>xn,nj:()=>Jt,BZ:()=>De,by:()=>bt,p0:()=>ci});var c=S(5879),t=S(9388),y=S(2495),w=S(8337),E=S(2831),F=S(799),L=S(6814),D=S(8645),p=S(2459),f=S(5619),g=S(2664),v=S(2096),A=S(9773),U=S(8180);const R=[[["caption"]],[["colgroup"],["col"]]],H=["caption","colgroup, col"];function M(ut){return class extends ut{get sticky(){return this._sticky}set sticky(tn){const Ze=this._sticky;this._sticky=(0,y.Ig)(tn),this._hasStickyChanged=Ze!==this._sticky}hasStickyChanged(){const tn=this._hasStickyChanged;return this._hasStickyChanged=!1,tn}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...tn){super(...tn),this._sticky=!1,this._hasStickyChanged=!1}}}const P=new c.OlP("CDK_TABLE");let N=(()=>{class ut{constructor(Ze){this.template=Ze}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkCellDef",""]]})}return ut})(),C=(()=>{class ut{constructor(Ze){this.template=Ze}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkHeaderCellDef",""]]})}return ut})(),B=(()=>{class ut{constructor(Ze){this.template=Ze}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkFooterCellDef",""]]})}return ut})();class W{}const q=M(W);let le=(()=>{class ut extends q{get name(){return this._name}set name(Ze){this._setNameInput(Ze)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Ze){const Xe=this._stickyEnd;this._stickyEnd=(0,y.Ig)(Ze),this._hasStickyChanged=Xe!==this._stickyEnd}constructor(Ze){super(),this._table=Ze,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Ze){Ze&&(this._name=Ze,this.cssClassFriendlyName=Ze.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkColumnDef",""]],contentQueries:function(Xe,Pt,Qt){if(1&Xe&&(c.Suo(Qt,N,5),c.Suo(Qt,C,5),c.Suo(Qt,B,5)),2&Xe){let In;c.iGM(In=c.CRH())&&(Pt.cell=In.first),c.iGM(In=c.CRH())&&(Pt.headerCell=In.first),c.iGM(In=c.CRH())&&(Pt.footerCell=In.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ut}]),c.qOj]})}return ut})();class Fe{constructor(tn,Ze){Ze.nativeElement.classList.add(...tn._columnCssClassName)}}let $=(()=>{class ut extends Fe{constructor(Ze,Xe){super(Ze,Xe)}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(le),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]})}return ut})(),K=(()=>{class ut extends Fe{constructor(Ze,Xe){if(super(Ze,Xe),1===Ze._table?._elementRef.nativeElement.nodeType){const Pt=Ze._table._elementRef.nativeElement.getAttribute("role");Xe.nativeElement.setAttribute("role","grid"===Pt||"treegrid"===Pt?"gridcell":"cell")}}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(le),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]})}return ut})();class ge{constructor(){this.tasks=[],this.endTasks=[]}}const oe=new c.OlP("_COALESCED_STYLE_SCHEDULER");let he=(()=>{class ut{constructor(Ze){this._ngZone=Ze,this._currentSchedule=null,this._destroyed=new D.x}schedule(Ze){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Ze)}scheduleEnd(Ze){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Ze)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new ge,this._getScheduleObservable().pipe((0,A.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Ze=this._currentSchedule;this._currentSchedule=new ge;for(const Xe of Ze.tasks)Xe();for(const Xe of Ze.endTasks)Xe()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,p.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,U.q)(1))}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:ut,factory:ut.\u0275fac})}return ut})(),Le=(()=>{class ut{constructor(Ze,Xe){this.template=Ze,this._differs=Xe}ngOnChanges(Ze){if(!this._columnsDiffer){const Xe=Ze.columns&&Ze.columns.currentValue||[];this._columnsDiffer=this._differs.find(Xe).create(),this._columnsDiffer.diff(Xe)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Ze){return this instanceof xe?Ze.headerCell.template:this instanceof ke?Ze.footerCell.template:Ze.cell.template}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:ut,features:[c.TTD]})}return ut})();class fe extends Le{}const Re=M(fe);let xe=(()=>{class ut extends Re{constructor(Ze,Xe,Pt){super(Ze,Xe),this._table=Pt}ngOnChanges(Ze){super.ngOnChanges(Ze)}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return ut})();class pe extends Le{}const Ue=M(pe);let ke=(()=>{class ut extends Ue{constructor(Ze,Xe,Pt){super(Ze,Xe),this._table=Pt}ngOnChanges(Ze){super.ngOnChanges(Ze)}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return ut})(),we=(()=>{class ut extends Le{constructor(Ze,Xe,Pt){super(Ze,Xe),this._table=Pt}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]})}return ut})(),Ve=(()=>{class ut{static#e=this.mostRecentCellOutlet=null;constructor(Ze){this._viewContainer=Ze,ut.mostRecentCellOutlet=this}ngOnDestroy(){ut.mostRecentCellOutlet===this&&(ut.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.s_b))};static#n=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkCellOutlet",""]]})}return ut})(),st=(()=>{class ut{static#e=this.\u0275fac=function(Xe){return new(Xe||ut)};static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Pt){1&Xe&&c.GkF(0,0)},dependencies:[Ve],encapsulation:2})}return ut})(),Ne=(()=>{class ut{static#e=this.\u0275fac=function(Xe){return new(Xe||ut)};static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Pt){1&Xe&&c.GkF(0,0)},dependencies:[Ve],encapsulation:2})}return ut})(),Te=(()=>{class ut{constructor(Ze){this.templateRef=Ze,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["ng-template","cdkNoDataRow",""]]})}return ut})();const Y=["top","bottom","left","right"];class se{constructor(tn,Ze,Xe,Pt,Qt=!0,In=!0,Fn){this._isNativeHtmlTable=tn,this._stickCellCss=Ze,this.direction=Xe,this._coalescedStyleScheduler=Pt,this._isBrowser=Qt,this._needsPositionStickyOnElement=In,this._positionListener=Fn,this._cachedCellWidths=[],this._borderCellCss={top:`${Ze}-border-elem-top`,bottom:`${Ze}-border-elem-bottom`,left:`${Ze}-border-elem-left`,right:`${Ze}-border-elem-right`}}clearStickyPositioning(tn,Ze){const Xe=[];for(const Pt of tn)if(Pt.nodeType===Pt.ELEMENT_NODE){Xe.push(Pt);for(let Qt=0;Qt<Pt.children.length;Qt++)Xe.push(Pt.children[Qt])}this._coalescedStyleScheduler.schedule(()=>{for(const Pt of Xe)this._removeStickyStyle(Pt,Ze)})}updateStickyColumns(tn,Ze,Xe,Pt=!0){if(!tn.length||!this._isBrowser||!Ze.some(Un=>Un)&&!Xe.some(Un=>Un))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Qt=tn[0],In=Qt.children.length,Fn=this._getCellWidths(Qt,Pt),Zt=this._getStickyStartColumnPositions(Fn,Ze),Yt=this._getStickyEndColumnPositions(Fn,Xe),on=Ze.lastIndexOf(!0),Tn=Xe.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Un="rtl"===this.direction,ei=Un?"right":"left",Et=Un?"left":"right";for(const fn of tn)for(let be=0;be<In;be++){const yt=fn.children[be];Ze[be]&&this._addStickyStyle(yt,ei,Zt[be],be===on),Xe[be]&&this._addStickyStyle(yt,Et,Yt[be],be===Tn)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===on?[]:Fn.slice(0,on+1).map((fn,be)=>Ze[be]?fn:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Tn?[]:Fn.slice(Tn).map((fn,be)=>Xe[be+Tn]?fn:null).reverse()}))})}stickRows(tn,Ze,Xe){if(!this._isBrowser)return;const Pt="bottom"===Xe?tn.slice().reverse():tn,Qt="bottom"===Xe?Ze.slice().reverse():Ze,In=[],Fn=[],Zt=[];for(let on=0,Tn=0;on<Pt.length;on++){if(!Qt[on])continue;In[on]=Tn;const Un=Pt[on];Zt[on]=this._isNativeHtmlTable?Array.from(Un.children):[Un];const ei=Un.getBoundingClientRect().height;Tn+=ei,Fn[on]=ei}const Yt=Qt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let on=0;on<Pt.length;on++){if(!Qt[on])continue;const Tn=In[on],Un=on===Yt;for(const ei of Zt[on])this._addStickyStyle(ei,Xe,Tn,Un)}"top"===Xe?this._positionListener?.stickyHeaderRowsUpdated({sizes:Fn,offsets:In,elements:Zt}):this._positionListener?.stickyFooterRowsUpdated({sizes:Fn,offsets:In,elements:Zt})})}updateStickyFooterContainer(tn,Ze){if(!this._isNativeHtmlTable)return;const Xe=tn.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{Ze.some(Pt=>!Pt)?this._removeStickyStyle(Xe,["bottom"]):this._addStickyStyle(Xe,"bottom",0,!1)})}_removeStickyStyle(tn,Ze){for(const Pt of Ze)tn.style[Pt]="",tn.classList.remove(this._borderCellCss[Pt]);Y.some(Pt=>-1===Ze.indexOf(Pt)&&tn.style[Pt])?tn.style.zIndex=this._getCalculatedZIndex(tn):(tn.style.zIndex="",this._needsPositionStickyOnElement&&(tn.style.position=""),tn.classList.remove(this._stickCellCss))}_addStickyStyle(tn,Ze,Xe,Pt){tn.classList.add(this._stickCellCss),Pt&&tn.classList.add(this._borderCellCss[Ze]),tn.style[Ze]=`${Xe}px`,tn.style.zIndex=this._getCalculatedZIndex(tn),this._needsPositionStickyOnElement&&(tn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(tn){const Ze={top:100,bottom:10,left:1,right:1};let Xe=0;for(const Pt of Y)tn.style[Pt]&&(Xe+=Ze[Pt]);return Xe?`${Xe}`:""}_getCellWidths(tn,Ze=!0){if(!Ze&&this._cachedCellWidths.length)return this._cachedCellWidths;const Xe=[],Pt=tn.children;for(let Qt=0;Qt<Pt.length;Qt++)Xe.push(Pt[Qt].getBoundingClientRect().width);return this._cachedCellWidths=Xe,Xe}_getStickyStartColumnPositions(tn,Ze){const Xe=[];let Pt=0;for(let Qt=0;Qt<tn.length;Qt++)Ze[Qt]&&(Xe[Qt]=Pt,Pt+=tn[Qt]);return Xe}_getStickyEndColumnPositions(tn,Ze){const Xe=[];let Pt=0;for(let Qt=tn.length;Qt>0;Qt--)Ze[Qt]&&(Xe[Qt]=Pt,Pt+=tn[Qt]);return Xe}}const ue=new c.OlP("CDK_SPL");let de=(()=>{class ut{constructor(Ze,Xe){this.viewContainer=Ze,this.elementRef=Xe}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","rowOutlet",""]]})}return ut})(),Ae=(()=>{class ut{constructor(Ze,Xe){this.viewContainer=Ze,this.elementRef=Xe}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","headerRowOutlet",""]]})}return ut})(),We=(()=>{class ut{constructor(Ze,Xe){this.viewContainer=Ze,this.elementRef=Xe}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","footerRowOutlet",""]]})}return ut})(),He=(()=>{class ut{constructor(Ze,Xe){this.viewContainer=Ze,this.elementRef=Xe}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","noDataRowOutlet",""]]})}return ut})(),it=(()=>{class ut{get trackBy(){return this._trackByFn}set trackBy(Ze){this._trackByFn=Ze}get dataSource(){return this._dataSource}set dataSource(Ze){this._dataSource!==Ze&&this._switchDataSource(Ze)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Ze){this._multiTemplateDataRows=(0,y.Ig)(Ze),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Ze){this._fixedLayout=(0,y.Ig)(Ze),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(Ze,Xe,Pt,Qt,In,Fn,Zt,Yt,on,Tn,Un,ei){this._differs=Ze,this._changeDetectorRef=Xe,this._elementRef=Pt,this._dir=In,this._platform=Zt,this._viewRepeater=Yt,this._coalescedStyleScheduler=on,this._viewportRuler=Tn,this._stickyPositioningListener=Un,this._ngZone=ei,this._onDestroy=new D.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new f.X({start:0,end:Number.MAX_VALUE}),Qt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=Fn,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((Ze,Xe)=>this.trackBy?this.trackBy(Xe.dataIndex,Xe.data):Xe),this._viewportRuler.change().pipe((0,A.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const Xe=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Xe,this._forceRecalculateCellWidths=Xe,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Ze=>{Ze.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,w.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Ze=this._dataDiffer.diff(this._renderRows);if(!Ze)return this._updateNoDataRow(),void this.contentChanged.next();const Xe=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Ze,Xe,(Pt,Qt,In)=>this._getEmbeddedViewArgs(Pt.item,In),Pt=>Pt.item.data,Pt=>{1===Pt.operation&&Pt.context&&this._renderCellTemplateForItem(Pt.record.item.rowDef,Pt.context)}),this._updateRowIndexContext(),Ze.forEachIdentityChange(Pt=>{Xe.get(Pt.currentIndex).context.$implicit=Pt.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,U.q)(1),(0,A.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(Ze){this._customColumnDefs.add(Ze)}removeColumnDef(Ze){this._customColumnDefs.delete(Ze)}addRowDef(Ze){this._customRowDefs.add(Ze)}removeRowDef(Ze){this._customRowDefs.delete(Ze)}addHeaderRowDef(Ze){this._customHeaderRowDefs.add(Ze),this._headerRowDefChanged=!0}removeHeaderRowDef(Ze){this._customHeaderRowDefs.delete(Ze),this._headerRowDefChanged=!0}addFooterRowDef(Ze){this._customFooterRowDefs.add(Ze),this._footerRowDefChanged=!0}removeFooterRowDef(Ze){this._customFooterRowDefs.delete(Ze),this._footerRowDefChanged=!0}setNoDataRow(Ze){this._customNoDataRow=Ze}updateStickyHeaderRowStyles(){const Ze=this._getRenderedRows(this._headerRowOutlet),Pt=this._elementRef.nativeElement.querySelector("thead");Pt&&(Pt.style.display=Ze.length?"":"none");const Qt=this._headerRowDefs.map(In=>In.sticky);this._stickyStyler.clearStickyPositioning(Ze,["top"]),this._stickyStyler.stickRows(Ze,Qt,"top"),this._headerRowDefs.forEach(In=>In.resetStickyChanged())}updateStickyFooterRowStyles(){const Ze=this._getRenderedRows(this._footerRowOutlet),Pt=this._elementRef.nativeElement.querySelector("tfoot");Pt&&(Pt.style.display=Ze.length?"":"none");const Qt=this._footerRowDefs.map(In=>In.sticky);this._stickyStyler.clearStickyPositioning(Ze,["bottom"]),this._stickyStyler.stickRows(Ze,Qt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Qt),this._footerRowDefs.forEach(In=>In.resetStickyChanged())}updateStickyColumnStyles(){const Ze=this._getRenderedRows(this._headerRowOutlet),Xe=this._getRenderedRows(this._rowOutlet),Pt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Ze,...Xe,...Pt],["left","right"]),this._stickyColumnStylesNeedReset=!1),Ze.forEach((Qt,In)=>{this._addStickyColumnStyles([Qt],this._headerRowDefs[In])}),this._rowDefs.forEach(Qt=>{const In=[];for(let Fn=0;Fn<Xe.length;Fn++)this._renderRows[Fn].rowDef===Qt&&In.push(Xe[Fn]);this._addStickyColumnStyles(In,Qt)}),Pt.forEach((Qt,In)=>{this._addStickyColumnStyles([Qt],this._footerRowDefs[In])}),Array.from(this._columnDefsByName.values()).forEach(Qt=>Qt.resetStickyChanged())}_getAllRenderRows(){const Ze=[],Xe=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Pt=0;Pt<this._data.length;Pt++){let Qt=this._data[Pt];const In=this._getRenderRowsForData(Qt,Pt,Xe.get(Qt));this._cachedRenderRowsMap.has(Qt)||this._cachedRenderRowsMap.set(Qt,new WeakMap);for(let Fn=0;Fn<In.length;Fn++){let Zt=In[Fn];const Yt=this._cachedRenderRowsMap.get(Zt.data);Yt.has(Zt.rowDef)?Yt.get(Zt.rowDef).push(Zt):Yt.set(Zt.rowDef,[Zt]),Ze.push(Zt)}}return Ze}_getRenderRowsForData(Ze,Xe,Pt){return this._getRowDefs(Ze,Xe).map(In=>{const Fn=Pt&&Pt.has(In)?Pt.get(In):[];if(Fn.length){const Zt=Fn.shift();return Zt.dataIndex=Xe,Zt}return{data:Ze,rowDef:In,dataIndex:Xe}})}_cacheColumnDefs(){this._columnDefsByName.clear(),vt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Xe=>{this._columnDefsByName.has(Xe.name),this._columnDefsByName.set(Xe.name,Xe)})}_cacheRowDefs(){this._headerRowDefs=vt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=vt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=vt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Ze=this._rowDefs.filter(Xe=>!Xe.when);this._defaultRowDef=Ze[0]}_renderUpdatedColumns(){const Ze=(In,Fn)=>In||!!Fn.getColumnsDiff(),Xe=this._rowDefs.reduce(Ze,!1);Xe&&this._forceRenderDataRows();const Pt=this._headerRowDefs.reduce(Ze,!1);Pt&&this._forceRenderHeaderRows();const Qt=this._footerRowDefs.reduce(Ze,!1);return Qt&&this._forceRenderFooterRows(),Xe||Pt||Qt}_switchDataSource(Ze){this._data=[],(0,w.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Ze||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=Ze}_observeRenderChanges(){if(!this.dataSource)return;let Ze;(0,w.Z9)(this.dataSource)?Ze=this.dataSource.connect(this):(0,g.b)(this.dataSource)?Ze=this.dataSource:Array.isArray(this.dataSource)&&(Ze=(0,v.of)(this.dataSource)),this._renderChangeSubscription=Ze.pipe((0,A.R)(this._onDestroy)).subscribe(Xe=>{this._data=Xe||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Ze,Xe)=>this._renderRow(this._headerRowOutlet,Ze,Xe)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Ze,Xe)=>this._renderRow(this._footerRowOutlet,Ze,Xe)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Ze,Xe){const Pt=Array.from(Xe.columns||[]).map(Fn=>this._columnDefsByName.get(Fn)),Qt=Pt.map(Fn=>Fn.sticky),In=Pt.map(Fn=>Fn.stickyEnd);this._stickyStyler.updateStickyColumns(Ze,Qt,In,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Ze){const Xe=[];for(let Pt=0;Pt<Ze.viewContainer.length;Pt++){const Qt=Ze.viewContainer.get(Pt);Xe.push(Qt.rootNodes[0])}return Xe}_getRowDefs(Ze,Xe){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Pt=[];if(this.multiTemplateDataRows)Pt=this._rowDefs.filter(Qt=>!Qt.when||Qt.when(Xe,Ze));else{let Qt=this._rowDefs.find(In=>In.when&&In.when(Xe,Ze))||this._defaultRowDef;Qt&&Pt.push(Qt)}return Pt}_getEmbeddedViewArgs(Ze,Xe){return{templateRef:Ze.rowDef.template,context:{$implicit:Ze.data},index:Xe}}_renderRow(Ze,Xe,Pt,Qt={}){const In=Ze.viewContainer.createEmbeddedView(Xe.template,Qt,Pt);return this._renderCellTemplateForItem(Xe,Qt),In}_renderCellTemplateForItem(Ze,Xe){for(let Pt of this._getCellTemplates(Ze))Ve.mostRecentCellOutlet&&Ve.mostRecentCellOutlet._viewContainer.createEmbeddedView(Pt,Xe);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Ze=this._rowOutlet.viewContainer;for(let Xe=0,Pt=Ze.length;Xe<Pt;Xe++){const In=Ze.get(Xe).context;In.count=Pt,In.first=0===Xe,In.last=Xe===Pt-1,In.even=Xe%2==0,In.odd=!In.even,this.multiTemplateDataRows?(In.dataIndex=this._renderRows[Xe].dataIndex,In.renderIndex=Xe):In.index=this._renderRows[Xe].dataIndex}}_getCellTemplates(Ze){return Ze&&Ze.columns?Array.from(Ze.columns,Xe=>{const Pt=this._columnDefsByName.get(Xe);return Ze.extractCellTemplate(Pt)}):[]}_applyNativeTableSections(){const Ze=this._document.createDocumentFragment(),Xe=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Pt of Xe){const Qt=this._document.createElement(Pt.tag);Qt.setAttribute("role","rowgroup");for(const In of Pt.outlets)Qt.appendChild(In.elementRef.nativeElement);Ze.appendChild(Qt)}this._elementRef.nativeElement.appendChild(Ze)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Ze=(Xe,Pt)=>Xe||Pt.hasStickyChanged();this._headerRowDefs.reduce(Ze,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Ze,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Ze,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new se(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,v.of)()).pipe((0,A.R)(this._onDestroy)).subscribe(Xe=>{this._stickyStyler.direction=Xe,this.updateStickyColumnStyles()})}_getOwnDefs(Ze){return Ze.filter(Xe=>!Xe._table||Xe._table===this)}_updateNoDataRow(){const Ze=this._customNoDataRow||this._noDataRow;if(!Ze)return;const Xe=0===this._rowOutlet.viewContainer.length;if(Xe===this._isShowingNoDataRow)return;const Pt=this._noDataRowOutlet.viewContainer;if(Xe){const Qt=Pt.createEmbeddedView(Ze.templateRef),In=Qt.rootNodes[0];1===Qt.rootNodes.length&&In?.nodeType===this._document.ELEMENT_NODE&&(In.setAttribute("role","row"),In.classList.add(Ze._contentClassName))}else Pt.clear();this._isShowingNoDataRow=Xe}static#e=this.\u0275fac=function(Xe){return new(Xe||ut)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(t.Is,8),c.Y36(L.K0),c.Y36(E.t4),c.Y36(w.k),c.Y36(oe),c.Y36(F.rL),c.Y36(ue,12),c.Y36(c.R0b,8))};static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Xe,Pt,Qt){if(1&Xe&&(c.Suo(Qt,Te,5),c.Suo(Qt,le,5),c.Suo(Qt,we,5),c.Suo(Qt,xe,5),c.Suo(Qt,ke,5)),2&Xe){let In;c.iGM(In=c.CRH())&&(Pt._noDataRow=In.first),c.iGM(In=c.CRH())&&(Pt._contentColumnDefs=In),c.iGM(In=c.CRH())&&(Pt._contentRowDefs=In),c.iGM(In=c.CRH())&&(Pt._contentHeaderRowDefs=In),c.iGM(In=c.CRH())&&(Pt._contentFooterRowDefs=In)}},viewQuery:function(Xe,Pt){if(1&Xe&&(c.Gf(de,7),c.Gf(Ae,7),c.Gf(We,7),c.Gf(He,7)),2&Xe){let Qt;c.iGM(Qt=c.CRH())&&(Pt._rowOutlet=Qt.first),c.iGM(Qt=c.CRH())&&(Pt._headerRowOutlet=Qt.first),c.iGM(Qt=c.CRH())&&(Pt._footerRowOutlet=Qt.first),c.iGM(Qt=c.CRH())&&(Pt._noDataRowOutlet=Qt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(Xe,Pt){2&Xe&&c.ekj("cdk-table-fixed-layout",Pt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:P,useExisting:ut},{provide:w.k,useClass:w.yy},{provide:oe,useClass:he},{provide:ue,useValue:null}])],ngContentSelectors:H,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Xe,Pt){1&Xe&&(c.F$t(R),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[de,Ae,We,He],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return ut})();function vt(ut,tn){return ut.concat(Array.from(tn))}let jt=(()=>{class ut{static#e=this.\u0275fac=function(Xe){return new(Xe||ut)};static#t=this.\u0275mod=c.oAB({type:ut});static#n=this.\u0275inj=c.cJS({imports:[F.Cl]})}return ut})();var en=S(3680),dn=S(3019),un=S(2572),Kt=S(7398);const Cn=[[["caption"]],[["colgroup"],["col"]]],nn=["caption","colgroup, col"];let De=(()=>{class ut extends it{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(Xe,Pt){2&Xe&&c.ekj("mdc-table-fixed-layout",Pt.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:it,useExisting:ut},{provide:P,useExisting:ut},{provide:oe,useClass:he},{provide:w.k,useClass:w.yy},{provide:ue,useValue:null}]),c.qOj],ngContentSelectors:nn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Xe,Pt){1&Xe&&(c.F$t(Cn),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[de,Ae,We,He],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return ut})(),Pe=(()=>{class ut extends N{static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:N,useExisting:ut}]),c.qOj]})}return ut})(),Ye=(()=>{class ut extends C{static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:C,useExisting:ut}]),c.qOj]})}return ut})(),lt=(()=>{class ut extends le{get name(){return this._name}set name(Ze){this._setNameInput(Ze)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:le,useExisting:ut},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ut}]),c.qOj]})}return ut})(),ot=(()=>{class ut extends ${static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]})}return ut})(),Ft=(()=>{class ut extends K{static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]})}return ut})(),$t=(()=>{class ut extends xe{static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:xe,useExisting:ut}]),c.qOj]})}return ut})(),Jt=(()=>{class ut extends we{static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:we,useExisting:ut}]),c.qOj]})}return ut})(),cn=(()=>{class ut extends st{static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:st,useExisting:ut}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Pt){1&Xe&&c.GkF(0,0)},dependencies:[Ve],encapsulation:2})}return ut})(),xn=(()=>{class ut extends Ne{static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:Ne,useExisting:ut}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Pt){1&Xe&&c.GkF(0,0)},dependencies:[Ve],encapsulation:2})}return ut})(),Ln=(()=>{class ut extends Te{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let Ze;return function(Pt){return(Ze||(Ze=c.n5z(ut)))(Pt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["ng-template","matNoDataRow",""]],features:[c._Bn([{provide:Te,useExisting:ut}]),c.qOj]})}return ut})(),ci=(()=>{class ut{static#e=this.\u0275fac=function(Xe){return new(Xe||ut)};static#t=this.\u0275mod=c.oAB({type:ut});static#n=this.\u0275inj=c.cJS({imports:[en.BQ,jt,en.BQ]})}return ut})();class _n extends w.o2{get data(){return this._data.value}set data(tn){tn=Array.isArray(tn)?tn:[],this._data.next(tn),this._renderChangesSubscription||this._filterData(tn)}get filter(){return this._filter.value}set filter(tn){this._filter.next(tn),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(tn){this._sort=tn,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(tn){this._paginator=tn,this._updateChangeSubscription()}constructor(tn=[]){super(),this._renderData=new f.X([]),this._filter=new f.X(""),this._internalPageChanges=new D.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(Ze,Xe)=>{const Pt=Ze[Xe];if((0,y.t6)(Pt)){const Qt=Number(Pt);return Qt<9007199254740991?Qt:Pt}return Pt},this.sortData=(Ze,Xe)=>{const Pt=Xe.active,Qt=Xe.direction;return Pt&&""!=Qt?Ze.sort((In,Fn)=>{let Zt=this.sortingDataAccessor(In,Pt),Yt=this.sortingDataAccessor(Fn,Pt);const on=typeof Zt,Tn=typeof Yt;on!==Tn&&("number"===on&&(Zt+=""),"number"===Tn&&(Yt+=""));let Un=0;return null!=Zt&&null!=Yt?Zt>Yt?Un=1:Zt<Yt&&(Un=-1):null!=Zt?Un=1:null!=Yt&&(Un=-1),Un*("asc"==Qt?1:-1)}):Ze},this.filterPredicate=(Ze,Xe)=>{const Pt=Object.keys(Ze).reduce((In,Fn)=>In+Ze[Fn]+"\u25ec","").toLowerCase(),Qt=Xe.trim().toLowerCase();return-1!=Pt.indexOf(Qt)},this._data=new f.X(tn),this._updateChangeSubscription()}_updateChangeSubscription(){const tn=this._sort?(0,dn.T)(this._sort.sortChange,this._sort.initialized):(0,v.of)(null),Ze=this._paginator?(0,dn.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,v.of)(null),Pt=(0,un.a)([this._data,this._filter]).pipe((0,Kt.U)(([Fn])=>this._filterData(Fn))),Qt=(0,un.a)([Pt,tn]).pipe((0,Kt.U)(([Fn])=>this._orderData(Fn))),In=(0,un.a)([Qt,Ze]).pipe((0,Kt.U)(([Fn])=>this._pageData(Fn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=In.subscribe(Fn=>this._renderData.next(Fn))}_filterData(tn){return this.filteredData=null==this.filter||""===this.filter?tn:tn.filter(Ze=>this.filterPredicate(Ze,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(tn){return this.sort?this.sortData(tn.slice(),this.sort):tn}_pageData(tn){if(!this.paginator)return tn;const Ze=this.paginator.pageIndex*this.paginator.pageSize;return tn.slice(Ze,Ze+this.paginator.pageSize)}_updatePaginator(tn){Promise.resolve().then(()=>{const Ze=this.paginator;if(Ze&&(Ze.length=tn,Ze.pageIndex>0)){const Xe=Math.ceil(Ze.length/Ze.pageSize)-1||0,Pt=Math.min(Ze.pageIndex,Xe);Pt!==Ze.pageIndex&&(Ze.pageIndex=Pt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class bt extends _n{}},2596:(Gn,tt,S)=>{"use strict";S.d(tt,{AV:()=>fe,gM:()=>oe});var c=S(9773),t=S(8180),y=S(2495),w=S(6028),E=S(5879),F=S(6814),L=S(2831),D=S(4300),p=S(9388),f=S(3651),g=S(799),v=S(8484),A=S(8645),R=(S(6825),S(3680));const H=["tooltip"],M=new E.OlP("mat-tooltip-scroll-strategy"),T={provide:M,deps:[f.aV],useFactory:function P(Re){return()=>Re.scrollStrategies.reposition({scrollThrottle:20})}},C=new E.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function N(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),W="tooltip-panel",q=(0,L.i$)({passive:!0});let ge=(()=>{class Re{get position(){return this._position}set position(pe){pe!==this._position&&(this._position=pe,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(pe){this._positionAtOrigin=(0,y.Ig)(pe),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(pe){this._disabled=(0,y.Ig)(pe),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(pe){this._showDelay=(0,y.su)(pe)}get hideDelay(){return this._hideDelay}set hideDelay(pe){this._hideDelay=(0,y.su)(pe),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(pe){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=pe?String(pe).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(pe){this._tooltipClass=pe,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(pe,Ue,ke,we,Ve,st,Je,Ne,Te,Y,se,_e){this._overlay=pe,this._elementRef=Ue,this._scrollDispatcher=ke,this._viewContainerRef=we,this._ngZone=Ve,this._platform=st,this._ariaDescriber=Je,this._focusMonitor=Ne,this._dir=Y,this._defaultOptions=se,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new A.x,this._scrollStrategy=Te,this._document=_e,se&&(this._showDelay=se.showDelay,this._hideDelay=se.hideDelay,se.position&&(this.position=se.position),se.positionAtOrigin&&(this.positionAtOrigin=se.positionAtOrigin),se.touchGestures&&(this.touchGestures=se.touchGestures)),Y.change.pipe((0,c.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,c.R)(this._destroyed)).subscribe(pe=>{pe?"keyboard"===pe&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const pe=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Ue,ke])=>{pe.removeEventListener(Ue,ke,q)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(pe,this.message,"tooltip"),this._focusMonitor.stopMonitoring(pe)}show(pe=this.showDelay,Ue){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const ke=this._createOverlay(Ue);this._detach(),this._portal=this._portal||new v.C5(this._tooltipComponent,this._viewContainerRef);const we=this._tooltipInstance=ke.attach(this._portal).instance;we._triggerElement=this._elementRef.nativeElement,we._mouseLeaveHideDelay=this._hideDelay,we.afterHidden().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),we.show(pe)}hide(pe=this.hideDelay){const Ue=this._tooltipInstance;Ue&&(Ue.isVisible()?Ue.hide(pe):(Ue._cancelPendingAnimations(),this._detach()))}toggle(pe){this._isTooltipVisible()?this.hide():this.show(void 0,pe)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(pe){if(this._overlayRef){const we=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!pe)&&we._origin instanceof E.SBq)return this._overlayRef;this._detach()}const Ue=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),ke=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&pe||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Ue);return ke.positionChanges.pipe((0,c.R)(this._destroyed)).subscribe(we=>{this._updateCurrentPositionClass(we.connectionPair),this._tooltipInstance&&we.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:ke,panelClass:`${this._cssClassPrefix}-${W}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,c.R)(this._destroyed)).subscribe(we=>{this._isTooltipVisible()&&we.keyCode===w.hY&&!(0,w.Vb)(we)&&(we.preventDefault(),we.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(pe){const Ue=pe.getConfig().positionStrategy,ke=this._getOrigin(),we=this._getOverlayPosition();Ue.withPositions([this._addOffset({...ke.main,...we.main}),this._addOffset({...ke.fallback,...we.fallback})])}_addOffset(pe){return pe}_getOrigin(){const pe=!this._dir||"ltr"==this._dir.value,Ue=this.position;let ke;"above"==Ue||"below"==Ue?ke={originX:"center",originY:"above"==Ue?"top":"bottom"}:"before"==Ue||"left"==Ue&&pe||"right"==Ue&&!pe?ke={originX:"start",originY:"center"}:("after"==Ue||"right"==Ue&&pe||"left"==Ue&&!pe)&&(ke={originX:"end",originY:"center"});const{x:we,y:Ve}=this._invertPosition(ke.originX,ke.originY);return{main:ke,fallback:{originX:we,originY:Ve}}}_getOverlayPosition(){const pe=!this._dir||"ltr"==this._dir.value,Ue=this.position;let ke;"above"==Ue?ke={overlayX:"center",overlayY:"bottom"}:"below"==Ue?ke={overlayX:"center",overlayY:"top"}:"before"==Ue||"left"==Ue&&pe||"right"==Ue&&!pe?ke={overlayX:"end",overlayY:"center"}:("after"==Ue||"right"==Ue&&pe||"left"==Ue&&!pe)&&(ke={overlayX:"start",overlayY:"center"});const{x:we,y:Ve}=this._invertPosition(ke.overlayX,ke.overlayY);return{main:ke,fallback:{overlayX:we,overlayY:Ve}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,t.q)(1),(0,c.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(pe){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=pe,this._tooltipInstance._markForCheck())}_invertPosition(pe,Ue){return"above"===this.position||"below"===this.position?"top"===Ue?Ue="bottom":"bottom"===Ue&&(Ue="top"):"end"===pe?pe="start":"start"===pe&&(pe="end"),{x:pe,y:Ue}}_updateCurrentPositionClass(pe){const{overlayY:Ue,originX:ke,originY:we}=pe;let Ve;if(Ve="center"===Ue?this._dir&&"rtl"===this._dir.value?"end"===ke?"left":"right":"start"===ke?"left":"right":"bottom"===Ue&&"top"===we?"above":"below",Ve!==this._currentPosition){const st=this._overlayRef;if(st){const Je=`${this._cssClassPrefix}-${W}-`;st.removePanelClass(Je+this._currentPosition),st.addPanelClass(Je+Ve)}this._currentPosition=Ve}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",pe=>{let Ue;this._setupPointerExitEventsIfNeeded(),void 0!==pe.x&&void 0!==pe.y&&(Ue=pe),this.show(void 0,Ue)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",pe=>{const Ue=pe.targetTouches?.[0],ke=Ue?{x:Ue.clientX,y:Ue.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,ke),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const pe=[];if(this._platformSupportsMouseEvents())pe.push(["mouseleave",Ue=>{const ke=Ue.relatedTarget;(!ke||!this._overlayRef?.overlayElement.contains(ke))&&this.hide()}],["wheel",Ue=>this._wheelListener(Ue)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Ue=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};pe.push(["touchend",Ue],["touchcancel",Ue])}this._addListeners(pe),this._passiveListeners.push(...pe)}_addListeners(pe){pe.forEach(([Ue,ke])=>{this._elementRef.nativeElement.addEventListener(Ue,ke,q)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(pe){if(this._isTooltipVisible()){const Ue=this._document.elementFromPoint(pe.clientX,pe.clientY),ke=this._elementRef.nativeElement;Ue!==ke&&!ke.contains(Ue)&&this.hide()}}_disableNativeGesturesIfNecessary(){const pe=this.touchGestures;if("off"!==pe){const Ue=this._elementRef.nativeElement,ke=Ue.style;("on"===pe||"INPUT"!==Ue.nodeName&&"TEXTAREA"!==Ue.nodeName)&&(ke.userSelect=ke.msUserSelect=ke.webkitUserSelect=ke.MozUserSelect="none"),("on"===pe||!Ue.draggable)&&(ke.webkitUserDrag="none"),ke.touchAction="none",ke.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Ue){E.$Z()};static#t=this.\u0275dir=E.lG2({type:Re,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Re})(),oe=(()=>{class Re extends ge{constructor(pe,Ue,ke,we,Ve,st,Je,Ne,Te,Y,se,_e){super(pe,Ue,ke,we,Ve,st,Je,Ne,Te,Y,se,_e),this._tooltipComponent=Ce,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(pe){const ke=!this._dir||"ltr"==this._dir.value;return"top"===pe.originY?pe.offsetY=-8:"bottom"===pe.originY?pe.offsetY=8:"start"===pe.originX?pe.offsetX=ke?-8:8:"end"===pe.originX&&(pe.offsetX=ke?8:-8),pe}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(f.aV),E.Y36(E.SBq),E.Y36(g.mF),E.Y36(E.s_b),E.Y36(E.R0b),E.Y36(L.t4),E.Y36(D.$s),E.Y36(D.tE),E.Y36(M),E.Y36(p.Is,8),E.Y36(C,8),E.Y36(F.K0))};static#t=this.\u0275dir=E.lG2({type:Re,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Ue,ke){2&Ue&&E.ekj("mat-mdc-tooltip-disabled",ke.disabled)},exportAs:["matTooltip"],features:[E.qOj]})}return Re})(),he=(()=>{class Re{constructor(pe,Ue){this._changeDetectorRef=pe,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new A.x,this._animationsDisabled="NoopAnimations"===Ue}show(pe){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},pe)}hide(pe){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},pe)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:pe}){(!pe||!this._triggerElement.contains(pe))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:pe}){(pe===this._showAnimation||pe===this._hideAnimation)&&this._finalizeAnimation(pe===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(pe){pe?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(pe){const Ue=this._tooltip.nativeElement,ke=this._showAnimation,we=this._hideAnimation;if(Ue.classList.remove(pe?we:ke),Ue.classList.add(pe?ke:we),this._isVisible=pe,pe&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ve=getComputedStyle(Ue);("0s"===Ve.getPropertyValue("animation-duration")||"none"===Ve.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}pe&&this._onShow(),this._animationsDisabled&&(Ue.classList.add("_mat-animation-noopable"),this._finalizeAnimation(pe))}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(E.sBO),E.Y36(E.QbO,8))};static#t=this.\u0275dir=E.lG2({type:Re})}return Re})(),Ce=(()=>{class Re extends he{constructor(pe,Ue,ke){super(pe,ke),this._elementRef=Ue,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const pe=this._elementRef.nativeElement.getBoundingClientRect();return pe.height>24&&pe.width>=200}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.QbO,8))};static#t=this.\u0275cmp=E.Xpm({type:Re,selectors:[["mat-tooltip-component"]],viewQuery:function(Ue,ke){if(1&Ue&&E.Gf(H,7),2&Ue){let we;E.iGM(we=E.CRH())&&(ke._tooltip=we.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Ue,ke){1&Ue&&E.NdJ("mouseleave",function(Ve){return ke._handleMouseLeave(Ve)}),2&Ue&&E.Udp("zoom",ke.isVisible()?1:null)},features:[E.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Ue,ke){1&Ue&&(E.TgZ(0,"div",0,1),E.NdJ("animationend",function(Ve){return ke._handleAnimationEnd(Ve)}),E.TgZ(2,"div",2),E._uU(3),E.qZA()()),2&Ue&&(E.ekj("mdc-tooltip--multiline",ke._isMultiline),E.Q6J("ngClass",ke.tooltipClass),E.xp6(3),E.Oqu(ke.message))},dependencies:[F.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Re})(),fe=(()=>{class Re{static#e=this.\u0275fac=function(Ue){return new(Ue||Re)};static#t=this.\u0275mod=E.oAB({type:Re});static#n=this.\u0275inj=E.cJS({providers:[T],imports:[D.rt,F.ez,f.U8,R.BQ,R.BQ,g.ZD]})}return Re})()},6593:(Gn,tt,S)=>{"use strict";S.d(tt,{Dx:()=>ie,H7:()=>dn,b2:()=>_e,q6:()=>Ne,se:()=>q});var c=S(5879),t=S(6814);class y extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class w extends y{static makeCurrent(){(0,t.HT)(new w)}onAndCancel(lt,ot,dt){return lt.addEventListener(ot,dt),()=>{lt.removeEventListener(ot,dt)}}dispatchEvent(lt,ot){lt.dispatchEvent(ot)}remove(lt){lt.parentNode&&lt.parentNode.removeChild(lt)}createElement(lt,ot){return(ot=ot||this.getDefaultDocument()).createElement(lt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(lt){return lt.nodeType===Node.ELEMENT_NODE}isShadowRoot(lt){return lt instanceof DocumentFragment}getGlobalEventTarget(lt,ot){return"window"===ot?window:"document"===ot?lt:"body"===ot?lt.body:null}getBaseHref(lt){const ot=function F(){return E=E||document.querySelector("base"),E?E.getAttribute("href"):null}();return null==ot?null:function D($e){L=L||document.createElement("a"),L.setAttribute("href",$e);const lt=L.pathname;return"/"===lt.charAt(0)?lt:`/${lt}`}(ot)}resetBaseElement(){E=null}getUserAgent(){return window.navigator.userAgent}getCookie(lt){return(0,t.Mx)(document.cookie,lt)}}let L,E=null,f=(()=>{class $e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(dt){return new(dt||$e)};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();const g=new c.OlP("EventManagerPlugins");let v=(()=>{class $e{constructor(ot,dt){this._zone=dt,this._eventNameToPlugin=new Map,ot.forEach(Ft=>{Ft.manager=this}),this._plugins=ot.slice().reverse()}addEventListener(ot,dt,Ft){return this._findPluginFor(dt).addEventListener(ot,dt,Ft)}getZone(){return this._zone}_findPluginFor(ot){let dt=this._eventNameToPlugin.get(ot);if(dt)return dt;if(dt=this._plugins.find($t=>$t.supports(ot)),!dt)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(ot,dt),dt}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(g),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();class A{constructor(lt){this._doc=lt}}const U="ng-app-id";let R=(()=>{class $e{constructor(ot,dt,Ft,$t={}){this.doc=ot,this.appId=dt,this.nonce=Ft,this.platformId=$t,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)($t),this.resetHostNodes()}addStyles(ot){for(const dt of ot)1===this.changeUsageCount(dt,1)&&this.onStyleAdded(dt)}removeStyles(ot){for(const dt of ot)this.changeUsageCount(dt,-1)<=0&&this.onStyleRemoved(dt)}ngOnDestroy(){const ot=this.styleNodesInDOM;ot&&(ot.forEach(dt=>dt.remove()),ot.clear());for(const dt of this.getAllStyles())this.onStyleRemoved(dt);this.resetHostNodes()}addHost(ot){this.hostNodes.add(ot);for(const dt of this.getAllStyles())this.addStyleToHost(ot,dt)}removeHost(ot){this.hostNodes.delete(ot)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ot){for(const dt of this.hostNodes)this.addStyleToHost(dt,ot)}onStyleRemoved(ot){const dt=this.styleRef;dt.get(ot)?.elements?.forEach(Ft=>Ft.remove()),dt.delete(ot)}collectServerRenderedStyles(){const ot=this.doc.head?.querySelectorAll(`style[${U}="${this.appId}"]`);if(ot?.length){const dt=new Map;return ot.forEach(Ft=>{null!=Ft.textContent&&dt.set(Ft.textContent,Ft)}),dt}return null}changeUsageCount(ot,dt){const Ft=this.styleRef;if(Ft.has(ot)){const $t=Ft.get(ot);return $t.usage+=dt,$t.usage}return Ft.set(ot,{usage:dt,elements:[]}),dt}getStyleElement(ot,dt){const Ft=this.styleNodesInDOM,$t=Ft?.get(dt);if($t?.parentNode===ot)return Ft.delete(dt),$t.removeAttribute(U),$t;{const Lt=this.doc.createElement("style");return this.nonce&&Lt.setAttribute("nonce",this.nonce),Lt.textContent=dt,this.platformIsServer&&Lt.setAttribute(U,this.appId),Lt}}addStyleToHost(ot,dt){const Ft=this.getStyleElement(ot,dt);ot.appendChild(Ft);const $t=this.styleRef,Lt=$t.get(dt)?.elements;Lt?Lt.push(Ft):$t.set(dt,{elements:[Ft],usage:1})}resetHostNodes(){const ot=this.hostNodes;ot.clear(),ot.add(this.doc.head)}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(t.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();const H={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k=/%COMP%/g,O="%COMP%",M=`_nghost-${O}`,P=`_ngcontent-${O}`,N=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function W($e,lt){return lt.map(ot=>ot.replace(k,$e))}let q=(()=>{class $e{constructor(ot,dt,Ft,$t,Lt,Jt,cn,mn=null){this.eventManager=ot,this.sharedStylesHost=dt,this.appId=Ft,this.removeStylesOnCompDestroy=$t,this.doc=Lt,this.platformId=Jt,this.ngZone=cn,this.nonce=mn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)(Jt),this.defaultRenderer=new le(ot,Lt,cn,this.platformIsServer)}createRenderer(ot,dt){if(!ot||!dt)return this.defaultRenderer;this.platformIsServer&&dt.encapsulation===c.ifc.ShadowDom&&(dt={...dt,encapsulation:c.ifc.Emulated});const Ft=this.getOrCreateRenderer(ot,dt);return Ft instanceof oe?Ft.applyToHost(ot):Ft instanceof ge&&Ft.applyStyles(),Ft}getOrCreateRenderer(ot,dt){const Ft=this.rendererByCompId;let $t=Ft.get(dt.id);if(!$t){const Lt=this.doc,Jt=this.ngZone,cn=this.eventManager,mn=this.sharedStylesHost,xn=this.removeStylesOnCompDestroy,Ln=this.platformIsServer;switch(dt.encapsulation){case c.ifc.Emulated:$t=new oe(cn,mn,dt,this.appId,xn,Lt,Jt,Ln);break;case c.ifc.ShadowDom:return new K(cn,mn,ot,dt,Lt,Jt,this.nonce,Ln);default:$t=new ge(cn,mn,dt,xn,Lt,Jt,Ln)}Ft.set(dt.id,$t)}return $t}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(v),c.LFG(R),c.LFG(c.AFp),c.LFG(N),c.LFG(t.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();class le{constructor(lt,ot,dt,Ft){this.eventManager=lt,this.doc=ot,this.ngZone=dt,this.platformIsServer=Ft,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(lt,ot){return ot?this.doc.createElementNS(H[ot]||ot,lt):this.doc.createElement(lt)}createComment(lt){return this.doc.createComment(lt)}createText(lt){return this.doc.createTextNode(lt)}appendChild(lt,ot){(ae(lt)?lt.content:lt).appendChild(ot)}insertBefore(lt,ot,dt){lt&&(ae(lt)?lt.content:lt).insertBefore(ot,dt)}removeChild(lt,ot){lt&&lt.removeChild(ot)}selectRootElement(lt,ot){let dt="string"==typeof lt?this.doc.querySelector(lt):lt;if(!dt)throw new c.vHH(-5104,!1);return ot||(dt.textContent=""),dt}parentNode(lt){return lt.parentNode}nextSibling(lt){return lt.nextSibling}setAttribute(lt,ot,dt,Ft){if(Ft){ot=Ft+":"+ot;const $t=H[Ft];$t?lt.setAttributeNS($t,ot,dt):lt.setAttribute(ot,dt)}else lt.setAttribute(ot,dt)}removeAttribute(lt,ot,dt){if(dt){const Ft=H[dt];Ft?lt.removeAttributeNS(Ft,ot):lt.removeAttribute(`${dt}:${ot}`)}else lt.removeAttribute(ot)}addClass(lt,ot){lt.classList.add(ot)}removeClass(lt,ot){lt.classList.remove(ot)}setStyle(lt,ot,dt,Ft){Ft&(c.JOm.DashCase|c.JOm.Important)?lt.style.setProperty(ot,dt,Ft&c.JOm.Important?"important":""):lt.style[ot]=dt}removeStyle(lt,ot,dt){dt&c.JOm.DashCase?lt.style.removeProperty(ot):lt.style[ot]=""}setProperty(lt,ot,dt){lt[ot]=dt}setValue(lt,ot){lt.nodeValue=ot}listen(lt,ot,dt){if("string"==typeof lt&&!(lt=(0,t.q)().getGlobalEventTarget(this.doc,lt)))throw new Error(`Unsupported event target ${lt} for event ${ot}`);return this.eventManager.addEventListener(lt,ot,this.decoratePreventDefault(dt))}decoratePreventDefault(lt){return ot=>{if("__ngUnwrap__"===ot)return lt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>lt(ot)):lt(ot))&&ot.preventDefault()}}}function ae($e){return"TEMPLATE"===$e.tagName&&void 0!==$e.content}class K extends le{constructor(lt,ot,dt,Ft,$t,Lt,Jt,cn){super(lt,$t,Lt,cn),this.sharedStylesHost=ot,this.hostEl=dt,this.shadowRoot=dt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mn=W(Ft.id,Ft.styles);for(const xn of mn){const Ln=document.createElement("style");Jt&&Ln.setAttribute("nonce",Jt),Ln.textContent=xn,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(lt){return lt===this.hostEl?this.shadowRoot:lt}appendChild(lt,ot){return super.appendChild(this.nodeOrShadowRoot(lt),ot)}insertBefore(lt,ot,dt){return super.insertBefore(this.nodeOrShadowRoot(lt),ot,dt)}removeChild(lt,ot){return super.removeChild(this.nodeOrShadowRoot(lt),ot)}parentNode(lt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(lt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ge extends le{constructor(lt,ot,dt,Ft,$t,Lt,Jt,cn){super(lt,$t,Lt,Jt),this.sharedStylesHost=ot,this.removeStylesOnCompDestroy=Ft,this.styles=cn?W(cn,dt.styles):dt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class oe extends ge{constructor(lt,ot,dt,Ft,$t,Lt,Jt,cn){const mn=Ft+"-"+dt.id;super(lt,ot,dt,$t,Lt,Jt,cn,mn),this.contentAttr=function C($e){return P.replace(k,$e)}(mn),this.hostAttr=function B($e){return M.replace(k,$e)}(mn)}applyToHost(lt){this.applyStyles(),this.setAttribute(lt,this.hostAttr,"")}createElement(lt,ot){const dt=super.createElement(lt,ot);return super.setAttribute(dt,this.contentAttr,""),dt}}let he=(()=>{class $e extends A{constructor(ot){super(ot)}supports(ot){return!0}addEventListener(ot,dt,Ft){return ot.addEventListener(dt,Ft,!1),()=>this.removeEventListener(ot,dt,Ft)}removeEventListener(ot,dt,Ft){return ot.removeEventListener(dt,Ft)}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();const Ce=["alt","control","meta","shift"],Le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:$e=>$e.altKey,control:$e=>$e.ctrlKey,meta:$e=>$e.metaKey,shift:$e=>$e.shiftKey};let Re=(()=>{class $e extends A{constructor(ot){super(ot)}supports(ot){return null!=$e.parseEventName(ot)}addEventListener(ot,dt,Ft){const $t=$e.parseEventName(dt),Lt=$e.eventCallback($t.fullKey,Ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(ot,$t.domEventName,Lt))}static parseEventName(ot){const dt=ot.toLowerCase().split("."),Ft=dt.shift();if(0===dt.length||"keydown"!==Ft&&"keyup"!==Ft)return null;const $t=$e._normalizeKey(dt.pop());let Lt="",Jt=dt.indexOf("code");if(Jt>-1&&(dt.splice(Jt,1),Lt="code."),Ce.forEach(mn=>{const xn=dt.indexOf(mn);xn>-1&&(dt.splice(xn,1),Lt+=mn+".")}),Lt+=$t,0!=dt.length||0===$t.length)return null;const cn={};return cn.domEventName=Ft,cn.fullKey=Lt,cn}static matchEventFullKeyCode(ot,dt){let Ft=Le[ot.key]||ot.key,$t="";return dt.indexOf("code.")>-1&&(Ft=ot.code,$t="code."),!(null==Ft||!Ft)&&(Ft=Ft.toLowerCase()," "===Ft?Ft="space":"."===Ft&&(Ft="dot"),Ce.forEach(Lt=>{Lt!==Ft&&(0,fe[Lt])(ot)&&($t+=Lt+".")}),$t+=Ft,$t===dt)}static eventCallback(ot,dt,Ft){return $t=>{$e.matchEventFullKeyCode($t,ot)&&Ft.runGuarded(()=>dt($t))}}static _normalizeKey(ot){return"esc"===ot?"escape":ot}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();const Ne=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:t.bD},{provide:c.g9A,useValue:function we(){w.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function st(){return(0,c.RDi)(document),document},deps:[]}]),Te=new c.OlP(""),Y=[{provide:c.rWj,useClass:class p{addToWindow(lt){c.dqk.getAngularTestability=(dt,Ft=!0)=>{const $t=lt.findTestabilityInTree(dt,Ft);if(null==$t)throw new c.vHH(5103,!1);return $t},c.dqk.getAllAngularTestabilities=()=>lt.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>lt.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(dt=>{const Ft=c.dqk.getAllAngularTestabilities();let $t=Ft.length,Lt=!1;const Jt=function(cn){Lt=Lt||cn,$t--,0==$t&&dt(Lt)};Ft.forEach(cn=>{cn.whenStable(Jt)})})}findTestabilityInTree(lt,ot,dt){return null==ot?null:lt.getTestability(ot)??(dt?(0,t.q)().isShadowRoot(ot)?this.findTestabilityInTree(lt,ot.host,!0):this.findTestabilityInTree(lt,ot.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],se=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Ve(){return new c.qLn},deps:[]},{provide:g,useClass:he,multi:!0,deps:[t.K0,c.R0b,c.Lbi]},{provide:g,useClass:Re,multi:!0,deps:[t.K0]},q,R,v,{provide:c.FYo,useExisting:q},{provide:t.JF,useClass:f,deps:[]},[]];let _e=(()=>{class $e{constructor(ot){}static withServerTransition(ot){return{ngModule:$e,providers:[{provide:c.AFp,useValue:ot.appId}]}}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(Te,12))};static#t=this.\u0275mod=c.oAB({type:$e});static#n=this.\u0275inj=c.cJS({providers:[...se,...Y],imports:[t.ez,c.hGG]})}return $e})(),ie=(()=>{class $e{constructor(ot){this._doc=ot}getTitle(){return this._doc.title}setTitle(ot){this._doc.title=ot||""}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:function(dt){let Ft=null;return Ft=dt?new dt:function te(){return new ie((0,c.LFG)(t.K0))}(),Ft},providedIn:"root"})}return $e})();typeof window<"u"&&window;let dn=(()=>{class $e{static#e=this.\u0275fac=function(dt){return new(dt||$e)};static#t=this.\u0275prov=c.Yz7({token:$e,factory:function(dt){let Ft=null;return Ft=dt?new(dt||$e):c.LFG(Kt),Ft},providedIn:"root"})}return $e})(),Kt=(()=>{class $e extends dn{constructor(ot){super(),this._doc=ot}sanitize(ot,dt){if(null==dt)return null;switch(ot){case c.q3G.NONE:return dt;case c.q3G.HTML:return(0,c.qzn)(dt,"HTML")?(0,c.z3N)(dt):(0,c.EiD)(this._doc,String(dt)).toString();case c.q3G.STYLE:return(0,c.qzn)(dt,"Style")?(0,c.z3N)(dt):dt;case c.q3G.SCRIPT:if((0,c.qzn)(dt,"Script"))return(0,c.z3N)(dt);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(dt,"URL")?(0,c.z3N)(dt):(0,c.mCW)(String(dt));case c.q3G.RESOURCE_URL:if((0,c.qzn)(dt,"ResourceURL"))return(0,c.z3N)(dt);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(ot){return(0,c.JVY)(ot)}bypassSecurityTrustStyle(ot){return(0,c.L6k)(ot)}bypassSecurityTrustScript(ot){return(0,c.eBb)(ot)}bypassSecurityTrustUrl(ot){return(0,c.LAX)(ot)}bypassSecurityTrustResourceUrl(ot){return(0,c.pB0)(ot)}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:function(dt){let Ft=null;return Ft=dt?new dt:function un($e){return new Kt($e.get(t.K0))}(c.LFG(c.zs3)),Ft},providedIn:"root"})}return $e})()},5612:(Gn,tt,S)=>{"use strict";S.d(tt,{gz:()=>wi,F0:()=>Jr,rH:()=>Cs,Bz:()=>Fa,lC:()=>vi});var c=S(5879),t=S(2664),y=S(2459),w=S(2096),E=S(5619),F=S(2572),L=S(6973),D=S(5211),p=S(4911),f=S(8407),g=S(5592),v=S(4674);function A(Ee,je){const ce=(0,v.m)(Ee)?Ee:()=>Ee,Be=_t=>_t.error(ce());return new g.y(je?_t=>je.schedule(Be,0,_t):Be)}var U=S(6232),R=S(3168),H=S(8645),k=S(6814),O=S(7398),M=S(4664),P=S(8180),T=S(7921),N=S(2181),C=S(1631),B=S(1374),W=S(6328),q=S(9397),le=S(4829),Fe=S(8251),$=S(9360);function ae(Ee){return(0,$.e)((je,ce)=>{let Gt,Be=null,_t=!1;Be=je.subscribe((0,Fe.x)(ce,void 0,void 0,Ut=>{Gt=(0,le.Xf)(Ee(Ut,ae(Ee)(je))),Be?(Be.unsubscribe(),Be=null,Gt.subscribe(ce)):_t=!0})),_t&&(Be.unsubscribe(),Be=null,Gt.subscribe(ce))})}var oe=S(3572);function he(Ee){return Ee<=0?()=>U.E:(0,$.e)((je,ce)=>{let Be=[];je.subscribe((0,Fe.x)(ce,_t=>{Be.push(_t),Ee<Be.length&&Be.shift()},()=>{for(const _t of Be)ce.next(_t);ce.complete()},void 0,()=>{Be=null}))})}var Ce=S(3026),Le=S(2737),Re=S(975),xe=S(4716),pe=S(6196),Ue=S(7537),ke=S(6593);const we="primary",Ve=Symbol("RouteTitle");class st{constructor(je){this.params=je||{}}has(je){return Object.prototype.hasOwnProperty.call(this.params,je)}get(je){if(this.has(je)){const ce=this.params[je];return Array.isArray(ce)?ce[0]:ce}return null}getAll(je){if(this.has(je)){const ce=this.params[je];return Array.isArray(ce)?ce:[ce]}return[]}get keys(){return Object.keys(this.params)}}function Je(Ee){return new st(Ee)}function Ne(Ee,je,ce){const Be=ce.path.split("/");if(Be.length>Ee.length||"full"===ce.pathMatch&&(je.hasChildren()||Be.length<Ee.length))return null;const _t={};for(let Gt=0;Gt<Be.length;Gt++){const Ut=Be[Gt],Sn=Ee[Gt];if(Ut.startsWith(":"))_t[Ut.substring(1)]=Sn;else if(Ut!==Sn.path)return null}return{consumed:Ee.slice(0,Be.length),posParams:_t}}function Y(Ee,je){const ce=Ee?Object.keys(Ee):void 0,Be=je?Object.keys(je):void 0;if(!ce||!Be||ce.length!=Be.length)return!1;let _t;for(let Gt=0;Gt<ce.length;Gt++)if(_t=ce[Gt],!se(Ee[_t],je[_t]))return!1;return!0}function se(Ee,je){if(Array.isArray(Ee)&&Array.isArray(je)){if(Ee.length!==je.length)return!1;const ce=[...Ee].sort(),Be=[...je].sort();return ce.every((_t,Gt)=>Be[Gt]===_t)}return Ee===je}function _e(Ee){return Ee.length>0?Ee[Ee.length-1]:null}function J(Ee){return(0,t.b)(Ee)?Ee:(0,c.QGY)(Ee)?(0,y.D)(Promise.resolve(Ee)):(0,w.of)(Ee)}const Q={exact:function ee(Ee,je,ce){if(!ct(Ee.segments,je.segments)||!de(Ee.segments,je.segments,ce)||Ee.numberOfChildren!==je.numberOfChildren)return!1;for(const Be in je.children)if(!Ee.children[Be]||!ee(Ee.children[Be],je.children[Be],ce))return!1;return!0},subset:ue},Z={exact:function ie(Ee,je){return Y(Ee,je)},subset:function X(Ee,je){return Object.keys(je).length<=Object.keys(Ee).length&&Object.keys(je).every(ce=>se(Ee[ce],je[ce]))},ignored:()=>!0};function te(Ee,je,ce){return Q[ce.paths](Ee.root,je.root,ce.matrixParams)&&Z[ce.queryParams](Ee.queryParams,je.queryParams)&&!("exact"===ce.fragment&&Ee.fragment!==je.fragment)}function ue(Ee,je,ce){return ve(Ee,je,je.segments,ce)}function ve(Ee,je,ce,Be){if(Ee.segments.length>ce.length){const _t=Ee.segments.slice(0,ce.length);return!(!ct(_t,ce)||je.hasChildren()||!de(_t,ce,Be))}if(Ee.segments.length===ce.length){if(!ct(Ee.segments,ce)||!de(Ee.segments,ce,Be))return!1;for(const _t in je.children)if(!Ee.children[_t]||!ue(Ee.children[_t],je.children[_t],Be))return!1;return!0}{const _t=ce.slice(0,Ee.segments.length),Gt=ce.slice(Ee.segments.length);return!!(ct(Ee.segments,_t)&&de(Ee.segments,_t,Be)&&Ee.children[we])&&ve(Ee.children[we],je,Gt,Be)}}function de(Ee,je,ce){return je.every((Be,_t)=>Z[ce](Ee[_t].parameters,Be.parameters))}class Ae{constructor(je=new We([],{}),ce={},Be=null){this.root=je,this.queryParams=ce,this.fragment=Be}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Je(this.queryParams)),this._queryParamMap}toString(){return It.serialize(this)}}class We{constructor(je,ce){this.segments=je,this.children=ce,this.parent=null,Object.values(ce).forEach(Be=>Be.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jt(this)}}class He{constructor(je,ce){this.path=je,this.parameters=ce}get parameterMap(){return this._parameterMap||(this._parameterMap=Je(this.parameters)),this._parameterMap}toString(){return ft(this)}}function ct(Ee,je){return Ee.length===je.length&&Ee.every((ce,Be)=>ce.path===je[Be].path)}let vt=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return new Ht},providedIn:"root"})}return Ee})();class Ht{parse(je){const ce=new Lt(je);return new Ae(ce.parseRootSegment(),ce.parseQueryParams(),ce.parseFragment())}serialize(je){const ce=`/${en(je.root,!0)}`,Be=function De(Ee){const je=Object.keys(Ee).map(ce=>{const Be=Ee[ce];return Array.isArray(Be)?Be.map(_t=>`${un(ce)}=${un(_t)}`).join("&"):`${un(ce)}=${un(Be)}`}).filter(ce=>!!ce);return je.length?`?${je.join("&")}`:""}(je.queryParams);return`${ce}${Be}${"string"==typeof je.fragment?`#${function Kt(Ee){return encodeURI(Ee)}(je.fragment)}`:""}`}}const It=new Ht;function jt(Ee){return Ee.segments.map(je=>ft(je)).join("/")}function en(Ee,je){if(!Ee.hasChildren())return jt(Ee);if(je){const ce=Ee.children[we]?en(Ee.children[we],!1):"",Be=[];return Object.entries(Ee.children).forEach(([_t,Gt])=>{_t!==we&&Be.push(`${_t}:${en(Gt,!1)}`)}),Be.length>0?`${ce}(${Be.join("//")})`:ce}{const ce=function it(Ee,je){let ce=[];return Object.entries(Ee.children).forEach(([Be,_t])=>{Be===we&&(ce=ce.concat(je(_t,Be)))}),Object.entries(Ee.children).forEach(([Be,_t])=>{Be!==we&&(ce=ce.concat(je(_t,Be)))}),ce}(Ee,(Be,_t)=>_t===we?[en(Ee.children[we],!1)]:[`${_t}:${en(Be,!1)}`]);return 1===Object.keys(Ee.children).length&&null!=Ee.children[we]?`${jt(Ee)}/${ce[0]}`:`${jt(Ee)}/(${ce.join("//")})`}}function dn(Ee){return encodeURIComponent(Ee).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function un(Ee){return dn(Ee).replace(/%3B/gi,";")}function Cn(Ee){return dn(Ee).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nn(Ee){return decodeURIComponent(Ee)}function Dt(Ee){return nn(Ee.replace(/\+/g,"%20"))}function ft(Ee){return`${Cn(Ee.path)}${function Qe(Ee){return Object.keys(Ee).map(je=>`;${Cn(je)}=${Cn(Ee[je])}`).join("")}(Ee.parameters)}`}const Pe=/^[^\/()?;#]+/;function Ye(Ee){const je=Ee.match(Pe);return je?je[0]:""}const $e=/^[^\/()?;=#]+/,ot=/^[^=?&#]+/,Ft=/^[^&#]+/;class Lt{constructor(je){this.url=je,this.remaining=je}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const je={};if(this.consumeOptional("?"))do{this.parseQueryParam(je)}while(this.consumeOptional("&"));return je}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const je=[];for(this.peekStartsWith("(")||je.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),je.push(this.parseSegment());let ce={};this.peekStartsWith("/(")&&(this.capture("/"),ce=this.parseParens(!0));let Be={};return this.peekStartsWith("(")&&(Be=this.parseParens(!1)),(je.length>0||Object.keys(ce).length>0)&&(Be[we]=new We(je,ce)),Be}parseSegment(){const je=Ye(this.remaining);if(""===je&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(je),new He(nn(je),this.parseMatrixParams())}parseMatrixParams(){const je={};for(;this.consumeOptional(";");)this.parseParam(je);return je}parseParam(je){const ce=function lt(Ee){const je=Ee.match($e);return je?je[0]:""}(this.remaining);if(!ce)return;this.capture(ce);let Be="";if(this.consumeOptional("=")){const _t=Ye(this.remaining);_t&&(Be=_t,this.capture(Be))}je[nn(ce)]=nn(Be)}parseQueryParam(je){const ce=function dt(Ee){const je=Ee.match(ot);return je?je[0]:""}(this.remaining);if(!ce)return;this.capture(ce);let Be="";if(this.consumeOptional("=")){const Ut=function $t(Ee){const je=Ee.match(Ft);return je?je[0]:""}(this.remaining);Ut&&(Be=Ut,this.capture(Be))}const _t=Dt(ce),Gt=Dt(Be);if(je.hasOwnProperty(_t)){let Ut=je[_t];Array.isArray(Ut)||(Ut=[Ut],je[_t]=Ut),Ut.push(Gt)}else je[_t]=Gt}parseParens(je){const ce={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Be=Ye(this.remaining),_t=this.remaining[Be.length];if("/"!==_t&&")"!==_t&&";"!==_t)throw new c.vHH(4010,!1);let Gt;Be.indexOf(":")>-1?(Gt=Be.slice(0,Be.indexOf(":")),this.capture(Gt),this.capture(":")):je&&(Gt=we);const Ut=this.parseChildren();ce[Gt]=1===Object.keys(Ut).length?Ut[we]:new We([],Ut),this.consumeOptional("//")}return ce}peekStartsWith(je){return this.remaining.startsWith(je)}consumeOptional(je){return!!this.peekStartsWith(je)&&(this.remaining=this.remaining.substring(je.length),!0)}capture(je){if(!this.consumeOptional(je))throw new c.vHH(4011,!1)}}function Jt(Ee){return Ee.segments.length>0?new We([],{[we]:Ee}):Ee}function cn(Ee){const je={};for(const Be of Object.keys(Ee.children)){const Gt=cn(Ee.children[Be]);if(Be===we&&0===Gt.segments.length&&Gt.hasChildren())for(const[Ut,Sn]of Object.entries(Gt.children))je[Ut]=Sn;else(Gt.segments.length>0||Gt.hasChildren())&&(je[Be]=Gt)}return function mn(Ee){if(1===Ee.numberOfChildren&&Ee.children[we]){const je=Ee.children[we];return new We(Ee.segments.concat(je.segments),je.children)}return Ee}(new We(Ee.segments,je))}function xn(Ee){return Ee instanceof Ae}function Yn(Ee){let je;const _t=Jt(function ce(Gt){const Ut={};for(const zn of Gt.children){const Ti=ce(zn);Ut[zn.outlet]=Ti}const Sn=new We(Gt.url,Ut);return Gt===Ee&&(je=Sn),Sn}(Ee.root));return je??_t}function Vn(Ee,je,ce,Be){let _t=Ee;for(;_t.parent;)_t=_t.parent;if(0===je.length)return _n(_t,_t,_t,ce,Be);const Gt=function tn(Ee){if("string"==typeof Ee[0]&&1===Ee.length&&"/"===Ee[0])return new ut(!0,0,Ee);let je=0,ce=!1;const Be=Ee.reduce((_t,Gt,Ut)=>{if("object"==typeof Gt&&null!=Gt){if(Gt.outlets){const Sn={};return Object.entries(Gt.outlets).forEach(([zn,Ti])=>{Sn[zn]="string"==typeof Ti?Ti.split("/"):Ti}),[..._t,{outlets:Sn}]}if(Gt.segmentPath)return[..._t,Gt.segmentPath]}return"string"!=typeof Gt?[..._t,Gt]:0===Ut?(Gt.split("/").forEach((Sn,zn)=>{0==zn&&"."===Sn||(0==zn&&""===Sn?ce=!0:".."===Sn?je++:""!=Sn&&_t.push(Sn))}),_t):[..._t,Gt]},[]);return new ut(ce,je,Be)}(je);if(Gt.toRoot())return _n(_t,_t,new We([],{}),ce,Be);const Ut=function Xe(Ee,je,ce){if(Ee.isAbsolute)return new Ze(je,!0,0);if(!ce)return new Ze(je,!1,NaN);if(null===ce.parent)return new Ze(ce,!0,0);const Be=ci(Ee.commands[0])?0:1;return function Pt(Ee,je,ce){let Be=Ee,_t=je,Gt=ce;for(;Gt>_t;){if(Gt-=_t,Be=Be.parent,!Be)throw new c.vHH(4005,!1);_t=Be.segments.length}return new Ze(Be,!1,_t-Gt)}(ce,ce.segments.length-1+Be,Ee.numberOfDoubleDots)}(Gt,_t,Ee),Sn=Ut.processChildren?Fn(Ut.segmentGroup,Ut.index,Gt.commands):In(Ut.segmentGroup,Ut.index,Gt.commands);return _n(_t,Ut.segmentGroup,Sn,ce,Be)}function ci(Ee){return"object"==typeof Ee&&null!=Ee&&!Ee.outlets&&!Ee.segmentPath}function yn(Ee){return"object"==typeof Ee&&null!=Ee&&Ee.outlets}function _n(Ee,je,ce,Be,_t){let Ut,Gt={};Be&&Object.entries(Be).forEach(([zn,Ti])=>{Gt[zn]=Array.isArray(Ti)?Ti.map(Ci=>`${Ci}`):`${Ti}`}),Ut=Ee===je?ce:bt(Ee,je,ce);const Sn=Jt(cn(Ut));return new Ae(Sn,Gt,_t)}function bt(Ee,je,ce){const Be={};return Object.entries(Ee.children).forEach(([_t,Gt])=>{Be[_t]=Gt===je?ce:bt(Gt,je,ce)}),new We(Ee.segments,Be)}class ut{constructor(je,ce,Be){if(this.isAbsolute=je,this.numberOfDoubleDots=ce,this.commands=Be,je&&Be.length>0&&ci(Be[0]))throw new c.vHH(4003,!1);const _t=Be.find(yn);if(_t&&_t!==_e(Be))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ze{constructor(je,ce,Be){this.segmentGroup=je,this.processChildren=ce,this.index=Be}}function In(Ee,je,ce){if(Ee||(Ee=new We([],{})),0===Ee.segments.length&&Ee.hasChildren())return Fn(Ee,je,ce);const Be=function Zt(Ee,je,ce){let Be=0,_t=je;const Gt={match:!1,pathIndex:0,commandIndex:0};for(;_t<Ee.segments.length;){if(Be>=ce.length)return Gt;const Ut=Ee.segments[_t],Sn=ce[Be];if(yn(Sn))break;const zn=`${Sn}`,Ti=Be<ce.length-1?ce[Be+1]:null;if(_t>0&&void 0===zn)break;if(zn&&Ti&&"object"==typeof Ti&&void 0===Ti.outlets){if(!Un(zn,Ti,Ut))return Gt;Be+=2}else{if(!Un(zn,{},Ut))return Gt;Be++}_t++}return{match:!0,pathIndex:_t,commandIndex:Be}}(Ee,je,ce),_t=ce.slice(Be.commandIndex);if(Be.match&&Be.pathIndex<Ee.segments.length){const Gt=new We(Ee.segments.slice(0,Be.pathIndex),{});return Gt.children[we]=new We(Ee.segments.slice(Be.pathIndex),Ee.children),Fn(Gt,0,_t)}return Be.match&&0===_t.length?new We(Ee.segments,{}):Be.match&&!Ee.hasChildren()?Yt(Ee,je,ce):Be.match?Fn(Ee,0,_t):Yt(Ee,je,ce)}function Fn(Ee,je,ce){if(0===ce.length)return new We(Ee.segments,{});{const Be=function Qt(Ee){return yn(Ee[0])?Ee[0].outlets:{[we]:Ee}}(ce),_t={};if(!Be[we]&&Ee.children[we]&&1===Ee.numberOfChildren&&0===Ee.children[we].segments.length){const Gt=Fn(Ee.children[we],je,ce);return new We(Ee.segments,Gt.children)}return Object.entries(Be).forEach(([Gt,Ut])=>{"string"==typeof Ut&&(Ut=[Ut]),null!==Ut&&(_t[Gt]=In(Ee.children[Gt],je,Ut))}),Object.entries(Ee.children).forEach(([Gt,Ut])=>{void 0===Be[Gt]&&(_t[Gt]=Ut)}),new We(Ee.segments,_t)}}function Yt(Ee,je,ce){const Be=Ee.segments.slice(0,je);let _t=0;for(;_t<ce.length;){const Gt=ce[_t];if(yn(Gt)){const zn=on(Gt.outlets);return new We(Be,zn)}if(0===_t&&ci(ce[0])){Be.push(new He(Ee.segments[je].path,Tn(ce[0]))),_t++;continue}const Ut=yn(Gt)?Gt.outlets[we]:`${Gt}`,Sn=_t<ce.length-1?ce[_t+1]:null;Ut&&Sn&&ci(Sn)?(Be.push(new He(Ut,Tn(Sn))),_t+=2):(Be.push(new He(Ut,{})),_t++)}return new We(Be,{})}function on(Ee){const je={};return Object.entries(Ee).forEach(([ce,Be])=>{"string"==typeof Be&&(Be=[Be]),null!==Be&&(je[ce]=Yt(new We([],{}),0,Be))}),je}function Tn(Ee){const je={};return Object.entries(Ee).forEach(([ce,Be])=>je[ce]=`${Be}`),je}function Un(Ee,je,ce){return Ee==ce.path&&Y(je,ce.parameters)}const ei="imperative";class Et{constructor(je,ce){this.id=je,this.url=ce}}class fn extends Et{constructor(je,ce,Be="imperative",_t=null){super(je,ce),this.type=0,this.navigationTrigger=Be,this.restoredState=_t}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class be extends Et{constructor(je,ce,Be){super(je,ce),this.urlAfterRedirects=Be,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yt extends Et{constructor(je,ce,Be,_t){super(je,ce),this.reason=Be,this.code=_t,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gt extends Et{constructor(je,ce,Be,_t){super(je,ce),this.reason=Be,this.code=_t,this.type=16}}class kt extends Et{constructor(je,ce,Be,_t){super(je,ce),this.error=Be,this.target=_t,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class an extends Et{constructor(je,ce,Be,_t){super(je,ce),this.urlAfterRedirects=Be,this.state=_t,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends Et{constructor(je,ce,Be,_t){super(je,ce),this.urlAfterRedirects=Be,this.state=_t,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends Et{constructor(je,ce,Be,_t,Gt){super(je,ce),this.urlAfterRedirects=Be,this.state=_t,this.shouldActivate=Gt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Li extends Et{constructor(je,ce,Be,_t){super(je,ce),this.urlAfterRedirects=Be,this.state=_t,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr extends Et{constructor(je,ce,Be,_t){super(je,ce),this.urlAfterRedirects=Be,this.state=_t,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr{constructor(je){this.route=je,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mo{constructor(je){this.route=je,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hi{constructor(je){this.snapshot=je,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wr{constructor(je){this.snapshot=je,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(je){this.snapshot=je,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{constructor(je){this.snapshot=je,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(je,ce,Be){this.routerEvent=je,this.position=ce,this.anchor=Be,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ji,this.attachRef=null}}let Ji=(()=>{class Ee{constructor(){this.contexts=new Map}onChildOutletCreated(ce,Be){const _t=this.getOrCreateContext(ce);_t.outlet=Be,this.contexts.set(ce,_t)}onChildOutletDestroyed(ce){const Be=this.getContext(ce);Be&&(Be.outlet=null,Be.attachRef=null)}onOutletDeactivated(){const ce=this.contexts;return this.contexts=new Map,ce}onOutletReAttached(ce){this.contexts=ce}getOrCreateContext(ce){let Be=this.getContext(ce);return Be||(Be=new Yr,this.contexts.set(ce,Be)),Be}getContext(ce){return this.contexts.get(ce)||null}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();class Xo{constructor(je){this._root=je}get root(){return this._root.value}parent(je){const ce=this.pathFromRoot(je);return ce.length>1?ce[ce.length-2]:null}children(je){const ce=Ao(je,this._root);return ce?ce.children.map(Be=>Be.value):[]}firstChild(je){const ce=Ao(je,this._root);return ce&&ce.children.length>0?ce.children[0].value:null}siblings(je){const ce=Hr(je,this._root);return ce.length<2?[]:ce[ce.length-2].children.map(_t=>_t.value).filter(_t=>_t!==je)}pathFromRoot(je){return Hr(je,this._root).map(ce=>ce.value)}}function Ao(Ee,je){if(Ee===je.value)return je;for(const ce of je.children){const Be=Ao(Ee,ce);if(Be)return Be}return null}function Hr(Ee,je){if(Ee===je.value)return[je];for(const ce of je.children){const Be=Hr(Ee,ce);if(Be.length)return Be.unshift(je),Be}return[]}class zr{constructor(je,ce){this.value=je,this.children=ce}toString(){return`TreeNode(${this.value})`}}function Ro(Ee){const je={};return Ee&&Ee.children.forEach(ce=>je[ce.value.outlet]=ce),je}class On extends Xo{constructor(je,ce){super(je),this.snapshot=ce,qt(this,je)}toString(){return this.snapshot.toString()}}function oi(Ee,je){const ce=function ki(Ee,je){const Ut=new xr([],{},{},"",{},we,je,null,{});return new Rr("",new zr(Ut,[]))}(0,je),Be=new E.X([new He("",{})]),_t=new E.X({}),Gt=new E.X({}),Ut=new E.X({}),Sn=new E.X(""),zn=new wi(Be,_t,Ut,Sn,Gt,we,je,ce.root);return zn.snapshot=ce.root,new On(new zr(zn,[]),ce)}class wi{constructor(je,ce,Be,_t,Gt,Ut,Sn,zn){this.urlSubject=je,this.paramsSubject=ce,this.queryParamsSubject=Be,this.fragmentSubject=_t,this.dataSubject=Gt,this.outlet=Ut,this.component=Sn,this._futureSnapshot=zn,this.title=this.dataSubject?.pipe((0,O.U)(Ti=>Ti[Ve]))??(0,w.of)(void 0),this.url=je,this.params=ce,this.queryParams=Be,this.fragment=_t,this.data=Gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,O.U)(je=>Je(je)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,O.U)(je=>Je(je)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zi(Ee,je="emptyOnly"){const ce=Ee.pathFromRoot;let Be=0;if("always"!==je)for(Be=ce.length-1;Be>=1;){const _t=ce[Be],Gt=ce[Be-1];if(_t.routeConfig&&""===_t.routeConfig.path)Be--;else{if(Gt.component)break;Be--}}return function ro(Ee){return Ee.reduce((je,ce)=>({params:{...je.params,...ce.params},data:{...je.data,...ce.data},resolve:{...ce.data,...je.resolve,...ce.routeConfig?.data,...ce._resolvedData}}),{params:{},data:{},resolve:{}})}(ce.slice(Be))}class xr{get title(){return this.data?.[Ve]}constructor(je,ce,Be,_t,Gt,Ut,Sn,zn,Ti){this.url=je,this.params=ce,this.queryParams=Be,this.fragment=_t,this.data=Gt,this.outlet=Ut,this.component=Sn,this.routeConfig=zn,this._resolve=Ti}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Je(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Je(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Be=>Be.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rr extends Xo{constructor(je,ce){super(ce),this.url=je,qt(this,ce)}toString(){return Pn(this._root)}}function qt(Ee,je){je.value._routerState=Ee,je.children.forEach(ce=>qt(Ee,ce))}function Pn(Ee){const je=Ee.children.length>0?` { ${Ee.children.map(Pn).join(", ")} } `:"";return`${Ee.value}${je}`}function Xn(Ee){if(Ee.snapshot){const je=Ee.snapshot,ce=Ee._futureSnapshot;Ee.snapshot=ce,Y(je.queryParams,ce.queryParams)||Ee.queryParamsSubject.next(ce.queryParams),je.fragment!==ce.fragment&&Ee.fragmentSubject.next(ce.fragment),Y(je.params,ce.params)||Ee.paramsSubject.next(ce.params),function Te(Ee,je){if(Ee.length!==je.length)return!1;for(let ce=0;ce<Ee.length;++ce)if(!Y(Ee[ce],je[ce]))return!1;return!0}(je.url,ce.url)||Ee.urlSubject.next(ce.url),Y(je.data,ce.data)||Ee.dataSubject.next(ce.data)}else Ee.snapshot=Ee._futureSnapshot,Ee.dataSubject.next(Ee._futureSnapshot.data)}function Kn(Ee,je){const ce=Y(Ee.params,je.params)&&function at(Ee,je){return ct(Ee,je)&&Ee.every((ce,Be)=>Y(ce.parameters,je[Be].parameters))}(Ee.url,je.url);return ce&&!(!Ee.parent!=!je.parent)&&(!Ee.parent||Kn(Ee.parent,je.parent))}let vi=(()=>{class Ee{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Ji),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Ui,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(ce){if(ce.name){const{firstChange:Be,previousValue:_t}=ce.name;if(Be)return;this.isTrackedInParentContexts(_t)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(_t)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(ce){return this.parentContexts.getContext(ce)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const ce=this.parentContexts.getContext(this.name);ce?.route&&(ce.attachRef?this.attach(ce.attachRef,ce.route):this.activateWith(ce.route,ce.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const ce=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ce.instance),ce}attach(ce,Be){this.activated=ce,this._activatedRoute=Be,this.location.insert(ce.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(ce.instance)}deactivate(){if(this.activated){const ce=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ce)}}activateWith(ce,Be){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=ce;const _t=this.location,Ut=ce.snapshot.component,Sn=this.parentContexts.getOrCreateContext(this.name).children,zn=new Oi(ce,Sn,_t.injector);this.activated=_t.createComponent(Ut,{index:_t.length,injector:zn,environmentInjector:Be??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275dir=c.lG2({type:Ee,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return Ee})();class Oi{constructor(je,ce,Be){this.route=je,this.childContexts=ce,this.parent=Be}get(je,ce){return je===wi?this.route:je===Ji?this.childContexts:this.parent.get(je,ce)}}const Ui=new c.OlP("");let Ri=(()=>{class Ee{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ce){this.unsubscribeFromRouteData(ce),this.subscribeToRouteData(ce)}unsubscribeFromRouteData(ce){this.outletDataSubscriptions.get(ce)?.unsubscribe(),this.outletDataSubscriptions.delete(ce)}subscribeToRouteData(ce){const{activatedRoute:Be}=ce,_t=(0,F.a)([Be.queryParams,Be.params,Be.data]).pipe((0,M.w)(([Gt,Ut,Sn],zn)=>(Sn={...Gt,...Ut,...Sn},0===zn?(0,w.of)(Sn):Promise.resolve(Sn)))).subscribe(Gt=>{if(!ce.isActivated||!ce.activatedComponentRef||ce.activatedRoute!==Be||null===Be.component)return void this.unsubscribeFromRouteData(ce);const Ut=(0,c.qFp)(Be.component);if(Ut)for(const{templateName:Sn}of Ut.inputs)ce.activatedComponentRef.setInput(Sn,Gt[Sn]);else this.unsubscribeFromRouteData(ce)});this.outletDataSubscriptions.set(ce,_t)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function wr(Ee,je,ce){if(ce&&Ee.shouldReuseRoute(je.value,ce.value.snapshot)){const Be=ce.value;Be._futureSnapshot=je.value;const _t=function oo(Ee,je,ce){return je.children.map(Be=>{for(const _t of ce.children)if(Ee.shouldReuseRoute(Be.value,_t.value.snapshot))return wr(Ee,Be,_t);return wr(Ee,Be)})}(Ee,je,ce);return new zr(Be,_t)}{if(Ee.shouldAttach(je.value)){const Gt=Ee.retrieve(je.value);if(null!==Gt){const Ut=Gt.route;return Ut.value._futureSnapshot=je.value,Ut.children=je.children.map(Sn=>wr(Ee,Sn)),Ut}}const Be=function po(Ee){return new wi(new E.X(Ee.url),new E.X(Ee.params),new E.X(Ee.queryParams),new E.X(Ee.fragment),new E.X(Ee.data),Ee.outlet,Ee.component,Ee)}(je.value),_t=je.children.map(Gt=>wr(Ee,Gt));return new zr(Be,_t)}}const as="ngNavigationCancelingError";function Nr(Ee,je){const{redirectTo:ce,navigationBehaviorOptions:Be}=xn(je)?{redirectTo:je,navigationBehaviorOptions:void 0}:je,_t=jr(!1,0,je);return _t.url=ce,_t.navigationBehaviorOptions=Be,_t}function jr(Ee,je,ce){const Be=new Error("NavigationCancelingError: "+(Ee||""));return Be[as]=!0,Be.cancellationCode=je,ce&&(Be.url=ce),Be}function Uo(Ee){return gr(Ee)&&xn(Ee.url)}function gr(Ee){return Ee&&Ee[as]}let Pi=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275cmp=c.Xpm({type:Ee,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(Be,_t){1&Be&&c._UZ(0,"router-outlet")},dependencies:[vi],encapsulation:2})}return Ee})();function nr(Ee){const je=Ee.children&&Ee.children.map(nr),ce=je?{...Ee,children:je}:{...Ee};return!ce.component&&!ce.loadComponent&&(je||ce.loadChildren)&&ce.outlet&&ce.outlet!==we&&(ce.component=Pi),ce}function br(Ee){return Ee.outlet||we}function eo(Ee){if(!Ee)return null;if(Ee.routeConfig?._injector)return Ee.routeConfig._injector;for(let je=Ee.parent;je;je=je.parent){const ce=je.routeConfig;if(ce?._loadedInjector)return ce._loadedInjector;if(ce?._injector)return ce._injector}return null}class or{constructor(je,ce,Be,_t,Gt){this.routeReuseStrategy=je,this.futureState=ce,this.currState=Be,this.forwardEvent=_t,this.inputBindingEnabled=Gt}activate(je){const ce=this.futureState._root,Be=this.currState?this.currState._root:null;this.deactivateChildRoutes(ce,Be,je),Xn(this.futureState.root),this.activateChildRoutes(ce,Be,je)}deactivateChildRoutes(je,ce,Be){const _t=Ro(ce);je.children.forEach(Gt=>{const Ut=Gt.value.outlet;this.deactivateRoutes(Gt,_t[Ut],Be),delete _t[Ut]}),Object.values(_t).forEach(Gt=>{this.deactivateRouteAndItsChildren(Gt,Be)})}deactivateRoutes(je,ce,Be){const _t=je.value,Gt=ce?ce.value:null;if(_t===Gt)if(_t.component){const Ut=Be.getContext(_t.outlet);Ut&&this.deactivateChildRoutes(je,ce,Ut.children)}else this.deactivateChildRoutes(je,ce,Be);else Gt&&this.deactivateRouteAndItsChildren(ce,Be)}deactivateRouteAndItsChildren(je,ce){je.value.component&&this.routeReuseStrategy.shouldDetach(je.value.snapshot)?this.detachAndStoreRouteSubtree(je,ce):this.deactivateRouteAndOutlet(je,ce)}detachAndStoreRouteSubtree(je,ce){const Be=ce.getContext(je.value.outlet),_t=Be&&je.value.component?Be.children:ce,Gt=Ro(je);for(const Ut of Object.keys(Gt))this.deactivateRouteAndItsChildren(Gt[Ut],_t);if(Be&&Be.outlet){const Ut=Be.outlet.detach(),Sn=Be.children.onOutletDeactivated();this.routeReuseStrategy.store(je.value.snapshot,{componentRef:Ut,route:je,contexts:Sn})}}deactivateRouteAndOutlet(je,ce){const Be=ce.getContext(je.value.outlet),_t=Be&&je.value.component?Be.children:ce,Gt=Ro(je);for(const Ut of Object.keys(Gt))this.deactivateRouteAndItsChildren(Gt[Ut],_t);Be&&(Be.outlet&&(Be.outlet.deactivate(),Be.children.onOutletDeactivated()),Be.attachRef=null,Be.route=null)}activateChildRoutes(je,ce,Be){const _t=Ro(ce);je.children.forEach(Gt=>{this.activateRoutes(Gt,_t[Gt.value.outlet],Be),this.forwardEvent(new xi(Gt.value.snapshot))}),je.children.length&&this.forwardEvent(new Wr(je.value.snapshot))}activateRoutes(je,ce,Be){const _t=je.value,Gt=ce?ce.value:null;if(Xn(_t),_t===Gt)if(_t.component){const Ut=Be.getOrCreateContext(_t.outlet);this.activateChildRoutes(je,ce,Ut.children)}else this.activateChildRoutes(je,ce,Be);else if(_t.component){const Ut=Be.getOrCreateContext(_t.outlet);if(this.routeReuseStrategy.shouldAttach(_t.snapshot)){const Sn=this.routeReuseStrategy.retrieve(_t.snapshot);this.routeReuseStrategy.store(_t.snapshot,null),Ut.children.onOutletReAttached(Sn.contexts),Ut.attachRef=Sn.componentRef,Ut.route=Sn.route.value,Ut.outlet&&Ut.outlet.attach(Sn.componentRef,Sn.route.value),Xn(Sn.route.value),this.activateChildRoutes(je,null,Ut.children)}else{const Sn=eo(_t.snapshot);Ut.attachRef=null,Ut.route=_t,Ut.injector=Sn,Ut.outlet&&Ut.outlet.activateWith(_t,Ut.injector),this.activateChildRoutes(je,null,Ut.children)}}else this.activateChildRoutes(je,null,Be)}}class ys{constructor(je){this.path=je,this.route=this.path[this.path.length-1]}}class No{constructor(je,ce){this.component=je,this.route=ce}}function Zs(Ee,je,ce){const Be=Ee._root;return bs(Be,je?je._root:null,ce,[Be.value])}function cs(Ee,je){const ce=Symbol(),Be=je.get(Ee,ce);return Be===ce?"function"!=typeof Ee||(0,c.Z0I)(Ee)?je.get(Ee):Ee:Be}function bs(Ee,je,ce,Be,_t={canDeactivateChecks:[],canActivateChecks:[]}){const Gt=Ro(je);return Ee.children.forEach(Ut=>{(function sa(Ee,je,ce,Be,_t={canDeactivateChecks:[],canActivateChecks:[]}){const Gt=Ee.value,Ut=je?je.value:null,Sn=ce?ce.getContext(Ee.value.outlet):null;if(Ut&&Gt.routeConfig===Ut.routeConfig){const zn=function Pr(Ee,je,ce){if("function"==typeof ce)return ce(Ee,je);switch(ce){case"pathParamsChange":return!ct(Ee.url,je.url);case"pathParamsOrQueryParamsChange":return!ct(Ee.url,je.url)||!Y(Ee.queryParams,je.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kn(Ee,je)||!Y(Ee.queryParams,je.queryParams);default:return!Kn(Ee,je)}}(Ut,Gt,Gt.routeConfig.runGuardsAndResolvers);zn?_t.canActivateChecks.push(new ys(Be)):(Gt.data=Ut.data,Gt._resolvedData=Ut._resolvedData),bs(Ee,je,Gt.component?Sn?Sn.children:null:ce,Be,_t),zn&&Sn&&Sn.outlet&&Sn.outlet.isActivated&&_t.canDeactivateChecks.push(new No(Sn.outlet.component,Ut))}else Ut&&co(je,Sn,_t),_t.canActivateChecks.push(new ys(Be)),bs(Ee,null,Gt.component?Sn?Sn.children:null:ce,Be,_t)})(Ut,Gt[Ut.value.outlet],ce,Be.concat([Ut.value]),_t),delete Gt[Ut.value.outlet]}),Object.entries(Gt).forEach(([Ut,Sn])=>co(Sn,ce.getContext(Ut),_t)),_t}function co(Ee,je,ce){const Be=Ro(Ee),_t=Ee.value;Object.entries(Be).forEach(([Gt,Ut])=>{co(Ut,_t.component?je?je.children.getContext(Gt):null:je,ce)}),ce.canDeactivateChecks.push(new No(_t.component&&je&&je.outlet&&je.outlet.isActivated?je.outlet.component:null,_t))}function _r(Ee){return"function"==typeof Ee}function Ls(Ee){return Ee instanceof L.K||"EmptyError"===Ee?.name}const ks=Symbol("INITIAL_VALUE");function ur(){return(0,M.w)(Ee=>(0,F.a)(Ee.map(je=>je.pipe((0,P.q)(1),(0,T.O)(ks)))).pipe((0,O.U)(je=>{for(const ce of je)if(!0!==ce){if(ce===ks)return ks;if(!1===ce||ce instanceof Ae)return ce}return!0}),(0,N.h)(je=>je!==ks),(0,P.q)(1)))}function ds(Ee){return(0,f.z)((0,q.b)(je=>{if(xn(je))throw Nr(0,je)}),(0,O.U)(je=>!0===je))}class $r{constructor(je){this.segmentGroup=je||null}}class Es{constructor(je){this.urlTree=je}}function Sr(Ee){return A(new $r(Ee))}function Io(Ee){return A(new Es(Ee))}class qs{constructor(je,ce){this.urlSerializer=je,this.urlTree=ce}noMatchError(je){return new c.vHH(4002,!1)}lineralizeSegments(je,ce){let Be=[],_t=ce.root;for(;;){if(Be=Be.concat(_t.segments),0===_t.numberOfChildren)return(0,w.of)(Be);if(_t.numberOfChildren>1||!_t.children[we])return A(new c.vHH(4e3,!1));_t=_t.children[we]}}applyRedirectCommands(je,ce,Be){return this.applyRedirectCreateUrlTree(ce,this.urlSerializer.parse(ce),je,Be)}applyRedirectCreateUrlTree(je,ce,Be,_t){const Gt=this.createSegmentGroup(je,ce.root,Be,_t);return new Ae(Gt,this.createQueryParams(ce.queryParams,this.urlTree.queryParams),ce.fragment)}createQueryParams(je,ce){const Be={};return Object.entries(je).forEach(([_t,Gt])=>{if("string"==typeof Gt&&Gt.startsWith(":")){const Sn=Gt.substring(1);Be[_t]=ce[Sn]}else Be[_t]=Gt}),Be}createSegmentGroup(je,ce,Be,_t){const Gt=this.createSegments(je,ce.segments,Be,_t);let Ut={};return Object.entries(ce.children).forEach(([Sn,zn])=>{Ut[Sn]=this.createSegmentGroup(je,zn,Be,_t)}),new We(Gt,Ut)}createSegments(je,ce,Be,_t){return ce.map(Gt=>Gt.path.startsWith(":")?this.findPosParam(je,Gt,_t):this.findOrReturn(Gt,Be))}findPosParam(je,ce,Be){const _t=Be[ce.path.substring(1)];if(!_t)throw new c.vHH(4001,!1);return _t}findOrReturn(je,ce){let Be=0;for(const _t of ce){if(_t.path===je.path)return ce.splice(Be),_t;Be++}return je}}const Ts={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pa(Ee,je,ce,Be,_t){const Gt=Qa(Ee,je,ce);return Gt.matched?(Be=function oa(Ee,je){return Ee.providers&&!Ee._injector&&(Ee._injector=(0,c.MMx)(Ee.providers,je,`Route: ${Ee.path}`)),Ee._injector??je}(je,Be),function is(Ee,je,ce,Be){const _t=je.canMatch;if(!_t||0===_t.length)return(0,w.of)(!0);const Gt=_t.map(Ut=>{const Sn=cs(Ut,Ee);return J(function Lr(Ee){return Ee&&_r(Ee.canMatch)}(Sn)?Sn.canMatch(je,ce):Ee.runInContext(()=>Sn(je,ce)))});return(0,w.of)(Gt).pipe(ur(),ds())}(Be,je,ce).pipe((0,O.U)(Ut=>!0===Ut?Gt:{...Ts}))):(0,w.of)(Gt)}function Qa(Ee,je,ce){if(""===je.path)return"full"===je.pathMatch&&(Ee.hasChildren()||ce.length>0)?{...Ts}:{matched:!0,consumedSegments:[],remainingSegments:ce,parameters:{},positionalParamSegments:{}};const _t=(je.matcher||Ne)(ce,Ee,je);if(!_t)return{...Ts};const Gt={};Object.entries(_t.posParams??{}).forEach(([Sn,zn])=>{Gt[Sn]=zn.path});const Ut=_t.consumed.length>0?{...Gt,..._t.consumed[_t.consumed.length-1].parameters}:Gt;return{matched:!0,consumedSegments:_t.consumed,remainingSegments:ce.slice(_t.consumed.length),parameters:Ut,positionalParamSegments:_t.posParams??{}}}function Xa(Ee,je,ce,Be){return ce.length>0&&function el(Ee,je,ce){return ce.some(Be=>Ol(Ee,je,Be)&&br(Be)!==we)}(Ee,ce,Be)?{segmentGroup:new We(je,Pl(Be,new We(ce,Ee.children))),slicedSegments:[]}:0===ce.length&&function ao(Ee,je,ce){return ce.some(Be=>Ol(Ee,je,Be))}(Ee,ce,Be)?{segmentGroup:new We(Ee.segments,Fs(Ee,0,ce,Be,Ee.children)),slicedSegments:ce}:{segmentGroup:new We(Ee.segments,Ee.children),slicedSegments:ce}}function Fs(Ee,je,ce,Be,_t){const Gt={};for(const Ut of Be)if(Ol(Ee,ce,Ut)&&!_t[br(Ut)]){const Sn=new We([],{});Gt[br(Ut)]=Sn}return{..._t,...Gt}}function Pl(Ee,je){const ce={};ce[we]=je;for(const Be of Ee)if(""===Be.path&&br(Be)!==we){const _t=new We([],{});ce[br(Be)]=_t}return ce}function Ol(Ee,je,ce){return(!(Ee.hasChildren()||je.length>0)||"full"!==ce.pathMatch)&&""===ce.path}class la{constructor(je,ce,Be,_t,Gt,Ut,Sn){this.injector=je,this.configLoader=ce,this.rootComponentType=Be,this.config=_t,this.urlTree=Gt,this.paramsInheritanceStrategy=Ut,this.urlSerializer=Sn,this.allowRedirects=!0,this.applyRedirects=new qs(this.urlSerializer,this.urlTree)}noMatchError(je){return new c.vHH(4002,!1)}recognize(){const je=Xa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,je,we).pipe(ae(ce=>{if(ce instanceof Es)return this.allowRedirects=!1,this.urlTree=ce.urlTree,this.match(ce.urlTree);throw ce instanceof $r?this.noMatchError(ce):ce}),(0,O.U)(ce=>{const Be=new xr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},we,this.rootComponentType,null,{}),_t=new zr(Be,ce),Gt=new Rr("",_t),Ut=function Ln(Ee,je,ce=null,Be=null){return Vn(Yn(Ee),je,ce,Be)}(Be,[],this.urlTree.queryParams,this.urlTree.fragment);return Ut.queryParams=this.urlTree.queryParams,Gt.url=this.urlSerializer.serialize(Ut),this.inheritParamsAndData(Gt._root),{state:Gt,tree:Ut}}))}match(je){return this.processSegmentGroup(this.injector,this.config,je.root,we).pipe(ae(Be=>{throw Be instanceof $r?this.noMatchError(Be):Be}))}inheritParamsAndData(je){const ce=je.value,Be=zi(ce,this.paramsInheritanceStrategy);ce.params=Object.freeze(Be.params),ce.data=Object.freeze(Be.data),je.children.forEach(_t=>this.inheritParamsAndData(_t))}processSegmentGroup(je,ce,Be,_t){return 0===Be.segments.length&&Be.hasChildren()?this.processChildren(je,ce,Be):this.processSegment(je,ce,Be,Be.segments,_t,!0)}processChildren(je,ce,Be){const _t=[];for(const Gt of Object.keys(Be.children))"primary"===Gt?_t.unshift(Gt):_t.push(Gt);return(0,y.D)(_t).pipe((0,W.b)(Gt=>{const Ut=Be.children[Gt],Sn=function cr(Ee,je){const ce=Ee.filter(Be=>br(Be)===je);return ce.push(...Ee.filter(Be=>br(Be)!==je)),ce}(ce,Gt);return this.processSegmentGroup(je,Sn,Ut,Gt)}),function ge(Ee,je){return(0,$.e)(function K(Ee,je,ce,Be,_t){return(Gt,Ut)=>{let Sn=ce,zn=je,Ti=0;Gt.subscribe((0,Fe.x)(Ut,Ci=>{const hr=Ti++;zn=Sn?Ee(zn,Ci,hr):(Sn=!0,Ci),Be&&Ut.next(zn)},_t&&(()=>{Sn&&Ut.next(zn),Ut.complete()})))}}(Ee,je,arguments.length>=2,!0))}((Gt,Ut)=>(Gt.push(...Ut),Gt)),(0,oe.d)(null),function fe(Ee,je){const ce=arguments.length>=2;return Be=>Be.pipe(Ee?(0,N.h)((_t,Gt)=>Ee(_t,Gt,Be)):Le.y,he(1),ce?(0,oe.d)(je):(0,Ce.T)(()=>new L.K))}(),(0,C.z)(Gt=>{if(null===Gt)return Sr(Be);const Ut=Bs(Gt);return function Js(Ee){Ee.sort((je,ce)=>je.value.outlet===we?-1:ce.value.outlet===we?1:je.value.outlet.localeCompare(ce.value.outlet))}(Ut),(0,w.of)(Ut)}))}processSegment(je,ce,Be,_t,Gt,Ut){return(0,y.D)(ce).pipe((0,W.b)(Sn=>this.processSegmentAgainstRoute(Sn._injector??je,ce,Sn,Be,_t,Gt,Ut).pipe(ae(zn=>{if(zn instanceof $r)return(0,w.of)(null);throw zn}))),(0,B.P)(Sn=>!!Sn),ae(Sn=>{if(Ls(Sn))return function Sc(Ee,je,ce){return 0===je.length&&!Ee.children[ce]}(Be,_t,Gt)?(0,w.of)([]):Sr(Be);throw Sn}))}processSegmentAgainstRoute(je,ce,Be,_t,Gt,Ut,Sn){return function tl(Ee,je,ce,Be){return!!(br(Ee)===Be||Be!==we&&Ol(je,ce,Ee))&&("**"===Ee.path||Qa(je,Ee,ce).matched)}(Be,_t,Gt,Ut)?void 0===Be.redirectTo?this.matchSegmentAgainstRoute(je,_t,Be,Gt,Ut,Sn):Sn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(je,_t,ce,Be,Gt,Ut):Sr(_t):Sr(_t)}expandSegmentAgainstRouteUsingRedirect(je,ce,Be,_t,Gt,Ut){return"**"===_t.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(je,Be,_t,Ut):this.expandRegularSegmentAgainstRouteUsingRedirect(je,ce,Be,_t,Gt,Ut)}expandWildCardWithParamsAgainstRouteUsingRedirect(je,ce,Be,_t){const Gt=this.applyRedirects.applyRedirectCommands([],Be.redirectTo,{});return Be.redirectTo.startsWith("/")?Io(Gt):this.applyRedirects.lineralizeSegments(Be,Gt).pipe((0,C.z)(Ut=>{const Sn=new We(Ut,{});return this.processSegment(je,ce,Sn,Ut,_t,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(je,ce,Be,_t,Gt,Ut){const{matched:Sn,consumedSegments:zn,remainingSegments:Ti,positionalParamSegments:Ci}=Qa(ce,_t,Gt);if(!Sn)return Sr(ce);const hr=this.applyRedirects.applyRedirectCommands(zn,_t.redirectTo,Ci);return _t.redirectTo.startsWith("/")?Io(hr):this.applyRedirects.lineralizeSegments(_t,hr).pipe((0,C.z)(Oo=>this.processSegment(je,Be,ce,Oo.concat(Ti),Ut,!1)))}matchSegmentAgainstRoute(je,ce,Be,_t,Gt,Ut){let Sn;if("**"===Be.path){const zn=_t.length>0?_e(_t).parameters:{},Ti=new xr(_t,zn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,va(Be),br(Be),Be.component??Be._loadedComponent??null,Be,bo(Be));Sn=(0,w.of)({snapshot:Ti,consumedSegments:[],remainingSegments:[]}),ce.children={}}else Sn=Pa(ce,Be,_t,je).pipe((0,O.U)(({matched:zn,consumedSegments:Ti,remainingSegments:Ci,parameters:hr})=>zn?{snapshot:new xr(Ti,hr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,va(Be),br(Be),Be.component??Be._loadedComponent??null,Be,bo(Be)),consumedSegments:Ti,remainingSegments:Ci}:null));return Sn.pipe((0,M.w)(zn=>null===zn?Sr(ce):this.getChildConfig(je=Be._injector??je,Be,_t).pipe((0,M.w)(({routes:Ti})=>{const Ci=Be._loadedInjector??je,{snapshot:hr,consumedSegments:Oo,remainingSegments:Ea}=zn,{segmentGroup:xs,slicedSegments:us}=Xa(ce,Oo,Ea,Ti);if(0===us.length&&xs.hasChildren())return this.processChildren(Ci,Ti,xs).pipe((0,O.U)(fs=>null===fs?null:[new zr(hr,fs)]));if(0===Ti.length&&0===us.length)return(0,w.of)([new zr(hr,[])]);const ll=br(Be)===Gt;return this.processSegment(Ci,Ti,xs,us,ll?we:Gt,!0).pipe((0,O.U)(fs=>[new zr(hr,fs)]))}))))}getChildConfig(je,ce,Be){return ce.children?(0,w.of)({routes:ce.children,injector:je}):ce.loadChildren?void 0!==ce._loadedRoutes?(0,w.of)({routes:ce._loadedRoutes,injector:ce._loadedInjector}):function yo(Ee,je,ce,Be){const _t=je.canLoad;if(void 0===_t||0===_t.length)return(0,w.of)(!0);const Gt=_t.map(Ut=>{const Sn=cs(Ut,Ee);return J(function ns(Ee){return Ee&&_r(Ee.canLoad)}(Sn)?Sn.canLoad(je,ce):Ee.runInContext(()=>Sn(je,ce)))});return(0,w.of)(Gt).pipe(ur(),ds())}(je,ce,Be).pipe((0,C.z)(_t=>_t?this.configLoader.loadChildren(je,ce).pipe((0,q.b)(Gt=>{ce._loadedRoutes=Gt.routes,ce._loadedInjector=Gt.injector})):function wa(Ee){return A(jr(!1,3))}())):(0,w.of)({routes:[],injector:je})}}function Oa(Ee){const je=Ee.value.routeConfig;return je&&""===je.path}function Bs(Ee){const je=[],ce=new Set;for(const Be of Ee){if(!Oa(Be)){je.push(Be);continue}const _t=je.find(Gt=>Be.value.routeConfig===Gt.value.routeConfig);void 0!==_t?(_t.children.push(...Be.children),ce.add(_t)):je.push(Be)}for(const Be of ce){const _t=Bs(Be.children);je.push(new zr(Be.value,_t))}return je.filter(Be=>!ce.has(Be))}function va(Ee){return Ee.data||{}}function bo(Ee){return Ee.resolve||{}}function Mi(Ee){return"string"==typeof Ee.title||null===Ee.title}function wn(Ee){return(0,M.w)(je=>{const ce=Ee(je);return ce?(0,y.D)(ce).pipe((0,O.U)(()=>je)):(0,w.of)(je)})}const Eo=new c.OlP("ROUTES");let Ie=(()=>{class Ee{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(ce){if(this.componentLoaders.get(ce))return this.componentLoaders.get(ce);if(ce._loadedComponent)return(0,w.of)(ce._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ce);const Be=J(ce.loadComponent()).pipe((0,O.U)(rt),(0,q.b)(Gt=>{this.onLoadEndListener&&this.onLoadEndListener(ce),ce._loadedComponent=Gt}),(0,xe.x)(()=>{this.componentLoaders.delete(ce)})),_t=new R.c(Be,()=>new H.x).pipe((0,pe.x)());return this.componentLoaders.set(ce,_t),_t}loadChildren(ce,Be){if(this.childrenLoaders.get(Be))return this.childrenLoaders.get(Be);if(Be._loadedRoutes)return(0,w.of)({routes:Be._loadedRoutes,injector:Be._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Be);const Gt=this.loadModuleFactoryOrRoutes(Be.loadChildren).pipe((0,O.U)(Sn=>{this.onLoadEndListener&&this.onLoadEndListener(Be);let zn,Ti;return Array.isArray(Sn)?Ti=Sn:(zn=Sn.create(ce).injector,Ti=zn.get(Eo,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:Ti.map(nr),injector:zn}}),(0,xe.x)(()=>{this.childrenLoaders.delete(Be)})),Ut=new R.c(Gt,()=>new H.x).pipe((0,pe.x)());return this.childrenLoaders.set(Be,Ut),Ut}loadModuleFactoryOrRoutes(ce){return J(ce()).pipe((0,O.U)(rt),(0,C.z)(Be=>Be instanceof c.YKP||Array.isArray(Be)?(0,w.of)(Be):(0,y.D)(this.compiler.compileModuleAsync(Be))))}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();function rt(Ee){return function xt(Ee){return Ee&&"object"==typeof Ee&&"default"in Ee}(Ee)?Ee.default:Ee}let Mt=(()=>{class Ee{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new H.x,this.configLoader=(0,c.f3M)(Ie),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(vt),this.rootContexts=(0,c.f3M)(Ji),this.inputBindingEnabled=null!==(0,c.f3M)(Ui,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,w.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=_t=>this.events.next(new mo(_t)),this.configLoader.onLoadStartListener=_t=>this.events.next(new vr(_t))}complete(){this.transitions?.complete()}handleNavigationRequest(ce){const Be=++this.navigationId;this.transitions?.next({...this.transitions.value,...ce,id:Be})}setupNavigations(ce){return this.transitions=new E.X({id:0,currentUrlTree:ce.currentUrlTree,currentRawUrl:ce.currentUrlTree,extractedUrl:ce.urlHandlingStrategy.extract(ce.currentUrlTree),urlAfterRedirects:ce.urlHandlingStrategy.extract(ce.currentUrlTree),rawUrl:ce.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ei,restoredState:null,currentSnapshot:ce.routerState.snapshot,targetSnapshot:null,currentRouterState:ce.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,N.h)(Be=>0!==Be.id),(0,O.U)(Be=>({...Be,extractedUrl:ce.urlHandlingStrategy.extract(Be.rawUrl)})),(0,M.w)(Be=>{let _t=!1,Gt=!1;return(0,w.of)(Be).pipe((0,q.b)(Ut=>{this.currentNavigation={id:Ut.id,initialUrl:Ut.rawUrl,extractedUrl:Ut.extractedUrl,trigger:Ut.source,extras:Ut.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,M.w)(Ut=>{const Sn=ce.browserUrlTree.toString(),zn=!ce.navigated||Ut.extractedUrl.toString()!==Sn||Sn!==ce.currentUrlTree.toString();if(!zn&&"reload"!==(Ut.extras.onSameUrlNavigation??ce.onSameUrlNavigation)){const Ci="";return this.events.next(new gt(Ut.id,ce.serializeUrl(Be.rawUrl),Ci,0)),ce.rawUrlTree=Ut.rawUrl,Ut.resolve(null),U.E}if(ce.urlHandlingStrategy.shouldProcessUrl(Ut.rawUrl))return Xt(Ut.source)&&(ce.browserUrlTree=Ut.extractedUrl),(0,w.of)(Ut).pipe((0,M.w)(Ci=>{const hr=this.transitions?.getValue();return this.events.next(new fn(Ci.id,this.urlSerializer.serialize(Ci.extractedUrl),Ci.source,Ci.restoredState)),hr!==this.transitions?.getValue()?U.E:Promise.resolve(Ci)}),function nl(Ee,je,ce,Be,_t,Gt){return(0,C.z)(Ut=>function aa(Ee,je,ce,Be,_t,Gt,Ut="emptyOnly"){return new la(Ee,je,ce,Be,_t,Ut,Gt).recognize()}(Ee,je,ce,Be,Ut.extractedUrl,_t,Gt).pipe((0,O.U)(({state:Sn,tree:zn})=>({...Ut,targetSnapshot:Sn,urlAfterRedirects:zn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,ce.config,this.urlSerializer,ce.paramsInheritanceStrategy),(0,q.b)(Ci=>{if(Be.targetSnapshot=Ci.targetSnapshot,Be.urlAfterRedirects=Ci.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ci.urlAfterRedirects},"eager"===ce.urlUpdateStrategy){if(!Ci.extras.skipLocationChange){const Oo=ce.urlHandlingStrategy.merge(Ci.urlAfterRedirects,Ci.rawUrl);ce.setBrowserUrl(Oo,Ci)}ce.browserUrlTree=Ci.urlAfterRedirects}const hr=new an(Ci.id,this.urlSerializer.serialize(Ci.extractedUrl),this.urlSerializer.serialize(Ci.urlAfterRedirects),Ci.targetSnapshot);this.events.next(hr)}));if(zn&&ce.urlHandlingStrategy.shouldProcessUrl(ce.rawUrlTree)){const{id:Ci,extractedUrl:hr,source:Oo,restoredState:Ea,extras:xs}=Ut,us=new fn(Ci,this.urlSerializer.serialize(hr),Oo,Ea);this.events.next(us);const ll=oi(0,this.rootComponentType).snapshot;return Be={...Ut,targetSnapshot:ll,urlAfterRedirects:hr,extras:{...xs,skipLocationChange:!1,replaceUrl:!1}},(0,w.of)(Be)}{const Ci="";return this.events.next(new gt(Ut.id,ce.serializeUrl(Be.extractedUrl),Ci,1)),ce.rawUrlTree=Ut.rawUrl,Ut.resolve(null),U.E}}),(0,q.b)(Ut=>{const Sn=new ti(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(Ut.urlAfterRedirects),Ut.targetSnapshot);this.events.next(Sn)}),(0,O.U)(Ut=>Be={...Ut,guards:Zs(Ut.targetSnapshot,Ut.currentSnapshot,this.rootContexts)}),function gn(Ee,je){return(0,C.z)(ce=>{const{targetSnapshot:Be,currentSnapshot:_t,guards:{canActivateChecks:Gt,canDeactivateChecks:Ut}}=ce;return 0===Ut.length&&0===Gt.length?(0,w.of)({...ce,guardsResult:!0}):function nt(Ee,je,ce,Be){return(0,y.D)(Ee).pipe((0,C.z)(_t=>function Ai(Ee,je,ce,Be,_t){const Gt=je&&je.routeConfig?je.routeConfig.canDeactivate:null;if(!Gt||0===Gt.length)return(0,w.of)(!0);const Ut=Gt.map(Sn=>{const zn=eo(je)??_t,Ti=cs(Sn,zn);return J(function Vo(Ee){return Ee&&_r(Ee.canDeactivate)}(Ti)?Ti.canDeactivate(Ee,je,ce,Be):zn.runInContext(()=>Ti(Ee,je,ce,Be))).pipe((0,B.P)())});return(0,w.of)(Ut).pipe(ur())}(_t.component,_t.route,ce,je,Be)),(0,B.P)(_t=>!0!==_t,!0))}(Ut,Be,_t,Ee).pipe((0,C.z)(Sn=>Sn&&function jo(Ee){return"boolean"==typeof Ee}(Sn)?function ht(Ee,je,ce,Be){return(0,y.D)(je).pipe((0,W.b)(_t=>(0,D.z)(function wt(Ee,je){return null!==Ee&&je&&je(new Hi(Ee)),(0,w.of)(!0)}(_t.route.parent,Be),function qe(Ee,je){return null!==Ee&&je&&je(new Bo(Ee)),(0,w.of)(!0)}(_t.route,Be),function li(Ee,je,ce){const Be=je[je.length-1],Gt=je.slice(0,je.length-1).reverse().map(Ut=>function Ns(Ee){const je=Ee.routeConfig?Ee.routeConfig.canActivateChild:null;return je&&0!==je.length?{node:Ee,guards:je}:null}(Ut)).filter(Ut=>null!==Ut).map(Ut=>(0,p.P)(()=>{const Sn=Ut.guards.map(zn=>{const Ti=eo(Ut.node)??ce,Ci=cs(zn,Ti);return J(function Zr(Ee){return Ee&&_r(Ee.canActivateChild)}(Ci)?Ci.canActivateChild(Be,Ee):Ti.runInContext(()=>Ci(Be,Ee))).pipe((0,B.P)())});return(0,w.of)(Sn).pipe(ur())}));return(0,w.of)(Gt).pipe(ur())}(Ee,_t.path,ce),function sn(Ee,je,ce){const Be=je.routeConfig?je.routeConfig.canActivate:null;if(!Be||0===Be.length)return(0,w.of)(!0);const _t=Be.map(Gt=>(0,p.P)(()=>{const Ut=eo(je)??ce,Sn=cs(Gt,Ut);return J(function vo(Ee){return Ee&&_r(Ee.canActivate)}(Sn)?Sn.canActivate(je,Ee):Ut.runInContext(()=>Sn(je,Ee))).pipe((0,B.P)())}));return(0,w.of)(_t).pipe(ur())}(Ee,_t.route,ce))),(0,B.P)(_t=>!0!==_t,!0))}(Be,Gt,Ee,je):(0,w.of)(Sn)),(0,O.U)(Sn=>({...ce,guardsResult:Sn})))})}(this.environmentInjector,Ut=>this.events.next(Ut)),(0,q.b)(Ut=>{if(Be.guardsResult=Ut.guardsResult,xn(Ut.guardsResult))throw Nr(0,Ut.guardsResult);const Sn=new hi(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(Ut.urlAfterRedirects),Ut.targetSnapshot,!!Ut.guardsResult);this.events.next(Sn)}),(0,N.h)(Ut=>!!Ut.guardsResult||(ce.restoreHistory(Ut),this.cancelNavigationTransition(Ut,"",3),!1)),wn(Ut=>{if(Ut.guards.canActivateChecks.length)return(0,w.of)(Ut).pipe((0,q.b)(Sn=>{const zn=new Li(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(zn)}),(0,M.w)(Sn=>{let zn=!1;return(0,w.of)(Sn).pipe(function qr(Ee,je){return(0,C.z)(ce=>{const{targetSnapshot:Be,guards:{canActivateChecks:_t}}=ce;if(!_t.length)return(0,w.of)(ce);let Gt=0;return(0,y.D)(_t).pipe((0,W.b)(Ut=>function il(Ee,je,ce,Be){const _t=Ee.routeConfig,Gt=Ee._resolve;return void 0!==_t?.title&&!Mi(_t)&&(Gt[Ve]=_t.title),function rl(Ee,je,ce,Be){const _t=function yi(Ee){return[...Object.keys(Ee),...Object.getOwnPropertySymbols(Ee)]}(Ee);if(0===_t.length)return(0,w.of)({});const Gt={};return(0,y.D)(_t).pipe((0,C.z)(Ut=>function Rt(Ee,je,ce,Be){const _t=eo(je)??Be,Gt=cs(Ee,_t);return J(Gt.resolve?Gt.resolve(je,ce):_t.runInContext(()=>Gt(je,ce)))}(Ee[Ut],je,ce,Be).pipe((0,B.P)(),(0,q.b)(Sn=>{Gt[Ut]=Sn}))),he(1),(0,Re.h)(Gt),ae(Ut=>Ls(Ut)?U.E:A(Ut)))}(Gt,Ee,je,Be).pipe((0,O.U)(Ut=>(Ee._resolvedData=Ut,Ee.data=zi(Ee,ce).resolve,_t&&Mi(_t)&&(Ee.data[Ve]=_t.title),null)))}(Ut.route,Be,Ee,je)),(0,q.b)(()=>Gt++),he(1),(0,C.z)(Ut=>Gt===_t.length?(0,w.of)(ce):U.E))})}(ce.paramsInheritanceStrategy,this.environmentInjector),(0,q.b)({next:()=>zn=!0,complete:()=>{zn||(ce.restoreHistory(Sn),this.cancelNavigationTransition(Sn,"",2))}}))}),(0,q.b)(Sn=>{const zn=new pr(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(zn)}))}),wn(Ut=>{const Sn=zn=>{const Ti=[];zn.routeConfig?.loadComponent&&!zn.routeConfig._loadedComponent&&Ti.push(this.configLoader.loadComponent(zn.routeConfig).pipe((0,q.b)(Ci=>{zn.component=Ci}),(0,O.U)(()=>{})));for(const Ci of zn.children)Ti.push(...Sn(Ci));return Ti};return(0,F.a)(Sn(Ut.targetSnapshot.root)).pipe((0,oe.d)(),(0,P.q)(1))}),wn(()=>this.afterPreactivation()),(0,O.U)(Ut=>{const Sn=function yr(Ee,je,ce){const Be=wr(Ee,je._root,ce?ce._root:void 0);return new On(Be,je)}(ce.routeReuseStrategy,Ut.targetSnapshot,Ut.currentRouterState);return Be={...Ut,targetRouterState:Sn}}),(0,q.b)(Ut=>{ce.currentUrlTree=Ut.urlAfterRedirects,ce.rawUrlTree=ce.urlHandlingStrategy.merge(Ut.urlAfterRedirects,Ut.rawUrl),ce.routerState=Ut.targetRouterState,"deferred"===ce.urlUpdateStrategy&&(Ut.extras.skipLocationChange||ce.setBrowserUrl(ce.rawUrlTree,Ut),ce.browserUrlTree=Ut.urlAfterRedirects)}),((Ee,je,ce,Be)=>(0,O.U)(_t=>(new or(je,_t.targetRouterState,_t.currentRouterState,ce,Be).activate(Ee),_t)))(this.rootContexts,ce.routeReuseStrategy,Ut=>this.events.next(Ut),this.inputBindingEnabled),(0,P.q)(1),(0,q.b)({next:Ut=>{_t=!0,this.lastSuccessfulNavigation=this.currentNavigation,ce.navigated=!0,this.events.next(new be(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(ce.currentUrlTree))),ce.titleStrategy?.updateTitle(Ut.targetRouterState.snapshot),Ut.resolve(!0)},complete:()=>{_t=!0}}),(0,xe.x)(()=>{_t||Gt||this.cancelNavigationTransition(Be,"",1),this.currentNavigation?.id===Be.id&&(this.currentNavigation=null)}),ae(Ut=>{if(Gt=!0,gr(Ut)){Uo(Ut)||(ce.navigated=!0,ce.restoreHistory(Be,!0));const Sn=new yt(Be.id,this.urlSerializer.serialize(Be.extractedUrl),Ut.message,Ut.cancellationCode);if(this.events.next(Sn),Uo(Ut)){const zn=ce.urlHandlingStrategy.merge(Ut.url,ce.rawUrlTree),Ti={skipLocationChange:Be.extras.skipLocationChange,replaceUrl:"eager"===ce.urlUpdateStrategy||Xt(Be.source)};ce.scheduleNavigation(zn,ei,null,Ti,{resolve:Be.resolve,reject:Be.reject,promise:Be.promise})}else Be.resolve(!1)}else{ce.restoreHistory(Be,!0);const Sn=new kt(Be.id,this.urlSerializer.serialize(Be.extractedUrl),Ut,Be.targetSnapshot??void 0);this.events.next(Sn);try{Be.resolve(ce.errorHandler(Ut))}catch(zn){Be.reject(zn)}}return U.E}))}))}cancelNavigationTransition(ce,Be,_t){const Gt=new yt(ce.id,this.urlSerializer.serialize(ce.extractedUrl),Be,_t);this.events.next(Gt),ce.resolve(!1)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();function Xt(Ee){return Ee!==ei}let Bt=(()=>{class Ee{buildTitle(ce){let Be,_t=ce.root;for(;void 0!==_t;)Be=this.getResolvedTitleForRoute(_t)??Be,_t=_t.children.find(Gt=>Gt.outlet===we);return Be}getResolvedTitleForRoute(ce){return ce.data[Ve]}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(jn)},providedIn:"root"})}return Ee})(),jn=(()=>{class Ee extends Bt{constructor(ce){super(),this.title=ce}updateTitle(ce){const Be=this.buildTitle(ce);void 0!==Be&&this.title.setTitle(Be)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(ke.Dx))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),bi=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(ir)},providedIn:"root"})}return Ee})();class Bi{shouldDetach(je){return!1}store(je,ce){}shouldAttach(je){return!1}retrieve(je){return null}shouldReuseRoute(je,ce){return je.routeConfig===ce.routeConfig}}let ir=(()=>{class Ee extends Bi{static#e=this.\u0275fac=function(){let ce;return function(_t){return(ce||(ce=c.n5z(Ee)))(_t||Ee)}}();static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();const sr=new c.OlP("",{providedIn:"root",factory:()=>({})});let Qi=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(Ir)},providedIn:"root"})}return Ee})(),Ir=(()=>{class Ee{shouldProcessUrl(ce){return!0}extract(ce){return ce}merge(ce,Be){return ce}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();var Si=function(Ee){return Ee[Ee.COMPLETE=0]="COMPLETE",Ee[Ee.FAILED=1]="FAILED",Ee[Ee.REDIRECTING=2]="REDIRECTING",Ee}(Si||{});function Cr(Ee,je){Ee.events.pipe((0,N.h)(ce=>ce instanceof be||ce instanceof yt||ce instanceof kt||ce instanceof gt),(0,O.U)(ce=>ce instanceof be||ce instanceof gt?Si.COMPLETE:ce instanceof yt&&(0===ce.code||1===ce.code)?Si.REDIRECTING:Si.FAILED),(0,N.h)(ce=>ce!==Si.REDIRECTING),(0,P.q)(1)).subscribe(()=>{je()})}function Ko(Ee){throw Ee}function Di(Ee,je,ce){return je.parse("/")}const Us={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jr=(()=>{class Ee{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(sr,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||Ko,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Di,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Qi),this.routeReuseStrategy=(0,c.f3M)(bi),this.titleStrategy=(0,c.f3M)(Bt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Eo,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(Mt),this.urlSerializer=(0,c.f3M)(vt),this.location=(0,c.f3M)(k.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Ui,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ae,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(ce=>{this.lastSuccessfulId=ce.id,this.currentPageId=this.browserPageId??0},ce=>{this.console.warn(`Unhandled Navigation Error: ${ce}`)})}resetRootComponentType(ce){this.routerState.root.component=ce,this.navigationTransitions.rootComponentType=ce}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const ce=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ei,ce)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(ce=>{const Be="popstate"===ce.type?"popstate":"hashchange";"popstate"===Be&&setTimeout(()=>{this.navigateToSyncWithBrowser(ce.url,Be,ce.state)},0)}))}navigateToSyncWithBrowser(ce,Be,_t){const Gt={replaceUrl:!0},Ut=_t?.navigationId?_t:null;if(_t){const zn={..._t};delete zn.navigationId,delete zn.\u0275routerPageId,0!==Object.keys(zn).length&&(Gt.state=zn)}const Sn=this.parseUrl(ce);this.scheduleNavigation(Sn,Be,Ut,Gt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(ce){this.config=ce.map(nr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(ce,Be={}){const{relativeTo:_t,queryParams:Gt,fragment:Ut,queryParamsHandling:Sn,preserveFragment:zn}=Be,Ti=zn?this.currentUrlTree.fragment:Ut;let hr,Ci=null;switch(Sn){case"merge":Ci={...this.currentUrlTree.queryParams,...Gt};break;case"preserve":Ci=this.currentUrlTree.queryParams;break;default:Ci=Gt||null}null!==Ci&&(Ci=this.removeEmptyProps(Ci));try{hr=Yn(_t?_t.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof ce[0]||!ce[0].startsWith("/"))&&(ce=[]),hr=this.currentUrlTree.root}return Vn(hr,ce,Ci,Ti??null)}navigateByUrl(ce,Be={skipLocationChange:!1}){const _t=xn(ce)?ce:this.parseUrl(ce),Gt=this.urlHandlingStrategy.merge(_t,this.rawUrlTree);return this.scheduleNavigation(Gt,ei,null,Be)}navigate(ce,Be={skipLocationChange:!1}){return function Ss(Ee){for(let je=0;je<Ee.length;je++)if(null==Ee[je])throw new c.vHH(4008,!1)}(ce),this.navigateByUrl(this.createUrlTree(ce,Be),Be)}serializeUrl(ce){return this.urlSerializer.serialize(ce)}parseUrl(ce){let Be;try{Be=this.urlSerializer.parse(ce)}catch(_t){Be=this.malformedUriErrorHandler(_t,this.urlSerializer,ce)}return Be}isActive(ce,Be){let _t;if(_t=!0===Be?{...Us}:!1===Be?{...Wo}:Be,xn(ce))return te(this.currentUrlTree,ce,_t);const Gt=this.parseUrl(ce);return te(this.currentUrlTree,Gt,_t)}removeEmptyProps(ce){return Object.keys(ce).reduce((Be,_t)=>{const Gt=ce[_t];return null!=Gt&&(Be[_t]=Gt),Be},{})}scheduleNavigation(ce,Be,_t,Gt,Ut){if(this.disposed)return Promise.resolve(!1);let Sn,zn,Ti;Ut?(Sn=Ut.resolve,zn=Ut.reject,Ti=Ut.promise):Ti=new Promise((hr,Oo)=>{Sn=hr,zn=Oo});const Ci=this.pendingTasks.add();return Cr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ci))}),this.navigationTransitions.handleNavigationRequest({source:Be,restoredState:_t,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:ce,extras:Gt,resolve:Sn,reject:zn,promise:Ti,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ti.catch(hr=>Promise.reject(hr))}setBrowserUrl(ce,Be){const _t=this.urlSerializer.serialize(ce);if(this.location.isCurrentPathEqualTo(_t)||Be.extras.replaceUrl){const Ut={...Be.extras.state,...this.generateNgRouterState(Be.id,this.browserPageId)};this.location.replaceState(_t,"",Ut)}else{const Gt={...Be.extras.state,...this.generateNgRouterState(Be.id,(this.browserPageId??0)+1)};this.location.go(_t,"",Gt)}}restoreHistory(ce,Be=!1){if("computed"===this.canceledNavigationResolution){const Gt=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Gt?this.location.historyGo(Gt):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Gt&&(this.resetState(ce),this.browserUrlTree=ce.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Be&&this.resetState(ce),this.resetUrlToCurrentUrlTree())}resetState(ce){this.routerState=ce.currentRouterState,this.currentUrlTree=ce.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ce.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(ce,Be){return"computed"===this.canceledNavigationResolution?{navigationId:ce,\u0275routerPageId:Be}:{navigationId:ce}}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),Cs=(()=>{class Ee{constructor(ce,Be,_t,Gt,Ut,Sn){this.router=ce,this.route=Be,this.tabIndexAttribute=_t,this.renderer=Gt,this.el=Ut,this.locationStrategy=Sn,this.href=null,this.commands=null,this.onChanges=new H.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const zn=Ut.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===zn||"area"===zn,this.isAnchorElement?this.subscription=ce.events.subscribe(Ti=>{Ti instanceof be&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(ce){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ce)}ngOnChanges(ce){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(ce){null!=ce?(this.commands=Array.isArray(ce)?ce:[ce],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(ce,Be,_t,Gt,Ut){return!!(null===this.urlTree||this.isAnchorElement&&(0!==ce||Be||_t||Gt||Ut||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const ce=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ce)}applyAttributeValue(ce,Be){const _t=this.renderer,Gt=this.el.nativeElement;null!==Be?_t.setAttribute(Gt,ce,Be):_t.removeAttribute(Gt,ce)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.Y36(Jr),c.Y36(wi),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(k.S$))};static#t=this.\u0275dir=c.lG2({type:Ee,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Be,_t){1&Be&&c.NdJ("click",function(Ut){return _t.onClick(Ut.button,Ut.ctrlKey,Ut.shiftKey,Ut.altKey,Ut.metaKey)}),2&Be&&c.uIk("target",_t.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return Ee})();class kr{}let Dc=(()=>{class Ee{constructor(ce,Be,_t,Gt,Ut){this.router=ce,this.injector=_t,this.preloadingStrategy=Gt,this.loader=Ut}setUpPreloading(){this.subscription=this.router.events.pipe((0,N.h)(ce=>ce instanceof be),(0,W.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ce,Be){const _t=[];for(const Gt of Be){Gt.providers&&!Gt._injector&&(Gt._injector=(0,c.MMx)(Gt.providers,ce,`Route: ${Gt.path}`));const Ut=Gt._injector??ce,Sn=Gt._loadedInjector??Ut;(Gt.loadChildren&&!Gt._loadedRoutes&&void 0===Gt.canLoad||Gt.loadComponent&&!Gt._loadedComponent)&&_t.push(this.preloadConfig(Ut,Gt)),(Gt.children||Gt._loadedRoutes)&&_t.push(this.processRoutes(Sn,Gt.children??Gt._loadedRoutes))}return(0,y.D)(_t).pipe((0,Ue.J)())}preloadConfig(ce,Be){return this.preloadingStrategy.preload(Be,()=>{let _t;_t=Be.loadChildren&&void 0===Be.canLoad?this.loader.loadChildren(ce,Be):(0,w.of)(null);const Gt=_t.pipe((0,C.z)(Ut=>null===Ut?(0,w.of)(void 0):(Be._loadedRoutes=Ut.routes,Be._loadedInjector=Ut.injector,this.processRoutes(Ut.injector??ce,Ut.routes))));if(Be.loadComponent&&!Be._loadedComponent){const Ut=this.loader.loadComponent(Be);return(0,y.D)([Gt,Ut]).pipe((0,Ue.J)())}return Gt})}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(Jr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(kr),c.LFG(Ie))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();const nc=new c.OlP("");let Zn=(()=>{class Ee{constructor(ce,Be,_t,Gt,Ut={}){this.urlSerializer=ce,this.transitions=Be,this.viewportScroller=_t,this.zone=Gt,this.options=Ut,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ut.scrollPositionRestoration=Ut.scrollPositionRestoration||"disabled",Ut.anchorScrolling=Ut.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ce=>{ce instanceof fn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ce.navigationTrigger,this.restoredId=ce.restoredState?ce.restoredState.navigationId:0):ce instanceof be?(this.lastId=ce.id,this.scheduleScrollEvent(ce,this.urlSerializer.parse(ce.urlAfterRedirects).fragment)):ce instanceof gt&&0===ce.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ce,this.urlSerializer.parse(ce.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ce=>{ce instanceof Dr&&(ce.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ce.position):ce.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ce.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ce,Be){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dr(ce,"popstate"===this.lastSource?this.store[this.restoredId]:null,Be))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Be){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function Ms(Ee,je){return{\u0275kind:Ee,\u0275providers:je}}function La(){const Ee=(0,c.f3M)(c.zs3);return je=>{const ce=Ee.get(c.z2F);if(je!==ce.components[0])return;const Be=Ee.get(Jr),_t=Ee.get(Fr);1===Ee.get(ka)&&Be.initialNavigation(),Ee.get(As,null,c.XFs.Optional)?.setUpPreloading(),Ee.get(nc,null,c.XFs.Optional)?.init(),Be.resetRootComponentType(ce.componentTypes[0]),_t.closed||(_t.next(),_t.complete(),_t.unsubscribe())}}const Fr=new c.OlP("",{factory:()=>new H.x}),ka=new c.OlP("",{providedIn:"root",factory:()=>1}),As=new c.OlP("");function Nl(Ee){return Ms(0,[{provide:As,useExisting:Dc},{provide:kr,useExisting:Ee}])}const ya=new c.OlP("ROUTER_FORROOT_GUARD"),oc=[k.Ye,{provide:vt,useClass:Ht},Jr,Ji,{provide:wi,useFactory:function ol(Ee){return Ee.routerState.root},deps:[Jr]},Ie,[]];function zo(){return new c.PXZ("Router",Jr)}let Fa=(()=>{class Ee{constructor(ce){}static forRoot(ce,Be){return{ngModule:Ee,providers:[oc,[],{provide:Eo,multi:!0,useValue:ce},{provide:ya,useFactory:al,deps:[[Jr,new c.FiY,new c.tp0]]},{provide:sr,useValue:Be||{}},Be?.useHash?{provide:k.S$,useClass:k.Do}:{provide:k.S$,useClass:k.b0},{provide:nc,useFactory:()=>{const Ee=(0,c.f3M)(k.EM),je=(0,c.f3M)(c.R0b),ce=(0,c.f3M)(sr),Be=(0,c.f3M)(Mt),_t=(0,c.f3M)(vt);return ce.scrollOffset&&Ee.setOffset(ce.scrollOffset),new Zn(_t,Be,Ee,je,ce)}},Be?.preloadingStrategy?Nl(Be.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:zo},Be?.initialNavigation?ji(Be):[],Be?.bindToComponentInputs?Ms(8,[Ri,{provide:Ui,useExisting:Ri}]).\u0275providers:[],[{provide:Ll,useFactory:La},{provide:c.tb,multi:!0,useExisting:Ll}]]}}static forChild(ce){return{ngModule:Ee,providers:[{provide:Eo,multi:!0,useValue:ce}]}}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(ya,8))};static#t=this.\u0275mod=c.oAB({type:Ee});static#n=this.\u0275inj=c.cJS({})}return Ee})();function al(Ee){return"guarded"}function ji(Ee){return["disabled"===Ee.initialNavigation?Ms(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const je=(0,c.f3M)(Jr);return()=>{je.setUpLocationChangeListener()}}},{provide:ka,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ee.initialNavigation?Ms(2,[{provide:ka,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:je=>{const ce=je.get(k.V_,Promise.resolve());return()=>ce.then(()=>new Promise(Be=>{const _t=je.get(Jr),Gt=je.get(Fr);Cr(_t,()=>{Be(!0)}),je.get(Mt).afterPreactivation=()=>(Be(!0),Gt.closed?(0,w.of)(void 0):Gt),_t.initialNavigation()}))}}]).\u0275providers:[]]}const Ll=new c.OlP("")},3106:(Gn,tt,S)=>{"use strict";S.d(tt,{Z:()=>R});var c=S(9058),t=S(4537),y=S(534),w=S(7879);class E{constructor(k,O){this._delegate=k,this.firebase=O,(0,y._addComponent)(k,new t.wA("app-compat",()=>this,"PUBLIC")),this.container=k.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this._delegate.automaticDataCollectionEnabled=k}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(k=>{this._delegate.checkDestroyed(),k()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,y.deleteApp)(this._delegate)))}_getService(k,O=y._DEFAULT_ENTRY_NAME){var M;this._delegate.checkDestroyed();const P=this._delegate.container.getProvider(k);return!P.isInitialized()&&"EXPLICIT"===(null===(M=P.getComponent())||void 0===M?void 0:M.instantiationMode)&&P.initialize(),P.getImmediate({identifier:O})}_removeServiceInstance(k,O=y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(k).clearInstance(O)}_addComponent(k){(0,y._addComponent)(this._delegate,k)}_addOrOverwriteComponent(k){(0,y._addOrOverwriteComponent)(this._delegate,k)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const L=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),f=function p(){const H=function D(H){const k={},O={__esModule:!0,initializeApp:function T(W,q={}){const le=y.initializeApp(W,q);if((0,c.r3)(k,le.name))return k[le.name];const Fe=new H(le,O);return k[le.name]=Fe,Fe},app:P,registerVersion:y.registerVersion,setLogLevel:y.setLogLevel,onLog:y.onLog,apps:null,SDK_VERSION:y.SDK_VERSION,INTERNAL:{registerComponent:function C(W){const q=W.name,le=q.replace("-compat","");if(y._registerComponent(W)&&"PUBLIC"===W.type){const Fe=($=P())=>{if("function"!=typeof $[le])throw L.create("invalid-app-argument",{appName:q});return $[le]()};void 0!==W.serviceProps&&(0,c.ZB)(Fe,W.serviceProps),O[le]=Fe,H.prototype[le]=function(...$){return this._getService.bind(this,q).apply(this,W.multipleInstances?$:[])}}return"PUBLIC"===W.type?O[le]:null},removeApp:function M(W){delete k[W]},useAsService:function B(W,q){return"serverAuth"===q?null:q},modularAPIs:y}};function P(W){if(!(0,c.r3)(k,W=W||y._DEFAULT_ENTRY_NAME))throw L.create("no-app",{appName:W});return k[W]}return O.default=O,Object.defineProperty(O,"apps",{get:function N(){return Object.keys(k).map(W=>k[W])}}),P.App=H,O}(E);return H.INTERNAL=Object.assign(Object.assign({},H.INTERNAL),{createFirebaseNamespace:p,extendNamespace:function k(O){(0,c.ZB)(H,O)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),H}(),g=new w.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const H=self.firebase.SDK_VERSION;H&&H.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const R=f;!function U(H){(0,y.registerVersion)("@firebase/app-compat","0.2.13",H)}()},534:(Gn,tt,S)=>{"use strict";S.r(tt),S.d(tt,{FirebaseError:()=>w.ZR,SDK_VERSION:()=>en,_DEFAULT_ENTRY_NAME:()=>ue,_addComponent:()=>We,_addOrOverwriteComponent:()=>He,_apps:()=>de,_clearComponents:()=>vt,_components:()=>Ae,_getProvider:()=>ct,_registerComponent:()=>at,_removeServiceInstance:()=>it,deleteApp:()=>Cn,getApp:()=>un,getApps:()=>Kt,initializeApp:()=>dn,onLog:()=>ft,registerVersion:()=>Dt,setLogLevel:()=>Qe});var c=S(5861),t=S(4537),y=S(7879),w=S(9058);const E=(yn,_n)=>_n.some(bt=>yn instanceof bt);let F,L;const f=new WeakMap,g=new WeakMap,v=new WeakMap,A=new WeakMap,U=new WeakMap;let k={get(yn,_n,bt){if(yn instanceof IDBTransaction){if("done"===_n)return g.get(yn);if("objectStoreNames"===_n)return yn.objectStoreNames||v.get(yn);if("store"===_n)return bt.objectStoreNames[1]?void 0:bt.objectStore(bt.objectStoreNames[0])}return T(yn[_n])},set:(yn,_n,bt)=>(yn[_n]=bt,!0),has:(yn,_n)=>yn instanceof IDBTransaction&&("done"===_n||"store"===_n)||_n in yn};function P(yn){return"function"==typeof yn?function M(yn){return yn!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function p(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(yn)?function(..._n){return yn.apply(N(this),_n),T(f.get(this))}:function(..._n){return T(yn.apply(N(this),_n))}:function(_n,...bt){const ut=yn.call(N(this),_n,...bt);return v.set(ut,_n.sort?_n.sort():[_n]),T(ut)}}(yn):(yn instanceof IDBTransaction&&function H(yn){if(g.has(yn))return;const _n=new Promise((bt,ut)=>{const tn=()=>{yn.removeEventListener("complete",Ze),yn.removeEventListener("error",Xe),yn.removeEventListener("abort",Xe)},Ze=()=>{bt(),tn()},Xe=()=>{ut(yn.error||new DOMException("AbortError","AbortError")),tn()};yn.addEventListener("complete",Ze),yn.addEventListener("error",Xe),yn.addEventListener("abort",Xe)});g.set(yn,_n)}(yn),E(yn,function D(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(yn,k):yn)}function T(yn){if(yn instanceof IDBRequest)return function R(yn){const _n=new Promise((bt,ut)=>{const tn=()=>{yn.removeEventListener("success",Ze),yn.removeEventListener("error",Xe)},Ze=()=>{bt(T(yn.result)),tn()},Xe=()=>{ut(yn.error),tn()};yn.addEventListener("success",Ze),yn.addEventListener("error",Xe)});return _n.then(bt=>{bt instanceof IDBCursor&&f.set(bt,yn)}).catch(()=>{}),U.set(_n,yn),_n}(yn);if(A.has(yn))return A.get(yn);const _n=P(yn);return _n!==yn&&(A.set(yn,_n),U.set(_n,yn)),_n}const N=yn=>U.get(yn),W=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],le=new Map;function Fe(yn,_n){if(!(yn instanceof IDBDatabase)||_n in yn||"string"!=typeof _n)return;if(le.get(_n))return le.get(_n);const bt=_n.replace(/FromIndex$/,""),ut=_n!==bt,tn=q.includes(bt);if(!(bt in(ut?IDBIndex:IDBObjectStore).prototype)||!tn&&!W.includes(bt))return;const Ze=function(){var Xe=(0,c.Z)(function*(Pt,...Qt){const In=this.transaction(Pt,tn?"readwrite":"readonly");let Fn=In.store;return ut&&(Fn=Fn.index(Qt.shift())),(yield Promise.all([Fn[bt](...Qt),tn&&In.done]))[0]});return function(Qt){return Xe.apply(this,arguments)}}();return le.set(_n,Ze),Ze}!function O(yn){k=yn(k)}(yn=>({...yn,get:(_n,bt,ut)=>Fe(_n,bt)||yn.get(_n,bt,ut),has:(_n,bt)=>!!Fe(_n,bt)||yn.has(_n,bt)}));class ${constructor(_n){this.container=_n}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function ae(yn){const _n=yn.getComponent();return"VERSION"===_n?.type}(bt)){const ut=bt.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(bt=>bt).join(" ")}}const K="@firebase/app",oe=new y.Yd("@firebase/app"),ue="[DEFAULT]",ve={[K]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},de=new Map,Ae=new Map;function We(yn,_n){try{yn.container.addComponent(_n)}catch(bt){oe.debug(`Component ${_n.name} failed to register with FirebaseApp ${yn.name}`,bt)}}function He(yn,_n){yn.container.addOrOverwriteComponent(_n)}function at(yn){const _n=yn.name;if(Ae.has(_n))return oe.debug(`There were multiple attempts to register component ${_n}.`),!1;Ae.set(_n,yn);for(const bt of de.values())We(bt,yn);return!0}function ct(yn,_n){const bt=yn.container.getProvider("heartbeat").getImmediate({optional:!0});return bt&&bt.triggerHeartbeat(),yn.container.getProvider(_n)}function it(yn,_n,bt=ue){ct(yn,_n).clearInstance(bt)}function vt(){Ae.clear()}const It=new w.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jt{constructor(_n,bt,ut){this._isDeleted=!1,this._options=Object.assign({},_n),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new t.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_n){this.checkDestroyed(),this._automaticDataCollectionEnabled=_n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_n){this._isDeleted=_n}checkDestroyed(){if(this.isDeleted)throw It.create("app-deleted",{appName:this._name})}}const en="9.23.0";function dn(yn,_n={}){let bt=yn;"object"!=typeof _n&&(_n={name:_n});const ut=Object.assign({name:ue,automaticDataCollectionEnabled:!1},_n),tn=ut.name;if("string"!=typeof tn||!tn)throw It.create("bad-app-name",{appName:String(tn)});if(bt||(bt=(0,w.aH)()),!bt)throw It.create("no-options");const Ze=de.get(tn);if(Ze){if((0,w.vZ)(bt,Ze.options)&&(0,w.vZ)(ut,Ze.config))return Ze;throw It.create("duplicate-app",{appName:tn})}const Xe=new t.H0(tn);for(const Qt of Ae.values())Xe.addComponent(Qt);const Pt=new jt(bt,ut,Xe);return de.set(tn,Pt),Pt}function un(yn=ue){const _n=de.get(yn);if(!_n&&yn===ue&&(0,w.aH)())return dn();if(!_n)throw It.create("no-app",{appName:yn});return _n}function Kt(){return Array.from(de.values())}function Cn(yn){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(yn){const _n=yn.name;de.has(_n)&&(de.delete(_n),yield Promise.all(yn.container.getProviders().map(bt=>bt.delete())),yn.isDeleted=!0)})).apply(this,arguments)}function Dt(yn,_n,bt){var ut;let tn=null!==(ut=ve[yn])&&void 0!==ut?ut:yn;bt&&(tn+=`-${bt}`);const Ze=tn.match(/\s|\//),Xe=_n.match(/\s|\//);if(Ze||Xe){const Pt=[`Unable to register library "${tn}" with version "${_n}":`];return Ze&&Pt.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),Ze&&Xe&&Pt.push("and"),Xe&&Pt.push(`version name "${_n}" contains illegal characters (whitespace or "/")`),void oe.warn(Pt.join(" "))}at(new t.wA(`${tn}-version`,()=>({library:tn,version:_n}),"VERSION"))}function ft(yn,_n){if(null!==yn&&"function"!=typeof yn)throw It.create("invalid-log-argument");(0,y.Am)(yn,_n)}function Qe(yn){(0,y.Ub)(yn)}const De="firebase-heartbeat-database",Pe=1,Ye="firebase-heartbeat-store";let $e=null;function lt(){return $e||($e=function C(yn,_n,{blocked:bt,upgrade:ut,blocking:tn,terminated:Ze}={}){const Xe=indexedDB.open(yn,_n),Pt=T(Xe);return ut&&Xe.addEventListener("upgradeneeded",Qt=>{ut(T(Xe.result),Qt.oldVersion,Qt.newVersion,T(Xe.transaction),Qt)}),bt&&Xe.addEventListener("blocked",Qt=>bt(Qt.oldVersion,Qt.newVersion,Qt)),Pt.then(Qt=>{Ze&&Qt.addEventListener("close",()=>Ze()),tn&&Qt.addEventListener("versionchange",In=>tn(In.oldVersion,In.newVersion,In))}).catch(()=>{}),Pt}(De,Pe,{upgrade:(yn,_n)=>{0===_n&&yn.createObjectStore(Ye)}}).catch(yn=>{throw It.create("idb-open",{originalErrorMessage:yn.message})})),$e}function dt(){return(dt=(0,c.Z)(function*(yn){try{return yield(yield lt()).transaction(Ye).objectStore(Ye).get(Lt(yn))}catch(_n){if(_n instanceof w.ZR)oe.warn(_n.message);else{const bt=It.create("idb-get",{originalErrorMessage:_n?.message});oe.warn(bt.message)}}})).apply(this,arguments)}function Ft(yn,_n){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(yn,_n){try{const ut=(yield lt()).transaction(Ye,"readwrite");yield ut.objectStore(Ye).put(_n,Lt(yn)),yield ut.done}catch(bt){if(bt instanceof w.ZR)oe.warn(bt.message);else{const ut=It.create("idb-set",{originalErrorMessage:bt?.message});oe.warn(ut.message)}}})).apply(this,arguments)}function Lt(yn){return`${yn.name}!${yn.options.appId}`}class mn{constructor(_n){this.container=_n,this._heartbeatsCache=null;const bt=this.container.getProvider("app").getImmediate();this._storage=new Yn(bt),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var _n=this;return(0,c.Z)(function*(){const ut=_n.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tn=xn();if(null===_n._heartbeatsCache&&(_n._heartbeatsCache=yield _n._heartbeatsCachePromise),_n._heartbeatsCache.lastSentHeartbeatDate!==tn&&!_n._heartbeatsCache.heartbeats.some(Ze=>Ze.date===tn))return _n._heartbeatsCache.heartbeats.push({date:tn,agent:ut}),_n._heartbeatsCache.heartbeats=_n._heartbeatsCache.heartbeats.filter(Ze=>{const Xe=new Date(Ze.date).valueOf();return Date.now()-Xe<=2592e6}),_n._storage.overwrite(_n._heartbeatsCache)})()}getHeartbeatsHeader(){var _n=this;return(0,c.Z)(function*(){if(null===_n._heartbeatsCache&&(yield _n._heartbeatsCachePromise),null===_n._heartbeatsCache||0===_n._heartbeatsCache.heartbeats.length)return"";const bt=xn(),{heartbeatsToSend:ut,unsentEntries:tn}=function Ln(yn,_n=1024){const bt=[];let ut=yn.slice();for(const tn of yn){const Ze=bt.find(Xe=>Xe.agent===tn.agent);if(Ze){if(Ze.dates.push(tn.date),Vn(bt)>_n){Ze.dates.pop();break}}else if(bt.push({agent:tn.agent,dates:[tn.date]}),Vn(bt)>_n){bt.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:bt,unsentEntries:ut}}(_n._heartbeatsCache.heartbeats),Ze=(0,w.L)(JSON.stringify({version:2,heartbeats:ut}));return _n._heartbeatsCache.lastSentHeartbeatDate=bt,tn.length>0?(_n._heartbeatsCache.heartbeats=tn,yield _n._storage.overwrite(_n._heartbeatsCache)):(_n._heartbeatsCache.heartbeats=[],_n._storage.overwrite(_n._heartbeatsCache)),Ze})()}}function xn(){return(new Date).toISOString().substring(0,10)}class Yn{constructor(_n){this.app=_n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,w.hl)()&&(0,w.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _n=this;return(0,c.Z)(function*(){return(yield _n._canUseIndexedDBPromise)&&(yield function ot(yn){return dt.apply(this,arguments)}(_n.app))||{heartbeats:[]}})()}overwrite(_n){var bt=this;return(0,c.Z)(function*(){var ut;if(yield bt._canUseIndexedDBPromise){const Ze=yield bt.read();return Ft(bt.app,{lastSentHeartbeatDate:null!==(ut=_n.lastSentHeartbeatDate)&&void 0!==ut?ut:Ze.lastSentHeartbeatDate,heartbeats:_n.heartbeats})}})()}add(_n){var bt=this;return(0,c.Z)(function*(){var ut;if(yield bt._canUseIndexedDBPromise){const Ze=yield bt.read();return Ft(bt.app,{lastSentHeartbeatDate:null!==(ut=_n.lastSentHeartbeatDate)&&void 0!==ut?ut:Ze.lastSentHeartbeatDate,heartbeats:[...Ze.heartbeats,..._n.heartbeats]})}})()}}function Vn(yn){return(0,w.L)(JSON.stringify({version:2,heartbeats:yn})).length}!function ci(yn){at(new t.wA("platform-logger",_n=>new $(_n),"PRIVATE")),at(new t.wA("heartbeat",_n=>new mn(_n),"PRIVATE")),Dt(K,"0.9.13",yn),Dt(K,"0.9.13","esm2017"),Dt("fire-js","")}("")},4537:(Gn,tt,S)=>{"use strict";S.d(tt,{H0:()=>D,wA:()=>y});var c=S(5861),t=S(9058);class y{constructor(f,g,v){this.name=f,this.instanceFactory=g,this.type=v,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const w="[DEFAULT]";class E{constructor(f,g){this.name=f,this.container=g,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(f){const g=this.normalizeInstanceIdentifier(f);if(!this.instancesDeferred.has(g)){const v=new t.BH;if(this.instancesDeferred.set(g,v),this.isInitialized(g)||this.shouldAutoInitialize())try{const A=this.getOrInitializeService({instanceIdentifier:g});A&&v.resolve(A)}catch{}}return this.instancesDeferred.get(g).promise}getImmediate(f){var g;const v=this.normalizeInstanceIdentifier(f?.identifier),A=null!==(g=f?.optional)&&void 0!==g&&g;if(!this.isInitialized(v)&&!this.shouldAutoInitialize()){if(A)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:v})}catch(U){if(A)return null;throw U}}getComponent(){return this.component}setComponent(f){if(f.name!==this.name)throw Error(`Mismatching Component ${f.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=f,this.shouldAutoInitialize()){if(function L(p){return"EAGER"===p.instantiationMode}(f))try{this.getOrInitializeService({instanceIdentifier:w})}catch{}for(const[g,v]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(g);try{const U=this.getOrInitializeService({instanceIdentifier:A});v.resolve(U)}catch{}}}}clearInstance(f=w){this.instancesDeferred.delete(f),this.instancesOptions.delete(f),this.instances.delete(f)}delete(){var f=this;return(0,c.Z)(function*(){const g=Array.from(f.instances.values());yield Promise.all([...g.filter(v=>"INTERNAL"in v).map(v=>v.INTERNAL.delete()),...g.filter(v=>"_delete"in v).map(v=>v._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(f=w){return this.instances.has(f)}getOptions(f=w){return this.instancesOptions.get(f)||{}}initialize(f={}){const{options:g={}}=f,v=this.normalizeInstanceIdentifier(f.instanceIdentifier);if(this.isInitialized(v))throw Error(`${this.name}(${v}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:v,options:g});for(const[U,R]of this.instancesDeferred.entries())v===this.normalizeInstanceIdentifier(U)&&R.resolve(A);return A}onInit(f,g){var v;const A=this.normalizeInstanceIdentifier(g),U=null!==(v=this.onInitCallbacks.get(A))&&void 0!==v?v:new Set;U.add(f),this.onInitCallbacks.set(A,U);const R=this.instances.get(A);return R&&f(R,A),()=>{U.delete(f)}}invokeOnInitCallbacks(f,g){const v=this.onInitCallbacks.get(g);if(v)for(const A of v)try{A(f,g)}catch{}}getOrInitializeService({instanceIdentifier:f,options:g={}}){let v=this.instances.get(f);if(!v&&this.component&&(v=this.component.instanceFactory(this.container,{instanceIdentifier:(p=f,p===w?void 0:p),options:g}),this.instances.set(f,v),this.instancesOptions.set(f,g),this.invokeOnInitCallbacks(v,f),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,f,v)}catch{}var p;return v||null}normalizeInstanceIdentifier(f=w){return this.component?this.component.multipleInstances?f:w:f}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class D{constructor(f){this.name=f,this.providers=new Map}addComponent(f){const g=this.getProvider(f.name);if(g.isComponentSet())throw new Error(`Component ${f.name} has already been registered with ${this.name}`);g.setComponent(f)}addOrOverwriteComponent(f){this.getProvider(f.name).isComponentSet()&&this.providers.delete(f.name),this.addComponent(f)}getProvider(f){if(this.providers.has(f))return this.providers.get(f);const g=new E(f,this);return this.providers.set(f,g),g}getProviders(){return Array.from(this.providers.values())}}},7879:(Gn,tt,S)=>{"use strict";S.d(tt,{Am:()=>p,Ub:()=>D,Yd:()=>L,in:()=>t});const c=[];var t=function(f){return f[f.DEBUG=0]="DEBUG",f[f.VERBOSE=1]="VERBOSE",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.SILENT=5]="SILENT",f}(t||{});const y={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},w=t.INFO,E={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},F=(f,g,...v)=>{if(g<f.logLevel)return;const A=(new Date).toISOString(),U=E[g];if(!U)throw new Error(`Attempted to log a message with an invalid logType (value: ${g})`);console[U](`[${A}]  ${f.name}:`,...v)};class L{constructor(g){this.name=g,this._logLevel=w,this._logHandler=F,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(g){if(!(g in t))throw new TypeError(`Invalid value "${g}" assigned to \`logLevel\``);this._logLevel=g}setLogLevel(g){this._logLevel="string"==typeof g?y[g]:g}get logHandler(){return this._logHandler}set logHandler(g){if("function"!=typeof g)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=g}get userLogHandler(){return this._userLogHandler}set userLogHandler(g){this._userLogHandler=g}debug(...g){this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...g),this._logHandler(this,t.DEBUG,...g)}log(...g){this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...g),this._logHandler(this,t.VERBOSE,...g)}info(...g){this._userLogHandler&&this._userLogHandler(this,t.INFO,...g),this._logHandler(this,t.INFO,...g)}warn(...g){this._userLogHandler&&this._userLogHandler(this,t.WARN,...g),this._logHandler(this,t.WARN,...g)}error(...g){this._userLogHandler&&this._userLogHandler(this,t.ERROR,...g),this._logHandler(this,t.ERROR,...g)}}function D(f){c.forEach(g=>{g.setLogLevel(f)})}function p(f,g){for(const v of c){let A=null;g&&g.level&&(A=y[g.level]),v.userLogHandler=null===f?null:(U,R,...H)=>{const k=H.map(O=>{if(null==O)return null;if("string"==typeof O)return O;if("number"==typeof O||"boolean"==typeof O)return O.toString();if(O instanceof Error)return O.message;try{return JSON.stringify(O)}catch{return null}}).filter(O=>O).join(" ");R>=(A??U.logLevel)&&f({level:t[R].toLowerCase(),message:k,args:H,type:U.name})}}}},3182:(Gn,tt,S)=>{"use strict";S.d(tt,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=S(534);(0,c.registerVersion)("firebase","9.23.0","app")},7142:(Gn,tt,S)=>{"use strict";S.d(tt,{Z:()=>c.Z});var c=S(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Gn,tt,S)=>{"use strict";function c(y,w,E,F,L,D,p){try{var f=y[D](p),g=f.value}catch(v){return void E(v)}f.done?w(g):Promise.resolve(g).then(F,L)}function t(y){return function(){var w=this,E=arguments;return new Promise(function(F,L){var D=y.apply(w,E);function p(g){c(D,F,L,p,f,"next",g)}function f(g){c(D,F,L,p,f,"throw",g)}p(void 0)})}}S.d(tt,{Z:()=>t})},7582:(Gn,tt,S)=>{"use strict";function w(oe,he){var Ce={};for(var Le in oe)Object.prototype.hasOwnProperty.call(oe,Le)&&he.indexOf(Le)<0&&(Ce[Le]=oe[Le]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(Le=Object.getOwnPropertySymbols(oe);fe<Le.length;fe++)he.indexOf(Le[fe])<0&&Object.prototype.propertyIsEnumerable.call(oe,Le[fe])&&(Ce[Le[fe]]=oe[Le[fe]])}return Ce}function v(oe,he,Ce,Le){return new(Ce||(Ce=Promise))(function(Re,xe){function pe(we){try{ke(Le.next(we))}catch(Ve){xe(Ve)}}function Ue(we){try{ke(Le.throw(we))}catch(Ve){xe(Ve)}}function ke(we){we.done?Re(we.value):function fe(Re){return Re instanceof Ce?Re:new Ce(function(xe){xe(Re)})}(we.value).then(pe,Ue)}ke((Le=Le.apply(oe,he||[])).next())})}function T(oe){return this instanceof T?(this.v=oe,this):new T(oe)}function N(oe,he,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,Le=Ce.apply(oe,he||[]),Re=[];return fe={},xe("next"),xe("throw"),xe("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function xe(st){Le[st]&&(fe[st]=function(Je){return new Promise(function(Ne,Te){Re.push([st,Je,Ne,Te])>1||pe(st,Je)})})}function pe(st,Je){try{!function Ue(st){st.value instanceof T?Promise.resolve(st.value.v).then(ke,we):Ve(Re[0][2],st)}(Le[st](Je))}catch(Ne){Ve(Re[0][3],Ne)}}function ke(st){pe("next",st)}function we(st){pe("throw",st)}function Ve(st,Je){st(Je),Re.shift(),Re.length&&pe(Re[0][0],Re[0][1])}}function B(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,he=oe[Symbol.asyncIterator];return he?he.call(oe):(oe=function H(oe){var he="function"==typeof Symbol&&Symbol.iterator,Ce=he&&oe[he],Le=0;if(Ce)return Ce.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Le>=oe.length&&(oe=void 0),{value:oe&&oe[Le++],done:!oe}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),Ce={},Le("next"),Le("throw"),Le("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Le(Re){Ce[Re]=oe[Re]&&function(xe){return new Promise(function(pe,Ue){!function fe(Re,xe,pe,Ue){Promise.resolve(Ue).then(function(ke){Re({value:ke,done:pe})},xe)}(pe,Ue,(xe=oe[Re](xe)).done,xe.value)})}}}S.d(tt,{FC:()=>N,KL:()=>B,_T:()=>w,mG:()=>v,qq:()=>T})}},Gn=>{Gn(Gn.s=7941)}]);