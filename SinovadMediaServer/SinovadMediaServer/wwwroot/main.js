(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{3002:(wn,Ze,C)=>{"use strict";C.r(Ze),C.d(Ze,{VideoPageModule:()=>b});var c=C(6814),t=C(95),E=C(3452),O=C(5879);let b=(()=>{class F{static#e=this.\u0275fac=function(g){return new(g||F)};static#t=this.\u0275mod=O.oAB({type:F});static#n=this.\u0275inj=O.cJS({imports:[c.ez,t.u5,E.m]})}return F})()},3452:(wn,Ze,C)=>{"use strict";C.d(Ze,{m:()=>we});var c=C(6814),t=C(1476),E=C(7700),O=C(2939),b=C(5313),F=C(2032),L=C(9157),x=C(3566),g=C(5986),h=C(5940),p=C(2596),y=C(3680),A=C(8525),U=C(8034),P=C(5879);let le=(()=>{class _e{static#e=this.\u0275fac=function(Oe){return new(Oe||_e)};static#t=this.\u0275mod=P.oAB({type:_e});static#n=this.\u0275inj=P.cJS({imports:[y.BQ,c.ez,y.BQ]})}return _e})(),Me=(()=>{class _e{static#e=this.\u0275fac=function(Oe){return new(Oe||_e)};static#t=this.\u0275mod=P.oAB({type:_e});static#n=this.\u0275inj=P.cJS({imports:[c.ez,t.TU,E.Is,O.ZX,b.p0,F.c,L.lN,x.JX,g.p9,h.Cq,p.AV,y.Ng,A.LD,U.FA,y.XK,le,t.TU,E.Is,O.ZX,b.p0,F.c,L.lN,x.JX,g.p9,h.Cq,p.AV,y.Ng,A.LD,U.FA,y.XK,le]})}return _e})(),we=(()=>{class _e{static#e=this.\u0275fac=function(Oe){return new(Oe||_e)};static#t=this.\u0275mod=P.oAB({type:_e});static#n=this.\u0275inj=P.cJS({imports:[c.ez,Me,c.ez,Me]})}return _e})()},4337:(wn,Ze,C)=>{"use strict";var c=C(6593),t=C(5879),E=C(2096),O=C(7715),b=C(5592),F=C(6328),L=C(2181),x=C(7398),g=C(4716),h=C(4664),p=C(6814);class y{}class A{}class U{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),u=o.toLowerCase(),m=e.slice(i+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(m):this.headers.set(u,[m])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof U?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new U;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof U?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const u=n.value;if(u){let m=this.headers.get(e);if(!m)return;m=m.filter(v=>-1===u.indexOf(v)),0===m.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,m)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(u=>u.toString()),o=n.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class V{encodeKey(n){return I(n)}encodeValue(n){return I(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const R=/%(\d[a-f0-9])/gi,D={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function I(r){return encodeURIComponent(r).replace(R,(n,e)=>D[e]??n)}function T(r){return`${r}`}class N{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new V,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k(r,n){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[m,v]=-1==u?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,u)),n.decodeValue(o.slice(u+1))],w=e.get(m)||[];w.push(v),e.set(m,w)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],o=Array.isArray(i)?i.map(T):[T(i)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(u=>{e.push({param:i,value:u,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new N({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(T(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(T(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class B{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function re(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function se(r){return typeof Blob<"u"&&r instanceof Blob}function Re(r){return typeof FormData<"u"&&r instanceof FormData}class oe{constructor(n,e,i,o){let u;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function Y(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,u=o):u=i,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new U),this.context||(this.context=new B),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=e;else{const v=e.indexOf("?");this.urlWithParams=e+(-1===v?"?":v<e.length-1?"&":"")+m}}else this.params=new N,this.urlWithParams=e}serializeBody(){return null===this.body?null:re(this.body)||se(this.body)||Re(this.body)||function z(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof N?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Re(this.body)?null:se(this.body)?this.body.type||null:re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,u=void 0!==n.body?n.body:this.body,m=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,v=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,G=n.params||this.params;const te=n.context??this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((ye,Ue)=>ye.set(Ue,n.setHeaders[Ue]),w)),n.setParams&&(G=Object.keys(n.setParams).reduce((ye,Ue)=>ye.set(Ue,n.setParams[Ue]),G)),new oe(e,i,u,{params:G,headers:w,context:te,reportProgress:v,responseType:o,withCredentials:m})}}var H=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(H||{});class me{constructor(n,e=200,i="OK"){this.headers=n.headers||new U,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class ne extends me{constructor(n={}){super(n),this.type=H.ResponseHeader}clone(n={}){return new ne({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ue extends me{constructor(n={}){super(n),this.type=H.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new ue({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Se extends me{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ie(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let le=(()=>{class r{constructor(e){this.handler=e}request(e,i,o={}){let u;if(e instanceof oe)u=e;else{let w,G;w=o.headers instanceof U?o.headers:new U(o.headers),o.params&&(G=o.params instanceof N?o.params:new N({fromObject:o.params})),u=new oe(e,i,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:G,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const m=(0,E.of)(u).pipe((0,F.b)(w=>this.handler.handle(w)));if(e instanceof oe||"events"===o.observe)return m;const v=m.pipe((0,L.h)(w=>w instanceof ue));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return v.pipe((0,x.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return v.pipe((0,x.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return v.pipe((0,x.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return v.pipe((0,x.U)(w=>w.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new N).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,Ie(o,i))}post(e,i,o={}){return this.request("POST",e,Ie(o,i))}put(e,i,o={}){return this.request("PUT",e,Ie(o,i))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(y))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function ze(r,n){return n(r)}function He(r,n){return(e,i)=>n.intercept(e,{handle:o=>r(o,i)})}const be=new t.OlP(""),K=new t.OlP(""),ie=new t.OlP("");function he(){let r=null;return(n,e)=>{null===r&&(r=((0,t.f3M)(be,{optional:!0})??[]).reduceRight(He,ze));const i=(0,t.f3M)(t.HDt),o=i.add();return r(n,e).pipe((0,g.x)(()=>i.remove(o)))}}let $=(()=>{class r extends y{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,t.f3M)(t.HDt)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(K),...this.injector.get(ie,[])]));this.chain=o.reduceRight((u,m)=>function Ae(r,n,e){return(i,o)=>e.runInContext(()=>n(i,u=>r(u,o)))}(u,m,this.injector),ze)}const i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe((0,g.x)(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(A),t.LFG(t.lqb))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const Be=/^\)\]\}',?\n/;let Qe=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new t.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,O.D)(i.\u0275loadImpl()):(0,E.of)(null)).pipe((0,h.w)(()=>new b.y(u=>{const m=i.build();if(m.open(e.method,e.urlWithParams),e.withCredentials&&(m.withCredentials=!0),e.headers.forEach((ft,vt)=>m.setRequestHeader(ft,vt.join(","))),e.headers.has("Accept")||m.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ft=e.detectContentTypeHeader();null!==ft&&m.setRequestHeader("Content-Type",ft)}if(e.responseType){const ft=e.responseType.toLowerCase();m.responseType="json"!==ft?ft:"text"}const v=e.serializeBody();let w=null;const G=()=>{if(null!==w)return w;const ft=m.statusText||"OK",vt=new U(m.getAllResponseHeaders()),Lt=function $e(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(m)||e.url;return w=new ne({headers:vt,status:m.status,statusText:ft,url:Lt}),w},te=()=>{let{headers:ft,status:vt,statusText:Lt,url:qt}=G(),zt=null;204!==vt&&(zt=typeof m.response>"u"?m.responseText:m.response),0===vt&&(vt=zt?200:0);let un=vt>=200&&vt<300;if("json"===e.responseType&&"string"==typeof zt){const ln=zt;zt=zt.replace(Be,"");try{zt=""!==zt?JSON.parse(zt):null}catch(Sn){zt=ln,un&&(un=!1,zt={error:Sn,text:zt})}}un?(u.next(new ue({body:zt,headers:ft,status:vt,statusText:Lt,url:qt||void 0})),u.complete()):u.error(new Se({error:zt,headers:ft,status:vt,statusText:Lt,url:qt||void 0}))},ye=ft=>{const{url:vt}=G(),Lt=new Se({error:ft,status:m.status||0,statusText:m.statusText||"Unknown Error",url:vt||void 0});u.error(Lt)};let Ue=!1;const Ge=ft=>{Ue||(u.next(G()),Ue=!0);let vt={type:H.DownloadProgress,loaded:ft.loaded};ft.lengthComputable&&(vt.total=ft.total),"text"===e.responseType&&m.responseText&&(vt.partialText=m.responseText),u.next(vt)},tt=ft=>{let vt={type:H.UploadProgress,loaded:ft.loaded};ft.lengthComputable&&(vt.total=ft.total),u.next(vt)};return m.addEventListener("load",te),m.addEventListener("error",ye),m.addEventListener("timeout",ye),m.addEventListener("abort",ye),e.reportProgress&&(m.addEventListener("progress",Ge),null!==v&&m.upload&&m.upload.addEventListener("progress",tt)),m.send(v),u.next({type:H.Sent}),()=>{m.removeEventListener("error",ye),m.removeEventListener("abort",ye),m.removeEventListener("load",te),m.removeEventListener("timeout",ye),e.reportProgress&&(m.removeEventListener("progress",Ge),null!==v&&m.upload&&m.upload.removeEventListener("progress",tt)),m.readyState!==m.DONE&&m.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(p.JF))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const qe=new t.OlP("XSRF_ENABLED"),Ot=new t.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Rt=new t.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Gt{}let $t=(()=>{class r{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(p.K0),t.LFG(t.Lbi),t.LFG(Ot))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function Qt(r,n){const e=r.url.toLowerCase();if(!(0,t.f3M)(qe)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return n(r);const i=(0,t.f3M)(Gt).getToken(),o=(0,t.f3M)(Rt);return null!=i&&!r.headers.has(o)&&(r=r.clone({headers:r.headers.set(o,i)})),n(r)}var gn=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(gn||{});function ot(...r){const n=[le,Qe,$,{provide:y,useExisting:$},{provide:A,useExisting:Qe},{provide:K,useValue:Qt,multi:!0},{provide:qe,useValue:!0},{provide:Gt,useClass:$t}];for(const e of r)n.push(...e.\u0275providers);return(0,t.MR2)(n)}const xe=new t.OlP("LEGACY_INTERCEPTOR_FN");function fe(){return function jn(r,n){return{\u0275kind:r,\u0275providers:n}}(gn.LegacyInterceptors,[{provide:xe,useFactory:he},{provide:K,useExisting:xe,multi:!0}])}let Nt=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:[ot(fe())]})}return r})();var In=C(8930);const Jn=[];let fi=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[In.Bz.forRoot(Jn,{onSameUrlNavigation:"reload"}),In.Bz]})}return r})();var Ft=C(95);class St{}var st=function(r){return r[r.MediaServerState=1]="MediaServerState",r[r.MediaType=2]="MediaType",r[r.VideoTransmissionType=3]="VideoTransmissionType",r[r.TranscoderPreset=4]="TranscoderPreset",r[r.IconTypes=5]="IconTypes",r}(st||{}),Ke=function(r){return r[r.Movie=1]="Movie",r[r.TvSerie=2]="TvSerie",r[r.Music=3]="Music",r[r.Photo=4]="Photo",r[r.Other=5]="Other",r}(Ke||{}),nt=function(r){return r[r.None=1]="None",r[r.MPEGDASH=2]="MPEGDASH",r[r.HLS=3]="HLS",r}(nt||{}),Vt=function(r){return r[r.GET=0]="GET",r[r.POST=1]="POST",r[r.PUT=2]="PUT",r[r.DELETE=3]="DELETE",r}(Vt||{}),_n=function(r){return r[r.Empty=0]="Empty",r[r.Generated=1]="Generated",r[r.Initialized=2]="Initialized",r[r.LoadedMetada=3]="LoadedMetada",r[r.LoadedData=4]="LoadedData",r}(_n||{}),kt=function(r){return r[r.SinovadDb=1]="SinovadDb",r[r.TMDb=2]="TMDb",r[r.IMDb=3]="IMDb",r}(kt||{});let It=(()=>{class r{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.listProcessGUIDs=[],this.configurationData=new St,this.listProfiles=[],this.listMenus=[],this.mediaMenu=[],this.pageNotFoundShowing=!1,this.mediaServers=[],this.libraries=[],this.mediaServerHubConnections=[]}formatDate(e){const i=new Date(e);let o=""+(i.getMonth()+1),u=""+i.getDate();const m=i.getFullYear();return o.length<2&&(o="0"+o),u.length<2&&(u="0"+u),[m,o,u].join("-")}getInitials(e){return e.FullName.substring(0,1)}delay(e){return new Promise(i=>setTimeout(i,e))}hasRequireErrorFormControl(e,i){return!!e.controls[i].errors.required}isInvalidFormControl(e,i){return!(!e.controls[i].invalid||!e.controls[i].dirty&&!e.controls[i].touched)}hasErrorPatternFormControl(e,i){return!!e.controls[i].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemDetailMovieDataBase(e){return e.MediaItem.MetadataAgentsId==kt.TMDb?this.originalUrlImagesMovieDataBase+e.MediaItem.PosterPath:e.MediaItem.PosterPath}getUrlByItemMovieDataBase(e){return e.MetadataAgentsId==kt.TMDb?this.originalUrlImagesMovieDataBase+e.PosterPath:e.PosterPath}getYearByDateFormat(e){return new Date(e).getFullYear()}sort_by(e,i,o){let u=o?m=>o(m[e]):m=>m[e];return i=i?-1:1,(m,v)=>(m=u(m),v=u(v),i*(+(m>v)-+(v>m)))}validateEmailFormat(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Bt=(()=>{class r{constructor(e,i){this.http=e,this.sharedService=i}performExecuteMethod(e,i,o){return new Promise((u,m)=>{try{let v={responseType:"text"};if(this.sharedService.apiToken){const G=new U({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedService.apiToken});v.headers=G}e==Vt.GET&&this.http.get(i,v).subscribe(w=>{u(w)},w=>{m(w)}),e==Vt.POST&&this.http.post(i,o,v).subscribe(w=>{u(w)},w=>{m(w)}),e==Vt.PUT&&this.http.put(i,o,v).subscribe(w=>{u(w)},w=>{m(w)}),e==Vt.DELETE&&this.http.delete(i,v).subscribe(w=>{u(w)},w=>{m(w)})}catch(v){m(v)}})}executeSinovadApiService(e,i,o){let u=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+i;return new Promise((m,v)=>{try{this.performExecuteMethod(e,u,o).then(w=>{m(JSON.parse(w))},w=>{let G=w;if(null!=w.error){G=w.error;try{var te=JSON.parse(G);if(te.errors){let Ue=te.errors,Ge=[];Object.keys(Ue).map(tt=>{var ft=Ue[tt].join("\n");Ge.push(ft)}),G=Ge.join("\n")}else te.Errors?G=te.Errors.map(Ue=>Ue.ErrorMessage).join("\n"):te.Message&&(G=te.Message)}catch{}}401==w.status&&this.sharedService.apiToken&&(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(G),v(G)})}catch(w){v(w)}})}executeHttpMediaServerApi(e,i,o){return new Promise((u,m)=>{try{this.performExecuteMethod(e,i,o).then(v=>{try{u(JSON.parse(v))}catch(w){m(w)}},v=>{m(v)})}catch(v){m(v)}})}executeHttpMethodByUrl(e,i,o){return new Promise((u,m)=>{this.performExecuteMethod(e,i,o).then(v=>{u(v)},v=>{m(v)})})}executeHttpPostMethodWithFormData(e,i){let o=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+e;return new Promise((u,m)=>{let v={responseType:"text"};if(this.sharedService.apiToken){const G=new U({Accept:"*/*",Authorization:"Bearer "+this.sharedService.apiToken});v.headers=G}this.http.post(o,i,v).subscribe(w=>{u(w)},w=>{m(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(le),t.LFG(It))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function sn(r,n){if(1&r&&(t.TgZ(0,"div",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function bn(r,n){1&r&&t._UZ(0,"div",15)}const Bn=function(r){return{error:r}},ht=function(r){return{disable:r}};let rn=(()=>{class r{constructor(e,i,o){this.formBuilder=e,this.restProvider=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangePassword=new t.vpe,this.changePasswordForm=this.formBuilder.group({password:new Ft.NI("",[Ft.kI.required]),confirmPassword:new Ft.NI("",[Ft.kI.required]),currentPassword:new Ft.NI("",[Ft.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.restProvider.executeSinovadApiService(Vt.POST,"/users/ChangePassword",this.changePasswordData).then(e=>{this.loading=!1,this.closeChangePassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ft.qu),t.Y36(Bt),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:20,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",3,"ngClass"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,sn,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangePassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changePasword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",6)(16,"label"),t._uU(17),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11)(21,"span"),t._uU(22,"Guardar Cambios"),t.qZA(),t.YNc(23,bn,1,0,"div",12),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changePasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(12,Bn,o.sharedService.isInvalidFormControl(o.changePasswordForm,"password"))),t.xp6(2),t.hij(" Contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(14,Bn,o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirme la nueva contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(2),t.Q6J("ngClass",t.VKq(16,Bn,o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword"))),t.xp6(2),t.hij("Contrase\xf1a actual",o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),t.xp6(3),t.Q6J("ngClass",t.VKq(18,ht,o.loading)),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[p.mk,p.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-top:2px solid rgba(0,0,0,.3);background:rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button.disable[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function ve(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!1)}),t.TgZ(1,"div",3)(2,"div",8)(3,"button",9),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",4)(6,"label"),t._uU(7,"Contrase\xf1a"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"*********"),t.qZA()()()()}}function lt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-password",10),t.NdJ("closeChangePassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}let it=(()=>{class r{constructor(e,i){this.router=e,this.sharedService=i,this.isCollapsedChangePasswordSection=!0}ngOnInit(){null==this.sharedService.apiToken&&this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-account"]],decls:20,vars:4,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangePassword",4,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangePassword"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cuenta"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"label"),t._uU(8,"Nombre de Usuario"),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA()()()(),t.TgZ(11,"div",2)(12,"div",3)(13,"div",4)(14,"label"),t._uU(15,"Correo electr\xf3nico"),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA()()()(),t.YNc(18,ve,10,0,"div",5),t.YNc(19,lt,1,0,"app-change-password",6),t.qZA()),2&i&&(t.xp6(10),t.Oqu(o.sharedService.userData.UserName),t.xp6(7),t.Oqu(o.sharedService.userData.Email),t.xp6(1),t.Q6J("ngIf",o.isCollapsedChangePasswordSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection))},dependencies:[p.O5,rn],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-top:2px solid rgba(0,0,0,.3)}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%]{color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]:hover{background-color:#00000026}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container.showing[_ngcontent-%COMP%]{background:rgba(0,0,0,.3)}"]})}return r})();class At{}var Kt=C(1476),vn=C(7700);const Ui=function(r){return{disabled:r}};let Si=(()=>{class r{constructor(e,i){this.dialog=e,this.options=i}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(vn.so),t.Y36(vn.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return o.closeDialog()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",10),t._UZ(14,"input",11,12),t._uU(16),t.qZA()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return o.closeDialog()}),t._uU(20,"Cancelar"),t.qZA(),t.TgZ(21,"button",16),t.NdJ("click",function(){return o.confirmDialog()}),t.TgZ(22,"span",17),t._uU(23,"Eliminar"),t.qZA()()()()()()()()()),2&i){const u=t.MAs(15);t.xp6(8),t.hij(" ",o.options.title," "),t.xp6(4),t.Oqu(o.options.message),t.xp6(4),t.hij("",o.options.accordMessage," "),t.xp6(5),t.Q6J("ngClass",t.VKq(4,Ui,!u.checked))}},dependencies:[p.mk,vn.uh,vn.xY,vn.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();var ki=C(8337),Cn=C(5313);class Cr{constructor(n){this.matPaginatorIntl=n,this.showLoading=!0,this.dataSource=new Cn.by,this.selection=new ki.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(n){this.itemsPerPage=n.pageSize,this.currentPage=n.pageIndex+1}getElementNumber(n,e,i){return n+1+(e-1)*i}onChangeCheckValue(n,e){let i=n.target.checked;if(i?this.selection.select(e):this.selection.deselect(e),n.shiftKey&&this.lastSelectedItem){let u=0;this.selection.hasValue()&&this.lastSelectedItem&&(u=this.listItems.indexOf(this.lastSelectedItem));let m=this.listItems.indexOf(e);if(i){var o;(o=this.listItems.filter(m>=u?v=>this.listItems.indexOf(v)<=m&&this.listItems.indexOf(v)>=u&&!this.selection.isSelected(v):v=>this.listItems.indexOf(v)>=m&&this.listItems.indexOf(v)<=u&&!this.selection.isSelected(v)))&&o.length>0&&this.selection.select(...o)}else{let v=[];v=this.listItems.filter(m>=u?w=>this.listItems.indexOf(w)<=m&&this.listItems.indexOf(w)>=u&&this.selection.isSelected(w):w=>this.listItems.indexOf(w)>=m&&this.listItems.indexOf(w)<=u&&this.selection.isSelected(w)),v&&v.length>0&&this.selection.deselect(...v)}}this.lastSelectedItem=e}}var Di=C(3566),Vr=C(2939);function ui(r,n){1&r&&t._UZ(0,"i",4)}function er(r,n){1&r&&t._UZ(0,"i",5)}function _r(r,n){1&r&&t._UZ(0,"i",6)}const kr=function(r,n,e){return{success:r,info:n,error:e}};var $n=function(r){return r[r.Success=1]="Success",r[r.Error=2]="Error",r[r.Info=3]="Info",r}($n||{});let io=(()=>{class r{constructor(e){this.toastOptions=e,this.snackBarRef=(0,t.f3M)(Vr.OX)}SnackBarType(){return $n}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vr.qD))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[t.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,ui,1,0,"i",1),t.YNc(2,er,1,0,"i",2),t.YNc(3,_r,1,0,"i",3),t._uU(4),t.qZA()),2&i&&(t.Q6J("ngClass",t.kEZ(5,kr,o.toastOptions.snackBarType==o.SnackBarType().Success,o.toastOptions.snackBarType==o.SnackBarType().Info,o.toastOptions.snackBarType==o.SnackBarType().Error)),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Success),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Info),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Error),t.xp6(1),t.hij(" ",o.toastOptions.message,"\n"))},dependencies:[Vr.ZX,p.ez,p.mk,p.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return r})();class Qi{isErrorState(n,e){return!!(n&&n.invalid&&(n.dirty||n.touched||e&&e.submitted))}}var Do=C(6232),Xi=C(8645),li=C(2438),Wn=C(4825),ai=C(4829);const{isArray:Ni}=Array;function vr(r){return 1===r.length&&Ni(r[0])?r[0]:r}var tr=C(8251);C(3019);var hn=C(9940);function Nn(...r){const n=(0,hn.jO)(r),e=vr(r);return e.length?new b.y(i=>{let o=e.map(()=>[]),u=e.map(()=>!1);i.add(()=>{o=u=null});for(let m=0;!i.closed&&m<e.length;m++)(0,ai.Xf)(e[m]).subscribe((0,tr.x)(i,v=>{if(o[m].push(v),o.every(w=>w.length)){const w=o.map(G=>G.shift());i.next(n?n(...w):w),o.some((G,te)=>!G.length&&u[te])&&i.complete()}},()=>{u[m]=!0,!o[m].length&&i.complete()}));return()=>{o=u=null}}):Do.E}var Ln=C(5211),Qn=C(9773),si=C(8180),ci=C(9397),wi=C(9360),yr=C(2737),Pr=C(2420);function hr(...r){const n=(0,hn.jO)(r);return(0,wi.e)((e,i)=>{const o=r.length,u=new Array(o);let m=r.map(()=>!1),v=!1;for(let w=0;w<o;w++)(0,ai.Xf)(r[w]).subscribe((0,tr.x)(i,G=>{u[w]=G,!v&&!m[w]&&(m[w]=!0,(v=m.every(yr.y))&&(m=null))},Pr.Z));e.subscribe((0,tr.x)(i,w=>{if(v){const G=[w,...u];i.next(n?n(...G):G)}}))})}C(6321),C(975),C(1631),C(7921),C(3997),C(836),Math,Math,Math;const eu=["*"],Mt=["dialog"];function Ol(r){return"string"==typeof r}function Pl(r){return null!=r}function Er(r){return(r||document.body).getBoundingClientRect()}const Qo={animation:!0,transitionTimerDelayMs:5},Uc=()=>{},{transitionTimerDelayMs:wp}=Qo,Da=new Map,Jr=(r,n,e,i)=>{let o=i.context||{};const u=Da.get(n);if(u)switch(i.runningTransition){case"continue":return Do.E;case"stop":r.run(()=>u.transition$.complete()),o=Object.assign(u.context,o),Da.delete(n)}const m=e(n,i.animation,o)||Uc;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return r.run(()=>m()),(0,E.of)(void 0).pipe(function CE(r){return n=>new b.y(e=>n.subscribe({next:m=>r.run(()=>e.next(m)),error:m=>r.run(()=>e.error(m)),complete:()=>r.run(()=>e.complete())}))}(r));const v=new Xi.x,w=new Xi.x,G=v.pipe(function ti(...r){return n=>(0,Ln.z)(n,(0,E.of)(...r))}(!0));Da.set(n,{transition$:v,complete:()=>{w.next(),w.complete()},context:o});const te=function DE(r){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(r);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return r.runOutsideAngular(()=>{const ye=(0,li.R)(n,"transitionend").pipe((0,Qn.R)(G),(0,L.h)(({target:Ge})=>Ge===n));(function nr(...r){return 1===(r=vr(r)).length?(0,ai.Xf)(r[0]):new b.y(function Fr(r){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<r.length;i++)e.push((0,ai.Xf)(r[i]).subscribe((0,tr.x)(n,o=>{if(e){for(let u=0;u<e.length;u++)u!==i&&e[u].unsubscribe();e=null}n.next(o)})))}}(r))})((0,Wn.H)(te+wp).pipe((0,Qn.R)(G)),ye,w).pipe((0,Qn.R)(G)).subscribe(()=>{Da.delete(n),r.run(()=>{m(),v.next(),v.complete()})})}),v.asObservable()};let mh=(()=>{class r{constructor(){this.animation=Qo.animation}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var dr=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}(dr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const oo=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function kl(r){const n=Array.from(r.querySelectorAll(oo)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class za{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let d_=(()=>{class r{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,si.q)(1)).subscribe(()=>{Jr(this._zone,this._el.nativeElement,(e,i)=>{i&&Er(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Jr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(t.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),t.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return r})();class Eo{update(n){}close(n){}dismiss(n){}}const tT=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],nT=["animation","backdropClass"];class iT{_applyWindowOptions(n,e){tT.forEach(i=>{Pl(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){nT.forEach(i=>{Pl(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Qn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Qn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Xi.x,this._dismissed=new Xi.x,this._hidden=new Xi.x,n.instance.dismissEvent.subscribe(u=>{this.dismiss(u)}),this.result=new Promise((u,m)=>{this._resolve=u,this._reject=m}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function EE(r){return r&&r.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,E.of)(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Nn(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Gl=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(Gl||{});let da=(()=>{class r{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new Xi.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new Xi.x,this.hidden=new Xi.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ol(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,si.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},m=Nn(Jr(this._zone,e,()=>e.classList.remove("show"),i),Jr(this._zone,this._dialogEl.nativeElement,()=>{},i));return m.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),m}_show(){const e={animation:this.animation,runningTransition:"continue"};Nn(Jr(this._zone,this._elRef.nativeElement,(u,m)=>{m&&Er(u),u.classList.add("show")},e),Jr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{(0,li.R)(e,"keydown").pipe((0,Qn.R)(this._closed$),(0,L.h)(o=>o.which===dr.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Gl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;(0,li.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Qn.R)(this._closed$),(0,ci.b)(()=>i=!1),(0,h.w)(()=>(0,li.R)(e,"mouseup").pipe((0,Qn.R)(this._closed$),(0,si.q)(1))),(0,L.h)(({target:o})=>e===o)).subscribe(()=>{i=!0}),(0,li.R)(e,"click").pipe((0,Qn.R)(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Gl.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=kl(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Jr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(p.K0),t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&t.Gf(Mt,7),2&i){let u;t.iGM(u=t.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){2&i&&(t.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),t.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),t.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[t.jDz],ngContentSelectors:eu,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){1&i&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&i&&t.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),$c=(()=>{class r{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:u,paddingRight:m}=o;if(e>0){const v=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${v+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=m),o.overflow=u}}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(p.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),u_=(()=>{class r{constructor(e,i,o,u,m,v,w){this._applicationRef=e,this._injector=i,this._environmentInjector=o,this._document=u,this._scrollBar=m,this._rendererFactory=v,this._ngZone=w,this._activeWindowCmptHasChanged=new Xi.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const G=this._windowCmpts[this._windowCmpts.length-1];((r,n,e,i=!1)=>{r.runOutsideAngular(()=>{const o=(0,li.R)(n,"focusin").pipe((0,Qn.R)(e),(0,x.U)(u=>u.target));(0,li.R)(n,"keydown").pipe((0,Qn.R)(e),(0,L.h)(u=>u.which===dr.Tab),hr(o)).subscribe(([u,m])=>{const[v,w]=kl(n);(m===v||m===n)&&u.shiftKey&&(w.focus(),u.preventDefault()),m===w&&!u.shiftKey&&(v.focus(),u.preventDefault())}),i&&(0,li.R)(n,"click").pipe((0,Qn.R)(e),hr(o),(0,x.U)(u=>u[1])).subscribe(u=>u.focus())})})(this._ngZone,G.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(G.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const u=o.container instanceof HTMLElement?o.container:Pl(o.container)?this._document.querySelector(o.container):this._document.body,m=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const v=new Eo,w=(e=o.injector||e).get(t.lqb,null)||this._environmentInjector,G=this._getContentRef(e,w,i,v,o);let te=!1!==o.backdrop?this._attachBackdrop(u):void 0,ye=this._attachWindowComponent(u,G.nodes),Ue=new iT(ye,G,te,o.beforeDismiss);return this._registerModalRef(Ue),this._registerWindowCmpt(ye),Ue.hidden.pipe((0,si.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),v.close=Ge=>{Ue.close(Ge)},v.dismiss=Ge=>{Ue.dismiss(Ge)},v.update=Ge=>{Ue.update(Ge)},Ue.update(o),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),te&&te.instance&&te.changeDetectorRef.detectChanges(),ye.changeDetectorRef.detectChanges(),Ue}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,t.LMc)(d_,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=(0,t.LMc)(da,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,u,m){return o?o instanceof t.Rgc?this._createFromTemplateRef(o,u):Ol(o)?this._createFromString(o):this._createFromComponent(e,i,o,u,m):new za([])}_createFromTemplateRef(e,i){const u=e.createEmbeddedView({$implicit:i,close(m){i.close(m)},dismiss(m){i.dismiss(m)}});return this._applicationRef.attachView(u),new za([u.rootNodes],u)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new za([[i]])}_createFromComponent(e,i,o,u,m){const v=t.zs3.create({providers:[{provide:Eo,useValue:u}],parent:e}),w=(0,t.LMc)(o,{environmentInjector:i,elementInjector:v}),G=w.location.nativeElement;return m.scrollable&&G.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new za([[G]],w.hostView,w)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(t.lqb),t.LFG(p.K0),t.LFG($c),t.LFG(t.FYo),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),f_=(()=>{class r{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(mh))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Io=(()=>{class r{constructor(e,i,o){this._injector=e,this._modalStack=i,this._config=o}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.zs3),t.LFG(u_),t.LFG(f_))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();new t.OlP("live announcer delay",{providedIn:"root",factory:function Xc(){return 100}});let Nr=(()=>{class r{constructor(e){this.snackBar=e}showSnackBar(e,i){var o=new Vr.u_;o.duration=2e3,o.data={message:e,snackBarType:i},this.snackBar.openFromComponent(io,o)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Vr.ux))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Uu,F_=new Uint8Array(16);function Jh(){if(!Uu&&!(Uu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Uu(F_)}const ju=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var so=[],Vu=0;Vu<256;++Vu)so.push((Vu+256).toString(16).substr(1));const MT=function YM(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(so[r[n+0]]+so[r[n+1]]+so[r[n+2]]+so[r[n+3]]+"-"+so[r[n+4]]+so[r[n+5]]+"-"+so[r[n+6]]+so[r[n+7]]+"-"+so[r[n+8]]+so[r[n+9]]+"-"+so[r[n+10]]+so[r[n+11]]+so[r[n+12]]+so[r[n+13]]+so[r[n+14]]+so[r[n+15]]).toLowerCase();if(!function xT(r){return"string"==typeof r&&ju.test(r)}(e))throw TypeError("Stringified UUID is invalid");return e},To=function ed(r,n,e){var i=(r=r||{}).random||(r.rng||Jh)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(var o=0;o<16;++o)n[e+o]=i[o];return n}return MT(i)};let ua=(()=>{class r{constructor(e){this.restProvider=e}getAllGenres(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Vt.GET,"/genres/GetAllAsync").then(o=>{e(o)},o=>{console.error(o),i(o)})})}getItems(e,i,o,u,m,v){return new Promise((w,G)=>{let te=To();this.lastCallGuid=te;var ye="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Vt.GET,"/genres/GetAllWithPaginationAsync"+ye).then(Ge=>{this.lastCallGuid==te&&w(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Vt.PUT:Vt.POST,e.Id>0?"/genres/Update":"/genres/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.DELETE,"/genres/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let u=[];for(let w=0;w<e.length;w++)u.push(e[w].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(Vt.DELETE,"/genres/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function td(r,n){1&r&&(t.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),t.qZA()()()()())}let Bo=(()=>{class r{constructor(e,i){this.ref=e,this.viewContainerRef=i,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(t.s_b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(i,o){1&i&&t.YNc(0,td,17,0,"div",0),2&i&&t.Q6J("ngIf",o.showLoading)},dependencies:[p.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return r})();var Wr=C(2032),gi=C(9157);function AT(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function wT(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,AT,4,0,"mat-error",8),t.qZA()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",11),t._uU(16,"Guardar"),t.qZA()()(),t._UZ(17,"app-custom-spinner",12)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.genreFormGroup),t.xp6(3),t.Oqu(e.genre&&e.genre.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.genreFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.genreFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let U_=(()=>{class r{constructor(e,i,o,u){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.genreService=u,this.showLoading=!1,this.matcher=new Qi}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new Ft.NI(this.genre.Name,[Ft.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.genre));e.Name=this.genreFormGroup.value.name,this.genreService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",$n.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ft.qu),t.Y36(Eo),t.Y36(Nr),t.Y36(ua))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,wT,18,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.genre&&o.genreFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u,Bo,p.O5,Wr.Nt,gi.KE,gi.hX,gi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();var Vs=C(5986),Es=C(5940),Ts=C(2596);function j_(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function KM(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Qh(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function Wl(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function Gu(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function V_(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function G_(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function IT(r,n){1&r&&t._UZ(0,"th",41)}function OT(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function PT(r,n){1&r&&t._UZ(0,"tr",47)}function RT(r,n){1&r&&t._UZ(0,"tr",48)}function H_(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function NT(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,H_,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const Y_=function(r){return{disable:r}},zl=function(){return[5,10,25,100]};let Gs=(()=>{class r extends Cr{constructor(e,i,o,u,m,v){super(u),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=u,this.snackbarService=m,this.genreService=v,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing")}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new At;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(U_,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.genre=e,o.closed.subscribe(u=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new vn.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(Si,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.genreService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Si,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,$n.Error)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(Io),t.Y36(vn.uw),t.Y36(Kt.ye),t.Y36(Nr),t.Y36(ua))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Kt.NW,5),t.Gf(Di.YE,5)),2&i){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," G\xe9neros"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,j_,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,KM,2,2,"th",17),t.YNc(25,Qh,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Wl,2,0,"th",20),t.YNc(28,Gu,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,V_,2,0,"th",23),t.YNc(31,G_,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,IT,1,0,"th",26),t.YNc(34,OT,6,0,"td",27),t.BQk(),t.YNc(35,PT,1,0,"tr",28),t.YNc(36,RT,1,0,"tr",29),t.YNc(37,NT,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,Y_,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,zl)))},dependencies:[p.mk,p.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Wr.Nt,gi.KE,gi.hX,Di.YE,Di.nU,Vs.oG,Es.Ou,Ts.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return r})();function Xh(r,n,e,i,o,u,m){try{var v=r[u](m),w=v.value}catch(G){return void e(G)}v.done?n(w):Promise.resolve(w).then(i,o)}function gr(r){return function(){var n=this,e=arguments;return new Promise(function(i,o){var u=r.apply(n,e);function m(w){Xh(u,i,o,m,v,"next",w)}function v(w){Xh(u,i,o,m,v,"throw",w)}m(void 0)})}}var LT=C(4440),Zl=C.n(LT);let WM=(()=>{class r{constructor(e){this.restProvider=e}getDirectoriesByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMethodByUrl(Vt.GET,e+"/api/directories").then(u=>{i(u)},u=>{console.error(u),o(u)})})}getSubdirectoriesByMediaServerAndDirectoryPath(e,i){return new Promise((o,u)=>{var m=Zl().encode(i);this.restProvider.executeHttpMethodByUrl(Vt.GET,e+"/api/directories/"+m).then(v=>{o(v)},v=>{console.error(v),u(v)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const em=function(r){return{"sinovad-directory-selected":r}};function K_(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickMainDirectory(u))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,em,i.selectedMainDirectory&&e.name==i.selectedMainDirectory.name)),t.xp6(1),t.hij(" ",e.name," ")}}function zM(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickBackFolder())}),t._uU(1," <= .. [Regresar] "),t.qZA()}}function W_(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickSubDirectory(u))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,em,i.selectedSubdirectory&&e.name==i.selectedSubdirectory.name)),t.xp6(1),t.hij(" ",e.name," ")}}let nd=(()=>{class r{constructor(e,i){this.directoryService=e,this.activeModal=i,this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(e=>{this.listMainDirectories=JSON.parse(e);let i=this.listMainDirectories[0];this.selectedMainDirectory=i,this.getSubdirectoriesByPath(i)})}getSubdirectoriesByPath(e){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,e.path).then(i=>{this.listSubdirectoriesTmp=JSON.parse(i)},i=>{console.error(i)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.path:this.selectedMainDirectory.path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.parentDirectory.isMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.parentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(e){this.selectedMainDirectory=e,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(e){if(null==this.selectedSubdirectory)this.selectedSubdirectory=e,this.selectedSubdirectory.parentDirectory=this.selectedMainDirectory;else{let i=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=e,this.selectedSubdirectory.parentDirectory=i}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(WM),t.Y36(Eo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2,"Seleccionar directorio"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.closeModal()}),t._UZ(4,"i",3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6),t.YNc(8,K_,2,4,"ng-template",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,zM,2,0,"button",9),t.YNc(11,W_,2,4,"ng-template",7),t.qZA()()(),t.TgZ(12,"div",10)(13,"button",11),t.NdJ("click",function(){return o.closeModal()}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",12),t.NdJ("click",function(){return o.saveDirectory()}),t._uU(16,"Guardar"),t.qZA()()),2&i&&(t.xp6(8),t.Q6J("ngForOf",o.listMainDirectories),t.xp6(2),t.Q6J("ngIf",o.selectedSubdirectory),t.xp6(1),t.Q6J("ngForOf",o.listSubdirectoriesTmp))},dependencies:[p.mk,p.sg,p.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return r})();class z_{}let Z_=(()=>{class r{constructor(e){this.restProvider=e}getByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMediaServerApi(Vt.GET,e+"/api/transcoderSettings/GetAsync").then(m=>{i(m.Data)},m=>{console.error(m),o(m)})})}saveItem(e,i){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(i.Id>0?Vt.PUT:Vt.POST,e+"/api"+(i.Id>0?"/transcoderSettings/Update":"/transcoderSettings/Create"),i).then(w=>{o(!0)},w=>{console.error(w),u(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function $_(r,n){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}function Ci(r,n){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}const q_=function(r,n){return{load:r,disable:n}};function J_(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"form",6),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveTranscoder())}),t.TgZ(9,"div",5)(10,"label",7),t._uU(11,"M\xe9todo de transmisi\xf3n"),t.qZA(),t.TgZ(12,"select",8),t.YNc(13,$_,2,2,"ng-template",9),t.qZA(),t.TgZ(14,"p",10),t._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),t.qZA()(),t.TgZ(16,"div",5)(17,"label",7),t._uU(18,"Carpeta temporal para el transcodificador"),t.qZA(),t.TgZ(19,"input",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.TgZ(20,"p",10),t._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),t.qZA()(),t.TgZ(22,"div",5)(23,"label",7),t._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),t.qZA(),t.TgZ(25,"select",12),t.YNc(26,Ci,2,2,"ng-template",9),t.qZA(),t.TgZ(27,"p",10),t._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),t.qZA()(),t.TgZ(29,"div",5)(30,"label",7),t._uU(31,"Factor de Tasa Constante"),t.qZA(),t._UZ(32,"input",13),t.TgZ(33,"p",10),t._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),t.qZA()(),t.TgZ(35,"div",14)(36,"button",15),t._UZ(37,"div",16),t.TgZ(38,"span",17),t._uU(39,"Guardar cambios"),t.qZA()(),t._UZ(40,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Transcodificador"),t.xp6(6),t.Q6J("formGroup",e.customForm),t.xp6(5),t.Q6J("ngForOf",e.transmissionMethodList),t.xp6(13),t.Q6J("ngForOf",e.presetList),t.xp6(10),t.Q6J("ngClass",t.WLB(5,q_,e.loading,e.customForm.pristine||e.customForm.invalid))}}let kT=(()=>{class r{constructor(e,i,o,u,m,v,w,G){this.transcoderSettingsService=e,this.modalService=i,this.snackBarService=o,this.formBuilder=u,this.router=m,this.activeRoute=v,this.restProvider=w,this.sharedService=G,this.transmissionMethodList=[],this.presetList=[],this.loading=!1}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing"),this.getCatalogDetails(),this.getMediaServerData()}getCatalogDetails(){this.restProvider.executeSinovadApiService(Vt.GET,"/catalogs/GetAllCatalogDetailsWithPaginationByCatalogIdsAsync?catalogIds="+st.TranscoderPreset+","+st.VideoTransmissionType).then(i=>{let o=i.Data;this.transmissionMethodList=o.filter(u=>u.CatalogId==st.VideoTransmissionType),this.presetList=o.filter(u=>u.CatalogId==st.TranscoderPreset)},i=>{console.error(i)})}ngAfterViewInit(){}getMediaServerData(){var e=this;return gr(function*(){e.restProvider.executeSinovadApiService(Vt.GET,"/mediaServers/GetByGuidAsync/"+e.activeRoute.snapshot.params.serverGuid).then(o=>{e.mediaServer=o.Data,e.getTranscoderSettingss()},o=>{e.router.navigateByUrl("/404")})})()}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(e=>{if(this.currentTranscoderSettingss=e,null==this.currentTranscoderSettingss){var i=new z_;i.TemporaryFolder="",i.ConstantRateFactor=18,i.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=i}this.customForm=this.formBuilder.group({temporaryFolder:new Ft.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new Ft.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new Ft.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new Ft.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},e=>{console.error(e)})}saveTranscoder(){this.loading=!0;var e=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));e.TemporaryFolder=this.customForm.value.temporaryFolder,e.ConstantRateFactor=this.customForm.value.constantRateFactor,e.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,e.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,e).then(i=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",$n.Success)},i=>{this.loading=!1,this.snackBarService.showSnackBar(i,$n.Error),console.error(i)})}showChooserDirectoryModal(){var e=this,i=this.modalService.open(nd,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.mediaServer=this.sharedService.selectedMediaServer,i.closed.subscribe(o=>{e.customForm.controls.temporaryFolder.setValue(o),e.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Z_),t.Y36(Io),t.Y36(Nr),t.Y36(Ft.qu),t.Y36(In.F0),t.Y36(In.gz),t.Y36(Bt),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-transcode-settings"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"save",3,"ngClass"],[1,"loading"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"]],template:function(i,o){1&i&&t.YNc(0,J_,41,8,"div",0),2&i&&t.Q6J("ngIf",o.customForm)},dependencies:[p.mk,p.sg,p.O5,Ft._Y,Ft.YN,Ft.Kr,Ft.Fj,Ft.EJ,Ft.JJ,Ft.JL,Ft.sg,Ft.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.load[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{animation:auto;border-color:#cc7b19 transparent transparent #cc7b19;border-radius:50%;border-style:solid;border-width:2px;height:16px;margin:-8px 0 0 -8px;width:16px;border-left-color:#fff;border-top-color:#fff;left:-12px;position:absolute;top:50%;transition:left .2s;visibility:hidden;z-index:1}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return r})(),Oo=(()=>{class r{constructor(e,i){this.domSanitizer=e,this.sharedService=i}transform(e,...i){return new Promise((o,u)=>{let v;switch(null!=i[0]?i[0]:""){case"GetImageURLByKey":null!=e&&""!=e&&(v=this.sharedService.configurationData.developerMode?"assets/icon/"+e:this.sharedService.urlSinovadCdn+"/assets/icon/"+e,o(v));break;case"GetAvatarImageURLByProfileId":null!=e&&""!=e&&fetch(this.sharedService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+e).then(G=>G.blob()).then(G=>{v=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(G)),o(v)});break;case"GetSoundUrlByKey":null!=e&&""!=e&&(v=this.sharedService.configurationData.developerMode?"assets/sound/"+e:this.sharedService.urlSinovadCdn+"/assets/sound/"+e,o(v))}})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(c.H7,16),t.Y36(It,16))};static#t=this.\u0275pipe=t.Yjl({name:"formatDataPipe",type:r,pure:!0})}return r})(),tm=(()=>{class r{constructor(e,i){this.router=e,this.sharedService=i}ngOnInit(){this.sharedService.pageNotFoundShowing=!0}goInitialPage(){this.router.navigateByUrl(null!=this.sharedService.apiToken?"/home":"/landing").then(i=>{this.sharedService.pageNotFoundShowing=!1},i=>{console.error(i)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"p",4),t._uU(7,"No encontramos la p\xe1gina que esta buscando"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return o.goInitialPage()}),t._uU(11,"Inicio"),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))},dependencies:[p.Ov,Oo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return r})();class FT{}function BT(r,n){if(1&r&&(t.TgZ(0,"h2",9),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMessage)}}function Q_(r,n){1&r&&(t.TgZ(0,"h2"),t._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),t.qZA())}let X_=(()=>{class r{constructor(e,i,o){this.router=e,this.activeRoute=i,this.restProvider=o,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1});let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let u=Zl().decode(e);var i=JSON.parse(u);if(i.ConfirmEmailToken){this.showLoading=!0;var o=new FT;o.ConfirmEmailToken=i.ConfirmEmailToken,o.UserId=i.UserId,this.restProvider.executeSinovadApiService(Vt.POST,"/users/ValidateConfirmEmailToken",o).then(m=>{this.showLoading=!1,this.showSuccessMessage=!0},m=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=m,console.error(m)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(In.gz),t.Y36(Bt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Confirmaci\xf3n de Email "),t.qZA(),t.YNc(14,BT,2,1,"ng-template",8),t.YNc(15,Q_,2,0,"ng-template",8),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("src",t.lcZ(3,4,t.xi3(4,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("src",t.lcZ(10,9,t.xi3(11,11,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",o.showInvalidTokenMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage))},dependencies:[p.O5,p.Ov,Oo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return r})();class ev{}class UT{}function jT(r,n){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function ZM(r,n){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const tv=function(r){return{disable:r}};function nv(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirm())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Cambiar contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Contrase\xf1a "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,jT,3,0,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"label",13),t._uU(16," Confirmaci\xf3n de contrase\xf1a "),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",17),t.YNc(19,ZM,3,0,"label",16),t.qZA()(),t.TgZ(20,"div",12)(21,"button",18),t._uU(22,"Confirmar"),t.qZA()(),t.TgZ(23,"div",19),t._uU(24),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.resetPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,6,t.xi3(5,8,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"password")),t.xp6(6),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(11,tv,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function wa(r,n){1&r&&(t.TgZ(0,"div",11),t._uU(1," Cambio de contrase\xf1a "),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),t.qZA())}function $l(r,n){1&r&&(t.TgZ(0,"div",11),t._uU(1," Validaci\xf3n de Token "),t.qZA(),t.TgZ(2,"h2",25),t._uU(3,"Token inv\xe1lido"),t.qZA())}function iv(r,n){if(1&r&&(t.TgZ(0,"div",22)(1,"div",23)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,wa,4,0,"ng-template",24),t.YNc(7,$l,4,0,"ng-template",24),t.qZA()()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",e.showResetPasswordSuccessMessage),t.xp6(1),t.Q6J("ngIf",e.showInvalidTokenMessage)}}let rv=(()=>{class r{constructor(e,i,o,u,m){this.formBuilder=e,this.router=i,this.activeRoute=o,this.restProvider=u,this.sharedService=m,this._window=window,this.showLoading=!1,this.resetPasswordModel=new ev,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new Ft.NI("",[Ft.kI.required]),confirmPassword:new Ft.NI("",[Ft.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1});let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let u=Zl().decode(e);var i=JSON.parse(u);if(this.resetPasswordToken=i.ResetPasswordToken,this.userId=i.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var o=new UT;o.ResetPasswordToken=this.resetPasswordToken,o.UserId=this.userId,this.restProvider.executeSinovadApiService(Vt.POST,"/users/ValidateResetPasswordToken",o).then(m=>{this.showResetPasswordForm=!0,this.showLoading=!1},m=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=m,console.error(m)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.restProvider.executeSinovadApiService(Vt.POST,"/users/ResetPassword",this.resetPasswordModel).then(e=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ft.qu),t.Y36(In.F0),t.Y36(In.gz),t.Y36(Bt),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClickCloseButton()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,nv,25,13,"div",5),t.YNc(8,iv,8,8,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",o.showResetPasswordForm),t.xp6(1),t.Q6J("ngIf",!o.showResetPasswordForm&&(o.showInvalidTokenMessage||o.showResetPasswordSuccessMessage)),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[p.mk,p.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Bo,Ft.sg,Ft.u,p.Ov,Oo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class Hu{}function ql(r,n){if(1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const nm=function(r){return{disable:r}};function id(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SendRecoverPasswordEmail())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Olvido su contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,ql,3,1,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"button",17),t._uU(16,"Recuperar contrase\xf1a"),t.qZA()(),t.TgZ(17,"div",18),t._uU(18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.recoverPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,5,t.xi3(5,7,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.recoverPasswordForm,"email")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,nm,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function ov(r,n){1&r&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))}let Yu=(()=>{class r{constructor(e,i,o,u){this.formBuilder=e,this.router=i,this.restProvider=o,this.sharedService=u,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new Hu,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new Ft.NI("",[Ft.kI.required,Ft.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.restProvider.executeSinovadApiService(Vt.POST,"/users/RecoverPassword",this.recoverPasswordModel).then(e=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ft.qu),t.Y36(In.F0),t.Y36(Bt),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,id,19,12,"div",5),t.YNc(8,ov,10,6,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",!o.sendedConfirmationEmail),t.xp6(1),t.Q6J("ngIf",o.sendedConfirmationEmail),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[p.mk,p.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Bo,Ft.sg,Ft.u,p.Ov,Oo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class im{}class Ku{}class rm{}let ds=(()=>{class r{constructor(e){this.restProvider=e,this.updateLibraries$=new Xi.x}updateLibraries(){this.updateLibraries$.next(!0)}isUpdatingLibraries(){return this.updateLibraries$.asObservable()}getLibrariesByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMediaServerApi(Vt.GET,e+"/api/libraries/GetAllLibraries").then(m=>{i(m.Data)},m=>{o(m)})})}saveItem(e,i){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(i.Id>0?Vt.PUT:Vt.POST,e+"/api"+(i.Id>0?"/libraries/Update":"/libraries/Create"),i).then(w=>{o(!0)},w=>{console.error(w),u(w)})})}deleteItem(e,i){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(Vt.DELETE,e+"/api/libraries/Delete/"+i).then(v=>{o(v)},v=>{console.error(v),u(v)})})}deleteItems(e,i){return new Promise((o,u)=>{let m=[];for(let G=0;G<i.length;G++)m.push(i[G].Id);var v=m.join(",");this.restProvider.executeHttpMediaServerApi(Vt.DELETE,e+"/api/libraries/DeleteList/"+v).then(G=>{o(G)},G=>{console.error(G),u(G)})})}searchFiles(e,i){return new Promise((o,u)=>{let m=To();this.restProvider.executeHttpMediaServerApi(Vt.POST,e+"/api/libraries/SearchFiles",{Listlibraries:i,LogIdentifier:m}).then(G=>{o(G)},G=>{console.error(G),u(G)})})}getAllMediaItemsBySearchQuery(e,i){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(Vt.GET,e+"/api/libraries/GetAllMediaItemsBySearchQuery?searchQuery="+i).then(v=>{o(v.Data)},v=>{u(v)})})}getAllMediaItems(e,i){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(Vt.GET,e+"/api/libraries/GetAllMediaItems?profileId="+i).then(v=>{o(v.Data)},v=>{u(v)})})}getMediaItemsByLibrary(e,i,o){return new Promise((u,m)=>{this.restProvider.executeHttpMediaServerApi(Vt.GET,e+"/api/libraries/GetMediaItemsByLibrary?libraryId="+i+"&profileId="+o).then(w=>{u(w.Data)},w=>{m(w)})})}getMediaItemsByMediaType(e,i,o){return new Promise((u,m)=>{this.restProvider.executeHttpMediaServerApi(Vt.GET,e+"/api/libraries/GetMediaItemsByMediaType?mediaTypeId="+i+"&profileId="+o).then(w=>{u(w.Data)},w=>{m(w)})})}getMediaItemDetail(e,i){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(Vt.GET,e+"/api/libraries/GetMediaItemDetail/"+i).then(v=>{o(v.Data)},v=>{u(v)})})}GetMediaItemDetailByMediaFileAndProfile(e,i,o){return new Promise((u,m)=>{this.restProvider.executeHttpMediaServerApi(Vt.GET,e+"/api/libraries/GetMediaItemDetailByMediaFileAndProfile?mediaFileId="+i+"&profileId="+o).then(w=>{u(w.Data)},w=>{m(w)})})}updateMediaFilePlayback(e,i){return new Promise((o,u)=>{this.restProvider.executeHttpMediaServerApi(Vt.PUT,e+"/api/libraries/UpdateMediaFilePlayback",i).then(v=>{o(v.Data)},v=>{u(v)})})}CreateBuilderVideoFromItem(e,i,o){let u=To();var m=e.ListMediaFiles[0],v=new Ku;v.VideoId=m.Id,v.Title=e.MediaItem.ExtendedTitle,v.PhysicalPath=m.PhysicalPath,v.MediaServerId=i.Id,v.MediaServerUrl=i.Url,v.CurrentTime=o||0,v.ProcessGUID=u,v.TimeSpan=v.CurrentTime?v.CurrentTime.toString():"0";var w=new rm;return w.TranscodePrepareVideo=v,w.ItemDetail=e,w}CreateBuilderVideoFromEpisode(e,i,o,u){var m=this.GetTranscodeVideoFromEpisode(e,i,o,u);e.ListSeasons&&(e.CurrentSeason=e.ListSeasons.find(w=>w.SeasonNumber==i.SeasonNumber),e.CurrentEpisode=e.CurrentSeason.ListEpisodes.find(w=>w.EpisodeNumber==i.EpisodeNumber));var v=new rm;return v.TranscodePrepareVideo=m,v.ItemDetail=e,v}GetTranscodeVideoFromEpisode(e,i,o,u){var m=i.ListMediaFiles[0];let v=To();var w=new Ku;return w.VideoId=m.Id,w.Title=e.MediaItem.Title,w.Subtitle="T"+i.SeasonNumber+":E"+i.EpisodeNumber+" "+i.Name,w.PhysicalPath=m.PhysicalPath,w.MediaServerId=o.Id,w.MediaServerUrl=o.Url,w.ProcessGUID=v,w.CurrentTime=u||0,w.TimeSpan=w.CurrentTime?w.CurrentTime.toString():"0",w}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class Jl{}let rd=(()=>{class r{constructor(e,i,o){this.libraryService=e,this.sharedService=i,this.restProvider=o,this.subscriptionUpdatingLibraries=this.libraryService.isUpdatingLibraries().subscribe(u=>{this.buildMediaMenuFromListLibraries()})}getMediaMenu(){var e=[],i=new Jl;i.SortOrder=e.length+1,i.Title="Inicio",i.Path="/home",i.IconClass="fa-house fa-solid",e.push(i);var o=new Jl;o.SortOrder=e.length+1,o.Title="Pel\xedculas",o.Path="/media/movies",o.IconClass="fa-film fa-solid",e.push(o);var u=new Jl;u.SortOrder=e.length+1,u.Title="Series",u.Path="/media/tvseries",u.IconClass="fa-tv fa-solid",e.push(u),this.sharedService.mediaMenu=e,this.sharedService.mediaServers.forEach(m=>{var v=new Jl;v.SortOrder=this.sharedService.mediaMenu.length+1,v.Title=null!=m.FamilyName&&""!=m.FamilyName?m.FamilyName:m.DeviceName,v.Path="/media/server/"+m.Guid,v.ChildMenus=[],v.MediaServerId=m.Id,this.sharedService.mediaMenu.push(v)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedService.mediaServers.forEach(e=>{var i=this.sharedService.mediaMenu.find(o=>o.MediaServerId==e.Id);e.isSecureConnection?this.libraryService.getLibrariesByMediaServer(e.Url).then(o=>{var u=[];o.forEach(m=>{var v=new Jl;v.SortOrder=u.length+1,v.Title=m.Name,v.Path="/media/server/"+e.Guid+"/libraries/"+m.Id,v.IconClass=m.MediaTypeCatalogDetailId==Ke.Movie?"fa-film fa-solid":"fa-tv fa-solid",u.push(v)}),i.ChildMenus=u}):i.ChildMenus=[]})}getManageMenu(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Vt.GET,"/menus/GetByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.listMenus=o.Data,e(!0)},o=>{i(o)})})}getAllMenus(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Vt.GET,"/menus/GetAllAsync").then(u=>{e(u)},u=>{console.error(u),i(u)})})}getItems(e,i,o,u,m,v){return new Promise((w,G)=>{let te=To();this.lastCallGuid=te;var ye="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Vt.GET,"/menus/GetAllWithPaginationAsync"+ye).then(Ge=>{this.lastCallGuid==te&&w(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Vt.PUT:Vt.POST,e.Id>0?"/menus/Update":"/menus/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.DELETE,"/menus/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let u=[];for(let w=0;w<e.length;w++)u.push(e[w].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(Vt.DELETE,"/menus/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(ds),t.LFG(It),t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),om=(()=>{class r{constructor(e,i){this.sharedService=e,this.restProvider=i}getUser(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Vt.GET,"/users/GetUserData").then(o=>{this.sharedService.userData=o.Data,null==this.sharedService.userData?(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken")):e(!0)},o=>{console.error(o),i(o)})})}getItems(e,i,o,u,m,v){return new Promise((w,G)=>{let te=To();this.lastCallGuid=te;var ye="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Vt.GET,"/users/GetAllWithPaginationAsync"+ye).then(Ge=>{this.lastCallGuid==te&&w(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Vt.PUT:Vt.POST,e.Id>0?"/users/Update":"/users/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.DELETE,"/users/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let u=[];for(let w=0;w<e.length;w++)u.push(e[w].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(Vt.DELETE,"/users/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(It),t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ql=(()=>{class r{constructor(e,i){this.sharedService=e,this.restProvider=i}getProfileByGuid(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.GET,"/profiles/GetByGuidAsync/"+e).then(u=>{i(u)},u=>{console.error(u),o(u)})})}getAllProfiles(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Vt.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedService.userData.Id).then(o=>{let u=o.Data;this.sharedService.listProfiles=u,this.sharedService.currentProfile=u[0],e(!0)},o=>{i(o)})})}getProfiles(e,i,o,u,m,v,w){return new Promise((G,te)=>{let ye=To();this.lastCallGuid=ye;var Ue="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+m+"&searchText="+v+"&searchBy="+w;this.restProvider.executeSinovadApiService(Vt.GET,"/profiles/GetAllWithPaginationByUserAsync/"+e+Ue).then(tt=>{this.lastCallGuid==ye&&G(tt)},tt=>{console.error(tt),te(tt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Vt.PUT:Vt.POST,e.Id>0?"/profiles/Update":"/profiles/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.DELETE,"/profiles/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let u=[];for(let w=0;w<e.length;w++)u.push(e[w].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(Vt.DELETE,"/profiles/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(It),t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),sv=(()=>{class r{constructor(){this.updateMediaItems$=new Xi.x}updateMediaItems(){this.updateMediaItems$.next(!0)}isUpdatingMediaItems(){return this.updateMediaItems$.asObservable()}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const VT=[0,2e3,1e4,3e4,null];class av{constructor(n){this._retryDelays=void 0!==n?[...n,null]:VT}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}}let od=(()=>{class r{}return r.Authorization="Authorization",r.Cookie="Cookie",r})();class sm{constructor(n,e,i){this.statusCode=n,this.statusText=e,this.content=i}}class sd{get(n,e){return this.send({...e,method:"GET",url:n})}post(n,e){return this.send({...e,method:"POST",url:n})}delete(n,e){return this.send({...e,method:"DELETE",url:n})}getCookieString(n){return""}}class GT extends sd{constructor(n,e){super(),this._innerClient=n,this._accessTokenFactory=e}send(n){var e=this;return gr(function*(){let i=!0;e._accessTokenFactory&&(!e._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(i=!1,e._accessToken=yield e._accessTokenFactory()),e._setAuthorizationHeader(n);const o=yield e._innerClient.send(n);return i&&401===o.statusCode&&e._accessTokenFactory?(e._accessToken=yield e._accessTokenFactory(),e._setAuthorizationHeader(n),yield e._innerClient.send(n)):o})()}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[od.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[od.Authorization]&&delete n.headers[od.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}}class Xl extends Error{constructor(n,e){const i=new.target.prototype;super(`${n}: Status code '${e}'`),this.statusCode=e,this.__proto__=i}}class Po extends Error{constructor(n="A timeout occurred."){const e=new.target.prototype;super(n),this.__proto__=e}}class Ss extends Error{constructor(n="An abort occurred."){const e=new.target.prototype;super(n),this.__proto__=e}}class HT extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=i}}class $M extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=i}}class am extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=i}}class lv extends Error{constructor(n){const e=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class YT extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.innerErrors=e,this.__proto__=i}}var Pn=function(r){return r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Information=2]="Information",r[r.Warning=3]="Warning",r[r.Error=4]="Error",r[r.Critical=5]="Critical",r[r.None=6]="None",r}(Pn||{});class ad{constructor(){}log(n,e){}}ad.instance=new ad;const cv="7.0.10";class Xr{static isRequired(n,e){if(null==n)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(n,e){if(!n||n.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(n,e,i){if(!(n in e))throw new Error(`Unknown ${i} value: ${n}.`)}}class eo{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Ja(r,n){let e="";return ld(r)?(e=`Binary data of length ${r.byteLength}`,n&&(e+=`. Content: '${function KT(r){const n=new Uint8Array(r);let e="";return n.forEach(i=>{e+=`0x${i<16?"0":""}${i.toString(16)} `}),e.substr(0,e.length-1)}(r)}'`)):"string"==typeof r&&(e=`String data of length ${r.length}`,n&&(e+=`. Content: '${r}'`)),e}function ld(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&"ArrayBuffer"===r.constructor.name)}function dv(r,n,e,i,o,u){return lm.apply(this,arguments)}function lm(){return(lm=gr(function*(r,n,e,i,o,u){const m={},[v,w]=tc();m[v]=w,r.log(Pn.Trace,`(${n} transport) sending data. ${Ja(o,u.logMessageContent)}.`);const G=ld(o)?"arraybuffer":"text",te=yield e.post(i,{content:o,headers:{...m,...u.headers},responseType:G,timeout:u.timeout,withCredentials:u.withCredentials});r.log(Pn.Trace,`(${n} transport) request complete. Response status: ${te.statusCode}.`)})).apply(this,arguments)}class Hs{constructor(n,e){this._subject=n,this._observer=e}dispose(){const n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class ec{constructor(n){this._minLevel=n,this.out=console}log(n,e){if(n>=this._minLevel){const i=`[${(new Date).toISOString()}] ${Pn[n]}: ${e}`;switch(n){case Pn.Critical:case Pn.Error:this.out.error(i);break;case Pn.Warning:this.out.warn(i);break;case Pn.Information:this.out.info(i);break;default:this.out.log(i)}}}}function tc(){let r="X-SignalR-User-Agent";return eo.isNode&&(r="User-Agent"),[r,uv(cv,zT(),eo.isNode?"NodeJS":"Browser",fv())]}function uv(r,n,e,i){let o="Microsoft SignalR/";const u=r.split(".");return o+=`${u[0]}.${u[1]}`,o+=` (${r}; `,o+=n&&""!==n?`${n}; `:"Unknown OS; ",o+=`${e}`,o+=i?`; ${i}`:"; Unknown Runtime Version",o+=")",o}function zT(){if(!eo.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function fv(){if(eo.isNode)return process.versions.node}function cd(r){return r.stack?r.stack:r.message?r.message:`${r}`}class qM extends sd{constructor(n){if(super(),this._logger=n,typeof fetch>"u"){const e=require;this._jar=new(e("tough-cookie").CookieJar),this._fetchType=e("node-fetch"),this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function cm(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const e=require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}send(n){var e=this;return gr(function*(){if(n.abortSignal&&n.abortSignal.aborted)throw new Ss;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");const i=new e._abortControllerType;let o;n.abortSignal&&(n.abortSignal.onabort=()=>{i.abort(),o=new Ss});let m,u=null;n.timeout&&(u=setTimeout(()=>{i.abort(),e._logger.log(Pn.Warning,"Timeout from HTTP request."),o=new Po},n.timeout)),""===n.content&&(n.content=void 0),n.content&&(n.headers=n.headers||{},n.headers["Content-Type"]=ld(n.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{m=yield e._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:!0===n.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...n.headers},method:n.method,mode:"cors",redirect:"follow",signal:i.signal})}catch(G){throw o||(e._logger.log(Pn.Warning,`Error from HTTP request. ${G}.`),G)}finally{u&&clearTimeout(u),n.abortSignal&&(n.abortSignal.onabort=null)}if(!m.ok){const G=yield dm(m,"text");throw new Xl(G||m.statusText,m.status)}const w=yield dm(m,n.responseType);return new sm(m.status,m.statusText,w)})()}getCookieString(n){let e="";return eo.isNode&&this._jar&&this._jar.getCookies(n,(i,o)=>e=o.join("; ")),e}}function dm(r,n){let e;switch(n){case"arraybuffer":e=r.arrayBuffer();break;case"text":default:e=r.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`)}return e}class mv extends sd{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Ss):n.method?n.url?new Promise((e,i)=>{const o=new XMLHttpRequest;o.open(n.method,n.url,!0),o.withCredentials=void 0===n.withCredentials||n.withCredentials,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===n.content&&(n.content=void 0),n.content&&(ld(n.content)?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const u=n.headers;u&&Object.keys(u).forEach(m=>{o.setRequestHeader(m,u[m])}),n.responseType&&(o.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{o.abort(),i(new Ss)}),n.timeout&&(o.timeout=n.timeout),o.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),o.status>=200&&o.status<300?e(new sm(o.status,o.statusText,o.response||o.responseText)):i(new Xl(o.response||o.responseText||o.statusText,o.status))},o.onerror=()=>{this._logger.log(Pn.Warning,`Error from HTTP request. ${o.status}: ${o.statusText}.`),i(new Xl(o.statusText,o.status))},o.ontimeout=()=>{this._logger.log(Pn.Warning,"Timeout from HTTP request."),i(new Po)},o.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class gv extends sd{constructor(n){if(super(),typeof fetch<"u"||eo.isNode)this._httpClient=new qM(n);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new mv(n)}}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Ss):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}}var zr=function(r){return r[r.None=0]="None",r[r.WebSockets=1]="WebSockets",r[r.ServerSentEvents=2]="ServerSentEvents",r[r.LongPolling=4]="LongPolling",r}(zr||{}),ao=function(r){return r[r.Text=1]="Text",r[r.Binary=2]="Binary",r}(ao||{});class fa{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class pv{constructor(n,e,i){this._httpClient=n,this._logger=e,this._pollAbort=new fa,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(n,e){var i=this;return gr(function*(){if(Xr.isRequired(n,"url"),Xr.isRequired(e,"transferFormat"),Xr.isIn(e,ao,"transferFormat"),i._url=n,i._logger.log(Pn.Trace,"(LongPolling transport) Connecting."),e===ao.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,u]=tc(),m={[o]:u,...i._options.headers},v={abortSignal:i._pollAbort.signal,headers:m,timeout:1e5,withCredentials:i._options.withCredentials};e===ao.Binary&&(v.responseType="arraybuffer");const w=`${n}&_=${Date.now()}`;i._logger.log(Pn.Trace,`(LongPolling transport) polling: ${w}.`);const G=yield i._httpClient.get(w,v);200!==G.statusCode?(i._logger.log(Pn.Error,`(LongPolling transport) Unexpected response code: ${G.statusCode}.`),i._closeError=new Xl(G.statusText||"",G.statusCode),i._running=!1):i._running=!0,i._receiving=i._poll(i._url,v)})()}_poll(n,e){var i=this;return gr(function*(){try{for(;i._running;)try{const o=`${n}&_=${Date.now()}`;i._logger.log(Pn.Trace,`(LongPolling transport) polling: ${o}.`);const u=yield i._httpClient.get(o,e);204===u.statusCode?(i._logger.log(Pn.Information,"(LongPolling transport) Poll terminated by server."),i._running=!1):200!==u.statusCode?(i._logger.log(Pn.Error,`(LongPolling transport) Unexpected response code: ${u.statusCode}.`),i._closeError=new Xl(u.statusText||"",u.statusCode),i._running=!1):u.content?(i._logger.log(Pn.Trace,`(LongPolling transport) data received. ${Ja(u.content,i._options.logMessageContent)}.`),i.onreceive&&i.onreceive(u.content)):i._logger.log(Pn.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){i._running?o instanceof Po?i._logger.log(Pn.Trace,"(LongPolling transport) Poll timed out, reissuing."):(i._closeError=o,i._running=!1):i._logger.log(Pn.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{i._logger.log(Pn.Trace,"(LongPolling transport) Polling complete."),i.pollAborted||i._raiseOnClose()}})()}send(n){var e=this;return gr(function*(){return e._running?dv(e._logger,"LongPolling",e._httpClient,e._url,n,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var n=this;return gr(function*(){n._logger.log(Pn.Trace,"(LongPolling transport) Stopping polling."),n._running=!1,n._pollAbort.abort();try{yield n._receiving,n._logger.log(Pn.Trace,`(LongPolling transport) sending DELETE request to ${n._url}.`);const e={},[i,o]=tc();e[i]=o;const u={headers:{...e,...n._options.headers},timeout:n._options.timeout,withCredentials:n._options.withCredentials};yield n._httpClient.delete(n._url,u),n._logger.log(Pn.Trace,"(LongPolling transport) DELETE request sent.")}finally{n._logger.log(Pn.Trace,"(LongPolling transport) Stop finished."),n._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(Pn.Trace,n),this.onclose(this._closeError)}}}class ZT{constructor(n,e,i,o){this._httpClient=n,this._accessToken=e,this._logger=i,this._options=o,this.onreceive=null,this.onclose=null}connect(n,e){var i=this;return gr(function*(){return Xr.isRequired(n,"url"),Xr.isRequired(e,"transferFormat"),Xr.isIn(e,ao,"transferFormat"),i._logger.log(Pn.Trace,"(SSE transport) Connecting."),i._url=n,i._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i._accessToken)}`),new Promise((o,u)=>{let v,m=!1;if(e===ao.Text){if(eo.isBrowser||eo.isWebWorker)v=new i._options.EventSource(n,{withCredentials:i._options.withCredentials});else{const w=i._httpClient.getCookieString(n),G={};G.Cookie=w;const[te,ye]=tc();G[te]=ye,v=new i._options.EventSource(n,{withCredentials:i._options.withCredentials,headers:{...G,...i._options.headers}})}try{v.onmessage=w=>{if(i.onreceive)try{i._logger.log(Pn.Trace,`(SSE transport) data received. ${Ja(w.data,i._options.logMessageContent)}.`),i.onreceive(w.data)}catch(G){return void i._close(G)}},v.onerror=w=>{m?i._close():u(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},v.onopen=()=>{i._logger.log(Pn.Information,`SSE connected to ${i._url}`),i._eventSource=v,m=!0,o()}}catch(w){return void u(w)}}else u(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(n){var e=this;return gr(function*(){return e._eventSource?dv(e._logger,"SSE",e._httpClient,e._url,n,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}}class um{constructor(n,e,i,o,u,m){this._logger=i,this._accessTokenFactory=e,this._logMessageContent=o,this._webSocketConstructor=u,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=m}connect(n,e){var i=this;return gr(function*(){let o;return Xr.isRequired(n,"url"),Xr.isRequired(e,"transferFormat"),Xr.isIn(e,ao,"transferFormat"),i._logger.log(Pn.Trace,"(WebSockets transport) Connecting."),i._accessTokenFactory&&(o=yield i._accessTokenFactory()),new Promise((u,m)=>{let v;n=n.replace(/^http/,"ws");const w=i._httpClient.getCookieString(n);let G=!1;if(eo.isNode||eo.isReactNative){const te={},[ye,Ue]=tc();te[ye]=Ue,o&&(te[od.Authorization]=`Bearer ${o}`),w&&(te[od.Cookie]=w),v=new i._webSocketConstructor(n,void 0,{headers:{...te,...i._headers}})}else o&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);v||(v=new i._webSocketConstructor(n)),e===ao.Binary&&(v.binaryType="arraybuffer"),v.onopen=te=>{i._logger.log(Pn.Information,`WebSocket connected to ${n}.`),i._webSocket=v,G=!0,u()},v.onerror=te=>{let ye=null;ye=typeof ErrorEvent<"u"&&te instanceof ErrorEvent?te.error:"There was an error with the transport",i._logger.log(Pn.Information,`(WebSockets transport) ${ye}.`)},v.onmessage=te=>{if(i._logger.log(Pn.Trace,`(WebSockets transport) data received. ${Ja(te.data,i._logMessageContent)}.`),i.onreceive)try{i.onreceive(te.data)}catch(ye){return void i._close(ye)}},v.onclose=te=>{if(G)i._close(te);else{let ye=null;ye=typeof ErrorEvent<"u"&&te instanceof ErrorEvent?te.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",m(new Error(ye))}}})})()}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Pn.Trace,`(WebSockets transport) sending data. ${Ja(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Pn.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(n)||!1!==n.wasClean&&1e3===n.code?n instanceof Error?this.onclose(n):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)))}_isCloseEvent(n){return n&&"boolean"==typeof n.wasClean&&"number"==typeof n.code}}class $T{constructor(n,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Xr.isRequired(n,"url"),this._logger=function WT(r){return void 0===r?new ec(Pn.Information):null===r?ad.instance:void 0!==r.log?r:new ec(r)}(e.logger),this.baseUrl=this._resolveUrl(n),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials,e.timeout=void 0===e.timeout?1e5:e.timeout;let i=null,o=null;if(eo.isNode){const u=require;i=u("ws"),o=u("eventsource")}!eo.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:eo.isNode&&!e.WebSocket&&i&&(e.WebSocket=i),!eo.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:eo.isNode&&!e.EventSource&&typeof o<"u"&&(e.EventSource=o),this._httpClient=new GT(e.httpClient||new gv(this._logger),e.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}start(n){var e=this;return gr(function*(){if(Xr.isIn(n=n||ao.Binary,ao,"transferFormat"),e._logger.log(Pn.Debug,`Starting connection with transfer format '${ao[n]}'.`),"Disconnected"!==e._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(e._connectionState="Connecting",e._startInternalPromise=e._startInternal(n),yield e._startInternalPromise,"Disconnecting"===e._connectionState){const i="Failed to start the HttpConnection before stop() was called.";return e._logger.log(Pn.Error,i),yield e._stopPromise,Promise.reject(new Ss(i))}if("Connected"!==e._connectionState){const i="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return e._logger.log(Pn.Error,i),Promise.reject(new Ss(i))}e._connectionStarted=!0})()}send(n){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new vv(this.transport)),this._sendQueue.send(n))}stop(n){var e=this;return gr(function*(){return"Disconnected"===e._connectionState?(e._logger.log(Pn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===e._connectionState?(e._logger.log(Pn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),e._stopPromise):(e._connectionState="Disconnecting",e._stopPromise=new Promise(i=>{e._stopPromiseResolver=i}),yield e._stopInternal(n),void(yield e._stopPromise))})()}_stopInternal(n){var e=this;return gr(function*(){e._stopError=n;try{yield e._startInternalPromise}catch{}if(e.transport){try{yield e.transport.stop()}catch(i){e._logger.log(Pn.Error,`HttpConnection.transport.stop() threw error '${i}'.`),e._stopConnection()}e.transport=void 0}else e._logger.log(Pn.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(n){var e=this;return gr(function*(){let i=e.baseUrl;e._accessTokenFactory=e._options.accessTokenFactory,e._httpClient._accessTokenFactory=e._accessTokenFactory;try{if(e._options.skipNegotiation){if(e._options.transport!==zr.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");e.transport=e._constructTransport(zr.WebSockets),yield e._startTransport(i,n)}else{let o=null,u=0;do{if(o=yield e._getNegotiationResponse(i),"Disconnecting"===e._connectionState||"Disconnected"===e._connectionState)throw new Ss("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(i=o.url),o.accessToken){const m=o.accessToken;e._accessTokenFactory=()=>m,e._httpClient._accessToken=m,e._httpClient._accessTokenFactory=void 0}u++}while(o.url&&u<100);if(100===u&&o.url)throw new Error("Negotiate redirection limit exceeded.");yield e._createTransport(i,e._options.transport,o,n)}e.transport instanceof pv&&(e.features.inherentKeepAlive=!0),"Connecting"===e._connectionState&&(e._logger.log(Pn.Debug,"The HttpConnection connected successfully."),e._connectionState="Connected")}catch(o){return e._logger.log(Pn.Error,"Failed to start the connection: "+o),e._connectionState="Disconnected",e.transport=void 0,e._stopPromiseResolver(),Promise.reject(o)}})()}_getNegotiationResponse(n){var e=this;return gr(function*(){const i={},[o,u]=tc();i[o]=u;const m=e._resolveNegotiateUrl(n);e._logger.log(Pn.Debug,`Sending negotiation request: ${m}.`);try{const v=yield e._httpClient.post(m,{content:"",headers:{...i,...e._options.headers},timeout:e._options.timeout,withCredentials:e._options.withCredentials});if(200!==v.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${v.statusCode}'`));const w=JSON.parse(v.content);return(!w.negotiateVersion||w.negotiateVersion<1)&&(w.connectionToken=w.connectionId),w}catch(v){let w="Failed to complete negotiation with the server: "+v;return v instanceof Xl&&404===v.statusCode&&(w+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),e._logger.log(Pn.Error,w),Promise.reject(new lv(w))}})()}_createConnectUrl(n,e){return e?n+(-1===n.indexOf("?")?"?":"&")+`id=${e}`:n}_createTransport(n,e,i,o){var u=this;return gr(function*(){let m=u._createConnectUrl(n,i.connectionToken);if(u._isITransport(e))return u._logger.log(Pn.Debug,"Connection was provided an instance of ITransport, using that directly."),u.transport=e,yield u._startTransport(m,o),void(u.connectionId=i.connectionId);const v=[],w=i.availableTransports||[];let G=i;for(const te of w){const ye=u._resolveTransportOrError(te,e,o);if(ye instanceof Error)v.push(`${te.transport} failed:`),v.push(ye);else if(u._isITransport(ye)){if(u.transport=ye,!G){try{G=yield u._getNegotiationResponse(n)}catch(Ue){return Promise.reject(Ue)}m=u._createConnectUrl(n,G.connectionToken)}try{return yield u._startTransport(m,o),void(u.connectionId=G.connectionId)}catch(Ue){if(u._logger.log(Pn.Error,`Failed to start the transport '${te.transport}': ${Ue}`),G=void 0,v.push(new am(`${te.transport} failed: ${Ue}`,zr[te.transport])),"Connecting"!==u._connectionState){const Ge="Failed to select transport before stop() was called.";return u._logger.log(Pn.Debug,Ge),Promise.reject(new Ss(Ge))}}}}return Promise.reject(v.length>0?new YT(`Unable to connect to the server with any of the available transports. ${v.join(" ")}`,v):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(n){switch(n){case zr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new um(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case zr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new ZT(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case zr.LongPolling:return new pv(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,e){return this.transport.onreceive=this.onreceive,this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(n,e)}_resolveTransportOrError(n,e,i){const o=zr[n.transport];if(null==o)return this._logger.log(Pn.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(!function qT(r,n){return!r||0!=(n&r)}(e,o))return this._logger.log(Pn.Debug,`Skipping transport '${zr[o]}' because it was disabled by the client.`),new $M(`'${zr[o]}' is disabled by the client.`,o);if(!(n.transferFormats.map(m=>ao[m]).indexOf(i)>=0))return this._logger.log(Pn.Debug,`Skipping transport '${zr[o]}' because it does not support the requested transfer format '${ao[i]}'.`),new Error(`'${zr[o]}' does not support ${ao[i]}.`);if(o===zr.WebSockets&&!this._options.WebSocket||o===zr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Pn.Debug,`Skipping transport '${zr[o]}' because it is not supported in your environment.'`),new HT(`'${zr[o]}' is not supported in your environment.`,o);this._logger.log(Pn.Debug,`Selecting transport '${zr[o]}'.`);try{return this._constructTransport(o)}catch(m){return m}}_isITransport(n){return n&&"object"==typeof n&&"connect"in n}_stopConnection(n){if(this._logger.log(Pn.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(Pn.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),n?this._logger.log(Pn.Error,`Connection disconnected with error '${n}'.`):this._logger.log(Pn.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(Pn.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(e){this._logger.log(Pn.Error,`HttpConnection.onclose(${n}) threw error '${e}'.`)}}}else this._logger.log(Pn.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(n){if(0===n.lastIndexOf("https://",0)||0===n.lastIndexOf("http://",0))return n;if(!eo.isBrowser)throw new Error(`Cannot resolve '${n}'.`);const e=window.document.createElement("a");return e.href=n,this._logger.log(Pn.Information,`Normalizing '${n}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(n){const e=n.indexOf("?");let i=n.substring(0,-1===e?n.length:e);return"/"!==i[i.length-1]&&(i+="/"),i+="negotiate",i+=-1===e?"":n.substring(e),-1===i.indexOf("negotiateVersion")&&(i+=-1===e?"?":"&",i+="negotiateVersion="+this._negotiateVersion),i}}class vv{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new dd,this._transportResult=new dd,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new dd),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}_sendLoop(){var n=this;return gr(function*(){for(;;){if(yield n._sendBufferedData.promise,!n._executing){n._transportResult&&n._transportResult.reject("Connection stopped.");break}n._sendBufferedData=new dd;const e=n._transportResult;n._transportResult=void 0;const i="string"==typeof n._buffer[0]?n._buffer.join(""):vv._concatBuffers(n._buffer);n._buffer.length=0;try{yield n._transport.send(i),e.resolve()}catch(o){e.reject(o)}}})()}static _concatBuffers(n){const e=n.map(u=>u.byteLength).reduce((u,m)=>u+m),i=new Uint8Array(e);let o=0;for(const u of n)i.set(new Uint8Array(u),o),o+=u.byteLength;return i.buffer}}class dd{constructor(){this.promise=new Promise((n,e)=>[this._resolver,this._rejecter]=[n,e])}resolve(){this._resolver()}reject(n){this._rejecter(n)}}class Xo{static write(n){return`${n}${Xo.RecordSeparator}`}static parse(n){if(n[n.length-1]!==Xo.RecordSeparator)throw new Error("Message is incomplete.");const e=n.split(Xo.RecordSeparator);return e.pop(),e}}Xo.RecordSeparatorCode=30,Xo.RecordSeparator=String.fromCharCode(Xo.RecordSeparatorCode);class Wu{writeHandshakeRequest(n){return Xo.write(JSON.stringify(n))}parseHandshakeResponse(n){let e,i;if(ld(n)){const v=new Uint8Array(n),w=v.indexOf(Xo.RecordSeparatorCode);if(-1===w)throw new Error("Message is incomplete.");const G=w+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(v.slice(0,G))),i=v.byteLength>G?v.slice(G).buffer:null}else{const v=n,w=v.indexOf(Xo.RecordSeparator);if(-1===w)throw new Error("Message is incomplete.");const G=w+1;e=v.substring(0,G),i=v.length>G?v.substring(G):null}const o=Xo.parse(e),u=JSON.parse(o[0]);if(u.type)throw new Error("Expected a handshake response from the server.");return[i,u]}}var rr=function(r){return r[r.Invocation=1]="Invocation",r[r.StreamItem=2]="StreamItem",r[r.Completion=3]="Completion",r[r.StreamInvocation=4]="StreamInvocation",r[r.CancelInvocation=5]="CancelInvocation",r[r.Ping=6]="Ping",r[r.Close=7]="Close",r}(rr||{});class zu{constructor(){this.observers=[]}next(n){for(const e of this.observers)e.next(n)}error(n){for(const e of this.observers)e.error&&e.error(n)}complete(){for(const n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new Hs(this,n)}}var Mr=function(r){return r.Disconnected="Disconnected",r.Connecting="Connecting",r.Connected="Connected",r.Disconnecting="Disconnecting",r.Reconnecting="Reconnecting",r}(Mr||{});class Zu{constructor(n,e,i,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Pn.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Xr.isRequired(n,"connection"),Xr.isRequired(e,"logger"),Xr.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=e,this._protocol=i,this.connection=n,this._reconnectPolicy=o,this._handshakeProtocol=new Wu,this.connection.onreceive=u=>this._processIncomingData(u),this.connection.onclose=u=>this._connectionClosed(u),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Mr.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:rr.Ping})}static create(n,e,i,o){return new Zu(n,e,i,o)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==Mr.Disconnected&&this._connectionState!==Mr.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var n=this;return gr(function*(){if(n._connectionState!==Mr.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));n._connectionState=Mr.Connecting,n._logger.log(Pn.Debug,"Starting HubConnection.");try{yield n._startInternal(),eo.isBrowser&&window.document.addEventListener("freeze",n._freezeEventListener),n._connectionState=Mr.Connected,n._connectionStarted=!0,n._logger.log(Pn.Debug,"HubConnection connected successfully.")}catch(e){return n._connectionState=Mr.Disconnected,n._logger.log(Pn.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}})()}_startInternal(){var n=this;return gr(function*(){n._stopDuringStartError=void 0,n._receivedHandshakeResponse=!1;const e=new Promise((i,o)=>{n._handshakeResolver=i,n._handshakeRejecter=o});yield n.connection.start(n._protocol.transferFormat);try{const i={protocol:n._protocol.name,version:n._protocol.version};if(n._logger.log(Pn.Debug,"Sending handshake request."),yield n._sendMessage(n._handshakeProtocol.writeHandshakeRequest(i)),n._logger.log(Pn.Information,`Using HubProtocol '${n._protocol.name}'.`),n._cleanupTimeout(),n._resetTimeoutPeriod(),n._resetKeepAliveInterval(),yield e,n._stopDuringStartError)throw n._stopDuringStartError;n.connection.features.inherentKeepAlive||(yield n._sendMessage(n._cachedPingMessage))}catch(i){throw n._logger.log(Pn.Debug,`Hub handshake failed with error '${i}' during start(). Stopping HubConnection.`),n._cleanupTimeout(),n._cleanupPingTimer(),yield n.connection.stop(i),i}})()}stop(){var n=this;return gr(function*(){const e=n._startPromise;n._stopPromise=n._stopInternal(),yield n._stopPromise;try{yield e}catch{}})()}_stopInternal(n){return this._connectionState===Mr.Disconnected?(this._logger.log(Pn.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Mr.Disconnecting?(this._logger.log(Pn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Mr.Disconnecting,this._logger.log(Pn.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Pn.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new Ss("The connection was stopped before the hub handshake could complete."),this.connection.stop(n)))}stream(n,...e){const[i,o]=this._replaceStreamingParams(e),u=this._createStreamInvocation(n,e,o);let m;const v=new zu;return v.cancelCallback=()=>{const w=this._createCancelInvocation(u.invocationId);return delete this._callbacks[u.invocationId],m.then(()=>this._sendWithProtocol(w))},this._callbacks[u.invocationId]=(w,G)=>{G?v.error(G):w&&(w.type===rr.Completion?w.error?v.error(new Error(w.error)):v.complete():v.next(w.item))},m=this._sendWithProtocol(u).catch(w=>{v.error(w),delete this._callbacks[u.invocationId]}),this._launchStreams(i,m),v}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._sendMessage(this._protocol.writeMessage(n))}send(n,...e){const[i,o]=this._replaceStreamingParams(e),u=this._sendWithProtocol(this._createInvocation(n,e,!0,o));return this._launchStreams(i,u),u}invoke(n,...e){const[i,o]=this._replaceStreamingParams(e),u=this._createInvocation(n,e,!1,o);return new Promise((v,w)=>{this._callbacks[u.invocationId]=(te,ye)=>{ye?w(ye):te&&(te.type===rr.Completion?te.error?w(new Error(te.error)):v(te.result):w(new Error(`Unexpected message type: ${te.type}`)))};const G=this._sendWithProtocol(u).catch(te=>{w(te),delete this._callbacks[u.invocationId]});this._launchStreams(i,G)})}on(n,e){!n||!e||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),-1===this._methods[n].indexOf(e)&&this._methods[n].push(e))}off(n,e){if(!n)return;n=n.toLowerCase();const i=this._methods[n];if(i)if(e){const o=i.indexOf(e);-1!==o&&(i.splice(o,1),0===i.length&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){const e=this._protocol.parseMessages(n,this._logger);for(const i of e)switch(i.type){case rr.Invocation:this._invokeClientMethod(i);break;case rr.StreamItem:case rr.Completion:{const o=this._callbacks[i.invocationId];if(o){i.type===rr.Completion&&delete this._callbacks[i.invocationId];try{o(i)}catch(u){this._logger.log(Pn.Error,`Stream callback threw error: ${cd(u)}`)}}break}case rr.Ping:break;case rr.Close:{this._logger.log(Pn.Information,"Close message received from server.");const o=i.error?new Error("Server returned an error on close: "+i.error):void 0;!0===i.allowReconnect?this.connection.stop(o):this._stopPromise=this._stopInternal(o);break}default:this._logger.log(Pn.Warning,`Invalid message type: ${i.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let e,i;try{[i,e]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(o){const u="Error parsing handshake response: "+o;this._logger.log(Pn.Error,u);const m=new Error(u);throw this._handshakeRejecter(m),m}if(e.error){const o="Server returned handshake error: "+e.error;this._logger.log(Pn.Error,o);const u=new Error(o);throw this._handshakeRejecter(u),u}return this._logger.log(Pn.Debug,"Server handshake complete."),this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var n=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(gr(function*(){if(n._connectionState===Mr.Connected)try{yield n._sendMessage(n._cachedPingMessage)}catch{n._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(n){var e=this;return gr(function*(){const i=n.target.toLowerCase(),o=e._methods[i];if(!o)return e._logger.log(Pn.Warning,`No client method with the name '${i}' found.`),void(n.invocationId&&(e._logger.log(Pn.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),yield e._sendWithProtocol(e._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null))));const u=o.slice(),m=!!n.invocationId;let v,w,G;for(const te of u)try{const ye=v;v=yield te.apply(e,n.arguments),m&&v&&ye&&(e._logger.log(Pn.Error,`Multiple results provided for '${i}'. Sending error to server.`),G=e._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),w=void 0}catch(ye){w=ye,e._logger.log(Pn.Error,`A callback for the method '${i}' threw error '${ye}'.`)}G?yield e._sendWithProtocol(G):m?(w?G=e._createCompletionMessage(n.invocationId,`${w}`,null):void 0!==v?G=e._createCompletionMessage(n.invocationId,null,v):(e._logger.log(Pn.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),G=e._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),yield e._sendWithProtocol(G)):v&&e._logger.log(Pn.Error,`Result given for '${i}' method but server is not expecting a result.`)})()}_connectionClosed(n){this._logger.log(Pn.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new Ss("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Mr.Disconnecting?this._completeClose(n):this._connectionState===Mr.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===Mr.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=Mr.Disconnected,this._connectionStarted=!1,eo.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[n]))}catch(e){this._logger.log(Pn.Error,`An onclose callback called with error '${n}' threw error '${e}'.`)}}}_reconnect(n){var e=this;return gr(function*(){const i=Date.now();let o=0,u=void 0!==n?n:new Error("Attempting to reconnect due to a unknown error."),m=e._getNextRetryDelay(o++,0,u);if(null===m)return e._logger.log(Pn.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void e._completeClose(n);if(e._connectionState=Mr.Reconnecting,e._logger.log(Pn.Information,n?`Connection reconnecting because of error '${n}'.`:"Connection reconnecting."),0!==e._reconnectingCallbacks.length){try{e._reconnectingCallbacks.forEach(v=>v.apply(e,[n]))}catch(v){e._logger.log(Pn.Error,`An onreconnecting callback called with error '${n}' threw error '${v}'.`)}if(e._connectionState!==Mr.Reconnecting)return void e._logger.log(Pn.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==m;){if(e._logger.log(Pn.Information,`Reconnect attempt number ${o} will start in ${m} ms.`),yield new Promise(v=>{e._reconnectDelayHandle=setTimeout(v,m)}),e._reconnectDelayHandle=void 0,e._connectionState!==Mr.Reconnecting)return void e._logger.log(Pn.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield e._startInternal(),e._connectionState=Mr.Connected,e._logger.log(Pn.Information,"HubConnection reconnected successfully."),0!==e._reconnectedCallbacks.length)try{e._reconnectedCallbacks.forEach(v=>v.apply(e,[e.connection.connectionId]))}catch(v){e._logger.log(Pn.Error,`An onreconnected callback called with connectionId '${e.connection.connectionId}; threw error '${v}'.`)}return}catch(v){if(e._logger.log(Pn.Information,`Reconnect attempt failed because of error '${v}'.`),e._connectionState!==Mr.Reconnecting)return e._logger.log(Pn.Debug,`Connection moved to the '${e._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(e._connectionState===Mr.Disconnecting&&e._completeClose());u=v instanceof Error?v:new Error(v.toString()),m=e._getNextRetryDelay(o++,Date.now()-i,u)}}e._logger.log(Pn.Information,`Reconnect retries have been exhausted after ${Date.now()-i} ms and ${o} failed attempts. Connection disconnecting.`),e._completeClose()})()}_getNextRetryDelay(n,e,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:n,retryReason:i})}catch(o){return this._logger.log(Pn.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${e}) threw error '${o}'.`),null}}_cancelCallbacksWithError(n){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach(i=>{const o=e[i];try{o(null,n)}catch(u){this._logger.log(Pn.Error,`Stream 'error' callback called with '${n}' threw error: ${cd(u)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,e,i,o){if(i)return 0!==o.length?{arguments:e,streamIds:o,target:n,type:rr.Invocation}:{arguments:e,target:n,type:rr.Invocation};{const u=this._invocationId;return this._invocationId++,0!==o.length?{arguments:e,invocationId:u.toString(),streamIds:o,target:n,type:rr.Invocation}:{arguments:e,invocationId:u.toString(),target:n,type:rr.Invocation}}}_launchStreams(n,e){if(0!==n.length){e||(e=Promise.resolve());for(const i in n)n[i].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:o=>{let u;u=o instanceof Error?o.message:o&&o.toString?o.toString():"Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,u)))},next:o=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,o)))}})}}_replaceStreamingParams(n){const e=[],i=[];for(let o=0;o<n.length;o++){const u=n[o];if(this._isObservable(u)){const m=this._invocationId;this._invocationId++,e[m]=u,i.push(m.toString()),n.splice(o,1)}}return[e,i]}_isObservable(n){return n&&n.subscribe&&"function"==typeof n.subscribe}_createStreamInvocation(n,e,i){const o=this._invocationId;return this._invocationId++,0!==i.length?{arguments:e,invocationId:o.toString(),streamIds:i,target:n,type:rr.StreamInvocation}:{arguments:e,invocationId:o.toString(),target:n,type:rr.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:rr.CancelInvocation}}_createStreamItemMessage(n,e){return{invocationId:n,item:e,type:rr.StreamItem}}_createCompletionMessage(n,e,i){return e?{error:e,invocationId:n,type:rr.Completion}:{invocationId:n,result:i,type:rr.Completion}}}class XT{constructor(){this.name="json",this.version=1,this.transferFormat=ao.Text}parseMessages(n,e){if("string"!=typeof n)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];null===e&&(e=ad.instance);const i=Xo.parse(n),o=[];for(const u of i){const m=JSON.parse(u);if("number"!=typeof m.type)throw new Error("Invalid payload.");switch(m.type){case rr.Invocation:this._isInvocationMessage(m);break;case rr.StreamItem:this._isStreamItemMessage(m);break;case rr.Completion:this._isCompletionMessage(m);break;case rr.Ping:case rr.Close:break;default:e.log(Pn.Information,"Unknown message type '"+m.type+"' ignored.");continue}o.push(m)}return o}writeMessage(n){return Xo.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),void 0!==n.invocationId&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),void 0===n.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(n,e){if("string"!=typeof n||""===n)throw new Error(e)}}const yv={trace:Pn.Trace,debug:Pn.Debug,info:Pn.Information,information:Pn.Information,warn:Pn.Warning,warning:Pn.Warning,error:Pn.Error,critical:Pn.Critical,none:Pn.None};class ud{configureLogging(n){if(Xr.isRequired(n,"logging"),function eS(r){return void 0!==r.log}(n))this.logger=n;else if("string"==typeof n){const e=function bv(r){const n=yv[r.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${r}`)}(n);this.logger=new ec(e)}else this.logger=new ec(n);return this}withUrl(n,e){return Xr.isRequired(n,"url"),Xr.isNotEmpty(n,"url"),this.url=n,this.httpConnectionOptions="object"==typeof e?{...this.httpConnectionOptions,...e}:{...this.httpConnectionOptions,transport:e},this}withHubProtocol(n){return Xr.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=n?Array.isArray(n)?new av(n):n:new av,this}build(){const n=this.httpConnectionOptions||{};if(void 0===n.logger&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new $T(this.url,n);return Zu.create(e,this.logger||ad.instance,this.protocol||new XT,this.reconnectPolicy)}}class Ev{}let Tv=(()=>{class r{constructor(e){this.sharedService=e}openConnectionByMediaServer(e){let i=this;return new Promise((o,u)=>{var m=(new ud).withUrl(e.Url+"/sinovadHub",{skipNegotiation:!0,transport:zr.WebSockets}).build();m.start().then(()=>{console.log("connection started");var v=new Ev;v.MediaServer=e,v.HubConnection=m,i.sharedService.mediaServerHubConnections.push(v),o(!0)}).catch(v=>{console.error("error while establishing signalr connection: "+v),u(v)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(It))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),fd=(()=>{class r{constructor(e,i,o,u,m,v){this.mediaService=e,this.signalIrHubService=i,this.menuService=o,this.libraryService=u,this.sharedService=m,this.restProvider=v}getMediaServers(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Vt.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.mediaServers=o.Data,this.menuService.getMediaMenu(),this.checkSecureConnectionMediaServers(),e(!0)},o=>{i(o)})})}checkSecureConnectionMediaServers(){null!=this.sharedService.mediaServers&&this.sharedService.mediaServers.length>0&&this.sharedService.mediaServers.forEach(e=>{this.tryConnectionByMediaServer(e)})}tryConnectionByMediaServer(e){var i=this;this.signalIrHubService.openConnectionByMediaServer(e).then(o=>{i.executeGetLibrariesByMediaServer(e);var u=i.sharedService.mediaServerHubConnections.find(m=>m.MediaServer&&m.MediaServer.Id==e.Id);u&&u.HubConnection&&(u.HubConnection.on("RefreshLibraries",m=>{console.log("RefreshLibraries"),i.executeGetLibrariesByMediaServer(e)}),u.HubConnection.on("RefreshMediaItems",m=>{console.log("RefreshMediaItems"),i.mediaService.updateMediaItems()}))},o=>{e.isSecureConnection=!1,setTimeout(()=>{i.tryConnectionByMediaServer(e)},1e4)})}executeGetLibrariesByMediaServer(e){this.libraryService.getLibrariesByMediaServer(e.Url).then(i=>{e.ListLibraries=i,e.isSecureConnection=!0,this.libraryService.updateLibraries(),this.mediaService.updateMediaItems()},i=>{e.ListLibraries=[],e.isSecureConnection=!1,this.libraryService.updateLibraries(),this.mediaService.updateMediaItems()})}getMediaServerByGuid(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.GET,"/mediaServers/GetByGuidAsync/"+e).then(u=>{i(u)},u=>{console.error(u),o(u)})})}getItems(e,i,o,u,m,v,w){return new Promise((G,te)=>{let ye=To();this.lastCallGuid=ye;var Ue="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+m+"&searchText="+v+"&searchBy="+w;this.restProvider.executeSinovadApiService(Vt.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+e+Ue).then(tt=>{this.lastCallGuid==ye&&G(tt)},tt=>{console.error(tt),te(tt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Vt.PUT:Vt.POST,e.Id>0?"/mediaServers/Update":"/mediaServers/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.DELETE,"/mediaServers/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let u=[];for(let w=0;w<e.length;w++)u.push(e[w].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(Vt.DELETE,"/mediaServers/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(sv),t.LFG(Tv),t.LFG(rd),t.LFG(ds),t.LFG(It),t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function tS(r,n){1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function hd(r,n){1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2,"Confirma que hayas agregado la contrase\xf1a correctamente "),t.qZA())}const Sv=function(r){return{disable:r}};let nS=(()=>{class r{constructor(e,i,o,u,m,v,w,G,te){this.libraryService=e,this.menuService=i,this.userService=o,this.profileService=u,this.serverService=m,this.formBuilder=v,this.router=w,this.restProvider=G,this.sharedService=te,this._window=window,this.showLoading=!1,this.user=new im,this.loginForm=this.formBuilder.group({username:new Ft.NI("",[Ft.kI.required]),password:new Ft.NI("",[Ft.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigateByUrl("/home")}ngOnDestroy(){}ngAfterViewInit(){this.initializeLoginViewControls()}initializeLoginViewControls(){}login(){this.loginForm.valid?(this.user={UserName:this.loginForm.value.username,Password:this.loginForm.value.password},this.showLoading=!0,this.restProvider.executeSinovadApiService(Vt.POST,"/users/Login",this.user).then(e=>{let i=e.Data;localStorage.setItem("apiToken",i),this.sharedService.apiToken=i,this.sharedService.showSplashScreen=!0,this.userService.getUser().then(o=>{this.menuService.getManageMenu(),this.serverService.getMediaServers(),this.profileService.getAllProfiles().then(u=>{this.router.navigate(["select-profile"],{skipLocationChange:!1})},u=>{console.error(u)})},o=>{console.error(o)})},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.loginForm.markAllAsTouched())}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ds),t.Y36(rd),t.Y36(om),t.Y36(Ql),t.Y36(fd),t.Y36(Ft.qu),t.Y36(In.F0),t.Y36(Bt),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:36,vars:23,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","username"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","password"],["password",""],["type","submit",1,"enter",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"recover",3,"ngClass","click"],[3,"showLoading"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"form",5),t.NdJ("ngSubmit",function(){return o.login()}),t.TgZ(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Inicia sesi\xf3n "),t.qZA(),t.TgZ(14,"div",8)(15,"label",9),t._uU(16," Usuario "),t.qZA(),t.TgZ(17,"div",10),t._UZ(18,"input",11),t.YNc(19,tS,3,0,"label",12),t.qZA()(),t.TgZ(20,"div",8)(21,"label",9),t._uU(22," Contrase\xf1a "),t.qZA(),t.TgZ(23,"div",10),t._UZ(24,"input",13,14),t.YNc(26,hd,3,0,"label",12),t.qZA()(),t.TgZ(27,"div",8)(28,"button",15),t._uU(29,"INGRESAR"),t.qZA()(),t.TgZ(30,"div",16),t._uU(31),t.qZA(),t.TgZ(32,"div",8)(33,"button",17),t.NdJ("click",function(){return o.showRecoverPasswordPage()}),t._uU(34,"OLVIDASTE TU CONTRASE\xd1A?"),t.qZA()()()()(),t._UZ(35,"app-custom-spinner",18)),2&i&&(t.xp6(2),t.Q6J("src",t.lcZ(3,9,t.xi3(4,11,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("formGroup",o.loginForm),t.xp6(2),t.Q6J("src",t.lcZ(10,14,t.xi3(11,16,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",o.sharedService.isInvalidFormControl(o.loginForm,"username")&&o.sharedService.hasRequireErrorFormControl(o.loginForm,"username")),t.xp6(7),t.Q6J("ngIf",o.sharedService.isInvalidFormControl(o.loginForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.loginForm,"password")),t.xp6(2),t.Q6J("ngClass",t.VKq(19,Sv,o.showLoading)),t.xp6(3),t.hij(" ",o.errorMessage," "),t.xp6(2),t.Q6J("ngClass",t.VKq(21,Sv,o.showLoading)),t.xp6(2),t.Q6J("showLoading",o.showLoading))},dependencies:[p.mk,p.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Bo,Ft.sg,Ft.u,p.Ov,Oo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.enter[_ngcontent-%COMP%]{background-color:#007bff}button.recover[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();class iS{}function rS(r,n){if(1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function oS(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los nombres correctamente "),t.qZA())}function sS(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los apellidos correctamente "),t.qZA())}function aS(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function lS(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function cS(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const Qa=function(r){return{error:r}},fm=function(r){return{disable:r}};function dS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",9)(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.register())}),t.TgZ(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Reg\xedstrate "),t.qZA(),t.TgZ(8,"div",13)(9,"label",14),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",15),t._UZ(12,"input",16),t.YNc(13,rS,3,1,"label",17),t.qZA()(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16," Nombres "),t.qZA(),t.TgZ(17,"div",15),t._UZ(18,"input",18),t.YNc(19,oS,3,0,"label",17),t.qZA()(),t.TgZ(20,"div",13)(21,"label",14),t._uU(22," Apellidos "),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",19),t.YNc(25,sS,3,0,"label",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28," Usuario "),t.qZA(),t.TgZ(29,"div",15),t._UZ(30,"input",20),t.YNc(31,aS,3,0,"label",17),t.qZA()(),t.TgZ(32,"div",13)(33,"label",14),t._uU(34," Contrase\xf1a "),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"input",21),t.YNc(37,lS,3,0,"label",17),t.qZA()(),t.TgZ(38,"div",13)(39,"label",14),t._uU(40," Confirmar contrase\xf1a "),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",22),t.YNc(43,cS,3,0,"label",17),t.qZA()(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Registrar"),t.qZA()(),t.TgZ(47,"div",25),t._uU(48),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.registerUserForm),t.xp6(2),t.Q6J("src",t.lcZ(4,16,t.xi3(5,18,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(21,Qa,e.sharedService.isInvalidFormControl(e.registerUserForm,"email"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"email")),t.xp6(1),t.Q6J("ngClass",t.VKq(23,Qa,e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"firstName")),t.xp6(1),t.Q6J("ngClass",t.VKq(25,Qa,e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"lastName")),t.xp6(1),t.Q6J("ngClass",t.VKq(27,Qa,e.sharedService.isInvalidFormControl(e.registerUserForm,"username"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"username")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"username")),t.xp6(1),t.Q6J("ngClass",t.VKq(29,Qa,e.sharedService.isInvalidFormControl(e.registerUserForm,"password"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"password")),t.xp6(1),t.Q6J("ngClass",t.VKq(31,Qa,e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(33,fm,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function $u(r,n){1&r&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Registro de Usuario "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))}let Cv=(()=>{class r{constructor(e,i,o,u){this.formBuilder=e,this.router=i,this.restProvider=o,this.sharedService=u,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new iS,this.registerUserForm=this.formBuilder.group({email:new Ft.NI("",[Ft.kI.required,Ft.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new Ft.NI("",[Ft.kI.required]),lastName:new Ft.NI("",[Ft.kI.required]),username:new Ft.NI("",[Ft.kI.required]),password:new Ft.NI("",[Ft.kI.required]),confirmPassword:new Ft.NI("",[Ft.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1})}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.restProvider.executeSinovadApiService(Vt.POST,"/users/Register",this.registerUserModel).then(e=>{console.log("Registrado exitosamente"),this.showLoading=!1,this.showSuccessMessage=!0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ft.qu),t.Y36(In.F0),t.Y36(Bt),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,dS,49,35,"div",6),t.YNc(9,$u,10,6,"div",7),t.qZA()(),t._UZ(10,"app-custom-spinner",8)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",!o.showSuccessMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[p.mk,p.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Bo,Ft.sg,Ft.u,p.Ov,Oo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();const uS=["loginFormContainer"];let Dv=(()=>{class r{constructor(e,i,o){this.router=e,this.activeRoute=i,this.sharedService=o,this._window=window,this.showLoading=!1}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigateByUrl("/home")}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(In.gz),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-landing"]],viewQuery:function(i,o){if(1&i&&t.Gf(uS,5),2&i){let u;t.iGM(u=t.CRH())&&(o.loginFormContainer=u.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.ALo(5,"async"),t.ALo(6,"formatDataPipe"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return o.showRegisterPage()}),t._uU(9,"REG\xcdSTRATE"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.showLoginPage()}),t._uU(11,"INICIA SESI\xd3N"),t.qZA()()()()()),2&i&&(t.xp6(4),t.Q6J("src",t.lcZ(5,1,t.xi3(6,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))},dependencies:[p.Ov,Oo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();const fS=function(r,n){return{load:r,disable:n}};function hS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),t._uU(10,"Privado"),t.qZA(),t.TgZ(11,"span",8)(12,"span",9),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",5)(15,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateMediaServer())}),t.TgZ(16,"div",5)(17,"label",11),t._uU(18,"Nombre Familiar"),t.qZA(),t._UZ(19,"input",12),t.TgZ(20,"p",13),t._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),t.qZA()(),t.TgZ(22,"div",14)(23,"button",15),t._UZ(24,"div",16),t.TgZ(25,"span",17),t._uU(26,"Guardar cambios"),t.qZA()(),t._UZ(27,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - General"),t.xp6(11),t.Oqu(e.mediaServer.Url),t.xp6(2),t.Q6J("formGroup",e.customForm),t.xp6(4),t.Q6J("placeholder",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName),t.xp6(4),t.Q6J("ngClass",t.WLB(5,fS,e.loading,e.customForm.pristine||e.customForm.invalid))}}let xv=(()=>{class r{constructor(e,i,o,u,m,v,w){this.serverService=e,this.snackBarService=i,this.formBuilder=o,this.router=u,this.activeRoute=m,this.restProvider=v,this.sharedService=w,this.loading=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing"),this.getMediaServerData()}getMediaServerData(){var e=this;return gr(function*(){e.serverService.getMediaServerByGuid(e.activeRoute.snapshot.params.serverGuid).then(o=>{var u=o.Data,m=e.sharedService.mediaServers.find(v=>v.Id==u.Id);u.isSecureConnection=m.isSecureConnection,e.sharedService.selectedMediaServer=u,e.mediaServer=u,e.customForm=e.formBuilder.group({familyName:new Ft.NI(e.mediaServer.FamilyName)})},o=>{e.router.navigateByUrl("/404")})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var i=JSON.parse(JSON.stringify(this.mediaServer));i.FamilyName=this.customForm.value.familyName,this.restProvider.executeSinovadApiService(Vt.PUT,"/mediaServers/Update",i).then(o=>{this.loading=!1,this.serverService.getMediaServers(),this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",$n.Success)},o=>{this.loading=!1,console.error(o)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(fd),t.Y36(Nr),t.Y36(Ft.qu),t.Y36(In.F0),t.Y36(In.gz),t.Y36(Bt),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-server-setttings-general"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"save",3,"ngClass"],[1,"loading"],[1,"btn-label"],[1,"form-message"]],template:function(i,o){1&i&&t.YNc(0,hS,28,8,"div",0),2&i&&t.Q6J("ngIf",o.mediaServer)},dependencies:[p.mk,p.O5,Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.load[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{animation:auto;border-color:#cc7b19 transparent transparent #cc7b19;border-radius:50%;border-style:solid;border-width:2px;height:16px;margin:-8px 0 0 -8px;width:16px;border-left-color:#fff;border-top-color:#fff;left:-12px;position:absolute;top:50%;transition:left .2s;visibility:hidden;z-index:1}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return r})();var Xa=C(3452);let Mv=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[Ft.u5,Ft.UX,Xa.m,In.Bz]})}return r})(),Av=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[Ft.u5,Ft.UX,Xa.m,In.Bz]})}return r})();var mS=C(3002);let QM=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[p.ez,Ft.u5,Mv,Av,Ft.UX,Xa.m,mS.VideoPageModule,In.Bz.forChild([])]})}return r})(),wv=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[p.ez,Ft.u5,Ft.UX,Xa.m]})}return r})();function Iv(r,n){1&r&&(t.TgZ(0,"div",27),t._UZ(1,"mat-spinner"),t.qZA())}function XM(r,n){1&r&&(t.TgZ(0,"th",28),t._uU(1,"N\xb0"),t.qZA())}function qu(r,n){if(1&r&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function gS(r,n){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre del dispositivo"),t.qZA())}function pS(r,n){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.DeviceName," ")}}function hm(r,n){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre familiar"),t.qZA())}function _S(r,n){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.FamilyName," ")}}function Ys(r,n){1&r&&(t.TgZ(0,"th",32),t._uU(1,"IP Privada"),t.qZA())}function md(r,n){if(1&r&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.IpAddress," ")}}function So(r,n){1&r&&(t.TgZ(0,"th",34),t._uU(1,"Puerto"),t.qZA())}function el(r,n){if(1&r&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Port," ")}}function Ju(r,n){1&r&&t._UZ(0,"tr",36)}function us(r,n){1&r&&t._UZ(0,"tr",37)}function mm(r,n){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function nc(r,n){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,mm,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const ic=function(){return[5,10,25,100]};let rc=(()=>{class r extends Cr{constructor(e,i,o,u){super(o),this.dialog=e,this.mediaServerService=i,this.matPaginatorIntl=o,this.snackbarService=u}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Cn.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new vn.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+e.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+e.DeviceName+"'"},this.dialog.open(Si,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.mediaServerService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Si,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,$n.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(vn.uw),t.Y36(fd),t.Y36(Kt.ye),t.Y36(Nr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Kt.NW,5),t.Gf(Di.YE,5)),2&i){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,Iv,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,XM,2,0,"th",11),t.YNc(18,qu,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,gS,2,0,"th",14),t.YNc(21,pS,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,hm,2,0,"th",14),t.YNc(24,_S,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,Ys,2,0,"th",18),t.YNc(27,md,2,1,"td",19),t.BQk(),t.ynx(28,20),t.YNc(29,So,2,0,"th",21),t.YNc(30,el,2,1,"td",22),t.BQk(),t.YNc(31,Ju,1,0,"tr",23),t.YNc(32,us,1,0,"tr",24),t.YNc(33,nc,2,1,"tr",25),t.qZA()()()()(),t.TgZ(34,"div",1)(35,"div",3),t._UZ(36,"mat-paginator",26),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.UserName," : Servidores multimedia"),t.xp6(10),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(7,ic)))},dependencies:[p.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Wr.Nt,gi.KE,gi.hX,Di.YE,Di.nU,Es.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return r})();function oc(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"h5",2),t.TgZ(2,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(3,"i",4),t.qZA()(),t.TgZ(4,"div",5),t._UZ(5,"app-media-server-list",6),t.qZA(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(8,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("parentItem",e.parent)}}let sc=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Eo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,oc,9,1,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[p.O5,rc]})}return r})(),Cs=(()=>{class r{constructor(e){this.elementRef=e,this.clickOutside=new t.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(e,i){i&&(this.elementRef.nativeElement.contains(i)||this.clickOutside.emit(e))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.SBq))};static#t=this.\u0275dir=t.lG2({type:r,selectors:[["","clickOutside",""]],hostBindings:function(i,o){1&i&&t.NdJ("click",function(m){return o.onClick(m,m.target)},!1,t.Jf7)("contextmenu",function(){return o.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return r})();function ac(r,n){if(1&r&&t._UZ(0,"img",7),2&r){const e=t.oxw().$implicit;t.Q6J("src",e.imageUrl,t.LSH)}}function lc(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.iconClass)}}function cc(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickContextMenuOption(u))}),t.TgZ(1,"div",3),t.YNc(2,ac,1,1,"img",4),t.YNc(3,lc,1,3,"i",5),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit;t.Udp("border-bottom",e.showBorderBottom?"1px solid black":""),t.xp6(2),t.Q6J("ngIf",e.imageUrl),t.xp6(1),t.Q6J("ngIf",e.iconClass),t.xp6(2),t.hij(" ",e.text," ")}}let Ov=(()=>{class r{constructor(){this.hideContextMenu=new t.vpe,this.clickOption=new t.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(e){this.clickOption.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(){return o.onClickOutside()}),t.YNc(1,cc,6,5,"ng-template",1),t.qZA()),2&i&&(t.Udp("top",o.top+"px")("left",o.left+"px"),t.xp6(1),t.Q6J("ngForOf",o.listOptions))},dependencies:[p.sg,p.O5,Cs],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return r})(),Pv=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o}show(e,i,o,u){return new Promise((m,v)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const G=this.factoryResolver.resolveComponentFactory(Ov).create(this.injector);this.lastViewRef=G.hostView,this.applicationRef.attachView(G.hostView);let te=this;G.instance.left=i,G.instance.top=o,G.instance.listOptions=u,G.instance.clickOption.subscribe(Ge=>{G.destroy(),te.applicationRef.detachView(G.hostView),m(Ge)}),G.instance.hideContextMenu.subscribe(Ge=>{G.destroy(),te.applicationRef.detachView(G.hostView),v(!0)});const ye=G.hostView.rootNodes[0];document.getElementById(e).appendChild(ye)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Rv(r,n){1&r&&(t.TgZ(0,"div",23),t._UZ(1,"mat-spinner"),t.qZA())}function Nv(r,n){1&r&&(t.TgZ(0,"th",24),t._uU(1,"N\xb0"),t.qZA())}function Lv(r,n){if(1&r&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function kv(r,n){1&r&&(t.TgZ(0,"th",26),t._uU(1," Usuario "),t.qZA())}function Fv(r,n){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.UserName," ")}}function Bv(r,n){1&r&&(t.TgZ(0,"th",26),t._uU(1," Correo "),t.qZA())}function gm(r,n){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Email," ")}}function yS(r,n){1&r&&(t.TgZ(0,"th",26),t._uU(1," Nombres "),t.qZA())}function eA(r,n){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.FirstName," ")}}function tA(r,n){1&r&&(t.TgZ(0,"th",26),t._uU(1," Apellidos "),t.qZA())}function bS(r,n){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.LastName," ")}}function ES(r,n){1&r&&t._UZ(0,"tr",28)}const nA=function(r){return{active:r}};function TS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"tr",29),t.NdJ("contextmenu",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onContextMenuItem(o,m))}),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(1,nA,i.lastSelectedItem&&e.Id==i.lastSelectedItem.Id))}}function iA(r,n){1&r&&(t.TgZ(0,"td",32),t._uU(1,"No se encontraron datos"),t.qZA())}function SS(r,n){if(1&r&&(t.TgZ(0,"tr",30),t.YNc(1,iA,2,0,"td",31),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const CS=function(){return[5,10,25,100]};let Uv=(()=>{class r extends Cr{constructor(e,i,o,u,m,v,w){super(v),this.router=e,this.modalService=i,this.contextMenuService=o,this.dialog=u,this.userService=m,this.matPaginatorIntl=v,this.snackbarService=w}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing")}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Cn.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new vn.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el usuario "+e.UserName+"?",accordMessage:"Si, eliminar el usuario '"+e.UserName+"'"},this.dialog.open(Si,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.userService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Si,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,$n.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","UserName","Email","FirstName","LastName"]:window.innerWidth>475?["Id","UserName","Email","LastName"]:window.innerWidth>375?["Id","UserName","Email"]:["Id","UserName"]}onContextMenuItem(e,i){this.lastSelectedItem=i,e.preventDefault(),e.stopPropagation();let o=[];o.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),o&&o.length>0&&this.renderContextMenuComponent(e.clientX,e.clientY,o,i)}renderContextMenuComponent(e,i,o,u){this.contextMenuService.show("sinovadMainContainer",e,i,o).then(m=>{"ShowMediaServers"==m.key&&this.showMediaServerListModal(u)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(e){var i=this,o=this.modalService.open(sc,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(u=>{i.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(Io),t.Y36(Pv),t.Y36(vn.uw),t.Y36(om),t.Y36(Kt.ye),t.Y36(Nr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Kt.NW,5),t.Gf(Di.YE,5)),2&i){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:37,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Usuarios"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,Rv,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,Nv,2,0,"th",11),t.YNc(18,Lv,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,kv,2,0,"th",14),t.YNc(21,Fv,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,Bv,2,0,"th",14),t.YNc(24,gm,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,yS,2,0,"th",14),t.YNc(27,eA,2,1,"td",15),t.BQk(),t.ynx(28,18),t.YNc(29,tA,2,0,"th",14),t.YNc(30,bS,2,1,"td",15),t.BQk(),t.YNc(31,ES,1,0,"tr",19),t.YNc(32,TS,1,3,"tr",20),t.YNc(33,SS,2,1,"tr",21),t.qZA()()()()(),t.TgZ(34,"div",1)(35,"div",3),t._UZ(36,"mat-paginator",22),t.qZA()()()()),2&i&&(t.xp6(13),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(6,CS)))},dependencies:[p.mk,p.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Wr.Nt,gi.KE,gi.hX,Di.YE,Di.nU,Es.Ou]})}return r})();class pm{}let dc=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,u,m,v){return new Promise((w,G)=>{let te=To();this.lastCallGuid=te;var ye="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Vt.GET,"/roles/GetAllWithPaginationAsync"+ye).then(Ge=>{this.lastCallGuid==te&&w(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Vt.PUT:Vt.POST,e.Id>0?"/roles/Update":"/roles/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.DELETE,"/roles/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let u=[];for(let w=0;w<e.length;w++)u.push(e[w].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(Vt.DELETE,"/roles/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function _m(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Qu(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,_m,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-checkbox",9),t._uU(13,"Activo"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(16,"Close"),t.qZA(),t.TgZ(17,"button",12),t._uU(18,"Guardar"),t.qZA()()(),t._UZ(19,"app-custom-spinner",13)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.roleFormGroup),t.xp6(3),t.Oqu(e.role&&e.role.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.roleFormGroup.controls.name.hasError("required")),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.roleFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let jv=(()=>{class r{constructor(e,i,o,u){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.roleService=u,this.showLoading=!1,this.matcher=new Qi}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new Ft.NI(this.role.Name,[Ft.kI.required]),enabled:new Ft.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.role));e.Name=this.roleFormGroup.value.name,e.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(e).then(i=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",$n.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ft.qu),t.Y36(Eo),t.Y36(Nr),t.Y36(dc))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,Qu,20,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.role&&o.roleFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u,Bo,p.O5,Wr.Nt,gi.KE,gi.hX,gi.TO,Vs.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function gd(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function Vv(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function DS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function pd(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function xS(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function MS(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function AS(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function wS(r,n){1&r&&t._UZ(0,"th",41)}function vm(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function Xu(r,n){1&r&&t._UZ(0,"tr",47)}function ef(r,n){1&r&&t._UZ(0,"tr",48)}function rA(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function IS(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,rA,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const OS=function(r){return{disable:r}},ym=function(){return[5,10,25,100]};let Gv=(()=>{class r extends Cr{constructor(e,i,o,u,m,v){super(u),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=u,this.snackbarService=m,this.roleService=v,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing")}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new pm;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(jv,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.role=e,o.closed.subscribe(u=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new vn.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(Si,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.roleService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Si,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,$n.Error)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(Io),t.Y36(vn.uw),t.Y36(Kt.ye),t.Y36(Nr),t.Y36(dc))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Kt.NW,5),t.Gf(Di.YE,5)),2&i){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Roles"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,gd,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Vv,2,2,"th",17),t.YNc(25,DS,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,pd,2,0,"th",20),t.YNc(28,xS,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,MS,2,0,"th",23),t.YNc(31,AS,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,wS,1,0,"th",26),t.YNc(34,vm,6,0,"td",27),t.BQk(),t.YNc(35,Xu,1,0,"tr",28),t.YNc(36,ef,1,0,"tr",29),t.YNc(37,IS,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,OS,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,ym)))},dependencies:[p.mk,p.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Wr.Nt,gi.KE,gi.hX,Di.YE,Di.nU,Vs.oG,Es.Ou,Ts.gM]})}return r})();var bm=C(3680),Hv=C(8525);function PS(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Yv(r,n){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function Kv(r,n){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Title," ")}}function Wv(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,PS,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Path"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"N\xfamero de Orden"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Tipo de \xcdcono"),t.qZA(),t.TgZ(23,"mat-select",11)(24,"mat-option",12),t._uU(25,"--"),t.qZA(),t.YNc(26,Yv,2,2,"mat-option",13),t.qZA()(),t.TgZ(27,"mat-form-field")(28,"mat-label"),t._uU(29,"Icon Class"),t.qZA(),t._UZ(30,"input",14),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"Menu Padre"),t.qZA(),t.TgZ(34,"mat-select",15)(35,"mat-option",12),t._uU(36,"--"),t.qZA(),t.YNc(37,Kv,2,2,"mat-option",13),t.qZA()(),t.TgZ(38,"mat-checkbox",16),t._uU(39,"Activo"),t.qZA()(),t.TgZ(40,"div",17)(41,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(42,"Cerrar"),t.qZA(),t.TgZ(43,"button",19),t._uU(44,"Guardar"),t.qZA()()(),t._UZ(45,"app-custom-spinner",20)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.menuFormGroup),t.xp6(3),t.Oqu(e.menu.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.menuFormGroup.controls.title.hasError("required")),t.xp6(13),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listIconTypes),t.xp6(9),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listMenusSelectable),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.menuFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let RS=(()=>{class r{constructor(e,i,o,u,m,v){this.sharedService=e,this.restProvider=i,this.formBuilder=o,this.activeModal=u,this.snackbarService=m,this.menuService=v,this.showLoading=!1,this.matcher=new Qi}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then(e=>{this.listMenusSelectable=e.Data.filter(o=>o.Id!=this.menu.Id)},e=>{console.error(e)})}getIconTypes(){this.restProvider.executeSinovadApiService(Vt.GET,"/catalogs/GetDetailsByCatalogAsync/"+st.IconTypes).then(i=>{this.listIconTypes=i.Data},i=>{console.error(i)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new Ft.NI(this.menu.Title,[Ft.kI.required]),path:new Ft.NI(this.menu.Path),iconType:new Ft.NI(this.menu.IconTypeCatalogDetailId),iconClass:new Ft.NI(this.menu.IconClass),sortOrder:new Ft.NI(this.menu.SortOrder),parentId:new Ft.NI(this.menu.ParentId),enabled:new Ft.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.menu));e.Title=this.menuFormGroup.value.title,e.Path=this.menuFormGroup.value.path,e.IconClass=this.menuFormGroup.value.iconClass,e.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?(e.IconTypeCatalogId=st.IconTypes,e.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):(e.IconTypeCatalogId=void 0,e.IconTypeCatalogDetailId=void 0),e.ParentId=this.menuFormGroup.value.parentId,e.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",$n.Success),this.menuService.getManageMenu(),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(It),t.Y36(Bt),t.Y36(Ft.qu),t.Y36(Eo),t.Y36(Nr),t.Y36(rd))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,Wv,46,10,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.menu&&o.menuFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.wV,Ft.JJ,Ft.JL,Ft.sg,Ft.u,Bo,p.sg,p.O5,Wr.Nt,gi.KE,gi.hX,gi.TO,Vs.oG,bm.ey,Hv.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function NS(r,n){1&r&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner"),t.qZA())}function LS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",42)(1,"mat-checkbox",43),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function zv(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",44)(1,"mat-checkbox",45),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function Em(r,n){1&r&&(t.TgZ(0,"th",46),t._uU(1,"N\xb0"),t.qZA())}function Tm(r,n){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function kS(r,n){1&r&&(t.TgZ(0,"th",48),t._uU(1,"T\xedtulo"),t.qZA())}function tf(r,n){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function nf(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Path"),t.qZA())}function Sm(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Path," ")}}function Zv(r,n){1&r&&(t.TgZ(0,"th",52),t._uU(1,"\xcdcono"),t.qZA())}function FS(r,n){if(1&r&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.IconClass," ")}}function BS(r,n){1&r&&(t.TgZ(0,"th",54),t._uU(1,"Orden"),t.qZA())}function US(r,n){if(1&r&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SortOrder," ")}}function rf(r,n){1&r&&t._UZ(0,"th",56)}function sf(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",57)(1,"div",58)(2,"button",59),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(u))}),t._UZ(3,"i",60),t.qZA(),t.TgZ(4,"button",61),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function Cm(r,n){1&r&&t._UZ(0,"tr",62)}function $v(r,n){1&r&&t._UZ(0,"tr",63)}function jS(r,n){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function VS(r,n){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,jS,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const qv=function(r){return{disable:r}},Dm=function(){return[5,10,25,100]};let xm=(()=>{class r extends Cr{constructor(e,i,o,u,m,v){super(u),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=u,this.snackbarService=m,this.menuService=v}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing")}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Jl;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(RS,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.menu=e,o.closed.subscribe(u=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new vn.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+e.Title+"?",accordMessage:"Si, eliminar el menu '"+e.Title+"'"},this.dialog.open(Si,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.menuService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Si,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,$n.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(Io),t.Y36(vn.uw),t.Y36(Kt.ye),t.Y36(Nr),t.Y36(rd))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Kt.NW,5),t.Gf(Di.YE,5)),2&i){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Menus"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,NS,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,LS,2,2,"th",17),t.YNc(25,zv,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Em,2,0,"th",20),t.YNc(28,Tm,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,kS,2,0,"th",23),t.YNc(31,tf,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,nf,2,0,"th",26),t.YNc(34,Sm,2,1,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,Zv,2,0,"th",29),t.YNc(37,FS,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,BS,2,0,"th",32),t.YNc(40,US,2,1,"td",33),t.BQk(),t.ynx(41,34),t.YNc(42,rf,1,0,"th",35),t.YNc(43,sf,6,0,"td",36),t.BQk(),t.YNc(44,Cm,1,0,"tr",37),t.YNc(45,$v,1,0,"tr",38),t.YNc(46,VS,2,1,"tr",39),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",40),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,qv,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,Dm)))},dependencies:[p.mk,p.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Wr.Nt,gi.KE,gi.hX,Di.YE,Di.nU,Vs.oG,Es.Ou,Ts.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class Mm{}function Am(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"p")(1,"mat-checkbox",10),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw(2);return t.KtG(v.onChangeCheckValue(o,m))}),t._uU(2),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("checked",i.selection.isSelected(e)),t.xp6(1),t.Oqu(e.Name)}}function GS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t.YNc(6,Am,3,2,"ng-template",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSaveSelection())}),t._uU(11,"Guardar"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu("G\xe9neros"),t.xp6(4),t.Q6J("ngForOf",e.listAllGenres)}}let wm=(()=>{class r{constructor(e){this.activeModal=e}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(e,i){e.target.checked?this.selection.select(i):this.selection.deselect(i)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Eo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(i,o){1&i&&(t.YNc(0,GS,12,2,"ng-template",0),t._uU(1," <\n")),2&i&&t.Q6J("ngIf",null!=o.listAllGenres)},dependencies:[p.sg,p.O5,Vs.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})(),Im=(()=>{class r{constructor(e){this.restProvider=e}getMovie(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.GET,"/movies/GetAsync/"+e).then(u=>{i(u)},u=>{console.error(u),o(u)})})}getItems(e,i,o,u,m,v){return new Promise((w,G)=>{let te=To();this.lastCallGuid=te;var ye="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Vt.GET,"/movies/GetAllWithPaginationAsync"+ye).then(Ge=>{this.lastCallGuid==te&&w(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Vt.PUT:Vt.POST,e.Id>0?"/movies/Update":"/movies/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.DELETE,"/movies/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let u=[];for(let w=0;w<e.length;w++)u.push(e[w].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(Vt.DELETE,"/movies/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var tl=C(8034);function Jv(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function HS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,Jv,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Fecha de Lanzamiento"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"G\xe9neros"),t.qZA(),t.TgZ(24,"textarea",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(25,"mat-form-field")(26,"mat-label"),t._uU(27,"Directores"),t.qZA(),t._UZ(28,"textarea",13),t.qZA(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Actores"),t.qZA(),t._UZ(32,"textarea",14),t.qZA(),t.TgZ(33,"mat-form-field")(34,"mat-label"),t._uU(35,"Resumen"),t.qZA(),t._UZ(36,"textarea",15),t.qZA(),t.TgZ(37,"mat-form-field")(38,"mat-label"),t._uU(39,"Im\xe1gen"),t.qZA(),t._UZ(40,"textarea",16),t.qZA()(),t.TgZ(41,"div",17)(42,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(43,"Close"),t.qZA(),t.TgZ(44,"button",19),t._uU(45,"Guardar"),t.qZA()()(),t._UZ(46,"app-custom-spinner",20)}if(2&r){const e=t.MAs(20),i=t.oxw();t.Q6J("formGroup",i.movieFormGroup),t.xp6(3),t.Oqu(i.movie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.movieFormGroup.controls.title.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",i.showLoading||!i.movieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",i.showLoading)}}let Qv=(()=>{class r{constructor(e,i,o,u,m,v,w){this.sharedService=e,this.modalService=i,this.genreService=o,this.formBuilder=u,this.activeModal=m,this.snackbarService=v,this.movieService=w,this.showLoading=!1,this.matcher=new Qi}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new Ft.NI(this.movie.Title,[Ft.kI.required]),releaseDate:new Ft.NI(this.sharedService.formatDate(this.movie.ReleaseDate)),directors:new Ft.NI(this.movie.Directors),actors:new Ft.NI(this.movie.Actors),overview:new Ft.NI(this.movie.Overview),posterPath:new Ft.NI(this.movie.PosterPath),selectedGenres:new Ft.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(e=>{this.movie=e.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.movie));e.Title=this.movieFormGroup.value.title,e.ReleaseDate=this.movieFormGroup.value.releaseDate,e.Directors=this.movieFormGroup.value.directors,e.Actors=this.movieFormGroup.value.actors,e.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",$n.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0?this.movie.ListItemGenres.map(i=>i.GenreName).join(", "):""}showGenresSelectionModal(){var e=this,i=this.modalService.open(wm,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.listAllGenres=this.listGenres,i.componentInstance.selection=new ki.Ov(!0,this.getMovieGenres()),i.closed.subscribe(o=>{e.setMovieGenres(o)})}getMovieGenres(){var e=this.movie.ListItemGenres.map(i=>i.GenreId);return this.listGenres.filter(i=>-1!=e.indexOf(i.Id))}setMovieGenres(e){var i=[];e.forEach(o=>{i.push({MovieId:this.movie.Id,GenreId:o.Id,GenreName:o.Name})}),this.movie.ListItemGenres=i,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(It),t.Y36(Io),t.Y36(ua),t.Y36(Ft.qu),t.Y36(Eo),t.Y36(Nr),t.Y36(Im))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,HS,47,9,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.movie&&o.movieFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u,Bo,p.O5,Wr.Nt,gi.KE,gi.hX,gi.bx,gi.TO,gi.R9,tl.Mq,tl.hl,tl.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function Xv(r,n){1&r&&(t.TgZ(0,"div",39),t._UZ(1,"mat-spinner"),t.qZA())}function Om(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",40)(1,"mat-checkbox",41),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function af(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"mat-checkbox",43),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function Pm(r,n){1&r&&(t.TgZ(0,"th",44),t._uU(1,"N\xb0"),t.qZA())}function ey(r,n){if(1&r&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function ty(r,n){1&r&&(t.TgZ(0,"th",46),t._uU(1,"T\xedtulo"),t.qZA())}function ny(r,n){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function iy(r,n){1&r&&(t.TgZ(0,"th",48),t._uU(1,"Fecha"),t.qZA())}function ry(r,n){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.ReleaseDate,"dd-MM-YYYY")," ")}}function oy(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Actores"),t.qZA())}function sy(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Actors," ")}}function lf(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Directores"),t.qZA())}function Ia(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Directors," ")}}function YS(r,n){1&r&&t._UZ(0,"th",52)}function KS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",53)(1,"div",54)(2,"button",55),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(u))}),t._UZ(3,"i",56),t.qZA(),t.TgZ(4,"button",57),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function Rm(r,n){1&r&&t._UZ(0,"tr",58)}function nl(r,n){1&r&&t._UZ(0,"tr",59)}function Nm(r,n){1&r&&(t.TgZ(0,"td",62),t._uU(1,"No se encontraron datos"),t.qZA())}function WS(r,n){if(1&r&&(t.TgZ(0,"tr",60),t.YNc(1,Nm,2,0,"td",61),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const Lm=function(r){return{disable:r}},oA=function(){return[5,10,25,100]};let ay=(()=>{class r extends Cr{constructor(e,i,o,u,m,v){super(u),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=u,this.snackbarService=m,this.movieService=v}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing")}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Mm;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(Qv,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.movie=e,o.closed.subscribe(u=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new vn.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+e.Title+"?",accordMessage:"Si, eliminar el movie '"+e.Title+"'"},this.dialog.open(Si,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.movieService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Si,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,$n.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(Io),t.Y36(vn.uw),t.Y36(Kt.ye),t.Y36(Nr),t.Y36(Im))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Kt.NW,5),t.Gf(Di.YE,5)),2&i){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Pel\xedculas"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,Xv,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Om,2,2,"th",17),t.YNc(25,af,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Pm,2,0,"th",20),t.YNc(28,ey,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,ty,2,0,"th",23),t.YNc(31,ny,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,iy,2,0,"th",26),t.YNc(34,ry,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,oy,2,0,"th",29),t.YNc(37,sy,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,lf,2,0,"th",29),t.YNc(40,Ia,2,1,"td",30),t.BQk(),t.ynx(41,32),t.YNc(42,YS,1,0,"th",33),t.YNc(43,KS,6,0,"td",34),t.BQk(),t.YNc(44,Rm,1,0,"tr",35),t.YNc(45,nl,1,0,"tr",36),t.YNc(46,WS,2,1,"tr",37),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",38),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,Lm,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,oA)))},dependencies:[p.mk,p.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Wr.Nt,gi.KE,gi.hX,Di.YE,Di.nU,Vs.oG,Es.Ou,Ts.gM,p.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class zS{}let ly=(()=>{class r{constructor(e){this.restProvider=e}getTvSerie(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.GET,"/tvseries/GetAsync/"+e).then(u=>{i(u)},u=>{console.error(u),o(u)})})}getItems(e,i,o,u,m,v){return new Promise((w,G)=>{let te=To();this.lastCallGuid=te;var ye="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Vt.GET,"/tvseries/GetAllWithPaginationAsync"+ye).then(Ge=>{this.lastCallGuid==te&&w(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Vt.PUT:Vt.POST,e.Id>0?"/tvseries/Update":"/tvseries/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.DELETE,"/tvseries/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let u=[];for(let w=0;w<e.length;w++)u.push(e[w].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(Vt.DELETE,"/tvseries/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function cy(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function ZS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,cy,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Primera fecha de emisi\xf3n"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"\xdaltima fecha de emisi\xf3n"),t.qZA(),t._UZ(24,"input",12),t.TgZ(25,"mat-hint"),t._uU(26,"MM/DD/YYYY"),t.qZA(),t._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),t.qZA(),t.TgZ(30,"mat-form-field")(31,"mat-label"),t._uU(32,"G\xe9neros"),t.qZA(),t.TgZ(33,"textarea",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(34,"mat-form-field")(35,"mat-label"),t._uU(36,"Directores"),t.qZA(),t._UZ(37,"textarea",14),t.qZA(),t.TgZ(38,"mat-form-field")(39,"mat-label"),t._uU(40,"Actores"),t.qZA(),t._UZ(41,"textarea",15),t.qZA(),t.TgZ(42,"mat-form-field")(43,"mat-label"),t._uU(44,"Resumen"),t.qZA(),t._UZ(45,"textarea",16),t.qZA(),t.TgZ(46,"mat-form-field")(47,"mat-label"),t._uU(48,"Im\xe1gen"),t.qZA(),t._UZ(49,"textarea",17),t.qZA()(),t.TgZ(50,"div",18)(51,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(52,"Close"),t.qZA(),t.TgZ(53,"button",20),t._uU(54,"Guardar"),t.qZA()()(),t._UZ(55,"app-custom-spinner",21)}if(2&r){const e=t.MAs(20),i=t.oxw();t.Q6J("formGroup",i.tvserieFormGroup),t.xp6(3),t.Oqu(i.tvserie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.tvserieFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",i.showLoading||!i.tvserieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",i.showLoading)}}let Zr=(()=>{class r{constructor(e,i,o,u,m,v,w){this.sharedService=e,this.modalService=i,this.genreService=o,this.formBuilder=u,this.activeModal=m,this.snackbarService=v,this.tvserieService=w,this.showLoading=!1,this.matcher=new Qi}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new Ft.NI(this.tvserie.Name,[Ft.kI.required]),firstAirDate:new Ft.NI(this.sharedService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new Ft.NI(this.sharedService.formatDate(this.tvserie.LastAirDate)),directors:new Ft.NI(this.tvserie.Directors),actors:new Ft.NI(this.tvserie.Actors),overview:new Ft.NI(this.tvserie.Overview),posterPath:new Ft.NI(this.tvserie.PosterPath),selectedGenres:new Ft.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(e=>{this.tvserie=e.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.tvserie));e.Name=this.tvserieFormGroup.value.name,e.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,e.LastAirDate=this.tvserieFormGroup.value.lastAirDate,e.Directors=this.tvserieFormGroup.value.directors,e.Actors=this.tvserieFormGroup.value.actors,e.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",$n.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0?this.tvserie.ListItemGenres.map(i=>i.GenreName).join(", "):""}showGenresSelectionModal(){var e=this,i=this.modalService.open(wm,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.listAllGenres=this.listGenres,i.componentInstance.selection=new ki.Ov(!0,this.getTvSerieGenres()),i.closed.subscribe(o=>{e.setTvSerieGenres(o)})}getTvSerieGenres(){var e=this.tvserie.ListItemGenres.map(i=>i.GenreId);return this.listGenres.filter(i=>-1!=e.indexOf(i.Id))}setTvSerieGenres(e){var i=[];e.forEach(o=>{i.push({TvSerieId:this.tvserie.Id,GenreId:o.Id,GenreName:o.Name})}),this.tvserie.ListItemGenres=i,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(It),t.Y36(Io),t.Y36(ua),t.Y36(Ft.qu),t.Y36(Eo),t.Y36(Nr),t.Y36(ly))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,ZS,56,11,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.tvserie&&o.tvserieFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u,Bo,p.O5,Wr.Nt,gi.KE,gi.hX,gi.bx,gi.TO,gi.R9,tl.Mq,tl.hl,tl.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class dy{}let uy=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,u,m,v,w){return new Promise((G,te)=>{let ye=To();this.lastCallGuid=ye;var Ue="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+m+"&searchText="+v+"&searchBy="+w;this.restProvider.executeSinovadApiService(Vt.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+e+Ue).then(tt=>{this.lastCallGuid==ye&&G(tt)},tt=>{console.error(tt),te(tt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Vt.PUT:Vt.POST,e.Id>0?"/seasons/Update":"/seasons/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.DELETE,"/seasons/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let u=[];for(let w=0;w<e.length;w++)u.push(e[w].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(Vt.DELETE,"/seasons/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function $S(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function fy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,$S,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.seasonFormGroup),t.xp6(3),t.Oqu(e.season.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.seasonFormGroup.controls.name.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.seasonFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let qS=(()=>{class r{constructor(e,i,o,u){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.seasonService=u,this.showLoading=!1,this.matcher=new Qi}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new Ft.NI(this.season.Name,[Ft.kI.required]),seasonNumber:new Ft.NI(this.season.SeasonNumber),summary:new Ft.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.season));e.SeasonNumber=this.seasonFormGroup.value.seasonNumber,e.Name=this.seasonFormGroup.value.name,e.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(e).then(i=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",$n.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ft.qu),t.Y36(Eo),t.Y36(Nr),t.Y36(uy))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,fy,26,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.season&&o.seasonFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.wV,Ft.JJ,Ft.JL,Ft.sg,Ft.u,Bo,p.O5,Wr.Nt,gi.KE,gi.hX,gi.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class km{}let cf=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,u,m,v,w){return new Promise((G,te)=>{let ye=To();this.lastCallGuid=ye;var Ue="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+m+"&searchText="+v+"&searchBy="+w;this.restProvider.executeSinovadApiService(Vt.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+e+Ue).then(tt=>{this.lastCallGuid==ye&&G(tt)},tt=>{console.error(tt),te(tt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Vt.PUT:Vt.POST,e.Id>0?"/episodes/Update":"/episodes/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}createList(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.POST,"/episodes/CreateList",e).then(u=>{i(!0)},u=>{console.error(u),o(u)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Vt.DELETE,"/episodes/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let u=[];for(let w=0;w<e.length;w++)u.push(e[w].Id);var m=u.join(",");this.restProvider.executeSinovadApiService(Vt.DELETE,"/episodes/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function uc(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xcdtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function JS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xcdtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,uc,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.episodeFormGroup),t.xp6(3),t.Oqu(e.episode.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.episodeFormGroup.controls.title.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.episodeFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let QS=(()=>{class r{constructor(e,i,o,u){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.episodeService=u,this.showLoading=!1,this.matcher=new Qi}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new Ft.NI(this.episode.Title,[Ft.kI.required]),episodeNumber:new Ft.NI(this.episode.EpisodeNumber),summary:new Ft.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.episode));e.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,e.Title=this.episodeFormGroup.value.title,e.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(e).then(i=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",$n.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ft.qu),t.Y36(Eo),t.Y36(Nr),t.Y36(cf))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,JS,26,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.episode&&o.episodeFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.wV,Ft.JJ,Ft.JL,Ft.sg,Ft.u,Bo,p.O5,Wr.Nt,gi.KE,gi.hX,gi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function hy(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function XS(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function my(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.save())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3,"Rango de Episodios"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Desde"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,hy,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Hasta"),t.qZA(),t._UZ(15,"input",9),t.YNc(16,XS,4,0,"mat-error",8),t.qZA()(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(19,"Close"),t.qZA(),t.TgZ(20,"button",12),t._uU(21,"Guardar"),t.qZA()(),t._UZ(22,"app-custom-spinner",13),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.formGroup),t.xp6(11),t.Q6J("ngIf",e.formGroup.controls.initialEpisodeNumber.hasError("required")),t.xp6(5),t.Q6J("ngIf",e.formGroup.controls.lastEpisodeNumber.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.formGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let sA=(()=>{class r{constructor(e,i,o){this.formBuilder=e,this.episodeService=i,this.activeModal=o,this.matcher=new Qi,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new Ft.NI("",[Ft.kI.required]),lastEpisodeNumber:new Ft.NI("",[Ft.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let i=[];for(let o=Number(this.formGroup.value.initialEpisodeNumber);o<=Number(this.formGroup.value.lastEpisodeNumber);o++){var e=new km;e.EpisodeNumber=o,e.SeasonId=this.parent.Id,e.Title="Episodio "+o,i.push(e)}this.episodeService.createList(i).then(o=>{this.showLoading=!1,this.activeModal.close(!0)},o=>{this.showLoading=!1,console.error(o)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ft.qu),t.Y36(cf),t.Y36(Eo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,my,23,5,"form",0),2&i&&t.Q6J("ngIf",o.formGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.wV,Ft.JJ,Ft.JL,Ft.sg,Ft.u,Bo,p.O5,Wr.Nt,gi.KE,gi.hX,gi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function Fm(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function Bm(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Ks(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function eC(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function gy(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.EpisodeNumber,"")}}function Ws(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1,"T\xcdtulo"),t.qZA())}function Ds(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function xs(r,n){1&r&&t._UZ(0,"th",41)}function py(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function _y(r,n){1&r&&t._UZ(0,"tr",47)}function tC(r,n){1&r&&t._UZ(0,"tr",48)}function nC(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function iC(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,nC,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const rC=function(r){return{disable:r}},Um=function(){return[5,10,25,100]};let _d=(()=>{class r extends Cr{constructor(e,i,o,u,m){super(u),this.modalService=e,this.dialog=i,this.episodeService=o,this.matPaginatorIntl=u,this.snackbarService=m}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new km;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(QS,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.episode=e,o.closed.subscribe(u=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Cn.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new vn.vA;i.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+e.Title+"?",accordMessage:"Si, eliminar el episodio '"+e.Title+"'"},this.dialog.open(Si,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.episodeService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Si,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,$n.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var e=this,i=this.modalService.open(sA,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.parent=this.parentItem,i.closed.subscribe(o=>{e.getAllItems()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Io),t.Y36(vn.uw),t.Y36(cf),t.Y36(Kt.ye),t.Y36(Nr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Kt.NW,5),t.Gf(Di.YE,5)),2&i){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return o.showEpisodeRangeModal()}),t._uU(12," Agregar por Rango "),t.qZA()()(),t.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),t._uU(17,"Buscar"),t.qZA(),t.TgZ(18,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(20,"div",12),t.YNc(21,Fm,2,0,"div",13),t.TgZ(22,"div",14)(23,"table",15),t.ynx(24,16),t.YNc(25,Bm,2,2,"th",17),t.YNc(26,Ks,2,1,"td",18),t.BQk(),t.ynx(27,19),t.YNc(28,eC,2,0,"th",20),t.YNc(29,gy,2,1,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,Ws,2,0,"th",23),t.YNc(32,Ds,2,1,"td",24),t.BQk(),t.ynx(33,25),t.YNc(34,xs,1,0,"th",26),t.YNc(35,py,6,0,"td",27),t.BQk(),t.YNc(36,_y,1,0,"tr",28),t.YNc(37,tC,1,0,"tr",29),t.YNc(38,iC,2,1,"tr",30),t.qZA()()()()(),t.TgZ(39,"div",1)(40,"div",9),t._UZ(41,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.Name," :Episodios"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,rC,!o.selection.hasValue())),t.xp6(12),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,Um)))},dependencies:[p.mk,p.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Wr.Nt,gi.KE,gi.hX,Di.YE,Di.nU,Vs.oG,Es.Ou,Ts.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function oC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-episode-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Episodios"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let vy=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Eo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,oC,10,2,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[p.O5,_d]})}return r})();function sC(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function aC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function yy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function by(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function df(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SeasonNumber,"")}}function lC(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1,"Nombre"),t.qZA())}function Ey(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function Ty(r,n){1&r&&t._UZ(0,"th",41)}function Sy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showEpisodeListModal(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(u))}),t._UZ(5,"i",47),t.qZA(),t.TgZ(6,"button",48),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(u))}),t._UZ(7,"i",7),t.qZA()()()}}function cC(r,n){1&r&&t._UZ(0,"tr",49)}function dC(r,n){1&r&&t._UZ(0,"tr",50)}function jm(r,n){1&r&&(t.TgZ(0,"td",53),t._uU(1,"No se encontraron datos"),t.qZA())}function uf(r,n){if(1&r&&(t.TgZ(0,"tr",51),t.YNc(1,jm,2,0,"td",52),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const Vm=function(r){return{disable:r}},Cy=function(){return[5,10,25,100]};let Dy=(()=>{class r extends Cr{constructor(e,i,o,u,m){super(u),this.modalService=e,this.dialog=i,this.seasonService=o,this.matPaginatorIntl=u,this.snackbarService=m}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new dy;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(qS,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.season=e,o.closed.subscribe(u=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Cn.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new vn.vA;i.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+e.Name+"?",accordMessage:"Si, eliminar la temporada '"+e.Name+"'"},this.dialog.open(Si,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.seasonService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Si,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,$n.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(e){var o=this.modalService.open(vy,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(u=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Io),t.Y36(vn.uw),t.Y36(uy),t.Y36(Kt.ye),t.Y36(Nr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Kt.NW,5),t.Gf(Di.YE,5)),2&i){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,sC,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,aC,2,2,"th",17),t.YNc(25,yy,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,by,2,0,"th",20),t.YNc(28,df,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,lC,2,0,"th",23),t.YNc(31,Ey,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,Ty,1,0,"th",26),t.YNc(34,Sy,8,0,"td",27),t.BQk(),t.YNc(35,cC,1,0,"tr",28),t.YNc(36,dC,1,0,"tr",29),t.YNc(37,uf,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.Name," :Temporadas"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,Vm,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,Cy)))},dependencies:[p.mk,p.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Wr.Nt,gi.KE,gi.hX,Di.YE,Di.nU,Vs.oG,Es.Ou,Ts.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function xy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-season-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Temporadas"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let My=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Eo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,xy,10,2,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[p.O5,Dy]})}return r})();function Ay(r,n){1&r&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner"),t.qZA())}function wy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",41)(1,"mat-checkbox",42),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Iy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",43)(1,"mat-checkbox",44),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function Oy(r,n){1&r&&(t.TgZ(0,"th",45),t._uU(1,"N\xb0"),t.qZA())}function uC(r,n){if(1&r&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function fC(r,n){1&r&&(t.TgZ(0,"th",47),t._uU(1,"Nombre"),t.qZA())}function hC(r,n){if(1&r&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function mC(r,n){1&r&&(t.TgZ(0,"th",49),t._uU(1,"Primera emisi\xf3n"),t.qZA())}function gC(r,n){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.FirstAirDate,"dd-MM-YYYY")," ")}}function pC(r,n){1&r&&(t.TgZ(0,"th",49),t._uU(1,"\xdaltima emisi\xf3n"),t.qZA())}function _C(r,n){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.LastAirDate,"dd-MM-YYYY")," ")}}function vC(r,n){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Actores"),t.qZA())}function yC(r,n){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=n.$implicit,i=t.MAs(1);t.Udp("cursor",i.offsetWidth<i.scrollWidth?"pointer":""),t.s9C("matTooltip",i.offsetWidth<i.scrollWidth?e.Actors:""),t.xp6(2),t.Oqu(e.Actors)}}function bC(r,n){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Directores"),t.qZA())}function EC(r,n){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=n.$implicit,i=t.MAs(1);t.Udp("cursor",i.offsetWidth<i.scrollWidth?"pointer":""),t.s9C("matTooltip",i.offsetWidth<i.scrollWidth?e.Directors:""),t.xp6(2),t.hij(" ",e.Directors," ")}}function TC(r,n){1&r&&t._UZ(0,"th",54)}function SC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",55)(1,"div",56)(2,"button",57),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showSeasonListModal(u))}),t._UZ(3,"i",58),t.qZA(),t.TgZ(4,"button",59),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(u))}),t._UZ(5,"i",60),t.qZA(),t.TgZ(6,"button",61),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(u))}),t._UZ(7,"i",7),t.qZA()()()}}function CC(r,n){1&r&&t._UZ(0,"tr",62)}function DC(r,n){1&r&&t._UZ(0,"tr",63)}function xC(r,n){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function MC(r,n){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,xC,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const Py=function(r){return{disable:r}},Ry=function(){return[5,10,25,100]};let ff=(()=>{class r extends Cr{constructor(e,i,o,u,m,v){super(u),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=u,this.snackbarService=m,this.tvserieService=v}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing")}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new zS;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(Zr,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.tvserie=e,o.closed.subscribe(u=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Cn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new vn.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+e.Name+"?",accordMessage:"Si, eliminar la serie '"+e.Name+"'"},this.dialog.open(Si,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.tvserieService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",$n.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,$n.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new vn.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Si,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",$n.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,$n.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(e){var o=this.modalService.open(My,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(u=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(Io),t.Y36(vn.uw),t.Y36(Kt.ye),t.Y36(Nr),t.Y36(ly))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(Kt.NW,5),t.Gf(Di.YE,5)),2&i){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Series"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,Ay,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,wy,2,2,"th",17),t.YNc(25,Iy,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Oy,2,0,"th",20),t.YNc(28,uC,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,fC,2,0,"th",23),t.YNc(31,hC,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,mC,2,0,"th",26),t.YNc(34,gC,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,pC,2,0,"th",26),t.YNc(37,_C,3,4,"td",27),t.BQk(),t.ynx(38,29),t.YNc(39,vC,2,0,"th",30),t.YNc(40,yC,3,4,"td",31),t.BQk(),t.ynx(41,32),t.YNc(42,bC,2,0,"th",30),t.YNc(43,EC,3,4,"td",31),t.BQk(),t.ynx(44,33),t.YNc(45,TC,1,0,"th",34),t.YNc(46,SC,8,0,"td",35),t.BQk(),t.YNc(47,CC,1,0,"tr",36),t.YNc(48,DC,1,0,"tr",37),t.YNc(49,MC,2,1,"tr",38),t.qZA()()()()(),t.TgZ(50,"div",1)(51,"div",9),t._UZ(52,"mat-paginator",39),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,Py,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,Ry)))},dependencies:[p.mk,p.O5,Kt.NW,Cn.BZ,Cn.fO,Cn.as,Cn.w1,Cn.Dz,Cn.nj,Cn.ge,Cn.ev,Cn.XQ,Cn.Gk,Cn.Ee,Wr.Nt,gi.KE,gi.hX,Di.YE,Di.nU,Vs.oG,Es.Ou,Ts.gM,p.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class Ny{}function Ly(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function ky(r,n){if(1&r&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function Fy(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Tipo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function By(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Directorio es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Uy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveStorage())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,Ly,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Tipo"),t.qZA(),t.TgZ(15,"mat-select",9)(16,"mat-option",10),t._uU(17,"--"),t.qZA(),t.YNc(18,ky,2,2,"mat-option",11),t.qZA(),t.YNc(19,Fy,4,0,"mat-error",8),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Directorio"),t.qZA(),t.TgZ(23,"input",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.YNc(24,By,4,0,"mat-error",8),t.qZA()(),t.TgZ(25,"div",13)(26,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(27,"Close"),t.qZA(),t.TgZ(28,"button",15),t._uU(29,"Guardar"),t.qZA()()(),t._UZ(30,"app-custom-spinner",16)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.libraryFormGroup),t.xp6(3),t.Oqu(e.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.name.hasError("required")),t.xp6(5),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.mediaTypes),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.mediaType.hasError("required")),t.xp6(4),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.physicalPath.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.libraryFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let Gm=(()=>{class r{constructor(e,i,o,u,m){this.sharedService=e,this.libraryService=i,this.activeModal=o,this.formBuilder=u,this.modalService=m,this.showLoading=!1,this.matcher=new Qi,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new Ft.NI(this.library.Name,[Ft.kI.required]),mediaType:new Ft.NI(this.library.MediaTypeCatalogDetailId,[Ft.kI.required]),physicalPath:new Ft.NI(this.library.PhysicalPath,[Ft.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.library));e.Name=this.libraryFormGroup.value.name,e.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),e.MediaTypeCatalogId=st.MediaType,e.PhysicalPath=this.libraryFormGroup.value.physicalPath,e.MediaServerId=this.sharedService.selectedMediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,e).then(i=>{this.showLoading=!1,this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var e=this,i=this.modalService.open(nd,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.mediaServer=this.sharedService.selectedMediaServer,i.closed.subscribe(o=>{e.libraryFormGroup.controls.physicalPath.setValue(o)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(It),t.Y36(ds),t.Y36(Eo),t.Y36(Ft.qu),t.Y36(Io))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,Uy,31,11,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.library&&o.libraryFormGroup)},dependencies:[Ft._Y,Ft.Fj,Ft.JJ,Ft.JL,Ft.sg,Ft.u,Bo,p.sg,p.O5,Wr.Nt,gi.KE,gi.hX,gi.TO,bm.ey,Hv.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function Hm(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onSelectItem(u))}),t._UZ(1,"i"),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&r){const e=n.$implicit;t.xp6(1),t.Gre("",e.iconClass," me-2"),t.xp6(2),t.Oqu(e.title)}}function il(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.TgZ(2,"div",3),t.YNc(3,Hm,4,4,"ng-template",4),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Udp("top",e.top+"px")("right",e.right+"px"),t.xp6(2),t.Q6J("ngForOf",e.options.listItems)}}let AC=(()=>{class r{constructor(e){this.ref=e,this.hide=new t.vpe,this.selectOption=new t.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(e){this.selectOption.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(i,o){1&i&&t.YNc(0,il,4,5,"div",0),2&i&&t.Q6J("ngIf",o.showMenu)},dependencies:[p.sg,p.O5,Cs],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return r})(),lA=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o}show(e){return new Promise((i,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const m=this.factoryResolver.resolveComponentFactory(AC).create(this.injector);this.lastViewRef=m.hostView,this.applicationRef.attachView(m.hostView);let v=this;const w=e.target.getBoundingClientRect();var G=window.innerWidth-w.right,te=w.top+w.height;m.instance.options=e,m.instance.right=G,m.instance.top=te,m.instance.selectOption.subscribe(Ge=>{Ge.eventOnSelectItem&&Ge.eventOnSelectItem.emit(!0),m.destroy(),v.applicationRef.detachView(m.hostView),i(Ge)}),m.instance.hide.subscribe(Ge=>{m.destroy(),v.applicationRef.detachView(m.hostView),o(!0)});const ye=m.hostView.rootNodes[0];document.getElementById(e.containerId).appendChild(ye)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ym(r,n){1&r&&t._UZ(0,"i",16)}function cA(r,n){1&r&&t._UZ(0,"i",17)}const jy=function(r){return{selected:r}};function Vy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t.YNc(3,Ym,1,0,"i",9),t.YNc(4,cA,1,0,"i",10),t.qZA(),t.TgZ(5,"a"),t._uU(6),t.qZA(),t.TgZ(7,"div",11)(8,"div",12)(9,"button",13),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw(2);return t.KtG(v.showActions(o,m))}),t.TgZ(10,"span",14),t._UZ(11,"i",15),t.qZA()()()()()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(4,jy,i.currentLibrary&&i.currentLibrary.Id==e.Id)),t.xp6(3),t.Q6J("ngIf",1==e.MediaTypeCatalogDetailId),t.xp6(1),t.Q6J("ngIf",2==e.MediaTypeCatalogDetailId),t.xp6(2),t.Oqu(e.Name)}}function dA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openNewLibrary())}),t._uU(7,"A\xf1adir biblioteca"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateVideoInAllLibraries())}),t._uU(9,"Buscar archivos en biblioteca"),t.qZA()(),t.YNc(10,Vy,12,6,"ng-template",5),t.qZA()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Bibliotecas"),t.xp6(3),t.hij("",e.listLibraries?e.listLibraries.length:""," bibliotecas"),t.xp6(5),t.Q6J("ngForOf",e.listLibraries)}}let rl=(()=>{class r{constructor(e,i,o,u,m,v,w,G,te){this.customMenuService=e,this.modalService=i,this.libraryService=o,this.mediaServerService=u,this.dialog=m,this.snackBarService=v,this.router=w,this.activeRoute=G,this.sharedService=te}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing"),this.getMediaServerData()}getMediaServerData(){var e=this;return gr(function*(){e.mediaServerService.getMediaServerByGuid(e.activeRoute.snapshot.params.serverGuid).then(o=>{var u=o.Data,m=e.sharedService.mediaServers.find(v=>v.Id==u.Id);u.isSecureConnection=m.isSecureConnection,e.sharedService.selectedMediaServer=u,e.mediaServer=u,e.getAllItems()},o=>{e.router.navigateByUrl("/404")})})()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(e=>{this.listLibraries=e},e=>{})}openNewLibrary(){let e=new Ny;e.MediaServerId=this.sharedService.selectedMediaServer.Id,this.showModalForm(e)}editLibrary(e){this.showModalForm(JSON.parse(JSON.stringify(e)))}showModalForm(e){var i=this,o=this.modalService.open(Gm,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.library=e,o.componentInstance.mediaServer=this.mediaServer,o.closed.subscribe(u=>{i.getAllItems()})}deleteLibrary(e){var i=new vn.vA;i.data={title:"Eliminar biblioteca",message:"La biblioteca '"+e.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+e.Name+"'"},this.dialog.open(Si,i).afterClosed().subscribe(o=>{o&&this.executeDeleteLibrary(e)})}executeDeleteLibrary(e){this.libraryService.deleteItem(this.mediaServer.Url,e.Id).then(i=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",$n.Success),this.getAllItems()},i=>{console.error(i),this.snackBarService.showSnackBar(i,$n.Error)})}showActions(e,i){this.currentLibrary=i;var o=JSON.parse(JSON.stringify(i)),u=e.currentTarget,m=[],v=new t.vpe;v.subscribe(te=>{this.editLibrary(o)}),m.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:v});var w=new t.vpe;w.subscribe(te=>{this.updateLibraryVideos(o)}),m.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:w});var G=new t.vpe;G.subscribe(te=>{this.deleteLibrary(o)}),m.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:G}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:m,target:u}).then(te=>{this.currentLibrary=void 0},te=>{this.currentLibrary=void 0})}updateLibraryVideos(e){e.Id>0&&null!=e.PhysicalPath&&""!=e.PhysicalPath&&this.searchFilesInLibraries([e])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(e){this.libraryService.searchFiles(this.sharedService.selectedMediaServer.Url,e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(lA),t.Y36(Io),t.Y36(ds),t.Y36(fd),t.Y36(vn.uw),t.Y36(Nr),t.Y36(In.F0),t.Y36(In.gz),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-list"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"]],template:function(i,o){1&i&&t.YNc(0,dA,11,3,"div",0),2&i&&t.Q6J("ngIf",o.mediaServer)},dependencies:[p.mk,p.sg,p.O5],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return r})();function wC(r,n){if(1&r&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",i.sharedService.getInitials(e)," ")}}function IC(r,n){if(1&r&&(t._UZ(0,"img",23),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw().$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function OC(r,n){1&r&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"img",6),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("src",t.lcZ(3,1,t.xi3(4,3,"edit-profile.png","GetImageURLByKey")),t.LSH))}function fc(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onSelectProfile(u))}),t.YNc(1,wC,2,1,"div",20),t.YNc(2,IC,3,6,"img",20),t.YNc(3,OC,5,6,"div",21),t.TgZ(4,"div",22),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.MGl("id","profile_",e.Id,""),t.xp6(1),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(1),t.Q6J("ngIf",i.enableEditMode),t.xp6(2),t.hij(" ",e.FullName," ")}}function PC(r,n){if(1&r&&t.YNc(0,fc,6,5,"ng-template",18),2&r){const e=t.oxw();t.Q6J("ngForOf",e.sharedService.listProfiles)}}function hf(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeToEditMode())}),t._uU(1," EDITAR PERFILES "),t.qZA()}}function mf(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmEdit())}),t._uU(1," LISTO "),t.qZA()}}let Ro=(()=>{class r{constructor(e,i,o){this.profileService=e,this.router=i,this.sharedService=o,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/add-profile")}editProfile(e){this.router.navigateByUrl("/edit-profile/"+e.Guid)}onSelectProfile(e){this.enableEditMode?this.editProfile(e):this.enterProfile(e)}enterProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedService.userData.Id,1,100,"Id","asc","","").then(e=>{let i=e.Data;this.sharedService.listProfiles=i,this.sharedService.currentProfile=i[0],this.showLoading=!1},e=>{this.showLoading=!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Ql),t.Y36(In.F0),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),t._UZ(6,"img",6),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA()(),t.TgZ(9,"div",7)(10,"div",8),t._uU(11," \xbfQui\xe9n eres? "),t.qZA(),t.TgZ(12,"div",9),t.YNc(13,PC,1,1,"ng-template",10),t.TgZ(14,"button",11),t.NdJ("click",function(){return o.showNewProfile()}),t.TgZ(15,"div",12),t._UZ(16,"img",13),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t.qZA(),t.TgZ(19,"div",14),t._uU(20," Crear "),t.qZA()()()(),t.TgZ(21,"div",15,16),t.YNc(23,hf,2,0,"ng-template",10),t.YNc(24,mf,2,0,"ng-template",10),t.qZA()()(),t._UZ(25,"app-custom-spinner",17)),2&i){const u=t.MAs(4),m=t.MAs(22);t.xp6(6),t.Q6J("src",t.lcZ(7,8,t.xi3(8,10,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Udp("height",o._window.innerWidth<768?"calc(100% - "+(u.offsetHeight+m.offsetHeight)+"px)":""),t.xp6(4),t.Q6J("ngIf",o.sharedService.listProfiles),t.xp6(3),t.Q6J("src",t.lcZ(17,13,t.xi3(18,15,"plus.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.enableEditMode),t.xp6(1),t.Q6J("ngIf",o.enableEditMode),t.xp6(1),t.Q6J("showLoading",o.showLoading)}},dependencies:[Bo,p.sg,p.O5,Oo,p.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return r})();class uA{}function Gy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"img",4),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCloseProfileNew())}),t._uU(8,"CANCELAR"),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"h2"),t._uU(12,"Crear Perfil"),t.qZA(),t.TgZ(13,"div",9)(14,"input",10),t.NdJ("ngModelChange",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.currentTmpProfile.FullName=o)}),t.qZA()(),t.TgZ(15,"div",9)(16,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(17,"GUARDAR"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(11),t.Q6J("placeholder",e.placeHolder)("ngModel",e.currentTmpProfile.FullName)}}let Hy=(()=>{class r{constructor(e,i,o){this.router=e,this.sharedService=i,this.profileService=o,this.placeHolder="Nombre de Perfil"}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.currentTmpProfile=new uA,this.currentTmpProfile.UserId=this.sharedService.userData.Id}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onCloseProfileNew(){this.router.navigateByUrl("/select-profile")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(It),t.Y36(Ql))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-new"]],decls:1,vars:1,consts:[["class","sinovad-form-page-container",4,"ngIf"],[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],[1,"sinovaclient-right"],[1,"cancel",3,"click"],[1,"sinovad-page-body"],[1,"sinovad-page-content"],[1,"mb-3"],["type","text",3,"placeholder","ngModel","ngModelChange"],[1,"save",3,"click"]],template:function(i,o){1&i&&t.YNc(0,Gy,18,8,"div",0),2&i&&t.Q6J("ngIf",o.currentTmpProfile)},dependencies:[Ft.Fj,Ft.JJ,Ft.On,p.O5,Oo,p.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}button[_ngcontent-%COMP%]{float:right;font-size:15px;padding:0 24px;height:48px;color:#f9f9f9;border-radius:5px;border:none;opacity:.8}button.save[_ngcontent-%COMP%]{background:#007bff;width:100%}button.cancel[_ngcontent-%COMP%]{background:lightslategrey}button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-page-body[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{width:300px}.sinovad-page-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center}.sinovad-page-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;width:100%;padding:7px 12px;font-size:15px;height:48px}"]})}return r})();function RC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(2,"Listo"),t.qZA()()}}function Yy(r,n){1&r&&(t.TgZ(0,"p",24),t._uU(1,"El perfil principal no se puede eliminar"),t.qZA())}function Ky(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickDeleteButton())}),t._uU(1,"Eliminar Perfil"),t.qZA()}}function Wy(r,n){if(1&r&&(t.TgZ(0,"div",25),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.currentTmpProfile)," ")}}function zy(r,n){if(1&r&&(t._UZ(0,"img",25),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.currentTmpProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function NC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2",11),t._uU(4,"Editar Perfil"),t.qZA(),t.YNc(5,Yy,2,0,"p",12),t.qZA(),t.TgZ(6,"div",13)(7,"div",14)(8,"input",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.currentTmpProfile.FullName=o)}),t.qZA(),t.TgZ(9,"div",16),t.YNc(10,Ky,2,0,"button",17),t.qZA()(),t.TgZ(11,"div",18)(12,"input",19,20),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.uploadAvatarImage(o))}),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(13);return t.KtG(o.click())}),t.YNc(15,Wy,2,1,"div",21),t.YNc(16,zy,3,6,"img",21),t.TgZ(17,"div",22)(18,"div",23),t._UZ(19,"img",3),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&e.currentTmpProfile.Main),t.xp6(3),t.Q6J("ngModel",e.currentTmpProfile.FullName),t.xp6(2),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&!e.currentTmpProfile.Main),t.xp6(5),t.Q6J("ngIf",null==e.currentTmpProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.currentTmpProfile.AvatarPath&&!e.hideImage),t.xp6(3),t.Q6J("src",t.lcZ(20,6,t.xi3(21,8,"edit-profile.png","GetImageURLByKey")),t.LSH)}}let LC=(()=>{class r{constructor(e,i,o,u,m){this.router=e,this.activeRoute=i,this.profileService=o,this.restProvider=u,this.sharedService=m,this.hideImage=!1}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.profileService.getProfileByGuid(this.activeRoute.snapshot.params.profileGuid).then(i=>{null==i.Data&&this.router.navigateByUrl("404"),this.currentTmpProfile=i.Data},i=>{this.router.navigateByUrl("404")})}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onClickDeleteButton(){this.profileService.deleteItem(this.currentTmpProfile.Id).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}uploadAvatarImage(e){if(e.target.files&&e.target.files.length>0){let u=e.target.files[0];var i=new FormData;i.append("ProfileId",this.currentTmpProfile.Id.toString()),i.append("File",u,u.name),this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",i).then(m=>{this.restProvider.executeSinovadApiService(Vt.GET,"/profiles/GetAsync/"+this.currentTmpProfile.Id).then(v=>{this.currentTmpProfile=v.Data,this.hideImage=!0,setTimeout(()=>{this.hideImage=!1},0)},v=>{console.error(v)})},m=>{console.error(m)})}}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(In.gz),t.Y36(Ql),t.Y36(Bt),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-edit"]],decls:8,vars:8,consts:[[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],["class","sinovaclient-right",4,"ngIf"],["class","sinovad-page-container",4,"ngIf"],[1,"sinovaclient-right"],[3,"click"],[1,"sinovad-page-container"],[1,"sinovad-page-content"],[1,"top-container"],[1,"title"],["class","subtitle",4,"ngIf"],[1,"bottom-container"],[1,"first"],["type","text",3,"ngModel","ngModelChange"],[1,"sinovad-delete-profile-button-container"],[3,"click",4,"ngIf"],[1,"second"],["type","file","accept",".png,.jpg",2,"display","none",3,"change"],["input",""],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[1,"subtitle"],[1,"sinovad-initials-profile"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,RC,3,0,"div",4),t.qZA(),t.YNc(7,NC,22,11,"div",5),t.qZA()),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",o.currentTmpProfile),t.xp6(1),t.Q6J("ngIf",o.currentTmpProfile))},dependencies:[Ft.Fj,Ft.JJ,Ft.On,p.O5,Oo,p.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;font-size:20px;background:#007bff;color:#f9f9f9;border-radius:5px;border:none;opacity:.8;height:48px;padding:0 24px}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:100px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{display:block}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:left}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{color:#fff;font-size:32px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   p.subtitle[_ngcontent-%COMP%]{font-size:15px;color:#cacaca}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;min-width:200px;font-size:20px;border-radius:4px;outline:none;padding:7px 12px;border:1px solid transparent}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin:0 0 0 75px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:213px;height:213px;border:2px solid transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:80px;background-color:#789;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:30px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;color:red;opacity:.8;font-size:15px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:170px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{order:2}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px;order:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px}}"]})}return r})();const kC=["itemListContainer"];function yd(r,n){if(1&r&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function FC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onClickItem(u))}),t._UZ(2,"img",12),t.qZA(),t.YNc(3,yd,3,1,"div",13),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerie_ID:e.MovieId,"_",e.MediaType,""),t.xp6(1),t.Q6J("src",i.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",!e.Subtitle)}}function BC(r,n){if(1&r&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),t.YNc(6,FC,4,4,"ng-template",3),t.qZA()()()()),2&r){const e=n.$implicit;t.MGl("id","section_search_",n.index,""),t.xp6(6),t.Q6J("ngForOf",e)}}let UC=(()=>{class r{constructor(e,i,o){this.libraryService=e,this.router=i,this.sharedService=o,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection&&this.libraryService.getAllMediaItemsBySearchQuery(e.Url,this.searchText).then(i=>{this.listItems=this.listItems.concat(i),this.buildGroupItems(this.listItems)},i=>{console.error(i)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(e){if(e&&e.length>0){let m=window.innerWidth>=2048?250:180;var i=Math.floor(this.container.nativeElement.offsetWidth/m),o=e.reduce((v,w,G)=>{var te=Math.floor(G/i)+1;return v[`row${te}`]=v[`row${te}`]||[],v[`row${te}`].push(w),v},{}),u=Object.keys(o).map(function(v){return o[v]});this.listGroupItems=u}else this.listGroupItems=[]}onClickItem(e){this.getMediaDetail(e)}getMediaDetail(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}onResize(e){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ds),t.Y36(In.F0),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-vertical-item-list"]],viewQuery:function(i,o){if(1&i&&t.Gf(kC,5),2&i){let u;t.iGM(u=t.CRH())&&(o.container=u.first)}},hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,BC,7,2,"ng-template",3),t.qZA()()),2&i&&(t.Udp("height","100%"),t.xp6(3),t.Q6J("ngForOf",o.listGroupItems))},dependencies:[p.sg,p.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();function gf(r,n){if(1&r&&(t.TgZ(0,"div",7)(1,"h2"),t._uU(2),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.hij('Resultados para "',e.searchText,'"')}}let Km=(()=>{class r{constructor(e,i,o){this.router=e,this.route=i,this.sharedService=o,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing");let e=this.route.snapshot.queryParams.text;null!=e&&""!=e?this.searchText=e:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(In.gz),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,gf,3,1,"div",4),t.qZA(),t.TgZ(5,"div",null,5),t._UZ(7,"app-vertical-item-list",6),t.qZA()()),2&i){const u=t.MAs(3);t.xp6(4),t.Q6J("ngIf",null!=o.searchText&&""!=o.searchText),t.xp6(1),t.Udp("height","calc(100% - "+u.offsetHeight+"px)"),t.xp6(2),t.Q6J("searchText",o.searchText)}},dependencies:[p.O5,UC],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return r})();class Wm{constructor(n,e,i){this.router=n,this.activeRoute=e,this.sharedService=i}initializeHeaderData(){var n=this.activeRoute.snapshot.params.serverGuid;if(null!=n){var e=this.sharedService.mediaServers.find(u=>u.Guid==n);if(e){this.mediaServer=e;var i=this.activeRoute.snapshot.params.libraryId;if(null!=e.ListLibraries&&e.ListLibraries.length>0){var o=e.ListLibraries.find(u=>u.MediaServerId==this.mediaServer.Id&&u.Id==i);null!=o?(this.library=o,this.title=o.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}function Zy(r,n){if(1&r&&t._UZ(0,"img",9),2&r){const e=t.oxw();t.Q6J("src",e.sharedService.getUrlByItemDetailMovieDataBase(e.detail),t.LSH)}}function jC(r,n){if(1&r&&(t.TgZ(0,"div",10)(1,"button",11)(2,"div",12),t._uU(3),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function bd(r,n){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Director: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(3);t.xp6(4),t.Oqu(e.detail.MediaItem.Directors)}}function Ed(r,n){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Reparto: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(3);t.xp6(4),t.Oqu(e.detail.MediaItem.Actors)}}function VC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar"),t.qZA()(),t.TgZ(4,"div",26),t._UZ(5,"div",27),t.qZA(),t.TgZ(6,"div",28),t._uU(7),t.qZA()()}if(2&r){const e=t.oxw(3);t.xp6(5),t.Udp("width",e.getWidthProgressItem(e.lastEpisodeWatched)),t.xp6(2),t.hij(" ",e.lastEpisodeWatched.Subtitle," ")}}function GC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.showVideo())}),t._uU(1,"Ver desde el principio"),t.qZA(),t.TgZ(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar viendo"),t.qZA()}}function HC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.showVideo())}),t._UZ(1,"i",31),t._uU(2," Ver ahora "),t.qZA()}}function $y(r,n){if(1&r&&(t.YNc(0,GC,4,0,"ng-template",15),t.YNc(1,HC,3,0,"ng-template",15)),2&r){const e=t.oxw(3);t.Q6J("ngIf",e.itemUserData),t.xp6(1),t.Q6J("ngIf",!e.itemUserData)}}function qy(r,n){if(1&r&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.detail.MediaItem.Overview," ")}}function Jy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"img",46),t.NdJ("error",function(){t.CHM(e),t.oxw();const o=t.MAs(12),u=t.MAs(7),m=t.MAs(18),v=t.oxw(3);return t.KtG(v.onInitializeItemsRow(o,u,m))}),t.qZA()}}const YC=function(r){return{selected:r}};function Qy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",47)(1,"button",48),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw(4);return t.KtG(m.onClickSeason(u))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.xp6(1),t.MGl("id","section_season_",e.SeasonNumber,""),t.Q6J("ngClass",t.VKq(3,YC,e.SeasonNumber==i.detail.CurrentSeason.SeasonNumber)),t.xp6(2),t.Oqu(e.Name)}}function KC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",49)(1,"button",50),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw(4);return t.KtG(m.onClickEpisode(u))}),t.TgZ(2,"div",51),t._UZ(3,"img",9),t.qZA(),t.TgZ(4,"div",52)(5,"div",53),t._uU(6),t.qZA(),t.TgZ(7,"div",54),t._uU(8),t.qZA()()()()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.hYB("id","section_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(1),t.hYB("id","button_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(2),t.Q6J("src",i.getEpisodeImagePath(e),t.LSH),t.xp6(3),t.AsE(" ",e.EpisodeNumber,". ",e.Name," "),t.xp6(2),t.hij(" ",e.Overview," ")}}function WC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",33)(1,"div"),t._uU(2," EPISODIOS "),t.qZA(),t.TgZ(3,"div",34),t.YNc(4,Jy,1,0,"img",35),t.TgZ(5,"div",2)(6,"div",36,37),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),m=t.MAs(18),v=t.oxw(3);return t.KtG(v.onClickButtonLeftScroll(o,u,m))}),t._UZ(8,"img",9),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",38,39)(13,"section",40,41),t.YNc(15,Qy,4,5,"ng-template",42),t.qZA()(),t.TgZ(16,"div",2)(17,"div",43,44),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),m=t.MAs(18),v=t.oxw(3);return t.KtG(v.onClickButtonRightScroll(o,u,m))}),t._UZ(19,"img",9),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()(),t.TgZ(22,"div",45),t.YNc(23,KC,9,8,"ng-template",42),t.qZA()()}if(2&r){const e=t.oxw(3);t.xp6(4),t.Q6J("ngIf",!e.startResize),t.xp6(4),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"left.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.detail.ListSeasons),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"right.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngForOf",e.detail.CurrentSeason.ListEpisodes)}}function fA(r,n){if(1&r&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.qZA(),t.YNc(5,bd,5,1,"div",19),t.YNc(6,Ed,5,1,"div",19),t.TgZ(7,"section",20),t.YNc(8,VC,8,3,"ng-template",15),t.YNc(9,$y,2,2,"ng-template",15),t.qZA(),t.YNc(10,qy,2,1,"div",21),t.YNc(11,WC,24,15,"div",22),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.detail.MediaItem.Title," "),t.xp6(2),t.hij(" ",e.detail.MediaItem.Genres," "),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Directors),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Actors),t.xp6(2),t.Q6J("ngIf",e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",e.detail.ListSeasons&&e.detail.ListSeasons.length>0)}}function hA(r,n){if(1&r&&(t.TgZ(0,"div",14),t.YNc(1,fA,12,8,"ng-template",15),t.qZA()),2&r){const e=t.oxw();t.Udp("height",e.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngIf",e.detail)}}let zC=(()=>{class r extends Wm{constructor(e,i,o,u,m){super(o,i,m),this.libraryService=e,this.activeRoute=i,this.router=o,this.ref=u,this.sharedService=m,this._window=window,this.startResize=!1}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing"),this.initializeHeaderData();let e=this.activeRoute.snapshot.queryParams.mediaId;e?this.libraryService.getMediaItemDetail(this.mediaServer.Url,e).then(i=>{this.detail=i,this.detail.CurrentSeason=this.detail.ListSeasons[0]},i=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(e){return this.detail.MediaItem.MetadataAgentsId==kt.TMDb&&e.PosterPath?this.sharedService.urlEpisodeDataBase+e.PosterPath:this.sharedService.getUrlByItemDetailMovieDataBase(this.detail)}verifyIfShoOrHiddenScrollButtons(e,i,o){i.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,i,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,i,o)},250)}onClickButtonLeftScroll(e,i,o){e.scrollLeft=e.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}onClickButtonRightScroll(e,i,o){e.scrollLeft=e.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==Ke.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let e=this.detail.ListSeasons[0];e.ListEpisodes&&e.ListEpisodes.length>0&&this.getVideoByEpisode(e.ListEpisodes[0])}}getVideosByItem(){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+this.detail.ListMediaFiles[0].Id)}onClickSeason(e){this.detail.CurrentSeason=e}onClickEpisode(e){this.getVideoByEpisode(e)}getVideoByEpisode(e){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+e.ListMediaFiles[0].Id)}onResize(e){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ds),t.Y36(In.gz),t.Y36(In.F0),t.Y36(t.sBO),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-detail"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},features:[t.qOj],decls:9,vars:5,consts:[[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],[3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],[3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[3,"ngIf"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4),t.YNc(5,Zy,1,1,"img",5),t.qZA()()(),t.TgZ(6,"div",6),t.YNc(7,jC,6,2,"div",7),t.YNc(8,hA,2,3,"div",8),t.qZA()()),2&i){const u=t.MAs(1);t.xp6(4),t.Udp("width",u.clientWidth+"px"),t.xp6(1),t.Q6J("ngIf",o.detail),t.xp6(2),t.Q6J("ngIf",o.title),t.xp6(1),t.Q6J("ngIf",o.detail)}},dependencies:[p.mk,p.sg,p.O5,p.Ov,Oo],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return r})();function mA(r,n){if(1&r&&(t.TgZ(0,"div",5)(1,"button",6)(2,"div",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function Xy(r,n){if(1&r&&(t.TgZ(0,"div",30)(1,"div",31),t._UZ(2,"div",32),t.qZA()()),2&r){const e=t.oxw().$implicit,i=t.MAs(2),o=t.oxw(3);t.xp6(1),t.Udp("width",i.clientWidth-8+"px"),t.xp6(1),t.Udp("width",o.getWidthProgressItem(e))}}function pf(r,n){if(1&r&&(t.TgZ(0,"div",33)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function ZC(r,n){if(1&r&&(t.TgZ(0,"div")(1,"div",34)(2,"span"),t._uU(3),t.qZA()()()),2&r){const e=t.oxw().$implicit;t.xp6(3),t.AsE("",e.Title," ",e.Subtitle,"")}}function $C(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",23)(1,"button",24,25),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.onClickItem(u))}),t._UZ(3,"img",26),t.YNc(4,Xy,3,4,"ng-template",27),t.qZA(),t.YNc(5,pf,3,1,"div",28),t.YNc(6,ZC,4,2,"div",29),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerieId:e.MovieId,"_",e.MediaType,""),t.xp6(2),t.Q6J("src",i.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",e.CurrentTime&&e.DurationTime),t.xp6(1),t.Q6J("ngIf",!e.Subtitle),t.xp6(1),t.Q6J("ngIf",e.Subtitle)}}function e0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",10)(1,"div",11)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",12)(5,"div",13)(6,"div",14,15),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),m=t.MAs(18),v=t.oxw(2);return t.KtG(v.onClickButtonLeftScroll(o,u,m))}),t._UZ(8,"img",16),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",17,18)(13,"div",19,20),t.YNc(15,$C,7,6,"ng-template",4),t.qZA()(),t.TgZ(16,"div",13)(17,"div",21,22),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),m=t.MAs(18),v=t.oxw(2);return t.KtG(v.onClickButtonRightScroll(o,u,m))}),t._UZ(19,"img",16),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()}if(2&r){const e=t.oxw().$implicit;t.MGl("id","section_",e.Id,""),t.xp6(3),t.Oqu(e.Name),t.xp6(5),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"scroll-left.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.ListItems),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"scroll-right.png","GetImageURLByKey")),t.LSH)}}function Td(r,n){if(1&r&&t.YNc(0,e0,22,15,"section",9),2&r){const e=n.$implicit;t.Q6J("ngIf",e.ListItems&&e.ListItems.length>0)}}let hc=(()=>{class r extends Wm{constructor(e,i,o,u,m,v,w){super(u,o,w),this.mediaService=e,this.libraryService=i,this.activeRoute=o,this.router=u,this.restProvider=m,this.ref=v,this.sharedService=w,this.showLoadingApp=!0,this.itemsGroupList=[],this._window=window,this.subscriptionUpdatingMediaItems=this.mediaService.isUpdatingMediaItems().subscribe(G=>{this.initializeData()}),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing"),this.initializeData()}ngAfterViewInit(){}ngOnDestroy(){this.subscriptionUpdatingMediaItems.unsubscribe()}initializeData(){this.sharedService.mediaServers&&this.sharedService.mediaServers.length>0&&(window.location.pathname.endsWith("home")?this.sharedService.mediaServers.forEach(e=>{try{e.isSecureConnection?this.libraryService.getAllMediaItems(e.Url,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{}):this.clearItemsInGroup(e.Id)}catch{}}):window.location.pathname.endsWith("movies")?(this.title="Pel\xedculas",this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection?this.libraryService.getMediaItemsByMediaType(e.Url,Ke.Movie,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{console.error(i)}):this.clearItemsInGroup(e.Id)})):window.location.pathname.endsWith("tvseries")?(this.title="Series de TV",this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection?this.libraryService.getMediaItemsByMediaType(e.Url,Ke.TvSerie,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{console.error(i)}):this.clearItemsInGroup(e.Id)})):(this.initializeHeaderData(),null!=this.mediaServer&&(this.mediaServer.isSecureConnection?null!=this.library?this.libraryService.getMediaItemsByLibrary(this.mediaServer.Url,this.library.Id,this.sharedService.currentProfile.Id).then(e=>{this.setItemsInGroup(this.mediaServer.Id,e)},e=>{console.error(e)}):this.libraryService.getAllMediaItems(this.mediaServer.Url,this.sharedService.currentProfile.Id).then(e=>{this.setItemsInGroup(this.mediaServer.Id,e)},e=>{console.error(e)}):this.clearItemsInGroup(this.mediaServer.Id))))}setItemsInGroup(e,i){if(i.length>0)i.forEach(u=>{var m=this.itemsGroupList.find(v=>v.MediaServerId==e&&v.Id==u.Id);null==m?this.itemsGroupList.push(u):m.ListItems=u.ListItems});else{var o=this.itemsGroupList.filter(u=>u.MediaServerId==e);o&&o.length>0&&o.forEach(u=>{u.ListItems=[]})}}clearItemsInGroup(e){var i=this.itemsGroupList.filter(o=>o.MediaServerId==e);i&&i.length>0&&i.forEach(o=>{o.ListItems=[]})}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}onClickButtonLeftScroll(e,i,o){e.scrollLeft=e.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}onClickButtonRightScroll(e,i,o){e.scrollLeft=e.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}verifyIfShoOrHiddenScrollButtons(e,i,o){i.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,i,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,i,o)},250)}onClickItem(e){null!=e.CurrentTime&&e.CurrentTime>0?this.continueVideoByItem(e):this.getMediaItemDetail(e)}getMediaItemDetail(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}continueVideoByItem(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/video/"+e.FileId)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(sv),t.Y36(ds),t.Y36(In.gz),t.Y36(In.F0),t.Y36(Bt),t.Y36(t.sBO),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server"]],features:[t.qOj],decls:5,vars:4,consts:[[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer",3,"src"],[3,"ngIf"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,mA,6,2,"div",2),t.TgZ(3,"div",3),t.YNc(4,Td,1,1,"ng-template",4),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("ngIf",o.title),t.xp6(1),t.Udp("height",o.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngForOf",o.itemsGroupList))},dependencies:[p.sg,p.O5,p.Ov,Oo],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();var mc=C(5094),zm=C(4753);function qC(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var i,o,u,m,v,JC={exports:{}};i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,u=/(?:\/|^)\.(?=\/)/g,m=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,JC.exports=v={buildAbsoluteURL:function(w,G,te){if(te=te||{},w=w.trim(),!(G=G.trim())){if(!te.alwaysNormalize)return w;var ye=v.parseURL(w);if(!ye)throw new Error("Error trying to parse base URL.");return ye.path=v.normalizePath(ye.path),v.buildURLFromParts(ye)}var Ue=v.parseURL(G);if(!Ue)throw new Error("Error trying to parse relative URL.");if(Ue.scheme)return te.alwaysNormalize?(Ue.path=v.normalizePath(Ue.path),v.buildURLFromParts(Ue)):G;var Ge=v.parseURL(w);if(!Ge)throw new Error("Error trying to parse base URL.");if(!Ge.netLoc&&Ge.path&&"/"!==Ge.path[0]){var tt=o.exec(Ge.path);Ge.netLoc=tt[1],Ge.path=tt[2]}Ge.netLoc&&!Ge.path&&(Ge.path="/");var ft={scheme:Ge.scheme,netLoc:Ue.netLoc,path:null,params:Ue.params,query:Ue.query,fragment:Ue.fragment};if(!Ue.netLoc&&(ft.netLoc=Ge.netLoc,"/"!==Ue.path[0]))if(Ue.path){var vt=Ge.path,Lt=vt.substring(0,vt.lastIndexOf("/")+1)+Ue.path;ft.path=v.normalizePath(Lt)}else ft.path=Ge.path,Ue.params||(ft.params=Ge.params,Ue.query||(ft.query=Ge.query));return null===ft.path&&(ft.path=te.alwaysNormalize?v.normalizePath(Ue.path):Ue.path),v.buildURLFromParts(ft)},parseURL:function(w){var G=i.exec(w);return G?{scheme:G[1]||"",netLoc:G[2]||"",path:G[3]||"",params:G[4]||"",query:G[5]||"",fragment:G[6]||""}:null},normalizePath:function(w){for(w=w.split("").reverse().join("").replace(u,"");w.length!==(w=w.replace(m,"")).length;);return w.split("").reverse().join("")},buildURLFromParts:function(w){return w.scheme+w.netLoc+w.path+w.params+w.query+w.fragment}};var Zm=JC.exports;function $m(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,i)}return e}function Uo(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?$m(Object(e),!0).forEach(function(i){QC(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):$m(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function QC(r,n,e){return n=function t0(r){var n=function XC(r,n){if("object"!=typeof r||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var i=e.call(r,n||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(r)}(r,"string");return"symbol"==typeof n?n:String(n)}(n),n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function Ar(){return Ar=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ar.apply(this,arguments)}const di=Number.isFinite||function(r){return"number"==typeof r&&isFinite(r)};let Et=function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r}({}),mi=function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r}({}),En=function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.UNKNOWN="unknown",r}({});const ol=function(){},Sd={trace:ol,debug:ol,log:ol,warn:ol,info:ol,error:ol};let Cd=Sd;const cn=Cd,tD=/^(\d+)x(\d+)$/,_f=/(.+?)=(".*?"|.*?)(?:,|$)/g;class wr{constructor(n){"string"==typeof n&&(n=wr.parseAttrList(n));for(const e in n)n.hasOwnProperty(e)&&("X-"===e.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(e)),this[e]=n[e])}decimalInteger(n){const e=parseInt(this[n],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(n){if(this[n]){let e=(this[n]||"0x").slice(2);e=(1&e.length?"0":"")+e;const i=new Uint8Array(e.length/2);for(let o=0;o<e.length/2;o++)i[o]=parseInt(e.slice(2*o,2*o+2),16);return i}return null}hexadecimalIntegerAsNumber(n){const e=parseInt(this[n],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(n){return parseFloat(this[n])}optionalFloat(n,e){const i=this[n];return i?parseFloat(i):e}enumeratedString(n){return this[n]}bool(n){return"YES"===this[n]}decimalResolution(n){const e=tD.exec(this[n]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(n){let e;const i={};for(_f.lastIndex=0;null!==(e=_f.exec(n));){let u=e[2];0===u.indexOf('"')&&u.lastIndexOf('"')===u.length-1&&(u=u.slice(1,-1)),i[e[1].trim()]=u}return i}}function nD(r){return"SCTE35-OUT"===r||"SCTE35-IN"===r}class s0{constructor(n,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const i=e.attr;for(const o in i)if(Object.prototype.hasOwnProperty.call(n,o)&&n[o]!==i[o]){cn.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${n.ID}"`),this._badValueForSameId=o;break}n=Ar(new wr({}),i,n)}if(this.attr=n,this._startDate=new Date(n["START-DATE"]),"END-DATE"in this.attr){const i=new Date(this.attr["END-DATE"]);di(i.getTime())&&(this._endDate=i)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const n=this.duration;return null!==n?new Date(this._startDate.getTime()+1e3*n):null}get duration(){if("DURATION"in this.attr){const n=this.attr.decimalFloatingPoint("DURATION");if(di(n))return n}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&di(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class vf{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class a0{constructor(n){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=n}setByteRange(n,e){const i=n.split("@",2),o=[];o[0]=1===i.length?e?e.byteRangeEndOffset:0:parseInt(i[1]),o[1]=parseInt(i[0])+o[0],this._byteRange=o}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Zm.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(n){this._url=n}}class qm extends a0{constructor(n,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new vf,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=n}get decryptdata(){const{levelkeys:n}=this;if(!n&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const i=Object.keys(this.levelkeys);if(1===i.length)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!di(this.programDateTime))return null;const n=di(this.duration)?this.duration:0;return this.programDateTime+1e3*n}get encrypted(){var n;if(null!=(n=this._decryptdata)&&n.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),i=e.length;if(i>1||1===i&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(n){if(this.levelkeys){const e=this.levelkeys[n];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var n,e;null==(n=this.loader)||n.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(n,e,i,o,u,m=!1){const{elementaryStreams:v}=this,w=v[n];w?(w.startPTS=Math.min(w.startPTS,e),w.endPTS=Math.max(w.endPTS,i),w.startDTS=Math.min(w.startDTS,o),w.endDTS=Math.max(w.endDTS,u)):v[n]={startPTS:e,endPTS:i,startDTS:o,endDTS:u,partial:m}}clearElementaryStreamInfo(){const{elementaryStreams:n}=this;n.audio=null,n.video=null,n.audiovideo=null}}class iD extends a0{constructor(n,e,i,o,u){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new vf,this.duration=n.decimalFloatingPoint("DURATION"),this.gap=n.bool("GAP"),this.independent=n.bool("INDEPENDENT"),this.relurl=n.enumeratedString("URI"),this.fragment=e,this.index=o;const m=n.enumeratedString("BYTERANGE");m&&this.setByteRange(m,u),u&&(this.fragOffset=u.fragOffset+u.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:n}=this;return!!(n.audio||n.video||n.audiovideo)}}class l0{constructor(n){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=n}reloaded(n){if(!n)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-n.lastPartSn,i=this.lastPartIndex-n.lastPartIndex;this.updated=this.endSN!==n.endSN||!!i||!!e,this.advanced=this.endSN>n.endSN||e>0||0===e&&i>0,this.misses=this.updated||this.advanced?Math.floor(.6*n.misses):n.misses+1,this.availabilityDelay=n.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&di(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const n=this.driftEndTime-this.driftStartTime;return n>0?1e3*(this.driftEnd-this.driftStart)/n:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var n;return null!=(n=this.fragments)&&n.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function yf(r){return Uint8Array.from(atob(r),n=>n.charCodeAt(0))}function u0(r){return Uint8Array.from(unescape(encodeURIComponent(r)),n=>n.charCodeAt(0))}var Ir={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},jo_FAIRPLAY="com.apple.streamingkeydelivery",jo_PLAYREADY="com.microsoft.playready",jo_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function bf(r){switch(r){case jo_FAIRPLAY:return Ir.FAIRPLAY;case jo_PLAYREADY:return Ir.PLAYREADY;case jo_WIDEVINE:return Ir.WIDEVINE;case"org.w3.clearkey":return Ir.CLEARKEY}}function Tf(r){switch(r){case Ir.FAIRPLAY:return jo_FAIRPLAY;case Ir.PLAYREADY:return jo_PLAYREADY;case Ir.WIDEVINE:return jo_WIDEVINE;case Ir.CLEARKEY:return"org.w3.clearkey"}}function Jm(r){const{drmSystems:n,widevineLicenseUrl:e}=r,i=n?[Ir.FAIRPLAY,Ir.WIDEVINE,Ir.PLAYREADY,Ir.CLEARKEY].filter(o=>!!n[o]):[];return!i[Ir.WIDEVINE]&&e&&i.push(Ir.WIDEVINE),i}const h0=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function Oa(r,n,e){return Uint8Array.prototype.slice?r.slice(n,e):new Uint8Array(Array.prototype.slice.call(r,n,e))}const Pa=(r,n)=>n+10<=r.length&&73===r[n]&&68===r[n+1]&&51===r[n+2]&&r[n+3]<255&&r[n+4]<255&&r[n+6]<128&&r[n+7]<128&&r[n+8]<128&&r[n+9]<128,Xm=(r,n)=>n+10<=r.length&&51===r[n]&&68===r[n+1]&&73===r[n+2]&&r[n+3]<255&&r[n+4]<255&&r[n+6]<128&&r[n+7]<128&&r[n+8]<128&&r[n+9]<128,Sf=(r,n)=>{const e=n;let i=0;for(;Pa(r,n);)i+=10,i+=eg(r,n+6),Xm(r,n+10)&&(i+=10),n+=i;if(i>0)return r.subarray(e,e+i)},eg=(r,n)=>{let e=0;return e=(127&r[n])<<21,e|=(127&r[n+1])<<14,e|=(127&r[n+2])<<7,e|=127&r[n+3],e},tg=(r,n)=>Pa(r,n)&&eg(r,n+6)+10<=r.length-n,m0=r=>r&&"PRIV"===r.key&&"com.apple.streaming.transportStreamTimestamp"===r.info,g0=r=>{const n=String.fromCharCode(r[0],r[1],r[2],r[3]),e=eg(r,4);return{type:n,size:e,data:r.subarray(10,10+e)}},ig=r=>{let n=0;const e=[];for(;Pa(r,n);){const i=eg(r,n+6);n+=10;const o=n+i;for(;n+8<o;){const u=g0(r.subarray(n)),m=aD(u);m&&e.push(m),n+=u.size+10}Xm(r,n)&&(n+=10)}return e},aD=r=>"PRIV"===r.type?p0(r):"W"===r.type[0]?_0(r):rg(r),p0=r=>{if(r.size<2)return;const n=Ms(r.data,!0),e=new Uint8Array(r.data.subarray(n.length+1));return{key:r.type,info:n,data:e.buffer}},rg=r=>{if(r.size<2)return;if("TXXX"===r.type){let e=1;const i=Ms(r.data.subarray(e),!0);e+=i.length+1;const o=Ms(r.data.subarray(e));return{key:r.type,info:i,data:o}}const n=Ms(r.data.subarray(1));return{key:r.type,data:n}},_0=r=>{if("WXXX"===r.type){if(r.size<2)return;let e=1;const i=Ms(r.data.subarray(e),!0);e+=i.length+1;const o=Ms(r.data.subarray(e));return{key:r.type,info:i,data:o}}const n=Ms(r.data);return{key:r.type,data:n}},v0=r=>{if(8===r.data.byteLength){const n=new Uint8Array(r.data);let i=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7];return i/=45,1&n[3]&&(i+=47721858.84),Math.round(i)}},Ms=(r,n=!1)=>{const e=function lD(){return!Cf&&typeof self.TextDecoder<"u"&&(Cf=new self.TextDecoder("utf-8")),Cf}();if(e){const G=e.decode(r);if(n){const te=G.indexOf("\0");return-1!==te?G.substring(0,te):G}return G.replace(/\0/g,"")}const i=r.length;let o,u,m,v="",w=0;for(;w<i;){if(o=r[w++],0===o&&n)return v;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:v+=String.fromCharCode(o);break;case 12:case 13:u=r[w++],v+=String.fromCharCode((31&o)<<6|63&u);break;case 14:u=r[w++],m=r[w++],v+=String.fromCharCode((15&o)<<12|(63&u)<<6|(63&m)<<0)}}return v};let Cf;const zs_hexDump=function(r){let n="";for(let e=0;e<r.length;e++){let i=r[e].toString(16);i.length<2&&(i="0"+i),n+=i}return n},Df=Math.pow(2,32)-1,cD=[].push,og={video:1,audio:2,id3:3,text:4};function Co(r){return String.fromCharCode.apply(null,r)}function sg(r,n){const e=r[n]<<8|r[n+1];return e<0?65536+e:e}function Ei(r,n){const e=y0(r,n);return e<0?4294967296+e:e}function y0(r,n){return r[n]<<24|r[n+1]<<16|r[n+2]<<8|r[n+3]}function b0(r,n,e){r[n]=e>>24,r[n+1]=e>>16&255,r[n+2]=e>>8&255,r[n+3]=255&e}function Yi(r,n){const e=[];if(!n.length)return e;const i=r.byteLength;for(let o=0;o<i;){const u=Ei(r,o),v=u>1?o+u:i;if(Co(r.subarray(o+4,o+8))===n[0])if(1===n.length)e.push(r.subarray(o+8,v));else{const w=Yi(r.subarray(o+8,v),n.slice(1));w.length&&cD.apply(e,w)}o=v}return e}function dD(r){const n=[],e=r[0];let i=8;const o=Ei(r,i);i+=4,i+=0===e?8:16,i+=2;let v=r.length+0;const w=sg(r,i);i+=2;for(let G=0;G<w;G++){let te=i;const ye=Ei(r,te);te+=4;const Ue=2147483647&ye;if((2147483648&ye)>>>31==1)return cn.warn("SIDX has hierarchical references (not supported)"),null;const tt=Ei(r,te);te+=4,n.push({referenceSize:Ue,subsegmentDuration:tt,info:{duration:tt/o,start:v,end:v+Ue-1}}),v+=Ue,te+=4,i=te}return{earliestPresentationTime:0,timescale:o,version:e,referencesCount:w,references:n}}function ag(r){const n=[],e=Yi(r,["moov","trak"]);for(let o=0;o<e.length;o++){const u=e[o],m=Yi(u,["tkhd"])[0];if(m){let v=m[0],w=0===v?12:20;const G=Ei(m,w),te=Yi(u,["mdia","mdhd"])[0];if(te){v=te[0],w=0===v?12:20;const ye=Ei(te,w),Ue=Yi(u,["mdia","hdlr"])[0];if(Ue){const tt={soun:"audio",vide:"video"}[Co(Ue.subarray(8,12))];if(tt){const ft=Yi(u,["mdia","minf","stbl","stsd"])[0];let vt;ft&&(vt=Co(ft.subarray(12,16))),n[G]={timescale:ye,type:tt},n[tt]={timescale:ye,id:G,codec:vt}}}}}}return Yi(r,["moov","mvex","trex"]).forEach(o=>{const u=Ei(o,4),m=n[u];m&&(m.default={duration:Ei(o,12),flags:Ei(o,20)})}),n}function lg(r){const n=Yi(r,["schm"])[0];if(n){const e=Co(n.subarray(4,8));if("cbcs"===e||"cenc"===e)return Yi(r,["schi","tenc"])[0]}return cn.error("[eme] missing 'schm' box"),null}function fD(r){const n=Ei(r,0);let e=8;1&n&&(e+=4),4&n&&(e+=4);let i=0;const o=Ei(r,4);for(let u=0;u<o;u++)256&n&&(i+=Ei(r,e),e+=4),512&n&&(e+=4),1024&n&&(e+=4),2048&n&&(e+=4);return i}function sl(r,n){const e=new Uint8Array(r.length+n.length);return e.set(r),e.set(n,r.length),e}function S0(r,n){const e=[],i=n.samples,o=n.timescale,u=n.id;let m=!1;return Yi(i,["moof"]).map(w=>{const G=w.byteOffset-8;Yi(w,["traf"]).map(ye=>{const Ue=Yi(ye,["tfdt"]).map(Ge=>{const tt=Ge[0];let ft=Ei(Ge,4);return 1===tt&&(ft*=Math.pow(2,32),ft+=Ei(Ge,8)),ft/o})[0];return void 0!==Ue&&(r=Ue),Yi(ye,["tfhd"]).map(Ge=>{const tt=Ei(Ge,4),ft=16777215&Ei(Ge,0);let zt=0;const un=0!=(16&ft);let ln=0;const Sn=0!=(32&ft);let mn=8;tt===u&&(0!=(1&ft)&&(mn+=8),0!=(2&ft)&&(mn+=4),0!=(8&ft)&&(zt=Ei(Ge,mn),mn+=4),un&&(ln=Ei(Ge,mn),mn+=4),Sn&&(mn+=4),"video"===n.type&&(m=function Dd(r){if(!r)return!1;const n=r.indexOf("."),e=n<0?r:r.substring(0,n);return"hvc1"===e||"hev1"===e||"dvh1"===e||"dvhe"===e}(n.codec)),Yi(ye,["trun"]).map(Mn=>{const Vn=Mn[0],pn=16777215&Ei(Mn,0),Xn=0!=(1&pn);let Zn=0;const _i=0!=(4&pn),Sr=0!=(256&pn);let Ki=0;const Hn=0!=(512&pn);let Kn=0;const Rn=0!=(1024&pn),Yn=0!=(2048&pn);let vi=0;const Oi=Ei(Mn,4);let bi=8;Xn&&(Zn=Ei(Mn,bi),bi+=4),_i&&(bi+=4);let Ji=Zn+G;for(let Mi=0;Mi<Oi;Mi++){if(Sr?(Ki=Ei(Mn,bi),bi+=4):Ki=zt,Hn?(Kn=Ei(Mn,bi),bi+=4):Kn=ln,Rn&&(bi+=4),Yn&&(vi=0===Vn?Ei(Mn,bi):y0(Mn,bi),bi+=4),"video"===n.type){let Lr=0;for(;Lr<Kn;){const no=Ei(i,Ji);Ji+=4,C0(m,i[Ji])&&cg(i.subarray(Ji,Ji+no),m?2:1,r+vi/o,e),Ji+=no,Lr+=no+4}}r+=Ki/o}}))})})}),e}function C0(r,n){if(r){const e=n>>1&63;return 39===e||40===e}return 6==(31&n)}function cg(r,n,e,i){const o=dg(r);let u=0;u+=n;let m=0,v=0,w=!1,G=0;for(;u<o.length;){m=0;do{if(u>=o.length)break;G=o[u++],m+=G}while(255===G);v=0;do{if(u>=o.length)break;G=o[u++],v+=G}while(255===G);const te=o.length-u;if(!w&&4===m&&u<o.length){if(w=!0,181===o[u++]){const Ue=sg(o,u);if(u+=2,49===Ue){const Ge=Ei(o,u);if(u+=4,1195456820===Ge){const tt=o[u++];if(3===tt){const ft=o[u++],Lt=64&ft,qt=Lt?2+3*(31&ft):0,zt=new Uint8Array(qt);if(Lt){zt[0]=ft;for(let un=1;un<qt;un++)zt[un]=o[u++]}i.push({type:tt,payloadType:m,pts:e,bytes:zt})}}}}}else if(5===m&&v<te){if(w=!0,v>16){const ye=[];for(let tt=0;tt<16;tt++){const ft=o[u++].toString(16);ye.push(1==ft.length?"0"+ft:ft),(3===tt||5===tt||7===tt||9===tt)&&ye.push("-")}const Ue=v-16,Ge=new Uint8Array(Ue);for(let tt=0;tt<Ue;tt++)Ge[tt]=o[u++];i.push({payloadType:m,pts:e,uuid:ye.join(""),userData:Ms(Ge),userDataBytes:Ge})}}else if(v<te)u+=v;else if(v>te)break}}function dg(r){const n=r.byteLength,e=[];let i=1;for(;i<n-2;)0===r[i]&&0===r[i+1]&&3===r[i+2]?(e.push(i+2),i+=2):i++;if(0===e.length)return r;const o=n-e.length,u=new Uint8Array(o);let m=0;for(i=0;i<o;m++,i++)m===e[0]&&(m++,e.shift()),u[i]=r[m];return u}let ug={};class xf{static clearKeyUriToKeyIdMap(){ug={}}constructor(n,e,i,o=[1],u=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=n,this.uri=e,this.keyFormat=i,this.keyFormatVersions=o,this.iv=u,this.encrypted=!!n&&"NONE"!==n,this.isCommonEncryption=this.encrypted&&"AES-128"!==n}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case jo_FAIRPLAY:case jo_WIDEVINE:case jo_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(n){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof n&&("AES-128"===this.method&&!this.iv&&cn.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),n=0);const i=function A0(r){const n=new Uint8Array(16);for(let e=12;e<16;e++)n[e]=r>>8*(15-e)&255;return n}(n);return new xf(this.method,this.uri,"identity",this.keyFormatVersions,i)}const e=function d0(r){const n=r.split(":");let e=null;if("data"===n[0]&&2===n.length){const i=n[1].split(";"),o=i[i.length-1].split(",");if(2===o.length){const m=o[1];"base64"===o[0]?(i.splice(-1,1),e=yf(m)):e=function c0(r){const n=u0(r).subarray(0,16),e=new Uint8Array(16);return e.set(n,16-n.length),e}(m)}}return e}(this.uri);if(e)switch(this.keyFormat){case jo_WIDEVINE:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case jo_PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function M0(r,n,e){if(16!==r.byteLength)throw new RangeError("Invalid system id");let i,o,u;if(n){i=1,o=new Uint8Array(16*n.length);for(let v=0;v<n.length;v++){const w=n[v];if(16!==w.byteLength)throw new RangeError("Invalid key");o.set(w,16*v)}}else i=0,o=new Uint8Array;i>0?(u=new Uint8Array(4),n.length>0&&new DataView(u.buffer).setUint32(0,n.length,!1)):u=new Uint8Array;const m=new Uint8Array(4);return e&&e.byteLength>0&&new DataView(m.buffer).setUint32(0,e.byteLength,!1),function x0(r,...n){const e=n.length;let i=8,o=e;for(;o--;)i+=n[o].byteLength;const u=new Uint8Array(i);for(u[0]=i>>24&255,u[1]=i>>16&255,u[2]=i>>8&255,u[3]=255&i,u.set(r,4),o=0,i=8;o<e;o++)u.set(n[o],i),i+=n[o].byteLength;return u}([112,115,115,104],new Uint8Array([i,0,0,0]),r,u,o,m,e||new Uint8Array)}(i,null,e);const o=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),u=String.fromCharCode.apply(null,Array.from(o)),m=u.substring(u.indexOf("<"),u.length),G=(new DOMParser).parseFromString(m,"text/xml").getElementsByTagName("KID")[0];if(G){const te=G.childNodes[0]?G.childNodes[0].nodeValue:G.getAttribute("VALUE");if(te){const ye=yf(te).subarray(0,16);(function oD(r){const n=function(i,o,u){const m=i[o];i[o]=i[u],i[u]=m};n(r,0,3),n(r,1,2),n(r,4,5),n(r,6,7)})(ye),this.keyId=ye}}break}default:{let i=e.subarray(0,16);if(16!==i.length){const o=new Uint8Array(16);o.set(i,16-i.length),i=o}this.keyId=i;break}}if(!this.keyId||16!==this.keyId.byteLength){let i=ug[this.uri];if(!i){const o=Object.keys(ug).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,o),ug[this.uri]=i}this.keyId=i}return this}}const fg=/\{\$([a-zA-Z0-9-_]+)\}/g;function w0(r){return fg.test(r)}function Vo(r,n,e){if(null!==r.variableList||r.hasVariableRefs)for(let i=e.length;i--;){const o=e[i],u=n[o];u&&(n[o]=hg(r,u))}}function hg(r,n){if(null!==r.variableList||r.hasVariableRefs){const e=r.variableList;return n.replace(fg,i=>{const o=i.substring(2,i.length-1),u=e?.[o];return void 0===u?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${o}"`)),i):u})}return n}function gc(r,n,e){let o,u,i=r.variableList;if(i||(r.variableList=i={}),"QUERYPARAM"in n){o=n.QUERYPARAM;try{const m=new self.URL(e).searchParams;if(!m.has(o))throw new Error(`"${o}" does not match any query parameter in URI: "${e}"`);u=m.get(o)}catch(m){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${m.message}`))}}else o=n.NAME,u=n.VALUE;o in i?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${o}"`)):i[o]=u||""}function pD(r,n,e){const i=n.IMPORT;if(e&&i in e){let o=r.variableList;o||(r.variableList=o={}),o[i]=e[i]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}function pc(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const Zs={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},I0=pc();function al(r,n){var e;return null!=(e=I0?.isTypeSupported(`${n||"video"}/mp4;codecs="${r}"`))&&e}const O0=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,P0=/#EXT-X-MEDIA:(.*)/g,_D=/^#EXT(?:INF|-X-TARGETDURATION):/m,xd=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),R0=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class As{static findGroup(n,e){for(let i=0;i<n.length;i++){const o=n[i];if(o.id===e)return o}}static convertAVC1ToAVCOTI(n){const e=n.split(".");if(e.length>2){let i=e.shift()+".";return i+=parseInt(e.shift()).toString(16),i+=("000"+parseInt(e.shift()).toString(16)).slice(-4),i}return n}static resolve(n,e){return Zm.buildAbsoluteURL(e,n,{alwaysNormalize:!0})}static isMediaPlaylist(n){return _D.test(n)}static parseMasterPlaylist(n,e){const o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:w0(n)},u=[];let m;for(O0.lastIndex=0;null!=(m=O0.exec(n));)if(m[1]){var v;const G=new wr(m[1]);Vo(o,G,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const te=hg(o,m[2]),ye={attrs:G,bitrate:G.decimalInteger("AVERAGE-BANDWIDTH")||G.decimalInteger("BANDWIDTH"),name:G.NAME,url:As.resolve(te,e)},Ue=G.decimalResolution("RESOLUTION");Ue&&(ye.width=Ue.width,ye.height=Ue.height),vD((G.CODECS||"").split(/[ ,]+/).filter(Ge=>Ge),ye),ye.videoCodec&&-1!==ye.videoCodec.indexOf("avc1")&&(ye.videoCodec=As.convertAVC1ToAVCOTI(ye.videoCodec)),null!=(v=ye.unknownCodecs)&&v.length||u.push(ye),o.levels.push(ye)}else if(m[3]){const te=m[4];switch(m[3]){case"SESSION-DATA":{const ye=new wr(te);Vo(o,ye,["DATA-ID","LANGUAGE","VALUE","URI"]);const Ue=ye["DATA-ID"];Ue&&(null===o.sessionData&&(o.sessionData={}),o.sessionData[Ue]=ye);break}case"SESSION-KEY":{const ye=N0(te,e,o);ye.encrypted&&ye.isSupported()?(null===o.sessionKeys&&(o.sessionKeys=[]),o.sessionKeys.push(ye)):cn.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${te}"`);break}case"DEFINE":{const ye=new wr(te);Vo(o,ye,["NAME","VALUE","QUERYPARAM"]),gc(o,ye,e)}break;case"CONTENT-STEERING":{const ye=new wr(te);Vo(o,ye,["SERVER-URI","PATHWAY-ID"]),o.contentSteering={uri:As.resolve(ye["SERVER-URI"],e),pathwayId:ye["PATHWAY-ID"]||"."};break}case"START":o.startTimeOffset=Af(te)}}return o.levels=u.length>0&&u.length<o.levels.length?u:o.levels,0===o.levels.length&&(o.playlistParsingError=new Error("no levels found in manifest")),o}static parseMasterPlaylistMedia(n,e,i){let o;const u={},m=i.levels,v={AUDIO:m.map(G=>({id:G.attrs.AUDIO,audioCodec:G.audioCodec})),SUBTITLES:m.map(G=>({id:G.attrs.SUBTITLES,textCodec:G.textCodec})),"CLOSED-CAPTIONS":[]};let w=0;for(P0.lastIndex=0;null!==(o=P0.exec(n));){const G=new wr(o[1]),te=G.TYPE;if(te){const ye=v[te],Ue=u[te]||[];u[te]=Ue,Vo(i,G,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const Ge={attrs:G,bitrate:0,id:w++,groupId:G["GROUP-ID"]||"",instreamId:G["INSTREAM-ID"],name:G.NAME||G.LANGUAGE||"",type:te,default:G.bool("DEFAULT"),autoselect:G.bool("AUTOSELECT"),forced:G.bool("FORCED"),lang:G.LANGUAGE,url:G.URI?As.resolve(G.URI,e):""};if(null!=ye&&ye.length){const tt=As.findGroup(ye,Ge.groupId)||ye[0];L0(Ge,tt,"audioCodec"),L0(Ge,tt,"textCodec")}Ue.push(Ge)}}return u}static parseLevelPlaylist(n,e,i,o,u,m){const v=new l0(e),w=v.fragments;let vt,Lt,qt,G=null,te=0,ye=0,Ue=0,Ge=0,tt=null,ft=new qm(o,e),zt=-1,un=!1;for(xd.lastIndex=0,v.m3u8=n,v.hasVariableRefs=w0(n);null!==(vt=xd.exec(n));){un&&(un=!1,ft=new qm(o,e),ft.start=Ue,ft.sn=te,ft.cc=Ge,ft.level=i,G&&(ft.initSegment=G,ft.rawProgramDateTime=G.rawProgramDateTime,G.rawProgramDateTime=null));const Mn=vt[1];if(Mn){ft.duration=parseFloat(Mn);const Vn=(" "+vt[2]).slice(1);ft.title=Vn||null,ft.tagList.push(Vn?["INF",Mn,Vn]:["INF",Mn])}else if(vt[3]){if(di(ft.duration)){ft.start=Ue,qt&&mg(ft,qt,v),ft.sn=te,ft.level=i,ft.cc=Ge,ft.urlId=u,w.push(ft);const Vn=(" "+vt[3]).slice(1);ft.relurl=hg(v,Vn),F0(ft,tt),tt=ft,Ue+=ft.duration,te++,ye=0,un=!0}}else if(vt[4]){const Vn=(" "+vt[4]).slice(1);tt?ft.setByteRange(Vn,tt):ft.setByteRange(Vn)}else if(vt[5])ft.rawProgramDateTime=(" "+vt[5]).slice(1),ft.tagList.push(["PROGRAM-DATE-TIME",ft.rawProgramDateTime]),-1===zt&&(zt=w.length);else{if(vt=vt[0].match(R0),!vt){cn.warn("No matches on slow regex match for level playlist!");continue}for(Lt=1;Lt<vt.length&&!(typeof vt[Lt]<"u");Lt++);const Vn=(" "+vt[Lt]).slice(1),pn=(" "+vt[Lt+1]).slice(1),Xn=vt[Lt+2]?(" "+vt[Lt+2]).slice(1):"";switch(Vn){case"PLAYLIST-TYPE":v.type=pn.toUpperCase();break;case"MEDIA-SEQUENCE":te=v.startSN=parseInt(pn);break;case"SKIP":{const Zn=new wr(pn);Vo(v,Zn,["RECENTLY-REMOVED-DATERANGES"]);const _i=Zn.decimalInteger("SKIPPED-SEGMENTS");if(di(_i)){v.skippedSegments=_i;for(let Ki=_i;Ki--;)w.unshift(null);te+=_i}const Sr=Zn.enumeratedString("RECENTLY-REMOVED-DATERANGES");Sr&&(v.recentlyRemovedDateranges=Sr.split("\t"));break}case"TARGETDURATION":v.targetduration=Math.max(parseInt(pn),1);break;case"VERSION":v.version=parseInt(pn);break;case"EXTM3U":break;case"ENDLIST":v.live=!1;break;case"#":(pn||Xn)&&ft.tagList.push(Xn?[pn,Xn]:[pn]);break;case"DISCONTINUITY":Ge++,ft.tagList.push(["DIS"]);break;case"GAP":ft.gap=!0,ft.tagList.push([Vn]);break;case"BITRATE":ft.tagList.push([Vn,pn]);break;case"DATERANGE":{const Zn=new wr(pn);Vo(v,Zn,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Vo(v,Zn,Zn.clientAttrs);const _i=new s0(Zn,v.dateRanges[Zn.ID]);_i.isValid||v.skippedSegments?v.dateRanges[_i.id]=_i:cn.warn(`Ignoring invalid DATERANGE tag: "${pn}"`),ft.tagList.push(["EXT-X-DATERANGE",pn]);break}case"DEFINE":{const Zn=new wr(pn);Vo(v,Zn,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in Zn?pD(v,Zn,m):gc(v,Zn,e)}break;case"DISCONTINUITY-SEQUENCE":Ge=parseInt(pn);break;case"KEY":{const Zn=N0(pn,e,v);if(Zn.isSupported()){if("NONE"===Zn.method){qt=void 0;break}qt||(qt={}),qt[Zn.keyFormat]&&(qt=Ar({},qt)),qt[Zn.keyFormat]=Zn}else cn.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${pn}"`);break}case"START":v.startTimeOffset=Af(pn);break;case"MAP":{const Zn=new wr(pn);if(Vo(v,Zn,["BYTERANGE","URI"]),ft.duration){const _i=new qm(o,e);B0(_i,Zn,i,qt),G=_i,ft.initSegment=G,G.rawProgramDateTime&&!ft.rawProgramDateTime&&(ft.rawProgramDateTime=G.rawProgramDateTime)}else B0(ft,Zn,i,qt),G=ft,un=!0;break}case"SERVER-CONTROL":{const Zn=new wr(pn);v.canBlockReload=Zn.bool("CAN-BLOCK-RELOAD"),v.canSkipUntil=Zn.optionalFloat("CAN-SKIP-UNTIL",0),v.canSkipDateRanges=v.canSkipUntil>0&&Zn.bool("CAN-SKIP-DATERANGES"),v.partHoldBack=Zn.optionalFloat("PART-HOLD-BACK",0),v.holdBack=Zn.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const Zn=new wr(pn);v.partTarget=Zn.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Zn=v.partList;Zn||(Zn=v.partList=[]);const _i=ye>0?Zn[Zn.length-1]:void 0,Sr=ye++,Ki=new wr(pn);Vo(v,Ki,["BYTERANGE","URI"]);const Hn=new iD(Ki,ft,e,Sr,_i);Zn.push(Hn),ft.duration+=Hn.duration;break}case"PRELOAD-HINT":{const Zn=new wr(pn);Vo(v,Zn,["URI"]),v.preloadHint=Zn;break}case"RENDITION-REPORT":{const Zn=new wr(pn);Vo(v,Zn,["URI"]),v.renditionReports=v.renditionReports||[],v.renditionReports.push(Zn);break}default:cn.warn(`line parsed but not handled: ${vt}`)}}}tt&&!tt.relurl?(w.pop(),Ue-=tt.duration,v.partList&&(v.fragmentHint=tt)):v.partList&&(F0(ft,tt),ft.cc=Ge,v.fragmentHint=ft,qt&&mg(ft,qt,v));const ln=w.length,Sn=w[0],mn=w[ln-1];if(Ue+=v.skippedSegments*v.targetduration,Ue>0&&ln&&mn){v.averagetargetduration=Ue/ln;const Mn=mn.sn;v.endSN="initSegment"!==Mn?Mn:0,v.live||(mn.endList=!0),Sn&&(v.startCC=Sn.cc)}else v.endSN=0,v.startCC=0;return v.fragmentHint&&(Ue+=v.fragmentHint.duration),v.totalduration=Ue,v.endCC=Ge,zt>0&&function k0(r,n){let e=r[n];for(let i=n;i--;){const o=r[i];if(!o)return;o.programDateTime=e.programDateTime-1e3*o.duration,e=o}}(w,zt),v}}function N0(r,n,e){var i,o;const u=new wr(r);Vo(e,u,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const m=null!=(i=u.METHOD)?i:"",v=u.URI,w=u.hexadecimalInteger("IV"),G=u.KEYFORMATVERSIONS,te=null!=(o=u.KEYFORMAT)?o:"identity";v&&u.IV&&!w&&cn.error(`Invalid IV: ${u.IV}`);const ye=v?As.resolve(v,n):"",Ue=(G||"1").split("/").map(Number).filter(Number.isFinite);return new xf(m,ye,te,Ue,w)}function Af(r){const e=new wr(r).decimalFloatingPoint("TIME-OFFSET");return di(e)?e:null}function vD(r,n){["video","audio","text"].forEach(e=>{const i=r.filter(o=>function Mf(r,n){const e=Zs[n];return!!e&&!0===e[r.slice(0,4)]}(o,e));if(i.length){const o=i.filter(u=>0===u.lastIndexOf("avc1",0)||0===u.lastIndexOf("mp4a",0));n[`${e}Codec`]=o.length>0?o[0]:i[0],r=r.filter(u=>-1===i.indexOf(u))}}),n.unknownCodecs=r}function L0(r,n,e){const i=n[e];i&&(r[e]=i)}function F0(r,n){r.rawProgramDateTime?r.programDateTime=Date.parse(r.rawProgramDateTime):null!=n&&n.programDateTime&&(r.programDateTime=n.endProgramDateTime),di(r.programDateTime)||(r.programDateTime=null,r.rawProgramDateTime=null)}function B0(r,n,e,i){r.relurl=n.URI,n.BYTERANGE&&r.setByteRange(n.BYTERANGE),r.level=e,r.sn="initSegment",i&&(r.levelkeys=i),r.initSegment=null}function mg(r,n,e){r.levelkeys=n;const{encryptedFragments:i}=e;(!i.length||i[i.length-1].levelkeys!==n)&&Object.keys(n).some(o=>n[o].isCommonEncryption)&&i.push(r)}function U0(r){const{type:n}=r;switch(n){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function wf(r,n){let e=r.url;return(void 0===e||0===e.indexOf("data:"))&&(e=n.url),e}class j0{constructor(n){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=n,this.registerListeners()}startLoad(n){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:n}=this;n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.LEVEL_LOADING,this.onLevelLoading,this),n.on(Et.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.on(Et.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:n}=this;n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.LEVEL_LOADING,this.onLevelLoading,this),n.off(Et.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.off(Et.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(n){const e=this.hls.config,m=new(e.pLoader||e.loader)(e);return this.loaders[n.type]=m,m}getInternalLoader(n){return this.loaders[n.type]}resetInternalLoader(n){this.loaders[n]&&delete this.loaders[n]}destroyInternalLoaders(){for(const n in this.loaders){const e=this.loaders[n];e&&e.destroy(),this.resetInternalLoader(n)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(n,e){const{url:i}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:i,deliveryDirectives:null})}onLevelLoading(n,e){const{id:i,level:o,url:u,deliveryDirectives:m}=e;this.load({id:i,level:o,responseType:"text",type:"level",url:u,deliveryDirectives:m})}onAudioTrackLoading(n,e){const{id:i,groupId:o,url:u,deliveryDirectives:m}=e;this.load({id:i,groupId:o,level:null,responseType:"text",type:"audioTrack",url:u,deliveryDirectives:m})}onSubtitleTrackLoading(n,e){const{id:i,groupId:o,url:u,deliveryDirectives:m}=e;this.load({id:i,groupId:o,level:null,responseType:"text",type:"subtitleTrack",url:u,deliveryDirectives:m})}load(n){var e;const i=this.hls.config;let u,o=this.getInternalLoader(n);if(o){const G=o.context;if(G&&G.url===n.url)return void cn.trace("[playlist-loader]: playlist request ongoing");cn.log(`[playlist-loader]: aborting previous loader for type: ${n.type}`),o.abort()}if(u="manifest"===n.type?i.manifestLoadPolicy.default:Ar({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(n),null!=(e=n.deliveryDirectives)&&e.part){let G;if("level"===n.type&&null!==n.level?G=this.hls.levels[n.level].details:"audioTrack"===n.type&&null!==n.id?G=this.hls.audioTracks[n.id].details:"subtitleTrack"===n.type&&null!==n.id&&(G=this.hls.subtitleTracks[n.id].details),G){const te=G.partTarget,ye=G.targetduration;if(te&&ye){const Ue=1e3*Math.max(3*te,.8*ye);u=Ar({},u,{maxTimeToFirstByteMs:Math.min(Ue,u.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(Ue,u.maxTimeToFirstByteMs)})}}}const m=u.errorRetry||u.timeoutRetry||{};o.load(n,{loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:m.maxNumRetry||0,retryDelay:m.retryDelayMs||0,maxRetryDelay:m.maxRetryDelayMs||0},{onSuccess:(G,te,ye,Ue)=>{const Ge=this.getInternalLoader(ye);this.resetInternalLoader(ye.type);const tt=G.data;0===tt.indexOf("#EXTM3U")?(te.parsing.start=performance.now(),As.isMediaPlaylist(tt)?this.handleTrackOrLevelPlaylist(G,te,ye,Ue||null,Ge):this.handleMasterPlaylist(G,te,ye,Ue)):this.handleManifestParsingError(G,ye,new Error("no EXTM3U delimiter"),Ue||null,te)},onError:(G,te,ye,Ue)=>{this.handleNetworkError(te,ye,!1,G,Ue)},onTimeout:(G,te,ye)=>{this.handleNetworkError(te,ye,!0,void 0,G)}})}handleMasterPlaylist(n,e,i,o){const u=this.hls,m=n.data,v=wf(n,i),w=As.parseMasterPlaylist(m,v);if(w.playlistParsingError)return void this.handleManifestParsingError(n,i,w.playlistParsingError,o,e);const{contentSteering:G,levels:te,sessionData:ye,sessionKeys:Ue,startTimeOffset:Ge,variableList:tt}=w;this.variableList=tt;const{AUDIO:ft=[],SUBTITLES:vt,"CLOSED-CAPTIONS":Lt}=As.parseMasterPlaylistMedia(m,v,w);ft.length&&!ft.some(zt=>!zt.url)&&te[0].audioCodec&&!te[0].attrs.AUDIO&&(cn.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),ft.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new wr({}),bitrate:0,url:""})),u.trigger(Et.MANIFEST_LOADED,{levels:te,audioTracks:ft,subtitles:vt,captions:Lt,contentSteering:G,url:v,stats:e,networkDetails:o,sessionData:ye,sessionKeys:Ue,startTimeOffset:Ge,variableList:tt})}handleTrackOrLevelPlaylist(n,e,i,o,u){const m=this.hls,{id:v,level:w,type:G}=i,te=wf(n,i),ye=di(v)?v:0,Ue=di(w)?w:ye,Ge=U0(i),tt=As.parseLevelPlaylist(n.data,te,Ue,Ge,ye,this.variableList);if("manifest"===G){const ft={attrs:new wr({}),bitrate:0,details:tt,name:"",url:te};m.trigger(Et.MANIFEST_LOADED,{levels:[ft],audioTracks:[],url:te,stats:e,networkDetails:o,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),i.levelDetails=tt,this.handlePlaylistLoaded(tt,n,e,i,o,u)}handleManifestParsingError(n,e,i,o,u){this.hls.trigger(Et.ERROR,{type:mi.NETWORK_ERROR,details:En.MANIFEST_PARSING_ERROR,fatal:"manifest"===e.type,url:n.url,err:i,error:i,reason:i.message,response:n,context:e,networkDetails:o,stats:u})}handleNetworkError(n,e,i=!1,o,u){let m=`A network ${i?"timeout":"error"+(o?" (status "+o.code+")":"")} occurred while loading ${n.type}`;"level"===n.type?m+=`: ${n.level} id: ${n.id}`:("audioTrack"===n.type||"subtitleTrack"===n.type)&&(m+=` id: ${n.id} group-id: "${n.groupId}"`);const v=new Error(m);cn.warn(`[playlist-loader]: ${m}`);let w=En.UNKNOWN,G=!1;const te=this.getInternalLoader(n);switch(n.type){case"manifest":w=i?En.MANIFEST_LOAD_TIMEOUT:En.MANIFEST_LOAD_ERROR,G=!0;break;case"level":w=i?En.LEVEL_LOAD_TIMEOUT:En.LEVEL_LOAD_ERROR,G=!1;break;case"audioTrack":w=i?En.AUDIO_TRACK_LOAD_TIMEOUT:En.AUDIO_TRACK_LOAD_ERROR,G=!1;break;case"subtitleTrack":w=i?En.SUBTITLE_TRACK_LOAD_TIMEOUT:En.SUBTITLE_LOAD_ERROR,G=!1}te&&this.resetInternalLoader(n.type);const ye={type:mi.NETWORK_ERROR,details:w,fatal:G,url:n.url,loader:te,context:n,error:v,networkDetails:e,stats:u};o&&(ye.response=Uo({url:e?.url||n.url,data:void 0},o)),this.hls.trigger(Et.ERROR,ye)}handlePlaylistLoaded(n,e,i,o,u,m){const v=this.hls,{type:w,level:G,id:te,groupId:ye,deliveryDirectives:Ue}=o,Ge=wf(e,o),tt=U0(o),ft="number"==typeof o.level&&"main"===tt?G:void 0;if(!n.fragments.length){const Lt=new Error("No Segments found in Playlist");return void v.trigger(Et.ERROR,{type:mi.NETWORK_ERROR,details:En.LEVEL_EMPTY_ERROR,fatal:!1,url:Ge,error:Lt,reason:Lt.message,response:e,context:o,level:ft,parent:tt,networkDetails:u,stats:i})}n.targetduration||(n.playlistParsingError=new Error("Missing Target Duration"));const vt=n.playlistParsingError;if(vt)v.trigger(Et.ERROR,{type:mi.NETWORK_ERROR,details:En.LEVEL_PARSING_ERROR,fatal:!1,url:Ge,error:vt,reason:vt.message,response:e,context:o,level:ft,parent:tt,networkDetails:u,stats:i});else switch(n.live&&m&&(m.getCacheAge&&(n.ageHeader=m.getCacheAge()||0),(!m.getCacheAge||isNaN(n.ageHeader))&&(n.ageHeader=0)),w){case"manifest":case"level":v.trigger(Et.LEVEL_LOADED,{details:n,level:ft||0,id:te||0,stats:i,networkDetails:u,deliveryDirectives:Ue});break;case"audioTrack":v.trigger(Et.AUDIO_TRACK_LOADED,{details:n,id:te||0,groupId:ye||"",stats:i,networkDetails:u,deliveryDirectives:Ue});break;case"subtitleTrack":v.trigger(Et.SUBTITLE_TRACK_LOADED,{details:n,id:te||0,groupId:ye||"",stats:i,networkDetails:u,deliveryDirectives:Ue})}}}function If(r,n){let e;try{e=new Event("addtrack")}catch{e=document.createEvent("Event"),e.initEvent("addtrack",!1,!1)}e.track=r,n.dispatchEvent(e)}function gg(r,n){const e=r.mode;if("disabled"===e&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(n.id))try{if(r.addCue(n),!r.cues.getCueById(n.id))throw new Error(`addCue is failed for: ${n}`)}catch(i){cn.debug(`[texttrack-utils]: ${i}`);try{const o=new self.TextTrackCue(n.startTime,n.endTime,n.text);o.id=n.id,r.addCue(o)}catch(o){cn.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${o}`)}}"disabled"===e&&(r.mode=e)}function _c(r){const n=r.mode;if("disabled"===n&&(r.mode="hidden"),r.cues)for(let e=r.cues.length;e--;)r.removeCue(r.cues[e]);"disabled"===n&&(r.mode=n)}function Of(r,n,e,i){const o=r.mode;if("disabled"===o&&(r.mode="hidden"),r.cues&&r.cues.length>0){const u=function yD(r,n,e){const i=[],o=function V0(r,n){if(n<r[0].startTime)return 0;const e=r.length-1;if(n>r[e].endTime)return-1;let i=0,o=e;for(;i<=o;){const u=Math.floor((o+i)/2);if(n<r[u].startTime)o=u-1;else{if(!(n>r[u].startTime&&i<e))return u;i=u+1}}return r[i].startTime-n<n-r[o].startTime?i:o}(r,n);if(o>-1)for(let u=o,m=r.length;u<m;u++){const v=r[u];if(v.startTime>=n&&v.endTime<=e)i.push(v);else if(v.startTime>e)return i}return i}(r.cues,n,e);for(let m=0;m<u.length;m++)(!i||i(u[m]))&&r.removeCue(u[m])}"disabled"===o&&(r.mode=o)}var ws_emsg="https://aomedia.org/emsg/ID3";function Md(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const Ad=(()=>{const r=Md();try{new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function wd(r,n){return r.getTime()/1e3-n}function _g(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class bD{constructor(n){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=n,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:n}=this;n.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.on(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Et.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:n}=this;n.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.off(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Et.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(n,e){this.media=e.media}onMediaDetaching(){this.id3Track&&(_c(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(n){const e=this.getID3Track(n.textTracks);return e.mode="hidden",e}getID3Track(n){if(this.media){for(let e=0;e<n.length;e++){const i=n[e];if("metadata"===i.kind&&"id3"===i.label)return If(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(n,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:o}}}=this;if(!i&&!o)return;const{samples:u}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const m=Md();for(let v=0;v<u.length;v++){const w=u[v].type;if(w===ws_emsg&&!i||!o)continue;const G=ig(u[v].data);if(G){const te=u[v].pts;let ye=te+u[v].duration;ye>Ad&&(ye=Ad),ye-te<=0&&(ye=te+.25);for(let Ge=0;Ge<G.length;Ge++){const tt=G[Ge];if(!m0(tt)){this.updateId3CueEnds(te,w);const ft=new m(te,ye,"");ft.value=tt,w&&(ft.type=w),this.id3Track.addCue(ft)}}}}}updateId3CueEnds(n,e){var i;const o=null==(i=this.id3Track)?void 0:i.cues;if(o)for(let u=o.length;u--;){const m=o[u];m.type===e&&m.startTime<n&&m.endTime===Ad&&(m.endTime=n)}}onBufferFlushing(n,{startOffset:e,endOffset:i,type:o}){const{id3Track:u,hls:m}=this;if(!m)return;const{config:{enableEmsgMetadataCues:v,enableID3MetadataCues:w}}=m;if(u&&(v||w)){let G;G="audio"===o?te=>"org.id3"===te.type&&w:"video"===o?te=>te.type===ws_emsg&&v:te=>"org.id3"===te.type&&w||te.type===ws_emsg&&v,Of(u,e,i,G)}}onLevelUpdated(n,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:i,id3Track:o}=this,{dateRanges:u}=e,m=Object.keys(u);if(o){const te=Object.keys(i).filter(ye=>!m.includes(ye));for(let ye=te.length;ye--;){const Ue=te[ye];Object.keys(i[Ue].cues).forEach(Ge=>{o.removeCue(i[Ue].cues[Ge])}),delete i[Ue]}}const v=e.fragments[e.fragments.length-1];if(0===m.length||!di(v?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const w=v.programDateTime/1e3-v.start,G=Md();for(let te=0;te<m.length;te++){const ye=m[te],Ue=u[ye],Ge=i[ye],tt=Ge?.cues||{};let ft=Ge?.durationKnown||!1;const vt=wd(Ue.startDate,w);let Lt=Ad;const qt=Ue.endDate;if(qt)Lt=wd(qt,w),ft=!0;else if(Ue.endOnNext&&!ft){const un=m.reduce((ln,Sn)=>{const mn=u[Sn];return mn.class===Ue.class&&mn.id!==Sn&&mn.startDate>Ue.startDate&&ln.push(mn),ln},[]).sort((ln,Sn)=>ln.startDate.getTime()-Sn.startDate.getTime())[0];un&&(Lt=wd(un.startDate,w),ft=!0)}const zt=Object.keys(Ue.attr);for(let un=0;un<zt.length;un++){const ln=zt[un];if("ID"===(r=ln)||"CLASS"===r||"START-DATE"===r||"DURATION"===r||"END-DATE"===r||"END-ON-NEXT"===r)continue;let Sn=tt[ln];if(Sn)ft&&!Ge.durationKnown&&(Sn.endTime=Lt);else{let mn=Ue.attr[ln];Sn=new G(vt,Lt,""),nD(ln)&&(mn=_g(mn)),Sn.value={key:ln,data:mn},Sn.type="com.apple.quicktime.HLS",Sn.id=ye,this.id3Track.addCue(Sn),tt[ln]=Sn}}i[ye]={cues:tt,dateRange:Ue,durationKnown:ft}}var r}}class ED{constructor(n){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=n,this.config=n.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:n,levelDetails:e}=this;return void 0!==n.liveMaxLatencyDuration?n.liveMaxLatencyDuration:e?n.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:n}=this;if(null===n)return null;const{holdBack:e,partHoldBack:i,targetduration:o}=n,{liveSyncDuration:u,liveSyncDurationCount:m,lowLatencyMode:v}=this.config,w=this.hls.userConfig;let G=v&&i||e;return(w.liveSyncDuration||w.liveSyncDurationCount||0===G)&&(G=void 0!==u?u:m*o),G+Math.min(1*this.stallCount,o)}get liveSyncPosition(){const n=this.estimateLiveEdge(),e=this.targetLatency,i=this.levelDetails;if(null===n||null===e||null===i)return null;const o=i.edge,v=o-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(o-i.totalduration,n-e-this.edgeStalled),v)}get drift(){const{levelDetails:n}=this;return null===n?1:n.drift}get edgeStalled(){const{levelDetails:n}=this;return null===n?0:Math.max(n.age-3*(this.config.lowLatencyMode&&n.partTarget||n.targetduration),0)}get forwardBufferLength(){const{media:n,levelDetails:e}=this;if(!n||!e)return 0;const i=n.buffered.length;return(i?n.buffered.end(i-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Et.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Et.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Et.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Et.ERROR,this.onError,this)}onMediaAttached(n,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(n,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(n,e){var i;e.details===En.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(i=this.levelDetails)&&i.live&&cn.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:n,levelDetails:e}=this;if(!n||!e)return;this.currentTime=n.currentTime;const i=this.computeLatency();if(null===i)return;this._latency=i;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:u}=this.config;if(!o||1===u)return;const m=this.targetLatency;if(null===m)return;const v=i-m,w=Math.min(this.maxLatency,m+e.targetduration);if(e.live&&v<w&&v>.05&&this.forwardBufferLength>1){const te=Math.min(2,Math.max(1,u)),ye=Math.round(2/(1+Math.exp(-.75*v-this.edgeStalled))*20)/20;n.playbackRate=Math.min(te,Math.max(1,ye))}else 1!==n.playbackRate&&0!==n.playbackRate&&(n.playbackRate=1)}estimateLiveEdge(){const{levelDetails:n}=this;return null===n?null:n.edge+n.age}computeLatency(){const n=this.estimateLiveEdge();return null===n?null:n-this.currentTime}}const vg=["NONE","TYPE-0","TYPE-1",null];class Pf{constructor(n,e,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=n,this.part=e,this.skip=i}addDirectives(n){const e=new self.URL(n);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class vc{constructor(n){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[n.url],this._attrs=[n.attrs],this.bitrate=n.bitrate,n.details&&(this.details=n.details),this.id=n.id||0,this.name=n.name,this.width=n.width||0,this.height=n.height||0,this.audioCodec=n.audioCodec,this.videoCodec=n.videoCodec,this.unknownCodecs=n.unknownCodecs,this.codecSet=[n.videoCodec,n.audioCodec].filter(e=>e).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(n){const e=n%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}get audioGroupId(){var n;return null==(n=this.audioGroupIds)?void 0:n[this.urlId]}get textGroupId(){var n;return null==(n=this.textGroupIds)?void 0:n[this.urlId]}addFallback(n){this.url.push(n.url),this._attrs.push(n.attrs)}}function Rf(r,n){const e=n.startPTS;if(di(e)){let o,i=0;n.sn>r.sn?(i=e-r.start,o=r):(i=r.start-e,o=n),o.duration!==i&&(o.duration=i)}else n.start=n.sn>r.sn?r.cc===n.cc&&r.minEndPTS?r.start+(r.minEndPTS-r.start):r.start+r.duration:Math.max(r.start-n.duration,0)}function yg(r,n,e,i,o,u){i-e<=0&&(cn.warn("Fragment should have a positive duration",n),i=e+n.duration,u=o+n.duration);let v=e,w=i;const G=n.startPTS,te=n.endPTS;if(di(G)){const vt=Math.abs(G-e);n.deltaPTS=di(n.deltaPTS)?Math.max(vt,n.deltaPTS):vt,v=Math.max(e,G),e=Math.min(e,G),o=Math.min(o,n.startDTS),w=Math.min(i,te),i=Math.max(i,te),u=Math.max(u,n.endDTS)}const ye=e-n.start;0!==n.start&&(n.start=e),n.duration=i-n.start,n.startPTS=e,n.maxStartPTS=v,n.startDTS=o,n.endPTS=i,n.minEndPTS=w,n.endDTS=u;const Ue=n.sn;if(!r||Ue<r.startSN||Ue>r.endSN)return 0;let Ge;const tt=Ue-r.startSN,ft=r.fragments;for(ft[tt]=n,Ge=tt;Ge>0;Ge--)Rf(ft[Ge],ft[Ge-1]);for(Ge=tt;Ge<ft.length-1;Ge++)Rf(ft[Ge],ft[Ge+1]);return r.fragmentHint&&Rf(ft[ft.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,ye}function W0(r,n){const e=n.startSN+n.skippedSegments-r.startSN,i=r.fragments;e<0||e>=i.length||Nf(n,i[e].start)}function Nf(r,n){if(n){const e=r.fragments;for(let i=r.skippedSegments;i<e.length;i++)e[i].start+=n;r.fragmentHint&&(r.fragmentHint.start+=n)}}function ll(r,n,e){var i;return null!=r&&r.details?Z0(null==(i=r.details)?void 0:i.partList,n,e):null}function Z0(r,n,e){if(r)for(let i=r.length;i--;){const o=r[i];if(o.index===e&&o.fragment.sn===n)return o}return null}function Lf(r){switch(r.details){case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_TIMEOUT:case En.LEVEL_LOAD_TIMEOUT:case En.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function SD(r,n){const e=Lf(n);return r.default[(e?"timeout":"error")+"Retry"]}function $0(r,n){const e="linear"===r.backoff?1:Math.pow(2,n);return Math.min(e*r.retryDelayMs,r.maxRetryDelayMs)}function bg(r){return Uo(Uo({},r),{errorRetry:null,timeoutRetry:null})}function yc(r,n,e,i){return!!r&&n<r.maxNumRetry&&(function Od(r){return 0===r&&!1===navigator.onLine||!!r&&(r<400||r>499)}(i)||!!e)}const q0={search:function(r,n){let e=0,i=r.length-1,o=null,u=null;for(;e<=i;){o=(e+i)/2|0,u=r[o];const m=n(u);if(m>0)e=o+1;else{if(!(m<0))return u;i=o-1}}return null}};function Pd(r,n,e=0,i=0){let o=null;if(r?o=n[r.sn-n[0].sn+1]||null:0===e&&0===n[0].start&&(o=n[0]),o&&0===kf(e,i,o))return o;const u=q0.search(n,kf.bind(null,e,i));return!u||u===r&&o?o:u}function kf(r=0,n=0,e){if(e.start<=r&&e.start+e.duration>r)return 0;const i=Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-i<=r?1:e.start-i>r&&e.start?-1:0}function CD(r,n,e){const i=1e3*Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0));return(e.endProgramDateTime||0)-i>r}function Ff(r,n,e){if(performance.now()-r.lastErrorPerfMs>3e5)return!0;const i=r.details;if(n.details===En.FRAG_GAP&&i&&n.frag){const u=Pd(null,i.fragments,n.frag.start);if(u&&!u.gap)return!0}if(e&&r.errors.length<e.errors.length){const o=r.errors[r.errors.length-1];if(i&&o.frag&&n.frag&&Math.abs(o.frag.start-n.frag.start)>3*i.targetduration)return!0}return!1}class Rd{constructor(n,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=cn.log.bind(cn,`${e}:`),this.warn=cn.warn.bind(cn,`${e}:`),this.hls=n}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(n,e){const i=e?.renditionReports;if(i){let o=-1;for(let u=0;u<i.length;u++){const m=i[u];let v;try{v=new self.URL(m.URI,e.url).href}catch(w){cn.warn(`Could not construct new URL for Rendition Report: ${w}`),v=m.URI||""}if(v===n){o=u;break}v===n.substring(0,v.length)&&(o=u)}if(-1!==o){const u=i[o],m=parseInt(u["LAST-MSN"])||e?.lastPartSn;let v=parseInt(u["LAST-PART"])||e?.lastPartIndex;if(this.hls.config.lowLatencyMode){const w=Math.min(e.age-e.partTarget,e.targetduration);v>=0&&w>e.partTarget&&(v+=1)}return new Pf(m,v>=0?v:void 0,"")}}}loadPlaylist(n){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(n){return this.canLoad&&!!n&&!!n.url&&(!n.details||n.details.live)}shouldReloadPlaylist(n){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(n)}playlistLoaded(n,e,i){const{details:o,stats:u}=e,m=self.performance.now(),v=u.loading.first?Math.max(0,m-u.loading.first):0;if(o.advancedDateTime=Date.now()-v,o.live||null!=i&&i.live){if(o.reloaded(i),i&&this.log(`live playlist ${n} ${o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED"}`),i&&o.fragments.length>0&&function H0(r,n){let e=null;const i=r.fragments;for(let w=i.length-1;w>=0;w--){const G=i[w].initSegment;if(G){e=G;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let u,o=0;if(function K0(r,n,e){const i=n.skippedSegments,o=Math.max(r.startSN,n.startSN)-n.startSN,u=(r.fragmentHint?1:0)+(i?n.endSN:Math.min(r.endSN,n.endSN))-n.startSN,m=n.startSN-r.startSN,v=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments,w=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let G=o;G<=u;G++){const te=w[m+G];let ye=v[G];i&&!ye&&G<i&&(ye=n.fragments[G]=te),te&&ye&&e(te,ye)}}(r,n,(w,G)=>{w.relurl&&(o=w.cc-G.cc),di(w.startPTS)&&di(w.endPTS)&&(G.start=G.startPTS=w.startPTS,G.startDTS=w.startDTS,G.maxStartPTS=w.maxStartPTS,G.endPTS=w.endPTS,G.endDTS=w.endDTS,G.minEndPTS=w.minEndPTS,G.duration=w.endPTS-w.startPTS,G.duration&&(u=G),n.PTSKnown=n.alignedSliding=!0),G.elementaryStreams=w.elementaryStreams,G.loader=w.loader,G.stats=w.stats,G.urlId=w.urlId,w.initSegment&&(G.initSegment=w.initSegment,e=w.initSegment)}),e&&(n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments).forEach(G=>{var te;(!G.initSegment||G.initSegment.relurl===(null==(te=e)?void 0:te.relurl))&&(G.initSegment=e)}),n.skippedSegments)if(n.deltaUpdateFailed=n.fragments.some(w=>!w),n.deltaUpdateFailed){cn.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let w=n.skippedSegments;w--;)n.fragments.shift();n.startSN=n.fragments[0].sn,n.startCC=n.fragments[0].cc}else n.canSkipDateRanges&&(n.dateRanges=function TD(r,n,e){const i=Ar({},r);return e&&e.forEach(o=>{delete i[o]}),Object.keys(n).forEach(o=>{const u=new s0(n[o].attr,i[o]);u.isValid?i[o]=u:cn.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(n[o].attr)}"`)}),i}(r.dateRanges,n.dateRanges,n.recentlyRemovedDateranges));const m=n.fragments;if(o){cn.warn("discontinuity sliding from playlist, take drift into account");for(let w=0;w<m.length;w++)m[w].cc+=o}n.skippedSegments&&(n.startCC=n.fragments[0].cc),function Y0(r,n,e){if(r&&n){let i=0;for(let o=0,u=r.length;o<=u;o++){const m=r[o],v=n[o+i];m&&v&&m.index===v.index&&m.fragment.sn===v.fragment.sn?e(m,v):i--}}}(r.partList,n.partList,(w,G)=>{G.elementaryStreams=w.elementaryStreams,G.stats=w.stats}),u?yg(n,u,u.startPTS,u.endPTS,u.startDTS,u.endDTS):W0(r,n),m.length&&(n.totalduration=n.edge-m[0].start),n.driftStartTime=r.driftStartTime,n.driftStart=r.driftStart;const v=n.advancedDateTime;if(n.advanced&&v){const w=n.edge;n.driftStart||(n.driftStartTime=v,n.driftStart=w),n.driftEndTime=v,n.driftEnd=w}else n.driftEndTime=r.driftEndTime,n.driftEnd=r.driftEnd,n.advancedDateTime=r.advancedDateTime}(i,o),!this.canLoad||!o.live)return;let w,G,te;if(o.canBlockReload&&o.endSN&&o.advanced){const vt=this.hls.config.lowLatencyMode,Lt=o.lastPartSn,qt=o.endSN,zt=o.lastPartIndex,ln=Lt===qt;-1!==zt?(G=ln?qt+1:Lt,te=ln?vt?0:zt:zt+1):G=qt+1;const mn=o.age;let Vn=Math.min(mn+o.ageHeader-o.partTarget,1.5*o.targetduration);if(Vn>0){if(i&&Vn>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${Vn} with playlist age: ${o.age}`),Vn=0;else{const pn=Math.floor(Vn/o.targetduration);G+=pn,void 0!==te&&(te+=Math.round(Vn%o.targetduration/o.partTarget)),this.log(`CDN Tune-in age: ${o.ageHeader}s last advanced ${mn.toFixed(2)}s goal: ${Vn} skip sn ${pn} to part ${te}`)}o.tuneInGoal=Vn}if(w=this.getDeliveryDirectives(o,e.deliveryDirectives,G,te),vt||!ln)return void this.loadPlaylist(w)}else o.canBlockReload&&(w=this.getDeliveryDirectives(o,e.deliveryDirectives,G,te));const ye=this.hls.mainForwardBufferInfo,tt=function z0(r,n=1/0){let e=1e3*r.targetduration;if(r.updated){const i=r.fragments;if(i.length&&4*e>n){const u=1e3*i[i.length-1].duration;u<e&&(e=u)}}else e/=2;return Math.round(e)}(o,1e3*(o.edge-(ye?ye.end-ye.len:0)));o.updated&&m>this.requestScheduled+tt&&(this.requestScheduled=u.loading.start),void 0!==G&&o.canBlockReload?this.requestScheduled=u.loading.first+tt-(1e3*o.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+tt<m?this.requestScheduled=m:this.requestScheduled-m<=0&&(this.requestScheduled+=tt);let ft=this.requestScheduled-m;ft=Math.max(0,ft),this.log(`reload live playlist ${n} in ${Math.round(ft)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(w),ft)}else this.clearTimer()}getDeliveryDirectives(n,e,i,o){let u=function G0(r,n){const{canSkipUntil:e,canSkipDateRanges:i,endSN:o}=r;return e&&(void 0!==n?n-o:0)<e?i?"v2":"YES":""}(n,i);return null!=e&&e.skip&&n.deltaUpdateFailed&&(i=e.msn,o=e.part,u=""),new Pf(i,o,u)}checkRetry(n){const e=n.details,i=Lf(n),o=n.errorAction,{action:u,retryCount:m=0,retryConfig:v}=o||{},w=!!o&&!!v&&(5===u||!o.resolved&&2===u);if(w){var G;if(this.requestScheduled=-1,m>=v.maxNumRetry)return!1;if(i&&null!=(G=n.context)&&G.deliveryDirectives)this.warn(`Retrying playlist loading ${m+1}/${v.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const te=$0(v,m);this.timer=self.setTimeout(()=>this.loadPlaylist(),te),this.warn(`Retrying playlist loading ${m+1}/${v.maxNumRetry} after "${e}" in ${te}ms`)}n.levelRetry=!0,o.resolved=!0}return w}}let J0;class Q0 extends Rd{constructor(n,e){super(n,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Et.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Et.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(Et.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(Et.FRAG_LOADED,this.onFragLoaded,this),n.on(Et.ERROR,this.onError,this)}_unregisterListeners(){const{hls:n}=this;n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Et.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Et.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(Et.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(Et.FRAG_LOADED,this.onFragLoaded,this),n.off(Et.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(e=>{e.loadError=0,e.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(n,e){this.resetLevels()}onManifestLoaded(n,e){const i=[],o={};let u;e.levels.forEach(m=>{var v;const w=m.attrs;-1!==(null==(v=m.audioCodec)?void 0:v.indexOf("mp4a.40.34"))&&(J0||(J0=/chrome|firefox/i.test(navigator.userAgent)),J0&&(m.audioCodec=void 0));const{AUDIO:G,CODECS:te,"FRAME-RATE":ye,"PATHWAY-ID":Ue,RESOLUTION:Ge,SUBTITLES:tt}=w,vt=`${Ue||"."}-${m.bitrate}-${Ge}-${ye}-${te}`;u=o[vt],u?u.addFallback(m):(u=new vc(m),o[vt]=u,i.push(u)),Bf(u,"audio",G),Bf(u,"text",tt)}),this.filterAndSortMediaOptions(i,e)}filterAndSortMediaOptions(n,e){let i=[],o=[],u=!1,m=!1,v=!1,w=n.filter(({audioCodec:Ge,videoCodec:tt,width:ft,height:vt,unknownCodecs:Lt})=>(u||(u=!(!ft||!vt)),m||(m=!!tt),v||(v=!!Ge),!(null!=Lt&&Lt.length)&&(!Ge||al(Ge,"audio"))&&(!tt||al(tt,"video"))));if((u||m)&&v&&(w=w.filter(({videoCodec:Ge,width:tt,height:ft})=>!!Ge||!(!tt||!ft))),0===w.length)return void Promise.resolve().then(()=>{if(this.hls){const Ge=new Error("no level with compatible codecs found in manifest");this.hls.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:Ge,reason:Ge.message})}});e.audioTracks&&(i=e.audioTracks.filter(Ge=>!Ge.audioCodec||al(Ge.audioCodec,"audio")),Tg(i)),e.subtitles&&(o=e.subtitles,Tg(o));const G=w.slice(0);w.sort((Ge,tt)=>Ge.attrs["HDCP-LEVEL"]!==tt.attrs["HDCP-LEVEL"]?(Ge.attrs["HDCP-LEVEL"]||"")>(tt.attrs["HDCP-LEVEL"]||"")?1:-1:Ge.bitrate!==tt.bitrate?Ge.bitrate-tt.bitrate:Ge.attrs["FRAME-RATE"]!==tt.attrs["FRAME-RATE"]?Ge.attrs.decimalFloatingPoint("FRAME-RATE")-tt.attrs.decimalFloatingPoint("FRAME-RATE"):Ge.attrs.SCORE!==tt.attrs.SCORE?Ge.attrs.decimalFloatingPoint("SCORE")-tt.attrs.decimalFloatingPoint("SCORE"):u&&Ge.height!==tt.height?Ge.height-tt.height:0);let te=G[0];if(this.steering&&(w=this.steering.filterParsedLevels(w),w.length!==G.length))for(let Ge=0;Ge<G.length;Ge++)if(G[Ge].pathwayId===w[0].pathwayId){te=G[Ge];break}this._levels=w;for(let Ge=0;Ge<w.length;Ge++)if(w[Ge]===te){this._firstLevel=Ge,this.log(`manifest loaded, ${w.length} level(s) found, first bitrate: ${te.bitrate}`);break}const Ue={levels:w,audioTracks:i,subtitleTracks:o,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:v,video:m,altAudio:!(v&&!m)&&i.some(Ge=>!!Ge.url)};this.hls.trigger(Et.MANIFEST_PARSED,Ue),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(n){const e=this._levels;if(0===e.length)return;if(n<0||n>=e.length){const te=new Error("invalid level idx"),ye=n<0;if(this.hls.trigger(Et.ERROR,{type:mi.OTHER_ERROR,details:En.LEVEL_SWITCH_ERROR,level:n,fatal:ye,error:te,reason:te.message}),ye)return;n=Math.min(n,e.length-1)}const i=this.currentLevelIndex,o=this.currentLevel,u=o?o.attrs["PATHWAY-ID"]:void 0,m=e[n],v=m.attrs["PATHWAY-ID"];if(this.currentLevelIndex=n,this.currentLevel=m,i===n&&m.details&&o&&u===v)return;this.log(`Switching to level ${n}${v?" with Pathway "+v:""} from level ${i}${u?" with Pathway "+u:""}`);const w=Ar({},m,{level:n,maxBitrate:m.maxBitrate,attrs:m.attrs,uri:m.uri,urlId:m.urlId});delete w._attrs,delete w._urlId,this.hls.trigger(Et.LEVEL_SWITCHING,w);const G=m.details;if(!G||G.live){const te=this.switchParams(m.uri,o?.details);this.loadPlaylist(te)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(n){this.manualLevelIndex=n,void 0===this._startLevel&&(this._startLevel=n),-1!==n&&(this.level=n)}get firstLevel(){return this._firstLevel}set firstLevel(n){this._firstLevel=n}get startLevel(){if(void 0===this._startLevel){const n=this.hls.config.startLevel;return void 0!==n?n:this._firstLevel}return this._startLevel}set startLevel(n){this._startLevel=n}onError(n,e){e.fatal||!e.context||"level"===e.context.type&&e.context.level===this.level&&this.checkRetry(e)}onFragLoaded(n,{frag:e}){if(void 0!==e&&"main"===e.type){const i=this._levels[e.level];void 0!==i&&(i.loadError=0)}}onLevelLoaded(n,e){var i;const{level:o,details:u}=e,m=this._levels[o];var v;if(!m)return this.warn(`Invalid level index ${o}`),void(null!=(v=e.deliveryDirectives)&&v.skip&&(u.deltaUpdateFailed=!0));o===this.currentLevelIndex?(0===m.fragmentError&&(m.loadError=0),this.playlistLoaded(o,e,m.details)):null!=(i=e.deliveryDirectives)&&i.skip&&(u.deltaUpdateFailed=!0)}onAudioTrackSwitched(n,e){const i=this.currentLevel;if(!i)return;const o=this.hls.audioTracks[e.id].groupId;if(i.audioGroupIds&&i.audioGroupId!==o){let u=-1;for(let m=0;m<i.audioGroupIds.length;m++)if(i.audioGroupIds[m]===o){u=m;break}-1!==u&&u!==i.urlId&&(i.urlId=u,this.canLoad&&this.startLoad())}}loadPlaylist(n){super.loadPlaylist();const e=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){const o=i.urlId;let u=i.uri;if(n)try{u=n.addDirectives(u)}catch(v){this.warn(`Could not construct new URL with HLS Delivery Directives: ${v}`)}const m=i.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==n?.msn?" at sn "+n.msn+" part "+n.part:""} with${m?" Pathway "+m:""} URI ${o+1}/${i.url.length} ${u}`),this.clearTimer(),this.hls.trigger(Et.LEVEL_LOADING,{url:u,level:e,id:o,deliveryDirectives:n||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(n){this.level=n,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=n)}removeLevel(n,e){const i=(u,m)=>m!==e,o=this._levels.filter((u,m)=>m!==n||(u.url.length>1&&void 0!==e?(u.url=u.url.filter(i),u.audioGroupIds&&(u.audioGroupIds=u.audioGroupIds.filter(i)),u.textGroupIds&&(u.textGroupIds=u.textGroupIds.filter(i)),u.urlId=0,!0):(this.steering&&this.steering.removeLevel(u),!1)));this.hls.trigger(Et.LEVELS_UPDATED,{levels:o})}onLevelsUpdated(n,{levels:e}){e.forEach((i,o)=>{const{details:u}=i;null!=u&&u.fragments&&u.fragments.forEach(m=>{m.level=o})}),this._levels=e}}function Bf(r,n,e){e&&("audio"===n?(r.audioGroupIds||(r.audioGroupIds=[]),r.audioGroupIds[r.url.length-1]=e):"text"===n&&(r.textGroupIds||(r.textGroupIds=[]),r.textGroupIds[r.url.length-1]=e))}function Tg(r){const n={};r.forEach(e=>{const i=e.groupId||"";e.id=n[i]=n[i]||0,n[i]++})}class AD{constructor(n){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=n,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Et.BUFFER_APPENDED,this.onBufferAppended,this),n.on(Et.FRAG_BUFFERED,this.onFragBuffered,this),n.on(Et.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:n}=this;n.off(Et.BUFFER_APPENDED,this.onBufferAppended,this),n.off(Et.FRAG_BUFFERED,this.onFragBuffered,this),n.off(Et.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(n,e){const i=this.activePartLists[e];if(i)for(let o=i.length;o--;){const u=i[o];if(!u)break;const m=u.end;if(u.start<=n&&null!==m&&n<=m)return u}return this.getBufferedFrag(n,e)}getBufferedFrag(n,e){const{fragments:i}=this,o=Object.keys(i);for(let u=o.length;u--;){const m=i[o[u]];if(m?.body.type===e&&m.buffered){const v=m.body;if(v.start<=n&&n<=v.end)return v}}return null}detectEvictedFragments(n,e,i,o){this.timeRanges&&(this.timeRanges[n]=e);const u=o?.fragment.sn||-1;Object.keys(this.fragments).forEach(m=>{const v=this.fragments[m];if(!v||u>=v.body.sn)return;if(!v.buffered&&!v.loaded)return void(v.body.type===i&&this.removeFragment(v.body));const w=v.range[n];w&&w.time.some(G=>{const te=!this.isTimeBuffered(G.startPTS,G.endPTS,e);return te&&this.removeFragment(v.body),te})})}detectPartialFragments(n){const e=this.timeRanges,{frag:i,part:o}=n;if(!e||"initSegment"===i.sn)return;const u=Ra(i),m=this.fragments[u];if(!m||m.buffered&&i.gap)return;const v=!i.relurl;Object.keys(e).forEach(w=>{const G=i.elementaryStreams[w];G&&(m.range[w]=this.getBufferedTimes(i,o,v||!0===G.partial,e[w]))}),m.loaded=null,Object.keys(m.range).length?(m.buffered=!0,m.body.endList&&(this.endListFragments[m.body.type]=m),Nd(m)||this.removeParts(i.sn-1,i.type)):this.removeFragment(m.body)}removeParts(n,e){const i=this.activePartLists[e];i&&(this.activePartLists[e]=i.filter(o=>o.fragment.sn>=n))}fragBuffered(n,e){const i=Ra(n);let o=this.fragments[i];!o&&e&&(o=this.fragments[i]={body:n,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},n.gap&&(this.hasGaps=!0)),o&&(o.loaded=null,o.buffered=!0)}getBufferedTimes(n,e,i,o){const u={time:[],partial:i},m=n.start,v=n.end,w=n.minEndPTS||v,G=n.maxStartPTS||m;for(let te=0;te<o.length;te++){const ye=o.start(te)-this.bufferPadding,Ue=o.end(te)+this.bufferPadding;if(G>=ye&&w<=Ue){u.time.push({startPTS:Math.max(m,o.start(te)),endPTS:Math.min(v,o.end(te))});break}if(m<Ue&&v>ye)u.partial=!0,u.time.push({startPTS:Math.max(m,o.start(te)),endPTS:Math.min(v,o.end(te))});else if(v<=ye)break}return u}getPartialFragment(n){let i,o,u,e=null,m=0;const{bufferPadding:v,fragments:w}=this;return Object.keys(w).forEach(G=>{const te=w[G];te&&Nd(te)&&(o=te.body.start-v,u=te.body.end+v,n>=o&&n<=u&&(i=Math.min(n-o,u-n),m<=i&&(e=te.body,m=i)))}),e}isEndListAppended(n){const e=this.endListFragments[n];return void 0!==e&&(e.buffered||Nd(e))}getState(n){const e=Ra(n),i=this.fragments[e];return i?i.buffered?Nd(i)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(n,e,i){let o,u;for(let m=0;m<i.length;m++){if(o=i.start(m)-this.bufferPadding,u=i.end(m)+this.bufferPadding,n>=o&&e<=u)return!0;if(e<=o)return!1}return!1}onFragLoaded(n,e){const{frag:i,part:o}=e;if("initSegment"===i.sn||i.bitrateTest)return;const u=o?null:e,m=Ra(i);this.fragments[m]={body:i,appendedPTS:null,loaded:u,buffered:!1,range:Object.create(null)}}onBufferAppended(n,e){const{frag:i,part:o,timeRanges:u}=e;if("initSegment"===i.sn)return;const m=i.type;if(o){let v=this.activePartLists[m];v||(this.activePartLists[m]=v=[]),v.push(o)}this.timeRanges=u,Object.keys(u).forEach(v=>{this.detectEvictedFragments(v,u[v],m,o)})}onFragBuffered(n,e){this.detectPartialFragments(e)}hasFragment(n){const e=Ra(n);return!!this.fragments[e]}hasParts(n){var e;return!(null==(e=this.activePartLists[n])||!e.length)}removeFragmentsInRange(n,e,i,o,u){o&&!this.hasGaps||Object.keys(this.fragments).forEach(m=>{const v=this.fragments[m];if(!v)return;const w=v.body;w.type!==i||o&&!w.gap||w.start<e&&w.end>n&&(v.buffered||u)&&this.removeFragment(w)})}removeFragment(n){const e=Ra(n);n.stats.loaded=0,n.clearElementaryStreamInfo();const i=this.activePartLists[n.type];if(i){const o=n.sn;this.activePartLists[n.type]=i.filter(u=>u.fragment.sn!==o)}delete this.fragments[e],n.endList&&delete this.endListFragments[n.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Nd(r){var n,e,i;return r.buffered&&(r.body.gap||(null==(n=r.range.video)?void 0:n.partial)||(null==(e=r.range.audio)?void 0:e.partial)||(null==(i=r.range.audiovideo)?void 0:i.partial))}function Ra(r){return`${r.type}_${r.level}_${r.urlId}_${r.sn}`}const wD=Math.pow(2,17);class ID{constructor(n){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=n}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(n,e){const i=n.url;if(!i)return Promise.reject(new ha({type:mi.NETWORK_ERROR,details:En.FRAG_LOAD_ERROR,fatal:!1,frag:n,error:new Error("Fragment does not have a "+(i?"part list":"url")),networkDetails:null}));this.abort();const o=this.config,u=o.fLoader,m=o.loader;return new Promise((v,w)=>{if(this.loader&&this.loader.destroy(),n.gap){if(n.tagList.some(Ge=>"GAP"===Ge[0]))return void w(X0(n));n.gap=!1}const G=this.loader=n.loader=u?new u(o):new m(o),te=OD(n),ye=bg(o.fragLoadPolicy.default),Ue={loadPolicy:ye,timeout:ye.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===n.sn?1/0:wD};n.stats=G.stats,G.load(te,Ue,{onSuccess:(Ge,tt,ft,vt)=>{this.resetLoader(n,G);let Lt=Ge.data;ft.resetIV&&n.decryptdata&&(n.decryptdata.iv=new Uint8Array(Lt.slice(0,16)),Lt=Lt.slice(16)),v({frag:n,part:null,payload:Lt,networkDetails:vt})},onError:(Ge,tt,ft,vt)=>{this.resetLoader(n,G),w(new ha({type:mi.NETWORK_ERROR,details:En.FRAG_LOAD_ERROR,fatal:!1,frag:n,response:Uo({url:i,data:void 0},Ge),error:new Error(`HTTP Error ${Ge.code} ${Ge.text}`),networkDetails:ft,stats:vt}))},onAbort:(Ge,tt,ft)=>{this.resetLoader(n,G),w(new ha({type:mi.NETWORK_ERROR,details:En.INTERNAL_ABORTED,fatal:!1,frag:n,error:new Error("Aborted"),networkDetails:ft,stats:Ge}))},onTimeout:(Ge,tt,ft)=>{this.resetLoader(n,G),w(new ha({type:mi.NETWORK_ERROR,details:En.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,error:new Error(`Timeout after ${Ue.timeout}ms`),networkDetails:ft,stats:Ge}))},onProgress:(Ge,tt,ft,vt)=>{e&&e({frag:n,part:null,payload:ft,networkDetails:vt})}})})}loadPart(n,e,i){this.abort();const o=this.config,u=o.fLoader,m=o.loader;return new Promise((v,w)=>{if(this.loader&&this.loader.destroy(),n.gap||e.gap)return void w(X0(n,e));const G=this.loader=n.loader=u?new u(o):new m(o),te=OD(n,e),ye=bg(o.fragLoadPolicy.default),Ue={loadPolicy:ye,timeout:ye.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:wD};e.stats=G.stats,G.load(te,Ue,{onSuccess:(Ge,tt,ft,vt)=>{this.resetLoader(n,G),this.updateStatsFromPart(n,e);const Lt={frag:n,part:e,payload:Ge.data,networkDetails:vt};i(Lt),v(Lt)},onError:(Ge,tt,ft,vt)=>{this.resetLoader(n,G),w(new ha({type:mi.NETWORK_ERROR,details:En.FRAG_LOAD_ERROR,fatal:!1,frag:n,part:e,response:Uo({url:te.url,data:void 0},Ge),error:new Error(`HTTP Error ${Ge.code} ${Ge.text}`),networkDetails:ft,stats:vt}))},onAbort:(Ge,tt,ft)=>{n.stats.aborted=e.stats.aborted,this.resetLoader(n,G),w(new ha({type:mi.NETWORK_ERROR,details:En.INTERNAL_ABORTED,fatal:!1,frag:n,part:e,error:new Error("Aborted"),networkDetails:ft,stats:Ge}))},onTimeout:(Ge,tt,ft)=>{this.resetLoader(n,G),w(new ha({type:mi.NETWORK_ERROR,details:En.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,part:e,error:new Error(`Timeout after ${Ue.timeout}ms`),networkDetails:ft,stats:Ge}))}})})}updateStatsFromPart(n,e){const i=n.stats,o=e.stats,u=o.total;if(i.loaded+=o.loaded,u){const w=Math.round(n.duration/e.duration),G=Math.min(Math.round(i.loaded/u),w),ye=(w-G)*Math.round(i.loaded/G);i.total=i.loaded+ye}else i.total=Math.max(i.loaded,i.total);const m=i.loading,v=o.loading;m.start?m.first+=v.first-v.start:(m.start=v.start,m.first=v.first),m.end=v.end}resetLoader(n,e){n.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function OD(r,n=null){const e=n||r,i={frag:r,part:n,responseType:"arraybuffer",url:e.url,headers:{},rangeStart:0,rangeEnd:0},o=e.byteRangeStartOffset,u=e.byteRangeEndOffset;if(di(o)&&di(u)){var m;let v=o,w=u;if("initSegment"===r.sn&&"AES-128"===(null==(m=r.decryptdata)?void 0:m.method)){const G=u-o;G%16&&(w=u+(16-G%16)),0!==o&&(i.resetIV=!0,v=o-16)}i.rangeStart=v,i.rangeEnd=w}return i}function X0(r,n){const e=new Error(`GAP ${r.gap?"tag":"attribute"} found`),i={type:mi.MEDIA_ERROR,details:En.FRAG_GAP,fatal:!1,frag:r,error:e,networkDetails:null};return n&&(i.part=n),(n||r).stats.aborted=!0,new ha(i)}class ha extends Error{constructor(n){super(n.error.message),this.data=void 0,this.data=n}}class PD{constructor(n){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=n}abort(n){for(const e in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[e].loader;if(i){if(n&&n!==i.context.frag.type)return;i.abort()}}}detach(){for(const n in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[n];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[n]}}destroy(){this.detach();for(const n in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[n].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(n,e=En.KEY_LOAD_ERROR,i,o,u){return new ha({type:mi.NETWORK_ERROR,details:e,fatal:!1,frag:n,response:u,error:i,networkDetails:o})}loadClear(n,e){if(this.emeController&&this.config.emeEnabled){const{sn:i,cc:o}=n;for(let u=0;u<e.length;u++){const m=e[u];if(o<=m.cc&&("initSegment"===i||"initSegment"===m.sn||i<m.sn)){this.emeController.selectKeySystemFormat(m).then(v=>{m.setKeyFormat(v)});break}}}}load(n){return!n.decryptdata&&n.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(n).then(e=>this.loadInternal(n,e)):this.loadInternal(n)}loadInternal(n,e){var i,o;e&&n.setKeyFormat(e);const u=n.decryptdata;if(!u){const G=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(n,En.KEY_LOAD_ERROR,G))}const m=u.uri;if(!m)return Promise.reject(this.createKeyLoadError(n,En.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${m}"`)));let v=this.keyUriToKeyInfo[m];if(null!=(i=v)&&i.decryptdata.key)return u.key=v.decryptdata.key,Promise.resolve({frag:n,keyInfo:v});var w;if(null!=(o=v)&&o.keyLoadPromise)switch(null==(w=v.mediaKeySessionContext)?void 0:w.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return v.keyLoadPromise.then(G=>(u.key=G.keyInfo.decryptdata.key,{frag:n,keyInfo:v}))}switch(v=this.keyUriToKeyInfo[m]={decryptdata:u,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},u.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===u.keyFormat?this.loadKeyHTTP(v,n):this.loadKeyEME(v,n);case"AES-128":return this.loadKeyHTTP(v,n);default:return Promise.reject(this.createKeyLoadError(n,En.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${u.method}"`)))}}loadKeyEME(n,e){const i={frag:e,keyInfo:n};if(this.emeController&&this.config.emeEnabled){const o=this.emeController.loadKey(i);if(o)return(n.keyLoadPromise=o.then(u=>(n.mediaKeySessionContext=u,i))).catch(u=>{throw n.keyLoadPromise=null,u})}return Promise.resolve(i)}loadKeyHTTP(n,e){const i=this.config,u=new(0,i.loader)(i);return e.keyLoader=n.loader=u,n.keyLoadPromise=new Promise((m,v)=>{const w={keyInfo:n,frag:e,responseType:"arraybuffer",url:n.decryptdata.uri},G=i.keyLoadPolicy.default;u.load(w,{loadPolicy:G,timeout:G.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Ue,Ge,tt,ft)=>{const{frag:vt,keyInfo:Lt,url:qt}=tt;if(!vt.decryptdata||Lt!==this.keyUriToKeyInfo[qt])return v(this.createKeyLoadError(vt,En.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),ft));Lt.decryptdata.key=vt.decryptdata.key=new Uint8Array(Ue.data),vt.keyLoader=null,Lt.loader=null,m({frag:vt,keyInfo:Lt})},onError:(Ue,Ge,tt,ft)=>{this.resetLoader(Ge),v(this.createKeyLoadError(e,En.KEY_LOAD_ERROR,new Error(`HTTP Error ${Ue.code} loading key ${Ue.text}`),tt,Uo({url:w.url,data:void 0},Ue)))},onTimeout:(Ue,Ge,tt)=>{this.resetLoader(Ge),v(this.createKeyLoadError(e,En.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),tt))},onAbort:(Ue,Ge,tt)=>{this.resetLoader(Ge),v(this.createKeyLoadError(e,En.INTERNAL_ABORTED,new Error("key loading aborted"),tt))}})})}resetLoader(n){const{frag:e,keyInfo:i,url:o}=n,u=i.loader;e.keyLoader===u&&(e.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[o],u&&u.destroy()}}class eb{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(n){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,n),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const tb={length:0,start:()=>0,end:()=>0};class pr{static isBuffered(n,e){try{if(n){const i=pr.getBuffered(n);for(let o=0;o<i.length;o++)if(e>=i.start(o)&&e<=i.end(o))return!0}}catch{}return!1}static bufferInfo(n,e,i){try{if(n){const o=pr.getBuffered(n),u=[];let m;for(m=0;m<o.length;m++)u.push({start:o.start(m),end:o.end(m)});return this.bufferedInfo(u,e,i)}}catch{}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(n,e,i){e=Math.max(0,e),n.sort(function(G,te){return G.start-te.start||te.end-G.end});let o=[];if(i)for(let G=0;G<n.length;G++){const te=o.length;if(te){const ye=o[te-1].end;n[G].start-ye<i?n[G].end>ye&&(o[te-1].end=n[G].end):o.push(n[G])}else o.push(n[G])}else o=n;let m,u=0,v=e,w=e;for(let G=0;G<o.length;G++){const te=o[G].start,ye=o[G].end;if(e+i>=te&&e<ye)v=te,w=ye,u=w-e;else if(e+i<te){m=te;break}}return{len:u,start:v||0,end:w||0,nextStart:m}}static getBuffered(n){try{return n.buffered}catch(e){return cn.log("failed to get media.buffered",e),tb}}}class Uf{constructor(n,e,i,o=0,u=-1,m=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=n,this.sn=e,this.id=i,this.size=o,this.part=u,this.partial=m}}function nb(r,n){let e=null;for(let i=0,o=r.length;i<o;i++){const u=r[i];if(u&&u.cc===n){e=u;break}}return e}function rb(r,n){if(r){const e=r.start+n;r.start=r.startPTS=e,r.endPTS=e+r.duration}}function jf(r,n){const e=n.fragments;for(let i=0,o=e.length;i<o;i++)rb(e[i],r);n.fragmentHint&&rb(n.fragmentHint,r),n.alignedSliding=!0}function lb(r,n){if(!r.hasProgramDateTime||!n.hasProgramDateTime)return;const e=r.fragments,i=n.fragments;if(!e.length||!i.length)return;const u=i[Math.round(i.length/2)-1],m=nb(e,u.cc)||e[Math.round(e.length/2)-1],v=u.programDateTime,w=m.programDateTime;null!==v&&null!==w&&jf((w-v)/1e3-(m.start-u.start),r)}class ND{constructor(n,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=n,this.aesIV=e}decrypt(n,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,n)}}class gA{constructor(n,e){this.subtle=void 0,this.key=void 0,this.subtle=n,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class pA{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(n){const e=new DataView(n),i=new Uint32Array(4);for(let o=0;o<4;o++)i[o]=e.getUint32(4*o);return i}initTable(){const n=this.sBox,e=this.invSBox,i=this.subMix,o=i[0],u=i[1],m=i[2],v=i[3],w=this.invSubMix,G=w[0],te=w[1],ye=w[2],Ue=w[3],Ge=new Uint32Array(256);let tt=0,ft=0,vt=0;for(vt=0;vt<256;vt++)Ge[vt]=vt<128?vt<<1:vt<<1^283;for(vt=0;vt<256;vt++){let Lt=ft^ft<<1^ft<<2^ft<<3^ft<<4;Lt=Lt>>>8^255&Lt^99,n[tt]=Lt,e[Lt]=tt;const qt=Ge[tt],zt=Ge[qt],un=Ge[zt];let ln=257*Ge[Lt]^16843008*Lt;o[tt]=ln<<24|ln>>>8,u[tt]=ln<<16|ln>>>16,m[tt]=ln<<8|ln>>>24,v[tt]=ln,ln=16843009*un^65537*zt^257*qt^16843008*tt,G[Lt]=ln<<24|ln>>>8,te[Lt]=ln<<16|ln>>>16,ye[Lt]=ln<<8|ln>>>24,Ue[Lt]=ln,tt?(tt=qt^Ge[Ge[Ge[un^qt]]],ft^=Ge[Ge[ft]]):tt=ft=1}}expandKey(n){const e=this.uint8ArrayToUint32Array_(n);let i=!0,o=0;for(;o<e.length&&i;)i=e[o]===this.key[o],o++;if(i)return;this.key=e;const u=this.keySize=e.length;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size="+u);const m=this.ksRows=4*(u+6+1);let v,w;const G=this.keySchedule=new Uint32Array(m),te=this.invKeySchedule=new Uint32Array(m),ye=this.sBox,Ue=this.rcon,Ge=this.invSubMix,tt=Ge[0],ft=Ge[1],vt=Ge[2],Lt=Ge[3];let qt,zt;for(v=0;v<m;v++)v<u?qt=G[v]=e[v]:(zt=qt,v%u==0?(zt=zt<<8|zt>>>24,zt=ye[zt>>>24]<<24|ye[zt>>>16&255]<<16|ye[zt>>>8&255]<<8|ye[255&zt],zt^=Ue[v/u|0]<<24):u>6&&v%u==4&&(zt=ye[zt>>>24]<<24|ye[zt>>>16&255]<<16|ye[zt>>>8&255]<<8|ye[255&zt]),G[v]=qt=(G[v-u]^zt)>>>0);for(w=0;w<m;w++)v=m-w,zt=3&w?G[v]:G[v-4],te[w]=w<4||v<=4?zt:tt[ye[zt>>>24]]^ft[ye[zt>>>16&255]]^vt[ye[zt>>>8&255]]^Lt[ye[255&zt]],te[w]=te[w]>>>0}networkToHostOrderSwap(n){return n<<24|(65280&n)<<8|(16711680&n)>>8|n>>>24}decrypt(n,e,i){const o=this.keySize+6,u=this.invKeySchedule,m=this.invSBox,v=this.invSubMix,w=v[0],G=v[1],te=v[2],ye=v[3],Ue=this.uint8ArrayToUint32Array_(i);let Ge=Ue[0],tt=Ue[1],ft=Ue[2],vt=Ue[3];const Lt=new Int32Array(n),qt=new Int32Array(Lt.length);let zt,un,ln,Sn,mn,Mn,Vn,pn,Xn,Zn,_i,Sr,Ki,Hn;const Kn=this.networkToHostOrderSwap;for(;e<Lt.length;){for(Xn=Kn(Lt[e]),Zn=Kn(Lt[e+1]),_i=Kn(Lt[e+2]),Sr=Kn(Lt[e+3]),mn=Xn^u[0],Mn=Sr^u[1],Vn=_i^u[2],pn=Zn^u[3],Ki=4,Hn=1;Hn<o;Hn++)zt=w[mn>>>24]^G[Mn>>16&255]^te[Vn>>8&255]^ye[255&pn]^u[Ki],un=w[Mn>>>24]^G[Vn>>16&255]^te[pn>>8&255]^ye[255&mn]^u[Ki+1],ln=w[Vn>>>24]^G[pn>>16&255]^te[mn>>8&255]^ye[255&Mn]^u[Ki+2],Sn=w[pn>>>24]^G[mn>>16&255]^te[Mn>>8&255]^ye[255&Vn]^u[Ki+3],mn=zt,Mn=un,Vn=ln,pn=Sn,Ki+=4;zt=m[mn>>>24]<<24^m[Mn>>16&255]<<16^m[Vn>>8&255]<<8^m[255&pn]^u[Ki],un=m[Mn>>>24]<<24^m[Vn>>16&255]<<16^m[pn>>8&255]<<8^m[255&mn]^u[Ki+1],ln=m[Vn>>>24]<<24^m[pn>>16&255]<<16^m[mn>>8&255]<<8^m[255&Mn]^u[Ki+2],Sn=m[pn>>>24]<<24^m[mn>>16&255]<<16^m[Mn>>8&255]<<8^m[255&Vn]^u[Ki+3],qt[e]=Kn(zt^Ge),qt[e+1]=Kn(Sn^tt),qt[e+2]=Kn(ln^ft),qt[e+3]=Kn(un^vt),Ge=Xn,tt=Zn,ft=_i,vt=Sr,e+=4}return qt.buffer}}class db{constructor(n,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=n.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:n,remainderData:e}=this;if(!n||e)return this.reset(),null;const i=new Uint8Array(n);return this.reset(),this.removePKCS7Padding?function cb(r){const n=r.byteLength,e=n&&new DataView(r.buffer).getUint8(n-1);return e?Oa(r,0,n-e):r}(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(n,e,i){return this.useSoftware?new Promise((o,u)=>{this.softwareDecrypt(new Uint8Array(n),e,i);const m=this.flush();m?o(m.buffer):u(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(n),e,i)}softwareDecrypt(n,e,i){const{currentIV:o,currentResult:u,remainderData:m}=this;this.logOnce("JS AES decrypt"),m&&(n=sl(m,n),this.remainderData=null);const v=this.getValidChunk(n);if(!v.length)return null;o&&(i=o);let w=this.softwareDecrypter;w||(w=this.softwareDecrypter=new pA),w.expandKey(e);const G=u;return this.currentResult=w.decrypt(v.buffer,0,i),this.currentIV=Oa(v,-16).buffer,G||null}webCryptoDecrypt(n,e,i){const o=this.subtle;return(this.key!==e||!this.fastAesKey)&&(this.key=e,this.fastAesKey=new gA(o,e)),this.fastAesKey.expandKey().then(u=>o?(this.logOnce("WebCrypto AES decrypt"),new ND(o,new Uint8Array(i)).decrypt(n.buffer,u)):Promise.reject(new Error("web crypto not initialized"))).catch(u=>(cn.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${u.name}: ${u.message}`),this.onWebCryptoError(n,e,i)))}onWebCryptoError(n,e,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(n,e,i);const o=this.flush();if(o)return o.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(n){let e=n;const i=n.length-n.length%16;return i!==n.length&&(e=Oa(n,0,i),this.remainderData=Oa(n,i)),e}logOnce(n){this.logEnabled&&(cn.log(`[decrypter]: ${n}`),this.logEnabled=!1)}}class ub extends eb{constructor(n,e,i,o,u){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=u,this.logPrefix=o,this.log=cn.log.bind(cn,`${o}:`),this.warn=cn.warn.bind(cn,`${o}:`),this.hls=n,this.fragmentLoader=new ID(n.config),this.keyLoader=i,this.fragmentTracker=e,this.config=n.config,this.decrypter=new db(n.config),n.on(Et.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(n){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const n=this.fragCurrent;null!=n&&n.loader&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(n,e){if(e.live||n.nextStart||!n.end||!this.media)return!1;const i=e.partList;if(null!=i&&i.length){const u=i[i.length-1];return pr.isBuffered(this.media,u.start+u.duration/2)}return this.fragmentTracker.isEndListAppended(e.fragments[e.fragments.length-1].type)}getLevelDetails(){var n;if(this.levels&&null!==this.levelLastLoaded)return null==(n=this.levels[this.levelLastLoaded])?void 0:n.details}onMediaAttached(n,e){const i=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);const o=this.config;this.levels&&o.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(o.startPosition)}onMediaDetaching(){const n=this.media;null!=n&&n.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),n&&this.onvseeking&&this.onvended&&(n.removeEventListener("seeking",this.onvseeking),n.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:n,fragCurrent:e,media:i,mediaBuffer:o,state:u}=this,m=i?i.currentTime:0,v=pr.bufferInfo(o||i,m,n.maxBufferHole);if(this.log(`media seeking to ${di(m)?m.toFixed(3):m}, state: ${u}`),"ENDED"===this.state)this.resetLoadingState();else if(e){const w=n.maxFragLookUpTolerance,G=e.start-w,te=e.start+e.duration+w;if(!v.len||te<v.start||G>v.end){const ye=m>te;(m<G||ye)&&(ye&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(m,1/0,this.playlistType,!0),this.lastCurrentTime=m),!this.loadedmetadata&&!v.len&&(this.nextLoadPosition=this.startPosition=m),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(n,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(n,e,i){this._loadFragForPlayback(n,e,i)}_loadFragForPlayback(n,e,i){this._doFragLoad(n,e,i,u=>{if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${u.part?" p: "+u.part.index:""} of level ${n.level} was dropped during download.`),void this.fragmentTracker.removeFragment(n);n.stats.chunkCount++,this._handleFragmentLoadProgress(u)}).then(u=>{if(!u)return;const m=this.state;this.fragContextChanged(n)?("FRAG_LOADING"===m||!this.fragCurrent&&"PARSING"===m)&&(this.fragmentTracker.removeFragment(n),this.state="IDLE"):("payload"in u&&(this.log(`Loaded fragment ${n.sn} of level ${n.level}`),this.hls.trigger(Et.FRAG_LOADED,u)),this._handleFragmentLoadComplete(u))}).catch(u=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(u),this.resetFragmentLoading(n))})}clearTrackerIfNeeded(n){var e;const{fragmentTracker:i}=this;if("APPENDING"===i.getState(n)){const m=this.getFwdBufferInfo(this.mediaBuffer,n.type),v=Math.max(n.duration,m?m.len:this.config.maxBufferLength);this.reduceMaxBufferLength(v)&&i.removeFragment(n)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?i.removeAllFragments():i.hasParts(n.type)&&(i.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type}),"PARTIAL"===i.getState(n)&&i.removeFragment(n))}flushMainBuffer(n,e,i=null){n-e&&this.hls.trigger(Et.BUFFER_FLUSHING,{startOffset:n,endOffset:e,type:i})}_loadInitSegment(n,e){this._doFragLoad(n,e).then(i=>{if(!i||this.fragContextChanged(n)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:o}=this,{payload:u}=i,m=n.decryptdata;if(u&&u.byteLength>0&&m&&m.key&&m.iv&&"AES-128"===m.method){const v=self.performance.now();return this.decrypter.decrypt(new Uint8Array(u),m.key.buffer,m.iv.buffer).catch(w=>{throw o.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_DECRYPT_ERROR,fatal:!1,error:w,reason:w.message,frag:n}),w}).then(w=>{const G=self.performance.now();return o.trigger(Et.FRAG_DECRYPTED,{frag:n,payload:w,stats:{tstart:v,tdecrypt:G}}),i.payload=w,i})}return i}).then(i=>{const{fragCurrent:o,hls:u,levels:m}=this;if(!m)throw new Error("init load aborted, missing levels");const v=n.stats;this.state="IDLE",e.fragmentError=0,n.data=new Uint8Array(i.payload),v.parsing.start=v.buffering.start=self.performance.now(),v.parsing.end=v.buffering.end=self.performance.now(),i.frag===o&&u.trigger(Et.FRAG_BUFFERED,{stats:v,frag:o,part:null,id:n.type}),this.tick()}).catch(i=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(i),this.resetFragmentLoading(n))})}fragContextChanged(n){const{fragCurrent:e}=this;return!n||!e||n.level!==e.level||n.sn!==e.sn||n.urlId!==e.urlId}fragBufferedComplete(n,e){var i,o,u,m;const v=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${n.type} sn: ${n.sn}${e?" part: "+e.index:""} of ${"main"===this.playlistType?"level":"track"} ${n.level} (frag:[${(null!=(i=n.startPTS)?i:NaN).toFixed(3)}-${(null!=(o=n.endPTS)?o:NaN).toFixed(3)}] > buffer:${v?function(r){let n="";const e=r.length;for(let i=0;i<e;i++)n+=`[${r.start(i).toFixed(3)}-${r.end(i).toFixed(3)}]`;return n}(pr.getBuffered(v)):"(detached)"})`),this.state="IDLE",v&&(!this.loadedmetadata&&"main"==n.type&&v.buffered.length&&(null==(u=this.fragCurrent)?void 0:u.sn)===(null==(m=this.fragPrevious)?void 0:m.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(n){const{transmuxer:e}=this;if(!e)return;const{frag:i,part:o,partsLoaded:u}=n,m=!u||0===u.length||u.some(w=>!w),v=new Uf(i.level,i.sn,i.stats.chunkCount+1,0,o?o.index:-1,!m);e.flush(v)}_handleFragmentLoadProgress(n){}_doFragLoad(n,e,i=null,o){var u;const m=e?.details;if(!this.levels||!m)throw new Error(`frag load aborted, missing level${m?"":" detail"}s`);let v=null;if(!n.encrypted||null!=(u=n.decryptdata)&&u.key?!n.encrypted&&m.encryptedFragments.length&&this.keyLoader.loadClear(n,m.encryptedFragments):(this.log(`Loading key for ${n.sn} of [${m.startSN}-${m.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${n.level}`),this.state="KEY_LOADING",this.fragCurrent=n,v=this.keyLoader.load(n).then(te=>{if(!this.fragContextChanged(te.frag))return this.hls.trigger(Et.KEY_LOADED,te),"KEY_LOADING"===this.state&&(this.state="IDLE"),te}),this.hls.trigger(Et.KEY_LOADING,{frag:n}),null===this.fragCurrent&&(v=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(n.start,i||0),this.config.lowLatencyMode&&"initSegment"!==n.sn){const te=m.partList;if(te&&o){i>n.end&&m.fragmentHint&&(n=m.fragmentHint);const ye=this.getNextPart(te,n,i);if(ye>-1){const Ue=te[ye];let Ge;return this.log(`Loading part sn: ${n.sn} p: ${Ue.index} cc: ${n.cc} of playlist [${m.startSN}-${m.endSN}] parts [0-${ye}-${te.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${n.level}, target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=Ue.start+Ue.duration,this.state="FRAG_LOADING",Ge=v?v.then(tt=>!tt||this.fragContextChanged(tt.frag)?null:this.doFragPartsLoad(n,Ue,e,o)).catch(tt=>this.handleFragLoadError(tt)):this.doFragPartsLoad(n,Ue,e,o).catch(tt=>this.handleFragLoadError(tt)),this.hls.trigger(Et.FRAG_LOADING,{frag:n,part:Ue,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):Ge}if(!n.url||this.loadedEndOfParts(te,i))return Promise.resolve(null)}}this.log(`Loading fragment ${n.sn} cc: ${n.cc} ${m?"of ["+m.startSN+"-"+m.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${n.level}, target: ${parseFloat(i.toFixed(3))}`),di(n.sn)&&!this.bitrateTest&&(this.nextLoadPosition=n.start+n.duration),this.state="FRAG_LOADING";const w=this.config.progressive;let G;return G=w&&v?v.then(te=>!te||this.fragContextChanged(te?.frag)?null:this.fragmentLoader.load(n,o)).catch(te=>this.handleFragLoadError(te)):Promise.all([this.fragmentLoader.load(n,w?o:void 0),v]).then(([te])=>(!w&&te&&o&&o(te),te)).catch(te=>this.handleFragLoadError(te)),this.hls.trigger(Et.FRAG_LOADING,{frag:n,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):G}doFragPartsLoad(n,e,i,o){return new Promise((u,m)=>{var v;const w=[],G=null==(v=i.details)?void 0:v.partList,te=ye=>{this.fragmentLoader.loadPart(n,ye,o).then(Ue=>{w[ye.index]=Ue;const Ge=Ue.part;this.hls.trigger(Et.FRAG_LOADED,Ue);const tt=ll(i,n.sn,ye.index+1)||Z0(G,n.sn,ye.index+1);if(!tt)return u({frag:n,part:Ge,partsLoaded:w});te(tt)}).catch(m)};te(e)})}handleFragLoadError(n){if("data"in n){const e=n.data;n.data&&e.details===En.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(Et.ERROR,e)}else this.hls.trigger(Et.ERROR,{type:mi.OTHER_ERROR,details:En.INTERNAL_EXCEPTION,err:n,error:n,fatal:!0});return null}_handleTransmuxerFlush(n){const e=this.getCurrentContext(n);if(!e||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:i,part:o,level:u}=e,m=self.performance.now();i.stats.parsing.end=m,o&&(o.stats.parsing.end=m),this.updateLevelTiming(i,o,u,n.partial)}getCurrentContext(n){const{levels:e,fragCurrent:i}=this,{level:o,sn:u,part:m}=n;if(null==e||!e[o])return this.warn(`Levels object was unset while buffering fragment ${u} of level ${o}. The current chunk will not be buffered.`),null;const v=e[o],w=m>-1?ll(v,u,m):null,G=w?w.fragment:function No(r,n,e){if(null==r||!r.details)return null;const i=r.details;let o=i.fragments[n-i.startSN];return o||(o=i.fragmentHint,o&&o.sn===n)?o:n<i.startSN&&e&&e.sn===n?e:null}(v,u,i);return G?(i&&i!==G&&(G.stats=i.stats),{frag:G,part:w,level:v}):null}bufferFragmentData(n,e,i,o,u){var m;if(!n||"PARSING"!==this.state)return;const{data1:v,data2:w}=n;let G=v;if(v&&w&&(G=sl(v,w)),null!=(m=G)&&m.length&&(this.hls.trigger(Et.BUFFER_APPENDING,{type:n.type,frag:e,part:i,chunkMeta:o,parent:e.type,data:G}),n.dropped&&n.independent&&!i)){if(u)return;this.flushBufferGap(e)}}flushBufferGap(n){const e=this.media;if(!e)return;if(!pr.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,n.start);const i=e.currentTime,o=pr.bufferInfo(e,i,0),m=Math.min(2*this.config.maxFragLookUpTolerance,.25*n.duration),v=Math.max(Math.min(n.start-m,o.end-m),i+m);n.start-v>m&&this.flushMainBuffer(v,n.start)}getFwdBufferInfo(n,e){const i=this.getLoadPosition();return di(i)?this.getFwdBufferInfoAtPos(n,i,e):null}getFwdBufferInfoAtPos(n,e,i){const{config:{maxBufferHole:o}}=this,u=pr.bufferInfo(n,e,o);if(0===u.len&&void 0!==u.nextStart){const m=this.fragmentTracker.getBufferedFrag(e,i);if(m&&u.nextStart<m.end)return pr.bufferInfo(n,e,Math.max(u.nextStart,o))}return u}getMaxBufferLength(n){const{config:e}=this;let i;return i=n?Math.max(8*e.maxBufferSize/n,e.maxBufferLength):e.maxBufferLength,Math.min(i,e.maxMaxBufferLength)}reduceMaxBufferLength(n){const e=this.config;return e.maxMaxBufferLength>=(n||e.maxBufferLength)&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(n,e="main"){const i=this.fragmentTracker.getAppendedFrag(n,"main");return i&&"fragment"in i?i.fragment:i}getNextFragment(n,e){const i=e.fragments,o=i.length;if(!o)return null;const{config:u}=this,m=i[0].start;let v;if(e.live){const w=u.initialLiveManifestSize;if(o<w)return this.warn(`Not enough fragments to start playback (have: ${o}, need: ${w})`),null;!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(v=this.getInitialLiveFragment(e,i),this.startPosition=v?this.hls.liveSyncPosition||v.start:n)}else n<=m&&(v=i[0]);return v||(v=this.getFragmentAtPosition(n,u.lowLatencyMode?e.partEnd:e.fragmentEnd,e)),this.mapToInitFragWhenRequired(v)}isLoopLoading(n,e){const i=this.fragmentTracker.getState(n);return("OK"===i||"PARTIAL"===i&&!!n.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(n,e,i,o,u){const m=n.gap,v=this.getNextFragment(this.nextLoadPosition,e);if(null===v)return v;if(n=v,m&&n&&!n.gap&&i.nextStart){const w=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,o);if(null!==w&&i.len+w.len>=u)return this.log(`buffer full after gaps in "${o}" playlist starting at sn: ${n.sn}`),null}return n}mapToInitFragWhenRequired(n){return null==n||!n.initSegment||null!=n&&n.initSegment.data||this.bitrateTest?n:n.initSegment}getNextPart(n,e,i){let o=-1,u=!1,m=!0;for(let v=0,w=n.length;v<w;v++){const G=n[v];if(m=m&&!G.independent,o>-1&&i<G.start)break;const te=G.loaded;te?o=-1:(u||G.independent||m)&&G.fragment===e&&(o=v),u=te}return o}loadedEndOfParts(n,e){const i=n[n.length-1];return i&&e>i.start&&i.loaded}getInitialLiveFragment(n,e){const i=this.fragPrevious;let o=null;if(i){if(n.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),o=function Eg(r,n,e){if(null===n||!Array.isArray(r)||!r.length||!di(n))return null;if(n<(r[0].programDateTime||0))return null;if(n>=(r[r.length-1].endProgramDateTime||0))return null;e=e||0;for(let u=0;u<r.length;++u){const m=r[u];if(CD(n,e,m))return m}return null}(e,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!o){const u=i.sn+1;if(u>=n.startSN&&u<=n.endSN){const m=e[u-n.startSN];i.cc===m.cc&&(o=m,this.log(`Live playlist, switching playlist, load frag with next SN: ${o.sn}`))}o||(o=function DD(r,n){return q0.search(r,e=>e.cc<n?1:e.cc>n?-1:0)}(e,i.cc),o&&this.log(`Live playlist, switching playlist, load frag with same CC: ${o.sn}`))}}else{const u=this.hls.liveSyncPosition;null!==u&&(o=this.getFragmentAtPosition(u,this.bitrateTest?n.fragmentEnd:n.edge,n))}return o}getFragmentAtPosition(n,e,i){const{config:o}=this;let{fragPrevious:u}=this,{fragments:m,endSN:v}=i;const{fragmentHint:w}=i,G=o.maxFragLookUpTolerance,te=i.partList,ye=!!(o.lowLatencyMode&&null!=te&&te.length&&w);let Ue;if(ye&&w&&!this.bitrateTest&&(m=m.concat(w),v=w.sn),Ue=n<e?Pd(u,m,n,n>e-G?0:G):m[m.length-1],Ue){const Ge=Ue.sn-i.startSN,tt=this.fragmentTracker.getState(Ue);if(("OK"===tt||"PARTIAL"===tt&&Ue.gap)&&(u=Ue),u&&Ue.sn===u.sn&&(!ye||te[0].fragment.sn>Ue.sn)&&u&&Ue.level===u.level){const vt=m[Ge+1];Ue=Ue.sn<v&&"OK"!==this.fragmentTracker.getState(vt)?vt:null}}return Ue}synchronizeToLiveEdge(n){const{config:e,media:i}=this;if(!i)return;const o=this.hls.liveSyncPosition,u=i.currentTime,v=n.edge,w=u>=n.fragments[0].start-e.maxFragLookUpTolerance&&u<=v;null!==o&&i.duration>o&&(u<o||!w)&&(!w&&i.readyState<4||u<v-(void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*n.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=o),i.readyState&&(this.warn(`Playback: ${u.toFixed(3)} is located too far from the end of live sliding playlist: ${v}, reset currentTime to : ${o.toFixed(3)}`),i.currentTime=o))}alignPlaylists(n,e){const{levels:i,levelLastLoaded:o,fragPrevious:u}=this,m=null!==o?i[o]:null,v=n.fragments.length;if(!v)return this.warn("No fragments in live playlist"),0;const w=n.fragments[0].start,G=!e,te=n.alignedSliding&&di(w);if(G||!te&&!w){!function ob(r,n,e){n&&(function sb(r,n,e){if(function RD(r,n,e){return!(!n.details||!(e.endCC>e.startCC||r&&r.cc<e.startCC))}(r,e,n)){const i=function ib(r,n,e=0){const i=r.fragments,o=n.fragments;if(!o.length||!i.length)return void cn.log("No fragments to align");const u=nb(i,o[0].cc);if(u&&(!u||u.startPTS))return u;cn.log("No frag in previous level to align on")}(e.details,n);i&&di(i.start)&&(cn.log(`Adjusting PTS using last level due to CC increase within current level ${n.url}`),jf(i.start,n))}}(r,e,n),!e.alignedSliding&&n.details&&function ab(r,n){if(!n.fragments.length||!r.hasProgramDateTime||!n.hasProgramDateTime)return;const e=n.fragments[0].programDateTime,i=r.fragments[0].programDateTime,o=(i-e)/1e3+n.fragments[0].start;o&&di(o)&&(cn.log(`Adjusting PTS using programDateTime delta ${i-e}ms, sliding:${o.toFixed(3)} ${r.url} `),jf(o,r))}(e,n.details),!e.alignedSliding&&n.details&&!e.skippedSegments&&W0(n.details,e))}(u,m,n);const ye=n.fragments[0].start;return this.log(`Live playlist sliding: ${ye.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${n.startSN} prev-sn: ${u?u.sn:"na"} fragments: ${v}`),ye}return w}waitForCdnTuneIn(n){return n.live&&n.canBlockReload&&n.partTarget&&n.tuneInGoal>Math.max(n.partHoldBack,3*n.partTarget)}setStartPosition(n,e){let i=this.startPosition;if(i<e&&(i=-1),-1===i||-1===this.lastCurrentTime){const o=null!==this.startTimeOffset,u=o?this.startTimeOffset:n.startTimeOffset;null!==u&&di(u)?(i=e+u,u<0&&(i+=n.totalduration),i=Math.min(Math.max(e,i),e+n.totalduration),this.log(`Start time offset ${u} found in ${o?"multivariant":"media"} playlist, adjust startPosition to ${i}`),this.startPosition=i):n.live?i=this.hls.liveSyncPosition||e:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}getLoadPosition(){const{media:n}=this;let e=0;return this.loadedmetadata&&n?e=n.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(n,e){this.transmuxer&&"initSegment"!==n.sn&&n.stats.aborted&&(this.warn(`Fragment ${n.sn}${e?" part "+e.index:""} of level ${n.level} was aborted`),this.resetFragmentLoading(n))}resetFragmentLoading(n){(!this.fragCurrent||!this.fragContextChanged(n)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(n,e){if(e.chunkMeta&&!e.frag){const ye=this.getCurrentContext(e.chunkMeta);ye&&(e.frag=ye.frag)}const i=e.frag;if(!i||i.type!==n||!this.levels)return;var o;if(this.fragContextChanged(i))return void this.warn(`Frag load error must match current frag to retry ${i.url} > ${null==(o=this.fragCurrent)?void 0:o.url}`);const u=e.details===En.FRAG_GAP;u&&this.fragmentTracker.fragBuffered(i,!0);const m=e.errorAction,{action:v,retryCount:w=0,retryConfig:G}=m||{};if(m&&5===v&&G){var te;this.resetStartWhenNotLoaded(null!=(te=this.levelLastLoaded)?te:i.level);const ye=$0(G,w);this.warn(`Fragment ${i.sn} of ${n} ${i.level} errored with ${e.details}, retrying loading ${w+1}/${G.maxNumRetry} in ${ye}ms`),m.resolved=!0,this.retryDate=self.performance.now()+ye,this.state="FRAG_LOADING_WAITING_RETRY"}else G&&m?(this.resetFragmentErrors(n),w<G.maxNumRetry?u||(m.resolved=!0):cn.warn(`${e.details} reached or exceeded max retry (${w})`)):this.state=2===m?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(n){if("PARSING"===this.state||"PARSED"===this.state){const e=n.parent,i=this.getFwdBufferInfo(this.mediaBuffer,e),o=i&&i.len>.5;o&&this.reduceMaxBufferLength(i.len);const u=!o;return u&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),n.frag&&(this.fragmentTracker.removeFragment(n.frag),this.nextLoadPosition=n.frag.start),this.resetLoadingState(),u}return!1}resetFragmentErrors(n){"audio"===n&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(n,e,i){if(!n)return;const o=pr.getBuffered(n);this.fragmentTracker.detectEvictedFragments(e,o,i),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(n){if(!this.loadedmetadata){this.startFragRequested=!1;const e=this.levels?this.levels[n].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(n){var e;this.warn(`The loading context changed while buffering fragment ${n.sn} of level ${n.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(e=this.levelLastLoaded)?e:n.level),this.resetLoadingState()}removeUnbufferedFrags(n=0){this.fragmentTracker.removeFragmentsInRange(n,1/0,this.playlistType,!1,!0)}updateLevelTiming(n,e,i,o){var u;const m=i.details;if(m){if(Object.keys(n.elementaryStreams).reduce((w,G)=>{const te=n.elementaryStreams[G];if(te){const ye=te.endPTS-te.startPTS;if(ye<=0)return this.warn(`Could not parse fragment ${n.sn} ${G} duration reliably (${ye})`),w||!1;const Ue=o?0:yg(m,n,te.startPTS,te.endPTS,te.startDTS,te.endDTS);return this.hls.trigger(Et.LEVEL_PTS_UPDATED,{details:m,level:i,drift:Ue,type:G,frag:n,start:te.startPTS,end:te.endPTS}),!0}return w},!1))i.fragmentError=0;else if(null===(null==(u=this.transmuxer)?void 0:u.error)){const w=new Error(`Found no media in fragment ${n.sn} of level ${n.level} resetting transmuxer to fallback to playlist timing`);if(0===i.fragmentError&&(i.fragmentError++,n.gap=!0,this.fragmentTracker.removeFragment(n),this.fragmentTracker.fragBuffered(n,!0)),this.warn(w.message),this.hls.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,error:w,frag:n,reason:`Found no media in msn ${n.sn} of level "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(Et.FRAG_PARSED,{frag:n,part:e})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(n){var e,i,o;"demuxerWorker"===n.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(e=null!=(i=this.levelLastLoaded)?i:null==(o=this.fragCurrent)?void 0:o.level)?e:0),this.resetLoadingState())}set state(n){const e=this._state;e!==n&&(this._state=n,this.log(`${e}->${n}`))}get state(){return this._state}}function LD(){return self.SourceBuffer||self.WebKitSourceBuffer}function $s(r="",n=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:n,sequenceNumber:-1,samples:[],dropped:0}}class kd{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(n,e,i,o){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(n){this.initPTS=n,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(n,e){return!1}appendFrame(n,e,i){}demux(n,e){this.cachedData&&(n=sl(this.cachedData,n),this.cachedData=null);let u,i=Sf(n,0),o=i?i.length:0;const m=this._audioTrack,v=this._id3Track,w=i?(r=>{const n=ig(r);for(let e=0;e<n.length;e++){const i=n[e];if(m0(i))return v0(i)}})(i):void 0,G=n.length;for((null===this.basePTS||0===this.frameIndex&&di(w))&&(this.basePTS=kD(w,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),i&&i.length>0&&v.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:"org.id3",duration:Number.POSITIVE_INFINITY});o<G;){if(this.canParse(n,o)){const te=this.appendFrame(m,n,o);te?(this.frameIndex++,this.lastPTS=te.sample.pts,o+=te.length,u=o):o=G}else tg(n,o)?(i=Sf(n,o),v.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:"org.id3",duration:Number.POSITIVE_INFINITY}),o+=i.length,u=o):o++;if(o===G&&u!==G){const te=Oa(n,u);this.cachedData=this.cachedData?sl(this.cachedData,te):te}}return{audioTrack:m,videoTrack:$s(),id3Track:v,textTrack:$s()}}demuxSampleAes(n,e,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(n){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:$s(),id3Track:this._id3Track,textTrack:$s()}}destroy(){}}const kD=(r,n,e)=>di(r)?90*r:9e4*n+(e?9e4*e.baseTime/e.timescale:0);function FD(r,n){return 255===r[n]&&240==(246&r[n+1])}function mb(r,n){return 1&r[n+1]?7:9}function Vf(r,n){return(3&r[n+3])<<11|r[n+4]<<3|(224&r[n+5])>>>5}function Gf(r,n){return n+1<r.length&&FD(r,n)}function TA(r,n){if(Gf(r,n)){const e=mb(r,n);if(n+e>=r.length)return!1;const i=Vf(r,n);if(i<=e)return!1;const o=n+i;return o===r.length||Gf(r,o)}return!1}function gb(r,n,e,i,o){if(!r.samplerate){const u=function EA(r,n,e,i){let o,u,m,v;const w=navigator.userAgent.toLowerCase(),G=i,te=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&n[e+2])>>>6);const ye=(60&n[e+2])>>>2;if(!(ye>te.length-1))return m=(1&n[e+2])<<2,m|=(192&n[e+3])>>>6,cn.log(`manifest codec:${i}, ADTS type:${o}, samplingIndex:${ye}`),/firefox/i.test(w)?ye>=6?(o=5,v=new Array(4),u=ye-3):(o=2,v=new Array(2),u=ye):-1!==w.indexOf("android")?(o=2,v=new Array(2),u=ye):(o=5,v=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&ye>=6?u=ye-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(ye>=6&&1===m||/vivaldi/i.test(w))||!i&&1===m)&&(o=2,v=new Array(2)),u=ye)),v[0]=o<<3,v[0]|=(14&ye)>>1,v[1]|=(1&ye)<<7,v[1]|=m<<3,5===o&&(v[1]|=(14&u)>>1,v[2]=(1&u)<<7,v[2]|=8,v[3]=0),{config:v,samplerate:te[ye],channelCount:m,codec:"mp4a.40."+o,manifestCodec:G};r.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${ye}`})}(n,e,i,o);if(!u)return;r.config=u.config,r.samplerate=u.samplerate,r.channelCount=u.channelCount,r.codec=u.codec,r.manifestCodec=u.manifestCodec,cn.log(`parsed codec:${r.codec}, rate:${u.samplerate}, channels:${u.channelCount}`)}}function Cg(r){return 9216e4/r}function jD(r,n,e,i,o){const m=i+o*Cg(r.samplerate),v=function pb(r,n){const e=mb(r,n);if(n+e<=r.length){const i=Vf(r,n)-e;if(i>0)return{headerLength:e,frameLength:i}}}(n,e);let w;if(v){const{frameLength:ye,headerLength:Ue}=v,Ge=Ue+ye,tt=Math.max(0,e+Ge-n.length);tt?(w=new Uint8Array(Ge-Ue),w.set(n.subarray(e+Ue,n.length),0)):w=n.subarray(e+Ue,e+Ge);const ft={unit:w,pts:m};return tt||r.samples.push(ft),{sample:ft,length:Ge,missing:tt}}const G=n.length-e;return w=new Uint8Array(G),w.set(n.subarray(e,n.length),0),{sample:{unit:w,pts:m},length:G,missing:-1}}const _b=/\/emsg[-/]ID3/i;let Dg=null;const Lo=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],GD=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],xg=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],HD=[0,1,1,4];function vb(r,n,e,i,o){if(e+24>n.length)return;const u=Hf(n,e);if(u&&e+u.frameLength<=n.length){const v=i+o*(9e4*u.samplesPerFrame/u.sampleRate),w={unit:n.subarray(e,e+u.frameLength),pts:v,dts:v};return r.config=[],r.channelCount=u.channelCount,r.samplerate=u.sampleRate,r.samples.push(w),{sample:w,length:u.frameLength,missing:0}}}function Hf(r,n){const e=r[n+1]>>3&3,i=r[n+1]>>1&3,o=r[n+2]>>4&15,u=r[n+2]>>2&3;if(1!==e&&0!==o&&15!==o&&3!==u){const v=r[n+3]>>6,G=1e3*Lo[14*(3===e?3-i:3===i?3:4)+o-1],ye=GD[3*(3===e?0:2===e?1:2)+u],Ue=3===v?1:2,Ge=xg[e][i],tt=HD[i],ft=8*Ge*tt,vt=Math.floor(Ge*G/ye+(r[n+2]>>1&1))*tt;if(null===Dg){const zt=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Dg=zt?parseInt(zt[1]):0}return!!Dg&&Dg<=87&&2===i&&G>=224e3&&0===v&&(r[n+3]=128|r[n+3]),{sampleRate:ye,channelCount:Ue,frameLength:vt,samplesPerFrame:ft}}}function Yf(r,n){return 255===r[n]&&224==(224&r[n+1])&&0!=(6&r[n+1])}function Mg(r,n){return n+1<r.length&&Yf(r,n)}function yb(r,n){if(n+1<r.length&&Yf(r,n)){const i=Hf(r,n);let o=4;null!=i&&i.frameLength&&(o=i.frameLength);const u=n+o;return u===r.length||Mg(r,u)}return!1}class Ag{constructor(n){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=n,this.bytesAvailable=n.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const n=this.data,e=this.bytesAvailable,i=n.byteLength-e,o=new Uint8Array(4),u=Math.min(4,e);if(0===u)throw new Error("no bytes available");o.set(n.subarray(i,i+u)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=8*u,this.bytesAvailable-=u}skipBits(n){let e;n=Math.min(n,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>n?(this.word<<=n,this.bitsAvailable-=n):(e=(n-=this.bitsAvailable)>>3,n-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=n,this.bitsAvailable-=n)}readBits(n){let e=Math.min(this.bitsAvailable,n);const i=this.word>>>32-e;if(n>32&&cn.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=n-e,e>0&&this.bitsAvailable?i<<e|this.readBits(e):i}skipLZ(){let n;for(n=0;n<this.bitsAvailable;++n)if(this.word&2147483648>>>n)return this.word<<=n,this.bitsAvailable-=n,n;return this.loadWord(),n+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const n=this.skipLZ();return this.readBits(n+1)-1}readEG(){const n=this.readUEG();return 1&n?1+n>>>1:-1*(n>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(n){let o,e=8,i=8;for(let u=0;u<n;u++)0!==i&&(o=this.readEG(),i=(e+o+256)%256),e=0===i?e:i}readSPS(){let u,m,v,n=0,e=0,i=0,o=0;const w=this.readUByte.bind(this),G=this.readBits.bind(this),te=this.readUEG.bind(this),ye=this.readBoolean.bind(this),Ue=this.skipBits.bind(this),Ge=this.skipEG.bind(this),tt=this.skipUEG.bind(this),ft=this.skipScalingList.bind(this);w();const vt=w();if(G(5),Ue(3),w(),tt(),100===vt||110===vt||122===vt||244===vt||44===vt||83===vt||86===vt||118===vt||128===vt){const Sn=te();if(3===Sn&&Ue(1),tt(),tt(),Ue(1),ye())for(m=3!==Sn?8:12,v=0;v<m;v++)ye()&&ft(v<6?16:64)}tt();const Lt=te();if(0===Lt)te();else if(1===Lt)for(Ue(1),Ge(),Ge(),u=te(),v=0;v<u;v++)Ge();tt(),Ue(1);const qt=te(),zt=te(),un=G(1);0===un&&Ue(1),Ue(1),ye()&&(n=te(),e=te(),i=te(),o=te());let ln=[1,1];if(ye()&&ye())switch(w()){case 1:ln=[1,1];break;case 2:ln=[12,11];break;case 3:ln=[10,11];break;case 4:ln=[16,11];break;case 5:ln=[40,33];break;case 6:ln=[24,11];break;case 7:ln=[20,11];break;case 8:ln=[32,11];break;case 9:ln=[80,33];break;case 10:ln=[18,11];break;case 11:ln=[15,11];break;case 12:ln=[64,33];break;case 13:ln=[160,99];break;case 14:ln=[4,3];break;case 15:ln=[3,2];break;case 16:ln=[2,1];break;case 255:ln=[w()<<8|w(),w()<<8|w()]}return{width:Math.ceil(16*(qt+1)-2*n-2*e),height:(2-un)*(zt+1)*16-(un?2:4)*(i+o),pixelRatio:ln}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class bb{constructor(n,e,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new db(e,{removePKCS7Padding:!1})}decryptBuffer(n){return this.decrypter.decrypt(n,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(n,e,i){const o=n[e].unit;if(o.length<=16)return;const u=o.subarray(16,o.length-o.length%16),m=u.buffer.slice(u.byteOffset,u.byteOffset+u.length);this.decryptBuffer(m).then(v=>{const w=new Uint8Array(v);o.set(w,16),this.decrypter.isSync()||this.decryptAacSamples(n,e+1,i)})}decryptAacSamples(n,e,i){for(;;e++){if(e>=n.length)return void i();if(!(n[e].unit.length<32||(this.decryptAacSample(n,e,i),this.decrypter.isSync())))return}}getAvcEncryptedData(n){const e=16*Math.floor((n.length-48)/160)+16,i=new Int8Array(e);let o=0;for(let u=32;u<n.length-16;u+=160,o+=16)i.set(n.subarray(u,u+16),o);return i}getAvcDecryptedUnit(n,e){const i=new Uint8Array(e);let o=0;for(let u=32;u<n.length-16;u+=160,o+=16)n.set(i.subarray(o,o+16),u);return n}decryptAvcSample(n,e,i,o,u){const m=dg(u.data),v=this.getAvcEncryptedData(m);this.decryptBuffer(v.buffer).then(w=>{u.data=this.getAvcDecryptedUnit(m,w),this.decrypter.isSync()||this.decryptAvcSamples(n,e,i+1,o)})}decryptAvcSamples(n,e,i,o){if(n instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,i=0){if(e>=n.length)return void o();const u=n[e].units;for(;!(i>=u.length);i++){const m=u[i];if(!(m.data.length<=48||1!==m.type&&5!==m.type||(this.decryptAvcSample(n,e,i,o,m),this.decrypter.isSync())))return}}}}const lo=188;class Na{constructor(n,e,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=n,this.config=e,this.typeSupported=i}static probe(n){const e=Na.syncOffset(n);return e>0&&cn.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(n){const e=n.length;let i=Math.min(940,n.length-lo)+1,o=0;for(;o<i;){let u=!1,m=-1,v=0;for(let w=o;w<e;w+=lo){if(71!==n[w]){if(v)return-1;break}if(v++,-1===m&&(m=w,0!==m&&(i=Math.min(m+18612,n.length-lo)+1)),u||(u=0===wg(n,w)),u&&v>1&&(0===m&&v>2||w+lo>i))return m}o++}return-1}static createTrack(n,e){return{container:"video"===n||"audio"===n?"video/mp2t":void 0,type:n,id:og[n],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===n?e:void 0}}resetInitSegment(n,e,i,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Na.createTrack("video"),this._audioTrack=Na.createTrack("audio",o),this._id3Track=Na.createTrack("id3"),this._txtTrack=Na.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=i,this._duration=o}resetTimeStamp(){}resetContiguity(){const{_audioTrack:n,_avcTrack:e,_id3Track:i}=this;n&&(n.pesData=null),e&&(e.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(n,e,i=!1,o=!1){let u;i||(this.sampleAes=null);const m=this._avcTrack,v=this._audioTrack,w=this._id3Track,G=this._txtTrack;let te=m.pid,ye=m.pesData,Ue=v.pid,Ge=w.pid,tt=v.pesData,ft=w.pesData,vt=null,Lt=this.pmtParsed,qt=this._pmtId,zt=n.length;if(this.remainderData&&(zt=(n=sl(this.remainderData,n)).length,this.remainderData=null),zt<lo&&!o)return this.remainderData=n,{audioTrack:v,videoTrack:m,id3Track:w,textTrack:G};const un=Math.max(0,Na.syncOffset(n));zt-=(zt-un)%lo,zt<n.byteLength&&!o&&(this.remainderData=new Uint8Array(n.buffer,zt,n.buffer.byteLength-zt));let ln=0;for(let mn=un;mn<zt;mn+=lo)if(71===n[mn]){const Mn=!!(64&n[mn+1]),Vn=wg(n,mn);let Xn;if((48&n[mn+3])>>4>1){if(Xn=mn+5+n[mn+4],Xn===mn+lo)continue}else Xn=mn+4;switch(Vn){case te:Mn&&(ye&&(u=cl(ye))&&this.parseAVCPES(m,G,u,!1),ye={data:[],size:0}),ye&&(ye.data.push(n.subarray(Xn,mn+lo)),ye.size+=mn+lo-Xn);break;case Ue:if(Mn){if(tt&&(u=cl(tt)))switch(v.segmentCodec){case"aac":this.parseAACPES(v,u);break;case"mp3":this.parseMPEGPES(v,u)}tt={data:[],size:0}}tt&&(tt.data.push(n.subarray(Xn,mn+lo)),tt.size+=mn+lo-Xn);break;case Ge:Mn&&(ft&&(u=cl(ft))&&this.parseID3PES(w,u),ft={data:[],size:0}),ft&&(ft.data.push(n.subarray(Xn,mn+lo)),ft.size+=mn+lo-Xn);break;case 0:Mn&&(Xn+=n[Xn]+1),qt=this._pmtId=Ig(n,Xn);break;case qt:{Mn&&(Xn+=n[Xn]+1);const Zn=La(n,Xn,this.typeSupported,i);te=Zn.avc,te>0&&(m.pid=te),Ue=Zn.audio,Ue>0&&(v.pid=Ue,v.segmentCodec=Zn.segmentCodec),Ge=Zn.id3,Ge>0&&(w.pid=Ge),null!==vt&&!Lt&&(cn.warn(`MPEG-TS PMT found at ${mn} after unknown PID '${vt}'. Backtracking to sync byte @${un} to parse all TS packets.`),vt=null,mn=un-188),Lt=this.pmtParsed=!0;break}case 17:case 8191:break;default:vt=Vn}}else ln++;if(ln>0){const mn=new Error(`Found ${ln} TS packet/s that do not start with 0x47`);this.observer.emit(Et.ERROR,Et.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,error:mn,reason:mn.message})}m.pesData=ye,v.pesData=tt,w.pesData=ft;const Sn={audioTrack:v,videoTrack:m,id3Track:w,textTrack:G};return o&&this.extractRemainingSamples(Sn),Sn}flush(){const{remainderData:n}=this;let e;return this.remainderData=null,e=n?this.demux(n,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(n){const{audioTrack:e,videoTrack:i,id3Track:o,textTrack:u}=n,m=i.pesData,v=e.pesData,w=o.pesData;let G;if(m&&(G=cl(m))?(this.parseAVCPES(i,u,G,!0),i.pesData=null):i.pesData=m,v&&(G=cl(v))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,G);break;case"mp3":this.parseMPEGPES(e,G)}e.pesData=null}else null!=v&&v.size&&cn.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=v;w&&(G=cl(w))?(this.parseID3PES(o,G),o.pesData=null):o.pesData=w}demuxSampleAes(n,e,i){const o=this.demux(n,i,!0,!this.config.progressive),u=this.sampleAes=new bb(this.observer,this.config,e);return this.decrypt(o,u)}decrypt(n,e){return new Promise(i=>{const{audioTrack:o,videoTrack:u}=n;o.samples&&"aac"===o.segmentCodec?e.decryptAacSamples(o.samples,0,()=>{u.samples?e.decryptAvcSamples(u.samples,0,0,()=>{i(n)}):i(n)}):u.samples&&e.decryptAvcSamples(u.samples,0,0,()=>{i(n)})})}destroy(){this._duration=0}parseAVCPES(n,e,i,o){const u=this.parseAVCNALu(n,i.data);let v,m=this.avcSample,w=!1;i.data=null,m&&u.length&&!n.audFound&&(dl(m,n),m=this.avcSample=Fd(!1,i.pts,i.dts,"")),u.forEach(G=>{var te;switch(G.type){case 1:{let Ue=!1;v=!0;const Ge=G.data;if(w&&Ge.length>4){const tt=new Ag(Ge).readSliceType();(2===tt||4===tt||7===tt||9===tt)&&(Ue=!0)}var ye;Ue&&null!=(ye=m)&&ye.frame&&!m.key&&(dl(m,n),m=this.avcSample=null),m||(m=this.avcSample=Fd(!0,i.pts,i.dts,"")),m.frame=!0,m.key=Ue;break}case 5:v=!0,null!=(te=m)&&te.frame&&!m.key&&(dl(m,n),m=this.avcSample=null),m||(m=this.avcSample=Fd(!0,i.pts,i.dts,"")),m.key=!0,m.frame=!0;break;case 6:v=!0,cg(G.data,1,i.pts,e.samples);break;case 7:if(v=!0,w=!0,!n.sps){const Ue=G.data,tt=new Ag(Ue).readSPS();n.width=tt.width,n.height=tt.height,n.pixelRatio=tt.pixelRatio,n.sps=[Ue],n.duration=this._duration;const ft=Ue.subarray(1,4);let vt="avc1.";for(let Lt=0;Lt<3;Lt++){let qt=ft[Lt].toString(16);qt.length<2&&(qt="0"+qt),vt+=qt}n.codec=vt}break;case 8:v=!0,n.pps||(n.pps=[G.data]);break;case 9:v=!1,n.audFound=!0,m&&dl(m,n),m=this.avcSample=Fd(!1,i.pts,i.dts,"");break;case 12:v=!0;break;default:v=!1,m&&(m.debug+="unknown NAL "+G.type+" ")}m&&v&&m.units.push(G)}),o&&m&&(dl(m,n),this.avcSample=null)}getLastNalUnit(n){var e;let o,i=this.avcSample;if((!i||0===i.units.length)&&(i=n[n.length-1]),null!=(e=i)&&e.units){const u=i.units;o=u[u.length-1]}return o}parseAVCNALu(n,e){const i=e.byteLength;let o=n.naluState||0;const u=o,m=[];let w,G,te,v=0,ye=-1,Ue=0;for(-1===o&&(ye=0,Ue=31&e[0],o=0,v=1);v<i;)if(w=e[v++],o)if(1!==o)if(w)if(1===w){if(ye>=0){const Ge={data:e.subarray(ye,v-o-1),type:Ue};m.push(Ge)}else{const Ge=this.getLastNalUnit(n.samples);if(Ge&&(u&&v<=4-u&&Ge.state&&(Ge.data=Ge.data.subarray(0,Ge.data.byteLength-u)),G=v-o-1,G>0)){const tt=new Uint8Array(Ge.data.byteLength+G);tt.set(Ge.data,0),tt.set(e.subarray(0,G),Ge.data.byteLength),Ge.data=tt,Ge.state=0}}v<i?(te=31&e[v],ye=v,Ue=te,o=0):o=-1}else o=0;else o=3;else o=w?0:2;else o=w?0:1;if(ye>=0&&o>=0){const Ge={data:e.subarray(ye,i),type:Ue,state:o};m.push(Ge)}if(0===m.length){const Ge=this.getLastNalUnit(n.samples);if(Ge){const tt=new Uint8Array(Ge.data.byteLength+e.byteLength);tt.set(Ge.data,0),tt.set(e,Ge.data.byteLength),Ge.data=tt}}return n.naluState=o,m}parseAACPES(n,e){let i=0;const o=this.aacOverFlow;let m,v,w,u=e.data;if(o){this.aacOverFlow=null;const ye=o.missing,Ue=o.sample.unit.byteLength;if(-1===ye){const Ge=new Uint8Array(Ue+u.byteLength);Ge.set(o.sample.unit,0),Ge.set(u,Ue),u=Ge}else{const Ge=Ue-ye;o.sample.unit.set(u.subarray(0,ye),Ge),n.samples.push(o.sample),i=o.missing}}for(m=i,v=u.length;m<v-1&&!Gf(u,m);m++);if(m!==i){let ye;const Ue=m<v-1;ye=Ue?`AAC PES did not start with ADTS header,offset:${m}`:"No ADTS header found in AAC PES";const Ge=new Error(ye);if(cn.warn(`parsing error: ${ye}`),this.observer.emit(Et.ERROR,Et.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Ue,error:Ge,reason:ye}),!Ue)return}if(gb(n,this.observer,u,m,this.audioCodec),void 0!==e.pts)w=e.pts;else{if(!o)return void cn.warn("[tsdemuxer]: AAC PES unknown PTS");{const ye=Cg(n.samplerate);w=o.sample.pts+ye}}let te,G=0;for(;m<v;){if(te=jD(n,u,m,w,G),m+=te.length,te.missing){this.aacOverFlow=te;break}for(G++;m<v-1&&!Gf(u,m);m++);}}parseMPEGPES(n,e){const i=e.data,o=i.length;let u=0,m=0;const v=e.pts;if(void 0!==v)for(;m<o;)if(Mg(i,m)){const w=vb(n,i,m,v,u);if(!w)break;m+=w.length,u++}else m++;else cn.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(n,e){if(void 0===e.pts)return void cn.warn("[tsdemuxer]: ID3 PES unknown PTS");const i=Ar({},e,{type:this._avcTrack?ws_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});n.samples.push(i)}}function Fd(r,n,e,i){return{key:r,frame:!1,pts:n,dts:e,units:[],debug:i,length:0}}function wg(r,n){return((31&r[n+1])<<8)+r[n+2]}function Ig(r,n){return(31&r[n+10])<<8|r[n+11]}function La(r,n,e,i){const o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},m=n+3+((15&r[n+1])<<8|r[n+2])-4;for(n+=12+((15&r[n+10])<<8|r[n+11]);n<m;){const w=wg(r,n);switch(r[n]){case 207:if(!i){cn.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=w);break;case 21:-1===o.id3&&(o.id3=w);break;case 219:if(!i){cn.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=w);break;case 3:case 4:!0!==e.mpeg&&!0!==e.mp3?cn.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=w,o.segmentCodec="mp3");break;case 36:cn.warn("Unsupported HEVC stream type found")}n+=5+((15&r[n+3])<<8|r[n+4])}return o}function cl(r){let e,i,o,u,m,n=0;const v=r.data;if(!r||0===r.size)return null;for(;v[0].length<19&&v.length>1;){const G=new Uint8Array(v[0].length+v[1].length);G.set(v[0]),G.set(v[1],v[0].length),v[0]=G,v.splice(1,1)}if(e=v[0],(e[0]<<16)+(e[1]<<8)+e[2]===1){if(i=(e[4]<<8)+e[5],i&&i>r.size-6)return null;const G=e[7];192&G&&(u=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&G?(m=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,u-m>54e5&&(cn.warn(`${Math.round((u-m)/9e4)}s delta between PTS and DTS, align them`),u=m)):m=u),o=e[8];let te=o+9;if(r.size<=te)return null;r.size-=te;const ye=new Uint8Array(r.size);for(let Ue=0,Ge=v.length;Ue<Ge;Ue++){e=v[Ue];let tt=e.byteLength;if(te){if(te>tt){te-=tt;continue}e=e.subarray(te),tt-=te,te=0}ye.set(e,n),n+=tt}return i&&(i-=o+3),{data:ye,pts:u,dts:m,len:i}}return null}function dl(r,n){if(r.units.length&&r.frame){if(void 0===r.pts){const e=n.samples,i=e.length;if(!i)return void n.dropped++;{const o=e[i-1];r.pts=o.pts,r.dts=o.dts}}n.samples.push(r)}r.debug.length&&cn.log(r.pts+"/"+r.dts+":"+r.debug)}class Eb{static getSilentFrame(n,e){if("mp4a.40.2"===n){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const ul=Math.pow(2,32)-1;let fl=(()=>{class r{static init(){let e;for(e in r.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},r.types)r.types.hasOwnProperty(e)&&(r.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);r.HDLR_TYPES={video:i,audio:o};const u=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),m=new Uint8Array([0,0,0,0,0,0,0,0]);r.STTS=r.STSC=r.STCO=m,r.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),r.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),r.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const v=new Uint8Array([105,115,111,109]),w=new Uint8Array([97,118,99,49]),G=new Uint8Array([0,0,0,1]);r.FTYP=r.box(r.types.ftyp,v,G,v,w),r.DINF=r.box(r.types.dinf,r.box(r.types.dref,u))}static box(e,...i){let o=8,u=i.length;const m=u;for(;u--;)o+=i[u].byteLength;const v=new Uint8Array(o);for(v[0]=o>>24&255,v[1]=o>>16&255,v[2]=o>>8&255,v[3]=255&o,v.set(e,4),u=0,o=8;u<m;u++)v.set(i[u],o),o+=i[u].byteLength;return v}static hdlr(e){return r.box(r.types.hdlr,r.HDLR_TYPES[e])}static mdat(e){return r.box(r.types.mdat,e)}static mdhd(e,i){i*=e;const o=Math.floor(i/(ul+1)),u=Math.floor(i%(ul+1));return r.box(r.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,85,196,0,0]))}static mdia(e){return r.box(r.types.mdia,r.mdhd(e.timescale,e.duration),r.hdlr(e.type),r.minf(e))}static mfhd(e){return r.box(r.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return r.box(r.types.minf,"audio"===e.type?r.box(r.types.smhd,r.SMHD):r.box(r.types.vmhd,r.VMHD),r.DINF,r.stbl(e))}static moof(e,i,o){return r.box(r.types.moof,r.mfhd(e),r.traf(o,i))}static moov(e){let i=e.length;const o=[];for(;i--;)o[i]=r.trak(e[i]);return r.box.apply(null,[r.types.moov,r.mvhd(e[0].timescale,e[0].duration)].concat(o).concat(r.mvex(e)))}static mvex(e){let i=e.length;const o=[];for(;i--;)o[i]=r.trex(e[i]);return r.box.apply(null,[r.types.mvex,...o])}static mvhd(e,i){i*=e;const o=Math.floor(i/(ul+1)),u=Math.floor(i%(ul+1)),m=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r.box(r.types.mvhd,m)}static sdtp(e){const i=e.samples||[],o=new Uint8Array(4+i.length);let u,m;for(u=0;u<i.length;u++)m=i[u].flags,o[u+4]=m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy;return r.box(r.types.sdtp,o)}static stbl(e){return r.box(r.types.stbl,r.stsd(e),r.box(r.types.stts,r.STTS),r.box(r.types.stsc,r.STSC),r.box(r.types.stsz,r.STSZ),r.box(r.types.stco,r.STCO))}static avc1(e){let u,m,v,i=[],o=[];for(u=0;u<e.sps.length;u++)m=e.sps[u],v=m.byteLength,i.push(v>>>8&255),i.push(255&v),i=i.concat(Array.prototype.slice.call(m));for(u=0;u<e.pps.length;u++)m=e.pps[u],v=m.byteLength,o.push(v>>>8&255),o.push(255&v),o=o.concat(Array.prototype.slice.call(m));const w=r.box(r.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(o))),G=e.width,te=e.height,ye=e.pixelRatio[0],Ue=e.pixelRatio[1];return r.box(r.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,G>>8&255,255&G,te>>8&255,255&te,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),w,r.box(r.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),r.box(r.types.pasp,new Uint8Array([ye>>24,ye>>16&255,ye>>8&255,255&ye,Ue>>24,Ue>>16&255,Ue>>8&255,255&Ue])))}static esds(e){const i=e.config.length;return new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(e.config).concat([6,1,2]))}static mp4a(e){const i=e.samplerate;return r.box(r.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),r.box(r.types.esds,r.esds(e)))}static mp3(e){const i=e.samplerate;return r.box(r.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))}static stsd(e){return r.box(r.types.stsd,r.STSD,"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?r.mp3(e):r.mp4a(e):r.avc1(e))}static tkhd(e){const i=e.id,o=e.duration*e.timescale,u=e.width,m=e.height,v=Math.floor(o/(ul+1)),w=Math.floor(o%(ul+1));return r.box(r.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,v>>24,v>>16&255,v>>8&255,255&v,w>>24,w>>16&255,w>>8&255,255&w,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,u>>8&255,255&u,0,0,m>>8&255,255&m,0,0]))}static traf(e,i){const o=r.sdtp(e),u=e.id,m=Math.floor(i/(ul+1)),v=Math.floor(i%(ul+1));return r.box(r.types.traf,r.box(r.types.tfhd,new Uint8Array([0,0,0,0,u>>24,u>>16&255,u>>8&255,255&u])),r.box(r.types.tfdt,new Uint8Array([1,0,0,0,m>>24,m>>16&255,m>>8&255,255&m,v>>24,v>>16&255,v>>8&255,255&v])),r.trun(e,o.length+16+20+8+16+8+8),o)}static trak(e){return e.duration=e.duration||4294967295,r.box(r.types.trak,r.tkhd(e),r.mdia(e))}static trex(e){const i=e.id;return r.box(r.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,i){const o=e.samples||[],u=o.length,m=12+16*u,v=new Uint8Array(m);let w,G,te,ye,Ue,Ge;for(v.set(["video"===e.type?1:0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,(i+=8+m)>>>24&255,i>>>16&255,i>>>8&255,255&i],0),w=0;w<u;w++)G=o[w],te=G.duration,ye=G.size,Ue=G.flags,Ge=G.cts,v.set([te>>>24&255,te>>>16&255,te>>>8&255,255&te,ye>>>24&255,ye>>>16&255,ye>>>8&255,255&ye,Ue.isLeading<<2|Ue.dependsOn,Ue.isDependedOn<<6|Ue.hasRedundancy<<4|Ue.paddingValue<<1|Ue.isNonSync,61440&Ue.degradPrio,15&Ue.degradPrio,Ge>>>24&255,Ge>>>16&255,Ge>>>8&255,255&Ge],12+16*w);return r.box(r.types.trun,v)}static initSegment(e){r.types||r.init();const i=r.moov(e),o=new Uint8Array(r.FTYP.byteLength+i.byteLength);return o.set(r.FTYP),o.set(i,r.FTYP.byteLength),o}}return r.types=void 0,r.HDLR_TYPES=void 0,r.STTS=void 0,r.STSC=void 0,r.STCO=void 0,r.STSZ=void 0,r.VMHD=void 0,r.SMHD=void 0,r.STSD=void 0,r.FTYP=void 0,r.DINF=void 0,r})();function Pg(r,n,e=1,i=!1){const o=r*n*e;return i?Math.round(o):o}function Bd(r,n=!1){return Pg(r,1e3,1/9e4,n)}let ma,Ud=null,Cb=null;class jd{constructor(n,e,i,o=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=n,this.config=e,this.typeSupported=i,this.ISGenerated=!1,null===Ud){const m=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ud=m?parseInt(m[1]):0}if(null===Cb){const u=navigator.userAgent.match(/Safari\/(\d+)/i);Cb=u?parseInt(u[1]):0}}destroy(){}resetTimeStamp(n){cn.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=n}resetNextTimestamp(){cn.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){cn.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(n){let e=!1;const i=n.reduce((o,u)=>{const m=u.pts-o;return m<-4294967296?(e=!0,ts(o,u.pts)):m>0?o:u.pts},n[0].pts);return e&&cn.debug("PTS rollover detected"),i}remux(n,e,i,o,u,m,v,w){let G,te,ye,Ue,Ge,tt,ft=u,vt=u;const qt=e.pid>-1,zt=e.samples.length,un=n.samples.length>0,ln=v&&zt>0||zt>1;if((!(n.pid>-1)||un)&&(!qt||ln)||this.ISGenerated||v){this.ISGenerated||(ye=this.generateIS(n,e,u,m));const mn=this.isVideoContiguous;let Vn,Mn=-1;if(ln&&(Mn=function Db(r){for(let n=0;n<r.length;n++)if(r[n].key)return n;return-1}(e.samples),!mn&&this.config.forceKeyFrameOnDiscontinuity))if(tt=!0,Mn>0){cn.warn(`[mp4-remuxer]: Dropped ${Mn} out of ${zt} video samples due to a missing keyframe`);const pn=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(Mn),e.dropped+=Mn,vt+=(e.samples[0].pts-pn)/e.inputTimeScale,Vn=vt}else-1===Mn&&(cn.warn(`[mp4-remuxer]: No keyframe found out of ${zt} video samples`),tt=!1);if(this.ISGenerated){if(un&&ln){const pn=this.getVideoStartPts(e.samples),Zn=(ts(n.samples[0].pts,pn)-pn)/e.inputTimeScale;ft+=Math.max(0,Zn),vt+=Math.max(0,-Zn)}if(un){if(n.samplerate||(cn.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),ye=this.generateIS(n,e,u,m)),te=this.remuxAudio(n,ft,this.isAudioContiguous,m,qt||ln||"audio"===w?vt:void 0),ln){const pn=te?te.endPTS-te.startPTS:0;e.inputTimeScale||(cn.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),ye=this.generateIS(n,e,u,m)),G=this.remuxVideo(e,vt,mn,pn)}}else ln&&(G=this.remuxVideo(e,vt,mn,0));G&&(G.firstKeyFrame=Mn,G.independent=-1!==Mn,G.firstKeyFramePTS=Vn)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(Ge=xb(i,u,this._initPTS,this._initDTS)),o.samples.length&&(Ue=Ng(o,u,this._initPTS))),{audio:te,video:G,initSegment:ye,independent:tt,text:Ue,id3:Ge}}generateIS(n,e,i,o){const u=n.samples,m=e.samples,v=this.typeSupported,w={},G=this._initPTS;let Ue,Ge,tt,te=!G||o,ye="audio/mp4";if(te&&(Ue=Ge=1/0),n.config&&u.length&&("mp3"===(n.timescale=n.samplerate,n.segmentCodec)&&(v.mpeg?(ye="audio/mpeg",n.codec=""):v.mp3&&(n.codec="mp3")),w.audio={id:"audio",container:ye,codec:n.codec,initSegment:"mp3"===n.segmentCodec&&v.mpeg?new Uint8Array(0):fl.initSegment([n]),metadata:{channelCount:n.channelCount}},te&&(tt=n.inputTimeScale,G&&tt===G.timescale?te=!1:Ue=Ge=u[0].pts-Math.round(tt*i))),e.sps&&e.pps&&m.length&&(e.timescale=e.inputTimeScale,w.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:fl.initSegment([e]),metadata:{width:e.width,height:e.height}},te))if(tt=e.inputTimeScale,G&&tt===G.timescale)te=!1;else{const ft=this.getVideoStartPts(m),vt=Math.round(tt*i);Ge=Math.min(Ge,ts(m[0].dts,ft)-vt),Ue=Math.min(Ue,ft-vt)}if(Object.keys(w).length)return this.ISGenerated=!0,te?(this._initPTS={baseTime:Ue,timescale:tt},this._initDTS={baseTime:Ge,timescale:tt}):Ue=tt=void 0,{tracks:w,initPTS:Ue,timescale:tt}}remuxVideo(n,e,i,o){const u=n.inputTimeScale,m=n.samples,v=[],w=m.length,G=this._initPTS;let Ge,tt,te=this.nextAvcDts,ye=8,Ue=this.videoSampleDuration,ft=Number.POSITIVE_INFINITY,vt=Number.NEGATIVE_INFINITY,Lt=!1;i&&null!==te||(te=e*u-(m[0].pts-ts(m[0].dts,m[0].pts)));const qt=G.baseTime*u/G.timescale;for(let Rn=0;Rn<w;Rn++){const Yn=m[Rn];Yn.pts=ts(Yn.pts-qt,te),Yn.dts=ts(Yn.dts-qt,te),Yn.dts<m[Rn>0?Rn-1:Rn].dts&&(Lt=!0)}Lt&&m.sort(function(Rn,Yn){return Rn.dts-Yn.dts||Rn.pts-Yn.pts}),Ge=m[0].dts,tt=m[m.length-1].dts;const zt=tt-Ge,un=zt?Math.round(zt/(w-1)):Ue||n.inputTimeScale/30;if(i){const Rn=Ge-te,Yn=Rn>un,vi=Rn<-1;if((Yn||vi)&&(cn.warn(Yn?`AVC: ${Bd(Rn,!0)} ms (${Rn}dts) hole between fragments detected, filling it`:`AVC: ${Bd(-Rn,!0)} ms (${Rn}dts) overlapping between fragments detected`),!vi||te>=m[0].pts)){Ge=te;const Oi=m[0].pts-Rn;m[0].dts=Ge,m[0].pts=Oi,cn.log(`Video: First PTS/DTS adjusted: ${Bd(Oi,!0)}/${Bd(Ge,!0)}, delta: ${Bd(Rn,!0)} ms`)}}Ge=Math.max(0,Ge);let ln=0,Sn=0;for(let Rn=0;Rn<w;Rn++){const Yn=m[Rn],vi=Yn.units,Oi=vi.length;let bi=0;for(let Ji=0;Ji<Oi;Ji++)bi+=vi[Ji].data.length;Sn+=bi,ln+=Oi,Yn.length=bi,Yn.dts=Math.max(Yn.dts,Ge),ft=Math.min(Yn.pts,ft),vt=Math.max(Yn.pts,vt)}tt=m[w-1].dts;const mn=Sn+4*ln+8;let Mn;try{Mn=new Uint8Array(mn)}catch(Rn){return void this.observer.emit(Et.ERROR,Et.ERROR,{type:mi.MUX_ERROR,details:En.REMUX_ALLOC_ERROR,fatal:!1,error:Rn,bytes:mn,reason:`fail allocating video mdat ${mn}`})}const Vn=new DataView(Mn.buffer);Vn.setUint32(0,mn),Mn.set(fl.types.mdat,4);let pn=!1,Xn=Number.POSITIVE_INFINITY,Zn=Number.POSITIVE_INFINITY,_i=Number.NEGATIVE_INFINITY,Sr=Number.NEGATIVE_INFINITY;for(let Rn=0;Rn<w;Rn++){const Yn=m[Rn],vi=Yn.units;let bi,Oi=0;for(let Mi=0,Lr=vi.length;Mi<Lr;Mi++){const no=vi[Mi],fr=no.data,uo=no.data.byteLength;Vn.setUint32(ye,uo),ye+=4,Mn.set(fr,ye),ye+=uo,Oi+=4+uo}if(Rn<w-1)Ue=m[Rn+1].dts-Yn.dts,bi=m[Rn+1].pts-Yn.pts;else{const Mi=this.config,Lr=Rn>0?Yn.dts-m[Rn-1].dts:un;if(bi=Rn>0?Yn.pts-m[Rn-1].pts:un,Mi.stretchShortVideoTrack&&null!==this.nextAudioPts){const no=Math.floor(Mi.maxBufferHole*u),fr=(o?ft+o*u:this.nextAudioPts)-Yn.pts;fr>no?(Ue=fr-Lr,Ue<0?Ue=Lr:pn=!0,cn.log(`[mp4-remuxer]: It is approximately ${fr/90} ms to the next segment; using duration ${Ue/90} ms for the last video frame.`)):Ue=Lr}else Ue=Lr}const Ji=Math.round(Yn.pts-Yn.dts);Xn=Math.min(Xn,Ue),_i=Math.max(_i,Ue),Zn=Math.min(Zn,bi),Sr=Math.max(Sr,bi),v.push(new Lg(Yn.key,Ue,Oi,Ji))}if(v.length)if(Ud){if(Ud<70){const Rn=v[0].flags;Rn.dependsOn=2,Rn.isNonSync=0}}else if(Cb&&Sr-Zn<_i-Xn&&un/_i<.025&&0===v[0].cts){cn.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Rn=Ge;for(let Yn=0,vi=v.length;Yn<vi;Yn++){const Oi=Rn+v[Yn].duration;v[Yn].duration=Yn<vi-1?Oi+v[Yn+1].cts-(Rn+v[Yn].cts):Yn?v[Yn-1].duration:un,v[Yn].cts=0,Rn=Oi}}Ue=pn||!Ue?un:Ue,this.nextAvcDts=te=tt+Ue,this.videoSampleDuration=Ue,this.isVideoContiguous=!0;const Kn={data1:fl.moof(n.sequenceNumber++,Ge,Ar({},n,{samples:v})),data2:Mn,startPTS:ft/u,endPTS:(vt+Ue)/u,startDTS:Ge/u,endDTS:te/u,type:"video",hasAudio:!1,hasVideo:!0,nb:v.length,dropped:n.dropped};return n.samples=[],n.dropped=0,Kn}remuxAudio(n,e,i,o,u){const m=n.inputTimeScale,w=m/(n.samplerate?n.samplerate:m),G="aac"===n.segmentCodec?1024:1152,te=G*w,ye=this._initPTS,Ue="mp3"===n.segmentCodec&&this.typeSupported.mpeg,Ge=[],tt=void 0!==u;let ft=n.samples,vt=Ue?0:8,Lt=this.nextAudioPts||-1;const qt=e*m,zt=ye.baseTime*m/ye.timescale;if(this.isAudioContiguous=i=i||ft.length&&Lt>0&&(o&&Math.abs(qt-Lt)<9e3||Math.abs(ts(ft[0].pts-zt,qt)-Lt)<20*te),ft.forEach(function(Hn){Hn.pts=ts(Hn.pts-zt,qt)}),!i||Lt<0){if(ft=ft.filter(Hn=>Hn.pts>=0),!ft.length)return;Lt=0===u?0:o&&!tt?Math.max(0,qt):ft[0].pts}if("aac"===n.segmentCodec){const Hn=this.config.maxAudioFramesDrift;for(let Kn=0,Rn=Lt;Kn<ft.length;Kn++){const Yn=ft[Kn],vi=Yn.pts,Oi=vi-Rn,bi=Math.abs(1e3*Oi/m);if(Oi<=-Hn*te&&tt)0===Kn&&(cn.warn(`Audio frame @ ${(vi/m).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Oi/m)} ms.`),this.nextAudioPts=Lt=Rn=vi);else if(Oi>=Hn*te&&bi<1e4&&tt){let Ji=Math.round(Oi/te);Rn=vi-Ji*te,Rn<0&&(Ji--,Rn+=te),0===Kn&&(this.nextAudioPts=Lt=Rn),cn.warn(`[mp4-remuxer]: Injecting ${Ji} audio frame @ ${(Rn/m).toFixed(3)}s due to ${Math.round(1e3*Oi/m)} ms gap.`);for(let Mi=0;Mi<Ji;Mi++){const Lr=Math.max(Rn,0);let no=Eb.getSilentFrame(n.manifestCodec||n.codec,n.channelCount);no||(cn.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),no=Yn.unit.subarray()),ft.splice(Kn,0,{unit:no,pts:Lr}),Rn+=te,Kn++}}Yn.pts=Rn,Rn+=te}}let Sn,un=null,ln=null,mn=0,Mn=ft.length;for(;Mn--;)mn+=ft[Mn].unit.byteLength;for(let Hn=0,Kn=ft.length;Hn<Kn;Hn++){const Rn=ft[Hn],Yn=Rn.unit;let vi=Rn.pts;if(null!==ln)Ge[Hn-1].duration=Math.round((vi-ln)/w);else{if(i&&"aac"===n.segmentCodec&&(vi=Lt),un=vi,!(mn>0))return;mn+=vt;try{Sn=new Uint8Array(mn)}catch(bi){return void this.observer.emit(Et.ERROR,Et.ERROR,{type:mi.MUX_ERROR,details:En.REMUX_ALLOC_ERROR,fatal:!1,error:bi,bytes:mn,reason:`fail allocating audio mdat ${mn}`})}Ue||(new DataView(Sn.buffer).setUint32(0,mn),Sn.set(fl.types.mdat,4))}Sn.set(Yn,vt);const Oi=Yn.byteLength;vt+=Oi,Ge.push(new Lg(!0,G,Oi,0)),ln=vi}const Vn=Ge.length;if(!Vn)return;this.nextAudioPts=Lt=ln+w*Ge[Ge.length-1].duration;const Xn=Ue?new Uint8Array(0):fl.moof(n.sequenceNumber++,un/w,Ar({},n,{samples:Ge}));n.samples=[];const Zn=un/m,_i=Lt/m,Ki={data1:Xn,data2:Sn,startPTS:Zn,endPTS:_i,startDTS:Zn,endDTS:_i,type:"audio",hasAudio:!0,hasVideo:!1,nb:Vn};return this.isAudioContiguous=!0,Ki}remuxEmptyAudio(n,e,i,o){const u=n.inputTimeScale,w=this.nextAudioPts,G=this._initDTS,te=9e4*G.baseTime/G.timescale,ye=(null!==w?w:o.startDTS*u)+te,Ge=u/(n.samplerate?n.samplerate:u)*1024,tt=Math.ceil((o.endDTS*u+te-ye)/Ge),ft=Eb.getSilentFrame(n.manifestCodec||n.codec,n.channelCount);if(cn.warn("[mp4-remuxer]: remux empty Audio"),!ft)return void cn.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const vt=[];for(let Lt=0;Lt<tt;Lt++){const qt=ye+Lt*Ge;vt.push({unit:ft,pts:qt,dts:qt})}return n.samples=vt,this.remuxAudio(n,e,i,!1)}}function ts(r,n){let e;if(null===n)return r;for(e=n<r?-8589934592:8589934592;Math.abs(r-n)>4294967296;)r+=e;return r}function xb(r,n,e,i){const o=r.samples.length;if(!o)return;const u=r.inputTimeScale;for(let v=0;v<o;v++){const w=r.samples[v];w.pts=ts(w.pts-e.baseTime*u/e.timescale,n*u)/u,w.dts=ts(w.dts-i.baseTime*u/i.timescale,n*u)/u}const m=r.samples;return r.samples=[],{samples:m}}function Ng(r,n,e){const i=r.samples.length;if(!i)return;const o=r.inputTimeScale;for(let m=0;m<i;m++){const v=r.samples[m];v.pts=ts(v.pts-e.baseTime*o/e.timescale,n*o)/o}r.samples.sort((m,v)=>m.pts-v.pts);const u=r.samples;return r.samples=[],{samples:u}}class Lg{constructor(n,e,i,o){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=i,this.cts=o,this.flags=new bc(n)}}class bc{constructor(n){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=n?2:1,this.isNonSync=n?0:1}}function kg(r,n){const e=r?.codec;return e&&e.length>4?e:"hvc1"===e||"hev1"===e?"hvc1.1.6.L120.90":"av01"===e?"av01.0.04M.08":"avc1"===e||"video"===n?"avc1.42e01e":"mp4a.40.5"}try{ma=self.performance.now.bind(self.performance)}catch{cn.debug("Unable to use Performance API on this environment"),ma=typeof self<"u"&&self.Date.now}const Fg=[{demux:class VD{constructor(n,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(n,e,i,o){const u=this.videoTrack=$s("video",1),m=this.audioTrack=$s("audio",1),v=this.txtTrack=$s("text",1);if(this.id3Track=$s("id3",1),this.timeOffset=0,null==n||!n.byteLength)return;const w=ag(n);if(w.video){const{id:G,timescale:te,codec:ye}=w.video;u.id=G,u.timescale=v.timescale=te,u.codec=ye}if(w.audio){const{id:G,timescale:te,codec:ye}=w.audio;m.id=G,m.timescale=te,m.codec=ye}v.id=og.text,u.sampleDuration=0,u.duration=m.duration=o}resetContiguity(){this.remainderData=null}static probe(n){return Yi(n=n.length>16384?n.subarray(0,16384):n,["moof"]).length>0}demux(n,e){this.timeOffset=e;let i=n;const o=this.videoTrack,u=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=sl(this.remainderData,n));const v=function mD(r){const n={valid:null,remainder:null},e=Yi(r,["moof"]);if(!e)return n;if(e.length<2)return n.remainder=r,n;const i=e[e.length-1];return n.valid=Oa(r,0,i.byteOffset-8),n.remainder=Oa(r,i.byteOffset-8),n}(i);this.remainderData=v.remainder,o.samples=v.valid||new Uint8Array}else o.samples=i;const m=this.extractID3Track(o,e);return u.samples=S0(e,o),{videoTrack:o,audioTrack:this.audioTrack,id3Track:m,textTrack:this.txtTrack}}flush(){const n=this.timeOffset,e=this.videoTrack,i=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const o=this.extractID3Track(e,this.timeOffset);return i.samples=S0(n,e),{videoTrack:e,audioTrack:$s(),id3Track:o,textTrack:$s()}}extractID3Track(n,e){const i=this.id3Track;if(n.samples.length){const o=Yi(n.samples,["emsg"]);o&&o.forEach(u=>{const m=function D0(r){const n=r[0];let e="",i="",o=0,u=0,m=0,v=0,w=0,G=0;if(0===n){for(;"\0"!==Co(r.subarray(G,G+1));)e+=Co(r.subarray(G,G+1)),G+=1;for(e+=Co(r.subarray(G,G+1)),G+=1;"\0"!==Co(r.subarray(G,G+1));)i+=Co(r.subarray(G,G+1)),G+=1;i+=Co(r.subarray(G,G+1)),G+=1,o=Ei(r,12),u=Ei(r,16),v=Ei(r,20),w=Ei(r,24),G=28}else if(1===n){G+=4,o=Ei(r,G),G+=4;const ye=Ei(r,G);G+=4;const Ue=Ei(r,G);for(G+=4,m=2**32*ye+Ue,Number.isSafeInteger(m)||(m=Number.MAX_SAFE_INTEGER,cn.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),v=Ei(r,G),G+=4,w=Ei(r,G),G+=4;"\0"!==Co(r.subarray(G,G+1));)e+=Co(r.subarray(G,G+1)),G+=1;for(e+=Co(r.subarray(G,G+1)),G+=1;"\0"!==Co(r.subarray(G,G+1));)i+=Co(r.subarray(G,G+1)),G+=1;i+=Co(r.subarray(G,G+1)),G+=1}return{schemeIdUri:e,value:i,timeScale:o,presentationTime:m,presentationTimeDelta:u,eventDuration:v,id:w,payload:r.subarray(G,r.byteLength)}}(u);if(_b.test(m.schemeIdUri)){const v=di(m.presentationTime)?m.presentationTime/m.timeScale:e+m.presentationTimeDelta/m.timeScale;let w=4294967295===m.eventDuration?Number.POSITIVE_INFINITY:m.eventDuration/m.timeScale;w<=.001&&(w=Number.POSITIVE_INFINITY);const G=m.payload;i.samples.push({data:G,len:G.byteLength,dts:v,pts:v,type:ws_emsg,duration:w})}})}return i}demuxSampleAes(n,e,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class Kf{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(n){this.initPTS=n,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(n,e,i,o){this.audioCodec=e,this.videoCodec=i,this.generateInitSegment(function E0(r,n){if(!r||!n)return r;const e=n.keyId;return e&&n.isCommonEncryption&&Yi(r,["moov","trak"]).forEach(o=>{const m=Yi(o,["mdia","minf","stbl","stsd"])[0].subarray(8);let v=Yi(m,["enca"]);const w=v.length>0;w||(v=Yi(m,["encv"])),v.forEach(G=>{Yi(G.subarray(w?28:78),["sinf"]).forEach(Ue=>{const Ge=lg(Ue);if(Ge){const tt=Ge.subarray(8,24);tt.some(ft=>0!==ft)||(cn.log(`[eme] Patching keyId in 'enc${w?"a":"v"}>sinf>>tenc' box: ${zs_hexDump(tt)} -> ${zs_hexDump(e)}`),Ge.set(e,8))}})})}),r}(n,o)),this.emitInitSegment=!0}generateInitSegment(n){let{audioCodec:e,videoCodec:i}=this;if(null==n||!n.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const o=this.initData=ag(n);e||(e=kg(o.audio,"audio")),i||(i=kg(o.video,"video"));const u={};o.audio&&o.video?u.audiovideo={container:"video/mp4",codec:e+","+i,initSegment:n,id:"main"}:o.audio?u.audio={container:"audio/mp4",codec:e,initSegment:n,id:"audio"}:o.video?u.video={container:"video/mp4",codec:i,initSegment:n,id:"main"}:cn.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=u}remux(n,e,i,o,u,m){var v,w;let{initPTS:G,lastEndTime:te}=this;const ye={audio:void 0,video:void 0,text:o,id3:i,initSegment:void 0};di(te)||(te=this.lastEndTime=u||0);const Ue=e.samples;if(null==Ue||!Ue.length)return ye;const Ge={initPTS:void 0,timescale:1};let tt=this.initData;if(null!=(v=tt)&&v.length||(this.generateInitSegment(Ue),tt=this.initData),null==(w=tt)||!w.length)return cn.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),ye;this.emitInitSegment&&(Ge.tracks=this.initTracks,this.emitInitSegment=!1);const ft=function uD(r,n){let e=0,i=0,o=0;const u=Yi(r,["moof","traf"]);for(let m=0;m<u.length;m++){const v=u[m],w=Yi(v,["tfhd"])[0],te=n[Ei(w,4)];if(!te)continue;const ye=te.default,Ue=Ei(w,0)|ye?.flags;let Ge=ye?.duration;8&Ue&&(Ge=Ei(w,2&Ue?12:8));const tt=te.timescale||9e4,ft=Yi(v,["trun"]);for(let vt=0;vt<ft.length;vt++)e=fD(ft[vt]),!e&&Ge&&(e=Ge*Ei(ft[vt],4)),"video"===te.type?i+=e/tt:"audio"===te.type&&(o+=e/tt)}if(0===i&&0===o){let m=0;const v=Yi(r,["sidx"]);for(let w=0;w<v.length;w++){const G=dD(v[w]);null!=G&&G.references&&(m+=G.references.reduce((te,ye)=>te+ye.info.duration||0,0))}return m}return i||o}(Ue,tt),vt=function T0(r,n){return Yi(n,["moof","traf"]).reduce((e,i)=>{const o=Yi(i,["tfdt"])[0],u=o[0],m=Yi(i,["tfhd"]).reduce((v,w)=>{const G=Ei(w,4),te=r[G];if(te){let ye=Ei(o,4);if(1===u){if(ye===Df)return cn.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),v;ye*=Df+1,ye+=Ei(o,8)}const Ge=ye/(te.timescale||9e4);if(isFinite(Ge)&&(null===v||Ge<v))return Ge}return v},null);return null!==m&&isFinite(m)&&(null===e||m<e)?m:e},null)}(tt,Ue),Lt=null===vt?u:vt;(function Mb(r,n,e,i){if(null===r)return!0;const o=Math.max(i,1);return Math.abs(n-r.baseTime/r.timescale-e)>o}(G,Lt,u,ft)||Ge.timescale!==G.timescale&&m)&&(Ge.initPTS=Lt-u,G&&1===G.timescale&&cn.warn("Adjusting initPTS by "+(Ge.initPTS-G.baseTime)),this.initPTS=G={baseTime:Ge.initPTS,timescale:1});const qt=n?Lt-G.baseTime/G.timescale:te,zt=qt+ft;(function hD(r,n,e){Yi(n,["moof","traf"]).forEach(i=>{Yi(i,["tfhd"]).forEach(o=>{const u=Ei(o,4),m=r[u];if(!m)return;const v=m.timescale||9e4;Yi(i,["tfdt"]).forEach(w=>{const G=w[0];let te=Ei(w,4);if(0===G)te-=e*v,te=Math.max(te,0),b0(w,4,te);else{te*=Math.pow(2,32),te+=Ei(w,8),te-=e*v,te=Math.max(te,0);const ye=Math.floor(te/(Df+1)),Ue=Math.floor(te%(Df+1));b0(w,4,ye),b0(w,8,Ue)}})})})})(tt,Ue,G.baseTime/G.timescale),ft>0?this.lastEndTime=zt:(cn.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const un=!!tt.audio,ln=!!tt.video;let Sn="";un&&(Sn+="audio"),ln&&(Sn+="video");const mn={data1:Ue,startPTS:qt,startDTS:qt,endPTS:zt,endDTS:zt,type:Sn,hasAudio:un,hasVideo:ln,nb:1,dropped:0};return ye.audio="audio"===mn.type?mn:void 0,ye.video="audio"!==mn.type?mn:void 0,ye.initSegment=Ge,ye.id3=xb(i,u,G,G),o.samples.length&&(ye.text=Ng(o,u,G)),ye}}},{demux:Na,remux:jd},{demux:class Is extends kd{constructor(n,e){super(),this.observer=void 0,this.config=void 0,this.observer=n,this.config=e}resetInitSegment(n,e,i,o){super.resetInitSegment(n,e,i,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(n){if(!n)return!1;let i=(Sf(n,0)||[]).length;for(let o=n.length;i<o;i++)if(TA(n,i))return cn.log("ADTS sync word found !"),!0;return!1}canParse(n,e){return function UD(r,n){return function BD(r,n){return n+5<r.length}(r,n)&&FD(r,n)&&Vf(r,n)<=r.length-n}(n,e)}appendFrame(n,e,i){gb(n,this.observer,e,i,n.manifestCodec);const o=jD(n,e,i,this.basePTS,this.frameIndex);if(o&&0===o.missing)return o}},remux:jd},{demux:class Og extends kd{resetInitSegment(n,e,i,o){super.resetInitSegment(n,e,i,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(n){if(!n)return!1;let i=(Sf(n,0)||[]).length;for(let o=n.length;i<o;i++)if(yb(n,i))return cn.log("MPEG Audio sync word found !"),!0;return!1}canParse(n,e){return function YD(r,n){return Yf(r,n)&&4<=r.length-n}(n,e)}appendFrame(n,e,i){if(null!==this.basePTS)return vb(n,e,i,this.basePTS,this.frameIndex)}},remux:jd}];class zD{constructor(n,e,i,o,u){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=n,this.typeSupported=e,this.config=i,this.vendor=o,this.id=u}configure(n){this.transmuxConfig=n,this.decrypter&&this.decrypter.reset()}push(n,e,i,o){const u=i.transmuxing;u.executeStart=ma();let m=new Uint8Array(n);const{currentTransmuxState:v,transmuxConfig:w}=this;o&&(this.currentTransmuxState=o);const{contiguous:G,discontinuity:te,trackSwitch:ye,accurateTimeOffset:Ue,timeOffset:Ge,initSegmentChange:tt}=o||v,{audioCodec:ft,videoCodec:vt,defaultInitPts:Lt,duration:qt,initSegmentData:zt}=w,un=function Ab(r,n){let e=null;return r.byteLength>0&&null!=n&&null!=n.key&&null!==n.iv&&null!=n.method&&(e=n),e}(m,e);if(un&&"AES-128"===un.method){const Mn=this.getDecrypter();if(!Mn.isSync())return this.decryptionPromise=Mn.webCryptoDecrypt(m,un.key.buffer,un.iv.buffer).then(Vn=>{const pn=this.push(Vn,null,i);return this.decryptionPromise=null,pn}),this.decryptionPromise;{let Vn=Mn.softwareDecrypt(m,un.key.buffer,un.iv.buffer);if(i.part>-1&&(Vn=Mn.flush()),!Vn)return u.executeEnd=ma(),Bg(i);m=new Uint8Array(Vn)}}const ln=this.needsProbing(te,ye);if(ln){const Mn=this.configureTransmuxer(m);if(Mn)return cn.warn(`[transmuxer] ${Mn.message}`),this.observer.emit(Et.ERROR,Et.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,error:Mn,reason:Mn.message}),u.executeEnd=ma(),Bg(i)}(te||ye||tt||ln)&&this.resetInitSegment(zt,ft,vt,qt,e),(te||tt||ln)&&this.resetInitialTimestamp(Lt),G||this.resetContiguity();const Sn=this.transmux(m,un,Ge,Ue,i),mn=this.currentTransmuxState;return mn.contiguous=!0,mn.discontinuity=!1,mn.trackSwitch=!1,u.executeEnd=ma(),Sn}flush(n){const e=n.transmuxing;e.executeStart=ma();const{decrypter:i,currentTransmuxState:o,decryptionPromise:u}=this;if(u)return u.then(()=>this.flush(n));const m=[],{timeOffset:v}=o;if(i){const ye=i.flush();ye&&m.push(this.push(ye,null,n))}const{demuxer:w,remuxer:G}=this;if(!w||!G)return e.executeEnd=ma(),[Bg(n)];const te=w.flush(v);return Ug(te)?te.then(ye=>(this.flushRemux(m,ye,n),m)):(this.flushRemux(m,te,n),m)}flushRemux(n,e,i){const{audioTrack:o,videoTrack:u,id3Track:m,textTrack:v}=e,{accurateTimeOffset:w,timeOffset:G}=this.currentTransmuxState;cn.log(`[transmuxer.ts]: Flushed fragment ${i.sn}${i.part>-1?" p: "+i.part:""} of level ${i.level}`);const te=this.remuxer.remux(o,u,m,v,G,w,!0,this.id);n.push({remuxResult:te,chunkMeta:i}),i.transmuxing.executeEnd=ma()}resetInitialTimestamp(n){const{demuxer:e,remuxer:i}=this;!e||!i||(e.resetTimeStamp(n),i.resetTimeStamp(n))}resetContiguity(){const{demuxer:n,remuxer:e}=this;!n||!e||(n.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(n,e,i,o,u){const{demuxer:m,remuxer:v}=this;!m||!v||(m.resetInitSegment(n,e,i,o),v.resetInitSegment(n,e,i,u))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(n,e,i,o,u){let m;return m=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(n,e,i,o,u):this.transmuxUnencrypted(n,i,o,u),m}transmuxUnencrypted(n,e,i,o){const{audioTrack:u,videoTrack:m,id3Track:v,textTrack:w}=this.demuxer.demux(n,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(u,m,v,w,e,i,!1,this.id),chunkMeta:o}}transmuxSampleAes(n,e,i,o,u){return this.demuxer.demuxSampleAes(n,e,i).then(m=>({remuxResult:this.remuxer.remux(m.audioTrack,m.videoTrack,m.id3Track,m.textTrack,i,o,!1,this.id),chunkMeta:u}))}configureTransmuxer(n){const{config:e,observer:i,typeSupported:o,vendor:u}=this;let m;for(let ye=0,Ue=Fg.length;ye<Ue;ye++)if(Fg[ye].demux.probe(n)){m=Fg[ye];break}if(!m)return new Error("Failed to find demuxer by probing fragment data");const v=this.demuxer,w=this.remuxer,G=m.remux,te=m.demux;(!w||!(w instanceof G))&&(this.remuxer=new G(i,e,o,u)),(!v||!(v instanceof te))&&(this.demuxer=new te(i,e,o),this.probe=te.probe)}needsProbing(n,e){return!this.demuxer||!this.remuxer||n||e}getDecrypter(){let n=this.decrypter;return n||(n=this.decrypter=new db(this.config)),n}}const Bg=r=>({remuxResult:{},chunkMeta:r});function Ug(r){return"then"in r&&r.then instanceof Function}class ZD{constructor(n,e,i,o,u){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=n,this.videoCodec=e,this.initSegmentData=i,this.duration=o,this.defaultInitPts=u||null}}class CA{constructor(n,e,i,o,u,m){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=n,this.contiguous=e,this.accurateTimeOffset=i,this.trackSwitch=o,this.timeOffset=u,this.initSegmentChange=m}}var $D={exports:{}};!function(r){var n=Object.prototype.hasOwnProperty,e="~";function i(){}function o(w,G,te){this.fn=w,this.context=G,this.once=te||!1}function u(w,G,te,ye,Ue){if("function"!=typeof te)throw new TypeError("The listener must be a function");var Ge=new o(te,ye||w,Ue),tt=e?e+G:G;return w._events[tt]?w._events[tt].fn?w._events[tt]=[w._events[tt],Ge]:w._events[tt].push(Ge):(w._events[tt]=Ge,w._eventsCount++),w}function m(w,G){0==--w._eventsCount?w._events=new i:delete w._events[G]}function v(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),v.prototype.eventNames=function(){var te,ye,G=[];if(0===this._eventsCount)return G;for(ye in te=this._events)n.call(te,ye)&&G.push(e?ye.slice(1):ye);return Object.getOwnPropertySymbols?G.concat(Object.getOwnPropertySymbols(te)):G},v.prototype.listeners=function(G){var ye=this._events[e?e+G:G];if(!ye)return[];if(ye.fn)return[ye.fn];for(var Ue=0,Ge=ye.length,tt=new Array(Ge);Ue<Ge;Ue++)tt[Ue]=ye[Ue].fn;return tt},v.prototype.listenerCount=function(G){var ye=this._events[e?e+G:G];return ye?ye.fn?1:ye.length:0},v.prototype.emit=function(G,te,ye,Ue,Ge,tt){var ft=e?e+G:G;if(!this._events[ft])return!1;var qt,zt,vt=this._events[ft],Lt=arguments.length;if(vt.fn){switch(vt.once&&this.removeListener(G,vt.fn,void 0,!0),Lt){case 1:return vt.fn.call(vt.context),!0;case 2:return vt.fn.call(vt.context,te),!0;case 3:return vt.fn.call(vt.context,te,ye),!0;case 4:return vt.fn.call(vt.context,te,ye,Ue),!0;case 5:return vt.fn.call(vt.context,te,ye,Ue,Ge),!0;case 6:return vt.fn.call(vt.context,te,ye,Ue,Ge,tt),!0}for(zt=1,qt=new Array(Lt-1);zt<Lt;zt++)qt[zt-1]=arguments[zt];vt.fn.apply(vt.context,qt)}else{var ln,un=vt.length;for(zt=0;zt<un;zt++)switch(vt[zt].once&&this.removeListener(G,vt[zt].fn,void 0,!0),Lt){case 1:vt[zt].fn.call(vt[zt].context);break;case 2:vt[zt].fn.call(vt[zt].context,te);break;case 3:vt[zt].fn.call(vt[zt].context,te,ye);break;case 4:vt[zt].fn.call(vt[zt].context,te,ye,Ue);break;default:if(!qt)for(ln=1,qt=new Array(Lt-1);ln<Lt;ln++)qt[ln-1]=arguments[ln];vt[zt].fn.apply(vt[zt].context,qt)}}return!0},v.prototype.on=function(G,te,ye){return u(this,G,te,ye,!1)},v.prototype.once=function(G,te,ye){return u(this,G,te,ye,!0)},v.prototype.removeListener=function(G,te,ye,Ue){var Ge=e?e+G:G;if(!this._events[Ge])return this;if(!te)return m(this,Ge),this;var tt=this._events[Ge];if(tt.fn)tt.fn===te&&(!Ue||tt.once)&&(!ye||tt.context===ye)&&m(this,Ge);else{for(var ft=0,vt=[],Lt=tt.length;ft<Lt;ft++)(tt[ft].fn!==te||Ue&&!tt[ft].once||ye&&tt[ft].context!==ye)&&vt.push(tt[ft]);vt.length?this._events[Ge]=1===vt.length?vt[0]:vt:m(this,Ge)}return this},v.prototype.removeAllListeners=function(G){var te;return G?this._events[te=e?e+G:G]&&m(this,te):(this._events=new i,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=e,v.EventEmitter=v,r.exports=v}($D);var jg=qC($D.exports);const Vg=pc()||{isTypeSupported:()=>!1};class Ib{constructor(n,e,i,o){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const u=n.config;this.hls=n,this.id=e,this.useWorker=!!u.enableWorker,this.onTransmuxComplete=i,this.onFlush=o;const m=(G,te)=>{(te=te||{}).frag=this.frag,te.id=this.id,G===Et.ERROR&&(this.error=te.error),this.hls.trigger(G,te)};this.observer=new jg,this.observer.on(Et.FRAG_DECRYPTED,m),this.observer.on(Et.ERROR,m);const v={mp4:Vg.isTypeSupported("video/mp4"),mpeg:Vg.isTypeSupported("audio/mpeg"),mp3:Vg.isTypeSupported('audio/mp4; codecs="mp3"')},w=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(u.workerPath||function fb(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{u.workerPath?(cn.log(`loading Web Worker ${u.workerPath} for "${e}"`),this.workerContext=function hb(r){const n=new self.URL(r,self.location.href).href;return{worker:new self.Worker(n),scriptURL:n}}(u.workerPath)):(cn.log(`injecting Web Worker for "${e}"`),this.workerContext=function Sg(){const r=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(r);return{worker:new self.Worker(n),objectURL:n}}()),this.onwmsg=ye=>this.onWorkerMessage(ye);const{worker:te}=this.workerContext;te.addEventListener("message",this.onwmsg),te.onerror=ye=>{const Ue=new Error(`${ye.message}  (${ye.filename}:${ye.lineno})`);u.enableWorker=!1,cn.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(Et.ERROR,{type:mi.OTHER_ERROR,details:En.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:Ue})},te.postMessage({cmd:"init",typeSupported:v,vendor:w,id:e,config:JSON.stringify(u)})}catch(te){cn.warn(`Error setting up "${e}" Web Worker, fallback to inline`,te),this.resetWorker(),this.error=null,this.transmuxer=new zD(this.observer,v,u,w,e)}else this.transmuxer=new zD(this.observer,v,u,w,e)}resetWorker(){if(this.workerContext){const{worker:n,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),n.removeEventListener("message",this.onwmsg),n.onerror=null,n.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const n=this.observer;n&&n.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(n,e,i,o,u,m,v,w,G,te){var ye,Ue;G.transmuxing.start=self.performance.now();const{transmuxer:Ge}=this,tt=m?m.start:u.start,ft=u.decryptdata,vt=this.frag,Lt=!(vt&&u.cc===vt.cc),qt=!(vt&&G.level===vt.level),zt=vt?G.sn-vt.sn:-1,un=this.part?G.part-this.part.index:-1,Sn=!qt&&(1===zt||0===zt&&(1===un||0===zt&&G.id>1&&G.id===vt?.stats.chunkCount&&un<=0)),mn=self.performance.now();(qt||zt||0===u.stats.parsing.start)&&(u.stats.parsing.start=mn),m&&(un||!Sn)&&(m.stats.parsing.start=mn);const Mn=!(vt&&(null==(ye=u.initSegment)?void 0:ye.url)===(null==(Ue=vt.initSegment)?void 0:Ue.url)),Vn=new CA(Lt,Sn,w,qt,tt,Mn);if(!Sn||Lt||Mn){cn.log(`[transmuxer-interface, ${u.type}]: Starting new transmux session for sn: ${G.sn} p: ${G.part} level: ${G.level} id: ${G.id}\n        discontinuity: ${Lt}\n        trackSwitch: ${qt}\n        contiguous: ${Sn}\n        accurateTimeOffset: ${w}\n        timeOffset: ${tt}\n        initSegmentChange: ${Mn}`);const pn=new ZD(i,o,e,v,te);this.configureTransmuxer(pn)}if(this.frag=u,this.part=m,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:n,decryptdata:ft,chunkMeta:G,state:Vn},n instanceof ArrayBuffer?[n]:[]);else if(Ge){const pn=Ge.push(n,ft,G,Vn);Ug(pn)?(Ge.async=!0,pn.then(Xn=>{this.handleTransmuxComplete(Xn)}).catch(Xn=>{this.transmuxerError(Xn,G,"transmuxer-interface push error")})):(Ge.async=!1,this.handleTransmuxComplete(pn))}}flush(n){n.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:n});else if(e){let i=e.flush(n);Ug(i)||e.async?(Ug(i)||(i=Promise.resolve(i)),i.then(u=>{this.handleFlushResult(u,n)}).catch(u=>{this.transmuxerError(u,n,"transmuxer-interface flush error")})):this.handleFlushResult(i,n)}}transmuxerError(n,e,i){this.hls&&(this.error=n,this.hls.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:n,err:n,reason:i}))}handleFlushResult(n,e){n.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(e)}onWorkerMessage(n){const e=n.data,i=this.hls;switch(e.event){case"init":{var o;const u=null==(o=this.workerContext)?void 0:o.objectURL;u&&self.URL.revokeObjectURL(u);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":cn[e.data.logType]&&cn[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data)}}configureTransmuxer(n){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:n}):e&&e.configure(n)}handleTransmuxComplete(n){n.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(n)}}class AA{constructor(n,e,i,o){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=n,this.media=e,this.fragmentTracker=i,this.hls=o}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(n,e){const{config:i,media:o,stalled:u}=this;if(null===o)return;const{currentTime:m,seeking:v}=o,w=this.seeking&&!v,G=!this.seeking&&v;if(this.seeking=v,m!==n){if(this.moved=!0,null!==u){if(this.stallReported){const Lt=self.performance.now()-u;cn.warn(`playback not stuck anymore @${m}, after ${Math.round(Lt)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(G||w)return void(this.stalled=null);if(o.paused&&!v||o.ended||0===o.playbackRate||!pr.getBuffered(o).length)return;const te=pr.bufferInfo(o,m,0),Ue=te.nextStart||0;if(!(te.len>0||Ue))return;if(v){const Lt=te.len>2,qt=!Ue||e&&e.start<=m||Ue-m>2&&!this.fragmentTracker.getPartialFragment(m);if(Lt||qt)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var Ge;const Lt=Math.max(Ue,te.start||0)-m,qt=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,un=(null==qt||null==(Ge=qt.details)?void 0:Ge.live)?2*qt.details.targetduration:2,ln=this.fragmentTracker.getPartialFragment(m);if(Lt>0&&(Lt<=un||ln))return void this._trySkipBufferHole(ln)}const tt=self.performance.now();if(null===u)return void(this.stalled=tt);const ft=tt-u;if(!v&&ft>=250&&(this._reportStall(te),!this.media))return;const vt=pr.bufferInfo(o,m,i.maxBufferHole);this._tryFixBufferStall(vt,ft)}_tryFixBufferStall(n,e){const{config:i,fragmentTracker:o,media:u}=this;if(null===u)return;const m=u.currentTime,v=o.getPartialFragment(m);v&&(this._trySkipBufferHole(v)||!this.media)||(n.len>i.maxBufferHole||n.nextStart&&n.nextStart-m<i.maxBufferHole)&&e>1e3*i.highBufferWatchdogPeriod&&(cn.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(n){const{hls:e,media:i,stallReported:o}=this;if(!o&&i){this.stallReported=!0;const u=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${JSON.stringify(n)})`);cn.warn(u.message),e.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_STALLED_ERROR,fatal:!1,error:u,buffer:n.len})}}_trySkipBufferHole(n){const{config:e,hls:i,media:o}=this;if(null===o)return 0;const u=o.currentTime,m=pr.bufferInfo(o,u,0),v=u<m.start?m.start:m.nextStart;if(v){const te=v-u;if(te>0&&(m.len<=e.maxBufferHole||m.len>0&&m.len<1&&o.readyState<3)){if(te>e.maxBufferHole){const{fragmentTracker:Ue}=this;let Ge=!1;if(0===u){const tt=Ue.getAppendedFrag(0,"main");tt&&v<tt.end&&(Ge=!0)}if(!Ge){const tt=n||Ue.getAppendedFrag(u,"main");if(tt){let ft=!1,vt=tt.end;for(;vt<v;){const Lt=Ue.getPartialFragment(vt);if(!Lt){ft=!0;break}vt+=Lt.duration}if(ft)return 0}}}const ye=Math.max(v+.05,u+.1);if(cn.warn(`skipping hole, adjusting currentTime from ${u} to ${ye}`),this.moved=!0,this.stalled=null,o.currentTime=ye,n&&!n.gap){const Ue=new Error(`fragment loaded with buffer holes, seeking from ${u} to ${ye}`);i.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:Ue,reason:Ue.message,frag:n})}return ye}}return 0}_tryNudgeBuffer(){const{config:n,hls:e,media:i,nudgeRetry:o}=this;if(null===i)return;const u=i.currentTime;if(this.nudgeRetry++,o<n.nudgeMaxRetry){const m=u+(o+1)*n.nudgeOffset,v=new Error(`Nudging 'currentTime' from ${u} to ${m}`);cn.warn(v.message),i.currentTime=m,e.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_NUDGE_ON_STALL,error:v,fatal:!1})}else{const m=new Error(`Playhead still not moving while enough data buffered @${u} after ${n.nudgeMaxRetry} nudges`);cn.error(m.message),e.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_STALLED_ERROR,error:m,fatal:!0})}}}class Wf extends ub{constructor(n,e,i){super(n,e,i,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Et.LEVEL_LOADING,this.onLevelLoading,this),n.on(Et.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Et.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.on(Et.ERROR,this.onError,this),n.on(Et.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(Et.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(Et.BUFFER_CREATED,this.onBufferCreated,this),n.on(Et.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(Et.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(Et.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Et.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Et.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.off(Et.ERROR,this.onError,this),n.off(Et.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(Et.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(Et.BUFFER_CREATED,this.onBufferCreated,this),n.off(Et.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(Et.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(Et.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(n){if(this.levels){const{lastCurrentTime:e,hls:i}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let o=i.startLevel;-1===o&&(i.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=i.nextAutoLevel),this.level=i.nextLoadLevel=o,this.loadedmetadata=!1}e>0&&-1===n&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),n=e),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var n;const{levels:i,level:o}=this,u=null==i||null==(n=i[o])?void 0:n.details;if(u&&(!u.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(u))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const i=self.performance.now(),o=this.retryDate;(!o||i>=o||null!=(e=this.media)&&e.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:n,levelLastLoaded:e,levels:i,media:o}=this,{config:u,nextLoadLevel:m}=n;if(null===e||!o&&(this.startFragRequested||!u.startFragPrefetch)||this.altAudio&&this.audioOnly||null==i||!i[m])return;const v=i[m],w=this.getMainFwdBufferInfo();if(null===w)return;const G=this.getLevelDetails();if(G&&this._streamEnded(w,G)){const vt={};return this.altAudio&&(vt.type="video"),this.hls.trigger(Et.BUFFER_EOS,vt),void(this.state="ENDED")}n.loadLevel!==m&&-1===n.manualLevel&&this.log(`Adapting to level ${m} from level ${this.level}`),this.level=n.nextLoadLevel=m;const te=v.details;if(!te||"WAITING_LEVEL"===this.state||te.live&&this.levelLastLoaded!==m)return this.level=m,void(this.state="WAITING_LEVEL");const ye=w.len,Ue=this.getMaxBufferLength(v.maxBitrate);if(ye>=Ue)return;this.backtrackFragment&&this.backtrackFragment.start>w.end&&(this.backtrackFragment=null);const Ge=this.backtrackFragment?this.backtrackFragment.start:w.end;let tt=this.getNextFragment(Ge,te);if(this.couldBacktrack&&!this.fragPrevious&&tt&&"initSegment"!==tt.sn&&"OK"!==this.fragmentTracker.getState(tt)){var ft;const Lt=(null!=(ft=this.backtrackFragment)?ft:tt).sn-te.startSN,qt=te.fragments[Lt-1];qt&&tt.cc===qt.cc&&(tt=qt,this.fragmentTracker.removeFragment(qt))}else this.backtrackFragment&&w.len&&(this.backtrackFragment=null);if(tt&&this.isLoopLoading(tt,Ge)){if(!tt.gap){const Lt=this.audioOnly&&!this.altAudio?"audio":"video",qt=("video"===Lt?this.videoBuffer:this.mediaBuffer)||this.media;qt&&this.afterBufferFlushed(qt,Lt,"main")}tt=this.getNextFragmentLoopLoading(tt,te,w,"main",Ue)}tt&&(tt.initSegment&&!tt.initSegment.data&&!this.bitrateTest&&(tt=tt.initSegment),this.loadFragment(tt,v,Ge))}loadFragment(n,e,i){const o=this.fragmentTracker.getState(n);this.fragCurrent=n,"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===n.sn?this._loadInitSegment(n,e):this.bitrateTest?(this.log(`Fragment ${n.sn} of level ${n.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(n,e)):(this.startFragRequested=!0,super.loadFragment(n,e,i)):this.clearTrackerIfNeeded(n)}getBufferedFrag(n){return this.fragmentTracker.getBufferedFrag(n,"main")}followingBufferedFrag(n){return n?this.getBufferedFrag(n.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:n,media:e}=this;if(null!=e&&e.readyState){let i;const o=this.getAppendedFrag(e.currentTime);o&&o.start>1&&this.flushMainBuffer(0,o.start-1);const u=this.getLevelDetails();if(null!=u&&u.live){const v=this.getMainFwdBufferInfo();if(!v||v.len<2*u.targetduration)return}if(!e.paused&&n){const G=this.fragLastKbps;i=G&&this.fragCurrent?this.fragCurrent.duration*n[this.hls.nextLoadLevel].maxBitrate/(1e3*G)+1:0}else i=0;const m=this.getBufferedFrag(e.currentTime+i);if(m){const v=this.followingBufferedFrag(m);if(v){this.abortCurrentFrag();const G=v.duration,te=Math.max(m.end,(v.maxStartPTS?v.maxStartPTS:v.start)+Math.min(Math.max(G-this.config.maxFragLookUpTolerance,.5*G),.75*G));this.flushMainBuffer(te,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const n=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,n&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(n,e){super.flushMainBuffer(n,e,this.altAudio?"video":null)}onMediaAttached(n,e){super.onMediaAttached(n,e);const i=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new AA(this.config,i,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:n}=this;n&&this.onvplaying&&this.onvseeked&&(n.removeEventListener("playing",this.onvplaying),n.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const n=this.media,e=n?n.currentTime:null;di(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const i=this.getMainFwdBufferInfo();null!==i&&0!==i.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${i?i.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Et.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(n,e){let u,i=!1,o=!1;e.levels.forEach(m=>{u=m.audioCodec,u&&(-1!==u.indexOf("mp4a.40.2")&&(i=!0),-1!==u.indexOf("mp4a.40.5")&&(o=!0))}),this.audioCodecSwitch=i&&o&&!function bA(){var r;const n=LD();return"function"==typeof(null==n||null==(r=n.prototype)?void 0:r.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(n,e){const{levels:i}=this;if(!i||"IDLE"!==this.state)return;const o=i[e.level];(!o.details||o.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(o.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(n,e){var i;const{levels:o}=this,u=e.level,m=e.details,v=m.totalduration;if(!o)return void this.warn(`Levels were reset while loading level ${u}`);this.log(`Level ${u} loaded [${m.startSN},${m.endSN}]${m.lastPartSn?`[part-${m.lastPartSn}-${m.lastPartIndex}]`:""}, cc [${m.startCC}, ${m.endCC}] duration:${v}`);const w=o[u],G=this.fragCurrent;G&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(G.level!==e.level||G.urlId!==w.urlId)&&G.loader&&this.abortCurrentFrag();let te=0;if(m.live||null!=(i=w.details)&&i.live){if(m.fragments[0]||(m.deltaUpdateFailed=!0),m.deltaUpdateFailed)return;te=this.alignPlaylists(m,w.details)}if(w.details=m,this.levelLastLoaded=u,this.hls.trigger(Et.LEVEL_UPDATED,{details:m,level:u}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(m))return;this.state="IDLE"}this.startFragRequested?m.live&&this.synchronizeToLiveEdge(m):this.setStartPosition(m,te),this.tick()}_handleFragmentLoadProgress(n){var e;const{frag:i,part:o,payload:u}=n,{levels:m}=this;if(!m)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const v=m[i.level],w=v.details;if(!w)return this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),void this.fragmentTracker.removeFragment(i);const G=v.videoCodec,te=w.PTSKnown||!w.live,ye=null==(e=i.initSegment)?void 0:e.data,Ue=this._getAudioCodec(v),Ge=this.transmuxer=this.transmuxer||new Ib(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),tt=o?o.index:-1,vt=new Uf(i.level,i.sn,i.stats.chunkCount,u.byteLength,tt,-1!==tt);Ge.push(u,ye,Ue,G,i,o,w.totalduration,te,vt,this.initPTS[i.cc])}onAudioTrackSwitching(n,e){const i=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const m=this.fragCurrent;m&&(this.log("Switching to main audio track, cancel main fragment load"),m.abortRequests(),this.fragmentTracker.removeFragment(m)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const u=this.hls;i&&(u.trigger(Et.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),u.trigger(Et.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(n,e){const o=!!this.hls.audioTracks[e.id].url;if(o){const u=this.videoBuffer;u&&this.mediaBuffer!==u&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=u)}this.altAudio=o,this.tick()}onBufferCreated(n,e){const i=e.tracks;let o,u,m=!1;for(const v in i){const w=i[v];if("main"===w.id){if(u=v,o=w,"video"===v){const G=i[v];G&&(this.videoBuffer=G.buffer)}}else m=!0}m&&o?(this.log(`Alternate track found, use ${u}.buffered to schedule main fragment loading`),this.mediaBuffer=o.buffer):this.mediaBuffer=this.media}onFragBuffered(n,e){const{frag:i,part:o}=e;if(i&&"main"!==i.type)return;if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const u=o?o.stats:i.stats;this.fragLastKbps=Math.round(8*u.total/(u.buffering.end-u.loading.first)),"initSegment"!==i.sn&&(this.fragPrevious=i),this.fragBufferedComplete(i,o)}onError(n,e){var i;if(e.fatal)this.state="ERROR";else switch(e.details){case En.FRAG_GAP:case En.FRAG_PARSING_ERROR:case En.FRAG_DECRYPT_ERROR:case En.FRAG_LOAD_ERROR:case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_ERROR:case En.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",e);break;case En.LEVEL_LOAD_ERROR:case En.LEVEL_LOAD_TIMEOUT:case En.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(i=e.context)?void 0:i.type)&&(this.state="IDLE");break;case En.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case En.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:n,gapController:e}=this;n&&e&&n.readyState&&(!this.loadedmetadata&&pr.getBuffered(n).length||e.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=n.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(n,{type:e}){("audio"!==e||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===e?this.videoBuffer:this.mediaBuffer)||this.media,e,"main")}onLevelsUpdated(n,e){this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:n}=this;if(!n)return;const e=n.currentTime;let i=this.startPosition;if(i>=0&&e<i){if(n.seeking)return void this.log(`could not seek to ${i}, already seeking at ${e}`);const o=pr.getBuffered(n),m=(o.length?o.start(0):0)-i;m>0&&(m<this.config.maxBufferHole||m<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${m} to match buffer start`),i+=m,this.startPosition=i),this.log(`seek to target start position ${i} from current time ${e}`),n.currentTime=i}}_getAudioCodec(n){let e=this.config.defaultAudioCodec||n.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(n,e){n.bitrateTest=!0,this._doFragLoad(n,e).then(i=>{const{hls:o}=this;if(!i||this.fragContextChanged(n))return;e.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const u=n.stats;u.parsing.start=u.parsing.end=u.buffering.start=u.buffering.end=self.performance.now(),o.trigger(Et.FRAG_LOADED,i),n.bitrateTest=!1})}_handleTransmuxComplete(n){var e;const i="main",{hls:o}=this,{remuxResult:u,chunkMeta:m}=n,v=this.getCurrentContext(m);if(!v)return void this.resetWhenMissingContext(m);const{frag:w,part:G,level:te}=v,{video:ye,text:Ue,id3:Ge,initSegment:tt}=u,{details:ft}=te,vt=this.altAudio?void 0:u.audio;if(this.fragContextChanged(w))this.fragmentTracker.removeFragment(w);else{if(this.state="PARSING",tt){if(null!=tt&&tt.tracks){const zt=w.initSegment||w;this._bufferInitSegment(te,tt.tracks,zt,m),o.trigger(Et.FRAG_PARSING_INIT_SEGMENT,{frag:zt,id:i,tracks:tt.tracks})}const Lt=tt.initPTS,qt=tt.timescale;di(Lt)&&(this.initPTS[w.cc]={baseTime:Lt,timescale:qt},o.trigger(Et.INIT_PTS_FOUND,{frag:w,id:i,initPTS:Lt,timescale:qt}))}if(ye&&ft&&"initSegment"!==w.sn){const Lt=ft.fragments[w.sn-1-ft.startSN],qt=w.sn===ft.startSN,zt=!Lt||w.cc>Lt.cc;if(!1!==u.independent){const{startPTS:un,endPTS:ln,startDTS:Sn,endDTS:mn}=ye;if(G)G.elementaryStreams[ye.type]={startPTS:un,endPTS:ln,startDTS:Sn,endDTS:mn};else if(ye.firstKeyFrame&&ye.independent&&1===m.id&&!zt&&(this.couldBacktrack=!0),ye.dropped&&ye.independent){const Mn=this.getMainFwdBufferInfo(),Vn=(Mn?Mn.end:this.getLoadPosition())+this.config.maxBufferHole;if(!qt&&Vn<(ye.firstKeyFramePTS?ye.firstKeyFramePTS:un)-this.config.maxBufferHole&&!zt)return void this.backtrack(w);zt&&(w.gap=!0),w.setElementaryStreamInfo(ye.type,w.start,ln,w.start,mn,!0)}w.setElementaryStreamInfo(ye.type,un,ln,Sn,mn),this.backtrackFragment&&(this.backtrackFragment=w),this.bufferFragmentData(ye,w,G,m,qt||zt)}else{if(!qt&&!zt)return void this.backtrack(w);w.gap=!0}}if(vt){const{startPTS:Lt,endPTS:qt,startDTS:zt,endDTS:un}=vt;G&&(G.elementaryStreams.audio={startPTS:Lt,endPTS:qt,startDTS:zt,endDTS:un}),w.setElementaryStreamInfo("audio",Lt,qt,zt,un),this.bufferFragmentData(vt,w,G,m)}ft&&null!=Ge&&null!=(e=Ge.samples)&&e.length&&o.trigger(Et.FRAG_PARSING_METADATA,{id:i,frag:w,details:ft,samples:Ge.samples}),ft&&Ue&&o.trigger(Et.FRAG_PARSING_USERDATA,{id:i,frag:w,details:ft,samples:Ue.samples})}}_bufferInitSegment(n,e,i,o){if("PARSING"!==this.state)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:u,video:m,audiovideo:v}=e;if(u){let w=n.audioCodec;const G=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(w&&(w=-1!==w.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==u.metadata.channelCount&&-1===G.indexOf("firefox")&&(w="mp4a.40.5")),-1!==G.indexOf("android")&&"audio/mpeg"!==u.container&&(w="mp4a.40.2",this.log(`Android: force audio codec to ${w}`)),n.audioCodec&&n.audioCodec!==w&&this.log(`Swapping manifest audio codec "${n.audioCodec}" for "${w}"`),u.levelCodec=w,u.id="main",this.log(`Init audio buffer, container:${u.container}, codecs[selected/level/parsed]=[${w||""}/${n.audioCodec||""}/${u.codec}]`)}m&&(m.levelCodec=n.videoCodec,m.id="main",this.log(`Init video buffer, container:${m.container}, codecs[level/parsed]=[${n.videoCodec||""}/${m.codec}]`)),v&&this.log(`Init audiovideo buffer, container:${v.container}, codecs[level/parsed]=[${n.attrs.CODECS||""}/${v.codec}]`),this.hls.trigger(Et.BUFFER_CODECS,e),Object.keys(e).forEach(w=>{const te=e[w].initSegment;null!=te&&te.byteLength&&this.hls.trigger(Et.BUFFER_APPENDING,{type:w,data:te,frag:i,part:null,chunkMeta:o,parent:i.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(n){this.couldBacktrack=!0,this.backtrackFragment=n,this.resetTransmuxer(),this.flushBufferGap(n),this.fragmentTracker.removeFragment(n),this.fragPrevious=null,this.nextLoadPosition=n.start,this.state="IDLE"}checkFragmentChanged(){const n=this.media;let e=null;if(n&&n.readyState>1&&!1===n.seeking){const i=n.currentTime;if(pr.isBuffered(n,i)?e=this.getAppendedFrag(i):pr.isBuffered(n,i+.1)&&(e=this.getAppendedFrag(i+.1)),e){this.backtrackFragment=null;const o=this.fragPlaying,u=e.level;(!o||e.sn!==o.sn||o.level!==u||e.urlId!==o.urlId)&&(this.fragPlaying=e,this.hls.trigger(Et.FRAG_CHANGED,{frag:e}),(!o||o.level!==u)&&this.hls.trigger(Et.LEVEL_SWITCHED,{level:u}))}}}get nextLevel(){const n=this.nextBufferedFrag;return n?n.level:-1}get currentFrag(){const n=this.media;return n?this.fragPlaying||this.getAppendedFrag(n.currentTime):null}get currentProgramDateTime(){const n=this.media;if(n){const e=n.currentTime,i=this.currentFrag;if(i&&di(e)&&di(i.programDateTime))return new Date(i.programDateTime+1e3*(e-i.start))}return null}get currentLevel(){const n=this.currentFrag;return n?n.level:-1}get nextBufferedFrag(){const n=this.currentFrag;return n?this.followingBufferedFrag(n):null}get forceStartLoad(){return this._forceStartLoad}}class Ec{constructor(n,e=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=n,this.alpha_=n?Math.exp(Math.log(.5)/n):0,this.estimate_=e,this.totalWeight_=i}sample(n,e){const i=Math.pow(this.alpha_,n);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=n}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const n=1-Math.pow(this.alpha_,this.totalWeight_);if(n)return this.estimate_/n}return this.estimate_}}class JD{constructor(n,e,i,o=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ec(n),this.fast_=new Ec(e),this.defaultTTFB_=o,this.ttfb_=new Ec(n)}update(n,e){const{slow_:i,fast_:o,ttfb_:u}=this;i.halfLife!==n&&(this.slow_=new Ec(n,i.getEstimate(),i.getTotalWeight())),o.halfLife!==e&&(this.fast_=new Ec(e,o.getEstimate(),o.getTotalWeight())),u.halfLife!==n&&(this.ttfb_=new Ec(n,u.getEstimate(),u.getTotalWeight()))}sample(n,e){const o=(n=Math.max(n,this.minDelayMs_))/1e3,u=8*e/o;this.fast_.sample(o,u),this.slow_.sample(o,u)}sampleTTFB(n){const e=n/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(i,Math.max(n,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class ka{constructor(){this.chunks=[],this.dataLength=0}push(n){this.chunks.push(n),this.dataLength+=n.length}flush(){const{chunks:n,dataLength:e}=this;let i;return n.length?(i=1===n.length?n[0]:function Rb(r,n){const e=new Uint8Array(n);let i=0;for(let o=0;o<r.length;o++){const u=r[o];e.set(u,i),i+=u.length}return e}(n,e),this.reset(),i):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Zf(r,n){if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++)if(!Hg(r[e].attrs,n[e].attrs))return!1;return!0}function Hg(r,n){const e=r["STABLE-RENDITION-ID"];return e?e===n["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(i=>r[i]!==n[i])}class IA{constructor(n){this.buffered=void 0;const e=(i,o,u)=>{if((o>>>=0)>u-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${o}) is greater than the maximum bound (${u})`);return n[o][i]};this.buffered={get length(){return n.length},end:i=>e("end",i,n.length),start:i=>e("start",i,n.length)}}}function $f(r){const n=[];for(let e=0;e<r.length;e++){const i=r[e];("subtitles"===i.kind||"captions"===i.kind)&&i.label&&n.push(r[e])}return n}class XD{constructor(n){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=n}append(n,e){const i=this.queues[e];i.push(n),1===i.length&&this.buffers[e]&&this.executeNext(e)}insertAbort(n,e){this.queues[e].unshift(n),this.executeNext(e)}appendBlocker(n){let e;const i=new Promise(u=>{e=u});return this.append({execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}},n),i}executeNext(n){const{buffers:e,queues:i}=this,o=e[n],u=i[n];if(u.length){const m=u[0];try{m.execute()}catch(v){cn.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),m.onError(v),null!=o&&o.updating||(u.shift(),this.executeNext(n))}}}shiftAndExecuteNext(n){this.queues[n].shift(),this.executeNext(n)}current(n){return this.queues[n][0]}}const Nb=pc(),Lb=/([ha]vc.)(?:\.[^.,]+)+/,Yg={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Kg=function(n){let e=n;return Yg.hasOwnProperty(n)&&(e=Yg[n]),String.fromCharCode(e)},ga=100,tx={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},kb={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Wg={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},PA={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Fb=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class zg{constructor(){this.time=null,this.verboseLevel=0}log(n,e){if(this.verboseLevel>=n){const i="function"==typeof e?e():e;cn.log(`${this.time} [${n}] ${i}`)}}}const hl=function(n){const e=[];for(let i=0;i<n.length;i++)e.push(n[i].toString(16));return e};class Bb{constructor(n,e,i,o,u){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=n||"white",this.underline=e||!1,this.italics=i||!1,this.background=o||"black",this.flash=u||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(n){const e=["foreground","underline","italics","background","flash"];for(let i=0;i<e.length;i++){const o=e[i];n.hasOwnProperty(o)&&(this[o]=n[o])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(n){return this.foreground===n.foreground&&this.underline===n.underline&&this.italics===n.italics&&this.background===n.background&&this.flash===n.flash}copy(n){this.foreground=n.foreground,this.underline=n.underline,this.italics=n.italics,this.background=n.background,this.flash=n.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class RA{constructor(n,e,i,o,u,m){this.uchar=void 0,this.penState=void 0,this.uchar=n||" ",this.penState=new Bb(e,i,o,u,m)}reset(){this.uchar=" ",this.penState.reset()}setChar(n,e){this.uchar=n,this.penState.copy(e)}setPenState(n){this.penState.copy(n)}equals(n){return this.uchar===n.uchar&&this.penState.equals(n.penState)}copy(n){this.uchar=n.uchar,this.penState.copy(n.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class NA{constructor(n){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let e=0;e<ga;e++)this.chars.push(new RA);this.logger=n,this.pos=0,this.currPenState=new Bb}equals(n){let e=!0;for(let i=0;i<ga;i++)if(!this.chars[i].equals(n.chars[i])){e=!1;break}return e}copy(n){for(let e=0;e<ga;e++)this.chars[e].copy(n.chars[e])}isEmpty(){let n=!0;for(let e=0;e<ga;e++)if(!this.chars[e].isEmpty()){n=!1;break}return n}setCursor(n){this.pos!==n&&(this.pos=n),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>ga&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=ga)}moveCursor(n){const e=this.pos+n;if(n>1)for(let i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(n){n>=144&&this.backSpace();const e=Kg(n);this.pos>=ga?this.logger.log(0,()=>"Cannot insert "+n.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(n){let e;for(e=n;e<ga;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const n=[];let e=!0;for(let i=0;i<ga;i++){const o=this.chars[i].uchar;" "!==o&&(e=!1),n.push(o)}return e?"":n.join("")}setPenStyles(n){this.currPenState.setStyles(n),this.chars[this.pos].setPenState(this.currPenState)}}class Zg{constructor(n){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let e=0;e<15;e++)this.rows.push(new NA(n));this.logger=n,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let n=0;n<15;n++)this.rows[n].clear();this.currRow=14}equals(n){let e=!0;for(let i=0;i<15;i++)if(!this.rows[i].equals(n.rows[i])){e=!1;break}return e}copy(n){for(let e=0;e<15;e++)this.rows[e].copy(n.rows[e])}isEmpty(){let n=!0;for(let e=0;e<15;e++)if(!this.rows[e].isEmpty()){n=!1;break}return n}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(n){this.rows[this.currRow].insertChar(n)}setPen(n){this.rows[this.currRow].setPenStyles(n)}moveCursor(n){this.rows[this.currRow].moveCursor(n)}setCursor(n){this.logger.log(2,"setCursor: "+n),this.rows[this.currRow].setCursor(n)}setPAC(n){this.logger.log(2,()=>"pacData = "+JSON.stringify(n));let e=n.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let v=0;v<15;v++)this.rows[v].clear();const u=this.currRow+1-this.nrRollUpRows,m=this.lastOutputScreen;if(m){const v=m.rows[u].cueStartTime,w=this.logger.time;if(v&&null!==w&&v<w)for(let G=0;G<this.nrRollUpRows;G++)this.rows[e-this.nrRollUpRows+G+1].copy(m.rows[u+G])}}this.currRow=e;const i=this.rows[this.currRow];if(null!==n.indent){const m=Math.max(n.indent-1,0);i.setCursor(n.indent),n.color=i.chars[m].penState.foreground}this.setPen({foreground:n.color,underline:n.underline,italics:n.italics,background:"black",flash:!1})}setBkgData(n){this.logger.log(2,()=>"bkgData = "+JSON.stringify(n)),this.backSpace(),this.setPen(n),this.insertChar(32)}setRollUpRows(n){this.nrRollUpRows=n}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const e=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(n){n=n||!1;const e=[];let i="",o=-1;for(let u=0;u<15;u++){const m=this.rows[u].getTextString();m&&(o=u+1,e.push(n?"Row "+o+": '"+m+"'":m.trim()))}return e.length>0&&(i=n?"["+e.join(" | ")+"]":e.join("\n")),i}getTextAndFormat(){return this.rows}}class Ub{constructor(n,e,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=n,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Zg(i),this.nonDisplayedMemory=new Zg(i),this.lastOutputScreen=new Zg(i),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(n){this.outputFilter=n}setPAC(n){this.writeScreen.setPAC(n)}setBkgData(n){this.writeScreen.setBkgData(n)}setMode(n){n!==this.mode&&(this.mode=n,this.logger.log(2,()=>"MODE="+n),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=n)}insertChars(n){for(let i=0;i<n.length;i++)this.writeScreen.insertChar(n[i]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>e+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(n){this.logger.log(2,"RU("+n+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(n)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const n=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=n,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(n){this.logger.log(2,"TO("+n+") - Tab Offset"),this.writeScreen.moveCursor(n)}ccMIDROW(n){const e={flash:!1};if(e.underline=n%2==1,e.italics=n>=46,e.italics)e.foreground="white";else{const i=Math.floor(n/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(n=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),n&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(n){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,n,this.displayedMemory),this.cueStartTime=n))}}class jb{constructor(n,e,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const o=new zg;this.channels=[null,new Ub(n,e,o),new Ub(n+1,i,o)],this.cmdHistory={a:null,b:null},this.logger=o}getHandler(n){return this.channels[n].getHandler()}setHandler(n,e){this.channels[n].setHandler(e)}addData(n,e){let i,o,u,m=!1;this.logger.time=n;for(let v=0;v<e.length;v+=2)if(o=127&e[v],u=127&e[v+1],0!==o||0!==u){if(this.logger.log(3,"["+hl([e[v],e[v+1]])+"] -> ("+hl([o,u])+")"),i=this.parseCmd(o,u),i||(i=this.parseMidrow(o,u)),i||(i=this.parsePAC(o,u)),i||(i=this.parseBackgroundAttributes(o,u)),!i&&(m=this.parseChars(o,u),m)){const w=this.currentChannel;w&&w>0?this.channels[w].insertChars(m):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!i&&!m&&this.logger.log(2,"Couldn't parse cleaned data "+hl([o,u])+" orig: "+hl([e[v],e[v+1]]))}}parseCmd(n,e){const{cmdHistory:i}=this;if(!((20===n||28===n||21===n||29===n)&&e>=32&&e<=47||(23===n||31===n)&&e>=33&&e<=35))return!1;if($g(n,e,i))return Tc(null,null,i),this.logger.log(3,"Repeated command ("+hl([n,e])+") is dropped"),!0;const m=20===n||21===n||23===n?1:2,v=this.channels[m];return 20===n||21===n||28===n||29===n?32===e?v.ccRCL():33===e?v.ccBS():34===e?v.ccAOF():35===e?v.ccAON():36===e?v.ccDER():37===e?v.ccRU(2):38===e?v.ccRU(3):39===e?v.ccRU(4):40===e?v.ccFON():41===e?v.ccRDC():42===e?v.ccTR():43===e?v.ccRTD():44===e?v.ccEDM():45===e?v.ccCR():46===e?v.ccENM():47===e&&v.ccEOC():v.ccTO(e-32),Tc(n,e,i),this.currentChannel=m,!0}parseMidrow(n,e){let i=0;if((17===n||25===n)&&e>=32&&e<=47){if(i=17===n?1:2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const o=this.channels[i];return!!o&&(o.ccMIDROW(e),this.logger.log(3,"MIDROW ("+hl([n,e])+")"),!0)}return!1}parsePAC(n,e){let i;const o=this.cmdHistory;if(!((n>=17&&n<=23||n>=25&&n<=31)&&e>=64&&e<=127||(16===n||24===n)&&e>=64&&e<=95))return!1;if($g(n,e,o))return Tc(null,null,o),!0;const v=n<=23?1:2;i=e>=64&&e<=95?1===v?tx[n]:Wg[n]:1===v?kb[n]:PA[n];const w=this.channels[v];return!!w&&(w.setPAC(this.interpretPAC(i,e)),Tc(n,e,o),this.currentChannel=v,!0)}interpretPAC(n,e){let i;const o={color:null,italics:!1,indent:null,underline:!1,row:n};return i=e>95?e-96:e-64,o.underline=1==(1&i),i<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(o.italics=!0,o.color="white"):o.indent=4*Math.floor((i-16)/2),o}parseChars(n,e){let i,o=null,u=null;if(n>=25?(i=2,u=n-8):(i=1,u=n),u>=17&&u<=19){let m;m=17===u?e+80:18===u?e+112:e+144,this.logger.log(2,"Special char '"+Kg(m)+"' in channel "+i),o=[m]}else n>=32&&n<=127&&(o=0===e?[n]:[n,e]);if(o){const m=hl(o);this.logger.log(3,"Char codes =  "+m.join(",")),Tc(n,e,this.cmdHistory)}return o}parseBackgroundAttributes(n,e){if(!((16===n||24===n)&&e>=32&&e<=47||(23===n||31===n)&&e>=45&&e<=47))return!1;let u;const m={};return 16===n||24===n?(u=Math.floor((e-32)/2),m.background=Fb[u],e%2==1&&(m.background=m.background+"_semi")):45===e?m.background="transparent":(m.foreground="black",47===e&&(m.underline=!0)),this.channels[n<=23?1:2].setBkgData(m),Tc(n,e,this.cmdHistory),!0}reset(){for(let n=0;n<Object.keys(this.channels).length;n++){const e=this.channels[n];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(n){for(let e=0;e<this.channels.length;e++){const i=this.channels[e];i&&i.cueSplitAtTime(n)}}}function Tc(r,n,e){e.a=r,e.b=n}function $g(r,n,e){return e.a===r&&e.b===n}class Jg{constructor(n,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=n,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(n,e,i){(null===this.startTime||this.startTime>n)&&(this.startTime=n),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Qg=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const r=["","lr","rl"],n=["start","middle","end","left","right"];function e(v,w){if("string"!=typeof w||!Array.isArray(v))return!1;const G=w.toLowerCase();return!!~v.indexOf(G)&&G}function o(v){return e(n,v)}function u(v,...w){let G=1;for(;G<arguments.length;G++){const te=arguments[G];for(const ye in te)v[ye]=te[ye]}return v}function m(v,w,G){const te=this,ye={enumerable:!0};te.hasBeenReset=!1;let Ue="",Ge=!1,tt=v,ft=w,vt=G,Lt=null,qt="",zt=!0,un="auto",ln="start",Sn=50,mn="middle",Mn=50,Vn="middle";Object.defineProperty(te,"id",u({},ye,{get:function(){return Ue},set:function(pn){Ue=""+pn}})),Object.defineProperty(te,"pauseOnExit",u({},ye,{get:function(){return Ge},set:function(pn){Ge=!!pn}})),Object.defineProperty(te,"startTime",u({},ye,{get:function(){return tt},set:function(pn){if("number"!=typeof pn)throw new TypeError("Start time must be set to a number.");tt=pn,this.hasBeenReset=!0}})),Object.defineProperty(te,"endTime",u({},ye,{get:function(){return ft},set:function(pn){if("number"!=typeof pn)throw new TypeError("End time must be set to a number.");ft=pn,this.hasBeenReset=!0}})),Object.defineProperty(te,"text",u({},ye,{get:function(){return vt},set:function(pn){vt=""+pn,this.hasBeenReset=!0}})),Object.defineProperty(te,"region",u({},ye,{get:function(){return Lt},set:function(pn){Lt=pn,this.hasBeenReset=!0}})),Object.defineProperty(te,"vertical",u({},ye,{get:function(){return qt},set:function(pn){const Xn=function i(v){return e(r,v)}(pn);if(!1===Xn)throw new SyntaxError("An invalid or illegal string was specified.");qt=Xn,this.hasBeenReset=!0}})),Object.defineProperty(te,"snapToLines",u({},ye,{get:function(){return zt},set:function(pn){zt=!!pn,this.hasBeenReset=!0}})),Object.defineProperty(te,"line",u({},ye,{get:function(){return un},set:function(pn){if("number"!=typeof pn&&"auto"!==pn)throw new SyntaxError("An invalid number or illegal string was specified.");un=pn,this.hasBeenReset=!0}})),Object.defineProperty(te,"lineAlign",u({},ye,{get:function(){return ln},set:function(pn){const Xn=o(pn);if(!Xn)throw new SyntaxError("An invalid or illegal string was specified.");ln=Xn,this.hasBeenReset=!0}})),Object.defineProperty(te,"position",u({},ye,{get:function(){return Sn},set:function(pn){if(pn<0||pn>100)throw new Error("Position must be between 0 and 100.");Sn=pn,this.hasBeenReset=!0}})),Object.defineProperty(te,"positionAlign",u({},ye,{get:function(){return mn},set:function(pn){const Xn=o(pn);if(!Xn)throw new SyntaxError("An invalid or illegal string was specified.");mn=Xn,this.hasBeenReset=!0}})),Object.defineProperty(te,"size",u({},ye,{get:function(){return Mn},set:function(pn){if(pn<0||pn>100)throw new Error("Size must be between 0 and 100.");Mn=pn,this.hasBeenReset=!0}})),Object.defineProperty(te,"align",u({},ye,{get:function(){return Vn},set:function(pn){const Xn=o(pn);if(!Xn)throw new SyntaxError("An invalid or illegal string was specified.");Vn=Xn,this.hasBeenReset=!0}})),te.displayState=void 0}return m.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},m}();class Xg{decode(n,e){if(!n)return"";if("string"!=typeof n)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}function ep(r){function n(i,o,u,m){return 3600*(0|i)+60*(0|o)+(0|u)+parseFloat(m||0)}const e=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return e?parseFloat(e[2])>59?n(e[2],e[3],0,e[4]):n(e[1],e[2],e[3],e[4]):null}class Vb{constructor(){this.values=Object.create(null)}set(n,e){!this.get(n)&&""!==e&&(this.values[n]=e)}get(n,e,i){return i?this.has(n)?this.values[n]:e[i]:this.has(n)?this.values[n]:e}has(n){return n in this.values}alt(n,e,i){for(let o=0;o<i.length;++o)if(e===i[o]){this.set(n,e);break}}integer(n,e){/^-?\d+$/.test(e)&&this.set(n,parseInt(e,10))}percent(n,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const i=parseFloat(e);if(i>=0&&i<=100)return this.set(n,i),!0}return!1}}function Gb(r,n,e,i){const o=i?r.split(i):[r];for(const u in o){if("string"!=typeof o[u])continue;const m=o[u].split(e);2===m.length&&n(m[0],m[1])}}const Gd=new Qg(0,0,""),qf="middle"===Gd.align?"middle":"center";function nx(r,n,e){const i=r;function o(){const v=ep(r);if(null===v)throw new Error("Malformed timestamp: "+i);return r=r.replace(/^[^\sa-zA-Z-]+/,""),v}function m(){r=r.replace(/^\s+/,"")}if(m(),n.startTime=o(),m(),"--\x3e"!==r.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);r=r.slice(3),m(),n.endTime=o(),m(),function u(v,w){const G=new Vb;Gb(v,function(Ue,Ge){let tt;switch(Ue){case"region":for(let ft=e.length-1;ft>=0;ft--)if(e[ft].id===Ge){G.set(Ue,e[ft].region);break}break;case"vertical":G.alt(Ue,Ge,["rl","lr"]);break;case"line":tt=Ge.split(","),G.integer(Ue,tt[0]),G.percent(Ue,tt[0])&&G.set("snapToLines",!1),G.alt(Ue,tt[0],["auto"]),2===tt.length&&G.alt("lineAlign",tt[1],["start",qf,"end"]);break;case"position":tt=Ge.split(","),G.percent(Ue,tt[0]),2===tt.length&&G.alt("positionAlign",tt[1],["start",qf,"end","line-left","line-right","auto"]);break;case"size":G.percent(Ue,Ge);break;case"align":G.alt(Ue,Ge,["start",qf,"end","left","right"])}},/:/,/\s/),w.region=G.get("region",null),w.vertical=G.get("vertical","");let te=G.get("line","auto");"auto"===te&&-1===Gd.line&&(te=-1),w.line=te,w.lineAlign=G.get("lineAlign","start"),w.snapToLines=G.get("snapToLines",!0),w.size=G.get("size",100),w.align=G.get("align",qf);let ye=G.get("position","auto");"auto"===ye&&50===Gd.position&&(ye="start"===w.align||"left"===w.align?0:"end"===w.align||"right"===w.align?100:50),w.position=ye}(r,n)}function tp(r){return r.replace(/<br(?: \/)?>/gi,"\n")}class Hb{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Xg,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(n){const e=this;function i(){let u=e.buffer,m=0;for(u=tp(u);m<u.length&&"\r"!==u[m]&&"\n"!==u[m];)++m;const v=u.slice(0,m);return"\r"===u[m]&&++m,"\n"===u[m]&&++m,e.buffer=u.slice(m),v}function o(u){Gb(u,function(m,v){},/:/)}n&&(e.buffer+=e.decoder.decode(n,{stream:!0}));try{let u="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;u=i();const v=u.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==v||!v[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let m=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(m?m=!1:u=i(),e.state){case"HEADER":/:/.test(u)?o(u):u||(e.state="ID");continue;case"NOTE":u||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){e.state="NOTE";break}if(!u)continue;if(e.cue=new Qg(0,0,""),e.state="CUE",-1===u.indexOf("--\x3e")){e.cue.id=u;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{nx(u,e.cue,e.regionList)}catch{e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const v=-1!==u.indexOf("--\x3e");if(!u||v&&(m=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=u}continue;case"BADCUE":u||(e.state="ID")}}}catch{"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const n=this;try{if((n.cue||"HEADER"===n.state)&&(n.buffer+="\n\n",n.parse()),"INITIAL"===n.state||"BADWEBVTT"===n.state)throw new Error("Malformed WebVTT signature.")}catch(e){n.onparsingerror&&n.onparsingerror(e)}return n.onflush&&n.onflush(),this}}const LA=/\r\n|\n\r|\n|\r/g,np=function(n,e,i=0){return n.slice(i,i+e.length)===e},Yb=function(n){let e=5381,i=n.length;for(;i;)e=33*e^n.charCodeAt(--i);return(e>>>0).toString()};function ip(r,n,e){return Yb(r.toString())+Yb(n.toString())+Yb(e)}const rp="stpp.ttml.im1t",ix=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,rx=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,BA={left:"start",center:"center",right:"end",start:"start",end:"end"};function ox(r,n,e,i){const o=Yi(new Uint8Array(r),["mdat"]);if(0===o.length)return void i(new Error("Could not parse IMSC1 mdat"));const u=o.map(v=>Ms(v)),m=function KD(r,n,e=1,i=!1){return Pg(r,n,1/e,i)}(n.baseTime,1,n.timescale);try{u.forEach(v=>e(function UA(r,n){const o=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const u={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},m=Object.keys(u).reduce((ye,Ue)=>(ye[Ue]=o.getAttribute(`ttp:${Ue}`)||u[Ue],ye),{}),v="preserve"!==o.getAttribute("xml:space"),w=sx(op(o,"styling","style")),G=sx(op(o,"layout","region")),te=op(o,"body","[begin]");return[].map.call(te,ye=>{const Ue=ax(ye,v);if(!Ue||!ye.hasAttribute("begin"))return null;const Ge=sp(ye.getAttribute("begin"),m),tt=sp(ye.getAttribute("dur"),m);let ft=sp(ye.getAttribute("end"),m);if(null===Ge)throw Wb(ye);if(null===ft){if(null===tt)throw Wb(ye);ft=Ge+tt}const vt=new Qg(Ge-n,ft-n,Ue);vt.id=ip(vt.startTime,vt.endTime,vt.text);const zt=function jA(r,n,e){const i="http://www.w3.org/ns/ttml#styling";let o=null;const m=null!=r&&r.hasAttribute("style")?r.getAttribute("style"):null;return m&&e.hasOwnProperty(m)&&(o=e[m]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((v,w)=>{const G=Kb(n,i,w)||Kb(r,i,w)||Kb(o,i,w);return G&&(v[w]=G),v},{})}(G[ye.getAttribute("region")],w[ye.getAttribute("style")],w),{textAlign:un}=zt;if(un){const ln=BA[un];ln&&(vt.lineAlign=ln),vt.align=un}return Ar(vt,zt),vt}).filter(ye=>null!==ye)}(v,m)))}catch(v){i(v)}}function op(r,n,e){const i=r.getElementsByTagName(n)[0];return i?[].slice.call(i.querySelectorAll(e)):[]}function sx(r){return r.reduce((n,e)=>{const i=e.getAttribute("xml:id");return i&&(n[i]=e),n},{})}function ax(r,n){return[].slice.call(r.childNodes).reduce((e,i,o)=>{var u;return"br"===i.nodeName&&o?e+"\n":null!=(u=i.childNodes)&&u.length?ax(i,n):n?e+i.textContent.trim().replace(/\s+/g," "):e+i.textContent},"")}function Kb(r,n,e){return r&&r.hasAttributeNS(n,e)?r.getAttributeNS(n,e):null}function Wb(r){return new Error(`Could not parse ttml timestamp ${r}`)}function sp(r,n){if(!r)return null;let e=ep(r);return null===e&&(ix.test(r)?e=function VA(r,n){const e=ix.exec(r);return 3600*(0|e[1])+60*(0|e[2])+(0|e[3])+((0|e[4])+(0|e[5])/n.subFrameRate)/n.frameRate}(r,n):rx.test(r)&&(e=function l(r,n){const e=rx.exec(r),i=Number(e[1]);switch(e[2]){case"h":return 3600*i;case"m":return 60*i;case"ms":return 1e3*i;case"f":return i/n.frameRate;case"t":return i/n.tickRate}return i}(r,n))),e}function f(r,n){return!!r&&r.label===n.name&&!(r.textTrack1||r.textTrack2)}function _(r,n,e,i){return Math.min(n,i)-Math.max(r,e)}class j{constructor(n){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=n,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(n){this.streamController=n}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:n}=this;n.on(Et.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),n.on(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Et.BUFFER_CODECS,this.onBufferCodecs,this),n.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:n}=this;n.off(Et.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),n.off(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Et.BUFFER_CODECS,this.onBufferCodecs,this),n.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(n,e){const i=this.hls.levels[e.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(n,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null}onManifestParsed(n,e){const i=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,i.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onBufferCodecs(n,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const n=this.hls.levels;if(n.length){const e=this.hls;e.autoLevelCapping=this.getMaxLevel(n.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(n){const e=this.hls.levels;if(!e.length)return-1;const i=e.filter((o,u)=>this.isLevelAllowed(o)&&u<=n);return this.clientRect=null,j.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const n=this.media,e={width:0,height:0};if(n){const i=n.getBoundingClientRect();e.width=i.width,e.height=i.height,!e.width&&!e.height&&(e.width=i.right-i.left||n.width||0,e.height=i.bottom-i.top||n.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let n=1;if(!this.hls.config.ignoreDevicePixelRatio)try{n=self.devicePixelRatio}catch{}return n}isLevelAllowed(n){return!this.restrictedLevels.some(i=>n.bitrate===i.bitrate&&n.width===i.width&&n.height===i.height)}static getMaxLevelByMediaSize(n,e,i){if(null==n||!n.length)return-1;const o=(m,v)=>!v||m.width!==v.width||m.height!==v.height;let u=n.length-1;for(let m=0;m<n.length;m+=1){const v=n[m];if((v.width>=e||v.height>=i)&&o(v,n[m+1])){u=m;break}}return u}}const Te="[eme]";let ke=(()=>{class r{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=r.CDMCleanupPromise?[r.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=cn.debug.bind(cn,Te),this.log=cn.log.bind(cn,Te),this.warn=cn.warn.bind(cn,Te),this.error=cn.error.bind(cn,Te),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Et.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Et.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Et.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Et.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:i,widevineLicenseUrl:o}=this.config,u=i[e];if(u)return u.licenseUrl;if(e===Ir.WIDEVINE&&o)return o;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:i}=this.config,o=i[e];if(o)return o.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const i=this.hls.levels,o=(v,w,G)=>!!v&&G.indexOf(v)===w,u=i.map(v=>v.audioCodec).filter(o),m=i.map(v=>v.videoCodec).filter(o);return u.length+m.length===0&&m.push("avc1.42e01e"),new Promise((v,w)=>{const G=te=>{const ye=te.shift();this.getMediaKeysPromise(ye,u,m).then(Ue=>v({keySystem:ye,mediaKeys:Ue})).catch(Ue=>{te.length?G(te):w(Ue instanceof Xe?Ue:new Xe({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_ACCESS,error:Ue,fatal:!0},Ue.message))})};G(e)})}requestMediaKeySystemAccess(e,i){const{requestMediaKeySystemAccessFunc:o}=this.config;if("function"!=typeof o){let u=`Configured requestMediaKeySystemAccess is not a function ${o}`;return null===h0&&"http:"===self.location.protocol&&(u=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(u))}return o(e,i)}getMediaKeysPromise(e,i,o){const u=function Qm(r,n,e,i){let o;switch(r){case Ir.FAIRPLAY:o=["cenc","sinf"];break;case Ir.WIDEVINE:case Ir.PLAYREADY:o=["cenc"];break;case Ir.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return function sD(r,n,e,i){return[{initDataTypes:r,persistentState:i.persistentState||"not-allowed",distinctiveIdentifier:i.distinctiveIdentifier||"not-allowed",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:n.map(u=>({contentType:`audio/mp4; codecs="${u}"`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:e.map(u=>({contentType:`video/mp4; codecs="${u}"`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}(o,n,e,i)}(e,i,o,this.config.drmSystemOptions),m=this.keySystemAccessPromises[e];let v=m?.keySystemAccess;if(!v){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(u)}`),v=this.requestMediaKeySystemAccess(e,u);const w=this.keySystemAccessPromises[e]={keySystemAccess:v};return v.catch(G=>{this.log(`Failed to obtain access to key-system "${e}": ${G}`)}),v.then(G=>{this.log(`Access for key-system "${G.keySystem}" obtained`);const te=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),w.mediaKeys=G.createMediaKeys().then(ye=>(this.log(`Media-keys created for "${e}"`),te.then(Ue=>Ue?this.setMediaKeysServerCertificate(ye,e,Ue):ye))),w.mediaKeys.catch(ye=>{this.error(`Failed to create media-keys for "${e}"}: ${ye}`)}),w.mediaKeys})}return v.then(()=>m.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:i,mediaKeys:o}){this.log(`Creating key-system session "${i}" keyId: ${zs_hexDump(e.keyId||[])}`);const u=o.createSession(),m={decryptdata:e,keySystem:i,mediaKeys:o,mediaKeysSession:u,keyStatus:"status-pending"};return this.mediaKeySessions.push(m),m}renewKeySession(e){const i=e.decryptdata;if(i.pssh){const o=this.createMediaKeySessionContext(e),u=this.getKeyIdString(i);this.keyIdToKeySessionPromise[u]=this.generateRequestWithPreferredKeySession(o,"cenc",i.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return zs_hexDump(e.keyId)}updateKeySession(e,i){var o;const u=e.mediaKeysSession;return this.log(`Updating key-session "${u.sessionId}" for keyID ${zs_hexDump((null==(o=e.decryptdata)?void 0:o.keyId)||[])}\n      } (data length: ${i&&i.byteLength})`),u.update(i)}selectKeySystemFormat(e){const i=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((i,o)=>{const u=Jm(this.config),m=e.map(bf).filter(v=>!!v&&-1!==u.indexOf(v));return this.getKeySystemSelectionPromise(m).then(({keySystem:v})=>{const w=Tf(v);w?i(w):o(new Error(`Unable to find format for key-system "${v}"`))}).catch(o)})}loadKey(e){const i=e.keyInfo.decryptdata,o=this.getKeyIdString(i),u=`(keyId: ${o} format: "${i.keyFormat}" method: ${i.method} uri: ${i.uri})`;this.log(`Starting session for key ${u}`);let m=this.keyIdToKeySessionPromise[o];return m||(m=this.keyIdToKeySessionPromise[o]=this.getKeySystemForKeyPromise(i).then(({keySystem:v,mediaKeys:w})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${u}`),this.attemptSetMediaKeys(v,w).then(()=>{this.throwIfDestroyed();const G=this.createMediaKeySessionContext({keySystem:v,mediaKeys:w,decryptdata:i});return this.generateRequestWithPreferredKeySession(G,"cenc",i.pssh,"playlist-key")}))),m.catch(v=>this.handleError(v))),m}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),this.hls.trigger(Et.ERROR,e instanceof Xe?e.data:{type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const i=this.getKeyIdString(e),o=this.keyIdToKeySessionPromise[i];if(!o){const u=bf(e.keyFormat),m=u?[u]:Jm(this.config);return this.attemptKeySystemAccess(m)}return o}getKeySystemSelectionPromise(e){if(e.length||(e=Jm(this.config)),0===e.length)throw new Xe({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:i,initData:o}=e;if(this.debug(`"${e.type}" event: init data type: "${i}"`),null===o)return;let u,m;if("sinf"===i&&this.config.drmSystems[Ir.FAIRPLAY]){const ye=Co(new Uint8Array(o));try{const Ue=yf(JSON.parse(ye).sinf),Ge=lg(new Uint8Array(Ue));if(!Ge)return;u=Ge.subarray(8,24),m=Ir.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const ye=function gD(r){if(!(r instanceof ArrayBuffer)||r.byteLength<32)return null;const n={version:0,systemId:"",kids:null,data:null},e=new DataView(r),i=e.getUint32(0);if(r.byteLength!==i&&i>44||1886614376!==e.getUint32(4)||(n.version=e.getUint32(8)>>>24,n.version>1))return null;n.systemId=zs_hexDump(new Uint8Array(r,12,16));const u=e.getUint32(28);if(0===n.version){if(i-32<u)return null;n.data=new Uint8Array(r,32,u)}else if(1===n.version){n.kids=[];for(let m=0;m<u;m++)n.kids.push(new Uint8Array(r,32+16*m,16))}return n}(o);if(null===ye)return;0===ye.version&&"edef8ba979d64acea3c827dcd51d21ed"===ye.systemId&&ye.data&&(u=ye.data.subarray(8,24)),m=function f0(r){if("edef8ba979d64acea3c827dcd51d21ed"===r)return Ir.WIDEVINE}(ye.systemId)}if(!m||!u)return;const v=zs_hexDump(u),{keyIdToKeySessionPromise:w,mediaKeySessions:G}=this;let te=w[v];for(let ye=0;ye<G.length;ye++){const Ue=G[ye],Ge=Ue.decryptdata;if(Ge.pssh||!Ge.keyId)continue;const tt=zs_hexDump(Ge.keyId);if(v===tt||-1!==Ge.uri.replace(/-/g,"").indexOf(v)){te=w[tt],delete w[tt],Ge.pssh=new Uint8Array(o),Ge.keyId=u,te=w[v]=te.then(()=>this.generateRequestWithPreferredKeySession(Ue,i,o,"encrypted-event-key-match"));break}}te||(te=w[v]=this.getKeySystemSelectionPromise([m]).then(({keySystem:ye,mediaKeys:Ue})=>{var Ge;this.throwIfDestroyed();const tt=new xf("ISO-23001-7",v,null!=(Ge=Tf(ye))?Ge:"");return tt.pssh=new Uint8Array(o),tt.keyId=u,this.attemptSetMediaKeys(ye,Ue).then(()=>{this.throwIfDestroyed();const ft=this.createMediaKeySessionContext({decryptdata:tt,keySystem:ye,mediaKeys:Ue});return this.generateRequestWithPreferredKeySession(ft,i,o,"encrypted-event-no-match")})})),te.catch(ye=>this.handleError(ye))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,i){const o=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const u=Promise.all(o).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(i)});return this.setMediaKeysQueue.push(u),u.then(()=>{this.log(`Media-keys set for "${e}"`),o.push(u),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(m=>-1===o.indexOf(m))})}generateRequestWithPreferredKeySession(e,i,o,u){var m,v;const w=null==(m=this.config.drmSystems)||null==(v=m[e.keySystem])?void 0:v.generateRequest;if(w)try{const Ge=w.call(this.hls,i,o,e);if(!Ge)throw new Error("Invalid response from configured generateRequest filter");i=Ge.initDataType,o=e.decryptdata.pssh=Ge.initData?new Uint8Array(Ge.initData):null}catch(Ge){var G;if(this.warn(Ge.message),null!=(G=this.hls)&&G.config.debug)throw Ge}if(null===o)return this.log(`Skipping key-session request for "${u}" (no initData)`),Promise.resolve(e);const te=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${u}": ${te} (init data type: ${i} length: ${o?o.byteLength:null})`);const ye=new jg;e.mediaKeysSession.onmessage=Ge=>{const tt=e.mediaKeysSession;if(!tt)return void ye.emit("error",new Error("invalid state"));const{messageType:ft,message:vt}=Ge;this.log(`"${ft}" message event for session "${tt.sessionId}" message size: ${vt.byteLength}`),"license-request"===ft||"license-renewal"===ft?this.renewLicense(e,vt).catch(Lt=>{this.handleError(Lt),ye.emit("error",Lt)}):"license-release"===ft?e.keySystem===Ir.FAIRPLAY&&(this.updateKeySession(e,u0("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${ft}"`)},e.mediaKeysSession.onkeystatuseschange=Ge=>{if(!e.mediaKeysSession)return void ye.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const ft=e.keyStatus;ye.emit("keyStatus",ft),"expired"===ft&&(this.warn(`${e.keySystem} expired for key ${te}`),this.renewKeySession(e))};const Ue=new Promise((Ge,tt)=>{ye.on("error",tt),ye.on("keyStatus",ft=>{ft.startsWith("usable")?Ge():"output-restricted"===ft?tt(new Xe({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===ft?tt(new Xe({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${ft}"`)):"expired"===ft?tt(new Error("key expired while generating request")):this.warn(`unhandled key status change "${ft}"`)})});return e.mediaKeysSession.generateRequest(i,o).then(()=>{var Ge;this.log(`Request generated for key-session "${null==(Ge=e.mediaKeysSession)?void 0:Ge.sessionId}" keyId: ${te}`)}).catch(Ge=>{throw new Xe({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_SESSION,error:Ge,fatal:!1},`Error generating key-session request: ${Ge}`)}).then(()=>Ue).catch(Ge=>{throw ye.removeAllListeners(),this.removeSession(e),Ge}).then(()=>(ye.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((i,o)=>{this.log(`key status change "${i}" for keyStatuses keyId: ${zs_hexDump("buffer"in o?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o))} session keyId: ${zs_hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=i})}fetchServerCertificate(e){const i=this.config,u=new(0,i.loader)(i),m=this.getServerCertificateUrl(e);return m?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((v,w)=>{const G={responseType:"arraybuffer",url:m},te=i.certLoadPolicy.default;u.load(G,{loadPolicy:te,timeout:te.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Ge,tt,ft,vt)=>{v(Ge.data)},onError:(Ge,tt,ft,vt)=>{w(new Xe({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:ft,response:Uo({url:G.url,data:void 0},Ge)},`"${e}" certificate request failed (${m}). Status: ${Ge.code} (${Ge.text})`))},onTimeout:(Ge,tt,ft)=>{w(new Xe({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:ft,response:{url:G.url,data:void 0}},`"${e}" certificate request timed out (${m})`))},onAbort:(Ge,tt,ft)=>{w(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(e,i,o){return new Promise((u,m)=>{e.setServerCertificate(o).then(v=>{this.log(`setServerCertificate ${v?"success":"not supported by CDM"} (${o?.byteLength}) on "${i}"`),u(e)}).catch(v=>{m(new Xe({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:v,fatal:!0},v.message))})})}renewLicense(e,i){return this.requestLicense(e,new Uint8Array(i)).then(o=>this.updateKeySession(e,new Uint8Array(o)).catch(u=>{throw new Xe({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:u,fatal:!0},u.message)}))}setupLicenseXHR(e,i,o,u){const m=this.config.licenseXhrSetup;return m?Promise.resolve().then(()=>{if(!o.decryptdata)throw new Error("Key removed");return m.call(this.hls,e,i,o,u)}).catch(v=>{if(!o.decryptdata)throw v;return e.open("POST",i,!0),m.call(this.hls,e,i,o,u)}).then(v=>(e.readyState||e.open("POST",i,!0),{xhr:e,licenseChallenge:v||u})):(e.open("POST",i,!0),Promise.resolve({xhr:e,licenseChallenge:u}))}requestLicense(e,i){const o=this.config.keyLoadPolicy.default;return new Promise((u,m)=>{const v=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${v}`);const w=new XMLHttpRequest;w.responseType="arraybuffer",w.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return m(new Error("invalid state"));if(4===w.readyState)if(200===w.status){this._requestLicenseFailureCount=0;let G=w.response;this.log(`License received ${G instanceof ArrayBuffer?G.byteLength:G}`);const te=this.config.licenseResponseCallback;if(te)try{G=te.call(this.hls,w,v,e)}catch(ye){this.error(ye)}u(G)}else{const G=o.errorRetry,te=G?G.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>te||w.status>=400&&w.status<500?m(new Xe({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:w,response:{url:v,data:void 0,code:w.status,text:w.statusText}},`License Request XHR failed (${v}). Status: ${w.status} (${w.statusText})`)):(this.warn(`Retrying license request, ${te-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(e,i).then(u,m))}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=w,this.setupLicenseXHR(w,v,e,i).then(({xhr:G,licenseChallenge:te})=>{G.send(te)})})}onMediaAttached(e,i){if(!this.config.emeEnabled)return;const o=i.media;this.media=o,o.addEventListener("encrypted",this.onMediaEncrypted),o.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,i=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},xf.clearKeyUriToKeyIdMap();const o=i.length;r.CDMCleanupPromise=Promise.all(i.map(u=>this.removeSession(u)).concat(e?.setMediaKeys(null).catch(u=>{this.log(`Could not clear media keys: ${u}. media.src: ${e?.src}`)}))).then(()=>{o&&(this.log("finished closing key sessions and clearing media keys"),i.length=0)}).catch(u=>{this.log(`Could not close sessions and clear media keys: ${u}. media.src: ${e?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:i}){if(i&&this.config.emeEnabled&&!this.keyFormatPromise){const o=i.reduce((u,m)=>(-1===u.indexOf(m.keyFormat)&&u.push(m.keyFormat),u),[]);this.log(`Selecting key-system from session-keys ${o.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(o)}}removeSession(e){const{mediaKeysSession:i,licenseXhr:o}=e;if(i){this.log(`Remove licenses and keys and close session ${i.sessionId}`),i.onmessage=null,i.onkeystatuseschange=null,o&&o.readyState!==XMLHttpRequest.DONE&&o.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const u=this.mediaKeySessions.indexOf(e);return u>-1&&this.mediaKeySessions.splice(u,1),i.remove().catch(m=>{this.log(`Could not remove session: ${m}`)}).then(()=>i.close()).catch(m=>{this.log(`Could not close session: ${m}`)})}}}return r.CDMCleanupPromise=void 0,r})();class Xe extends Error{constructor(n,e){super(e),this.data=void 0,n.error||(n.error=new Error(e)),this.data=n,n.err=n.error}}class on{constructor(n){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=o=>{try{this.apply(o,{ot:"m",su:!this.initialized})}catch(u){cn.warn("Could not generate manifest CMCD data.",u)}},this.applyFragmentData=o=>{try{const u=o.frag,m=this.hls.levels[u.level],v=this.getObjectType(u),w={d:1e3*u.duration,ot:v};("v"===v||"a"===v||"av"==v)&&(w.br=m.bitrate/1e3,w.tb=this.getTopBandwidth(v)/1e3,w.bl=this.getBufferLength(v)),this.apply(o,w)}catch(u){cn.warn("Could not generate segment CMCD data.",u)}},this.hls=n;const e=this.config=n.config,{cmcd:i}=e;null!=i&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||on.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}registerListeners(){const n=this.hls;n.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Et.MEDIA_DETACHED,this.onMediaDetached,this),n.on(Et.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const n=this.hls;n.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Et.MEDIA_DETACHED,this.onMediaDetached,this),n.off(Et.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(n,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(n,e){var i,o;this.audioBuffer=null==(i=e.tracks.audio)?void 0:i.buffer,this.videoBuffer=null==(o=e.tracks.video)?void 0:o.buffer}createData(){var n;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(n=this.media)?void 0:n.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(n,e={}){if(Ar(e,this.createData()),this.starved&&("i"===e.ot||"v"===e.ot||"av"===e.ot)&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering),this.useHeaders){const o=on.toHeaders(e);if(!Object.keys(o).length)return;n.headers||(n.headers={}),Ar(n.headers,o)}else{const o=on.toQuery(e);if(!o)return;n.url=on.appendQueryToUri(n.url,o)}}getObjectType(n){const{type:e}=n;return"subtitle"===e?"tt":"initSegment"===n.sn?"i":"audio"===e?"a":"main"===e?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(n){let i,e=0;const o=this.hls;if("a"===n)i=o.audioTracks;else{const u=o.maxAutoLevel;i=o.levels.slice(0,u>-1?u+1:o.levels.length)}for(const u of i)u.bitrate>e&&(e=u.bitrate);return e>0?e:NaN}getBufferLength(n){const e=this.hls.media,i="a"===n?this.audioBuffer:this.videoBuffer;return i&&e?1e3*pr.bufferInfo(i,e.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:n}=this.config,e=this.applyPlaylistData,i=n||this.config.loader;return class{constructor(u){this.loader=void 0,this.loader=new i(u)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(u,m,v){e(u),this.loader.load(u,m,v)}}}createFragmentLoader(){const{fLoader:n}=this.config,e=this.applyFragmentData,i=n||this.config.loader;return class{constructor(u){this.loader=void 0,this.loader=new i(u)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(u,m,v){e(u),this.loader.load(u,m,v)}}}static uuid(){const n=URL.createObjectURL(new Blob),e=n.toString();return URL.revokeObjectURL(n),e.slice(e.lastIndexOf("/")+1)}static serialize(n){const e=[],i=G=>!Number.isNaN(G)&&null!=G&&""!==G&&!1!==G,o=G=>Math.round(G),u=G=>100*o(G/100),v={br:o,d:o,bl:u,dl:u,mtp:u,nor:G=>encodeURIComponent(G),rtp:u,tb:o},w=Object.keys(n||{}).sort();for(const G of w){let te=n[G];if(!i(te)||"v"===G&&1===te||"pr"==G&&1===te)continue;const ye=v[G];ye&&(te=ye(te));const Ue=typeof te;let Ge;Ge="ot"===G||"sf"===G||"st"===G?`${G}=${te}`:"boolean"===Ue?G:"number"===Ue?`${G}=${te}`:`${G}=${JSON.stringify(te)}`,e.push(Ge)}return e.join(",")}static toHeaders(n){const e=Object.keys(n),i={},o=["Object","Request","Session","Status"],u=[{},{},{},{}],m={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const v of e)u[null!=m[v]?m[v]:1][v]=n[v];for(let v=0;v<u.length;v++){const w=on.serialize(u[v]);w&&(i[`CMCD-${o[v]}`]=w)}return i}static toQuery(n){return`CMCD=${encodeURIComponent(on.serialize(n))}`}static appendQueryToUri(n,e){if(!e)return n;const i=n.includes("?")?"&":"?";return`${n}${i}${e}`}}function qn(r,n,e,i){r&&Object.keys(n).forEach(o=>{const u=r.filter(m=>m.groupId===o).map(m=>{const v=Ar({},m);return v.details=void 0,v.attrs=new wr(v.attrs),v.url=v.attrs.URI=ri(m.url,m.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",e),v.groupId=v.attrs["GROUP-ID"]=n[o],v.attrs["PATHWAY-ID"]=i,v});r.push(...u)})}function ri(r,n,e,i){const{HOST:o,PARAMS:u,[e]:m}=i;let v;n&&(v=m?.[n],v&&(r=v));const w=new self.URL(r);return o&&!v&&(w.host=o),u&&Object.keys(u).sort().forEach(G=>{G&&w.searchParams.set(G,u[G])}),w.href}const An=/^age:\s*[\d.]+\s*$/im;class yi{constructor(n){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=n&&n.xhrSetup||null,this.stats=new vf,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const n=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),n&&(n.onreadystatechange=null,n.onprogress=null,4!==n.readyState&&(this.stats.aborted=!0,n.abort()))}abort(){var n;this.abortInternal(),null!=(n=this.callbacks)&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(n,e,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=n,this.config=e,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:n,context:e}=this;if(!n)return;const i=this.loader=new self.XMLHttpRequest,o=this.stats;o.loading.first=0,o.loaded=0,o.aborted=!1;const u=this.xhrSetup;u?Promise.resolve().then(()=>{if(!this.stats.aborted)return u(i,e.url)}).catch(m=>(i.open("GET",e.url,!0),u(i,e.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(i,e,n)}).catch(m=>{this.callbacks.onError({code:i.status,text:m.message},e,i,o)}):this.openAndSendXhr(i,e,n)}openAndSendXhr(n,e,i){n.readyState||n.open("GET",e.url,!0);const o=this.context.headers,{maxTimeToFirstByteMs:u,maxLoadTimeMs:m}=i.loadPolicy;if(o)for(const v in o)n.setRequestHeader(v,o[v]);e.rangeEnd&&n.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=e.responseType,self.clearTimeout(this.requestTimeout),i.timeout=u&&di(u)?u:m,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),n.send()}readystatechange(){const{context:n,loader:e,stats:i}=this;if(!n||!e)return;const o=e.readyState,u=this.config;if(!i.aborted&&o>=2&&(0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),u.timeout!==u.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),u.timeout=u.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),u.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),4===o)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const m=e.status,v="text"!==e.responseType;if(m>=200&&m<300&&(v&&e.response||null!==e.responseText)){i.loading.end=Math.max(self.performance.now(),i.loading.first);const w=v?e.response:e.responseText;if(i.loaded=i.total="arraybuffer"===e.responseType?w.byteLength:w.length,i.bwEstimate=8e3*i.total/(i.loading.end-i.loading.first),!this.callbacks)return;const te=this.callbacks.onProgress;if(te&&te(i,n,w,e),!this.callbacks)return;this.callbacks.onSuccess({url:e.responseURL,data:w,code:m},i,n,e)}else{const w=u.loadPolicy.errorRetry;yc(w,i.retry,!1,m)?this.retry(w):(cn.error(`${m} while loading ${n.url}`),this.callbacks.onError({code:m,text:e.statusText},n,e,i))}}}loadtimeout(){var n;const e=null==(n=this.config)?void 0:n.loadPolicy.timeoutRetry;if(yc(e,this.stats.retry,!0))this.retry(e);else{cn.warn(`timeout while loading ${this.context.url}`);const o=this.callbacks;o&&(this.abortInternal(),o.onTimeout(this.stats,this.context,this.loader))}}retry(n){const{context:e,stats:i}=this;this.retryDelay=$0(n,i.retry),i.retry++,cn.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${e.url}, retrying ${i.retry}/${n.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(n){const e=this.stats;e.loaded=n.loaded,n.lengthComputable&&(e.total=n.total)}getCacheAge(){let n=null;if(this.loader&&An.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");n=e?parseFloat(e):null}return n}getResponseHeader(n){return this.loader&&new RegExp(`^${n}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(n):null}}const Bi=/(\d+)-(\d+)\/(\d+)/;class co{constructor(n){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=n.fetchSetup||Yw,this.controller=new self.AbortController,this.stats=new vf}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const n=this.response;null!=n&&n.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var n;this.abortInternal(),null!=(n=this.callbacks)&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(n,e,i){const o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();const u=function Qf(r,n){const e={method:"GET",mode:"cors",credentials:"same-origin",signal:n,headers:new self.Headers(Ar({},r.headers))};return r.rangeEnd&&e.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),e}(n,this.controller.signal),m=i.onProgress,v="arraybuffer"===n.responseType,w=v?"byteLength":"length",{maxTimeToFirstByteMs:G,maxLoadTimeMs:te}=e.loadPolicy;this.context=n,this.config=e,this.callbacks=i,this.request=this.fetchSetup(n,u),self.clearTimeout(this.requestTimeout),e.timeout=G&&di(G)?G:te,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,n,this.response)},e.timeout),self.fetch(this.request).then(ye=>{this.response=this.loader=ye;const Ue=Math.max(self.performance.now(),o.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=te,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,n,this.response)},te-(Ue-o.loading.start)),!ye.ok){const{status:Ge,statusText:tt}=ye;throw new Kw(tt||"fetch, bad network response",Ge,ye)}return o.loading.first=Ue,o.total=function cx(r){const n=r.get("Content-Range");if(n){const i=function lx(r){const n=Bi.exec(r);if(n)return parseInt(n[2])-parseInt(n[1])+1}(n);if(di(i))return i}const e=r.get("Content-Length");if(e)return parseInt(e)}(ye.headers)||o.total,m&&di(e.highWaterMark)?this.loadProgressively(ye,o,n,e.highWaterMark,m):v?ye.arrayBuffer():"json"===n.responseType?ye.json():ye.text()}).then(ye=>{const{response:Ue}=this;self.clearTimeout(this.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);const Ge=ye[w];Ge&&(o.loaded=o.total=Ge);const tt={url:Ue.url,data:ye,code:Ue.status};m&&!di(e.highWaterMark)&&m(o,n,ye,Ue),i.onSuccess(tt,o,n,Ue)}).catch(ye=>{self.clearTimeout(this.requestTimeout),o.aborted||i.onError({code:ye&&ye.code||0,text:ye?ye.message:null},n,ye?ye.details:null,o)})}getCacheAge(){let n=null;if(this.response){const e=this.response.headers.get("age");n=e?parseFloat(e):null}return n}getResponseHeader(n){return this.response?this.response.headers.get(n):null}loadProgressively(n,e,i,o=0,u){const m=new ka,v=n.body.getReader(),w=()=>v.read().then(G=>{if(G.done)return m.dataLength&&u(e,i,m.flush(),n),Promise.resolve(new ArrayBuffer(0));const te=G.value,ye=te.length;return e.loaded+=ye,ye<o||m.dataLength?(m.push(te),m.dataLength>=o&&u(e,i,m.flush(),n)):u(e,i,te,n),w()}).catch(()=>Promise.reject());return w()}}function Yw(r,n){return new self.Request(r.url,n)}class Kw extends Error{constructor(n,e,i){super(n),this.code=void 0,this.details=void 0,this.code=e,this.details=i}}const Ww=/\s/,zw={newCue(r,n,e,i){const o=[];let u,m,v,w,G;const te=self.VTTCue||self.TextTrackCue;for(let Ue=0;Ue<i.rows.length;Ue++)if(u=i.rows[Ue],v=!0,w=0,G="",!u.isEmpty()){var ye;for(let ft=0;ft<u.chars.length;ft++)Ww.test(u.chars[ft].uchar)&&v?w++:(G+=u.chars[ft].uchar,v=!1);u.cueStartTime=n,n===e&&(e+=1e-4),w>=16?w--:w++;const Ge=tp(G.trim()),tt=ip(n,e,Ge);null!=r&&null!=(ye=r.cues)&&ye.getCueById(tt)||(m=new te(n,e,Ge),m.id=tt,m.line=Ue+1,m.align="left",m.position=10+Math.min(80,10*Math.floor(8*w/32)),o.push(m))}return r&&o.length&&(o.sort((Ue,Ge)=>"auto"===Ue.line||"auto"===Ge.line?0:Ue.line>8&&Ge.line>8?Ge.line-Ue.line:Ue.line-Ge.line),o.forEach(Ue=>gg(r,Ue))),o}},$w=Uo(Uo({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:yi,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class Pb{constructor(n){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=n;const e=n.config;this.bwEstimator=new JD(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:n}=this;n.on(Et.FRAG_LOADING,this.onFragLoading,this),n.on(Et.FRAG_LOADED,this.onFragLoaded,this),n.on(Et.FRAG_BUFFERED,this.onFragBuffered,this),n.on(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Et.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:n}=this;n.off(Et.FRAG_LOADING,this.onFragLoading,this),n.off(Et.FRAG_LOADED,this.onFragLoaded,this),n.off(Et.FRAG_BUFFERED,this.onFragBuffered,this),n.off(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Et.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(n,e){var i;const o=e.frag;this.ignoreFragment(o)||(this.fragCurrent=o,this.partCurrent=null!=(i=e.part)?i:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(n,e){this.clearTimer()}getTimeToLoadFrag(n,e,i,o){return n+i/e+(o?this.lastLevelLoadSec:0)}onLevelLoaded(n,e){const i=this.hls.config,{total:o,bwEstimate:u}=e.stats;di(o)&&di(u)&&(this.lastLevelLoadSec=8*o/u),e.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:n,partCurrent:e,hls:i}=this,{autoLevelEnabled:o,media:u}=i;if(!n||!u)return;const m=performance.now(),v=e?e.stats:n.stats,w=e?e.duration:n.duration,G=m-v.loading.start;if(v.aborted||v.loaded&&v.loaded===v.total||0===n.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!o||u.paused||!u.playbackRate||!u.readyState)return;const te=i.mainForwardBufferInfo;if(null===te)return;const ye=this.bwEstimator.getEstimateTTFB(),Ue=Math.abs(u.playbackRate);if(G<=Math.max(ye,w/(2*Ue)*1e3))return;const Ge=te.len/Ue;if(Ge>=2*w/Ue)return;const tt=v.loading.first?v.loading.first-v.loading.start:-1,ft=v.loaded&&tt>-1,vt=this.bwEstimator.getEstimate(),{levels:Lt,minAutoLevel:qt}=i,un=v.total||Math.max(v.loaded,Math.round(w*Lt[n.level].maxBitrate/8));let ln=G-tt;ln<1&&ft&&(ln=Math.min(G,8*v.loaded/vt));const Sn=ft?1e3*v.loaded/ln:0,mn=Sn?(un-v.loaded)/Sn:8*un/vt+ye/1e3;if(mn<=Ge)return;const Mn=Sn?8*Sn:vt;let pn,Vn=Number.POSITIVE_INFINITY;for(pn=n.level-1;pn>qt&&(Vn=this.getTimeToLoadFrag(ye/1e3,Mn,w*Lt[pn].maxBitrate,!Lt[pn].details),!(Vn<Ge));pn--);Vn>=mn||Vn>10*w||(i.nextLoadLevel=pn,ft?this.bwEstimator.sample(G-Math.min(ye,tt),v.loaded):this.bwEstimator.sampleTTFB(G),this.clearTimer(),cn.warn(`[abr] Fragment ${n.sn}${e?" part "+e.index:""} of level ${n.level} is loading too slowly;\n      Time to underbuffer: ${Ge.toFixed(3)} s\n      Estimated load time for current fragment: ${mn.toFixed(3)} s\n      Estimated load time for down switch fragment: ${Vn.toFixed(3)} s\n      TTFB estimate: ${tt}\n      Current BW estimate: ${di(vt)?(vt/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${pn}`),n.loader&&(this.fragCurrent=this.partCurrent=null,n.abortRequests()),i.trigger(Et.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:e,stats:v}))}onFragLoaded(n,{frag:e,part:i}){const o=i?i.stats:e.stats;if("main"===e.type&&this.bwEstimator.sampleTTFB(o.loading.first-o.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const m=this.hls.levels[e.level],v=(m.loaded?m.loaded.bytes:0)+o.loaded,w=(m.loaded?m.loaded.duration:0)+(i?i.duration:e.duration);m.loaded={bytes:v,duration:w},m.realBitrate=Math.round(8*v/w)}e.bitrateTest&&(this.onFragBuffered(Et.FRAG_BUFFERED,{stats:o,frag:e,part:i,id:e.type}),e.bitrateTest=!1)}}onFragBuffered(n,e){const{frag:i,part:o}=e,u=null!=o&&o.stats.loaded?o.stats:i.stats;if(u.aborted||this.ignoreFragment(i))return;const m=u.parsing.end-u.loading.start-Math.min(u.loading.first-u.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(m,u.loaded),u.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=i.bitrateTest?m/1e3:0}ignoreFragment(n){return"main"!==n.type||"initSegment"===n.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const n=this._nextAutoLevel;if(-1!==n&&!this.bwEstimator.canEstimate())return n;let i=this.getNextABRAutoLevel();if(-1!==n){const o=this.hls.levels;if(o.length>Math.max(n,i)&&o[n].loadError<=o[i].loadError)return n}return-1!==n&&(i=Math.min(n,i)),i}getNextABRAutoLevel(){const{fragCurrent:n,partCurrent:e,hls:i}=this,{maxAutoLevel:o,config:u,minAutoLevel:m,media:v}=i,w=e?e.duration:n?n.duration:0,G=v&&0!==v.playbackRate?Math.abs(v.playbackRate):1,te=this.bwEstimator?this.bwEstimator.getEstimate():u.abrEwmaDefaultEstimate,ye=i.mainForwardBufferInfo,Ue=(ye?ye.len:0)/G;let Ge=this.findBestLevel(te,m,o,Ue,u.abrBandWidthFactor,u.abrBandWidthUpFactor);if(Ge>=0)return Ge;cn.trace(`[abr] ${Ue?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let tt=w?Math.min(w,u.maxStarvationDelay):u.maxStarvationDelay,ft=u.abrBandWidthFactor,vt=u.abrBandWidthUpFactor;if(!Ue){const Lt=this.bitrateTestDelay;Lt&&(tt=(w?Math.min(w,u.maxLoadingDelay):u.maxLoadingDelay)-Lt,cn.trace(`[abr] bitrate test took ${Math.round(1e3*Lt)}ms, set first fragment max fetchDuration to ${Math.round(1e3*tt)} ms`),ft=vt=1)}return Ge=this.findBestLevel(te,m,o,Ue+tt,ft,vt),Math.max(Ge,0)}findBestLevel(n,e,i,o,u,m){var v;const{fragCurrent:w,partCurrent:G,lastLoadedFragLevel:te}=this,{levels:ye}=this.hls,Ue=ye[te],Ge=!(null==Ue||null==(v=Ue.details)||!v.live),tt=Ue?.codecSet,ft=G?G.duration:w?w.duration:0,vt=this.bwEstimator.getEstimateTTFB()/1e3;let Lt=e,qt=-1;for(let zt=i;zt>=e;zt--){const un=ye[zt];if(!un||tt&&un.codecSet!==tt){un&&(Lt=Math.min(zt,Lt),qt=Math.max(zt,qt));continue}-1!==qt&&cn.trace(`[abr] Skipped level(s) ${Lt}-${qt} with CODECS:"${ye[qt].attrs.CODECS}"; not compatible with "${Ue.attrs.CODECS}"`);const ln=un.details,Sn=(G?ln?.partTarget:ln?.averagetargetduration)||ft;let mn;mn=zt<=te?u*n:m*n;const Mn=ye[zt].maxBitrate,Vn=this.getTimeToLoadFrag(vt,mn,Mn*Sn,void 0===ln);if(cn.trace(`[abr] level:${zt} adjustedbw-bitrate:${Math.round(mn-Mn)} avgDuration:${Sn.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${Vn.toFixed(1)}`),mn>Mn&&(0===Vn||!di(Vn)||Ge&&!this.bitrateTestDelay||Vn<o))return zt}return-1}set nextAutoLevel(n){this._nextAutoLevel=n}},bufferController:class ex{constructor(n){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:e,mediaSource:i}=this;cn.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(Et.MEDIA_ATTACHED,{media:e})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{cn.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{cn.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:e,_objectUrl:i}=this;e&&e.src!==i&&cn.error(`Media element src was set while attaching MediaSource (${i} > ${e.src})`)},this.hls=n,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:n}=this;n.on(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Et.BUFFER_RESET,this.onBufferReset,this),n.on(Et.BUFFER_APPENDING,this.onBufferAppending,this),n.on(Et.BUFFER_CODECS,this.onBufferCodecs,this),n.on(Et.BUFFER_EOS,this.onBufferEos,this),n.on(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Et.LEVEL_UPDATED,this.onLevelUpdated,this),n.on(Et.FRAG_PARSED,this.onFragParsed,this),n.on(Et.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:n}=this;n.off(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Et.BUFFER_RESET,this.onBufferReset,this),n.off(Et.BUFFER_APPENDING,this.onBufferAppending,this),n.off(Et.BUFFER_CODECS,this.onBufferCodecs,this),n.off(Et.BUFFER_EOS,this.onBufferEos,this),n.off(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Et.LEVEL_UPDATED,this.onLevelUpdated,this),n.off(Et.FRAG_PARSED,this.onFragParsed,this),n.off(Et.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new XD(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(n,e){let i=2;(e.audio&&!e.video||!e.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,cn.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(n,e){const i=this.media=e.media;if(i&&Nb){const o=this.mediaSource=new Nb;o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),i.src=self.URL.createObjectURL(o),this._objectUrl=i.src,i.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:n,mediaSource:e,_objectUrl:i}=this;if(e){if(cn.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(o){cn.warn(`[buffer-controller]: onMediaDetaching: ${o.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),n&&(n.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),n.src===i?(n.removeAttribute("src"),n.load()):cn.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Et.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(n=>{const e=this.sourceBuffer[n];try{e&&(this.removeBufferListeners(n),this.mediaSource&&this.mediaSource.removeSourceBuffer(e),this.sourceBuffer[n]=void 0)}catch(i){cn.warn(`[buffer-controller]: Failed to reset the ${n} buffer`,i)}}),this._initSourceBuffer()}onBufferCodecs(n,e){const i=this.getSourceBufferTypes().length;Object.keys(e).forEach(o=>{if(i){const u=this.tracks[o];if(u&&"function"==typeof u.buffer.changeType){const{id:m,codec:v,levelCodec:w,container:G,metadata:te}=e[o],ye=(u.levelCodec||u.codec).replace(Lb,"$1"),Ue=(w||v).replace(Lb,"$1");ye!==Ue&&(this.appendChangeType(o,`${G};codecs=${w||v}`),cn.log(`[buffer-controller]: switching codec ${ye} to ${Ue}`),this.tracks[o]={buffer:u.buffer,codec:v,container:G,levelCodec:w,metadata:te,id:m})}}else this.pendingTracks[o]=e[o]}),!i&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(n,e){const{operationQueue:i}=this,o={execute:()=>{const u=this.sourceBuffer[n];u&&(cn.log(`[buffer-controller]: changing ${n} sourceBuffer type to ${e}`),u.changeType(e)),i.shiftAndExecuteNext(n)},onStart:()=>{},onComplete:()=>{},onError:u=>{cn.warn(`[buffer-controller]: Failed to change ${n} SourceBuffer type`,u)}};i.append(o,n)}onBufferAppending(n,e){const{hls:i,operationQueue:o,tracks:u}=this,{data:m,type:v,frag:w,part:G,chunkMeta:te}=e,ye=te.buffering[v],Ue=self.performance.now();ye.start=Ue;const Ge=w.stats.buffering,tt=G?G.stats.buffering:null;0===Ge.start&&(Ge.start=Ue),tt&&0===tt.start&&(tt.start=Ue);const ft=u.audio;let vt=!1;"audio"===v&&"audio/mpeg"===ft?.container&&(vt=!this.lastMpegAudioChunk||1===te.id||this.lastMpegAudioChunk.sn!==te.sn,this.lastMpegAudioChunk=te);const Lt=w.start;o.append({execute:()=>{if(ye.executeStart=self.performance.now(),vt){const zt=this.sourceBuffer[v];if(zt){const un=Lt-zt.timestampOffset;Math.abs(un)>=.1&&(cn.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${Lt} (delta: ${un}) sn: ${w.sn})`),zt.timestampOffset=Lt)}}this.appendExecutor(m,v)},onStart:()=>{},onComplete:()=>{const zt=self.performance.now();ye.executeEnd=ye.end=zt,0===Ge.first&&(Ge.first=zt),tt&&0===tt.first&&(tt.first=zt);const{sourceBuffer:un}=this,ln={};for(const Sn in un)ln[Sn]=pr.getBuffered(un[Sn]);this.appendError=0,this.hls.trigger(Et.BUFFER_APPENDED,{type:v,frag:w,part:G,chunkMeta:te,parent:w.type,timeRanges:ln})},onError:zt=>{cn.error(`[buffer-controller]: Error encountered while trying to append to the ${v} SourceBuffer`,zt);const un={type:mi.MEDIA_ERROR,parent:w.type,details:En.BUFFER_APPEND_ERROR,frag:w,part:G,chunkMeta:te,error:zt,err:zt,fatal:!1};zt.code===DOMException.QUOTA_EXCEEDED_ERR?un.details=En.BUFFER_FULL_ERROR:(this.appendError++,un.details=En.BUFFER_APPEND_ERROR,this.appendError>i.config.appendErrorMaxRetry&&(cn.error(`[buffer-controller]: Failed ${i.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),un.fatal=!0)),i.trigger(Et.ERROR,un)}},v)}onBufferFlushing(n,e){const{operationQueue:i}=this,o=u=>({execute:this.removeExecutor.bind(this,u,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(Et.BUFFER_FLUSHED,{type:u})},onError:m=>{cn.warn(`[buffer-controller]: Failed to remove from ${u} SourceBuffer`,m)}});e.type?i.append(o(e.type),e.type):this.getSourceBufferTypes().forEach(u=>{i.append(o(u),u)})}onFragParsed(n,e){const{frag:i,part:o}=e,u=[],m=o?o.elementaryStreams:i.elementaryStreams;m.audiovideo?u.push("audiovideo"):(m.audio&&u.push("audio"),m.video&&u.push("video")),0===u.length&&cn.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(()=>{const w=self.performance.now();i.stats.buffering.end=w,o&&(o.stats.buffering.end=w),this.hls.trigger(Et.FRAG_BUFFERED,{frag:i,part:o,stats:o?o.stats:i.stats,id:i.type})},u)}onFragChanged(n,e){this.flushBackBuffer()}onBufferEos(n,e){this.getSourceBufferTypes().reduce((o,u)=>{const m=this.sourceBuffer[u];return m&&(!e.type||e.type===u)&&(m.ending=!0,m.ended||(m.ended=!0,cn.log(`[buffer-controller]: ${u} sourceBuffer now EOS`))),o&&!(m&&!m.ended)},!0)&&(cn.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(u=>{const m=this.sourceBuffer[u];m&&(m.ending=!1)});const{mediaSource:o}=this;o&&"open"===o.readyState?(cn.log("[buffer-controller]: Calling mediaSource.endOfStream()"),o.endOfStream()):o&&cn.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`)}))}onLevelUpdated(n,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:n,details:e,media:i,sourceBuffer:o}=this;if(!i||null===e)return;const u=this.getSourceBufferTypes();if(!u.length)return;const m=e.live&&null!==n.config.liveBackBufferLength?n.config.liveBackBufferLength:n.config.backBufferLength;if(!di(m)||m<0)return;const v=i.currentTime,w=e.levelTargetDuration,G=Math.max(m,w),te=Math.floor(v/w)*w-G;u.forEach(ye=>{const Ue=o[ye];if(Ue){const Ge=pr.getBuffered(Ue);if(Ge.length>0&&te>Ge.start(0)){if(n.trigger(Et.BACK_BUFFER_REACHED,{bufferEnd:te}),e.live)n.trigger(Et.LIVE_BACK_BUFFER_REACHED,{bufferEnd:te});else if(Ue.ended&&Ge.end(Ge.length-1)-v<2*w)return void cn.info(`[buffer-controller]: Cannot flush ${ye} back buffer while SourceBuffer is in ended state`);n.trigger(Et.BUFFER_FLUSHING,{startOffset:0,endOffset:te,type:ye})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:n,hls:e,media:i,mediaSource:o}=this,u=n.fragments[0].start+n.totalduration,m=i.duration,v=di(o.duration)?o.duration:0;n.live&&e.config.liveDurationInfinity?(cn.log("[buffer-controller]: Media Source duration is set to Infinity"),o.duration=1/0,this.updateSeekableRange(n)):(u>v&&u>m||!di(m))&&(cn.log(`[buffer-controller]: Updating Media Source duration to ${u.toFixed(3)}`),o.duration=u)}updateSeekableRange(n){const e=this.mediaSource,i=n.fragments;if(i.length&&n.live&&null!=e&&e.setLiveSeekableRange){const u=Math.max(0,i[0].start),m=Math.max(u,u+n.totalduration);e.setLiveSeekableRange(u,m)}}checkPendingTracks(){const{bufferCodecEventsExpected:n,operationQueue:e,pendingTracks:i}=this,o=Object.keys(i).length;if(o&&!n||2===o){this.createSourceBuffers(i),this.pendingTracks={};const u=this.getSourceBufferTypes();if(u.length)this.hls.trigger(Et.BUFFER_CREATED,{tracks:this.tracks}),u.forEach(m=>{e.executeNext(m)});else{const m=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:m,reason:m.message})}}}createSourceBuffers(n){const{sourceBuffer:e,mediaSource:i}=this;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(const o in n)if(!e[o]){const u=n[o];if(!u)throw Error(`source buffer exists for track ${o}, however track does not`);const m=u.levelCodec||u.codec,v=`${u.container};codecs=${m}`;cn.log(`[buffer-controller]: creating sourceBuffer(${v})`);try{const w=e[o]=i.addSourceBuffer(v),G=o;this.addBufferListener(G,"updatestart",this._onSBUpdateStart),this.addBufferListener(G,"updateend",this._onSBUpdateEnd),this.addBufferListener(G,"error",this._onSBUpdateError),this.tracks[o]={buffer:w,codec:m,container:u.container,levelCodec:u.levelCodec,metadata:u.metadata,id:u.id}}catch(w){cn.error(`[buffer-controller]: error while trying to add sourceBuffer: ${w.message}`),this.hls.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:w,mimeType:v})}}}_onSBUpdateStart(n){const{operationQueue:e}=this;e.current(n).onStart()}_onSBUpdateEnd(n){const{operationQueue:e}=this;e.current(n).onComplete(),e.shiftAndExecuteNext(n)}_onSBUpdateError(n,e){const i=new Error(`${n} SourceBuffer error`);cn.error(`[buffer-controller]: ${i}`,e),this.hls.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_APPENDING_ERROR,error:i,fatal:!1});const o=this.operationQueue.current(n);o&&o.onError(e)}removeExecutor(n,e,i){const{media:o,mediaSource:u,operationQueue:m,sourceBuffer:v}=this,w=v[n];if(!o||!u||!w)return cn.warn(`[buffer-controller]: Attempting to remove from the ${n} SourceBuffer, but it does not exist`),void m.shiftAndExecuteNext(n);const G=di(o.duration)?o.duration:1/0,te=di(u.duration)?u.duration:1/0,ye=Math.max(0,e),Ue=Math.min(i,G,te);Ue>ye&&!w.ending?(w.ended=!1,cn.log(`[buffer-controller]: Removing [${ye},${Ue}] from the ${n} SourceBuffer`),w.remove(ye,Ue)):m.shiftAndExecuteNext(n)}appendExecutor(n,e){const{operationQueue:i,sourceBuffer:o}=this,u=o[e];if(!u)return cn.warn(`[buffer-controller]: Attempting to append to the ${e} SourceBuffer, but it does not exist`),void i.shiftAndExecuteNext(e);u.ended=!1,u.appendBuffer(n)}blockBuffers(n,e=this.getSourceBufferTypes()){if(!e.length)return cn.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(n);const{operationQueue:i}=this,o=e.map(u=>i.appendBlocker(u));Promise.all(o).then(()=>{n(),e.forEach(u=>{const m=this.sourceBuffer[u];null!=m&&m.updating||i.shiftAndExecuteNext(u)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(n,e,i){const o=this.sourceBuffer[n];if(!o)return;const u=i.bind(this,n);this.listeners[n].push({event:e,listener:u}),o.addEventListener(e,u)}removeBufferListeners(n){const e=this.sourceBuffer[n];e&&this.listeners[n].forEach(i=>{e.removeEventListener(i.event,i.listener)})}},capLevelController:j,errorController:class MD{constructor(n){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=n,this.log=cn.log.bind(cn,"[info]:"),this.warn=cn.warn.bind(cn,"[warning]:"),this.error=cn.error.bind(cn,"[error]:"),this.registerListeners()}registerListeners(){const n=this.hls;n.on(Et.ERROR,this.onError,this),n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const n=this.hls;n&&(n.off(Et.ERROR,this.onError,this),n.off(Et.ERROR,this.onErrorOut,this),n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(n){this.playlistError=0}stopLoad(){}getVariantLevelIndex(n){return"main"===n?.type?n.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(n,e){var i,o;if(e.fatal)return;const u=this.hls,m=e.context;switch(e.details){case En.FRAG_LOAD_ERROR:case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_ERROR:case En.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case En.FRAG_PARSING_ERROR:if(null!=(i=e.frag)&&i.gap)return void(e.errorAction={action:0,flags:0});case En.FRAG_GAP:case En.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=2);case En.LEVEL_EMPTY_ERROR:case En.LEVEL_PARSING_ERROR:{var v,w;const G="main"===e.parent?e.level:u.loadLevel;e.details===En.LEVEL_EMPTY_ERROR&&null!=(v=e.context)&&null!=(w=v.levelDetails)&&w.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,G):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,G))}return;case En.LEVEL_LOAD_ERROR:case En.LEVEL_LOAD_TIMEOUT:return void("number"==typeof m?.level&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,m.level)));case En.AUDIO_TRACK_LOAD_ERROR:case En.AUDIO_TRACK_LOAD_TIMEOUT:case En.SUBTITLE_LOAD_ERROR:case En.SUBTITLE_TRACK_LOAD_TIMEOUT:if(m){const G=u.levels[u.loadLevel];if(G&&("audioTrack"===m.type&&m.groupId===G.audioGroupId||"subtitleTrack"===m.type&&m.groupId===G.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,u.loadLevel),e.errorAction.action=2,void(e.errorAction.flags=1)}return;case En.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const G=u.levels[u.loadLevel],te=G?.attrs["HDCP-LEVEL"];te&&(e.errorAction={action:2,flags:2,hdcpLevel:te})}return;case En.BUFFER_ADD_CODEC_ERROR:case En.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(o=e.level)?o:u.loadLevel));case En.INTERNAL_EXCEPTION:case En.BUFFER_APPENDING_ERROR:case En.BUFFER_APPEND_ERROR:case En.BUFFER_FULL_ERROR:case En.LEVEL_SWITCH_ERROR:case En.BUFFER_STALLED_ERROR:case En.BUFFER_SEEK_OVER_HOLE:case En.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:0,flags:0})}if(e.type===mi.KEY_SYSTEM_ERROR){const G=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,G))}}getPlaylistRetryOrSwitchAction(n,e){var i;const u=SD(this.hls.config.playlistLoadPolicy,n),m=this.playlistError++,v=null==(i=n.response)?void 0:i.code;if(yc(u,m,Lf(n),v))return{action:5,flags:0,retryConfig:u,retryCount:m};const G=this.getLevelSwitchAction(n,e);return u&&(G.retryConfig=u,G.retryCount=m),G}getFragRetryOrSwitchAction(n){const e=this.hls,i=this.getVariantLevelIndex(n.frag),o=e.levels[i],{fragLoadPolicy:u,keyLoadPolicy:m}=e.config,v=SD(n.details.startsWith("key")?m:u,n),w=e.levels.reduce((ye,Ue)=>ye+Ue.fragmentError,0);if(o){var G;n.details!==En.FRAG_GAP&&o.fragmentError++;const ye=null==(G=n.response)?void 0:G.code;if(yc(v,w,Lf(n),ye))return{action:5,flags:0,retryConfig:v,retryCount:w}}const te=this.getLevelSwitchAction(n,i);return v&&(te.retryConfig=v,te.retryCount=w),te}getLevelSwitchAction(n,e){const i=this.hls;null==e&&(e=i.loadLevel);const o=this.hls.levels[e];if(o&&(o.loadError++,i.autoLevelEnabled)){var u,m;let v=-1;const{levels:w,loadLevel:G,minAutoLevel:te,maxAutoLevel:ye}=i,Ue=null==(u=n.frag)?void 0:u.type,{type:Ge,groupId:tt}=null!=(m=n.context)?m:{};for(let ft=w.length;ft--;){const vt=(ft+G)%w.length;if(vt!==G&&vt>=te&&vt<=ye&&0===w[vt].loadError){const Lt=w[vt];if(n.details===En.FRAG_GAP&&n.frag){const qt=w[vt].details;if(qt){const zt=Pd(n.frag,qt.fragments,n.frag.start);if(null!=zt&&zt.gap)continue}}else{if("audioTrack"===Ge&&tt===Lt.audioGroupId||"subtitleTrack"===Ge&&tt===Lt.textGroupId)continue;if("audio"===Ue&&o.audioGroupId===Lt.audioGroupId||"subtitle"===Ue&&o.textGroupId===Lt.textGroupId)continue}v=vt;break}}if(v>-1&&i.loadLevel!==v)return n.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:v}}return{action:2,flags:1}}onErrorOut(n,e){var i;switch(null==(i=e.errorAction)?void 0:i.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(e),!e.errorAction.resolved&&e.details!==En.FRAG_GAP&&(e.fatal=!0)}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(n){const e=this.hls,i=n.errorAction;if(!i)return;const{flags:o,hdcpLevel:u,nextAutoLevel:m}=i;switch(o){case 0:this.switchLevel(n,m);break;case 1:i.resolved||(i.resolved=this.redundantFailover(n));break;case 2:u&&(e.maxHdcpLevel=vg[vg.indexOf(u)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}i.resolved||this.switchLevel(n,m)}switchLevel(n,e){void 0!==e&&n.errorAction&&(this.warn(`switching to level ${e} after ${n.details}`),this.hls.nextAutoLevel=e,n.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(n){const{hls:e,penalizedRenditions:i}=this,o="main"===n.parent?n.level:e.loadLevel,u=e.levels[o],m=u.url.length,v=n.frag?n.frag.urlId:u.urlId;u.urlId===v&&(!n.frag||u.details)&&this.penalizeRendition(u,n);for(let w=1;w<m;w++){const G=(v+w)%m,te=i[G];if(!te||Ff(te,n,i[v]))return this.warn(`Switching to Redundant Stream ${G+1}/${m}: "${u.url[G]}" after ${n.details}`),this.playlistError=0,e.levels.forEach(ye=>{ye.urlId=G}),e.nextLoadLevel=o,!0}return!1}penalizeRendition(n,e){const{penalizedRenditions:i}=this,o=i[n.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};o.lastErrorPerfMs=performance.now(),o.errors.push(e),o.details=n.details,i[n.urlId]=o}},fpsController:class ee{constructor(n){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=n,this.registerListeners()}setStreamController(n){this.streamController=n}registerListeners(){this.hls.on(Et.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(Et.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(n,e){const i=this.hls.config;if(i.capLevelOnFPSDrop){const o=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=o,o&&"function"==typeof o.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}checkFPS(n,e,i){const o=performance.now();if(e){if(this.lastTime){const m=i-this.lastDroppedFrames,v=e-this.lastDecodedFrames,w=1e3*m/(o-this.lastTime),G=this.hls;if(G.trigger(Et.FPS_DROP,{currentDropped:m,currentDecoded:v,totalDroppedFrames:i}),w>0&&m>G.config.fpsDroppedMonitoringThreshold*v){let te=G.currentLevel;cn.warn("drop FPS ratio greater than max allowed value for currentLevel: "+te),te>0&&(-1===G.autoLevelCapping||G.autoLevelCapping>=te)&&(te-=1,G.trigger(Et.FPS_DROP_LEVEL_CAPPING,{level:te,droppedLevel:G.currentLevel}),G.autoLevelCapping=te,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=i,this.lastDecodedFrames=e}}checkFPSInterval(){const n=this.media;if(n)if(this.isVideoPlaybackQualityAvailable){const e=n.getVideoPlaybackQuality();this.checkFPS(n,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(n,n.webkitDecodedFrameCount,n.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:h0,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function qw(){return{cueHandler:zw,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class wA extends ub{constructor(n,e,i){super(n,e,i,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:n}=this;n.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Et.ERROR,this.onError,this),n.on(Et.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(Et.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),n.on(Et.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.on(Et.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),n.on(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Et.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Et.ERROR,this.onError,this),n.off(Et.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(Et.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),n.off(Et.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.off(Et.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),n.off(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Et.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(n){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(n,e){this.mainDetails=e.details}onSubtitleFragProcessed(n,e){const{frag:i,success:o}=e;if(this.fragPrevious=i,this.state="IDLE",!o)return;const u=this.tracksBuffered[this.currentTrackId];if(!u)return;let m;const v=i.start;for(let G=0;G<u.length;G++)if(v>=u[G].start&&v<=u[G].end){m=u[G];break}const w=i.start+i.duration;m?m.end=w:(m={start:v,end:w},u.push(m)),this.fragmentTracker.fragBuffered(i)}onBufferFlushing(n,e){const{startOffset:i,endOffset:o}=e;if(0===i&&o!==Number.POSITIVE_INFINITY){const u=o-1;if(u<=0)return;e.endOffsetSubtitles=Math.max(0,u),this.tracksBuffered.forEach(m=>{for(let v=0;v<m.length;)if(m[v].end<=u)m.shift();else{if(!(m[v].start<u))break;m[v].start=u,v++}}),this.fragmentTracker.removeFragmentsInRange(i,u,"subtitle")}}onFragBuffered(n,e){var i;this.loadedmetadata||"main"!==e.frag.type||null!=(i=this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}onError(n,e){const i=e.frag;"subtitle"===i?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(n,{subtitleTracks:e}){Zf(this.levels,e)?this.levels=e.map(i=>new vc(i)):(this.tracksBuffered=[],this.levels=e.map(i=>{const o=new vc(i);return this.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(n,e){if(this.currentTrackId=e.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const i=this.levels[this.currentTrackId];this.mediaBuffer=null!=i&&i.details?this.mediaBufferTimeRanges:null,i&&this.setInterval(500)}onSubtitleTrackLoaded(n,e){var i;const{details:o,id:u}=e,{currentTrackId:m,levels:v}=this;if(!v.length)return;const w=v[m];if(u>=v.length||u!==m||!w)return;this.mediaBuffer=this.mediaBufferTimeRanges;let G=0;if(o.live||null!=(i=w.details)&&i.live){const te=this.mainDetails;if(o.deltaUpdateFailed||!te)return;const ye=te.fragments[0];w.details?(G=this.alignPlaylists(o,w.details),0===G&&ye&&(G=ye.start,Nf(o,G))):o.hasProgramDateTime&&te.hasProgramDateTime?(lb(o,te),G=o.fragments[0].start):ye&&(G=ye.start,Nf(o,G))}w.details=o,this.levelLastLoaded=u,!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(w.details,G),this.tick(),o.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(Pd(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),w.details=void 0))}_handleFragmentLoadComplete(n){const{frag:e,payload:i}=n,o=e.decryptdata,u=this.hls;if(!this.fragContextChanged(e)&&i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){const m=performance.now();this.decrypter.decrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).catch(v=>{throw u.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_DECRYPT_ERROR,fatal:!1,error:v,reason:v.message,frag:e}),v}).then(v=>{const w=performance.now();u.trigger(Et.FRAG_DECRYPTED,{frag:e,payload:v,stats:{tstart:m,tdecrypt:w}})}).catch(v=>{this.warn(`${v.name}: ${v.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:n,levels:e}=this,i=e[n];if(!e.length||!i||!i.details)return;const{config:o}=this,u=this.getLoadPosition(),m=pr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],u,o.maxBufferHole),{end:v,len:w}=m,G=this.getFwdBufferInfo(this.media,"main"),te=i.details;if(w>this.getMaxBufferLength(G?.len)+te.levelTargetDuration)return;const Ue=te.fragments,Ge=Ue.length,tt=te.edge;let ft=null;const vt=this.fragPrevious;if(v<tt){const Lt=o.maxFragLookUpTolerance,qt=v>tt-Lt?0:Lt;ft=Pd(vt,Ue,Math.max(Ue[0].start,v),qt),!ft&&vt&&vt.start<Ue[0].start&&(ft=Ue[0])}else ft=Ue[Ge-1];if(!ft)return;if(ft=this.mapToInitFragWhenRequired(ft),"initSegment"!==ft.sn){const qt=Ue[ft.sn-te.startSN-1];qt&&qt.cc===ft.cc&&"NOT_LOADED"===this.fragmentTracker.getState(qt)&&(ft=qt)}"NOT_LOADED"===this.fragmentTracker.getState(ft)&&this.loadFragment(ft,i,v)}}else this.state="IDLE"}getMaxBufferLength(n){const e=super.getMaxBufferLength();return n?Math.max(e,n):e}loadFragment(n,e,i){this.fragCurrent=n,"initSegment"===n.sn?this._loadInitSegment(n,e):(this.startFragRequested=!0,super.loadFragment(n,e,i))}get mediaBufferTimeRanges(){return new IA(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class OA extends Rd{constructor(n){super(n,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(n){this._subtitleDisplay=n,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:n}=this;n.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Et.LEVEL_LOADING,this.onLevelLoading,this),n.on(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Et.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.on(Et.ERROR,this.onError,this)}unregisterListeners(){const{hls:n}=this;n.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Et.LEVEL_LOADING,this.onLevelLoading,this),n.off(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Et.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.off(Et.ERROR,this.onError,this)}onMediaAttached(n,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(n){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,n)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),$f(this.media.textTracks).forEach(e=>{_c(e)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(n,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(n,e){const{id:i,details:o}=e,{trackId:u}=this,m=this.tracksInGroup[u];if(!m)return void this.warn(`Invalid subtitle track id ${i}`);const v=m.details;m.details=e.details,this.log(`subtitle track ${i} loaded [${o.startSN}-${o.endSN}]`),i===this.trackId&&this.playlistLoaded(i,e,v)}onLevelLoading(n,e){this.switchLevel(e.level)}onLevelSwitching(n,e){this.switchLevel(e.level)}switchLevel(n){const e=this.hls.levels[n];if(null==e||!e.textGroupIds)return;const i=e.textGroupIds[e.urlId],o=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==i){const u=this.tracks.filter(w=>!i||w.groupId===i);this.tracksInGroup=u;const m=this.findTrackId(o?.name)||this.findTrackId();this.groupId=i||null;const v={subtitleTracks:u};this.log(`Updating subtitle tracks, ${u.length} track(s) found in "${i}" group-id`),this.hls.trigger(Et.SUBTITLE_TRACKS_UPDATED,v),-1!==m&&this.setSubtitleTrack(m,o)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId,o)}findTrackId(n){const e=this.tracksInGroup;for(let i=0;i<e.length;i++){const o=e[i];if((!this.selectDefaultTrack||o.default)&&(!n||n===o.name))return o.id}return-1}onError(n,e){e.fatal||!e.context||"subtitleTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(n){this.selectDefaultTrack=!1,this.setSubtitleTrack(n,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(n){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const i=e.id,o=e.groupId;let u=e.url;if(n)try{u=n.addDirectives(u)}catch(m){this.warn(`Could not construct new URL with HLS Delivery Directives: ${m}`)}this.log(`Loading subtitle playlist for id ${i}`),this.hls.trigger(Et.SUBTITLE_TRACK_LOADING,{url:u,id:i,groupId:o,deliveryDirectives:n||null})}}toggleTrackModes(n){const{media:e,trackId:i}=this;if(!e)return;const o=$f(e.textTracks),u=o.filter(v=>v.groupId===this.groupId);if(-1===n)[].slice.call(o).forEach(v=>{v.mode="disabled"});else{const v=u[i];v&&(v.mode="disabled")}const m=u[n];m&&(m.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(n,e){var i;const o=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=n);if(this.trackId!==n&&this.toggleTrackModes(n),this.trackId===n&&(-1===n||null!=(i=o[n])&&i.details)||n<-1||n>=o.length)return;this.clearTimer();const u=o[n];if(this.log(`Switching to subtitle-track ${n}`+(u?` "${u.name}" lang:${u.lang} group:${u.groupId}`:"")),this.trackId=n,u){const{id:m,groupId:v="",name:w,type:G,url:te}=u;this.hls.trigger(Et.SUBTITLE_TRACK_SWITCH,{id:m,groupId:v,name:w,type:G,url:te});const ye=this.switchParams(u.url,e?.details);this.loadPlaylist(ye)}else this.hls.trigger(Et.SUBTITLE_TRACK_SWITCH,{id:n})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=-1;const e=$f(this.media.textTracks);for(let i=0;i<e.length;i++)if("hidden"===e[i].mode)n=i;else if("showing"===e[i].mode){n=i;break}this.subtitleTrack!==n&&(this.subtitleTrack=n)}},timelineController:class d{constructor(n){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=n,this.config=n.config,this.Cues=n.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const e=new Jg(this,"textTrack1"),i=new Jg(this,"textTrack2"),o=new Jg(this,"textTrack3"),u=new Jg(this,"textTrack4");this.cea608Parser1=new jb(1,e,i),this.cea608Parser2=new jb(3,o,u)}n.on(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Et.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(Et.FRAG_LOADING,this.onFragLoading,this),n.on(Et.FRAG_LOADED,this.onFragLoaded,this),n.on(Et.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.on(Et.FRAG_DECRYPTED,this.onFragDecrypted,this),n.on(Et.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(Et.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.on(Et.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:n}=this;n.off(Et.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Et.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(Et.FRAG_LOADING,this.onFragLoading,this),n.off(Et.FRAG_LOADED,this.onFragLoaded,this),n.off(Et.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.off(Et.FRAG_DECRYPTED,this.onFragDecrypted,this),n.off(Et.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(Et.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.off(Et.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(n,e,i,o,u){let m=!1;for(let v=u.length;v--;){const w=u[v],G=_(w[0],w[1],e,i);if(G>=0&&(w[0]=Math.min(w[0],e),w[1]=Math.max(w[1],i),m=!0,G/(i-e)>.5))return}if(m||u.push([e,i]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[n],e,i,o);else{const v=this.Cues.newCue(null,e,i,o);this.hls.trigger(Et.CUES_PARSED,{type:"captions",cues:v,track:n})}}onInitPtsFound(n,{frag:e,id:i,initPTS:o,timescale:u}){const{unparsedVttFrags:m}=this;"main"===i&&(this.initPTS[e.cc]={baseTime:o,timescale:u}),m.length&&(this.unparsedVttFrags=[],m.forEach(v=>{this.onFragLoaded(Et.FRAG_LOADED,v)}))}getExistingTrack(n){const{media:e}=this;if(e)for(let i=0;i<e.textTracks.length;i++){const o=e.textTracks[i];if(o[n])return o}return null}createCaptionsTrack(n){this.config.renderTextTracksNatively?this.createNativeTrack(n):this.createNonNativeTrack(n)}createNativeTrack(n){if(this.captionsTracks[n])return;const{captionsProperties:e,captionsTracks:i,media:o}=this,{label:u,languageCode:m}=e[n],v=this.getExistingTrack(n);if(v)i[n]=v,_c(i[n]),If(i[n],o);else{const w=this.createTextTrack("captions",u,m);w&&(w[n]=!0,i[n]=w)}}createNonNativeTrack(n){if(this.nonNativeCaptionsTracks[n])return;const e=this.captionsProperties[n];if(!e)return;const o={_id:n,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[n]=o,this.hls.trigger(Et.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[o]})}createTextTrack(n,e,i){const o=this.media;if(o)return o.addTextTrack(n,e,i)}onMediaAttaching(n,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:n}=this;Object.keys(n).forEach(e=>{_c(n[e]),delete n[e]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:n}=this;if(!n)return;const e=n.textTracks;if(e)for(let i=0;i<e.length;i++)_c(e[i])}onSubtitleTracksUpdated(n,e){const i=e.subtitleTracks||[],o=i.some(u=>u.textCodec===rp);if(this.config.enableWebVTT||o&&this.config.enableIMSC1){if(Zf(this.tracks,i))return void(this.tracks=i);if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const m=this.media?this.media.textTracks:null;this.tracks.forEach((v,w)=>{let G;if(m&&w<m.length){let te=null;for(let ye=0;ye<m.length;ye++)if(f(m[ye],v)){te=m[ye];break}te&&(G=te)}if(G)_c(G);else{const te=this._captionsOrSubtitlesFromCharacteristics(v);G=this.createTextTrack(te,v.name,v.lang),G&&(G.mode="disabled")}G&&(G.groupId=v.groupId,this.textTracks.push(G))})}else if(this.tracks.length){const m=this.tracks.map(v=>({label:v.name,kind:v.type.toLowerCase(),default:v.default,subtitleTrack:v}));this.hls.trigger(Et.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:m})}}}_captionsOrSubtitlesFromCharacteristics(n){if(n.attrs.CHARACTERISTICS){const e=/transcribes-spoken-dialog/gi.test(n.attrs.CHARACTERISTICS),i=/describes-music-and-sound/gi.test(n.attrs.CHARACTERISTICS);if(e&&i)return"captions"}return"subtitles"}onManifestLoaded(n,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach(i=>{const o=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!o)return;const m=this.captionsProperties[`textTrack${o[1]}`];m&&(m.label=i.name,i.lang&&(m.languageCode=i.lang),m.media=i)})}closedCaptionsForLevel(n){const e=this.hls.levels[n.level];return e?.attrs["CLOSED-CAPTIONS"]}onFragLoading(n,e){const{cea608Parser1:i,cea608Parser2:o,lastSn:u,lastPartIndex:m}=this;if(this.enabled&&i&&o&&"main"===e.frag.type){var v,w;const G=e.frag.sn,te=null!=(v=null==e||null==(w=e.part)?void 0:w.index)?v:-1;G===u+1||G===u&&te===m+1||(i.reset(),o.reset()),this.lastSn=G,this.lastPartIndex=te}}onFragLoaded(n,e){const{frag:i,payload:o}=e;if("subtitle"===i.type)if(o.byteLength){const u=i.decryptdata;if(null==u||!u.encrypted||"stats"in e){const v=this.tracks[i.level],w=this.vttCCs;w[i.cc]||(w[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),v&&v.textCodec===rp?this._parseIMSC1(i,o):this._parseVTTs(e)}}else this.hls.trigger(Et.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(n,e){const i=this.hls;ox(e,this.initPTS[n.cc],o=>{this._appendCues(o,n.level),i.trigger(Et.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},o=>{cn.log(`Failed to parse IMSC1: ${o}`),i.trigger(Et.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:o})})}_parseVTTs(n){var e;const{frag:i,payload:o}=n,{initPTS:u,unparsedVttFrags:m}=this,v=u.length-1;if(!u[i.cc]&&-1===v)return void m.push(n);const w=this.hls;!function FA(r,n,e,i,o,u,m){const v=new Hb,w=Ms(new Uint8Array(r)).trim().replace(LA,"\n").split("\n"),G=[],te=n?function Sb(r,n=1){return Pg(r,9e4,1/n)}(n.baseTime,n.timescale):0;let tt,ye="00:00.000",Ue=0,Ge=0,ft=!0;v.oncue=function(vt){const Lt=e[i];let qt=e.ccOffset;const zt=(Ue-te)/9e4;if(null!=Lt&&Lt.new&&(void 0!==Ge?qt=e.ccOffset=Lt.start:function(n,e,i){let o=n[e],u=n[o.prevCC];if(!u||!u.new&&o.new)return n.ccOffset=n.presentationOffset=o.start,void(o.new=!1);for(;null!=(m=u)&&m.new;){var m;n.ccOffset+=o.start-u.start,o.new=!1,o=u,u=n[o.prevCC]}n.presentationOffset=i}(e,i,zt)),zt){if(!n)return void(tt=new Error("Missing initPTS for VTT MPEGTS"));qt=zt-e.presentationOffset}const un=vt.endTime-vt.startTime,ln=ts(9e4*(vt.startTime+qt-Ge),9e4*o)/9e4;vt.startTime=Math.max(ln,0),vt.endTime=Math.max(ln+un,0);const Sn=vt.text.trim();vt.text=decodeURIComponent(encodeURIComponent(Sn)),vt.id||(vt.id=ip(vt.startTime,vt.endTime,Sn)),vt.endTime>0&&G.push(vt)},v.onparsingerror=function(vt){tt=vt},v.onflush=function(){tt?m(tt):u(G)},w.forEach(vt=>{if(ft){if(np(vt,"X-TIMESTAMP-MAP=")){ft=!1,vt.slice(16).split(",").forEach(Lt=>{np(Lt,"LOCAL:")?ye=Lt.slice(6):np(Lt,"MPEGTS:")&&(Ue=parseInt(Lt.slice(7)))});try{Ge=function(n){let e=parseInt(n.slice(-3));const i=parseInt(n.slice(-6,-4)),o=parseInt(n.slice(-9,-7)),u=n.length>9?parseInt(n.substring(0,n.indexOf(":"))):0;if(!(di(e)&&di(i)&&di(o)&&di(u)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${n}`);return e+=1e3*i,e+=6e4*o,e+=36e5*u,e}(ye)/1e3}catch(Lt){tt=Lt}return}""===vt&&(ft=!1)}v.parse(vt+"\n")}),v.flush()}(null!=(e=i.initSegment)&&e.data?sl(i.initSegment.data,new Uint8Array(o)):o,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,te=>{this._appendCues(te,i.level),w.trigger(Et.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},te=>{const ye="Missing initPTS for VTT MPEGTS"===te.message;ye?m.push(n):this._fallbackToIMSC1(i,o),cn.log(`Failed to parse VTT cue: ${te}`),!(ye&&v>i.cc)&&w.trigger(Et.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:te})})}_fallbackToIMSC1(n,e){const i=this.tracks[n.level];i.textCodec||ox(e,this.initPTS[n.cc],()=>{i.textCodec=rp,this._parseIMSC1(n,e)},()=>{i.textCodec="wvtt"})}_appendCues(n,e){const i=this.hls;if(this.config.renderTextTracksNatively){const o=this.textTracks[e];if(!o||"disabled"===o.mode)return;n.forEach(u=>gg(o,u))}else{const o=this.tracks[e];if(!o)return;i.trigger(Et.CUES_PARSED,{type:"subtitles",cues:n,track:o.default?"default":"subtitles"+e})}}onFragDecrypted(n,e){const{frag:i}=e;"subtitle"===i.type&&this.onFragLoaded(Et.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(n,e){const{cea608Parser1:i,cea608Parser2:o}=this;if(!this.enabled||!i||!o)return;const{frag:u,samples:m}=e;if("main"!==u.type||"NONE"!==this.closedCaptionsForLevel(u))for(let v=0;v<m.length;v++){const w=m[v].bytes;if(w){const G=this.extractCea608Data(w);i.addData(m[v].pts,G[0]),o.addData(m[v].pts,G[1])}}}onBufferFlushing(n,{startOffset:e,endOffset:i,endOffsetSubtitles:o,type:u}){const{media:m}=this;if(m&&!(m.currentTime<i)){if(!u||"video"===u){const{captionsTracks:v}=this;Object.keys(v).forEach(w=>Of(v[w],e,i))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==o){const{textTracks:v}=this;Object.keys(v).forEach(w=>Of(v[w],e,o))}}}extractCea608Data(n){const e=[[],[]],i=31&n[0];let o=2;for(let u=0;u<i;u++){const m=n[o++],v=127&n[o++],w=127&n[o++];if((0!==v||0!==w)&&0!=(4&m)){const te=3&m;(0===te||1===te)&&(e[te].push(v),e[te].push(w))}}return e}},audioStreamController:class Gg extends ub{constructor(n,e,i){super(n,e,i,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:n}=this;n.on(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Et.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),n.on(Et.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(Et.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.on(Et.ERROR,this.onError,this),n.on(Et.BUFFER_RESET,this.onBufferReset,this),n.on(Et.BUFFER_CREATED,this.onBufferCreated,this),n.on(Et.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(Et.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(Et.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Et.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Et.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Et.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),n.off(Et.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(Et.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.off(Et.ERROR,this.onError,this),n.off(Et.BUFFER_RESET,this.onBufferReset,this),n.off(Et.BUFFER_CREATED,this.onBufferCreated,this),n.off(Et.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(Et.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(Et.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(n,{frag:e,id:i,initPTS:o,timescale:u}){if("main"===i){const m=e.cc;this.initPTS[e.cc]={baseTime:o,timescale:u},this.log(`InitPTS for cc: ${m} found from main: ${o}`),this.videoTrackCC=m,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(n){if(!this.levels)return this.startPosition=n,void(this.state="STOPPED");const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===n?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),n=e,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var n;const{levels:i,trackId:o}=this,u=null==i||null==(n=i[o])?void 0:n.details;if(u){if(this.waitForCdnTuneIn(u))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const i=performance.now(),o=this.retryDate;(!o||i>=o||null!=(e=this.media)&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const i=this.waitingData;if(i){const{frag:o,part:u,cache:m,complete:v}=i;if(void 0!==this.initPTS[o.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const G={frag:o,part:u,payload:m.flush(),networkDetails:null};this._handleFragmentLoadProgress(G),v&&super._handleFragmentLoadComplete(G)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${o.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const w=this.getLoadPosition(),G=pr.bufferInfo(this.mediaBuffer,w,this.config.maxBufferHole);kf(G.end,this.config.maxFragLookUpTolerance,o)<0&&(this.log(`Waiting fragment cc (${o.cc}) @ ${o.start} cancelled because another fragment at ${G.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const n=this.waitingData;n&&(this.fragmentTracker.removeFragment(n.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:n}=this;null!=n&&n.readyState&&(this.lastCurrentTime=n.currentTime)}doTickIdle(){const{hls:n,levels:e,media:i,trackId:o}=this;if(null==e||!e[o]||!i&&(this.startFragRequested||!n.config.startFragPrefetch))return;const m=e[o],v=m.details;if(!v||v.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(v))return void(this.state="WAITING_TRACK");const w=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&w&&(this.bufferFlushed=!1,this.afterBufferFlushed(w,"audio","audio"));const G=this.getFwdBufferInfo(w,"audio");if(null===G)return;const{bufferedTrack:te,switchingTrack:ye}=this;if(!ye&&this._streamEnded(G,v))return n.trigger(Et.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const Ue=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),Ge=G.len,tt=this.getMaxBufferLength(Ue?.len);if(Ge>=tt&&!ye)return;const vt=v.fragments[0].start;let Lt=G.end;if(ye&&i){const ln=this.getLoadPosition();te&&ye.attrs!==te.attrs&&(Lt=ln),v.PTSKnown&&ln<vt&&(G.end>vt||G.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=vt+.05)}let qt=this.getNextFragment(Lt,v),zt=!1;if(qt&&this.isLoopLoading(qt,Lt)&&(zt=!!qt.gap,qt=this.getNextFragmentLoopLoading(qt,v,G,"main",tt)),!qt)return void(this.bufferFlushed=!0);const un=Ue&&qt.start>Ue.end+v.targetduration;if(un||(null==Ue||!Ue.len)&&G.len){const ln=this.getAppendedFrag(qt.start,"main");if(null===ln||(zt||(zt=!!ln.gap||!!un&&0===Ue.len),un&&!zt||zt&&G.nextStart&&G.nextStart<ln.end))return}this.loadFragment(qt,m,Lt)}getMaxBufferLength(n){const e=super.getMaxBufferLength();return n?Math.min(Math.max(e,n),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(n,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map(i=>new vc(i))}onAudioTrackSwitching(n,e){const i=!!e.url;this.trackId=e.id;const{fragCurrent:o}=this;o&&(o.abortRequests(),this.removeUnbufferedFrags(o.start)),this.resetLoadingState(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.switchingTrack=e,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=e,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(n,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(Et.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(n,e){var i;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:o}=this,{details:u,id:m}=e;if(!o)return void this.warn(`Audio tracks were reset while loading level ${m}`);this.log(`Track ${m} loaded [${u.startSN},${u.endSN}]${u.lastPartSn?`[part-${u.lastPartSn}-${u.lastPartIndex}]`:""},duration:${u.totalduration}`);const v=o[m];let w=0;if(u.live||null!=(i=v.details)&&i.live){const G=this.mainDetails;if(u.fragments[0]||(u.deltaUpdateFailed=!0),u.deltaUpdateFailed||!G)return;!v.details&&u.hasProgramDateTime&&G.hasProgramDateTime?(lb(u,G),w=u.fragments[0].start):w=this.alignPlaylists(u,v.details)}v.details=u,this.levelLastLoaded=m,!this.startFragRequested&&(this.mainDetails||!u.live)&&this.setStartPosition(v.details,w),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(u)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(n){var e;const{frag:i,part:o,payload:u}=n,{config:m,trackId:v,levels:w}=this;if(!w)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const G=w[v];if(!G)return void this.warn("Audio track is undefined on fragment load progress");const te=G.details;if(!te)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(i.start);const ye=m.defaultAudioCodec||G.audioCodec||"mp4a.40.2";let Ue=this.transmuxer;Ue||(Ue=this.transmuxer=new Ib(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const Ge=this.initPTS[i.cc],tt=null==(e=i.initSegment)?void 0:e.data;if(void 0!==Ge){const vt=o?o.index:-1,qt=new Uf(i.level,i.sn,i.stats.chunkCount,u.byteLength,vt,-1!==vt);Ue.push(u,tt,ye,"",i,o,te.totalduration,!1,qt,Ge)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${te.startSN} ,${te.endSN}],track ${v}`);const{cache:ft}=this.waitingData=this.waitingData||{frag:i,part:o,cache:new ka,complete:!1};ft.push(new Uint8Array(u)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(n){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(n)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(n,e){const i=e.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(n,e){const{frag:i,part:o}=e;if("audio"===i.type)if(this.fragContextChanged(i))this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==i.sn){this.fragPrevious=i;const u=this.switchingTrack;u&&(this.bufferedTrack=u,this.switchingTrack=null,this.hls.trigger(Et.AUDIO_TRACK_SWITCHED,Uo({},u)))}this.fragBufferedComplete(i,o)}else if(!this.loadedmetadata&&"main"===i.type){const u=this.videoBuffer||this.media;u&&pr.getBuffered(u).length&&(this.loadedmetadata=!0)}}onError(n,e){var i;if(e.fatal)this.state="ERROR";else switch(e.details){case En.FRAG_GAP:case En.FRAG_PARSING_ERROR:case En.FRAG_DECRYPT_ERROR:case En.FRAG_LOAD_ERROR:case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_ERROR:case En.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",e);break;case En.AUDIO_TRACK_LOAD_ERROR:case En.AUDIO_TRACK_LOAD_TIMEOUT:case En.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(i=e.context)?void 0:i.type)&&(this.state="IDLE");break;case En.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case En.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushed(n,{type:e}){"audio"===e&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(n){var e;const i="audio",{hls:o}=this,{remuxResult:u,chunkMeta:m}=n,v=this.getCurrentContext(m);if(!v)return void this.resetWhenMissingContext(m);const{frag:w,part:G,level:te}=v,{details:ye}=te,{audio:Ue,text:Ge,id3:tt,initSegment:ft}=u;if(!this.fragContextChanged(w)&&ye){if(this.state="PARSING",this.switchingTrack&&Ue&&this.completeAudioSwitch(this.switchingTrack),null!=ft&&ft.tracks){const vt=w.initSegment||w;this._bufferInitSegment(ft.tracks,vt,m),o.trigger(Et.FRAG_PARSING_INIT_SEGMENT,{frag:vt,id:i,tracks:ft.tracks})}if(Ue){const{startPTS:vt,endPTS:Lt,startDTS:qt,endDTS:zt}=Ue;G&&(G.elementaryStreams.audio={startPTS:vt,endPTS:Lt,startDTS:qt,endDTS:zt}),w.setElementaryStreamInfo("audio",vt,Lt,qt,zt),this.bufferFragmentData(Ue,w,G,m)}if(null!=tt&&null!=(e=tt.samples)&&e.length){const vt=Ar({id:i,frag:w,details:ye},tt);o.trigger(Et.FRAG_PARSING_METADATA,vt)}if(Ge){const vt=Ar({id:i,frag:w,details:ye},Ge);o.trigger(Et.FRAG_PARSING_USERDATA,vt)}}else this.fragmentTracker.removeFragment(w)}_bufferInitSegment(n,e,i){if("PARSING"!==this.state)return;n.video&&delete n.video;const o=n.audio;if(!o)return;o.levelCodec=o.codec,o.id="audio",this.log(`Init audio buffer, container:${o.container}, codecs[parsed]=[${o.codec}]`),this.hls.trigger(Et.BUFFER_CODECS,n);const u=o.initSegment;null!=u&&u.byteLength&&this.hls.trigger(Et.BUFFER_APPENDING,{type:"audio",frag:e,part:null,chunkMeta:i,parent:e.type,data:u}),this.tick()}loadFragment(n,e,i){const o=this.fragmentTracker.getState(n);var u;this.fragCurrent=n,this.switchingTrack||"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===n.sn?this._loadInitSegment(n,e):null!=(u=e.details)&&u.live&&!this.initPTS[n.cc]?(this.log(`Waiting for video PTS in continuity counter ${n.cc} of live stream before loading audio fragment ${n.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(n,e,i)):this.clearTrackerIfNeeded(n)}completeAudioSwitch(n){const{hls:e,media:i,bufferedTrack:o}=this,u=o?.attrs,m=n.attrs;i&&u&&(u.CHANNELS!==m.CHANNELS||u.NAME!==m.NAME||u.LANGUAGE!==m.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=n,this.switchingTrack=null,e.trigger(Et.AUDIO_TRACK_SWITCHED,Uo({},n))}},audioTrackController:class QD extends Rd{constructor(n){super(n,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:n}=this;n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Et.LEVEL_LOADING,this.onLevelLoading,this),n.on(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Et.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.on(Et.ERROR,this.onError,this)}unregisterListeners(){const{hls:n}=this;n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Et.LEVEL_LOADING,this.onLevelLoading,this),n.off(Et.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Et.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.off(Et.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(n,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(n,e){const{id:i,groupId:o,details:u}=e,m=this.tracksInGroup[i];if(!m||m.groupId!==o)return void this.warn(`Track with id:${i} and group:${o} not found in active group ${m.groupId}`);const v=m.details;m.details=e.details,this.log(`audio-track ${i} "${m.name}" lang:${m.lang} group:${o} loaded [${u.startSN}-${u.endSN}]`),i===this.trackId&&this.playlistLoaded(i,e,v)}onLevelLoading(n,e){this.switchLevel(e.level)}onLevelSwitching(n,e){this.switchLevel(e.level)}switchLevel(n){const e=this.hls.levels[n];if(null==e||!e.audioGroupIds)return;const i=e.audioGroupIds[e.urlId];if(this.groupId!==i){this.groupId=i||null;const o=this.tracks.filter(m=>!i||m.groupId===i);this.selectDefaultTrack&&!o.some(m=>m.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=o;const u={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group:${i}`),this.hls.trigger(Et.AUDIO_TRACKS_UPDATED,u),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(n,e){e.fatal||!e.context||"audioTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(n){this.selectDefaultTrack=!1,this.setAudioTrack(n)}setAudioTrack(n){const e=this.tracksInGroup;if(n<0||n>=e.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const i=this.currentTrack,o=e[n],{groupId:u,name:m}=o;if(this.log(`Switching to audio-track ${n} "${m}" lang:${o.lang} group:${u}`),this.trackId=n,this.currentTrack=o,this.selectDefaultTrack=!1,this.hls.trigger(Et.AUDIO_TRACK_SWITCHING,Uo({},o)),o.details&&!o.details.live)return;const v=this.switchParams(o.url,i?.details);this.loadPlaylist(v)}selectInitialTrack(){const n=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{const i=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${n.length}`);this.warn(i.message),this.hls.trigger(Et.ERROR,{type:mi.MEDIA_ERROR,details:En.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:i})}}findTrackId(n){const e=this.tracksInGroup;for(let i=0;i<e.length;i++){const o=e[i];if((!this.selectDefaultTrack||o.default)&&(!n||void 0!==n.attrs["STABLE-RENDITION-ID"]&&n.attrs["STABLE-RENDITION-ID"]===o.attrs["STABLE-RENDITION-ID"]||n.name===o.name&&n.lang===o.lang))return o.id}return-1}loadPlaylist(n){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const i=e.id,o=e.groupId;let u=e.url;if(n)try{u=n.addDirectives(u)}catch(m){this.warn(`Could not construct new URL with HLS Delivery Directives: ${m}`)}this.log(`loading audio-track playlist ${i} "${e.name}" lang:${e.lang} group:${o}`),this.clearTimer(),this.hls.trigger(Et.AUDIO_TRACK_LOADING,{url:u,id:i,groupId:o,deliveryDirectives:n||null})}}},emeController:ke,cmcdController:on,contentSteeringController:class Gn{constructor(n){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=n,this.log=cn.log.bind(cn,"[content-steering]:"),this.registerListeners()}registerListeners(){const n=this.hls;n.on(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Et.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Et.ERROR,this.onError,this)}unregisterListeners(){const n=this.hls;n&&(n.off(Et.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Et.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Et.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Et.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const n=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,n)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(n){const e=this.levels;e&&(this.levels=e.filter(i=>i!==n))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(n,e){const{contentSteering:i}=e;null!==i&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(n,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(n,e){const{errorAction:i}=e;if(2===i?.action&&1===i.flags){let o=this.pathwayPriority;const u=this.pathwayId;this.penalizedPathways[u]||(this.penalizedPathways[u]=performance.now()),!o&&this.levels&&(o=this.levels.reduce((m,v)=>(-1===m.indexOf(v.pathwayId)&&m.push(v.pathwayId),m),[])),o&&o.length>1&&(this.updatePathwayPriority(o),i.resolved=this.pathwayId!==u)}}filterParsedLevels(n){this.levels=n;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const i=n[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),e=this.getLevelsForPathway(i),this.pathwayId=i}return e.length!==n.length?(this.log(`Found ${e.length}/${n.length} levels in Pathway "${this.pathwayId}"`),e):n}getLevelsForPathway(n){return null===this.levels?[]:this.levels.filter(e=>n===e.pathwayId)}updatePathwayPriority(n){let e;this.pathwayPriority=n;const i=this.penalizedPathways,o=performance.now();Object.keys(i).forEach(u=>{o-i[u]>3e5&&delete i[u]});for(let u=0;u<n.length;u++){const m=n[u];if(i[m])continue;if(m===this.pathwayId)return;const v=this.hls.nextLoadLevel,w=this.hls.levels[v];if(e=this.getLevelsForPathway(m),e.length>0){this.log(`Setting Pathway to "${m}"`),this.pathwayId=m,this.hls.trigger(Et.LEVELS_UPDATED,{levels:e});const G=this.hls.levels[v];w&&G&&this.levels&&(G.attrs["STABLE-VARIANT-ID"]!==w.attrs["STABLE-VARIANT-ID"]&&G.bitrate!==w.bitrate&&this.log(`Unstable Pathways change from bitrate ${w.bitrate} to ${G.bitrate}`),this.hls.nextLoadLevel=v);break}}}clonePathways(n){const e=this.levels;if(!e)return;const i={},o={};n.forEach(u=>{const{ID:m,"BASE-ID":v,"URI-REPLACEMENT":w}=u;if(e.some(te=>te.pathwayId===m))return;const G=this.getLevelsForPathway(v).map(te=>{const ye=Ar({},te);ye.details=void 0,ye.url=ri(te.uri,te.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",w);const Ue=new wr(te.attrs);Ue["PATHWAY-ID"]=m;const Ge=Ue.AUDIO&&`${Ue.AUDIO}_clone_${m}`,tt=Ue.SUBTITLES&&`${Ue.SUBTITLES}_clone_${m}`;Ge&&(i[Ue.AUDIO]=Ge,Ue.AUDIO=Ge),tt&&(o[Ue.SUBTITLES]=tt,Ue.SUBTITLES=tt),ye.attrs=Ue;const ft=new vc(ye);return Bf(ft,"audio",Ge),Bf(ft,"text",tt),ft});e.push(...G),qn(this.audioTracks,i,w,m),qn(this.subtitleTracks,o,w,m)})}loadSteeringManifest(n){const e=this.hls.config,i=e.loader;let o;this.loader&&this.loader.destroy(),this.loader=new i(e);try{o=new self.URL(n)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${n}`)}if("data:"!==o.protocol){const te=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);o.searchParams.set("_HLS_pathway",this.pathwayId),o.searchParams.set("_HLS_throughput",""+te)}const u={responseType:"json",url:o.href},m=e.steeringManifestLoadPolicy.default,v=m.errorRetry||m.timeoutRetry||{},w={loadPolicy:m,timeout:m.maxLoadTimeMs,maxRetry:v.maxNumRetry||0,retryDelay:v.retryDelayMs||0,maxRetryDelay:v.maxRetryDelayMs||0},G={onSuccess:(te,ye,Ue,Ge)=>{this.log(`Loaded steering manifest: "${o}"`);const tt=te.data;if(1!==tt.VERSION)return void this.log(`Steering VERSION ${tt.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=tt.TTL;const{"RELOAD-URI":ft,"PATHWAY-CLONES":vt,"PATHWAY-PRIORITY":Lt}=tt;if(ft)try{this.uri=new self.URL(ft,o).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${ft}`)}this.scheduleRefresh(this.uri||Ue.url),vt&&this.clonePathways(vt),Lt&&this.updatePathwayPriority(Lt)},onError:(te,ye,Ue,Ge)=>{if(this.log(`Error loading steering manifest: ${te.code} ${te.text} (${ye.url})`),this.stopLoad(),410===te.code)return this.enabled=!1,void this.log(`Steering manifest ${ye.url} no longer available`);let tt=1e3*this.timeToLoad;if(429!==te.code)this.scheduleRefresh(this.uri||ye.url,tt);else{const ft=this.loader;if("function"==typeof ft?.getResponseHeader){const vt=ft.getResponseHeader("Retry-After");vt&&(tt=1e3*parseFloat(vt))}this.log(`Steering manifest ${ye.url} rate limited`)}},onTimeout:(te,ye,Ue)=>{this.log(`Timeout loading steering manifest (${ye.url})`),this.scheduleRefresh(this.uri||ye.url)}};this.log(`Requesting steering manifest: ${o}`),this.loader.load(u,w,G)}scheduleRefresh(n,e=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(n)},e)}}});function dx(r){return r&&"object"==typeof r?Array.isArray(r)?r.map(dx):Object.keys(r).reduce((n,e)=>(n[e]=dx(r[e]),n),{}):r}let Hd=(()=>{class r{static get version(){return"1.4.10"}static isSupported(){return function yA(){const r=pc();if(!r)return!1;const n=LD();return!(!r||"function"!=typeof r.isTypeSupported||!r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||n&&(!n.prototype||"function"!=typeof n.prototype.appendBuffer||"function"!=typeof n.prototype.remove))}()}static get Events(){return Et}static get ErrorTypes(){return mi}static get ErrorDetails(){return En}static get DefaultConfig(){return r.defaultConfig?r.defaultConfig:$w}static set DefaultConfig(e){r.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new jg,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function eD(r,n){if(self.console&&!0===r||"object"==typeof r){!function r0(r,...n){n.forEach(function(e){Cd[e]=r[e]?r[e].bind(r):function n0(r){const n=self.console[r];return n?n.bind(self.console,`[${r}] >`):ol}(e)})}(r,"debug","log","info","warn","error");try{Cd.log(`Debug logs enabled for "${n}" in hls.js version 1.4.10`)}catch{Cd=Sd}}else Cd=Sd}(e.debug||!1,"Hls instance");const i=this.config=function Jw(r,n){if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==n.liveMaxLatencyDurationCount&&(void 0===n.liveSyncDurationCount||n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(void 0===n.liveSyncDuration||n.liveMaxLatencyDuration<=n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const e=dx(r),o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(u=>{const m=`${"level"===u?"playlist":u}LoadPolicy`,v=void 0===n[m],w=[];o.forEach(G=>{const te=`${u}Loading${G}`,ye=n[te];if(void 0!==ye&&v){w.push(te);const Ue=e[m].default;switch(n[m]={default:Ue},G){case"TimeOut":Ue.maxLoadTimeMs=ye,Ue.maxTimeToFirstByteMs=ye;break;case"MaxRetry":Ue.errorRetry.maxNumRetry=ye,Ue.timeoutRetry.maxNumRetry=ye;break;case"RetryDelay":Ue.errorRetry.retryDelayMs=ye,Ue.timeoutRetry.retryDelayMs=ye;break;case"MaxRetryTimeout":Ue.errorRetry.maxRetryDelayMs=ye,Ue.timeoutRetry.maxRetryDelayMs=ye}}}),w.length&&cn.warn(`hls.js config: "${w.join('", "')}" setting(s) are deprecated, use "${m}": ${JSON.stringify(n[m])}`)}),Uo(Uo({},e),n)}(r.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,i.progressive&&function Qw(r){const n=r.loader;n!==co&&n!==yi?(cn.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):function Ri(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(r.loader=co,r.progressive=!0,r.enableSoftwareAES=!0,cn.log("[config]: Progressive streaming enabled, using FetchLoader"))}(i);const{abrController:o,bufferController:u,capLevelController:m,errorController:v,fpsController:w}=i,G=new v(this),te=this.abrController=new o(this),ye=this.bufferController=new u(this),Ue=this.capLevelController=new m(this),Ge=new w(this),tt=new j0(this),ft=new bD(this),vt=i.contentSteeringController,Lt=vt?new vt(this):null,qt=this.levelController=new Q0(this,Lt),zt=new AD(this),un=new PD(this.config),ln=this.streamController=new Wf(this,zt,un);Ue.setStreamController(ln),Ge.setStreamController(ln);const Sn=[tt,qt,ln];Lt&&Sn.splice(1,0,Lt),this.networkControllers=Sn;const mn=[te,ye,Ue,Ge,ft,zt];this.audioTrackController=this.createController(i.audioTrackController,Sn);const Mn=i.audioStreamController;Mn&&Sn.push(new Mn(this,zt,un)),this.subtitleTrackController=this.createController(i.subtitleTrackController,Sn);const Vn=i.subtitleStreamController;Vn&&Sn.push(new Vn(this,zt,un)),this.createController(i.timelineController,mn),un.emeController=this.emeController=this.createController(i.emeController,mn),this.cmcdController=this.createController(i.cmcdController,mn),this.latencyController=this.createController(ED,mn),this.coreComponents=mn,Sn.push(G);const pn=G.onErrorOut;"function"==typeof pn&&this.on(Et.ERROR,pn,G)}createController(e,i){if(e){const o=new e(this);return i&&i.push(o),o}return null}on(e,i,o=this){this._emitter.on(e,i,o)}once(e,i,o=this){this._emitter.once(e,i,o)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,i,o=this,u){this._emitter.off(e,i,o,u)}listeners(e){return this._emitter.listeners(e)}emit(e,i,o){return this._emitter.emit(e,i,o)}trigger(e,i){if(this.config.debug)return this.emit(e,e,i);try{return this.emit(e,e,i)}catch(o){cn.error("An internal error happened while handling event "+e+'. Error message: "'+o.message+'". Here is a stacktrace:',o),this.trigger(Et.ERROR,{type:mi.OTHER_ERROR,details:En.INTERNAL_EXCEPTION,fatal:!1,event:e,error:o})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){cn.log("destroy"),this.trigger(Et.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(i=>i.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(i=>i.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){cn.log("attachMedia"),this._media=e,this.trigger(Et.MEDIA_ATTACHING,{media:e})}detachMedia(){cn.log("detachMedia"),this.trigger(Et.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const i=this.media,o=this.url,u=this.url=Zm.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});cn.log(`loadSource:${u}`),i&&o&&(o!==u||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(i)),this.trigger(Et.MANIFEST_LOADING,{url:e})}startLoad(e=-1){cn.log(`startLoad(${e})`),this.networkControllers.forEach(i=>{i.startLoad(e)})}stopLoad(){cn.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){cn.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){cn.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,i=0){this.levelController.removeLevel(e,i)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){cn.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){cn.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){cn.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){cn.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){cn.log(`set startLevel:${e}`),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const i=!!e;i!==this.config.capLevelToPlayerSize&&(i?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=i)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(cn.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){vg.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:i}}=this;if(!e)return 0;const o=e.length;for(let u=0;u<o;u++)if(e[u].maxBitrate>=i)return u;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:i,maxHdcpLevel:o}=this;let u;if(u=-1===i&&e&&e.length?e.length-1:i,o)for(let m=u;m--;){const v=e[m].attrs["HDCP-LEVEL"];if(v&&v<=o)return m}return u}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const i=this.audioTrackController;i&&(i.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const i=this.subtitleTrackController;i&&(i.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const i=this.subtitleTrackController;i&&(i.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return r.defaultConfig=void 0,r})();function Xw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickDialogAction(u))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit;t.xp6(1),t.Oqu(e.text)}}let e1=(()=>{class r{constructor(e,i){this.dialog=e,this.options=i}onClickDialogAction(e){this.dialog.close(e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(vn.so),t.Y36(vn.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,Xw,2,1,"ng-template",6),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(o.options.title),t.xp6(3),t.hij(" ",o.options.message," "),t.xp6(3),t.Q6J("ngForOf",o.options.actions))},dependencies:[p.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();const t1=["controlsContainer"],n1=["settingsContainer"],r1=["videoPrincipalContainer"],o1=["videoTarget"];function s1(r,n){if(1&r&&(t.TgZ(0,"div",55),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.builderVideo.TranscodePrepareVideo.Title," ",e.builderVideo.TranscodePrepareVideo.Subtitle," ")}}function a1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToPreviousEpisode())}),t._UZ(1,"i",57),t.qZA()}}function l1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToNextEpisode())}),t._UZ(1,"i",59),t.qZA()}}function c1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",60,61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",62),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw(2);return t.KtG(u.focusButton(o))}),t.qZA(),t._UZ(3,"i",63),t.qZA()}}function d1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",64,65),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",62),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw(2);return t.KtG(u.focusButton(o))}),t.qZA(),t._UZ(3,"i",66),t.qZA()}}const u1=function(r){return{"show-controls":r}};function f1(r,n){if(1&r&&(t.TgZ(0,"div",67),t._uU(1," Cargando video... "),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,u1,e.showControls))}}const GA=function(r){return{selected:r}};function h1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.onClickPrincipalSettingsOption(u))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(3);t.MGl("id","stream_option_",e.index,""),t.Q6J("ngClass",t.VKq(3,GA,i.currentSelectedPrincipalSettingOption&&e.index==i.currentSelectedPrincipalSettingOption.index)),t.xp6(1),t.hij(" ",e.name," ")}}function m1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw(4);return t.KtG(m.onClickStreamOption(u))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.hYB("id","stream_option_",i.currentSelectedPrincipalSettingOption.id,"_suboption_",e.index,""),t.Q6J("ngClass",t.VKq(4,GA,i.currentSelectedPrincipalSettingOption.selectedOption&&i.currentSelectedPrincipalSettingOption.selectedOption.index==e.index)),t.xp6(1),t.hij(" ",e.name," ")}}function g1(r,n){if(1&r&&(t.TgZ(0,"section",79),t.YNc(1,m1,2,6,"ng-template",76),t.qZA()),2&r){const e=t.oxw(3);t.MGl("id","streams_suboptions_section_",e.currentSelectedPrincipalSettingOption.index,""),t.xp6(1),t.Q6J("ngForOf",e.currentSelectedPrincipalSettingOption.listOptions)}}function p1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",68,69)(2,"div",70)(3,"section",71)(4,"div",72)(5,"div",73)(6,"button",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hideSettings())}),t._UZ(7,"i",11),t.qZA()()()(),t.TgZ(8,"section",75),t.YNc(9,h1,2,5,"ng-template",76),t.qZA(),t.YNc(10,g1,2,2,"section",77),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.listPrincipalSettingsOptions),t.xp6(1),t.Q6J("ngIf",e.currentSelectedPrincipalSettingOption)}}function _1(r,n){if(1&r&&t._UZ(0,"div",80),2&r){const e=n.$implicit,i=t.oxw(3);t.Udp("display",i.checkIfDisplaySubtitles(e)?"block":"none"),t.Q6J("innerHtml",e.text,t.oJD)}}function v1(r,n){if(1&r&&t.YNc(0,_1,1,3,"ng-template",76),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.currentSubtitleData)}}function y1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"video",81,82),t.NdJ("error",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onErrorVideo())})("loadedmetadata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedMetadata())})("loadeddata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedData())})("ended",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnEndedVideo())}),t.qZA()}}const b1=function(r){return{show:r}};function E1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw();return t.KtG(!u.sharedService.isMobileDevice()&&u.onClickVideoContainer(o))})("touchstart",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw();return t.KtG(u.sharedService.isMobileDevice()&&u.onTouchVideoContainer(o))})("mousemove",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw();return t.KtG(u.onMouseMoveVideoContainer(o))}),t.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeVideo())}),t._UZ(7,"i",11),t.qZA(),t.YNc(8,s1,2,2,"div",12),t.qZA(),t.TgZ(9,"div",13)(10,"div",14)(11,"section",15)(12,"button",16)(13,"div",17,18),t._uU(15),t.qZA(),t.TgZ(16,"div",19)(17,"div",20),t.NdJ("contextmenu",function(){t.CHM(e);const o=t.MAs(22),u=t.oxw();return t.KtG(!u.sharedService.isMobileDevice()&&u.onClickSlider(o))})("click",function(){t.CHM(e);const o=t.MAs(22),u=t.oxw();return t.KtG(u.onClickSlider(o))})("touchend",function(){t.CHM(e);const o=t.MAs(22),u=t.oxw();return t.KtG(u.sharedService.isMobileDevice()&&u.onClickSlider(o))})("touchstart",function(o){t.CHM(e);const u=t.MAs(22),m=t.MAs(14),v=t.oxw();return t.KtG(v.sharedService.isMobileDevice()&&v.onTouchStartSlider(o,u,m))})("touchmove",function(o){t.CHM(e);const u=t.MAs(22),m=t.MAs(14),v=t.oxw();return t.KtG(v.sharedService.isMobileDevice()&&v.onTouchMoveSlider(o,u,m))})("mousedown",function(o){t.CHM(e);const u=t.MAs(22),m=t.oxw();return t.KtG(m.onMouseDownSlider(o,u))})("mousemove",function(o){t.CHM(e);const u=t.MAs(22),m=t.oxw();return t.KtG(m.onMouseMoveSlider(o,u))}),t._UZ(18,"div",21,22),t.TgZ(20,"div",23)(21,"div",24,25)(23,"div",26,25),t._UZ(25,"div",27,28),t.qZA()()()()(),t.TgZ(27,"div",17,29),t._uU(29),t.qZA()()(),t.TgZ(30,"section",30)(31,"div",31),t.YNc(32,a1,2,0,"button",32),t.qZA(),t.TgZ(33,"div",33)(34,"div",34),t.YNc(35,l1,2,0,"button",35),t.TgZ(36,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeObjectContain())}),t._UZ(37,"i",37),t.qZA(),t.TgZ(38,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleFullScreenVideo())}),t._UZ(39,"i",39),t.qZA(),t.TgZ(40,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showSettings())}),t._UZ(41,"i",41),t.qZA()()()(),t.TgZ(42,"div",42)(43,"div",43)(44,"section",44)(45,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.rewindVideo())}),t._UZ(46,"i",46),t.qZA(),t.YNc(47,c1,4,0,"button",47),t.YNc(48,d1,4,0,"button",48),t.TgZ(49,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.forwardVideo())}),t._UZ(50,"i",50),t.qZA()()()()()()(),t.YNc(51,f1,2,3,"div",51),t.YNc(52,p1,11,2,"section",52),t.YNc(53,v1,1,1,"ng-template",53),t.YNc(54,y1,2,0,"video",54),t.qZA()()}if(2&r){const e=t.MAs(14),i=t.MAs(19),o=t.MAs(28),u=t.oxw();t.xp6(3),t.Q6J("ngClass",t.VKq(22,b1,u.showControls)),t.xp6(5),t.Q6J("ngIf",u.builderVideo&&u.builderVideo.TranscodePrepareVideo),t.xp6(5),t.Udp("visibility",u.showControls?"":"hidden"),t.xp6(2),t.hij(" ",u.getVideoTime()," "),t.xp6(1),t.Udp("width","calc(100% - "+(e.offsetWidth+o.offsetWidth)+"px)"),t.xp6(5),t.Udp("width",i.offsetWidth+"px"),t.xp6(4),t.Udp("width",u.getSliderPogressWidth()),t.xp6(2),t.Udp("visibility",u.showControls?"":"hidden"),t.xp6(2),t.hij(" ",u.getDurationTime()," "),t.xp6(3),t.Q6J("ngIf",u.isEnablePreviousEpisodeButton()),t.xp6(3),t.Q6J("ngIf",u.isEnableNextEpisodeButton()),t.xp6(12),t.Q6J("ngIf",!u.isPlayingVideo()),t.xp6(1),t.Q6J("ngIf",u.isPlayingVideo()),t.xp6(3),t.Q6J("ngIf",!u.loadedData),t.xp6(1),t.Q6J("ngIf",u.showingSettings),t.xp6(1),t.Q6J("ngIf",u.currentSubtitleData),t.xp6(1),t.Q6J("ngIf",u.showVideoTarget)}}let HA=(()=>{class r{constructor(e,i,o,u,m,v,w,G){this.activeRoute=e,this.router=i,this.libraryService=o,this.dialog=u,this.restProvider=m,this.sharedService=v,this.ref=w,this.http=G,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigateByUrl("/landing");var e=this.activeRoute.snapshot.params.serverGuid,i=this.activeRoute.snapshot.params.mediaFileId;if(null!=e){var o=this.sharedService.mediaServers.find(u=>u.Guid==e);o&&i?this.libraryService.GetMediaItemDetailByMediaFileAndProfile(o.Url,i,this.sharedService.currentProfile.Id).then(u=>{var m=0;u.LastMediaFilePlayback&&(m=u.LastMediaFilePlayback.CurrentTime),u.MediaItem.MediaTypeId==Ke.Movie&&(this.builderVideo=this.libraryService.CreateBuilderVideoFromItem(u,o,m)),u.MediaItem.MediaTypeId==Ke.TvSerie&&(this.builderVideo=this.libraryService.CreateBuilderVideoFromEpisode(u,u.CurrentEpisode,o,m)),this.initialize()},u=>{this.router.navigateByUrl("/404")}):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}initialize(){let e=this;this.customMouseOutEvent=function(o){e.sliderContainer&&e.sliderContainer.startMove&&e.onClickSlider(e.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(o){e.deleteAllProcessesAndDirectories()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){e.ref.detectChanges()},0),this.updateMediaFilePlaybackInterval=window.setInterval(function(){e.updateMediaFilePlayback()},1e4),this.initializeVideoData()}ngOnDestroy(){this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.updateMediaFilePlaybackInterval&&window.clearInterval(this.updateMediaFilePlaybackInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction)}initializeVideoData(){this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=_n.Empty,this.restProvider.executeHttpMethodByUrl(Vt.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(i=>{this.builderVideo.LoadStatus=_n.Generated;const o=Zl().decode(i);let u=JSON.parse(o);this.builderVideo.TranscodeRunVideo=u,this.builderVideo.TranscodePrepareVideo=u.TranscodePrepareVideo,this.initializeStreams(),setTimeout(()=>{this.executeHideControls()},1e3),this.onInitializeVideo()},i=>{this.showLoadVideoErrorActionsDialog(),console.error(i)})}onTouchVideoContainer(e){this.showingSettings||this.sharedService.isMobileDevice()&&this.showControlsTemporarily(e)}onClickVideoContainer(e){this.showingSettings||(e.clicked=!0,setTimeout(()=>{e.clicked=!1},2e3),this.sharedService.isMobileDevice()||this.showControlsTemporarily(e))}onTouchStartSlider(e,i,o){this.sliderContainer=i,i.startMove=!0,this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}onTouchMoveSlider(e,i,o){i.startMove&&(this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100)}goToNextEpisode(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1,u=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o);if(-1!=u)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[u]);else{let m=e+1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(w=>w.SeasonNumber==m);if(-1!=v){let w=this.builderVideo.ItemDetail.ListSeasons[v];this.builderVideo.ItemDetail.CurrentSeason=w,w&&w.ListEpisodes&&w.ListEpisodes.length&&this.getVideoByEpisode(w.ListEpisodes[0])}}}}getVideoByEpisode(e){this.deleteAllProcessesAndDirectories();var i=this.sharedService.mediaServers.find(m=>m.Id==this.builderVideo.TranscodePrepareVideo.MediaServerId),o=this.libraryService.GetTranscodeVideoFromEpisode(this.builderVideo.ItemDetail,e,i);this.builderVideo.TranscodePrepareVideo=o,this.builderVideo.ItemDetail.ListSeasons&&(this.builderVideo.ItemDetail.CurrentSeason=this.builderVideo.ItemDetail.ListSeasons.find(m=>m.SeasonNumber==e.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.find(m=>m.EpisodeNumber==e.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=_n.Empty,this.restProvider.executeHttpMethodByUrl(Vt.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(m=>{this.builderVideo.LoadStatus=_n.Generated;const v=Zl().decode(m);let w=JSON.parse(v);this.builderVideo.TranscodeRunVideo=w,this.builderVideo.TranscodePrepareVideo=w.TranscodePrepareVideo,this.initializeStreams(),this.getVideoSource()},m=>{this.showLoadVideoErrorActionsDialog(),console.error(m)})}goToPreviousEpisode(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1,u=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o);if(-1!=u)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[u]);else{let m=e+1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(w=>w.SeasonNumber==m);if(-1!=v){let w=this.builderVideo.ItemDetail.ListSeasons[v];this.builderVideo.ItemDetail.CurrentSeason=w,w&&w.ListEpisodes&&w.ListEpisodes.length&&this.getVideoByEpisode(w.ListEpisodes[w.ListEpisodes.length-1])}}}}isEnablePreviousEpisodeButton(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o))return!0;{let m=e-1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(w=>w.SeasonNumber==m);if(-1!=v){let w=this.builderVideo.ItemDetail.ListSeasons[v];return!!(w&&w.ListEpisodes&&w.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o))return!0;{let m=e+1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(w=>w.SeasonNumber==m);if(-1!=v){let w=this.builderVideo.ItemDetail.ListSeasons[v];return!!(w&&w.ListEpisodes&&w.ListEpisodes.length)}return!1}}return!1}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(e){this.currentSelectedPrincipalSettingOption=e}onClickStreamOption(e){this.currentSelectedPrincipalSettingOption.selectedOption=e,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=e.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==e.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=e.index,this.hls.subtitleDisplay=!0))}getSubtitle(e){let i=this;this.http.get(e,{responseType:"text"}).subscribe(o=>{o&&(0,zm.Q)(o)&&(0,zm.Q)(o).entries?(i.currentSubtitleData=(0,zm.Q)(o).entries,0==i.currentSubtitleData.length?setTimeout(()=>{i.getSubtitle(e)},1e3):i.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{i.getSubtitle(e)},1e3))},o=>{console.error(o),setTimeout(()=>{i.getSubtitle(e)},1e3)})}showSubtitle(){}closeVideo(){document.fullscreenElement&&document.exitFullscreen(),this.deleteAllProcessesAndDirectories(),this.router.navigateByUrl("/home")}focusButton(e){e.focus(),this.sharedService.currentSelectedElement=e}ngAfterViewInit(){}getConfirmMessage(){var e="Vacio";switch(this.builderVideo.LoadStatus){case _n.Empty:e="Vac\xedo";break;case _n.Generated:e="Generado";break;case _n.Initialized:e="Inicializado";break;case _n.LoadedMetada:e="Cargado Metadata";break;case _n.LoadedData:e="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+e+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.builderVideo.TranscodePrepareVideo.ListAudioStreams&&this.builderVideo.TranscodePrepareVideo.ListAudioStreams.length>0&&(this.builderVideo.TranscodePrepareVideo.ListAudioStreams.forEach(e=>{let i="";"spa"==e.language&&(i="Espa\xf1ol"),"eng"==e.language&&(i="Ingles"),e.title&&(i=i+" ("+e.title+")"),e.name=i}),this.listPrincipalSettingsOptions[0].listOptions=this.builderVideo.TranscodePrepareVideo.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.builderVideo.TranscodePrepareVideo.ListAudioStreams.find(e=>1==e.isDefault)),this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams&&this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.length>0){this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.forEach(o=>{let u="";"spa"==o.language&&(u="Espa\xf1ol"),"eng"==o.language&&(u="Ingles"),o.title&&(u=u+" ("+o.title+")"),o.name=u});let e=[];e.push({index:1e6,name:"Ninguno"}),e=e.concat(this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams),this.listPrincipalSettingsOptions[1].listOptions=e;let i=this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.find(o=>1==o.isDefault);null==i&&(i=e.find(o=>1e6==o.index)),this.listPrincipalSettingsOptions[1].selectedOption=i}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=this.builderVideo&&null!=this.builderVideo.TranscodePrepareVideo.CurrentTime?this.builderVideo.TranscodePrepareVideo.CurrentTime:0}updateMediaFilePlayback(){if(this.builderVideo&&null!=this.builderVideo.TranscodePrepareVideo.TotalSeconds){var e=0;this.getCurrentVideoTime()>0&&this.getCurrentVideoTime()<=this.builderVideo.TranscodePrepareVideo.TotalSeconds&&((e=this.getCurrentVideoTime())-20<0?e=0:e-=20);let i={Title:this.builderVideo.TranscodePrepareVideo.Title,MediaFileId:this.builderVideo.TranscodePrepareVideo.VideoId,ProfileId:this.sharedService.currentProfile.Id,DurationTime:this.builderVideo.TranscodePrepareVideo.TotalSeconds,CurrentTime:e};this.builderVideo.TranscodePrepareVideo.Subtitle&&(i.Subtitle=this.builderVideo.TranscodePrepareVideo.Subtitle),this.builderVideo.ItemDetail.CurrentSeason&&(i.SeasonNumber=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode&&(i.EpisodeNumber=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber),this.libraryService.updateMediaFilePlayback(this.builderVideo.TranscodePrepareVideo.MediaServerUrl,i).then(o=>{},o=>{console.error(o)})}}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.getFormatTime(this.builderVideo.TranscodePrepareVideo.TotalSeconds):"00:00:00"}getFormatTime(e){var i=parseInt(e,10),o=Math.floor(i/3600),u=Math.floor((i-3600*o)/60),m=i-3600*o-60*u;return o<10&&(o="0"+o),u<10&&(u="0"+u),m<10&&(m="0"+m),o+":"+u+":"+m}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let e=this.getCurrentVideoTime();return null!=e&&e>0?this.getFormatTime(e):"00:00:00"}}onMouseDownSlider(e,i){this.sliderContainer=i,i.startMove=!0,this.calculateNewTimeToGo(e,i)}onMouseMoveSlider(e,i){i.startMove&&this.calculateNewTimeToGo(e,i)}calculateNewTimeToGo(e,i){this.lastTmpVideoTime=e.offsetX/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(e){if(this.lastTmpVideoTime){if(e.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let i=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(i)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let i=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(i)}this.lastTmpVideoTime=void 0}}updateVideoData(e){this.deleteAllProcessesAndDirectories();let i=To();this.sharedService.listProcessGUIDs.push(i),this.builderVideo.TranscodePrepareVideo.TimeSpan=e.toString(),this.builderVideo.TranscodePrepareVideo.ProcessGUID=i,this.builderVideo.LoadStatus=_n.Empty,this.restProvider.executeHttpMethodByUrl(Vt.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/UpdateVideoData",this.builderVideo.TranscodePrepareVideo).then(u=>{this.builderVideo.LoadStatus=_n.Generated;const m=Zl().decode(u);let v=JSON.parse(m);this.builderVideo.TranscodeRunVideo=v,this.updateAudioAndVideoList(),this.getVideoSource()},u=>{this.showLoadVideoErrorActionsDialog(),console.error(u)})}deleteAllProcessesAndDirectories(){this.sharedService.listProcessGUIDs&&this.sharedService.listProcessGUIDs.length>0&&this.deleteProcessesAndDirectories()}deleteProcessesAndDirectories(){var e=this.sharedService.listProcessGUIDs.join(",");this.restProvider.executeHttpMethodByUrl(Vt.DELETE,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/DeleteByListGuids?guids="+e).then(o=>{const u=Zl().decode(o);let m=JSON.parse(u);if(m&&m.length>0&&this.sharedService.listProcessGUIDs.length>0)for(var v=0;v<m.length;v++){let w=m[v],G=this.sharedService.listProcessGUIDs.findIndex(te=>te==w);-1!=G&&this.sharedService.listProcessGUIDs.splice(G,1)}},o=>{console.error(o)})}getSliderPogressWidth(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds){let e=this.builderVideo.TranscodePrepareVideo.TotalSeconds,o=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/e*100;return o>100&&(o=100),o+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==nt.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==nt.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(e){let i=this;this.dashMediaPlayer=mc.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.builderVideo.TranscodePrepareVideo.TotalSeconds,bufferToKeep:this.builderVideo.TranscodePrepareVideo.TotalSeconds}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,e),this.dashMediaPlayer.on(mc.MediaPlayer.events.ERROR,function(o){console.log(o),console.error("hubo un error")}),this.dashMediaPlayer.on(mc.MediaPlayer.events.PLAYBACK_ERROR,function(o){console.log(o),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(mc.MediaPlayer.events.PLAYBACK_WAITING,function(o){console.error("PLAYBACK_WAITING"),console.log(o)}),this.dashMediaPlayer.on(mc.MediaPlayer.events.BUFFER_EMPTY,function(o){console.error("BUFFER_EMPTY"),console.log(o)}),this.dashMediaPlayer.on(mc.MediaPlayer.events.STREAM_INITIALIZED,function(o){console.error("STREAM_INITIALIZED"),i.initializeVideo=!0,console.log(o)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}onInitializeVideo(){this.executeInitializeVideo()}getCurrentVideoTime(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==nt.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(e){let o=1e3*(this.getCurrentVideoTime()-1);return e.from<=o&&e.to>=o}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.builderVideo.LoadStatus=_n.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.builderVideo.LoadStatus=_n.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}executeInitializeVideo(){this.getVideoSource()}testAnyVideo(){}getVideoSource(){this.http.get(this.builderVideo.TranscodeRunVideo.VideoPath,{headers:void 0,responseType:"blob"}).subscribe(e=>{this.builderVideo.LoadStatus=_n.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("mpd")?this.displayVideoUsingDash(this.builderVideo.TranscodeRunVideo.VideoPath):-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("m3u8")?this.displayVideoUsingHLS(this.builderVideo.TranscodeRunVideo.VideoPath):(this.videoTarget.nativeElement.src=this.builderVideo.TranscodeRunVideo.VideoPath,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},e=>{console.error(e),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(e){let i=this;setTimeout(()=>{i.builderVideo.LoadStatus!=_n.LoadedData&&i.showLoadVideoErrorActionsDialog()},1e4,i),this.showVideoInFullScreen(),Hd.isSupported()?(this.hls=new Hd,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(e),this.hls.on(Hd.Events.MEDIA_ATTACHED,function(o){console.log("MEDIA_ATTACHED"),console.log(o)}),this.hls.on(Hd.Events.AUDIO_TRACK_LOADED,function(o){console.log("AUDIO_LOADED"),console.log(o)}),this.hls.on(Hd.Events.MANIFEST_LOADED,function(o){console.log("MANIFEST_LOADED"),console.log(o)}),this.hls.on(Hd.Events.MANIFEST_PARSED,function(o){console.log("MANIFEST_PARSED"),console.log(o)}),this.hls.on(Hd.Events.ERROR,function(o){i.videoTarget.nativeElement.CurrentTime=i.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(o)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=e,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(e){let i=To();this.lastTimeSpanChangeGUID=i,setTimeout(()=>{i==this.lastTimeSpanChangeGUID&&this.updateVideoData(e)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(e){this.initializeVideo=!1;let i=0;i=this.getCurrentVideoTime()-e>=0?e:this.getCurrentVideoTime(),this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==nt.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>i?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-i):(this.lastRealVideoTime=this.getCurrentVideoTime()-i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>i?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-i:(this.lastRealVideoTime=this.getCurrentVideoTime()-i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(e){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.builderVideo.TranscodePrepareVideo.TotalSeconds){let i=0;i=this.getCurrentVideoTime()+e>this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.builderVideo.TranscodePrepareVideo.TotalSeconds>this.getCurrentVideoTime()?this.builderVideo.TranscodePrepareVideo.TotalSeconds-this.getCurrentVideoTime():0:e,this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==nt.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=i?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+i):(this.lastRealVideoTime=this.getCurrentVideoTime()+i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=i?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+i:(this.lastRealVideoTime=this.getCurrentVideoTime()+i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(e){!this.showControls&&!e.clicked&&!this.showingSettings&&this.showControlsTemporarily(e)}executeShowControlsTemporarily(e,i){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{e.guid==i&&this.executeHideControls()},2e3)}showControlsTemporarily(e){if(!this.showControls){let i=To();e.guid=i,this.sharedService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(e,i)},250):this.executeShowControlsTemporarily(e,i)}}toogleVideoControls(e){this.showControls?this.showControls=!0:this.showControlsTemporarily(e)}showLoadVideoErrorActionsDialog(){var e=new vn.vA;e.disableClose=!0,e.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(e1,e).afterClosed().subscribe(i=>{"Si"==i.key&&this.onConfirmReplyVideo(),"No"==i.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.gz),t.Y36(In.F0),t.Y36(ds),t.Y36(vn.uw),t.Y36(Bt),t.Y36(It),t.Y36(t.sBO),t.Y36(le))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-video"]],viewQuery:function(i,o){if(1&i&&(t.Gf(t1,5),t.Gf(n1,5),t.Gf(r1,5),t.Gf(o1,5)),2&i){let u;t.iGM(u=t.CRH())&&(o.controlsContainer=u.first),t.iGM(u=t.CRH())&&(o.settingsContainer=u.first),t.iGM(u=t.CRH())&&(o.videoPrincipalContainer=u.first),t.iGM(u=t.CRH())&&(o.videoTarget=u.first)}},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],["class","sinovad-video-header-section-title-container",4,"ngIf"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],[1,"sinovad-video-header-section-title-container"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],["src","",2,"display","none",3,"error"],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1,2),t.YNc(3,E1,55,24,"div",3),t.qZA()()),2&i&&(t.xp6(3),t.Q6J("ngIf",o.showVideo))},dependencies:[p.mk,p.sg,p.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return r})();const T1=[{path:"",children:[{path:"home",component:hc,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"media/movies",component:hc,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"media/tvseries",component:hc,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"media/server/:serverGuid",component:hc,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"media/server/:serverGuid/libraries/:libraryId",component:hc,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"media/server/:serverGuid/libraries/:libraryId/detail",component:zC,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"media/server/:serverGuid/video/:mediaFileId",component:HA,loadChildren:()=>Promise.resolve().then(C.bind(C,3002)).then(r=>r.VideoPageModule)},{path:"search",component:Km,loadChildren:()=>C.e(316).then(C.bind(C,6316)).then(r=>r.SearchModule)},{path:"select-profile",component:Ro,loadChildren:()=>C.e(931).then(C.bind(C,6931)).then(r=>r.ProfilesModule)},{path:"add-profile",component:Hy,loadChildren:()=>C.e(931).then(C.bind(C,6931)).then(r=>r.ProfilesModule)},{path:"edit-profile/:profileGuid",component:LC,loadChildren:()=>C.e(931).then(C.bind(C,6931)).then(r=>r.ProfilesModule)},{path:"landing",component:Dv,loadChildren:()=>C.e(325).then(C.bind(C,7325)).then(r=>r.LandingPageModule)},{path:"register",component:Cv,loadChildren:()=>C.e(166).then(C.bind(C,166)).then(r=>r.RegisterAcccountPageModule)},{path:"login",component:nS,loadChildren:()=>C.e(660).then(C.bind(C,7660)).then(r=>r.LoginPageModule)},{path:"recover",component:Yu,loadChildren:()=>C.e(264).then(C.bind(C,6264)).then(r=>r.RecoverPasswordPageModule)},{path:"reset/:base64Data",component:rv,loadChildren:()=>C.e(334).then(C.bind(C,9334)).then(r=>r.ResetPasswordPageModule)},{path:"confirm/:base64Data",component:X_,loadChildren:()=>C.e(271).then(C.bind(C,4271)).then(r=>r.ConfirmEmailPageModule)},{path:"404",component:tm,loadChildren:()=>C.e(170).then(C.bind(C,7170)).then(r=>r.NotFoundPageModule)},{path:"settings/server/:serverGuid/settings/general",component:xv,loadChildren:()=>C.e(527).then(C.bind(C,1527)).then(r=>r.ServerSettingsGeneralPageModule)},{path:"settings/server/:serverGuid/manage/libraries",component:rl,loadChildren:()=>C.e(558).then(C.bind(C,7558)).then(r=>r.LibrariesModule)},{path:"settings/server/:serverGuid/settings/transcoder",component:kT,loadChildren:()=>C.e(211).then(C.bind(C,3211)).then(r=>r.TranscoderSettingssPageModule)},{path:"manage/movies",component:ay,loadChildren:()=>C.e(369).then(C.bind(C,3369)).then(r=>r.MoviesModule)},{path:"manage/tvseries",component:ff,loadChildren:()=>C.e(425).then(C.bind(C,5425)).then(r=>r.TvSeriesModule)},{path:"manage/genres",component:Gs,loadChildren:()=>C.e(153).then(C.bind(C,7153)).then(r=>r.GenresModule)},{path:"manage/menus",component:xm,loadChildren:()=>C.e(991).then(C.bind(C,3991)).then(r=>r.MenusModule)},{path:"manage/users",component:Uv,loadChildren:()=>C.e(417).then(C.bind(C,3417)).then(r=>r.UsersModule)},{path:"manage/roles",component:Gv,loadChildren:()=>C.e(111).then(C.bind(C,6111)).then(r=>r.RolesPageModule)},{path:"settings/account",component:it,loadChildren:()=>C.e(294).then(C.bind(C,8294)).then(r=>r.AccountPageModule)},{path:"",pathMatch:"full",redirectTo:"home"},{path:"web",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}]}];let S1=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[c.b2,p.ez,Ft.u5,Xa.m,Ft.UX,QM,wv,In.Bz.forChild(T1)]})}return r})();function C1(r,n){1&r&&t._UZ(0,"i",12)}const D1=function(r){return{selected:r}};function x1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onClickDropDownMenuOption(u))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t.YNc(9,C1,1,0,"i",10),t.qZA(),t.TgZ(10,"div",11),t._UZ(11,"i"),t.qZA()()()()}if(2&r){const e=n.$implicit;t.Q6J("ngClass",t.VKq(7,D1,e.isSelected)),t.xp6(4),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," "),t.xp6(3),t.Q6J("ngIf",e.isSelected),t.xp6(2),t.Tol(e.iconClass)}}function M1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.YNc(1,x1,12,9,"ng-template",2),t.qZA()}if(2&r){const e=t.oxw();t.Udp("width",e.width+"px")("top",e.top+"px")("left",e.left+"px"),t.xp6(1),t.Q6J("ngForOf",e.dropDownMenuOptions.listItems)}}let A1=(()=>{class r{constructor(e,i,o){this.ref=e,this.sharedService=i,this.router=o,this.hide=new t.vpe,this.clickItem=new t.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var e=this;return gr(function*(){yield e.sharedService.delay(100),e.show=!0,e.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(e){this.clickItem.emit(e),this.router.navigateByUrl(e.path)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(It),t.Y36(In.F0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(i,o){1&i&&t.YNc(0,M1,2,7,"div",0),2&i&&t.Q6J("ngIf",o.show)},dependencies:[Cs,p.mk,p.sg,p.O5],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return r})(),w1=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o,this.isShowing=!1}show(e){return new Promise((i,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const m=this.factoryResolver.resolveComponentFactory(A1).create(this.injector);this.lastViewRef=m.hostView,this.applicationRef.attachView(m.hostView);let v=this;const w=e.target.getBoundingClientRect();m.instance.dropDownMenuOptions=e,m.instance.left=w.left,m.instance.top=w.top+w.height,m.instance.width=w.width,m.instance.clickItem.subscribe(ye=>{m.destroy(),v.applicationRef.detachView(m.hostView),v.isShowing=!1,i(ye)}),m.instance.hide.subscribe(ye=>{m.destroy(),v.applicationRef.detachView(m.hostView),v.isShowing=!1,o(!0)}),this.isShowing=!0;const G=m.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(G)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const I1=["mediaServerButton"],ux=function(r){return{selected:r}},O1=function(){return["/settings/account"]};function P1(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.TgZ(4,"div",9)(5,"a",10)(6,"div",11),t._UZ(7,"div",12),t.TgZ(8,"div",13),t._uU(9," Cuenta "),t.qZA()()()()()),2&r){const e=t.oxw();t.xp6(3),t.AsE(" ",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(4,ux,e.isSelectedAccountOption())),t.xp6(1),t.Q6J("routerLink",t.DdM(6,O1))}}function R1(r,n){1&r&&t._UZ(0,"i",24)}function N1(r,n){1&r&&t._UZ(0,"i",25)}function L1(r,n){1&r&&t._UZ(0,"i",26)}function k1(r,n){1&r&&t._UZ(0,"i",27)}const F1=function(r,n){return{"icon-secure":r,"icon-alert":n}};function B1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14,15),t.NdJ("click",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.togleDropDownMediaServers(o))}),t.TgZ(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5),t.qZA(),t.YNc(6,R1,1,0,"i",19),t.YNc(7,N1,1,0,"i",20),t.qZA(),t.TgZ(8,"div",21),t.YNc(9,L1,1,0,"i",22),t.YNc(10,k1,1,0,"i",23),t.qZA()()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(7,ux,e.isSelectedServerOption())),t.xp6(5),t.hij(" ",e.sharedService.selectedMediaServer.FamilyName?e.sharedService.selectedMediaServer.FamilyName:e.sharedService.selectedMediaServer.DeviceName," "),t.xp6(1),t.Q6J("ngIf",e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngClass",t.WLB(9,F1,e.sharedService.selectedMediaServer.isSecureConnection,!e.sharedService.selectedMediaServer.isSecureConnection)),t.xp6(1),t.Q6J("ngIf",e.sharedService.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!e.sharedService.selectedMediaServer.isSecureConnection)}}const U1=function(r){return[r]};function j1(r,n){if(1&r&&(t.TgZ(0,"div",9)(1,"a",10)(2,"div",11),t._UZ(3,"div",12),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.Q6J("ngClass",t.VKq(3,ux,i.isSelectedSidebarOption(e))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,U1,i.getOptionPath(e))),t.xp6(4),t.hij(" ",e.name," ")}}function V1(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.YNc(4,j1,6,7,"ng-template",28),t.qZA()),2&r){const e=n.$implicit;t.xp6(3),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngForOf",e.listOptions)}}function G1(r,n){if(1&r&&t.YNc(0,V1,5,2,"ng-template",28),2&r){const e=t.oxw();t.Q6J("ngForOf",e.serverModules)}}let H1=(()=>{class r{constructor(e,i,o,u){this.dropDownServersService=e,this.activeRoute=i,this.ref=o,this.sharedService=u,this.prepareRouterOutlet=new t.vpe,this.collapseSidebar=new t.vpe,this.serverModules=[{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcoder"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}]}ngOnInit(){this.setSelectedMediaServer()}setSelectedMediaServer(){if(this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid){var e=this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i&&(this.sharedService.selectedMediaServer=i)}null==this.sharedService.selectedMediaServer&&this.sharedService.mediaServers&&this.sharedService.mediaServers.length>0&&(this.sharedService.selectedMediaServer=this.sharedService.mediaServers[0])}ngAfterViewInit(){}getOptionPath(e){return e.path.replace("{serverGuid}",this.sharedService.selectedMediaServer.Guid)}onClickModule(e){e.isCollapsed=!e.isCollapsed}togleDropDownMediaServers(e){this.showMediaServerMenuOptions(e)}showMediaServerMenuOptions(e){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(i=>{},i=>{})}getDropDownMenuOptions(){var e=void 0;if(this.mediaServerButton){let i=[];this.sharedService.mediaServers.forEach(u=>{i.push({title:u.FamilyName?u.FamilyName:u.DeviceName,subtitle:u.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:u.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+u.Guid+"/settings/general",isSelected:this.sharedService.selectedMediaServer.Id==u.Id})}),e={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:i}}return e}isSelectedSidebarOption(e){return-1!=this.getOptionPath(e).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(w1),t.Y36(In.gz),t.Y36(t.sBO),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-account"]],viewQuery:function(i,o){if(1&i&&t.Gf(I1,5),2&i){let u;t.iGM(u=t.CRH())&&(o.mediaServerButton=u.first)}},outputs:{prepareRouterOutlet:"prepareRouterOutlet",collapseSidebar:"collapseSidebar"},decls:6,vars:3,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],["ngFor","",3,"ngForOf"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,P1,10,7,"div",3),t.YNc(4,B1,11,12,"button",4),t.YNc(5,G1,1,1,"ng-template",5),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("ngIf",o.sharedService.userData),t.xp6(1),t.Q6J("ngIf",o.sharedService.selectedMediaServer),t.xp6(1),t.Q6J("ngIf",o.sharedService.selectedMediaServer&&o.serverModules&&o.serverModules.length>0))},dependencies:[Cs,p.mk,p.sg,p.O5,In.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function Y1(r,n){1&r&&t._UZ(0,"i",9)}function K1(r,n){1&r&&t._UZ(0,"i",10)}function W1(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const z1=function(r){return[r]},Z1=function(r){return{active:r}};function $1(r,n){if(1&r&&(t.TgZ(0,"li",12)(1,"a",13),t.YNc(2,W1,1,3,"i",14),t.TgZ(3,"span",7),t._uU(4),t.qZA()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,z1,e.Path))("ngClass",t.VKq(6,Z1,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function q1(r,n){if(1&r&&(t.TgZ(0,"div")(1,"ul",11),t.YNc(2,$1,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function J1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"button",4),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onClickModule(m,o))}),t.YNc(2,Y1,1,0,"i",5),t.YNc(3,K1,1,0,"i",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.YNc(6,q1,3,1,"div",8),t.qZA()}if(2&r){const e=n.$implicit;t.xp6(2),t.Q6J("ngIf",e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let Q1=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}onClickModule(e,i){i.preventDefault(),i.stopPropagation(),e.isCollapsed=!e.isCollapsed}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}isSelectedMenu(e){return-1!=e.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"ul",1),t.YNc(2,J1,7,4,"ng-template",2),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.listMenus))},dependencies:[Cs,p.mk,p.sg,p.O5,In.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function X1(r,n){1&r&&t._UZ(0,"i",10)}function eI(r,n){1&r&&t._UZ(0,"i",11)}function tI(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}function nI(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const YA=function(r){return[r]},KA=function(r){return{active:r}};function iI(r,n){if(1&r&&(t.TgZ(0,"li",13)(1,"a",14),t.YNc(2,nI,1,3,"i",7),t.TgZ(3,"span",8),t._uU(4),t.qZA()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,YA,e.Path))("ngClass",t.VKq(6,KA,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function rI(r,n){if(1&r&&(t.TgZ(0,"div")(1,"ul",12),t.YNc(2,iI,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function oI(r,n){if(1&r&&(t.TgZ(0,"li",3)(1,"button",4),t.YNc(2,X1,1,0,"i",5),t.YNc(3,eI,1,0,"i",6),t.YNc(4,tI,1,3,"i",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.YNc(7,rI,3,1,"div",9),t.qZA()),2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,YA,e.Path))("ngClass",t.VKq(9,KA,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&!e.isCollapsed),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let sI=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}ngOnInit(){}onClickModule(e){e.isCollapsed=!e.isCollapsed}isSelectedMenu(e){return-1!=decodeURIComponent(window.location.pathname).indexOf(e.Path)}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"ul",1),t.YNc(2,oI,8,11,"ng-template",2),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.mediaMenu))},dependencies:[Cs,p.mk,p.sg,p.O5,In.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function aI(r,n){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.sharedService.currentProfile)," ")}}function lI(r,n){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(3);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.sharedService.currentProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function cI(r,n){if(1&r&&(t.TgZ(0,"span",11),t._uU(1),t.qZA(),t.YNc(2,aI,2,1,"div",12),t.YNc(3,lI,3,6,"img",12)),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.currentProfile.FullName," "),t.xp6(1),t.Q6J("ngIf",null==e.sharedService.currentProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.sharedService.currentProfile.AvatarPath)}}function dI(r,n){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.hij(" ",i.sharedService.getInitials(e)," ")}}function uI(r,n){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2).$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function fI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",15,5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,u=t.oxw(3);return t.KtG(u.onSelectProfile(o))}),t.YNc(3,dI,2,1,"div",12),t.YNc(4,uI,3,6,"img",12),t.TgZ(5,"span",11),t._uU(6),t.qZA()()()}if(2&r){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(2),t.hij(" ",e.FullName," ")}}function hI(r,n){if(1&r&&t.YNc(0,fI,7,3,"li",10),2&r){const e=n.$implicit,i=t.oxw(3);t.Q6J("ngIf",i.sharedService.currentProfile&&e.Id!=i.sharedService.currentProfile.Id)}}function mI(r,n){if(1&r&&t.YNc(0,hI,1,1,"ng-template",14),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.sharedService.listProfiles)}}function gI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickAdminMode())}),t.TgZ(2,"span"),t._uU(3,"Mantenimiento"),t.qZA()()()}}function pI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),t.YNc(5,cI,4,3,"ng-template",6),t.qZA()(),t._UZ(6,"div",7),t.TgZ(7,"div",8),t.YNc(8,mI,1,1,"ng-template",6),t.TgZ(9,"li",3)(10,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickEditProfilesButton())}),t.TgZ(11,"span"),t._uU(12,"Editar perfiles"),t.qZA()()(),t.TgZ(13,"li",3)(14,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickAccountOption())}),t.TgZ(15,"span"),t._uU(16,"Cuenta"),t.qZA()()(),t.YNc(17,gI,4,0,"li",10),t.TgZ(18,"li",3)(19,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.logOut())}),t.TgZ(20,"span"),t._uU(21,"Cerrar Sesi\xf3n"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.sharedService.currentProfile),t.xp6(3),t.Q6J("ngIf",e.sharedService.listProfiles&&e.sharedService.listProfiles.length>0),t.xp6(9),t.Q6J("ngIf",e.sharedService.listMenus&&e.sharedService.listMenus.length>0)}}let _I=(()=>{class r{constructor(e,i,o){this.ref=e,this.router=i,this.sharedService=o}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onClickEditProfilesButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedService.listMenus[0].ChildMenus[0].Path)}logOut(){this.sharedService.currentProfile=void 0,this.sharedService.userData=void 0,this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(In.F0),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(i,o){1&i&&t.YNc(0,pI,22,3,"div",0),2&i&&t.Q6J("ngIf",!o.sharedService.showSplashScreen)},dependencies:[p.sg,p.O5,Oo,p.Ov],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return r})();const vI=["searchTarget"],WA=function(){return["/home"]};function yI(r,n){1&r&&(t.TgZ(0,"a",11),t._UZ(1,"i",12),t.qZA()),2&r&&t.Q6J("routerLink",t.DdM(1,WA))}const zA=function(r){return{focused:r}};function bI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),t.NdJ("ngModelChange",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.searchText=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeSearchValue())})("focus",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!0)})("blur",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!1)}),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickSearchButton())}),t._UZ(5,"i",9),t.qZA()(),t.TgZ(6,"div",15)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showNavbarSearch=!1)}),t._UZ(8,"i",16),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,zA,e.isFocusSearch)),t.xp6(1),t.Q6J("ngModel",e.searchText)}}let EI=(()=>{class r{constructor(e,i,o){this.router=e,this.restProvider=i,this.sharedService=o,this.toggleSidebar=new t.vpe,this.selectOption=new t.vpe,this.toggleMenu=new t.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const e=document.getElementById("userDropDown");document.addEventListener("click",i=>{this.showDropDown=!!i.composedPath().includes(e)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(e){this.selectOption.emit(e)}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(e){e.preventDefault(),e.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(In.F0),t.Y36(Bt),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-header"]],viewQuery:function(i,o){if(1&i&&t.Gf(vI,5),2&i){let u;t.iGM(u=t.CRH())&&(o.searchTarget=u.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(i,o){1&i&&(t.TgZ(0,"header")(1,"nav")(2,"a",0),t.NdJ("click",function(m){return o.onClickToggleSidebarButton(m)}),t._UZ(3,"i",1),t.qZA(),t.YNc(4,yI,2,2,"a",2),t.TgZ(5,"a",3),t._UZ(6,"img",4),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA(),t.TgZ(9,"div",5)(10,"input",6,7),t.NdJ("ngModelChange",function(m){return o.searchText=m})("change",function(){return o.onChangeSearchValue()})("focus",function(){return o.isFocusSearch=!0})("blur",function(){return o.isFocusSearch=!1}),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return o.onClickSearchButton()}),t._UZ(13,"i",9),t.qZA()(),t._UZ(14,"app-dropdown-user"),t.qZA(),t.YNc(15,bI,9,4,"div",10),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngIf",o.showingSidebarAccount||o.showingSidebarAdminMode),t.xp6(1),t.Q6J("routerLink",t.DdM(11,WA)),t.xp6(1),t.Q6J("src",t.lcZ(7,6,t.xi3(8,8,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngClass",t.VKq(12,zA,o.isFocusSearch&&!o.sharedService.isSmallDevice())),t.xp6(1),t.Q6J("ngModel",o.searchText),t.xp6(5),t.Q6J("ngIf",o.sharedService.isSmallDevice()&&o.showNavbarSearch))},dependencies:[Ft.Fj,Ft.JJ,Ft.On,p.mk,p.O5,In.rH,_I,Oo,p.Ov],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return r})();function TI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-header",10),t.NdJ("toggleSidebar",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickToggleSidebarButton())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("showingSidebarAccount",e.showingSidebarAccount)("showingSidebarAdminMode",e.showingSidebarAdminMode)}}function SI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-administrator",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function CI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-account",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function DI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-media",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function xI(r,n){if(1&r&&(t.TgZ(0,"section",11,12),t.YNc(2,SI,1,0,"app-sidebar-administrator",13),t.YNc(3,CI,1,0,"app-sidebar-account",13),t.YNc(4,DI,1,0,"app-sidebar-media",13),t.qZA()),2&r){const e=t.oxw();t.Udp("height","100%"),t.xp6(2),t.Q6J("ngIf",e.showingSidebarAdminMode),t.xp6(1),t.Q6J("ngIf",e.showingSidebarAccount),t.xp6(1),t.Q6J("ngIf",e.showingSidebarMedia)}}const MI=function(r){return{locked:r}};let AI=(()=>{class r{constructor(e){this.sharedService=e,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(e){this.isCollapsedSidebar=!0,this.sharedService.showSplashScreen=!1,(e instanceof tm||e instanceof HA||e instanceof nS||e instanceof Cv||e instanceof Yu||e instanceof rv||e instanceof Dv||e instanceof X_||e instanceof Ro)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof Km&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(e instanceof hc||e instanceof zC)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof it&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof kT&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof xv&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof rl&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(e instanceof ay||e instanceof ff)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1),(e instanceof xm||e instanceof ff||e instanceof ay||e instanceof Gs||e instanceof Uv||e instanceof Gv)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(e){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-web-container"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},decls:13,vars:9,consts:[[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",null,1),t.YNc(3,TI,1,2,"app-header",2),t.qZA(),t.TgZ(4,"div",3)(5,"div",null,4),t.YNc(7,xI,5,5,"section",5),t.qZA(),t.TgZ(8,"section",6,7)(10,"router-outlet",8),t.NdJ("activate",function(m){return o.onActivate(m)}),t.qZA()()(),t._UZ(11,"div",null,9),t.qZA()),2&i){const u=t.MAs(2),m=t.MAs(6),v=t.MAs(12);t.xp6(3),t.Q6J("ngIf",!o.showRouterChildWithFullDimentions),t.xp6(1),t.Udp("height","calc(100% - "+(u.offsetHeight+v.offsetHeight)+"px)"),t.xp6(3),t.Q6J("ngIf",!(o.showRouterChildWithFullDimentions||o.sharedService.isSmallDevice()&&o.isCollapsedSidebar)),t.xp6(1),t.Udp("width","calc(100% - "+m.offsetWidth+"px)"),t.Q6J("ngClass",t.VKq(7,MI,o.sharedService.isSmallDevice()&&!o.isCollapsedSidebar))}},dependencies:[p.mk,p.O5,H1,Q1,sI,EI,In.lC],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})();function wI(r,n){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),t._UZ(5,"img",6),t.ALo(6,"async"),t.ALo(7,"formatDataPipe"),t.qZA()()()()),2&r){const e=t.MAs(2);t.xp6(5),t.Udp("width",e.offsetWidth/3+"px"),t.Q6J("src",t.lcZ(6,3,t.xi3(7,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH)}}let II=(()=>{class r{constructor(e,i,o){this.restProvider=e,this.domSanitizer=i,this.sharedService=o}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Bt),t.Y36(c.H7),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(i,o){1&i&&t.YNc(0,wI,8,8,"div",0),2&i&&t.Q6J("ngIf",o.sharedService.showSplashScreen)},dependencies:[p.O5,p.Ov,Oo],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return r})();function OI(r,n){1&r&&t._UZ(0,"app-web-container")}let PI=(()=>{class r{constructor(e,i,o,u,m,v,w){this.libraryService=e,this.menuService=i,this.userService=o,this.profileService=u,this.serverService=m,this.ref=v,this.sharedService=w,this.showRootPage=!1}ngOnInit(){const e=window.location.search;if(""!=e){var i=new URLSearchParams(e).get("apiToken");null!=i&&localStorage.setItem("apiToken",i)}window.configurationData&&(this.sharedService.configurationData=window.configurationData),this.intervalCheckMediaServers=window.setInterval(function(){},15e3),localStorage.getItem("apiToken")?(this.sharedService.apiToken=localStorage.getItem("apiToken"),this.userService.getUser().then(u=>{var m=!1,v=!1;this.menuService.getManageMenu(),this.serverService.getMediaServers().then(w=>{(m=!0)&&v&&(this.showRootPage=!0,this.ref.detectChanges())},w=>{}),this.profileService.getAllProfiles().then(w=>{v=!0,m&&v&&(this.showRootPage=!0,this.ref.detectChanges())},w=>{})},u=>{console.error(u)}),this.ref.detectChanges()):(this.sharedService.apiToken=void 0,setTimeout(()=>{this.showRootPage=!0,this.ref.detectChanges()},100))}ngOnDestroy(){this.intervalCheckMediaServers&&window.clearInterval(this.intervalCheckMediaServers)}ngAfterViewInit(){let e=this;window.addEventListener("click",function(u){e.sharedService.configurationData.alwaysFullScreen&&e.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onResize(e){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ds),t.Y36(rd),t.Y36(om),t.Y36(Ql),t.Y36(fd),t.Y36(t.sBO),t.Y36(It))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sinovad-web"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},decls:4,vars:1,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[4,"ngIf"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1),t.YNc(2,OI,1,0,"app-web-container",2),t.qZA(),t._UZ(3,"app-splash-screen")),2&i&&(t.xp6(2),t.Q6J("ngIf",o.showRootPage))},dependencies:[p.O5,AI,II],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}"]})}return r})();var Tr=C(6825);function ZA(r){return new t.vHH(3e3,!1)}function Sc(r){switch(r.length){case 0:return new Tr.ZN;case 1:return r[0];default:return new Tr.ZE(r)}}function $A(r,n,e=new Map,i=new Map){const o=[],u=[];let m=-1,v=null;if(n.forEach(w=>{const G=w.get("offset"),te=G==m,ye=te&&v||new Map;w.forEach((Ue,Ge)=>{let tt=Ge,ft=Ue;if("offset"!==Ge)switch(tt=r.normalizePropertyName(tt,o),ft){case Tr.k1:ft=e.get(Ge);break;case Tr.l3:ft=i.get(Ge);break;default:ft=r.normalizeStyleValue(Ge,tt,ft,o)}ye.set(tt,ft)}),te||u.push(ye),v=ye,m=G}),o.length)throw function tO(r){return new t.vHH(3502,!1)}();return u}function fx(r,n,e,i){switch(n){case"start":r.onStart(()=>i(e&&hx(e,"start",r)));break;case"done":r.onDone(()=>i(e&&hx(e,"done",r)));break;case"destroy":r.onDestroy(()=>i(e&&hx(e,"destroy",r)))}}function hx(r,n,e){const u=mx(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),m=r._data;return null!=m&&(u._data=m),u}function mx(r,n,e,i,o="",u=0,m){return{element:r,triggerName:n,fromState:e,toState:i,phaseName:o,totalTime:u,disabled:!!m}}function Os(r,n,e){let i=r.get(n);return i||r.set(n,i=e),i}function qA(r){const n=r.indexOf(":");return[r.substring(1,n),r.slice(n+1)]}const hO=(()=>typeof document>"u"?null:document.documentElement)();function gx(r){const n=r.parentNode||r.host||null;return n===hO?null:n}let Yd=null,JA=!1;function QA(r,n){for(;n;){if(n===r)return!0;n=gx(n)}return!1}function XA(r,n,e){if(e)return Array.from(r.querySelectorAll(n));const i=r.querySelector(n);return i?[i]:[]}let ew=(()=>{class r{validateStyleProperty(e){return function gO(r){Yd||(Yd=function pO(){return typeof document<"u"?document.body:null}()||{},JA=!!Yd.style&&"WebkitAppearance"in Yd.style);let n=!0;return Yd.style&&!function mO(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in Yd.style,!n&&JA&&(n="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Yd.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return QA(e,i)}getParentElement(e){return gx(e)}query(e,i,o){return XA(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,u,m,v=[],w){return new Tr.ZN(o,u)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})(),px=(()=>{class r{static#e=this.NOOP=new ew}return r})();const _O=1e3,_x="ng-enter",zb="ng-leave",Zb="ng-trigger",$b=".ng-trigger",nw="ng-animating",vx=".ng-animating";function ml(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:yx(parseFloat(n[1]),n[2])}function yx(r,n){return"s"===n?r*_O:r}function qb(r,n,e){return r.hasOwnProperty("duration")?r:function yO(r,n,e){let o,u=0,m="";if("string"==typeof r){const v=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return n.push(ZA()),{duration:0,delay:0,easing:""};o=yx(parseFloat(v[1]),v[2]);const w=v[3];null!=w&&(u=yx(parseFloat(w),v[4]));const G=v[5];G&&(m=G)}else o=r;if(!e){let v=!1,w=n.length;o<0&&(n.push(function RI(){return new t.vHH(3100,!1)}()),v=!0),u<0&&(n.push(function NI(){return new t.vHH(3101,!1)}()),v=!0),v&&n.splice(w,0,ZA())}return{duration:o,delay:u,easing:m}}(r,n,e)}function ap(r,n={}){return Object.keys(r).forEach(e=>{n[e]=r[e]}),n}function iw(r){const n=new Map;return Object.keys(r).forEach(e=>{n.set(e,r[e])}),n}function Cc(r,n=new Map,e){if(e)for(let[i,o]of e)n.set(i,o);for(let[i,o]of r)n.set(i,o);return n}function Fa(r,n,e){n.forEach((i,o)=>{const u=Ex(o);e&&!e.has(o)&&e.set(o,r.style[u]),r.style[u]=i})}function Kd(r,n){n.forEach((e,i)=>{const o=Ex(i);r.style[o]=""})}function lp(r){return Array.isArray(r)?1==r.length?r[0]:(0,Tr.vP)(r):r}const bx=new RegExp("{{\\s*(.+?)\\s*}}","g");function ow(r){let n=[];if("string"==typeof r){let e;for(;e=bx.exec(r);)n.push(e[1]);bx.lastIndex=0}return n}function cp(r,n,e){const i=r.toString(),o=i.replace(bx,(u,m)=>{let v=n[m];return null==v&&(e.push(function kI(r){return new t.vHH(3003,!1)}()),v=""),v.toString()});return o==i?r:o}function Jb(r){const n=[];let e=r.next();for(;!e.done;)n.push(e.value),e=r.next();return n}const TO=/-+([a-z0-9])/g;function Ex(r){return r.replace(TO,(...n)=>n[1].toUpperCase())}function Ps(r,n,e){switch(n.type){case 7:return r.visitTrigger(n,e);case 0:return r.visitState(n,e);case 1:return r.visitTransition(n,e);case 2:return r.visitSequence(n,e);case 3:return r.visitGroup(n,e);case 4:return r.visitAnimate(n,e);case 5:return r.visitKeyframes(n,e);case 6:return r.visitStyle(n,e);case 8:return r.visitReference(n,e);case 9:return r.visitAnimateChild(n,e);case 10:return r.visitAnimateRef(n,e);case 11:return r.visitQuery(n,e);case 12:return r.visitStagger(n,e);default:throw function FI(r){return new t.vHH(3004,!1)}()}}function sw(r,n){return window.getComputedStyle(r)[n]}const Qb="*";function DO(r,n){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function xO(r,n,e){if(":"==r[0]){const w=function MO(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function JI(r){return new t.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof w)return void n.push(w);r=w}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function qI(r){return new t.vHH(3015,!1)}()),n;const o=i[1],u=i[2],m=i[3];n.push(aw(o,m));"<"==u[0]&&!(o==Qb&&m==Qb)&&n.push(aw(m,o))}(i,e,n)):e.push(r),e}const Xb=new Set(["true","1"]),eE=new Set(["false","0"]);function aw(r,n){const e=Xb.has(r)||eE.has(r),i=Xb.has(n)||eE.has(n);return(o,u)=>{let m=r==Qb||r==o,v=n==Qb||n==u;return!m&&e&&"boolean"==typeof o&&(m=o?Xb.has(r):eE.has(r)),!v&&i&&"boolean"==typeof u&&(v=u?Xb.has(n):eE.has(n)),m&&v}}const AO=new RegExp("s*:selfs*,?","g");function Tx(r,n,e,i){return new wO(r).build(n,e,i)}class wO{constructor(n){this._driver=n}build(n,e,i){const o=new PO(e);return this._resetContextStyleTimingState(o),Ps(this,lp(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,o=e.depCount=0;const u=[],m=[];return"@"==n.name.charAt(0)&&e.errors.push(function UI(){return new t.vHH(3006,!1)}()),n.definitions.forEach(v=>{if(this._resetContextStyleTimingState(e),0==v.type){const w=v,G=w.name;G.toString().split(/\s*,\s*/).forEach(te=>{w.name=te,u.push(this.visitState(w,e))}),w.name=G}else if(1==v.type){const w=this.visitTransition(v,e);i+=w.queryCount,o+=w.depCount,m.push(w)}else e.errors.push(function jI(){return new t.vHH(3007,!1)}())}),{type:7,name:n.name,states:u,transitions:m,queryCount:i,depCount:o,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(i.containsDynamicStyles){const u=new Set,m=o||{};i.styles.forEach(v=>{v instanceof Map&&v.forEach(w=>{ow(w).forEach(G=>{m.hasOwnProperty(G)||u.add(G)})})}),u.size&&(Jb(u.values()),e.errors.push(function VI(r,n){return new t.vHH(3008,!1)}()))}return{type:0,name:n.name,style:i,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=Ps(this,lp(n.animation),e);return{type:1,matchers:DO(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Wd(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>Ps(this,i,e)),options:Wd(n.options)}}visitGroup(n,e){const i=e.currentTime;let o=0;const u=n.steps.map(m=>{e.currentTime=i;const v=Ps(this,m,e);return o=Math.max(o,e.currentTime),v});return e.currentTime=o,{type:3,steps:u,options:Wd(n.options)}}visitAnimate(n,e){const i=function NO(r,n){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return Sx(qb(r,n).duration,0,"");const e=r;if(e.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Sx(0,0,"");return u.dynamic=!0,u.strValue=e,u}const o=qb(e,n);return Sx(o.duration,o.delay,o.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let o,u=n.styles?n.styles:(0,Tr.oB)({});if(5==u.type)o=this.visitKeyframes(u,e);else{let m=n.styles,v=!1;if(!m){v=!0;const G={};i.easing&&(G.easing=i.easing),m=(0,Tr.oB)(G)}e.currentTime+=i.duration+i.delay;const w=this.visitStyle(m,e);w.isEmptyStep=v,o=w}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let v of o)"string"==typeof v?v===Tr.l3?i.push(v):e.errors.push(new t.vHH(3002,!1)):i.push(iw(v));let u=!1,m=null;return i.forEach(v=>{if(v instanceof Map&&(v.has("easing")&&(m=v.get("easing"),v.delete("easing")),!u))for(let w of v.values())if(w.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:i,easing:m,offset:n.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let o=e.currentTime,u=e.currentTime;i&&u>0&&(u-=i.duration+i.delay),n.styles.forEach(m=>{"string"!=typeof m&&m.forEach((v,w)=>{const G=e.collectedStyles.get(e.currentQuerySelector),te=G.get(w);let ye=!0;te&&(u!=o&&u>=te.startTime&&o<=te.endTime&&(e.errors.push(function HI(r,n,e,i,o){return new t.vHH(3010,!1)}()),ye=!1),u=te.startTime),ye&&G.set(w,{startTime:u,endTime:o}),e.options&&function EO(r,n,e){const i=n.params||{},o=ow(r);o.length&&o.forEach(u=>{i.hasOwnProperty(u)||e.push(function LI(r){return new t.vHH(3001,!1)}())})}(v,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function YI(){return new t.vHH(3011,!1)}()),i;let u=0;const m=[];let v=!1,w=!1,G=0;const te=n.steps.map(Lt=>{const qt=this._makeStyleAst(Lt,e);let zt=null!=qt.offset?qt.offset:function RO(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(qt.styles),un=0;return null!=zt&&(u++,un=qt.offset=zt),w=w||un<0||un>1,v=v||un<G,G=un,m.push(un),qt});w&&e.errors.push(function KI(){return new t.vHH(3012,!1)}()),v&&e.errors.push(function WI(){return new t.vHH(3200,!1)}());const ye=n.steps.length;let Ue=0;u>0&&u<ye?e.errors.push(function zI(){return new t.vHH(3202,!1)}()):0==u&&(Ue=1/(ye-1));const Ge=ye-1,tt=e.currentTime,ft=e.currentAnimateTimings,vt=ft.duration;return te.forEach((Lt,qt)=>{const zt=Ue>0?qt==Ge?1:Ue*qt:m[qt],un=zt*vt;e.currentTime=tt+ft.delay+un,ft.duration=un,this._validateStyleAst(Lt,e),Lt.offset=zt,i.styles.push(Lt)}),i}visitReference(n,e){return{type:8,animation:Ps(this,lp(n.animation),e),options:Wd(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Wd(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Wd(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[u,m]=function IO(r){const n=!!r.split(/\s*,\s*/).find(e=>":self"==e);return n&&(r=r.replace(AO,"")),r=r.replace(/@\*/g,$b).replace(/@\w+/g,e=>$b+"-"+e.slice(1)).replace(/:animating/g,vx),[r,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+u:u,Os(e.collectedStyles,e.currentQuerySelector,new Map);const v=Ps(this,lp(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:m,animation:v,originalSelector:n.selector,options:Wd(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function ZI(){return new t.vHH(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:qb(n.timings,e.errors,!0);return{type:12,animation:Ps(this,lp(n.animation),e),timings:i,options:null}}}class PO{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wd(r){return r?(r=ap(r)).params&&(r.params=function OO(r){return r?ap(r):null}(r.params)):r={},r}function Sx(r,n,e){return{duration:r,delay:n,easing:e}}function Cx(r,n,e,i,o,u,m=null,v=!1){return{type:1,element:r,keyframes:n,preStyleProps:e,postStyleProps:i,duration:o,delay:u,totalTime:o+u,easing:m,subTimeline:v}}class tE{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const FO=new RegExp(":enter","g"),UO=new RegExp(":leave","g");function Dx(r,n,e,i,o,u=new Map,m=new Map,v,w,G=[]){return(new jO).buildKeyframes(r,n,e,i,o,u,m,v,w,G)}class jO{buildKeyframes(n,e,i,o,u,m,v,w,G,te=[]){G=G||new tE;const ye=new xx(n,e,G,o,u,te,[]);ye.options=w;const Ue=w.delay?ml(w.delay):0;ye.currentTimeline.delayNextStep(Ue),ye.currentTimeline.setStyles([m],null,ye.errors,w),Ps(this,i,ye);const Ge=ye.timelines.filter(tt=>tt.containsAnimation());if(Ge.length&&v.size){let tt;for(let ft=Ge.length-1;ft>=0;ft--){const vt=Ge[ft];if(vt.element===e){tt=vt;break}}tt&&!tt.allowOnlyTimelineStyles()&&tt.setStyles([v],null,ye.errors,w)}return Ge.length?Ge.map(tt=>tt.buildKeyframes()):[Cx(e,[],[],[],0,Ue,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(n.options),u=e.currentTimeline.currentTime,m=this._visitSubInstructions(i,o,o.options);u!=m&&e.transformIntoNewTimeline(m)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const o of n){const u=o?.delay;if(u){const m="number"==typeof u?u:ml(cp(u,o?.params??{},e.errors));i.delayNextStep(m)}}}_visitSubInstructions(n,e,i){let u=e.currentTimeline.currentTime;const m=null!=i.duration?ml(i.duration):null,v=null!=i.delay?ml(i.delay):null;return 0!==m&&n.forEach(w=>{const G=e.appendInstructionToTimeline(w,m,v);u=Math.max(u,G.duration+G.delay)}),u}visitReference(n,e){e.updateOptions(n.options,!0),Ps(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let o=e;const u=n.options;if(u&&(u.params||u.delay)&&(o=e.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=nE);const m=ml(u.delay);o.delayNextStep(m)}n.steps.length&&(n.steps.forEach(m=>Ps(this,m,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let o=e.currentTimeline.currentTime;const u=n.options&&n.options.delay?ml(n.options.delay):0;n.steps.forEach(m=>{const v=e.createSubContext(n.options);u&&v.delayNextStep(u),Ps(this,m,v),o=Math.max(o,v.currentTimeline.currentTime),i.push(v.currentTimeline)}),i.forEach(m=>e.currentTimeline.mergeTimelineCollectedStyles(m)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return qb(e.params?cp(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const u=n.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(i.duration),this.visitStyle(u,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const u=o&&o.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(u):i.setStyles(n.styles,u,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,u=i.duration,v=e.createSubContext().currentTimeline;v.easing=i.easing,n.styles.forEach(w=>{v.forwardTime((w.offset||0)*u),v.setStyles(w.styles,w.easing,e.errors,e.options),v.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(v),e.transformIntoNewTimeline(o+u),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,o=n.options||{},u=o.delay?ml(o.delay):0;u&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nE);let m=i;const v=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=v.length;let w=null;v.forEach((G,te)=>{e.currentQueryIndex=te;const ye=e.createSubContext(n.options,G);u&&ye.delayNextStep(u),G===e.element&&(w=ye.currentTimeline),Ps(this,n.animation,ye),ye.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,ye.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(m),w&&(e.currentTimeline.mergeTimelineCollectedStyles(w),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,o=e.currentTimeline,u=n.timings,m=Math.abs(u.duration),v=m*(e.currentQueryTotal-1);let w=m*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":w=v-w;break;case"full":w=i.currentStaggerTime}const te=e.currentTimeline;w&&te.delayNextStep(w);const ye=te.currentTime;Ps(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=o.currentTime-ye+(o.startTime-i.currentTimeline.startTime)}}const nE={};class xx{constructor(n,e,i,o,u,m,v,w){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=u,this.errors=m,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new iE(this._driver,e,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let o=this.options;null!=i.duration&&(o.duration=ml(i.duration)),null!=i.delay&&(o.delay=ml(i.delay));const u=i.params;if(u){let m=o.params;m||(m=this.options.params={}),Object.keys(u).forEach(v=>{(!e||!m.hasOwnProperty(v))&&(m[v]=cp(u[v],m,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return n}createSubContext(n=null,e,i){const o=e||this.element,u=new xx(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(n),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(n){return this.previousNode=nE,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},u=new VO(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,o,u,m){let v=[];if(o&&v.push(this.element),n.length>0){n=(n=n.replace(FO,"."+this._enterClassName)).replace(UO,"."+this._leaveClassName);let G=this._driver.query(this.element,n,1!=i);0!==i&&(G=i<0?G.slice(G.length+i,G.length):G.slice(0,i)),v.push(...G)}return!u&&0==v.length&&m.push(function $I(r){return new t.vHH(3014,!1)}()),v}}class iE{constructor(n,e,i,o){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new iE(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Tr.l3),this._currentKeyframe.set(e,Tr.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,o){e&&this._previousKeyframe.set("easing",e);const u=o&&o.params||{},m=function GO(r,n){const e=new Map;let i;return r.forEach(o=>{if("*"===o){i=i||n.keys();for(let u of i)e.set(u,Tr.l3)}else Cc(o,e)}),e}(n,this._globalTimelineStyles);for(let[v,w]of m){const G=cp(w,u,i);this._pendingStyles.set(v,G),this._localTimelineStyles.has(v)||this._backFill.set(v,this._globalTimelineStyles.get(v)??Tr.l3),this._updateStyle(v,G)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((v,w)=>{const G=Cc(v,new Map,this._backFill);G.forEach((te,ye)=>{te===Tr.k1?n.add(ye):te===Tr.l3&&e.add(ye)}),i||G.set("offset",w/this.duration),o.push(G)});const u=n.size?Jb(n.values()):[],m=e.size?Jb(e.values()):[];if(i){const v=o[0],w=new Map(v);v.set("offset",0),w.set("offset",1),o=[v,w]}return Cx(this.element,o,u,m,this.duration,this.startTime,this.easing,!1)}}class VO extends iE{constructor(n,e,i,o,u,m,v=!1){super(n,e,m.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=v,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const u=[],m=i+e,v=e/m,w=Cc(n[0]);w.set("offset",0),u.push(w);const G=Cc(n[0]);G.set("offset",dw(v)),u.push(G);const te=n.length-1;for(let ye=1;ye<=te;ye++){let Ue=Cc(n[ye]);const Ge=Ue.get("offset");Ue.set("offset",dw((e+Ge*i)/m)),u.push(Ue)}i=m,e=0,o="",n=u}return Cx(this.element,n,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function dw(r,n=3){const e=Math.pow(10,n-1);return Math.round(r*e)/e}class Mx{}const HO=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class YO extends Mx{normalizePropertyName(n,e){return Ex(n)}normalizeStyleValue(n,e,i,o){let u="";const m=i.toString().trim();if(HO.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)u="px";else{const v=i.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&o.push(function BI(r,n){return new t.vHH(3005,!1)}())}return m+u}}function uw(r,n,e,i,o,u,m,v,w,G,te,ye,Ue){return{type:0,element:r,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:u,toState:i,toStyles:m,timelines:v,queriedElements:w,preStyleProps:G,postStyleProps:te,totalTime:ye,errors:Ue}}const Ax={};class fw{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,o){return function KO(r,n,e,i,o){return r.some(u=>u(n,e,i,o))}(this.ast.matchers,n,e,i,o)}buildStyles(n,e,i){let o=this._stateStyles.get("*");return void 0!==n&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,i):new Map}build(n,e,i,o,u,m,v,w,G,te){const ye=[],Ue=this.ast.options&&this.ast.options.params||Ax,tt=this.buildStyles(i,v&&v.params||Ax,ye),ft=w&&w.params||Ax,vt=this.buildStyles(o,ft,ye),Lt=new Set,qt=new Map,zt=new Map,un="void"===o,ln={params:WO(ft,Ue),delay:this.ast.options?.delay},Sn=te?[]:Dx(n,e,this.ast.animation,u,m,tt,vt,ln,G,ye);let mn=0;if(Sn.forEach(Vn=>{mn=Math.max(Vn.duration+Vn.delay,mn)}),ye.length)return uw(e,this._triggerName,i,o,un,tt,vt,[],[],qt,zt,mn,ye);Sn.forEach(Vn=>{const pn=Vn.element,Xn=Os(qt,pn,new Set);Vn.preStyleProps.forEach(_i=>Xn.add(_i));const Zn=Os(zt,pn,new Set);Vn.postStyleProps.forEach(_i=>Zn.add(_i)),pn!==e&&Lt.add(pn)});const Mn=Jb(Lt.values());return uw(e,this._triggerName,i,o,un,tt,vt,Sn,Mn,qt,zt,mn)}}function WO(r,n){const e=ap(n);for(const i in r)r.hasOwnProperty(i)&&null!=r[i]&&(e[i]=r[i]);return e}class zO{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,o=ap(this.defaultParams);return Object.keys(n).forEach(u=>{const m=n[u];null!==m&&(o[u]=m)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((m,v)=>{m&&(m=cp(m,o,e));const w=this.normalizer.normalizePropertyName(v,e);m=this.normalizer.normalizeStyleValue(v,w,m,e),i.set(v,m)})}),i}}class $O{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new zO(o.style,o.options&&o.options.params||{},i))}),hw(this.states,"true","1"),hw(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new fw(n,o,this.states))}),this.fallbackTransition=function qO(r,n,e){return new fw(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,v)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,o){return this.transitionFactories.find(m=>m.match(n,e,i,o))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function hw(r,n,e){r.has(n)?r.has(e)||r.set(e,r.get(n)):r.has(e)&&r.set(n,r.get(e))}const JO=new tE;class QO{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],u=Tx(this._driver,e,i,[]);if(i.length)throw function nO(r){return new t.vHH(3503,!1)}();this._animations.set(n,u)}_buildPlayer(n,e,i){const o=n.element,u=$A(this._normalizer,n.keyframes,e,i);return this._driver.animate(o,u,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const o=[],u=this._animations.get(n);let m;const v=new Map;if(u?(m=Dx(this._driver,e,u,_x,zb,new Map,new Map,i,JO,o),m.forEach(te=>{const ye=Os(v,te.element,new Map);te.postStyleProps.forEach(Ue=>ye.set(Ue,null))})):(o.push(function iO(){return new t.vHH(3300,!1)}()),m=[]),o.length)throw function rO(r){return new t.vHH(3504,!1)}();v.forEach((te,ye)=>{te.forEach((Ue,Ge)=>{te.set(Ge,this._driver.computeStyle(ye,Ge,Tr.l3))})});const G=Sc(m.map(te=>{const ye=v.get(te.element);return this._buildPlayer(te,new Map,ye)}));return this._playersById.set(n,G),G.onDestroy(()=>this.destroy(n)),this.players.push(G),G}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function oO(r){return new t.vHH(3301,!1)}();return e}listen(n,e,i,o){const u=mx(e,"","","");return fx(this._getPlayer(n),i,u,o),()=>{}}command(n,e,i,o){if("register"==i)return void this.register(n,o[0]);if("create"==i)return void this.create(n,e,o[0]||{});const u=this._getPlayer(n);switch(i){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const mw="ng-animate-queued",wx="ng-animate-disabled",iP=[],gw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rP={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pa="__ng_removed";class Ix{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function lP(r){return r??null}(i?n.value:n),i){const u=ap(n);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const dp="void",Ox=new Ix(dp);class oP{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,qs(e,this._hostClassName)}listen(n,e,i,o){if(!this._triggers.has(e))throw function sO(r,n){return new t.vHH(3302,!1)}();if(null==i||0==i.length)throw function aO(r){return new t.vHH(3303,!1)}();if(!function cP(r){return"start"==r||"done"==r}(i))throw function lO(r,n){return new t.vHH(3400,!1)}();const u=Os(this._elementListeners,n,[]),m={name:e,phase:i,callback:o};u.push(m);const v=Os(this._engine.statesByElement,n,new Map);return v.has(e)||(qs(n,Zb),qs(n,Zb+"-"+e),v.set(e,Ox)),()=>{this._engine.afterFlush(()=>{const w=u.indexOf(m);w>=0&&u.splice(w,1),this._triggers.has(e)||v.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function cO(r){return new t.vHH(3401,!1)}();return e}trigger(n,e,i,o=!0){const u=this._getTrigger(e),m=new Px(this.id,e,n);let v=this._engine.statesByElement.get(n);v||(qs(n,Zb),qs(n,Zb+"-"+e),this._engine.statesByElement.set(n,v=new Map));let w=v.get(e);const G=new Ix(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&w&&G.absorbOptions(w.options),v.set(e,G),w||(w=Ox),G.value!==dp&&w.value===G.value){if(!function fP(r,n){const e=Object.keys(r),i=Object.keys(n);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const u=e[o];if(!n.hasOwnProperty(u)||r[u]!==n[u])return!1}return!0}(w.params,G.params)){const ft=[],vt=u.matchStyles(w.value,w.params,ft),Lt=u.matchStyles(G.value,G.params,ft);ft.length?this._engine.reportError(ft):this._engine.afterFlush(()=>{Kd(n,vt),Fa(n,Lt)})}return}const Ue=Os(this._engine.playersByElement,n,[]);Ue.forEach(ft=>{ft.namespaceId==this.id&&ft.triggerName==e&&ft.queued&&ft.destroy()});let Ge=u.matchTransition(w.value,G.value,n,G.params),tt=!1;if(!Ge){if(!o)return;Ge=u.fallbackTransition,tt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:Ge,fromState:w,toState:G,player:m,isFallbackTransition:tt}),tt||(qs(n,mw),m.onStart(()=>{Xf(n,mw)})),m.onDone(()=>{let ft=this.players.indexOf(m);ft>=0&&this.players.splice(ft,1);const vt=this._engine.playersByElement.get(n);if(vt){let Lt=vt.indexOf(m);Lt>=0&&vt.splice(Lt,1)}}),this.players.push(m),Ue.push(m),m}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,$b,!0);i.forEach(o=>{if(o[pa])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(m=>m.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,i,o){const u=this._engine.statesByElement.get(n),m=new Map;if(u){const v=[];if(u.forEach((w,G)=>{if(m.set(G,w.value),this._triggers.has(G)){const te=this.trigger(n,G,dp,o);te&&v.push(te)}}),v.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,m),i&&Sc(v).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const o=new Set;e.forEach(u=>{const m=u.name;if(o.has(m))return;o.add(m);const w=this._triggers.get(m).fallbackTransition,G=i.get(m)||Ox,te=new Ix(dp),ye=new Px(this.id,m,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:m,transition:w,fromState:G,toState:te,player:ye,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(i.totalAnimations){const u=i.players.length?i.playersByQueriedElement.get(n):[];if(u&&u.length)o=!0;else{let m=n;for(;m=m.parentNode;)if(i.statesByElement.get(m)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)i.markElementAsRemoved(this.id,n,!1,e);else{const u=n[pa];(!u||u===gw)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){qs(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const u=i.element,m=this._elementListeners.get(u);m&&m.forEach(v=>{if(v.name==i.triggerName){const w=mx(u,i.triggerName,i.fromState.value,i.toState.value);w._data=n,fx(i.player,v.phase,w,v.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const u=i.transition.ast.depCount,m=o.transition.ast.depCount;return 0==u||0==m?u-m:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class sP{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new oP(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let m=!1,v=this.driver.getParentElement(e);for(;v;){const w=o.get(v);if(w){const G=i.indexOf(w);i.splice(G+1,0,n),m=!0;break}v=this.driver.getParentElement(v)}m||i.unshift(n)}else i.push(n);return o.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let o=this._namespaceLookup[n];o&&o.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let o of i.values())if(o.namespaceId){const u=this._fetchNamespace(o.namespaceId);u&&e.add(u)}return e}trigger(n,e,i,o){if(rE(e)){const u=this._fetchNamespace(n);if(u)return u.trigger(e,i,o),!0}return!1}insertNode(n,e,i,o){if(!rE(e))return;const u=e[pa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const m=this.collectedLeaveElements.indexOf(e);m>=0&&this.collectedLeaveElements.splice(m,1)}if(n){const m=this._fetchNamespace(n);m&&m.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),qs(n,wx)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Xf(n,wx))}removeNode(n,e,i){if(rE(e)){const o=n?this._fetchNamespace(n):null;o?o.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const u=this.namespacesByHostElement.get(e);u&&u.id!==n&&u.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,o,u){this.collectedLeaveElements.push(e),e[pa]={namespaceId:n,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:u}}listen(n,e,i,o,u){return rE(e)?this._fetchNamespace(n).listen(e,i,o,u):()=>{}}_buildInstruction(n,e,i,o,u){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,o,n.fromState.options,n.toState.options,e,u)}destroyInnerAnimations(n){let e=this.driver.query(n,$b,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,vx,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Sc(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[pa];if(e&&e.setForRemoval){if(n[pa]=gw,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(wx)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)qs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Sc(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(n){throw function dO(r){return new t.vHH(3402,!1)}()}_flushAnimations(n,e){const i=new tE,o=[],u=new Map,m=[],v=new Map,w=new Map,G=new Map,te=new Set;this.disabledNodes.forEach(Hn=>{te.add(Hn);const Kn=this.driver.query(Hn,".ng-animate-queued",!0);for(let Rn=0;Rn<Kn.length;Rn++)te.add(Kn[Rn])});const ye=this.bodyNode,Ue=Array.from(this.statesByElement.keys()),Ge=vw(Ue,this.collectedEnterElements),tt=new Map;let ft=0;Ge.forEach((Hn,Kn)=>{const Rn=_x+ft++;tt.set(Kn,Rn),Hn.forEach(Yn=>qs(Yn,Rn))});const vt=[],Lt=new Set,qt=new Set;for(let Hn=0;Hn<this.collectedLeaveElements.length;Hn++){const Kn=this.collectedLeaveElements[Hn],Rn=Kn[pa];Rn&&Rn.setForRemoval&&(vt.push(Kn),Lt.add(Kn),Rn.hasAnimation?this.driver.query(Kn,".ng-star-inserted",!0).forEach(Yn=>Lt.add(Yn)):qt.add(Kn))}const zt=new Map,un=vw(Ue,Array.from(Lt));un.forEach((Hn,Kn)=>{const Rn=zb+ft++;zt.set(Kn,Rn),Hn.forEach(Yn=>qs(Yn,Rn))}),n.push(()=>{Ge.forEach((Hn,Kn)=>{const Rn=tt.get(Kn);Hn.forEach(Yn=>Xf(Yn,Rn))}),un.forEach((Hn,Kn)=>{const Rn=zt.get(Kn);Hn.forEach(Yn=>Xf(Yn,Rn))}),vt.forEach(Hn=>{this.processLeaveNode(Hn)})});const ln=[],Sn=[];for(let Hn=this._namespaceList.length-1;Hn>=0;Hn--)this._namespaceList[Hn].drainQueuedTransitions(e).forEach(Rn=>{const Yn=Rn.player,vi=Rn.element;if(ln.push(Yn),this.collectedEnterElements.length){const fr=vi[pa];if(fr&&fr.setForMove){if(fr.previousTriggersValues&&fr.previousTriggersValues.has(Rn.triggerName)){const uo=fr.previousTriggersValues.get(Rn.triggerName),Go=this.statesByElement.get(Rn.element);if(Go&&Go.has(Rn.triggerName)){const eh=Go.get(Rn.triggerName);eh.value=uo,Go.set(Rn.triggerName,eh)}}return void Yn.destroy()}}const Oi=!ye||!this.driver.containsElement(ye,vi),bi=zt.get(vi),Ji=tt.get(vi),Mi=this._buildInstruction(Rn,i,Ji,bi,Oi);if(Mi.errors&&Mi.errors.length)return void Sn.push(Mi);if(Oi)return Yn.onStart(()=>Kd(vi,Mi.fromStyles)),Yn.onDestroy(()=>Fa(vi,Mi.toStyles)),void o.push(Yn);if(Rn.isFallbackTransition)return Yn.onStart(()=>Kd(vi,Mi.fromStyles)),Yn.onDestroy(()=>Fa(vi,Mi.toStyles)),void o.push(Yn);const Lr=[];Mi.timelines.forEach(fr=>{fr.stretchStartingKeyframe=!0,this.disabledNodes.has(fr.element)||Lr.push(fr)}),Mi.timelines=Lr,i.append(vi,Mi.timelines),m.push({instruction:Mi,player:Yn,element:vi}),Mi.queriedElements.forEach(fr=>Os(v,fr,[]).push(Yn)),Mi.preStyleProps.forEach((fr,uo)=>{if(fr.size){let Go=w.get(uo);Go||w.set(uo,Go=new Set),fr.forEach((eh,zd)=>Go.add(zd))}}),Mi.postStyleProps.forEach((fr,uo)=>{let Go=G.get(uo);Go||G.set(uo,Go=new Set),fr.forEach((eh,zd)=>Go.add(zd))})});if(Sn.length){const Hn=[];Sn.forEach(Kn=>{Hn.push(function uO(r,n){return new t.vHH(3505,!1)}())}),ln.forEach(Kn=>Kn.destroy()),this.reportError(Hn)}const mn=new Map,Mn=new Map;m.forEach(Hn=>{const Kn=Hn.element;i.has(Kn)&&(Mn.set(Kn,Kn),this._beforeAnimationBuild(Hn.player.namespaceId,Hn.instruction,mn))}),o.forEach(Hn=>{const Kn=Hn.element;this._getPreviousPlayers(Kn,!1,Hn.namespaceId,Hn.triggerName,null).forEach(Yn=>{Os(mn,Kn,[]).push(Yn),Yn.destroy()})});const Vn=vt.filter(Hn=>bw(Hn,w,G)),pn=new Map;_w(pn,this.driver,qt,G,Tr.l3).forEach(Hn=>{bw(Hn,w,G)&&Vn.push(Hn)});const Zn=new Map;Ge.forEach((Hn,Kn)=>{_w(Zn,this.driver,new Set(Hn),w,Tr.k1)}),Vn.forEach(Hn=>{const Kn=pn.get(Hn),Rn=Zn.get(Hn);pn.set(Hn,new Map([...Kn?.entries()??[],...Rn?.entries()??[]]))});const _i=[],Sr=[],Ki={};m.forEach(Hn=>{const{element:Kn,player:Rn,instruction:Yn}=Hn;if(i.has(Kn)){if(te.has(Kn))return Rn.onDestroy(()=>Fa(Kn,Yn.toStyles)),Rn.disabled=!0,Rn.overrideTotalTime(Yn.totalTime),void o.push(Rn);let vi=Ki;if(Mn.size>1){let bi=Kn;const Ji=[];for(;bi=bi.parentNode;){const Mi=Mn.get(bi);if(Mi){vi=Mi;break}Ji.push(bi)}Ji.forEach(Mi=>Mn.set(Mi,vi))}const Oi=this._buildAnimation(Rn.namespaceId,Yn,mn,u,Zn,pn);if(Rn.setRealPlayer(Oi),vi===Ki)_i.push(Rn);else{const bi=this.playersByElement.get(vi);bi&&bi.length&&(Rn.parentPlayer=Sc(bi)),o.push(Rn)}}else Kd(Kn,Yn.fromStyles),Rn.onDestroy(()=>Fa(Kn,Yn.toStyles)),Sr.push(Rn),te.has(Kn)&&o.push(Rn)}),Sr.forEach(Hn=>{const Kn=u.get(Hn.element);if(Kn&&Kn.length){const Rn=Sc(Kn);Hn.setRealPlayer(Rn)}}),o.forEach(Hn=>{Hn.parentPlayer?Hn.syncPlayerEvents(Hn.parentPlayer):Hn.destroy()});for(let Hn=0;Hn<vt.length;Hn++){const Kn=vt[Hn],Rn=Kn[pa];if(Xf(Kn,zb),Rn&&Rn.hasAnimation)continue;let Yn=[];if(v.size){let Oi=v.get(Kn);Oi&&Oi.length&&Yn.push(...Oi);let bi=this.driver.query(Kn,vx,!0);for(let Ji=0;Ji<bi.length;Ji++){let Mi=v.get(bi[Ji]);Mi&&Mi.length&&Yn.push(...Mi)}}const vi=Yn.filter(Oi=>!Oi.destroyed);vi.length?dP(this,Kn,vi):this.processLeaveNode(Kn)}return vt.length=0,_i.forEach(Hn=>{this.players.push(Hn),Hn.onDone(()=>{Hn.destroy();const Kn=this.players.indexOf(Hn);this.players.splice(Kn,1)}),Hn.play()}),_i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,o,u){let m=[];if(e){const v=this.playersByQueriedElement.get(n);v&&(m=v)}else{const v=this.playersByElement.get(n);if(v){const w=!u||u==dp;v.forEach(G=>{G.queued||!w&&G.triggerName!=o||m.push(G)})}}return(i||o)&&(m=m.filter(v=>!(i&&i!=v.namespaceId||o&&o!=v.triggerName))),m}_beforeAnimationBuild(n,e,i){const u=e.element,m=e.isRemovalTransition?void 0:n,v=e.isRemovalTransition?void 0:e.triggerName;for(const w of e.timelines){const G=w.element,te=G!==u,ye=Os(i,G,[]);this._getPreviousPlayers(G,te,m,v,e.toState).forEach(Ge=>{const tt=Ge.getRealPlayer();tt.beforeDestroy&&tt.beforeDestroy(),Ge.destroy(),ye.push(Ge)})}Kd(u,e.fromStyles)}_buildAnimation(n,e,i,o,u,m){const v=e.triggerName,w=e.element,G=[],te=new Set,ye=new Set,Ue=e.timelines.map(tt=>{const ft=tt.element;te.add(ft);const vt=ft[pa];if(vt&&vt.removedBeforeQueried)return new Tr.ZN(tt.duration,tt.delay);const Lt=ft!==w,qt=function uP(r){const n=[];return yw(r,n),n}((i.get(ft)||iP).map(mn=>mn.getRealPlayer())).filter(mn=>!!mn.element&&mn.element===ft),zt=u.get(ft),un=m.get(ft),ln=$A(this._normalizer,tt.keyframes,zt,un),Sn=this._buildPlayer(tt,ln,qt);if(tt.subTimeline&&o&&ye.add(ft),Lt){const mn=new Px(n,v,ft);mn.setRealPlayer(Sn),G.push(mn)}return Sn});G.forEach(tt=>{Os(this.playersByQueriedElement,tt.element,[]).push(tt),tt.onDone(()=>function aP(r,n,e){let i=r.get(n);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&r.delete(n)}return i}(this.playersByQueriedElement,tt.element,tt))}),te.forEach(tt=>qs(tt,nw));const Ge=Sc(Ue);return Ge.onDestroy(()=>{te.forEach(tt=>Xf(tt,nw)),Fa(w,e.toStyles)}),ye.forEach(tt=>{Os(o,tt,[]).push(Ge)}),Ge}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Tr.ZN(n.duration,n.delay)}}class Px{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new Tr.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>fx(n,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Os(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function rE(r){return r&&1===r.nodeType}function pw(r,n){const e=r.style.display;return r.style.display=n??"none",e}function _w(r,n,e,i,o){const u=[];e.forEach(w=>u.push(pw(w)));const m=[];i.forEach((w,G)=>{const te=new Map;w.forEach(ye=>{const Ue=n.computeStyle(G,ye,o);te.set(ye,Ue),(!Ue||0==Ue.length)&&(G[pa]=rP,m.push(G))}),r.set(G,te)});let v=0;return e.forEach(w=>pw(w,u[v++])),m}function vw(r,n){const e=new Map;if(r.forEach(v=>e.set(v,[])),0==n.length)return e;const o=new Set(n),u=new Map;function m(v){if(!v)return 1;let w=u.get(v);if(w)return w;const G=v.parentNode;return w=e.has(G)?G:o.has(G)?1:m(G),u.set(v,w),w}return n.forEach(v=>{const w=m(v);1!==w&&e.get(w).push(v)}),e}function qs(r,n){r.classList?.add(n)}function Xf(r,n){r.classList?.remove(n)}function dP(r,n,e){Sc(e).onDone(()=>r.processLeaveNode(n))}function yw(r,n){for(let e=0;e<r.length;e++){const i=r[e];i instanceof Tr.ZE?yw(i.players,n):n.push(i)}}function bw(r,n,e){const i=e.get(r);if(!i)return!1;let o=n.get(r);return o?i.forEach(u=>o.add(u)):n.set(r,i),e.delete(r),!0}class oE{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new sP(n,e,i),this._timelineEngine=new QO(n,e,i),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(n,e,i,o,u){const m=n+"-"+o;let v=this._triggerCache[m];if(!v){const w=[],te=Tx(this._driver,u,w,[]);if(w.length)throw function eO(r,n){return new t.vHH(3404,!1)}();v=function ZO(r,n,e){return new $O(r,n,e)}(o,te,this._normalizer),this._triggerCache[m]=v}this._transitionEngine.registerTrigger(e,o,v)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,o){this._transitionEngine.insertNode(n,e,i,o)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,o){if("@"==i.charAt(0)){const[u,m]=qA(i);this._timelineEngine.command(u,e,m,o)}else this._transitionEngine.trigger(n,e,i,o)}listen(n,e,i,o,u){if("@"==i.charAt(0)){const[m,v]=qA(i);return this._timelineEngine.listen(m,e,v,u)}return this._transitionEngine.listen(n,e,i,o,u)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let mP=(()=>{class r{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let u=r.initialStylesByElement.get(e);u||r.initialStylesByElement.set(e,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Fa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fa(this._element,this._initialStyles),this._endStyles&&(Fa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Kd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kd(this._element,this._endStyles),this._endStyles=null),Fa(this._element,this._initialStyles),this._state=3)}}return r})();function Rx(r){let n=null;return r.forEach((e,i)=>{(function gP(r){return"display"===r||"position"===r})(i)&&(n=n||new Map,n.set(i,e))}),n}class Ew{constructor(n,e,i,o){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&n.set(o,this._finished?i:sw(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class pP{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return QA(n,e)}getParentElement(n){return gx(n)}query(n,e,i){return XA(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,o,u,m=[]){const w={duration:i,delay:o,fill:0==o?"both":"forwards"};u&&(w.easing=u);const G=new Map,te=m.filter(Ge=>Ge instanceof Ew);(function SO(r,n){return 0===r||0===n})(i,o)&&te.forEach(Ge=>{Ge.currentSnapshot.forEach((tt,ft)=>G.set(ft,tt))});let ye=function bO(r){return r.length?r[0]instanceof Map?r:r.map(n=>iw(n)):[]}(e).map(Ge=>Cc(Ge));ye=function CO(r,n,e){if(e.size&&n.length){let i=n[0],o=[];if(e.forEach((u,m)=>{i.has(m)||o.push(m),i.set(m,u)}),o.length)for(let u=1;u<n.length;u++){let m=n[u];o.forEach(v=>m.set(v,sw(r,v)))}}return n}(n,ye,G);const Ue=function hP(r,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=Rx(n[0]),n.length>1&&(i=Rx(n[n.length-1]))):n instanceof Map&&(e=Rx(n)),e||i?new mP(r,e,i):null}(n,ye);return new Ew(n,ye,w,Ue)}}let _P=(()=>{class r extends Tr._j{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?(0,Tr.vP)(e):e;return Tw(this._renderer,null,i,"register",[o]),new vP(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.FYo),t.LFG(p.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class vP extends Tr.LC{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new yP(this._id,n,e||{},this._renderer)}}class yP{constructor(n,e,i,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return Tw(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Tw(r,n,e,i,o){return r.setProperty(n,`@@${e}:${i}`,o)}const Sw="@.disabled";let bP=(()=>{class r{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(u,m)=>{const v=m?.parentNode(u);v&&m.removeChild(v,u)}}createRenderer(e,i){const u=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let te=this._rendererCache.get(u);return te||(te=new Cw("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,te)),te}const m=i.id,v=i.id+"-"+this._currentId;this._currentId++,this.engine.register(v,e);const w=te=>{Array.isArray(te)?te.forEach(w):this.engine.registerTrigger(m,v,e,te.name,te)};return i.data.animation.forEach(w),new EP(this,v,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[m,v]=u;m(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.FYo),t.LFG(oE),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class Cw{constructor(n,e,i,o){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,o=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,o){this.delegate.setAttribute(n,e,i,o)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,o){this.delegate.setStyle(n,e,i,o)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==Sw?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class EP extends Cw{constructor(n,e,i,o,u){super(e,i,o,u),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Sw?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const o=function TP(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let u=e.slice(1),m="";return"@"!=u.charAt(0)&&([u,m]=function SP(r){const n=r.indexOf(".");return[r.substring(0,n),r.slice(n+1)]}(u)),this.engine.listen(this.namespaceId,o,u,m,v=>{this.factory.scheduleListenerCallback(v._data||-1,i,v)})}return this.delegate.listen(n,e,i)}}let CP=(()=>{class r extends oE{constructor(e,i,o,u){super(e.body,i,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(p.K0),t.LFG(px),t.LFG(Mx),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const Dw=[{provide:Tr._j,useClass:_P},{provide:Mx,useFactory:function DP(){return new YO}},{provide:oE,useClass:CP},{provide:t.FYo,useFactory:function xP(r,n,e){return new bP(r,n,e)},deps:[c.se,oE,t.R0b]}],Nx=[{provide:px,useFactory:()=>new pP},{provide:t.QbO,useValue:"BrowserAnimations"},...Dw],xw=[{provide:px,useClass:ew},{provide:t.QbO,useValue:"NoopAnimations"},...Dw];let MP=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?xw:Nx}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:Nx,imports:[c.b2]})}return r})(),AP=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r,bootstrap:[PI]});static#n=this.\u0275inj=t.cJS({providers:[{provide:p.mr,useValue:"/"}],imports:[c.b2,Ft.u5,Xa.m,Nt,S1,fi,MP]})}return r})();c.q6().bootstrapModule(AP).catch(r=>console.error(r))},4753:(wn,Ze,C)=>{"use strict";Ze.Q=void 0;const t=C(2546),E=C(8540);Ze.Q=b=>b.startsWith("WEBVTT")?E.vttParser(b):t.srtParser(b)},2546:(wn,Ze,C)=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.srtParser=void 0;const c=C(4575),t=C(2279),O=L=>{let g,h,p,x=L.split(":");return 2===x.length?[h,p]=x:[g,h,p]=x,parseInt(p.replace(",",""),10)+60*parseInt(h,10)*1e3+60*(g?parseInt(g,10):0)*60*1e3},b=()=>({start(L){let x="ID",g={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==x;){const h=this[x](g);g=h.params,x=h.next}return g.result},ID(L){const{tokens:x,pos:g,current:h}=L;if(x.length<=g)return{next:"FINISH",params:L};if(t.isBlank(x[g]))return{next:"ID",params:{...L,pos:g+1}};const p=x[g].includes("--\x3e");return h.id=p?"":x[g],{next:"TIME_LINE",params:{...L,current:h,tokens:x,pos:p?g:g+1}}},TIME_LINE(L){const{tokens:x,pos:g,current:h}=L,p=x[g],[y,A]=p.split("--\x3e");return h.from=O(y),h.to=O(A),{next:"TEXT",params:{...L,current:h,pos:g+1}}},TEXT(L){const{tokens:x,pos:g,current:h}=L;return x.length<=g?{next:"FINISH",params:L}:(h.text=x[g],{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:g+1}})},MULTI_LINE_TEXT(L){const{tokens:x,pos:g,current:h}=L;return x.length<=g?{next:"FINISH",params:L}:t.isBlank(x[g])?{next:"FIN_ENTRY",params:L}:(h.text=`${h.text}\n${x[g]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:g+1}})},FIN_ENTRY(L){const{pos:x,current:g,result:h}=L;if(!c.isEntryFromPartial(g))throw new Error(`Parsing error current not complete ${JSON.stringify(g)}`);return h.push(g),{next:"ID",params:{...L,current:{},pos:x+1}}},FINISH:L=>({next:"FINISH",params:L})});Ze.srtParser=L=>({entries:b().start(L)})},4575:(wn,Ze)=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.isEntryFromPartial=void 0,Ze.isEntryFromPartial=c=>"string"==typeof c.id&&"number"==typeof c.from&&"number"==typeof c.to&&"string"==typeof c.text},2279:(wn,Ze)=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.isBlank=void 0,Ze.isBlank=c=>!c||/^\s*$/.test(c)},8540:(wn,Ze,C)=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.vttParser=void 0;const c=C(4575),t=C(2279),O=L=>{let g,h,p,x=L.split(":");return 2===x.length?[h,p]=x:[g,h,p]=x,parseInt(p.replace(".",""),10)+60*parseInt(h,10)*1e3+60*(g?parseInt(g,10):0)*60*1e3},b=()=>({start(L){let x="HEADER",g={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==x;){const h=this[x](g);g=h.params,x=h.next}return g.result},HEADER:L=>({next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:L.pos+1}}),ID_OR_NOTE_OR_STYLE(L){const{tokens:x,pos:g}=L;return x.length<=g?{next:"FINISH",params:L}:t.isBlank(x[g])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:g+1}}:x[g].toUpperCase().includes("NOTE")?{next:"NOTE",params:L}:x[g].toUpperCase().includes("STYLE")?{next:"STYLE",params:L}:{next:"ID",params:L}},STYLE(L){const{tokens:x,pos:g}=L;return t.isBlank(x[g])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:g+1}}:{next:"STYLE",params:{...L,pos:g+1}}},NOTE(L){const{tokens:x,pos:g}=L;return t.isBlank(x[g])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:g+1}}:{next:"STYLE",params:{...L,pos:g+1}}},ID(L){const{tokens:x,pos:g,current:h}=L;if(x.length<=g)return{next:"FINISH",params:L};if(t.isBlank(x[g]))return{next:"ID",params:{...L,pos:g+1}};const p=x[g].includes("--\x3e");return h.id=p?"":x[g],{next:"TIME_LINE",params:{...L,current:h,tokens:x,pos:p?g:g+1}}},TIME_LINE(L){const{tokens:x,pos:g,current:h}=L,p=x[g],[y,A]=p.split("--\x3e");return h.from=O(y),h.to=O(A),{next:"TEXT",params:{...L,current:h,pos:g+1}}},TEXT(L){const{tokens:x,pos:g,current:h}=L;return x.length<=g?{next:"FINISH",params:L}:(h.text=x[g],{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:g+1}})},MULTI_LINE_TEXT(L){const{tokens:x,pos:g,current:h}=L;return x.length<=g?{next:"FINISH",params:L}:t.isBlank(x[g])?{next:"FIN_ENTRY",params:L}:(h.text=`${h.text}\n${x[g]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:g+1}})},FIN_ENTRY(L){const{pos:x,current:g,result:h}=L;if(!c.isEntryFromPartial(g))throw new Error(`Parsing error current not complete ${JSON.stringify(g)}`);return h.push(g),{next:"ID_OR_NOTE_OR_STYLE",params:{...L,current:{},pos:x+1}}},FINISH:L=>({next:"FINISH",params:L})});Ze.vttParser=L=>({entries:b().start(L)})},9919:(wn,Ze)=>{"use strict";Ze.byteLength=function L(A){var U=F(A),V=U[1];return 3*(U[0]+V)/4-V},Ze.toByteArray=function g(A){var U,T,P=F(A),V=P[0],k=P[1],R=new t(function x(A,U,P){return 3*(U+P)/4-P}(0,V,k)),D=0,I=k>0?V-4:V;for(T=0;T<I;T+=4)U=c[A.charCodeAt(T)]<<18|c[A.charCodeAt(T+1)]<<12|c[A.charCodeAt(T+2)]<<6|c[A.charCodeAt(T+3)],R[D++]=U>>16&255,R[D++]=U>>8&255,R[D++]=255&U;return 2===k&&(U=c[A.charCodeAt(T)]<<2|c[A.charCodeAt(T+1)]>>4,R[D++]=255&U),1===k&&(U=c[A.charCodeAt(T)]<<10|c[A.charCodeAt(T+1)]<<4|c[A.charCodeAt(T+2)]>>2,R[D++]=U>>8&255,R[D++]=255&U),R},Ze.fromByteArray=function y(A){for(var U,P=A.length,V=P%3,k=[],R=16383,D=0,I=P-V;D<I;D+=R)k.push(p(A,D,D+R>I?I:D+R));return 1===V?k.push(C[(U=A[P-1])>>2]+C[U<<4&63]+"=="):2===V&&k.push(C[(U=(A[P-2]<<8)+A[P-1])>>10]+C[U>>4&63]+C[U<<2&63]+"="),k.join("")};for(var C=[],c=[],t=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0;O<64;++O)C[O]=E[O],c[E.charCodeAt(O)]=O;function F(A){var U=A.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=A.indexOf("=");return-1===P&&(P=U),[P,P===U?0:4-P%4]}function h(A){return C[A>>18&63]+C[A>>12&63]+C[A>>6&63]+C[63&A]}function p(A,U,P){for(var k=[],R=U;R<P;R+=3)k.push(h((A[R]<<16&16711680)+(A[R+1]<<8&65280)+(255&A[R+2])));return k.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},9007:(wn,Ze,C)=>{"use strict";var t=C(9919),E=C(2601),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ze.lW=x,Ze.h2=50;var b=2147483647;function L(Z){if(Z>b)throw new RangeError('The value "'+Z+'" is invalid for option "size"');var W=new Uint8Array(Z);return Object.setPrototypeOf(W,x.prototype),W}function x(Z,W,X){if("number"==typeof Z){if("string"==typeof W)throw new TypeError('The "string" argument must be of type string. Received type number');return y(Z)}return g(Z,W,X)}function g(Z,W,X){if("string"==typeof Z)return function A(Z,W){if(("string"!=typeof W||""===W)&&(W="utf8"),!x.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var X=0|I(Z,W),Q=L(X),q=Q.write(Z,W);return q!==X&&(Q=Q.slice(0,q)),Q}(Z,W);if(ArrayBuffer.isView(Z))return function P(Z){if(ie(Z,Uint8Array)){var W=new Uint8Array(Z);return V(W.buffer,W.byteOffset,W.byteLength)}return U(Z)}(Z);if(null==Z)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(ie(Z,ArrayBuffer)||Z&&ie(Z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(Z,SharedArrayBuffer)||Z&&ie(Z.buffer,SharedArrayBuffer)))return V(Z,W,X);if("number"==typeof Z)throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=Z.valueOf&&Z.valueOf();if(null!=Q&&Q!==Z)return x.from(Q,W,X);var q=function k(Z){if(x.isBuffer(Z)){var W=0|R(Z.length),X=L(W);return 0===X.length||Z.copy(X,0,0,W),X}return void 0!==Z.length?"number"!=typeof Z.length||he(Z.length)?L(0):U(Z):"Buffer"===Z.type&&Array.isArray(Z.data)?U(Z.data):void 0}(Z);if(q)return q;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Z[Symbol.toPrimitive])return x.from(Z[Symbol.toPrimitive]("string"),W,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}function h(Z){if("number"!=typeof Z)throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function y(Z){return h(Z),L(Z<0?0:0|R(Z))}function U(Z){for(var W=Z.length<0?0:0|R(Z.length),X=L(W),Q=0;Q<W;Q+=1)X[Q]=255&Z[Q];return X}function V(Z,W,X){if(W<0||Z.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<W+(X||0))throw new RangeError('"length" is outside of buffer bounds');var Q;return Q=void 0===W&&void 0===X?new Uint8Array(Z):void 0===X?new Uint8Array(Z,W):new Uint8Array(Z,W,X),Object.setPrototypeOf(Q,x.prototype),Q}function R(Z){if(Z>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|Z}function I(Z,W){if(x.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||ie(Z,ArrayBuffer))return Z.byteLength;if("string"!=typeof Z)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);var X=Z.length,Q=arguments.length>2&&!0===arguments[2];if(!Q&&0===X)return 0;for(var q=!1;;)switch(W){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return ze(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return be(Z).length;default:if(q)return Q?-1:ze(Z).length;W=(""+W).toLowerCase(),q=!0}}function T(Z,W,X){var Q=!1;if((void 0===W||W<0)&&(W=0),W>this.length||((void 0===X||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(W>>>=0))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return Ie(this,W,X);case"utf8":case"utf-8":return H(this,W,X);case"ascii":return ue(this,W,X);case"latin1":case"binary":return Se(this,W,X);case"base64":return oe(this,W,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,W,X);default:if(Q)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),Q=!0}}function N(Z,W,X){var Q=Z[W];Z[W]=Z[X],Z[X]=Q}function S(Z,W,X,Q,q){if(0===Z.length)return-1;if("string"==typeof X?(Q=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),he(X=+X)&&(X=q?0:Z.length-1),X<0&&(X=Z.length+X),X>=Z.length){if(q)return-1;X=Z.length-1}else if(X<0){if(!q)return-1;X=0}if("string"==typeof W&&(W=x.from(W,Q)),x.isBuffer(W))return 0===W.length?-1:B(Z,W,X,Q,q);if("number"==typeof W)return W&=255,"function"==typeof Uint8Array.prototype.indexOf?q?Uint8Array.prototype.indexOf.call(Z,W,X):Uint8Array.prototype.lastIndexOf.call(Z,W,X):B(Z,[W],X,Q,q);throw new TypeError("val must be string, number or Buffer")}function B(Z,W,X,Q,q){var Ce,J=1,de=Z.length,ge=W.length;if(void 0!==Q&&("ucs2"===(Q=String(Q).toLowerCase())||"ucs-2"===Q||"utf16le"===Q||"utf-16le"===Q)){if(Z.length<2||W.length<2)return-1;J=2,de/=2,ge/=2,X/=2}function ce(Qe,qe){return 1===J?Qe[qe]:Qe.readUInt16BE(qe*J)}if(q){var Ye=-1;for(Ce=X;Ce<de;Ce++)if(ce(Z,Ce)===ce(W,-1===Ye?0:Ce-Ye)){if(-1===Ye&&(Ye=Ce),Ce-Ye+1===ge)return Ye*J}else-1!==Ye&&(Ce-=Ce-Ye),Ye=-1}else for(X+ge>de&&(X=de-ge),Ce=X;Ce>=0;Ce--){for(var Be=!0,$e=0;$e<ge;$e++)if(ce(Z,Ce+$e)!==ce(W,$e)){Be=!1;break}if(Be)return Ce}return-1}function Y(Z,W,X,Q){X=Number(X)||0;var q=Z.length-X;Q?(Q=Number(Q))>q&&(Q=q):Q=q;var J=W.length;Q>J/2&&(Q=J/2);for(var de=0;de<Q;++de){var ge=parseInt(W.substr(2*de,2),16);if(he(ge))return de;Z[X+de]=ge}return de}function re(Z,W,X,Q){return K(ze(W,Z.length-X),Z,X,Q)}function se(Z,W,X,Q){return K(function He(Z){for(var W=[],X=0;X<Z.length;++X)W.push(255&Z.charCodeAt(X));return W}(W),Z,X,Q)}function Re(Z,W,X,Q){return K(be(W),Z,X,Q)}function z(Z,W,X,Q){return K(function Ae(Z,W){for(var X,Q,J=[],de=0;de<Z.length&&!((W-=2)<0);++de)Q=(X=Z.charCodeAt(de))>>8,J.push(X%256),J.push(Q);return J}(W,Z.length-X),Z,X,Q)}function oe(Z,W,X){return t.fromByteArray(0===W&&X===Z.length?Z:Z.slice(W,X))}function H(Z,W,X){X=Math.min(Z.length,X);for(var Q=[],q=W;q<X;){var ce,Ce,Ye,Be,J=Z[q],de=null,ge=J>239?4:J>223?3:J>191?2:1;if(q+ge<=X)switch(ge){case 1:J<128&&(de=J);break;case 2:128==(192&(ce=Z[q+1]))&&(Be=(31&J)<<6|63&ce)>127&&(de=Be);break;case 3:Ce=Z[q+2],128==(192&(ce=Z[q+1]))&&128==(192&Ce)&&(Be=(15&J)<<12|(63&ce)<<6|63&Ce)>2047&&(Be<55296||Be>57343)&&(de=Be);break;case 4:Ce=Z[q+2],Ye=Z[q+3],128==(192&(ce=Z[q+1]))&&128==(192&Ce)&&128==(192&Ye)&&(Be=(15&J)<<18|(63&ce)<<12|(63&Ce)<<6|63&Ye)>65535&&Be<1114112&&(de=Be)}null===de?(de=65533,ge=1):de>65535&&(Q.push((de-=65536)>>>10&1023|55296),de=56320|1023&de),Q.push(de),q+=ge}return function ne(Z){var W=Z.length;if(W<=me)return String.fromCharCode.apply(String,Z);for(var X="",Q=0;Q<W;)X+=String.fromCharCode.apply(String,Z.slice(Q,Q+=me));return X}(Q)}!(x.TYPED_ARRAY_SUPPORT=function F(){try{var Z=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(Z,W),42===Z.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}}),Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}}),x.poolSize=8192,x.from=function(Z,W,X){return g(Z,W,X)},Object.setPrototypeOf(x.prototype,Uint8Array.prototype),Object.setPrototypeOf(x,Uint8Array),x.alloc=function(Z,W,X){return function p(Z,W,X){return h(Z),Z<=0?L(Z):void 0!==W?"string"==typeof X?L(Z).fill(W,X):L(Z).fill(W):L(Z)}(Z,W,X)},x.allocUnsafe=function(Z){return y(Z)},x.allocUnsafeSlow=function(Z){return y(Z)},x.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==x.prototype},x.compare=function(W,X){if(ie(W,Uint8Array)&&(W=x.from(W,W.offset,W.byteLength)),ie(X,Uint8Array)&&(X=x.from(X,X.offset,X.byteLength)),!x.isBuffer(W)||!x.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===X)return 0;for(var Q=W.length,q=X.length,J=0,de=Math.min(Q,q);J<de;++J)if(W[J]!==X[J]){Q=W[J],q=X[J];break}return Q<q?-1:q<Q?1:0},x.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(W,X){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return x.alloc(0);var Q;if(void 0===X)for(X=0,Q=0;Q<W.length;++Q)X+=W[Q].length;var q=x.allocUnsafe(X),J=0;for(Q=0;Q<W.length;++Q){var de=W[Q];if(ie(de,Uint8Array))J+de.length>q.length?x.from(de).copy(q,J):Uint8Array.prototype.set.call(q,de,J);else{if(!x.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(q,J)}J+=de.length}return q},x.byteLength=I,x.prototype._isBuffer=!0,x.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<W;X+=2)N(this,X,X+1);return this},x.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<W;X+=4)N(this,X,X+3),N(this,X+1,X+2);return this},x.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<W;X+=8)N(this,X,X+7),N(this,X+1,X+6),N(this,X+2,X+5),N(this,X+3,X+4);return this},x.prototype.toLocaleString=x.prototype.toString=function(){var W=this.length;return 0===W?"":0===arguments.length?H(this,0,W):T.apply(this,arguments)},x.prototype.equals=function(W){if(!x.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===x.compare(this,W)},x.prototype.inspect=function(){var W="",X=Ze.h2;return W=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X&&(W+=" ... "),"<Buffer "+W+">"},O&&(x.prototype[O]=x.prototype.inspect),x.prototype.compare=function(W,X,Q,q,J){if(ie(W,Uint8Array)&&(W=x.from(W,W.offset,W.byteLength)),!x.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===X&&(X=0),void 0===Q&&(Q=W?W.length:0),void 0===q&&(q=0),void 0===J&&(J=this.length),X<0||Q>W.length||q<0||J>this.length)throw new RangeError("out of range index");if(q>=J&&X>=Q)return 0;if(q>=J)return-1;if(X>=Q)return 1;if(this===W)return 0;for(var de=(J>>>=0)-(q>>>=0),ge=(Q>>>=0)-(X>>>=0),ce=Math.min(de,ge),Ce=this.slice(q,J),Ye=W.slice(X,Q),Be=0;Be<ce;++Be)if(Ce[Be]!==Ye[Be]){de=Ce[Be],ge=Ye[Be];break}return de<ge?-1:ge<de?1:0},x.prototype.includes=function(W,X,Q){return-1!==this.indexOf(W,X,Q)},x.prototype.indexOf=function(W,X,Q){return S(this,W,X,Q,!0)},x.prototype.lastIndexOf=function(W,X,Q){return S(this,W,X,Q,!1)},x.prototype.write=function(W,X,Q,q){if(void 0===X)q="utf8",Q=this.length,X=0;else if(void 0===Q&&"string"==typeof X)q=X,Q=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X>>>=0,isFinite(Q)?(Q>>>=0,void 0===q&&(q="utf8")):(q=Q,Q=void 0)}var J=this.length-X;if((void 0===Q||Q>J)&&(Q=J),W.length>0&&(Q<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var de=!1;;)switch(q){case"hex":return Y(this,W,X,Q);case"utf8":case"utf-8":return re(this,W,X,Q);case"ascii":case"latin1":case"binary":return se(this,W,X,Q);case"base64":return Re(this,W,X,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,W,X,Q);default:if(de)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),de=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var me=4096;function ue(Z,W,X){var Q="";X=Math.min(Z.length,X);for(var q=W;q<X;++q)Q+=String.fromCharCode(127&Z[q]);return Q}function Se(Z,W,X){var Q="";X=Math.min(Z.length,X);for(var q=W;q<X;++q)Q+=String.fromCharCode(Z[q]);return Q}function Ie(Z,W,X){var Q=Z.length;(!W||W<0)&&(W=0),(!X||X<0||X>Q)&&(X=Q);for(var q="",J=W;J<X;++J)q+=$[Z[J]];return q}function le(Z,W,X){for(var Q=Z.slice(W,X),q="",J=0;J<Q.length-1;J+=2)q+=String.fromCharCode(Q[J]+256*Q[J+1]);return q}function Me(Z,W,X){if(Z%1!=0||Z<0)throw new RangeError("offset is not uint");if(Z+W>X)throw new RangeError("Trying to access beyond buffer length")}function we(Z,W,X,Q,q,J){if(!x.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>q||W<J)throw new RangeError('"value" argument is out of bounds');if(X+Q>Z.length)throw new RangeError("Index out of range")}function _e(Z,W,X,Q,q,J){if(X+Q>Z.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function Le(Z,W,X,Q,q){return W=+W,X>>>=0,q||_e(Z,0,X,4),E.write(Z,W,X,Q,23,4),X+4}function Pe(Z,W,X,Q,q){return W=+W,X>>>=0,q||_e(Z,0,X,8),E.write(Z,W,X,Q,52,8),X+8}x.prototype.slice=function(W,X){var Q=this.length;(W=~~W)<0?(W+=Q)<0&&(W=0):W>Q&&(W=Q),(X=void 0===X?Q:~~X)<0?(X+=Q)<0&&(X=0):X>Q&&(X=Q),X<W&&(X=W);var q=this.subarray(W,X);return Object.setPrototypeOf(q,x.prototype),q},x.prototype.readUintLE=x.prototype.readUIntLE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=this[W],J=1,de=0;++de<X&&(J*=256);)q+=this[W+de]*J;return q},x.prototype.readUintBE=x.prototype.readUIntBE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=this[W+--X],J=1;X>0&&(J*=256);)q+=this[W+--X]*J;return q},x.prototype.readUint8=x.prototype.readUInt8=function(W,X){return W>>>=0,X||Me(W,1,this.length),this[W]},x.prototype.readUint16LE=x.prototype.readUInt16LE=function(W,X){return W>>>=0,X||Me(W,2,this.length),this[W]|this[W+1]<<8},x.prototype.readUint16BE=x.prototype.readUInt16BE=function(W,X){return W>>>=0,X||Me(W,2,this.length),this[W]<<8|this[W+1]},x.prototype.readUint32LE=x.prototype.readUInt32LE=function(W,X){return W>>>=0,X||Me(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},x.prototype.readUint32BE=x.prototype.readUInt32BE=function(W,X){return W>>>=0,X||Me(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},x.prototype.readIntLE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=this[W],J=1,de=0;++de<X&&(J*=256);)q+=this[W+de]*J;return q>=(J*=128)&&(q-=Math.pow(2,8*X)),q},x.prototype.readIntBE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=X,J=1,de=this[W+--q];q>0&&(J*=256);)de+=this[W+--q]*J;return de>=(J*=128)&&(de-=Math.pow(2,8*X)),de},x.prototype.readInt8=function(W,X){return W>>>=0,X||Me(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},x.prototype.readInt16LE=function(W,X){W>>>=0,X||Me(W,2,this.length);var Q=this[W]|this[W+1]<<8;return 32768&Q?4294901760|Q:Q},x.prototype.readInt16BE=function(W,X){W>>>=0,X||Me(W,2,this.length);var Q=this[W+1]|this[W]<<8;return 32768&Q?4294901760|Q:Q},x.prototype.readInt32LE=function(W,X){return W>>>=0,X||Me(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},x.prototype.readInt32BE=function(W,X){return W>>>=0,X||Me(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},x.prototype.readFloatLE=function(W,X){return W>>>=0,X||Me(W,4,this.length),E.read(this,W,!0,23,4)},x.prototype.readFloatBE=function(W,X){return W>>>=0,X||Me(W,4,this.length),E.read(this,W,!1,23,4)},x.prototype.readDoubleLE=function(W,X){return W>>>=0,X||Me(W,8,this.length),E.read(this,W,!0,52,8)},x.prototype.readDoubleBE=function(W,X){return W>>>=0,X||Me(W,8,this.length),E.read(this,W,!1,52,8)},x.prototype.writeUintLE=x.prototype.writeUIntLE=function(W,X,Q,q){W=+W,X>>>=0,Q>>>=0,q||we(this,W,X,Q,Math.pow(2,8*Q)-1,0);var de=1,ge=0;for(this[X]=255&W;++ge<Q&&(de*=256);)this[X+ge]=W/de&255;return X+Q},x.prototype.writeUintBE=x.prototype.writeUIntBE=function(W,X,Q,q){W=+W,X>>>=0,Q>>>=0,q||we(this,W,X,Q,Math.pow(2,8*Q)-1,0);var de=Q-1,ge=1;for(this[X+de]=255&W;--de>=0&&(ge*=256);)this[X+de]=W/ge&255;return X+Q},x.prototype.writeUint8=x.prototype.writeUInt8=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,1,255,0),this[X]=255&W,X+1},x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,65535,0),this[X]=255&W,this[X+1]=W>>>8,X+2},x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,65535,0),this[X]=W>>>8,this[X+1]=255&W,X+2},x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,4294967295,0),this[X+3]=W>>>24,this[X+2]=W>>>16,this[X+1]=W>>>8,this[X]=255&W,X+4},x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,4294967295,0),this[X]=W>>>24,this[X+1]=W>>>16,this[X+2]=W>>>8,this[X+3]=255&W,X+4},x.prototype.writeIntLE=function(W,X,Q,q){if(W=+W,X>>>=0,!q){var J=Math.pow(2,8*Q-1);we(this,W,X,Q,J-1,-J)}var de=0,ge=1,ce=0;for(this[X]=255&W;++de<Q&&(ge*=256);)W<0&&0===ce&&0!==this[X+de-1]&&(ce=1),this[X+de]=(W/ge>>0)-ce&255;return X+Q},x.prototype.writeIntBE=function(W,X,Q,q){if(W=+W,X>>>=0,!q){var J=Math.pow(2,8*Q-1);we(this,W,X,Q,J-1,-J)}var de=Q-1,ge=1,ce=0;for(this[X+de]=255&W;--de>=0&&(ge*=256);)W<0&&0===ce&&0!==this[X+de+1]&&(ce=1),this[X+de]=(W/ge>>0)-ce&255;return X+Q},x.prototype.writeInt8=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,1,127,-128),W<0&&(W=255+W+1),this[X]=255&W,X+1},x.prototype.writeInt16LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,32767,-32768),this[X]=255&W,this[X+1]=W>>>8,X+2},x.prototype.writeInt16BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,32767,-32768),this[X]=W>>>8,this[X+1]=255&W,X+2},x.prototype.writeInt32LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,2147483647,-2147483648),this[X]=255&W,this[X+1]=W>>>8,this[X+2]=W>>>16,this[X+3]=W>>>24,X+4},x.prototype.writeInt32BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[X]=W>>>24,this[X+1]=W>>>16,this[X+2]=W>>>8,this[X+3]=255&W,X+4},x.prototype.writeFloatLE=function(W,X,Q){return Le(this,W,X,!0,Q)},x.prototype.writeFloatBE=function(W,X,Q){return Le(this,W,X,!1,Q)},x.prototype.writeDoubleLE=function(W,X,Q){return Pe(this,W,X,!0,Q)},x.prototype.writeDoubleBE=function(W,X,Q){return Pe(this,W,X,!1,Q)},x.prototype.copy=function(W,X,Q,q){if(!x.isBuffer(W))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!q&&0!==q&&(q=this.length),X>=W.length&&(X=W.length),X||(X=0),q>0&&q<Q&&(q=Q),q===Q||0===W.length||0===this.length)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),W.length-X<q-Q&&(q=W.length-X+Q);var J=q-Q;return this===W&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(X,Q,q):Uint8Array.prototype.set.call(W,this.subarray(Q,q),X),J},x.prototype.fill=function(W,X,Q,q){if("string"==typeof W){if("string"==typeof X?(q=X,X=0,Q=this.length):"string"==typeof Q&&(q=Q,Q=this.length),void 0!==q&&"string"!=typeof q)throw new TypeError("encoding must be a string");if("string"==typeof q&&!x.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(1===W.length){var J=W.charCodeAt(0);("utf8"===q&&J<128||"latin1"===q)&&(W=J)}}else"number"==typeof W?W&=255:"boolean"==typeof W&&(W=Number(W));if(X<0||this.length<X||this.length<Q)throw new RangeError("Out of range index");if(Q<=X)return this;var de;if(X>>>=0,Q=void 0===Q?this.length:Q>>>0,W||(W=0),"number"==typeof W)for(de=X;de<Q;++de)this[de]=W;else{var ge=x.isBuffer(W)?W:x.from(W,q),ce=ge.length;if(0===ce)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(de=0;de<Q-X;++de)this[de+X]=ge[de%ce]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function ze(Z,W){W=W||1/0;for(var X,Q=Z.length,q=null,J=[],de=0;de<Q;++de){if((X=Z.charCodeAt(de))>55295&&X<57344){if(!q){if(X>56319){(W-=3)>-1&&J.push(239,191,189);continue}if(de+1===Q){(W-=3)>-1&&J.push(239,191,189);continue}q=X;continue}if(X<56320){(W-=3)>-1&&J.push(239,191,189),q=X;continue}X=65536+(q-55296<<10|X-56320)}else q&&(W-=3)>-1&&J.push(239,191,189);if(q=null,X<128){if((W-=1)<0)break;J.push(X)}else if(X<2048){if((W-=2)<0)break;J.push(X>>6|192,63&X|128)}else if(X<65536){if((W-=3)<0)break;J.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;J.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return J}function be(Z){return t.toByteArray(function je(Z){if((Z=(Z=Z.split("=")[0]).trim().replace(Oe,"")).length<2)return"";for(;Z.length%4!=0;)Z+="=";return Z}(Z))}function K(Z,W,X,Q){for(var q=0;q<Q&&!(q+X>=W.length||q>=Z.length);++q)W[q+X]=Z[q];return q}function ie(Z,W){return Z instanceof W||null!=Z&&null!=Z.constructor&&null!=Z.constructor.name&&Z.constructor.name===W.name}function he(Z){return Z!=Z}var $=function(){for(var Z="0123456789abcdef",W=new Array(256),X=0;X<16;++X)for(var Q=16*X,q=0;q<16;++q)W[Q+q]=Z[X]+Z[q];return W}()},5094:wn=>{window,wn.exports=function(Ze){var C={};function c(t){if(C[t])return C[t].exports;var E=C[t]={i:t,l:!1,exports:{}};return Ze[t].call(E.exports,E,E.exports,c),E.l=!0,E.exports}return c.m=Ze,c.c=C,c.d=function(t,E,O){c.o(t,E)||Object.defineProperty(t,E,{enumerable:!0,get:O})},c.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,E){if(1&E&&(t=c(t)),8&E||4&E&&"object"==typeof t&&t&&t.__esModule)return t;var O=Object.create(null);if(c.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:t}),2&E&&"string"!=typeof t)for(var b in t)c.d(O,b,function(F){return t[F]}.bind(null,b));return O},c.n=function(t){var E=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(E,"a",E),E},c.o=function(t,E){return Object.prototype.hasOwnProperty.call(t,E)},c.p="/dist/",c(c.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(Ze,C,c){var O,b,F,L,x,t_encode=function(O){for(var b=[],F=0;F<O.length;++F){var L=O.charCodeAt(F);L<128?b.push(L):L<2048?(b.push(192|L>>6),b.push(128|63&L)):L<65536?(b.push(224|L>>12),b.push(128|63&L>>6),b.push(128|63&L)):(b.push(240|L>>18),b.push(128|63&L>>12),b.push(128|63&L>>6),b.push(128|63&L))}return b},t_decode=function(O){for(var b=[],F=0;F<O.length;){var L=O[F++];L<128||(L<224?(L=(31&L)<<6,L|=63&O[F++]):L<240?(L=(15&L)<<12,L|=(63&O[F++])<<6,L|=63&O[F++]):(L=(7&L)<<18,L|=(63&O[F++])<<12,L|=(63&O[F++])<<6,L|=63&O[F++])),b.push(String.fromCharCode(L))}return b.join("")},E={};O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=function(h){for(var p=0,y=[],A=0|h.length/3;0<A--;){var U=(h[p]<<16)+(h[p+1]<<8)+h[p+2];p+=3,y.push(O.charAt(63&U>>18)),y.push(O.charAt(63&U>>12)),y.push(O.charAt(63&U>>6)),y.push(O.charAt(63&U))}return h.length-p==2?(y.push(O.charAt(63&(U=(h[p]<<16)+(h[p+1]<<8))>>18)),y.push(O.charAt(63&U>>12)),y.push(O.charAt(63&U>>6)),y.push("=")):h.length-p==1&&(y.push(O.charAt(63&(U=h[p]<<16)>>18)),y.push(O.charAt(63&U>>12)),y.push("==")),y.join("")},F=function(){for(var g=[],h=0;h<64;++h)g[O.charCodeAt(h)]=h;return g["=".charCodeAt(0)]=0,g}(),L=function(h){for(var p=0,y=[],A=0|h.length/4;0<A--;){var U=(F[h.charCodeAt(p)]<<18)+(F[h.charCodeAt(p+1)]<<12)+(F[h.charCodeAt(p+2)]<<6)+F[h.charCodeAt(p+3)];y.push(255&U>>16),y.push(255&U>>8),y.push(255&U),p+=4}return y&&("="==h.charAt(p-2)?(y.pop(),y.pop()):"="==h.charAt(p-1)&&y.pop()),y},x={encode:function(g){for(var h=[],p=0;p<g.length;++p)h.push(g.charCodeAt(p));return h},decode:function(g){for(var h=0;h<s.length;++h)a[h]=String.fromCharCode(a[h]);return a.join("")}},E.decodeArray=function(g){var h=L(g);return new Uint8Array(h)},E.encodeASCII=function(g){var h=x.encode(g);return b(h)},E.decodeASCII=function(g){var h=L(g);return x.decode(h)},E.encode=function(g){var h=t_encode(g);return b(h)},E.decode=function(g){var h=L(g);return t_decode(h)},C.decode=E.decode,C.decodeArray=E.decodeArray,C.encode=E.encode,C.encodeASCII=E.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(Ze,C,c){!function(t){"use strict";var E={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},O=function(S){var B=S;return E.hasOwnProperty(S)&&(B=E[S]),String.fromCharCode(B)},b=15,F=32,L={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},x={17:2,18:4,21:6,22:8,23:10,19:13,20:15},g={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},p=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],y={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(S){this.time=S},log:function(S,B){this.verboseLevel>=this.verboseFilter[S]&&console.log(this.time+" ["+S+"] "+B)}},A=function(S){for(var B=[],Y=0;Y<S.length;Y++)B.push(S[Y].toString(16));return B},U=function(S,B,Y,re,se){this.foreground=S||"white",this.underline=B||!1,this.italics=Y||!1,this.background=re||"black",this.flash=se||!1};U.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(S){for(var B=["foreground","underline","italics","background","flash"],Y=0;Y<B.length;Y++){var re=B[Y];S.hasOwnProperty(re)&&(this[re]=S[re])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(S){return this.foreground===S.foreground&&this.underline===S.underline&&this.italics===S.italics&&this.background===S.background&&this.flash===S.flash},copy:function(S){this.foreground=S.foreground,this.underline=S.underline,this.italics=S.italics,this.background=S.background,this.flash=S.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var P=function(S,B,Y,re,se,Re){this.uchar=S||" ",this.penState=new U(B,Y,re,se,Re)};P.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(S,B){this.uchar=S,this.penState.copy(B)},setPenState:function(S){this.penState.copy(S)},equals:function(S){return this.uchar===S.uchar&&this.penState.equals(S.penState)},copy:function(S){this.uchar=S.uchar,this.penState.copy(S.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var V=function(){this.chars=[];for(var S=0;S<F;S++)this.chars.push(new P);this.pos=0,this.currPenState=new U};V.prototype={equals:function(S){for(var B=!0,Y=0;Y<F;Y++)if(!this.chars[Y].equals(S.chars[Y])){B=!1;break}return B},copy:function(S){for(var B=0;B<F;B++)this.chars[B].copy(S.chars[B])},isEmpty:function(){for(var S=!0,B=0;B<F;B++)if(!this.chars[B].isEmpty()){S=!1;break}return S},setCursor:function(S){this.pos!==S&&(this.pos=S),this.pos<0?(y.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>F&&(y.log("ERROR","Too large cursor position "+this.pos),this.pos=F)},moveCursor:function(S){var B=this.pos+S;if(S>1)for(var Y=this.pos+1;Y<B+1;Y++)this.chars[Y].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(S){S>=144&&this.backSpace();var B=O(S);this.pos>=F?y.log("ERROR","Cannot insert "+S.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(S){var B;for(B=S;B<F;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var S=[],B=!0,Y=0;Y<F;Y++){var re=this.chars[Y].uchar;" "!==re&&(B=!1),S.push(re)}return B?"":S.join("")},setPenStyles:function(S){this.currPenState.setStyles(S),this.chars[this.pos].setPenState(this.currPenState)}};var k=function(){this.rows=[];for(var S=0;S<b;S++)this.rows.push(new V);this.currRow=14,this.nrRollUpRows=null,this.reset()};k.prototype={reset:function(){for(var S=0;S<b;S++)this.rows[S].clear();this.currRow=14},equals:function(S){for(var B=!0,Y=0;Y<b;Y++)if(!this.rows[Y].equals(S.rows[Y])){B=!1;break}return B},copy:function(S){for(var B=0;B<b;B++)this.rows[B].copy(S.rows[B])},isEmpty:function(){for(var S=!0,B=0;B<b;B++)if(!this.rows[B].isEmpty()){S=!1;break}return S},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(S){this.rows[this.currRow].insertChar(S)},setPen:function(S){this.rows[this.currRow].setPenStyles(S)},moveCursor:function(S){this.rows[this.currRow].moveCursor(S)},setCursor:function(S){y.log("INFO","setCursor: "+S),this.rows[this.currRow].setCursor(S)},setPAC:function(S){y.log("INFO","pacData = "+JSON.stringify(S));var B=S.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var Y=this.rows[this.currRow];if(null!==S.indent){var se=Math.max(S.indent-1,0);Y.setCursor(S.indent),S.color=Y.chars[se].penState.foreground}this.setPen({foreground:S.color,underline:S.underline,italics:S.italics,background:"black",flash:!1})},setBkgData:function(S){y.log("INFO","bkgData = "+JSON.stringify(S)),this.backSpace(),this.setPen(S),this.insertChar(32)},setRollUpRows:function(S){this.nrRollUpRows=S},rollUp:function(){if(null!==this.nrRollUpRows){y.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),y.log("INFO","Rolling up")}else y.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(S){S=S||!1;for(var B=[],Y="",se=0;se<b;se++){var Re=this.rows[se].getTextString();Re&&B.push(S?"Row "+(se+1)+': "'+Re+'"':Re.trim())}return B.length>0&&(Y=S?"["+B.join(" | ")+"]":B.join("\n")),Y},getTextAndFormat:function(){return this.rows}};var R=function(S,B){this.chNr=S,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new k,this.nonDisplayedMemory=new k,this.lastOutputScreen=new k,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};R.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(S){this.outputFilter=S},setPAC:function(S){this.writeScreen.setPAC(S)},setBkgData:function(S){this.writeScreen.setBkgData(S)},setMode:function(S){S!==this.mode&&(this.mode=S,y.log("INFO","MODE="+S),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=S)},insertChars:function(S){for(var B=0;B<S.length;B++)this.writeScreen.insertChar(S[B]);y.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(y.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){y.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){y.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){y.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(S){y.log("INFO","RU("+S+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(S)},cc_FON:function(){y.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){y.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){y.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){y.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){y.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){y.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){y.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(y.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var S=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=S,this.writeScreen=this.nonDisplayedMemory,y.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(S){y.log("INFO","TO("+S+") - Tab Offset"),this.writeScreen.moveCursor(S)},cc_MIDROW:function(S){var B={flash:!1};if(B.underline=S%2==1,B.italics=S>=46,B.italics)B.foreground="white";else{var Y=Math.floor(S/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][Y]}y.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var S=y.time;null!==S&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(S,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:S):this.cueStartTime=S,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(S){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.displayedMemory),this.cueStartTime=S))}};var D=function(S,B,Y){this.field=S||1,this.outputs=[B,Y],this.channels=[new R(1,B),new R(2,Y)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};D.prototype={getHandler:function(S){return this.channels[S].getHandler()},setHandler:function(S,B){this.channels[S].setHandler(B)},addData:function(S,B){var Y,re,se,Re=!1;this.lastTime=S,y.setTime(S);for(var z=0;z<B.length;z+=2)se=127&B[z+1],(re=127&B[z])>=16&&re<=31&&re===this.lastCmdA&&se===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,y.log("DEBUG","Repeated command ("+A([re,se])+") is dropped")):0!==re||0!==se?(y.log("DATA","["+A([B[z],B[z+1]])+"] -> ("+A([re,se])+")"),(Y=this.parseCmd(re,se))||(Y=this.parseMidrow(re,se)),Y||(Y=this.parsePAC(re,se)),Y||(Y=this.parseBackgroundAttributes(re,se)),!Y&&(Re=this.parseChars(re,se))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Re):y.log("WARNING","No channel found yet. TEXT-MODE?")),Y?this.dataCounters.cmd+=2:Re?this.dataCounters.char+=2:(this.dataCounters.other+=2,y.log("WARNING","Couldn't parse cleaned data "+A([re,se])+" orig: "+A([B[z],B[z+1]])))):this.dataCounters.padding+=2},parseCmd:function(S,B){var Y;if(!((20===S||21===S||28===S||29===S)&&32<=B&&B<=47||(23===S||31===S)&&33<=B&&B<=35))return!1;var Re=this.channels[(Y=20===S||21===S||23===S?1:2)-1];return 20===S||21===S||28===S||29===S?32===B?Re.cc_RCL():33===B?Re.cc_BS():34===B?Re.cc_AOF():35===B?Re.cc_AON():36===B?Re.cc_DER():37===B?Re.cc_RU(2):38===B?Re.cc_RU(3):39===B?Re.cc_RU(4):40===B?Re.cc_FON():41===B?Re.cc_RDC():42===B?Re.cc_TR():43===B?Re.cc_RTD():44===B?Re.cc_EDM():45===B?Re.cc_CR():46===B?Re.cc_ENM():47===B&&Re.cc_EOC():Re.cc_TO(B-32),this.lastCmdA=S,this.lastCmdB=B,this.currChNr=Y,!0},parseMidrow:function(S,B){var Y=null;if((17===S||25===S)&&32<=B&&B<=47){if((Y=17===S?1:2)!==this.currChNr)return y.log("ERROR","Mismatch channel in midrow parsing"),!1;var re=this.channels[Y-1];return re.insertChars([32]),re.cc_MIDROW(B),y.log("DEBUG","MIDROW ("+A([S,B])+")"),this.lastCmdA=S,this.lastCmdB=B,!0}return!1},parsePAC:function(S,B){var Y;if(!((17<=S&&S<=23||25<=S&&S<=31)&&64<=B&&B<=127||(16===S||24===S)&&64<=B&&B<=95))return!1;Y=S<=23?1:2;var z=this.interpretPAC(64<=B&&B<=95?1===Y?L[S]:g[S]:1===Y?x[S]:h[S],B);return this.channels[Y-1].setPAC(z),this.lastCmdA=S,this.lastCmdB=B,this.currChNr=Y,!0},interpretPAC:function(S,B){var Y,re={color:null,italics:!1,indent:null,underline:!1,row:S};return re.underline=1==(1&(Y=B>95?B-96:B-64)),Y<=13?re.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Y/2)]:Y<=15?(re.italics=!0,re.color="white"):re.indent=4*Math.floor((Y-16)/2),re},parseChars:function(S,B){var Y=null,re=null,se=null;if(S>=25?(Y=2,se=S-8):(Y=1,se=S),17<=se&&se<=19){var z;y.log("INFO","Special char '"+O(z=17===se?B+80:18===se?B+112:B+144)+"' in channel "+Y),re=[z],this.lastCmdA=S,this.lastCmdB=B}else 32<=S&&S<=127&&(re=0===B?[S]:[S,B],this.lastCmdA=null,this.lastCmdB=null);if(re){var oe=A(re);y.log("DEBUG","Char codes =  "+oe.join(","))}return re},parseBackgroundAttributes:function(S,B){var Y,re;return!!((16===S||24===S)&&32<=B&&B<=47||(23===S||31===S)&&45<=B&&B<=47)&&(Y={},16===S||24===S?(re=Math.floor((B-32)/2),Y.background=p[re],B%2==1&&(Y.background=Y.background+"_semi")):45===B?Y.background="transparent":(Y.foreground="black",47===B&&(Y.underline=!0)),this.channels[(S<24?1:2)-1].setBkgData(Y),this.lastCmdA=S,this.lastCmdB=B,!0)},reset:function(){for(var S=0;S<this.channels.length;S++)this.channels[S]&&this.channels[S].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(S){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(S)}};t.logger=y,t.PenState=U,t.CaptionScreen=k,t.Cea608Parser=D,t.findCea608Nalus=function(S,B,Y){for(var re=0,se=B,z=[],oe=function(Ie,le,Me,we){if(4!==Ie||le<8)return null;var _e=Me.getUint8(we),Le=Me.getUint16(we+1),Pe=Me.getUint32(we+3),Oe=Me.getUint8(we+7);return 181==_e&&49==Le&&1195456820==Pe&&3==Oe};se<B+Y;){if(re=S.getUint32(se),6==(31&S.getUint8(se+4)))for(var H=se+5,me=-1;H<se+4+re-1;){me=0;for(var ne=255;255===ne;)me+=ne=S.getUint8(H),H++;var ue=0;for(ne=255;255===ne;)ue+=ne=S.getUint8(H),H++;oe(me,ue,S,H)&&z.push([H,ue]),H+=ue}se+=re+4}return z},t.extractCea608DataFromRange=function(S,B){var Y=B[0],re=[[],[]],se=31&S.getUint8(Y+=8);Y+=2;for(var Re=0;Re<se;Re++){var z=S.getUint8(Y),oe=4&z,H=3&z;Y++;var me=S.getUint8(Y);Y++;var ne=S.getUint8(Y);Y++,oe&&(127&me)+(127&ne)!=0&&(0===H?(re[0].push(me),re[0].push(ne)):1===H&&(re[1].push(me),re[1].push(ne)))}return re}}(C)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C),C.default=function t(E){E=E||{},function b(){void 0===E.escapeMode&&(E.escapeMode=!0),void 0===E.attributePrefix&&(E.attributePrefix="_"),E.arrayAccessForm=E.arrayAccessForm||"none",E.emptyNodeForm=E.emptyNodeForm||"text",void 0===E.enableToStringFunc&&(E.enableToStringFunc=!0),E.arrayAccessFormPaths=E.arrayAccessFormPaths||[],void 0===E.skipEmptyTextNodesForObj&&(E.skipEmptyTextNodesForObj=!0),void 0===E.stripWhitespaces&&(E.stripWhitespaces=!0),E.datetimeAccessFormPaths=E.datetimeAccessFormPaths||[],void 0===E.useDoubleQuotes&&(E.useDoubleQuotes=!1),E.xmlElementsFilter=E.xmlElementsFilter||[],E.jsonPropertiesFilter=E.jsonPropertiesFilter||[],void 0===E.keepCData&&(E.keepCData=!1),void 0===E.ignoreRoot&&(E.ignoreRoot=!1)}();var F={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function x(oe){var H=oe.localName;return null==H&&(H=oe.baseName),(null==H||""==H)&&(H=oe.nodeName),H}function h(oe){return"string"==typeof oe?oe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):oe}function y(oe,H,me,ne){for(var ue=0;ue<oe.length;ue++){var Se=oe[ue];if("string"==typeof Se){if(Se==ne)break}else if(Se instanceof RegExp){if(Se.test(ne))break}else if("function"==typeof Se&&Se(H,me,ne))break}return ue!=oe.length}function A(oe,H,me){"property"===E.arrayAccessForm&&(oe[H+"_asArray"]=oe[H]instanceof Array?oe[H]:[oe[H]]),!(oe[H]instanceof Array)&&E.arrayAccessFormPaths.length>0&&y(E.arrayAccessFormPaths,oe,H,me)&&(oe[H]=[oe[H]])}function U(oe){var H=oe.split(/[-T:+Z]/g),me=new Date(H[0],H[1]-1,H[2]),ne=H[5].split(".");if(me.setHours(H[3],H[4],ne[0]),ne.length>1&&me.setMilliseconds(ne[1]),H[6]&&H[7]){var ue=60*H[6]+Number(H[7]);ue=0+("-"==(/\d\d-\d\d:\d\d$/.test(oe)?"-":"+")?-1*ue:ue),me.setMinutes(me.getMinutes()-ue-me.getTimezoneOffset())}else-1!==oe.indexOf("Z",oe.length-1)&&(me=new Date(Date.UTC(me.getFullYear(),me.getMonth(),me.getDate(),me.getHours(),me.getMinutes(),me.getSeconds(),me.getMilliseconds())));return me}function V(oe,H,me,ne){return!(H==F.ELEMENT_NODE&&E.xmlElementsFilter.length>0)||y(E.xmlElementsFilter,oe,me,ne)}function k(oe,H){if(oe.nodeType==F.DOCUMENT_NODE){for(var me=new Object,ne=oe.childNodes,ue=0;ue<ne.length;ue++)(Se=ne[ue]).nodeType==F.ELEMENT_NODE&&(E.ignoreRoot?me=k(Se):(me={})[Ie=x(Se)]=k(Se));return me}if(oe.nodeType==F.ELEMENT_NODE){(me=new Object).__cnt=0;var le=[];for(ne=oe.childNodes,ue=0;ue<ne.length;ue++){var Se,Ie=x(Se=ne[ue]);if(Se.nodeType!=F.COMMENT_NODE){var Me=H+"."+Ie;if(V(me,Se.nodeType,Ie,Me))if(me.__cnt++,null==me[Ie]){var we=k(Se,Me);("#text"!=Ie||/[^\s]/.test(we))&&((_e={})[Ie]=we,le.push(_e)),me[Ie]=we,A(me,Ie,Me)}else{var _e;null!=me[Ie]&&(me[Ie]instanceof Array||(me[Ie]=[me[Ie]],A(me,Ie,Me))),we=k(Se,Me),("#text"!=Ie||/[^\s]/.test(we))&&((_e={})[Ie]=we,le.push(_e)),me[Ie][me[Ie].length]=we}}}me.__children=le;for(var Le=x(oe),Pe=0;Pe<oe.attributes.length;Pe++){var Oe=oe.attributes[Pe];me.__cnt++;for(var je=Oe.value,ze=0,He=E.matchers.length;ze<He;ze++){var Ae=E.matchers[ze];Ae.test(Oe,Le)&&(je=Ae.converter(Oe.value))}me[E.attributePrefix+Oe.name]=je}var be=function g(oe){return oe.prefix}(oe);return null!=be&&""!=be&&(me.__cnt++,me.__prefix=be),null!=me["#text"]&&(me.__text=me["#text"],me.__text instanceof Array&&(me.__text=me.__text.join("\n")),E.stripWhitespaces&&(me.__text=me.__text.trim()),delete me["#text"],"property"==E.arrayAccessForm&&delete me["#text_asArray"],me.__text=function P(oe,H,me){if(E.datetimeAccessFormPaths.length>0){var ne=me.split(".#")[0];return y(E.datetimeAccessFormPaths,oe,H,ne)?U(oe):oe}return oe}(me.__text,Ie,H+"."+Ie)),null!=me["#cdata-section"]&&(me.__cdata=me["#cdata-section"],delete me["#cdata-section"],"property"==E.arrayAccessForm&&delete me["#cdata-section_asArray"]),0==me.__cnt&&"text"==E.emptyNodeForm?me="":1==me.__cnt&&null!=me.__text?me=me.__text:1!=me.__cnt||null==me.__cdata||E.keepCData?me.__cnt>1&&null!=me.__text&&E.skipEmptyTextNodesForObj&&(E.stripWhitespaces&&""==me.__text||""==me.__text.trim())&&delete me.__text:me=me.__cdata,delete me.__cnt,E.enableToStringFunc&&(null!=me.__text||null!=me.__cdata)&&(me.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),me}if(oe.nodeType==F.TEXT_NODE||oe.nodeType==F.CDATA_SECTION_NODE)return oe.nodeValue}function R(oe,H,me,ne){var ue="<"+(null!=oe&&null!=oe.__prefix?oe.__prefix+":":"")+H;if(null!=me)for(var Se=0;Se<me.length;Se++){var Ie=me[Se],le=oe[Ie];E.escapeMode&&(le=h(le)),ue+=" "+Ie.substr(E.attributePrefix.length)+"=",ue+=E.useDoubleQuotes?'"'+le+'"':"'"+le+"'"}return ue+(ne?"/>":">")}function D(oe,H){return"</"+(null!=oe.__prefix?oe.__prefix+":":"")+H+">"}function T(oe,H){return!!("property"==E.arrayAccessForm&&function I(oe,H){return-1!==oe.indexOf(H,oe.length-H.length)}(H.toString(),"_asArray")||0==H.toString().indexOf(E.attributePrefix)||0==H.toString().indexOf("__")||oe[H]instanceof Function)}function N(oe){var H=0;if(oe instanceof Object)for(var me in oe)T(oe,me)||H++;return H}function S(oe,H,me){return 0==E.jsonPropertiesFilter.length||""==me||y(E.jsonPropertiesFilter,oe,H,me)}function B(oe){var H=[];if(oe instanceof Object)for(var me in oe)-1==me.toString().indexOf("__")&&0==me.toString().indexOf(E.attributePrefix)&&H.push(me);return H}function re(oe){var H="";return oe instanceof Object?H+=function Y(oe){var H="";return null!=oe.__cdata&&(H+="<![CDATA["+oe.__cdata+"]]>"),null!=oe.__text&&(H+=E.escapeMode?h(oe.__text):oe.__text),H}(oe):null!=oe&&(H+=E.escapeMode?h(oe):oe),H}function se(oe,H){return""===oe?H:oe+"."+H}function Re(oe,H,me,ne){var ue="";if(0==oe.length)ue+=R(oe,H,me,!0);else for(var Se=0;Se<oe.length;Se++)ue+=R(oe[Se],H,B(oe[Se]),!1),ue+=z(oe[Se],se(ne,H)),ue+=D(oe[Se],H);return ue}function z(oe,H){var me="";if(N(oe)>0)for(var ue in oe)if(!T(oe,ue)&&(""==H||S(oe,ue,se(H,ue)))){var Se=oe[ue],Ie=B(Se);null==Se||null==Se?me+=R(Se,ue,Ie,!0):Se instanceof Object?Se instanceof Array?me+=Re(Se,ue,Ie,H):Se instanceof Date?(me+=R(Se,ue,Ie,!1),me+=Se.toISOString(),me+=D(Se,ue)):N(Se)>0||null!=Se.__text||null!=Se.__cdata?(me+=R(Se,ue,Ie,!1),me+=z(Se,se(H,ue)),me+=D(Se,ue)):me+=R(Se,ue,Ie,!0):(me+=R(Se,ue,Ie,!1),me+=re(Se),me+=D(Se,ue))}return me+re(oe)}this.parseXmlString=function(oe){var me;if(window.ActiveXObject||window,void 0===oe)return null;if(window.DOMParser){var ne=new window.DOMParser;try{(me=ne.parseFromString(oe,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(me=null)}catch{me=null}}else 0==oe.indexOf("<?")&&(oe=oe.substr(oe.indexOf("?>")+2)),(me=new ActiveXObject("Microsoft.XMLDOM")).async="false",me.loadXML(oe);return me},this.asArray=function(oe){return void 0===oe||null==oe?[]:oe instanceof Array?oe:[oe]},this.toXmlDateTime=function(oe){return oe instanceof Date?oe.toISOString():"number"==typeof oe?new Date(oe).toISOString():null},this.asDateTime=function(oe){return"string"==typeof oe?U(oe):oe},this.xml2json=function(oe){return k(oe)},this.xml_str2json=function(oe){var H=this.parseXmlString(oe);return null!=H?this.xml2json(H):null},this.json2xml_str=function(oe){return z(oe,"")},this.json2xml=function(oe){var H=this.json2xml_str(oe);return this.parseXmlString(H)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");c.d(C,"MediaPlayer",function(){return t.MediaPlayer});var E=c(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");c.d(C,"supportsMediaSource",function(){return E.supportsMediaSource});var O=c(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");c.d(C,"MetricsReporting",function(){return O.default});var b=c(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");c.d(C,"Protection",function(){return b.default});var F=c(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");c.d(C,"MediaPlayerFactory",function(){return F.default});var L=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(C,"Debug",function(){return L.default}),dashjs.Protection=b.default,dashjs.MetricsReporting=O.default,dashjs.MediaPlayerFactory=F.default,dashjs.Debug=L.default,dashjs.supportsMediaSource=E.supportsMediaSource,C.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(Ze,C,c){"use strict";c.r(C),function(t){var E=c(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");c.d(C,"MediaPlayer",function(){return E.default});var O=c(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");c.d(C,"FactoryMaker",function(){return O.default});var b=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(C,"Debug",function(){return b.default});var F=c(
/*! ./src/core/Version */
"./src/core/Version.js"),g=(c(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||t),h=g.dashjs;h||(h=g.dashjs={}),h.MediaPlayer=E.default,h.FactoryMaker=O.default,h.Debug=b.default,h.Version=Object(F.getVersionString)(),C.default=h}.call(this,c(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(Ze,C,c){"use strict";C.byteLength=function g(P){var V=x(P),R=V[1];return 3*(V[0]+R)/4-R},C.toByteArray=function p(P){var V,S,k=x(P),R=k[0],D=k[1],I=new O(function h(P,V,k){return 3*(V+k)/4-k}(0,R,D)),T=0,N=D>0?R-4:R;for(S=0;S<N;S+=4)V=E[P.charCodeAt(S)]<<18|E[P.charCodeAt(S+1)]<<12|E[P.charCodeAt(S+2)]<<6|E[P.charCodeAt(S+3)],I[T++]=V>>16&255,I[T++]=V>>8&255,I[T++]=255&V;return 2===D&&(V=E[P.charCodeAt(S)]<<2|E[P.charCodeAt(S+1)]>>4,I[T++]=255&V),1===D&&(V=E[P.charCodeAt(S)]<<10|E[P.charCodeAt(S+1)]<<4|E[P.charCodeAt(S+2)]>>2,I[T++]=V>>8&255,I[T++]=255&V),I},C.fromByteArray=function U(P){for(var V,k=P.length,R=k%3,D=[],I=16383,T=0,N=k-R;T<N;T+=I)D.push(A(P,T,T+I>N?N:T+I));return 1===R?D.push(t[(V=P[k-1])>>2]+t[V<<4&63]+"=="):2===R&&D.push(t[(V=(P[k-2]<<8)+P[k-1])>>10]+t[V>>4&63]+t[V<<2&63]+"="),D.join("")};for(var t=[],E=[],O=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0;F<64;++F)t[F]=b[F],E[b.charCodeAt(F)]=F;function x(P){var V=P.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=P.indexOf("=");return-1===k&&(k=V),[k,k===V?0:4-k%4]}function y(P){return t[P>>18&63]+t[P>>12&63]+t[P>>6&63]+t[63&P]}function A(P,V,k){for(var D=[],I=V;I<k;I+=3)D.push(y((P[I]<<16&16711680)+(P[I+1]<<8&65280)+(255&P[I+2])));return D.join("")}E["-".charCodeAt(0)]=62,E["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(Ze,C,c){"use strict";function b(L,x){return function g(h,p){for(var V,k,R,y=F(h,"tag"),A=F(p??"*","range"),U=[],P=-1;++P<A.length;)if(V=A[P].toLowerCase(),x||"*"!==V){for(k=-1,R=[];++k<y.length;)if(L(y[k].toLowerCase(),V)){if(!x)return y[k];U.push(y[k])}else R.push(y[k]);y=R}return x?U:void 0}}function F(L,x){var g=L&&"string"==typeof L?[L]:L;if(!g||"object"!=typeof g||!("length"in g))throw new Error("Invalid "+x+" `"+g+"`, expected non-empty string");return g}C.basicFilter=b(function t(L,x){return"*"===x||L===x||L.indexOf(x+"-")>-1},!0),C.extendedFilter=b(function E(L,x){var g=L.split("-"),h=x.split("-"),p=0,y=0;if("*"!==h[y]&&g[p]!==h[y])return!1;for(p++,y++;y<h.length;)if("*"!==h[y]){if(!g[p])return!1;if(g[p]!==h[y]){if(1===g[p].length)return!1;p++}else p++,y++}else y++;return!0},!0),C.lookup=b(function O(L,x){for(var h,g=x;;){if("*"===g||L===g)return!0;if((h=g.lastIndexOf("-"))<0)return!1;"-"===g.charAt(h-2)&&(h-=2),g=g.slice(0,h)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=c(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(Ze){Ze.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(Ze){Ze.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),E=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),O=c(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),b=c(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),F=c(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),L=c(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");Ze.exports=function p(V,k){var N,R=k||{},D=t.parse(String(V||"").toLowerCase(),R),I=t.stringify(D),T=-1;if(!I)return I;for(;++T<O.length;)E.extendedFilter(I,O[T].from).length&&(y(D,O[T].from,O[T].to),I=t.stringify(D));for(T=-1;++T<b.length;)A(D,b[T].from.field,b[T].from.value)&&U(D,b[T].to.field,b[T].to.value);for(I=t.stringify(Object.assign({},D,h)),T=-1;++T<F.length;)I===F[T]&&(y(D,F[T],F[T].split("-").slice(0,-1).join("-")),I=t.stringify(Object.assign({},D,h)));if(D.extensions.sort(P),R.warning)for(N in L)x.call(L[N],D[N])&&R.warning("Deprecated "+N+" `"+D[N]+"`, expected one of `"+L[N][D[N]].join("`, `")+"`",null,7);return D.script&&(D.script=D.script.charAt(0).toUpperCase()+D.script.slice(1)),D.region&&(D.region=D.region.toUpperCase()),t.stringify(D)};var x={}.hasOwnProperty,g=new Intl.Collator,h={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function y(V,k,R){var N,D=t.parse(k),I=t.parse(R),T=[];for(N in D)D[N]&&D[N].length&&A(V,N,D[N])&&T.push(N);for(N in I)I[N]&&I[N].length&&(T.indexOf(N)>-1||!V[N]||!V[N].length)&&U(V,N,I[N])}function A(V,k,R){var I,T,N,S,D=!1;if(R){if(T=I=V[k],I&&"object"==typeof I)for(T=[],N=-1;++N<I.length;)R.indexOf(S=I[N])<0?T.push(S):D=!0;else I===R&&(T=null,D=!0);V[k]=T}return D}function U(V,k,R){var I,T,N,D=V[k];if(D&&"object"==typeof D)for(I=[].concat(R),T=-1;++T<I.length;)D.indexOf(N=I[T])<0&&D.push(N);else V[k]=R}function P(V,k){return g.compare(V.singleton,k.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(Ze){Ze.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(Ze){Ze.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(Ze,C,c){"use strict";C.parse=c(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),C.stringify=c(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(Ze){Ze.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),E=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),O=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),b=c(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),F=c(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");Ze.exports=function x(h,p){var k,R,D,y=p||{},A={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},U=String(h),P=U.toLowerCase(),V=0;if(null==h)throw new Error("Expected string, got `"+h+"`");if(L.call(F,P))return(null==y.normalize||y.normalize)&&F[P]?x(F[P]):(A[-1===b.indexOf(P)?"irregular":"regular"]=U,A);for(;E(P.charCodeAt(V))&&V<9;)V++;if(V>1&&V<9){if(A.language=U.slice(0,V),V<4)for(R=0;45===P.charCodeAt(V)&&E(P.charCodeAt(V+1))&&E(P.charCodeAt(V+2))&&E(P.charCodeAt(V+3))&&!E(P.charCodeAt(V+4));){if(R>2)return I(V,3,"Too many extended language subtags, expected at most 3 subtags");A.extendedLanguageSubtags.push(U.slice(V+1,V+4)),V+=4,R++}for(45===P.charCodeAt(V)&&E(P.charCodeAt(V+1))&&E(P.charCodeAt(V+2))&&E(P.charCodeAt(V+3))&&E(P.charCodeAt(V+4))&&!E(P.charCodeAt(V+5))&&(A.script=U.slice(V+1,V+5),V+=5),45===P.charCodeAt(V)&&(E(P.charCodeAt(V+1))&&E(P.charCodeAt(V+2))&&!E(P.charCodeAt(V+3))?(A.region=U.slice(V+1,V+3),V+=3):O(P.charCodeAt(V+1))&&O(P.charCodeAt(V+2))&&O(P.charCodeAt(V+3))&&!O(P.charCodeAt(V+4))&&(A.region=U.slice(V+1,V+4),V+=4));45===P.charCodeAt(V);){for(D=k=V+1;t(P.charCodeAt(D));){if(D-k>7)return I(D,1,"Too long variant, expected at most 8 characters");D++}if(!(D-k>4||D-k>3&&O(P.charCodeAt(k))))break;A.variants.push(U.slice(k,D)),V=D}for(;45===P.charCodeAt(V)&&120!==P.charCodeAt(V+1)&&t(P.charCodeAt(V+1))&&45===P.charCodeAt(V+2)&&t(P.charCodeAt(V+3));){for(D=V+2,R=0;45===P.charCodeAt(D)&&t(P.charCodeAt(D+1))&&t(P.charCodeAt(D+2));)for(D=(k=D+1)+2,R++;t(P.charCodeAt(D));){if(D-k>7)return I(D,2,"Too long extension, expected at most 8 characters");D++}if(!R)return I(D,4,"Empty extension, extensions must have at least 2 characters of content");A.extensions.push({singleton:U.charAt(V+1),extensions:U.slice(V+3,D).split("-")}),V=D}}else V=0;if(0===V&&120===P.charCodeAt(V)||45===P.charCodeAt(V)&&120===P.charCodeAt(V+1))for(D=V=V?V+2:1;45===P.charCodeAt(D)&&t(P.charCodeAt(D+1));){for(D=k=V+1;t(P.charCodeAt(D));){if(D-k>7)return I(D,5,"Too long private-use area, expected at most 8 characters");D++}A.privateuse.push(U.slice(V+1,D)),V=D}return V!==U.length?I(V,6,"Found superfluous content after tag"):A;function I(T,N,S){return y.warning&&y.warning(S,N,T),y.forgiving?A:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var L={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(Ze){Ze.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=function t(E){var F,L,x,O=E||{},b=[];if(O.irregular||O.regular)return O.irregular||O.regular;if(O.language)for(b=b.concat(O.language,O.extendedLanguageSubtags||[],O.script||[],O.region||[],O.variants||[]),F=O.extensions||[],L=-1;++L<F.length;)(x=F[L]).singleton&&x.extensions&&x.extensions.length&&(b=b.concat(x.singleton,x.extensions));return O.privateuse&&O.privateuse.length&&(b=b.concat("x",O.privateuse)),b.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(Ze,C,c){"use strict";(function(t){var E=c(
/*! base64-js */
"./node_modules/base64-js/index.js"),O=c(
/*! ieee754 */
"./node_modules/ieee754/index.js"),b=c(
/*! isarray */
"./node_modules/isarray/index.js");function L(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function x(Q,q){if(L()<q)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(Q=new Uint8Array(q)).__proto__=g.prototype:(null===Q&&(Q=new g(q)),Q.length=q),Q}function g(Q,q,J){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(Q,q,J);if("number"==typeof Q){if("string"==typeof q)throw new Error("If encoding is specified then the first argument must be a string");return A(this,Q)}return h(this,Q,q,J)}function h(Q,q,J,de){if("number"==typeof q)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&q instanceof ArrayBuffer?function V(Q,q,J,de){if(J<0||q.byteLength<J)throw new RangeError("'offset' is out of bounds");if(q.byteLength<J+(de||0))throw new RangeError("'length' is out of bounds");return q=void 0===J&&void 0===de?new Uint8Array(q):void 0===de?new Uint8Array(q,J):new Uint8Array(q,J,de),g.TYPED_ARRAY_SUPPORT?(Q=q).__proto__=g.prototype:Q=P(Q,q),Q}(Q,q,J,de):"string"==typeof q?function U(Q,q,J){if(("string"!=typeof J||""===J)&&(J="utf8"),!g.isEncoding(J))throw new TypeError('"encoding" must be a valid string encoding');var de=0|I(q,J),ge=(Q=x(Q,de)).write(q,J);return ge!==de&&(Q=Q.slice(0,ge)),Q}(Q,q,J):function k(Q,q){if(g.isBuffer(q)){var J=0|R(q.length);return 0===(Q=x(Q,J)).length||q.copy(Q,0,0,J),Q}if(q){if(typeof ArrayBuffer<"u"&&q.buffer instanceof ArrayBuffer||"length"in q)return"number"!=typeof q.length||function X(Q){return Q!=Q}(q.length)?x(Q,0):P(Q,q);if("Buffer"===q.type&&b(q.data))return P(Q,q.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Q,q)}function p(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be a number');if(Q<0)throw new RangeError('"size" argument must not be negative')}function A(Q,q){if(p(q),Q=x(Q,q<0?0:0|R(q)),!g.TYPED_ARRAY_SUPPORT)for(var J=0;J<q;++J)Q[J]=0;return Q}function P(Q,q){var J=q.length<0?0:0|R(q.length);Q=x(Q,J);for(var de=0;de<J;de+=1)Q[de]=255&q[de];return Q}function R(Q){if(Q>=L())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L().toString(16)+" bytes");return 0|Q}function I(Q,q){if(g.isBuffer(Q))return Q.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Q)||Q instanceof ArrayBuffer))return Q.byteLength;"string"!=typeof Q&&(Q=""+Q);var J=Q.length;if(0===J)return 0;for(var de=!1;;)switch(q){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":case void 0:return ie(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*J;case"hex":return J>>>1;case"base64":return Z(Q).length;default:if(de)return ie(Q).length;q=(""+q).toLowerCase(),de=!0}}function T(Q,q,J){var de=!1;if((void 0===q||q<0)&&(q=0),q>this.length||((void 0===J||J>this.length)&&(J=this.length),J<=0)||(J>>>=0)<=(q>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return le(this,q,J);case"utf8":case"utf-8":return me(this,q,J);case"ascii":return Se(this,q,J);case"latin1":case"binary":return Ie(this,q,J);case"base64":return H(this,q,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,q,J);default:if(de)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),de=!0}}function N(Q,q,J){var de=Q[q];Q[q]=Q[J],Q[J]=de}function S(Q,q,J,de,ge){if(0===Q.length)return-1;if("string"==typeof J?(de=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,isNaN(J)&&(J=ge?0:Q.length-1),J<0&&(J=Q.length+J),J>=Q.length){if(ge)return-1;J=Q.length-1}else if(J<0){if(!ge)return-1;J=0}if("string"==typeof q&&(q=g.from(q,de)),g.isBuffer(q))return 0===q.length?-1:B(Q,q,J,de,ge);if("number"==typeof q)return q&=255,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ge?Uint8Array.prototype.indexOf.call(Q,q,J):Uint8Array.prototype.lastIndexOf.call(Q,q,J):B(Q,[q],J,de,ge);throw new TypeError("val must be string, number or Buffer")}function B(Q,q,J,de,ge){var $e,ce=1,Ce=Q.length,Ye=q.length;if(void 0!==de&&("ucs2"===(de=String(de).toLowerCase())||"ucs-2"===de||"utf16le"===de||"utf-16le"===de)){if(Q.length<2||q.length<2)return-1;ce=2,Ce/=2,Ye/=2,J/=2}function Be(Ot,_t){return 1===ce?Ot[_t]:Ot.readUInt16BE(_t*ce)}if(ge){var Qe=-1;for($e=J;$e<Ce;$e++)if(Be(Q,$e)===Be(q,-1===Qe?0:$e-Qe)){if(-1===Qe&&(Qe=$e),$e-Qe+1===Ye)return Qe*ce}else-1!==Qe&&($e-=$e-Qe),Qe=-1}else for(J+Ye>Ce&&(J=Ce-Ye),$e=J;$e>=0;$e--){for(var qe=!0,ct=0;ct<Ye;ct++)if(Be(Q,$e+ct)!==Be(q,ct)){qe=!1;break}if(qe)return $e}return-1}function Y(Q,q,J,de){J=Number(J)||0;var ge=Q.length-J;de?(de=Number(de))>ge&&(de=ge):de=ge;var ce=q.length;if(ce%2!=0)throw new TypeError("Invalid hex string");de>ce/2&&(de=ce/2);for(var Ce=0;Ce<de;++Ce){var Ye=parseInt(q.substr(2*Ce,2),16);if(isNaN(Ye))return Ce;Q[J+Ce]=Ye}return Ce}function re(Q,q,J,de){return W(ie(q,Q.length-J),Q,J,de)}function se(Q,q,J,de){return W(function he(Q){for(var q=[],J=0;J<Q.length;++J)q.push(255&Q.charCodeAt(J));return q}(q),Q,J,de)}function Re(Q,q,J,de){return se(Q,q,J,de)}function z(Q,q,J,de){return W(Z(q),Q,J,de)}function oe(Q,q,J,de){return W(function $(Q,q){for(var J,de,ce=[],Ce=0;Ce<Q.length&&!((q-=2)<0);++Ce)de=(J=Q.charCodeAt(Ce))>>8,ce.push(J%256),ce.push(de);return ce}(q,Q.length-J),Q,J,de)}function H(Q,q,J){return E.fromByteArray(0===q&&J===Q.length?Q:Q.slice(q,J))}function me(Q,q,J){J=Math.min(Q.length,J);for(var de=[],ge=q;ge<J;){var Be,$e,Qe,qe,ce=Q[ge],Ce=null,Ye=ce>239?4:ce>223?3:ce>191?2:1;if(ge+Ye<=J)switch(Ye){case 1:ce<128&&(Ce=ce);break;case 2:128==(192&(Be=Q[ge+1]))&&(qe=(31&ce)<<6|63&Be)>127&&(Ce=qe);break;case 3:$e=Q[ge+2],128==(192&(Be=Q[ge+1]))&&128==(192&$e)&&(qe=(15&ce)<<12|(63&Be)<<6|63&$e)>2047&&(qe<55296||qe>57343)&&(Ce=qe);break;case 4:$e=Q[ge+2],Qe=Q[ge+3],128==(192&(Be=Q[ge+1]))&&128==(192&$e)&&128==(192&Qe)&&(qe=(15&ce)<<18|(63&Be)<<12|(63&$e)<<6|63&Qe)>65535&&qe<1114112&&(Ce=qe)}null===Ce?(Ce=65533,Ye=1):Ce>65535&&(de.push((Ce-=65536)>>>10&1023|55296),Ce=56320|1023&Ce),de.push(Ce),ge+=Ye}return function ue(Q){var q=Q.length;if(q<=ne)return String.fromCharCode.apply(String,Q);for(var J="",de=0;de<q;)J+=String.fromCharCode.apply(String,Q.slice(de,de+=ne));return J}(de)}C.Buffer=g,C.SlowBuffer=function D(Q){return+Q!=Q&&(Q=0),g.alloc(+Q)},C.INSPECT_MAX_BYTES=50,g.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function F(){try{var Q=new Uint8Array(1);return Q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===Q.foo()&&"function"==typeof Q.subarray&&0===Q.subarray(1,1).byteLength}catch{return!1}}(),C.kMaxLength=L(),g.poolSize=8192,g._augment=function(Q){return Q.__proto__=g.prototype,Q},g.from=function(Q,q,J){return h(null,Q,q,J)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0})),g.alloc=function(Q,q,J){return function y(Q,q,J,de){return p(q),q<=0?x(Q,q):void 0!==J?"string"==typeof de?x(Q,q).fill(J,de):x(Q,q).fill(J):x(Q,q)}(null,Q,q,J)},g.allocUnsafe=function(Q){return A(null,Q)},g.allocUnsafeSlow=function(Q){return A(null,Q)},g.isBuffer=function(q){return!(null==q||!q._isBuffer)},g.compare=function(q,J){if(!g.isBuffer(q)||!g.isBuffer(J))throw new TypeError("Arguments must be Buffers");if(q===J)return 0;for(var de=q.length,ge=J.length,ce=0,Ce=Math.min(de,ge);ce<Ce;++ce)if(q[ce]!==J[ce]){de=q[ce],ge=J[ce];break}return de<ge?-1:ge<de?1:0},g.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(q,J){if(!b(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return g.alloc(0);var de;if(void 0===J)for(J=0,de=0;de<q.length;++de)J+=q[de].length;var ge=g.allocUnsafe(J),ce=0;for(de=0;de<q.length;++de){var Ce=q[de];if(!g.isBuffer(Ce))throw new TypeError('"list" argument must be an Array of Buffers');Ce.copy(ge,ce),ce+=Ce.length}return ge},g.byteLength=I,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var J=0;J<q;J+=2)N(this,J,J+1);return this},g.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var J=0;J<q;J+=4)N(this,J,J+3),N(this,J+1,J+2);return this},g.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var J=0;J<q;J+=8)N(this,J,J+7),N(this,J+1,J+6),N(this,J+2,J+5),N(this,J+3,J+4);return this},g.prototype.toString=function(){var q=0|this.length;return 0===q?"":0===arguments.length?me(this,0,q):T.apply(this,arguments)},g.prototype.equals=function(q){if(!g.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q||0===g.compare(this,q)},g.prototype.inspect=function(){var q="",J=C.INSPECT_MAX_BYTES;return this.length>0&&(q=this.toString("hex",0,J).match(/.{2}/g).join(" "),this.length>J&&(q+=" ... ")),"<Buffer "+q+">"},g.prototype.compare=function(q,J,de,ge,ce){if(!g.isBuffer(q))throw new TypeError("Argument must be a Buffer");if(void 0===J&&(J=0),void 0===de&&(de=q?q.length:0),void 0===ge&&(ge=0),void 0===ce&&(ce=this.length),J<0||de>q.length||ge<0||ce>this.length)throw new RangeError("out of range index");if(ge>=ce&&J>=de)return 0;if(ge>=ce)return-1;if(J>=de)return 1;if(this===q)return 0;for(var Ce=(ce>>>=0)-(ge>>>=0),Ye=(de>>>=0)-(J>>>=0),Be=Math.min(Ce,Ye),$e=this.slice(ge,ce),Qe=q.slice(J,de),qe=0;qe<Be;++qe)if($e[qe]!==Qe[qe]){Ce=$e[qe],Ye=Qe[qe];break}return Ce<Ye?-1:Ye<Ce?1:0},g.prototype.includes=function(q,J,de){return-1!==this.indexOf(q,J,de)},g.prototype.indexOf=function(q,J,de){return S(this,q,J,de,!0)},g.prototype.lastIndexOf=function(q,J,de){return S(this,q,J,de,!1)},g.prototype.write=function(q,J,de,ge){if(void 0===J)ge="utf8",de=this.length,J=0;else if(void 0===de&&"string"==typeof J)ge=J,de=this.length,J=0;else{if(!isFinite(J))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");J|=0,isFinite(de)?(de|=0,void 0===ge&&(ge="utf8")):(ge=de,de=void 0)}var ce=this.length-J;if((void 0===de||de>ce)&&(de=ce),q.length>0&&(de<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");for(var Ce=!1;;)switch(ge){case"hex":return Y(this,q,J,de);case"utf8":case"utf-8":return re(this,q,J,de);case"ascii":return se(this,q,J,de);case"latin1":case"binary":return Re(this,q,J,de);case"base64":return z(this,q,J,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,q,J,de);default:if(Ce)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),Ce=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ne=4096;function Se(Q,q,J){var de="";J=Math.min(Q.length,J);for(var ge=q;ge<J;++ge)de+=String.fromCharCode(127&Q[ge]);return de}function Ie(Q,q,J){var de="";J=Math.min(Q.length,J);for(var ge=q;ge<J;++ge)de+=String.fromCharCode(Q[ge]);return de}function le(Q,q,J){var de=Q.length;(!q||q<0)&&(q=0),(!J||J<0||J>de)&&(J=de);for(var ge="",ce=q;ce<J;++ce)ge+=K(Q[ce]);return ge}function Me(Q,q,J){for(var de=Q.slice(q,J),ge="",ce=0;ce<de.length;ce+=2)ge+=String.fromCharCode(de[ce]+256*de[ce+1]);return ge}function we(Q,q,J){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+q>J)throw new RangeError("Trying to access beyond buffer length")}function _e(Q,q,J,de,ge,ce){if(!g.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>ge||q<ce)throw new RangeError('"value" argument is out of bounds');if(J+de>Q.length)throw new RangeError("Index out of range")}function Le(Q,q,J,de){q<0&&(q=65535+q+1);for(var ge=0,ce=Math.min(Q.length-J,2);ge<ce;++ge)Q[J+ge]=(q&255<<8*(de?ge:1-ge))>>>8*(de?ge:1-ge)}function Pe(Q,q,J,de){q<0&&(q=4294967295+q+1);for(var ge=0,ce=Math.min(Q.length-J,4);ge<ce;++ge)Q[J+ge]=q>>>8*(de?ge:3-ge)&255}function Oe(Q,q,J,de,ge,ce){if(J+de>Q.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function je(Q,q,J,de,ge){return ge||Oe(Q,0,J,4),O.write(Q,q,J,de,23,4),J+4}function ze(Q,q,J,de,ge){return ge||Oe(Q,0,J,8),O.write(Q,q,J,de,52,8),J+8}g.prototype.slice=function(q,J){var ge,de=this.length;if((q=~~q)<0?(q+=de)<0&&(q=0):q>de&&(q=de),(J=void 0===J?de:~~J)<0?(J+=de)<0&&(J=0):J>de&&(J=de),J<q&&(J=q),g.TYPED_ARRAY_SUPPORT)(ge=this.subarray(q,J)).__proto__=g.prototype;else{var ce=J-q;ge=new g(ce,void 0);for(var Ce=0;Ce<ce;++Ce)ge[Ce]=this[Ce+q]}return ge},g.prototype.readUIntLE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var ge=this[q],ce=1,Ce=0;++Ce<J&&(ce*=256);)ge+=this[q+Ce]*ce;return ge},g.prototype.readUIntBE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var ge=this[q+--J],ce=1;J>0&&(ce*=256);)ge+=this[q+--J]*ce;return ge},g.prototype.readUInt8=function(q,J){return J||we(q,1,this.length),this[q]},g.prototype.readUInt16LE=function(q,J){return J||we(q,2,this.length),this[q]|this[q+1]<<8},g.prototype.readUInt16BE=function(q,J){return J||we(q,2,this.length),this[q]<<8|this[q+1]},g.prototype.readUInt32LE=function(q,J){return J||we(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},g.prototype.readUInt32BE=function(q,J){return J||we(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},g.prototype.readIntLE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var ge=this[q],ce=1,Ce=0;++Ce<J&&(ce*=256);)ge+=this[q+Ce]*ce;return ge>=(ce*=128)&&(ge-=Math.pow(2,8*J)),ge},g.prototype.readIntBE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var ge=J,ce=1,Ce=this[q+--ge];ge>0&&(ce*=256);)Ce+=this[q+--ge]*ce;return Ce>=(ce*=128)&&(Ce-=Math.pow(2,8*J)),Ce},g.prototype.readInt8=function(q,J){return J||we(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},g.prototype.readInt16LE=function(q,J){J||we(q,2,this.length);var de=this[q]|this[q+1]<<8;return 32768&de?4294901760|de:de},g.prototype.readInt16BE=function(q,J){J||we(q,2,this.length);var de=this[q+1]|this[q]<<8;return 32768&de?4294901760|de:de},g.prototype.readInt32LE=function(q,J){return J||we(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},g.prototype.readInt32BE=function(q,J){return J||we(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},g.prototype.readFloatLE=function(q,J){return J||we(q,4,this.length),O.read(this,q,!0,23,4)},g.prototype.readFloatBE=function(q,J){return J||we(q,4,this.length),O.read(this,q,!1,23,4)},g.prototype.readDoubleLE=function(q,J){return J||we(q,8,this.length),O.read(this,q,!0,52,8)},g.prototype.readDoubleBE=function(q,J){return J||we(q,8,this.length),O.read(this,q,!1,52,8)},g.prototype.writeUIntLE=function(q,J,de,ge){q=+q,J|=0,de|=0,ge||_e(this,q,J,de,Math.pow(2,8*de)-1,0);var Ce=1,Ye=0;for(this[J]=255&q;++Ye<de&&(Ce*=256);)this[J+Ye]=q/Ce&255;return J+de},g.prototype.writeUIntBE=function(q,J,de,ge){q=+q,J|=0,de|=0,ge||_e(this,q,J,de,Math.pow(2,8*de)-1,0);var Ce=de-1,Ye=1;for(this[J+Ce]=255&q;--Ce>=0&&(Ye*=256);)this[J+Ce]=q/Ye&255;return J+de},g.prototype.writeUInt8=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,1,255,0),g.TYPED_ARRAY_SUPPORT||(q=Math.floor(q)),this[J]=255&q,J+1},g.prototype.writeUInt16LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[J]=255&q,this[J+1]=q>>>8):Le(this,q,J,!0),J+2},g.prototype.writeUInt16BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[J]=q>>>8,this[J+1]=255&q):Le(this,q,J,!1),J+2},g.prototype.writeUInt32LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[J+3]=q>>>24,this[J+2]=q>>>16,this[J+1]=q>>>8,this[J]=255&q):Pe(this,q,J,!0),J+4},g.prototype.writeUInt32BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[J]=q>>>24,this[J+1]=q>>>16,this[J+2]=q>>>8,this[J+3]=255&q):Pe(this,q,J,!1),J+4},g.prototype.writeIntLE=function(q,J,de,ge){if(q=+q,J|=0,!ge){var ce=Math.pow(2,8*de-1);_e(this,q,J,de,ce-1,-ce)}var Ce=0,Ye=1,Be=0;for(this[J]=255&q;++Ce<de&&(Ye*=256);)q<0&&0===Be&&0!==this[J+Ce-1]&&(Be=1),this[J+Ce]=(q/Ye>>0)-Be&255;return J+de},g.prototype.writeIntBE=function(q,J,de,ge){if(q=+q,J|=0,!ge){var ce=Math.pow(2,8*de-1);_e(this,q,J,de,ce-1,-ce)}var Ce=de-1,Ye=1,Be=0;for(this[J+Ce]=255&q;--Ce>=0&&(Ye*=256);)q<0&&0===Be&&0!==this[J+Ce+1]&&(Be=1),this[J+Ce]=(q/Ye>>0)-Be&255;return J+de},g.prototype.writeInt8=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,1,127,-128),g.TYPED_ARRAY_SUPPORT||(q=Math.floor(q)),q<0&&(q=255+q+1),this[J]=255&q,J+1},g.prototype.writeInt16LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[J]=255&q,this[J+1]=q>>>8):Le(this,q,J,!0),J+2},g.prototype.writeInt16BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[J]=q>>>8,this[J+1]=255&q):Le(this,q,J,!1),J+2},g.prototype.writeInt32LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[J]=255&q,this[J+1]=q>>>8,this[J+2]=q>>>16,this[J+3]=q>>>24):Pe(this,q,J,!0),J+4},g.prototype.writeInt32BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),g.TYPED_ARRAY_SUPPORT?(this[J]=q>>>24,this[J+1]=q>>>16,this[J+2]=q>>>8,this[J+3]=255&q):Pe(this,q,J,!1),J+4},g.prototype.writeFloatLE=function(q,J,de){return je(this,q,J,!0,de)},g.prototype.writeFloatBE=function(q,J,de){return je(this,q,J,!1,de)},g.prototype.writeDoubleLE=function(q,J,de){return ze(this,q,J,!0,de)},g.prototype.writeDoubleBE=function(q,J,de){return ze(this,q,J,!1,de)},g.prototype.copy=function(q,J,de,ge){if(de||(de=0),!ge&&0!==ge&&(ge=this.length),J>=q.length&&(J=q.length),J||(J=0),ge>0&&ge<de&&(ge=de),ge===de||0===q.length||0===this.length)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("sourceStart out of bounds");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),q.length-J<ge-de&&(ge=q.length-J+de);var Ce,ce=ge-de;if(this===q&&de<J&&J<ge)for(Ce=ce-1;Ce>=0;--Ce)q[Ce+J]=this[Ce+de];else if(ce<1e3||!g.TYPED_ARRAY_SUPPORT)for(Ce=0;Ce<ce;++Ce)q[Ce+J]=this[Ce+de];else Uint8Array.prototype.set.call(q,this.subarray(de,de+ce),J);return ce},g.prototype.fill=function(q,J,de,ge){if("string"==typeof q){if("string"==typeof J?(ge=J,J=0,de=this.length):"string"==typeof de&&(ge=de,de=this.length),1===q.length){var ce=q.charCodeAt(0);ce<256&&(q=ce)}if(void 0!==ge&&"string"!=typeof ge)throw new TypeError("encoding must be a string");if("string"==typeof ge&&!g.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge)}else"number"==typeof q&&(q&=255);if(J<0||this.length<J||this.length<de)throw new RangeError("Out of range index");if(de<=J)return this;var Ce;if(J>>>=0,de=void 0===de?this.length:de>>>0,q||(q=0),"number"==typeof q)for(Ce=J;Ce<de;++Ce)this[Ce]=q;else{var Ye=g.isBuffer(q)?q:ie(new g(q,ge).toString()),Be=Ye.length;for(Ce=0;Ce<de-J;++Ce)this[Ce+J]=Ye[Ce%Be]}return this};var He=/[^+\/0-9A-Za-z-_]/g;function K(Q){return Q<16?"0"+Q.toString(16):Q.toString(16)}function ie(Q,q){q=q||1/0;for(var J,de=Q.length,ge=null,ce=[],Ce=0;Ce<de;++Ce){if((J=Q.charCodeAt(Ce))>55295&&J<57344){if(!ge){if(J>56319){(q-=3)>-1&&ce.push(239,191,189);continue}if(Ce+1===de){(q-=3)>-1&&ce.push(239,191,189);continue}ge=J;continue}if(J<56320){(q-=3)>-1&&ce.push(239,191,189),ge=J;continue}J=65536+(ge-55296<<10|J-56320)}else ge&&(q-=3)>-1&&ce.push(239,191,189);if(ge=null,J<128){if((q-=1)<0)break;ce.push(J)}else if(J<2048){if((q-=2)<0)break;ce.push(J>>6|192,63&J|128)}else if(J<65536){if((q-=3)<0)break;ce.push(J>>12|224,J>>6&63|128,63&J|128)}else{if(!(J<1114112))throw new Error("Invalid code point");if((q-=4)<0)break;ce.push(J>>18|240,J>>12&63|128,J>>6&63|128,63&J|128)}}return ce}function Z(Q){return E.toByteArray(function Ae(Q){if((Q=function be(Q){return Q.trim?Q.trim():Q.replace(/^\s+|\s+$/g,"")}(Q).replace(He,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function W(Q,q,J,de){for(var ge=0;ge<de&&!(ge+J>=q.length||ge>=Q.length);++ge)q[ge+J]=Q[ge];return ge}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(Ze,C,c){var t={parseBuffer:function(b){return new E(b).parse()},addBoxProcessor:function(b,F){"string"!=typeof b||"function"!=typeof F||(O.prototype._boxProcessors[b]=F)},createFile:function(){return new E},createBox:function(b,F,L){var x=O.create(b);return F&&F.append(x,L),x},createFullBox:function(b,F,L){var x=t.createBox(b,F,L);return x.version=0,x.flags=0,x},Utils:{}};t.Utils.dataViewToString=function(b,F){var L=F||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(L).decode(b);var x=[],g=0;if("utf-8"===L)for(;g<b.byteLength;){var h=b.getUint8(g++);h<128||(h<224?(h=(31&h)<<6,h|=63&b.getUint8(g++)):h<240?(h=(15&h)<<12,h|=(63&b.getUint8(g++))<<6,h|=63&b.getUint8(g++)):(h=(7&h)<<18,h|=(63&b.getUint8(g++))<<12,h|=(63&b.getUint8(g++))<<6,h|=63&b.getUint8(g++))),x.push(String.fromCharCode(h))}else for(;g<b.byteLength;)x.push(String.fromCharCode(b.getUint8(g++)));return x.join("")},t.Utils.utf8ToByteArray=function(b){var F,L;if(typeof TextEncoder<"u")F=(new TextEncoder).encode(b);else for(F=[],L=0;L<b.length;++L){var x=b.charCodeAt(L);x<128?F.push(x):x<2048?(F.push(192|x>>6),F.push(128|63&x)):x<65536?(F.push(224|x>>12),F.push(128|63&x>>6),F.push(128|63&x)):(F.push(240|x>>18),F.push(128|63&x>>12),F.push(128|63&x>>6),F.push(128|63&x))}return F},t.Utils.appendBox=function(b,F,L){if(F._offset=b._cursor.offset,F._root=b._root?b._root:b,F._raw=b._raw,F._parent=b,-1!==L){if(null==L)return void b.boxes.push(F);var g,x=-1;if("number"==typeof L)x=L;else{if("string"==typeof L)g=L;else{if("object"!=typeof L||!L.type)return void b.boxes.push(F);g=L.type}for(var h=0;h<b.boxes.length;h++)if(g===b.boxes[h].type){x=h+1;break}}b.boxes.splice(x,0,F)}},C.parseBuffer=t.parseBuffer,C.addBoxProcessor=t.addBoxProcessor,C.createFile=t.createFile,C.createBox=t.createBox,C.createFullBox=t.createFullBox,C.Utils=t.Utils,t.Cursor=function(b){this.offset=typeof b>"u"?0:b};var E=function(b){this._cursor=new t.Cursor,this.boxes=[],b&&(this._raw=new DataView(b))};E.prototype.fetch=function(b){var F=this.fetchAll(b,!0);return F.length?F[0]:null},E.prototype.fetchAll=function(b,F){var L=[];return E._sweep.call(this,b,L,F),L},E.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var b=O.parse(this);if(typeof b.type>"u")break;this.boxes.push(b)}return this},E._sweep=function(b,F,L){for(var x in this.type&&this.type==b&&F.push(this),this.boxes){if(F.length&&L)return;E._sweep.call(this.boxes[x],b,F,L)}},E.prototype.write=function(){var F,b=0;for(F=0;F<this.boxes.length;F++)b+=this.boxes[F].getLength(!1);var L=new Uint8Array(b);for(this._rawo=new DataView(L.buffer),this.bytes=L,this._cursor.offset=0,F=0;F<this.boxes.length;F++)this.boxes[F].write();return L.buffer},E.prototype.append=function(b,F){t.Utils.appendBox(this,b,F)};var O=function(){this._cursor=new t.Cursor};O.parse=function(b){var F=new O;return F._offset=b._cursor.offset,F._root=b._root?b._root:b,F._raw=b._raw,F._parent=b,F._parseBox(),b._cursor.offset=F._raw.byteOffset+F._raw.byteLength,F},O.create=function(b){var F=new O;return F.type=b,F.boxes=[],F},O.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],O.prototype._boxProcessors={},O.prototype._procField=function(b,F,L){this._parsing?this[b]=this._readField(F,L):this._writeField(F,L,this[b])},O.prototype._procFieldArray=function(b,F,L,x){var g;if(this._parsing)for(this[b]=[],g=0;g<F;g++)this[b][g]=this._readField(L,x);else for(g=0;g<this[b].length;g++)this._writeField(L,x,this[b][g])},O.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},O.prototype._procEntries=function(b,F,L){var x;if(this._parsing)for(this[b]=[],x=0;x<F;x++)this[b].push({}),L.call(this,this[b][x]);else for(x=0;x<F;x++)L.call(this,this[b][x])},O.prototype._procSubEntries=function(b,F,L,x){var g;if(this._parsing)for(b[F]=[],g=0;g<L;g++)b[F].push({}),x.call(this,b[F][g]);else for(g=0;g<L;g++)x.call(this,b[F][g])},O.prototype._procEntryField=function(b,F,L,x){this._parsing?b[F]=this._readField(L,x):this._writeField(L,x,b[F])},O.prototype._procSubBoxes=function(b,F){var L;if(this._parsing)for(this[b]=[],L=0;L<F;L++)this[b].push(O.parse(this));else for(L=0;L<F;L++)this._rawo?this[b][L].write():this.size+=this[b][L].getLength()},O.prototype._readField=function(b,F){switch(b){case"uint":return this._readUint(F);case"int":return this._readInt(F);case"template":return this._readTemplate(F);case"string":return-1===F?this._readTerminatedString():this._readString(F);case"data":return this._readData(F);case"utf8":return this._readUTF8String();default:return-1}},O.prototype._readInt=function(b){var F=null,L=this._cursor.offset-this._raw.byteOffset;switch(b){case 8:F=this._raw.getInt8(L);break;case 16:F=this._raw.getInt16(L);break;case 32:F=this._raw.getInt32(L);break;case 64:var x=this._raw.getInt32(L),g=this._raw.getInt32(L+4);F=x*Math.pow(2,32)+g}return this._cursor.offset+=b>>3,F},O.prototype._readUint=function(b){var x,g,F=null,L=this._cursor.offset-this._raw.byteOffset;switch(b){case 8:F=this._raw.getUint8(L);break;case 16:F=this._raw.getUint16(L);break;case 24:F=((x=this._raw.getUint16(L))<<8)+(g=this._raw.getUint8(L+2));break;case 32:F=this._raw.getUint32(L);break;case 64:x=this._raw.getUint32(L),g=this._raw.getUint32(L+4),F=x*Math.pow(2,32)+g}return this._cursor.offset+=b>>3,F},O.prototype._readString=function(b){for(var F="",L=0;L<b;L++){var x=this._readUint(8);F+=String.fromCharCode(x)}return F},O.prototype._readTemplate=function(b){return this._readUint(b/2)+this._readUint(b/2)/Math.pow(2,b/2)},O.prototype._readTerminatedString=function(){for(var b="";this._cursor.offset-this._offset<this._raw.byteLength;){var F=this._readUint(8);if(0===F)break;b+=String.fromCharCode(F)}return b},O.prototype._readData=function(b){var F=b>0?b:this._raw.byteLength-(this._cursor.offset-this._offset);if(F>0){var L=new Uint8Array(this._raw.buffer,this._cursor.offset,F);return this._cursor.offset+=F,L}return null},O.prototype._readUTF8String=function(){var b=this._raw.byteLength-(this._cursor.offset-this._offset),F=null;return b>0&&(F=new DataView(this._raw.buffer,this._cursor.offset,b),this._cursor.offset+=b),F&&t.Utils.dataViewToString(F)},O.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},O.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},O.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(O.parse(this))},O.prototype.append=function(b,F){t.Utils.appendBox(this,b,F)},O.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var b=0;b<this.boxes.length;b++)this.size+=this.boxes[b].getLength();return this._data&&this._writeData(this._data),this.size},O.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var b=0;b<this.boxes.length;b++)this.boxes[b].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},O.prototype._writeInt=function(b,F){if(this._rawo){var L=this._cursor.offset-this._rawo.byteOffset;switch(b){case 8:this._rawo.setInt8(L,F);break;case 16:this._rawo.setInt16(L,F);break;case 32:this._rawo.setInt32(L,F);break;case 64:var x=Math.floor(F/Math.pow(2,32)),g=F-x*Math.pow(2,32);this._rawo.setUint32(L,x),this._rawo.setUint32(L+4,g)}this._cursor.offset+=b>>3}else this.size+=b>>3},O.prototype._writeUint=function(b,F){if(this._rawo){var x,g,L=this._cursor.offset-this._rawo.byteOffset;switch(b){case 8:this._rawo.setUint8(L,F);break;case 16:this._rawo.setUint16(L,F);break;case 24:g=255&F,this._rawo.setUint16(L,x=(16776960&F)>>8),this._rawo.setUint8(L+2,g);break;case 32:this._rawo.setUint32(L,F);break;case 64:g=F-(x=Math.floor(F/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(L,x),this._rawo.setUint32(L+4,g)}this._cursor.offset+=b>>3}else this.size+=b>>3},O.prototype._writeString=function(b,F){for(var L=0;L<b;L++)this._writeUint(8,F.charCodeAt(L))},O.prototype._writeTerminatedString=function(b){if(0!==b.length){for(var F=0;F<b.length;F++)this._writeUint(8,b.charCodeAt(F));this._writeUint(8,0)}},O.prototype._writeTemplate=function(b,F){var L=Math.floor(F),x=(F-L)*Math.pow(2,b/2);this._writeUint(b/2,L),this._writeUint(b/2,x)},O.prototype._writeData=function(b){if(b)if(this._rawo){if(b instanceof Array){for(var L=this._cursor.offset-this._rawo.byteOffset,F=0;F<b.length;F++)this._rawo.setInt8(L+F,b[F]);this._cursor.offset+=b.length}b instanceof Uint8Array&&(this._root.bytes.set(b,this._cursor.offset),this._cursor.offset+=b.length)}else this.size+=b.length},O.prototype._writeUTF8String=function(b){var F=t.Utils.utf8ToByteArray(b);if(this._rawo)for(var L=new DataView(this._rawo.buffer,this._cursor.offset,F.length),x=0;x<F.length;x++)L.setUint8(x,F[x]);else this.size+=F.length},O.prototype._writeField=function(b,F,L){switch(b){case"uint":this._writeUint(F,L);break;case"int":this._writeInt(F,L);break;case"template":this._writeTemplate(F,L);break;case"string":-1==F?this._writeTerminatedString(L):this._writeString(F,L);break;case"data":this._writeData(L);break;case"utf8":this._writeUTF8String(L)}},O.prototype._boxProcessors.avc1=O.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},O.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},O.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(b){this._procEntryField(b,"segment_duration","uint",1===this.version?64:32),this._procEntryField(b,"media_time","int",1===this.version?64:32),this._procEntryField(b,"media_rate_integer","int",16),this._procEntryField(b,"media_rate_fraction","int",16)})},O.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},O.prototype._boxProcessors.free=O.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},O.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},O.prototype._boxProcessors.ftyp=O.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var b=-1;this._parsing&&(b=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",b,"string",4)},O.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},O.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},O.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},O.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},O.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},O.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},O.prototype._boxProcessors.mp4a=O.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},O.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},O.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},O.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},O.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},O.prototype._boxProcessors.sdtp=function(){this._procFullBox();var b=-1;this._parsing&&(b=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",b,"uint",8)},O.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(b){this._parsing||(b.reference=(1&b.reference_type)<<31,b.reference|=2147483647&b.referenced_size,b.sap=(1&b.starts_with_SAP)<<31,b.sap|=(3&b.SAP_type)<<28,b.sap|=268435455&b.SAP_delta_time),this._procEntryField(b,"reference","uint",32),this._procEntryField(b,"subsegment_duration","uint",32),this._procEntryField(b,"sap","uint",32),this._parsing&&(b.reference_type=b.reference>>31&1,b.referenced_size=2147483647&b.reference,b.starts_with_SAP=b.sap>>31&1,b.SAP_type=b.sap>>28&7,b.SAP_delta_time=268435455&b.sap)})},O.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},O.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(b){this._procEntryField(b,"ranges_count","uint",32),this._procSubEntries(b,"ranges",b.ranges_count,function(F){this._procEntryField(F,"level","uint",8),this._procEntryField(F,"range_size","uint",24)})})},O.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},O.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(b){this._procEntryField(b,"sample_delta","uint",32),this._procEntryField(b,"subsample_count","uint",16),this._procSubEntries(b,"subsamples",b.subsample_count,function(F){this._procEntryField(F,"subsample_size","uint",1===this.version?32:16),this._procEntryField(F,"subsample_priority","uint",8),this._procEntryField(F,"discardable","uint",8),this._procEntryField(F,"codec_specific_parameters","uint",32)})})},O.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},O.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},O.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},O.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(b){this._procEntryField(b,"time","uint",1===this.version?64:32),this._procEntryField(b,"moof_offset","uint",1===this.version?64:32),this._procEntryField(b,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(b,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(b,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},O.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},O.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},O.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(b){256&this.flags&&this._procEntryField(b,"sample_duration","uint",32),512&this.flags&&this._procEntryField(b,"sample_size","uint",32),1024&this.flags&&this._procEntryField(b,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(b,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},O.prototype._boxProcessors["url "]=O.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},O.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},O.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},O.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},O.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){function V(k){return Object.prototype.toString.call(k)}C.isArray=function t(k){return Array.isArray?Array.isArray(k):"[object Array]"===V(k)},C.isBoolean=function E(k){return"boolean"==typeof k},C.isNull=function O(k){return null===k},C.isNullOrUndefined=function b(k){return null==k},C.isNumber=function F(k){return"number"==typeof k},C.isString=function L(k){return"string"==typeof k},C.isSymbol=function x(k){return"symbol"==typeof k},C.isUndefined=function g(k){return void 0===k},C.isRegExp=function h(k){return"[object RegExp]"===V(k)},C.isObject=function p(k){return"object"==typeof k&&null!==k},C.isDate=function y(k){return"[object Date]"===V(k)},C.isError=function A(k){return"[object Error]"===V(k)||k instanceof Error},C.isFunction=function U(k){return"function"==typeof k},C.isPrimitive=function P(k){return null===k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||"symbol"==typeof k||typeof k>"u"},C.isBuffer=c(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=c(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(Ze,C,c){(function(t,E){var b;b=function(){"use strict";function b(ce){return"function"==typeof ce}var L=Array.isArray?Array.isArray:function(ce){return"[object Array]"===Object.prototype.toString.call(ce)},x=0,g=void 0,h=void 0,p=function(Ce,Ye){B[x]=Ce,B[x+1]=Ye,2===(x+=2)&&(h?h(Y):se())};var U=typeof window<"u"?window:void 0,P=U||{},V=P.MutationObserver||P.WebKitMutationObserver,k=typeof self>"u"&&typeof t<"u"&&"[object process]"==={}.toString.call(t),R=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){var ce=setTimeout;return function(){return ce(Y,1)}}var B=new Array(1e3);function Y(){for(var ce=0;ce<x;ce+=2)(0,B[ce])(B[ce+1]),B[ce]=void 0,B[ce+1]=void 0;x=0}var se=void 0;function Re(ce,Ce){var Ye=this,Be=new this.constructor(H);void 0===Be[oe]&&he(Be);var $e=Ye._state;if($e){var Qe=arguments[$e-1];p(function(){return Ae($e,Be,Qe,Ye._result)})}else ze(Ye,Be,ce,Ce);return Be}function z(ce){if(ce&&"object"==typeof ce&&ce.constructor===this)return ce;var Ye=new this(H);return Le(Ye,ce),Ye}se=k?function D(){return function(){return t.nextTick(Y)}}():V?function T(){var ce=0,Ce=new V(Y),Ye=document.createTextNode("");return Ce.observe(Ye,{characterData:!0}),function(){Ye.data=ce=++ce%2}}():R?function N(){var ce=new MessageChannel;return ce.port1.onmessage=Y,function(){return ce.port2.postMessage(0)}}():void 0===U?function re(){try{var ce=Function("return this")().require("vertx");return g=ce.runOnLoop||ce.runOnContext,function I(){return typeof g<"u"?function(){g(Y)}:S()}()}catch{return S()}}():S();var oe=Math.random().toString(36).substring(2);function H(){}var me=void 0,ne=1,ue=2;function _e(ce,Ce,Ye){Ce.constructor===ce.constructor&&Ye===Re&&Ce.constructor.resolve===z?function we(ce,Ce){Ce._state===ne?Oe(ce,Ce._result):Ce._state===ue?je(ce,Ce._result):ze(Ce,void 0,function(Ye){return Le(ce,Ye)},function(Ye){return je(ce,Ye)})}(ce,Ce):void 0===Ye?Oe(ce,Ce):b(Ye)?function Me(ce,Ce,Ye){p(function(Be){var $e=!1,Qe=function le(ce,Ce,Ye,Be){try{ce.call(Ce,Ye,Be)}catch($e){return $e}}(Ye,Ce,function(qe){$e||($e=!0,Ce!==qe?Le(Be,qe):Oe(Be,qe))},function(qe){$e||($e=!0,je(Be,qe))});!$e&&Qe&&($e=!0,je(Be,Qe))},ce)}(ce,Ce,Ye):Oe(ce,Ce)}function Le(ce,Ce){if(ce===Ce)je(ce,function Se(){return new TypeError("You cannot resolve a promise with itself")}());else if(function O(ce){var Ce=typeof ce;return null!==ce&&("object"===Ce||"function"===Ce)}(Ce)){var Ye=void 0;try{Ye=Ce.then}catch(Be){return void je(ce,Be)}_e(ce,Ce,Ye)}else Oe(ce,Ce)}function Pe(ce){ce._onerror&&ce._onerror(ce._result),He(ce)}function Oe(ce,Ce){ce._state===me&&(ce._result=Ce,ce._state=ne,0!==ce._subscribers.length&&p(He,ce))}function je(ce,Ce){ce._state===me&&(ce._state=ue,ce._result=Ce,p(Pe,ce))}function ze(ce,Ce,Ye,Be){var $e=ce._subscribers,Qe=$e.length;ce._onerror=null,$e[Qe]=Ce,$e[Qe+ne]=Ye,$e[Qe+ue]=Be,0===Qe&&ce._state&&p(He,ce)}function He(ce){var Ce=ce._subscribers,Ye=ce._state;if(0!==Ce.length){for(var Be=void 0,$e=void 0,Qe=ce._result,qe=0;qe<Ce.length;qe+=3)$e=Ce[qe+Ye],(Be=Ce[qe])?Ae(Ye,Be,$e,Qe):$e(Qe);ce._subscribers.length=0}}function Ae(ce,Ce,Ye,Be){var $e=b(Ye),Qe=void 0,qe=void 0,ct=!0;if($e){try{Qe=Ye(Be)}catch(Ot){ct=!1,qe=Ot}if(Ce===Qe)return void je(Ce,function Ie(){return new TypeError("A promises callback cannot return that same promise.")}())}else Qe=Be;Ce._state!==me||($e&&ct?Le(Ce,Qe):!1===ct?je(Ce,qe):ce===ne?Oe(Ce,Qe):ce===ue&&je(Ce,Qe))}var K=0;function he(ce){ce[oe]=K++,ce._state=void 0,ce._result=void 0,ce._subscribers=[]}var Z=function(){function ce(Ce,Ye){this._instanceConstructor=Ce,this.promise=new Ce(H),this.promise[oe]||he(this.promise),L(Ye)?(this.length=Ye.length,this._remaining=Ye.length,this._result=new Array(this.length),0===this.length?Oe(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ye),0===this._remaining&&Oe(this.promise,this._result))):je(this.promise,function $(){return new Error("Array Methods must be provided an Array")}())}return ce.prototype._enumerate=function(Ye){for(var Be=0;this._state===me&&Be<Ye.length;Be++)this._eachEntry(Ye[Be],Be)},ce.prototype._eachEntry=function(Ye,Be){var $e=this._instanceConstructor,Qe=$e.resolve;if(Qe===z){var qe=void 0,ct=void 0,Ot=!1;try{qe=Ye.then}catch(Rt){Ot=!0,ct=Rt}if(qe===Re&&Ye._state!==me)this._settledAt(Ye._state,Be,Ye._result);else if("function"!=typeof qe)this._remaining--,this._result[Be]=Ye;else if($e===de){var _t=new $e(H);Ot?je(_t,ct):_e(_t,Ye,qe),this._willSettleAt(_t,Be)}else this._willSettleAt(new $e(function(Rt){return Rt(Ye)}),Be)}else this._willSettleAt(Qe(Ye),Be)},ce.prototype._settledAt=function(Ye,Be,$e){var Qe=this.promise;Qe._state===me&&(this._remaining--,Ye===ue?je(Qe,$e):this._result[Be]=$e),0===this._remaining&&Oe(Qe,this._result)},ce.prototype._willSettleAt=function(Ye,Be){var $e=this;ze(Ye,void 0,function(Qe){return $e._settledAt(ne,Be,Qe)},function(Qe){return $e._settledAt(ue,Be,Qe)})},ce}();var de=function(){function ce(Ce){this[oe]=function ie(){return K++}(),this._result=this._state=void 0,this._subscribers=[],H!==Ce&&("function"!=typeof Ce&&function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ce?function be(ce,Ce){try{Ce(function(Be){Le(ce,Be)},function(Be){je(ce,Be)})}catch(Ye){je(ce,Ye)}}(this,Ce):function J(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ce.prototype.catch=function(Ye){return this.then(null,Ye)},ce.prototype.finally=function(Ye){var $e=this.constructor;return b(Ye)?this.then(function(Qe){return $e.resolve(Ye()).then(function(){return Qe})},function(Qe){return $e.resolve(Ye()).then(function(){throw Qe})}):this.then(Ye,Ye)},ce}();return de.prototype.then=Re,de.all=function W(ce){return new Z(this,ce).promise},de.race=function X(ce){var Ce=this;return L(ce)?new Ce(function(Ye,Be){for(var $e=ce.length,Qe=0;Qe<$e;Qe++)Ce.resolve(ce[Qe]).then(Ye,Be)}):new Ce(function(Ye,Be){return Be(new TypeError("You must pass an array to race."))})},de.resolve=z,de.reject=function Q(ce){var Ye=new this(H);return je(Ye,ce),Ye},de._setScheduler=function y(ce){h=ce},de._setAsap=function A(ce){p=ce},de._asap=p,de.polyfill=function ge(){var ce=void 0;if(typeof E<"u")ce=E;else if(typeof self<"u")ce=self;else try{ce=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ce=ce.Promise;if(Ce){var Ye=null;try{Ye=Object.prototype.toString.call(Ce.resolve())}catch{}if("[object Promise]"===Ye&&!Ce.cast)return}ce.Promise=de},de.Promise=de,de},Ze.exports=b()}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var O,t="object"==typeof Reflect?Reflect:null,E=t&&"function"==typeof t.apply?t.apply:function(S,B,Y){return Function.prototype.apply.call(S,B,Y)};O=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var F=Number.isNaN||function(S){return S!=S};function L(){L.init.call(this)}Ze.exports=L,Ze.exports.once=function D(N,S){return new Promise(function(B,Y){function re(Re){N.removeListener(S,se),Y(Re)}function se(){"function"==typeof N.removeListener&&N.removeListener("error",re),B([].slice.call(arguments))}T(N,S,se,{once:!0}),"error"!==S&&function I(N,S,B){"function"==typeof N.on&&T(N,"error",S,B)}(N,re,{once:!0})})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var x=10;function g(N){if("function"!=typeof N)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function h(N){return void 0===N._maxListeners?L.defaultMaxListeners:N._maxListeners}function p(N,S,B,Y){var re,se,Re;if(g(B),void 0===(se=N._events)?(se=N._events=Object.create(null),N._eventsCount=0):(void 0!==se.newListener&&(N.emit("newListener",S,B.listener?B.listener:B),se=N._events),Re=se[S]),void 0===Re)Re=se[S]=B,++N._eventsCount;else if("function"==typeof Re?Re=se[S]=Y?[B,Re]:[Re,B]:Y?Re.unshift(B):Re.push(B),(re=h(N))>0&&Re.length>re&&!Re.warned){Re.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+Re.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=N,z.type=S,z.count=Re.length,function b(N){console&&console.warn&&console.warn(N)}(z)}return N}function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(N,S,B){var Y={fired:!1,wrapFn:void 0,target:N,type:S,listener:B},re=y.bind(Y);return re.listener=B,Y.wrapFn=re,re}function U(N,S,B){var Y=N._events;if(void 0===Y)return[];var re=Y[S];return void 0===re?[]:"function"==typeof re?B?[re.listener||re]:[re]:B?function R(N){for(var S=new Array(N.length),B=0;B<S.length;++B)S[B]=N[B].listener||N[B];return S}(re):V(re,re.length)}function P(N){var S=this._events;if(void 0!==S){var B=S[N];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function V(N,S){for(var B=new Array(S),Y=0;Y<S;++Y)B[Y]=N[Y];return B}function T(N,S,B,Y){if("function"==typeof N.on)Y.once?N.once(S,B):N.on(S,B);else{if("function"!=typeof N.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N);N.addEventListener(S,function re(se){Y.once&&N.removeEventListener(S,re),B(se)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(N){if("number"!=typeof N||N<0||F(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");x=N}}),L.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(S){if("number"!=typeof S||S<0||F(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},L.prototype.getMaxListeners=function(){return h(this)},L.prototype.emit=function(S){for(var B=[],Y=1;Y<arguments.length;Y++)B.push(arguments[Y]);var re="error"===S,se=this._events;if(void 0!==se)re=re&&void 0===se.error;else if(!re)return!1;if(re){var Re;if(B.length>0&&(Re=B[0]),Re instanceof Error)throw Re;var z=new Error("Unhandled error."+(Re?" ("+Re.message+")":""));throw z.context=Re,z}var oe=se[S];if(void 0===oe)return!1;if("function"==typeof oe)E(oe,this,B);else{var H=oe.length,me=V(oe,H);for(Y=0;Y<H;++Y)E(me[Y],this,B)}return!0},L.prototype.on=L.prototype.addListener=function(S,B){return p(this,S,B,!1)},L.prototype.prependListener=function(S,B){return p(this,S,B,!0)},L.prototype.once=function(S,B){return g(B),this.on(S,A(this,S,B)),this},L.prototype.prependOnceListener=function(S,B){return g(B),this.prependListener(S,A(this,S,B)),this},L.prototype.off=L.prototype.removeListener=function(S,B){var Y,re,se,Re,z;if(g(B),void 0===(re=this._events))return this;if(void 0===(Y=re[S]))return this;if(Y===B||Y.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete re[S],re.removeListener&&this.emit("removeListener",S,Y.listener||B));else if("function"!=typeof Y){for(se=-1,Re=Y.length-1;Re>=0;Re--)if(Y[Re]===B||Y[Re].listener===B){z=Y[Re].listener,se=Re;break}if(se<0)return this;0===se?Y.shift():function k(N,S){for(;S+1<N.length;S++)N[S]=N[S+1];N.pop()}(Y,se),1===Y.length&&(re[S]=Y[0]),void 0!==re.removeListener&&this.emit("removeListener",S,z||B)}return this},L.prototype.removeAllListeners=function(S){var B,Y,re;if(void 0===(Y=this._events))return this;if(void 0===Y.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Y[S]&&(0==--this._eventsCount?this._events=Object.create(null):delete Y[S]),this;if(0===arguments.length){var Re,se=Object.keys(Y);for(re=0;re<se.length;++re)"removeListener"!==(Re=se[re])&&this.removeAllListeners(Re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=Y[S]))this.removeListener(S,B);else if(void 0!==B)for(re=B.length-1;re>=0;re--)this.removeListener(S,B[re]);return this},L.prototype.listeners=function(S){return U(this,S,!0)},L.prototype.rawListeners=function(S){return U(this,S,!1)},L.listenerCount=function(N,S){return"function"==typeof N.listenerCount?N.listenerCount(S):P.call(N,S)},L.prototype.listenerCount=P,L.prototype.eventNames=function(){return this._eventsCount>0?O(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=Array.isArray,E=Object.keys,O=Object.prototype.hasOwnProperty;Ze.exports=function b(F,L){if(F===L)return!0;if(F&&L&&"object"==typeof F&&"object"==typeof L){var h,p,y,x=t(F),g=t(L);if(x&&g){if((p=F.length)!=L.length)return!1;for(h=p;0!=h--;)if(!b(F[h],L[h]))return!1;return!0}if(x!=g)return!1;var A=F instanceof Date,U=L instanceof Date;if(A!=U)return!1;if(A&&U)return F.getTime()==L.getTime();var P=F instanceof RegExp,V=L instanceof RegExp;if(P!=V)return!1;if(P&&V)return F.toString()==L.toString();var k=E(F);if((p=k.length)!==E(L).length)return!1;for(h=p;0!=h--;)if(!O.call(L,k[h]))return!1;for(h=p;0!=h--;)if(!b(F[y=k[h]],L[y]))return!1;return!0}return F!=F&&L!=L}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(Ze,C){C.read=function(c,t,E,O,b){var F,L,x=8*b-O-1,g=(1<<x)-1,h=g>>1,p=-7,y=E?b-1:0,A=E?-1:1,U=c[t+y];for(y+=A,F=U&(1<<-p)-1,U>>=-p,p+=x;p>0;F=256*F+c[t+y],y+=A,p-=8);for(L=F&(1<<-p)-1,F>>=-p,p+=O;p>0;L=256*L+c[t+y],y+=A,p-=8);if(0===F)F=1-h;else{if(F===g)return L?NaN:1/0*(U?-1:1);L+=Math.pow(2,O),F-=h}return(U?-1:1)*L*Math.pow(2,F-O)},C.write=function(c,t,E,O,b,F){var L,x,g,h=8*F-b-1,p=(1<<h)-1,y=p>>1,A=23===b?Math.pow(2,-24)-Math.pow(2,-77):0,U=O?0:F-1,P=O?1:-1,V=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(x=isNaN(t)?1:0,L=p):(L=Math.floor(Math.log(t)/Math.LN2),t*(g=Math.pow(2,-L))<1&&(L--,g*=2),(t+=L+y>=1?A/g:A*Math.pow(2,1-y))*g>=2&&(L++,g/=2),L+y>=p?(x=0,L=p):L+y>=1?(x=(t*g-1)*Math.pow(2,b),L+=y):(x=t*Math.pow(2,y-1)*Math.pow(2,b),L=0));b>=8;c[E+U]=255&x,U+=P,x/=256,b-=8);for(L=L<<b|x,h+=b;h>0;c[E+U]=255&L,U+=P,L/=256,h-=8);c[E+U-P]|=128*V}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(Ze,C,c){!function(t,E,O,b,F){function L($){if("contents"in $)for(var Z=("styleAttrs"in $?$.styleAttrs[b.byName.ruby.qname]:null),W="span"===$.kind&&("container"===Z||"textContainer"===Z||"baseContainer"===Z),X=$.contents.length-1;X>=0;X--)!W||"styleAttrs"in $.contents[X]&&b.byName.ruby.qname in $.contents[X].styleAttrs?L($.contents[X]):delete $.contents[X]}function x($,Z,W,X){var Q=X&&"seq"===X.timeContainer,q=0;X&&(q=Q&&W?W.end:X.begin),Z.begin=Z.explicit_begin?Z.explicit_begin+q:q;var J=Z.begin,de=null;if("sets"in Z)for(var ge=0;ge<Z.sets.length;ge++)x($,Z.sets[ge],de,Z),J="seq"===Z.timeContainer?Z.sets[ge].end:Math.max(J,Z.sets[ge].end),de=Z.sets[ge];if("contents"in Z){if("contents"in Z)for(var ce=0;ce<Z.contents.length;ce++)x($,Z.contents[ce],de,Z),J="seq"===Z.timeContainer?Z.contents[ce].end:Math.max(J,Z.contents[ce].end),de=Z.contents[ce]}else J=Q?Z.begin:Number.POSITIVE_INFINITY;Z.end=null!==Z.explicit_end&&null!==Z.explicit_dur?Math.min(Z.begin+Z.explicit_dur,q+Z.explicit_end):null===Z.explicit_end&&null!==Z.explicit_dur?Z.begin+Z.explicit_dur:null!==Z.explicit_end&&null===Z.explicit_dur?q+Z.explicit_end:J,delete Z.explicit_begin,delete Z.explicit_dur,delete Z.explicit_end,$._registerEvent(Z)}function g($){this.node=$}function h(){this.events=[],this.head=new p,this.body=null}function p(){this.styling=new y,this.layout=new P}function y(){this.styles={},this.initials={}}function A(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function U(){this.styleAttrs=null}function P(){this.regions={}}function V($,Z){k.call(this,"image"),this.src=$,this.type=Z}function k($){this.kind=$}function R($){this.id=$}function D($){this.regionID=$}function I($){this.styleAttrs=$}function T($){this.sets=$}function N($){this.contents=$}function S($,Z,W){this.explicit_begin=$,this.explicit_end=Z,this.explicit_dur=W}function B(){k.call(this,"body")}function Y(){k.call(this,"div")}function re(){k.call(this,"p")}function se(){k.call(this,"span")}function Re(){k.call(this,"span")}function z(){k.call(this,"br")}function oe(){}function H(){}function me($){return $&&"xml:id"in $.attributes&&$.attributes["xml:id"].value||null}function Se($){return $&&"style"in $.attributes?$.attributes.style.value.split(" "):[]}function Ie($,Z){var W={};if(null!==$)for(var X in $.attributes){var Q=$.attributes[X].uri+" "+$.attributes[X].local,q=b.byQName[Q];if(void 0!==q){var J=q.parse($.attributes[X].value);null!==J?(W[Q]=J,q===b.byName.zIndex&&be(Z,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):K(Z,"Cannot parse styling attribute "+Q+" --\x3e "+$.attributes[X].value)}}return W}function le($,Z,W){for(var X in $.attributes)if($.attributes[X].uri===Z&&$.attributes[X].local===W)return $.attributes[X].value;return null}function Pe($,Z,W){var Ye,Be=null;return null!==(Ye=/^(\d+(?:\.\d+)?)f$/.exec(W))?null!==Z&&(Be=parseFloat(Ye[1])/Z):null!==(Ye=/^(\d+(?:\.\d+)?)t$/.exec(W))?null!==$&&(Be=parseFloat(Ye[1])/$):null!==(Ye=/^(\d+(?:\.\d+)?)ms$/.exec(W))?Be=parseFloat(Ye[1])/1e3:null!==(Ye=/^(\d+(?:\.\d+)?)s$/.exec(W))?Be=parseFloat(Ye[1]):null!==(Ye=/^(\d+(?:\.\d+)?)h$/.exec(W))?Be=3600*parseFloat(Ye[1]):null!==(Ye=/^(\d+(?:\.\d+)?)m$/.exec(W))?Be=60*parseFloat(Ye[1]):null!==(Ye=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(W))?Be=3600*parseInt(Ye[1])+60*parseInt(Ye[2])+parseFloat(Ye[3]):null!==(Ye=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(W))&&null!==Z&&(Be=3600*parseInt(Ye[1])+60*parseInt(Ye[2])+parseInt(Ye[3])+(null===Ye[4]?0:parseInt(Ye[4])/Z)),Be}function je($,Z,W){for(;Z.styleRefs.length>0;){var X=Z.styleRefs.pop();X in $.styles?(je($,$.styles[X],W),He($.styles[X].styleAttrs,Z.styleAttrs)):K(W,"Non-existant style id referenced")}}function ze($,Z,W,X){for(var Q=Z.length-1;Q>=0;Q--){var q=Z[Q];q in $.styles?He($.styles[q].styleAttrs,W):K(X,"Non-existant style id referenced")}}function He($,Z){for(var W in $)$.hasOwnProperty(W)&&(W in Z||(Z[W]=$[W]))}function be($,Z){if($&&$.warn&&$.warn(Z))throw Z}function K($,Z){if($&&$.error&&$.error(Z))throw Z}function ie($,Z){throw $&&$.fatal&&$.fatal(Z),Z}function he($,Z){for(var Q,W=0,X=$.length-1;W<=X;){var q=$[Q=Math.floor((W+X)/2)];if(q<Z)W=Q+1;else{if(!(q>Z))return{found:!0,index:Q};X=Q-1}}return{found:!1,index:W}}t.fromXML=function($,Z,W){var X=E.parser(!0,{xmlns:!0}),Q=[],q=[],J=[],de=0,ge=null;X.onclosetag=function($e){if(Q[0]instanceof oe)null!==ge.head&&null!==ge.head.styling&&ze(ge.head.styling,Q[0].styleRefs,Q[0].styleAttrs,Z),delete Q[0].styleRefs;else if(Q[0]instanceof y)for(var Qe in Q[0].styles)Q[0].styles.hasOwnProperty(Qe)&&je(Q[0],Q[0].styles[Qe],Z);else if(Q[0]instanceof re||Q[0]instanceof se){if(Q[0].contents.length>1){var ct,qe=[Q[0].contents[0]];for(ct=1;ct<Q[0].contents.length;ct++)Q[0].contents[ct]instanceof Re&&qe[qe.length-1]instanceof Re?qe[qe.length-1].text+=Q[0].contents[ct].text:qe.push(Q[0].contents[ct]);Q[0].contents=qe}Q[0]instanceof se&&1===Q[0].contents.length&&Q[0].contents[0]instanceof Re&&(Q[0].text=Q[0].contents[0].text,delete Q[0].contents)}else Q[0]instanceof g&&(Q[0].node.uri===O.ns_tt&&"metadata"===Q[0].node.local?de--:de>0&&W&&"onCloseTag"in W&&W.onCloseTag());J.shift(),q.shift(),Q.shift()},X.ontext=function($e){if(void 0!==Q[0])if(Q[0]instanceof se||Q[0]instanceof re){if(Q[0]instanceof se){var Qe=Q[0].styleAttrs[b.byName.ruby.qname];if("container"===Qe||"textContainer"===Qe||"baseContainer"===Qe)return}var qe=new Re;qe.initFromText(ge,Q[0],$e,q[0],J[0],Z),Q[0].contents.push(qe)}else Q[0]instanceof g&&de>0&&W&&"onText"in W&&W.onText($e)},X.onopentag=function($e){var Qe=$e.attributes["xml:space"];J.unshift(Qe?Qe.value:0===J.length?"default":J[0]);var qe=$e.attributes["xml:lang"];if(q.unshift(qe?qe.value:0===q.length?"":q[0]),$e.uri===O.ns_tt)if("tt"===$e.local)null!==ge&&ie(Z,"Two <tt> elements at ("+this.line+","+this.column+")"),(ge=new h).initFromNode($e,q[0],Z),Q.unshift(ge);else if("head"===$e.local)Q[0]instanceof h||ie(Z,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),Q.unshift(ge.head);else if("styling"===$e.local)Q[0]instanceof p||ie(Z,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),Q.unshift(ge.head.styling);else if("style"===$e.local){var ct;Q[0]instanceof y?((ct=new A).initFromNode($e,Z),ct.id?ge.head.styling.styles[ct.id]=ct:K(Z,"<style> element missing @id attribute"),Q.unshift(ct)):Q[0]instanceof oe?((ct=new A).initFromNode($e,Z),He(ct.styleAttrs,Q[0].styleAttrs),Q.unshift(ct)):ie(Z,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===$e.local){var Ot;if(Q[0]instanceof y){for(var _t in(Ot=new U).initFromNode($e,Z),Ot.styleAttrs)Ot.styleAttrs.hasOwnProperty(_t)&&(ge.head.styling.initials[_t]=Ot.styleAttrs[_t]);Q.unshift(Ot)}else ie(Z,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===$e.local)Q[0]instanceof p||ie(Z,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),Q.unshift(ge.head.layout);else if("region"===$e.local){Q[0]instanceof P||ie(Z,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Rt=new oe;Rt.initFromNode(ge,$e,q[0],Z),!Rt.id||Rt.id in ge.head.layout.regions?K(Z,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):ge.head.layout.regions[Rt.id]=Rt,Q.unshift(Rt)}else if("body"===$e.local){Q[0]instanceof h||ie(Z,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==ge.body&&ie(Z,"Second <body> element at "+this.line+","+this.column+")");var Gt=new B;Gt.initFromNode(ge,$e,q[0],Z),ge.body=Gt,Q.unshift(Gt)}else if("div"===$e.local){Q[0]instanceof Y||Q[0]instanceof B||ie(Z,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var $t=new Y;$t.initFromNode(ge,Q[0],$e,q[0],Z);var Qt=$t.styleAttrs[b.byName.backgroundImage.qname];Qt&&($t.contents.push(new V(Qt)),delete $t.styleAttrs[b.byName.backgroundImage.qname]),Q[0].contents.push($t),Q.unshift($t)}else if("image"===$e.local){Q[0]instanceof Y||ie(Z,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var dn=new V;dn.initFromNode(ge,Q[0],$e,q[0],Z),Q[0].contents.push(dn),Q.unshift(dn)}else if("p"===$e.local){Q[0]instanceof Y||ie(Z,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var gn=new re;gn.initFromNode(ge,Q[0],$e,q[0],Z),Q[0].contents.push(gn),Q.unshift(gn)}else if("span"===$e.local){Q[0]instanceof se||Q[0]instanceof re||ie(Z,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var jn=new se;jn.initFromNode(ge,Q[0],$e,q[0],J[0],Z),Q[0].contents.push(jn),Q.unshift(jn)}else if("br"===$e.local){Q[0]instanceof se||Q[0]instanceof re||ie(Z,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var ot=new z;ot.initFromNode(ge,Q[0],$e,q[0],Z),Q[0].contents.push(ot),Q.unshift(ot)}else if("set"===$e.local){Q[0]instanceof se||Q[0]instanceof re||Q[0]instanceof Y||Q[0]instanceof B||Q[0]instanceof oe||Q[0]instanceof z||ie(Z,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var dt=new H;dt.initFromNode(ge,Q[0],$e,Z),Q[0].sets.push(dt),Q.unshift(dt)}else Q.unshift(new g($e));else Q.unshift(new g($e));if(Q[0]instanceof g)if($e.uri===O.ns_tt&&"metadata"===$e.local)de++;else if(de>0&&W&&"onOpenTag"in W){var xe=[];for(var fe in $e.attributes)xe[$e.attributes[fe].uri+" "+$e.attributes[fe].local]={uri:$e.attributes[fe].uri,local:$e.attributes[fe].local,value:$e.attributes[fe].value};W.onOpenTag($e.uri,$e.local,xe)}},X.write($).close(),delete ge.head.styling.styles;var ce=!1;for(var Ce in ge.head.layout.regions)if(ge.head.layout.regions.hasOwnProperty(Ce)){ce=!0;break}if(!ce){var Ye=oe.prototype.createDefaultRegion(ge.lang);ge.head.layout.regions[Ye.id]=Ye}for(var Be in ge.head.layout.regions)ge.head.layout.regions.hasOwnProperty(Be)&&x(ge,ge.head.layout.regions[Be],null,null);return ge.body&&x(ge,ge.body,null,null),ge.body&&L(ge.body),ge},h.prototype.initFromNode=function($,Z,W){var X=function we($,Z){var W=le($,O.ns_ttp,"cellResolution"),X=15,Q=32;if(null!==W){var J=/(\d+) (\d+)/.exec(W);null!==J?(Q=parseInt(J[1]),X=parseInt(J[2])):be(Z,"Malformed cellResolution value (using initial value instead)")}return{w:Q,h:X}}($,W);this.cellLength={h:new F.ComputedLength(0,1/X.h),w:new F.ComputedLength(1/X.w,0)};var Q=function _e($,Z){var Q,W=le($,O.ns_ttp,"frameRate"),X=30;null!==W&&(null!==(Q=/(\d+)/.exec(W))?X=parseInt(Q[1]):be(Z,"Malformed frame rate attribute (using initial value instead)"));var J=le($,O.ns_ttp,"frameRateMultiplier"),de=1;null!==J&&(null!==(Q=/(\d+) (\d+)/.exec(J))?de=parseInt(Q[1])/parseInt(Q[2]):be(Z,"Malformed frame rate multiplier attribute (using initial value instead)"));var ce=de*X,Ce=1,Ye=le($,O.ns_ttp,"tickRate");return null===Ye?null!==W&&(Ce=ce):null!==(Q=/(\d+)/.exec(Ye))?Ce=parseInt(Q[1]):be(Z,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:ce,tickRate:Ce}}($,W);this.effectiveFrameRate=Q.effectiveFrameRate,this.tickRate=Q.tickRate,this.aspectRatio=function Me($,Z){var W=le($,O.ns_ittp,"aspectRatio");null===W&&(W=le($,O.ns_ttp,"displayAspectRatio"));var X=null;if(null!==W){var q=/(\d+)\s+(\d+)/.exec(W);if(null!==q){var J=parseInt(q[1]),de=parseInt(q[2]);0!==J&&0!==de?X=J/de:K(Z,"Illegal aspectRatio values (ignoring)")}else K(Z,"Malformed aspectRatio attribute (ignoring)")}return X}($,W);var q=le($,O.ns_ttp,"timeBase");null!==q&&"media"!==q&&ie(W,"Unsupported time base");var J=function Le($,Z){var W=le($,O.ns_tts,"extent");if(null===W)return null;var X=W.split(" ");if(2!==X.length)return be(Z,"Malformed extent (ignoring)"),null;var Q=F.parseLength(X[0]),q=F.parseLength(X[1]);return q&&Q?{h:q,w:Q}:(be(Z,"Malformed extent values (ignoring)"),null)}($,W);null===J?this.pxLength={h:null,w:null}:(("px"!==J.h.unit||"px"!==J.w.unit)&&ie(W,"Extent on TT must be in px or absent"),this.pxLength={h:new F.ComputedLength(0,1/J.h.value),w:new F.ComputedLength(1/J.w.value,0)}),this.dimensions={h:new F.ComputedLength(0,1),w:new F.ComputedLength(1,0)},this.lang=Z},h.prototype._registerEvent=function($){if(!($.end<=$.begin)){var Z=he(this.events,$.begin);if(Z.found||this.events.splice(Z.index,0,$.begin),$.end!==Number.POSITIVE_INFINITY){var W=he(this.events,$.end);W.found||this.events.splice(W.index,0,$.end)}}},h.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},h.prototype.getMediaTimeEvents=function(){return this.events},A.prototype.initFromNode=function($,Z){this.id=me($),this.styleAttrs=Ie($,Z),this.styleRefs=Se($)},U.prototype.initFromNode=function($,Z){for(var W in this.styleAttrs={},$.attributes)$.attributes[W].uri!==O.ns_itts&&$.attributes[W].uri!==O.ns_ebutts&&$.attributes[W].uri!==O.ns_tts||(this.styleAttrs[$.attributes[W].uri+" "+$.attributes[W].local]=$.attributes[W].value)},V.prototype.initFromNode=function($,Z,W,X,Q){this.src="src"in W.attributes?W.attributes.src.value:null,this.src||K(Q,"Invalid image@src attribute"),this.type="type"in W.attributes?W.attributes.type.value:null,this.type||K(Q,"Invalid image@type attribute"),I.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),T.prototype.initFromNode.call(this,$,Z,W,Q),D.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},R.prototype.initFromNode=function($,Z,W,X){this.id=me(W)},D.prototype.initFromNode=function($,Z,W,X){this.regionID=function ne($){return $&&"region"in $.attributes?$.attributes.region.value:""}(W)},I.prototype.initFromNode=function($,Z,W,X){this.styleAttrs=Ie(W,X),null!==$.head&&null!==$.head.styling&&ze($.head.styling,Se(W),this.styleAttrs,X)},T.prototype.initFromNode=function($,Z,W,X){this.sets=[]},N.prototype.initFromNode=function($,Z,W,X){this.contents=[]},S.prototype.initFromNode=function($,Z,W,X){var Q=function Oe($,Z,W,X){var Q=null;W&&"begin"in W.attributes&&null===(Q=Pe($.tickRate,$.effectiveFrameRate,W.attributes.begin.value))&&be(X,"Malformed begin value "+W.attributes.begin.value+" (using 0)");var q=null;W&&"dur"in W.attributes&&null===(q=Pe($.tickRate,$.effectiveFrameRate,W.attributes.dur.value))&&be(X,"Malformed dur value "+W.attributes.dur.value+" (ignoring)");var J=null;return W&&"end"in W.attributes&&null===(J=Pe($.tickRate,$.effectiveFrameRate,W.attributes.end.value))&&be(X,"Malformed end value (ignoring)"),{explicit_begin:Q,explicit_end:J,explicit_dur:q}}($,0,W,X);this.explicit_begin=Q.explicit_begin,this.explicit_end=Q.explicit_end,this.explicit_dur=Q.explicit_dur,this.timeContainer=function ue($,Z){var W=$&&"timeContainer"in $.attributes?$.attributes.timeContainer.value:null;return W&&"par"!==W?"seq"===W?"seq":(K(Z,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(W,X)},B.prototype.initFromNode=function($,Z,W,X){I.prototype.initFromNode.call(this,$,null,Z,X),S.prototype.initFromNode.call(this,$,null,Z,X),T.prototype.initFromNode.call(this,$,null,Z,X),D.prototype.initFromNode.call(this,$,null,Z,X),N.prototype.initFromNode.call(this,$,null,Z,X),this.lang=W},Y.prototype.initFromNode=function($,Z,W,X,Q){I.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),T.prototype.initFromNode.call(this,$,Z,W,Q),D.prototype.initFromNode.call(this,$,Z,W,Q),N.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},re.prototype.initFromNode=function($,Z,W,X,Q){I.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),T.prototype.initFromNode.call(this,$,Z,W,Q),D.prototype.initFromNode.call(this,$,Z,W,Q),N.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},se.prototype.initFromNode=function($,Z,W,X,Q,q){I.prototype.initFromNode.call(this,$,Z,W,q),S.prototype.initFromNode.call(this,$,Z,W,q),T.prototype.initFromNode.call(this,$,Z,W,q),D.prototype.initFromNode.call(this,$,Z,W,q),N.prototype.initFromNode.call(this,$,Z,W,q),this.space=Q,this.lang=X},Re.prototype.initFromText=function($,Z,W,X,Q,q){S.prototype.initFromNode.call(this,$,Z,null,q),this.text=W,this.space=Q,this.lang=X},z.prototype.initFromNode=function($,Z,W,X,Q){D.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},oe.prototype.createDefaultRegion=function($){var Z=new oe;return R.call(Z,""),I.call(Z,{}),T.call(Z,[]),S.call(Z,0,Number.POSITIVE_INFINITY,null),this.lang=$,Z},oe.prototype.initFromNode=function($,Z,W,X){R.prototype.initFromNode.call(this,$,null,Z,X),S.prototype.initFromNode.call(this,$,null,Z,X),T.prototype.initFromNode.call(this,$,null,Z,X),this.styleAttrs=Ie(Z,X),this.styleRefs=Se(Z),this.lang=W},H.prototype.initFromNode=function($,Z,W,X){S.prototype.initFromNode.call(this,$,Z,W,X);var Q=Ie(W,X);for(var q in this.qname=null,this.value=null,Q)if(Q.hasOwnProperty(q)){if(this.qname){K(X,"More than one style specified on set");break}this.qname=q,this.value=Q[q]}}}(C,typeof sax>"u"?c(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){!function(t,E,O){function b(z,oe,H,me){var ne;if("region"===H.kind)(ne=document.createElement("div")).style.position="absolute";else if("body"===H.kind)ne=document.createElement("div");else if("div"===H.kind)ne=document.createElement("div");else if("image"===H.kind){if(ne=document.createElement("img"),null!==z.imgResolver&&null!==H.src){var ue=z.imgResolver(H.src,ne);ue&&(ne.src=ue),ne.height=z.regionH,ne.width=z.regionW}}else if("p"===H.kind)ne=document.createElement("p");else if("span"===H.kind)if("container"===H.styleAttrs[O.byName.ruby.qname])ne=document.createElement("ruby"),z.ruby=!0;else if("base"===H.styleAttrs[O.byName.ruby.qname])ne=document.createElement("rb");else if("text"===H.styleAttrs[O.byName.ruby.qname])ne=document.createElement("rt");else if("baseContainer"===H.styleAttrs[O.byName.ruby.qname])ne=document.createElement("rbc");else if("textContainer"===H.styleAttrs[O.byName.ruby.qname])ne=document.createElement("rtc");else{if("delimiter"===H.styleAttrs[O.byName.ruby.qname])return;ne=document.createElement("span")}else"br"===H.kind&&(ne=document.createElement("br"));if(ne){if(H.lang&&("region"===H.kind||H.lang!==me.lang)&&(ne.lang=H.lang),oe.appendChild(ne),ne.style.margin="0","region"===H.kind){var Se=H.styleAttrs[O.byName.writingMode.qname];"lrtb"===Se||"lr"===Se?(z.ipd="lr",z.bpd="tb"):"rltb"===Se||"rl"===Se?(z.ipd="rl",z.bpd="tb"):"tblr"===Se?(z.ipd="tb",z.bpd="lr"):("tbrl"===Se||"tb"===Se)&&(z.ipd="tb",z.bpd="rl")}else"p"===H.kind&&"tb"===z.bpd&&(z.ipd="ltr"===H.styleAttrs[O.byName.direction.qname]?"lr":"rl");for(var le=0;le<T.length;le++){var Me=T[le],we=H.styleAttrs[Me.qname];void 0!==we&&null!==Me.map&&Me.map(z,ne,H,we)}var _e=ne,Le=H.styleAttrs[O.byName.linePadding.qname];if(Le&&!Le.isZero()){var Pe=Le.toUsedLength(z.w,z.h);if(Pe>0){var Oe=Math.ceil(Pe)+"px";"tb"===z.bpd?(_e.style.paddingLeft=Oe,_e.style.paddingRight=Oe):(_e.style.paddingTop=Oe,_e.style.paddingBottom=Oe),z.lp=Le}}var je=H.styleAttrs[O.byName.multiRowAlign.qname];if(je&&"auto"!==je){var ze=document.createElement("span");ze.style.display="inline-block",ze.style.textAlign=je,ne.appendChild(ze),_e=ze,z.mra=je}var He=H.styleAttrs[O.byName.rubyReserve.qname];if(He&&"none"!==He[0]&&(z.rubyReserve=He),H.styleAttrs[O.byName.fillLineGap.qname]&&(z.flg=!0),"span"===H.kind&&H.text){var Ae=H.styleAttrs[O.byName.textEmphasis.qname];if(Ae&&"none"!==Ae.style&&(z.textEmphasis=!0),O.byName.textCombine.qname in H.styleAttrs&&"all"===H.styleAttrs[O.byName.textCombine.qname])ne.textContent=H.text,Ae&&D(z,ne,0,Ae);else for(var be="",K=0;K<H.text.length;K++){be+=H.text.charAt(K);var ie=H.text.charCodeAt(K);if(ie<55296||ie>56319||K===H.text.length-1){var he=document.createElement("span");he.textContent=be,Ae&&D(z,he,0,Ae),ne.appendChild(he),be="",he._isd_element=H}}}if("contents"in H)for(var $=0;$<H.contents.length;$++)b(z,_e,H.contents[$],H);var Z=[];if("p"===H.kind&&(k(z,_e,Z,null),z.rubyReserve&&(function A(z,oe){for(var H=0;H<z.length;H++){var me=document.createElement("ruby"),ne=document.createElement("rb");ne.textContent="\u200b",me.appendChild(ne);var ue,Se,Ie=oe.rubyReserve[1].toUsedLength(oe.w,oe.h)+"px";"both"===oe.rubyReserve[0]||"outside"===oe.rubyReserve[0]&&1==z.length?((ue=document.createElement("rtc")).style[Y]=B?"after":"under",ue.textContent="\u200b",ue.style.fontSize=Ie,(Se=document.createElement("rtc")).style[Y]=B?"before":"over",Se.textContent="\u200b",Se.style.fontSize=Ie,me.appendChild(ue),me.appendChild(Se)):((ue=document.createElement("rtc")).textContent="\u200b",ue.style.fontSize=Ie,ue.style[Y]="after"===oe.rubyReserve[0]||"outside"===oe.rubyReserve[0]&&H>0?B?"after":"tb"===oe.bpd||"rl"===oe.bpd?"under":"over":B?"before":"tb"===oe.bpd||"rl"===oe.bpd?"over":"under",me.appendChild(ue));for(var Me=null,we=0;we<z[H].rbc.length;we++)if("ruby"===z[H].rbc[we].localName){Me=z[H].rbc[we];for(var _e=0;_e<Me.style.length;_e++)me.style.setProperty(Me.style.item(_e),Me.style.getPropertyValue(Me.style.item(_e)));break}(Me=Me||z[H].elements[0].node).parentElement.insertBefore(me,Me)}}(Z,z),z.rubyReserve=null),(z.ruby||z.rubyReserve)&&(function y(z,oe){for(var H=0;H<z.length;H++)for(var me=0;me<z[H].rbc.length;me++)z[H].rbc[me].style[Y]||(z[H].rbc[me].style[Y]=B?0===H?"before":"after":"tb"===oe.bpd||"rl"===oe.bpd?0===H?"over":"under":0===H?"under":"over")}(Z,z),z.ruby=null),z.textEmphasis&&(function p(z,oe){for(var H=0;H<z.length;H++)for(var me=0;me<z[H].te.length;me++)z[H].te[me].style[se]&&"none"!==z[H].te[me].style[se]||(z[H].te[me].style[se]="tb"===oe.bpd?0===H?"left over":"left under":"rl"===oe.bpd?0===H?"right under":"left under":0===H?"left under":"right under")}(Z,z),z.textEmphasis=null),z.mra&&(function h(z){for(var oe=0;oe<z.length-1;oe++){var H=z[oe].elements.length;if(0!==H&&!1===z[oe].br){var me=document.createElement("br"),ne=z[oe].elements[H-1].node;ne.parentElement.insertBefore(me,ne.nextSibling)}}}(Z),z.mra=null),z.lp&&(function g(z,oe,H){if(null!==z)for(var me=0;me<z.length;me++){var ne=z[me].elements.length,ue=Math.ceil(oe)+"px",Se="-"+Math.ceil(oe)+"px";if(0!==ne){var Ie=z[me].elements[z[me].start_elem],le=z[me].elements[z[me].end_elem];if(Ie===le&&(elementBoundingRect=Ie.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===H.ipd?(Ie.node.style.marginLeft=Se,Ie.node.style.paddingLeft=ue):"rl"===H.ipd?(Ie.node.style.paddingRight=ue,Ie.node.style.marginRight=Se):"tb"===H.ipd&&(Ie.node.style.paddingTop=ue,Ie.node.style.marginTop=Se),"lr"===H.ipd?(le.node.style.marginRight=Se,le.node.style.paddingRight=ue):"rl"===H.ipd?(le.node.style.paddingLeft=ue,le.node.style.marginLeft=Se):"tb"===H.ipd&&(le.node.style.paddingBottom=ue,le.node.style.marginBottom=Se)}}}(Z,z.lp.toUsedLength(z.w,z.h),z),z.lp=null),function F(z){for(var oe=0;oe<z.length;oe++)for(var H=z[oe],me=1;me<H.elements.length;)x(H.elements[me-1].node,H.elements[me].node)?H.elements.splice(me,1):me++;for(var Se,Ie,le=[],Me=0;Me<z.length;Me++)for(var we=0;we<z[Me].elements.length;we++)(Ie=L(Se=z[Me].elements[we].node,le,!1))&&(Se.style.backgroundColor=Ie);for(var _e=0;_e<le.length;_e++)le[_e].style.backgroundColor=""}(Z),z.flg)){var W=V(_e.getBoundingClientRect(),z);(function U(z,oe,H,me,ne){for(var ue=Math.sign(H-oe),Se=0;Se<=z.length;Se++){var Ie,le,Me,we;if(Ie=0===Se?Math.round(oe):Se===z.length?Math.round(H):Math.round((z[Se-1].after+z[Se].before)/2),Se>0&&z[Se-1])for(Me=0;Me<z[Se-1].elements.length;Me++)le=ue*(Ie-(we=z[Se-1].elements[Me]).after)+"px","lr"===me.bpd?we.node.style.paddingRight=le:"rl"===me.bpd?we.node.style.paddingLeft=le:"tb"===me.bpd&&(we.node.style.paddingBottom=le);if(Se<z.length)for(Me=0;Me<z[Se].elements.length;Me++)le=ue*((we=z[Se].elements[Me]).before-Ie)+"px","lr"===me.bpd?we.node.style.paddingLeft=le:"rl"===me.bpd?we.node.style.paddingRight=le:"tb"===me.bpd&&(we.node.style.paddingTop=le)}})(Z,W.before,W.after,z),z.flg=null}if("region"===H.kind&&"tb"===z.bpd&&z.enableRollUp&&H.contents.length>0&&"after"===H.styleAttrs[O.byName.displayAlign.qname]){k(z,_e,Z,null);var Q=new P(""===H.id?"_":H.id,Z);if(z.currentISDState[Q.id]=Q,z.previousISDState&&Q.id in z.previousISDState&&z.previousISDState[Q.id].plist.length>0&&Q.plist.length>1&&Q.plist[Q.plist.length-2].text===z.previousISDState[Q.id].plist[z.previousISDState[Q.id].plist.length-1].text){var q=ne.firstElementChild,J=Q.plist[Q.plist.length-1].after-Q.plist[Q.plist.length-1].before;q.style.bottom="-"+J+"px",q.style.transition="transform 0.4s",q.style.position="relative",q.style.transform="translateY(-"+J+"px)"}}}else!function Re(z,oe){if(z&&z.error&&z.error(oe))throw oe}(z.errorHandler,"Error processing ISD element kind: "+H.kind)}function L(z,oe,H){return z.style.backgroundColor?(H&&!oe.includes(z)&&oe.push(z),z.style.backgroundColor):"SPAN"===z.parentElement.nodeName?L(z.parentElement,oe,!0):void 0}function x(z,oe){if("SPAN"===z.tagName&&"SPAN"===oe.tagName&&z._isd_element===oe._isd_element){z.textContent+=oe.textContent;for(var H=0;H<oe.style.length;H++){var me=oe.style[H];(me.indexOf("border")>=0||me.indexOf("padding")>=0||me.indexOf("margin")>=0)&&(z.style[me]=oe.style[me])}return oe.parentElement.removeChild(oe),!0}return!1}function P(z,oe){this.id=z,this.plist=oe}function V(z,oe){var H={before:null,after:null,start:null,end:null};return"tb"===oe.bpd?(H.before=z.top,H.after=z.bottom,"lr"===oe.ipd?(H.start=z.left,H.end=z.right):(H.start=z.right,H.end=z.left)):"lr"===oe.bpd?(H.before=z.left,H.after=z.right,H.start=z.top,H.end=z.bottom):"rl"===oe.bpd&&(H.before=z.right,H.after=z.left,H.start=z.top,H.end=z.bottom),H}function k(z,oe,H,me){if("rt"!==oe.localName&&"rtc"!==oe.localName){var ne=oe.style.backgroundColor||me;if(0===oe.childElementCount)if("span"===oe.localName||"rb"===oe.localName){var Se=V(oe.getBoundingClientRect(),z);if(0!==H.length&&function R(z,oe,H,me){return oe<me&&z>H||me<=oe&&H>=z}(Se.before,Se.after,H[H.length-1].before,H[H.length-1].after)){var Ie=Math.sign(Se.after-Se.before),le=Math.sign(Se.end-Se.start);Ie*(Se.before-H[H.length-1].before)<0&&(H[H.length-1].before=Se.before),Ie*(Se.after-H[H.length-1].after)>0&&(H[H.length-1].after=Se.after),le*(Se.start-H[H.length-1].start)<0&&(H[H.length-1].start=Se.start,H[H.length-1].start_elem=H[H.length-1].elements.length),le*(Se.end-H[H.length-1].end)>0&&(H[H.length-1].end=Se.end,H[H.length-1].end_elem=H[H.length-1].elements.length)}else H.push({before:Se.before,after:Se.after,start:Se.start,end:Se.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});H[H.length-1].text+=oe.textContent,H[H.length-1].elements.push({node:oe,bgcolor:ne,before:Se.before,after:Se.after})}else"br"===oe.localName&&0!==H.length&&(H[H.length-1].br=!0);else for(var Me=oe.firstChild;Me;)Me.nodeType===Node.ELEMENT_NODE&&(k(z,Me,H,ne),"ruby"===Me.localName||"rtc"===Me.localName?H.length>0&&H[H.length-1].rbc.push(Me):"span"===Me.localName&&Me.style[re]&&"none"!==Me.style[re]&&H.length>0&&H[H.length-1].te.push(Me)),Me=Me.nextSibling}}function D(z,oe,H,me){"none"!==me.style&&(oe.style[re]="auto"===me.style?"filled":me.style+" "+me.symbol,"before"===me.position||"after"===me.position)&&(oe.style[se]="tb"===z.bpd?"before"===me.position?"left over":"left under":"rl"===z.bpd?"before"===me.position?"right under":"left under":"before"===me.position?"left under":"right under")}function I(z,oe){this.qname=z,this.map=oe}t.render=function(z,oe,H,me,ne,ue,Se,Ie,le){var Me=me||oe.clientHeight,we=ne||oe.clientWidth;if(null!==z.aspectRatio){var _e=Me*z.aspectRatio;_e>we?Me=Math.round(we/z.aspectRatio):we=_e}var Le=document.createElement("div");Le.style.position="relative",Le.style.width=we+"px",Le.style.height=Me+"px",Le.style.margin="auto",Le.style.top=0,Le.style.bottom=0,Le.style.left=0,Le.style.right=0,Le.style.zIndex=0;var Pe={h:Me,w:we,regionH:null,regionW:null,imgResolver:H,displayForcedOnlyMode:ue||!1,isd:z,errorHandler:Se,previousISDState:Ie,enableRollUp:le||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(oe.appendChild(Le),"contents"in z)for(var Oe=0;Oe<z.contents.length;Oe++)b(Pe,Le,z.contents[Oe],z);return Pe.currentISDState};for(var T=[new I("http://www.w3.org/ns/ttml#styling backgroundColor",function(z,oe,H,me){0!==me[3]&&(oe.style.backgroundColor="rgba("+me[0].toString()+","+me[1].toString()+","+me[2].toString()+","+(me[3]/255).toString()+")")}),new I("http://www.w3.org/ns/ttml#styling color",function(z,oe,H,me){oe.style.color="rgba("+me[0].toString()+","+me[1].toString()+","+me[2].toString()+","+(me[3]/255).toString()+")"}),new I("http://www.w3.org/ns/ttml#styling direction",function(z,oe,H,me){oe.style.direction=me}),new I("http://www.w3.org/ns/ttml#styling display",function(z,oe,H,me){}),new I("http://www.w3.org/ns/ttml#styling displayAlign",function(z,oe,H,me){oe.style.display="flex",oe.style.flexDirection="column","before"===me?oe.style.justifyContent="flex-start":"center"===me?oe.style.justifyContent="center":"after"===me&&(oe.style.justifyContent="flex-end")}),new I("http://www.w3.org/ns/ttml#styling extent",function(z,oe,H,me){z.regionH=me.h.toUsedLength(z.w,z.h),z.regionW=me.w.toUsedLength(z.w,z.h);var ne=0,ue=0,Se=H.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Se&&(ne=Se[0].toUsedLength(z.w,z.h)+Se[2].toUsedLength(z.w,z.h),ue=Se[1].toUsedLength(z.w,z.h)+Se[3].toUsedLength(z.w,z.h)),oe.style.height=z.regionH-ne+"px",oe.style.width=z.regionW-ue+"px"}),new I("http://www.w3.org/ns/ttml#styling fontFamily",function(z,oe,H,me){for(var ne=[],ue=0;ue<me.length;ue++)"monospaceSerif"===me[ue]?(ne.push("Courier New"),ne.push('"Liberation Mono"'),ne.push("Courier"),ne.push("monospace")):"proportionalSansSerif"===me[ue]?(ne.push("Arial"),ne.push("Helvetica"),ne.push('"Liberation Sans"'),ne.push("sans-serif")):"monospace"===me[ue]?ne.push("monospace"):"sansSerif"===me[ue]?ne.push("sans-serif"):"serif"===me[ue]?ne.push("serif"):"monospaceSansSerif"===me[ue]?(ne.push("Consolas"),ne.push("monospace")):ne.push("proportionalSerif"===me[ue]?"serif":me[ue]);if(ne.length>0){for(var Se=[ne[0]],Ie=1;Ie<ne.length;Ie++)-1==Se.indexOf(ne[Ie])&&Se.push(ne[Ie]);ne=Se}oe.style.fontFamily=ne.join(",")}),new I("http://www.w3.org/ns/ttml#styling shear",function(z,oe,H,me){if(0!==me){var ne=-.9*me;oe.style.transform="tb"===z.bpd?"skewX("+ne+"deg)":"skewY("+ne+"deg)"}}),new I("http://www.w3.org/ns/ttml#styling fontSize",function(z,oe,H,me){oe.style.fontSize=me.toUsedLength(z.w,z.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling fontStyle",function(z,oe,H,me){oe.style.fontStyle=me}),new I("http://www.w3.org/ns/ttml#styling fontWeight",function(z,oe,H,me){oe.style.fontWeight=me}),new I("http://www.w3.org/ns/ttml#styling lineHeight",function(z,oe,H,me){oe.style.lineHeight="normal"===me?"normal":me.toUsedLength(z.w,z.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling opacity",function(z,oe,H,me){oe.style.opacity=me}),new I("http://www.w3.org/ns/ttml#styling origin",function(z,oe,H,me){oe.style.top=me.h.toUsedLength(z.w,z.h)+"px",oe.style.left=me.w.toUsedLength(z.w,z.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling overflow",function(z,oe,H,me){oe.style.overflow=me}),new I("http://www.w3.org/ns/ttml#styling padding",function(z,oe,H,me){var ne=[];ne[0]=me[0].toUsedLength(z.w,z.h)+"px",ne[1]=me[3].toUsedLength(z.w,z.h)+"px",ne[2]=me[2].toUsedLength(z.w,z.h)+"px",ne[3]=me[1].toUsedLength(z.w,z.h)+"px",oe.style.padding=ne.join(" ")}),new I("http://www.w3.org/ns/ttml#styling position",function(z,oe,H,me){oe.style.top=me.h.toUsedLength(z.w,z.h)+"px",oe.style.left=me.w.toUsedLength(z.w,z.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling rubyAlign",function(z,oe,H,me){oe.style.rubyAlign="spaceAround"===me?"space-around":"center"}),new I("http://www.w3.org/ns/ttml#styling rubyPosition",function(z,oe,H,me){"before"!==me&&"after"!==me||(oe.parentElement.style[Y]=B?me:"tb"===z.bpd||"rl"===z.bpd?"before"===me?"over":"under":"before"===me?"under":"over")}),new I("http://www.w3.org/ns/ttml#styling showBackground",null),new I("http://www.w3.org/ns/ttml#styling textAlign",function(z,oe,H,me){oe.style.textAlign="start"===me?"rl"===z.ipd?"right":"left":"end"===me?"rl"===z.ipd?"left":"right":me}),new I("http://www.w3.org/ns/ttml#styling textDecoration",function(z,oe,H,me){oe.style.textDecoration=me.join(" ").replace("lineThrough","line-through")}),new I("http://www.w3.org/ns/ttml#styling textOutline",function(z,oe,H,me){}),new I("http://www.w3.org/ns/ttml#styling textShadow",function(z,oe,H,me){var ne=H.styleAttrs[O.byName.textOutline.qname];if("none"===me&&"none"===ne)oe.style.textShadow="";else{var ue=[];if("none"!==ne){var Se="rgba("+ne.color[0].toString()+","+ne.color[1].toString()+","+ne.color[2].toString()+","+(ne.color[3]/255).toString()+")";ue.push("1px 1px 1px "+Se),ue.push("-1px 1px 1px "+Se),ue.push("1px -1px 1px "+Se),ue.push("-1px -1px 1px "+Se)}if("none"!==me)for(var Ie=0;Ie<me.length;Ie++)ue.push(me[Ie].x_off.toUsedLength(z.w,z.h)+"px "+me[Ie].y_off.toUsedLength(z.w,z.h)+"px "+me[Ie].b_radius.toUsedLength(z.w,z.h)+"px rgba("+me[Ie].color[0].toString()+","+me[Ie].color[1].toString()+","+me[Ie].color[2].toString()+","+(me[Ie].color[3]/255).toString()+")");oe.style.textShadow=ue.join(",")}}),new I("http://www.w3.org/ns/ttml#styling textCombine",function(z,oe,H,me){oe.style.textCombineUpright=me}),new I("http://www.w3.org/ns/ttml#styling textEmphasis",function(z,oe,H,me){}),new I("http://www.w3.org/ns/ttml#styling unicodeBidi",function(z,oe,H,me){oe.style.unicodeBidi="bidiOverride"===me?"bidi-override":me}),new I("http://www.w3.org/ns/ttml#styling visibility",function(z,oe,H,me){oe.style.visibility=me}),new I("http://www.w3.org/ns/ttml#styling wrapOption",function(z,oe,H,me){oe.style.whiteSpace="wrap"===me?"preserve"===H.space?"pre-wrap":"normal":"preserve"===H.space?"pre":"noWrap"}),new I("http://www.w3.org/ns/ttml#styling writingMode",function(z,oe,H,me){"lrtb"===me||"lr"===me||"rltb"===me||"rl"===me?oe.style.writingMode="horizontal-tb":"tblr"===me?oe.style.writingMode="vertical-lr":("tbrl"===me||"tb"===me)&&(oe.style.writingMode="vertical-rl")}),new I("http://www.w3.org/ns/ttml#styling zIndex",function(z,oe,H,me){oe.style.zIndex=me}),new I("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(z,oe,H,me){z.displayForcedOnlyMode&&!1===me&&(oe.style.visibility="hidden")})],N={},S=0;S<T.length;S++)N[T[S].qname]=T[S];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),Y=B?"webkitRubyPosition":"rubyPosition",re="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",se="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(C,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(Ze,C,c){!function(t,E,O,b){t.generateISD=function(k,R,D){var N,I=new p(k),T={},S={},B=k.head.styling.initials[O.byName.showBackground.qname],Y=k.head.styling.initials[O.byName.backgroundColor.qname];for(var re in k.head.layout.regions)if(k.head.layout.regions.hasOwnProperty(re)){var se=k.head.layout.regions[re],Re=se.styleAttrs[O.byName.showBackground.qname]||B;S[se.id]=("always"===Re||void 0===Re)&&void 0!==(se.styleAttrs[O.byName.backgroundColor.qname]||Y)&&!(R<se.begin||R>=se.end)}for(var H in k.body&&k.body.regionID&&(S[k.body.regionID]=!0),N=null!==k.body?function oe(ne,ue){if(ue.contents){var Ie={};for(var le in ue)ue.hasOwnProperty(le)&&(Ie[le]=ue[le]);return Ie.contents=[],ue.contents.filter(function Se(Me){return!(ne<Me.begin||ne>=Me.end)}).forEach(function(Me){var we=oe(ne,Me);we.regionID&&(S[we.regionID]=!0),null!==we&&Ie.contents.push(we)}),Ie}return ue}(R,k.body):null,void 0!==S[""]&&(S[""]=!0),S)if(S[H]){var me=L(k,R,k.head.layout.regions[H],N,null,"",k.head.layout.regions[H],D,T);null!==me&&I.contents.push(me.element)}return I};var F=[O.byName.color.qname,O.byName.textCombine.qname,O.byName.textDecoration.qname,O.byName.textEmphasis.qname,O.byName.textOutline.qname,O.byName.textShadow.qname];function L(k,R,D,I,T,N,S,B,Y){if(R<S.begin||R>=S.end)return null;var re="regionID"in S&&""!==S.regionID?S.regionID:N;if(null!==T&&re!==D.id&&(!("contents"in S)||"contents"in S&&0===S.contents.length||""!==re))return null;var se=new y(S);if("sets"in S)for(var Re=0;Re<S.sets.length;Re++)R<S.sets[Re].begin||R>=S.sets[Re].end||(se.styleAttrs[S.sets[Re].qname]=S.sets[Re].value);var z={};for(var oe in se.styleAttrs)if(se.styleAttrs.hasOwnProperty(oe)&&(z[oe]=!0,"region"===se.kind&&oe===O.byName.writingMode.qname&&!(O.byName.direction.qname in se.styleAttrs))){var H=se.styleAttrs[oe];"lrtb"===H||"lr"===H?se.styleAttrs[O.byName.direction.qname]="ltr":("rltb"===H||"rl"===H)&&(se.styleAttrs[O.byName.direction.qname]="rtl")}if(null!==T)for(var me=0;me<O.all.length;me++){var ne=O.all[me];if(ne.qname===O.byName.textDecoration.qname){var ue=T.styleAttrs[ne.qname],Se=se.styleAttrs[ne.qname],Ie=[];void 0===Se?Ie=ue:-1===Se.indexOf("none")?((-1===Se.indexOf("noUnderline")&&-1!==ue.indexOf("underline")||-1!==Se.indexOf("underline"))&&Ie.push("underline"),(-1===Se.indexOf("noLineThrough")&&-1!==ue.indexOf("lineThrough")||-1!==Se.indexOf("lineThrough"))&&Ie.push("lineThrough"),(-1===Se.indexOf("noOverline")&&-1!==ue.indexOf("overline")||-1!==Se.indexOf("overline"))&&Ie.push("overline")):Ie.push("none"),se.styleAttrs[ne.qname]=Ie}else if(ne.qname!==O.byName.fontSize.qname||ne.qname in se.styleAttrs||"span"!==se.kind||"textContainer"!==se.styleAttrs[O.byName.ruby.qname])if(ne.qname!==O.byName.fontSize.qname||ne.qname in se.styleAttrs||"span"!==se.kind||"text"!==se.styleAttrs[O.byName.ruby.qname])ne.inherit&&ne.qname in T.styleAttrs&&!(ne.qname in se.styleAttrs)&&(se.styleAttrs[ne.qname]=T.styleAttrs[ne.qname]);else{var Me=T.styleAttrs[O.byName.fontSize.qname];se.styleAttrs[ne.qname]="textContainer"===T.styleAttrs[O.byName.ruby.qname]?Me:new b.ComputedLength(.5*Me.rw,.5*Me.rh)}else{var le=T.styleAttrs[O.byName.fontSize.qname];se.styleAttrs[ne.qname]=new b.ComputedLength(.5*le.rw,.5*le.rh)}}for(var we=0;we<O.all.length;we++){var _e=O.all[we];if(!(_e.qname in se.styleAttrs||_e.qname===O.byName.position.qname&&O.byName.origin.qname in se.styleAttrs||_e.qname===O.byName.origin.qname&&O.byName.position.qname in se.styleAttrs)){var Le=k.head.styling.initials[_e.qname]||_e.initial;if(null!==Le&&("region"===se.kind||!1===_e.inherit&&null!==Le)){var Pe=_e.parse(Le);null!==Pe?(se.styleAttrs[_e.qname]=Pe,z[_e.qname]=!0):P(B,"Invalid initial value for '"+_e.qname+"' on element '"+se.kind)}}}for(var Oe=0;Oe<O.all.length;Oe++){var je=O.all[Oe];if(je.qname in z&&null!==je.compute){var ze=je.compute(k,T,se,se.styleAttrs[je.qname],Y);null!==ze?se.styleAttrs[je.qname]=ze:(se.styleAttrs[je.qname]=je.compute(k,T,se,je.parse(je.initial),Y),P(B,"Style '"+je.qname+"' on element '"+se.kind+"' cannot be computed"))}}if("none"===se.styleAttrs[O.byName.display.qname])return null;var He=null;null===T?He=null===I?[]:[I]:"contents"in S&&(He=S.contents);for(var Ae=0;null!==He&&Ae<He.length;Ae++){var be=L(k,R,D,I,se,re,He[Ae],B,Y);null!==be&&se.contents.push(be.element)}for(var K in se.styleAttrs)if(se.styleAttrs.hasOwnProperty(K)){var ie=!1;if("span"===se.kind){var he=se.styleAttrs[O.byName.ruby.qname];(ie=("container"===he||"textContainer"===he||"baseContainer"===he)&&-1!==F.indexOf(K))||(ie="container"!==he&&K===O.byName.rubyAlign.qname),ie||(ie=!("textContainer"===he||"text"===he)&&K===O.byName.rubyPosition.qname)}if(!ie){var $=O.byQName[K];"applies"in $&&(ie=-1===$.applies.indexOf(se.kind))}ie&&delete se.styleAttrs[K]}var Z=se.styleAttrs[O.byName.ruby.qname];if("p"===se.kind||"span"===se.kind&&("textContainer"===Z||"text"===Z)){var W=[];g(se,W),function x(k){function R(S){return"br"===S.kind||/[\r\n\t ]$/.test(S.text)}function D(S){return"br"===S.kind||"preserve"===S.space&&/^[\r\n]/.test(S.text)}for(var I,T=0;T<k.length;)if("br"!==(I=k[T]).kind&&"preserve"!==I.space){var N=I.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(N)&&(0===T||R(k[T-1]))&&(N=N.substring(1)),I.text=N,0===N.length?k.splice(T,1):T++}else T++;for(T=0;T<k.length;T++)"br"!==(I=k[T]).kind&&"preserve"!==I.space?/[ ]$/.test(I.text)&&(T===k.length-1||D(k[T+1]))&&(I.text=I.text.slice(0,-1)):T++}(W),h(se)}return"div"===se.kind&&O.byName.backgroundImage.qname in se.styleAttrs||"br"===se.kind||"image"===se.kind||"contents"in se&&se.contents.length>0||"span"===se.kind&&null!==se.text||"region"===se.kind&&"always"===se.styleAttrs[O.byName.showBackground.qname]?{region_id:re,element:se}:null}function g(k,R){if("contents"in k)for(var D=0;D<k.contents.length;D++){var I=k.contents[D],T=I.styleAttrs[O.byName.ruby.qname];"span"===I.kind&&("textContainer"===T||"text"===T)||("contents"in I?g(I,R):("span"===I.kind&&0!==I.text.length||"br"===I.kind)&&R.push(I))}}function h(k){if("br"===k.kind)return!1;if("text"in k)return 0===k.text.length;if("contents"in k){for(var R=k.contents.length;R--;)h(k.contents[R])&&k.contents.splice(R,1);return 0===k.contents.length}}function p(k){this.contents=[],this.aspectRatio=k.aspectRatio,this.lang=k.lang}function y(k){for(var R in this.kind=k.kind||"region",this.lang=k.lang,k.id&&(this.id=k.id),this.styleAttrs={},k.styleAttrs)k.styleAttrs.hasOwnProperty(R)&&(this.styleAttrs[R]=k.styleAttrs[R]);"src"in k&&(this.src=k.src),"type"in k&&(this.type=k.type),"text"in k?this.text=k.text:("region"===this.kind||"contents"in k)&&(this.contents=[]),"space"in k&&(this.space=k.space)}function P(k,R){if(k&&k.error&&k.error(R))throw R}}(C,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){C.generateISD=c(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,C.fromXML=c(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,C.renderHTML=c(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(Ze,C,c){var t;(t=C).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(Ze,C,c){!function(t,E,O){function b(x,g,h,p,y,A,U,P){this.name=g,this.ns=x,this.qname=x+" "+g,this.inherit=y,this.animatable=A,this.initial=h,this.applies=p,this.parse=U,this.compute=P}for(var F in t.all=[new b(E.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,O.parseColor,null),new b(E.ns_tts,"color","white",["span"],!0,!0,O.parseColor,null),new b(E.ns_tts,"direction","ltr",["p","span"],!0,!0,function(x){return x},null),new b(E.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(x){return x},null),new b(E.ns_tts,"displayAlign","before",["region"],!1,!0,function(x){return x},null),new b(E.ns_tts,"extent","auto",["tt","region"],!1,!0,function(x){if("auto"===x)return x;var g=x.split(" ");if(2!==g.length)return null;var h=O.parseLength(g[0]),p=O.parseLength(g[1]);return p&&h?{h:p,w:h}:null},function(x,g,h,p,y){var A,U;if("auto"===p)A=new O.ComputedLength(0,1);else if(null===(A=O.toComputedLength(p.h.value,p.h.unit,null,x.dimensions.h,null,x.pxLength.h)))return null;if("auto"===p)U=new O.ComputedLength(1,0);else if(null===(U=O.toComputedLength(p.w.value,p.w.unit,null,x.dimensions.w,null,x.pxLength.w)))return null;return{h:A,w:U}}),new b(E.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(x){for(var g=x.split(","),h=[],p=0;p<g.length;p++)"'"!==g[p].charAt(0)&&'"'!==g[p].charAt(0)&&"default"===g[p]?h.push("monospaceSerif"):h.push(g[p]);return h},null),new b(E.ns_tts,"shear","0%",["p"],!0,!0,O.parseLength,function(x,g,h,p){return"%"!==p.unit?null:Math.abs(p.value)>100?100*Math.sign(p.value):p.value}),new b(E.ns_tts,"fontSize","1c",["span","p"],!0,!0,O.parseLength,function(x,g,h,p,y){return O.toComputedLength(p.value,p.unit,null!==g?g.styleAttrs[t.byName.fontSize.qname]:x.cellLength.h,null!==g?g.styleAttrs[t.byName.fontSize.qname]:x.cellLength.h,x.cellLength.h,x.pxLength.h)}),new b(E.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(x){return x},null),new b(E.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(x){return x},null),new b(E.ns_tts,"lineHeight","normal",["p"],!0,!0,function(x){return"normal"===x?x:O.parseLength(x)},function(x,g,h,p,y){var A;if("normal"===p)A=p;else if(null===(A=O.toComputedLength(p.value,p.unit,h.styleAttrs[t.byName.fontSize.qname],h.styleAttrs[t.byName.fontSize.qname],x.cellLength.h,x.pxLength.h)))return null;return A}),new b(E.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new b(E.ns_tts,"origin","auto",["region"],!1,!0,function(x){if("auto"===x)return x;var g=x.split(" ");if(2!==g.length)return null;var h=O.parseLength(g[0]),p=O.parseLength(g[1]);return p&&h?{h:p,w:h}:null},function(x,g,h,p,y){var A,U;if("auto"===p)A=new O.ComputedLength(0,0);else if(null===(A=O.toComputedLength(p.h.value,p.h.unit,null,x.dimensions.h,null,x.pxLength.h)))return null;if("auto"===p)U=new O.ComputedLength(0,0);else if(null===(U=O.toComputedLength(p.w.value,p.w.unit,null,x.dimensions.w,null,x.pxLength.w)))return null;return{h:A,w:U}}),new b(E.ns_tts,"overflow","hidden",["region"],!1,!0,function(x){return x},null),new b(E.ns_tts,"padding","0px",["region"],!1,!0,function(x){var g=x.split(" ");if(g.length>4)return null;for(var h=[],p=0;p<g.length;p++){var y=O.parseLength(g[p]);if(!y)return null;h.push(y)}return h},function(x,g,h,p,y){var A;if(1===p.length)A=[p[0],p[0],p[0],p[0]];else if(2===p.length)A=[p[0],p[1],p[0],p[1]];else if(3===p.length)A=[p[0],p[1],p[2],p[1]];else{if(4!==p.length)return null;A=[p[0],p[1],p[2],p[3]]}var U=h.styleAttrs[t.byName.writingMode.qname];if("lrtb"===U||"lr"===U)A=[A[0],A[3],A[2],A[1]];else if("rltb"===U||"rl"===U)A=[A[0],A[1],A[2],A[3]];else if("tblr"===U)A=[A[3],A[0],A[1],A[2]];else{if("tbrl"!==U&&"tb"!==U)return null;A=[A[3],A[2],A[1],A[0]]}for(var P=[],V=0;V<A.length;V++)if(0===A[V].value)P[V]=new O.ComputedLength(0,0);else if(P[V]=O.toComputedLength(A[V].value,A[V].unit,h.styleAttrs[t.byName.fontSize.qname],0===V||2===V?h.styleAttrs[t.byName.extent.qname].h:h.styleAttrs[t.byName.extent.qname].w,0===V||2===V?x.cellLength.h:x.cellLength.w,0===V||2===V?x.pxLength.h:x.pxLength.w),null===P[V])return null;return P}),new b(E.ns_tts,"position","top left",["region"],!1,!0,function(x){return O.parsePosition(x)},function(x,g,h,p){var y,A;return null===(y=O.toComputedLength(p.v.offset.value,p.v.offset.unit,null,new O.ComputedLength(-h.styleAttrs[t.byName.extent.qname].h.rw,x.dimensions.h.rh-h.styleAttrs[t.byName.extent.qname].h.rh),null,x.pxLength.h))||("bottom"===p.v.edge&&(y=new O.ComputedLength(-y.rw-h.styleAttrs[t.byName.extent.qname].h.rw,x.dimensions.h.rh-y.rh-h.styleAttrs[t.byName.extent.qname].h.rh)),A=O.toComputedLength(p.h.offset.value,p.h.offset.unit,null,new O.ComputedLength(x.dimensions.w.rw-h.styleAttrs[t.byName.extent.qname].w.rw,-h.styleAttrs[t.byName.extent.qname].w.rh),null,x.pxLength.w),null===y)?null:("right"===p.h.edge&&(A=new O.ComputedLength(x.dimensions.w.rw-A.rw-h.styleAttrs[t.byName.extent.qname].w.rw,-A.rh-h.styleAttrs[t.byName.extent.qname].w.rh)),{h:y,w:A})}),new b(E.ns_tts,"ruby","none",["span"],!1,!0,function(x){return x},null),new b(E.ns_tts,"rubyAlign","center",["span"],!0,!0,function(x){return"center"===x||"spaceAround"===x?x:null},null),new b(E.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(x){return x},null),new b(E.ns_tts,"rubyReserve","none",["p"],!0,!0,function(x){var g=x.split(" "),h=[null,null];if(0===g.length||g.length>2)return null;if("none"!==g[0]&&"both"!==g[0]&&"after"!==g[0]&&"before"!==g[0]&&"outside"!==g[0])return null;if(h[0]=g[0],2===g.length&&"none"!==g[0]){var p=O.parseLength(g[1]);if(!p)return null;h[1]=p}return h},function(x,g,h,p,y){if("none"===p[0])return p;var A;return null===(A=null===p[1]?new O.ComputedLength(.5*h.styleAttrs[t.byName.fontSize.qname].rw,.5*h.styleAttrs[t.byName.fontSize.qname].rh):O.toComputedLength(p[1].value,p[1].unit,h.styleAttrs[t.byName.fontSize.qname],h.styleAttrs[t.byName.fontSize.qname],x.cellLength.h,x.pxLength.h))?null:[p[0],A]}),new b(E.ns_tts,"showBackground","always",["region"],!1,!0,function(x){return x},null),new b(E.ns_tts,"textAlign","start",["p"],!0,!0,function(x){return x},function(x,g,h,p,y){return"left"===p?"start":"right"===p?"end":p}),new b(E.ns_tts,"textCombine","none",["span"],!0,!0,function(x){return"none"===x||"all"===x?x:null},null),new b(E.ns_tts,"textDecoration","none",["span"],!0,!0,function(x){return x.split(" ")},null),new b(E.ns_tts,"textEmphasis","none",["span"],!0,!0,function(x){for(var g=x.split(" "),h={style:null,symbol:null,color:null,position:null},p=0;p<g.length;p++)if("none"===g[p]||"auto"===g[p])h.style=g[p];else if("filled"===g[p]||"open"===g[p])h.style=g[p];else if("circle"===g[p]||"dot"===g[p]||"sesame"===g[p])h.symbol=g[p];else if("current"===g[p])h.color=g[p];else if("outside"===g[p]||"before"===g[p]||"after"===g[p])h.position=g[p];else if(h.color=O.parseColor(g[p]),null===h.color)return null;return null==h.style&&null==h.symbol?h.style="auto":(h.symbol=h.symbol||"circle",h.style=h.style||"filled"),h.position=h.position||"outside",h.color=h.color||"current",h},null),new b(E.ns_tts,"textOutline","none",["span"],!0,!0,function(x){if("none"===x)return x;var g={},h=x.split(" ");if(0===h.length||h.length>2)return null;var p=O.parseColor(h[0]);if(g.color=p,null!==p&&h.shift(),1!==h.length)return null;var y=O.parseLength(h[0]);return y?(g.thickness=y,g):null},function(x,g,h,p,y){if("none"===p)return p;var A={};return A.color=null===p.color?h.styleAttrs[t.byName.color.qname]:p.color,A.thickness=O.toComputedLength(p.thickness.value,p.thickness.unit,h.styleAttrs[t.byName.fontSize.qname],h.styleAttrs[t.byName.fontSize.qname],x.cellLength.h,x.pxLength.h),null===A.thickness?null:A}),new b(E.ns_tts,"textShadow","none",["span"],!0,!0,O.parseTextShadow,function(x,g,h,p){if("none"===p)return p;for(var y=[],A=0;A<p.length;A++){var U={};if(U.x_off=O.toComputedLength(p[A][0].value,p[A][0].unit,null,h.styleAttrs[t.byName.fontSize.qname],null,x.pxLength.w),null===U.x_off||(U.y_off=O.toComputedLength(p[A][1].value,p[A][1].unit,null,h.styleAttrs[t.byName.fontSize.qname],null,x.pxLength.h),null===U.y_off))return null;if(null===p[A][2])U.b_radius=0;else if(U.b_radius=O.toComputedLength(p[A][2].value,p[A][2].unit,null,h.styleAttrs[t.byName.fontSize.qname],null,x.pxLength.h),null===U.b_radius)return null;U.color=null===p[A][3]?h.styleAttrs[t.byName.color.qname]:p[A][3],y.push(U)}return y}),new b(E.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(x){return x},null),new b(E.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(x){return x},null),new b(E.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(x){return x},null),new b(E.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(x){return x},null),new b(E.ns_tts,"zIndex","auto",["region"],!1,!0,function(x){var g;return"auto"===x?g=x:(g=parseInt(x),isNaN(g)&&(g=null)),g},null),new b(E.ns_ebutts,"linePadding","0c",["p"],!0,!1,O.parseLength,function(x,g,h,p,y){return O.toComputedLength(p.value,p.unit,null,null,x.cellLength.w,null)}),new b(E.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(x){return x},null),new b(E.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(x){return x},null),new b(E.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(x){return"true"===x},null),new b(E.ns_itts,"fillLineGap","false",["p"],!0,!0,function(x){return"true"===x},null)],t.byQName={},t.all)t.byQName[t.all[F].qname]=t.all[F];for(var L in t.byName={},t.all)t.byName[t.all[L].name]=t.all[L]}(C,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(Ze,C,c){!function(t){var E=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,O=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,b=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,F={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(x){var g,h=null,p=F[x.toLowerCase()];return void 0!==p?h=p:null!==(g=E.exec(x))?h=[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16),void 0!==g[4]?parseInt(g[4],16):255]:null!==(g=O.exec(x))?h=[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),255]:null!==(g=b.exec(x))&&(h=[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),parseInt(g[4])]),h};var L=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(x){var g,h=null;return null!==(g=L.exec(x))&&(h={value:parseFloat(g[1]),unit:g[2]}),h},t.parseTextShadow=function(x){for(var g=x.match(/([^\(,\)]|\([^\)]+\))+/g),h=[],p=0;p<g.length;p++){var y=g[p].split(" ");if(1===y.length&&"none"===y[0])return"none";if(y.length>1&&y.length<5){var A=[null,null,null,null],U=t.parseLength(y.shift());if(null===U||(A[0]=U,null===(U=t.parseLength(y.shift()))))return null;if(A[1]=U,0===y.length){h.push(A);continue}if(null!==(U=t.parseLength(y[0]))&&(A[2]=U,y.shift()),0===y.length){h.push(A);continue}var P=t.parseColor(y[0]);if(null===P)return null;A[3]=P,h.push(A)}}return h},t.parsePosition=function(x){var g=x.split(" "),h=function(k){return"center"===k||"left"===k||"top"===k||"bottom"===k||"right"===k};if(g.length>4)return null;for(var p=0;p<g.length;p++)if(!h(g[p])){var y=t.parseLength(g[p]);if(null===y)return null;g[p]=y}for(var A={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},U=0;U<g.length;){var P=g[U++];if(h(P)){var V={value:0,unit:"%"};2!==g.length&&U<g.length&&!h(g[U])&&(V=g[U++]),"right"===P?(A.h.edge=P,A.h.offset=V):"bottom"===P?(A.v.edge=P,A.v.offset=V):"left"===P?A.h.offset=V:"top"===P&&(A.v.offset=V)}else{if(1!==g.length&&2!==g.length)return null;1===U?A.h.offset=P:A.v.offset=P}}return A},t.ComputedLength=function(x,g){this.rw=x,this.rh=g},t.ComputedLength.prototype.toUsedLength=function(x,g){return x*this.rw+g*this.rh},t.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},t.toComputedLength=function(x,g,h,p,y,A){return"%"===g&&p?new t.ComputedLength(p.rw*x/100,p.rh*x/100):"em"===g&&h?new t.ComputedLength(h.rw*x,h.rh*x):"c"===g&&y?new t.ComputedLength(x*y.rw,x*y.rh):"px"===g&&A?new t.ComputedLength(x*A.rw,x*A.rh):"rh"===g?new t.ComputedLength(0,x/100):"rw"===g?new t.ComputedLength(x/100,0):null}}(C)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(Ze,C){Ze.exports="function"==typeof Object.create?function(t,E){E&&(t.super_=E,t.prototype=Object.create(E.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,E){if(E){t.super_=E;var O=function(){};O.prototype=E.prototype,t.prototype=new O,t.prototype.constructor=t}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=function t(E){var O="string"==typeof E?E.charCodeAt(0):E;return O>=97&&O<=122||O>=65&&O<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),E=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js");Ze.exports=function O(b){return t(b)||E(b)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=function t(E){var O="string"==typeof E?E.charCodeAt(0):E;return O>=48&&O<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(Ze,C){var c={}.toString;Ze.exports=Array.isArray||function(t){return"[object Array]"==c.call(t)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){(function(t){function E(L,x){for(var g=0,h=L.length-1;h>=0;h--){var p=L[h];"."===p?L.splice(h,1):".."===p?(L.splice(h,1),g++):g&&(L.splice(h,1),g--)}if(x)for(;g--;g)L.unshift("..");return L}function b(L,x){if(L.filter)return L.filter(x);for(var g=[],h=0;h<L.length;h++)x(L[h],h,L)&&g.push(L[h]);return g}C.resolve=function(){for(var L="",x=!1,g=arguments.length-1;g>=-1&&!x;g--){var h=g>=0?arguments[g]:t.cwd();if("string"!=typeof h)throw new TypeError("Arguments to path.resolve must be strings");h&&(L=h+"/"+L,x="/"===h.charAt(0))}return(x?"/":"")+(L=E(b(L.split("/"),function(p){return!!p}),!x).join("/"))||"."},C.normalize=function(L){var x=C.isAbsolute(L),g="/"===F(L,-1);return!(L=E(b(L.split("/"),function(h){return!!h}),!x).join("/"))&&!x&&(L="."),L&&g&&(L+="/"),(x?"/":"")+L},C.isAbsolute=function(L){return"/"===L.charAt(0)},C.join=function(){var L=Array.prototype.slice.call(arguments,0);return C.normalize(b(L,function(x,g){if("string"!=typeof x)throw new TypeError("Arguments to path.join must be strings");return x}).join("/"))},C.relative=function(L,x){function g(V){for(var k=0;k<V.length&&""===V[k];k++);for(var R=V.length-1;R>=0&&""===V[R];R--);return k>R?[]:V.slice(k,R-k+1)}L=C.resolve(L).substr(1),x=C.resolve(x).substr(1);for(var h=g(L.split("/")),p=g(x.split("/")),y=Math.min(h.length,p.length),A=y,U=0;U<y;U++)if(h[U]!==p[U]){A=U;break}var P=[];for(U=A;U<h.length;U++)P.push("..");return(P=P.concat(p.slice(A))).join("/")},C.sep="/",C.delimiter=":",C.dirname=function(L){if("string"!=typeof L&&(L+=""),0===L.length)return".";for(var x=L.charCodeAt(0),g=47===x,h=-1,p=!0,y=L.length-1;y>=1;--y)if(47===(x=L.charCodeAt(y))){if(!p){h=y;break}}else p=!1;return-1===h?g?"/":".":g&&1===h?"/":L.slice(0,h)},C.basename=function(L,x){var g=function O(L){"string"!=typeof L&&(L+="");var p,x=0,g=-1,h=!0;for(p=L.length-1;p>=0;--p)if(47===L.charCodeAt(p)){if(!h){x=p+1;break}}else-1===g&&(h=!1,g=p+1);return-1===g?"":L.slice(x,g)}(L);return x&&g.substr(-1*x.length)===x&&(g=g.substr(0,g.length-x.length)),g},C.extname=function(L){"string"!=typeof L&&(L+="");for(var x=-1,g=0,h=-1,p=!0,y=0,A=L.length-1;A>=0;--A){var U=L.charCodeAt(A);if(47!==U)-1===h&&(p=!1,h=A+1),46===U?-1===x?x=A:1!==y&&(y=1):-1!==x&&(y=-1);else if(!p){g=A+1;break}}return-1===x||-1===h||0===y||1===y&&x===h-1&&x===g+1?"":L.slice(x,h)};var F=function(L,x,g){return L.substr(x,g)}}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";(function(t){Ze.exports=typeof t>"u"||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function E(O,b,F,L){if("function"!=typeof O)throw new TypeError('"callback" argument must be a function');var g,h,x=arguments.length;switch(x){case 0:case 1:return t.nextTick(O);case 2:return t.nextTick(function(){O.call(null,b)});case 3:return t.nextTick(function(){O.call(null,b,F)});case 4:return t.nextTick(function(){O.call(null,b,F,L)});default:for(g=new Array(x-1),h=0;h<g.length;)g[h++]=arguments[h];return t.nextTick(function(){O.apply(null,g)})}}}:t}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(Ze,C){var t,E,c=Ze.exports={};function O(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function F(V){if(t===setTimeout)return setTimeout(V,0);if((t===O||!t)&&setTimeout)return t=setTimeout,setTimeout(V,0);try{return t(V,0)}catch{try{return t.call(null,V,0)}catch{return t.call(this,V,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:O}catch{t=O}try{E="function"==typeof clearTimeout?clearTimeout:b}catch{E=b}}();var h,x=[],g=!1,p=-1;function y(){!g||!h||(g=!1,h.length?x=h.concat(x):p=-1,x.length&&A())}function A(){if(!g){var V=F(y);g=!0;for(var k=x.length;k;){for(h=x,x=[];++p<k;)h&&h[p].run();p=-1,k=x.length}h=null,g=!1,function L(V){if(E===clearTimeout)return clearTimeout(V);if((E===b||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(V);try{return E(V)}catch{try{return E.call(null,V)}catch{return E.call(this,V)}}}(V)}}function U(V,k){this.fun=V,this.array=k}function P(){}c.nextTick=function(V){var k=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)k[R-1]=arguments[R];x.push(new U(V,k)),1===x.length&&!g&&F(A)},U.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=P,c.addListener=P,c.once=P,c.off=P,c.removeListener=P,c.removeAllListeners=P,c.emit=P,c.prependListener=P,c.prependOnceListener=P,c.listeners=function(V){return[]},c.binding=function(V){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(V){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),E=Object.keys||function(A){var U=[];for(var P in A)U.push(P);return U};Ze.exports=h;var O=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));O.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var b=c(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),F=c(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");O.inherits(h,b);for(var L=E(F.prototype),x=0;x<L.length;x++){var g=L[x];h.prototype[g]||(h.prototype[g]=F.prototype[g])}function h(A){if(!(this instanceof h))return new h(A);b.call(this,A),F.call(this,A),A&&!1===A.readable&&(this.readable=!1),A&&!1===A.writable&&(this.writable=!1),this.allowHalfOpen=!0,A&&!1===A.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||t.nextTick(y,this)}function y(A){A.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(A){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),h.prototype._destroy=function(A,U){this.push(null),this.end(),t.nextTick(U,A)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=O;var t=c(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),E=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function O(b){if(!(this instanceof O))return new O(b);t.call(this,b)}E.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),E.inherits(O,t),O.prototype._transform=function(b,F,L){L(null,b)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";(function(t,E){var O=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");Ze.exports=S;var F,b=c(
/*! isarray */
"./node_modules/isarray/index.js");S.ReadableState=N,c(
/*! events */
"./node_modules/events/events.js");var x=function(be,K){return be.listeners(K).length},g=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),h=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,p=t.Uint8Array||function(){};var U=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));U.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var P=c(
/*! util */
0),V=void 0;V=P&&P.debuglog?P.debuglog("stream"):function(){};var D,k=c(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),R=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");U.inherits(S,g);var I=["error","close","destroy","pause","resume"];function N(be,K){var ie=K instanceof(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(be=be||{}).objectMode,ie&&(this.objectMode=this.objectMode||!!be.readableObjectMode);var he=be.highWaterMark,$=be.readableHighWaterMark;this.highWaterMark=he||0===he?he:ie&&($||0===$)?$:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=be.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,be.encoding&&(D||(D=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new D(be.encoding),this.encoding=be.encoding)}function S(be){if(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof S))return new S(be);this._readableState=new N(be,this),this.readable=!0,be&&("function"==typeof be.read&&(this._read=be.read),"function"==typeof be.destroy&&(this._destroy=be.destroy)),g.call(this)}function B(be,K,ie,he,$){var W,Z=be._readableState;return null===K?(Z.reading=!1,function H(be,K){if(!K.ended){if(K.decoder){var ie=K.decoder.end();ie&&ie.length&&(K.buffer.push(ie),K.length+=K.objectMode?1:ie.length)}K.ended=!0,me(be)}}(be,Z)):($||(W=function re(be,K){var ie;return!function A(be){return h.isBuffer(be)||be instanceof p}(K)&&"string"!=typeof K&&void 0!==K&&!be.objectMode&&(ie=new TypeError("Invalid non-string/buffer chunk")),ie}(Z,K)),W?be.emit("error",W):Z.objectMode||K&&K.length>0?("string"!=typeof K&&!Z.objectMode&&Object.getPrototypeOf(K)!==h.prototype&&(K=function y(be){return h.from(be)}(K)),he?Z.endEmitted?be.emit("error",new Error("stream.unshift() after end event")):Y(be,Z,K,!0):Z.ended?be.emit("error",new Error("stream.push() after EOF")):(Z.reading=!1,Z.decoder&&!ie?(K=Z.decoder.write(K),Z.objectMode||0!==K.length?Y(be,Z,K,!1):ue(be,Z)):Y(be,Z,K,!1))):he||(Z.reading=!1)),function se(be){return!be.ended&&(be.needReadable||be.length<be.highWaterMark||0===be.length)}(Z)}function Y(be,K,ie,he){K.flowing&&0===K.length&&!K.sync?(be.emit("data",ie),be.read(0)):(K.length+=K.objectMode?1:ie.length,he?K.buffer.unshift(ie):K.buffer.push(ie),K.needReadable&&me(be)),ue(be,K)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(be){this._readableState&&(this._readableState.destroyed=be)}}),S.prototype.destroy=R.destroy,S.prototype._undestroy=R.undestroy,S.prototype._destroy=function(be,K){this.push(null),K(be)},S.prototype.push=function(be,K){var he,ie=this._readableState;return ie.objectMode?he=!0:"string"==typeof be&&((K=K||ie.defaultEncoding)!==ie.encoding&&(be=h.from(be,K),K=""),he=!0),B(this,be,K,!1,he)},S.prototype.unshift=function(be){return B(this,be,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(be){return D||(D=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new D(be),this._readableState.encoding=be,this};var Re=8388608;function oe(be,K){return be<=0||0===K.length&&K.ended?0:K.objectMode?1:be!=be?K.flowing&&K.length?K.buffer.head.data.length:K.length:(be>K.highWaterMark&&(K.highWaterMark=function z(be){return be>=Re?be=Re:(be--,be|=be>>>1,be|=be>>>2,be|=be>>>4,be|=be>>>8,be|=be>>>16,be++),be}(be)),be<=K.length?be:K.ended?K.length:(K.needReadable=!0,0))}function me(be){var K=be._readableState;K.needReadable=!1,K.emittedReadable||(V("emitReadable",K.flowing),K.emittedReadable=!0,K.sync?O.nextTick(ne,be):ne(be))}function ne(be){V("emit readable"),be.emit("readable"),_e(be)}function ue(be,K){K.readingMore||(K.readingMore=!0,O.nextTick(Se,be,K))}function Se(be,K){for(var ie=K.length;!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark&&(V("maybeReadMore read 0"),be.read(0),ie!==K.length);)ie=K.length;K.readingMore=!1}function le(be){V("readable nexttick read 0"),be.read(0)}function we(be,K){K.reading||(V("resume read 0"),be.read(0)),K.resumeScheduled=!1,K.awaitDrain=0,be.emit("resume"),_e(be),K.flowing&&!K.reading&&be.read(0)}function _e(be){var K=be._readableState;for(V("flow",K.flowing);K.flowing&&null!==be.read(););}function Le(be,K){return 0===K.length?null:(K.objectMode?ie=K.buffer.shift():!be||be>=K.length?(ie=K.decoder?K.buffer.join(""):1===K.buffer.length?K.buffer.head.data:K.buffer.concat(K.length),K.buffer.clear()):ie=function Pe(be,K,ie){var he;return be<K.head.data.length?(he=K.head.data.slice(0,be),K.head.data=K.head.data.slice(be)):he=be===K.head.data.length?K.shift():ie?function Oe(be,K){var ie=K.head,he=1,$=ie.data;for(be-=$.length;ie=ie.next;){var Z=ie.data,W=be>Z.length?Z.length:be;if($+=W===Z.length?Z:Z.slice(0,be),0==(be-=W)){W===Z.length?(++he,K.head=ie.next?ie.next:K.tail=null):(K.head=ie,ie.data=Z.slice(W));break}++he}return K.length-=he,$}(be,K):function je(be,K){var ie=h.allocUnsafe(be),he=K.head,$=1;for(he.data.copy(ie),be-=he.data.length;he=he.next;){var Z=he.data,W=be>Z.length?Z.length:be;if(Z.copy(ie,ie.length-be,0,W),0==(be-=W)){W===Z.length?(++$,K.head=he.next?he.next:K.tail=null):(K.head=he,he.data=Z.slice(W));break}++$}return K.length-=$,ie}(be,K),he}(be,K.buffer,K.decoder),ie);var ie}function ze(be){var K=be._readableState;if(K.length>0)throw new Error('"endReadable()" called on non-empty stream');K.endEmitted||(K.ended=!0,O.nextTick(He,K,be))}function He(be,K){!be.endEmitted&&0===be.length&&(be.endEmitted=!0,K.readable=!1,K.emit("end"))}function Ae(be,K){for(var ie=0,he=be.length;ie<he;ie++)if(be[ie]===K)return ie;return-1}S.prototype.read=function(be){V("read",be),be=parseInt(be,10);var K=this._readableState,ie=be;if(0!==be&&(K.emittedReadable=!1),0===be&&K.needReadable&&(K.length>=K.highWaterMark||K.ended))return V("read: emitReadable",K.length,K.ended),0===K.length&&K.ended?ze(this):me(this),null;if(0===(be=oe(be,K))&&K.ended)return 0===K.length&&ze(this),null;var $,he=K.needReadable;return V("need readable",he),(0===K.length||K.length-be<K.highWaterMark)&&V("length less than watermark",he=!0),K.ended||K.reading?V("reading or ended",he=!1):he&&(V("do read"),K.reading=!0,K.sync=!0,0===K.length&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(be=oe(ie,K))),null===($=be>0?Le(be,K):null)?(K.needReadable=!0,be=0):K.length-=be,0===K.length&&(K.ended||(K.needReadable=!0),ie!==be&&K.ended&&ze(this)),null!==$&&this.emit("data",$),$},S.prototype._read=function(be){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(be,K){var ie=this,he=this._readableState;switch(he.pipesCount){case 0:he.pipes=be;break;case 1:he.pipes=[he.pipes,be];break;default:he.pipes.push(be)}he.pipesCount+=1,V("pipe count=%d opts=%j",he.pipesCount,K);var Z=K&&!1===K.end||be===E.stdout||be===E.stderr?Be:X;function W($e,Qe){V("onunpipe"),$e===ie&&Qe&&!1===Qe.hasUnpiped&&(Qe.hasUnpiped=!0,function J(){V("cleanup"),be.removeListener("close",Ce),be.removeListener("finish",Ye),be.removeListener("drain",Q),be.removeListener("error",ce),be.removeListener("unpipe",W),ie.removeListener("end",X),ie.removeListener("end",Be),ie.removeListener("data",ge),q=!0,he.awaitDrain&&(!be._writableState||be._writableState.needDrain)&&Q()}())}function X(){V("onend"),be.end()}he.endEmitted?O.nextTick(Z):ie.once("end",Z),be.on("unpipe",W);var Q=function Ie(be){return function(){var K=be._readableState;V("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,0===K.awaitDrain&&x(be,"data")&&(K.flowing=!0,_e(be))}}(ie);be.on("drain",Q);var q=!1;var de=!1;function ge($e){V("ondata"),de=!1,!1===be.write($e)&&!de&&((1===he.pipesCount&&he.pipes===be||he.pipesCount>1&&-1!==Ae(he.pipes,be))&&!q&&(V("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,de=!0),ie.pause())}function ce($e){V("onerror",$e),Be(),be.removeListener("error",ce),0===x(be,"error")&&be.emit("error",$e)}function Ce(){be.removeListener("finish",Ye),Be()}function Ye(){V("onfinish"),be.removeListener("close",Ce),Be()}function Be(){V("unpipe"),ie.unpipe(be)}return ie.on("data",ge),function T(be,K,ie){if("function"==typeof be.prependListener)return be.prependListener(K,ie);be._events&&be._events[K]?b(be._events[K])?be._events[K].unshift(ie):be._events[K]=[ie,be._events[K]]:be.on(K,ie)}(be,"error",ce),be.once("close",Ce),be.once("finish",Ye),be.emit("pipe",ie),he.flowing||(V("pipe resume"),ie.resume()),be},S.prototype.unpipe=function(be){var K=this._readableState,ie={hasUnpiped:!1};if(0===K.pipesCount)return this;if(1===K.pipesCount)return be&&be!==K.pipes||(be||(be=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,be&&be.emit("unpipe",this,ie)),this;if(!be){var he=K.pipes,$=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var Z=0;Z<$;Z++)he[Z].emit("unpipe",this,ie);return this}var W=Ae(K.pipes,be);return-1===W||(K.pipes.splice(W,1),K.pipesCount-=1,1===K.pipesCount&&(K.pipes=K.pipes[0]),be.emit("unpipe",this,ie)),this},S.prototype.addListener=S.prototype.on=function(be,K){var ie=g.prototype.on.call(this,be,K);if("data"===be)!1!==this._readableState.flowing&&this.resume();else if("readable"===be){var he=this._readableState;!he.endEmitted&&!he.readableListening&&(he.readableListening=he.needReadable=!0,he.emittedReadable=!1,he.reading?he.length&&me(this):O.nextTick(le,this))}return ie},S.prototype.resume=function(){var be=this._readableState;return be.flowing||(V("resume"),be.flowing=!0,function Me(be,K){K.resumeScheduled||(K.resumeScheduled=!0,O.nextTick(we,be,K))}(this,be)),this},S.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(be){var K=this,ie=this._readableState,he=!1;for(var $ in be.on("end",function(){if(V("wrapped end"),ie.decoder&&!ie.ended){var W=ie.decoder.end();W&&W.length&&K.push(W)}K.push(null)}),be.on("data",function(W){V("wrapped data"),ie.decoder&&(W=ie.decoder.write(W)),ie.objectMode&&null==W||!(ie.objectMode||W&&W.length)||K.push(W)||(he=!0,be.pause())}),be)void 0===this[$]&&"function"==typeof be[$]&&(this[$]=function(W){return function(){return be[W].apply(be,arguments)}}($));for(var Z=0;Z<I.length;Z++)be.on(I[Z],this.emit.bind(this,I[Z]));return this._read=function(W){V("wrapped _read",W),he&&(he=!1,be.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=Le}).call(this,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=b;var t=c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),E=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function O(x,g){var h=this._transformState;h.transforming=!1;var p=h.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,null!=g&&this.push(g),p(x);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function b(x){if(!(this instanceof b))return new b(x);t.call(this,x),this._transformState={afterTransform:O.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,x&&("function"==typeof x.transform&&(this._transform=x.transform),"function"==typeof x.flush&&(this._flush=x.flush)),this.on("prefinish",F)}function F(){var x=this;"function"==typeof this._flush?this._flush(function(g,h){L(x,g,h)}):L(this,null,null)}function L(x,g,h){if(g)return x.emit("error",g);if(null!=h&&x.push(h),x._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(x._transformState.transforming)throw new Error("Calling transform done when still transforming");return x.push(null)}E.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),E.inherits(b,t),b.prototype.push=function(x,g){return this._transformState.needTransform=!1,t.prototype.push.call(this,x,g)},b.prototype._transform=function(x,g,h){throw new Error("_transform() is not implemented")},b.prototype._write=function(x,g,h){var p=this._transformState;if(p.writecb=h,p.writechunk=x,p.writeencoding=g,!p.transforming){var y=this._readableState;(p.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},b.prototype._read=function(x){var g=this._transformState;null!==g.writechunk&&g.writecb&&!g.transforming?(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform)):g.needTransform=!0},b.prototype._destroy=function(x,g){var h=this;t.prototype._destroy.call(this,x,function(p){g(p),h.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";(function(t,E,O){var b=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function L(we){var _e=this;this.next=null,this.entry=null,this.finish=function(){!function Me(we,_e,Le){var Pe=we.entry;for(we.entry=null;Pe;){var Oe=Pe.callback;_e.pendingcb--,Oe(Le),Pe=Pe.next}_e.corkedRequestsFree?_e.corkedRequestsFree.next=we:_e.corkedRequestsFree=we}(_e,we)}}Ze.exports=T;var g,x=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?E:b.nextTick;T.WritableState=D;var h=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));h.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var p={deprecate:c(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},y=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),A=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,U=O.Uint8Array||function(){};var I,k=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function R(){}function D(we,_e){g=g||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var Le=_e instanceof g;this.objectMode=!!(we=we||{}).objectMode,Le&&(this.objectMode=this.objectMode||!!we.writableObjectMode);var Pe=we.highWaterMark,Oe=we.writableHighWaterMark;this.highWaterMark=Pe||0===Pe?Pe:Le&&(Oe||0===Oe)?Oe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===we.decodeStrings),this.defaultEncoding=we.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(He){!function z(we,_e){var Le=we._writableState,Pe=Le.sync,Oe=Le.writecb;if(function Re(we){we.writing=!1,we.writecb=null,we.length-=we.writelen,we.writelen=0}(Le),_e)!function se(we,_e,Le,Pe,Oe){--_e.pendingcb,Le?(b.nextTick(Oe,Pe),b.nextTick(Ie,we,_e),we._writableState.errorEmitted=!0,we.emit("error",Pe)):(Oe(Pe),we._writableState.errorEmitted=!0,we.emit("error",Pe),Ie(we,_e))}(we,Le,Pe,_e,Oe);else{var je=ne(Le);!je&&!Le.corked&&!Le.bufferProcessing&&Le.bufferedRequest&&me(we,Le),Pe?x(oe,we,Le,je,Oe):oe(we,Le,je,Oe)}}(_e,He)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}function T(we){if(g=g||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(I.call(T,this)||this instanceof g))return new T(we);this._writableState=new D(we,this),this.writable=!0,we&&("function"==typeof we.write&&(this._write=we.write),"function"==typeof we.writev&&(this._writev=we.writev),"function"==typeof we.destroy&&(this._destroy=we.destroy),"function"==typeof we.final&&(this._final=we.final)),y.call(this)}function Y(we,_e,Le,Pe,Oe,je){if(!Le){var ze=function B(we,_e,Le){return!we.objectMode&&!1!==we.decodeStrings&&"string"==typeof _e&&(_e=A.from(_e,Le)),_e}(_e,Pe,Oe);Pe!==ze&&(Le=!0,Oe="buffer",Pe=ze)}var He=_e.objectMode?1:Pe.length;_e.length+=He;var Ae=_e.length<_e.highWaterMark;if(Ae||(_e.needDrain=!0),_e.writing||_e.corked){var be=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:Pe,encoding:Oe,isBuf:Le,callback:je,next:null},be?be.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else re(we,_e,!1,He,Pe,Oe,je);return Ae}function re(we,_e,Le,Pe,Oe,je,ze){_e.writelen=Pe,_e.writecb=ze,_e.writing=!0,_e.sync=!0,Le?we._writev(Oe,_e.onwrite):we._write(Oe,je,_e.onwrite),_e.sync=!1}function oe(we,_e,Le,Pe){Le||function H(we,_e){0===_e.length&&_e.needDrain&&(_e.needDrain=!1,we.emit("drain"))}(we,_e),_e.pendingcb--,Pe(),Ie(we,_e)}function me(we,_e){_e.bufferProcessing=!0;var Le=_e.bufferedRequest;if(we._writev&&Le&&Le.next){var Oe=new Array(_e.bufferedRequestCount),je=_e.corkedRequestsFree;je.entry=Le;for(var ze=0,He=!0;Le;)Oe[ze]=Le,Le.isBuf||(He=!1),Le=Le.next,ze+=1;Oe.allBuffers=He,re(we,_e,!0,_e.length,Oe,"",je.finish),_e.pendingcb++,_e.lastBufferedRequest=null,je.next?(_e.corkedRequestsFree=je.next,je.next=null):_e.corkedRequestsFree=new L(_e),_e.bufferedRequestCount=0}else{for(;Le;){var Ae=Le.chunk;if(re(we,_e,!1,_e.objectMode?1:Ae.length,Ae,Le.encoding,Le.callback),Le=Le.next,_e.bufferedRequestCount--,_e.writing)break}null===Le&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=Le,_e.bufferProcessing=!1}function ne(we){return we.ending&&0===we.length&&null===we.bufferedRequest&&!we.finished&&!we.writing}function ue(we,_e){we._final(function(Le){_e.pendingcb--,Le&&we.emit("error",Le),_e.prefinished=!0,we.emit("prefinish"),Ie(we,_e)})}function Ie(we,_e){var Le=ne(_e);return Le&&(function Se(we,_e){!_e.prefinished&&!_e.finalCalled&&("function"==typeof we._final?(_e.pendingcb++,_e.finalCalled=!0,b.nextTick(ue,we,_e)):(_e.prefinished=!0,we.emit("prefinish")))}(we,_e),0===_e.pendingcb&&(_e.finished=!0,we.emit("finish"))),Le}h.inherits(T,y),D.prototype.getBuffer=function(){for(var _e=this.bufferedRequest,Le=[];_e;)Le.push(_e),_e=_e.next;return Le},function(){try{Object.defineProperty(D.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(we){return!!I.call(this,we)||this===T&&we&&we._writableState instanceof D}})):I=function(we){return we instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(we,_e,Le){var Pe=this._writableState,Oe=!1,je=!Pe.objectMode&&function V(we){return A.isBuffer(we)||we instanceof U}(we);return je&&!A.isBuffer(we)&&(we=function P(we){return A.from(we)}(we)),"function"==typeof _e&&(Le=_e,_e=null),je?_e="buffer":_e||(_e=Pe.defaultEncoding),"function"!=typeof Le&&(Le=R),Pe.ended?function N(we,_e){var Le=new Error("write after end");we.emit("error",Le),b.nextTick(_e,Le)}(this,Le):(je||function S(we,_e,Le,Pe){var Oe=!0,je=!1;return null===Le?je=new TypeError("May not write null values to stream"):"string"!=typeof Le&&void 0!==Le&&!_e.objectMode&&(je=new TypeError("Invalid non-string/buffer chunk")),je&&(we.emit("error",je),b.nextTick(Pe,je),Oe=!1),Oe}(this,Pe,we,Le))&&(Pe.pendingcb++,Oe=Y(this,Pe,je,we,_e,Le)),Oe},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var we=this._writableState;we.corked&&(we.corked--,!we.writing&&!we.corked&&!we.finished&&!we.bufferProcessing&&we.bufferedRequest&&me(this,we))},T.prototype.setDefaultEncoding=function(_e){if("string"==typeof _e&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_e);return this._writableState.defaultEncoding=_e,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(we,_e,Le){Le(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(we,_e,Le){var Pe=this._writableState;"function"==typeof we?(Le=we,we=null,_e=null):"function"==typeof _e&&(Le=_e,_e=null),null!=we&&this.write(we,_e),Pe.corked&&(Pe.corked=1,this.uncork()),!Pe.ending&&!Pe.finished&&function le(we,_e,Le){_e.ending=!0,Ie(we,_e),Le&&(_e.finished?b.nextTick(Le):we.once("finish",Le)),_e.ended=!0,we.writable=!1}(this,Pe,Le)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(we){this._writableState&&(this._writableState.destroyed=we)}}),T.prototype.destroy=k.destroy,T.prototype._undestroy=k.undestroy,T.prototype._destroy=function(we,_e){this.end(),_e(we)}}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var E=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,O=c(
/*! util */
1);function b(F,L,x){F.copy(L,x)}Ze.exports=function(){function F(){(function t(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")})(this,F),this.head=null,this.tail=null,this.length=0}return F.prototype.push=function(x){var g={data:x,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length},F.prototype.unshift=function(x){var g={data:x,next:this.head};0===this.length&&(this.tail=g),this.head=g,++this.length},F.prototype.shift=function(){if(0!==this.length){var x=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,x}},F.prototype.clear=function(){this.head=this.tail=null,this.length=0},F.prototype.join=function(x){if(0===this.length)return"";for(var g=this.head,h=""+g.data;g=g.next;)h+=x+g.data;return h},F.prototype.concat=function(x){if(0===this.length)return E.alloc(0);if(1===this.length)return this.head.data;for(var g=E.allocUnsafe(x>>>0),h=this.head,p=0;h;)b(h.data,g,p),p+=h.data.length,h=h.next;return g},F}(),O&&O.inspect&&O.inspect.custom&&(Ze.exports.prototype[O.inspect.custom]=function(){var F=O.inspect({length:this.length});return this.constructor.name+" "+F})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function b(F,L){F.emit("error",L)}Ze.exports={destroy:function E(F,L){var x=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(L?L(F):F&&(!this._writableState||!this._writableState.errorEmitted)&&t.nextTick(b,this,F),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(F||null,function(p){!L&&p?(t.nextTick(b,x,p),x._writableState&&(x._writableState.errorEmitted=!0)):L&&L(p)}),this)},undestroy:function O(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=c(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(Ze,C,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),E=t.Buffer;function O(F,L){for(var x in F)L[x]=F[x]}function b(F,L,x){return E(F,L,x)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?Ze.exports=t:(O(t,C),C.Buffer=b),O(E,b),b.from=function(F,L,x){if("number"==typeof F)throw new TypeError("Argument must not be a number");return E(F,L,x)},b.alloc=function(F,L,x){if("number"!=typeof F)throw new TypeError("Argument must be a number");var g=E(F);return void 0!==L?"string"==typeof x?g.fill(L,x):g.fill(L):g.fill(0),g},b.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return E(F)},b.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Ze,C,c){(C=Ze.exports=c(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=C,C.Readable=C,C.Writable=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),C.Duplex=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),C.Transform=c(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),C.PassThrough=c(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(Ze,C,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),E=t.Buffer;function O(F,L){for(var x in F)L[x]=F[x]}function b(F,L,x){return E(F,L,x)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?Ze.exports=t:(O(t,C),C.Buffer=b),b.prototype=Object.create(E.prototype),O(E,b),b.from=function(F,L,x){if("number"==typeof F)throw new TypeError("Argument must not be a number");return E(F,L,x)},b.alloc=function(F,L,x){if("number"!=typeof F)throw new TypeError("Argument must be a number");var g=E(F);return void 0!==L?"string"==typeof x?g.fill(L,x):g.fill(L):g.fill(0),g},b.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return E(F)},b.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(Ze,C,c){(function(t){!function(E){E.parser=function(K,ie){return new b(K,ie)},E.SAXParser=b,E.SAXStream=y,E.createStream=function p(K,ie){return new y(K,ie)},E.MAX_BUFFER_LENGTH=65536;var g,O=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function b(K,ie){if(!(this instanceof b))return new b(K,ie);var he=this;(function L(K){for(var ie=0,he=O.length;ie<he;ie++)K[O[ie]]=""})(he),he.q=he.c="",he.bufferCheckPosition=E.MAX_BUFFER_LENGTH,he.opt=ie||{},he.opt.lowercase=he.opt.lowercase||he.opt.lowercasetags,he.looseCase=he.opt.lowercase?"toLowerCase":"toUpperCase",he.tags=[],he.closed=he.closedRoot=he.sawRoot=!1,he.tag=he.error=null,he.strict=!!K,he.noscript=!(!K&&!he.opt.noscript),he.state=H.BEGIN,he.strictEntities=he.opt.strictEntities,he.ENTITIES=Object.create(he.strictEntities?E.XML_ENTITIES:E.ENTITIES),he.attribList=[],he.opt.xmlns&&(he.ns=Object.create(N)),he.trackPosition=!1!==he.opt.position,he.trackPosition&&(he.position=he.line=he.column=0),ne(he,"onready")}E.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(K){function ie(){}return ie.prototype=K,new ie}),Object.keys||(Object.keys=function(K){var ie=[];for(var he in K)K.hasOwnProperty(he)&&ie.push(he);return ie}),b.prototype={end:function(){Me(this)},write:function be(K){var ie=this;if(this.error)throw this.error;if(ie.closed)return le(ie,"Cannot write after close. Assign an onready handler.");if(null===K)return Me(ie);"object"==typeof K&&(K=K.toString());for(var he=0,$="";$=Ae(K,he++),ie.c=$,$;)switch(ie.trackPosition&&(ie.position++,"\n"===$?(ie.line++,ie.column=0):ie.column++),ie.state){case H.BEGIN:if(ie.state=H.BEGIN_WHITESPACE,"\ufeff"===$)continue;He(ie,$);continue;case H.BEGIN_WHITESPACE:He(ie,$);continue;case H.TEXT:if(ie.sawRoot&&!ie.closedRoot){for(var Z=he-1;$&&"<"!==$&&"&"!==$;)($=Ae(K,he++))&&ie.trackPosition&&(ie.position++,"\n"===$?(ie.line++,ie.column=0):ie.column++);ie.textNode+=K.substring(Z,he-1)}"<"!==$||ie.sawRoot&&ie.closedRoot&&!ie.strict?(oe(A,$)&&(!ie.sawRoot||ie.closedRoot)&&we(ie,"Text data outside of root node."),"&"===$?ie.state=H.TEXT_ENTITY:ie.textNode+=$):(ie.state=H.OPEN_WAKA,ie.startTagPosition=ie.position);continue;case H.SCRIPT:"<"===$?ie.state=H.SCRIPT_ENDING:ie.script+=$;continue;case H.SCRIPT_ENDING:"/"===$?ie.state=H.CLOSE_TAG:(ie.script+="<"+$,ie.state=H.SCRIPT);continue;case H.OPEN_WAKA:"!"===$?(ie.state=H.SGML_DECL,ie.sgmlDecl=""):z(A,$)||(z(S,$)?(ie.state=H.OPEN_TAG,ie.tagName=$):"/"===$?(ie.state=H.CLOSE_TAG,ie.tagName=""):"?"===$?(ie.state=H.PROC_INST,ie.procInstName=ie.procInstBody=""):(we(ie,"Unencoded <"),ie.startTagPosition+1<ie.position&&($=new Array(ie.position-ie.startTagPosition).join(" ")+$),ie.textNode+="<"+$,ie.state=H.TEXT));continue;case H.SGML_DECL:(ie.sgmlDecl+$).toUpperCase()===R?(ue(ie,"onopencdata"),ie.state=H.CDATA,ie.sgmlDecl="",ie.cdata=""):ie.sgmlDecl+$==="--"?(ie.state=H.COMMENT,ie.comment="",ie.sgmlDecl=""):(ie.sgmlDecl+$).toUpperCase()===D?(ie.state=H.DOCTYPE,(ie.doctype||ie.sawRoot)&&we(ie,"Inappropriately located doctype declaration"),ie.doctype="",ie.sgmlDecl=""):">"===$?(ue(ie,"onsgmldeclaration",ie.sgmlDecl),ie.sgmlDecl="",ie.state=H.TEXT):(z(V,$)&&(ie.state=H.SGML_DECL_QUOTED),ie.sgmlDecl+=$);continue;case H.SGML_DECL_QUOTED:$===ie.q&&(ie.state=H.SGML_DECL,ie.q=""),ie.sgmlDecl+=$;continue;case H.DOCTYPE:">"===$?(ie.state=H.TEXT,ue(ie,"ondoctype",ie.doctype),ie.doctype=!0):(ie.doctype+=$,"["===$?ie.state=H.DOCTYPE_DTD:z(V,$)&&(ie.state=H.DOCTYPE_QUOTED,ie.q=$));continue;case H.DOCTYPE_QUOTED:ie.doctype+=$,$===ie.q&&(ie.q="",ie.state=H.DOCTYPE);continue;case H.DOCTYPE_DTD:ie.doctype+=$,"]"===$?ie.state=H.DOCTYPE:z(V,$)&&(ie.state=H.DOCTYPE_DTD_QUOTED,ie.q=$);continue;case H.DOCTYPE_DTD_QUOTED:ie.doctype+=$,$===ie.q&&(ie.state=H.DOCTYPE_DTD,ie.q="");continue;case H.COMMENT:"-"===$?ie.state=H.COMMENT_ENDING:ie.comment+=$;continue;case H.COMMENT_ENDING:"-"===$?(ie.state=H.COMMENT_ENDED,ie.comment=Ie(ie.opt,ie.comment),ie.comment&&ue(ie,"oncomment",ie.comment),ie.comment=""):(ie.comment+="-"+$,ie.state=H.COMMENT);continue;case H.COMMENT_ENDED:">"!==$?(we(ie,"Malformed comment"),ie.comment+="--"+$,ie.state=H.COMMENT):ie.state=H.TEXT;continue;case H.CDATA:"]"===$?ie.state=H.CDATA_ENDING:ie.cdata+=$;continue;case H.CDATA_ENDING:"]"===$?ie.state=H.CDATA_ENDING_2:(ie.cdata+="]"+$,ie.state=H.CDATA);continue;case H.CDATA_ENDING_2:">"===$?(ie.cdata&&ue(ie,"oncdata",ie.cdata),ue(ie,"onclosecdata"),ie.cdata="",ie.state=H.TEXT):"]"===$?ie.cdata+="]":(ie.cdata+="]]"+$,ie.state=H.CDATA);continue;case H.PROC_INST:"?"===$?ie.state=H.PROC_INST_ENDING:z(A,$)?ie.state=H.PROC_INST_BODY:ie.procInstName+=$;continue;case H.PROC_INST_BODY:if(!ie.procInstBody&&z(A,$))continue;"?"===$?ie.state=H.PROC_INST_ENDING:ie.procInstBody+=$;continue;case H.PROC_INST_ENDING:">"===$?(ue(ie,"onprocessinginstruction",{name:ie.procInstName,body:ie.procInstBody}),ie.procInstName=ie.procInstBody="",ie.state=H.TEXT):(ie.procInstBody+="?"+$,ie.state=H.PROC_INST_BODY);continue;case H.OPEN_TAG:z(B,$)?ie.tagName+=$:(_e(ie),">"===$?Oe(ie):"/"===$?ie.state=H.OPEN_TAG_SLASH:(oe(A,$)&&we(ie,"Invalid character in tag name"),ie.state=H.ATTRIB));continue;case H.OPEN_TAG_SLASH:">"===$?(Oe(ie,!0),je(ie)):(we(ie,"Forward-slash in opening tag not followed by >"),ie.state=H.ATTRIB);continue;case H.ATTRIB:if(z(A,$))continue;">"===$?Oe(ie):"/"===$?ie.state=H.OPEN_TAG_SLASH:z(S,$)?(ie.attribName=$,ie.attribValue="",ie.state=H.ATTRIB_NAME):we(ie,"Invalid attribute name");continue;case H.ATTRIB_NAME:"="===$?ie.state=H.ATTRIB_VALUE:">"===$?(we(ie,"Attribute without value"),ie.attribValue=ie.attribName,Pe(ie),Oe(ie)):z(A,$)?ie.state=H.ATTRIB_NAME_SAW_WHITE:z(B,$)?ie.attribName+=$:we(ie,"Invalid attribute name");continue;case H.ATTRIB_NAME_SAW_WHITE:if("="===$)ie.state=H.ATTRIB_VALUE;else{if(z(A,$))continue;we(ie,"Attribute without value"),ie.tag.attributes[ie.attribName]="",ie.attribValue="",ue(ie,"onattribute",{name:ie.attribName,value:""}),ie.attribName="",">"===$?Oe(ie):z(S,$)?(ie.attribName=$,ie.state=H.ATTRIB_NAME):(we(ie,"Invalid attribute name"),ie.state=H.ATTRIB)}continue;case H.ATTRIB_VALUE:if(z(A,$))continue;z(V,$)?(ie.q=$,ie.state=H.ATTRIB_VALUE_QUOTED):(we(ie,"Unquoted attribute value"),ie.state=H.ATTRIB_VALUE_UNQUOTED,ie.attribValue=$);continue;case H.ATTRIB_VALUE_QUOTED:if($!==ie.q){"&"===$?ie.state=H.ATTRIB_VALUE_ENTITY_Q:ie.attribValue+=$;continue}Pe(ie),ie.q="",ie.state=H.ATTRIB_VALUE_CLOSED;continue;case H.ATTRIB_VALUE_CLOSED:z(A,$)?ie.state=H.ATTRIB:">"===$?Oe(ie):"/"===$?ie.state=H.OPEN_TAG_SLASH:z(S,$)?(we(ie,"No whitespace between attributes"),ie.attribName=$,ie.attribValue="",ie.state=H.ATTRIB_NAME):we(ie,"Invalid attribute name");continue;case H.ATTRIB_VALUE_UNQUOTED:if(oe(k,$)){"&"===$?ie.state=H.ATTRIB_VALUE_ENTITY_U:ie.attribValue+=$;continue}Pe(ie),">"===$?Oe(ie):ie.state=H.ATTRIB;continue;case H.CLOSE_TAG:if(ie.tagName)">"===$?je(ie):z(B,$)?ie.tagName+=$:ie.script?(ie.script+="</"+ie.tagName,ie.tagName="",ie.state=H.SCRIPT):(oe(A,$)&&we(ie,"Invalid tagname in closing tag"),ie.state=H.CLOSE_TAG_SAW_WHITE);else{if(z(A,$))continue;oe(S,$)?ie.script?(ie.script+="</"+$,ie.state=H.SCRIPT):we(ie,"Invalid tagname in closing tag."):ie.tagName=$}continue;case H.CLOSE_TAG_SAW_WHITE:if(z(A,$))continue;">"===$?je(ie):we(ie,"Invalid characters in closing tag");continue;case H.TEXT_ENTITY:case H.ATTRIB_VALUE_ENTITY_Q:case H.ATTRIB_VALUE_ENTITY_U:var X,Q;switch(ie.state){case H.TEXT_ENTITY:X=H.TEXT,Q="textNode";break;case H.ATTRIB_VALUE_ENTITY_Q:X=H.ATTRIB_VALUE_QUOTED,Q="attribValue";break;case H.ATTRIB_VALUE_ENTITY_U:X=H.ATTRIB_VALUE_UNQUOTED,Q="attribValue"}";"===$?(ie[Q]+=ze(ie),ie.entity="",ie.state=X):z(ie.entity.length?re:Y,$)?ie.entity+=$:(we(ie,"Invalid character in entity name"),ie[Q]+="&"+ie.entity+$,ie.entity="",ie.state=X);continue;default:throw new Error(ie,"Unknown state: "+ie.state)}return ie.position>=ie.bufferCheckPosition&&function F(K){for(var ie=Math.max(E.MAX_BUFFER_LENGTH,10),he=0,$=0,Z=O.length;$<Z;$++){var W=K[O[$]].length;if(W>ie)switch(O[$]){case"textNode":Se(K);break;case"cdata":ue(K,"oncdata",K.cdata),K.cdata="";break;case"script":ue(K,"onscript",K.script),K.script="";break;default:le(K,"Max buffer length exceeded: "+O[$])}he=Math.max(he,W)}K.bufferCheckPosition=E.MAX_BUFFER_LENGTH-he+K.position}(ie),ie},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function x(K){Se(K),""!==K.cdata&&(ue(K,"oncdata",K.cdata),K.cdata=""),""!==K.script&&(ue(K,"onscript",K.script),K.script="")}(this)}};try{g=c(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{g=function(){}}var h=E.EVENTS.filter(function(K){return"error"!==K&&"end"!==K});function y(K,ie){if(!(this instanceof y))return new y(K,ie);g.apply(this),this._parser=new b(K,ie),this.writable=!0,this.readable=!0;var he=this;this._parser.onend=function(){he.emit("end")},this._parser.onerror=function($){he.emit("error",$),he._parser.error=null},this._decoder=null,h.forEach(function($){Object.defineProperty(he,"on"+$,{get:function(){return he._parser["on"+$]},set:function(Z){if(!Z)return he.removeAllListeners($),he._parser["on"+$]=Z,Z;he.on($,Z)},enumerable:!0,configurable:!1})})}(y.prototype=Object.create(g.prototype,{constructor:{value:y}})).write=function(K){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(K)){if(!this._decoder){var ie=c(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new ie("utf8")}K=this._decoder.write(K)}return this._parser.write(K.toString()),this.emit("data",K),!0},y.prototype.end=function(K){return K&&K.length&&this.write(K),this._parser.end(),!0},y.prototype.on=function(K,ie){var he=this;return!he._parser["on"+K]&&-1!==h.indexOf(K)&&(he._parser["on"+K]=function(){var $=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);$.splice(0,0,K),he.emit.apply(he,$)}),g.prototype.on.call(he,K,ie)};var A="\r\n\t ",U="0124356789",P="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V="'\"",k=A+">",R="[CDATA[",D="DOCTYPE",I="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",N={xml:I,xmlns:T};A=se(A),U=se(U),P=se(P);var S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,re=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function se(K){return K.split("").reduce(function(ie,he){return ie[he]=!0,ie},{})}function z(K,ie){return function Re(K){return"[object RegExp]"===Object.prototype.toString.call(K)}(K)?!!ie.match(K):K[ie]}function oe(K,ie){return!z(K,ie)}V=se(V),k=se(k);var K,ie,he,H=0;for(var me in E.STATE={BEGIN:H++,BEGIN_WHITESPACE:H++,TEXT:H++,TEXT_ENTITY:H++,OPEN_WAKA:H++,SGML_DECL:H++,SGML_DECL_QUOTED:H++,DOCTYPE:H++,DOCTYPE_QUOTED:H++,DOCTYPE_DTD:H++,DOCTYPE_DTD_QUOTED:H++,COMMENT_STARTING:H++,COMMENT:H++,COMMENT_ENDING:H++,COMMENT_ENDED:H++,CDATA:H++,CDATA_ENDING:H++,CDATA_ENDING_2:H++,PROC_INST:H++,PROC_INST_BODY:H++,PROC_INST_ENDING:H++,OPEN_TAG:H++,OPEN_TAG_SLASH:H++,ATTRIB:H++,ATTRIB_NAME:H++,ATTRIB_NAME_SAW_WHITE:H++,ATTRIB_VALUE:H++,ATTRIB_VALUE_QUOTED:H++,ATTRIB_VALUE_CLOSED:H++,ATTRIB_VALUE_UNQUOTED:H++,ATTRIB_VALUE_ENTITY_Q:H++,ATTRIB_VALUE_ENTITY_U:H++,CLOSE_TAG:H++,CLOSE_TAG_SAW_WHITE:H++,SCRIPT:H++,SCRIPT_ENDING:H++},E.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},E.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(E.ENTITIES).forEach(function(K){var ie=E.ENTITIES[K],he="number"==typeof ie?String.fromCharCode(ie):ie;E.ENTITIES[K]=he}),E.STATE)E.STATE[E.STATE[me]]=me;function ne(K,ie,he){K[ie]&&K[ie](he)}function ue(K,ie,he){K.textNode&&Se(K),ne(K,ie,he)}function Se(K){K.textNode=Ie(K.opt,K.textNode),K.textNode&&ne(K,"ontext",K.textNode),K.textNode=""}function Ie(K,ie){return K.trim&&(ie=ie.trim()),K.normalize&&(ie=ie.replace(/\s+/g," ")),ie}function le(K,ie){return Se(K),K.trackPosition&&(ie+="\nLine: "+K.line+"\nColumn: "+K.column+"\nChar: "+K.c),ie=new Error(ie),K.error=ie,ne(K,"onerror",ie),K}function Me(K){return K.sawRoot&&!K.closedRoot&&we(K,"Unclosed root tag"),K.state!==H.BEGIN&&K.state!==H.BEGIN_WHITESPACE&&K.state!==H.TEXT&&le(K,"Unexpected end"),Se(K),K.c="",K.closed=!0,ne(K,"onend"),b.call(K,K.strict,K.opt),K}function we(K,ie){if("object"!=typeof K||!(K instanceof b))throw new Error("bad call to strictFail");K.strict&&le(K,ie)}function _e(K){K.strict||(K.tagName=K.tagName[K.looseCase]());var ie=K.tags[K.tags.length-1]||K,he=K.tag={name:K.tagName,attributes:{}};K.opt.xmlns&&(he.ns=ie.ns),K.attribList.length=0,ue(K,"onopentagstart",he)}function Le(K,ie){var $=K.indexOf(":")<0?["",K]:K.split(":"),Z=$[0],W=$[1];return ie&&"xmlns"===K&&(Z="xmlns",W=""),{prefix:Z,local:W}}function Pe(K){if(K.strict||(K.attribName=K.attribName[K.looseCase]()),-1!==K.attribList.indexOf(K.attribName)||K.tag.attributes.hasOwnProperty(K.attribName))K.attribName=K.attribValue="";else{if(K.opt.xmlns){var ie=Le(K.attribName,!0),$=ie.local;if("xmlns"===ie.prefix)if("xml"===$&&K.attribValue!==I)we(K,"xml: prefix must be bound to "+I+"\nActual: "+K.attribValue);else if("xmlns"===$&&K.attribValue!==T)we(K,"xmlns: prefix must be bound to "+T+"\nActual: "+K.attribValue);else{var Z=K.tag,W=K.tags[K.tags.length-1]||K;Z.ns===W.ns&&(Z.ns=Object.create(W.ns)),Z.ns[$]=K.attribValue}K.attribList.push([K.attribName,K.attribValue])}else K.tag.attributes[K.attribName]=K.attribValue,ue(K,"onattribute",{name:K.attribName,value:K.attribValue});K.attribName=K.attribValue=""}}function Oe(K,ie){if(K.opt.xmlns){var he=K.tag,$=Le(K.tagName);he.prefix=$.prefix,he.local=$.local,he.uri=he.ns[$.prefix]||"",he.prefix&&!he.uri&&(we(K,"Unbound namespace prefix: "+JSON.stringify(K.tagName)),he.uri=$.prefix),he.ns&&(K.tags[K.tags.length-1]||K).ns!==he.ns&&Object.keys(he.ns).forEach(function(Be){ue(K,"onopennamespace",{prefix:Be,uri:he.ns[Be]})});for(var W=0,X=K.attribList.length;W<X;W++){var Q=K.attribList[W],q=Q[0],J=Q[1],de=Le(q,!0),ge=de.prefix,Ce=""===ge?"":he.ns[ge]||"",Ye={name:q,value:J,prefix:ge,local:de.local,uri:Ce};ge&&"xmlns"!==ge&&!Ce&&(we(K,"Unbound namespace prefix: "+JSON.stringify(ge)),Ye.uri=ge),K.tag.attributes[q]=Ye,ue(K,"onattribute",Ye)}K.attribList.length=0}K.tag.isSelfClosing=!!ie,K.sawRoot=!0,K.tags.push(K.tag),ue(K,"onopentag",K.tag),ie||(K.state=K.noscript||"script"!==K.tagName.toLowerCase()?H.TEXT:H.SCRIPT,K.tag=null,K.tagName=""),K.attribName=K.attribValue="",K.attribList.length=0}function je(K){if(!K.tagName)return we(K,"Weird empty close tag."),K.textNode+="</>",void(K.state=H.TEXT);if(K.script){if("script"!==K.tagName)return K.script+="</"+K.tagName+">",K.tagName="",void(K.state=H.SCRIPT);ue(K,"onscript",K.script),K.script=""}var ie=K.tags.length,he=K.tagName;K.strict||(he=he[K.looseCase]());for(var $=he;ie--&&K.tags[ie].name!==$;)we(K,"Unexpected close tag");if(ie<0)return we(K,"Unmatched closing tag: "+K.tagName),K.textNode+="</"+K.tagName+">",void(K.state=H.TEXT);K.tagName=he;for(var W=K.tags.length;W-- >ie;){var X=K.tag=K.tags.pop();K.tagName=K.tag.name,ue(K,"onclosetag",K.tagName);var Q={};for(var q in X.ns)Q[q]=X.ns[q];K.opt.xmlns&&X.ns!==(K.tags[K.tags.length-1]||K).ns&&Object.keys(X.ns).forEach(function(de){ue(K,"onclosenamespace",{prefix:de,uri:X.ns[de]})})}0===ie&&(K.closedRoot=!0),K.tagName=K.attribValue=K.attribName="",K.attribList.length=0,K.state=H.TEXT}function ze(K){var $,ie=K.entity,he=ie.toLowerCase(),Z="";return K.ENTITIES[ie]?K.ENTITIES[ie]:K.ENTITIES[he]?K.ENTITIES[he]:("#"===(ie=he).charAt(0)&&("x"===ie.charAt(1)?(ie=ie.slice(2),Z=($=parseInt(ie,16)).toString(16)):(ie=ie.slice(1),Z=($=parseInt(ie,10)).toString(10))),ie=ie.replace(/^0+/,""),Z.toLowerCase()!==ie?(we(K,"Invalid character entity"),"&"+K.entity+";"):String.fromCodePoint($))}function He(K,ie){"<"===ie?(K.state=H.OPEN_WAKA,K.startTagPosition=K.position):oe(A,ie)&&(we(K,"Non-whitespace before first tag."),K.textNode=ie,K.state=H.TEXT)}function Ae(K,ie){var he="";return ie<K.length&&(he=K.charAt(ie)),he}H=E.STATE,String.fromCodePoint||(K=String.fromCharCode,ie=Math.floor,he=function(){var Z=[],Q=-1,q=arguments.length;if(!q)return"";for(var J="";++Q<q;){var de=Number(arguments[Q]);if(!isFinite(de)||de<0||de>1114111||ie(de)!==de)throw RangeError("Invalid code point: "+de);de<=65535?Z.push(de):Z.push(55296+((de-=65536)>>10),de%1024+56320),(Q+1===q||Z.length>16384)&&(J+=K.apply(null,Z),Z.length=0)}return J},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:he,configurable:!0,writable:!0}):String.fromCodePoint=he)}(C)}).call(this,c(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(Ze,C,c){(function(t,E){!function(O,b){"use strict";if(!O.setImmediate){var h,F=1,L={},x=!1,g=O.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(O);T=T&&T.setTimeout?T:O,"[object process]"==={}.toString.call(O.process)?function P(){h=function(N){E.nextTick(function(){U(N)})}}():function V(){if(O.postMessage&&!O.importScripts){var N=!0,S=O.onmessage;return O.onmessage=function(){N=!1},O.postMessage("","*"),O.onmessage=S,N}}()?function k(){var N="setImmediate$"+Math.random()+"$",S=function(B){B.source===O&&"string"==typeof B.data&&0===B.data.indexOf(N)&&U(+B.data.slice(N.length))};O.addEventListener?O.addEventListener("message",S,!1):O.attachEvent("onmessage",S),h=function(B){O.postMessage(N+B,"*")}}():O.MessageChannel?function R(){var N=new MessageChannel;N.port1.onmessage=function(S){U(S.data)},h=function(S){N.port2.postMessage(S)}}():g&&"onreadystatechange"in g.createElement("script")?function D(){var N=g.documentElement;h=function(S){var B=g.createElement("script");B.onreadystatechange=function(){U(S),B.onreadystatechange=null,N.removeChild(B),B=null},N.appendChild(B)}}():function I(){h=function(N){setTimeout(U,0,N)}}(),T.setImmediate=function p(N){"function"!=typeof N&&(N=new Function(""+N));for(var S=new Array(arguments.length-1),B=0;B<S.length;B++)S[B]=arguments[B+1];return L[F]={callback:N,args:S},h(F),F++},T.clearImmediate=y}function y(N){delete L[N]}function U(N){if(x)setTimeout(U,0,N);else{var S=L[N];if(S){x=!0;try{!function A(N){var S=N.callback,B=N.args;switch(B.length){case 0:S();break;case 1:S(B[0]);break;case 2:S(B[0],B[1]);break;case 3:S(B[0],B[1],B[2]);break;default:S.apply(b,B)}}(S)}finally{y(N),x=!1}}}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=O;var t=c(
/*! events */
"./node_modules/events/events.js").EventEmitter;function O(){t.call(this)}c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(O,t),O.Readable=c(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),O.Writable=c(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),O.Duplex=c(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),O.Transform=c(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),O.PassThrough=c(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),O.Stream=O,O.prototype.pipe=function(b,F){var L=this;function x(P){b.writable&&!1===b.write(P)&&L.pause&&L.pause()}function g(){L.readable&&L.resume&&L.resume()}L.on("data",x),b.on("drain",g),!b._isStdio&&(!F||!1!==F.end)&&(L.on("end",p),L.on("close",y));var h=!1;function p(){h||(h=!0,b.end())}function y(){h||(h=!0,"function"==typeof b.destroy&&b.destroy())}function A(P){if(U(),0===t.listenerCount(this,"error"))throw P}function U(){L.removeListener("data",x),b.removeListener("drain",g),L.removeListener("end",p),L.removeListener("close",y),L.removeListener("error",A),b.removeListener("error",A),L.removeListener("end",U),L.removeListener("close",U),b.removeListener("close",U)}return L.on("error",A),b.on("error",A),L.on("end",U),L.on("close",U),b.on("close",U),b.emit("pipe",L),b}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,E=t.isEncoding||function(D){switch((D=""+D)&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function F(D){var I;switch(this.encoding=function b(D){var I=function O(D){if(!D)return"utf8";for(var I;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(I)return;D=(""+D).toLowerCase(),I=!0}}(D);if("string"!=typeof I&&(t.isEncoding===E||!E(D)))throw new Error("Unknown encoding: "+D);return I||D}(D),this.encoding){case"utf16le":this.text=A,this.end=U,I=4;break;case"utf8":this.fillLast=h,I=4;break;case"base64":this.text=P,this.end=V,I=3;break;default:return this.write=k,void(this.end=R)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}function L(D){return D<=127?0:D>>5==6?2:D>>4==14?3:D>>3==30?4:D>>6==2?-1:-2}function h(D){var I=this.lastTotal-this.lastNeed,T=function g(D,I,T){if(128!=(192&I[0]))return D.lastNeed=0,"\ufffd";if(D.lastNeed>1&&I.length>1){if(128!=(192&I[1]))return D.lastNeed=1,"\ufffd";if(D.lastNeed>2&&I.length>2&&128!=(192&I[2]))return D.lastNeed=2,"\ufffd"}}(this,D);return void 0!==T?T:this.lastNeed<=D.length?(D.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(D.copy(this.lastChar,I,0,D.length),void(this.lastNeed-=D.length))}function A(D,I){if((D.length-I)%2==0){var T=D.toString("utf16le",I);if(T){var N=T.charCodeAt(T.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",I,D.length-1)}function U(D){var I=D&&D.length?this.write(D):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function P(D,I){var T=(D.length-I)%3;return 0===T?D.toString("base64",I):(this.lastNeed=3-T,this.lastTotal=3,1===T?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",I,D.length-T))}function V(D){var I=D&&D.length?this.write(D):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function k(D){return D.toString(this.encoding)}function R(D){return D&&D.length?this.write(D):""}C.StringDecoder=F,F.prototype.write=function(D){if(0===D.length)return"";var I,T;if(this.lastNeed){if(void 0===(I=this.fillLast(D)))return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<D.length?I?I+this.text(D,T):this.text(D,T):I||""},F.prototype.end=function y(D){var I=D&&D.length?this.write(D):"";return this.lastNeed?I+"\ufffd":I},F.prototype.text=function p(D,I){var T=function x(D,I,T){var N=I.length-1;if(N<T)return 0;var S=L(I[N]);return S>=0?(S>0&&(D.lastNeed=S-1),S):--N<T||-2===S?0:(S=L(I[N]))>=0?(S>0&&(D.lastNeed=S-2),S):--N<T||-2===S?0:(S=L(I[N]))>=0?(S>0&&(2===S?S=0:D.lastNeed=S-3),S):0}(this,D,I);if(!this.lastNeed)return D.toString("utf8",I);this.lastTotal=T;var N=D.length-(T-this.lastNeed);return D.copy(this.lastChar,0,N),D.toString("utf8",I,N)},F.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(Ze,C,c){(function(t){var E=typeof t<"u"&&t||typeof self<"u"&&self||window,O=Function.prototype.apply;function b(F,L){this._id=F,this._clearFn=L}C.setTimeout=function(){return new b(O.call(setTimeout,E,arguments),clearTimeout)},C.setInterval=function(){return new b(O.call(setInterval,E,arguments),clearInterval)},C.clearTimeout=C.clearInterval=function(F){F&&F.close()},b.prototype.unref=b.prototype.ref=function(){},b.prototype.close=function(){this._clearFn.call(E,this._id)},C.enroll=function(F,L){clearTimeout(F._idleTimeoutId),F._idleTimeout=L},C.unenroll=function(F){clearTimeout(F._idleTimeoutId),F._idleTimeout=-1},C._unrefActive=C.active=function(F){clearTimeout(F._idleTimeoutId);var L=F._idleTimeout;L>=0&&(F._idleTimeoutId=setTimeout(function(){F._onTimeout&&F._onTimeout()},L))},c(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),C.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,C.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(Ze,C,c){var t;!function(E,O){"use strict";var x="function",g="undefined",h="object",p="string",A="model",U="name",P="type",V="vendor",k="version",R="architecture",D="console",I="mobile",T="tablet",N="smarttv",S="wearable",B="embedded",re="Amazon",se="Apple",z="BlackBerry",oe="Browser",H="Chrome",ne="Firefox",ue="Google",le="Microsoft",Me="Motorola",we="Opera",_e="Samsung",Pe="Sony",Oe="Xiaomi",je="Zebra",ze="Facebook",Ae=function(ge){for(var ce={},Ce=0;Ce<ge.length;Ce++)ce[ge[Ce].toUpperCase()]=ge[Ce];return ce},be=function(ge,ce){return typeof ge===p&&-1!==K(ce).indexOf(K(ge))},K=function(ge){return ge.toLowerCase()},he=function(ge,ce){if(typeof ge===p)return ge=ge.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof ce===g?ge:ge.substring(0,350)},$=function(ge,ce){for(var Ye,Be,$e,Qe,qe,ct,Ce=0;Ce<ce.length&&!qe;){var Ot=ce[Ce],_t=ce[Ce+1];for(Ye=Be=0;Ye<Ot.length&&!qe;)if(qe=Ot[Ye++].exec(ge))for($e=0;$e<_t.length;$e++)ct=qe[++Be],typeof(Qe=_t[$e])===h&&Qe.length>0?2===Qe.length?this[Qe[0]]=typeof Qe[1]==x?Qe[1].call(this,ct):Qe[1]:3===Qe.length?this[Qe[0]]=typeof Qe[1]!==x||Qe[1].exec&&Qe[1].test?ct?ct.replace(Qe[1],Qe[2]):O:ct?Qe[1].call(this,ct,Qe[2]):O:4===Qe.length&&(this[Qe[0]]=ct?Qe[3].call(this,ct.replace(Qe[1],Qe[2])):O):this[Qe]=ct||O;Ce+=2}},Z=function(ge,ce){for(var Ce in ce)if(typeof ce[Ce]===h&&ce[Ce].length>0){for(var Ye=0;Ye<ce[Ce].length;Ye++)if(be(ce[Ce][Ye],ge))return"?"===Ce?O:Ce}else if(be(ce[Ce],ge))return"?"===Ce?O:Ce;return ge},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[U,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[U,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[U,k],[/opios[\/ ]+([\w\.]+)/i],[k,[U,we+" Mini"]],[/\bopr\/([\w\.]+)/i],[k,[U,we]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[U,k],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[U,"UC"+oe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[k,[U,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[k,[U,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[U,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[U,"IE"]],[/yabrowser\/([\w\.]+)/i],[k,[U,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[U,/(.+)/,"$1 Secure "+oe],k],[/\bfocus\/([\w\.]+)/i],[k,[U,ne+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[U,we+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[U,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[U,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[U,we+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[U,"MIUI "+oe]],[/fxios\/([-\w\.]+)/i],[k,[U,ne]],[/\bqihu|(qi?ho?o?|360)browser/i],[[U,"360 "+oe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[U,/(.+)/,"$1 "+oe],k],[/(comodo_dragon)\/([\w\.]+)/i],[[U,/_/g," "],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[U,k],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[U],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[U,ze],k],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[U,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[U,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[U,H+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[U,H+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[U,"Android "+oe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[U,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[U,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,U],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[U,[k,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[U,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[U,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[U,ne+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[U,k]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[R,"amd64"]],[/(ia32(?=;))/i],[[R,K]],[/((?:i[346]|x)86)[;\)]/i],[[R,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[R,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[R,"armhf"]],[/windows (ce|mobile); ppc;/i],[[R,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[R,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[R,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[R,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[A,[V,_e],[P,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[A,[V,_e],[P,I]],[/\((ip(?:hone|od)[\w ]*);/i],[A,[V,se],[P,I]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[A,[V,se],[P,T]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[A,[V,"Huawei"],[P,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[A,[V,"Huawei"],[P,I]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[A,/_/g," "],[V,Oe],[P,I]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[A,/_/g," "],[V,Oe],[P,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[A,[V,"OPPO"],[P,I]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[A,[V,"Vivo"],[P,I]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[A,[V,"Realme"],[P,I]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[A,[V,Me],[P,I]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[A,[V,Me],[P,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[A,[V,"LG"],[P,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[A,[V,"LG"],[P,I]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[A,[V,"Lenovo"],[P,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[A,/_/g," "],[V,"Nokia"],[P,I]],[/(pixel c)\b/i],[A,[V,ue],[P,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[A,[V,ue],[P,I]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[A,[V,Pe],[P,I]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[A,"Xperia Tablet"],[V,Pe],[P,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[A,[V,"OnePlus"],[P,I]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[A,[V,re],[P,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[A,/(.+)/g,"Fire Phone $1"],[V,re],[P,I]],[/(playbook);[-\w\),; ]+(rim)/i],[A,V,[P,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[A,[V,z],[P,I]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[A,[V,"ASUS"],[P,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[A,[V,"ASUS"],[P,I]],[/(nexus 9)/i],[A,[V,"HTC"],[P,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[V,[A,/_/g," "],[P,I]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[A,[V,"Acer"],[P,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[A,[V,"Meizu"],[P,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[A,[V,"Sharp"],[P,I]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[V,A,[P,I]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[V,A,[P,T]],[/(surface duo)/i],[A,[V,le],[P,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[A,[V,"Fairphone"],[P,I]],[/(u304aa)/i],[A,[V,"AT&T"],[P,I]],[/\bsie-(\w*)/i],[A,[V,"Siemens"],[P,I]],[/\b(rct\w+) b/i],[A,[V,"RCA"],[P,T]],[/\b(venue[\d ]{2,7}) b/i],[A,[V,"Dell"],[P,T]],[/\b(q(?:mv|ta)\w+) b/i],[A,[V,"Verizon"],[P,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[A,[V,"Barnes & Noble"],[P,T]],[/\b(tm\d{3}\w+) b/i],[A,[V,"NuVision"],[P,T]],[/\b(k88) b/i],[A,[V,"ZTE"],[P,T]],[/\b(nx\d{3}j) b/i],[A,[V,"ZTE"],[P,I]],[/\b(gen\d{3}) b.+49h/i],[A,[V,"Swiss"],[P,I]],[/\b(zur\d{3}) b/i],[A,[V,"Swiss"],[P,T]],[/\b((zeki)?tb.*\b) b/i],[A,[V,"Zeki"],[P,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[V,"Dragon Touch"],A,[P,T]],[/\b(ns-?\w{0,9}) b/i],[A,[V,"Insignia"],[P,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[A,[V,"NextBook"],[P,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[V,"Voice"],A,[P,I]],[/\b(lvtel\-)?(v1[12]) b/i],[[V,"LvTel"],A,[P,I]],[/\b(ph-1) /i],[A,[V,"Essential"],[P,I]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[A,[V,"Envizen"],[P,T]],[/\b(trio[-\w\. ]+) b/i],[A,[V,"MachSpeed"],[P,T]],[/\btu_(1491) b/i],[A,[V,"Rotor"],[P,T]],[/(shield[\w ]+) b/i],[A,[V,"Nvidia"],[P,T]],[/(sprint) (\w+)/i],[V,A,[P,I]],[/(kin\.[onetw]{3})/i],[[A,/\./g," "],[V,le],[P,I]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[A,[V,je],[P,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[A,[V,je],[P,I]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[V,A,[P,D]],[/droid.+; (shield) bui/i],[A,[V,"Nvidia"],[P,D]],[/(playstation [345portablevi]+)/i],[A,[V,Pe],[P,D]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[A,[V,le],[P,D]],[/smart-tv.+(samsung)/i],[V,[P,N]],[/hbbtv.+maple;(\d+)/i],[[A,/^/,"SmartTV"],[V,_e],[P,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[V,"LG"],[P,N]],[/(apple) ?tv/i],[V,[A,se+" TV"],[P,N]],[/crkey/i],[[A,H+"cast"],[V,ue],[P,N]],[/droid.+aft(\w)( bui|\))/i],[A,[V,re],[P,N]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[A,[V,"Sharp"],[P,N]],[/(bravia[\w ]+)( bui|\))/i],[A,[V,Pe],[P,N]],[/(mitv-\w{5}) bui/i],[A,[V,Oe],[P,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[V,he],[A,he],[P,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[P,N]],[/((pebble))app/i],[V,A,[P,S]],[/droid.+; (glass) \d/i],[A,[V,ue],[P,S]],[/droid.+; (wt63?0{2,3})\)/i],[A,[V,je],[P,S]],[/(quest( 2)?)/i],[A,[V,ze],[P,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[V,[P,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[A,[P,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[A,[P,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[P,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[P,I]],[/(android[-\w\. ]{0,9});.+buil/i],[A,[V,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[U,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[U,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[U,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,U]],os:[[/microsoft (windows) (vista|xp)/i],[U,k],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[U,[k,Z,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[U,"Windows"],[k,Z,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[U,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[U,"Mac OS"],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,U],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[U,k],[/\(bb(10);/i],[k,[U,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[U,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[U,ne+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[U,"webOS"]],[/crkey\/([\d\.]+)/i],[k,[U,H+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[U,"Chromium OS"],k],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[U,k],[/(sunos) ?([\w\.\d]*)/i],[[U,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[U,k]]},q=function(ge,ce){if(typeof ge===h&&(ce=ge,ge=O),!(this instanceof q))return new q(ge,ce).getResult();var Ce=ge||(typeof E!==g&&E.navigator&&E.navigator.userAgent?E.navigator.userAgent:""),Ye=ce?function(ge,ce){var Ce={};for(var Ye in ge)Ce[Ye]=ce[Ye]&&ce[Ye].length%2==0?ce[Ye].concat(ge[Ye]):ge[Ye];return Ce}(Q,ce):Q;return this.getBrowser=function(){var Be={};return Be[U]=O,Be[k]=O,$.call(Be,Ce,Ye.browser),Be.major=function(ge){return typeof ge===p?ge.replace(/[^\d\.]/g,"").split(".")[0]:O}(Be.version),Be},this.getCPU=function(){var Be={};return Be[R]=O,$.call(Be,Ce,Ye.cpu),Be},this.getDevice=function(){var Be={};return Be[V]=O,Be[A]=O,Be[P]=O,$.call(Be,Ce,Ye.device),Be},this.getEngine=function(){var Be={};return Be[U]=O,Be[k]=O,$.call(Be,Ce,Ye.engine),Be},this.getOS=function(){var Be={};return Be[U]=O,Be[k]=O,$.call(Be,Ce,Ye.os),Be},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ce},this.setUA=function(Be){return Ce=typeof Be===p&&Be.length>350?he(Be,350):Be,this},this.setUA(Ce),this};q.VERSION="1.0.32",q.BROWSER=Ae([U,k,"major"]),q.CPU=Ae([R]),q.DEVICE=Ae([A,V,P,D,I,N,T,S,B]),q.ENGINE=q.OS=Ae([U,k]),typeof C!==g?(typeof Ze!==g&&Ze.exports&&(C=Ze.exports=q),C.UAParser=q):c(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(t=function(){return q}.call(C,c,C,Ze))!==O&&(Ze.exports=t):typeof E!==g&&(E.UAParser=q);var J=typeof E!==g&&(E.jQuery||E.Zepto);if(J&&!J.ua){var de=new q;J.ua=de.getResult(),J.ua.get=function(){return de.getUA()},J.ua.set=function(ge){de.setUA(ge);var ce=de.getResult();for(var Ce in ce)J.ua[Ce]=ce[Ce]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(Ze,C,c){(function(t){function O(b){try{if(!t.localStorage)return!1}catch{return!1}var F=t.localStorage[b];return null!=F&&"true"===String(F).toLowerCase()}Ze.exports=function E(b,F){if(O("noDeprecation"))return b;var L=!1;return function x(){if(!L){if(O("throwDeprecation"))throw new Error(F);O("traceDeprecation")?console.trace(F):console.warn(F),L=!0}return b.apply(this,arguments)}}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(Ze,C){(function(c){Ze.exports=c}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(Ze,C){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{"object"==typeof window&&(c=window)}Ze.exports=c},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./EventBus */
"./src/core/EventBus.js"),E=c(
/*! ./events/Events */
"./src/core/events/Events.js"),O=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),F=1,L=2,x=3,g=4,h=5;function p(A){A=A||{};var R,D,I,T,U=this.context,P=Object(t.default)(U).getInstance(),V=A.settings,k=[];function S(ne){return ne&&ne.bind?ne.bind(window.console):window.console.log.bind(window.console)}function se(){for(var ne=arguments.length,ue=new Array(ne),Se=0;Se<ne;Se++)ue[Se]=arguments[Se];me.apply(void 0,[F,this].concat(ue))}function Re(){for(var ne=arguments.length,ue=new Array(ne),Se=0;Se<ne;Se++)ue[Se]=arguments[Se];me.apply(void 0,[L,this].concat(ue))}function z(){for(var ne=arguments.length,ue=new Array(ne),Se=0;Se<ne;Se++)ue[Se]=arguments[Se];me.apply(void 0,[x,this].concat(ue))}function oe(){for(var ne=arguments.length,ue=new Array(ne),Se=0;Se<ne;Se++)ue[Se]=arguments[Se];me.apply(void 0,[g,this].concat(ue))}function H(){for(var ne=arguments.length,ue=new Array(ne),Se=0;Se<ne;Se++)ue[Se]=arguments[Se];me.apply(void 0,[h,this].concat(ue))}function me(ne,ue){var Se="",Ie=null;D&&(Ie=(new Date).getTime(),Se+="["+(Ie-T)+"]"),I&&ue&&ue.getClassName&&(Se+="["+ue.getClassName()+"]",ue.getType&&(Se+="["+ue.getType()+"]")),Se.length>0&&(Se+=" ");for(var le=arguments.length,Me=new Array(le>2?le-2:0),we=2;we<le;we++)Me[we-2]=arguments[we];Array.apply(null,Me).forEach(function(_e){Se+=_e+" "}),k[ne]&&V.get().debug.logLevel>=ne&&k[ne](Se),V&&V.get().debug.dispatchEvent&&P.trigger(E.default.LOG,{message:Se,level:ne})}return R={getLogger:function B(ne){return{fatal:se.bind(ne),error:Re.bind(ne),warn:z.bind(ne),info:oe.bind(ne),debug:H.bind(ne)}},setLogTimestampVisible:function Y(ne){D=ne},setCalleeNameVisible:function re(ne){I=ne}},function N(){D=!0,I=!0,T=(new Date).getTime(),typeof window<"u"&&window.console&&(k[F]=S(window.console.error),k[L]=S(window.console.error),k[x]=S(window.console.warn),k[g]=S(window.console.info),k[h]=S(window.console.debug))}(),R}p.__dashjs_factory_name="Debug";var y=O.default.getSingletonFactory(p);y.LOG_LEVEL_NONE=0,y.LOG_LEVEL_FATAL=F,y.LOG_LEVEL_ERROR=L,y.LOG_LEVEL_WARNING=x,y.LOG_LEVEL_INFO=g,y.LOG_LEVEL_DEBUG=h,O.default.updateSingletonFactory(p.__dashjs_factory_name,y),C.default=y},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function F(){var x={};function y(P,V,k){var R=-1;return x[P]&&x[P].some(function(D,I){if(D&&D.callback===V&&(!k||k===D.scope))return R=I,!0}),R}return{on:function g(P,V,k){var R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!P)throw new Error("event type cannot be null or undefined");if(!V||"function"!=typeof V)throw new Error("listener must be a function: "+V);var D=R.priority||0;if(!(y(P,V,k)>=0)){x[P]=x[P]||[];var I={callback:V,scope:k,priority:D};k&&k.getStreamId&&(I.streamId=k.getStreamId()),k&&k.getType&&(I.mediaType=k.getType()),R&&R.mode&&(I.mode=R.mode),x[P].some(function(N,S){if(N&&D>N.priority)return x[P].splice(S,0,I),!0})||x[P].push(I)}},off:function h(P,V,k){if(P&&V&&x[P]){var R=y(P,V,k);R<0||(x[P][R]=null)}},trigger:function p(P){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(P&&x[P]){if((V=V||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");V.type=P,k.streamId&&(V.streamId=k.streamId),k.mediaType&&(V.mediaType=k.mediaType),x[P].filter(function(R){return!(!R||k.streamId&&R.streamId&&R.streamId!==k.streamId||k.mediaType&&R.mediaType&&R.mediaType!==k.mediaType||k.mode&&R.mode&&R.mode!==k.mode||!R.mode&&k.mode&&k.mode===E.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(R){return R&&R.callback.call(R.scope,V)})}},reset:function A(){x={}}}}F.__dashjs_factory_name="EventBus";var L=t.default.getSingletonFactory(F);L.EVENT_PRIORITY_LOW=0,L.EVENT_PRIORITY_HIGH=5e3,t.default.updateSingletonFactory(F.__dashjs_factory_name,L),C.default=L},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=function(){var E,O=[],b={},F={};function x(I,T){for(var N in O){var S=O[N];if(S.context===I&&S.name===T)return S.instance}return null}function p(I,T){return T[I]}function y(I,T,N){I in N&&(N[I]=T)}function D(I,T,N){var S,B=I.__dashjs_factory_name,Y=T[B];if(Y){var re=Y.instance;if(!Y.override)return re.apply({context:T,factory:E},N);for(var se in S=I.apply({context:T},N),re=re.apply({context:T,factory:E,parent:S},N))S.hasOwnProperty(se)&&(S[se]=re[se])}else S=I.apply({context:T},N);return S.getClassName=function(){return B},S}return E={extend:function L(I,T,N,S){!S[I]&&T&&(S[I]={instance:T,override:N})},getSingletonInstance:x,setSingletonInstance:function g(I,T,N){for(var S in O){var B=O[S];if(B.context===I&&B.name===T)return void(O[S].instance=N)}O.push({name:T,context:I,instance:N})},deleteSingletonInstances:function h(I){O=O.filter(function(T){return T.context!==I})},getSingletonFactory:function R(I){var T=p(I.__dashjs_factory_name,b);return T||(T=function(S){var B;return void 0===S&&(S={}),{getInstance:function(){return B||(B=x(S,I.__dashjs_factory_name)),B||(B=D(I,S,arguments),O.push({name:I.__dashjs_factory_name,context:S,instance:B})),B}}},b[I.__dashjs_factory_name]=T),T},getSingletonFactoryByName:function k(I){return p(I,b)},updateSingletonFactory:function V(I,T){y(I,T,b)},getClassFactory:function P(I){var T=p(I.__dashjs_factory_name,F);return T||(T=function(S){return void 0===S&&(S={}),{create:function(){return D(I,S,arguments)}}},F[I.__dashjs_factory_name]=T),T},getClassFactoryByName:function U(I){return p(I,F)},updateClassFactory:function A(I,T){y(I,T,F)}}}();C.default=t},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./Utils.js */
"./src/core/Utils.js"),O=c(
/*! ../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),L=c(
/*! ./EventBus */
"./src/core/EventBus.js"),x=c(
/*! ./events/Events */
"./src/core/events/Events.js");function g(P){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(P)}function h(P,V,k){return(V=function p(P){var V=function y(P,V){if("object"!==g(P)||null===P)return P;var k=P[Symbol.toPrimitive];if(void 0!==k){var R=k.call(P,V||"default");if("object"!==g(R))return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===V?String:Number)(P)}(P,"string");return"symbol"===g(V)?V:String(V)}(V))in P?Object.defineProperty(P,V,{value:k,enumerable:!0,configurable:!0,writable:!0}):P[V]=k,P}function A(){var P,V,R=this.context,D=Object(L.default)(R).getInstance(),I={"streaming.delay.liveDelay":x.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":x.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":x.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":x.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":x.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},T={debug:{logLevel:O.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:b.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:b.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:b.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:b.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(P={},h(P,F.HTTPRequest.MPD_TYPE,500),h(P,F.HTTPRequest.XLINK_EXPANSION_TYPE,500),h(P,F.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),h(P,F.HTTPRequest.INIT_SEGMENT_TYPE,1e3),h(P,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),h(P,F.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),h(P,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),h(P,F.HTTPRequest.LICENSE,1e3),h(P,F.HTTPRequest.OTHER_TYPE,1e3),h(P,"lowLatencyReductionFactor",10),P),retryAttempts:(V={},h(V,F.HTTPRequest.MPD_TYPE,3),h(V,F.HTTPRequest.XLINK_EXPANSION_TYPE,1),h(V,F.HTTPRequest.MEDIA_SEGMENT_TYPE,3),h(V,F.HTTPRequest.INIT_SEGMENT_TYPE,3),h(V,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),h(V,F.HTTPRequest.INDEX_SEGMENT_TYPE,3),h(V,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),h(V,F.HTTPRequest.LICENSE,3),h(V,F.HTTPRequest.OTHER_TYPE,3),h(V,"lowLatencyMultiplyFactor",5),V),abr:{movingAverageMethod:b.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:b.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:b.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},N=E.default.clone(T);function S(se,Re,z){for(var oe in se)se.hasOwnProperty(oe)&&(Re.hasOwnProperty(oe)?"object"!==g(se[oe])||se[oe]instanceof Array||null===se[oe]?(Re[oe]=E.default.clone(se[oe]),I[z+oe]&&D.trigger(I[z+oe])):S(se[oe],Re[oe],z.slice()+oe+"."):console.error("Settings parameter "+z+oe+" is not supported"))}return{get:function B(){return N},update:function Y(se){"object"===g(se)&&S(se,N,"")},reset:function re(){N=E.default.clone(T)}}}A.__dashjs_factory_name="Settings";var U=t.default.getSingletonFactory(A);C.default=U},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),E=c.n(t),O=c(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function F(A){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function x(A,U){for(var P=0;P<U.length;P++){var V=U[P];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(A,h(V.key),V)}}function h(A){var U=function p(A,U){if("object"!==F(A)||null===A)return A;var P=A[Symbol.toPrimitive];if(void 0!==P){var V=P.call(A,U||"default");if("object"!==F(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(A)}(A,"string");return"symbol"===F(U)?U:String(U)}var y=function(){function A(){!function L(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")}(this,A)}return function g(A,U,P){return U&&x(A.prototype,U),P&&x(A,P),Object.defineProperty(A,"prototype",{writable:!1}),A}(A,null,[{key:"mixin",value:function(P,V,k){var R,D={};if(P)for(var I in V)V.hasOwnProperty(I)&&(R=V[I],(!(I in P)||P[I]!==R&&(!(I in D)||D[I]!==R))&&(P[I]="object"===F(P[I])&&null!==P[I]?A.mixin(P[I],R,k):k(R)));return P}},{key:"clone",value:function(P){if(!P||"object"!==F(P))return P;var V;if(P instanceof Array){V=[];for(var k=0,R=P.length;k<R;++k)k in P&&V.push(A.clone(P[k]))}else V={};return A.mixin(V,P,A.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(P,V){try{if(!V||0===V.length)return P;var k=new URL(P);return V.forEach(function(R){R.key&&R.value&&k.searchParams.set(R.key,R.value)}),k.href}catch{return P}}},{key:"parseHttpHeaders",value:function(P){var V={};if(!P)return V;for(var k=P.trim().split("\r\n"),R=0,D=k.length;R<D;R++){var I=k[R],T=I.indexOf(": ");T>0&&(V[I.substring(0,T)]=I.substring(T+2))}return V}},{key:"generateUuid",value:function(){var P=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(k){var R=(P+16*Math.random())%16|0;return P=Math.floor(P/16),("x"==k?R:3&R|8).toString(16)})}},{key:"generateHashCode",value:function(P){var V=0;if(0===P.length)return V;for(var k=0;k<P.length;k++)V=(V<<5)-V+P.charCodeAt(k),V|=0;return V}},{key:"getRelativeUrl",value:function(P,V){try{var k=new URL(P),R=new URL(V);if(k.protocol=R.protocol,k.origin!==R.origin)return V;var D=E.a.relative(k.pathname.substr(0,k.pathname.lastIndexOf("/")),R.pathname.substr(0,R.pathname.lastIndexOf("/"))),I=0===D.length?1:0;return D+=R.pathname.substr(R.pathname.lastIndexOf("/")+I,R.pathname.length-1),R.pathname.length<D.length?R.pathname:D}catch{return V}}},{key:"parseUserAgent",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var V=null===P&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(O.UAParser)(V)}catch{return{}}}}]),A}();C.default=y},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(Ze,C,c){"use strict";c.r(C),c.d(C,"getVersionString",function(){return E});var t="4.5.2";function E(){return t}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function O(R,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var D=function L(R,D){if("object"!==E(R)||null===R)return R;var I=R[Symbol.toPrimitive];if(void 0!==I){var T=I.call(R,D||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function g(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&h(R,D)}function h(R,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,D)}function p(R){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(D){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function y(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(R)}c.r(C);var k=new(function(R){g(I,R);var D=p(I);function I(){var T;return function x(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(T=D.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,T.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,T.SEGMENT_BASE_LOADER_ERROR_CODE=15,T.TIME_SYNC_FAILED_ERROR_CODE=16,T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,T.APPEND_ERROR_CODE=20,T.REMOVE_ERROR_CODE=21,T.DATA_UPDATE_FAILED_ERROR_CODE=22,T.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,T.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,T.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,T.DOWNLOAD_ERROR_ID_SIDX_CODE=26,T.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,T.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,T.DOWNLOAD_ERROR_ID_XLINK_CODE=29,T.MANIFEST_ERROR_ID_PARSE_CODE=31,T.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,T.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,T.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,T.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,T.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",T.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",T.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",T.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",T.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",T.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",T.APPEND_ERROR_MESSAGE="chunk is not defined",T.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",T.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",T.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",T.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",T.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",T.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",T}return function b(R,D,I){return D&&O(R.prototype,D),I&&O(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}(I)}(c(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));C.default=k},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function O(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,F(y.key),y)}}function F(g){var h=function L(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function g(){!function E(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}(this,g)}return function b(g,h,p){return h&&O(g.prototype,h),p&&O(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}(g,[{key:"extend",value:function(p,y){if(p){var A=!!y&&y.override,U=!!y&&y.publicOnly;for(var P in p)!p.hasOwnProperty(P)||this[P]&&!A||U&&-1===p[P].indexOf("public_")||(this[P]=p[P])}}}]),g}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function E(k){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(k)}function O(k,R){for(var D=0;D<R.length;D++){var I=R[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,F(I.key),I)}}function F(k){var R=function L(k,R){if("object"!==E(k)||null===k)return k;var D=k[Symbol.toPrimitive];if(void 0!==D){var I=D.call(k,R||"default");if("object"!==E(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(k)}(k,"string");return"symbol"===E(R)?R:String(R)}function g(k,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),R&&h(k,R)}function h(k,R){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(k,R)}function p(k){var R=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=P(k);if(R){var N=P(this).constructor;T=Reflect.construct(I,arguments,N)}else T=I.apply(this,arguments);return function y(k,R){if(R&&("object"===E(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function P(k){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(k)}C.default=function(k){g(D,k);var R=p(D);function D(){var I;return function x(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}(this,D),(I=R.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",I.BUFFERING_COMPLETED="bufferingCompleted",I.BUFFER_CLEARED="bufferCleared",I.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",I.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",I.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",I.CURRENT_TRACK_CHANGED="currentTrackChanged",I.DATA_UPDATE_COMPLETED="dataUpdateCompleted",I.INBAND_EVENTS="inbandEvents",I.INITIAL_STREAM_SWITCH="initialStreamSwitch",I.INIT_FRAGMENT_LOADED="initFragmentLoaded",I.INIT_FRAGMENT_NEEDED="initFragmentNeeded",I.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",I.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",I.LOADING_COMPLETED="loadingCompleted",I.LOADING_PROGRESS="loadingProgress",I.LOADING_DATA_PROGRESS="loadingDataProgress",I.LOADING_ABANDONED="loadingAborted",I.MANIFEST_UPDATED="manifestUpdated",I.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",I.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",I.QUOTA_EXCEEDED="quotaExceeded",I.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",I.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",I.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",I.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",I.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",I.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",I.SOURCE_BUFFER_ERROR="sourceBufferError",I.STREAMS_COMPOSED="streamsComposed",I.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",I.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",I.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",I.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",I.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",I.URL_RESOLUTION_FAILED="urlResolutionFailed",I.VIDEO_CHUNK_RECEIVED="videoChunkReceived",I.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",I.XLINK_ELEMENT_LOADED="xlinkElementLoaded",I.XLINK_READY="xlinkReady",I.SEEK_TARGET="seekTarget",I.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",I.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",I.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",I.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",I.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",I}return function b(k,R,D){return R&&O(k.prototype,R),D&&O(k,D),Object.defineProperty(k,"prototype",{writable:!1}),k}(D)}(t.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function O(R,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var D=function L(R,D){if("object"!==E(R)||null===R)return R;var I=R[Symbol.toPrimitive];if(void 0!==I){var T=I.call(R,D||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function g(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&h(R,D)}function h(R,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,D)}function p(R){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(D){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function y(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(R)}c.r(C);var V=function(R){g(I,R);var D=p(I);function I(){return function x(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),D.apply(this,arguments)}return function b(R,D,I){return D&&O(R.prototype,D),I&&O(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}(I)}(c(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),k=new V;C.default=k},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function O(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,F(y.key),y)}}function F(g){var h=function L(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function g(){!function E(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}(this,g)}return function b(g,h,p){return h&&O(g.prototype,h),p&&O(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}(g,[{key:"extend",value:function(p,y){if(p){var A=!!y&&y.override,U=!!y&&y.publicOnly;for(var P in p)!p.hasOwnProperty(P)||this[P]&&!A||U&&-1===p[P].indexOf("public_")||(this[P]=p[P])}}}]),g}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),E=c(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),O=c(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),b=c(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),F=c(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),L=c(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),x=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),h=c(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),p=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),y=c.n(p);function A(){var U,P,V,k,R,D,I,T=this.context;function se(fe){return P.getRolesForAdaptation(fe).filter(function(pe){return pe.value===t.default.MAIN})[0]}function Re(fe,pe,at){var mt=P.getAdaptationsForType(k[0].mpd.manifest,fe,pe);if(!mt||0===mt.length)return null;if(mt.length>1&&at){var Dt=H(at,pe);if(R[at.id]&&R[at.id][pe])for(var ut=0,bt=mt.length;ut<bt;ut++)if(z(R[at.id][pe],Dt[ut]))return mt[ut];for(var Nt=0,Zt=mt.length;Nt<Zt;Nt++)if(se(mt[Nt]))return mt[Nt]}return mt[0]}function z(fe,pe){if(!fe||!pe)return!1;var at=fe.id===pe.id,mt=fe.codec===pe.codec,Dt=fe.viewpoint===pe.viewpoint,ut=fe.lang===pe.lang,bt=fe.roles.toString()===pe.roles.toString(),Nt=fe.accessibility.toString()===pe.accessibility.toString(),Zt=fe.audioChannelConfiguration.toString()===pe.audioChannelConfiguration.toString();return at&&mt&&Dt&&ut&&bt&&Nt&&Zt}function oe(fe,pe,at,mt,Dt,ut){var Zt,wt,Ht,en,tn,bt=[];if(!mt||0===mt.length)return[];var yn=P.getAdaptationsForPeriod(pe);for(Ht=0,tn=mt.length;Ht<tn;Ht++)if(Zt=Rt(yn[wt=P.getIndexForAdaptation(mt[Ht],fe,at.index)]),ut){var Tn=Zt.accessibility.length;for(en=0;en<Tn;en++)if(Zt){var On=Zt.accessibility[en];if(0===On.indexOf("cea-608:")){var Jn=On.substring(8).split(";");if("CC"===Jn[0].substring(0,2))for(en=0;en<Jn.length;en++)Zt||(Zt=Rt.call(this,yn[wt])),Gt(Zt,Jn[en].substring(0,3),Jn[en].substring(4)),bt.push(Zt),Zt=null;else for(en=0;en<Jn.length;en++)Zt||(Zt=Rt.call(this,yn[wt])),Gt(Zt,"CC"+(en+1),Jn[en]),bt.push(Zt),Zt=null}else 0===On.indexOf("cea-608")&&(Gt(Zt,D.CC1,"eng"),bt.push(Zt),Zt=null)}}else Dt===D.IMAGE?($t(Zt),bt.push(Zt),Zt=null):Zt&&bt.push(Zt);return bt}function H(fe,pe,at){var mt=k,Dt=at,ut=[];if(Dt)gn(),mt=be(Dt);else{if(!(k.length>0))return ut;Dt=k[0].mpd.manifest}var bt=_t(fe,mt),Nt=P.getAdaptationsForType(Dt,fe?fe.index:null,pe);return ut=oe(Dt,bt,fe,Nt,pe),pe===D.TEXT&&(Nt=P.getAdaptationsForType(Dt,fe?fe.index:null,D.VIDEO),ut=ut.concat(oe(Dt,bt,fe,Nt,pe,!0))),ut}function be(fe){var pe=K(fe);return P.getRegularPeriods(pe)}function K(fe){var pe=ct(fe);return P.getMpd(pe)}function $e(){k=[],R={}}function ct(fe){return fe||(k.length>0?k[0].mpd.manifest:null)}function Ot(fe){try{var pe=_t(fe.streamInfo,k),at=P.getAdaptationsForPeriod(pe);return fe&&fe.streamInfo&&void 0!==fe.streamInfo.id&&at?at[fe.index]:null}catch{return null}}function _t(fe,pe){for(var at=pe.length,mt=0;mt<at;mt++){var Dt=pe[mt];if(fe&&fe.id===Dt.id)return Dt}return null}function Rt(fe){if(!fe)return null;var mt,pe=new O.default,at=fe.period.mpd.manifest.Period_asArray[fe.period.index].AdaptationSet_asArray[fe.index];if(pe.id=fe.id,pe.index=fe.index,pe.type=fe.type,pe.streamInfo=Qt(fe.period),pe.representationCount=P.getRepresentationCount(at),pe.labels=P.getLabelsForAdaptation(at),pe.lang=P.getLanguageForAdaptation(at),mt=P.getViewpointForAdaptation(at),pe.viewpoint=mt?mt.value:void 0,pe.accessibility=P.getAccessibilityForAdaptation(at).map(function(bt){var Nt=bt.value,Zt=Nt;return bt.schemeIdUri&&bt.schemeIdUri.search("cea-608")>=0&&typeof I<"u"&&(Zt=Nt?"cea-608:"+Nt:"cea-608",pe.embeddedCaptions=!0),Zt}),pe.audioChannelConfiguration=P.getAudioChannelConfigurationForAdaptation(at).map(function(bt){return bt.value}),0===pe.audioChannelConfiguration.length&&Array.isArray(at.Representation_asArray)&&at.Representation_asArray.length>0&&(pe.audioChannelConfiguration=P.getAudioChannelConfigurationForRepresentation(at.Representation_asArray[0]).map(function(bt){return bt.value})),pe.roles=P.getRolesForAdaptation(at).map(function(bt){return bt.value}),pe.codec=P.getCodec(at),pe.mimeType=P.getMimeType(at),pe.contentProtection=P.getContentProtectionData(at),pe.bitrateList=P.getBitrateListForAdaptation(at),pe.selectionPriority=P.getSelectionPriority(at),pe.contentProtection){var Dt=pe.contentProtection.map(function(bt){return P.getKID(bt)}).filter(function(bt){return null!==bt});if(Dt.length){var ut=Dt[0];pe.contentProtection.forEach(function(bt){bt.keyId=ut})}}return pe.isText=P.getIsText(at),pe.supplementalProperties=P.getSupplementalProperties(at),pe.isFragmented=P.getIsFragmented(at),pe.isEmbedded=!1,pe}function Gt(fe,pe,at){fe.id=pe,fe.index=100+parseInt(pe.substring(2,3)),fe.type=D.TEXT,fe.codec="cea-608-in-SEI",fe.isEmbedded=!0,fe.isFragmented=!1,fe.lang=y()(at),fe.roles=["caption"]}function $t(fe){fe.type=D.IMAGE}function Qt(fe){var pe=new b.default;return pe.id=fe.id,pe.index=fe.index,pe.start=fe.start,pe.duration=fe.duration,pe.manifestInfo=function dn(fe){var pe=new F.default;return pe.dvrWindowSize=fe.timeShiftBufferDepth,pe.loadedTime=fe.manifest.loadedTime,pe.availableFrom=fe.availabilityStartTime,pe.minBufferTime=fe.manifest.minBufferTime,pe.maxFragmentDuration=fe.maxSegmentDuration,pe.duration=P.getDuration(fe.manifest),pe.isDynamic=P.getIsDynamic(fe.manifest),pe.serviceDescriptions=P.getServiceDescriptions(fe.manifest),pe.protocol=fe.manifest.protocol,pe}(fe.mpd),pe.isLast=1===fe.mpd.manifest.Period_asArray.length||Math.abs(pe.start+pe.duration-pe.manifestInfo.duration)<1,pe}function gn(){if(!D)throw new Error("setConfig function has to be called previously")}function jn(fe){return k.length>0?k[0].mpd.manifest.Period_asArray[fe]:null}function dt(fe,pe,at){var Dt,ut,bt,Nt,Zt;if(fe)for(Dt=fe.AdaptationSet_asArray,Nt=0;Nt<Dt.length;Nt+=1)for(bt=Dt[Nt].Representation_asArray,Zt=0;Zt<bt.length;Zt+=1)if(pe===(ut=bt[Zt]).id)return at?Zt:ut;return null}return U={getBandwidthForRepresentation:function ge(fe,pe){var at;return(at=dt(jn(pe),fe))?at.bandwidth:null},getIndexForRepresentation:function ce(fe,pe){return function ot(fe,pe){var at=dt(fe,pe,!0);return null!==at?at:-1}(jn(pe),fe)},getMaxIndexForBufferType:function Ce(fe,pe){return function xe(fe,pe){var at,mt,Dt,ut;if(!fe||!pe)return-1;for(mt=fe.AdaptationSet_asArray,ut=0;ut<mt.length;ut+=1)if(Dt=(at=mt[ut]).Representation_asArray,P.getIsTypeOf(at,pe))return Dt.length;return-1}(jn(pe),fe)},convertRepresentationToRepresentationInfo:function Y(fe){if(fe){var pe=new E.default,mt=P.getRepresentationFor(fe.index,fe.adaptation.period.mpd.manifest.Period_asArray[fe.adaptation.period.index].AdaptationSet_asArray[fe.adaptation.index]);return pe.id=fe.id,pe.quality=fe.index,pe.bandwidth=P.getBandwidth(mt),pe.fragmentDuration=fe.segmentDuration||(fe.segments&&fe.segments.length>0?fe.segments[0].duration:NaN),pe.MSETimeOffset=fe.MSETimeOffset,pe.mediaInfo=Rt(fe.adaptation),pe}return null},getStreamsInfo:function ne(fe,pe){var at=[],mt=k;if(fe&&(gn(),mt=be(fe)),mt.length>0){(!pe||pe>mt.length)&&(pe=mt.length);for(var Dt=0;Dt<pe;Dt++)at.push(Qt(mt[Dt]))}return at},getMediaInfoForType:function re(fe,pe){if(0===k.length||!fe)return null;var at=_t(fe,k);if(!at)return null;var mt=P.getAdaptationsForPeriod(at),Dt=Re(fe.index,pe,fe);return Dt?Rt(mt[P.getIndexForAdaptation(Dt,k[0].mpd.manifest,fe.index)]):null},getAllMediaInfoForType:H,getAdaptationForType:Re,getRealAdaptation:function ue(fe,pe){var at,mt,Dt=_t(fe,k);return at=pe?pe.id:null,k.length>0&&Dt&&(mt=at?P.getAdaptationForId(at,k[0].mpd.manifest,Dt.index):P.getAdaptationForIndex(pe?pe.index:null,k[0].mpd.manifest,Dt.index)),mt},getProducerReferenceTimes:function Se(fe,pe){var at,mt,Dt=_t(fe,k);return at=pe?pe.id:null,k.length>0&&Dt&&(mt=at?P.getAdaptationForId(at,k[0].mpd.manifest,Dt.index):P.getAdaptationForIndex(pe?pe.index:null,k[0].mpd.manifest,Dt.index)),mt?P.getProducerReferenceTimesForAdaptation(mt):[]},getRealPeriodByIndex:function le(fe){return P.getRealPeriodForIndex(fe,k[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Ie(fe){try{return P.getEssentialPropertiesForRepresentation(fe)}catch{return[]}},getVoRepresentations:function Me(fe){var at=Ot(fe);return P.getRepresentationsForAdaptation(at)},getEventsFor:function _e(fe,pe,at){var mt=[];if(k.length>0){var Dt=k[0].mpd.manifest;if(fe instanceof b.default){var ut=_t(fe,k);mt=P.getEventsForPeriod(ut)}else if(fe instanceof O.default){var bt=_t(at,k);mt=P.getEventStreamForAdaptationSet(Dt,Ot(fe),bt)}else if(fe instanceof E.default){var Nt=_t(at,k);mt=P.getEventStreamForRepresentation(Dt,pe,Nt)}}return mt},getEvent:function we(fe,pe,at,mt){try{if(!fe||!pe||isNaN(at)||!mt)return null;var Dt=fe.scheme_id_uri,ut=fe.value;if(!pe[Dt+"/"+ut])return null;var tn,bt=new L.default,Nt=fe.timescale||1,Zt=mt.adaptation.period.start,wt=pe[Dt+"/"+ut],Ht=isNaN(mt.presentationTimeOffset)?isNaN(wt.presentationTimeOffset)?0:wt.presentationTimeOffset:mt.presentationTimeOffset,en=fe.presentation_time_delta/Nt;tn=0===fe.version?Zt+at-Ht+en:Zt-Ht+en;var yn=fe.event_duration/Nt,Tn=fe.id,On=fe.message_data;return bt.eventStream=wt,bt.eventStream.value=ut,bt.eventStream.timescale=Nt,bt.duration=yn,bt.id=Tn,bt.calculatedPresentationTime=tn,bt.messageData=On,bt.presentationTimeDelta=en,bt}catch{return null}},getMpd:K,setConfig:function B(fe){fe&&(fe.constants&&(D=fe.constants),fe.cea608parser&&(I=fe.cea608parser),fe.errHandler&&P.setConfig({errHandler:fe.errHandler}),fe.BASE64&&P.setConfig({BASE64:fe.BASE64}))},updatePeriods:function me(fe){if(!fe)return null;gn(),k=be(fe)},getIsTextTrack:function Pe(fe){return P.getIsText(fe)},getUTCTimingSources:function Oe(){var fe=ct();return P.getUTCTimingSources(fe)},getSuggestedPresentationDelay:function je(){return P.getSuggestedPresentationDelay(k.length>0?k[0].mpd:null)},getAvailabilityStartTime:function ze(fe){var pe=K(fe);return P.getAvailabilityStartTime(pe)},getIsTypeOf:function Be(fe,pe){return P.getIsTypeOf(fe,pe)},getIsDynamic:function He(fe){var pe=ct(fe);return P.getIsDynamic(pe)},getDuration:function Ae(fe){var pe=ct(fe);return P.getDuration(pe)},getRegularPeriods:be,getContentSteering:function ie(fe){return P.getContentSteering(fe)},getLocation:function he(fe){return P.getLocation(fe)},getPatchLocation:function W(fe){var pe=P.getPatchLocation(fe),at=P.getPublishTime(fe);if(!pe||!at)return null;if(pe.hasOwnProperty("ttl")&&at){var mt=1e3*parseFloat(pe.ttl);if(at.getTime()+mt<=(new Date).getTime())return null}return pe.__text},getManifestUpdatePeriod:function $(fe){return P.getManifestUpdatePeriod(fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function Z(fe){return P.getPublishTime(fe)},getIsDVB:function X(fe){return P.hasProfile(fe,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function Q(fe){return V.getIsPatch(fe)},getBaseURLsFromElement:function q(fe){return P.getBaseURLsFromElement(fe)},getRepresentationSortFunction:function J(){return P.getRepresentationSortFunction()},getCodec:function de(fe,pe,at){return P.getCodec(fe,pe,at)},getPeriodById:function Ye(fe){if(!fe||0===k.length)return null;var pe=k.filter(function(at){return at.id===fe});return pe&&pe.length>0?pe[0]:null},setCurrentMediaInfo:function Le(fe,pe,at){R[fe]=R[fe]||{},R[fe][pe]=R[fe][pe]||{},R[fe][pe]=at},isPatchValid:function Qe(fe,pe){var at=P.getId(fe),mt=V.getMpdId(pe),Dt=P.getPublishTime(fe),ut=V.getPublishTime(pe),bt=V.getOriginalPublishTime(pe);return!!(at&&mt&&at==mt&&Dt&&bt&&Dt.getTime()==bt.getTime()&&ut&&Dt.getTime()<ut.getTime())},applyPatchToManifest:function qe(fe,pe){V.getPatchOperations(pe).forEach(function(at){var mt=at.getMpdTarget(fe);if(null!==mt){var Dt=mt.name,ut=mt.target,bt=mt.leaf;if(at.xpath.findsAttribute()){switch(at.action){case"add":case"replace":ut[Dt]=at.value;break;case"remove":delete ut[Dt]}return}var Nt=(ut[Dt+"_asArray"]||[]).indexOf(bt),Zt="prepend"===at.position||"before"===at.position;if(("remove"===at.action||"replace"===at.action)&&(delete ut[Dt],-1!=Nt)){var wt=ut[Dt+"_asArray"];wt.splice(Nt,1),wt.length>1?ut[Dt]=wt:1==wt.length?ut[Dt]=wt[0]:delete ut[Dt+"_asArray"]}("add"===at.action||"replace"===at.action)&&Object.keys(at.value).forEach(function(Ht){var en=at.value[Ht],tn=ut[Ht+"_asArray"]||[];0===tn.length&&ut[Ht]&&tn.push(ut[Ht]),0===tn.length?tn=en:tn.splice.apply(tn,[Ht==Dt&&-1!=Nt?Nt+(Zt?0:1)+("replace"==at.action?-1:0):Zt?0:tn.length,0].concat(en)),ut[Ht+"_asArray"]=tn,ut[Ht]=1==tn.length?tn[0]:tn})}})},areMediaInfosEqual:z,reset:$e},function S(){P=Object(g.default)(T).getInstance(),V=Object(h.default)(T).getInstance(),$e()}(),U}A.__dashjs_factory_name="DashAdapter",C.default=x.default.getSingletonFactory(A)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),E=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),O=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),L=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function h(p){var I,T,N,S,B,y=(p=p||{}).eventBus,A=p.debug,U=p.urlUtils,P=p.type,V=p.streamInfo,k=p.segmentsController,R=p.timelineConverter,D=p.baseURLController;function Re(){return P}function oe(){N=null}function me(Oe,je,ze){var Ae,be,He=D.resolve(ze.path);return He&&je!==He.url&&U.isRelative(je)?(Ae=He.url,be=He.serviceLocation,je&&(Ae=U.resolve(je,Ae))):Ae=je,!U.isRelative(Ae)&&(Oe.url=Ae,Oe.serviceLocation=be,!0)}function Se(Oe,je){if(null==je)return null;var ze=new t.default,He=je.representation,Ae=He.adaptation.period.mpd.manifest.Period_asArray[He.adaptation.period.index].AdaptationSet_asArray[He.adaptation.index].Representation_asArray[He.index].bandwidth,be=je.media;return be=Object(F.replaceTokenForTemplate)(be,"Number",je.replacementNumber),be=Object(F.replaceTokenForTemplate)(be,"Time",je.replacementTime),be=Object(F.replaceTokenForTemplate)(be,"Bandwidth",Ae),be=Object(F.replaceIDForTemplate)(be,He.id),be=Object(F.unescapeDollarsInTemplate)(be),ze.mediaType=Re(),ze.type=E.HTTPRequest.MEDIA_SEGMENT_TYPE,ze.range=je.mediaRange,ze.startTime=je.presentationStartTime,ze.mediaStartTime=je.mediaStartTime,ze.duration=je.duration,ze.timescale=He.timescale,ze.availabilityStartTime=je.availabilityStartTime,ze.availabilityEndTime=je.availabilityEndTime,ze.availabilityTimeComplete=He.availabilityTimeComplete,ze.wallStartTime=je.wallStartTime,ze.quality=He.index,ze.index=je.index,ze.mediaInfo=Oe,ze.adaptationIndex=He.adaptation.index,ze.representationId=He.id,me(ze,be,He)?ze:void 0}function le(Oe,je,ze){var He=null;if(!je||!je.segmentInfoType)return He;var Ae=k.getSegmentByTime(je,ze);return Ae&&(N=Ae,T.debug("Index for time "+ze+" is "+Ae.index),He=Se(Oe,Ae)),He}function Pe(){T.debug("Dynamic stream complete"),B=!0}return I={initialize:function re(Oe){S=Oe,B=!1,k.initialize(Oe)},getStreamId:function se(){return V.id},getType:Re,getStreamInfo:function z(){return V},getInitRequest:function ne(Oe,je){return je?function ue(Oe,je,ze){var He=new t.default,Ae=je.adaptation.period,be=Ae.start;if(He.mediaType=ze,He.type=E.HTTPRequest.INIT_SEGMENT_TYPE,He.range=je.range,He.availabilityStartTime=R.calcAvailabilityStartTimeFromPresentationTime(be,je,S),He.availabilityEndTime=R.calcAvailabilityEndTimeFromPresentationTime(be+Ae.duration,je,S),He.quality=je.index,He.mediaInfo=Oe,He.representationId=je.id,me(He,je.initialization,je))return He.url=Object(F.replaceTokenForTemplate)(He.url,"Bandwidth",je.bandwidth),He}(Oe,je,Re()):null},getSegmentRequestForTime:le,getCurrentIndex:function Le(){return N?N.index:-1},getNextSegmentRequest:function we(Oe,je){var ze=null;if(!je||!je.segmentInfoType)return null;var He=N?N.index+1:0,Ae=k.getSegmentByIndex(je,He,N?N.mediaStartTime:-1);if(Ae)ze=Se(Oe,Ae),N=Ae;else{if(S&&!B)return T.debug(Re()+" No segment found at index: "+He+". Wait for next loop"),null;B=!0}return ze},isLastSegmentRequested:function Ie(Oe,je){if(!Oe||!N)return!1;if(B)return!0;if(!isFinite(Oe.adaptation.period.duration)||N.presentationStartTime+N.duration>je)return!1;if(Oe.mediaFinishedInformation&&!isNaN(Oe.mediaFinishedInformation.numberOfSegments)&&!isNaN(N.index)&&N.index>=Oe.mediaFinishedInformation.numberOfSegments-1){if(!S||Oe.segmentInfoType===L.default.SEGMENT_TEMPLATE)return!0;if(S&&Oe.segmentInfoType===L.default.SEGMENT_LIST&&Oe.adaptation.period.nextPeriodId)return!0}return!!(S&&Oe.adaptation.period.nextPeriodId&&Oe.segmentInfoType===L.default.SEGMENT_TIMELINE&&Oe.mediaFinishedInformation&&!isNaN(Oe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&N&&!isNaN(N.mediaStartTime)&&!isNaN(N.duration)&&N.mediaStartTime+N.duration>=Oe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function H(){oe(),y.off(b.default.DYNAMIC_TO_STATIC,Pe,I)},getNextSegmentRequestIdempotent:function Me(Oe,je){var Ae=k.getSegmentByIndex(je,N?N.index+1:0,N?N.mediaStartTime:-1);return Ae?Se(Oe,Ae):null},getValidTimeAheadOfTargetTime:function _e(Oe,je,ze,He){try{if(isNaN(Oe)||!je||!ze)return NaN;if(Oe<0&&(Oe=0),isNaN(He)&&(He=.5),le(je,ze,Oe))return Oe;if(ze.adaptation.period.start+ze.adaptation.period.duration<Oe)return NaN;for(var Ae=isFinite(ze.adaptation.period.duration)?ze.adaptation.period.start+ze.adaptation.period.duration:Oe+30,be=Math.min(Oe+He,Ae),K=NaN,ie=null;be<=Ae;){var he=null;if(be<=Ae&&(he=le(je,ze,be)),he){K=be,ie=he;break}be+=He}if(ie){var $=ie.startTime+ie.duration;return Oe>ie.startTime&&$-Oe>He?Oe:!isNaN(ie.startTime)&&Oe<ie.startTime&&K>ie.startTime?ie.startTime+.001:Math.min($-He,K)}return K}catch{return NaN}}},function Y(){T=A.getLogger(I),oe(),y.on(b.default.DYNAMIC_TO_STATIC,Pe,I)}(),I}h.__dashjs_factory_name="DashHandler",C.default=O.default.getClassFactory(h)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),O=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),F=c(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),L=c(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),x=c(
/*! ../core/Utils */
"./src/core/Utils.js"),g=c(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function h(p){var A,U,P,V,y=this.context,k=(p=p||{}).metricsModel;function se(he){var $=k.getMetricsFor(he,!0);if(!$)return null;var X,Z=$.HttpList,W=null;if(!Z||Z.length<=0)return null;for(X=Z.length-1;X>=0;){if(Z[X].responsecode){W=Z[X];break}X--}return W}function Re(he){var $=k.getMetricsFor(he,!0);return $&&$.HttpList?$.HttpList:[]}function oe(he,$){if(!he)return null;var Z=he[$];return Z&&0!==Z.length?Z[Z.length-1]:null}return A={getCurrentRepresentationSwitch:function I(he){return oe(k.getMetricsFor(he,!0),b.default.TRACK_SWITCH)},getCurrentBufferState:function N(he){return oe(k.getMetricsFor(he,!0),b.default.BUFFER_STATE)},getCurrentBufferLevel:function S(he){var Z=oe(k.getMetricsFor(he,!0),b.default.BUFFER_LEVEL);return Z?F.default.round10(Z.level/1e3,-3):0},getCurrentHttpRequest:se,getHttpRequests:Re,getCurrentDroppedFrames:function H(){return oe(k.getMetricsFor(t.default.VIDEO,!0),b.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function ne(he){return oe(k.getMetricsFor(he,!0),b.default.SCHEDULING_INFO)},getCurrentDVRInfo:function Le(he){return oe(he?k.getMetricsFor(he,!0):k.getMetricsFor(t.default.VIDEO,!0)||k.getMetricsFor(t.default.AUDIO,!0),b.default.DVR_INFO)},getCurrentManifestUpdate:function Se(){return oe(k.getMetricsFor(t.default.STREAM),b.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function je(he,$){if(!$)return null;var Z={},W=se(he);W&&(Z=x.default.parseHttpHeaders(W._responseHeaders));var X=Z[$.toLowerCase()];return void 0===X?null:X},getLatestMPDRequestHeaderValueByID:function Oe(he){if(!he)return null;var Z,W,X,$={};for(X=(Z=Re(t.default.STREAM)).length-1;X>=0;X--)if((W=Z[X]).type===E.HTTPRequest.MPD_TYPE){$=x.default.parseHttpHeaders(W._responseHeaders);break}var Q=$[he.toLowerCase()];return void 0===Q?null:Q},addRepresentationSwitch:function T(he,$,Z,W,X){k.addRepresentationSwitch(he,$,Z,W,X)},addDVRInfo:function Pe(he,$,Z,W){k.addDVRInfo(he,$,Z,W)},updateManifestUpdateInfo:function Ie(he){var $=this.getCurrentManifestUpdate();k.updateManifestUpdateInfo($,he)},addManifestUpdateStreamInfo:function le(he){if(he){var $=this.getCurrentManifestUpdate();k.addManifestUpdateStreamInfo($,he.id,he.index,he.start,he.duration)}},addManifestUpdateRepresentationInfo:function _e(he,$){if(he){var Z=this.getCurrentManifestUpdate();k.addManifestUpdateRepresentationInfo(Z,he.id,he.index,he.streamIndex,$,he.presentationTimeOffset,he.startNumber,he.fragmentInfoType)}},addManifestUpdate:function Me(he){k.addManifestUpdate(t.default.STREAM,he.type,he.requestStartDate,he.requestEndDate)},addHttpRequest:function we(he,$,Z,W,X){k.addHttpRequest(he.mediaType,null,he.type,he.url,he.quality,$,he.serviceLocation||null,he.range||null,he.requestStartDate,he.firstByteDate,he.requestEndDate,Z,he.duration,W,X,he.fileLoaderType)},addSchedulingInfo:function ue(he,$){k.addSchedulingInfo(he.mediaType,new Date,he.type,he.startTime,he.availabilityStartTime,he.duration,he.quality,he.range,$)},addRequestsQueue:function z(he,$,Z){k.addRequestsQueue(he,$,Z)},addBufferLevel:function B(he,$,Z){k.addBufferLevel(he,$,Z)},addBufferState:function Y(he,$,Z){k.addBufferState(he,$,Z)},addDroppedFrames:function me(he){k.addDroppedFrames(t.default.VIDEO,he)},addPlayList:function ze(){V&&(k.addPlayList(V),V=null)},addDVBErrors:function ie(he){k.addDVBErrors(he)},createPlaylistMetrics:function He(he,$){(V=new g.PlayList).start=new Date,V.mstart=he,V.starttype=$},createPlaylistTraceMetrics:function Ae(he,$,Z){!0===U&&(U=!1,(P=new g.PlayListTrace).representationid=he,P.start=new Date,P.mstart=$,P.playbackspeed=null!==Z?Z.toString():null)},updatePlayListTraceMetrics:function be(he){if(P)for(var $ in P)P[$]=he[$]},pushPlayListTraceMetrics:function K(he,$){if(!1===U&&V&&P&&P.start){var Z=P.start,W=he.getTime()-Z.getTime();P.duration=W,P.stopreason=$,V.trace.push(P),U=!0}},clearAllCurrentMetrics:function re(){k.clearAllCurrentMetrics()}},function R(){k=k||Object(L.default)(y).getInstance({settings:p.settings}),function D(){U=!0,P=null,V=null}()}(),A}h.__dashjs_factory_name="DashMetrics",C.default=O.default.getSingletonFactory(h)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),E=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),O=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),F=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function L(){var g,h,p,y,A,U,P,V,k,R,D,I,T,x=this.context;function re(ne,ue,Se,Ie){var le=null,Me=ne?T.resolve(ne.path):null,we=Ie||{init:!0,url:Me?Me.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ue};h.debug("Start searching for initialization.");var _e=me(we);V.load({request:_e,success:function(je){if(we.bytesLoaded=we.range.end,!(le=y.findInitRange(je)))return we.range.end=we.bytesLoaded+we.bytesToLoad,re(ne,ue,Se,we);ne.range=le,Se(ne)},error:function(){Se(ne)}}),h.debug("Perform init search: "+we.url)}function Re(ne,ue,Se,Ie,le,Me){if(Se&&(void 0===Se.start||void 0===Se.end)){var we=Se?Se.toString().split("-"):null;Se=we?{start:parseFloat(we[0]),end:parseFloat(we[1])}:null}le=le||z;var _e=null,Le=null,Pe=!!Se,Oe=ne?T.resolve(ne.path):null,je={init:!1,url:Oe?Oe.url:void 0,range:Pe?Se:{start:0,end:1500},searching:!Pe,bytesLoaded:Me?Me.bytesLoaded:0,bytesToLoad:1500,mediaType:ue},ze=me(je);V.load({request:ze,success:function(K){var ie=je.bytesToLoad,he=K.byteLength;if(je.bytesLoaded=je.range.end-je.range.start,_e=y.parse(K),(Le=_e.getBox("sidx"))&&Le.isComplete){var W,X,Z=Le.references;if(null!=Z&&Z.length>0&&(W=1===Z[0].reference_type),W){h.debug("Initiate multiple SIDX load."),je.range.end=je.range.start+Le.size;var Q,q,J,de,ce=[],Ce=0,Ye=(Le.offset||je.range.start)+Le.size,Be=function(Qe){Qe?(ce=ce.concat(Qe),++Ce>=q&&(ce.sort(function(qe,ct){return qe.startTime-ct.startTime<0?-1:0}),le(ce,ne,Ie))):le(null,ne,Ie)};for(Q=0,q=Z.length;Q<q;Q++)J=Ye,de=Ye+Z[Q].referenced_size-1,Ye+=Z[Q].referenced_size,Re(ne,ue,{start:J,end:de},Ie,Be,je)}else h.debug("Parsing segments from SIDX. representation "+ue+" - id: "+ne.id+" for range : "+je.range.start+" - "+je.range.end),X=function H(ne,ue){for(var Le,Oe,je,Se=ne.references,Ie=Se.length,le=ne.timescale,Me=ne.earliest_presentation_time,we=ue.range.start+ne.offset+ne.first_offset+ne.size,_e=[],ze=0;ze<Ie;ze++)Oe=Se[ze].subsegment_duration,je=Se[ze].referenced_size,(Le=new t.default).duration=Oe,Le.startTime=Me,Le.timescale=le,Le.mediaRange=we+"-"+(we+je-1),_e.push(Le),Me+=Oe,we+=je;return _e}(Le,je),le(X,ne,Ie)}else{if(Le)je.range.start=Le.offset||je.range.start,je.range.end=je.range.start+(Le.size||ie);else{if(he<je.bytesLoaded)return void le(null,ne,Ie);var $=_e.getLastBox();$&&$.size?(je.range.start=$.offset+$.size,je.range.end=je.range.start+ie):je.range.end+=ie}Re(ne,ue,je.range,Ie,null,je)}},error:function(){le(null,ne,Ie)}}),h.debug("Perform SIDX load for type ".concat(ue," : ").concat(je.url," with range ").concat(je.range.start," - ").concat(je.range.end))}function z(ne,ue,Se){Se({segments:ne,representation:ue,error:ne?void 0:new E.default(k.SEGMENT_BASE_LOADER_ERROR_CODE,k.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function me(ne){if(ne.url){var ue=new b.default;return ue.setInfo(ne),ue}}return g={setConfig:function B(ne){ne.baseURLController&&(T=ne.baseURLController),ne.dashMetrics&&(U=ne.dashMetrics),ne.mediaPlayerModel&&(P=ne.mediaPlayerModel),ne.errHandler&&(p=ne.errHandler),ne.boxParser&&(y=ne.boxParser),ne.debug&&(h=ne.debug.getLogger(g)),ne.requestModifier&&(A=ne.requestModifier),ne.errors&&(k=ne.errors),ne.urlUtils&&(I=ne.urlUtils),ne.constants&&(R=ne.constants),ne.dashConstants&&(D=ne.dashConstants)},initialize:function S(){V=Object(F.default)(x).create({errHandler:p,dashMetrics:U,mediaPlayerModel:P,requestModifier:A,boxParser:y,errors:k,urlUtils:I,constants:R,dashConstants:D})},loadInitialization:function Y(ne,ue){return new Promise(function(Se){re(ne,ue,Se)})},loadSegments:function se(ne,ue,Se){return new Promise(function(Ie){Re(ne,ue,Se,Ie)})},reset:function oe(){V&&(V.abort(),V=null)}}}L.__dashjs_factory_name="SegmentBaseLoader",C.default=O.default.getSingletonFactory(L)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),E=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),F=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),L=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),x=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function g(){var p,y,A,U,P,V,k,R,D,I,h=this.context;function Y(H,me,ne,ue){var Ie,le,Me,we,_e;for(le=[],we=0,_e=(Ie=function B(H){var ue,Se,me=[],ne=Object(t.default)(h).create({data:H});for(ne.consumeTagAndSize(A.Segment.Cues);ne.moreData()&&ne.consumeTagAndSize(A.Segment.Cues.CuePoint,!0);){for((ue={}).CueTime=ne.parseTag(A.Segment.Cues.CuePoint.CueTime),ue.CueTracks=[];ne.moreData()&&ne.consumeTag(A.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ie=ne.getMatroskaCodedNum(),le=ne.getPos();if((Se={}).Track=ne.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===Se.Track)throw new Error("Cue track cannot be 0");Se.ClusterPosition=ne.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ue.CueTracks.push(Se),ne.setPos(le+Ie)}if(0===ue.CueTracks.length)throw new Error("Mandatory cuetrack not found");me.push(ue)}if(0===me.length)throw new Error("mandatory cuepoint not found");return me}(H)).length;we<_e;we+=1)(Me=new b.default).duration=we<Ie.length-1?Ie[we+1].CueTime-Ie[we].CueTime:ue-Ie[we].CueTime,Me.startTime=Ie[we].CueTime,Me.timescale=1e3,Me.mediaRange=Ie[we].CueTracks[0].ClusterPosition+me+"-"+(we<Ie.length-1?Ie[we+1].CueTracks[0].ClusterPosition+me-1:ne-1),le.push(Me);return y.debug("Parsed cues: "+le.length+" cues."),le}function z(H){var me=new F.default;return me.setInfo(H),me}return p={setConfig:function S(H){if(!(H.baseURLController&&H.dashMetrics&&H.mediaPlayerModel&&H.errHandler))throw new Error(E.default.MISSING_CONFIG_ERROR);I=H.baseURLController,V=H.dashMetrics,k=H.mediaPlayerModel,U=H.errHandler,D=H.errors,y=H.debug.getLogger(p),P=H.requestModifier},initialize:function N(){R=Object(L.default)(h).create({errHandler:U,dashMetrics:V,mediaPlayerModel:k,requestModifier:P,errors:D})},loadInitialization:function se(H,me){return new Promise(function(ne){var ue=null,Se=H?I.resolve(H.path):null,Ie=H?H.range.split("-"):null,le={range:{start:Ie?parseFloat(Ie[0]):null,end:Ie?parseFloat(Ie[1]):null},request:ue,url:Se?Se.url:void 0,init:!0,mediaType:me};y.info("Start loading initialization."),ue=z(le),R.load({request:ue,success:function(){ne(H)},error:function(){ne(H)}}),y.debug("Perform init load: "+le.url)})},loadSegments:function Re(H,me,ne){return new Promise(function(ue){var Se=null,Ie=H?I.resolve(H.path):null,le=Ie?Ie.url:void 0;Se=z({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Se,url:le,init:!1,mediaType:me}),y.debug("Parsing ebml header"),R.load({request:Se,success:function(Oe){!function re(H,me,ne,ue){if(H&&0!==H.byteLength){var Ie,le,Me,we,Se=Object(t.default)(h).create({data:H}),_e=ne?ne.split("-"):null,Le=null,Pe={url:me,range:{start:_e?parseFloat(_e[0]):null,end:_e?parseFloat(_e[1]):null},request:Le};for(y.debug("Parse EBML header: "+Pe.url),Se.skipOverElement(A.EBML),Se.consumeTag(A.Segment),Me=Se.getMatroskaCodedNum(),Me+=Se.getPos(),we=Se.getPos();Se.moreData()&&!Se.consumeTagAndSize(A.Segment.Info,!0);)if(!(Se.skipOverElement(A.Segment.SeekHead,!0)||Se.skipOverElement(A.Segment.Tracks,!0)||Se.skipOverElement(A.Segment.Cues,!0)||Se.skipOverElement(A.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Ie;){var Oe=Se.getMatroskaCodedNum(!0),je=Se.getMatroskaCodedNum();Oe===A.Segment.Info.Duration.tag?Ie=Se[A.Segment.Info.Duration.parse](je):Se.setPos(Se.getPos()+je)}Le=z(Pe),R.load({request:Le,success:function(be){le=Y(be,we,Me,Ie),ue(le)},error:function(){y.error("Download Error: Cues "+Pe.url),ue(null)}}),y.debug("Perform cues load: "+Pe.url+" bytes="+Pe.range.start+"-"+Pe.range.end)}else ue(null)}(Oe,le,ne,function(je){ue({segments:je,representation:H,error:je?void 0:new x.default(D.SEGMENT_BASE_LOADER_ERROR_CODE,D.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ue({representation:H,error:new x.default(D.SEGMENT_BASE_LOADER_ERROR_CODE,D.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function oe(){R&&(R.abort(),R=null)}},function T(){A={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),p}g.__dashjs_factory_name="WebmSegmentBaseLoader",C.default=O.default.getSingletonFactory(g)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function O(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);var g=new(function(){function h(){(function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,p,y){return p&&O(h.prototype,p),y&&O(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),h}());C.default=g},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),b=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),L=c(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),x=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),g=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),A=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),U_THROUGHPUT="_DASH_throughput",U_PATHWAY="_DASH_pathway",U_URL="url";function P(){var R,D,I,T,N,S,B,Y,re,se,Re,z,oe,H,me,V=this.context,k=Object(A.default)(V).getInstance();function Ie(K){K&&K.toStreamInfo&&(T=K.toStreamInfo)}function le(K){K&&K.request&&K.request.serviceLocation&&(N=K.request.serviceLocation)}function Me(){var K=Re.getValue();return me.getContentSteering(K)}function _e(){return new Promise(function(K){try{var ie=Me();if(!ie||!ie.serverUrl)return void K();var he=function Le(K){var ie=K.proxyServerUrl?K.proxyServerUrl:K.serverUrl;I&&I.reloadUri&&(ie=k.isRelative(I.reloadUri)?k.resolve(I.reloadUri,K.serverUrl):I.reloadUri);var he=[];if(T){var $=me.getIsDynamic(),Z=me.getAllMediaInfoForType(T,p.default.VIDEO).length>0?p.default.VIDEO:p.default.AUDIO,W=oe.getThroughputHistory(),X=W?W.getAverageThroughput(Z,$):NaN;isNaN(X)||he.push({key:U_THROUGHPUT,value:1e3*X})}return N&&he.push({key:U_PATHWAY,value:N}),K.proxyServerUrl&&K.proxyServerUrl===ie&&K.serverUrl&&he.push({key:U_URL,value:encodeURI(K.serverUrl)}),y.default.addAditionalQueryParameterToUrl(ie,he)}(ie),$=new F.default(he);B.load({request:$,success:function(W){(function Pe(K){!K||!K[x.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(K[x.default.CONTENT_STEERING_RESPONSE.VERSION])||((I=new L.default).version=K[x.default.CONTENT_STEERING_RESPONSE.VERSION],K[x.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(K[x.default.CONTENT_STEERING_RESPONSE.TTL])&&(I.ttl=K[x.default.CONTENT_STEERING_RESPONSE.TTL]),K[x.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(I.reloadUri=K[x.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),K[x.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(I.serviceLocationPriority=K[x.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),Oe())})(W),H.trigger(g.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:I,url:he}),K()},error:function(W){(function ze(K){D.warn("Error fetching data from content steering server",K),Oe()})(W),K(W)}})}catch(Z){K(Z)}})}function Oe(){I&&I.ttl&&!isNaN(I.ttl)&&(S&&clearTimeout(S),S=setTimeout(function(){_e()},1e3*I.ttl))}function je(){S&&clearTimeout(S),S=null}function be(){I=null,T=null,N=null,je()}return R={reset:function Ae(){be(),H.off(g.default.PERIOD_SWITCH_COMPLETED,Ie,R),H.off(h.default.FRAGMENT_LOADING_STARTED,le,R)},setConfig:function ue(K){K&&(K.adapter&&(me=K.adapter),K.errHandler&&(Y=K.errHandler),K.dashMetrics&&(re=K.dashMetrics),K.mediaPlayerModel&&(se=K.mediaPlayerModel),K.requestModifier&&(z=K.requestModifier),K.manifestModel&&(Re=K.manifestModel),K.abrController&&(oe=K.abrController),K.eventBus&&(H=K.eventBus))},loadSteeringData:_e,getCurrentSteeringResponseData:function He(){return I},shouldQueryBeforeStart:function we(){var K=Me();return K&&K.queryBeforeStart},getSteeringDataFromManifest:Me,stopSteeringRequestTimer:je,initialize:function Se(){B=Object(O.default)(V).create({errHandler:Y,dashMetrics:re,mediaPlayerModel:se,requestModifier:z,errors:b.default}),H.on(g.default.PERIOD_SWITCH_COMPLETED,Ie,R),H.on(h.default.FRAGMENT_LOADING_STARTED,le,R)}},function ne(){D=Object(E.default)(V).getInstance().getLogger(R),be()}(),R}P.__dashjs_factory_name="ContentSteeringController",C.default=t.default.getSingletonFactory(P)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),b=c(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function F(L){var D,I,T,N,S,x=(L=L||{}).eventBus,g=L.events,h=L.abrController,p=L.dashMetrics,y=L.playbackController,A=L.timelineConverter,U=L.type,P=L.streamInfo,V=L.dashConstants,k=L.segmentsController,R=L.isDynamic;function re(){return U}function se(){if(!(h&&p&&y&&A))throw new Error(t.default.MISSING_CONFIG_ERROR)}function z(){return T}function oe(){return S}function H(){I=null,T=!0,N=[]}function ue(Ae){return new Promise(function(be,K){var ie=Ae.hasInitialization(),he=Ae.hasSegments(),$=[];$.push(k.updateInitData(Ae,ie)),$.push(k.updateSegmentData(Ae,he)),Promise.all($).then(function(Z){Z[0]&&!Z[0].error&&(Ae=function Ie(Ae,be){return be&&!be.error&&be.representation?be.representation:Ae}(Ae,Z[0])),Z[1]&&!Z[1].error&&(Ae=function le(Ae,be){if(be&&!be.error){var $,Z,W,X,K=be.segments,ie=[],he=0;for($=0,Z=K?K.length:0;$<Z;$++)W=K[$],(X=Object(b.getTimeBasedSegment)(A,R,Ae,W.startTime,W.duration,W.timescale,W.media,W.mediaRange,he))&&(ie.push(X),X=null,he++);return ie.length>0&&(Ae.segments=ie),Ae}}(Ae,Z[1])),function Se(Ae){Ae.mediaFinishedInformation=k.getMediaFinishedInformation(Ae)}(Ae),function Oe(Ae){if(z()){var ie,be=p.getCurrentManifestUpdate(),K=!1;if(be){for(var $=0;$<be.representationInfo.length;$++)if((ie=be.representationInfo[$]).index===Ae.index&&ie.mediaType===re()){K=!0;break}K||p.addManifestUpdateRepresentationInfo(Ae,re())}if(function Le(){for(var Ae=0,be=N.length;Ae<be;Ae++){var K=N[Ae].segmentInfoType;if(!N[Ae].hasInitialization()||(K===V.SEGMENT_BASE||K===V.BASE_URL)&&!N[Ae].segments)return!1}return!0}()){h.setPlaybackQuality(U,P,function _e(Ae){return N.indexOf(Ae)}(S));var Z=p.getCurrentDVRInfo(U);Z&&p.updateManifestUpdateInfo({latency:Z.range.end-y.getTime()}),p.getCurrentRepresentationSwitch(oe().adaptation.type)||Me(),Pe()}}}(Ae),be()}).catch(function(Z){K(Z)})})}function Me(){se();var Ae=new Date,be=oe(),K=1e3*y.getTime();be&&p.addRepresentationSwitch(be.adaptation.type,Ae,K,be.id),x.trigger(O.default.REPRESENTATION_SWITCH,{mediaType:U,streamId:P.id,currentRepresentation:be,numberOfRepresentations:N.length},{streamId:P.id,mediaType:U})}function we(Ae){return null==Ae||Ae>=N.length?null:N[Ae]}function Pe(Ae){T=!1,x.trigger(g.DATA_UPDATE_COMPLETED,{data:I,currentRepresentation:S,error:Ae},{streamId:P.id,mediaType:U})}function ze(Ae){S=Ae}function He(Ae){if(Ae.newDuration){var be=oe();be&&be.adaptation.period&&(be.adaptation.period.duration=Ae.newDuration)}}return D={getStreamId:function Y(){return P.id},getType:re,getData:function Re(){return I},isUpdating:z,updateData:function ne(Ae,be,K,ie,he){if(se(),T=!0,N=be,ze(we(he)),I=Ae,K!==t.default.VIDEO&&K!==t.default.AUDIO&&(K!==t.default.TEXT||!ie))return Pe(),Promise.resolve();for(var Z=[],W=0,X=N.length;W<X;W++)Z.push(ue(N[W]));return Promise.all(Z)},getCurrentRepresentation:oe,getRepresentationForQuality:we,prepareQualityChange:function je(Ae){ze(we(Ae)),Me()},reset:function me(){x.off(O.default.MANIFEST_VALIDITY_CHANGED,He,D),H()}},function B(){H(),x.on(O.default.MANIFEST_VALIDITY_CHANGED,He,D)}(),D}F.__dashjs_factory_name="RepresentationController",C.default=E.default.getClassFactory(F)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),O=c(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function b(L){var D,I,T,x=this.context,g=(L=L||{}).eventBus,h=L.events,p=L.dashMetrics,y=L.mediaPlayerModel,A=L.errHandler,U=L.baseURLController,P=L.debug,V=L.boxParser,k=L.requestModifier,R=L.errors;function S(Re){return"webm"===(Re?Re.split("/")[1]:"").toLowerCase()}return D={initialize:function B(){I.initialize(),T.initialize()},getSegmentBaseInitSegment:function Y(Re){return S(Re.representation.mimeType)?T.loadInitialization(Re.representation,Re.mediaType):I.loadInitialization(Re.representation,Re.mediaType)},getSegmentList:function re(Re){return S(Re.mimeType)?T.loadSegments(Re.representation,Re.mediaType,Re.representation?Re.representation.indexRange:null):I.loadSegments(Re.representation,Re.mediaType,Re.representation?Re.representation.indexRange:null)},reset:function se(){I.reset(),T.reset()}},function N(){I=Object(E.default)(x).getInstance(),T=Object(O.default)(x).getInstance(),I.setConfig({baseURLController:U,dashMetrics:p,mediaPlayerModel:y,errHandler:A,eventBus:g,events:h,errors:R,debug:P,boxParser:V,requestModifier:k}),T.setConfig({baseURLController:U,dashMetrics:p,mediaPlayerModel:y,errHandler:A,eventBus:g,events:h,errors:R,debug:P,requestModifier:k})}(),D}b.__dashjs_factory_name="SegmentBaseController";var F=t.default.getSingletonFactory(b);C.default=F},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),O=c(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),b=c(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),F=c(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function L(g){var U,P,h=this.context,p=(g=g||{}).dashConstants,y=g.type,A=g.segmentBaseController;function I(B){return B?B.segments?P[p.SEGMENT_BASE]:P[B.segmentInfoType]:null}return U={initialize:function k(B){P[p.SEGMENT_TIMELINE]=Object(E.default)(h).create(g,B),P[p.SEGMENT_TEMPLATE]=Object(O.default)(h).create(g,B),P[p.SEGMENT_LIST]=Object(b.default)(h).create(g,B),P[p.SEGMENT_BASE]=Object(F.default)(h).create(g,B)},updateInitData:function R(B,Y){return Y?Promise.resolve():A.getSegmentBaseInitSegment({representation:B,mediaType:y})},updateSegmentData:function D(B,Y){return Y?Promise.resolve():A.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:y})},getSegmentByIndex:function T(B,Y,re){var se=I(B);return se?se.getSegmentByIndex(B,Y,re):null},getSegmentByTime:function N(B,Y){var re=I(B);return re?re.getSegmentByTime(B,Y):null},getMediaFinishedInformation:function S(B){var Y=I(B);return Y?Y.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function V(){P={}}(),U}L.__dashjs_factory_name="SegmentsController";var x=t.default.getClassFactory(L);C.default=x},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=[O.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],L_VIDEO="video",L_AUDIO="audio",L_ANY="any",L_ALL="all";function x(){var h,p,y,A,U,g=this.context;function R(){p={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},y=[]}function se(H,me,ne){try{p[H][me]=ne/1e3}catch(ue){A.error(ue)}}return h={getServiceDescriptionSettings:function D(){return p},getProducerReferenceTimeOffsets:function Re(){return y},calculateProducerReferenceTimeOffsets:function z(H){try{var me=[];if(H&&H.length>0){var ne=[O.default.VIDEO,O.default.AUDIO,O.default.TEXT],ue=U.getAvailabilityStartTime()/1e3;H.forEach(function(Se){var Ie=ne.reduce(function(le,Me){return le.concat(U.getAllMediaInfoForType(Se,Me))},[]).reduce(function(le,Me){return U.getProducerReferenceTimes(Se,Me).forEach(function(_e){var Le=U.getVoRepresentations(Me);if(Le&&Le.length>0&&Le[0].adaptation&&Le[0].segmentInfoType===b.default.SEGMENT_TEMPLATE){var Pe=Le[0],je=new Date(_e[b.default.WALL_CLOCK_TIME]).getTime()/1e3;le.push({id:_e[b.default.ID],to:ue-(je-(_e[b.default.PRESENTATION_TIME]/Pe[b.default.TIMESCALE]-Pe[b.default.PRESENTATION_TIME_OFFSET]+Se.start))})}}),le},[]);me=me.concat(Ie)})}y=me}catch(Se){A.error(Se),y=[]}},applyServiceDescription:function I(H){if(H&&H.serviceDescriptions){var me=H.serviceDescriptions.filter(function(Se){return F.includes(Se.schemeIdUri)}),ne=H.serviceDescriptions.filter(function(Se){return null==Se.schemeIdUri}),ue=me.length>0?me[me.length-1]:ne[ne.length-1];ue&&(ue.latency&&ue.latency.target>0&&function T(H){var me;if(me=H.schemeIdUri===O.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function S(H){return{liveDelay:H.latency.target/1e3,maxDrift:!isNaN(H.latency.max)&&H.latency.max>H.latency.target?(H.latency.max-H.latency.target+500)/1e3:NaN,referenceId:H.latency.referenceId||NaN}}(H):function N(H){return{liveDelay:H.latency.target/1e3,maxDrift:!isNaN(H.latency.max)&&H.latency.max>H.latency.target?(H.latency.max-H.latency.target+500)/1e3:NaN,referenceId:H.latency.referenceId||NaN}}(H),y.length>0){var ne=function oe(H){var ne,me=0,ue=y.filter(function(Se){return Se.id===H.referenceId});return 0===ue.length?(me=y.length>0?y[0].to:0,ne=y[0].id||NaN):(me=ue[0].to||0,ne=ue[0].id||NaN),{to:me,id:ne}}(me),ue=ne.to,Se=ne.id;p.liveDelay=me.liveDelay-ue,p.liveCatchup.maxDrift=me.maxDrift,A.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ue," from ProducerReferenceTime element with id ").concat(Se,".\n                Live Delay: ").concat(me.liveDelay-ue,", Live catchup max drift: ").concat(me.maxDrift,"\n            "))}else p.liveDelay=me.liveDelay,p.liveCatchup.maxDrift=me.maxDrift,A.debug("Found latency properties coming from service description: Live Delay: ".concat(me.liveDelay,", Live catchup max drift: ").concat(me.maxDrift))}(ue),ue.playbackRate&&function B(H){var me=H.playbackRate.min?Math.round(1e3*(H.playbackRate.min-1))/1e3:NaN,ne=H.playbackRate.max?Math.round(1e3*(H.playbackRate.max-1))/1e3:NaN;p.liveCatchup.playbackRate.min=me,p.liveCatchup.playbackRate.max=ne,A.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(me)),A.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(ne))}(ue),ue.operatingBandwidth&&function re(H){if(H&&H.operatingBandwidth&&H.operatingBandwidth.mediaType&&H.operatingBandwidth.mediaType!==L_ALL){var me={};me.minBandwidth=H.operatingBandwidth.min,me.maxBandwidth=H.operatingBandwidth.max,me.targetBandwidth=H.operatingBandwidth.target;var ne=[];H.operatingBandwidth.mediaType===L_VIDEO||H.operatingBandwidth.mediaType===L_AUDIO?ne.push(H.operatingBandwidth.mediaType):H.operatingBandwidth.mediaType===L_ANY&&(ne.push(L_AUDIO),ne.push(L_VIDEO)),ne.forEach(function(ue){isNaN(me.minBandwidth)||se("minBitrate",ue,me.minBandwidth),isNaN(me.maxBandwidth)||se("maxBitrate",ue,me.maxBandwidth),isNaN(me.targetBandwidth)||se("initialBitrate",ue,me.targetBandwidth)})}}(ue))}},reset:function k(){R()},setConfig:function V(H){H&&H.adapter&&(U=H.adapter)}},function P(){A=Object(E.default)(g).getInstance().getLogger(h),R()}(),h}x.__dashjs_factory_name="ServiceDescriptionController",C.default=t.default.getSingletonFactory(x)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),b=c(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),F=c(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),L=c(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),x=c(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),g=c(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),h=c(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),p=c(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),y=c(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),A=c(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),U=c(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),P=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),V=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),k=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),I=c(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function T(z,oe){var H=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!H){if(Array.isArray(z)||(H=B(z))||oe&&z&&"number"==typeof z.length){H&&(z=H);var me=0,ne=function(){};return{s:ne,n:function(){return me>=z.length?{done:!0}:{done:!1,value:z[me++]}},e:function(Me){throw Me},f:ne}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ie,ue=!0,Se=!1;return{s:function(){H=H.call(z)},n:function(){var Me=H.next();return ue=Me.done,Me},e:function(Me){Se=!0,Ie=Me},f:function(){try{!ue&&null!=H.return&&H.return()}finally{if(Se)throw Ie}}}}function N(z){return function re(z){if(Array.isArray(z))return se(z)}(z)||function Y(z){if(typeof Symbol<"u"&&null!=z[Symbol.iterator]||null!=z["@@iterator"])return Array.from(z)}(z)||B(z)||function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(z,oe){if(z){if("string"==typeof z)return se(z,oe);var H=Object.prototype.toString.call(z).slice(8,-1);if("Object"===H&&z.constructor&&(H=z.constructor.name),"Map"===H||"Set"===H)return Array.from(z);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return se(z,oe)}}function se(z,oe){(null==oe||oe>z.length)&&(oe=z.length);for(var H=0,me=new Array(oe);H<oe;H++)me[H]=z[H];return me}function Re(){var z,oe,H,me,ne=this.context,ue=Object(P.default)(ne).getInstance(),Se=Number.isInteger||function(St){return"number"==typeof St&&isFinite(St)&&Math.floor(St)===St};function le(St,st){if(!St)throw new Error("adaptation is not defined");if(!st)throw new Error("type is not defined");if(St.Representation_asArray&&St.Representation_asArray.length){var Xt=dn(St.Representation_asArray[0]);if(Xt&&Xt.length>0&&I.THUMBNAILS_SCHEME_ID_URIS.indexOf(Xt[0].schemeIdUri)>=0)return st===t.default.IMAGE}if(St.ContentComponent_asArray&&St.ContentComponent_asArray.length>0){if(St.ContentComponent_asArray.length>1)return st===t.default.MUXED;if(St.ContentComponent_asArray[0].contentType===st)return!0}var Ke=st===t.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(st);if(St.Representation_asArray&&St.Representation_asArray.length&&Ke.test(St.Representation_asArray[0].codecs))return!0;if(St.hasOwnProperty(E.default.MIME_TYPE))return Ke.test(St.mimeType);if(St.Representation_asArray)for(var Ct,Yt=0;Yt<St.Representation_asArray.length;Yt++)if((Ct=St.Representation_asArray[Yt]).hasOwnProperty(E.default.MIME_TYPE))return Ke.test(Ct.mimeType);return!1}function Me(St){if(!St)throw new Error("adaptation is not defined");if(St.hasOwnProperty(E.default.SEGMENT_TEMPLATE)||St.hasOwnProperty(E.default.SEGMENT_TIMELINE)||St.hasOwnProperty(E.default.SEGMENT_LIST)||St.hasOwnProperty(E.default.SEGMENT_BASE))return!0;if(St.Representation_asArray&&St.Representation_asArray.length>0){var st=St.Representation_asArray[0];if(st.hasOwnProperty(E.default.SEGMENT_TEMPLATE)||st.hasOwnProperty(E.default.SEGMENT_TIMELINE)||st.hasOwnProperty(E.default.SEGMENT_LIST)||st.hasOwnProperty(E.default.SEGMENT_BASE))return!0}return!1}function we(St){return le(St,t.default.AUDIO)}function _e(St){return le(St,t.default.VIDEO)}function Le(St){return le(St,t.default.TEXT)}function Pe(St){return le(St,t.default.MUXED)}function Oe(St){return le(St,t.default.IMAGE)}function he(){return function(St,st){return St.bandwidth-st.bandwidth}}function $(St){return St&&Array.isArray(St.Representation_asArray)&&St.Representation_asArray.sort(function(St,st){return St.bandwidth-st.bandwidth}),St}function Z(St,st){return St&&St.Period_asArray&&Se(st)&&St.Period_asArray[st]?St.Period_asArray[st].AdaptationSet_asArray:[]}function W(St){return St&&St.Period_asArray?St.Period_asArray:[]}function $e(St){var st=!1;return St&&St.hasOwnProperty("type")&&(st=St.type===E.default.DYNAMIC),st}function dn(St){return St&&St.EssentialProperty_asArray&&St.EssentialProperty_asArray.length?St.EssentialProperty_asArray.map(function(st){return{schemeIdUri:st.schemeIdUri,value:st.value}}):null}function dt(St){if(!St||!St.S_asArray)return NaN;var st=St.S_asArray[0],Xt=St.S_asArray[1];return st.hasOwnProperty("d")?st.d:Xt.t-st.t}function xe(St){return St.adaptation.period.start-St.presentationTimeOffset}function at(St,st){if(!St)throw new Error("Period cannot be null or undefined");var Xt=F.default.DEFAULT_ID+"_"+st;return St.hasOwnProperty(E.default.ID)&&St.id.length>0&&"__proto__"!==St.id&&(Xt=St.id),Xt}function Nt(St,st,Xt){var nt,Ke=[];if(!St)return Ke;for(nt=0;nt<St.length;nt++){var Ct=new p.default;if(Ct.timescale=1,Ct.representation=st,!St[nt].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Ct.schemeIdUri=St[nt].schemeIdUri,St[nt].hasOwnProperty(E.default.TIMESCALE)&&(Ct.timescale=St[nt].timescale),St[nt].hasOwnProperty(E.default.VALUE)&&(Ct.value=St[nt].value),Ke.push(Ct),Ct.period=Xt}return Ke}function en(St){var st=[],Ke=!1;return(St.BaseURL_asArray||[St.baseUri]).some(function(nt){if(nt){var Ct=new h.default,Yt=nt.__text||nt;return ue.isRelative(Yt)&&(Ke=!0,St.baseUri&&(Yt=ue.resolve(Yt,St.baseUri))),Ct.url=Yt,Ct.serviceLocation=nt.hasOwnProperty(E.default.SERVICE_LOCATION)&&nt.serviceLocation.length?nt.serviceLocation:Yt,nt.hasOwnProperty(E.default.DVB_PRIORITY)&&(Ct.dvb_priority=nt[E.default.DVB_PRIORITY]),nt.hasOwnProperty(E.default.DVB_WEIGHT)&&(Ct.dvb_weight=nt[E.default.DVB_WEIGHT]),nt.hasOwnProperty(E.default.AVAILABILITY_TIME_OFFSET)&&(Ct.availabilityTimeOffset=nt[E.default.AVAILABILITY_TIME_OFFSET]),nt.hasOwnProperty(E.default.AVAILABILITY_TIME_COMPLETE)&&(Ct.availabilityTimeComplete="false"!==nt[E.default.AVAILABILITY_TIME_COMPLETE]),st.push(Ct),Ke}}),st}return z={getIsTypeOf:le,getIsText:Le,getIsFragmented:Me,getProducerReferenceTimesForAdaptation:function je(St){var st=St&&St.hasOwnProperty(E.default.PRODUCERREFERENCETIME_ASARRAY)?St[E.default.PRODUCERREFERENCETIME_ASARRAY]:[];(St&&St.hasOwnProperty(E.default.REPRESENTATION_ASARRAY)?St[E.default.REPRESENTATION_ASARRAY]:[]).forEach(function(nt){nt.hasOwnProperty(E.default.PRODUCERREFERENCETIME_ASARRAY)&&st.push.apply(st,N(nt[E.default.PRODUCERREFERENCETIME_ASARRAY]))});var Ke=[];return st.forEach(function(nt){var Ct=new y.default;nt.hasOwnProperty(E.default.ID)&&(Ct[E.default.ID]=nt[E.default.ID],nt.hasOwnProperty(E.default.WALL_CLOCK_TIME)&&(Ct[E.default.WALL_CLOCK_TIME]=nt[E.default.WALL_CLOCK_TIME],nt.hasOwnProperty(E.default.PRESENTATION_TIME)&&(Ct[E.default.PRESENTATION_TIME]=nt[E.default.PRESENTATION_TIME],Ke.push(Ct))))}),Ke},getLanguageForAdaptation:function ze(St){var st="";return St&&St.hasOwnProperty(E.default.LANG)&&(st=St.lang),st},getViewpointForAdaptation:function He(St){return St&&St.hasOwnProperty(E.default.VIEWPOINT)?St.Viewpoint:null},getRolesForAdaptation:function Ae(St){return St&&St.hasOwnProperty(E.default.ROLE_ASARRAY)?St.Role_asArray:[]},getAccessibilityForAdaptation:function be(St){return St&&St.hasOwnProperty(E.default.ACCESSIBILITY_ASARRAY)?St.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function K(St){return St&&St.hasOwnProperty(E.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?St.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function ie(St){return St&&St.hasOwnProperty(E.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?St.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function q(St,st,Xt){var Ke=Z(st,Xt);return Ke.length>0&&Se(St)?Ke[St]:null},getIndexForAdaptation:function J(St,st,Xt){if(!St)return-1;for(var Ke=Z(st,Xt),nt=0;nt<Ke.length;nt++)if(Object(U.default)(ne).getInstance().areEqual(Ke[nt],St))return nt;return-1},getAdaptationForId:function Q(St,st,Xt){var nt,Ct,Ke=Z(st,Xt);for(nt=0,Ct=Ke.length;nt<Ct;nt++)if(Ke[nt].hasOwnProperty(E.default.ID)&&Ke[nt].id===St)return Ke[nt];return null},getAdaptationsForType:function de(St,st,Xt){var nt,Ct,Ke=Z(St,st),Yt=[];for(nt=0,Ct=Ke.length;nt<Ct;nt++)le(Ke[nt],Xt)&&Yt.push($(Ke[nt]));return Yt},getRealPeriods:W,getRealPeriodForIndex:function X(St,st){var Xt=W(st);return Xt.length>0&&Se(St)?Xt[St]:null},getCodec:function ge(St,st,Xt){var Ke=null;if(St&&St.Representation_asArray&&St.Representation_asArray.length>0){var nt=Se(st)&&st>=0&&st<St.Representation_asArray.length?St.Representation_asArray[st]:St.Representation_asArray[0];nt&&(Ke=nt.mimeType+';codecs="'+nt.codecs+'"',Xt&&void 0!==nt.width&&(Ke+=';width="'+nt.width+'";height="'+nt.height+'"'))}return Ke&&(Ke=Ke.replace(/\sprofiles=[^;]*/g,"")),Ke},getSelectionPriority:function Qt(St){try{var st=St&&typeof St.selectionPriority<"u"?parseInt(St.selectionPriority):1;return isNaN(st)?1:st}catch{return 1}},getMimeType:function ce(St){return St&&St.Representation_asArray&&St.Representation_asArray.length>0?St.Representation_asArray[0].mimeType:null},getKID:function Ce(St){return St&&St.hasOwnProperty(E.default.CENC_DEFAULT_KID)?St[E.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function Ye(St){if(!St||!Array.isArray(St.Label_asArray))return[];for(var st=[],Xt=0;Xt<St.Label_asArray.length;Xt++)st.push({lang:St.Label_asArray[Xt].lang,text:St.Label_asArray[Xt].__text||St.Label_asArray[Xt]});return st},getContentProtectionData:function Be(St){return St&&St.hasOwnProperty(E.default.CONTENTPROTECTION_ASARRAY)&&0!==St.ContentProtection_asArray.length?St.ContentProtection_asArray:null},getIsDynamic:$e,getId:function Qe(St){return St&&St[E.default.ID]||null},hasProfile:function qe(St,st){var Xt=!1;return St&&St.profiles&&St.profiles.length>0&&(Xt=-1!==St.profiles.indexOf(st)),Xt},getDuration:function ct(St){return St&&St.hasOwnProperty(E.default.MEDIA_PRESENTATION_DURATION)?St.mediaPresentationDuration:St&&"dynamic"==St.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Ot(St){return St&&St.bandwidth?St.bandwidth:NaN},getManifestUpdatePeriod:function _t(St){var st=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Xt=NaN;return St&&St.hasOwnProperty(E.default.MINIMUM_UPDATE_PERIOD)&&(Xt=St.minimumUpdatePeriod),isNaN(Xt)?Xt:Math.max(Xt-st,1)},getPublishTime:function Rt(St){return St&&St.hasOwnProperty(E.default.PUBLISH_TIME)?new Date(St[E.default.PUBLISH_TIME]):null},getRepresentationCount:function Gt(St){return St&&Array.isArray(St.Representation_asArray)?St.Representation_asArray.length:0},getBitrateListForAdaptation:function $t(St){var st=$(St);return(st&&Array.isArray(st.Representation_asArray)?st.Representation_asArray:[]).map(function(Ke){return{bandwidth:Ke.bandwidth,width:Ke.width||0,height:Ke.height||0,scanType:Ke.scanType||null,id:Ke.id||null}})},getRepresentationFor:function gn(St,st){return st&&st.Representation_asArray&&st.Representation_asArray.length>0&&Se(St)?st.Representation_asArray[St]:null},getRepresentationsForAdaptation:function ot(St){var Ke,nt,st=[],Xt=function jn(St){if(St&&St.period&&Se(St.period.index)){var st=St.period.mpd.manifest.Period_asArray[St.period.index];if(st&&st.AdaptationSet_asArray&&Se(St.index))return $(st.AdaptationSet_asArray[St.index])}}(St);if(Xt&&Xt.Representation_asArray){if(St&&St.period&&Se(St.period.index)){var Ct=en(St.period.mpd.manifest);Ct&&(nt=Ct[0])}for(var Yt=0,Vt=Xt.Representation_asArray.length;Yt<Vt;++Yt){var _n=Xt.Representation_asArray[Yt],kt=new O.default;if(kt.index=Yt,kt.adaptation=St,_n.hasOwnProperty(E.default.ID)&&(kt.id=_n.id),_n.hasOwnProperty(E.default.CODECS)&&(kt.codecs=_n.codecs),_n.hasOwnProperty(E.default.MIME_TYPE)&&(kt.mimeType=_n[E.default.MIME_TYPE]),_n.hasOwnProperty(E.default.CODEC_PRIVATE_DATA)&&(kt.codecPrivateData=_n.codecPrivateData),_n.hasOwnProperty(E.default.BANDWITH)&&(kt.bandwidth=_n.bandwidth),_n.hasOwnProperty(E.default.WIDTH)&&(kt.width=_n.width),_n.hasOwnProperty(E.default.HEIGHT)&&(kt.height=_n.height),_n.hasOwnProperty(E.default.SCAN_TYPE)&&(kt.scanType=_n.scanType),_n.hasOwnProperty(E.default.MAX_PLAYOUT_RATE)&&(kt.maxPlayoutRate=_n.maxPlayoutRate),_n.hasOwnProperty(E.default.SEGMENT_BASE)?(Ke=_n.SegmentBase,kt.segmentInfoType=E.default.SEGMENT_BASE):_n.hasOwnProperty(E.default.SEGMENT_LIST)?kt.segmentInfoType=(Ke=_n.SegmentList).hasOwnProperty(E.default.SEGMENT_TIMELINE)?E.default.SEGMENT_TIMELINE:E.default.SEGMENT_LIST:_n.hasOwnProperty(E.default.SEGMENT_TEMPLATE)?(kt.segmentInfoType=(Ke=_n.SegmentTemplate).hasOwnProperty(E.default.SEGMENT_TIMELINE)?E.default.SEGMENT_TIMELINE:E.default.SEGMENT_TEMPLATE,Ke.hasOwnProperty(E.default.INITIALIZATION_MINUS)&&(kt.initialization=Ke.initialization.split("$Bandwidth$").join(_n.bandwidth).split("$RepresentationID$").join(_n.id))):kt.segmentInfoType=E.default.BASE_URL,kt.essentialProperties=dn(_n),Ke){if(Ke.hasOwnProperty(E.default.INITIALIZATION)){var It=Ke.Initialization;It.hasOwnProperty(E.default.SOURCE_URL)&&(kt.initialization=It.sourceURL),It.hasOwnProperty(E.default.RANGE)&&(kt.range=It.range)}else Le(Xt)&&Me(Xt)&&Xt.mimeType&&-1===Xt.mimeType.indexOf("application/mp4")&&(kt.range=0);Ke.hasOwnProperty(E.default.TIMESCALE)&&(kt.timescale=Ke.timescale),Ke.hasOwnProperty(E.default.DURATION)?kt.segmentDuration=Ke.duration/kt.timescale:_n.hasOwnProperty(E.default.SEGMENT_TEMPLATE)&&(Ke=_n.SegmentTemplate).hasOwnProperty(E.default.SEGMENT_TIMELINE)&&(kt.segmentDuration=dt(Ke.SegmentTimeline)/kt.timescale),Ke.hasOwnProperty(E.default.MEDIA)&&(kt.media=Ke.media),Ke.hasOwnProperty(E.default.START_NUMBER)&&(kt.startNumber=Ke.startNumber),Ke.hasOwnProperty(E.default.INDEX_RANGE)&&(kt.indexRange=Ke.indexRange),Ke.hasOwnProperty(E.default.PRESENTATION_TIME_OFFSET)&&(kt.presentationTimeOffset=Ke.presentationTimeOffset/kt.timescale),Ke.hasOwnProperty(E.default.AVAILABILITY_TIME_OFFSET)?kt.availabilityTimeOffset=Ke.availabilityTimeOffset:nt&&void 0!==nt.availabilityTimeOffset&&(kt.availabilityTimeOffset=nt.availabilityTimeOffset),Ke.hasOwnProperty(E.default.AVAILABILITY_TIME_COMPLETE)?kt.availabilityTimeComplete="false"!==Ke.availabilityTimeComplete:nt&&void 0!==nt.availabilityTimeComplete&&(kt.availabilityTimeComplete=nt.availabilityTimeComplete)}kt.MSETimeOffset=xe(kt),kt.path=[St.period.index,St.index,Yt],st.push(kt)}}return st},getAdaptationsForPeriod:function fe(St){var Ke,nt,Ct,st=St&&Se(St.index)?St.mpd.manifest.Period_asArray[St.index]:null,Xt=[];if(st&&st.AdaptationSet_asArray)for(Ct=0;Ct<st.AdaptationSet_asArray.length;Ct++)nt=st.AdaptationSet_asArray[Ct],Ke=new b.default,nt.hasOwnProperty(E.default.ID)&&(Ke.id=nt.id),Ke.index=Ct,Ke.period=St,Pe(nt)?Ke.type=t.default.MUXED:we(nt)?Ke.type=t.default.AUDIO:_e(nt)?Ke.type=t.default.VIDEO:Le(nt)?Ke.type=t.default.TEXT:Oe(nt)?Ke.type=t.default.IMAGE:oe.warn("Unknown Adaptation stream type"),Xt.push(Ke);return Xt},getRegularPeriods:function pe(St){var Vt,_n,st=!!St&&$e(St.manifest),Xt=[],Ke=null,nt=null,Ct=null,Yt=null;for(_n=0,Vt=St&&St.manifest&&St.manifest.Period_asArray?St.manifest.Period_asArray.length:0;_n<Vt;_n++)(nt=St.manifest.Period_asArray[_n]).hasOwnProperty(E.default.START)?(Yt=new F.default).start=nt.start:null!==Ke&&Ke.hasOwnProperty(E.default.DURATION)&&null!==Ct?(Yt=new F.default).start=parseFloat((Ct.start+Ct.duration).toFixed(5)):0===_n&&!st&&((Yt=new F.default).start=0),null!==Ct&&isNaN(Ct.duration)&&(null!==Yt?Ct.duration=parseFloat((Yt.start-Ct.start).toFixed(5)):oe.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Yt&&(Yt.id=at(nt,_n),Yt.index=_n,Yt.mpd=St,nt.hasOwnProperty(E.default.DURATION)&&(Yt.duration=nt.duration),Ct&&(Ct.nextPeriodId=Yt.id),Xt.push(Yt),Ke=nt,Ct=Yt),nt=null,Yt=null;return 0===Xt.length||null!==Ct&&isNaN(Ct.duration)&&(Ct.duration=parseFloat((function ut(St){!function Dt(){if(!H||!H.hasOwnProperty("error"))throw new Error(t.default.MISSING_CONFIG_ERROR)}();var Xt,st=$e(St.mpd.manifest);return St.mpd.manifest.mediaPresentationDuration?Xt=St.mpd.manifest.mediaPresentationDuration:St.duration?Xt=St.duration:st?Xt=Number.POSITIVE_INFINITY:H.error(new R.default(D.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",St)),Xt}(Ct)-Ct.start).toFixed(5))),Xt},getMpd:function mt(St){var st=new L.default;return St&&(st.manifest=St,St.hasOwnProperty(E.default.AVAILABILITY_START_TIME)?st.availabilityStartTime=new Date(St.availabilityStartTime.getTime()):St.loadedTime&&(st.availabilityStartTime=new Date(St.loadedTime.getTime())),St.hasOwnProperty(E.default.AVAILABILITY_END_TIME)&&(st.availabilityEndTime=new Date(St.availabilityEndTime.getTime())),St.hasOwnProperty(E.default.MINIMUM_UPDATE_PERIOD)&&(st.minimumUpdatePeriod=St.minimumUpdatePeriod),St.hasOwnProperty(E.default.MEDIA_PRESENTATION_DURATION)&&(st.mediaPresentationDuration=St.mediaPresentationDuration),St.hasOwnProperty(E.default.SUGGESTED_PRESENTATION_DELAY)&&(st.suggestedPresentationDelay=St.suggestedPresentationDelay),St.hasOwnProperty(E.default.TIMESHIFT_BUFFER_DEPTH)&&(st.timeShiftBufferDepth=St.timeShiftBufferDepth),St.hasOwnProperty(E.default.MAX_SEGMENT_DURATION)&&(st.maxSegmentDuration=St.maxSegmentDuration),St.hasOwnProperty(E.default.PUBLISH_TIME)&&(st.publishTime=new Date(St.publishTime))),st},getEventsForPeriod:function bt(St){var Ct,Yt,st=St&&St.mpd&&St.mpd.manifest?St.mpd.manifest:null,Xt=st?st.Period_asArray:null,Ke=Xt&&St&&Se(St.index)?Xt[St.index].EventStream_asArray:null,nt=[];if(Ke)for(Ct=0;Ct<Ke.length;Ct++){var Vt=new p.default;if(Vt.period=St,Vt.timescale=1,!Ke[Ct].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(Vt.schemeIdUri=Ke[Ct][t.default.SCHEME_ID_URI],Ke[Ct].hasOwnProperty(E.default.TIMESCALE)&&(Vt.timescale=Ke[Ct][E.default.TIMESCALE]),Ke[Ct].hasOwnProperty(E.default.VALUE)&&(Vt.value=Ke[Ct][E.default.VALUE]),Ke[Ct].hasOwnProperty(E.default.PRESENTATION_TIME_OFFSET)&&(Vt.presentationTimeOffset=Ke[Ct][E.default.PRESENTATION_TIME_OFFSET]),Yt=0;Ke[Ct].Event_asArray&&Yt<Ke[Ct].Event_asArray.length;Yt++){var _n=Ke[Ct].Event_asArray[Yt],kt=new g.default;kt.presentationTime=0,kt.eventStream=Vt,_n.hasOwnProperty(E.default.PRESENTATION_TIME)&&(kt.presentationTime=_n.presentationTime),kt.calculatedPresentationTime=kt.presentationTime/Vt.timescale+St.start-(Vt.presentationTimeOffset?Vt.presentationTimeOffset/Vt.timescale:0),_n.hasOwnProperty(E.default.DURATION)&&(kt.duration=_n.duration/Vt.timescale),kt.id=_n.hasOwnProperty(E.default.ID)?_n.id:null,kt.messageData=_n.Signal&&_n.Signal.Binary?me.decodeArray(_n.Signal.Binary.toString()):_n.messageData||_n.__cdata||_n.__text,nt.push(kt)}}return nt},getEssentialPropertiesForRepresentation:dn,getEventStreamForAdaptationSet:function Zt(St,st,Xt){var Ke,nt,Ct;return St&&St.Period_asArray&&st&&st.period&&Se(st.period.index)&&(nt=St.Period_asArray[st.period.index])&&nt.AdaptationSet_asArray&&Se(st.index)&&(Ct=nt.AdaptationSet_asArray[st.index])&&(Ke=Ct.InbandEventStream_asArray),Nt(Ke,null,Xt)},getEventStreamForRepresentation:function wt(St,st,Xt){var Ke,nt,Ct,Yt;return St&&St.Period_asArray&&st&&st.adaptation&&st.adaptation.period&&Se(st.adaptation.period.index)&&(nt=St.Period_asArray[st.adaptation.period.index])&&nt.AdaptationSet_asArray&&Se(st.adaptation.index)&&(Ct=nt.AdaptationSet_asArray[st.adaptation.index])&&Ct.Representation_asArray&&Se(st.index)&&(Yt=Ct.Representation_asArray[st.index])&&(Ke=Yt.InbandEventStream_asArray),Nt(Ke,st,Xt)},getUTCTimingSources:function Ht(St){var st=$e(St),Xt=!!St&&St.hasOwnProperty(E.default.AVAILABILITY_START_TIME),Ke=St?St.UTCTiming_asArray:null,nt=[];return(st||Xt)&&Ke&&Ke.forEach(function(Ct){var Yt=new x.default;Ct.hasOwnProperty(t.default.SCHEME_ID_URI)&&(Yt.schemeIdUri=Ct.schemeIdUri,Ct.hasOwnProperty(E.default.VALUE)&&(Yt.value=Ct.value.toString(),nt.push(Yt)))}),nt},getBaseURLsFromElement:en,getRepresentationSortFunction:he,getContentSteering:function tn(St){if(St&&St.hasOwnProperty(E.default.CONTENT_STEERING_AS_ARRAY)){var st=St[E.default.CONTENT_STEERING_AS_ARRAY][0],Xt=new A.default;return Xt.serverUrl=st.__text,st.hasOwnProperty(E.default.DEFAULT_SERVICE_LOCATION)&&(Xt.defaultServiceLocation=st[E.default.DEFAULT_SERVICE_LOCATION]),st.hasOwnProperty(E.default.QUERY_BEFORE_START)&&(Xt.queryBeforeStart="true"===st[E.default.QUERY_BEFORE_START].toLowerCase()),st.hasOwnProperty(E.default.PROXY_SERVER_URL)&&(Xt.proxyServerUrl=st[E.default.PROXY_SERVER_URL]),Xt}},getLocation:function yn(St){if(St&&St.hasOwnProperty(t.default.LOCATION))return St.Location=St.Location_asArray[0],St.Location},getPatchLocation:function Tn(St){if(St&&St.hasOwnProperty(E.default.PATCH_LOCATION))return St.PatchLocation=St.PatchLocation_asArray[0],St.PatchLocation},getSuggestedPresentationDelay:function On(St){return St&&St.hasOwnProperty(E.default.SUGGESTED_PRESENTATION_DELAY)?St.suggestedPresentationDelay:null},getAvailabilityStartTime:function In(St){return St&&St.hasOwnProperty(E.default.AVAILABILITY_START_TIME)&&null!==St.availabilityStartTime?St.availabilityStartTime.getTime():null},getServiceDescriptions:function Jn(St){var st=[];if(St&&St.hasOwnProperty(E.default.SERVICE_DESCRIPTION)){var Ke,Xt=T(St.ServiceDescription_asArray);try{for(Xt.s();!(Ke=Xt.n()).done;){var nt=Ke.value,Ct=null,Yt=null,Vt=null,_n=null,kt=null,It=null;for(var Bt in nt)nt.hasOwnProperty(Bt)&&(Bt===E.default.ID?Ct=nt[Bt]:Bt===E.default.SERVICE_DESCRIPTION_SCOPE?Yt=nt[Bt].schemeIdUri:Bt===E.default.SERVICE_DESCRIPTION_LATENCY?Vt={target:parseInt(nt[Bt].target),max:parseInt(nt[Bt].max),min:parseInt(nt[Bt].min),referenceId:parseInt(nt[Bt].referenceId)}:Bt===E.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?_n={max:parseFloat(nt[Bt].max),min:parseFloat(nt[Bt].min)}:Bt===E.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?kt={mediaType:nt[Bt].mediaType,max:parseInt(nt[Bt].max),min:parseInt(nt[Bt].min),target:parseInt(nt[Bt].target),type:nt[Bt].type,maxQualityDifference:parseInt(nt[Bt].maxQualityDifference)}:Bt===E.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(It={mediaType:nt[Bt].mediaType,max:parseInt(nt[Bt].max),min:parseInt(nt[Bt].min),target:parseInt(nt[Bt].target)}));st.push({id:Ct,schemeIdUri:Yt,latency:Vt,playbackRate:_n,operatingQuality:kt,operatingBandwidth:It})}}catch(sn){Xt.e(sn)}finally{Xt.f()}}return st},getSupplementalProperties:function fi(St){var st={};if(St&&St.hasOwnProperty(E.default.SUPPLEMENTAL_PROPERTY)){var Ke,Xt=T(St.SupplementalProperty_asArray);try{for(Xt.s();!(Ke=Xt.n()).done;){var nt=Ke.value;nt.hasOwnProperty(t.default.SCHEME_ID_URI)&&nt.hasOwnProperty(E.default.VALUE)&&(st[nt[t.default.SCHEME_ID_URI]]=nt[E.default.VALUE])}}catch(Ct){Xt.e(Ct)}finally{Xt.f()}}return st},setConfig:function Ft(St){St&&(St.errHandler&&(H=St.errHandler),St.BASE64&&(me=St.BASE64))}},function Ie(){oe=Object(k.default)(ne).getInstance().getLogger(z)}(),z}Re.__dashjs_factory_name="DashManifestModel",C.default=V.default.getSingletonFactory(Re)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),F=c(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function L(){var x,g,h=this.context;return x={getIsPatch:function y(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function A(k){return k&&k.hasOwnProperty(t.default.PUBLISH_TIME)?new Date(k[t.default.PUBLISH_TIME]):null},getOriginalPublishTime:function U(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_PUBLISH_TIME)?new Date(k[t.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function P(k){return k&&k[t.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function V(k){return k?(k.__children||[]).map(function(R){var D=Object.keys(R)[0];if("add"!==D&&"remove"!==D&&"replace"!==D)return g.warn("Ignoring node of invalid action: ".concat(D)),null;var I=R[D],T=I.sel;if("add"===D&&I.type){if(!I.type.startsWith("@"))return g.warn("Ignoring add action for prefixed namespace declaration: ".concat(I.type,"=").concat(I.__text)),null;T="".concat(T,"/").concat(I.type)}var N=new b.default(T);if(!N.isValid())return g.warn("Ignoring action with invalid selector: ".concat(D," - ").concat(T)),null;var S=null;N.findsAttribute()?S=I.__text||"":"remove"!==D&&(S=I.__children.reduce(function(Y,re){var se=Object.keys(re)[0];return"#text"!==se&&(Y[se]=Y[se]||[],Y[se].push(re[se])),Y},{}));var B=new F.default(D,N,S);return"add"===D&&(B.position=I.pos),B}).filter(function(R){return!!R}):[]}},function p(){g=Object(O.default)(h).getInstance().getLogger(x)}(),x}L.__dashjs_factory_name="PatchManifestModel",C.default=E.default.getSingletonFactory(L)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),O=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),b=c(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),F=c(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),L=c(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),x=c(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),g=c(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),h=c(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),p=c(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function y(A){var V,k,R,D,I,U=this.context,P=(A=A||{}).debug;return V={parse:function B(Y){var re,se=window.performance.now();if(!(re=D.xml_str2json(Y)))throw new Error("parsing the manifest failed");var Re=window.performance.now();re.Patch?((re=re.Patch).add_asArray&&re.add_asArray.forEach(function(oe){return I.run(oe)}),re.replace_asArray&&re.replace_asArray.forEach(function(oe){return I.run(oe)})):I.run(re=re.MPD);var z=window.performance.now();return k.info("Parsing complete: ( xml2json: "+(Re-se).toPrecision(3)+"ms, objectiron: "+(z-Re).toPrecision(3)+"ms, total: "+((z-se)/1e3).toPrecision(3)+"s)"),re.protocol="DASH",re},getMatchers:function N(){return R},getIron:function S(){return I}},function T(){k=P.getLogger(V),R=[new F.default,new L.default,new x.default,new g.default,new b.default],D=new O.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:R}),I=Object(E.default)(U).create({adaptationset:new h.default,period:new p.default})}(),V}y.__dashjs_factory_name="DashParser",C.default=t.default.getClassFactory(y)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function O(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,F(y.key),y)}}function F(g){var h=function L(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function g(h){!function E(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}(this,g);var A;this._name=h,this._merge=(A=h)&&A.length&&A.charAt(0)===A.charAt(0).toUpperCase()}return function b(g,h,p){return h&&O(g.prototype,h),p&&O(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}(g,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),g}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,L(A.key),A)}}function L(h){var p=function x(h,p){if("object"!==E(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==E(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===E(p)?p:String(p)}C.default=function(){function h(p,y,A){var U=this;(function O(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this._name=p||"",this._properties=[],this._children=A||[],Array.isArray(y)&&y.forEach(function(P){U._properties.push(new t.default(P))})}return function F(h,p,y){return p&&b(h.prototype,p),y&&b(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),h}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),E=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function O(R){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function b(R,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,L(T.key),T)}}function L(R){var D=function x(R,D){if("object"!==O(R)||null===R)return R;var I=R[Symbol.toPrimitive];if(void 0!==I){var T=I.call(R,D||"default");if("object"!==O(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===O(D)?D:String(D)}function h(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&p(R,D)}function p(R,D){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,D)}function y(R){var D=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(R);if(D){var S=V(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function A(R,D){if(D&&("object"===O(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function U(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function V(R){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(R)}C.default=function(R){h(I,R);var D=y(I);function I(){!function g(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I);var T=[E.default.PROFILES,E.default.WIDTH,E.default.HEIGHT,E.default.SAR,E.default.FRAMERATE,E.default.AUDIO_SAMPLING_RATE,E.default.MIME_TYPE,E.default.SEGMENT_PROFILES,E.default.CODECS,E.default.MAXIMUM_SAP_PERIOD,E.default.START_WITH_SAP,E.default.MAX_PLAYOUT_RATE,E.default.CODING_DEPENDENCY,E.default.SCAN_TYPE,E.default.FRAME_PACKING,E.default.AUDIO_CHANNEL_CONFIGURATION,E.default.CONTENT_PROTECTION,E.default.ESSENTIAL_PROPERTY,E.default.SUPPLEMENTAL_PROPERTY,E.default.INBAND_EVENT_STREAM];return D.call(this,E.default.ADAPTATION_SET,T,[new t.default(E.default.REPRESENTATION,T,[new t.default(E.default.SUB_REPRESENTATION,T)])])}return function F(R,D,I){return D&&b(R.prototype,D),I&&b(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}(I)}(t.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),E=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function O(R){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function b(R,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,L(T.key),T)}}function L(R){var D=function x(R,D){if("object"!==O(R)||null===R)return R;var I=R[Symbol.toPrimitive];if(void 0!==I){var T=I.call(R,D||"default");if("object"!==O(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===O(D)?D:String(D)}function h(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&p(R,D)}function p(R,D){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,D)}function y(R){var D=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(R);if(D){var S=V(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function A(R,D){if(D&&("object"===O(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function U(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function V(R){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(R)}C.default=function(R){h(I,R);var D=y(I);function I(){!function g(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I);var T=[E.default.SEGMENT_BASE,E.default.SEGMENT_TEMPLATE,E.default.SEGMENT_LIST];return D.call(this,E.default.PERIOD,T,[new t.default(E.default.ADAPTATION_SET,T,[new t.default(E.default.REPRESENTATION,T)])])}return function F(R,D,I){return D&&b(R.prototype,D),I&&b(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}(I)}(t.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function O(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,F(y.key),y)}}function F(g){var h=function L(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function g(h,p){(function E(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this._test=h,this._converter=p}return function b(g,h,p){return h&&O(g.prototype,h),p&&O(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}(g,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),g}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function E(T){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function O(T,N){for(var S=0;S<N.length;S++){var B=N[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,F(B.key),B)}}function F(T){var N=function L(T,N){if("object"!==E(T)||null===T)return T;var S=T[Symbol.toPrimitive];if(void 0!==S){var B=S.call(T,N||"default");if("object"!==E(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===E(N)?N:String(N)}function g(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&h(T,N)}function h(T,N){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function p(T){var N=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=P(T);if(N){var re=P(this).constructor;Y=Reflect.construct(B,arguments,re)}else Y=B.apply(this,arguments);return function y(T,N){if(N&&("object"===E(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function A(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function P(T){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(T)}var D=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;C.default=function(T){g(S,T);var N=p(S);function S(){return function x(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,S),N.call(this,function(B){return D.test(B.value)},function(B){var re,Y=D.exec(B);if(re=Date.UTC(parseInt(Y[1],10),parseInt(Y[2],10)-1,parseInt(Y[3],10),parseInt(Y[4],10),parseInt(Y[5],10),Y[6]&&parseInt(Y[6],10)||0,Y[7]&&1e3*parseFloat(Y[7])||0),Y[9]&&Y[10]){var se=60*parseInt(Y[9],10)+parseInt(Y[10],10);re+=("+"===Y[8]?-1:1)*se*60*1e3}return new Date(re)})}return function b(T,N,S){return N&&O(T.prototype,N),S&&O(T,S),Object.defineProperty(T,"prototype",{writable:!1}),T}(S)}(t.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=c(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(Y){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(Y)}function F(Y,re){for(var se=0;se<re.length;se++){var Re=re[se];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Y,x(Re.key),Re)}}function x(Y){var re=function g(Y,re){if("object"!==b(Y)||null===Y)return Y;var se=Y[Symbol.toPrimitive];if(void 0!==se){var Re=se.call(Y,re||"default");if("object"!==b(Re))return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===re?String:Number)(Y)}(Y,"string");return"symbol"===b(re)?re:String(re)}function p(Y,re){if("function"!=typeof re&&null!==re)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(re&&re.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),re&&y(Y,re)}function y(Y,re){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,z){return Re.__proto__=z,Re})(Y,re)}function A(Y){var re=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,Re=k(Y);if(re){var oe=k(this).constructor;z=Reflect.construct(Re,arguments,oe)}else z=Re.apply(this,arguments);return function U(Y,re){if(re&&("object"===b(re)||"function"==typeof re))return re;if(void 0!==re)throw new TypeError("Derived constructors may only return object or undefined");return function P(Y){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(Y)}(this,z)}}function k(Y){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(se){return se.__proto__||Object.getPrototypeOf(se)})(Y)}var R=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;C.default=function(Y){p(se,Y);var re=A(se);function se(){return function h(Y,re){if(!(Y instanceof re))throw new TypeError("Cannot call a class as a function")}(this,se),re.call(this,function(Re){for(var z=[O.default.MIN_BUFFER_TIME,O.default.MEDIA_PRESENTATION_DURATION,O.default.MINIMUM_UPDATE_PERIOD,O.default.TIMESHIFT_BUFFER_DEPTH,O.default.MAX_SEGMENT_DURATION,O.default.MAX_SUBSEGMENT_DURATION,O.default.SUGGESTED_PRESENTATION_DELAY,O.default.START,E.default.START_TIME,O.default.DURATION],oe=z.length,H=0;H<oe;H++)if(Re.nodeName===z[H])return R.test(Re.value);return!1},function(Re){var z=R.exec(Re),oe=31536e3*parseFloat(z[3]||0)+2592e3*parseFloat(z[5]||0)+86400*parseFloat(z[7]||0)+3600*parseFloat(z[9]||0)+60*parseFloat(z[11]||0)+parseFloat(z[13]||0);return void 0!==z[1]&&(oe=-oe),oe})}return function L(Y,re,se){return re&&F(Y.prototype,re),se&&F(Y,se),Object.defineProperty(Y,"prototype",{writable:!1}),Y}(se)}(t.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),b=c.n(O);function F(T){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function L(T,N,S){return(N=h(N))in T?Object.defineProperty(T,N,{value:S,enumerable:!0,configurable:!0,writable:!0}):T[N]=S,T}function x(T,N){for(var S=0;S<N.length;S++){var B=N[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,h(B.key),B)}}function h(T){var N=function p(T,N){if("object"!==F(T)||null===T)return T;var S=T[Symbol.toPrimitive];if(void 0!==S){var B=S.call(T,N||"default");if("object"!==F(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===F(N)?N:String(N)}function A(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&U(T,N)}function U(T,N){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function P(T){var N=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=D(T);if(N){var re=D(this).constructor;Y=Reflect.construct(B,arguments,re)}else Y=B.apply(this,arguments);return function V(T,N){if(N&&("object"===F(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function k(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function D(T){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(T)}C.default=function(T){A(S,T);var N=P(S);function S(){return function y(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,S),N.call(this,function(B,Y){var re,se=(L(re={},E.default.ADAPTATION_SET,[E.default.LANG]),L(re,E.default.REPRESENTATION,[E.default.LANG]),L(re,E.default.CONTENT_COMPONENT,[E.default.LANG]),L(re,E.default.LABEL,[E.default.LANG]),L(re,E.default.GROUP_LABEL,[E.default.LANG]),re);if(se.hasOwnProperty(Y)){var Re=se[Y];return void 0!==Re&&Re.indexOf(B.name)>=0}return!1},function(B){var Y=b()(B);return void 0!==Y?Y:String(B)})}return function g(T,N,S){return N&&x(T.prototype,N),S&&x(T,S),Object.defineProperty(T,"prototype",{writable:!1}),T}(S)}(t.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function O(R,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var D=function L(R,D){if("object"!==E(R)||null===R)return R;var I=R[Symbol.toPrimitive];if(void 0!==I){var T=I.call(R,D||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function g(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&h(R,D)}function h(R,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,D)}function p(R){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(D){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function y(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(R)}var V=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;C.default=function(R){g(I,R);var D=p(I);function I(){return function x(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),D.call(this,function(T){return V.test(T.value)},function(T){return parseFloat(T)})}return function b(R,D,I){return D&&O(R.prototype,D),I&&O(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}(I)}(t.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),E=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function O(D){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(D)}function b(D,I,T){return(I=x(I))in D?Object.defineProperty(D,I,{value:T,enumerable:!0,configurable:!0,writable:!0}):D[I]=T,D}function F(D,I){for(var T=0;T<I.length;T++){var N=I[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,x(N.key),N)}}function x(D){var I=function g(D,I){if("object"!==O(D)||null===D)return D;var T=D[Symbol.toPrimitive];if(void 0!==T){var N=T.call(D,I||"default");if("object"!==O(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(D)}(D,"string");return"symbol"===O(I)?I:String(I)}function p(D,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(I&&I.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),I&&y(D,I)}function y(D,I){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,S){return N.__proto__=S,N})(D,I)}function A(D){var I=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,N=k(D);if(I){var B=k(this).constructor;S=Reflect.construct(N,arguments,B)}else S=N.apply(this,arguments);return function U(D,I){if(I&&("object"===O(I)||"function"==typeof I))return I;if(void 0!==I)throw new TypeError("Derived constructors may only return object or undefined");return function P(D){if(void 0===D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(D)}(this,S)}}function k(D){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(D)}C.default=function(D){p(T,D);var I=A(T);function T(){return function h(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}(this,T),I.call(this,function(N,S){var B,Y=(b(B={},E.default.MPD,[E.default.ID,E.default.PROFILES]),b(B,E.default.PERIOD,[E.default.ID]),b(B,E.default.BASE_URL,[E.default.SERVICE_LOCATION,E.default.BYTE_RANGE]),b(B,E.default.SEGMENT_BASE,[E.default.INDEX_RANGE]),b(B,E.default.INITIALIZATION,[E.default.RANGE]),b(B,E.default.REPRESENTATION_INDEX,[E.default.RANGE]),b(B,E.default.SEGMENT_LIST,[E.default.INDEX_RANGE]),b(B,E.default.BITSTREAM_SWITCHING,[E.default.RANGE]),b(B,E.default.SEGMENT_URL,[E.default.MEDIA_RANGE,E.default.INDEX_RANGE]),b(B,E.default.SEGMENT_TEMPLATE,[E.default.INDEX_RANGE,E.default.MEDIA,E.default.INDEX,E.default.INITIALIZATION_MINUS,E.default.BITSTREAM_SWITCHING_MINUS]),b(B,E.default.ASSET_IDENTIFIER,[E.default.VALUE,E.default.ID]),b(B,E.default.EVENT_STREAM,[E.default.VALUE]),b(B,E.default.ADAPTATION_SET,[E.default.PROFILES,E.default.MIME_TYPE,E.default.SEGMENT_PROFILES,E.default.CODECS,E.default.CONTENT_TYPE]),b(B,E.default.FRAME_PACKING,[E.default.VALUE,E.default.ID]),b(B,E.default.AUDIO_CHANNEL_CONFIGURATION,[E.default.VALUE,E.default.ID]),b(B,E.default.CONTENT_PROTECTION,[E.default.VALUE,E.default.ID]),b(B,E.default.ESSENTIAL_PROPERTY,[E.default.VALUE,E.default.ID]),b(B,E.default.SUPPLEMENTAL_PROPERTY,[E.default.VALUE,E.default.ID]),b(B,E.default.INBAND_EVENT_STREAM,[E.default.VALUE,E.default.ID]),b(B,E.default.ACCESSIBILITY,[E.default.VALUE,E.default.ID]),b(B,E.default.ROLE,[E.default.VALUE,E.default.ID]),b(B,E.default.RATING,[E.default.VALUE,E.default.ID]),b(B,E.default.VIEWPOINT,[E.default.VALUE,E.default.ID]),b(B,E.default.CONTENT_COMPONENT,[E.default.CONTENT_TYPE]),b(B,E.default.REPRESENTATION,[E.default.ID,E.default.DEPENDENCY_ID,E.default.MEDIA_STREAM_STRUCTURE_ID]),b(B,E.default.SUBSET,[E.default.ID]),b(B,E.default.METRICS,[E.default.METRICS_MINUS]),b(B,E.default.REPORTING,[E.default.VALUE,E.default.ID]),B);if(Y.hasOwnProperty(S)){var re=Y[S];return void 0!==re&&re.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return function L(D,I,T){return I&&F(D.prototype,I),T&&F(D,T),Object.defineProperty(D,"prototype",{writable:!1}),D}(T)}(t.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(F){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function O(F){function L(p,y){for(var A in p)y.hasOwnProperty(A)||(y[A]=p[A])}function x(p,y,A){for(var U=0,P=p.length;U<P;++U){var V=p[U];if(y[V.name])if(A[V.name]){if(V.merge){var k=y[V.name],R=A[V.name];"object"===E(k)&&"object"===E(R)?L(k,R):A[V.name]=k+R}}else A[V.name]=y[V.name]}}function g(p,y){for(var A=0,U=p.children.length;A<U;++A){var P=p.children[A],V=y[P.name+"_asArray"];if(V)for(var k=0,R=V.length;k<R;++k){var D=V[k];x(p.properties,y,D),g(P,D)}}}return{run:function h(p){if(null===p||"object"!==E(p))return p;if(p.Period_asArray&&"period"in F)for(var y=F.period,A=p.Period_asArray,U=0,P=A.length;U<P;++U){var V=A[U];if(g(y,V),"adaptationset"in F){var k=V.AdaptationSet_asArray;if(k)for(var R=F.adaptationset,D=0,I=k.length;D<I;++D)g(R,k[D])}}return p}}}O.__dashjs_factory_name="ObjectIron";var b=t.default.getClassFactory(O);C.default=b},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function b(L,x){var g=(L=L||{}).timelineConverter;function p(){if(!g||!g.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function A(P,V){if(p(),!P)return null;var k=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentList,R=k.SegmentURL_asArray.length,D=P&&!isNaN(P.startNumber)?P.startNumber:1,I=Math.max(D-1,0),T=Math.max(V-I,0),N=null;if(T<R){var S=k.SegmentURL_asArray[T];(N=Object(O.getIndexBasedSegment)(g,x,P,V))&&(N.replacementTime=(D+V-1)*P.segmentDuration,N.media=S.media?S.media:"",N.mediaRange=S.mediaRange,N.indexRange=S.indexRange)}return N}return{getSegmentByIndex:A,getSegmentByTime:function U(P,V){if(p(),!P)return null;var k=P.segmentDuration;if(isNaN(k))return null;var R=g.calcPeriodRelativeTimeFromMpdRelativeTime(P,V);return A(P,Math.floor(R/k))},getMediaFinishedInformation:function y(P){var V={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!P)return V;var k=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentList,R=P&&!isNaN(P.startNumber)?P.startNumber:1,D=Math.max(R-1,0);return V.numberOfSegments=D+k.SegmentURL_asArray.length,V}}}b.__dashjs_factory_name="ListSegmentsGetter";var F=t.default.getClassFactory(b);C.default=F},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function O(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C),c.d(C,"default",function(){return x});var x=function(){function h(){!function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}(this,h)}return function b(h,p,y){return p&&O(h.prototype,p),y&&O(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,null,[{key:"round10",value:function(y,A){return function g(h,p,y){return typeof y>"u"||0==+y?Math[h](p):(y=+y,null===(p=+p)||isNaN(p)||"number"!=typeof y||y%1!=0?NaN:(p=p.toString().split("e"),+((p=(p=Math[h](+(p[0]+"e"+(p[1]?+p[1]-y:-y)))).toString().split("e"))[0]+"e"+(p[1]?+p[1]+y:y))))}("round",y,A)}}]),h}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function O(F){var L=(F=F||{}).timelineConverter;function g(){if(!L||!L.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function p(U,P){if(g(),!U)return null;var k,V=U.segments?U.segments.length:-1;if(P<V&&(k=U.segments[P])&&k.index===P)return k;for(var R=0;R<V;R++)if((k=U.segments[R])&&k.index===P)return k;return null}return{getSegmentByIndex:p,getSegmentByTime:function y(U,P){return g(),p(U,function A(U,P){if(!U)return-1;var D,I,T,N,S,V=U.segments,k=V?V.length:null,R=-1;if(V&&k>0)for(S=0;S<k;S++)if(P+(D=(N=(I=V[S]).duration)/2)>=(T=I.presentationStartTime)&&P-D<T+N){R=I.index;break}return R}(U,P))},getMediaFinishedInformation:function h(U){var P={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!U||!U.segments||(P.numberOfSegments=U.segments.length),P}}}O.__dashjs_factory_name="SegmentBaseGetter";var b=t.default.getClassFactory(O);C.default=b},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(Ze,C,c){"use strict";c.r(C),c.d(C,"unescapeDollarsInTemplate",function(){return b}),c.d(C,"replaceIDForTemplate",function(){return F}),c.d(C,"replaceTokenForTemplate",function(){return L}),c.d(C,"getIndexBasedSegment",function(){return h}),c.d(C,"getTimeBasedSegment",function(){return p});var t=c(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function E(y,A){for(;y.length<A;)y="0"+y;return y}function b(y){return y&&y.split("$$").join("$")}function F(y,A){if(!A||!y||-1===y.indexOf("$RepresentationID$"))return y;var U=A.toString();return y.split("$RepresentationID$").join(U)}function L(y,A,U){var V,k,R,D,I,T,N=A.length;if(!y)return y;for(;;){if((V=y.indexOf("$"+A))<0||(k=y.indexOf("$",V+N))<0)return y;if((R=y.indexOf("%0",V+N))>V&&R<k)switch(D=y.charAt(k-1),I=parseInt(y.substring(R+2,k-1),10),D){case"d":case"i":case"u":T=E(U.toString(),I);break;case"x":T=E(U.toString(16),I);break;case"X":T=E(U.toString(16),I).toUpperCase();break;case"o":T=E(U.toString(8),I);break;default:return y}else T=U;y=y.substring(0,V)+T+y.substring(k+1)}}function x(y,A,U,P,V,k,R,D){var I=new t.default;return I.representation=y,I.duration=A,I.presentationStartTime=U,I.mediaStartTime=P,I.availabilityStartTime=V.calcAvailabilityStartTimeFromPresentationTime(k,y,R),I.availabilityEndTime=V.calcAvailabilityEndTimeFromPresentationTime(k+A,y,R),I.wallStartTime=V.calcWallTimeForSegment(I,R),I.replacementNumber=function O(y,A){return y.representation.startNumber+A}(I,D),I.index=D,I}function g(y,A,U,P){var V=A.adaptation.period;if(isFinite(V.duration)&&V.start+V.duration<=U.presentationStartTime)return!1;if(P){if("INF"===A.availabilityTimeOffset)return!0;var k=y.getClientReferenceTime();return U.availabilityStartTime.getTime()<=k&&(!isFinite(U.availabilityEndTime)||U.availabilityEndTime.getTime()>=k)}return!0}function h(y,A,U,P){var V,k,R;V=U.segmentDuration,isNaN(V)&&(V=U.adaptation.period.duration),k=parseFloat((U.adaptation.period.start+P*V).toFixed(5)),R=parseFloat((k+V).toFixed(5));var I=x(U,V,k,y.calcMediaTimeFromPresentationTime(k,U),y,R,A,P);return g(y,U,I,A)?I:null}function p(y,A,U,P,V,k,R,D,I,T){var B,re,N=P/k,S=V/k;return B=y.calcPresentationTimeFromMediaTime(N,U),g(y,U,re=x(U,S,B,N,y,B+S,A,I),A)?(re.replacementTime=T||P,R=L(R,"Number",re.replacementNumber),R=L(R,"Time",re.replacementTime),re.media=R,re.mediaRange=D,re):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function b(L,x){var g=(L=L||{}).timelineConverter;function p(){if(!g||!g.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function A(P,V){if(p(),!P)return null;var k=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentTemplate;V=Math.max(V,0);var R=Object(O.getIndexBasedSegment)(g,x,P,V);if(R){R.replacementTime=Math.round((V-1)*P.segmentDuration*P.timescale,10);var D=k.media;D=Object(O.replaceTokenForTemplate)(D,"Number",R.replacementNumber),D=Object(O.replaceTokenForTemplate)(D,"Time",R.replacementTime),R.media=D}return R}return{getSegmentByIndex:A,getSegmentByTime:function U(P,V){if(p(),!P)return null;var k=P.segmentDuration;if(isNaN(k))return null;var R=g.calcPeriodRelativeTimeFromMpdRelativeTime(P,V);return A(P,Math.floor(R/k))},getMediaFinishedInformation:function y(P){var V={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!P)return V;var k=P.segmentDuration;return V.numberOfSegments=isNaN(k)?1:Math.ceil(P.adaptation.period.duration/k),V}}}b.__dashjs_factory_name="TemplateSegmentsGetter";var F=t.default.getClassFactory(b);C.default=F},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),L=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),x=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),g=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function p(){var P,V,k,R,y=this.context,A=Object(t.default)(y).getInstance(),U=Object(L.default)(y).getInstance();function N(Pe){R=Pe}function B(Pe,Oe,je,ze){var He,Ae=Oe.adaptation.period.mpd,be=Ae.availabilityStartTime;if(ze)He=je&&Ae.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(be.getTime()+1e3*(Pe+Ae.timeShiftBufferDepth)):Ae.availabilityEndTime;else if(je){var K=Oe.availabilityTimeOffset;He=new Date(be.getTime()+1e3*(Pe-K))}else He=be;return He}function se(Pe,Oe){return(Pe.getTime()-Oe.mpd.availabilityStartTime.getTime()+1e3*R)/1e3}function Re(Pe,Oe){return Pe+(Oe.adaptation.period.start-Oe.presentationTimeOffset)}function ue(Pe){var Oe={start:NaN,end:NaN},je=Pe[0].getAdapter().getRegularPeriods()[0],ze=se(new Date,je);if(!Pe||0===Pe.length)return{range:Oe,now:ze};Pe.forEach(function(Ae){var be=Ae.getAdapter(),K=be.getMediaInfoForType(Ae.getStreamInfo(),x.default.VIDEO)||be.getMediaInfoForType(Ae.getStreamInfo(),x.default.AUDIO),he=be.getVoRepresentations(K)[0],$={start:NaN,end:NaN};if(he)if(he.segmentInfoType===b.default.SEGMENT_TIMELINE)$=function le(Pe){var ie,he,$,Z,je=V.getRepresentationFor(Pe.index,Pe.adaptation.period.mpd.manifest.Period_asArray[Pe.adaptation.period.index].AdaptationSet_asArray[Pe.adaptation.index]),He=je.SegmentTemplate.timescale,Ae=je.SegmentTemplate.SegmentTimeline.S_asArray,be={start:0,end:0},K=0;for(be.start=Re(Ae[0].t/He,Pe),$=0,Z=Ae.length;$<Z;$++)he=0,(ie=Ae[$]).hasOwnProperty("r")&&(he=ie.r),K+=ie.d*(1+he);return be.end=Re((Ae[0].t+K)/He,Pe),be}(he);else{var Z=he.adaptation.period;$.start=Z.start,$.end=Math.max(ze,Z.start+Z.duration)}!isNaN($.start)&&(isNaN(Oe.start)||Oe.start>$.start)&&(Oe.start=$.start),!isNaN($.end)&&(isNaN(Oe.end)||Oe.end<$.end)&&(Oe.end=$.end)}),Oe.end=Math.min(ze,Oe.end);var He=Ie(Pe,Oe.end,!0);return Oe.end=isNaN(He)?Oe.end:He,Oe.start=je&&je.mpd&&je.mpd.timeShiftBufferDepth&&!isNaN(je.mpd.timeShiftBufferDepth)&&!isNaN(Oe.end)?Math.max(Oe.end-je.mpd.timeShiftBufferDepth,Oe.start):Oe.start,Oe.start=Ie(Pe,Oe.start),{range:Oe,now:ze}}function Se(Pe,Oe){k=Pe-Oe.end}function Ie(Pe,Oe){var je=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var ze=0,He=!1,Ae=NaN;!He&&ze<Pe.length;){var be=Pe[ze].getStreamInfo();be.start<=Oe&&(!isFinite(be.duration)||be.start+be.duration>=Oe)?(Ae=Oe,He=!0):!je&&be.start>Oe&&(isNaN(Ae)||be.start<Ae)?Ae=be.start:je&&be.start+be.duration<Oe&&(isNaN(Ae)||be.start+be.duration>Ae)&&(Ae=be.start+be.duration),ze+=1}return Ae}catch{return Oe}}function we(Pe){void 0!==Pe.offset&&!isNaN(Pe.offset)&&N(Pe.offset/1e3)}function _e(){R=0,k=0}function Le(){A.off(E.default.UPDATE_TIME_SYNC_OFFSET,we,this),_e()}return P={initialize:function I(){_e(),A.on(E.default.UPDATE_TIME_SYNC_OFFSET,we,this)},getClientTimeOffset:function T(){return R},setClientTimeOffset:N,getClientReferenceTime:function S(){return Date.now()-1e3*k+1e3*R},calcAvailabilityStartTimeFromPresentationTime:function Y(Pe,Oe,je){return B(Pe,Oe,je)},calcAvailabilityEndTimeFromPresentationTime:function re(Pe,Oe,je){return B(Pe,Oe,je,!0)},calcPresentationTimeFromWallTime:se,calcPresentationTimeFromMediaTime:Re,calcPeriodRelativeTimeFromMpdRelativeTime:function Me(Pe,Oe){return Oe-Pe.adaptation.period.start},calcMediaTimeFromPresentationTime:function z(Pe,Oe){return Pe-Oe.adaptation.period.start+Oe.presentationTimeOffset},calcWallTimeForSegment:function oe(Pe,Oe){var ze,He;return Oe&&(ze=Pe.presentationStartTime+Pe.representation.adaptation.period.mpd.suggestedPresentationDelay,He=new Date(Pe.availabilityStartTime.getTime()+1e3*ze)),He},calcTimeShiftBufferWindow:function H(Pe,Oe){if(!Oe)return function me(Pe){var Oe={start:NaN,end:NaN},je=0,ze=NaN;return Pe.forEach(function(He){var Ae=He.getStreamInfo();je+=Ae.duration,(isNaN(ze)||Ae.start<ze)&&(ze=Ae.start)}),Oe.start=ze,Oe.end=ze+je,Oe}(Pe);if(U.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var je=ue(Pe);return Se(je.now,je.range),je.range}return function ne(Pe){var Oe={start:NaN,end:NaN};if(!Pe||0===Pe.length)return Oe;var je=Pe[0].getAdapter().getRegularPeriods()[0],ze=se(new Date,je),He=je.mpd.timeShiftBufferDepth,Ae=isNaN(He)?0:ze-He;if(Oe.start=Ie(Pe,Ae),Oe.end=!isNaN(Oe.start)&&ze<Oe.start?ze:Ie(Pe,ze,!0),!isNaN(He)&&Oe.end<ze-He&&(Oe.end=NaN),U.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var be=ue(Pe);if(be.range.end<Oe.start)return A.trigger(g.default.CONFORMANCE_VIOLATION,{level:h.default.LEVELS.WARNING,event:h.default.EVENTS.INVALID_DVR_WINDOW}),Se(be.now,be.range),be.range}return Oe}(Pe)},reset:Le},function D(){V=Object(F.default)(y).getInstance(),Le()}(),P}p.__dashjs_factory_name="TimelineConverter",C.default=O.default.getSingletonFactory(p)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function b(L,x){var g=(L=L||{}).timelineConverter,h=L.dashMetrics;function y(){if(!g)throw new Error(E.default.MISSING_CONFIG_ERROR)}function U(D,I){var re,se,Re,z,oe,H,me,T=D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList,S=T.SegmentURL_asArray,B=0,Y=-1;me=D.timescale;var ne=!1;for(Re=0,z=(re=T.SegmentTimeline.S_asArray).length;Re<z&&!ne;Re++)for(H=0,(se=re[Re]).hasOwnProperty("r")&&(H=se.r),se.hasOwnProperty("t")&&(B=se.t),H<0&&(H=P(D,re[Re+1],se,me,B/me)),oe=0;oe<=H&&!ne;oe++)(ne=I(B,T,S,se,me,++Y,Re))&&(D.segmentDuration=se.d/me),B+=se.d}function P(D,I,T,N,S){var B;if(I&&I.hasOwnProperty("t"))B=I.t/N;else try{var Y=0;if(isNaN(D.adaptation.period.start)||isNaN(D.adaptation.period.duration)||!isFinite(D.adaptation.period.duration)){var re=h.getCurrentDVRInfo();Y=isNaN(re.end)?0:re.end}else Y=D.adaptation.period.start+D.adaptation.period.duration;B=g.calcMediaTimeFromPresentationTime(Y,D),D.segmentDuration=T.d/N}catch{B=0}return Math.max(Math.ceil((B-S)/(T.d/N))-1,0)}return{getSegmentByIndex:function V(D,I,T){if(y(),!D)return null;var N=null,S=!1;return U(D,function(B,Y,re,se,Re,z,oe){if(S||T<0){var H=Y.media,me=se.mediaRange;return re&&(H=re[oe].media||"",me=re[oe].mediaRange),N=Object(O.getTimeBasedSegment)(g,x,D,B,se.d,Re,H,me,z,se.tManifest),!0}return B>=T*Re-.5*se.d&&(S=!0),!1}),N},getSegmentByTime:function k(D,I){if(y(),!D)return null;void 0===I&&(I=null);var T=null,N=g.calcMediaTimeFromPresentationTime(I,D);return U(D,function(S,B,Y,re,se,Re,z){var oe=function R(D){return parseFloat(D.toPrecision(15))}(N*se);if(oe<S+re.d&&oe>=S){var H=B.media,me=re.mediaRange;return Y&&(H=Y[z].media||"",me=Y[z].mediaRange),T=Object(O.getTimeBasedSegment)(g,x,D,S,re.d,se,H,me,Re,re.tManifest),!0}return!1}),T},getMediaFinishedInformation:function A(D){if(!D)return 0;var Y,re,se,Re,z,oe,H,N=0,S=0,B=0;for(H=D.timescale,Re=(Y=(D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList).SegmentTimeline.S_asArray).length,se=0;se<Re;se++)for(oe=0,(re=Y[se]).hasOwnProperty("r")&&(oe=re.r),re.hasOwnProperty("t")&&(S=(N=re.t)/H),oe<0&&(oe=P(D,Y[se+1],re,H,S)),z=0;z<=oe;z++)B++,S=(N+=re.d)/H;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:S}}}}b.__dashjs_factory_name="TimelineSegmentsGetter";var F=t.default.getClassFactory(b);C.default=F},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function E(p,y){for(var A=0;A<y.length;A++){var U=y[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(p,b(U.key),U)}}function O(p,y,A){return y&&E(p.prototype,y),A&&E(p,A),Object.defineProperty(p,"prototype",{writable:!1}),p}function b(p){var y=function F(p,y){if("object"!==t(p)||null===p)return p;var A=p[Symbol.toPrimitive];if(void 0!==A){var U=A.call(p,y||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(p)}(p,"string");return"symbol"===t(y)?y:String(y)}c.r(C);var h=O(function p(y,A,U,P){(function L(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=y||"",this.serviceLocation=A||y||"",this.dvb_priority=U||1,this.dvb_weight=P||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});h.DEFAULT_DVB_PRIORITY=1,h.DEFAULT_DVB_WEIGHT=1,C.default=h},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function O(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function b(h,p,y){return p&&O(h.prototype,p),y&&O(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}function F(h){var p=function L(h,p){if("object"!==E(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==E(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===E(p)?p:String(p)}C.default=b(function h(p){(function x(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.url=p||null,this.type=t.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function O(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,F(y.key),y)}}function F(g){var h=function L(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function g(h,p,y){(function E(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.action=h,this.xpath=p,this.value=y,this.position=null}return function b(g,h,p){return h&&O(g.prototype,h),p&&O(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}(g,[{key:"getMpdTarget",value:function(p){return this.xpath.getMpdTarget(p,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),g}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C);var x=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});x.DEFAULT_ID="defaultId",C.default=x},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,L(A.key),A)}}function L(h){var p=function x(h,p){if("object"!==E(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==E(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===E(p)?p:String(p)}C.default=function(){function h(){(function O(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function F(h,p,y){return p&&b(h.prototype,p),y&&b(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==t.default.BASE_URL&&this.segmentInfoType!==t.default.SEGMENT_BASE&&!this.indexRange}}]),h}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function O(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,F(y.key),y)}}function F(g){var h=function L(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function g(h){var p=this;(function E(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.valid="/"==h[0],this.path=h.split("/").filter(function(y){return 0!==y.length}).map(function(y){var A={name:y},U=y.indexOf("[");if(-1!=U){A.name=y.substring(0,U);var P=y.substring(U+1,y.length-1);p.valid=p.valid&&-1==P.indexOf("[");var V=P.indexOf("=");-1!=V?(A.attribute={name:P.substring(1,V),value:P.substring(V+1)},-1!=["'",'"'].indexOf(A.attribute.value[0])&&(A.attribute.value=A.attribute.value.substring(1,A.attribute.value.length-1))):A.position=parseInt(P,10)-1}return A})}return function b(g,h,p){return h&&O(g.prototype,h),p&&O(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}(g,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(p,y){for(var A=null,U=p,P=1,V="MPD";P<this.path.length&&null!==U;){A=U;var k=this.path[P];if(V=k.name,P!==this.path.length-1||!V.startsWith("@")){var R=A[V+"_asArray"]||[];0===R.length&&A[V]&&R.push(A[V]),k.position?U=R[k.position]||null:k.attribute?function(){var D=k.attribute;U=R.filter(function(I){return I[D.name]==D.value})[0]||null}():U=R[0]||null}P++}return null===U?null:V.startsWith("@")?{name:V.substring(1),leaf:U,target:U}:{name:V,leaf:U,target:y?A:U}}}]),g}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),O=c(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),b=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function L(x){var P,V,g=this.context,h=(x=x||{}).eventBus,p=x.events,y=x.urlUtils,A=x.errors,U=x.streamId;return P={checkForExistence:function R(N){var S=function(re){h.trigger(p.CHECK_FOR_EXISTENCE_COMPLETED,{request:N,exists:re})};if(N){var B=new O.default(N.url);V.load({request:B,success:function(){S(!0)},error:function(){S(!1)}})}else S(!1)},load:function D(N){var S=function(Y,re){h.trigger(p.LOADING_COMPLETED,{request:N,response:Y||null,error:re||null,sender:P})};N?V.load({request:N,progress:function(Y){h.trigger(p.LOADING_PROGRESS,{request:N,stream:Y.stream,streamId:U}),Y.data&&h.trigger(p.LOADING_DATA_PROGRESS,{request:N,response:Y.data||null,error:null,sender:P})},success:function(Y){S(Y)},error:function(Y,re,se){S(void 0,new b.default(A.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,se,re))},abort:function(Y){Y&&h.trigger(p.LOADING_ABANDONED,{mediaType:Y.mediaType,request:Y,sender:P})}}):S(void 0,new b.default(A.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,A.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function I(){V&&V.abort()},reset:function T(){V&&(V.abort(),V=null)}},function k(){V=Object(E.default)(g).create({errHandler:x.errHandler,errors:A,dashMetrics:x.dashMetrics,mediaPlayerModel:x.mediaPlayerModel,requestModifier:x.requestModifier,urlUtils:y,constants:t.default,boxParser:x.boxParser,dashConstants:x.dashConstants,requestTimeout:x.settings.get().streaming.fragmentRequestTimeout})}(),P}L.__dashjs_factory_name="FragmentLoader",C.default=F.default.getClassFactory(L)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),b=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),F=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),x=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),g=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),h=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),p=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),A=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),U=c(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function P(k){var S,B,Y,re,se,R=this.context,D=(k=k||{}).debug,I=k.settings,T=Object(h.default)(R).getInstance(),N=Object(F.default)(R).getInstance(),Re=k.mssHandler,z=k.errHandler;function H(Se){T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:Se.manifest})}return S={load:function ne(Se){var Ie=new L.default(Se,g.HTTPRequest.MPD_TYPE);Y.load({request:Ie,success:function(Me,we,_e){if(re){var Le,Pe,Oe;if(_e&&_e!==Se?(Pe=N.parseBaseUrl(_e),Le=_e):(N.isRelative(Se)&&(Se=N.resolve(Se,window.location.href)),Pe=N.parseBaseUrl(Se)),"No Content"==we)return void T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===se&&(se=function me(Se){var Ie=null;return Se.indexOf("SmoothStreamingMedia")>-1?(Re&&(Ie=Re.createMssParser(),Re.registerEvents()),Ie):Se.indexOf("MPD")>-1||Se.indexOf("Patch")>-1?Object(U.default)(R).create({debug:D}):Ie}(Me)),null===se)return void T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))});re.setMatchers(se.getMatchers()),re.setIron(se.getIron());try{Oe=se.parse(Me)}catch{return void T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))})}if(Oe){if(Oe.url=Le||Se,Oe.originalUrl||(Oe.originalUrl=Oe.url),Oe.hasOwnProperty(t.default.LOCATION)&&(Pe=N.parseBaseUrl(Oe.Location_asArray[0]),B.debug("BaseURI set by Location to: "+Pe)),I&&I.get().streaming.enableManifestDurationMismatchFix&&Oe.mediaPresentationDuration&&Oe.Period_asArray.length>1){var je=Oe.Period_asArray.reduce(function(ze,He){return ze+He.duration},0);!isNaN(je)&&Oe.mediaPresentationDuration>je&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Oe.mediaPresentationDuration=je)}Oe.baseUri=Pe,Oe.loadedTime=new Date,re.resolveManifestOnLoad(Oe),T.trigger(p.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Me})}else T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))})}},error:function(Me,we,_e){T.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(y.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(Se,", ").concat(_e))})}})},reset:function ue(){T.off(p.default.XLINK_READY,H,S),Re&&Re.reset(),re&&(re.reset(),re=null),Y&&(Y.abort(),Y=null)}},function oe(){B=D.getLogger(S),T.on(p.default.XLINK_READY,H,S),Y=Object(b.default)(R).create({errHandler:k.errHandler,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,urlUtils:N,constants:t.default,dashConstants:E.default,errors:y.default,requestTimeout:k.settings.get().streaming.manifestRequestTimeout}),re=Object(O.default)(R).create({errHandler:z,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,settings:k.settings}),se=null}(),S}P.__dashjs_factory_name="ManifestLoader";var V=A.default.getClassFactory(P);C.default=V},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),b=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),x=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),g=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function h(){var U,P,V,k,R,D,I,T,N,S,B,Y,p=this.context,y=Object(t.default)(p).getInstance(),A=Object(g.default)(p).getInstance();function oe(){V=NaN,I=!1,R=!0,D=!1,me()}function me(){null!==k&&(clearTimeout(k),k=null)}function ne(Pe){me(),!D&&(isNaN(Pe)&&!isNaN(V)&&(Pe=1e3*V),isNaN(Pe)||(P.debug("Refresh manifest in "+Pe+" milliseconds."),k=setTimeout(Ie,Pe)))}function ue(){var Pe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I=!0;var Oe=N.getValue(),je=Oe.url,ze=S.getPatchLocation(Oe),He=S.getLocation(Oe);ze&&!Pe?je=ze:He&&(je=He),A.isRelative(je)&&(je=A.resolve(je,Oe.url)),T.load(je)}function Se(Pe){if(Pe){if(S.getIsPatch(Pe)){var Oe=Pe;Pe=N.getValue();var je=S.isPatchValid(Pe,Oe),ze=je;if(je){var He=S.getPublishTime(Pe);ze=S.applyPatchToManifest(Pe,Oe);var Ae=S.getPublishTime(Pe);ze=He.getTime()!=Ae.getTime()}if(!ze)return P.debug("Patch provided is invalid, performing full manifest refresh"),void ue(!0);Pe.loadedTime=new Date}}else(Pe=N.getValue()).loadedTime=new Date;if(N.getValue()&&N.getValue().type===x.default.DYNAMIC&&Pe.type===x.default.STATIC)return y.trigger(E.default.DYNAMIC_TO_STATIC),I=!1,void(D=!0);N.setValue(Pe);var be=new Date,K=(be.getTime()-Pe.loadedTime.getTime())/1e3;1e3*(V=S.getManifestUpdatePeriod(Pe,K))>2147483647&&(V=2147483.647),y.trigger(E.default.MANIFEST_UPDATED,{manifest:Pe}),P.info("Manifest has been refreshed at "+be+"["+be.getTime()/1e3+"] "),R||ne()}function Ie(){if(!R){if(I)return void ne(Y.get().streaming.manifestUpdateRetryInterval);ue()}}function le(Pe){Pe.error?Pe.error.code===L.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(Pe.error):Se(Pe.manifest)}function Me(){R=!1,ne()}function we(){(R=!Y.get().streaming.scheduling.scheduleWhilePaused)&&me()}function _e(){I=!1}return U={initialize:function Re(){oe(),y.on(E.default.STREAMS_COMPOSED,_e,this),y.on(O.default.PLAYBACK_STARTED,Me,this),y.on(O.default.PLAYBACK_PAUSED,we,this),y.on(E.default.INTERNAL_MANIFEST_LOADED,le,this)},setManifest:function z(Pe){Se(Pe)},refreshManifest:ue,getIsUpdating:function Le(){return I},setConfig:function se(Pe){Pe&&(Pe.manifestModel&&(N=Pe.manifestModel),Pe.adapter&&(S=Pe.adapter),Pe.manifestLoader&&(T=Pe.manifestLoader),Pe.errHandler&&(B=Pe.errHandler),Pe.settings&&(Y=Pe.settings))},reset:function H(){y.off(O.default.PLAYBACK_STARTED,Me,this),y.off(O.default.PLAYBACK_PAUSED,we,this),y.off(E.default.STREAMS_COMPOSED,_e,this),y.off(E.default.INTERNAL_MANIFEST_LOADED,le,this),oe()}},function re(){P=Object(F.default)(p).getInstance().getLogger(U)}(),U}h.__dashjs_factory_name="ManifestUpdater",C.default=b.default.getClassFactory(h)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),E=c.n(t),O=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),L=c(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),x=c(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),g=c(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),h=c(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),p=c(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),y=c(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),A=c(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),U=c(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),P=c(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),V=c(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),k=c(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),R=c(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),D=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),I=c(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),T=c(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),N=c(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),S=c(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=c(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),Y=c(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),re=c(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),se=c(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Re=c(
/*! ./../core/Debug */
"./src/core/Debug.js"),z=c(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),oe=c(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),H=c(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),me=c(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),ne=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),ue=c(
/*! ../core/Settings */
"./src/core/Settings.js"),Se=c(
/*! ../core/Version */
"./src/core/Version.js"),Ie=c(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),le=c(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Me=c(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),we=c(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),_e=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),Le=c(
/*! ../../externals/base64 */
"./externals/base64.js"),Pe=c.n(Le),Oe=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),je=c.n(Oe),ze=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),He=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),Ae=c(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),be=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),K=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),ie=c(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),he=c(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function $(){var Ye,Be,$e,Qe,qe,ct,Ot,_t,Rt,Gt,$t,Qt,dn,gn,jn,ot,dt,xe,fe,pe,at,mt,Dt,ut,bt,Nt,Zt,wt,Ht,en,tn,yn,Tn,On,In,Jn,fi,W="You must first call initialize() and set a source before calling this method",X="You must first call initialize() and set a valid source and view before calling this method",Q="You must first call attachView() to set the video element before calling this method",J="MediaPlayer not initialized!",de=this.context,ge=Object(oe.default)(de).getInstance(),ce=Object(ue.default)(de).getInstance(),Ce=Object(Re.default)(de).getInstance({settings:ce});function Xt(){Yo(null),wi(null),Qe=null,dn&&(dn.reset(),dn=null),gn&&(gn.reset(),gn=null),fe&&fe.reset(),ce.reset(),ot&&(ot.reset(),ot=null)}function nt(){return!!$e&&!!On.getElement()}function Vt(){return Object(Se.getVersionString)()}function Bt(){if(!Ot)throw X;return Zt.isPaused()}function ht(){if(!Ot)throw X;return Zt.getIsDynamic()}function Si(Jt){var We=ut&&ut.hasVideoTrack()?O.default.VIDEO:O.default.AUDIO,et=tn.getCurrentDVRInfo(We);if(!et)return 0;var Ve=Zt.getOriginalLiveDelay(),yt=et.range.start+Jt;return yt>et.range.end-Ve&&(yt=et.range.end-Ve),yt}function Cn(Jt){if(!Ot)throw X;var We=ci().currentTime;if(void 0!==Jt)We=ut.getTimeRelativeToStreamId(We,Jt);else if(Zt.getIsDynamic()){var et=ut&&ut.hasVideoTrack()?O.default.VIDEO:O.default.AUDIO,Ve=tn.getCurrentDVRInfo(et);We=null===Ve||0===We?0:Math.max(0,We-Ve.range.start)}return We}function Cr(){if(!Ot)throw X;var Jt=ci().duration;if(Zt.getIsDynamic()){var We=ut&&ut.hasVideoTrack()?O.default.VIDEO:O.default.AUDIO,et=tn.getCurrentDVRInfo(We);Jt=et?et.range.end-et.range.start:0}return Jt}function $n(Jt){Object(He.checkParameterType)(Jt,"boolean"),_t=Jt}function vr(){fe.restoreDefaultUTCTimingSources()}function hn(){return tn}function ci(){if(!On.getElement())throw Q;return On.getElement()}function wi(Jt){if(!qe)throw J;On.setElement(Jt),Jt&&(gs(),function Ur(){if(!gn){var Jt=dashjs.MetricsReporting;if("function"==typeof Jt){var We=Jt(de).create();gn=We.createMetricsReporting({debug:Ce,eventBus:ge,mediaElement:ci(),adapter:dt,dashMetrics:tn,mediaPlayerModel:xe,events:H.default,constants:O.default,metricsConstants:F.default})}}}(),function Mo(){if(!jn){var Jt=dashjs.MssHandler;"function"==typeof Jt&&(z.default.extend(Jt.errors),jn=Jt(de).create({eventBus:ge,mediaPlayerModel:xe,dashMetrics:tn,manifestModel:yn,playbackController:Zt,streamController:ut,protectionController:dn,baseURLController:at,errHandler:pe,events:H.default,constants:O.default,debug:Ce,initSegmentType:_e.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Pe.a,ISOBoxer:je.a,settings:ce}))}}(),ut&&ut.switchToVideoElement()),Ot&&Ls(),Pi()}function Br(Jt){if(!ct)throw W;var We=ut.getActiveStreamInfo();return We?Qt.getTracksFor(Jt,We.id):[]}function Yo(Jt){var We=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!qe)throw J;"string"==typeof Jt&&In.initialize(Jt),(null==We||isNaN(We))&&(We=NaN),We=Math.max(0,We),$e=Jt,(ct||Ot)&&Ls(),nt()&&Pi(We)}function ea(){if(!ct)throw W;var Jt=ut.getActiveStreamInfo();return Jt?ut.getStreamById(Jt.id):null}function Ls(){Ot=!1,ct=!1,dt.reset(),ut.reset(),Nt.reset(),en.reset(),Zt.reset(),wt.reset(),Ht.reset(),Rt.reset(),Qt.reset(),fi.reset(),dn&&(ce.get().streaming.protection.keepProtectionMediaKeys?dn.stop():(dn.reset(),dn=null,gs())),bt.reset(),Tn.reset()}function va(){return Object(P.default)(de).create({debug:Ce,errHandler:pe,dashMetrics:tn,mediaPlayerModel:xe,requestModifier:Object(D.default)(de).getInstance(),mssHandler:jn,settings:ce})}function gs(){if(dn)return dn;var Jt=dashjs.Protection;if("function"==typeof Jt){var We=Jt(de).create();return H.default.extend(Jt.events),me.default.extend(Jt.events,{publicOnly:!0}),z.default.extend(Jt.errors),mt||(mt=Object(k.default)(de).getInstance()),dn=We.createProtectionSystem({debug:Ce,errHandler:pe,videoModel:On,customParametersModel:fe,capabilities:mt,eventBus:ge,events:H.default,BASE64:Pe.a,constants:O.default,cmcdModel:Tn,settings:ce})}return null}function Hr(){if(!qe)throw J;if(ot)return ot;var Jt=dashjs.OfflineController;if("function"==typeof Jt){H.default.extend(Jt.events),me.default.extend(Jt.events,{publicOnly:!0}),z.default.extend(Jt.errors);var We=va(),et=Object(Ae.default)(de).create();return et.setConfig({manifestModel:yn,adapter:dt,manifestLoader:We,errHandler:pe}),ot=Jt(de).create({debug:Ce,manifestUpdater:et,baseURLController:at,manifestLoader:We,manifestModel:yn,mediaPlayerModel:xe,abrController:Rt,playbackController:Zt,adapter:dt,errHandler:pe,dashMetrics:tn,timelineConverter:$t,segmentBaseController:fi,schemeLoaderFactory:Gt,eventBus:ge,events:H.default,errors:z.default,constants:O.default,settings:ce,dashConstants:b.default,urlUtils:Object(be.default)(de).getInstance()})}return null}function ta(Jt){var We=ut&&ut.hasVideoTrack()?O.default.VIDEO:O.default.AUDIO,et=tn.getCurrentDVRInfo(We);return et?Jt+(et.manifestInfo.availableFrom.getTime()/1e3+et.range.start):0}function Pi(){var Jt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;ot&&ot.resetRecords(),!ct&&$e&&(ct=!0,Be.info("Streaming Initialized"),function pl(){var Jt=va();ut||(ut=Object(x.default)(de).getInstance()),bt||(bt=Object(ie.default)(de).create({errHandler:pe,manifestModel:yn,adapter:dt,mediaController:Qt,videoModel:On,settings:ce})),Dt.setConfig({capabilities:mt,customParametersModel:fe,adapter:dt,settings:ce,manifestModel:yn,errHandler:pe}),ut.setConfig({capabilities:mt,capabilitiesFilter:Dt,manifestLoader:Jt,manifestModel:yn,mediaPlayerModel:xe,customParametersModel:fe,protectionController:dn,textController:bt,adapter:dt,dashMetrics:tn,errHandler:pe,timelineConverter:$t,videoModel:On,playbackController:Zt,serviceDescriptionController:wt,contentSteeringController:Ht,abrController:Rt,mediaController:Qt,settings:ce,baseURLController:at,uriFragmentModel:In,segmentBaseController:fi}),Nt.setConfig({settings:ce,playbackController:Zt,streamController:ut,videoModel:On,timelineConverter:$t,adapter:dt}),Zt.setConfig({streamController:ut,serviceDescriptionController:wt,dashMetrics:tn,adapter:dt,videoModel:On,timelineConverter:$t,settings:ce}),en.setConfig({streamController:ut,playbackController:Zt,mediaPlayerModel:xe,videoModel:On,settings:ce}),Rt.setConfig({streamController:ut,domStorage:Jn,mediaPlayerModel:xe,customParametersModel:fe,dashMetrics:tn,adapter:dt,videoModel:On,settings:ce}),Tn.setConfig({abrController:Rt,dashMetrics:tn,playbackController:Zt}),Ht.setConfig({adapter:dt,errHandler:pe,dashMetrics:tn,mediaPlayerModel:xe,manifestModel:yn,abrController:Rt,eventBus:ge,requestModifier:Object(D.default)(de).getInstance()}),Rt.initialize(),ut.initialize(_t,Qe),bt.initialize(),Nt.initialize(),en.initialize(),Tn.initialize(),Ht.initialize(),fi.initialize()}(),"string"==typeof $e?ut.load($e,Jt):ut.loadWithManifest($e,Jt)),!Ot&&nt()&&(Ot=!0,Be.info("Playback Initialized"))}return Ye={initialize:function st(Jt,We,et){var Ve=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;mt||(mt=Object(k.default)(de).getInstance()).setConfig({settings:ce}),pe||(pe=Object(V.default)(de).getInstance()),mt.supportsMediaSource()?(qe||(qe=!0,$t=Object(we.default)(de).getInstance(),Rt||(Rt=Object(S.default)(de).getInstance()).setConfig({settings:ce}),Gt||(Gt=Object(B.default)(de).getInstance()),Zt||(Zt=Object(L.default)(de).getInstance()),Qt||(Qt=Object(A.default)(de).getInstance()),ut||(ut=Object(x.default)(de).getInstance()),Nt||(Nt=Object(g.default)(de).getInstance()),en||(en=Object(h.default)(de).getInstance()),wt||(wt=Object(p.default)(de).getInstance()),Ht||(Ht=Object(y.default)(de).getInstance()),Dt||(Dt=Object(R.default)(de).getInstance()),dt=Object(le.default)(de).getInstance(),yn=Object(T.default)(de).getInstance(),Tn=Object(re.default)(de).getInstance(),tn=Object(Me.default)(de).getInstance({settings:ce}),Jn=Object(se.default)(de).getInstance({settings:ce}),dt.setConfig({constants:O.default,cea608parser:E.a,errHandler:pe,BASE64:Pe.a}),at||(at=Object(U.default)(de).create()),at.setConfig({adapter:dt}),wt.setConfig({adapter:dt}),fi||(fi=Object(Ie.default)(de).getInstance({dashMetrics:tn,mediaPlayerModel:xe,errHandler:pe,baseURLController:at,events:H.default,eventBus:ge,debug:Ce,boxParser:Object(K.default)(de).getInstance(),requestModifier:Object(D.default)(de).getInstance(),errors:z.default})),Qt.setConfig({domStorage:Jn,settings:ce,customParametersModel:fe}),xe.setConfig({playbackController:Zt,serviceDescriptionController:wt}),vr(),$n(void 0===et||et),Hr()),Jt&&wi(Jt),We&&Yo(We,Ve),Be.info("[dash.js "+Vt()+"] MediaPlayer has been initialized")):pe.error(new ze.default(z.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,z.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function St(Jt){Jt&&(Jt.capabilities&&(mt=Jt.capabilities),Jt.capabilitiesFilter&&(Dt=Jt.capabilitiesFilter),Jt.streamController&&(ut=Jt.streamController),Jt.textController&&(bt=Jt.textController),Jt.gapController&&(Nt=Jt.gapController),Jt.playbackController&&(Zt=Jt.playbackController),Jt.serviceDescriptionController&&(wt=Jt.serviceDescriptionController),Jt.contentSteeringController&&(Ht=Jt.contentSteeringController),Jt.catchupController&&(en=Jt.catchupController),Jt.mediaPlayerModel&&(xe=Jt.mediaPlayerModel),Jt.customParametersModel&&(fe=Jt.customParametersModel),Jt.abrController&&(Rt=Jt.abrController),Jt.schemeLoaderFactory&&(Gt=Jt.schemeLoaderFactory),Jt.mediaController&&(Qt=Jt.mediaController),Jt.settings&&(ce=Jt.settings))},on:function Ct(Jt,We,et,Ve){ge.on(Jt,We,et,Ve)},off:function Yt(Jt,We,et){ge.off(Jt,We,et)},extend:function zo(Jt,We,et){ne.default.extend(Jt,We,et,de)},attachView:wi,attachSource:Yo,isReady:nt,play:function kt(){if(!Ot)throw X;(!_t||Bt()&&Ot)&&Zt.play(!0)},isPaused:Bt,pause:function It(){if(!Ot)throw X;Zt.pause()},isSeeking:function Bn(){if(!Ot)throw X;return Zt.isSeeking()},isDynamic:ht,getLowLatencyModeEnabled:function rn(){if(!Ot)throw X;return Zt.getLowLatencyModeEnabled()},seek:function sn(Jt){if(!Ot)throw X;if(Object(He.checkParameterType)(Jt,"number"),isNaN(Jt))throw O.default.BAD_ARGUMENT_ERROR;Jt<0&&(Jt=0);var We=Zt.getIsDynamic()?Si(Jt):Jt,et=ci();!Zt.getIsDynamic()&&et.duration&&(We=Math.min(et.duration,We)),Zt.seek(We,!1,!1,!0)},seekToOriginalLive:function bn(){!Ot||!ht()||Zt.seekToOriginalLive()},setPlaybackRate:function ve(Jt){ci().playbackRate=Jt},getPlaybackRate:function lt(){return ci().playbackRate},setMute:function it(Jt){Object(He.checkParameterType)(Jt,"boolean"),ci().muted=Jt},isMuted:function At(){return ci().muted},setVolume:function Kt(Jt){if("number"!=typeof Jt||isNaN(Jt)||Jt<0||Jt>1)throw O.default.BAD_ARGUMENT_ERROR;ci().volume=Jt},getVolume:function vn(){return ci().volume},time:Cn,duration:Cr,timeAsUTC:function Di(){if(!Ot)throw X;return Cn()<0?NaN:ta(Cn())},durationAsUTC:function Vr(){if(!Ot)throw X;return ta(Cr())},getActiveStream:ea,getDVRWindowSize:function lr(){var Jt=ut&&ut.hasVideoTrack()?O.default.VIDEO:O.default.AUDIO,We=tn.getCurrentDVRInfo(Jt);return We?We.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Si,getTargetLiveDelay:function ki(){if(!Ot)throw X;return Zt.getOriginalLiveDelay()},convertToTimeCode:function Wo(Jt){Jt=Math.max(Jt,0);var We=Math.floor(Jt/3600),et=Math.floor(Jt%3600/60),Ve=Math.floor(Jt%3600%60);return(0===We?"":We<10?"0"+We.toString()+":":We.toString()+":")+(et<10?"0"+et.toString():et.toString())+":"+(Ve<10?"0"+Ve.toString():Ve.toString())},formatUTC:function Ns(Jt,We,et){var Ve=arguments.length>3&&void 0!==arguments[3]&&arguments[3],yt=new Date(1e3*Jt),Wt=yt.toLocaleDateString(We),zn=yt.toLocaleTimeString(We,{hour12:et});return Ve?zn+" "+Wt:zn},getVersion:Vt,getDebug:function _n(){return Ce},getBufferLength:function Ui(Jt){var We=[O.default.VIDEO,O.default.AUDIO,O.default.TEXT];if(Jt)return-1!==We.indexOf(Jt)?hn().getCurrentBufferLevel(Jt)||NaN:(Be.warn("getBufferLength requested for invalid type"),NaN);var et=We.map(function(yt){return Br(yt).length>0?hn().getCurrentBufferLevel(yt):Number.MAX_VALUE}).reduce(function(yt,Wt){return Math.min(yt,Wt)});return et===Number.MAX_VALUE?NaN:et},getTTMLRenderingDiv:function yr(){return On?On.getTTMLRenderingDiv():null},getVideoElement:ci,getSource:function go(){if(!$e)throw"You must first call attachSource() with a valid source before calling this method";return $e},updateSource:function _a(Jt){ut.load($e=Jt)},getCurrentLiveLatency:function io(){if(!qe)throw J;return Ot?Zt.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function ui(Jt){if(!ct)throw W;return Rt.getTopBitrateInfoFor(Jt)},setAutoPlay:$n,getAutoPlay:function Ho(){return _t},getDashMetrics:hn,getQualityFor:function er(Jt){if(!ct)throw W;if(Jt===O.default.IMAGE){var We=ea();if(!We)return-1;var et=We.getThumbnailController();return et?et.getCurrentTrackIndex():-1}return Rt.getQualityFor(Jt)},setQualityFor:function _r(Jt,We){var et=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!ct)throw W;if(Jt===O.default.IMAGE){var Ve=ea();if(!Ve)return;var yt=Ve.getThumbnailController();yt&&yt.setTrackByIndex(We)}Rt.setPlaybackQuality(Jt,ut.getActiveStreamInfo(),We,{forceReplace:et})},updatePortalSize:function kr(){Rt.setElementSize(),Rt.setWindowResizeEventCalled(!0)},enableText:function Nn(Jt){var We=ut.getActiveStreamInfo();return!(!We||!bt)&&bt.enableText(We.id,Jt)},enableForcedTextStreaming:function Ln(Jt){return!(!ut.getActiveStreamInfo()||!bt)&&bt.enableForcedTextStreaming(Jt)},isTextEnabled:function ti(){var Jt=ut.getActiveStreamInfo();return!(!Jt||!bt)&&bt.isTextEnabled(Jt)},setTextTrack:function Qn(Jt){if(!Ot)throw X;var We=ut.getActiveStreamInfo();!We||!bt||bt.setTextTrack(We.id,Jt)},getBitrateInfoListFor:function Rs(Jt){if(!ct)throw W;var We=ea();return We?We.getBitrateListFor(Jt):[]},getStreamsFromManifest:function ro(Jt){if(!ct)throw W;return dt.getStreamsInfo(Jt)},getTracksFor:Br,getTracksForTypeFromManifest:function fo(Jt,We,et){if(!ct)throw W;return(et=et||dt.getStreamsInfo(We,1)[0])?dt.getAllMediaInfoForType(et,Jt,We):[]},getCurrentTrackFor:function xo(Jt){if(!ct)throw W;var We=ut.getActiveStreamInfo();return Qt.getCurrentTrackFor(Jt,We.id)},setInitialMediaSettingsFor:function Ti(Jt,We){if(!qe)throw J;Qt.setInitialSettings(Jt,We)},getInitialMediaSettingsFor:function Js(Jt){if(!qe)throw J;return Qt.getInitialSettings(Jt)},setCurrentTrack:function hs(Jt){if(!ct)throw W;Qt.setTrack(Jt)},addABRCustomRule:function Qi(Jt,We,et){fe.addAbrCustomRule(Jt,We,et)},removeABRCustomRule:function Do(Jt){fe.removeAbrCustomRule(Jt)},removeAllABRCustomRule:function Xi(){fe.removeAllAbrCustomRule()},getABRCustomRules:function li(){return fe.getAbrCustomRules()},getAverageThroughput:function tr(Jt){var We=Rt.getThroughputHistory(),et=Zt.getIsDynamic();return We?We.getAverageThroughput(Jt,et):0},retrieveManifest:function Gi(Jt,We){var et=va(),Ve=this;ge.on(H.default.INTERNAL_MANIFEST_LOADED,function Wt(zn){zn.error?We(null,zn.error):We(zn.manifest),ge.off(H.default.INTERNAL_MANIFEST_LOADED,Wt,Ve),et.reset()},Ve),In.initialize(Jt),et.load(Jt)},addUTCTimingSource:function Wn(Jt,We){fe.addUTCTimingSource(Jt,We)},removeUTCTimingSource:function ai(Jt,We){fe.removeUTCTimingSource(Jt,We)},clearDefaultUTCTimingSources:function Ni(){fe.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:vr,setXHRWithCredentialsForType:function nr(Jt,We){fe.setXHRWithCredentialsForType(Jt,We)},getXHRWithCredentialsForType:function Fr(Jt){return fe.getXHRWithCredentialsForType(Jt)},getProtectionController:function zi(){return gs()},attachProtectionController:function mr(Jt){dn=Jt},setProtectionData:function cr(Jt){Qe=Jt,ut&&ut.setProtectionData(Qe)},registerLicenseRequestFilter:function ns(Jt){fe.registerLicenseRequestFilter(Jt)},registerLicenseResponseFilter:function Wi(Jt){fe.registerLicenseResponseFilter(Jt)},unregisterLicenseRequestFilter:function $r(Jt){fe.unregisterLicenseRequestFilter(Jt)},unregisterLicenseResponseFilter:function ji(Jt){fe.unregisterLicenseResponseFilter(Jt)},registerCustomCapabilitiesFilter:function Qs(Jt){fe.registerCustomCapabilitiesFilter(Jt)},unregisterCustomCapabilitiesFilter:function Gr(Jt){fe.unregisterCustomCapabilitiesFilter(Jt)},setCustomInitialTrackSelectionFunction:function ho(Jt){fe.setCustomInitialTrackSelectionFunction(Jt)},resetCustomInitialTrackSelectionFunction:function Dr(){fe.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function Pr(Jt){if(!On.getElement())throw Q;On.setTTMLRenderingDiv(Jt)},attachVttRenderingDiv:function hr(Jt){if(!On.getElement())throw Q;On.setVttRenderingDiv(Jt)},getCurrentTextTrackIndex:function si(){var We=ut.getActiveStreamInfo();if(We&&bt)return bt.getCurrentTrackIdx(We.id)},provideThumbnail:function mo(Jt,We){if("function"==typeof We){if(Jt<0)return void We(null);var et=Zt.getIsDynamic()?Si(Jt):Jt,Ve=ut.getStreamForTime(et);if(null===Ve)return void We(null);var yt=Ve.getThumbnailController();return yt?yt.provide(et,We):void We(null)}},getDashAdapter:function gl(){return dt},getOfflineController:function jt(){return Hr()},triggerSteeringRequest:function ms(){if(Ht)return Ht.loadSteeringData()},getCurrentSteeringResponseData:function Zo(){if(Ht)return Ht.getCurrentSteeringResponseData()},getSettings:function Ko(){return ce.get()},updateSettings:function is(Jt){ce.update(Jt)},resetSettings:function Xs(){ce.reset()},reset:Xt,destroy:function Ke(){Xt(),ne.default.deleteSingletonInstances(de)}},function Ft(){Be=Ce.getLogger(Ye),qe=!1,Ot=!1,ct=!1,_t=!0,dn=null,ot=null,Qe=null,dt=null,fi=null,H.default.extend(me.default),xe=Object(N.default)(de).getInstance(),fe=Object(he.default)(de).getInstance(),On=Object(Y.default)(de).getInstance(),In=Object(I.default)(de).getInstance()}(),Ye}$.__dashjs_factory_name="MediaPlayer";var Z=ne.default.getClassFactory($);Z.events=me.default,Z.errors=z.default,ne.default.updateClassFactory($.__dashjs_factory_name,Z),C.default=Z},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function O(R,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var D=function L(R,D){if("object"!==E(R)||null===R)return R;var I=R[Symbol.toPrimitive];if(void 0!==I){var T=I.call(R,D||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function g(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&h(R,D)}function h(R,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,D)}function p(R){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(D){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function y(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(R)}c.r(C);var k=new(function(R){g(I,R);var D=p(I);function I(){var T;return function x(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(T=D.call(this)).AST_IN_FUTURE="astInFuture",T.BUFFER_EMPTY="bufferStalled",T.BUFFER_LOADED="bufferLoaded",T.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",T.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",T.DYNAMIC_TO_STATIC="dynamicToStatic",T.ERROR="error",T.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",T.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",T.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",T.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",T.LOG="log",T.MANIFEST_LOADED="manifestLoaded",T.METRICS_CHANGED="metricsChanged",T.METRIC_CHANGED="metricChanged",T.METRIC_ADDED="metricAdded",T.METRIC_UPDATED="metricUpdated",T.PERIOD_SWITCH_STARTED="periodSwitchStarted",T.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",T.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",T.QUALITY_CHANGE_RENDERED="qualityChangeRendered",T.TRACK_CHANGE_RENDERED="trackChangeRendered",T.STREAM_INITIALIZING="streamInitializing",T.STREAM_UPDATED="streamUpdated",T.STREAM_ACTIVATED="streamActivated",T.STREAM_DEACTIVATED="streamDeactivated",T.STREAM_INITIALIZED="streamInitialized",T.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",T.TEXT_TRACKS_ADDED="allTextTracksAdded",T.TEXT_TRACK_ADDED="textTrackAdded",T.TTML_PARSED="ttmlParsed",T.TTML_TO_PARSE="ttmlToParse",T.CAPTION_RENDERED="captionRendered",T.CAPTION_CONTAINER_RESIZE="captionContainerResize",T.CAN_PLAY="canPlay",T.CAN_PLAY_THROUGH="canPlayThrough",T.PLAYBACK_ENDED="playbackEnded",T.PLAYBACK_ERROR="playbackError",T.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",T.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",T.PLAYBACK_LOADED_DATA="playbackLoadedData",T.PLAYBACK_PAUSED="playbackPaused",T.PLAYBACK_PLAYING="playbackPlaying",T.PLAYBACK_PROGRESS="playbackProgress",T.PLAYBACK_RATE_CHANGED="playbackRateChanged",T.PLAYBACK_SEEKED="playbackSeeked",T.PLAYBACK_SEEKING="playbackSeeking",T.PLAYBACK_STALLED="playbackStalled",T.PLAYBACK_STARTED="playbackStarted",T.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",T.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",T.PLAYBACK_WAITING="playbackWaiting",T.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",T.EVENT_MODE_ON_START="eventModeOnStart",T.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",T.CONFORMANCE_VIOLATION="conformanceViolation",T.REPRESENTATION_SWITCH="representationSwitch",T.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",T.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",T}return function b(R,D,I){return D&&O(R.prototype,D),I&&O(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}(I)}(c(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));C.default=k},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var b,O=function E(){var h,g="application/dash+xml";function p(U,P,V){if(!U||!/^VIDEO$/i.test(U.nodeName))return null;if(U._dashjs_player)return U._dashjs_player;var k,R=U.id||U.name||"video element";if(!(P=P||[].slice.call(U.querySelectorAll("source")).filter(function(D){return D.type==g})[0])&&U.src)(P=document.createElement("source")).src=U.src;else if(!P&&!U.src)return null;return V=V||{},(k=Object(t.default)(V).create()).initialize(U,P.src,U.autoplay),h||(h=k.getDebug().getLogger()),h.debug("Converted "+R+" to dash.js player and added content: "+P.src),U._dashjs_player=k,k}function A(U){return/^VIDEO$/i.test(U.nodeName)?U:A(U.parentNode)}return{create:p,createAll:function y(U,P){var V=[];U=U||"[data-dashjs-player]";for(var k=(P=P||document).querySelectorAll(U),R=0;R<k.length;R++){var D=p(k[R],null);V.push(D)}for(var I=P.querySelectorAll('source[type="'+g+'"]'),T=0;T<I.length;T++){var S=p(A(I[T]),null);V.push(S)}return V}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?O.createAll():b=window.setInterval(function L(){window.dashjs&&(window.clearInterval(b),O.createAll())},500):window.addEventListener("load",function F(){window.removeEventListener("load",F),O.createAll()})),C.default=O},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),O=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),x=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),g=c(
/*! ../core/events/Events */
"./src/core/events/Events.js");function A(P){var I,T,N,S,B,Y,V=this.context,k=Object(F.default)(V).getInstance(),R=P.textController,D=P.eventBus,re=[],se=[],Re=!1,z=P.mediaSource,oe=null;function ne(X){return new Promise(function(Q){W(function(){S.changeType&&S.changeType(X),Q()})})}function Ie(X){return S=R.getTextSourceBuffer(X),Promise.resolve()}function le(){if("function"==typeof S.addEventListener)try{S.addEventListener("updateend",he,!1),S.addEventListener("error",$,!1),S.addEventListener("abort",$,!1)}catch{Y=setInterval(he,50)}else Y=setInterval(he,50)}function _e(X){return new Promise(function(Q){S&&k.get().streaming.buffer.useAppendWindow?W(function(){try{if(!S)return void Q();var q=z.duration,J=0;X&&!isNaN(X.start)&&!isNaN(X.duration)&&isFinite(X.duration)&&(q=X.start+X.duration),X&&!isNaN(X.start)&&(J=X.start),(S.appendWindowEnd!==q||S.appendWindowStart!==J)&&(S.appendWindowStart=0,S.appendWindowEnd=q+.01,S.appendWindowStart=Math.max(J-.1,0),N.debug("Updated append window for ".concat(B.type,". Set start to ").concat(S.appendWindowStart," and end to ").concat(S.appendWindowEnd))),Q()}catch{N.warn("Failed to set append window"),Q()}}):Q()})}function Le(X){return new Promise(function(Q){S?W(function(){try{S.timestampOffset!==X&&!isNaN(X)&&(S.timestampOffset=X,N.debug("Set MSE timestamp offset to ".concat(X))),Q()}catch{Q()}}):Q()})}function be(){if(!Re&&se.length>0){Re=!0;var X=se[0];se.splice(0,1);var Q=function(){Re=!1,se.length>0&&be.call(this),X&&X.data&&X.data.segmentType&&X.data.segmentType!==x.HTTPRequest.INIT_SEGMENT_TYPE&&delete X.data.bytes,X.promise.resolve({chunk:X.data})};try{oe=X.request,0===X.data.bytes.byteLength?Q.call(this):(S.appendBuffer?S.appendBuffer(X.data.bytes):S.append(X.data.bytes,X.data),W(Q.bind(this)))}catch(q){N.fatal('SourceBuffer append failed "'+q+'"'),se.length>0?be():Re=!1,delete X.data.bytes,X.promise.reject({chunk:X.data,error:new E.default(q.code,q.message)})}}}function ie(){re.length>0&&!S.updating&&(re.shift()(),ie())}function he(){S.updating||ie()}function $(X){!function Z(X,Q){D.trigger(X,Q||{},{streamId:B.streamInfo.id,mediaType:T})}(g.default.SOURCE_BUFFER_ERROR,{error:X.target||{},lastRequestAppended:oe})}function W(X){re.push(X),S.updating||ie()}return I={getType:function Me(){return T},getAllBufferRanges:function je(){try{return S.buffered}catch(X){return N.error("getAllBufferRanges exception: "+X.message),null}},getBuffer:function Oe(){return S},append:function ze(X){var Q=this,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(J,de){X?(se.push({data:X,promise:{resolve:J,reject:de},request:q}),W(be.bind(Q))):de({chunk:X,error:new E.default(b.default.APPEND_ERROR_CODE,b.default.APPEND_ERROR_MESSAGE)})})},remove:function Ae(X){return new Promise(function(Q,q){var J=X.start,de=X.end;J>=0&&de>J?W(function(){try{S.remove(J,de),W(function(){Q({from:J,to:de,unintended:!1}),X.resolve&&X.resolve()})}catch(ge){q({from:J,to:de,unintended:!1,error:new E.default(b.default.REMOVE_ERROR_CODE,b.default.REMOVE_ERROR_MESSAGE)}),X.reject&&X.reject(ge)}}):Q()})},abort:function K(){return new Promise(function(X){try{se=[],"open"===z.readyState?W(function(){try{S&&S.abort(),X()}catch{X()}}):(S&&S.setTextTrack&&"ended"===z.readyState&&S.abort(),X())}catch{X()}})},reset:function Pe(){if(S){try{re=[],function we(){try{"function"==typeof S.removeEventListener&&(S.removeEventListener("updateend",he,!1),S.removeEventListener("error",$,!1),S.removeEventListener("abort",$,!1)),clearInterval(Y)}catch(X){N.error(X)}}(),Re=!1,se=[],(!S.getClassName||"TextSourceBuffer"!==S.getClassName())&&(N.debug("Removing sourcebuffer from media source"),z.removeSourceBuffer(S))}catch{}S=null}oe=null},updateTimestampOffset:Le,initializeForStreamSwitch:function me(X,Q,q){T=(B=X).type;var J=B.codec;(function ue(X){S=X.getBuffer()})(q),le();var de=[];return de.push(function He(){return new Promise(function(X){W(function(){var Q=S.appendWindowStart,q=S.appendWindowEnd;S&&(S.abort(),S.appendWindowStart=Q,S.appendWindowEnd=q),X()})})}()),de.push(_e(B.streamInfo)),de.push(ne(J)),Q&&void 0!==Q.MSETimeOffset&&de.push(Le(Q.MSETimeOffset)),Promise.all(de)},initializeForFirstUse:function Se(X,Q,q){T=(B=Q).type;var J=B.codec;try{if(J.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ie(X);S=z.addSourceBuffer(J),le();var de=[];return de.push(_e(B.streamInfo)),q&&void 0!==q.MSETimeOffset&&de.push(Le(q.MSETimeOffset)),Promise.all(de)}catch(ge){return B.type==L.default.TEXT&&!B.isFragmented||-1!==J.indexOf('codecs="stpp')||-1!==J.indexOf('codecs="vtt')?Ie(X):Promise.reject(ge)}},updateAppendWindow:_e,changeType:ne},function H(){N=Object(t.default)(V).getInstance().getLogger(I)}(),I}A.__dashjs_factory_name="SourceBufferSink";var U=O.default.getClassFactory(A);C.default=U},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),b=c(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),F=c(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),L=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),x=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../core/Debug */
"./src/core/Debug.js"),h=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),p=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),U=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),P=c(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),V=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT,t.default.MUXED,t.default.IMAGE];function k(R){R=R||{};var we,_e,Le,Pe,Oe,je,ze,He,Ae,be,K,ie,he,$,Z,W,X,Q,D=this.context,I=Object(L.default)(D).getInstance(),T=Object(U.default)(D).getInstance(),N=R.manifestModel,S=R.mediaPlayerModel,B=R.dashMetrics,Y=R.manifestUpdater,re=R.adapter,se=R.timelineConverter,Re=R.capabilities,z=R.errHandler,oe=R.abrController,H=R.playbackController,me=R.eventController,ne=R.mediaController,ue=R.protectionController,Se=R.textController,Ie=R.videoModel,le=R.streamInfo,Me=R.settings;function qe(It,Bt){return new Promise(function(sn,bn){ut(),be=!0,Ht();var Bn=Ie.getElement();V.forEach(function(ht){(ht!==t.default.VIDEO||!Bn||Bn&&/^VIDEO$/i.test(Bn.nodeName))&&function ct(It,Bt){var ht,sn=re.getAllMediaInfoForType(le,It),bn=[],Bn=null;if(sn&&0!==sn.length){It===t.default.VIDEO&&(ze=!0),It===t.default.AUDIO&&(He=!0);for(var rn=0,ve=sn.length;rn<ve;rn++)Bn=sn[rn],It===t.default.TEXT&&Bn.isEmbedded&&(Se.addEmbeddedTrack(le,Bn),bn.push(Bn)),Ot(Bn)&&ne.addTrack(Bn);if(bn.length>0&&(ne.setInitialMediaSettingsForType(It,le),Se.addMediaInfosToBuffer(le,It,bn)),0!==(sn=sn.filter(function(it){return!it.isEmbedded})).length){if(It===t.default.IMAGE)return void(ie=Object(F.default)(D).create({streamInfo:le,adapter:re,baseURLController:R.baseURLController,timelineConverter:R.timelineConverter,debug:W,eventBus:I,events:x.default,dashConstants:E.default,dashMetrics:R.dashMetrics,segmentBaseController:R.segmentBaseController})).initialize();I.trigger(x.default.STREAM_INITIALIZING,{streamInfo:le,mediaInfo:Bn}),ne.setInitialMediaSettingsForType(It,le);var lt=function _t(It,Bt){var sn=It&&It.length>0?It[0]:null,bn=K.getModel(sn?sn.type:null),Bn=sn?sn.type:null,ht=sn?sn.mimeType:null,rn=sn?sn.isFragmented:null,ve=Object(O.default)(D).create({streamInfo:le,type:Bn,mimeType:ht,timelineConverter:se,adapter:re,manifestModel:N,mediaPlayerModel:S,fragmentModel:bn,dashMetrics:R.dashMetrics,baseURLController:R.baseURLController,segmentBaseController:R.segmentBaseController,abrController:oe,playbackController:H,mediaController:ne,textController:Se,errHandler:z,settings:Me,boxParser:Z,segmentBlacklistController:he});ve.initialize(Bt,ze,rn),Le.push(ve);for(var lt=0;lt<It.length;lt++)ve.addMediaInfo(It[lt]);return Bn===t.default.TEXT&&Se.addMediaInfosToBuffer(le,Bn,It,bn),ve}(sn,Bt);(ht=ne.getCurrentTrackFor(It,le.id))&&(oe.updateTopQualityIndex(ht),lt.selectMediaInfo(It===t.default.TEXT&&ht.isEmbedded?sn[0]:ht))}}else _e.info("No "+It+" data.")}(ht,It)}),function Rt(It){return new Promise(function(Bt){var sn={},bn=Le.map(function(Bn){return Bn.createBufferSinks(It)});Promise.all(bn).then(function(Bn){Bn.forEach(function(ht){ht&&(sn[ht.getType()]=ht)}),Bt(sn)}).catch(function(){Bt(sn)})})}(Bt).then(function(ht){if(be=!1,0===Le.length){var rn="No streams to play.";z.error(new y.default(h.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,rn,N.getValue())),_e.fatal(rn)}else en();Se.createTracks(le),sn(ht)}).catch(function(ht){bn(ht)})})}function Ot(It){var Bt=It?It.type:null;return Bt===t.default.MUXED?(_e.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),z.error(new y.default(h.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",N.getValue())),!1):!(Bt!==t.default.TEXT&&Bt!==t.default.IMAGE&&It.contentProtection&&!Re.supportsEncryptedMedia()&&(z.error(new y.default(h.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,h.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Gt(It){for(var Bt=Le?Le.length:0,bn=0;bn<Bt;bn++){var Bn=Le[bn].getFragmentModel();Bn.abortRequests(),Bn.resetInitialSettings(),Le[bn].reset(false,It)}Se&&Se.deactivateStream(le),Le=[],Oe=!1,je=!1,Yt(!1),dt(!1),I.trigger(x.default.STREAM_DEACTIVATED,{streamInfo:le})}function dn(It){Gt(It),Pe=!1,ze=!1,He=!1,Ae={},be=!1,X=!1,Q=[]}function dt(It){X=It}function xe(){return le?le.start:NaN}function fe(){return le?le.id:null}function pe(){return le}function ut(){if(!Ie||!oe)throw new Error(t.default.MISSING_CONFIG_ERROR)}function Nt(It){It.error&&(z.error(It.error),_e.fatal(It.error.message))}function Ht(){if(me){var It=re.getEventsFor(le);It&&It.length>0&&me.addInlineEvents(It,le.id)}}function en(){for(var It=Le.length,sn=Ae.audio||Ae.video?new y.default(h.default.DATA_UPDATE_FAILED_ERROR_CODE,h.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,bn=0;bn<It;bn++)if(Le[bn].isUpdating()||be)return;if(ue){ue.clearMediaInfoArray();for(var Bn=0;Bn<It&&Le[Bn];Bn++){var ht=Le[Bn].getType(),rn=Le[Bn].getMediaInfo();if(ht===t.default.AUDIO||ht===t.default.VIDEO||ht===t.default.TEXT&&rn.isFragmented){var ve=Le[Bn].getMediaInfo();ve&&ue.initializeForMedia(ve)}}ue.handleKeySystemFromManifest()}sn?z.error(sn):Pe||(Pe=!0,Ie.waitForReadyState(t.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){I.trigger(x.default.STREAM_INITIALIZED,{streamInfo:le})}))}function yn(){var It=fi(),Bt=It.length;if(0!==Bt){for(var sn=0;sn<Bt;sn++)if(!It[sn].isBufferingCompleted()&&(It[sn].getType()===t.default.AUDIO||It[sn].getType()===t.default.VIDEO))return void _e.debug("onBufferingCompleted - One streamProcessor has finished but",It[sn].getType(),"one is not buffering completed");_e.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),je=!0,I.trigger(x.default.STREAM_BUFFERING_COMPLETED,{streamInfo:le},{streamInfo:le})}else _e.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Tn(It){Ae[It.mediaType]=It.error,en()}function On(It){me&&me.addInbandEvents(It.events,le.id)}function In(It){return It&&It.type?Jn(It.type):null}function Jn(It){return It?fi().filter(function(sn){return sn.getType()===It})[0]:null}function fi(){for(var Bt,sn,It=[],bn=0;bn<Le.length;bn++)((Bt=(sn=Le[bn]).getType())===t.default.AUDIO||Bt===t.default.VIDEO||Bt===t.default.TEXT)&&It.push(sn);return It}function Ke(It,Bt){var sn=pe(),bn=Bt.getStreamInfo();if(!bn||!sn)return!0;var Bn=re.getAdaptationForType(bn.index,It,bn),ht=re.getAdaptationForType(sn.index,It,sn);return Bn&&ht?!(!nt(ht)&&nt(Bn)):!Bn&&!ht}function nt(It){return!!It&&!!(It.ContentProtection||It.Representation&&It.Representation.length>0&&It.Representation[0].ContentProtection)}function Ct(It,Bt){var sn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!It||!It.hasOwnProperty("getStreamInfo"))return!1;var bn=It.getStreamInfo(),Bn=sn?sn.getStreamInfo():pe();if(!bn||!Bn)return!1;var ht=re.getAdaptationForType(bn.index,Bt,bn),rn=re.getAdaptationForType(Bn.index,Bt,Bn);if(!ht||!rn)return!ht&&!rn;var ve=ht&&rn&&ht.mimeType===rn.mimeType,lt=rn.Representation_asArray.map(function(vn){return vn.codecs}),it=ht.Representation_asArray.map(function(vn){return vn.codecs}),At=it.some(function(vn){return lt.indexOf(vn)>-1}),Kt=it.some(function(vn){return lt.some(function(Ui){return Re.codecRootCompatibleWithCodec(Ui,vn)})});return At||Kt&&ve}function Yt(It){$=It}function Vt(){return $}return we={initialize:function J(){(function de(){I.on(x.default.BUFFERING_COMPLETED,yn,we),I.on(x.default.DATA_UPDATE_COMPLETED,Tn,we),I.on(x.default.INBAND_EVENTS,On,we)})(),function ce(){ue&&(I.on(x.default.KEY_ERROR,Nt,we),I.on(x.default.SERVER_CERTIFICATE_UPDATED,Nt,we),I.on(x.default.LICENSE_REQUEST_COMPLETE,Nt,we),I.on(x.default.KEY_SYSTEM_SELECTED,Nt,we),I.on(x.default.KEY_SESSION_CREATED,Nt,we),I.on(x.default.KEY_STATUSES_CHANGED,Nt,we))}(),Se.initializeForStream(le),I.trigger(x.default.STREAM_UPDATED,{streamInfo:le})},getStreamId:function Ye(){return le?le.id:null},activate:function Be(It,Bt){return new Promise(function(sn,bn){if(!Oe)return Vt()?(Oe=!0,I.trigger(x.default.STREAM_ACTIVATED,{streamInfo:le}),void sn(Bt)):void function $e(It,Bt){return qe(It,Bt)}(It,Bt).then(function(Bn){Oe=!0,I.trigger(x.default.STREAM_ACTIVATED,{streamInfo:le}),sn(Bn)}).catch(function(Bn){bn(Bn)});sn(Bt)})},deactivate:Gt,getIsActive:function $t(){return Oe},getDuration:function jn(){return le?le.duration:NaN},getStartTime:xe,getId:fe,getStreamInfo:pe,getHasAudioTrack:function at(){return He},getHasVideoTrack:function mt(){return ze},startPreloading:function Qe(It,Bt){return new Promise(function(sn,bn){Vt()?bn():(_e.info("[startPreloading] Preloading next stream with id ".concat(fe())),Yt(!0),qe(It,Bt).then(function(){for(var Bn=0;Bn<Le.length&&Le[Bn];Bn++)Le[Bn].setExplicitBufferingTime(xe()),Le[Bn].getScheduleController().startScheduleTimer();sn()}).catch(function(){Yt(!1),bn()}))})},getThumbnailController:function Dt(){return ie},getBitrateListFor:function bt(It){if(ut(),It===t.default.IMAGE)return ie?ie.getBitrateList():[];var Bt=function tn(It){for(var Bt=null,sn=0;sn<Le.length;sn++)if((Bt=Le[sn]).getType()===It)return Bt.getMediaInfo();return null}(It);return oe.getBitrateList(Bt)},updateData:function St(It){return new Promise(function(Bt){be=!0,le=It,me&&Ht();for(var sn=[],bn=0,Bn=Le.length;bn<Bn;bn++){var ht=Le[bn],rn=ht.getMediaInfo();sn.push(ht.updateStreamInfo(le));var ve=re.getAllMediaInfoForType(le,ht.getType());if(ve){ht.clearMediaInfoArray();for(var lt=0;lt<ve.length;lt++){var it=ve[lt];ht.addMediaInfo(ve[lt]),re.areMediaInfosEqual(rn,it)&&(oe.updateTopQualityIndex(it),sn.push(ht.selectMediaInfo(it)))}}}Promise.all(sn).then(function(){for(sn=[];Q.length>0;){var At=Q.pop(),Kt=At.newMediaInfo,vn=In(At.oldMediaInfo);if(!vn)return;sn.push(vn.prepareTrackSwitch()),vn.selectMediaInfo(Kt)}return Promise.all(sn)}).then(function(){be=!1,en(),I.trigger(x.default.STREAM_UPDATED,{streamInfo:le}),Bt()})})},reset:function gn(It){K&&(K.reset(),K=null),oe&&le&&oe.clearDataForStream(le.id),he&&(he.reset(),he=null),dn(It),le=null,function ge(){I.off(x.default.DATA_UPDATE_COMPLETED,Tn,we),I.off(x.default.BUFFERING_COMPLETED,yn,we),I.off(x.default.INBAND_EVENTS,On,we)}(),function Ce(){ue&&(I.off(x.default.KEY_ERROR,Nt,we),I.off(x.default.SERVER_CERTIFICATE_UPDATED,Nt,we),I.off(x.default.LICENSE_REQUEST_COMPLETE,Nt,we),I.off(x.default.KEY_SYSTEM_SELECTED,Nt,we),I.off(x.default.KEY_SESSION_CREATED,Nt,we),I.off(x.default.KEY_STATUSES_CHANGED,Nt,we))}()},getProcessors:fi,setMediaSource:function Qt(It){for(var Bt=0;Bt<Le.length;)Ot(Le[Bt].getMediaInfo())?(Le[Bt].setMediaSource(It),Bt++):(Le[Bt].reset(),Le.splice(Bt,1));if(0===Le.length){var sn="No streams to play.";z.error(new y.default(h.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,sn+"nostreams",N.getValue())),_e.fatal(sn)}},isMediaCodecCompatible:function st(It){var Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ct(It,t.default.VIDEO,Bt)&&Ct(It,t.default.AUDIO,Bt)},isProtectionCompatible:function Xt(It){return!It||Ke(t.default.VIDEO,It)&&Ke(t.default.AUDIO,It)},getPreloaded:Vt,getIsEndedEventSignaled:function ot(){return X},setIsEndedEventSignaled:dt,getAdapter:function kt(){return re},getHasFinishedBuffering:function _n(){return je},setPreloaded:Yt,startScheduleControllers:function Ft(){for(var It=Le.length,Bt=0;Bt<It&&Le[Bt];Bt++)Le[Bt].getScheduleController().startScheduleTimer()},prepareTrackChange:function Zt(It){if(Oe&&le){je=!1;var Bt=It.newMediaInfo,sn=N.getValue();re.setCurrentMediaInfo(le.id,Bt.type,Bt);var bn=In(Bt);if(bn){var Bn=H.getTime();_e.info("Stream -  Process track changed at current time "+Bn),sn.refreshManifestOnSwitchTrack?(Q.push(It),Y.getIsUpdating()||(_e.debug("Stream -  Refreshing manifest for switch track"),Y.refreshManifest())):bn.selectMediaInfo(Bt).then(function(){(Bt.type===t.default.VIDEO||Bt.type===t.default.AUDIO)&&oe.updateTopQualityIndex(Bt),bn.prepareTrackSwitch()})}}},prepareQualityChange:function wt(It){var Bt=Jn(It.mediaType);Bt&&Bt.prepareQualityChange(It)}},function q(){try{W=Object(g.default)(D).getInstance(),_e=W.getLogger(we),dn(),Z=Object(A.default)(D).getInstance(),he=Object(P.default)(D).create({updateEventName:x.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:x.default.SEGMENT_LOCATION_BLACKLIST_ADD}),K=Object(b.default)(D).create({streamInfo:le,mediaPlayerModel:S,dashMetrics:B,errHandler:z,settings:Me,boxParser:Z,dashConstants:E.default,urlUtils:T})}catch(It){throw It}}(),we}k.__dashjs_factory_name="Stream",C.default=p.default.getClassFactory(k)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=c(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),F=c(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),L=c(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),x=c(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),g=c(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),h=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),y=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),A=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),U=c(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),P=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),V=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../core/Debug */
"./src/core/Debug.js"),R=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),D=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),I=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),T=c(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),N=c(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),S=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(Y){Y=Y||{};var ze,He,Ae,be,K,ie,he,$,Z,W,X,Q,q,re=this.context,se=Object(y.default)(re).getInstance(),Re=Y.streamInfo,z=Y.type,oe=Y.errHandler,H=Y.mimeType,me=Y.timelineConverter,ne=Y.adapter,ue=Y.manifestModel,Se=Y.mediaPlayerModel,Ie=Y.fragmentModel,le=Y.abrController,Me=Y.playbackController,we=Y.mediaController,_e=Y.textController,Le=Y.dashMetrics,Pe=Y.settings,Oe=Y.boxParser,je=Y.segmentBlacklistController;function ge(){return Re.id}function ce(){return z}function Ce(){return ne.getIsTextTrack($.getData())}function Ye(){K=[],be=null,q=0,Z=!1,W=!1}function ct(ht){var rn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ht.sender){if(Me.getIsManifestUpdateInProgress())return void Qt();if((!Ce()||_e.isTextEnabled())&&ie&&ht.representationId&&!ie.appendInitSegmentFromCache(ht.representationId)){var ve=$.getCurrentRepresentation();if(0===ve.range)return void Ot();var lt=X?X.getInitRequest(be,ve):null;lt?Ie.executeRequest(lt):rn&&(he.setInitSegmentRequired(!0),Qt())}}}function Ot(ht){var rn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Me.getIsManifestUpdateInProgress()||ie.getIsPruningInProgress())Qt();else{var ve=function $t(){var rn,ht=st();if(isNaN(q)||ce()===t.default.TEXT&&!_e.isTextEnabled())return null;var ve=Z;if(X){var lt=$&&ht?$.getRepresentationForQuality(ht.quality):null;rn=ve?X.getSegmentRequestForTime(be,lt,q):X.getNextSegmentRequest(be,lt)}return rn}();ve?(Z=!1,function _t(ht){isNaN(ht.startTime+ht.duration)||(q=ht.startTime+ht.duration),ht.delayLoadingTime=(new Date).getTime()+he.getTimeToLoadDelay(),he.setTimeToLoadDelay(0),function Gt(ht){var rn=ht.url;return ht.range&&(rn=rn.concat("_",ht.range)),je.contains(rn)}(ht)?(He.warn("Fragment request url ".concat(ht.url," for stream id ").concat(Re.id," and media type ").concat(z," is on the ignore list and will be skipped")),Qt()):(He.debug("Next fragment request url for stream id ".concat(Re.id," and media type ").concat(z," is ").concat(ht.url)),Ie.executeRequest(ht))}(ve)):function Rt(ht){var ve,rn=$.getCurrentRepresentation();if(!Pe.get().streaming.gaps.enableSeekFix||!Z&&0!==Me.getTime()||(Ae?Ae&&rn.segmentInfoType===E.default.SEGMENT_TIMELINE&&(ve=X.getValidTimeAheadOfTargetTime(q,be,rn,Pe.get().streaming.gaps.threshold)):ve=X.getValidTimeAheadOfTargetTime(q,be,rn,Pe.get().streaming.gaps.threshold),isNaN(ve)||ve===q)){if(X.isLastSegmentRequested(rn,q)){var it=X.getCurrentIndex();return He.debug("Segment requesting for stream ".concat(Re.id," has finished")),se.trigger(A.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:it},{streamId:Re.id,mediaType:z}),ie.segmentRequestingCompleted(it),void he.clearScheduleTimer()}ht&&Qt()}else Me.isSeeking()||0===Me.getTime()?(He.warn("Adjusting playback time ".concat(ve," because of gap in the manifest. Seeking by ").concat(ve-q)),Me.seek(ve,!1,!1)):(He.warn("Adjusting buffering time ".concat(ve," because of gap in the manifest. Adjusting time by ").concat(ve-q)),bn(ve),ht&&Qt())}(rn)}}function Qt(){he.startScheduleTimer(Me.getLowLatencyModeEnabled()?Pe.get().streaming.scheduling.lowLatencyTimeout:Pe.get().streaming.scheduling.defaultTimeout)}function dn(ht){ht.error||(he.setCurrentRepresentation(ne.convertRepresentationToRepresentationInfo(ht.currentRepresentation)),ie.getIsBufferingCompleted()||ie.updateBufferTimestampOffset(ht.currentRepresentation))}function gn(ht){Le.addBufferState(z,ht.state,he.getBufferTarget()),ht.state===O.default.BUFFER_EMPTY&&!Me.isSeeking()&&(He.info("Buffer is empty! Stalling!"),Le.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REBUFFERING_REASON))}function jn(ht){Ie.syncExecutedRequestsWithBufferedRange(ie.getBuffer().getAllBufferRanges(),Re.duration),ht.quotaExceeded&&ht.from>Me.getTime()&&bn(ht.from),ht.hasEnoughSpaceToAppend&&ht.quotaExceeded&&he.startScheduleTimer()}function ot(ht){if(ht&&ht.lastRequestAppended&&ht.lastRequestAppended.url){var rn=ht.lastRequestAppended.url;ht.lastRequestAppended.range&&(rn=rn.concat("_",ht.lastRequestAppended.range)),He.warn("Blacklisting segment with url ".concat(rn)),je.add(rn)}}function pe(){It(),W=!1}function at(ht){He.info("onFragmentLoadingAbandoned request: "+ht.request.url+" has been aborted"),!Me.isSeeking()&&!he.getSwitchStrack()&&!W&&(He.info("onFragmentLoadingAbandoned request: "+ht.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),ht.request&&ht.request.isInitializationRequest()?he.setInitSegmentRequired(!0):bn(ht.request.startTime+ht.request.duration/2),he.startScheduleTimer(0))}function mt(ht){He.info("OnFragmentLoadingCompleted for stream id "+Re.id+" and media type "+z+" - Url:",ht.request?ht.request.url:"undefined",ht.request.range?", Range:"+ht.request.range:""),Ce()&&he.startScheduleTimer(0),ht.error&&ht.request.serviceLocation&&function Dt(ht){He.info("Fragment loading completed with an error"),ht&&ht.request&&ht.request.type&&(ht.request.type===S.HTTPRequest.INIT_SEGMENT_TYPE?ct({representationId:ht.request.representationId,sender:{}},!1):ht.request.type===S.HTTPRequest.MEDIA_SEGMENT_TYPE&&(bn(ht.request.startTime+ht.request.duration/2),Ot({},!1)))}(ht)}function ut(){bn(Me.getTime()),St().startScheduleTimer()}function bt(ht){var rn=ht.currentTrackInfo;if(rn){var ve=K.find(function(lt){return lt.index===rn.index&&lt.lang===rn.lang});ve&&Tn(ve).then(function(){ie.setIsBufferingCompleted(!1),bn(Me.getTime()),he.setInitSegmentRequired(!0),he.startScheduleTimer()})}}function Nt(ht){bn(ht.quotaExceededTime),he.clearScheduleTimer()}function wt(){return ie?ie.getBuffer():null}function Tn(ht){ht!==be&&(!ht||!be||ht.type===be.type)&&(be=ht);var rn=ne.getRealAdaptation(Re,be),ve=ne.getVoRepresentations(be);if($){var Kt,lt=$.getData(),it=le.getMaxAllowedIndexFor(z,Re.id),At=le.getMinAllowedIndexFor(z,Re.id),Ui=null;return null!==lt&&lt.id===rn.id||z===t.default.TEXT?Kt=le.getQualityFor(z,Re.id):(Ui=le.getThroughputHistory().getAverageThroughput(z,Ae)||le.getInitialBitrateFor(z,Re.id),Kt=le.getQualityForBitrate(be,Ui,Re.id)),void 0!==At&&Kt<At&&(Kt=At),Kt>it&&(Kt=it),$.updateData(rn,ve,z,be.isFragmented,Kt)}return Promise.resolve()}function St(){return he}function st(ht){var rn;return void 0!==ht?(Object(p.checkInteger)(ht),rn=$?$.getRepresentationForQuality(ht):null):rn=$?$.getCurrentRepresentation():null,ne.convertRepresentationToRepresentationInfo(rn)}function Xt(){return!!ie&&ie.getIsBufferingCompleted()}function Ct(ht){var rn=ht.chunk,ve=rn.bytes,lt=rn.quality,it=st(lt),At=$&&it?$.getRepresentationForQuality(it.quality):null;if(it&&At){var Kt=ne.getEventsFor(it.mediaInfo,null,Re),vn=ne.getEventsFor(it,At,Re);if(Kt&&Kt.length>0||vn&&vn.length>0){var lr=function Yt(ht,rn,ve,lt){try{for(var it={},At=[],Kt=ve.concat(lt),vn=0,Ui=Kt.length;vn<Ui;vn++)it[Kt[vn].schemeIdUri+"/"+Kt[vn].value]=Kt[vn];var lr=Object(I.default)(re).getInstance().parse(ht),Si=lr.getBoxes("emsg");if(!Si||0===Si.length)return At;for(var ki=lr.getBox("sidx"),Cn=!ki||isNaN(ki.earliest_presentation_time)||isNaN(ki.timescale)?rn&&!isNaN(rn.mediaStartTime)?rn.mediaStartTime:0:ki.earliest_presentation_time/ki.timescale,Cr=Math.max(Cn,0),Di=$.getCurrentRepresentation(),Vr=0,ui=Si.length;Vr<ui;Vr++){var er=ne.getEvent(Si[Vr],it,Cr,Di);er&&At.push(er)}return At}catch{return[]}}(ve,Ie.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,quality:lt,index:rn.index})[0],Kt,vn);se.trigger(A.default.INBAND_EVENTS,{events:lr},{streamId:Re.id})}}}function kt(){var ht=Me.getTime();Pe.get().streaming.buffer.flushBufferAtTrackSwitch&&Me.seek(ht+.001,!1,!0),bn(ht),ie.setSeekTarget(ht),he.startScheduleTimer()}function It(){var ht=Me.getTime(),rn=ie.getContinuousBufferTimeForTargetTime(ht);bn(isNaN(rn)?ht:rn),he.startScheduleTimer()}function sn(ht){ht&&!isNaN(ht.time)&&(bn(ht.time),ie.setSeekTarget(ht.time))}function bn(ht){q=ht,Z=!0}return ze={initialize:function de(ht,rn,ve){Q=Object(N.default)(re).create({events:A.default,eventBus:se,streamInfo:Re,timelineConverter:me,dashConstants:E.default,segmentBaseController:Y.segmentBaseController,type:z}),(X=Object(U.default)(re).create({streamInfo:Re,type:z,timelineConverter:me,dashMetrics:Le,mediaPlayerModel:Se,baseURLController:Y.baseURLController,errHandler:oe,segmentsController:Q,settings:Pe,boxParser:Oe,events:A.default,eventBus:se,errors:P.default,debug:Object(k.default)(re).getInstance(),requestModifier:Object(R.default)(re).getInstance(),dashConstants:E.default,constants:t.default,urlUtils:Object(D.default)(re).getInstance()})).initialize(Ae=Re.manifestInfo.isDynamic),le.registerStreamType(z,ze),$=Object(g.default)(re).create({streamInfo:Re,type:z,abrController:le,dashMetrics:Le,playbackController:Me,timelineConverter:me,dashConstants:E.default,events:A.default,eventBus:se,errors:P.default,isDynamic:Ae,segmentsController:Q}),(ie=function Bt(ht,rn){return ht?ht!==t.default.TEXT||rn?Object(F.default)(re).create({streamInfo:Re,type:ht,mediaPlayerModel:Se,manifestModel:ue,fragmentModel:Ie,errHandler:oe,mediaController:we,representationController:$,adapter:ne,textController:_e,abrController:le,playbackController:Me,settings:Pe}):Object(L.default)(re).create({streamInfo:Re,type:ht,mimeType:H,fragmentModel:Ie,textController:_e,errHandler:oe,settings:Pe}):(oe.error(new V.default(P.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,P.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(z,ve))&&ie.initialize(ht),(he=Object(x.default)(re).create({streamInfo:Re,type:z,mimeType:H,adapter:ne,dashMetrics:Le,mediaPlayerModel:Se,fragmentModel:Ie,abrController:le,playbackController:Me,textController:_e,mediaController:we,bufferController:ie,settings:Pe})).initialize(rn),q=0,Z=!1},getStreamId:ge,getType:ce,isUpdating:function $e(){return!!$&&$.isUpdating()},getBufferController:function Ht(){return ie},getFragmentModel:function en(){return Ie},getScheduleController:St,getRepresentationController:function Zt(){return $},getRepresentationInfo:st,getBufferLevel:function Ke(){return ie?ie.getBufferLevel():0},isBufferingCompleted:Xt,createBufferSinks:function Vt(ht){var rn=wt();return rn?Promise.resolve(rn):ie?ie.createBufferSink(be,ht):Promise.resolve(null)},updateStreamInfo:function tn(ht){return Re=ht,Xt()?Promise.resolve():ie.updateAppendWindow()},getStreamInfo:function yn(){return Re},selectMediaInfo:Tn,clearMediaInfoArray:function In(){K=[]},addMediaInfo:function On(ht){-1===K.indexOf(ht)&&K.push(ht)},prepareTrackSwitch:function _n(){return new Promise(function(ht){He.debug("Preparing track switch for type ".concat(z));var rn=z===t.default.TEXT||Pe.get().streaming.trackSwitchMode[z]===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Me.getTimeToStreamEnd(Re)>Pe.get().streaming.buffer.stallThreshold;if(ie.getIsBufferingCompleted()&&!rn)return ie.prepareForNonReplacementTrackSwitch(be.codec).then(function(){se.trigger(A.default.BUFFERING_COMPLETED,{},{streamId:Re.id,mediaType:z})}).catch(function(){se.trigger(A.default.BUFFERING_COMPLETED,{},{streamId:Re.id,mediaType:z})}),void ht();he.clearScheduleTimer(),he.setSwitchTrack(!0),rn?(se.trigger(A.default.BUFFER_REPLACEMENT_STARTED,{mediaType:z,streamId:Re.id},{mediaType:z,streamId:Re.id}),Ie.abortRequests(),ie.prepareForReplacementTrackSwitch(be.codec).then(function(){var ve=st();return ie.updateBufferTimestampOffset(ve)}).then(function(){kt(),ht()}).catch(function(){kt(),ht()})):ie.prepareForNonReplacementTrackSwitch(be.codec).then(function(){It(),ht()}).catch(function(){It(),ht()})})},prepareQualityChange:function dt(ht){He.debug("Preparing quality switch for type ".concat(z));var rn=ht.newQuality;W=!0,he.clearScheduleTimer();var ve=st(rn);he.setCurrentRepresentation(ve),$.prepareQualityChange(rn),Ie.abortRequests(),ie.updateBufferTimestampOffset(ve).then(function(){ht.reason&&ht.reason.forceReplace?function xe(){se.trigger(A.default.BUFFER_REPLACEMENT_STARTED,{mediaType:z,streamId:Re.id},{mediaType:z,streamId:Re.id}),ie.prepareForReplacementQualitySwitch().then(function(){kt(),W=!1}).catch(function(){kt(),W=!1})}():Pe.get().streaming.buffer.fastSwitchEnabled?function fe(ht){var rn=Me.getTime(),ve=1.5*(isNaN(ht.fragmentDuration)?1:ht.fragmentDuration),lt=Ie.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:rn+ve,threshold:0})[0];if(lt&&!Ce()){var it=ie.getBufferLevel(),At=le.getAbandonmentStateFor(Re.id,z);lt.quality<ht.quality&&it>=ve&&At!==O.default.ABANDON_LOAD?(bn(rn+ve),he.setCheckPlaybackQuality(!1),he.startScheduleTimer()):pe()}else he.startScheduleTimer();W=!1}(ve):pe(),Le.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Le.createPlaylistTraceMetrics(ve.id,1e3*Me.getTime(),Me.getPlaybackRate())})},getMediaInfo:function Jn(){return be},getMediaSource:function fi(){return ie.getMediaSource()},setMediaSource:function Ft(ht){ie.setMediaSource(ht)},getBuffer:wt,setExplicitBufferingTime:bn,finalisePlayList:function Bn(ht,rn){Le.pushPlayListTraceMetrics(ht,rn)},probeNextRequest:function nt(){var ht=st(),rn=$&&ht?$.getRepresentationForQuality(ht.quality):null;return X.getNextSegmentRequestIdempotent(be,rn)},prepareInnerPeriodPlaybackSeeking:function Qe(ht){return new Promise(function(rn){if(ie.hasBufferAtTime(ht.seekTime))return ie.pruneBuffer(),void rn();he.clearScheduleTimer(),Ie.abortRequests(),ie.prepareForPlaybackSeek().then(function(){var lt=ie.getAllRangesWithSafetyFactor(ht.seekTime);return ie.clearBuffers(lt)}).then(function(){var lt=ie.getContinuousBufferTimeForTargetTime(ht.seekTime);if(!isNaN(lt)&&!isNaN(Re.duration)&&isFinite(Re.duration)&&lt>=Re.start+Re.duration)ie.setIsBufferingCompleted(!0),rn();else{var it=isNaN(lt)?ht.seekTime:lt;bn(it),ie.setSeekTarget(it);var At=[];At.push(ie.updateAppendWindow());var Kt=st();At.push(ie.updateBufferTimestampOffset(Kt)),Promise.all(At).then(function(){he.setInitSegmentRequired(!0),he.setCheckPlaybackQuality(!1),he.startScheduleTimer(),rn()})}}).catch(function(lt){He.error(lt)})})},prepareOuterPeriodPlaybackSeeking:function qe(){return new Promise(function(ht,rn){try{he.clearScheduleTimer(),Ie.abortRequests(),ie.prepareForPlaybackSeek().then(function(){return ie.pruneAllSafely()}).then(function(){ht()})}catch(ve){rn(ve)}})},reset:function Be(ht,rn){X&&X.reset(),ie&&(ie.reset(ht,rn),ie=null),he&&(he.reset(),he=null),$&&($.reset(),$=null),Q&&(Q=null),le&&le.unRegisterStreamType(ge(),z),se.off(A.default.DATA_UPDATE_COMPLETED,dn,ze),se.off(A.default.INIT_FRAGMENT_NEEDED,ct,ze),se.off(A.default.MEDIA_FRAGMENT_NEEDED,Ot,ze),se.off(A.default.MEDIA_FRAGMENT_LOADED,Ct,ze),se.off(A.default.BUFFER_LEVEL_STATE_CHANGED,gn,ze),se.off(A.default.BUFFER_CLEARED,jn,ze),se.off(A.default.SEEK_TARGET,sn,ze),se.off(A.default.FRAGMENT_LOADING_ABANDONED,at,ze),se.off(A.default.FRAGMENT_LOADING_COMPLETED,mt,ze),se.off(A.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ut,ze),se.off(A.default.SET_NON_FRAGMENTED_TEXT,bt,ze),se.off(A.default.QUOTA_EXCEEDED,Nt,ze),se.off(A.default.SOURCE_BUFFER_ERROR,ot,ze),Ye(),z=null,Re=null}},function J(){He=Object(k.default)(re).getInstance().getLogger(ze),Ye(),se.on(A.default.DATA_UPDATE_COMPLETED,dn,ze,{priority:y.default.EVENT_PRIORITY_HIGH}),se.on(A.default.INIT_FRAGMENT_NEEDED,ct,ze),se.on(A.default.MEDIA_FRAGMENT_NEEDED,Ot,ze),se.on(A.default.MEDIA_FRAGMENT_LOADED,Ct,ze),se.on(A.default.BUFFER_LEVEL_STATE_CHANGED,gn,ze),se.on(A.default.BUFFER_CLEARED,jn,ze),se.on(A.default.SEEK_TARGET,sn,ze),se.on(A.default.FRAGMENT_LOADING_ABANDONED,at,ze),se.on(A.default.FRAGMENT_LOADING_COMPLETED,mt,ze),se.on(A.default.QUOTA_EXCEEDED,Nt,ze),se.on(A.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ut,ze),se.on(A.default.SET_NON_FRAGMENTED_TEXT,bt,ze),se.on(A.default.SOURCE_BUFFER_ERROR,ot,ze)}(),ze}B.__dashjs_factory_name="StreamProcessor",C.default=h.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),O=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),F=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function h(p){p=p||{};var A=this.context,U=Object(F.default)(A).getInstance(),P=Object(E.default)(A).create({errHandler:p.errHandler,dashMetrics:p.dashMetrics,mediaPlayerModel:p.mediaPlayerModel,requestModifier:p.requestModifier,errors:g.default});return{load:function k(D,I,T){var N=function(Y,re){I.resolved=!0,I.resolvedContent=Y||null,U.trigger(L.default.XLINK_ELEMENT_LOADED,{element:I,resolveObject:T,error:Y||re?null:new t.default(g.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,g.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+D)})};if("urn:mpeg:dash:resolve-to-zero:2013"===D)N(null,!0);else{var S=new b.default(D,O.HTTPRequest.XLINK_EXPANSION_TYPE);P.load({request:S,success:function(Y){N(Y)},error:function(){N(null)}})}},reset:function R(){P&&(P.abort(),P=null)}}}h.__dashjs_factory_name="XlinkLoader",C.default=x.default.getClassFactory(h)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C),C.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function O(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);var g=new(function(){function h(){(function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,p,y){return p&&O(h.prototype,p),y&&O(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),h}());C.default=g},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function O(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);var g=new(function(){function h(){(function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,p,y){return p&&O(h.prototype,p),y&&O(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),h}());C.default=g},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function O(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);var g=new(function(){function h(){(function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function b(h,p,y){return p&&O(h.prototype,p),y&&O(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),h}());C.default=g},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),E=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),F=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),x=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),h=c(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),p=c(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=c(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),A=c(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),U=c(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),P=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),V=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),k=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),R=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function N(){var se,Re,z,oe,H,me,ne,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,je,ze,He,Ae,be,K,ie,he,$,B=this.context,Y=Object(P.default)(B).getInstance(),re=Object(L.default)(B).getInstance();function J(){H={},me={},ue={},ne={},ze={},be={},K={},ie={},void 0===Ie&&(Ie=!1),He&&He.reset(),je=void 0,He=void 0,Ae=void 0,clearTimeout(Se),Se=null}function Ce(wt){var Ht=wt.request.mediaType,en=wt.streamId;if(Ht&&en&&ne[en]&&$.get().streaming.abr.autoSwitchBitrate[Ht]){var tn=ne[en][Ht];if(tn){var yn=Object(h.default)(B).create({abrController:se,streamProcessor:tn,currentRequest:wt.request,useBufferOccupancyABR:be[Ht],useL2AABR:K[Ht],useLoLPABR:ie[Ht],videoModel:_e}),Tn=z.shouldAbandonFragment(yn,en);Tn.quality>p.default.NO_CHANGE&&tn.getFragmentModel().getRequests({state:F.default.FRAGMENT_MODEL_LOADING,index:wt.request.index})[0]&&(ue[en][Ht].state=O.default.ABANDON_LOAD,ze[en][Ht].reset(),ze[en][Ht].push({oldValue:dn(Ht,en),newValue:Tn.quality,confidence:1,reason:Tn.reason}),gn(Ht,oe.getActiveStreamInfo(),Tn.quality,Tn.reason),clearTimeout(Se),Se=setTimeout(function(){ue[en][Ht].state=O.default.ALLOW_LOAD,Se=null},$.get().streaming.abandonLoadTimeout))}}}function Ye(wt){wt.mediaType===E.default.VIDEO&&(void 0!==je&&He.push(wt.streamId,je,_e.getPlaybackQuality()),je=wt.newQuality)}function Be(wt){wt.metric===O.default.HTTP_REQUEST&&wt.value&&wt.value.type===V.HTTPRequest.MEDIA_SEGMENT_TYPE&&(wt.mediaType===E.default.AUDIO||wt.mediaType===E.default.VIDEO)&&Ae.push(wt.mediaType,wt.value,$.get().streaming.abr.useDeadTimeLatency),wt.metric===O.default.BUFFER_LEVEL&&(wt.mediaType===E.default.AUDIO||wt.mediaType===E.default.VIDEO)&&function pe(wt,Ht){$.get().streaming.abr.ABRStrategy===E.default.ABR_STRATEGY_DYNAMIC&&function at(wt,Ht){try{var en=Le.getStableBufferTime(),Tn=be[wt],On=Ht>(Tn?.5*en:en);be[wt]=On,On!==Tn&&Re.info(On?"["+wt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Ht.toFixed(3)+").":"["+wt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Ht.toFixed(3)+").")}catch(In){Re.error(In)}}(wt,Ht)}(wt.mediaType,.001*wt.value.level)}function $e(wt,Ht){try{return H[Ht]=H[Ht]||{},H[Ht].hasOwnProperty(wt)||(H[Ht][wt]=0),function Rt(wt,Ht,en){if(Ht!==E.default.VIDEO||!$.get().streaming.abr.limitBitrateByPortal||!ne[en]||!ne[en][Ht])return wt;Ie||Nt();var tn=ne[en][Ht].getStreamInfo(),yn=we.getAdaptationForType(tn.index,Ht,tn).Representation_asArray,Tn=wt;if(le>0&&Me>0){for(;Tn>0&&yn[Tn]&&le<yn[Tn].width&&le-yn[Tn-1].width<yn[Tn].width-le;)Tn-=1;for(;Tn<yn.length-1&&yn[Tn].width===yn[Tn+1].width;)Tn+=1}return Tn}(function _t(wt,Ht,en){var tn=H[en][Ht],yn=$.get().streaming.abr.maxRepresentationRatio[Ht];return isNaN(yn)||yn>=1||yn<0?wt:Math.min(wt,Math.round(tn*yn))}(function Ot(wt,Ht){var en=H[Ht][wt],tn=en;if(!ne[Ht]||!ne[Ht][wt])return tn;var yn=Qe(wt,Ht);void 0!==yn&&(tn=Math.max(en,yn));var Tn=function qe(wt,Ht){try{var en=Le.getAbrBitrateParameter("maxBitrate",wt);return en>-1?xe(ne[Ht][wt].getMediaInfo(),en,Ht):void 0}catch{return}}(wt,Ht);return void 0!==Tn&&(tn=Math.min(tn,Tn)),tn}(wt,Ht),wt,Ht),wt,Ht)}catch{return}}function Qe(wt,Ht){try{return function ct(wt,Ht){try{var en=Le.getAbrBitrateParameter("minBitrate",wt);if(en>-1){var tn=ne[Ht][wt].getMediaInfo(),yn=fe(tn),Tn=xe(tn,en,Ht);return yn[Tn]&&Tn<yn.length-1&&yn[Tn].bitrate<1e3*en&&Tn++,Tn}return}catch{return}}(wt,Ht)}catch{return}}function dn(wt){var Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Ht||(Ht=oe.getActiveStreamInfo().id),wt&&ne[Ht]&&ne[Ht][wt]&&Ht?(me[Ht]=me[Ht]||{},me[Ht].hasOwnProperty(wt)||(me[Ht][wt]=0),me[Ht][wt]):0}catch{return 0}}function gn(wt,Ht,en){var tn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Ht&&Ht.id&&wt){var yn=Ht.id,Tn=dn(wt,yn);Object(k.checkInteger)(en);var On=$e(wt,yn);en!==Tn&&en>=0&&en<=On&&ot(wt,Tn,en,On,tn,yn)}}function ot(wt,Ht,en,tn,yn,Tn){if(wt&&ne[Tn]&&ne[Tn][wt]){var On=ne[Tn][wt].getStreamInfo(),In=On&&On.manifestInfo&&On.manifestInfo.isDynamic,Jn=he.getCurrentBufferLevel(wt);Re.info("Stream ID: "+Tn+" ["+wt+"] switch from "+Ht+" to "+en+"/"+tn+" (buffer: "+Jn+") "+(yn?JSON.stringify(yn):".")),me[Tn]=me[Tn]||{},me[Tn][wt]=en;var fi=function dt(wt,Ht,en){if(Ht&&ne&&ne[wt]&&ne[wt][Ht]){var tn=fe(ne[wt][Ht].getMediaInfo());return tn[en]?tn[en]:null}return null}(Tn,wt,en);re.trigger(x.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Ht,newQuality:en,reason:yn,streamInfo:On,bitrateInfo:fi,maxIdx:tn,mediaType:wt},{streamId:On.id,mediaType:wt});var Ft=Ae.getAverageThroughput(wt,In);isNaN(Ft)||Oe.setSavedBitrateSettings(wt,Ft)}}function xe(wt,Ht,en){var tn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,yn=wt&&wt.type?ne[en][wt.type].getRepresentationInfo():null;if($.get().streaming.abr.useDeadTimeLatency&&tn&&yn&&yn.fragmentDuration){var Tn=yn.fragmentDuration;if((tn/=1e3)>Tn)return 0;Ht*=1-tn/Tn}for(var In=fe(wt),Jn=In.length-1;Jn>=0;Jn--)if(1e3*Ht>=In[Jn].bitrate)return Jn;return 0}function fe(wt){var Ht=[];if(!wt||!wt.bitrateList)return Ht;for(var yn,en=wt.bitrateList,tn=wt.type,Tn=0,On=en.length;Tn<On;Tn++)(yn=new b.default).mediaType=tn,yn.qualityIndex=Tn,yn.bitrate=en[Tn].bandwidth,yn.width=en[Tn].width,yn.height=en[Tn].height,yn.scanType=en[Tn].scanType,Ht.push(yn);return Ht}function Nt(){if(_e){var Ht=$.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;le=_e.getClientWidth()*Ht,Me=_e.getClientHeight()*Ht}}return se={initialize:function W(){He=Object(A.default)(B).create(),Ae=Object(U.default)(B).create({settings:$}),(z=Object(t.default)(B).create({dashMetrics:he,customParametersModel:Pe,mediaPlayerModel:Le,settings:$})).initialize(),re.on(R.default.QUALITY_CHANGE_RENDERED,Ye,se),re.on(R.default.METRIC_ADDED,Be,se),re.on(x.default.LOADING_PROGRESS,Ce,se)},isPlayingAtTopQuality:function ut(wt){var Ht=wt?wt.id:null,en=dn(E.default.AUDIO,Ht),tn=dn(E.default.VIDEO,Ht);return en===$e(E.default.AUDIO,Ht)&&tn===$e(E.default.VIDEO,Ht)},updateTopQualityIndex:function Dt(wt){var Ht=wt.type,en=wt.streamInfo.id,tn=wt.representationCount-1;return H[en]=H[en]||{},H[en][Ht]=tn,tn},clearDataForStream:function Zt(wt){He&&He.clearForStream(wt),ne[wt]&&delete ne[wt],ze[wt]&&delete ze[wt],ue[wt]&&delete ue[wt]},getThroughputHistory:function mt(){return Ae},getBitrateList:fe,getQualityForBitrate:xe,getTopBitrateInfoFor:function Gt(wt){var Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Ht||(Ht=oe.getActiveStreamInfo().id),wt&&ne&&ne[Ht]&&ne[Ht][wt]){var en=$e(wt,Ht),tn=fe(ne[Ht][wt].getMediaInfo());return tn[en]?tn[en]:null}return null},getMinAllowedIndexFor:Qe,getMaxAllowedIndexFor:$e,getInitialBitrateFor:function $t(wt,Ht){if(function ce(){if(!Oe||!Oe.hasOwnProperty("getSavedBitrateSettings"))throw new Error(E.default.MISSING_CONFIG_ERROR)}(),wt===E.default.TEXT)return NaN;var en=Oe.getSavedBitrateSettings(wt),tn=Le.getAbrBitrateParameter("initialBitrate",wt),yn=$.get().streaming.abr.initialRepresentationRatio[wt];if(-1===tn)if(yn>-1){var Tn=ne[Ht][wt].getStreamInfo(),On=we.getAdaptationForType(Tn.index,wt,Tn).Representation_asArray;tn=Array.isArray(On)?On[Math.max(Math.round(On.length*yn)-1,0)].bandwidth/1e3:0}else tn=isNaN(en)?wt===E.default.VIDEO?1e3:100:en;return tn},getQualityFor:dn,getAbandonmentStateFor:function jn(wt,Ht){return ue[wt]&&ue[wt][Ht]?ue[wt][Ht].state:null},setPlaybackQuality:gn,checkPlaybackQuality:function Qt(wt,Ht){try{if(!(wt&&ne&&ne[Ht]&&ne[Ht][wt]))return!1;if(He){var en=_e.getPlaybackQuality();en&&He.push(Ht,je,en)}if(!$.get().streaming.abr.autoSwitchBitrate[wt])return!1;var tn=dn(wt,Ht),yn=Object(h.default)(B).create({abrController:se,switchHistory:ze[Ht][wt],droppedFramesHistory:He,streamProcessor:ne[Ht][wt],currentValue:tn,useBufferOccupancyABR:be[wt],useL2AABR:K[wt],useLoLPABR:ie[wt],videoModel:_e}),Tn=Qe(wt,Ht),On=$e(wt,Ht),In=z.getMaxQuality(yn),Jn=In.quality;return void 0!==Tn&&(Jn>p.default.NO_CHANGE?Jn:tn)<Tn&&(Jn=Tn),Jn>On&&(Jn=On),ze[Ht][wt].push({oldValue:tn,newValue:Jn}),Jn>p.default.NO_CHANGE&&Jn!==tn&&(ue[Ht][wt].state===O.default.ALLOW_LOAD||Jn<tn)&&(ot(wt,tn,Jn,On,In.reason,Ht),!0)}catch{return!1}},setElementSize:Nt,setWindowResizeEventCalled:function bt(wt){Ie=wt},registerStreamType:function X(wt,Ht){var en=Ht.getStreamInfo().id;ne[en]||(ne[en]={}),ze[en]||(ze[en]={}),ue[en]||(ue[en]={}),ze[en][wt]=Object(y.default)(B).create(),ne[en][wt]=Ht,ue[en][wt]={},ue[en][wt].state=O.default.ALLOW_LOAD,function Q(wt){var Ht=$.get().streaming.abr.ABRStrategy;Ht===E.default.ABR_STRATEGY_L2A?(be[wt]=!1,ie[wt]=!1,K[wt]=!0):Ht===E.default.ABR_STRATEGY_LoLP?(be[wt]=!1,ie[wt]=!0,K[wt]=!1):Ht===E.default.ABR_STRATEGY_BOLA?(be[wt]=!0,ie[wt]=!1,K[wt]=!1):Ht===E.default.ABR_STRATEGY_THROUGHPUT?(be[wt]=!1,ie[wt]=!1,K[wt]=!1):Ht===E.default.ABR_STRATEGY_DYNAMIC&&(be[wt]=!(!be||!be[wt])&&be[wt],ie[wt]=!1,K[wt]=!1)}(wt),wt===E.default.VIDEO&&Nt()},unRegisterStreamType:function q(wt,Ht){try{ne[wt]&&ne[wt][Ht]&&delete ne[wt][Ht],ze[wt]&&ze[wt][Ht]&&delete ze[wt][Ht],ue[wt]&&ue[wt][Ht]&&delete ue[wt][Ht]}catch{}},setConfig:function ge(wt){wt&&(wt.streamController&&(oe=wt.streamController),wt.domStorage&&(Oe=wt.domStorage),wt.mediaPlayerModel&&(Le=wt.mediaPlayerModel),wt.customParametersModel&&(Pe=wt.customParametersModel),wt.dashMetrics&&(he=wt.dashMetrics),wt.adapter&&(we=wt.adapter),wt.videoModel&&(_e=wt.videoModel),wt.settings&&($=wt.settings))},reset:function de(){J(),re.off(x.default.LOADING_PROGRESS,Ce,se),re.off(R.default.QUALITY_CHANGE_RENDERED,Ye,se),re.off(R.default.METRIC_ADDED,Be,se),z&&z.reset()}},function Z(){Re=Y.getLogger(se),J()}(),se}N.__dashjs_factory_name="AbrController";var S=g.default.getSingletonFactory(N);S.QUALITY_DEFAULT=0,g.default.updateSingletonFactory(N.__dashjs_factory_name,S),C.default=S},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),E=c(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),O=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),b=c(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),x=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function g(){var h,p,P,V,y=this.context,A=Object(L.default)(y).getInstance(),U=Object(O.default)(y).getInstance();function k(B){P.invalidateSelectedIndexes(B.entry)}return h={reset:function N(){P.reset(),V.reset()},initialize:function S(B){P.setConfig({adapter:p}),function I(B){P.update(B),V.chooseSelector(p.getIsDVB(B))}(B)},resolve:function T(B){var re=P.getForPath(B).reduce(function(se,Re){var z=V.select(Re);return z?(U.isRelative(z.url)?se.url=U.resolve(z.url,se.url):(se.url=z.url,se.serviceLocation=z.serviceLocation),se.availabilityTimeOffset=z.availabilityTimeOffset,se.availabilityTimeComplete=z.availabilityTimeComplete,se):new b.default},new b.default);if(!U.isRelative(re.url))return re},setConfig:function D(B){B.baseURLTreeModel&&(P=B.baseURLTreeModel),B.baseURLSelector&&(V=B.baseURLSelector),B.adapter&&(p=B.adapter)}},function R(){P=Object(t.default)(y).create(),V=Object(E.default)(y).create(),A.on(x.default.SERVICE_LOCATION_BLACKLIST_CHANGED,k,h)}(),h}g.__dashjs_factory_name="BaseURLController",C.default=F.default.getClassFactory(g)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function O(b){b=b||{};var F,L=[],x=Object(E.default)(this.context).getInstance(),g=b.updateEventName,h=b.addBlacklistEventName;function y(V){-1===L.indexOf(V)&&(L.push(V),x.trigger(g,{entry:V}))}function A(V){y(V.entry)}return F={add:y,contains:function p(V){return!!(L.length&&V&&V.length)&&-1!==L.indexOf(V)},reset:function P(){L=[]}},function U(){h&&x.on(h,A,F)}(),F}O.__dashjs_factory_name="BlackListController",C.default=t.default.getClassFactory(O)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),O=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),b=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),h=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),p=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),A=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),U=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),V=.01,R="BufferController";function D(I){I=I||{};var ne,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,je,ze,He,Ae,be,K,ie,T=this.context,N=Object(F.default)(T).getInstance(),S=I.errHandler,B=I.fragmentModel,Y=I.representationController,re=I.adapter,se=I.textController,Re=I.abrController,z=I.playbackController,oe=I.streamInfo,H=I.type,me=I.settings;function Q(kt){Me=kt}function q(kt){return re.convertRepresentationToRepresentationInfo(Y.getRepresentationForQuality(kt))}function ge(kt){me.get().streaming.cacheInitSegments&&(ue.info("Init fragment finished loading saving to",H+"'s init cache"),Ae.save(kt.chunk)),ue.debug("Append Init fragment",H," with representationId:",kt.chunk.representationId," and quality:",kt.chunk.quality,", data size:",kt.chunk.bytes.byteLength),Ye(kt.chunk)}function Ce(kt){Ye(kt.chunk,kt.request)}function Ye(kt){Le.append(kt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Bt){$e(Bt)}).catch(function(Bt){$e(Bt)}),kt.mediaInfo.type===t.default.VIDEO&&Yt(L.default.VIDEO_CHUNK_RECEIVED,{chunk:kt})}function Be(kt){if(kt&&kt.length>0)for(var It=0,Bt=kt.length;It<Bt;It++)ue.debug("Buffered range: "+kt.start(It)+" - "+kt.end(It)+", currentTime = ",z.getTime())}function $e(kt){if(kt.error)return 22===kt.error.code&&function qe(){if(He=!0,le=.8*Xt(),ue.warn("Quota exceeded, Critical Buffer: "+le),le>0){var kt=Math.max(.2*le,1),It=le-kt,Bt=Math.min(me.get().streaming.buffer.bufferTimeAtTopQuality,.9*It),sn=Math.min(me.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*It),bn={streaming:{buffer:{bufferToKeep:parseFloat(kt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Bt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(sn.toFixed(5))}}};me.update(bn)}}(),void((22===kt.error.code||!nt())&&(ue.warn("Clearing playback buffer to overcome quota exceed situation"),Yt(L.default.QUOTA_EXCEEDED,{criticalBufferLevel:le,quotaExceededTime:kt.chunk.start}),Nt(bt())));if(Le&&(pe(),He=!1,(Oe=kt.chunk)&&Oe.endFragment)){Oe&&!isNaN(Oe.index)&&(we=Math.max(Oe.index,we),at());var It=Le.getAllBufferRanges();Oe.segmentType===A.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Be(It),gn(),function Qe(){if(!isNaN(ie)){if(H!==t.default.AUDIO&&H!==t.default.VIDEO)return void(ie=NaN);var kt=z.getTime(),It=xe(kt,0),Bt=xe(ie,0);if(It&&Bt&&It.start===Bt.start)return void(ie=NaN);var sn=Y.getCurrentRepresentation().segmentDuration,bn=xe(ie,sn);bn&&(me.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(kt-ie)>sn?ie<=bn.end&&z.seek(Math.max(ie,bn.start),!1,!0):kt<bn.start&&z.seek(bn.start,!1,!0))}}()),Oe&&Yt(L.default.BYTES_APPENDED_END_FRAGMENT,{quality:Oe.quality,startTime:Oe.start,index:Oe.index,bufferedRanges:It,segmentType:Oe.segmentType,mediaType:H})}}function Gt(){return new Promise(function(kt,It){var Bt=$t();if(!Bt||0===Bt.length)return gn(),void kt();Nt(Bt).then(function(){kt()}).catch(function(sn){It(sn)})})}function $t(kt){var It=[],Bt=Le.getAllBufferRanges();if(!Bt||0===Bt.length)return It;if(!kt&&0!==kt||isNaN(kt))It.push({start:Bt.start(0),end:Bt.end(Bt.length-1)+.5});else{var sn=function Qt(kt,It){var Bt=me.get().streaming.buffer.bufferToKeep,sn=It.start(0);if(kt-sn>Bt){var Bn=Math.max(0,kt-Bt),ht=B.getRequests({state:O.default.FRAGMENT_MODEL_EXECUTED,time:kt,threshold:V})[0];if(ht&&(Bn=Math.min(ht.startTime,Bn)),Bn>0)return{start:sn,end:Bn}}return null}(kt,Bt),bn=function dn(kt,It){var Bt=It.end(It.length-1)+.5,sn=Ke(kt),Bn=oe.manifestInfo.duration>=me.get().streaming.buffer.longFormContentDurationThreshold?me.get().streaming.buffer.bufferTimeAtTopQualityLongForm:me.get().streaming.buffer.bufferTimeAtTopQuality,ht=isNaN(sn)?kt:Math.min(sn,kt+Bn);if(ht>=It.end(It.length-1))return null;var rn=B.getRequests({state:O.default.FRAGMENT_MODEL_EXECUTED,time:kt,threshold:V})[0];if(rn&&(ht=Math.max(rn.startTime+rn.duration,ht)),me.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var lt=0;lt<It.length;lt++)if(It.start(lt)<=kt&&kt<=It.end(lt)&&It.start(lt)<=ht&&ht<=It.end(lt)){var it=ht;ht=lt+1<It.length?It.start(lt+1):It.end(lt)+1,ue.debug("Buffered range ["+It.start(lt)+", "+It.end(lt)+"] overlaps with targetTime "+kt+" and range to be pruned ["+it+", "+Bt+"], using ["+ht+", "+Bt+"] instead"+(ht<Bt?"":" (no actual pruning)"));break}return ht<It.end(It.length-1)?{start:ht,end:Bt}:null}(kt,Bt);sn&&It.push(sn),bn&&It.push(bn)}return It}function gn(){(!K||H===t.default.TEXT&&se.isTextEnabled())&&pe()}function jn(){mt()}function ot(){mt(),ie=NaN}function xe(kt,It){var ve,lt,Bt=Le.getAllBufferRanges(),sn=0,bn=0,Bn=null,ht=null,rn=0,it=isNaN(It)?.15:It;if(null!=Bt){for(lt=0,ve=Bt.length;lt<ve;lt++)if(sn=Bt.start(lt),bn=Bt.end(lt),null===Bn)rn=Math.abs(sn-kt),(kt>=sn&&kt<bn||rn<=it)&&(Bn=sn,ht=bn);else{if(!((rn=sn-ht)<=it))break;ht=bn}if(null!==Bn)return{start:Bn,end:ht}}return null}function pe(){if(z){var kt=me.get().streaming.gaps.jumpGaps&&!isNaN(me.get().streaming.gaps.smallGapLimit)?me.get().streaming.gaps.smallGapLimit:NaN;Ie=Math.max(function fe(kt,It){var Bt;return me.get().streaming.gaps.jumpGaps&&(It=me.get().streaming.gaps.smallGapLimit),null===(Bt=xe(kt,It))?0:Bt.end-kt}(z.getTime()||0,kt),0),Yt(L.default.BUFFER_LEVEL_UPDATED,{mediaType:H,bufferLevel:Ie}),mt()}}function at(){var kt=we>=_e-1,It=z.getTimeToStreamEnd(oe)-Ie<1e-5;(kt||It)&&!Se&&(St(!0),ue.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(oe.id," and type ").concat(H)))}function mt(){H!==t.default.AUDIO&&H!==t.default.VIDEO||((!z.getLowLatencyModeEnabled()&&Ie<me.get().streaming.buffer.stallThreshold||0===Ie)&&!Se?Dt(E.default.BUFFER_EMPTY):(Se||Ie>=me.get().streaming.buffer.stallThreshold||z.getLowLatencyModeEnabled()&&Ie>0)&&Dt(E.default.BUFFER_LOADED))}function Dt(kt){Pe===kt||kt===E.default.BUFFER_EMPTY&&0===z.getTime()||H===t.default.TEXT&&!se.isTextEnabled()||(Pe=kt,Yt(L.default.BUFFER_LEVEL_STATE_CHANGED,{state:kt}),Yt(kt===E.default.BUFFER_LOADED?L.default.BUFFER_LOADED:L.default.BUFFER_EMPTY),ue.debug(kt===E.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function ut(){!Le||H===t.default.TEXT||Se||Nt(bt())}function bt(){var kt=[],It=Le.getAllBufferRanges();if(!It||0===It.length)return kt;var Bt=z.getTime(),sn=Math.max(0,Bt-me.get().streaming.buffer.bufferToKeep),bn=B.getRequests({state:O.default.FRAGMENT_MODEL_EXECUTED,time:Bt,threshold:V})[0];if(bn)sn=Math.min(bn.startTime,sn);else if(0===Bt&&z.getIsDynamic())return[];if(It.start(0)<=sn){for(var Bn={start:0,end:sn},ht=0;ht<It.length&&It.end(ht)<=sn;ht++)Bn.end=It.end(ht);Bn.start<Bn.end&&kt.push(Bn)}return kt}function Nt(kt){return new Promise(function(It,Bt){if(kt&&Le&&0!==kt.length){var sn=[];kt.forEach(function(bn){sn.push(function Zt(kt){return new Promise(function(It,Bt){kt.resolve=It,kt.reject=Bt,be.push(kt)})}(bn))}),ze||wt(),Promise.all(sn).then(function(){It()}).catch(function(bn){Bt(bn)})}else It()})}function wt(){try{if(0===be.length||!Le)return ue.debug("Nothing to prune, halt pruning"),be=[],void(ze=!1);var kt=Le.getBuffer();if(!kt||!kt.buffered||0===kt.buffered.length)return ue.debug("SourceBuffer is empty (or does not exist), halt pruning"),be=[],void(ze=!1);var It=be.shift();ue.debug("".concat(H,": Removing buffer from: ").concat(It.start," to ").concat(It.end)),ze=!0,z.getTime()<It.end&&St(!1),Le.remove(It).then(function(sn){Ht(sn)}).catch(function(sn){Ht(sn)})}catch{ze=!1}}function Ht(kt){ue.debug("onRemoved buffer from:",kt.from,"to",kt.to),Be(Le.getAllBufferRanges()),0===be.length&&(ze=!1,pe()),kt.unintended&&(ue.warn("Detected unintended removal from:",kt.from,"to",kt.to,"setting streamprocessor time to",kt.from),Yt(L.default.SEEK_TARGET,{time:kt.from})),ze?wt():(K?K=!1:pe(),Yt(L.default.BUFFER_CLEARED,{from:kt.from,to:kt.to,unintended:kt.unintended,hasEnoughSpaceToAppend:nt(),quotaExceeded:He}))}function en(kt){return new Promise(function(It){kt&&void 0!==kt.MSETimeOffset&&Le&&Le.updateTimestampOffset?Le.updateTimestampOffset(kt.MSETimeOffset).then(function(){It()}).catch(function(){It()}):It()})}function tn(){return Le&&!Se?Le.updateAppendWindow(oe):Promise.resolve()}function Tn(){++je*(me.get().streaming.wallclockTimeUpdateInterval/1e3)>=me.get().streaming.buffer.bufferPruningInterval&&(je=0,ut())}function On(){mt()}function St(kt){Se!==kt&&((Se=kt)?Yt(L.default.BUFFERING_COMPLETED):_e=Number.POSITIVE_INFINITY)}function Xt(){try{var Bt,sn,kt=Le.getAllBufferRanges(),It=0;if(!kt)return It;for(sn=0,Bt=kt.length;sn<Bt;sn++)It+=kt.end(sn)-kt.start(sn);return It}catch{return 0}}function Ke(kt){try{var It=kt,Bt=Le.getAllBufferRanges();if(!Bt||0===Bt.length)return NaN;for(var sn=0;It===kt&&sn<Bt.length;){var bn=Bt.start(sn),Bn=Bt.end(sn);It>=bn&&It<=Bn&&(It=Bn),sn+=1}return It===kt?NaN:It}catch{}}function nt(){var kt=Xt();return isNaN(kt)||kt<le}function Yt(kt,It){N.trigger(kt,It||{},{streamId:oe.id,mediaType:H})}function Vt(kt,It){if(le=Number.POSITIVE_INFINITY,Pe=void 0,_e=Number.POSITIVE_INFINITY,we=0,Oe=null,Se=!1,ze=!1,He=!1,Ie=0,je=0,be=[],ie=NaN,Le){var Bt=Le;Le=null,!kt&&!It&&Bt.abort().then(function(){Bt.reset(It),Bt=null})}K=!1}return ne={initialize:function $(kt){Q(kt),N.on(L.default.INIT_FRAGMENT_LOADED,ge,ne),N.on(L.default.MEDIA_FRAGMENT_LOADED,Ce,ne),N.on(L.default.WALLCLOCK_TIME_UPDATED,Tn,ne),N.on(U.default.PLAYBACK_PLAYING,ot,ne),N.on(U.default.PLAYBACK_PROGRESS,gn,ne),N.on(U.default.PLAYBACK_TIME_UPDATED,gn,ne),N.on(U.default.PLAYBACK_RATE_CHANGED,On,ne),N.on(U.default.PLAYBACK_STALLED,jn,ne)},getStreamId:function Z(){return oe.id},getType:function W(){return H},getBufferControllerType:function X(){return R},createBufferSink:function J(kt){var It=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Bt,sn){if(Ae&&kt&&Me){var bn=Re.getQualityFor(H,oe.id);Le=Object(b.default)(T).create({mediaSource:Me,textController:se,eventBus:N}),function de(kt,It,Bt){var sn=q(Bt);return It&&It[H]&&(H===t.default.VIDEO||H===t.default.AUDIO)?Le.initializeForStreamSwitch(kt,sn,It[H]):Le.initializeForFirstUse(oe,kt,sn)}(kt,It,bn).then(function(){return en(q(bn))}).then(function(){Bt(Le)}).catch(function(Bn){ue.fatal("Caught error on create SourceBuffer: "+Bn),S.error(new p.default(y.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,y.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+H)),sn(Bn)})}else Bt(null)})},getBuffer:function In(){return Le},getBufferLevel:function Jn(){return Ie},getRangeAt:xe,hasBufferAtTime:function dt(kt){try{var It=Le.getAllBufferRanges();if(!It||0===It.length)return!1;for(var Bt=0;Bt<It.length;){var sn=It.start(Bt),bn=It.end(Bt);if(kt>=sn&&kt<=bn)return!0;Bt+=1}return!1}catch(Bn){return ue.error(Bn),!1}},pruneBuffer:ut,setMediaSource:Q,getMediaSource:function fi(){return Me},appendInitSegmentFromCache:function ce(kt){var It=Ae.extract(oe.id,kt);return!!It&&(ue.info("Append Init fragment",H," with representationId:",It.representationId," and quality:",It.quality,", data size:",It.bytes.byteLength),Ye(It),!0)},getIsBufferingCompleted:function Ft(){return Se},setIsBufferingCompleted:St,getIsPruningInProgress:function st(){return ze},reset:function _n(kt,It){N.off(L.default.INIT_FRAGMENT_LOADED,ge,this),N.off(L.default.MEDIA_FRAGMENT_LOADED,Ce,this),N.off(L.default.WALLCLOCK_TIME_UPDATED,Tn,this),N.off(U.default.PLAYBACK_PLAYING,ot,this),N.off(U.default.PLAYBACK_PROGRESS,gn,this),N.off(U.default.PLAYBACK_TIME_UPDATED,gn,this),N.off(U.default.PLAYBACK_RATE_CHANGED,On,this),N.off(U.default.PLAYBACK_STALLED,jn,this),Vt(kt,It)},prepareForPlaybackSeek:function ct(){return Se&&St(!1),Le.abort()},prepareForReplacementTrackSwitch:function Ot(kt){return new Promise(function(It,Bt){Le.abort().then(function(){return tn()}).then(function(){return me.get().streaming.buffer.useChangeTypeForTrackSwitch?Le.changeType(kt):Promise.resolve()}).then(function(){return Gt()}).then(function(){St(!1),It()}).catch(function(sn){Bt(sn)})})},prepareForNonReplacementTrackSwitch:function Rt(kt){return new Promise(function(It,Bt){tn().then(function(){return me.get().streaming.buffer.useChangeTypeForTrackSwitch?Le.changeType(kt):Promise.resolve()}).then(function(){It()}).catch(function(sn){Bt(sn)})})},prepareForReplacementQualitySwitch:function _t(){return new Promise(function(kt,It){Le.abort().then(function(){return tn()}).then(function(){return Gt()}).then(function(){St(!1),kt()}).catch(function(Bt){It(Bt)})})},updateAppendWindow:tn,getAllRangesWithSafetyFactor:$t,getContinuousBufferTimeForTargetTime:Ke,clearBuffers:Nt,pruneAllSafely:Gt,updateBufferTimestampOffset:en,setSeekTarget:function Ct(kt){ie=kt},segmentRequestingCompleted:function yn(kt){isNaN(kt)||(_e=kt,at())}},function he(){ue=Object(g.default)(T).getInstance().getLogger(ne),Ae=Object(h.default)(T).getInstance(),Vt()}(),ne}D.__dashjs_factory_name=R,C.default=x.default.getClassFactory(D)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),g=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function h(){var A,U,P,V,k,R,D,I,T,N,p=this.context,y=Object(O.default)(p).getInstance();function z(){U=!1;var je=g.default.parseUserAgent();P=je&&je.browser&&je.browser.name&&"safari"===je.browser.name.toLowerCase()}function oe(){U=!1}function H(je){if(je.streamId===R.getActiveStreamInfo().id&&T){var ze=D.getLiveDelay();D.getBufferLevel()>ze/2&&(T=!1)}}function me(je){je.streamId===R.getActiveStreamInfo().id&&(T=je.state===x.default.BUFFER_EMPTY)}function ne(){I.getCatchupModeEnabled()||V.setPlaybackRate(1)}function ue(){D.getIsDynamic()&&I.getCatchupModeEnabled()&&(I.getCatchupPlaybackRates().max>0||I.getCatchupPlaybackRates().min<0)&&!D.isPaused()&&!D.isSeeking()&&function le(){try{return!(!D.getTime()>0||U)&&(Me()===b.default.LIVE_CATCHUP_MODE_LOLP?function _e(je,ze){try{return Math.abs(Ie())>0||je<ze}catch{return!1}}(D.getBufferLevel(),k.get().streaming.liveCatchup.playbackBufferMin):function we(){try{return Math.abs(Ie())>0}catch{return!1}}())}catch{return!1}}()&&function Se(){if(!U&&V){var je,ze=V.getPlaybackRate(),He=I.getCatchupPlaybackRates(),Ae=D.getBufferLevel(),be=Ie(),K=I.getCatchupMaxDrift();if(!isNaN(K)&&K>0&&be>K)N.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),U=!0,D.seekToCurrentLive(!0,!1);else{var ie=D.getCurrentLiveLatency(),he=D.getLiveDelay();je=Me()===b.default.LIVE_CATCHUP_MODE_LOLP?function Pe(je,ze,He,Ae,be){var K;if(be<Ae){var ie=Math.abs(je.min),Z=2*ie/(1+Math.pow(Math.E,-5*(be-Ae)));N.debug("[LoL+ playback control_buffer-based] bufferLevel: "+be+", newRate: "+(K=1-ie+Z))}else{var W=je.max,X=.02;K=Math.abs(ze-He)<=X*He?1:1-W+2*W/(1+Math.pow(Math.E,-5*(ze-He))),N.debug("[LoL+ playback control_latency-based] latency: "+ze+", newRate: "+K)}return K}(He,ie,he,k.get().streaming.liveCatchup.playbackBufferMin,Ae):function Le(je,ze,He,Ae){if(T)return 1;var be=ze-He,K=be<0?Math.abs(je.min):je.max,$=1-K+2*K/(1+Math.pow(Math.E,-5*be));return D.getPlaybackStalled()&&Ae<=He/2&&be>0&&($=1),$}(He,ie,he,Ae);var Z=P?.25:.02/(.5/He.max);je&&Math.abs(ze-je)>=Z&&(N.debug("[CatchupController]: Setting playback rate to ".concat(je)),V.setPlaybackRate(je))}}}()}function Ie(){return D.getCurrentLiveLatency()-D.getLiveDelay()}function Me(){var je=k.get().streaming.liveCatchup.playbackBufferMin;return k.get().streaming.liveCatchup.mode!==b.default.LIVE_CATCHUP_MODE_LOLP||null===je||isNaN(je)?b.default.LIVE_CATCHUP_MODE_DEFAULT:b.default.LIVE_CATCHUP_MODE_LOLP}function Oe(){I.getCatchupPlaybackRates(!0)}return A={reset:function Re(){(function re(){y.off(F.default.BUFFER_LEVEL_UPDATED,H,A),y.off(F.default.BUFFER_LEVEL_STATE_CHANGED,me,A),y.off(F.default.PLAYBACK_PROGRESS,ue,A),y.off(F.default.PLAYBACK_TIME_UPDATED,ue,A),y.off(F.default.PLAYBACK_SEEKED,ue,A),y.off(L.default.SETTING_UPDATED_CATCHUP_ENABLED,ne,A),y.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Oe,A),y.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Oe,A),y.off(F.default.STREAM_INITIALIZED,Oe,A)})(),z(),V.setPlaybackRate(1,!0)},setConfig:function B(je){je&&(je.settings&&(k=je.settings),je.videoModel&&(V=je.videoModel),je.streamController&&(R=je.streamController),je.playbackController&&(D=je.playbackController),je.mediaPlayerModel&&(I=je.mediaPlayerModel))},initialize:function S(){(function Y(){y.on(F.default.BUFFER_LEVEL_UPDATED,H,A),y.on(F.default.BUFFER_LEVEL_STATE_CHANGED,me,A),y.on(F.default.PLAYBACK_PROGRESS,ue,A),y.on(F.default.PLAYBACK_TIME_UPDATED,ue,A),y.on(F.default.PLAYBACK_SEEKED,oe,A),y.on(L.default.SETTING_UPDATED_CATCHUP_ENABLED,ne,A),y.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Oe,A),y.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Oe,A),y.on(F.default.STREAM_INITIALIZED,Oe,A)})(),Oe()}},function se(){N=Object(E.default)(p).getInstance().getLogger(A),z()}(),A}h.__dashjs_factory_name="CatchupController",C.default=t.default.getSingletonFactory(h)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function L(){var V,k,R,D,I,T,N,S,B,Y,re,x="urn:mpeg:dash:event:2012",g=1,h="urn:mpeg:dash:event:callback:2015",p=1,y=300,A={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},U=this.context,P=Object(O.default)(U).getInstance();function Re(){if(!N||!S)throw new Error("setConfig function has to be called previously")}function z(){re=!1,R={},D={},I=null,Y=!1,T=Date.now()/1e3}function oe(){try{null!==I&&re&&(clearInterval(I),I=null,re=!1,function we(){try{_e(D),_e(R)}catch($){k.error($)}}())}catch($){throw $}}function me(){try{if(!Y){Y=!0;var $=S.getTime(),Z=$-T;Z=T>0?Math.max(0,Z):0,ne(D,Z,$),ne(R,Z,$),ue(D),ue(R),T=$,Y=!1}}catch(W){Y=!1,k.error(W)}}function ne($,Z,W){try{Le($,function(q){if(void 0!==q){var J=isNaN(q.duration)?0:q.duration;q.calculatedPresentationTime<=W&&q.calculatedPresentationTime+Z+J>=W?je(q,b.default.EVENT_MODE_ON_START):(Pe(W,J+Z,q.calculatedPresentationTime)||function Oe($){try{return $.calculatedPresentationTime>$.eventStream.period.start+$.eventStream.period.duration}catch(W){return k.error(W),!1}}(q))&&(k.debug("Removing event ".concat(q.id," from period ").concat(q.eventStream.period.id," as it is expired or invalid")),function ze($,Z){try{var W=Z.eventStream.schemeIdUri,X=Z.eventStream.period.id,Q=Z.eventStream.value,q=Z.id;$[X][W]=$[X][W].filter(function(J){return Q&&J.eventStream.value&&J.eventStream.value!==Q||J.id!==q}),0===$[X][W].length&&delete $[X][W]}catch(J){k.error(J)}}($,q))}})}catch(Q){k.error(Q)}}function ue($){try{for(var Z in $)$.hasOwnProperty(Z)&&0===Object.keys($[Z]).length&&delete $[Z]}catch(W){k.error(W)}}function le($,Z){var W=arguments.length>2&&void 0!==arguments[2]&&arguments[2],X=$.eventStream.schemeIdUri,Q=$.eventStream.value,q=$.id,J=A.DISCARDED;Z[X]||(Z[X]=[]);var de=Z[X].findIndex(function(ce){return(!Q||ce.eventStream.value&&ce.eventStream.value===Q)&&ce.id===q});if(-1===de)Z[X].push($),$.triggeredReceivedEvent=!1,$.triggeredStartEvent=!1,J=A.ADDED;else if(W){var ge=Z[X][de];$.triggeredReceivedEvent=ge.triggeredReceivedEvent,$.triggeredStartEvent=ge.triggeredStartEvent,Z[X][de]=$,J=A.UPDATED}return J}function Me($){try{$.eventStream.value==g&&P.trigger(b.default.MANIFEST_VALIDITY_CHANGED,{id:$.id,validUntil:$.calculatedPresentationTime,newDuration:4294967295==$.calculatedPresentationTime?NaN:$.calculatedPresentationTime+$.duration,newManifestValidAfter:NaN},{mode:b.default.EVENT_MODE_ON_START})}catch(X){k.error(X)}}function _e($){try{var Z=S.getTime();Le($,function(Q){var q=Q.eventStream&&Q.eventStream.period&&!isNaN(Q.eventStream.period.duration)?Q.eventStream.period.duration:NaN,J=Q.eventStream&&Q.eventStream.period&&!isNaN(Q.eventStream.period.start)?Q.eventStream.period.start:NaN;isNaN(q)||isNaN(J)||Math.abs(Q.calculatedPresentationTime-Z)<y&&je(Q,b.default.EVENT_MODE_ON_START)})}catch(X){k.error(X)}}function Le($,Z){try{if($)for(var W=Object.keys($),X=0;X<W.length;X++)for(var Q=$[W[X]],q=Object.keys(Q),J=0;J<q.length;J++)Q[q[J]].forEach(function(ge){void 0!==ge&&Z(ge)})}catch(ge){k.error(ge)}}function Pe($,Z,W){try{return $-Z>W}catch(X){return k.error(X),!1}}function je($,Z){try{var W=S.getTime(),X=$.id;if(Z===b.default.EVENT_MODE_ON_RECEIVE&&!$.triggeredReceivedEvent)return k.debug("Received event ".concat(X)),$.triggeredReceivedEvent=!0,void P.trigger($.eventStream.schemeIdUri,{event:$},{mode:Z});$.triggeredStartEvent||($.eventStream.schemeIdUri===x&&$.eventStream.value==g?(0!==$.duration||0!==$.presentationTimeDelta)&&(k.debug("Starting manifest refresh event ".concat(X," at ").concat(W)),function He(){try{Re(),N.refreshManifest()}catch($){k.error($)}}()):$.eventStream.schemeIdUri===h&&$.eventStream.value==p?(k.debug("Starting callback event ".concat(X," at ").concat(W)),function Ae($){try{Object(F.default)(U).create({}).load({method:"get",url:$,request:{responseType:"arraybuffer"}})}catch(W){k.error(W)}}($.messageData)):(k.debug("Starting event ".concat(X," from period ").concat($.eventStream.period.id," at ").concat(W)),P.trigger($.eventStream.schemeIdUri,{event:$},{mode:Z})),$.triggeredStartEvent=!0)}catch(Q){k.error(Q)}}return V={addInlineEvents:function Se($,Z){try{if(Re(),R[Z]||(R[Z]={}),$)for(var W=0;W<$.length;W++){var X=$[W];if(!Pe(S.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)){var J=le(X,R[Z],!0);J===A.ADDED?(k.debug("Added inline event with id ".concat(X.id," from period ").concat(Z)),je(X,b.default.EVENT_MODE_ON_RECEIVE)):J===A.UPDATED&&k.debug("Updated inline event with id ".concat(X.id," from period ").concat(Z))}}}catch(de){throw de}},addInbandEvents:function Ie($,Z){try{Re(),D[Z]||(D[Z]={});for(var W=0;W<$.length;W++){var X=$[W];Pe(S.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)||(le(X,D[Z],!1)===A.ADDED?(X.eventStream.schemeIdUri===x&&Me(X),k.debug("Added inband event with id ".concat(X.id," from period ").concat(Z)),je(X,b.default.EVENT_MODE_ON_RECEIVE)):k.debug("Inband event with scheme_id_uri ".concat(X.eventStream.schemeIdUri,", value ").concat(X.eventStream.value,", period id ").concat(Z," and event id ").concat(X.id," was ignored because it has been added before.")))}me()}catch(de){throw de}},getInbandEvents:function ie(){return D},getInlineEvents:function K(){return R},start:function H(){try{Re(),k.debug("Start Event Controller");var $=B.get().streaming.eventControllerRefreshDelay;!re&&!isNaN($)&&(re=!0,I=setInterval(me,$))}catch(Z){throw Z}},setConfig:function be($){try{if(!$)return;$.manifestUpdater&&(N=$.manifestUpdater),$.playbackController&&(S=$.playbackController),$.settings&&(B=$.settings)}catch(Z){throw Z}},reset:function he(){oe(),z()}},function se(){k=Object(E.default)(U).getInstance().getLogger(V),z()}(),V}L.__dashjs_factory_name="EventController",C.default=t.default.getSingletonFactory(L)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),O=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),b=c(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),F=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),x=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),p=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function A(U){U=U||{};var N,S,B,P=this.context,V=Object(L.default)(P).getInstance(),k=U.errHandler,R=U.mediaPlayerModel,D=U.dashMetrics,I=Object(y.default)(P).getInstance(),T=U.streamInfo;function re(){return T.id}function Re(){for(var me in B)B[me].reset();B={}}function H(me){if(me.sender){var ne=me.request,ue=me.response,Se=ne.isInitializationRequest(),Ie=ne.mediaInfo.streamInfo;if(me.error&&(ne.mediaType===t.default.AUDIO||ne.mediaType===t.default.VIDEO||ne.mediaType===t.default.TEXT&&ne.mediaInfo.isFragmented)&&V.trigger(x.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:me.request.serviceLocation}),!ue||!Ie)return void S.warn("No "+ne.mediaType+" bytes to push or stream is inactive.");var le=function oe(me,ne,ue,Se){var Ie=new E.default;return Ie.streamId=ue,Ie.mediaInfo=ne.mediaInfo,Ie.segmentType=ne.type,Ie.start=ne.startTime,Ie.duration=ne.duration,Ie.end=Ie.start+Ie.duration,Ie.bytes=me,Ie.index=ne.index,Ie.quality=ne.quality,Ie.representationId=ne.representationId,Ie.endFragment=Se,Ie}(ue,ne,T.id,me.type!==x.default.FRAGMENT_LOADING_PROGRESS);V.trigger(Se?x.default.INIT_FRAGMENT_LOADED:x.default.MEDIA_FRAGMENT_LOADED,{chunk:le,request:ne},{streamId:Ie.id,mediaType:ne.mediaType})}}return N={getStreamId:re,getModel:function se(me){var ne=B[me];return ne||(ne=Object(O.default)(P).create({streamInfo:T,type:me,dashMetrics:D,fragmentLoader:Object(b.default)(P).create({dashMetrics:D,mediaPlayerModel:R,errHandler:k,requestModifier:Object(F.default)(P).getInstance(),settings:U.settings,boxParser:U.boxParser,eventBus:V,events:x.default,errors:h.default,dashConstants:U.dashConstants,urlUtils:U.urlUtils,streamId:re()}),debug:I,eventBus:V,events:x.default}),B[me]=ne),ne},reset:function z(){V.off(g.default.FRAGMENT_LOADING_COMPLETED,H,this),V.off(g.default.FRAGMENT_LOADING_PROGRESS,H,this),Re()}},function Y(){S=I.getLogger(N),Re(),V.on(g.default.FRAGMENT_LOADING_COMPLETED,H,N),V.on(g.default.FRAGMENT_LOADING_PROGRESS,H,N)}(),N}A.__dashjs_factory_name="FragmentController",C.default=p.default.getClassFactory(A)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function h(){var A,U,P,V,k,R,D,I,T,N,S,B,p=this.context,y=Object(b.default)(p).getInstance();function se(){(function Pe(){B.debug("Stopping the gap controller"),k&&(clearInterval(k),k=null)})(),function H(){y.off(O.default.WALLCLOCK_TIME_UPDATED,Ie,this),y.off(O.default.INITIAL_STREAM_SWITCH,Se,this),y.off(O.default.PLAYBACK_SEEKING,me,this),y.off(O.default.BUFFER_REPLACEMENT_STARTED,ne,A),y.off(O.default.TRACK_CHANGE_RENDERED,ue,A)}(),function Re(){k=null,R=NaN,V=0,N=null,S={}}()}function me(){N&&(clearTimeout(N),N=null)}function ne(je){try{if(je.streamId!==I.getActiveStreamInfo().id||je.mediaType!==F.default.VIDEO&&je.mediaType!==F.default.AUDIO)return;je.streamId===I.getActiveStreamInfo().id&&(S[je.mediaType]=!0)}catch(ze){B.error(ze)}}function ue(je){!je||!je.mediaType||(S[je.mediaType]=!1)}function Se(){k||function Le(){try{k||(B.debug("Starting the gap controller"),k=setInterval(function(){le()&&Oe(D.getTime())},100))}catch{}}()}function Ie(){if(le(P.get().streaming.gaps.enableSeekFix)&&++V>=10){var je=D.getTime();U===je?Oe(je,!0):(U=je,R=NaN),V=0}}function le(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!I.getActiveStream())return!1;var ze=Object.keys(S).some(function(Ae){return S[Ae]}),He=!!je&&function Me(){var je=I.getActiveStream(),ze=parseFloat((je.getStartTime()+je.getDuration()).toFixed(5));return D.getTime()+P.get().streaming.gaps.threshold>=ze}();return!ze&&P.get().streaming.gaps.jumpGaps&&I.getActiveStreamProcessors().length>0&&(!D.isSeeking()||He)&&!D.isPaused()&&!I.getIsStreamSwitchInProgress()&&!I.getHasMediaOrInitialisationError()}function Oe(je){var he,ze=arguments.length>1&&void 0!==arguments[1]&&arguments[1],He=P.get().streaming.gaps.enableStallFix,Ae=P.get().streaming.gaps.stallSeek,be=P.get().streaming.gaps.smallGapLimit,K=P.get().streaming.gaps.jumpLargeGaps,ie=T.getBufferRange(),$=NaN,Z=!1;if(he=function we(je,ze){try{if(!je||je.length<=1&&ze>0)return NaN;for(var He=NaN,Ae=0;isNaN(He)&&Ae<je.length;){var be=Ae>0?je.end(Ae-1):0;ze<je.start(Ae)&&be-ze<P.get().streaming.gaps.threshold&&(He=Ae),Ae+=1}return He}catch{return null}}(ie,je),!isNaN(he)){var W=ie.start(he),X=W-je;X>0&&(X<=be||K)&&($=W)}var Q=D.getTimeToStreamEnd();if(isNaN($)&&ze&&isFinite(Q)&&!isNaN(Q)&&Q<be&&($=parseFloat(D.getStreamEndTime().toFixed(5)),Z=!0),He&&isNaN($)&&ze&&isNaN(he)&&function _e(je,ze){for(var He=0,Ae=je.length;He<Ae;He++)if(ze>=je.start(He)&&ze<=je.end(He))return!0;return!1}(ie,je)&&(0===Ae?(B.warn("Toggle play pause to break stall"),T.pause(),T.play()):(B.warn("Jumping ".concat(Ae,"s to break stall")),$=je+Ae)),$>0&&R!==$&&$>je&&!N){var q=$-je;if(Z){var J=I.getStreamForTime($),de=J&&!!J.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(je," to ").concat($,". Gap duration: ").concat(q)),D.seek($,!0,de)}else{var ge=D.getIsDynamic(),ce=he>0?ie.end(he-1):je,Ce=ge?1e3*Math.max(0,q-.1):0;N=window.setTimeout(function(){D.seek($,!0,!0),B.warn("Jumping gap occuring in period ".concat(I.getActiveStream().getStreamId()," starting at ").concat(ce," and ending at ").concat($,". Jumping by: ").concat($-ce)),N=null},Ce)}R=$}}return A={reset:se,setConfig:function z(je){je&&(je.settings&&(P=je.settings),je.playbackController&&(D=je.playbackController),je.streamController&&(I=je.streamController),je.videoModel&&(T=je.videoModel))},initialize:function Y(){!function oe(){y.on(O.default.WALLCLOCK_TIME_UPDATED,Ie,this),y.on(O.default.INITIAL_STREAM_SWITCH,Se,this),y.on(O.default.PLAYBACK_SEEKING,me,this),y.on(O.default.BUFFER_REPLACEMENT_STARTED,ne,A),y.on(O.default.TRACK_CHANGE_RENDERED,ue,A)}()}},function re(){B=Object(E.default)(p).getInstance().getLogger(A),se()}(),A}h.__dashjs_factory_name="GapController",C.default=t.default.getSingletonFactory(h)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),x=c.n(L),g=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function p(){var P,V,k,R,D,I,T,N,A=this.context,U=Object(O.default)(A).getInstance();function re(J,de){return J&&k[de]&&k[de][J]?k[de][J].list:[]}function se(J,de){return J&&k[de]&&k[de][J]?k[de][J].current:null}function z(J){var de=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(J&&J.streamInfo){var ge=J.type,Ce=J.streamInfo.id,Ye=se(ge,Ce);if(k[Ce]&&k[Ce][ge]&&(k[Ce][ge].current=J,k[Ce][ge].current&&(ge!==t.default.TEXT&&!ue(J,Ye)||ge===t.default.TEXT&&J.isFragmented)&&U.trigger(E.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ye,newMediaInfo:J,switchMode:R.get().streaming.trackSwitchMode[ge]},{streamId:Ce}),!de)){var Be=function le(J){var de={lang:J.lang,viewpoint:J.viewpoint,roles:J.roles,accessibility:J.accessibility,audioChannelConfiguration:J.audioChannelConfiguration};return de.lang||de.viewpoint||de.role&&de.role.length>0||de.accessibility&&de.accessibility.length>0||de.audioChannelConfiguration&&de.audioChannelConfiguration.length>0?de:null}(J);if(!Be||!k[Ce][ge].storeLastSettings)return;Be.roles&&(Be.role=Be.roles[0],delete Be.roles),Be.accessibility&&(Be.accessibility=Be.accessibility[0]),Be.audioChannelConfiguration&&(Be.audioChannelConfiguration=Be.audioChannelConfiguration[0]),I[ge]=Be,N.setSavedMediaSettings(ge,Be)}}}function oe(J,de){!J||!de||(D[J]=de)}function H(J){return J?D[J]:null}function ue(J,de){if(!J&&!de)return!0;if(!J||!de)return!1;var ge=J.id===de.id,ce=J.viewpoint===de.viewpoint,Ce=J.lang===de.lang,Ye=J.codec===de.codec,Be=J.roles.toString()===de.roles.toString(),$e=J.accessibility.toString()===de.accessibility.toString(),Qe=J.audioChannelConfiguration.toString()===de.audioChannelConfiguration.toString();return ge&&Ye&&ce&&Ce&&Be&&$e&&Qe}function Ie(){k={},I={},function He(){D={audio:null,video:null,text:null}}()}function Me(J,de,ge){var ce=[];return J.forEach(function(Ce){de(ge,Ce)&&ce.push(Ce)}),0!==ce.length?ce:J}function we(J,de){return!J.lang||J.lang instanceof RegExp?de.lang.match(J.lang):""!==de.lang&&Object(g.extendedFilter)(de.lang,x()(J.lang)).length>0}function _e(J,de){return null==J.index||de.index===J.index}function Le(J,de){return!J.viewpoint||J.viewpoint===de.viewpoint}function Pe(J,de){var ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!J.role||!!de.roles.filter(function(Ce){return Ce===J.role})[0]||de.type===t.default.AUDIO&&ge}function Oe(J,de){return J.accessibility?!!de.accessibility.filter(function(ce){return ce===J.accessibility})[0]:!de.accessibility.length}function je(J,de){return!J.audioChannelConfiguration||!!de.audioChannelConfiguration.filter(function(ce){return ce===J.audioChannelConfiguration})[0]}function be(J){var ce,de=0,ge=[];return J.forEach(function(Ce){(ce=Math.max.apply(Math,Ce.bitrateList.map(function(Ye){return Ye.bandwidth})))>de?(de=ce,ge=[Ce]):ce===de&&ge.push(Ce)}),ge}function K(J){var ce,de=1/0,ge=[];return J.forEach(function(Ce){var Ye=Ce.bitrateList.reduce(function(Be,$e){var Qe=Math.max(1,$e.width*$e.height);return Be+$e.bandwidth/Qe},0);(ce=Ye/Ce.bitrateList.length)<de?(de=ce,ge=[Ce]):ce===de&&ge.push(Ce)}),ge}function ie(J){var ce,de=0,ge=[];return J.forEach(function(Ce){(ce=Ce.representationCount)>de?(de=ce,ge=[Ce]):ce===de&&ge.push(Ce)}),ge}function he(J,de){if(J===t.default.TEXT)return de[0];var ce,ge=R.get().streaming.selectionModeForInitialTrack,Ce=T.getCustomInitialTrackSelectionFunction();if(Ce&&"function"==typeof Ce)ce=Ce(de);else switch(ge){case t.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ce=function $(J){var de=function Ae(J){var de=0,ge=[];return J.forEach(function(ce){isNaN(ce.selectionPriority)||(ce.selectionPriority>de?(de=ce.selectionPriority,ge=[ce]):ce.selectionPriority===de&&ge.push(ce))}),ge}(J);return de.length>1&&(de=be(de)),de.length>1&&(de=ie(de)),de}(de);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ce=function Z(J){var de=be(J);return de.length>1&&(de=ie(de)),de}(de);break;case t.default.TRACK_SELECTION_MODE_FIRST_TRACK:ce=W(de);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ce=function X(J){var de=K(J);return de.length>1&&(de=be(de)),de}(de);break;case t.default.TRACK_SELECTION_MODE_WIDEST_RANGE:ce=function Q(J){var de=ie(J);return de.length>1&&(de=be(J)),de}(de);break;default:V.warn("Track selection mode ".concat(ge," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ce=W(de)}return ce.length>0?ce[0]:de[0]}function W(J){return J[0]}return P={setInitialMediaSettingsForType:function B(J,de){var ge=I[J]||H(J),ce=re(J,de.id),Ce=[];ge||oe(J,ge=N.getSavedMediaSettings(J)),ce&&0!==ce.length&&(ge&&(Ce=Me(Ce=Array.from(ce),we,ge),Ce=Me(Ce,_e,ge),Ce=Me(Ce,Le,ge),J===t.default.AUDIO&&I[J]||(Ce=Me(Ce,Pe,ge)),Ce=Me(Ce,Oe,ge),Ce=Me(Ce,je,ge)),0===Ce.length?z(he(J,ce),!0):z(Ce.length>1?he(J,Ce):Ce[0]))},addTrack:function Y(J){if(J){var de=J.type;if(function ne(J){return J===t.default.AUDIO||J===t.default.VIDEO||J===t.default.TEXT||J===t.default.IMAGE}(de)){var ge=J.streamInfo.id;k[ge]||(k[ge]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ce=k[ge][de].list,Ce=0,Ye=ce.length;Ce<Ye;++Ce)if(ue(ce[Ce],J))return;ce.push(J)}}},getTracksFor:re,getCurrentTrackFor:se,isCurrentTrack:function Re(J){if(!J)return!1;var de=J.type,ge=J.streamInfo.id;return k[ge]&&k[ge][de]&&ue(k[ge][de].current,J)},setTrack:z,selectInitialTrack:he,setInitialSettings:oe,getInitialSettings:H,getTracksWithHighestBitrate:be,getTracksWithHighestEfficiency:K,getTracksWithWidestRange:ie,isTracksEqual:ue,matchSettings:function ze(J,de){var ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var ce=!1;if(J.lang){if(J.lang instanceof RegExp)ce=de.lang.match(J.lang);else if(""!==de.lang){var Ce=x()(J.lang);Ce&&(ce=Object(g.extendedFilter)(de.lang,Ce).length>0)}}else ce=!0;var Ye=null==J.index||de.index===J.index,Be=!J.viewpoint||J.viewpoint===de.viewpoint,$e=!J.role||!!de.roles.filter(function(ct){return ct===J.role})[0],Qe=!J.accessibility||!!de.accessibility.filter(function(ct){return ct===J.accessibility})[0],qe=!J.audioChannelConfiguration||!!de.audioChannelConfiguration.filter(function(ct){return ct===J.audioChannelConfiguration})[0];return ce&&Ye&&Be&&($e||de.type===t.default.AUDIO&&ge)&&Qe&&qe}catch(ct){return!1}},matchSettingsLang:we,matchSettingsIndex:_e,matchSettingsViewPoint:Le,matchSettingsRole:Pe,matchSettingsAccessibility:Oe,matchSettingsAudioChannelConfig:je,saveTextSettingsDisabled:function me(){N.setSavedMediaSettings(t.default.TEXT,null)},setConfig:function Se(J){J&&(J.domStorage&&(N=J.domStorage),J.settings&&(R=J.settings),J.customParametersModel&&(T=J.customParametersModel))},reset:Ie},function S(){V=Object(F.default)(A).getInstance().getLogger(P),Ie()}(),P}p.__dashjs_factory_name="MediaController";var y=b.default.getSingletonFactory(p);b.default.updateSingletonFactory(p.__dashjs_factory_name,y),C.default=y},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function O(){var b,F,L,x=this.context;return b={createMediaSource:function h(){var k="WebKitMediaSource"in window;return"MediaSource"in window?F=new MediaSource:k&&(F=new WebKitMediaSource),F},attachMediaSource:function p(k){var R=window.URL.createObjectURL(F);return k.setSource(R),R},detachMediaSource:function y(k){k.setSource(null)},setDuration:function A(k){!F||"open"!==F.readyState||null===k&&isNaN(k)||F.duration!==k&&(function V(k){for(var R=k.sourceBuffers,D=0;D<R.length;D++)if(R[D].updating)return!0;return!1}(F)?setTimeout(A.bind(null,k),50):(L.info("Set MediaSource duration:"+k),F.duration=k))},setSeekable:function U(k,R){F&&"function"==typeof F.setLiveSeekableRange&&"function"==typeof F.clearLiveSeekableRange&&"open"===F.readyState&&k>=0&&k<R&&(F.clearLiveSeekableRange(),F.setLiveSeekableRange(k,R))},signalEndOfStream:function P(k){if(k&&"open"===k.readyState){for(var R=k.sourceBuffers,D=0;D<R.length;D++)if(R[D].updating||0===R[D].buffered.length)return;L.info("call to mediaSource endOfStream"),k.endOfStream()}}},function g(){L=Object(E.default)(x).getInstance().getLogger(b)}(),b}O.__dashjs_factory_name="MediaSourceController",C.default=t.default.getSingletonFactory(O)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),x=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function h(){var A,U,P,V,k,R,D,I,T,N,S,B,Y,re,se,Re,oe,H,me,ne,ue,Se,Ie,p=this.context,y=Object(E.default)(p).getInstance();function Me(){ze(),re=!1,N=0,S=0,Re=0,ue=!1,oe=!1,Se=!1,H=NaN,D&&(y.off(O.default.DATA_UPDATE_COMPLETED,Rt,A),y.off(O.default.LOADING_PROGRESS,yn,A),y.off(O.default.MANIFEST_UPDATED,fi,A),y.off(O.default.STREAMS_COMPOSED,Ft,A),y.off(L.default.PLAYBACK_ENDED,Nt,A),y.off(L.default.STREAM_INITIALIZING,On,A),y.off(L.default.REPRESENTATION_SWITCH,In,A),y.off(L.default.BUFFER_LEVEL_STATE_CHANGED,Qt,A),_t(),function Xt(){D.removeEventListener("canplay",Gt),D.removeEventListener("canplaythrough",$t),D.removeEventListener("play",dn),D.removeEventListener("waiting",gn),D.removeEventListener("playing",jn),D.removeEventListener("pause",ot),D.removeEventListener("error",Zt),D.removeEventListener("seeking",dt),D.removeEventListener("seeked",xe),D.removeEventListener("timeupdate",fe),D.removeEventListener("progress",pe),D.removeEventListener("ratechange",at),D.removeEventListener("loadedmetadata",mt),D.removeEventListener("loadeddata",Dt),D.removeEventListener("stalled",Tn),D.removeEventListener("ended",ut),D.removeEventListener("volumechange",bt)}()),T=null,D=null,B=null,Y=null}function Pe(){return parseFloat((Oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-he()).toFixed(5))}function Oe(Ke){var nt=Ke||B;return nt.start+nt.duration}function je(){var Ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&D&&D.getElement()?(Ke&&Y&&ie(he()),D.play()):re=!0}function ze(){B&&D&&D.pause()}function He(Ke){var nt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Yt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&D&&Ke!==(isNaN(H)?D.getTime():H)&&((me=!0===Ct)||(H=Ke),U.info("Requesting seek to time: "+Ke+(me?" (internal)":"")),Y&&Yt&&ie(Ke),D.setCurrentTime(Ke,nt))}function K(){if(B&&D&&Y){var Ke=P&&P.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO,nt=k.getCurrentDVRInfo(Ke);return nt&&nt.range?nt.range.end:0}}function ie(Ke){var nt=new Date(I.getClientReferenceTime()),Ct=R.getRegularPeriods()[0],Yt=I.calcPresentationTimeFromWallTime(nt,Ct);N=Yt-Ke}function he(){return B&&D?D.getTime():null}function $(){return B&&D?D.isPaused():null}function Z(){return B&&D?D.isSeeking():null}function W(){return B&&D?D.isStalled():null}function X(){return B&&D?D.getPlaybackRate():null}function q(){return B&&D?D.getEnded():null}function J(){return Y}function qe(){var Ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!$()&&Y&&0!==D.getReadyState()&&!Z()&&!ue){Ke||(Ke=P.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO);var nt=he(),Ct=function ct(Ke,nt){var Ct=k.getCurrentDVRInfo(nt),Yt=Ct?Ct.range:null;return Yt?Ke>Yt.end?Math.max(Yt.end-N,Yt.start):Ke>0&&Ke+.25<Yt.start&&Math.abs(Ke-Yt.start)<31536e4?oe?Math.max(Yt.end-N,Yt.start):Yt.start:Ke:NaN}(nt,Ke);!isNaN(Ct)&&Ct!==nt&&!Z()&&(W()||ne||1===D.getReadyState())&&(U.debug("UpdateCurrentTime: Seek to actual time: ".concat(Ct," from currentTime: ").concat(nt)),He(Ct,!1,!1))}}function Ot(){null===T&&(T=setInterval(function(){!function wt(){y.trigger(O.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Y,time:new Date}),J()&&(P.addDVRMetric(),$()?function Ht(){var Ke=Date.now();(!se||Ke>se+500)&&(se=Ke,fe())}():qe())}()},Ie.get().streaming.wallclockTimeUpdateInterval))}function _t(){clearInterval(T),T=null}function Rt(Ke){var nt=R.convertRepresentationToRepresentationInfo(Ke.currentRepresentation),Ct=nt?nt.mediaInfo.streamInfo:null;null===Ct||B.id!==Ct.id||(B=Ct)}function Gt(){y.trigger(O.default.CAN_PLAY)}function $t(){y.trigger(O.default.CAN_PLAY_THROUGH)}function Qt(Ke){Ke.streamId===P.getActiveStreamInfo().id&&(ne=Ke.state===x.default.BUFFER_EMPTY,Ie.get().streaming.buffer.setStallState&&D.setStallState(Ke.mediaType,Ke.state===x.default.BUFFER_EMPTY))}function dn(){U.info("Native video element event: play"),qe(),Ot(),y.trigger(O.default.PLAYBACK_STARTED,{startTime:he()})}function gn(){U.info("Native video element event: waiting"),y.trigger(O.default.PLAYBACK_WAITING,{playingTime:he()})}function jn(){U.info("Native video element event: playing"),me=!1,y.trigger(O.default.PLAYBACK_PLAYING,{playingTime:he()})}function ot(){U.info("Native video element event: pause"),y.trigger(O.default.PLAYBACK_PAUSED,{ended:q()})}function dt(){if(!me){var Ke=he();!isNaN(H)&&H!==Ke&&(Ke=H),H=NaN,U.info("Seeking to: "+Ke),Ot(),y.trigger(O.default.PLAYBACK_SEEKING,{seekTime:Ke,streamId:B.id})}}function xe(){U.info("Native video element event: seeked"),me=!1,y.trigger(O.default.PLAYBACK_SEEKED)}function fe(){B&&y.trigger(O.default.PLAYBACK_TIME_UPDATED,{timeToEnd:Pe(),time:he(),streamId:B.id})}function pe(){y.trigger(O.default.PLAYBACK_PROGRESS,{streamId:B.id})}function at(){var Ke=X();U.info("Native video element event: ratechange: ",Ke),y.trigger(O.default.PLAYBACK_RATE_CHANGED,{playbackRate:Ke})}function mt(){U.info("Native video element event: loadedmetadata"),y.trigger(O.default.PLAYBACK_METADATA_LOADED),Ot()}function Dt(){U.info("Native video element event: loadeddata"),y.trigger(O.default.PLAYBACK_LOADED_DATA)}function ut(){U.info("Native video element event: ended"),ze(),_t();var Ke=P?P.getActiveStreamInfo():null;Ke&&y.trigger(O.default.PLAYBACK_ENDED,{isLast:Ke.isLast})}function bt(){y.trigger(O.default.PLAYBACK_VOLUME_CHANGED)}function Nt(Ke){if(T&&Ke.isLast){U.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var nt=Ke.seekTime?Ke.seekTime:Oe();D.setCurrentTime(nt),ze(),_t()}}function Zt(Ke){y.trigger(O.default.PLAYBACK_ERROR,{error:(Ke.target||Ke.srcElement).error})}function yn(Ke){if(!1===Ke.stream&&oe&&!isNaN(Ke.request.duration)){var nt=1.2*Ke.request.duration;nt>N&&(U.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",nt.toFixed(2)),N=nt,S=nt)}}function Tn(Ke){y.trigger(O.default.PLAYBACK_STALLED,{e:Ke})}function On(Ke){!function St(Ke){Ke&&Ke.supplementalProperties&&"true"===Ke.supplementalProperties[t.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(U.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),oe=!0)}(Ke.mediaInfo)}function In(Ke){var nt=P.getActiveStreamInfo();!Ke||!nt||!Ke.currentRepresentation||!Ke.streamId||Ke.streamId!==nt.id||!Ke.mediaType||Ke.mediaType!==t.default.VIDEO&&Ke.mediaType!==t.default.AUDIO||(oe=!Ke.currentRepresentation.availabilityTimeComplete)&&!Se&&(Se=!0)}function fi(){ue=!0}function Ft(){ue=!1}return A={initialize:function we(Ke,nt){B=Ke,!0!==nt&&function _e(){(function st(){D.addEventListener("canplay",Gt),D.addEventListener("canplaythrough",$t),D.addEventListener("play",dn),D.addEventListener("waiting",gn),D.addEventListener("playing",jn),D.addEventListener("pause",ot),D.addEventListener("error",Zt),D.addEventListener("seeking",dt),D.addEventListener("seeked",xe),D.addEventListener("timeupdate",fe),D.addEventListener("progress",pe),D.addEventListener("ratechange",at),D.addEventListener("loadedmetadata",mt),D.addEventListener("loadeddata",Dt),D.addEventListener("stalled",Tn),D.addEventListener("ended",ut),D.addEventListener("volumechange",bt)})(),Y=B.manifestInfo.isDynamic,ne=!1,me=!1,y.on(O.default.DATA_UPDATE_COMPLETED,Rt,A),y.on(O.default.LOADING_PROGRESS,yn,A),y.on(O.default.MANIFEST_UPDATED,fi,A),y.on(O.default.STREAMS_COMPOSED,Ft,A),y.on(L.default.PLAYBACK_ENDED,Nt,A,{priority:E.default.EVENT_PRIORITY_HIGH}),y.on(L.default.STREAM_INITIALIZING,On,A),y.on(L.default.REPRESENTATION_SWITCH,In,A),y.on(L.default.BUFFER_LEVEL_STATE_CHANGED,Qt,A),re&&(re=!1,je())}()},setConfig:function Qe(Ke){Ke&&(Ke.streamController&&(P=Ke.streamController),Ke.serviceDescriptionController&&(V=Ke.serviceDescriptionController),Ke.dashMetrics&&(k=Ke.dashMetrics),Ke.adapter&&(R=Ke.adapter),Ke.videoModel&&(D=Ke.videoModel),Ke.timelineConverter&&(I=Ke.timelineConverter),Ke.settings&&(Ie=Ke.settings))},getTimeToStreamEnd:Pe,getBufferLevel:function en(){var Ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,nt=null;return P.getActiveStreamProcessors().forEach(function(Ct){if(!Ke||0===Ke.length||-1===Ke.indexOf(Ct.getType())){var Yt=Ct.getBufferLevel();nt=null===nt?Yt:Math.min(nt,Yt)}}),nt},getPlaybackStalled:function Le(){return ne},getTime:he,getLowLatencyModeEnabled:function tn(){return oe},getInitialCatchupModeActivated:function Jn(){return Se},getIsManifestUpdateInProgress:function ge(){return ue},getPlaybackRate:X,getPlayedRanges:function Q(){return B&&D?D.getPlayedRanges():null},getEnded:q,getIsDynamic:J,getStreamController:function de(){return P},computeAndSetLiveDelay:function $e(Ke,nt){var Ct,Yt,Vt,It=!isNaN(Ke)&&isFinite(Ke)?Ke:NaN,Bt=R.getSuggestedPresentationDelay(),sn=V.getServiceDescriptionSettings();return Ct=isNaN(Ie.get().streaming.delay.liveDelay)?null===Ie.get().streaming.delay.liveDelayFragmentCount||isNaN(Ie.get().streaming.delay.liveDelayFragmentCount)||isNaN(It)?sn&&!isNaN(sn.liveDelay)&&sn.liveDelay>0?sn.liveDelay:!0===Ie.get().streaming.delay.useSuggestedPresentationDelay&&null!==Bt&&!isNaN(Bt)&&Bt>0?Bt:isNaN(It)?nt&&!isNaN(nt.minBufferTime)?4*nt.minBufferTime:4*B.manifestInfo.minBufferTime:4*It:It*Ie.get().streaming.delay.liveDelayFragmentCount:Ie.get().streaming.delay.liveDelay,null!==(Vt=R.getAvailabilityStartTime())&&(Re=Vt),Yt=nt&&nt.dvrWindowSize>0?Math.min(Ct,nt.dvrWindowSize):Ct,N=Yt,S=Yt,Yt},getLiveDelay:function Ce(){return N},getOriginalLiveDelay:function Ye(){return S},getCurrentLiveLatency:function Be(){if(!Y||isNaN(Re))return NaN;var Ke=he();if(isNaN(Ke)||0===Ke)return 0;var nt=(new Date).getTime()+1e3*I.getClientTimeOffset();return Math.max(((nt-Re-1e3*Ke)/1e3).toFixed(3),0)},play:je,isPaused:$,isStalled:W,pause:ze,isSeeking:Z,getStreamEndTime:Oe,seek:He,seekToOriginalLive:function Ae(){var Ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0],nt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Yt=K();0!==Yt&&He(Yt-(N=S),Ke,nt,Ct)},seekToCurrentLive:function be(){var Ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0],nt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Yt=K();0!==Yt&&He(Yt-N,Ke,nt,Ct)},reset:Me,updateCurrentTime:qe,getAvailabilityStartTime:function ce(){return Re}},function le(){U=Object(F.default)(p).getInstance().getLogger(A),Me()}(),A}h.__dashjs_factory_name="PlaybackController",C.default=b.default.getSingletonFactory(h)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),O=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),x=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),g=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function h(p){p=p||{};var S,B,Y,re,se,Re,z,oe,H,me,ne,ue,Se,y=this.context,A=Object(O.default)(y).getInstance(),U=p.dashMetrics,P=p.mediaPlayerModel,V=p.fragmentModel,k=p.abrController,R=p.playbackController,D=p.textController,I=p.type,T=p.bufferController,N=p.settings;function Le(ct){if(!T.getIsBufferingCompleted()){Pe();var Ot=isNaN(ct)?0:ct;Re=setTimeout(je,Ot)}}function Pe(){Re&&(clearTimeout(Re),Re=null)}function je(){try{if(function He(){try{return I===t.default.TEXT&&!D.isTextEnabled()||R.isPaused()&&(!R.getStreamController().getInitialPlayback()||!R.getStreamController().getAutoPlay())&&!N.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void Pe();if(function Ae(){try{return re&&(isNaN(me)||ne||function Oe(){var Ot=k.getMaxAllowedIndexFor(I,B.id);return!(!isNaN(H)&&H==Ot||(Y.info("Top quality "+I+" index has changed from "+H+" to "+Ot),H=Ot,0))}()||function be(){return!I||!re||U.getCurrentBufferLevel(I)<K()}())}catch{return!1}}()){var ct=!1;Se&&(ct=k.checkPlaybackQuality(I,B.id)),ct||function ze(){ue||re.quality!==me||ne?(ne?(Y.debug("Switch track for "+I+", representation id = "+re.id),ne=!1):Y.debug("Quality has changed, get init request for representationid = "+re.id),A.trigger(b.default.INIT_FRAGMENT_NEEDED,{representationId:re.id,sender:S},{streamId:B.id,mediaType:I}),Se=!1,ue=!1):(Y.debug("Media segment needed for ".concat(I," and stream id ").concat(B.id)),A.trigger(b.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:I}),Se=!0)}()}else Le(R.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}catch{Le(R.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}}function K(){var ct=NaN;return!I||!re||(ct=I===t.default.TEXT?function ie(){try{if(D.isTextEnabled()){if(isNaN(re.fragmentDuration)){var ct=U.getCurrentSchedulingInfo(x.default.SCHEDULING_INFO);return ct?ct.duration:0}return re.fragmentDuration}return 0}catch{return 0}}():I===t.default.AUDIO&&z?function he(){try{var ct=U.getCurrentBufferLevel(t.default.VIDEO);return isNaN(re.fragmentDuration)?ct+1:Math.max(ct+1,re.fragmentDuration)}catch{return 0}}():function $(){try{var ct=re.mediaInfo.streamInfo;return k.isPlayingAtTopQuality(ct)?ct.manifestInfo.duration>=N.get().streaming.buffer.longFormContentDurationThreshold?N.get().streaming.buffer.bufferTimeAtTopQualityLongForm:N.get().streaming.buffer.bufferTimeAtTopQuality:P.getStableBufferTime()}catch{return P.getStableBufferTime()}}()),ct}function X(){Q(!0)}function Q(ct){if(R&&V){var Ot=V.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,time:R.getTime(),threshold:0})[0];Ot&&R.getTime()>=Ot.startTime&&((!oe.mediaInfo||Ot.mediaInfo.type===oe.mediaInfo.type&&Ot.mediaInfo.id!==oe.mediaInfo.id)&&ct&&A.trigger(b.default.TRACK_CHANGE_RENDERED,{mediaType:I,oldMediaInfo:oe.mediaInfo,newMediaInfo:Ot.mediaInfo,streamId:B.id}),(Ot.quality!==oe.quality||Ot.adaptationIndex!==oe.adaptationIndex)&&ct&&(Y.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(I)),A.trigger(b.default.QUALITY_CHANGE_RENDERED,{mediaType:I,oldQuality:oe.quality,newQuality:Ot.quality,streamId:B.id})),oe={mediaInfo:Ot.mediaInfo,quality:Ot.quality,adaptationIndex:Ot.adaptationIndex})}}function q(ct){Y.debug("Appended bytes for ".concat(ct.mediaType," and stream id ").concat(B.id)),(isNaN(ct.index)||isNaN(me))&&(me=ct.quality,Y.info("["+I+"] lastInitializedRepresentationInfo changed to "+ct.quality)),Le(0)}function J(){V.abortRequests(),Pe()}function de(){N.get().streaming.scheduling.scheduleWhilePaused||Le()}function ge(ct){U.updatePlayListTraceMetrics({playbackspeed:ct.playbackRate.toString()})}function $e(){Se=!0,se=0,me=NaN,oe={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},H=NaN,ne=!1,ue=!1}return S={initialize:function le(ct){z=ct,A.on(b.default.BYTES_APPENDED_END_FRAGMENT,q,S),A.on(b.default.URL_RESOLUTION_FAILED,J,S),A.on(g.default.PLAYBACK_STARTED,de,S),A.on(g.default.PLAYBACK_RATE_CHANGED,ge,S),A.on(g.default.PLAYBACK_TIME_UPDATED,X,S)},getType:function Me(){return I},getStreamId:function we(){return B.id},setCurrentRepresentation:function _e(ct){re=ct},setTimeToLoadDelay:function ce(ct){se=ct},getTimeToLoadDelay:function Ce(){return se},setSwitchTrack:function Z(ct){ne=ct},getSwitchStrack:function W(){return ne},startScheduleTimer:Le,clearScheduleTimer:Pe,reset:function Qe(){A.off(b.default.BYTES_APPENDED_END_FRAGMENT,q,S),A.off(b.default.URL_RESOLUTION_FAILED,J,S),A.off(g.default.PLAYBACK_STARTED,de,S),A.off(g.default.PLAYBACK_RATE_CHANGED,ge,S),A.off(g.default.PLAYBACK_TIME_UPDATED,X,S),Pe(),Q(!1),$e(),B=null},getBufferTarget:K,getPlaybackController:function qe(){return R},setCheckPlaybackQuality:function Ye(ct){Se=ct},setInitSegmentRequired:function Be(ct){ue=ct}},function Ie(){Y=Object(L.default)(y).getInstance().getLogger(S),$e(),B=p.streamInfo}(),S}h.__dashjs_factory_name="ScheduleController",C.default=F.default.getClassFactory(h)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),O=c(
/*! ../Stream */
"./src/streaming/Stream.js"),b=c(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),h=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),y=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),A=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),U=c(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),P=c(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),V=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),R=c(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),D=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function I(z){return function B(z){if(Array.isArray(z))return Y(z)}(z)||function S(z){if(typeof Symbol<"u"&&null!=z[Symbol.iterator]||null!=z["@@iterator"])return Array.from(z)}(z)||function N(z,oe){if(z){if("string"==typeof z)return Y(z,oe);var H=Object.prototype.toString.call(z).slice(8,-1);if("Object"===H&&z.constructor&&(H=z.constructor.name),"Map"===H||"Set"===H)return Array.from(z);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return Y(z,oe)}}(z)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(z,oe){(null==oe||oe>z.length)&&(oe=z.length);for(var H=0,me=new Array(oe);H<oe;H++)me[H]=z[H];return me}function Re(){var H,me,ne,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,je,ze,He,Ae,be,K,ie,he,$,Z,W,X,Q,q,J,de,ge,ce,Ce,Ye,Be,$e,Qe,qe,ct,Ot,_t,Rt,Gt,$t,Qt,dn,gn,jn,ot,dt,z=this.context,oe=Object(F.default)(z).getInstance();function mt(){if(!(Ie&&Ie.hasOwnProperty("load")&&$&&$.hasOwnProperty("initialize")&&$.hasOwnProperty("reset")&&$.hasOwnProperty("getClientTimeOffset")&&le&&he&&we&&Be))throw new Error(t.default.MISSING_CONFIG_ERROR)}function Nt(){!function wt(){try{var jt=Me.getStreamsInfo();if(!W&&0===jt.length)throw new Error("There are no periods in the MPD");W&&jt.length>0&&we.updateManifestUpdateInfo({currentTime:Be.getTime(),buffered:Ye.getBufferRange(),presentationStartTime:jt[0].start,clientTimeOffset:$.getClientTimeOffset()}),Z.length>0&&function Cr(jt){0!==jt.length?Z=Z.filter(function(hn){var Ln=jt.filter(function(ti){return ti.id===hn.getId()}).length>0||hn.getId()===W.getId();return Ln||(me.debug("Removing stream ".concat(hn.getId())),hn.reset(!0)),Ln}):me.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(jt);for(var hn=[],Nn=0,Ln=jt.length;Nn<Ln;Nn++){var ti=jt[Nn];hn.push(Ht(ti)),we.addManifestUpdateStreamInfo(ti)}Promise.all(hn).then(function(){return dn.get().streaming.applyContentSteering&&!W&&Pe.shouldQueryBeforeStart()?Pe.loadSteeringData():Promise.resolve()}).then(function(){W||en(jt),oe.trigger(L.default.STREAMS_COMPOSED),sn()}).catch(function(Qn){throw Qn})}catch(Qn){he.error(new V.default(k.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Qn.message+" nostreamscomposed",le.getValue())),ce=!0,tr()}}()}function Zt(){gn=!0}function Ht(jt){var hn=li(jt.id);return hn?hn.updateData(jt):(hn=Object(O.default)(z).create({manifestModel:le,mediaPlayerModel:Qe,dashMetrics:we,manifestUpdater:Se,adapter:Me,timelineConverter:$,capabilities:ne,capabilitiesFilter:ue,errHandler:he,baseURLController:Oe,segmentBaseController:je,textController:Q,abrController:He,playbackController:Be,eventController:be,mediaController:Ae,protectionController:X,videoModel:Ye,streamInfo:jt,settings:dn}),Z.push(hn),hn.initialize(),Promise.resolve())}function en(jt){nt();var hn=we.getCurrentDVRInfo().range;if(hn.end<hn.start){jn&&clearTimeout(jn);var Nn=Math.min(1e3*(-1*(hn.end-hn.start)+2),2147483647);return me.debug("Waiting for ".concat(Nn," ms before playback can start")),oe.trigger(L.default.AST_IN_FUTURE,{delay:Nn}),void(jn=setTimeout(function(){en(jt)},Nn))}dn.get().streaming.applyProducerReferenceTime&&$e.calculateProducerReferenceTimeOffsets(jt);var Ln=jt[0].manifestInfo;if(dn.get().streaming.applyServiceDescription&&$e.applyServiceDescription(Ln),Me.getIsDynamic()){var ti=Di(jt,Ln);Be.computeAndSetLiveDelay(ti,Ln)}var Qn=function lr(){var jt;if(Me.getIsDynamic()){var Nn=we.getCurrentDVRInfo();jt=(Nn&&Nn.range?Nn.range.end:0)-Be.getOriginalLiveDelay();var ti=Nn?Nn.range:null;if(ti){if(isNaN(ot)&&-1===ot.toString().indexOf("posix:")){var si=Si(!0);isNaN(si)||(me.info("Start time from URI parameters: ".concat(si)),jt=Math.min(jt,si))}else{me.info("Start time provided by the app: ".concat(ot));var Qn=ki(!0,ot);isNaN(Qn)||(jt=Math.min(jt,Qn))}var ci=dn.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;jt=Math.max(jt,ti.start+ci)}}else if(jt=Fr()[0].getStreamInfo().start,isNaN(ot)){var hr=Si(!1);isNaN(hr)||(me.info("Start time from URI parameters: ".concat(hr)),jt=Math.max(jt,hr))}else{me.info("Start time provided by the app: ".concat(ot));var Pr=ki(!1,ot);isNaN(Pr)||(jt=Math.max(jt,Pr))}return jt}(),si=Ke(Qn),ci=null!==si?si:Z[0];oe.trigger(L.default.INITIAL_STREAM_SWITCH,{startTime:Qn}),tn(ci,null,Qn),function bn(){Rt||(Rt=setInterval(function(){!de&&Be.getTimeToStreamEnd()<=0&&!Be.isSeeking()&&oe.trigger(L.default.PLAYBACK_ENDED,{isLast:Qi().isLast})},200))}()}function tn(jt,hn,Nn){try{if(de||!jt||hn===jt&&jt.getIsActive())return;de=!0,oe.trigger(L.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:hn?hn.getStreamInfo():null,toStreamInfo:jt.getStreamInfo()});var Ln=!1;W=jt,hn&&(Ln=st(jt,hn),hn.deactivate(Ln)),Nn=isNaN(Nn)?!Ln&&hn?jt.getStreamInfo().start:NaN:Nn,me.info("Switch to stream ".concat(jt.getId(),". Seektime is ").concat(Nn,", current playback time is ").concat(Be.getTime(),". Seamless period switch is set to ").concat(Ln)),$t=$t.filter(function(ti){return ti.getId()!==W.getId()}),Be.initialize(Qi(),!!hn),Ye.getElement()&&yn(Nn,Ln)}catch{de=!1}}function yn(jt,hn){var Nn;function Ln(){if(Ce&&"open"===Ce.readyState){me.debug("MediaSource is open!"),window.URL.revokeObjectURL(Nn),Ce.removeEventListener("sourceopen",Ln),Ce.removeEventListener("webkitsourceopen",Ln),At();var Qn=we.getCurrentDVRInfo();_e.setSeekable(Qn.range.start,Qn.range.end),Tn(jt,hn)}}function ti(){Ce.addEventListener("sourceopen",Ln,!1),Ce.addEventListener("webkitsourceopen",Ln,!1),Nn=_e.attachMediaSource(Ye),me.debug("MediaSource attached to element.  Waiting on open...")}Ce?hn?Tn(jt,hn):(_e.detachMediaSource(Ye),ti()):(Ce=_e.createMediaSource(),ti())}function Tn(jt,hn){W.activate(Ce,hn?Gt:void 0,jt).then(function(Nn){if(Nn){var Ln=Object.keys(Nn);Ln.length>0&&Nn[Ln[0]].getBuffer().changeType&&(Qt=!0),Gt=Nn}isNaN(jt)||(oe.trigger(L.default.SEEK_TARGET,{time:jt},{streamId:W.getId()}),Be.seek(jt,!1,!0),W.startScheduleControllers()),de=!1,oe.trigger(L.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Qi()})})}function On(jt){var Nn=Ke(jt.seekTime);Nn&&Nn!==W?Nn&&Nn!==W&&(In(),function Ft(jt,hn){var Nn=jt&&!isNaN(jt.seekTime)?jt.seekTime:NaN,ti=W.getProcessors().map(function(Qn){return Qn.prepareOuterPeriodPlaybackSeeking(jt)});Promise.all(ti).then(function(){tn(hn,W,Nn)}).catch(function(Qn){he.error(Qn)})}(jt,Nn)):(In(),function fi(jt){W.getProcessors().forEach(function(Nn){return Nn.prepareInnerPeriodPlaybackSeeking(jt)}),kr(g.PlayListTrace.USER_REQUEST_STOP_REASON)}(jt)),$n(g.PlayList.SEEK_START_REASON)}function In(){Jn()}function Jn(){$t&&$t.length>0&&($t.forEach(function(jt){jt.deactivate(!0)}),$t=[])}function St(jt){jt.newMediaInfo.streamInfo.id===W.getId()&&(Jn(),W.prepareTrackChange(jt))}function st(jt,hn){try{return dn.get().streaming.buffer.reuseExistingSourceBuffers&&(hn.isProtectionCompatible(jt)||gn)&&(Qt||hn.isMediaCodecCompatible(jt,hn))}catch{return!1}}function Xt(jt){var hn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ce&&!jt.getPreloaded()&&st(jt,hn)&&jt.startPreloading(Ce,Gt).then(function(){$t.push(jt)})}function Ke(jt){if(isNaN(jt))return null;for(var hn=Z.length,Nn=0;Nn<hn;Nn++){var Ln=Z[Nn];if(jt<parseFloat((Ln.getStartTime()+Ln.getDuration()).toFixed(5)))return Ln}return null}function nt(){try{var jt=Me.getIsDynamic(),Nn=Me.getStreamsInfo()[0].manifestInfo,Ln=Be.getTime(),ti=$.calcTimeShiftBufferWindow(Z,jt),Qn=rn();if(typeof ti.start>"u"||typeof ti.end>"u")return;Qn&&0!==Qn.length?Qn.forEach(function(si){we.addDVRInfo(si.getType(),Ln,Nn,ti)}):we.addDVRInfo(t.default.VIDEO,Ln,Nn,ti)}catch{}}function Ct(jt){if(Ot&&J){var hn=Qe.getInitialBufferLevel(),Nn=[t.default.TEXT];(isNaN(hn)||hn<=Be.getBufferLevel(Nn)||Me.getIsDynamic()&&hn>Be.getLiveDelay())&&(Ot=!1,$n(g.PlayList.INITIAL_PLAYOUT_START_REASON),Be.play())}jt&&jt.mediaType&&we.addBufferLevel(jt.mediaType,new Date,1e3*jt.bufferLevel)}function Yt(jt){jt.streamInfo.id===W.getId()&&jt.reason&&jt.reason.forceReplace&&Jn(),li(jt.streamInfo.id).prepareQualityChange(jt)}function Vt(){if(Me.getIsDynamic()&&0!==Be.getOriginalLiveDelay()&&W){var jt=Me.getStreamsInfo();if(jt.length>0){var hn=jt[0].manifestInfo,Nn=Di(jt,hn);Be.computeAndSetLiveDelay(Nn,hn)}}}function _n(){if(ui()){var jt=Ye.getPlaybackQuality();jt&&we.addDroppedFrames(jt)}}function kt(){me.debug("[onPlaybackStarted]"),!Ot&&ct&&$n(g.PlayList.RESUME_FROM_PAUSE_START_REASON),Ot&&(Ot=!1),_t&&(_t=!1,dn.get().streaming.applyContentSteering&&!Pe.shouldQueryBeforeStart()&&Pe.loadSteeringData()),ct=!1}function It(jt){me.debug("[onPlaybackPaused]"),jt.ended||(ct=!0,kr(g.PlayListTrace.USER_REQUEST_STOP_REASON))}function Bt(jt){me.debug("Stream with id ".concat(jt.streamInfo.id," finished buffering")),Ce&&jt.streamInfo.isLast?(me.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),_e.signalEndOfStream(Ce)):sn()}function sn(){if(W&&W.getHasFinishedBuffering())for(var jt=function it(){var jt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var hn=jt||W||null;if(hn){var Nn=hn.getStreamInfo();return Z.filter(function(Ln){var ti=Ln.getStreamInfo();return ti.start>Nn.start&&Nn.id!==ti.id})}}catch{return[]}}(W),hn=0;hn<jt.length;){var Nn=jt[hn],Ln=0===hn?W:jt[hn-1];!Nn.getPreloaded()&&Ln.getHasFinishedBuffering()&&Ce&&Xt(Nn,Ln),hn+=1}}function Bn(){Rt&&(clearInterval(Rt),Rt=null)}function rn(){return W?W.getProcessors():[]}function ve(jt){if(W&&!W.getIsEndedEventSignaled()){W.setIsEndedEventSignaled(!0);var hn=function lt(){var hn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||W||null;if(!hn)return null;for(var Nn=hn.getStreamInfo(),Ln=Nn.start,ti=0,Qn=-1,si=NaN;ti<Z.length;){var wi=Z[ti].getStreamInfo(),yr=wi.start-Ln;yr>0&&(isNaN(si)||yr<si)&&Nn.id!==wi.id&&(si=yr,Qn=ti),ti+=1}return Qn>=0?Z[Qn]:null}();hn?(me.debug("StreamController onEnded, found next stream with id ".concat(hn.getStreamInfo().id,". Switching from ").concat(W.getStreamInfo().id," to ").concat(hn.getStreamInfo().id)),tn(hn,W,NaN)):(me.debug("StreamController no next stream found"),W.setIsEndedEventSignaled(!1)),kr(hn?g.PlayListTrace.END_OF_PERIOD_STOP_REASON:g.PlayListTrace.END_OF_CONTENT_STOP_REASON)}jt&&jt.isLast&&(Bn(),Pe.stopSteeringRequestTimer())}function At(jt){var hn=jt||Qi().manifestInfo.duration;_e.setDuration(hn)}function Si(jt){var hn=ze.getURIFragmentData();if(!hn||!hn.t)return NaN;var Ln=Fr()[0].getStreamInfo().start;return hn.t=hn.t.split(",")[0],Cn(jt,hn.t,Ln)}function ki(jt,hn){var Nn=0;return jt||(Nn=Fr()[0].getStreamInfo().start),Cn(jt,hn,Nn)}function Cn(jt,hn,Nn){var Ln=Me.getRegularPeriods()[0],ti=hn.toString(),Qn=-1!==ti.indexOf("posix:")?"now"===ti.substring(6)?Date.now()/1e3:parseFloat(ti.substring(6)):NaN;return jt&&!isNaN(Qn)?$.calcPresentationTimeFromWallTime(new Date(1e3*Qn),Ln):parseFloat(ti)+Nn}function Di(jt,hn){try{var Nn=NaN;if(hn&&!isNaN(hn.maxFragmentDuration)&&isFinite(hn.maxFragmentDuration))return hn.maxFragmentDuration;if(jt&&1===jt.length){var Ln=jt[0],Qn=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT].reduce(function(si,ci){var wi=Me.getMediaInfoForType(Ln,ci);return wi&&!1!==wi.isFragmented&&si.push(wi),si},[]).reduce(function(si,ci){var wi=Me.getVoRepresentations(ci);return wi&&wi.length>0&&wi.forEach(function(yr){yr&&si.push(yr)}),si},[]).reduce(function(si,ci){var wi=Me.convertRepresentationToRepresentationInfo(ci);return wi&&wi.fragmentDuration&&!isNaN(wi.fragmentDuration)&&si.push(wi.fragmentDuration),si},[]);Nn=Math.max.apply(Math,I(Qn))}return isFinite(Nn)?Nn:NaN}catch{return NaN}}function Vr(jt){if(jt.error)ce=!0,tr();else{me.info("Manifest updated... updating data system wide.");var hn=jt.manifest;Me.updatePeriods(hn);var Nn=Me.getUTCTimingSources();Me.getIsDynamic()&&(!Nn||0===Nn.length)&&oe.trigger(A.default.CONFORMANCE_VIOLATION,{level:D.default.LEVELS.WARNING,event:D.default.EVENTS.NO_UTC_TIMING_ELEMENT});var Ln=Me.getIsDynamic()?Nn.concat(qe.getUTCTimingSources()):Nn,ti=ie.isHTTPS(jt.manifest.url);Ln.forEach(function(Qn){Qn.value.replace(/.*?:\/\//g,"")===dn.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(Qn.value=Qn.value.replace(ti?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),ti?"https://":"http://"),me.debug("Matching default timing source protocol to manifest protocol: ",Qn.value))}),ue.filterUnsupportedFeatures(hn).then(function(){Oe.initialize(hn),Le.attemptSync(Ln,Me.getIsDynamic())})}}function ui(){return!!W&&W.getHasVideoTrack()}function er(){return!!W&&W.getHasAudioTrack()}function kr(jt,hn){hn=hn||new Date,rn().forEach(function(Nn){Nn.finalisePlayList(hn,jt)}),we.addPlayList()}function $n(jt){we.createPlaylistMetrics(1e3*Be.getTime(),jt)}function Ho(jt){if(jt.error){var hn="";switch(jt.error.code){case 1:hn="MEDIA_ERR_ABORTED";break;case 2:hn="MEDIA_ERR_NETWORK";break;case 3:hn="MEDIA_ERR_DECODE",dt.counts.mediaErrorDecode+=1;break;case 4:hn="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:hn="MEDIA_ERR_ENCRYPTED";break;default:hn="UNKNOWN"}if("MEDIA_ERR_DECODE"===hn&&dn.get().errors.recoverAttempts.mediaErrorDecode>=dt.counts.mediaErrorDecode)return void function io(){me.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var jt=Be.getTime();W.deactivate(!1),me.warn("MediaSource has been resetted. Resuming playback from time ".concat(jt)),yn(jt,!1)}();ge=!0,jt.error.message&&(hn+=" ("+jt.error.message+")"),jt.error.msExtendedCode&&(hn+=" (0x"+(jt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),me.fatal("Video Element Error: "+hn),jt.error&&me.fatal(jt.error),he.error(new V.default(jt.error.code,hn)),tr()}}function Qi(){return W?W.getStreamInfo():null}function li(jt){for(var hn=0,Nn=Z.length;hn<Nn;hn++)if(Z[hn].getId()===jt)return Z[hn];return null}function Wn(jt){isNaN(jt.newDuration)||At(jt.newDuration)}function vr(){Z=[],ot=NaN,X=null,de=!1,W=null,ge=!1,ce=!1,Ot=!0,_t=!0,ct=!1,J=!0,Rt=null,gn=!1,Qt=!1,$t=[],jn=null,dt={counts:{mediaErrorDecode:0}}}function tr(){mt(),Le.reset(),kr(ge||ce?g.PlayListTrace.FAILURE_STOP_REASON:g.PlayListTrace.USER_REQUEST_STOP_REASON);for(var jt=0,hn=Z?Z.length:0;jt<hn;jt++)Z[jt].reset(ge);(function at(){oe.off(A.default.PLAYBACK_TIME_UPDATED,_n,H),oe.off(A.default.PLAYBACK_SEEKING,On,H),oe.off(A.default.PLAYBACK_ERROR,Ho,H),oe.off(A.default.PLAYBACK_STARTED,kt,H),oe.off(A.default.PLAYBACK_PAUSED,It,H),oe.off(A.default.PLAYBACK_ENDED,ve,H),oe.off(A.default.METRIC_ADDED,nr,H),oe.off(A.default.MANIFEST_VALIDITY_CHANGED,Wn,H),oe.off(A.default.BUFFER_LEVEL_UPDATED,Ct,H),oe.off(A.default.QUALITY_CHANGE_REQUESTED,Yt,H),L.default.KEY_SESSION_UPDATED&&oe.off(L.default.KEY_SESSION_UPDATED,Zt,H),oe.off(L.default.MANIFEST_UPDATED,Vr,H),oe.off(L.default.STREAM_BUFFERING_COMPLETED,Bt,H),oe.off(L.default.TIME_SYNCHRONIZATION_COMPLETED,Nt,H),oe.off(L.default.CURRENT_TRACK_CHANGED,St,H),oe.off(L.default.SETTING_UPDATED_LIVE_DELAY,Vt,H),oe.off(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Vt,H)})(),Oe.reset(),Se.reset(),be.reset(),we.clearAllCurrentMetrics(),le.setValue(null),Ie.reset(),$.reset(),K.reset(),Ce&&(_e.detachMediaSource(Ye),Ce=null),Ye=null,X&&(X=null,q=null,le.getValue()&&oe.trigger(L.default.PROTECTION_DESTROYED,{data:le.getValue().url})),Bn(),oe.trigger(L.default.STREAM_TEARDOWN_COMPLETE),vr()}function nr(jt){if(jt.metric===E.default.DVR_INFO){var hn=er()?t.default.AUDIO:t.default.VIDEO;jt.mediaType===hn&&_e.setSeekable(jt.value.range.start,jt.value.range.end)}}function Fr(){return Z}return H={initialize:function fe(jt,hn){mt(),J=jt,q=hn,$.initialize(),(Se=Object(b.default)(z).create()).setConfig({manifestModel:le,adapter:Me,manifestLoader:Ie,errHandler:he,settings:dn}),Se.initialize(),(be=Object(R.default)(z).getInstance()).setConfig({manifestUpdater:Se,playbackController:Be,settings:dn}),be.start(),Le.setConfig({dashMetrics:we,baseURLController:Oe,errHandler:he,settings:dn}),Le.initialize(),X&&(oe.trigger(L.default.PROTECTION_CREATED,{controller:X}),X.setMediaElement(Ye.getElement()),q&&X.setProtectionData(q)),function pe(){oe.on(A.default.PLAYBACK_TIME_UPDATED,_n,H),oe.on(A.default.PLAYBACK_SEEKING,On,H),oe.on(A.default.PLAYBACK_ERROR,Ho,H),oe.on(A.default.PLAYBACK_STARTED,kt,H),oe.on(A.default.PLAYBACK_PAUSED,It,H),oe.on(A.default.PLAYBACK_ENDED,ve,H),oe.on(A.default.METRIC_ADDED,nr,H),oe.on(A.default.MANIFEST_VALIDITY_CHANGED,Wn,H),oe.on(A.default.BUFFER_LEVEL_UPDATED,Ct,H),oe.on(A.default.QUALITY_CHANGE_REQUESTED,Yt,H),L.default.KEY_SESSION_UPDATED&&oe.on(L.default.KEY_SESSION_UPDATED,Zt,H),oe.on(L.default.MANIFEST_UPDATED,Vr,H),oe.on(L.default.STREAM_BUFFERING_COMPLETED,Bt,H),oe.on(L.default.TIME_SYNCHRONIZATION_COMPLETED,Nt,H),oe.on(L.default.CURRENT_TRACK_CHANGED,St,H),oe.on(L.default.SETTING_UPDATED_LIVE_DELAY,Vt,H),oe.on(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Vt,H)}()},getActiveStreamInfo:Qi,addDVRMetric:nt,hasVideoTrack:ui,hasAudioTrack:er,getStreamById:li,getStreamForTime:Ke,getTimeRelativeToStreamId:function ht(jt,hn){for(var Nn=null,Ln=0,ti=0,Qn=null,si=0;si<Z.length;si++){if(ti=(Nn=Z[si]).getStartTime(),Qn=Nn.getDuration(),Number.isFinite(ti)&&(Ln=ti),Nn.getId()===hn)return jt-Ln;Number.isFinite(Qn)&&(Ln+=Qn)}return null},load:function ut(jt){var hn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;mt(),ot=hn,Ie.load(jt)},loadWithManifest:function bt(jt){var hn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function Dt(){if(!Se||!Se.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),ot=hn,Se.setManifest(jt)},getActiveStreamProcessors:rn,setConfig:function ai(jt){jt&&(jt.capabilities&&(ne=jt.capabilities),jt.capabilitiesFilter&&(ue=jt.capabilitiesFilter),jt.manifestLoader&&(Ie=jt.manifestLoader),jt.manifestModel&&(le=jt.manifestModel),jt.mediaPlayerModel&&(Qe=jt.mediaPlayerModel),jt.customParametersModel&&(qe=jt.customParametersModel),jt.protectionController&&(X=jt.protectionController),jt.adapter&&(Me=jt.adapter),jt.dashMetrics&&(we=jt.dashMetrics),jt.errHandler&&(he=jt.errHandler),jt.timelineConverter&&($=jt.timelineConverter),jt.videoModel&&(Ye=jt.videoModel),jt.playbackController&&(Be=jt.playbackController),jt.serviceDescriptionController&&($e=jt.serviceDescriptionController),jt.contentSteeringController&&(Pe=jt.contentSteeringController),jt.textController&&(Q=jt.textController),jt.abrController&&(He=jt.abrController),jt.mediaController&&(Ae=jt.mediaController),jt.settings&&(dn=jt.settings),jt.baseURLController&&(Oe=jt.baseURLController),jt.uriFragmentModel&&(ze=jt.uriFragmentModel),jt.segmentBaseController&&(je=jt.segmentBaseController))},setProtectionData:function Ni(jt){q=jt,X&&X.setProtectionData(q)},getIsStreamSwitchInProgress:function Do(){return de},switchToVideoElement:function _r(jt){W&&(Be.initialize(Qi()),yn(jt,!1))},getHasMediaOrInitialisationError:function Xi(){return ge||ce},getStreams:Fr,getActiveStream:function Kt(){return W},getInitialPlayback:function vn(){return Ot},getAutoPlay:function Ui(){return J},reset:tr},function xe(){me=Object(h.default)(z).getInstance().getLogger(H),Le=Object(U.default)(z).getInstance(),_e=Object(P.default)(z).getInstance(),K=Object(p.default)(z).getInstance(),ie=Object(y.default)(z).getInstance(),vr()}(),H}Re.__dashjs_factory_name="StreamController",C.default=x.default.getSingletonFactory(Re)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),O=c(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),x=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function R(){var S,B,Y,re,se,Re,z,oe,H,me,ne,ue,Se,Ie,le,Me,I=this.context,T=Object(O.default)(I).getInstance(),N=Object(g.default)(I).getInstance();function Le(){oe=[],H=[],me=null,ne=null,Se=null,ue=NaN,Y=!1,re=!1,Ie=se.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function je(){!se.get().streaming.utcSynchronization.enabled||Y||re||!Se||!Se.value||!Se.schemeIdUri||isNaN(ue)||isNaN(se.get().streaming.utcSynchronization.backgroundAttempts)||ne&&(Date.now()-ne)/1e3<30||(oe=[],re=!0,ze(isNaN(se.get().streaming.utcSynchronization.backgroundAttempts)?2:se.get().streaming.utcSynchronization.backgroundAttempts))}function ze(Be){try{if(Be<=0)return void ce();var $e=Date.now();Re[Se.schemeIdUri](Se.value,function(Qe){var qe=Date.now(),ct=Ae($e,qe,Qe);oe.push(ct),ze(Be-1)},function(){ce()})}catch{ce()}}function He(){var $e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!H||0===H.length||$e>=H.length)K();else{var Qe=H[$e];if(Qe)if(Re.hasOwnProperty(Qe.schemeIdUri)){var qe=(new Date).getTime();Re[Qe.schemeIdUri](Qe.value,function(ct){var Ot=(new Date).getTime(),_t=Ae(qe,Ot,ct);Se=Qe,K(_t)},function(){He($e+1)})}else He($e+1);else K()}}function Ae(Be,$e,Qe){return Qe-($e-($e-Be)/2)}function K(){var Be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,$e=isNaN(Be);$e&&se.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function J(){var Be=z.getLatestMPDRequestHeaderValueByID("Date"),$e=null!==Be?new Date(Be).getTime():Number.NaN;isNaN($e)?de(!0):de(!1,$e-Date.now())}():de($e,Be)}function he(Be){var $e=Date.parse(Be);return isNaN($e)&&($e=function ie(Be){var Ot,_t,Rt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Be);return Ot=Date.UTC(parseInt(Rt[1],10),parseInt(Rt[2],10)-1,parseInt(Rt[3],10),parseInt(Rt[4],10),parseInt(Rt[5],10),Rt[6]&&(parseInt(Rt[6],10)||0),Rt[7]&&1e3*parseFloat(Rt[7])||0),Rt[9]&&Rt[10]&&(_t=60*parseInt(Rt[9],10)+parseInt(Rt[10],10),Ot+=("+"===Rt[8]?-1:1)*_t*60*1e3),new Date(Ot).getTime()}(Be)),$e}function $(Be){return Date.parse(Be)}function Z(Be){return Date.parse(Be)}function W(Be,$e,Qe){Qe()}function X(Be,$e,Qe){var qe=he(Be);isNaN(qe)?Qe():$e(qe)}function Q(Be,$e,Qe,qe,ct){var Ot,_t,Rt=!1,Gt=new XMLHttpRequest,$t=ct?E.HTTPRequest.HEAD:E.HTTPRequest.GET,Qt=$e.match(/\S+/g);if($e=Qt.shift(),Ot=function(){Rt||(Rt=!0,Qt.length?Q(Be,Qt.join(" "),Qe,qe,ct):qe())},_t=function(){var jn,ot;200===Gt.status&&(jn=ct?Gt.getResponseHeader("Date"):Gt.response,ot=Be(jn),isNaN(ot)||(Qe(ot),Rt=!0))},N.isRelative($e)){var dn=Me.resolve();dn&&($e=N.resolve($e,dn.url))}Gt.open($t,$e),Gt.timeout=5e3,Gt.onload=_t,Gt.onloadend=Ot,Gt.send()}function q(Be,$e,Qe){Q(Z,Be,$e,Qe,!0)}function de(Be,$e){if(!isNaN(ue)&&!isNaN($e)&&!Be&&function ge(Be){try{var _t,$e=Ce(Be),Qe=isNaN(Ie)?30:Ie,qe=isNaN(se.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:se.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,ct=isNaN(se.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:se.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Ot=isNaN(se.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:se.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;$e?(_t=Math.min(Qe*qe,ct),B.debug("Increasing timeBetweenSyncAttempts to ".concat(_t))):(_t=Math.max(Qe/qe,Ot),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(_t))),Ie=_t}catch{}}($e),!Be&&!isNaN($e)){me=Date.now(),Y=!1;var Qe=isNaN(ue);ue=$e,Qe&&je(),B.debug("Completed UTC sync. Setting client - server offset to ".concat($e))}Be&&(Se=null,Y=!1,le.error(new t.default(F.default.TIME_SYNC_FAILED_ERROR_CODE,F.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),T.trigger(b.default.UPDATE_TIME_SYNC_OFFSET,{offset:$e}),T.trigger(b.default.TIME_SYNCHRONIZATION_COMPLETED)}function ce(){if(oe&&0!==oe.length){var Be=oe.reduce(function($e,Qe){return $e+Qe},0)/oe.length;Ce(Be)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(Be)),T.trigger(b.default.UPDATE_TIME_SYNC_OFFSET,{offset:ue=Be})),re=!1,ne=Date.now()}}function Ce(Be){try{if(isNaN(ue))return!0;var $e=se.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(se.get().streaming.utcSynchronization.maximumAllowedDrift)?se.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Be>=ue-$e&&Be<=ue+$e}catch{return!0}}return S={initialize:function Pe(){Le(),Re={"urn:mpeg:dash:utc:http-head:2014":q,"urn:mpeg:dash:utc:http-xsdate:2014":Q.bind(null,he),"urn:mpeg:dash:utc:http-iso:2014":Q.bind(null,$),"urn:mpeg:dash:utc:direct:2014":X,"urn:mpeg:dash:utc:http-head:2012":q,"urn:mpeg:dash:utc:http-xsdate:2012":Q.bind(null,he),"urn:mpeg:dash:utc:http-iso:2012":Q.bind(null,$),"urn:mpeg:dash:utc:direct:2012":X,"urn:mpeg:dash:utc:http-ntp:2014":W,"urn:mpeg:dash:utc:ntp:2014":W,"urn:mpeg:dash:utc:sntp:2014":W}},attemptSync:function Oe(Be,$e){if(H=Be,!Y){if(!function be(Be){try{if(!Be||!se.get().streaming.utcSynchronization.enabled)return!1;var $e=isNaN(Ie)?30:Ie;return!(me&&$e&&!isNaN($e))||(Date.now()-me)/1e3>=$e}catch{return!0}}($e))return void T.trigger(b.default.TIME_SYNCHRONIZATION_COMPLETED);Y=!0,He()}},setConfig:function _e(Be){Be&&(Be.dashMetrics&&(z=Be.dashMetrics),Be.baseURLController&&(Me=Be.baseURLController),Be.errHandler&&(le=Be.errHandler),Be.settings&&(se=Be.settings))},reset:function Ye(){Le(),T.off(b.default.ATTEMPT_BACKGROUND_SYNC,je,S)}},function we(){B=Object(x.default)(I).getInstance().getLogger(S),T.on(b.default.ATTEMPT_BACKGROUND_SYNC,je,S)}(),S}R.__dashjs_factory_name="TimeSyncController";var D=L.default.getSingletonFactory(R);D.HTTP_TIMEOUT_MS=5e3,L.default.updateSingletonFactory(R.__dashjs_factory_name,D),C.default=D},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),L=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),x=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),g="onLoad";function y(A){A=A||{};var k,R,D,I,T,N,U=this.context,P=Object(E.default)(U).getInstance(),V=Object(L.default)(U).getInstance();function Re(Ie,le,Me){var _e,Le,we={};we.elements=Ie,we.type=le,we.resolveType=Me,0===we.elements.length&&oe(we);for(var Pe=0;Pe<we.elements.length;Pe++)Le=V.isHTTPURL((_e=we.elements[Pe]).url)?_e.url:_e.originalContent.BaseURL+_e.url,N.load(Le,_e,we)}function z(Ie){var le,Me,Le="";if(Me=Ie.resolveObject,(le=Ie.element).resolvedContent){var Pe=0;0===le.resolvedContent.indexOf("<?xml")&&(Pe=le.resolvedContent.indexOf("?>")+2),Le=le.resolvedContent.substr(0,Pe)+"<response>"+le.resolvedContent.substr(Pe)+"</response>",le.resolvedContent=T.xml_str2json(Le)}(function ue(Ie){var le;for(le=0;le<Ie.elements.length;le++)if(!1===Ie.elements[le].resolved)return!1;return!0})(Me)&&oe(Me)}function oe(Ie){var Me,we,le=[];if(function me(Ie){var Me,we,Le,Pe,Oe,le=[];for(Le=Ie.elements.length-1;Le>=0;Le--){if(we=(Me=Ie.elements[Le]).type+"_asArray",Me.resolvedContent){if(Me.resolvedContent)for(Pe=0;Pe<Me.resolvedContent[we].length;Pe++)le.push(Me.resolvedContent[we][Pe])}else delete Me.originalContent["xlink:actuate"],delete Me.originalContent["xlink:href"],le.push(Me.originalContent);for(Me.parentElement[we].splice(Me.index,1),Oe=0;Oe<le.length;Oe++)Me.parentElement[we].splice(Me.index+Oe,0,le[Oe]);le=[]}Ie.elements.length>0&&D.run(I)}(Ie),"onActuate"===Ie.resolveType&&P.trigger(O.default.XLINK_READY,{manifest:I}),Ie.resolveType===g)switch(Ie.type){case x.default.PERIOD:for(Me=0;Me<I[x.default.PERIOD+"_asArray"].length;Me++)(we=I[x.default.PERIOD+"_asArray"][Me]).hasOwnProperty(x.default.ADAPTATION_SET+"_asArray")&&(le=le.concat(H(we[x.default.ADAPTATION_SET+"_asArray"],we,x.default.ADAPTATION_SET,g))),we.hasOwnProperty(x.default.EVENT_STREAM+"_asArray")&&(le=le.concat(H(we[x.default.EVENT_STREAM+"_asArray"],we,x.default.EVENT_STREAM,g)));Re(le,x.default.ADAPTATION_SET,g);break;case x.default.ADAPTATION_SET:P.trigger(O.default.XLINK_READY,{manifest:I})}}function H(Ie,le,Me,we){var Le,Pe,Oe,_e=[];for(Pe=Ie.length-1;Pe>=0;Pe--)(Le=Ie[Pe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===Le["xlink:href"]&&Ie.splice(Pe,1);for(Pe=0;Pe<Ie.length;Pe++)(Le=Ie[Pe]).hasOwnProperty("xlink:href")&&Le.hasOwnProperty("xlink:actuate")&&Le["xlink:actuate"]===we&&(Oe=ne(Le["xlink:href"],le,Me,Pe,we,Le),_e.push(Oe));return _e}function ne(Ie,le,Me,we,_e,Le){return{url:Ie,parentElement:le,type:Me,index:we,resolveType:_e,originalContent:Le,resolvedContent:null,resolved:!1}}return k={resolveManifestOnLoad:function re(Ie){T=new F.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:R}),(I=Ie).Period_asArray?Re(H(I.Period_asArray,I,x.default.PERIOD,g),x.default.PERIOD,g):P.trigger(O.default.XLINK_READY,{manifest:I})},setMatchers:function B(Ie){Ie&&(R=Ie)},setIron:function Y(Ie){Ie&&(D=Ie)},reset:function se(){P.off(O.default.XLINK_ELEMENT_LOADED,z,k),N&&(N.reset(),N=null)}},function S(){P.on(O.default.XLINK_ELEMENT_LOADED,z,k),N=Object(t.default)(U).create({errHandler:A.errHandler,dashMetrics:A.dashMetrics,mediaPlayerModel:A.mediaPlayerModel,requestModifier:A.requestModifier,settings:A.settings})}(),k}y.__dashjs_factory_name="XlinkController",C.default=b.default.getClassFactory(y)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),E=c(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),O=c(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),b=c(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),F=c(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function L(){var g=this.context;return{createMetricsReporting:function y(P){return Object(t.default)(g).getInstance({eventBus:P.eventBus,dashMetrics:P.dashMetrics,metricsConstants:P.metricsConstants,events:P.events}).initialise(),Object(O.default)(g).create(P)},getReportingFactory:function A(){return Object(F.default)(g).getInstance()},getMetricsHandlerFactory:function U(){return Object(b.default)(g).getInstance()}}}L.__dashjs_factory_name="MetricsReporting";var x=dashjs.FactoryMaker.getClassFactory(L);x.events=E.default,dashjs.FactoryMaker.updateClassFactory(L.__dashjs_factory_name,x),C.default=x},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function O(R,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var D=function L(R,D){if("object"!==E(R)||null===R)return R;var I=R[Symbol.toPrimitive];if(void 0!==I){var T=I.call(R,D||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function g(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&h(R,D)}function h(R,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,D)}function p(R){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(D){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function y(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(R)}c.r(C);var k=new(function(R){g(I,R);var D=p(I);function I(){var T;return function x(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(T=D.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",T.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",T.CMCD_DATA_GENERATED="cmcdDataGenerated",T}return function b(R,D,I){return D&&O(R.prototype,D),I&&O(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}(I)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));C.default=k},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),E=c(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),O=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function b(F){var L,x={},g=this.context,h=(F=F||{}).eventBus,p=F.events;function y(V){if(!V.error){var k=Object.keys(x);Object(E.default)(g).getInstance({adapter:F.adapter,constants:F.constants}).getMetrics(V.manifest).forEach(function(D){var I=JSON.stringify(D);if(x.hasOwnProperty(I))k.splice(I,1);else try{var T=Object(t.default)(g).create(F);T.initialize(D),x[I]=T}catch{}}),k.forEach(function(D){x[D].reset(),delete x[D]}),h.trigger(O.default.METRICS_INITIALISATION_COMPLETE)}}function A(){Object.keys(x).forEach(function(V){x[V].reset()}),x={}}return L={reset:function P(){h.off(p.MANIFEST_UPDATED,y,L),h.off(p.STREAM_TEARDOWN_COMPLETE,A,L)}},function U(){h.on(p.MANIFEST_UPDATED,y,L),h.on(p.STREAM_TEARDOWN_COMPLETE,A,L)}(),L}b.__dashjs_factory_name="MetricsCollectionController",C.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),E=c(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),O=c(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function b(F){F=F||{};var L,x,g,p=this.context;function A(){L&&L.reset(),x&&x.reset(),g&&g.reset()}return{initialize:function y(U){try{(g=Object(t.default)(p).create({mediaElement:F.mediaElement})).initialize(U.Range),(x=Object(E.default)(p).create({debug:F.debug,metricsConstants:F.metricsConstants,mediaPlayerModel:F.mediaPlayerModel})).initialize(U.Reporting,g),(L=Object(O.default)(p).create({debug:F.debug,eventBus:F.eventBus,metricsConstants:F.metricsConstants,events:F.events})).initialize(U.metrics,x)}catch(P){throw A(),P}},reset:A}}b.__dashjs_factory_name="MetricsController",C.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function E(O){var F,b=[],L=this.context,x=(O=O||{}).eventBus,g=O.events,h=Object(t.default)(L).getInstance({debug:O.debug,eventBus:O.eventBus,metricsConstants:O.metricsConstants});function p(U){b.forEach(function(P){P.handleNewMetric(U.metric,U.value,U.mediaType)})}return F={initialize:function y(U,P){U.split(",").forEach(function(V,k,R){var D;if(-1!==V.indexOf("(")&&-1===V.indexOf(")")){var I=R[k+1];I&&-1===I.indexOf("(")&&-1!==I.indexOf(")")&&(V+=","+I,delete R[k+1])}(D=h.create(V,P))&&b.push(D)}),x.on(g.METRIC_ADDED,p,F),x.on(g.METRIC_UPDATED,p,F)},reset:function A(){x.off(g.METRIC_ADDED,p,F),x.off(g.METRIC_UPDATED,p,F),b.forEach(function(U){return U.reset()}),b=[]}}}E.__dashjs_factory_name="MetricsHandlersController",C.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function E(O){var L,x,b=!1,F=this.context,g=(O=O||{}).mediaElement;return L={initialize:function h(U){U&&U.length&&(U.forEach(function(P){var V=P.starttime;x.add(V,V+P.duration)}),b=!!U[0]._useWallClockTime)},reset:function p(){x.clear()},isEnabled:function A(){var P,U=x.length;if(!U)return!0;P=b?(new Date).getTime()/1e3:g.currentTime;for(var V=0;V<U;V+=1){var k=x.start(V),R=x.end(V);if(k<=P&&P<R)return!0}return!1}},function y(){x=Object(t.default)(F).create()}(),L}E.__dashjs_factory_name="RangeController",C.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function E(O){var b=[],L=Object(t.default)(this.context).getInstance(O);return{initialize:function x(p,y){p.some(function(A){var U=L.create(A,y);if(U)return b.push(U),!0})},reset:function g(){b.forEach(function(p){return p.reset()}),b=[]},report:function h(p,y){b.forEach(function(A){return A.report(p,y)})}}}E.__dashjs_factory_name="ReportingController",C.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),E=c(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),O=c(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),b=c(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function F(L){var x,g=(L=L||{}).debug?L.debug.getLogger(x):{},h=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,p=this.context,y={BufferLevel:t.default,DVBErrors:E.default,HttpList:O.default,PlayList:b.default,RepSwitchList:b.default,TcpList:b.default};return{create:function A(V,k){var D,R=V.match(h);if(R){try{(D=y[R[1]](p).create({eventBus:L.eventBus,metricsConstants:L.metricsConstants})).initialize(R[1],k,R[3],R[5])}catch(I){D=null,g.error("MetricsHandlerFactory: Could not create handler for type ".concat(R[1]," with args ").concat(R[3],", ").concat(R[5]," (").concat(I.message,")"))}return D}},register:function U(V,k){y[V]=k},unregister:function P(V){delete y[V]}}}F.__dashjs_factory_name="MetricsHandlerFactory",C.default=dashjs.FactoryMaker.getSingletonFactory(F)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function E(O){O=O||{};var F,L,x,g,h,p=this.context,y=Object(t.default)(p).getInstance(),A=[],U=O.metricsConstants;function V(){var I=function P(){try{return Object.keys(A).map(function(I){return A[I]}).reduce(function(I,T){return I.level<T.level?I:T})}catch{return}}();I&&h!==I.t&&(h=I.t,F.report(x,I))}return{initialize:function k(I,T,N){T&&(L=y.validateN(N),F=T,x=y.reconstructFullMetricName(I,N),g=setInterval(V,L))},reset:function R(){clearInterval(g),g=null,L=0,F=null,h=null},handleNewMetric:function D(I,T,N){I===U.BUFFER_LEVEL&&(A[N]=T)}}}E.__dashjs_factory_name="BufferLevelHandler",C.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");C.default=dashjs.FactoryMaker.getClassFactory(function E(O){var F,L=(O=O||{}).eventBus,x=O.metricsConstants;function g(){L.off(t.default.METRICS_INITIALISATION_COMPLETE,g,this),L.trigger(t.default.BECAME_REPORTING_PLAYER)}return{initialize:function h(A,U){U&&(F=U,L.on(t.default.METRICS_INITIALISATION_COMPLETE,g,this))},reset:function p(){F=null},handleNewMetric:function y(A,U){A===x.DVB_ERRORS&&F&&F.report(A,U)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){var O,b;return{initialize:function F(g,h){O=g,b=h},reset:function L(){b=null,O=void 0},handleNewMetric:function x(g,h){g===O&&b&&b.report(O,h)}}}c.r(C),t.__dashjs_factory_name="GenericMetricHandler",C.default=dashjs.FactoryMaker.getClassFactory(t)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function E(O){O=O||{};var F,L,x,g,h,p=[],y=Object(t.default)(this.context).getInstance(),A=O.metricsConstants;function U(){p.length&&F&&F.report(g,p),p=[]}return{initialize:function P(R,D,I,T){D&&(L=y.validateN(I),F=D,T&&T.length&&(x=T),g=y.reconstructFullMetricName(R,I,T),h=setInterval(U,L))},reset:function V(){clearInterval(h),h=null,L=null,x=null,p=[],F=null},handleNewMetric:function k(R,D){R===A.HTTP_REQUEST&&(!x||x===D.type)&&p.push(D)}}}E.__dashjs_factory_name="HttpListHandler",C.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function E(O){var L,b={"urn:dvb:dash:reporting:2014":t.default},F=this.context,x=(O=O||{}).debug?O.debug.getLogger(L):{},g=O.metricsConstants,h=O.mediaPlayerModel||{};return{create:function p(U,P){var V;try{(V=b[U.schemeIdUri](F).create({metricsConstants:g,mediaPlayerModel:h})).initialize(U,P)}catch(k){V=null,x.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(U.schemeIdUri," (").concat(k.message,")"))}return V},register:function y(U,P){b[U]=P},unregister:function A(U){delete b[U]}}}E.__dashjs_factory_name="ReportingFactory",C.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),E=c(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),O=c(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function b(F){var L,g,h,p,y,A,U,P,x=this.context,R=[],D=(F=F||{}).metricsConstants;function B(){y=!1,A=!1,U=null,P=null}return L={report:function N(re,se){Array.isArray(se)||(se=[se]),A&&P.isEnabled()&&se.forEach(function(Re){var z=g.serialise(Re);re!==D.DVB_ERRORS&&(z="metricname=".concat(re,"&").concat(z)),function T(re,se,Re){var z=new XMLHttpRequest;z.withCredentials=h.getXHRWithCredentialsForType(D.HTTP_REQUEST_DVB_REPORTING_TYPE);var oe=function(){var me=R.indexOf(z);-1!==me&&(R.splice(me,1),z.status>=200&&z.status<300?se&&se():Re&&Re())};R.push(z);try{z.open("GET",re),z.onloadend=oe,z.onerror=oe,z.send()}catch{z.onerror()}}(z="".concat(U,"?").concat(z),null,function(){A=!1})})},initialize:function S(re,se){var Re;if(P=se,!(U=re.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");y||((Re=re.dvb_probability)&&(1e3===Re||Re/1e3>=p.random())&&(A=!0),y=!0)},reset:function Y(){B()}},function I(){g=Object(t.default)(x).getInstance(),p=Object(E.default)(x).getInstance(),h=Object(O.default)(x).getInstance(),B()}(),L}b.__dashjs_factory_name="DVBReporting",C.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),E=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function O(b){var F,L,x=(b=b||{}).eventBus,g=b.dashMetrics,h=b.metricsConstants,p=b.events;function y(T){var N=new t.default;if(L){for(var S in T)T.hasOwnProperty(S)&&(N[S]=T[S]);N.mpdurl||(N.mpdurl=L.originalUrl||L.url),N.terror||(N.terror=new Date),g.addDVBErrors(N)}}function A(T){T.error||(L=T.manifest)}function U(T){y({errorcode:t.default.BASE_URL_CHANGED,servicelocation:T.entry})}function P(){y({errorcode:t.default.BECAME_REPORTER})}function k(T){T.metric===h.HTTP_REQUEST&&function V(T){(0===T.responsecode||null==T.responsecode||T.responsecode>=400||T.responsecode<100||T.responsecode>=600)&&y({errorcode:T.responsecode||t.default.CONNECTION_ERROR,url:T.url,terror:T.tresponse,servicelocation:T._serviceLocation})}(T.value)}function R(T){var S;switch(T.error?T.error.code:0){case MediaError.MEDIA_ERR_NETWORK:S=t.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:S=t.default.CORRUPT_MEDIA_OTHER;break;default:return}y({errorcode:S})}return F={initialise:function D(){x.on(p.MANIFEST_UPDATED,A,F),x.on(p.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),x.on(p.METRIC_ADDED,k,F),x.on(p.METRIC_UPDATED,k,F),x.on(p.PLAYBACK_ERROR,R,F),x.on(E.default.BECAME_REPORTING_PLAYER,P,F)},reset:function I(){x.off(p.MANIFEST_UPDATED,A,F),x.off(p.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),x.off(p.METRIC_ADDED,k,F),x.off(p.METRIC_UPDATED,k,F),x.off(p.PLAYBACK_ERROR,R,F),x.off(E.default.BECAME_REPORTING_PLAYER,P,F)}}}O.__dashjs_factory_name="DVBErrorsTranslator",C.default=dashjs.FactoryMaker.getSingletonFactory(O)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){return{reconstructFullMetricName:function(O,b,F){var L=O;return b&&(L+="("+b,F&&F.length&&(L+=","+F),L+=")"),L},validateN:function(O){if(!O)throw new Error("missing n");if(isNaN(O))throw new Error("n is NaN");if(O<0)throw new Error("n must be positive");return O}}}c.r(C),t.__dashjs_factory_name="HandlerHelpers",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),E=c(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),O=c(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function b(F){var x=(F=F||{}).adapter,g=F.constants;return{getMetrics:function p(y){var A=[];return y&&y.Metrics_asArray&&y.Metrics_asArray.forEach(function(U){var P=new t.default,V=x.getIsDynamic(y);U.hasOwnProperty("metrics")&&(P.metrics=U.metrics,U.Range_asArray&&U.Range_asArray.forEach(function(k){var R=new E.default;R.starttime=function h(y,A,U){var P,V,k=0;return A?k=x.getAvailabilityStartTime(y)/1e3:(P=x.getRegularPeriods(y)).length&&(k=P[0].start),V=k,U&&U.hasOwnProperty(g.START_TIME)&&(V+=U.starttime),V}(y,V,k),R.duration=k.hasOwnProperty("duration")?k.duration:x.getDuration(y),R._useWallClockTime=V,P.Range.push(R)}),U.Reporting_asArray&&(U.Reporting_asArray.forEach(function(k){var R=new O.default;k.hasOwnProperty(g.SCHEME_ID_URI)&&(R.schemeIdUri=k.schemeIdUri,k.hasOwnProperty("value")&&(R.value=k.value),k.hasOwnProperty(g.DVB_REPORTING_URL)&&(R.dvb_reportingUrl=k[g.DVB_REPORTING_URL]),k.hasOwnProperty(g.DVB_PROBABILITY)&&(R.dvb_probability=k[g.DVB_PROBABILITY]),P.Reporting.push(R))}),A.push(P)))}),A}}}b.__dashjs_factory_name="ManifestParsing",C.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){return{serialise:function E(O){var L,x,b=[],F=[];for(L in O)if(O.hasOwnProperty(L)&&0!==L.indexOf("_")){if(null==(x=O[L])&&(x=""),Array.isArray(x)){if(!x.length)continue;F=[],x.forEach(function(g){var h="Object"!==Object.prototype.toString.call(g).slice(8,-1);F.push(h?g:E(g))}),x=F.map(encodeURIComponent).join(",")}else"string"==typeof x?x=encodeURIComponent(x):x instanceof Date?x=x.toISOString():"number"==typeof x&&(x=Math.round(x));b.push(L+"="+x)}return b.join("&")}}}c.r(C),t.__dashjs_factory_name="MetricSerialiser",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){var L,x,g,E=window.crypto||window.msCrypto,O=Uint32Array,b=Math.pow(2,8*O.BYTES_PER_ELEMENT)-1,F=10;function h(){E&&(L||(L=new O(F)),E.getRandomValues(L),x=0)}return g={random:function p(y,A){var U;return y||(y=0),A||(A=1),E?(x===L.length&&h(),U=L[x]/b,x+=1):U=Math.random(),U*(A-y)+y}},h(),g}c.r(C),t.__dashjs_factory_name="RNG",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C);var x=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});x.SSL_CONNECTION_FAILED_PREFIX="SSL",x.DNS_RESOLUTION_FAILED="C00",x.HOST_UNREACHABLE="C01",x.CONNECTION_REFUSED="C02",x.CONNECTION_ERROR="C03",x.CORRUPT_MEDIA_ISOBMFF="M00",x.CORRUPT_MEDIA_OTHER="M01",x.BASE_URL_CHANGED="F00",x.BECAME_REPORTER="S00",C.default=x},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function E(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,b(A.key),A)}}function O(h,p,y){return p&&E(h.prototype,p),y&&E(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}function b(h){var p=function F(h,p){if("object"!==t(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);C.default=O(function h(){(function L(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function O(A){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function b(A,U){for(var P=0;P<U.length;P++){var V=U[P];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(A,L(V.key),V)}}function F(A,U,P){return U&&b(A.prototype,U),P&&b(A,P),Object.defineProperty(A,"prototype",{writable:!1}),A}function L(A){var U=function x(A,U){if("object"!==O(A)||null===A)return A;var P=A[Symbol.toPrimitive];if(void 0!==P){var V=P.call(A,U||"default");if("object"!==O(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(A)}(A,"string");return"symbol"===O(U)?U:String(U)}var h=NaN,p=F(function A(U,P){(function g(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")})(this,A),this.data={baseUrls:U||null,selectedIdx:P||h},this.children=[]});function y(){var A,U,P,V=this.context,k=Object(t.default)(V).getInstance();function T(Re,z,oe){var H=P.getBaseURLsFromElement(oe);Re[z]?k.areEqual(H,Re[z].data.baseUrls)||(Re[z].data.baseUrls=H,Re[z].data.selectedIdx=h):Re[z]=new p(H)}function N(Re){!function I(){if(!P||!P.hasOwnProperty("getBaseURLsFromElement")||!P.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var z=P.getBaseURLsFromElement(Re);k.areEqual(z,U.data.baseUrls)||(U.data.baseUrls=z,U.data.selectedIdx=h),Re&&Re.Period_asArray&&Re.Period_asArray.forEach(function(oe,H){T(U.children,H,oe),oe.AdaptationSet_asArray&&oe.AdaptationSet_asArray.forEach(function(me,ne){T(U.children[H].children,ne,me),me.Representation_asArray&&me.Representation_asArray.sort(P.getRepresentationSortFunction()).forEach(function(ue,Se){T(U.children[H].children[ne].children,Se,ue)})})})}function S(Re,z){var oe=z||U;Re(oe.data),oe.children&&oe.children.forEach(function(H){return S(Re,H)})}function re(){U=new p}return A={reset:re,update:function Y(Re){N(Re)},getForPath:function se(Re){var z=U,oe=[z.data];return Re&&Re.forEach(function(H){(z=z.children[H])&&oe.push(z.data)}),oe.filter(function(H){return H.baseUrls.length})},invalidateSelectedIndexes:function B(Re){S(function(z){isNaN(z.selectedIdx)||Re===z.baseUrls[z.selectedIdx].serviceLocation&&(z.selectedIdx=h)})},setConfig:function D(Re){Re.adapter&&(P=Re.adapter)}},function R(){re()}(),A}y.__dashjs_factory_name="BaseURLTreeModel",C.default=E.default.getClassFactory(y)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),O=c(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),x=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),g=c(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),h=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function p(T,N){var S=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!S){if(Array.isArray(T)||(S=function y(T,N){if(T){if("string"==typeof T)return A(T,N);var S=Object.prototype.toString.call(T).slice(8,-1);if("Object"===S&&T.constructor&&(S=T.constructor.name),"Map"===S||"Set"===S)return Array.from(T);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return A(T,N)}}(T))||N&&T&&"number"==typeof T.length){S&&(T=S);var B=0,Y=function(){};return{s:Y,n:function(){return B>=T.length?{done:!0}:{done:!1,value:T[B++]}},e:function(oe){throw oe},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Re,re=!0,se=!1;return{s:function(){S=S.call(T)},n:function(){var oe=S.next();return re=oe.done,oe},e:function(oe){se=!0,Re=oe},f:function(){try{!re&&null!=S.return&&S.return()}finally{if(se)throw Re}}}}function A(T,N){(null==N||N>T.length)&&(N=T.length);for(var S=0,B=new Array(N);S<N;S++)B[S]=T[S];return B}var V_MANIFEST="m",V_AUDIO="a",V_VIDEO="v",V_INIT="i",V_CAPTION="c",V_ISOBMFF_TEXT_TRACK="tt",V_ENCRYPTION_KEY="k",V_OTHER="o",k_DASH="d",k_MSS="s",R_VOD="v",R_LIVE="l";function I(){var T,N,S,B,Y,re,se,Re,z,oe,H=this.context,me=Object(t.default)(H).getInstance(),ne=Object(F.default)(H).getInstance();function le(){S={pr:1,nor:null,st:null,sf:null,sid:"".concat(h.default.generateUuid()),cid:null},z={},Re={},oe={},we()}function Me(){we()}function we(){if(re){var qe=re.getStreamController();if(qe&&"function"==typeof qe.getActiveStream){var ct=qe.getActiveStream();ct&&(se=ct.getProcessors())}}}function Pe(qe,ct){var Rt,Ot={},_t=p(ct);try{for(_t.s();!(Rt=_t.n()).done;){var Gt=Rt.value;qe[Gt]&&(Ot[Gt]=qe[Gt])}}catch($t){_t.e($t)}finally{_t.f()}return Ot}function je(qe){var ct=ne.get().streaming.cmcd.enabledKeys;return qe.filter(function(Ot){return ct.includes(Ot)})}function ze(qe){try{return qe.type===x.HTTPRequest.MPD_TYPE?function Ae(){var qe=$();return qe.ot=V_MANIFEST,qe}():qe.type===x.HTTPRequest.MEDIA_SEGMENT_TYPE?(function K(qe){oe.hasOwnProperty(qe)||(oe[qe]=!1),Re.hasOwnProperty(qe)||(Re[qe]=!1),z.hasOwnProperty(qe)||(z[qe]=!1)}(qe.mediaType),function be(qe){var jn,ct=$(),Ot=function Z(qe){try{return parseInt(qe.mediaInfo.bitrateList[qe.quality].bandwidth/1e3)}catch{return null}}(qe),_t=function X(qe){try{return isNaN(qe.duration)?null:Math.round(1e3*qe.duration)}catch{return null}}(qe),Rt=function Q(qe){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput(qe)/100)}catch{return null}}(qe.mediaType),Gt=function q(qe){try{var ct=S.pr,Ot=Y.getCurrentBufferLevel(qe);return isNaN(ct)||isNaN(Ot)?null:100*parseInt(Ot/ct*10)}catch{return null}}(qe.mediaType),$t=J(qe.mediaType),Qt=function W(qe){try{var ct=B.getTopBitrateInfoFor(qe);return Math.round(ct.bitrate/1e3)}catch{return null}}(qe.mediaType),dn=S.pr,gn=function Be(qe){if(se&&0!==se.length){var Ot,ct=p(se);try{for(ct.s();!(Ot=ct.n()).done;){var _t=Ot.value;if(_t.getType()===qe)return _t.probeNextRequest()}}catch(Rt){ct.e(Rt)}finally{ct.f()}}}(qe.mediaType);qe.mediaType===L.default.VIDEO&&(jn=V_VIDEO),qe.mediaType===L.default.AUDIO&&(jn=V_AUDIO),qe.mediaType===L.default.TEXT&&(jn="application/mp4"===qe.mediaInfo.mimeType?V_ISOBMFF_TEXT_TRACK:V_CAPTION);var ot=ne.get().streaming.cmcd.rtp;return ot||(ot=function $e(qe){var ct=re.getPlaybackRate();ct||(ct=1);var Ot=qe.quality,Rt=qe.mediaInfo,Gt=qe.duration,$t=J(qe.mediaType);0===$t&&($t=500);var jn=Rt.bitrateList[Ot].bandwidth*Gt/1e3/($t/ct/1e3),ot=ne.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(ne.get().streaming.cmcd.rtpSafetyFactor)?ne.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(jn*ot/100)+1)}(qe)),ct.rtp=ot,gn&&(qe.url!==gn.url?ct.nor=encodeURIComponent(h.default.getRelativeUrl(qe.url,gn.url)):gn.range&&(ct.nrr=gn.range)),Ot&&(ct.br=Ot),jn&&(ct.ot=jn),isNaN(_t)||(ct.d=_t),isNaN(Rt)||(ct.mtp=Rt),isNaN(Gt)||(ct.dl=Gt),isNaN($t)||(ct.bl=$t),isNaN(Qt)||(ct.tb=Qt),!isNaN(dn)&&1!==dn&&(ct.pr=dn),z[qe.mediaType]&&(ct.bs=!0,z[qe.mediaType]=!1),(Re[qe.mediaType]||!oe[qe.mediaType])&&(ct.su=!0,Re[qe.mediaType]=!1,oe[qe.mediaType]=!0),ct}(qe)):qe.type===x.HTTPRequest.INIT_SEGMENT_TYPE?function ie(){var qe=$();return qe.ot=V_INIT,qe.su=!0,qe}():qe.type===x.HTTPRequest.OTHER_TYPE||qe.type===x.HTTPRequest.XLINK_EXPANSION_TYPE?function he(){var qe=$();return qe.ot=V_OTHER,qe}():qe.type===x.HTTPRequest.LICENSE?function He(qe){var ct=$();return ct.ot=V_ENCRYPTION_KEY,ct}():null}catch{return null}}function $(){var qe={},ct=ne.get().streaming.cmcd.cid?ne.get().streaming.cmcd.cid:S.cid;return qe.v=1,qe.sid=ne.get().streaming.cmcd.sid?ne.get().streaming.cmcd.sid:S.sid,qe.sid="".concat(qe.sid),ct&&(qe.cid="".concat(ct)),!isNaN(S.pr)&&1!==S.pr&&null!==S.pr&&(qe.pr=S.pr),S.st&&(qe.st=S.st),S.sf&&(qe.sf=S.sf),qe}function J(qe){try{var ct=Y.getCurrentBufferLevel(qe);return isNaN(ct)?null:100*parseInt(10*ct)}catch{return null}}function de(qe){try{S.pr=qe.playbackRate}catch{}}function ge(qe){try{var ct=T.getIsDynamic(qe.data),_t=qe.protocol&&"MSS"===qe.protocol?k_MSS:k_DASH;S.st="".concat(ct?R_LIVE:R_VOD),S.sf="".concat(_t)}catch{}}function ce(qe){try{qe.state&&qe.mediaType&&qe.state===E.default.BUFFER_EMPTY&&(z[qe.mediaType]||(z[qe.mediaType]=!0),Re[qe.mediaType]||(Re[qe.mediaType]=!0))}catch{}}function Ce(){for(var qe in z)z.hasOwnProperty(qe)&&(z[qe]=!0);for(var ct in Re)Re.hasOwnProperty(ct)&&(Re[ct]=!0)}function Ye(qe){try{if(!qe)return null;var ct=Object.keys(qe).sort(function(Rt,Gt){return Rt.localeCompare(Gt)}),Ot=ct.length,_t=ct.reduce(function(Rt,Gt,$t){return"v"===Gt&&1===qe[Gt]||(Rt+="string"==typeof qe[Gt]&&"ot"!==Gt&&"sf"!==Gt&&"st"!==Gt?"".concat(Gt,"=").concat(JSON.stringify(qe[Gt])):"".concat(Gt,"=").concat(qe[Gt]),$t<Ot-1&&(Rt+=",")),Rt},"");return(_t=_t.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return N={getQueryParameter:function _e(qe){try{if(ne.get().streaming.cmcd&&ne.get().streaming.cmcd.enabled){var ct=ze(qe),_t=Ye(function Le(qe){try{var ct=ne.get().streaming.cmcd.enabledKeys;return Object.keys(qe).filter(function(Ot){return ct.includes(Ot)}).reduce(function(Ot,_t){return Ot[_t]=qe[_t],Ot},{})}catch{return qe}}(ct));return me.trigger(O.default.CMCD_DATA_GENERATED,{url:qe.url,mediaType:qe.mediaType,cmcdData:ct,cmcdString:_t}),{key:"CMCD",value:_t}}return null}catch{return null}},getHeaderParameters:function Oe(qe){try{if(ne.get().streaming.cmcd&&ne.get().streaming.cmcd.enabled){var ct=ze(qe),Ot=Pe(ct,je(["br","d","ot","tb"])),_t=Pe(ct,je(["bl","dl","mtp","nor","nrr","su"])),Rt=Pe(ct,je(["bs","rtp"])),Gt=Pe(ct,je(["cid","pr","sf","sid","st","v"])),$t={"CMCD-Object":Ye(Ot),"CMCD-Request":Ye(_t),"CMCD-Status":Ye(Rt),"CMCD-Session":Ye(Gt)};return me.trigger(O.default.CMCD_DATA_GENERATED,{url:qe.url,mediaType:qe.mediaType,cmcdData:ct,headers:$t}),$t}return null}catch{return null}},setConfig:function Ie(qe){qe&&(qe.abrController&&(B=qe.abrController),qe.dashMetrics&&(Y=qe.dashMetrics),qe.playbackController&&(re=qe.playbackController))},reset:function Qe(){me.off(E.default.PLAYBACK_RATE_CHANGED,de,this),me.off(E.default.MANIFEST_LOADED,ge,this),me.off(E.default.BUFFER_LEVEL_STATE_CHANGED,ce,N),me.off(E.default.PLAYBACK_SEEKED,Ce,N),le()},initialize:function Se(){me.on(E.default.PLAYBACK_RATE_CHANGED,de,N),me.on(E.default.MANIFEST_LOADED,ge,N),me.on(E.default.BUFFER_LEVEL_STATE_CHANGED,ce,N),me.on(E.default.PLAYBACK_SEEKED,Ce,N),me.on(E.default.PERIOD_SWITCH_COMPLETED,Me,N)}},function ue(){T=Object(g.default)(H).getInstance(),le()}(),N}I.__dashjs_factory_name="CmcdModel",C.default=b.default.getSingletonFactory(I)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),b=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),F=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),L=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function g(){var h,p,y,A,U,P,V,k,R=this.context,D=Object(O.default)(R).getInstance();function T(){A=[],U=[],P=[],k=[],V=null,p=[]}function Ie(K,ie){var he=-1;K.some(function($,Z){if($===ie)return he=Z,!0}),!(he<0)&&K.splice(he,1)}function le(K){var ie;for(ie=0;ie<k.length;ie++)if(k[ie].rulename===K)return ie;return-1}function Pe(K,ie){je(K,ie);var he=new t.default;he.schemeIdUri=K,he.value=ie,p.push(he)}function je(K,ie){Object(b.checkParameterType)(K,"string"),Object(b.checkParameterType)(ie,"string"),p.forEach(function(he,$){he.schemeIdUri===K&&he.value===ie&&p.splice($,1)})}return h={getCustomInitialTrackSelectionFunction:function re(){return V},setCustomInitialTrackSelectionFunction:function B(K){V=K},resetCustomInitialTrackSelectionFunction:function Y(){V=null},getLicenseResponseFilters:function Re(){return U},getLicenseRequestFilters:function se(){return A},getCustomCapabilitiesFilters:function ne(){return P},registerCustomCapabilitiesFilter:function ue(K){P.push(K)},registerLicenseResponseFilter:function oe(K){U.push(K)},registerLicenseRequestFilter:function z(K){A.push(K)},unregisterCustomCapabilitiesFilter:function Se(K){Ie(P,K)},unregisterLicenseResponseFilter:function me(K){Ie(U,K)},unregisterLicenseRequestFilter:function H(K){Ie(A,K)},addAbrCustomRule:function Me(K,ie,he){if("string"!=typeof K||K!==F.default.ABANDON_FRAGMENT_RULES&&K!==F.default.QUALITY_SWITCH_RULES||"string"!=typeof ie)throw L.default.BAD_ARGUMENT_ERROR;var $=le(ie);-1===$?k.push({type:K,rulename:ie,rule:he}):(k[$].type=K,k[$].rule=he)},removeAllAbrCustomRule:function _e(){k=[]},removeAbrCustomRule:function we(K){if(K){var ie=le(K);-1!==ie&&k.splice(ie,1)}else k=[]},getAbrCustomRules:function Le(){return k},addUTCTimingSource:Pe,removeUTCTimingSource:je,getUTCTimingSources:function Oe(){return p},clearDefaultUTCTimingSources:function ze(){p=[]},restoreDefaultUTCTimingSources:function He(){var K=D.get().streaming.utcSynchronization.defaultTimingSource;Pe(K.scheme,K.value)},setXHRWithCredentialsForType:function Ae(K,ie){K?y[K]=!!ie:Object.keys(y).forEach(function(he){Ae(he,ie)})},getXHRWithCredentialsForType:function be(K){var ie=y[K];return void 0===ie?y.default:ie},setConfig:function S(){},reset:function N(){T()}},function I(){y={default:false},T()}(),h}g.__dashjs_factory_name="CustomParametersModel",C.default=E.default.getSingletonFactory(g)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),O="loading",b="executed",L="failed";function x(h){var R,D,I,T,p=(h=h||{}).eventBus,y=h.events,A=h.dashMetrics,U=h.fragmentLoader,P=h.debug,V=h.streamInfo,k=h.type;function Y(He){var Z;return!!He&&(Z=!1,I.some(function(W){if(function($,Z){return!isNaN($.index)&&$.startTime===Z.startTime&&$.adaptationIndex===Z.adaptationIndex&&$.type===Z.type}(He,W)||function($,Z){return isNaN($.index)&&isNaN(Z.index)&&$.quality===Z.quality}(He,W)||function($,Z){return $.action===E.default.ACTION_COMPLETE&&$.action===Z.action}(He,W))return Z=!0}),Z)}function Re(He){return isNaN(He.duration)?.25:Math.min(He.duration/8,.5)}function z(He){I=I.filter(function(Ae){var be=Re(Ae);return isNaN(Ae.startTime)||void 0!==He&&Ae.startTime>=He-be})}function H(He,Ae){Ae<=He+.5||(I=I.filter(function(be){var K=Re(be);return isNaN(be.startTime)||be.startTime>=Ae-K||isNaN(be.duration)||be.startTime+be.duration<=He+K}))}function Ie(He,Ae,be){for(var ie=He.length-1;ie>=0;ie--){var he=He[ie],$=he.startTime,Z=$+he.duration;if(be=isNaN(be)?Re(he):be,!isNaN($)&&!isNaN(Z)&&Ae+be>=$&&Ae-be<Z||isNaN($)&&isNaN(Ae))return he}return null}function we(He,Ae){A.addSchedulingInfo(He,Ae),A.addRequestsQueue(He.mediaType,T,I)}function _e(He){He.sender===U&&(T.splice(T.indexOf(He.request),1),He.response&&!He.error&&I.push(He.request),we(He.request,He.error?L:b),p.trigger(y.FRAGMENT_LOADING_COMPLETED,{request:He.request,response:He.response,error:He.error,sender:this},{streamId:V.id,mediaType:k}))}function Le(He){He.sender===U&&p.trigger(y.FRAGMENT_LOADING_PROGRESS,{request:He.request,response:He.response,error:He.error,sender:this},{streamId:V.id,mediaType:k})}function Pe(He){He.sender===U&&p.trigger(y.FRAGMENT_LOADING_ABANDONED,{request:He.request},{streamId:V.id,mediaType:k})}function Oe(){I=[],T=[]}return R={getStreamId:function S(){return V.id},getType:function B(){return k},getRequests:function se(He){var be=[];return(He?He.state instanceof Array?He.state:[He.state]:[]).forEach(function(K){var ie=function Me(He){var Ae;switch(He){case O:Ae=T;break;case b:Ae=I;break;default:Ae=[]}return Ae}(K);be=be.concat(function le(He,Ae){return Ae.hasOwnProperty("time")?[Ie(He,Ae.time,Ae.threshold)]:He.filter(function(be){for(var K in Ae)if("state"!==K&&Ae.hasOwnProperty(K)&&be[K]!=Ae[K])return!1;return!0})}(ie,He))}),be},isFragmentLoaded:Y,isFragmentLoadedOrPending:function re(He){var K,Ae=!1,be=0;if(!(Ae=Y(He)))for(be=0;be<T.length;be++)He.url===(K=T[be]).url&&He.startTime===K.startTime&&(Ae=!0);return Ae},removeExecutedRequestsBeforeTime:z,removeExecutedRequestsAfterTime:function oe(He){I=I.filter(function(Ae){return isNaN(Ae.startTime)||void 0!==He&&Ae.startTime<He})},syncExecutedRequestsWithBufferedRange:function me(He,Ae){if(He&&0!==He.length){for(var be=0,K=0,ie=He.length;K<ie;K++)H(be,He.start(K)),be=He.end(K);Ae>0&&H(be,Ae)}else z()},abortRequests:function ne(){D.debug("abort requests"),U.abort(),T=[]},executeRequest:function ue(He){He.action===E.default.ACTION_DOWNLOAD?(we(He,O),T.push(He),function Se(He){p.trigger(y.FRAGMENT_LOADING_STARTED,{request:He},{streamId:V.id,mediaType:k}),U.load(He)}(He)):D.warn("Unknown request action.")},reset:function je(){p.off(y.LOADING_COMPLETED,_e,this),p.off(y.LOADING_DATA_PROGRESS,Le,this),p.off(y.LOADING_ABANDONED,Pe,this),U&&U.reset(),Oe()},resetInitialSettings:Oe,addExecutedRequest:function ze(He){I.push(He)}},function N(){D=P.getLogger(R),Oe(),p.on(y.LOADING_COMPLETED,_e,R),p.on(y.LOADING_DATA_PROGRESS,Le,R),p.on(y.LOADING_ABANDONED,Pe,R)}(),R}x.__dashjs_factory_name="FragmentModel";var g=t.default.getClassFactory(x);g.FRAGMENT_MODEL_LOADING=O,g.FRAGMENT_MODEL_EXECUTED=b,g.FRAGMENT_MODEL_CANCELED="canceled",g.FRAGMENT_MODEL_FAILED=L,t.default.updateClassFactory(x.__dashjs_factory_name,g),C.default=g},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function O(){var p,y,h=this.context,A={};function U(){y=Object(t.default)(h).getInstance().getLogger(p)}function P(I){for(var T={},N=0,S=0,B=0,Y=0,re=I.length,se=0;se<re;++se)N+=I[se].chunkDownloadTimeRelativeMS,S+=I[se].bufferLevel,B+=I[se].chunkDownloadTimeRelativeMS*I[se].bufferLevel,Y+=I[se].chunkDownloadTimeRelativeMS*I[se].chunkDownloadTimeRelativeMS;return T.m=(B-N*S/re)/(Y-N*N/re),T.b=S/re-T.m*N/re,function(Re){return T.m*Re+T.b}}function V(I){var N,T=!0,S=I.reduce(function(B,Y){return B+Y.bufferLevelAtSegmentEnd},0)/I.length;return I.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(T=!1),B.bufferLevelAtSegmentEnd/S<.8&&(T=!1),N?N>B.bitrate&&(T=!1):N=B.bitrate}),T}return p={setup:U,addMeasurement:function D(I,T,N,S,B){I&&I.mediaType&&!A[I.mediaType]&&(A[I.mediaType]=[]);var Y=I.mediaInfo.bitrateList.find(function(re){return re.id===I.representationId});A[I.mediaType].push({index:I.index,repId:I.representationId,mediaType:I.mediaType,requestTimeMS:S,adjustedAvailabilityStartTimeMS:I.availabilityStartTime.getTime(),segDurationMS:1e3*I.duration,chunksDurationMS:N.reduce(function(re,se){return re+se.chunkDownloadDurationMS},0),segmentBytes:N.reduce(function(re,se){return re+se.chunkBytes},0),bitrate:Y&&Y.bandwidth,bitrateList:I.mediaInfo.bitrateList,chunkMeasurements:N,fetchDownloadDurationMS:T,throughputCapacityDelayMS:B,getEstimatedBufferLevel:P(N.slice(1))}),A[I.mediaType].length>10&&A[I.mediaType].shift()},getThroughputCapacityDelayMS:function R(I,T){var N=A[I.mediaType]&&A[I.mediaType].slice(-3);return!N||N.length<3||!V(N)?0:T/4>250?250:T/4},getEstimatedDownloadDurationMS:function k(I){var T=A[I.mediaType].slice(-1).pop(),N=A[I.mediaType].slice(-3),S=T.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;T.bufferLevelAtSegmentStart=T.getEstimatedBufferLevel(S/2),T.bufferLevelAtSegmentEnd=T.getEstimatedBufferLevel(S);var B=V(N),Y=B?.6:.8;if(T.isBufferStable&&1.05*T.segDurationMS<T.fetchDownloadDurationMS)return T.fetchDownloadDurationMS;if(!B||T.segDurationMS<T.fetchDownloadDurationMS||T.adjustedAvailabilityStartTimeMS<=T.requestTimeMS+T.throughputCapacityDelayMS-T.segDurationMS)return.8*T.fetchDownloadDurationMS;for(var re=T.requestTimeMS+T.throughputCapacityDelayMS-T.adjustedAvailabilityStartTimeMS,se=0,Re=0,z=0,oe=0;oe<T.chunkMeasurements.length;oe++){var H=T.chunkMeasurements[oe];if(re<Re+H.chunkDownloadDurationMS)break;Re+=H.chunkDownloadDurationMS,se+=H.chunkBytes,z++}if(re<0&&y.warn("request time was before adjusted availibitly start time"),se&&Re&&z>.2*T.chunkMeasurements.length){var ne=T.segmentBytes/(se/Re);return T.fetchDownloadDurationMS<ne?T.fetchDownloadDurationMS*Y:ne*Y}var ue=T.bitrate;return T.bitrateList.some(function(Se){if(Se.bandwidth>T.bitrate)return ue=Se.bandwidth,!0}),ue===T.bitrate?T.fetchDownloadDurationMS*Y:Y*T.segmentBytes*8*1e3/ue}},U(),p}O.__dashjs_factory_name="LowLatencyThroughputModel",C.default=E.default.getSingletonFactory(O)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var g,F=this.context,L=Object(t.default)(F).getInstance();return{getValue:function h(){return g},setValue:function p(y){g=y,y&&L.trigger(E.default.MANIFEST_LOADED,{data:y})}}}b.__dashjs_factory_name="ManifestModel",C.default=O.default.getSingletonFactory(b)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),y=-.5;function U(){var P,V,k,R,D=this.context,I=Object(O.default)(D).getInstance();function S(ue,Se){return isNaN(ue)?0:ue>0?(Se&&V.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ue<y?(Se&&V.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(y,": ").concat(-50,"% playback speed.")),y):ue}function B(ue,Se){return isNaN(ue)?0:ue<0?(Se&&V.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ue>1?(Se&&V.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ue}function oe(){var ue=I.get().streaming.buffer.stableBufferTime>0?I.get().streaming.buffer.stableBufferTime:I.get().streaming.buffer.fastSwitchEnabled?20:12,Se=k.getLiveDelay();return!isNaN(Se)&&Se>0?Math.min(ue,Se):ue}return P={getCatchupMaxDrift:function Y(){if(!isNaN(I.get().streaming.liveCatchup.maxDrift)&&I.get().streaming.liveCatchup.maxDrift>0)return I.get().streaming.liveCatchup.maxDrift;var ue=R.getServiceDescriptionSettings();return ue&&ue.liveCatchup&&!isNaN(ue.liveCatchup.maxDrift)&&ue.liveCatchup.maxDrift>0?ue.liveCatchup.maxDrift:12},getCatchupModeEnabled:function se(){return null!==I.get().streaming.liveCatchup.enabled?I.get().streaming.liveCatchup.enabled:k.getInitialCatchupModeActivated()},getStableBufferTime:oe,getInitialBufferLevel:function z(){var ue=I.get().streaming.buffer.initialBufferLevel;return isNaN(ue)||ue<0?0:Math.min(oe(),ue)},getRetryAttemptsForType:function H(ue){var Se=isNaN(I.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:I.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return k.getLowLatencyModeEnabled()?I.get().streaming.retryAttempts[ue]*Se:I.get().streaming.retryAttempts[ue]},getRetryIntervalsForType:function me(ue){var Se=isNaN(I.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:I.get().streaming.retryIntervals.lowLatencyReductionFactor;return k.getLowLatencyModeEnabled()?I.get().streaming.retryIntervals[ue]/Se:I.get().streaming.retryIntervals[ue]},getCatchupPlaybackRates:function re(ue){var Se=I.get().streaming.liveCatchup.playbackRate;if(!isNaN(Se.min)||!isNaN(Se.max))return{min:S(Se.min,ue),max:B(Se.max,ue)};var Ie=R.getServiceDescriptionSettings();if(Ie&&Ie.liveCatchup&&(!isNaN(Ie.liveCatchup.playbackRate.min)||!isNaN(Ie.liveCatchup.playbackRate.max))){var le=Ie.liveCatchup.playbackRate;return{min:S(le.min,ue),max:B(le.max,ue)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Re(ue,Se){try{var Ie=I.get().streaming.abr[ue][Se];if(!isNaN(Ie)&&-1!==Ie)return Ie;var le=R.getServiceDescriptionSettings();return le&&le[ue]&&!isNaN(le[ue][Se])?le[ue][Se]:-1}catch{return-1}},setConfig:function N(ue){ue.playbackController&&(k=ue.playbackController),ue.serviceDescriptionController&&(R=ue.serviceDescriptionController)},reset:function ne(){}},function T(){V=Object(t.default)(D).getInstance().getLogger(P)}(),P}U.__dashjs_factory_name="MediaPlayerModel",C.default=E.default.getSingletonFactory(U)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),O=c(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),b=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),L=c(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),x=c(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),g=c(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),h=c(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),p=c(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),y=c(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),A=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),U=c(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),P=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),V=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function k(R){var N,S,D=(R=R||{}).settings,I=this.context,T=Object(A.default)(I).getInstance();function Y(){T.trigger(P.default.METRICS_CHANGED)}function re(K){T.trigger(P.default.METRIC_CHANGED,{mediaType:K}),Y()}function se(K,ie,he){T.trigger(P.default.METRIC_UPDATED,{mediaType:K,metric:ie,value:he}),re(K)}function Re(K,ie,he){T.trigger(P.default.METRIC_ADDED,{mediaType:K,metric:ie,value:he}),re(K)}function H(K,ie){var he=null;return K&&(S.hasOwnProperty(K)?he=S[K]:ie||(he=new O.default,S[K]=he)),he}function me(K,ie,he){var $=H(K);null!==$&&($[ie].push(he),$[ie].length>D.get().streaming.metrics.maxListDepth&&$[ie].shift())}function Ie(K,ie,he){me(K,ie,he),Re(K,ie,he)}return N={clearCurrentMetricsForType:function z(K){delete S[K],re(K)},clearAllCurrentMetrics:function oe(){S={},Y()},getMetricsFor:H,addHttpRequest:function ue(K,ie,he,$,Z,W,X,Q,q,J,de,ge,ce,Ce,Ye,Be){var $e=new b.HTTPRequest;W&&W!==$&&(ue(K,null,he,$,Z,null,null,Q,q,null,null,null,ce,null,null,Be),$e.actualurl=W),$e.tcpid=ie,$e.type=he,$e.url=$,$e.range=Q,$e.trequest=q,$e.tresponse=J,$e.responsecode=ge,$e._tfinish=de,$e._stream=K,$e._mediaduration=ce,$e._quality=Z,$e._responseHeaders=Ce,$e._serviceLocation=X,$e._fileLoaderType=Be,Ye?Ye.forEach(function(Qe){!function ne(K,ie,he,$){var Z=new b.HTTPRequestTrace;return Z.s=ie,Z.d=he,Z.b=$,K.trace.push(Z),K.interval||(K.interval=0),K.interval+=he,Z}($e,Qe.s,Qe.d,Qe.b)}):(delete $e.interval,delete $e.trace),Ie(K,E.default.HTTP_REQUEST,$e)},addRepresentationSwitch:function Se(K,ie,he,$,Z){var W=new F.default;W.t=ie,W.mt=he,W.to=$,Z?W.lto=Z:delete W.lto,Ie(K,E.default.TRACK_SWITCH,W)},addBufferLevel:function le(K,ie,he){var $=new L.default;$.t=ie,$.level=he,Ie(K,E.default.BUFFER_LEVEL,$)},addBufferState:function Me(K,ie,he){var $=new x.default;$.target=he,$.state=ie,Ie(K,E.default.BUFFER_STATE,$)},addDVRInfo:function we(K,ie,he,$){var Z=new g.default;Z.time=ie,Z.range=$,Z.manifestInfo=he,Ie(K,E.default.DVR_INFO,Z)},addDroppedFrames:function _e(K,ie){var he=new h.default,$=H(K).DroppedFrames;ie&&(he.time=ie.creationTime,he.droppedFrames=ie.droppedVideoFrames,!($.length>0&&$[$.length-1]==he)&&Ie(K,E.default.DROPPED_FRAMES,he))},addSchedulingInfo:function Le(K,ie,he,$,Z,W,X,Q,q){var J=new y.default;J.mediaType=K,J.t=ie,J.type=he,J.startTime=$,J.availabilityStartTime=Z,J.duration=W,J.quality=X,J.range=Q,J.state=q,Ie(K,E.default.SCHEDULING_INFO,J)},addRequestsQueue:function Pe(K,ie,he){var $=new U.default;$.loadingRequests=ie,$.executedRequests=he,H(K).RequestsQueue=$,Re(K,E.default.REQUESTS_QUEUE,$)},addManifestUpdate:function Oe(K,ie,he,$,Z,W,X,Q,q,J){var de=new p.ManifestUpdate;de.mediaType=K,de.type=ie,de.requestTime=he,de.fetchTime=$,de.availabilityStartTime=Z,de.presentationStartTime=W,de.clientTimeOffset=X,de.currentTime=Q,de.buffered=q,de.latency=J,me(t.default.STREAM,E.default.MANIFEST_UPDATE,de),Re(K,E.default.MANIFEST_UPDATE,de)},updateManifestUpdateInfo:function je(K,ie){if(K){for(var he in ie)K[he]=ie[he];se(K.mediaType,E.default.MANIFEST_UPDATE,K)}},addManifestUpdateStreamInfo:function ze(K,ie,he,$,Z){if(K){var W=new p.ManifestUpdateStreamInfo;W.id=ie,W.index=he,W.start=$,W.duration=Z,K.streamInfo.push(W),se(K.mediaType,E.default.MANIFEST_UPDATE_STREAM_INFO,K)}},addManifestUpdateRepresentationInfo:function He(K,ie,he,$,Z,W,X,Q){if(K&&K.representationInfo){var q=new p.ManifestUpdateRepresentationInfo;q.id=ie,q.index=he,q.streamIndex=$,q.mediaType=Z,q.startNumber=X,q.fragmentInfoType=Q,q.presentationTimeOffset=W,K.representationInfo.push(q),se(K.mediaType,E.default.MANIFEST_UPDATE_TRACK_INFO,K)}},addPlayList:function Ae(K){K.trace&&Array.isArray(K.trace)?K.trace.forEach(function(ie){ie.hasOwnProperty("subreplevel")&&!ie.subreplevel&&delete ie.subreplevel}):delete K.trace,Ie(t.default.STREAM,E.default.PLAY_LIST,K)},addDVBErrors:function be(K){Ie(t.default.STREAM,E.default.DVB_ERRORS,K)}},function B(){S={}}(),N}k.__dashjs_factory_name="MetricsModel",C.default=V.default.getSingletonFactory(k)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function O(){var F;return{initialize:function L(g){if(F=new t.default,!g)return null;var h=g.indexOf("#");if(-1!==h)for(var p=g.substr(h+1).split("&"),y=0,A=p.length;y<A;++y){var U=p[y],P=U.indexOf("=");if(-1!==P){var V=U.substring(0,P);F.hasOwnProperty(V)&&(F[V]=U.substr(P+1))}}},getURIFragmentData:function x(){return F}}}O.__dashjs_factory_name="URIFragmentModel",C.default=E.default.getSingletonFactory(O)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),L=new Map([[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function x(){var g,h,p,y,A,U,P,k=this.context,R=Object(E.default)(k).getInstance(),D=[];function S(){p&&(p.playbackRate=P||1,p.removeEventListener("canplay",S))}function Ie(){return D.length>0}function _e(){if(p&&Ie()&&0===p.playbackRate){var qe=document.createEvent("Event");qe.initEvent("waiting",!0,!1),p.dispatchEvent(qe)}}function ie(qe,ct){p&&p.addEventListener(qe,ct)}function he(qe,ct){p&&p.removeEventListener(qe,ct)}function $(){return p?p.readyState:NaN}function Z(){return p?p.buffered:null}function ce(qe,ct,Ot,_t,Rt){if(p)for(var Gt=0;Gt<p.textTracks.length;Gt++)if(p.textTracks[Gt].kind===qe&&(!ct||p.textTracks[Gt].label==ct)&&p.textTracks[Gt].language===Ot&&p.textTracks[Gt].isTTML===_t&&p.textTracks[Gt].isEmbedded===Rt)return p.textTracks[Gt];return null}function $e(qe,ct){qe===F.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||$()>=qe?ct():function Qe(qe,ct){ie(qe,function _t(){he(qe,_t),ct(qe)})}(L.get(qe),ct)}return g={initialize:function T(){R.on(O.default.PLAYBACK_PLAYING,_e,this)},setCurrentTime:function Y(qe,ct){y=qe,$e(F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(p){if(p.currentTime===y)return void(y=NaN);try{y=ct?function re(qe){var ct=Z(),Ot=qe,_t=9999999999;if(ct)for(var Rt=0;Rt<ct.length;Rt++){var Gt=ct.start(Rt),$t=ct.end(Rt),Qt=Math.abs(Gt-qe),dn=Math.abs($t-qe);if(qe>=Gt&&qe<=$t)return qe;Qt<_t&&(_t=Qt,Ot=Gt),dn<_t&&(_t=dn,Ot=$t)}return Ot}(y):y,p.currentTime=y,y=NaN}catch(Ot){0===p.readyState&&Ot.code===Ot.INVALID_STATE_ERR&&setTimeout(function(){p.currentTime=y,y=NaN},400)}}})},play:function Pe(){if(p){p.autoplay=!0;var qe=p.play();qe&&qe.catch&&typeof Promise<"u"&&qe.catch(function(ct){"NotAllowedError"===ct.name&&R.trigger(O.default.PLAYBACK_NOT_ALLOWED),h.warn("Caught pending play exception - continuing (".concat(ct,")"))})}},isPaused:function Oe(){return p?p.paused:null},pause:function je(){p&&(p.pause(),p.autoplay=!1)},isStalled:Ie,isSeeking:function ze(){return p?p.seeking||!isNaN(y):null},getTime:function He(){return p?isNaN(y)?p.currentTime:y:null},getPlaybackRate:function Ae(){return p?p.playbackRate:null},setPlaybackRate:function B(qe){p&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&p.readyState<=2&&qe>0?p.addEventListener("canplay",S):p.playbackRate=qe)},getPlayedRanges:function be(){return p?p.played:null},getEnded:function K(){return p?p.ended:null},setStallState:function Se(qe,ct){!function we(qe,ct){ct?function le(qe){null===qe||!p||p.seeking||-1!==D.indexOf(qe)||D.push(qe)}(qe):function Me(qe){var ct=D.indexOf(qe);null!==qe&&-1!==ct&&D.splice(ct,1)}(qe)}(qe,ct)},getElement:function se(){return p},setElement:function Re(qe){if(!(null==qe||qe&&/^(VIDEO|AUDIO)$/i.test(qe.nodeName)))throw"element is not video or audio DOM type!";(p=qe)&&(p.preload="auto")},setSource:function z(qe){p&&(qe?p.src=qe:(p.removeAttribute("src"),p.load()))},getSource:function oe(){return p?p.src:null},getTTMLRenderingDiv:function H(){return A},setTTMLRenderingDiv:function ne(qe){(A=qe).style.position="absolute",A.style.display="flex",A.style.overflow="hidden",A.style.pointerEvents="none",A.style.top=0,A.style.left=0},getVttRenderingDiv:function me(){return U},setVttRenderingDiv:function ue(qe){U=qe},getPlaybackQuality:function Le(){if(!p)return null;var qe="webkitDroppedFrameCount"in p&&"webkitDecodedFrameCount"in p,Ot=null;return"getVideoPlaybackQuality"in p?Ot=p.getVideoPlaybackQuality():qe&&(Ot={droppedVideoFrames:p.webkitDroppedFrameCount,totalVideoFrames:p.webkitDroppedFrameCount+p.webkitDecodedFrameCount,creationTime:new Date}),Ot},addEventListener:ie,removeEventListener:he,getReadyState:$,getBufferRange:Z,getClientWidth:function W(){return p?p.clientWidth:NaN},getClientHeight:function X(){return p?p.clientHeight:NaN},getTextTracks:function ge(){return p?p.textTracks:[]},getTextTrack:ce,addTextTrack:function Ce(qe,ct,Ot,_t,Rt){if(!p)return null;var Gt=ce(qe,ct,Ot,_t,Rt);return Gt||((Gt=p.addTextTrack(qe,ct,Ot)).isEmbedded=Rt,Gt.isTTML=_t),Gt},appendChild:function Ye(qe){p&&(p.appendChild(qe),void 0!==qe.isTTML&&(p.textTracks[p.textTracks.length-1].isTTML=qe.isTTML,p.textTracks[p.textTracks.length-1].isEmbedded=qe.isEmbedded))},removeChild:function Be(qe){p&&p.removeChild(qe)},getVideoWidth:function Q(){return p?p.videoWidth:NaN},getVideoHeight:function q(){return p?p.videoHeight:NaN},getVideoRelativeOffsetTop:function J(){var qe=p.parentNode.host||p.parentNode;return qe?p.getBoundingClientRect().top-qe.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function de(){var qe=p.parentNode.host||p.parentNode;return qe?p.getBoundingClientRect().left-qe.getBoundingClientRect().left:NaN},waitForReadyState:$e,reset:function N(){R.off(O.default.PLAYBACK_PLAYING,_e,this)}},function I(){h=Object(b.default)(k).getInstance().getLogger(g),y=NaN}(),g}x.__dashjs_factory_name="VideoModel",C.default=t.default.getSingletonFactory(x)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),O=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function F(P,V){return function g(P){if(Array.isArray(P))return P}(P)||function x(P,V){var k=null==P?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(null!=k){var R,D,I,T,N=[],S=!0,B=!1;try{if(I=(k=k.call(P)).next,0===V){if(Object(k)!==k)return;S=!1}else for(;!(S=(R=I.call(k)).done)&&(N.push(R.value),N.length!==V);S=!0);}catch(Y){B=!0,D=Y}finally{try{if(!S&&null!=k.return&&(T=k.return(),Object(T)!==T))return}finally{if(B)throw D}}return N}}(P,V)||p(P,V)||function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(P,V){if(P){if("string"==typeof P)return y(P,V);var k=Object.prototype.toString.call(P).slice(8,-1);if("Object"===k&&P.constructor&&(k=P.constructor.name),"Map"===k||"Set"===k)return Array.from(P);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return y(P,V)}}function y(P,V){(null==V||V>P.length)&&(V=P.length);for(var k=0,R=new Array(V);k<V;k++)R[k]=P[k];return R}function A(P){var N,V=this.context,k=(P=P||{}).requestModifier,R=P.lowLatencyThroughputModel,D=P.boxParser,I=Object(E.default)(V).getInstance();function Y(H){var le,me=new Date,ne=H.request,ue=new Headers;if(ne.range&&ue.append("Range","bytes="+ne.range),H.headers)for(var Se in H.headers){var Ie=H.headers[Se];Ie&&ue.append(Se,Ie)}ne.requestStartDate||(ne.requestStartDate=me),k&&k.modifyRequestHeader&&k.modifyRequestHeader({setRequestHeader:function(Oe,je){ue.append(Oe,je)}},{url:H.url}),"function"==typeof window.AbortController&&(le=new AbortController,H.abortController=le,le.signal.onabort=H.onabort);var Me={method:H.method,headers:ue,credentials:H.withCredentials?"include":void 0,signal:le?le.signal:void 0},we=I.get().streaming.abr.fetchThroughputCalculationMode,_e=Date.now(),Le=0;new Promise(function(Pe){if(we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&R&&(Le=R.getThroughputCapacityDelayMS(ne,1e3*N.getCurrentBufferLevel(ne.mediaType))))return setTimeout(Pe,Le);Pe()}).then(function(){var Pe=Date.now();fetch(H.url,Me).then(function(Oe){H.response||(H.response={}),H.response.status=Oe.status,H.response.statusText=Oe.statusText,H.response.responseURL=Oe.url,Oe.ok||H.onerror();var He,je="",ze=function h(P,V){var k=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!k){if(Array.isArray(P)||(k=p(P))||V&&P&&"number"==typeof P.length){k&&(P=k);var R=0,D=function(){};return{s:D,n:function(){return R>=P.length?{done:!0}:{done:!1,value:P[R++]}},e:function(B){throw B},f:D}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,I=!0,T=!1;return{s:function(){k=k.call(P)},n:function(){var B=k.next();return I=B.done,B},e:function(B){T=!0,N=B},f:function(){try{!I&&null!=k.return&&k.return()}finally{if(T)throw N}}}}(Oe.headers.keys());try{for(ze.s();!(He=ze.n()).done;){var Ae=He.value;je+=Ae+": "+Oe.headers.get(Ae)+"\r\n"}}catch($e){ze.e($e)}finally{ze.f()}if(H.response.responseHeaders=je,!Oe.body)return Oe.arrayBuffer().then(function($e){H.response.response=$e,H.progress({loaded:$e.byteLength,total:$e.byteLength,stream:!1}),H.onload(),H.onend()});var qe,ct,be=parseInt(Oe.headers.get("Content-Length"),10),K=0,ie=!1,he=new Uint8Array,$=0;if(we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&R){var W=Pe,X=0,q=F(Oe.body.tee(),2),de=q[1];qe=q[0].getReader(),ct=[],qe.read().then(function Ot(_t){var Rt=_t.value,Gt=_t.done;if(X=Date.now(),Rt&&Rt.length){var $t=X-W,Qt=Rt.length;ct.push({chunkDownloadTimeRelativeMS:X-Pe,chunkDownloadDurationMS:$t,chunkBytes:Qt,kbps:Math.round(8*Qt/($t/1e3)),bufferLevel:N.getCurrentBufferLevel(ne.mediaType)})}if(Gt){var dn=X-Pe,gn=ct.reduce(function(jn,ot){return jn+ot.chunkBytes},0);return R.addMeasurement(ne,dn,ct,_e,Le,je),void H.progress({loaded:gn,total:gn,lengthComputable:!0,time:R.getEstimatedDownloadDurationMS(ne),stream:!0})}return W=Date.now(),qe.read().then(Ot)}),H.reader=de.getReader()}else H.reader=Oe.body.getReader();var ge=[],ce=[],Ce=[],Ye=!0;re(H,function $e(Qe){var qe=Qe.value;if(Qe.done){if(he){if(we!==O.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Ot=null,_t=null;we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Ot=function oe(H,me){try{var ne,ue;ne=H.filter(function(Pe,Oe){return Oe<H.length-1}),ue=me.filter(function(Pe,Oe){return Oe<me.length-1});var Se=[];if(ne.length>1){for(var Ie=0,le=0,Me=0;Me<ne.length;Me++)if(ne[Me]&&ue[Me]){var we=ue[Me].ts-ne[Me].ts;if(we>1)Se.push(8*ue[Me].bytes/we);else{0===le&&(le=ne[Me].ts);var _e=ue[Me].ts-le;_e>1?(Se.push(8*Ie/_e),Ie=0,le=0):Ie+=ue[Me].bytes}}if(Se.length>0)return Se.reduce(function(Pe,Oe){return Pe+Oe},0)/Se.length}return null}catch{return null}}(ce,Ce))&&(_t=8*K/Ot):we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(_t=z(ge,K)),H.progress({loaded:K,total:isNaN(be)?K:be,lengthComputable:!0,time:_t,stream:!0})}H.response.response=he.buffer}return H.onload(),void H.onend()}if(qe&&qe.length>0){he=function se(H,me){if(0===H.length)return me;var ne=new Uint8Array(H.length+me.length);return ne.set(H),ne.set(me,H.length),ne}(he,qe),K+=qe.length,ge.push({ts:Date.now(),bytes:qe.length}),we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ye&&D.findLastTopIsoBoxCompleted(["moof"],he,$).found&&(Ye=!1,ce.push({ts:performance.now(),bytes:qe.length}));var Gt=D.findLastTopIsoBoxCompleted(["moov","mdat"],he,$);if(Gt.found){var Qt,$t=Gt.lastCompletedOffset+Gt.size;we===O.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!Ye&&(Ye=!0,Ce.push({ts:performance.now(),bytes:he.length})),$t===he.length?(Qt=he,he=new Uint8Array):(Qt=new Uint8Array(he.subarray(0,$t)),he=he.subarray($t)),H.progress({data:Qt.buffer,lengthComputable:!1,noTrace:!0}),$=0}else $=Gt.lastCompletedOffset,ie||(H.progress({lengthComputable:!1,noTrace:!0}),ie=!0)}re(H,$e)})}).catch(function(Oe){H.onerror&&H.onerror(Oe)})})}function re(H,me){H.reader.read().then(me).catch(function(ne){H.onerror&&200===H.response.status&&H.onerror(ne)})}function z(H,me){try{if((H=H.filter(function(Se){return Se.bytes>me/4/H.length})).length>1){var ne=0,ue=(H[H.length-1].ts-H[0].ts)/H.length;return H.forEach(function(Se,Ie){var le=H[Ie+1];if(le){var Me=le.ts-Se.ts;ne+=Me<ue?Me:0}}),ne}return null}catch{return null}}return{load:function B(H){k&&k.modifyRequest?Object(b.modifyRequest)(H,k).then(function(){return Y(H)}):Y(H)},abort:function Re(H){if(H.abortController)H.abortController.abort();else if(H.reader)try{H.reader.cancel(),H.onabort()}catch{}},calculateDownloadedTime:z,setup:function S(H){N=H.dashMetrics}}}A.__dashjs_factory_name="FetchLoader";var U=t.default.getClassFactory(A);C.default=U},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),E=c(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),O=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),x=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),g=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),h=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),p=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),A=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),U=c(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),P=c(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function V(N){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(N)}function k(N,S,B){return(S=function R(N){var S=function D(N,S){if("object"!==V(N)||null===N)return N;var B=N[Symbol.toPrimitive];if(void 0!==B){var Y=B.call(N,S||"default");if("object"!==V(Y))return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(N)}(N,"string");return"symbol"===V(S)?S:String(S)}(S))in N?Object.defineProperty(N,S,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[S]=B,N}function I(N){var ne,ue,Se,Ie,le,Me,we,_e,Le,S=this.context,B=(N=N||{}).errHandler,Y=N.dashMetrics,re=N.mediaPlayerModel,se=N.requestModifier,Re=N.boxParser,z=N.errors,oe=N.requestTimeout||0,H=Object(h.default)(S).getInstance(),me=Object(y.default)(S).getInstance();function Oe(Ae,be){var q,K=Ae.request,ie=[],he=!0,$=!0,Z=new Date,W=Z,X=0,Q=null;if(!se||!Y||!B)throw new Error("config object is not correct or missing");var Be,J=function(Qt){if($=!1,K.requestStartDate=Z,K.requestEndDate=new Date,K.firstByteDate=K.firstByteDate||Z,K.fileLoaderType=Q,!K.checkExistenceOnly){var dn=q.response?q.response.responseURL:null,gn=q.response?q.response.status:null,jn=q.response&&q.response.getAllResponseHeaders?q.response.getAllResponseHeaders():q.response?q.response.responseHeaders:[];Y.addHttpRequest(K,dn,gn,jn,Qt?ie:null),K.type===O.HTTPRequest.MPD_TYPE&&Y.addManifestUpdate(K)}},de=function(){if(-1!==ue.indexOf(q)&&(ue.splice(ue.indexOf(q),1),$))if(J(!1),be>0){try{me.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&K.type===O.HTTPRequest.MEDIA_SEGMENT_TYPE&&re.getRetryAttemptsForType(O.HTTPRequest.MEDIA_SEGMENT_TYPE)===be&&H.trigger(p.default.ATTEMPT_BACKGROUND_SYNC)}catch{}be--;var dn={config:Ae};Ie.push(dn),dn.timeout=setTimeout(function(){-1!==Ie.indexOf(dn)&&(Ie.splice(Ie.indexOf(dn),1),Oe(Ae,be))},re.getRetryIntervalsForType(K.type))}else{if(K.type===O.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new F.default(le[K.type],K.url+" is not available",{request:K,response:q.response})),Ae.error&&Ae.error(K,"error",q.response.statusText),Ae.complete&&Ae.complete(K,q.response.statusText)}};K.hasOwnProperty("availabilityTimeComplete")&&!1===K.availabilityTimeComplete&&window.fetch&&"arraybuffer"===K.responseType&&K.type===O.HTTPRequest.MEDIA_SEGMENT_TYPE?((Be=Object(E.default)(S).create({requestModifier:se,lowLatencyThroughputModel:_e,boxParser:Re})).setup({dashMetrics:Y}),Q=A.default.FILE_LOADER_TYPES.FETCH):(Be=Object(t.default)(S).create({requestModifier:se}),Q=A.default.FILE_LOADER_TYPES.XHR);var $e=null,Qe=se.modifyRequestURL?se.modifyRequestURL(K.url):K.url;if(me.get().streaming.cmcd&&me.get().streaming.cmcd.enabled){var qe=me.get().streaming.cmcd.mode;if(qe===A.default.CMCD_MODE_QUERY){var ct=function je(Ae){try{var be=[],K=Me.getQueryParameter(Ae);return K&&be.push(K),be}catch{return[]}}(K);Qe=x.default.addAditionalQueryParameterToUrl(Qe,ct)}else qe===A.default.CMCD_MODE_HEADER&&($e=Me.getHeaderParameters(K))}K.url=Qe;var Ot=K.checkExistenceOnly?O.HTTPRequest.HEAD:O.HTTPRequest.GET,_t=we.getXHRWithCredentialsForType(K.type);q={url:Qe,method:Ot,withCredentials:_t,request:K,onload:function(){q.response.status>=200&&q.response.status<=299&&(J(!0),Ae.success&&Ae.success(q.response.response,q.response.statusText,q.response.responseURL),Ae.complete&&Ae.complete(K,q.response.statusText))},onend:de,onerror:de,progress:function(Qt){var dn=new Date;he&&(he=!1,(!Qt.lengthComputable||Qt.lengthComputable&&Qt.total!==Qt.loaded)&&(K.firstByteDate=dn)),Qt.lengthComputable&&(K.bytesLoaded=Qt.loaded,K.bytesTotal=Qt.total),Qt.noTrace||(ie.push({s:W,d:Qt.time?Qt.time:dn.getTime()-W.getTime(),b:[Qt.loaded?Qt.loaded-X:0]}),W=dn,X=Qt.loaded),Ae.progress&&Qt&&Ae.progress(Qt)},onabort:function(){Ae.abort&&Ae.abort(K)},ontimeout:function(Qt){var dn;dn=Qt.lengthComputable?"Request timeout: loaded: "+Qt.loaded+", out of: "+Qt.total+" : "+(Qt.loaded/Qt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Le.warn(dn)},loader:Be,timeout:oe,headers:$e};var Rt=(new Date).getTime();if(isNaN(K.delayLoadingTime)||Rt>=K.delayLoadingTime)ue.push(q),Be.load(q);else{var Gt={httpRequest:q};Se.push(Gt),Gt.delayTimeout=setTimeout(function(){if(-1!==Se.indexOf(Gt)){Se.splice(Se.indexOf(Gt),1);try{W=Z=new Date,ue.push(Gt.httpRequest),Be.load(Gt.httpRequest)}catch{Gt.httpRequest.onerror()}}},K.delayLoadingTime-Rt)}}return ne={load:function ze(Ae){Ae.request?Oe(Ae,re.getRetryAttemptsForType(Ae.request.type)):Ae.error&&Ae.error(Ae.request,"error")},abort:function He(){Ie.forEach(function(Ae){clearTimeout(Ae.timeout),Ae.config.request&&Ae.config.abort&&Ae.config.abort(Ae.config.request)}),Ie=[],Se.forEach(function(Ae){return clearTimeout(Ae.delayTimeout)}),Se=[],ue.forEach(function(Ae){Ae.request.type!==O.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Ae.onloadend=Ae.onerror=Ae.onprogress=void 0,Ae.loader.abort(Ae))}),ue=[]}},function Pe(){var Ae;Le=Object(g.default)(S).getInstance().getLogger(ne),ue=[],Se=[],Ie=[],Me=Object(L.default)(S).getInstance(),_e=Object(U.default)(S).getInstance(),we=Object(P.default)(S).getInstance(),k(Ae={},O.HTTPRequest.MPD_TYPE,z.DOWNLOAD_ERROR_ID_MANIFEST_CODE),k(Ae,O.HTTPRequest.XLINK_EXPANSION_TYPE,z.DOWNLOAD_ERROR_ID_XLINK_CODE),k(Ae,O.HTTPRequest.INIT_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),k(Ae,O.HTTPRequest.MEDIA_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ae,O.HTTPRequest.INDEX_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ae,O.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ae,O.HTTPRequest.OTHER_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),le=Ae}(),ne}I.__dashjs_factory_name="HTTPLoader";var T=b.default.getClassFactory(I);C.default=T},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function O(){var L;function h(){L={}}function y(){h()}return function A(){y()}(),{getLoader:function p(U){for(var P in L)if(L.hasOwnProperty(P)&&U.startsWith(P))return L[P];return E.default},registerLoader:function x(U,P){L[U]=P},unregisterLoader:function g(U){L[U]&&delete L[U]},unregisterAllLoader:h,reset:y}}O.__dashjs_factory_name="SchemeLoaderFactory";var b=t.default.getSingletonFactory(O);C.default=b},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function O(F){F=F||{};var g,h,L=this.context;return g=Object(E.default)(L).getInstance(),{load:function p(A){if(!h){var U=g.getLoader(A&&A.request?A.request.url:null);h=U(L).create({errHandler:F.errHandler,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,dashMetrics:F.dashMetrics,boxParser:F.boxParser?F.boxParser:null,constants:F.constants?F.constants:null,dashConstants:F.dashConstants?F.dashConstants:null,urlUtils:F.urlUtils?F.urlUtils:null,requestTimeout:isNaN(F.requestTimeout)?0:F.requestTimeout,errors:F.errors})}h.load(A)},abort:function y(){h&&h.abort()}}}O.__dashjs_factory_name="URLLoader";var b=t.default.getClassFactory(O);C.default=b},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function O(F){var L=(F=F||{}).requestModifier;function h(y){var A=new Date,U=y.request,P=new XMLHttpRequest;if(P.open(y.method,y.url,!0),U.responseType&&(P.responseType=U.responseType),U.range&&P.setRequestHeader("Range","bytes="+U.range),U.requestStartDate||(U.requestStartDate=A),L&&L.modifyRequestHeader&&(P=L.modifyRequestHeader(P,{url:y.url})),y.headers)for(var V in y.headers){var k=y.headers[V];k&&P.setRequestHeader(V,k)}P.withCredentials=y.withCredentials,P.onload=y.onload,P.onloadend=y.onend,P.onerror=y.onerror,P.onprogress=y.progress,P.onabort=y.onabort,P.ontimeout=y.ontimeout,P.timeout=y.timeout,P.send(),y.response=P}return{load:function g(y){L&&L.modifyRequest?Object(E.modifyRequest)(y,L).then(function(){return h(y)}):h(y)},abort:function p(y){var A=y.response;A.onloadend=A.onerror=A.onprogress=void 0,A.abort()}}}O.__dashjs_factory_name="XHRLoader";var b=t.default.getClassFactory(O);C.default=b},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function O(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);var x={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};C.default=function(){function h(){!function E(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}(this,h)}return function b(h,p,y){return p&&O(h.prototype,p),y&&O(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,null,[{key:"findCencContentProtection",value:function(y){for(var A=null,U=0;U<y.length;++U){var P=y[U];"urn:mpeg:dash:mp4protection:2011"===P.schemeIdUri.toLowerCase()&&("cenc"===P.value.toLowerCase()||"cbcs"===P.value.toLowerCase())&&(A=P)}return A}},{key:"getPSSHData",value:function(y){var A=8,U=new DataView(y),P=U.getUint8(A);return A+=20,P>0&&(A+=4+16*U.getUint32(A)),y.slice(A+=4)}},{key:"getPSSHForKeySystem",value:function(y,A){var U=h.parsePSSHList(A);return y&&U.hasOwnProperty(y.uuid.toLowerCase())?U[y.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(y,A){return"pssh"in y?(y.pssh.__text=y.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),A.decodeArray(y.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(y){if(null==y)return[];for(var A=new DataView(y.buffer||y),P={},V=0;;){var R,D=void 0,I=void 0,T=V;if(V>=A.buffer.byteLength)break;if(R=V+A.getUint32(V),1886614376===A.getUint32(V+=4))if(0===(D=A.getUint8(V+=4))||1===D){V++,V+=3,I="";var N=void 0,S=void 0;for(N=0;N<4;N++)I+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=4,I+="-",N=0;N<2;N++)I+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=2,I+="-",N=0;N<2;N++)I+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=2,I+="-",N=0;N<2;N++)I+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=2,I+="-",N=0;N<6;N++)I+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;V+=6,V+=4,P[I=I.toLowerCase()]=A.buffer.slice(T,R),V=R}else V=R;else V=R}return P}},{key:"getLicenseServerUrlFromMediaInfo",value:function(y,A){try{if(!y||0===y.length)return null;for(var U=0,P=null;U<y.length&&!P;){var V=y[U];if(V&&V.contentProtection&&V.contentProtection.length>0){var k=V.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===A});if(k&&k.length>0)for(var R=0;R<k.length&&!P;){for(var D=k[R],I=0;I<x.attributes.length&&!P;){for(var T=0,N=x.attributes[I];T<x.prefixes.length&&!P;)D[N]&&D[N].__prefix&&D[N].__prefix===x.prefixes[T]&&D[N].__text&&(P=D[N].__text),T+=1;I+=1}R+=1}}U+=1}return P}catch{return null}}}]),h}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),E=c(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),O=c(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),b=c(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),L=c(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),x=c(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),g=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],h=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function p(){var A,U=this.context;function k(R,D){for(var I=0;I<D.length;I++){var T=D[I];if("function"==typeof R[T[Object.keys(T)[0]]])return T}return null}return A={createProtectionSystem:function P(R){var D=null,I=Object(E.default)(U).getInstance();I.setConfig({debug:R.debug,BASE64:R.BASE64,settings:R.settings}),I.initialize();var T=function V(R){var D=R.debug,I=D.getLogger(A),T=R.eventBus,N=R.errHandler,S=R.videoModel?R.videoModel.getElement():null;return S&&void 0===S.onencrypted||S&&void 0===S.mediaKeys?k(S,h)?(I.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(L.default)(U).create({debug:D,eventBus:T,events:R.events,api:k(S,h)})):k(S,g)?(I.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(x.default)(U).create({debug:D,eventBus:T,errHandler:N,events:R.events,api:k(S,g)})):(I.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(I.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(F.default)(U).create({debug:D,eventBus:T,events:R.events}))}(R);return!D&&T&&(D=Object(t.default)(U).create({protectionModel:T,protectionKeyController:I,eventBus:R.eventBus,debug:R.debug,events:R.events,BASE64:R.BASE64,constants:R.constants,cmcdModel:R.cmcdModel,customParametersModel:R.customParametersModel,settings:R.settings}),R.capabilities.setEncryptedMediaSupported(!0)),D}}}p.__dashjs_factory_name="Protection";var y=dashjs.FactoryMaker.getClassFactory(p);y.events=O.default,y.errors=b.default,dashjs.FactoryMaker.updateClassFactory(p.__dashjs_factory_name,y),C.default=y},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function O(R,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var D=function L(R,D){if("object"!==E(R)||null===R)return R;var I=R[Symbol.toPrimitive];if(void 0!==I){var T=I.call(R,D||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function g(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&h(R,D)}function h(R,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,D)}function p(R){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(D){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function y(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(R)}c.r(C);var k=new(function(R){g(I,R);var D=p(I);function I(){var T;return function x(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(T=D.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",T.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",T.KEY_ADDED="public_keyAdded",T.KEY_ERROR="public_keyError",T.KEY_MESSAGE="public_keyMessage",T.KEY_SESSION_CLOSED="public_keySessionClosed",T.KEY_SESSION_CREATED="public_keySessionCreated",T.KEY_SESSION_REMOVED="public_keySessionRemoved",T.KEY_STATUSES_CHANGED="public_keyStatusesChanged",T.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",T.KEY_SYSTEM_SELECTED="public_keySystemSelected",T.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",T.LICENSE_REQUEST_SENDING="public_licenseRequestSending",T.NEED_KEY="needkey",T.PROTECTION_CREATED="public_protectioncreated",T.PROTECTION_DESTROYED="public_protectiondestroyed",T.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",T.TEARDOWN_COMPLETE="protectionTeardownComplete",T.VIDEO_ELEMENT_SELECTED="videoElementSelected",T.KEY_SESSION_UPDATED="public_keySessionUpdated",T}return function b(R,D,I){return D&&O(R.prototype,D),I&&O(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}(I)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));C.default=k},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),O=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),b=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),x=c(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),g=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),h=c(
/*! ../../../core/Utils */
"./src/core/Utils.js"),p=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(I){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(I)}function D(I){var me,ne,ue,Se,Ie,le,Me,we,_e,Le,Pe,T=(I=I||{}).protectionKeyController,N=I.protectionModel,S=I.eventBus,B=I.events,Y=I.debug,re=I.BASE64,se=I.constants,Re=[],z=I.cmcdModel,oe=I.settings,H=I.customParametersModel;function je(){if(!(S&&S.hasOwnProperty("on")&&T&&T.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function be(pe,at){we||_e?we&&ie():function K(pe,at){if(!_e){_e=!0;var bt,mt=[];pe=pe.sort(function(Nt,Zt){return(Ie&&Ie[Nt.ks.systemString]&&Ie[Nt.ks.systemString].priority>=0?Ie[Nt.ks.systemString].priority:pe.length)-(Ie&&Ie[Zt.ks.systemString]&&Ie[Zt.ks.systemString].priority>=0?Ie[Zt.ks.systemString].priority:pe.length)});for(var Dt=0;Dt<pe.length;Dt++){var ut=ct(pe[Dt]);mt.push({ks:pe[Dt].ks,configs:[ut],protData:pe[Dt].protData})}N.requestKeySystemAccess(mt).then(function(Nt){return ne.info("DRM: KeySystem Access Granted for system string ("+((bt=Nt.data).mksa&&bt.mksa.selectedSystemString?bt.mksa.selectedSystemString:bt.keySystem.systemString)+")!  Selecting key system..."),N.selectKeySystem(bt)}).then(function(Nt){if(we=Nt,_e=!1,N){S.trigger(B.KEY_SYSTEM_SELECTED,{data:bt});var Zt=W(we);Zt&&Zt.serverCertificate&&Zt.serverCertificate.length>0&&N.setServerCertificate(re.decodeArray(Zt.serverCertificate).buffer),ie()}}).catch(function(Nt){we=null,_e=!1,at||S.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new F.default(b.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,b.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Nt.error)})})}}(pe,at)}function ie(){for(var pe,at=0;at<ue.length;at++)for(pe=0;pe<ue[at].length;pe++)if(we===ue[at][pe].ks){he(ue[at][pe]);break}ue=[]}function he(pe){if(T.isClearKey(we)&&pe.protData&&pe.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(pe.protData.clearkeys).length){var at={kids:Object.keys(pe.protData.clearkeys)};pe.initData=(new TextEncoder).encode(JSON.stringify(at))}pe.sessionId?$(pe):null!==pe.initData&&Z(pe)}function $(pe){je(),N.loadKeySession(pe)}function Z(pe){var at=t.default.getPSSHForKeySystem(we,pe?pe.initData:null);if(at){if(function q(pe){if(!pe)return!1;try{for(var at=N.getSessions(),mt=0;mt<at.length;mt++)if(at[mt].getKeyId()===pe)return!0;return!1}catch{return!1}}(pe.keyId)||J(at))return;try{pe.initData=at,N.createKeySession(pe)}catch(mt){S.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+mt.message)})}}else pe&&pe.initData?N.createKeySession(pe):S.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(we?we.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function W(pe){if(pe){var at=pe.systemString;if(Ie)return at in Ie?Ie[at]:null}return null}function J(pe){if(!pe)return!1;try{for(var at=N.getAllInitData(),mt=0;mt<at.length;mt++)if(T.initDataEquals(pe,at[mt]))return ne.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Ce(pe){je(),pe?(N.setMediaElement(pe),S.on(B.NEED_KEY,dt,me)):null===pe&&(N.setMediaElement(pe),S.off(B.NEED_KEY,dt,me))}function ct(pe){var at=pe.protData,mt=[],Dt=[],ut=at&&at.audioRobustness&&at.audioRobustness.length>0?at.audioRobustness:Me,bt=at&&at.videoRobustness&&at.videoRobustness.length>0?at.videoRobustness:Me,Nt=pe.sessionType,Zt=at&&at.distinctiveIdentifier?at.distinctiveIdentifier:"optional",wt=at&&at.persistentState?at.persistentState:"temporary"===Nt?"optional":"required";return Se.forEach(function(Ht){Ht.type===se.AUDIO?mt.push(new E.default(Ht.codec,ut)):Ht.type===se.VIDEO&&Dt.push(new E.default(Ht.codec,bt))}),new O.default(mt,Dt,Zt,wt,[Nt])}function Ot(pe){pe.error?S.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:pe.error}):ne.debug("DRM: key status = "+pe.status)}function _t(pe){ne.debug("DRM: onKeyMessage");var at=pe.data;S.trigger(B.KEY_MESSAGE,{data:at});var mt=at.messageType?at.messageType:"license-request",Dt=at.message,ut=at.sessionToken,bt=W(we),Nt=T.getLicenseServerModelInstance(we,bt,mt),Zt={sessionToken:ut,messageType:mt};if(Dt&&0!==Dt.byteLength){if(!Nt)return ne.debug("DRM: License server request not required for this message (type = "+pe.data.messageType+").  Session ID = "+ut.getSessionId()),void Rt(Zt);if(T.isClearKey(we)){var wt=T.processClearKeyLicenseRequest(we,bt,Dt);if(wt&&wt.keyPairs&&wt.keyPairs.length>0)return ne.debug("DRM: ClearKey license request handled by application!"),Rt(Zt),void N.updateKeySession(ut,wt)}!function Gt(pe,at,mt){var Dt=pe.sessionToken,ut=pe.messageType?pe.messageType:"license-request",bt={sessionToken:Dt,messageType:ut},Nt=we?we.systemString:null,Zt=function dn(pe,at,mt,Dt,ut){var bt=null,Nt=Dt.message;if(pe&&pe.serverURL){var Zt=pe.serverURL;"string"==typeof Zt&&""!==Zt?bt=Zt:"object"===A(Zt)&&Zt.hasOwnProperty(at)&&(bt=Zt[at])}else if(pe&&pe.laURL&&""!==pe.laURL)bt=pe.laURL;else if(!(bt=t.default.getLicenseServerUrlFromMediaInfo(Se,we.schemeIdURI))&&!T.isClearKey(we)){var wt=t.default.getPSSHData(mt.initData);(bt=we.getLicenseServerURLFromInitData(wt))||(bt=Dt.laURL)}return ut.getServerURLFromMessage(bt,Nt,at)}(mt,ut,Dt,pe,at);if(Zt){var wt={},Ht=!1;mt&&gn(wt,mt.httpRequestHeaders);var en=pe.message;gn(wt,we.getRequestHeadersFromMessage(en)),Object.keys(wt).forEach(function(nt){"authorization"===nt.toLowerCase()&&(Ht=!0)}),mt&&"boolean"==typeof mt.withCredentials&&(Ht=mt.withCredentials);var yn=function(Ct){if(N)if(Ct.status>=200&&Ct.status<=299){var Yt=h.default.parseHttpHeaders(Ct.getAllResponseHeaders?Ct.getAllResponseHeaders():null),Vt=new x.default(Ct.responseURL,Yt,Ct.response);ot(H.getLicenseResponseFilters(),Vt).then(function(){var kt=at.getLicenseMessage(Vt.data,Nt,ut);null!==kt?(Rt(bt),N.updateKeySession(Dt,kt)):jn(Ct,bt,Nt,ut,at)})}else jn(Ct,bt,Nt,ut,at)},Tn=function(Ct){Rt(bt,new F.default(b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Nt+' update, XHR aborted. status is "'+Ct.statusText+'" ('+Ct.status+"), readyState is "+Ct.readyState))},On=function(Ct){Rt(bt,new F.default(b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Nt+' update, XHR error. status is "'+Ct.statusText+'" ('+Ct.status+"), readyState is "+Ct.readyState))},In=we.getLicenseRequestFromMessage(en),Jn=at.getHTTPMethod(ut),fi=at.getResponseType(Nt,ut),Ft=mt&&!isNaN(mt.httpTimeout)?mt.httpTimeout:8e3,St=Dt.getSessionId()||null,st=new L.default(Zt,Jn,fi,wt,Ht,ut,St,In),Xt=isNaN(oe.get().streaming.retryAttempts[g.HTTPRequest.LICENSE])?3:oe.get().streaming.retryAttempts[g.HTTPRequest.LICENSE];ot(H.getLicenseRequestFilters(),st).then(function(){$t(st,Xt,Ft,yn,Tn,On)})}else Rt(bt,new F.default(b.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(at,Nt,bt)}else Rt(Zt,new F.default(b.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Rt(pe,at){S.trigger(B.LICENSE_REQUEST_COMPLETE,{data:pe,error:at})}function $t(pe,at,mt,Dt,ut,bt){var Nt=new XMLHttpRequest;if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled&&oe.get().streaming.cmcd.mode===p.default.CMCD_MODE_QUERY){var wt=z.getQueryParameter({url:pe.url,type:g.HTTPRequest.LICENSE});wt&&(pe.url=h.default.addAditionalQueryParameterToUrl(pe.url,[wt]))}for(var Ht in Nt.open(pe.method,pe.url,!0),Nt.responseType=pe.responseType,Nt.withCredentials=pe.withCredentials,mt>0&&(Nt.timeout=mt),pe.headers)Nt.setRequestHeader(Ht,pe.headers[Ht]);if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled&&oe.get().streaming.cmcd.mode===p.default.CMCD_MODE_HEADER){var tn=z.getHeaderParameters({url:pe.url,type:g.HTTPRequest.LICENSE});if(tn)for(var yn in tn){var Tn=tn[yn];Tn&&Nt.setRequestHeader(yn,Tn)}}var On=function(){at--;var Jn=isNaN(oe.get().streaming.retryIntervals[g.HTTPRequest.LICENSE])?1e3:oe.get().streaming.retryIntervals[g.HTTPRequest.LICENSE];Pe=setTimeout(function(){$t(pe,at,mt,Dt,ut,bt)},Jn)};Nt.onload=function(){Le=null,this.status>=200&&this.status<=299||at<=0?Dt(this):(ne.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+at),On())},Nt.ontimeout=Nt.onerror=function(){Le=null,at<=0?bt(this):(ne.warn("License request network request failed . Retrying it... Pending retries: "+at),On())},Nt.onabort=function(){ut(this)},S.trigger(B.LICENSE_REQUEST_SENDING,{url:pe.url,headers:pe.headers,payload:pe.data,sessionId:pe.sessionId}),Le=Nt,Nt.send(pe.data)}function Qt(){Le&&(Le.onloadend=Le.onerror=Le.onprogress=void 0,Le.abort(),Le=null),Pe&&(clearTimeout(Pe),Pe=null)}function gn(pe,at){if(at)for(var mt in at)pe[mt]=at[mt]}function jn(pe,at,mt,Dt,ut){var bt="NONE",Nt=null;pe.response&&(bt=ut.getErrorResponse(pe.response,mt,Dt),Nt={serverResponse:pe.response||null,responseCode:pe.status||null,responseText:pe.statusText||null}),Rt(at,new F.default(b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,b.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+mt+' update, XHR complete. status is "'+pe.statusText+'" ('+pe.status+"), readyState is "+pe.readyState+".  Response is "+bt,Nt))}function ot(pe,at){return pe?pe.reduce(function(mt,Dt){return mt.then(function(){return Dt(at)})},Promise.resolve()):Promise.resolve()}function dt(pe,at){if(!oe.get().streaming.protection.ignoreEmeEncryptedEvent){if(ne.debug("DRM: onNeedKey"),"cenc"!==pe.key.initDataType)return void ne.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+pe.key.initDataType);if(0===Se.length&&(ne.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(at=typeof at>"u"?1:at+1)<5))return void Re.push(setTimeout(function(){dt(pe,at)},500));var mt=pe.key.initData;if(ArrayBuffer.isView(mt)&&(mt=mt.buffer),we){var Dt=t.default.getPSSHForKeySystem(we,mt);if(Dt&&J(Dt))return}ne.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(mt)));var ut=T.getSupportedKeySystemsFromSegmentPssh(mt,Ie,le);if(0===ut.length)return void ne.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function Ae(pe){ue.push(pe),be(pe,!1)}(ut)}}return me={initializeForMedia:function ze(pe){if(!pe)throw new Error("mediaInfo can not be null or undefined");je(),Se.push(pe)},clearMediaInfoArray:function X(){Se=[]},handleKeySystemFromManifest:function He(){if(Se&&0!==Se.length){var pe=[];Se.forEach(function(at){var mt=T.getSupportedKeySystemsFromContentProtection(at.contentProtection,Ie,le);mt.length>0&&(0===pe.length&&(pe=mt),ue.push(mt))}),pe&&pe.length>0&&be(pe,!0)}},createKeySession:Z,loadKeySession:$,removeKeySession:function de(pe){je(),N.removeKeySession(pe)},closeKeySession:function ge(pe){je(),N.closeKeySession(pe)},setServerCertificate:function ce(pe){je(),N.setServerCertificate(pe)},setMediaElement:Ce,setSessionType:function Ye(pe){le=pe},setRobustnessLevel:function Be(pe){Me=pe},setProtectionData:function $e(pe){Ie=pe,T.setProtectionData(pe)},getSupportedKeySystemsFromContentProtection:function Q(pe){return je(),T.getSupportedKeySystemsFromContentProtection(pe,Ie,le)},getKeySystems:function xe(){return T?T.getKeySystems():[]},setKeySystems:function fe(pe){T&&T.setKeySystems(pe)},stop:function Qe(){Qt(),N&&N.stop()},reset:function qe(){S.off(B.INTERNAL_KEY_MESSAGE,_t,me),S.off(B.INTERNAL_KEY_STATUS_CHANGED,Ot,me),je(),Qt(),Ce(null),we=null,_e=!1,N&&(N.reset(),N=null),Re.forEach(function(pe){return clearTimeout(pe)}),Re=[],Se=[],ue=[]}},function Oe(){ne=Y.getLogger(me),ue=[],Se=[],le="temporary",Me="",Le=null,Pe=null,S.on(B.INTERNAL_KEY_MESSAGE,_t,me),S.on(B.INTERNAL_KEY_STATUS_CHANGED,Ot,me)}(),me}D.__dashjs_factory_name="ProtectionController",C.default=y.default.getClassFactory(D)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),O=c(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),b=c(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),F=c(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),L=c(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),x=c(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),g=c(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),h=c(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),p=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function y(){var U,P,V,k,R,D,I,T,A=this.context;function ue(le,Me){return Me&&le in Me?Me[le]:null}function Se(le,Me){return le&&le.sessionId?le.sessionId:Me&&Me.sessionId?Me.sessionId:null}function Ie(le,Me){return le&&le.sessionType?le.sessionType:Me}return U={initialize:function S(){var le;k=[],le=Object(F.default)(A).getInstance({BASE64:R,settings:D}),k.push(le),le=Object(b.default)(A).getInstance({BASE64:R}),k.push(le),le=Object(E.default)(A).getInstance({BASE64:R}),k.push(le),I=le,le=Object(O.default)(A).getInstance({BASE64:R,debug:P}),k.push(le),T=le},setProtectionData:function ne(le){for(var we=0;we<k.length;we++){var _e=k[we];_e.hasOwnProperty("init")&&_e.init((Pe=_e.systemString,Oe=void 0,Oe=null,le&&(Oe=Pe in le?le[Pe]:null),Oe))}var Pe,Oe},isClearKey:function se(le){return le===I||le===T},initDataEquals:function Re(le,Me){if(le.byteLength===Me.byteLength){for(var we=new Uint8Array(le),_e=new Uint8Array(Me),Le=0;Le<we.length;Le++)if(we[Le]!==_e[Le])return!1;return!0}return!1},getKeySystems:function B(){return k},setKeySystems:function Y(le){k=le},getKeySystemBySystemString:function re(le){for(var Me=0;Me<k.length;Me++)if(k[Me].systemString===le)return k[Me];return null},getSupportedKeySystemsFromContentProtection:function z(le,Me,we){var _e,Le,Pe,Oe,je=[];if(le){var ze=t.default.findCencContentProtection(le);for(Pe=0;Pe<k.length;++Pe){var He=ue((Le=k[Pe]).systemString,Me);for(Oe=0;Oe<le.length;++Oe)if((_e=le[Oe]).schemeIdUri.toLowerCase()===Le.schemeIdURI){var Ae=Le.getInitData(_e,ze);je.push({ks:k[Pe],keyId:_e.keyId,initData:Ae,protData:He,cdmData:Le.getCDMData(He?He.cdmData:null),sessionId:Se(He,_e),sessionType:Ie(He,we)})}}}return je},getSupportedKeySystemsFromSegmentPssh:function oe(le,Me,we){for(var Pe,_e=[],Le=t.default.parsePSSHList(le),je=0;je<k.length;++je){var ze=ue((Pe=k[je]).systemString,Me);Pe.uuid in Le&&_e.push({ks:Pe,initData:Le[Pe.uuid],protData:ze,cdmData:Pe.getCDMData(ze?ze.cdmData:null),sessionId:Se(ze),sessionType:Ie(ze,we)})}return _e},getLicenseServerModelInstance:function H(le,Me,we){if("license-release"===we||"individualization-request"===we)return null;var _e=null;return Me&&Me.hasOwnProperty("drmtoday")?_e=Object(L.default)(A).getInstance({BASE64:R}):le.systemString===p.default.WIDEVINE_KEYSTEM_STRING?_e=Object(g.default)(A).getInstance():le.systemString===p.default.PLAYREADY_KEYSTEM_STRING?_e=Object(x.default)(A).getInstance():le.systemString===p.default.CLEARKEY_KEYSTEM_STRING&&(_e=Object(h.default)(A).getInstance()),_e},processClearKeyLicenseRequest:function me(le,Me,we){try{return le.getClearKeysFromProtectionData(Me,we)}catch{return V.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function N(le){le&&(le.debug&&(V=(P=le.debug).getLogger(U)),le.BASE64&&(R=le.BASE64),le.settings&&(D=le.settings))}}}y.__dashjs_factory_name="ProtectionKeyController",C.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),O=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="e2719d58-a985-b3c9-781a-b030af78d30e",L=b.default.CLEARKEY_KEYSTEM_STRING,x="urn:uuid:"+F;function g(h){var y=(h=h||{}).BASE64;function P(I){try{var T=I.replace(/-/g,"");return(T=btoa(T.match(/\w{2}/g).map(function(N){return String.fromCharCode(parseInt(N,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:F,schemeIdURI:x,systemString:L,getInitData:function U(I,T){try{var N=O.default.parseInitDataFromContentProtection(I,y);if(!N&&T){var B={kids:[P(T["cenc:default_KID"])]};N=(new TextEncoder).encode(JSON.stringify(B))}return N}catch{return null}},getRequestHeadersFromMessage:function V(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function k(I){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(I))))},getLicenseServerURLFromInitData:function R(){return null},getCDMData:function D(){return null},getClearKeysFromProtectionData:function A(I,T){var N=null;if(I){for(var S=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<S.kids.length;Y++){var re=S.kids[Y],se=I.clearkeys&&I.clearkeys.hasOwnProperty(re)?I.clearkeys[re]:null;if(!se)throw new Error("DRM: ClearKey keyID ("+re+") is not known!");B.push(new t.default(re,se))}N=new E.default(B)}return N}}}g.__dashjs_factory_name="KeySystemClearKey",C.default=dashjs.FactoryMaker.getSingletonFactory(g)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),O="9a04f079-9840-4286-ab92-e65be0885f95",b=E.default.PLAYREADY_KEYSTEM_STRING,F="urn:uuid:"+O;function x(g){var p="utf-16",y=(g=g||{}).BASE64,A=g.settings;function U(){if(!y||!y.hasOwnProperty("decodeArray")||!y.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:O,schemeIdURI:F,systemString:b,getInitData:function R(T){var re,se,Re,z,oe,N=new Uint8Array([112,115,115,104,0,0,0,0]),S=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,Y=null;if(U(),!T)return null;if("pssh"in T)return t.default.parseInitDataFromContentProtection(T,y);if("pro"in T)Y=y.decodeArray(T.pro.__text);else{if(!("prheader"in T))return null;Y=y.decodeArray(T.prheader.__text)}return se=4+N.length+S.length+4+(re=Y.length),Re=new ArrayBuffer(se),z=new Uint8Array(Re),(oe=new DataView(Re)).setUint32(B,se),z.set(N,B+=4),z.set(S,B+=N.length),oe.setUint32(B+=S.length,re),z.set(Y,B+=4),B+=re,z.buffer},getRequestHeadersFromMessage:function P(T){var N,S,B={},Y=new DOMParser;if(A&&A.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===p&&T&&T.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var re="utf-16"===p?new Uint16Array(T):new Uint8Array(T);N=String.fromCharCode.apply(null,re);for(var se=(S=Y.parseFromString(N,"application/xml")).getElementsByTagName("name"),Re=S.getElementsByTagName("value"),z=0;z<se.length;z++)B[se[z].childNodes[0].nodeValue]=Re[z].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function V(T){var N=null,S=new DOMParser;if(A&&A.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===p&&T&&T.byteLength%2==1)return T;var B="utf-16"===p?new Uint16Array(T):new Uint8Array(T);U();var Y=String.fromCharCode.apply(null,B),re=S.parseFromString(Y,"application/xml");if(!re.getElementsByTagName("PlayReadyKeyMessage")[0])return T;var se=re.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return se&&(N=y.decode(se)),N},getLicenseServerURLFromInitData:function k(T){if(T)for(var N=new DataView(T),S=N.getUint16(4,!0),B=6,Y=new DOMParser,re=0;re<S;re++){var se=N.getUint16(B,!0),Re=N.getUint16(B+=2,!0);if(B+=2,1===se){var z=T.slice(B,B+Re),oe=String.fromCharCode.apply(null,new Uint16Array(z)),H=Y.parseFromString(oe,"application/xml");if(H.getElementsByTagName("LA_URL")[0]){var me=H.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(me)return me}if(H.getElementsByTagName("LUI_URL")[0]){var ne=H.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(ne)return ne}}else B+=Re}return null},getCDMData:function I(T){var N,S,B,Y;if(U(),!T)return null;for(N=[],Y=0;Y<T.length;++Y)N.push(T.charCodeAt(Y)),N.push(0);for(N=String.fromCharCode.apply(null,N),N=y.encode(N),S='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",N),B=[],Y=0;Y<S.length;++Y)B.push(S.charCodeAt(Y)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function D(T){if("utf-8"!==T&&"utf-16"!==T)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');p=T}}}x.__dashjs_factory_name="KeySystemPlayReady",C.default=dashjs.FactoryMaker.getSingletonFactory(x)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),O=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",L=b.default.CLEARKEY_KEYSTEM_STRING,x="urn:uuid:"+F;function g(h){var p,y=h.BASE64,A=h.debug.getLogger(p);return{uuid:F,schemeIdURI:x,systemString:L,getInitData:function P(I){return O.default.parseInitDataFromContentProtection(I,y)},getRequestHeadersFromMessage:function V(){return null},getLicenseRequestFromMessage:function k(I){return new Uint8Array(I)},getLicenseServerURLFromInitData:function R(){return null},getCDMData:function D(){return null},getClearKeysFromProtectionData:function U(I,T){var N=null;if(I){for(var S=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<S.kids.length;Y++){var re=S.kids[Y],se=I.clearkeys&&I.clearkeys.hasOwnProperty(re)?I.clearkeys[re]:null;if(!se)throw new Error("DRM: ClearKey keyID ("+re+") is not known!");B.push(new t.default(re,se))}N=new E.default(B),A.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return N}}}g.__dashjs_factory_name="KeySystemW3CClearKey",C.default=dashjs.FactoryMaker.getSingletonFactory(g)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),O="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",b=E.default.WIDEVINE_KEYSTEM_STRING,F="urn:uuid:"+O;function L(x){var h=(x=x||{}).BASE64;return{uuid:O,schemeIdURI:F,systemString:b,getInitData:function p(V){return t.default.parseInitDataFromContentProtection(V,h)},getRequestHeadersFromMessage:function y(){return null},getLicenseRequestFromMessage:function A(V){return new Uint8Array(V)},getLicenseServerURLFromInitData:function U(){return null},getCDMData:function P(){return null}}}L.__dashjs_factory_name="KeySystemWidevine",C.default=dashjs.FactoryMaker.getSingletonFactory(L)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function E(R){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function O(R,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,F(T.key),T)}}function F(R){var D=function L(R,D){if("object"!==E(R)||null===R)return R;var I=R[Symbol.toPrimitive];if(void 0!==I){var T=I.call(R,D||"default");if("object"!==E(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===E(D)?D:String(D)}function g(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&h(R,D)}function h(R,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,D)}function p(R){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=P(R);if(D){var S=P(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function y(R,D){if(D&&("object"===E(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function P(R){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(R)}c.r(C);var k=new(function(R){g(I,R);var D=p(I);function I(){var T;return function x(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(T=D.call(this)).MEDIA_KEYERR_CODE=100,T.MEDIA_KEYERR_UNKNOWN_CODE=101,T.MEDIA_KEYERR_CLIENT_CODE=102,T.MEDIA_KEYERR_SERVICE_CODE=103,T.MEDIA_KEYERR_OUTPUT_CODE=104,T.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,T.MEDIA_KEYERR_DOMAIN_CODE=106,T.MEDIA_KEY_MESSAGE_ERROR_CODE=107,T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,T.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,T.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,T.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,T.KEY_SESSION_CREATED_ERROR_CODE=113,T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,T.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",T.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",T.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",T.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",T.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",T.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",T.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",T.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",T.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",T.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",T.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",T}return function b(R,D,I){return D&&O(R.prototype,D),I&&O(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}(I)}(c(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));C.default=k},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),O=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),F=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),x=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function g(h){var k,R,D,I,T,N,S,B,Y,p=this.context,y=(h=h||{}).eventBus,A=h.events,U=h.debug,P=h.api,V=h.errHandler;function se(){D&&Le();for(var Pe=0;Pe<S.length;Pe++)Se(S[Pe]);y.trigger(A.TEARDOWN_COMPLETE)}function Se(Pe){try{D[P.cancelKeyRequest](I.systemString,Pe.sessionId)}catch(Oe){y.trigger(A.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Pe.sessionId+") "+Oe.message})}}function _e(Pe,Oe){if(!Oe||!Pe)return null;for(var je=Pe.length,ze=0;ze<je;ze++)if(Pe[ze].sessionId==Oe)return Pe[ze];return null}function Le(){D.removeEventListener(P.keyerror,Y),D.removeEventListener(P.needkey,Y),D.removeEventListener(P.keymessage,Y),D.removeEventListener(P.keyadded,Y)}return k={getAllInitData:function Re(){for(var Pe=[],Oe=0;Oe<N.length;Oe++)Pe.push(N[Oe].initData);for(var je=0;je<S.length;je++)Pe.push(S[je].initData);return Pe},getSessions:function z(){return S.concat(N)},requestKeySystemAccess:function oe(Pe){return new Promise(function(Oe,je){var ze=D;ze||(ze=document.createElement("video"));for(var He=!1,Ae=0;Ae<Pe.length;Ae++)for(var be=Pe[Ae].ks.systemString,K=Pe[Ae].configs,he=null,$=0;$<K.length;$++){var Z=K[$].videoCapabilities;if(Z&&0!==Z.length){he=[];for(var W=0;W<Z.length;W++)""!==ze.canPlayType(Z[W].contentType,be)&&he.push(Z[W])}if(he&&(!he||0!==he.length)){He=!0;var X=new F.default(null,he),Q=T.getKeySystemBySystemString(be),q=new L.default(Q,X);y.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:q}),Oe({data:q});break}}if(!He){var J="Key system access denied! -- No valid audio/video content configurations detected!";y.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:J}),je({error:J})}})},selectKeySystem:function H(Pe){return I=Pe.keySystem,Promise.resolve(I)},setMediaElement:function me(Pe){if(D!==Pe){if(D){Le();for(var Oe=0;Oe<S.length;Oe++)Se(S[Oe]);S=[]}(D=Pe)&&(D.addEventListener(P.keyerror,Y),D.addEventListener(P.needkey,Y),D.addEventListener(P.keymessage,Y),D.addEventListener(P.keyadded,Y),y.trigger(A.VIDEO_ELEMENT_SELECTED))}},createKeySession:function ne(Pe){if(!I)throw new Error("Can not create sessions until you have selected a key system");if(B||0===S.length){var Oe={sessionId:null,keyId:Pe.keyId,initData:Pe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return N.push(Oe),D[P.generateKeyRequest](I.systemString,new Uint8Array(Pe.initData)),Oe}throw new Error("Multiple sessions not allowed!")},updateKeySession:function ue(Pe,Oe){var je=Pe.sessionId;if(T.isClearKey(I))for(var ze=0;ze<Oe.keyPairs.length;ze++)D[P.addKey](I.systemString,Oe.keyPairs[ze].key,Oe.keyPairs[ze].keyID,je);else D[P.addKey](I.systemString,new Uint8Array(Oe),new Uint8Array(Pe.initData),je);y.trigger(A.KEY_SESSION_UPDATED)},closeKeySession:Se,setServerCertificate:function Ie(){},loadKeySession:function le(){},removeKeySession:function Me(){},stop:se,reset:se},function re(){R=U.getLogger(k),D=null,I=null,N=[],S=[],T=Object(t.default)(p).getInstance(),Y=function we(){return{handleEvent:function(Oe){var je=null;switch(Oe.type){case P.needkey:var ze=ArrayBuffer.isView(Oe.initData)?Oe.initData.buffer:Oe.initData;y.trigger(A.NEED_KEY,{key:new E.default(ze,"cenc")});break;case P.keyerror:if((je=_e(S,Oe.sessionId))||(je=_e(N,Oe.sessionId)),je){var He=x.default.MEDIA_KEYERR_CODE,Ae="";switch(Oe.errorCode.code){case 1:He=x.default.MEDIA_KEYERR_UNKNOWN_CODE,Ae+="MEDIA_KEYERR_UNKNOWN - "+x.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:He=x.default.MEDIA_KEYERR_CLIENT_CODE,Ae+="MEDIA_KEYERR_CLIENT - "+x.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:He=x.default.MEDIA_KEYERR_SERVICE_CODE,Ae+="MEDIA_KEYERR_SERVICE - "+x.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:He=x.default.MEDIA_KEYERR_OUTPUT_CODE,Ae+="MEDIA_KEYERR_OUTPUT - "+x.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:He=x.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Ae+="MEDIA_KEYERR_HARDWARECHANGE - "+x.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:He=x.default.MEDIA_KEYERR_DOMAIN_CODE,Ae+="MEDIA_KEYERR_DOMAIN - "+x.default.MEDIA_KEYERR_DOMAIN_MESSAGE}y.trigger(A.KEY_ERROR,{error:new O.default(He,Ae+="  System Code = "+Oe.systemCode,je)})}else R.error("No session token found for key error");break;case P.keyadded:(je=_e(S,Oe.sessionId))||(je=_e(N,Oe.sessionId)),je?(R.debug("DRM: Key added."),y.trigger(A.KEY_ADDED,{data:je})):R.debug("No session token found for key added");break;case P.keymessage:if((B=null!=Oe.sessionId)?!(je=_e(S,Oe.sessionId))&&N.length>0&&(je=N.shift(),S.push(je),je.sessionId=Oe.sessionId,y.trigger(A.KEY_SESSION_CREATED,{data:je})):N.length>0&&(je=N.shift(),S.push(je),0!==N.length&&V.error(new O.default(x.default.MEDIA_KEY_MESSAGE_ERROR_CODE,x.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),je){var be=ArrayBuffer.isView(Oe.message)?Oe.message.buffer:Oe.message;je.keyMessage=be,y.trigger(A.INTERNAL_KEY_MESSAGE,{data:new b.default(je,be,Oe.defaultURL)})}else R.warn("No session token found for key message")}}}}()}(),k}g.__dashjs_factory_name="ProtectionModel_01b",C.default=dashjs.FactoryMaker.getClassFactory(g)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),O=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),b=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),x=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),g={};function h(p){var V,k,R,D,I,T,N,S,y=this.context,A=(p=p||{}).eventBus,U=p.events,P=p.debug;function oe(He,Ae,be,K){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var ie="Insecure origins are not allowed";return A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:ie}),void K({error:ie})}var Z=He[Ae].ks,W=Z.systemString;(function H(He,Ae){return new Promise(function(be,K){me(He,Ae,0,be,K)})})((He[Ae].protData&&He[Ae].protData.systemStringPriority?He[Ae].protData.systemStringPriority:null)||(g[W]?g[W]:[W]),He[Ae].configs).then(function(Q){var q="function"==typeof Q.getConfiguration?Q.getConfiguration():null,J=new L.default(Z,q);J.mksa=Q,A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),be({data:J})}).catch(function(Q){if(Ae+1<He.length)oe(He,Ae+1,be,K);else{var q="Key system access denied! ";A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:q+Q.message}),K({error:q+Q.message})}})}function me(He,Ae,be,K,ie){var he=He[be];k.debug("Requesting key system access for system string ".concat(he)),navigator.requestMediaKeySystemAccess(he,Ae).then(function($){$.selectedSystemString=he,K($)}).catch(function($){be+1<He.length?me(He,Ae,be+1,K,ie):ie($)})}function Le(He){var Ae=He.session;return Ae.removeEventListener("keystatuseschange",He),Ae.removeEventListener("message",He),Ae.close()}function Oe(He){for(var Ae=0;Ae<T.length;Ae++)if(T[Ae]===He){T.splice(Ae,1);break}}function je(He){var Ae,be;return He&&He.length>0&&(He[0]&&("string"==typeof He[0]?Ae=He[0]:be=He[0]),He[1]&&("string"==typeof He[1]?Ae=He[1]:be=He[1])),{status:Ae,keyId:be}}function ze(He,Ae){var be={session:He,keyId:Ae.keyId,initData:Ae.initData,sessionId:Ae.sessionId,sessionType:Ae.sessionType,handleEvent:function(ie){switch(ie.type){case"keystatuseschange":A.trigger(U.KEY_STATUSES_CHANGED,{data:this}),ie.target.keyStatuses.forEach(function(){var $=je(arguments);A.trigger(U.INTERNAL_KEY_STATUS_CHANGED,"expired"===$.status?{error:new b.default(O.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,O.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:$)});break;case"message":var he=ArrayBuffer.isView(ie.message)?ie.message.buffer:ie.message;A.trigger(U.INTERNAL_KEY_MESSAGE,{data:new F.default(this,he,void 0,ie.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return He.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return He.expiration},getKeyStatuses:function(){return He.keyStatuses},getUsable:function(){var ie=!1;return He.keyStatuses.forEach(function(){"usable"===je(arguments).status&&(ie=!0)}),ie}};return He.addEventListener("keystatuseschange",be),He.addEventListener("message",be),He.closed.then(function(){Oe(be),k.debug("DRM: Session closed.  SessionID = "+be.getSessionId()),A.trigger(U.KEY_SESSION_CLOSED,{data:be.getSessionId()})}),T.push(be),be}return V={getAllInitData:function se(){for(var He=[],Ae=0;Ae<T.length;Ae++)T[Ae].initData&&He.push(T[Ae].initData);return He},getSessions:function Re(){return T},requestKeySystemAccess:function z(He){return new Promise(function(Ae,be){oe(He,0,Ae,be)})},selectKeySystem:function ne(He){return new Promise(function(Ae,be){He.mksa.createMediaKeys().then(function(K){return R=He.keySystem,I=K,D?D.setMediaKeys(I):Promise.resolve()}).then(function(){Ae(R)}).catch(function(){be({error:"Error selecting keys system ("+He.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function ue(He){D!==He&&(D&&(D.removeEventListener("encrypted",N),D.setMediaKeys&&D.setMediaKeys(null)),(D=He)&&(D.addEventListener("encrypted",N),D.setMediaKeys&&I&&D.setMediaKeys(I)))},setServerCertificate:function Se(He){if(!R||!I)throw new Error("Can not set server certificate until you have selected a key system");I.setServerCertificate(He).then(function(){k.info("DRM: License server certificate successfully updated."),A.trigger(U.SERVER_CERTIFICATE_UPDATED)}).catch(function(Ae){A.trigger(U.SERVER_CERTIFICATE_UPDATED,{error:new b.default(O.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,O.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Ae.name)})})},createKeySession:function Ie(He){if(!R||!I)throw new Error("Can not create sessions until you have selected a key system");var Ae=I.createSession(He.sessionType),be=ze(Ae,He);Ae.generateRequest(R.systemString===x.default.CLEARKEY_KEYSTEM_STRING&&(He.initData||He.protData&&He.protData.clearkeys)?x.default.INITIALIZATION_DATA_TYPE_KEYIDS:x.default.INITIALIZATION_DATA_TYPE_CENC,He.initData).then(function(){k.debug("DRM: Session created.  SessionID = "+be.getSessionId()),A.trigger(U.KEY_SESSION_CREATED,{data:be})}).catch(function(ie){Oe(be),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new b.default(O.default.KEY_SESSION_CREATED_ERROR_CODE,O.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+ie.name)})})},updateKeySession:function le(He,Ae){var be=He.session;S.isClearKey(R)&&(Ae=Ae.toJWK()),be.update(Ae).then(function(){A.trigger(U.KEY_SESSION_UPDATED)}).catch(function(K){A.trigger(U.KEY_ERROR,{error:new b.default(O.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+K.name,He)})})},loadKeySession:function Me(He){if(!R||!I)throw new Error("Can not load sessions until you have selected a key system");for(var Ae=He.sessionId,be=0;be<T.length;be++)if(Ae===T[be].sessionId)return void k.warn("DRM: Ignoring session ID because we have already seen it!");var K=I.createSession(He.sessionType),ie=ze(K,He);K.load(Ae).then(function(he){he?(k.debug("DRM: Session loaded.  SessionID = "+ie.getSessionId()),A.trigger(U.KEY_SESSION_CREATED,{data:ie})):(Oe(ie),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new b.default(O.default.KEY_SESSION_CREATED_ERROR_CODE,O.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Ae+")")}))}).catch(function(he){Oe(ie),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new b.default(O.default.KEY_SESSION_CREATED_ERROR_CODE,O.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Ae+")! "+he.name)})})},removeKeySession:function we(He){He.session.remove().then(function(){k.debug("DRM: Session removed.  SessionID = "+He.getSessionId()),A.trigger(U.KEY_SESSION_REMOVED,{data:He.getSessionId()})},function(be){A.trigger(U.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+He.getSessionId()+"). "+be.name})})},closeKeySession:function _e(He){Le(He).catch(function(Ae){Oe(He),A.trigger(U.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+He.getSessionId()+") "+Ae.name})})},stop:function re(){for(var He,Ae=0;Ae<T.length;Ae++)(He=T[Ae]).getUsable()||Le(He).catch(function(){Oe(He)})},reset:function Y(){var Ae,He=T.length;0!==He?function(){for(var be=function(he){Oe(he),0===T.length&&(D?(D.removeEventListener("encrypted",N),D.setMediaKeys(null).then(function(){A.trigger(U.TEARDOWN_COMPLETE)})):A.trigger(U.TEARDOWN_COMPLETE))},K=0;K<He;K++)!function(ie){Ae.session.closed.then(function(){be(ie)}),Le(Ae).catch(function(){be(ie)})}(Ae=T[K])}():A.trigger(U.TEARDOWN_COMPLETE)}},function B(){k=P.getLogger(V),R=null,D=null,I=null,T=[],S=Object(t.default)(y).getInstance(),N=function Pe(){return{handleEvent:function(Ae){if("encrypted"===Ae.type&&Ae.initData){var be=ArrayBuffer.isView(Ae.initData)?Ae.initData.buffer:Ae.initData;A.trigger(U.NEED_KEY,{key:new E.default(be,Ae.initDataType)})}}}}()}(),V}g[x.default.PLAYREADY_KEYSTEM_STRING]=[x.default.PLAYREADY_KEYSTEM_STRING,x.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],g[x.default.WIDEVINE_KEYSTEM_STRING]=[x.default.WIDEVINE_KEYSTEM_STRING],g[x.default.CLEARKEY_KEYSTEM_STRING]=[x.default.CLEARKEY_KEYSTEM_STRING],h.__dashjs_factory_name="ProtectionModel_21Jan2015",C.default=dashjs.FactoryMaker.getClassFactory(h)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),E=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),O=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),x=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function g(h){var V,k,R,D,I,T,N,S,B,p=this.context,y=(h=h||{}).eventBus,A=h.events,U=h.debug,P=h.api;function re(){try{for(var Le=0;Le<N.length;Le++)ue(N[Le]);R&&R.removeEventListener(P.needkey,S),y.trigger(A.TEARDOWN_COMPLETE)}catch(Pe){y.trigger(A.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Pe.message})}}function ue(Le){var Pe=Le.session;Pe.removeEventListener(P.error,Le),Pe.removeEventListener(P.message,Le),Pe.removeEventListener(P.ready,Le),Pe.removeEventListener(P.close,Le);for(var Oe=0;Oe<N.length;Oe++)if(N[Oe]===Le){N.splice(Oe,1);break}Pe[P.release]()}function we(){var Le=null,Pe=function(){R.removeEventListener("loadedmetadata",Le),R[P.setMediaKeys](I),y.trigger(A.VIDEO_ELEMENT_SELECTED)};R.readyState>=1?Pe():(Le=Pe.bind(this),R.addEventListener("loadedmetadata",Le))}return V={getAllInitData:function se(){for(var Le=[],Pe=0;Pe<N.length;Pe++)Le.push(N[Pe].initData);return Le},getSessions:function Re(){return N},requestKeySystemAccess:function z(Le){return new Promise(function(Pe,Oe){for(var je=!1,ze=0;ze<Le.length;ze++)for(var He=Le[ze].ks.systemString,Ae=Le[ze].configs,be=null,K=null,ie=0;ie<Ae.length;ie++){var he=Ae[ie].audioCapabilities,$=Ae[ie].videoCapabilities;if(he&&0!==he.length){be=[];for(var Z=0;Z<he.length;Z++)window[P.MediaKeys].isTypeSupported(He,he[Z].contentType)&&be.push(he[Z])}if($&&0!==$.length){K=[];for(var W=0;W<$.length;W++)window[P.MediaKeys].isTypeSupported(He,$[W].contentType)&&K.push($[W])}if(!(!be&&!K||be&&0===be.length||K&&0===K.length)){je=!0;var X=new L.default(be,K),Q=B.getKeySystemBySystemString(He),q=new x.default(Q,X);y.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:q}),Pe({data:q});break}}if(!je){var J="Key system access denied! -- No valid audio/video content configurations detected!";y.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:J}),Oe({error:J})}})},selectKeySystem:function oe(Le){return new Promise(function(Pe,Oe){try{I=Le.mediaKeys=new window[P.MediaKeys](Le.keySystem.systemString),D=Le.keySystem,T=Le,R&&we(),Pe(D)}catch{Oe({error:"Error selecting keys system ("+D.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function H(Le){R!==Le&&(R&&R.removeEventListener(P.needkey,S),(R=Le)&&(R.addEventListener(P.needkey,S),I&&we()))},createKeySession:function me(Le){if(!D||!I||!T)throw new Error("Can not create sessions until you have selected a key system");var Pe=null;if(T.ksConfiguration.videoCapabilities&&T.ksConfiguration.videoCapabilities.length>0&&(Pe=T.ksConfiguration.videoCapabilities[0]),null===Pe&&T.ksConfiguration.audioCapabilities&&T.ksConfiguration.audioCapabilities.length>0&&(Pe=T.ksConfiguration.audioCapabilities[0]),null===Pe)throw new Error("Can not create sessions for unknown content types.");var je=I.createSession(Pe.contentType,new Uint8Array(Le.initData),Le.cdmData?new Uint8Array(Le.cdmData):null),ze=function _e(Le,Pe){return{session:Le,keyId:Pe.keyId,initData:Pe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(je){switch(je.type){case P.error:y.trigger(A.KEY_ERROR,{error:new O.default(b.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case P.message:var He=ArrayBuffer.isView(je.message)?je.message.buffer:je.message;y.trigger(A.INTERNAL_KEY_MESSAGE,{data:new F.default(this,He,je.destinationURL)});break;case P.ready:k.debug("DRM: Key added."),y.trigger(A.KEY_ADDED);break;case P.close:k.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),y.trigger(A.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(je,Le);je.addEventListener(P.error,ze),je.addEventListener(P.message,ze),je.addEventListener(P.ready,ze),je.addEventListener(P.close,ze),N.push(ze),k.debug("DRM: Session created.  SessionID = "+ze.getSessionId()),y.trigger(A.KEY_SESSION_CREATED,{data:ze})},updateKeySession:function ne(Le,Pe){var Oe=Le.session;B.isClearKey(D)?Oe.update(new Uint8Array(Pe.toJWK())):Oe.update(new Uint8Array(Pe)),y.trigger(A.KEY_SESSION_UPDATED)},closeKeySession:ue,setServerCertificate:function Se(){},loadKeySession:function Ie(){},removeKeySession:function le(){},stop:re,reset:re},function Y(){k=U.getLogger(V),R=null,D=null,I=null,T=null,N=[],B=Object(t.default)(p).getInstance(),S=function Me(){return{handleEvent:function(Pe){if(Pe.type===P.needkey&&Pe.initData){var Oe=ArrayBuffer.isView(Pe.initData)?Pe.initData.buffer:Pe.initData;y.trigger(A.NEED_KEY,{key:new E.default(Oe,"cenc")})}}}}()}(),V}g.__dashjs_factory_name="ProtectionModel_3Feb2014",C.default=dashjs.FactoryMaker.getClassFactory(g)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),E=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function O(){return{getServerURLFromMessage:function F(p){return p},getHTTPMethod:function L(){return"POST"},getResponseType:function x(){return"json"},getLicenseMessage:function g(p){if(!p.hasOwnProperty("keys"))return null;for(var y=[],A=0;A<p.keys.length;A++){var U=p.keys[A],P=U.kid.replace(/=/g,""),V=U.k.replace(/=/g,"");y.push(new t.default(P,V))}return new E.default(y)},getErrorResponse:function h(p){return String.fromCharCode.apply(null,new Uint8Array(p))}}}O.__dashjs_factory_name="ClearKey",C.default=dashjs.FactoryMaker.getSingletonFactory(O)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function E(O){var b=(O=O||{}).BASE64,F={};return F[t.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(P){return b.decodeArray(P.license)},getErrorResponse:function(P){return P}},F[t.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(P){return P},getErrorResponse:function(P){return String.fromCharCode.apply(null,new Uint8Array(P))}},{getServerURLFromMessage:function g(U){return U},getHTTPMethod:function h(){return"POST"},getResponseType:function p(U){return F[U].responseType},getLicenseMessage:function y(U,P){return function x(){if(!b||!b.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),F[P].getLicenseMessage(U)},getErrorResponse:function A(U,P){return F[P].getErrorResponse(U)}}}E.__dashjs_factory_name="DRMToday",C.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){var O="http://schemas.xmlsoap.org/soap/envelope/";function b(A){var U=String.fromCharCode.apply(null,new Uint8Array(A));return decodeURIComponent(escape(U))}function F(A){if(window.DOMParser){var U=b(A),V=(new window.DOMParser).parseFromString(U,"text/xml"),k=V?V.getElementsByTagNameNS(O,"Envelope")[0]:null,R=k?k.getElementsByTagNameNS(O,"Body")[0]:null;if(R&&R.getElementsByTagNameNS(O,"Fault")[0])return null}return A}function L(A){var U="",P="",V="",k=-1,R=-1;if(window.DOMParser){var D=b(A),T=(new window.DOMParser).parseFromString(D,"text/xml"),N=T?T.getElementsByTagNameNS(O,"Envelope")[0]:null,S=N?N.getElementsByTagNameNS(O,"Body")[0]:null,B=S?S.getElementsByTagNameNS(O,"Fault")[0]:null,Y=B?B.getElementsByTagName("detail")[0]:null,re=Y?Y.getElementsByTagName("Exception")[0]:null,se=null;if(null===B)return D;U=(se=B.getElementsByTagName("faultstring")[0].firstChild)?se.nodeValue:null,null!==re&&(P=(se=re.getElementsByTagName("StatusCode")[0])?se.firstChild.nodeValue:null,k=(V=(se=re.getElementsByTagName("Message")[0])?se.firstChild.nodeValue:null)?V.lastIndexOf("[")+1:-1,R=V?V.indexOf("]"):-1,V=V?V.substring(k,R):"")}var Re="code: ".concat(P,", name: ").concat(U);return V&&(Re+=", message: ".concat(V)),Re}return{getServerURLFromMessage:function x(A){return A},getHTTPMethod:function g(){return"POST"},getResponseType:function h(){return"arraybuffer"},getLicenseMessage:function p(A){return F.call(this,A)},getErrorResponse:function y(A){return L.call(this,A)}}}c.r(C),t.__dashjs_factory_name="PlayReady",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){return{getServerURLFromMessage:function O(g){return g},getHTTPMethod:function b(){return"POST"},getResponseType:function F(){return"arraybuffer"},getLicenseMessage:function L(g){return g},getErrorResponse:function x(g){return String.fromCharCode.apply(null,new Uint8Array(g))}}}c.r(C),t.__dashjs_factory_name="Widevine",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function O(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,F(y.key),y)}}function F(g){var h=function L(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function g(h,p){if(function E(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}(this,g),p&&"persistent"!==p&&"temporary"!==p)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=h,this.type=p}return function b(g,h,p){return h&&O(g.prototype,h),p&&O(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}(g,[{key:"toJWK",value:function(){var p,y=this.keyPairs.length,A={keys:[]};for(p=0;p<y;p++)A.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[p].keyID,k:this.keyPairs[p].key});this.type&&(A.type=this.type);var P=JSON.stringify(A),V=P.length,k=new ArrayBuffer(V),R=new Uint8Array(k);for(p=0;p<V;p++)R[p]=P.charCodeAt(p);return k}}]),g}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(h,p,y,A){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.sessionToken=h,this.message=p,this.defaultURL=y,this.messageType=A||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(h,p){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.keyID=h,this.key=p})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(h,p){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.keySystem=h,this.ksConfiguration=p})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(h,p,y,A,U){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.initDataTypes=["cenc"],h&&h.length&&(this.audioCapabilities=h),p&&p.length&&(this.videoCapabilities=p),this.distinctiveIdentifier=y,this.persistentState=A,this.sessionTypes=U})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(h,p,y,A,U,P,V,k){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=h,this.method=p,this.responseType=y,this.headers=A,this.withCredentials=U,this.messageType=P,this.sessionId=V,this.data=k})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(h,p,y){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=h,this.headers=p,this.data=y})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(h,p){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.contentType=h,this.robustness=p})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(h,p){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.initData=h,this.initDataType=p})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var b={},F={},L={};return{push:function x(y,A,U){if(A){b[y]||(b[y]=[],F[y]=0,L[y]=0);var P=U&&U.droppedVideoFrames?U.droppedVideoFrames:0,V=U&&U.totalVideoFrames?U.totalVideoFrames:0,k=P-F[y];F[y]=P;var R=V-L[y];L[y]=V;var D=b[y];isNaN(A)||(D[A]?(D[A].droppedVideoFrames+=k,D[A].totalVideoFrames+=R):D[A]={droppedVideoFrames:k,totalVideoFrames:R})}},getFrameHistory:function g(y){return b[y]},clearForStream:function h(y){try{delete b[y],delete F[y],delete L[y]}catch{}},reset:function p(){b={},F={},L={}}}}E.__dashjs_factory_name="DroppedFramesHistory";var O=t.default.getClassFactory(E);C.default=O},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(O){var F=(O=O||{}).abrController,L=O.switchHistory,x=O.droppedFramesHistory,g=O.currentRequest,h=O.useBufferOccupancyABR,p=O.useL2AABR,y=O.useLoLPABR,A=O.streamProcessor?O.streamProcessor.getScheduleController():null,U=O.streamProcessor?O.streamProcessor.getRepresentationInfo():null,P=O.videoModel?O.videoModel:null;function R(){return U?U.mediaInfo:null}return{getMediaType:function V(){var z=R();return z?z.type:null},getMediaInfo:R,getDroppedFramesHistory:function B(){return x},getCurrentRequest:function Y(){return g},getSwitchHistory:function N(){return L},getStreamInfo:function k(){var z=R();return z?z.streamInfo:null},getScheduleController:function I(){return A},getAbrController:function T(){return F},getRepresentationInfo:function D(){return U},useBufferOccupancyABR:function re(){return h},useL2AABR:function se(){return p},useLoLPABR:function Re(){return y},getVideoModel:function S(){return P}}}E.__dashjs_factory_name="RulesContext",C.default=t.default.getClassFactory(E)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O={DEFAULT:.5,STRONG:1,WEAK:0};function b(L,x,g){return{quality:void 0===L?-1:L,reason:void 0===x?null:x,priority:function U(P){var V=O.DEFAULT;return(P===O.DEFAULT||P===O.STRONG||P===O.WEAK)&&(V=P),V}(g)}}b.__dashjs_factory_name="SwitchRequest";var F=t.default.getClassFactory(b);F.NO_CHANGE=-1,F.PRIORITY=O,t.default.updateClassFactory(b.__dashjs_factory_name,F),C.default=F},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function b(){var L=[],x=[];return{push:function g(y){y.newValue===E.default.NO_CHANGE&&(y.newValue=y.oldValue),L[y.oldValue]||(L[y.oldValue]={noDrops:0,drops:0,dropSize:0});var A=y.newValue-y.oldValue,U=A<0?1:0,P=U?-A:0,V=U?0:1;if(L[y.oldValue].drops+=U,L[y.oldValue].dropSize+=P,L[y.oldValue].noDrops+=V,x.push({idx:y.oldValue,noDrop:V,drop:U,dropSize:P}),x.length>8){var k=x.shift();L[k.idx].drops-=k.drop,L[k.idx].dropSize-=k.dropSize,L[k.idx].noDrops-=k.noDrop}},getSwitchRequests:function h(){return L},reset:function p(){L=[],x=[]}}}b.__dashjs_factory_name="SwitchRequestHistory";var F=t.default.getClassFactory(b);C.default=F},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function O(b){var k,R,D,I,T,L=3,x=4,g=4,h=1.3,p=1.3,V=(b=b||{}).settings;function Y(le,Me,we,_e){var Le=Math.pow(.5,we/_e.fast);le.fastEstimate=(1-Le)*Me+Le*le.fastEstimate;var Pe=Math.pow(.5,we/_e.slow);le.slowEstimate=(1-Pe)*Me+Pe*le.slowEstimate,le.totalWeight+=we}function se(le,Me,we){return V.get().streaming.abr.movingAverageMethod!==t.default.MOVING_AVERAGE_SLIDING_WINDOW?function z(le,Me){var we=le?T.throughputHalfLife:T.latencyHalfLife,_e=le?D[Me]:I[Me];if(!_e||_e.totalWeight<=0)return NaN;var Le=_e.fastEstimate/(1-Math.pow(.5,_e.totalWeight/we.fast)),Pe=_e.slowEstimate/(1-Math.pow(.5,_e.totalWeight/we.slow));return le?Math.min(Le,Pe):Math.max(Le,Pe)}(le,Me):function Re(le,Me,we){var _e=function re(le,Me,we){var _e,Le;if(le?(_e=k[Me],Le=we?L:x):(_e=R[Me],Le=g),_e){if(Le>=_e.length)Le=_e.length;else if(le)for(var Pe=1;Pe<Le;++Pe){var Oe=_e[_e.length-Pe]/_e[_e.length-Pe-1];if((Oe>=p||Oe<=1/h)&&(Le+=1)===_e.length)break}}else Le=0;return Le}(le,Me,we),Pe=(le?k:R)[Me];return 0!==_e&&Pe&&0!==Pe.length?(Pe=Pe.slice(-_e)).reduce(function(Oe,je){return Oe+je})/Pe.length:NaN}(le,Me,we)}function oe(le,Me){return se(!0,le,Me)}function ne(le){k[le]=k[le]||[],R[le]=R[le]||[],D[le]=D[le]||{fastEstimate:0,slowEstimate:0,totalWeight:0},I[le]=I[le]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Se(){k={},R={},D={},I={}}var Ie={push:function B(le,Me,we){if(Me.trace&&Me.trace.length){var Oe,_e=Me.tresponse.getTime()-Me.trequest.getTime()||1,Le=Me._tfinish.getTime()-Me.tresponse.getTime()||1,Pe=Me.trace.reduce(function(ze,He){return ze+He.b[0]},0),je=0;if(0!==(Oe=Me._fileLoaderType&&Me._fileLoaderType===t.default.FILE_LOADER_TYPES.FETCH?Me.trace.reduce(function(ze,He){return ze+He.d},0):we?Le:_e+Le)&&(je=Math.round(8*Pe/Oe)),ne(le),function S(le,Me,we){return le===t.default.VIDEO?we<V.get().streaming.cacheLoadThresholds[t.default.VIDEO]:le===t.default.AUDIO?we<V.get().streaming.cacheLoadThresholds[t.default.AUDIO]:void 0}(le,0,Le)){if(k[le].length>0&&!k[le].hasCachedEntries)return;k[le].hasCachedEntries=!0}else k[le]&&k[le].hasCachedEntries&&function ue(le){delete k[le],delete R[le],delete D[le],delete I[le],ne(le)}(le);k[le].push(je),k[le].length>20&&k[le].shift(),R[le].push(_e),R[le].length>20&&R[le].shift(),Y(D[le],je,.001*Le,T.throughputHalfLife),Y(I[le],_e,1,T.latencyHalfLife)}},getAverageThroughput:oe,getSafeAverageThroughput:function H(le,Me){var we=oe(le,Me);return isNaN(we)||(we*=V.get().streaming.abr.bandwidthSafetyFactor),we},getAverageLatency:function me(le){return se(!1,le)},reset:Se};return function N(){T={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},Se()}(),Ie}O.__dashjs_factory_name="ThroughputHistory",C.default=E.default.getClassFactory(O)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),E=c(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),O=c(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),b=c(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),F=c(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),L=c(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),x=c(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),g=c(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),h=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),A="qualitySwitchRules",U="abandonFragmentRules";function P(k){var B,Y,R=this.context,D=(k=k||{}).mediaPlayerModel,I=k.customParametersModel,T=k.dashMetrics,N=k.settings;function se(ne){return ne.filter(function(ue){return ue.quality>p.default.NO_CHANGE})}function Re(ne){var Ie,le,Me,we,_e,ue={},Se=null;if(0!==ne.length){for(ue[p.default.PRIORITY.STRONG]={quality:p.default.NO_CHANGE,reason:null},ue[p.default.PRIORITY.WEAK]={quality:p.default.NO_CHANGE,reason:null},ue[p.default.PRIORITY.DEFAULT]={quality:p.default.NO_CHANGE,reason:null},Ie=0,le=ne.length;Ie<le;Ie+=1)(Me=ne[Ie]).quality!==p.default.NO_CHANGE&&(ue[Me.priority].quality===p.default.NO_CHANGE||ue[Me.priority].quality>Me.quality)&&(ue[Me.priority].quality=Me.quality,ue[Me.priority].reason=Me.reason||null);return ue[p.default.PRIORITY.WEAK].quality!==p.default.NO_CHANGE&&(Se=ue[p.default.PRIORITY.WEAK]),ue[p.default.PRIORITY.DEFAULT].quality!==p.default.NO_CHANGE&&(Se=ue[p.default.PRIORITY.DEFAULT]),ue[p.default.PRIORITY.STRONG].quality!==p.default.NO_CHANGE&&(Se=ue[p.default.PRIORITY.STRONG]),Se&&(we=Se.quality,_e=Se.reason),Object(p.default)(R).create(we,_e)}}return{initialize:function re(){B=[],Y=[],N.get().streaming.abr.useDefaultABRRules&&(N.get().streaming.abr.ABRStrategy===y.default.ABR_STRATEGY_L2A?B.push(Object(x.default)(R).create({dashMetrics:T,settings:N})):N.get().streaming.abr.ABRStrategy===y.default.ABR_STRATEGY_LoLP?B.push(Object(g.default)(R).create({dashMetrics:T})):(B.push(Object(L.default)(R).create({dashMetrics:T,mediaPlayerModel:D,settings:N})),B.push(Object(t.default)(R).create({dashMetrics:T})),N.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(E.default)(R).create({dashMetrics:T,settings:N})),N.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(F.default)(R).create()),N.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(b.default)(R).create()),N.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Y.push(Object(O.default)(R).create({dashMetrics:T,mediaPlayerModel:D,settings:N})))),I.getAbrCustomRules().forEach(function(ue){ue.type===A&&B.push(ue.rule(R).create()),ue.type===U&&Y.push(ue.rule(R).create())})},reset:function H(){[B,Y].forEach(function(ne){ne&&ne.length&&ne.forEach(function(ue){return ue.reset&&ue.reset()})}),B=[],Y=[]},getMaxQuality:function z(ne){return Re(se(B.map(function(le){return le.getMaxIndex(ne)})))||Object(p.default)(R).create()},getMinSwitchRequest:Re,shouldAbandonFragment:function oe(ne,ue){return Re(se(Y.map(function(Me){return Me.shouldAbandon(ne,ue)})))||Object(p.default)(R).create()},getQualitySwitchRules:function me(){return B}}}P.__dashjs_factory_name="ABRRulesCollection";var V=h.default.getClassFactory(P);V.QUALITY_SWITCH_RULES=A,V.ABANDON_FRAGMENT_RULES=U,h.default.updateSingletonFactory(P.__dashjs_factory_name,V),C.default=V},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),E=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function b(F){var U,P,V,k,R,h=this.context,p=(F=F||{}).mediaPlayerModel,y=F.dashMetrics,A=F.settings;function S(){V={},k={},R=[]}return U={shouldAbandon:function N(B){var Y=Object(t.default)(h).create(t.default.NO_CHANGE,{name:b.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return Y;var re=B.getMediaInfo(),se=B.getMediaType(),Re=B.getStreamInfo(),z=Re?Re.id:null,oe=B.getCurrentRequest();if(!isNaN(oe.index)){!function I(B,Y){V[B]=V[B]||{},V[B][Y]=V[B][Y]||{}}(se,oe.index);var H=p.getStableBufferTime();if(y.getCurrentBufferLevel(se)>H)return Y;var ne=V[se][oe.index];if(null===ne||null===oe.firstByteDate||k.hasOwnProperty(ne.id))return Y;if(void 0===ne.firstByteTime&&(R[se]=[],ne.firstByteTime=oe.firstByteDate.getTime(),ne.segmentDuration=oe.duration,ne.bytesTotal=oe.bytesTotal,ne.id=oe.index),ne.bytesLoaded=oe.bytesLoaded,ne.elapsedTime=(new Date).getTime()-ne.firstByteTime,ne.bytesLoaded>0&&ne.elapsedTime>0&&function T(B,Y){R[B]=R[B]||[],R[B].push(Y)}(se,Math.round(8*ne.bytesLoaded/ne.elapsedTime)),R[se].length>=5&&ne.elapsedTime>500&&ne.bytesLoaded<ne.bytesTotal){var ue=R[se].reduce(function(Pe,Oe){return Pe+Oe},0);if(ne.measuredBandwidthInKbps=Math.round(ue/R[se].length),ne.estimatedTimeOfDownload=+(8*ne.bytesTotal/ne.measuredBandwidthInKbps/1e3).toFixed(2),ne.estimatedTimeOfDownload<1.8*ne.segmentDuration||0===B.getRepresentationInfo().quality)return Y;if(!k.hasOwnProperty(ne.id)){var Se=B.getAbrController(),Ie=ne.bytesTotal-ne.bytesLoaded,le=Se.getBitrateList(re),Me=Se.getQualityForBitrate(re,ne.measuredBandwidthInKbps*A.get().streaming.abr.bandwidthSafetyFactor,z),we=Se.getMinAllowedIndexFor(se,z),_e=void 0!==we?Math.max(we,Me):Me;Ie>ne.bytesTotal*le[_e].bitrate/le[Se.getQualityFor(se,z)].bitrate&&(Y.quality=_e,Y.reason.throughput=ne.measuredBandwidthInKbps,Y.reason.fragmentID=ne.id,k[ne.id]=ne,P.debug("["+se+"] frag id",ne.id," is asking to abandon and switch to quality to ",_e," measured bandwidth was",ne.measuredBandwidthInKbps),delete V[se][ne.id])}}else ne.bytesLoaded===ne.bytesTotal&&delete V[se][ne.id]}return Y},reset:S},function D(){P=Object(O.default)(h).getInstance().getLogger(U),S()}(),U}b.__dashjs_factory_name="AbandonRequestsRule",C.default=E.default.getClassFactory(b)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),O=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),g=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),U=10;function k(R){var S,B,Y,D=this.context,I=(R=R||{}).dashMetrics,T=R.mediaPlayerModel,N=Object(F.default)(D).getInstance();function Re(Ae,be,K){var ie=K.reduce(function(W,X,Q){return X>K[W]?Q:W},0);if(0===ie)return null;var he=Math.max(Ae,U+2*be.length),$=(K[ie]-1)/(he/U-1);return{gp:$,Vp:U/$}}function z(Ae){var be={},ie=Ae.getMediaInfo().bitrateList.map(function(W){return W.bandwidth}),he=function se(Ae){return Ae.map(function(be){return Math.log(be)})}(ie);he=he.map(function(W){return W-he[0]+1});var $=T.getStableBufferTime(),Z=Re($,ie,he);return Z?(be.state=1,be.bitrates=ie,be.utilities=he,be.stableBufferTime=$,be.Vp=Z.Vp,be.gp=Z.gp,be.lastQuality=0,oe(be)):be.state=0,be}function oe(Ae){Ae.placeholderBuffer=0,Ae.mostAdvancedSegmentStart=NaN,Ae.lastSegmentWasReplacement=!1,Ae.lastSegmentStart=NaN,Ae.lastSegmentDurationS=NaN,Ae.lastSegmentRequestTimeMs=NaN,Ae.lastSegmentFinishTimeMs=NaN}function H(Ae,be){var K=T.getStableBufferTime();if(Ae.stableBufferTime!==K){var ie=Re(K,Ae.bitrates,Ae.utilities);if(ie.Vp!==Ae.Vp||ie.gp!==Ae.gp){var he=I.getCurrentBufferLevel(be),$=he+Ae.placeholderBuffer;$-=U,$*=ie.Vp/Ae.Vp,$+=U,Ae.stableBufferTime=K,Ae.Vp=ie.Vp,Ae.gp=ie.gp,Ae.placeholderBuffer=Math.max(0,$-he)}}}function ue(Ae,be){return Ae.Vp*(Ae.utilities[be]+Ae.gp)}function Se(Ae,be){for(var K=Ae.bitrates[be],ie=Ae.utilities[be],he=0,$=be-1;$>=0;--$)if(Ae.utilities[$]<Ae.utilities[be]){var Z=Ae.bitrates[$];he=Math.max(he,Ae.Vp*(Ae.gp+(K*Ae.utilities[$]-Z*ie)/(K-Z)))}return he}function le(Ae){var K=Ae.mediaType===h.default.AUDIO?[h.default.AUDIO]:Y;for(var ie in K)Y.hasOwnProperty(ie)&&2===Y[ie].state&&(Y[ie].placeholderBuffer=0)}function Me(){for(var Ae in Y)if(Y.hasOwnProperty(Ae)){var be=Y[Ae];0!==be.state&&(be.state=1,oe(be))}}function we(Ae){if(Ae&&Ae.chunk&&Ae.chunk.mediaInfo){var be=Y[Ae.chunk.mediaInfo.type];if(be&&0!==be.state){var K=Ae.chunk.start;isNaN(be.mostAdvancedSegmentStart)||K>be.mostAdvancedSegmentStart?(be.mostAdvancedSegmentStart=K,be.lastSegmentWasReplacement=!1):be.lastSegmentWasReplacement=!0,be.lastSegmentStart=K,be.lastSegmentDurationS=Ae.chunk.duration,be.lastQuality=Ae.chunk.quality,Le(be,Ae.chunk.mediaInfo.type)}}}function _e(Ae){if(Ae&&Ae.metric===t.default.HTTP_REQUEST&&Ae.value&&Ae.value.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE&&Ae.value.trace&&Ae.value.trace.length){var be=Y[Ae.mediaType];be&&0!==be.state&&(be.lastSegmentRequestTimeMs=Ae.value.trequest.getTime(),be.lastSegmentFinishTimeMs=Ae.value._tfinish.getTime(),Le(be,Ae.mediaType))}}function Le(Ae,be){if(!isNaN(Ae.lastSegmentStart)&&!isNaN(Ae.lastSegmentRequestTimeMs)&&!isNaN(Ae.placeholderBuffer)){if(Ae.placeholderBuffer*=.99,!isNaN(Ae.lastSegmentFinishTimeMs)){var ie=I.getCurrentBufferLevel(be)+.001*(Ae.lastSegmentFinishTimeMs-Ae.lastSegmentRequestTimeMs),he=ue(Ae,Ae.lastQuality),$=Math.max(0,he-ie);Ae.placeholderBuffer=Math.min($,Ae.placeholderBuffer)}Ae.lastSegmentWasReplacement&&!isNaN(Ae.lastSegmentDurationS)&&(Ae.placeholderBuffer+=Ae.lastSegmentDurationS),Ae.lastSegmentStart=NaN,Ae.lastSegmentRequestTimeMs=NaN}}function Pe(Ae){if(Ae){var be=Y[Ae.mediaType];be&&0!==be.state&&(be.abrQuality=Ae.newQuality)}}function Oe(Ae){if(Ae){var be=Y[Ae.mediaType];if(be&&0!==be.state){var ie,K=I.getCurrentBufferLevel(Ae.mediaType);ie=be.abrQuality>0?Se(be,be.abrQuality):U;var he=Math.max(0,ie-K);be.placeholderBuffer=Math.min(be.placeholderBuffer,he)}}}function ze(){Y={}}return S={getMaxIndex:function je(Ae){var be=Object(E.default)(D).create();if(!(Ae&&Ae.hasOwnProperty("getMediaInfo")&&Ae.hasOwnProperty("getMediaType")&&Ae.hasOwnProperty("getScheduleController")&&Ae.hasOwnProperty("getStreamInfo")&&Ae.hasOwnProperty("getAbrController")&&Ae.hasOwnProperty("useBufferOccupancyABR")))return be;var K=Ae.getMediaInfo(),ie=Ae.getMediaType(),he=Ae.getScheduleController(),$=Ae.getStreamInfo(),Z=Ae.getAbrController(),W=Z.getThroughputHistory(),X=$?$.id:null,Q=$&&$.manifestInfo&&$.manifestInfo.isDynamic,q=Ae.useBufferOccupancyABR();if(be.reason=be.reason||{},!q)return be;he.setTimeToLoadDelay(0);var J=function me(Ae){var be=Ae.getMediaType(),K=Y[be];return K?0!==K.state&&H(K,be):(K=z(Ae),Y[be]=K),K}(Ae);if(0===J.state)return be;var Ye,de=I.getCurrentBufferLevel(ie),ge=W.getAverageThroughput(ie,Q),ce=W.getSafeAverageThroughput(ie,Q),Ce=W.getAverageLatency(ie);if(be.reason.state=J.state,be.reason.throughput=ge,be.reason.latency=Ce,isNaN(ge))return be;switch(J.state){case 1:Ye=Z.getQualityForBitrate(K,ce,X,Ce),be.quality=Ye,be.reason.throughput=ce,J.placeholderBuffer=Math.max(0,Se(J,Ye)-de),J.lastQuality=Ye,!isNaN(J.lastSegmentDurationS)&&de>=J.lastSegmentDurationS&&(J.state=2);break;case 2:(function Ie(Ae,be){var K=Date.now();isNaN(Ae.lastSegmentFinishTimeMs)?isNaN(Ae.lastCallTimeMs)||(Ae.placeholderBuffer+=Math.max(0,.001*(K-Ae.lastCallTimeMs))):Ae.placeholderBuffer+=Math.max(0,.001*(K-Ae.lastSegmentFinishTimeMs)),Ae.lastCallTimeMs=K,Ae.lastSegmentStart=NaN,Ae.lastSegmentRequestTimeMs=NaN,Ae.lastSegmentFinishTimeMs=NaN,H(Ae,be)})(J,ie),Ye=function ne(Ae,be){for(var K=Ae.bitrates.length,ie=NaN,he=NaN,$=0;$<K;++$){var Z=(Ae.Vp*(Ae.utilities[$]+Ae.gp)-be)/Ae.bitrates[$];(isNaN(he)||Z>=he)&&(he=Z,ie=$)}return ie}(J,de+J.placeholderBuffer);var Be=Z.getQualityForBitrate(K,ce,X,Ce);Ye>J.lastQuality&&Ye>Be&&(Ye=Math.max(Be,J.lastQuality));var $e=Math.max(0,de+J.placeholderBuffer-ue(J,Ye));$e<=J.placeholderBuffer?(J.placeholderBuffer-=$e,$e=0):($e-=J.placeholderBuffer,J.placeholderBuffer=0,Ye<Z.getMaxAllowedIndexFor(ie,X)?he.setTimeToLoadDelay(1e3*$e):$e=0),be.quality=Ye,be.reason.throughput=ge,be.reason.latency=Ce,be.reason.bufferLevel=de,be.reason.placeholderBuffer=J.placeholderBuffer,be.reason.delay=$e,J.lastQuality=Ye;break;default:B.debug("BOLA ABR rule invoked in bad state."),be.quality=Z.getQualityForBitrate(K,ce,X,Ce),be.reason.state=J.state,be.reason.throughput=ce,be.reason.latency=Ce,J.state=1,oe(J)}return be},reset:function He(){ze(),N.off(g.default.BUFFER_EMPTY,le,S),N.off(g.default.PLAYBACK_SEEKING,Me,S),N.off(g.default.METRIC_ADDED,_e,S),N.off(g.default.QUALITY_CHANGE_REQUESTED,Pe,S),N.off(g.default.FRAGMENT_LOADING_ABANDONED,Oe,S),N.off(L.default.MEDIA_FRAGMENT_LOADED,we,S)}},function re(){B=Object(x.default)(D).getInstance().getLogger(S),ze(),N.on(g.default.BUFFER_EMPTY,le,S),N.on(g.default.PLAYBACK_SEEKING,Me,S),N.on(g.default.METRIC_ADDED,_e,S),N.on(g.default.QUALITY_CHANGE_REQUESTED,Pe,S),N.on(g.default.FRAGMENT_LOADING_ABANDONED,Oe,S),N.on(L.default.MEDIA_FRAGMENT_LOADED,we,S)}(),S}k.__dashjs_factory_name="BolaRule",C.default=O.default.getClassFactory(k)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),O=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function b(){var L,x,F=this.context;return L={getMaxIndex:function y(A){var U=Object(E.default)(F).create();if(!A||!A.hasOwnProperty("getDroppedFramesHistory"))return U;var P=A.getDroppedFramesHistory(),V=A.getStreamInfo().id;if(P){var k=P.getFrameHistory(V);if(!k||0===k.length)return U;for(var R=0,D=0,I=E.default.NO_CHANGE,T=1;T<k.length;T++)if(k[T]&&(R=k[T].droppedVideoFrames,(D=k[T].totalVideoFrames)>375&&R/D>.15)){x.debug("index: "+(I=T-1)+" Dropped Frames: "+R+" Total Frames: "+D);break}return Object(E.default)(F).create(I,{droppedFrames:R})}return U}},function p(){x=Object(O.default)(F).getInstance().getLogger(L)}(),L}b.__dashjs_factory_name="DroppedFramesRule",C.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),x=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),g=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function h(p){p=p||{};var k,R,D,A=2,U=this.context,P=Object(t.default)(U).getInstance(),V=p.dashMetrics;function B(){(D={})[L.default.VIDEO]={ignoreCount:A},D[L.default.AUDIO]={ignoreCount:A}}function Y(){B()}function re(Re){!isNaN(Re.startTime)&&(Re.mediaType===L.default.AUDIO||Re.mediaType===L.default.VIDEO)&&D[Re.mediaType].ignoreCount>0&&D[Re.mediaType].ignoreCount--}return k={getMaxIndex:function N(Re){var z=Object(F.default)(U).create();if(!Re||!Re.hasOwnProperty("getMediaType"))return z;!function T(){if(!V||!V.hasOwnProperty("getCurrentBufferLevel")||!V.hasOwnProperty("getCurrentBufferState"))throw new Error(L.default.MISSING_CONFIG_ERROR)}();var oe=Re.getMediaType(),H=V.getCurrentBufferState(oe),ne=Re.getRepresentationInfo().fragmentDuration,ue=Re.getStreamInfo(),Se=ue?ue.id:null,Ie=Re.getScheduleController(),le=ue&&ue.manifestInfo&&ue.manifestInfo.isDynamic;if(function S(Re,z){return!Re&&D[z].ignoreCount>0}(Ie.getPlaybackController().getLowLatencyModeEnabled(),oe)||!ne)return z;if(H&&H.state===x.default.BUFFER_EMPTY)R.debug("["+oe+"] Switch to index 0; buffer is empty."),z.quality=0,z.reason="InsufficientBufferRule: Buffer is empty";else{var _e=Re.getMediaInfo(),Le=Re.getAbrController(),Pe=Le.getThroughputHistory(),Oe=V.getCurrentBufferLevel(oe),je=Pe.getAverageThroughput(oe,le),ze=Pe.getAverageLatency(oe);z.quality=Le.getQualityForBitrate(_e,je*(Oe/ne)*.5,Se,ze),z.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return z},reset:function se(){B(),P.off(g.default.PLAYBACK_SEEKING,Y,k),P.off(E.default.BYTES_APPENDED_END_FRAGMENT,re,k)}},function I(){R=Object(b.default)(U).getInstance().getLogger(k),B(),P.on(g.default.PLAYBACK_SEEKING,Y,k),P.on(E.default.BYTES_APPENDED_END_FRAGMENT,re,k)}(),k}h.__dashjs_factory_name="InsufficientBufferRule",C.default=O.default.getClassFactory(h)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),O=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),g=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function A(U){var R,D,I,T,P=this.context,V=(U=U||{}).dashMetrics,k=Object(F.default)(P).getInstance();function S(le){var Me={},we=le.getMediaInfo(),_e=we.bitrateList.map(function(Le){return Le.bandwidth/1e3});return Me.state=1,Me.bitrates=_e,Me.lastQuality=0,function B(le){!le||!le.type||(I[le.type]={},I[le.type].w=[],I[le.type].prev_w=[],I[le.type].Q=0,I[le.type].segment_request_start_s=0,I[le.type].segment_download_finish_s=0,I[le.type].B_target=1.5)}(we),Y(Me),Me}function Y(le){le.placeholderBuffer=0,le.mostAdvancedSegmentStart=NaN,le.lastSegmentWasReplacement=!1,le.lastSegmentStart=NaN,le.lastSegmentDurationS=NaN,le.lastSegmentRequestTimeMs=NaN,le.lastSegmentFinishTimeMs=NaN}function se(){for(var le in D)if(D.hasOwnProperty(le)){var Me=D[le];0!==Me.state&&(Me.state=1,Y(Me))}}function Re(le){if(le&&le.chunk&&le.chunk.mediaInfo){var Me=D[le.chunk.mediaInfo.type],we=I[le.chunk.mediaInfo.type];if(Me&&0!==Me.state){var _e=le.chunk.start;isNaN(Me.mostAdvancedSegmentStart)||_e>Me.mostAdvancedSegmentStart?(Me.mostAdvancedSegmentStart=_e,Me.lastSegmentWasReplacement=!1):Me.lastSegmentWasReplacement=!0,Me.lastSegmentStart=_e,Me.lastSegmentDurationS=le.chunk.duration,Me.lastQuality=le.chunk.quality,oe(Me,we)}}}function z(le){if(le&&le.metric===t.default.HTTP_REQUEST&&le.value&&le.value.type===b.HTTPRequest.MEDIA_SEGMENT_TYPE&&le.value.trace&&le.value.trace.length){var Me=D[le.mediaType],we=I[le.mediaType];Me&&0!==Me.state&&(Me.lastSegmentRequestTimeMs=le.value.trequest.getTime(),Me.lastSegmentFinishTimeMs=le.value._tfinish.getTime(),oe(Me,we))}}function oe(le,Me){!isNaN(le.lastSegmentStart)&&!isNaN(le.lastSegmentRequestTimeMs)&&(Me.segment_request_start_s=.001*le.lastSegmentRequestTimeMs,Me.segment_download_finish_s=.001*le.lastSegmentFinishTimeMs,le.lastSegmentStart=NaN,le.lastSegmentRequestTimeMs=NaN)}function H(le){if(le&&le.mediaType){var Me=D[le.mediaType];Me&&0!==Me.state&&(Me.abrQuality=le.newQuality)}}function me(le,Me){if(le.length!==Me.length)return-1;for(var we=0,_e=0;_e<le.length;_e++)we+=le[_e]*Me[_e];return we}function Se(){D={},I={}}return R={getMaxIndex:function ue(le){var J,Me=Object(E.default)(P).create(),_e=Math.pow(4,.99),Le=Math.max(Math.pow(4,1),_e*Math.sqrt(4)),Pe=le.getMediaInfo(),Oe=le.getMediaType(),je=Pe.bitrateList.map(function($t){return $t.bandwidth}),ze=je.length,He=le.getScheduleController(),Ae=le.getStreamInfo(),be=le.getAbrController(),K=be.getThroughputHistory(),ie=Ae&&Ae.manifestInfo&&Ae.manifestInfo.isDynamic,he=le.useL2AABR(),$=V.getCurrentBufferLevel(Oe,!0),Z=K.getSafeAverageThroughput(Oe,ie),W=K.getAverageThroughput(Oe,ie),Q=K.getAverageLatency(Oe),de=le.getVideoModel().getPlaybackRate();if(!(le&&le.hasOwnProperty("getMediaInfo")&&le.hasOwnProperty("getMediaType")&&le.hasOwnProperty("getScheduleController")&&le.hasOwnProperty("getStreamInfo")&&le.hasOwnProperty("getAbrController")&&le.hasOwnProperty("useL2AABR")&&(Me.reason=Me.reason||{},he&&Oe!==g.default.AUDIO)))return Me;He.setTimeToLoadDelay(0);var ge=function re(le){var Me=le.getMediaType(),we=D[Me];return we||(we=S(le),D[Me]=we),we}(le);if(0===ge.state)return Me;var ce=I[Oe];if(!ce||(Me.reason.state=ge.state,Me.reason.throughput=W,Me.reason.latency=Q,isNaN(W)))return Me;switch(ge.state){case 1:if(J=be.getQualityForBitrate(Pe,Z,Ae.id,Q),Me.quality=J,Me.reason.throughput=Z,ge.lastQuality=J,!isNaN(ge.lastSegmentDurationS)&&$>=ce.B_target){ge.state=2,ce.Q=_e;for(var Ce=0;Ce<ze;++Ce)ce.prev_w[Ce]=Ce===ge.lastQuality?1:0}break;case 2:var Ye=[],Be=V.getCurrentHttpRequest(Oe).trace.reduce(function($t,Qt){return $t+Qt.d},0),$e=V.getCurrentHttpRequest(Oe).trace.reduce(function($t,Qt){return $t+Qt.b[0]},0),Qe=Math.round(8*$e/Be);Qe<1&&(Qe=1);for(var qe=ge.lastSegmentDurationS,ct=1,Ot=0;Ot<ze;++Ot)je[Ot]=je[Ot]/1e3,de*je[Ot]>Qe&&(ct=-1),ce.w[Ot]=ce.prev_w[Ot]+ct*(qe/(2*Le))*((ce.Q+_e)*(de*je[Ot]/Qe));ce.w=function ne(le){for(var Me=le.length,we=!1,_e=[],Le=0;Le<Me;++Le)_e[Le]=le[Le];for(var Pe=le.sort(function(be,K){return K-be}),Oe=0,je=0,ze=[],He=0;He<Me-1;++He)if((je=((Oe+=Pe[He])-1)/(He+1))>=Pe[He+1]){we=!0;break}we||(je=(Oe+Pe[Me-1]-1)/Me);for(var Ae=0;Ae<Me;++Ae)ze[Ae]=Math.max(_e[Ae]-je,0);return ze}(ce.w);for(var _t=0;_t<ze;++_t)Ye[_t]=ce.w[_t]-ce.prev_w[_t],ce.prev_w[_t]=ce.w[_t];ce.Q=Math.max(0,ce.Q-qe+qe*de*((me(je,ce.prev_w)+me(je,Ye))/Qe));for(var Rt=[],Gt=0;Gt<ze;++Gt)Rt[Gt]=Math.abs(je[Gt]-me(ce.w,je));(J=Rt.indexOf(Math.min.apply(Math,Rt)))>ge.lastQuality&&je[ge.lastQuality+1]<=Qe&&(J=ge.lastQuality+1),je[J]>=Qe&&(ce.Q=2*Math.max(_e,ce.Q)),Me.quality=J,Me.reason.throughput=W,Me.reason.latency=Q,Me.reason.bufferLevel=$,ge.lastQuality=Me.quality;break;default:T.debug("L2A ABR rule invoked in bad state."),Me.quality=be.getQualityForBitrate(Pe,Z,Ae.id,Q),Me.reason.state=ge.state,Me.reason.throughput=Z,Me.reason.latency=Q,ge.state=1,Y(ge)}return Me},reset:function Ie(){Se(),k.off(L.default.PLAYBACK_SEEKING,se,R),k.off(L.default.MEDIA_FRAGMENT_LOADED,Re,R),k.off(L.default.METRIC_ADDED,z,R),k.off(L.default.QUALITY_CHANGE_REQUESTED,H,R)}},function N(){T=Object(x.default)(P).getInstance().getLogger(R),Se(),k.on(L.default.PLAYBACK_SEEKING,se,R),k.on(L.default.MEDIA_FRAGMENT_LOADED,Re,R),k.on(L.default.METRIC_ADDED,z,R),k.on(L.default.QUALITY_CHANGE_REQUESTED,H,R)}(),R}A.__dashjs_factory_name="L2ARule",C.default=O.default.getClassFactory(A)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function b(){var L,x,F=this.context;return L={getMaxIndex:function y(A){for(var U=A?A.getSwitchHistory():null,P=U?U.getSwitchRequests():[],V=0,k=0,R=0,D=Object(O.default)(F).create(),I=0;I<P.length;I++)if(void 0!==P[I]&&(R+=P[I].dropSize,(V+=P[I].drops)+(k+=P[I].noDrops)>=6&&V/k>.075)){D.quality=I>0&&P[I].drops>0?I-1:I,D.reason={index:D.quality,drops:V,noDrops:k,dropSize:R},x.debug("Switch history rule index: "+D.quality+" samples: "+(V+k)+" drops: "+V);break}return D}},function p(){x=Object(E.default)(F).getInstance().getLogger(L)}(),L}b.__dashjs_factory_name="SwitchHistoryRule",C.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),O=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function F(L){var x=this.context,g=(L=L||{}).dashMetrics;return{getMaxIndex:function A(P){var V=Object(E.default)(x).create();if(!(P&&P.hasOwnProperty("getMediaInfo")&&P.hasOwnProperty("getMediaType")&&P.hasOwnProperty("useBufferOccupancyABR")&&P.hasOwnProperty("getAbrController")&&P.hasOwnProperty("getScheduleController")))return V;!function y(){if(!g||!g.hasOwnProperty("getCurrentBufferState"))throw new Error(O.default.MISSING_CONFIG_ERROR)}();var k=P.getMediaInfo(),R=P.getMediaType(),D=g.getCurrentBufferState(R),I=P.getScheduleController(),T=P.getAbrController(),N=P.getStreamInfo(),S=N?N.id:null,B=N&&N.manifestInfo?N.manifestInfo.isDynamic:null,Y=T.getThroughputHistory(),re=Y.getSafeAverageThroughput(R,B),se=Y.getAverageLatency(R),Re=P.useBufferOccupancyABR();return isNaN(re)||!D||Re||T.getAbandonmentStateFor(S,R)!==b.default.ABANDON_LOAD&&(D.state===b.default.BUFFER_LOADED||B)&&(V.quality=T.getQualityForBitrate(k,re,S,se),I.setTimeToLoadDelay(0),V.reason={throughput:re,latency:se}),V},reset:function U(){}}}F.__dashjs_factory_name="ThroughputRule",C.default=t.default.getClassFactory(F)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),O_MANUAL="manual_weight_selection",O_RANDOM="random_weight_selection",O_DYNAMIC="dynamic_weight_selection";function b(){var L,x,g,h,p,y,A,U,P,F=this.context;function R(){g=null,h=1,p=100,y=0,A=null,U=null,P=O_DYNAMIC}function D(){var ue=0;if(g)for(var Se=0;Se<g.length;Se++){var Ie=g[Se];Ie.state.throughput>ue&&(ue=Ie.state.throughput)}return ue}function T(ue,Se,Ie){var le=ue.map(function(we,_e){return Ie[_e]*Math.pow(we-Se[_e],2)}).reduce(function(we,_e){return we+_e});return(le<0?-1:1)*Math.sqrt(Math.abs(le))}function N(ue,Se){return T([ue.state.throughput,ue.state.latency,ue.state.rebuffer,ue.state.switch],[Se.state.throughput,Se.state.latency,Se.state.rebuffer,Se.state.switch],[1,1,1,1])}function S(ue,Se,Ie){for(var le=0;le<Se.length;le++){var Me=Se[le],_e=N(Me,ue);B(Me,Ie,Math.exp(-1*Math.pow(_e,2)/(2*Math.pow(.1,2))))}}function B(ue,Se,Ie){var le=ue.state,Me=[.01,.01,.01,.01];le.throughput=le.throughput+(Se[0]-le.throughput)*Me[0]*Ie,le.latency=le.latency+(Se[1]-le.latency)*Me[1]*Ie,le.rebuffer=le.rebuffer+(Se[2]-le.rebuffer)*Me[2]*Ie,le.switch=le.switch+(Se[3]-le.switch)*Me[3]*Ie}return L={getNextQuality:function re(ue,Se,Ie,le,Me,we,_e){var Le=Ie,Pe=le,Oe=Se,je=function H(ue){if(!g){g=[];var Se=ue.bitrateList,Ie=[];y=Se[0].bandwidth,Se.forEach(function(we){Ie.push(we.bandwidth),we.bandwidth<y&&(y=we.bandwidth)}),h=function I(ue){var Se=ue.map(function(Ie){return Math.pow(Ie,2)}).reduce(function(Ie,le){return Ie+le});return Math.sqrt(Se)}(Ie);for(var le=0;le<Se.length;le++)g.push({qualityIndex:le,bitrate:Se[le].bandwidth,state:{throughput:Se[le].bandwidth/h,latency:0,rebuffer:0,switch:0}});U=function ne(ue){var Se=[],Ie=function me(ue){for(var Se=[],Ie=0;Ie<ue;Ie++){var le=[Math.random()*D(),Math.random(),Math.random(),Math.random()];Se.push(le)}return Se}(Math.pow(ue.length,2));Se.push(Ie[0]);for(var le=[1,1,1,1],Me=1;Me<ue.length;Me++){for(var we=null,_e=null,Le=0;Le<Ie.length;Le++){for(var Pe=Ie[Le],Oe=null,je=0;je<Se.length;je++){var ze=T(Pe,Se[je],le);(null===Oe||ze<Oe)&&(Oe=ze)}(null===_e||Oe>_e)&&(we=Pe,_e=Oe)}Se.push(we)}for(var He=null,Ae=null,be=0;be<Se.length;be++){for(var K=0,ie=0;ie<Se.length;ie++)be!==ie&&(K+=T(Se[be],Se[ie],le));(null===He||K>He)&&(He=K,Ae=be)}var he=[];for(he.push(Se[Ae]),Se.splice(Ae,1);Se.length>0;){for(var $=null,Z=null,W=0;W<Se.length;W++){var X=T(he[0],Se[W],le);(null===$||X<$)&&($=X,Z=W)}he.push(Se[Z]),Se.splice(Z,1)}return he}(g)}return g}(ue),ze=Se/h;ze>1&&(ze=D()),Ie/=p,x.debug("getNextQuality called throughput:".concat(ze," latency:").concat(Ie," bufferSize:").concat(le," currentQualityIndex:").concat(we," playbackRate:").concat(Me));var ie=je[we],he=ie.bitrate*_e.getSegmentDuration()/Oe,$=Math.max(0,he-Pe);if(Pe-he<_e.getMinBuffer())return x.debug("Buffer is low for bitrate= ".concat(ie.bitrate," downloadTime=").concat(he," currentBuffer=").concat(Pe," rebuffer=").concat($)),function Y(ue,Se){var Ie=0,le=ue;if(g)for(var Me=0;Me<g.length;Me++){var we=g[Me];we.bitrate<ue.bitrate&&we.bitrate>Ie&&Se>we.bitrate&&(Ie=we.bitrate,le=we)}return le}(ie,Oe).qualityIndex;switch(P){case O_MANUAL:!function se(){A=[.4,.4,.4,.4]}();break;case O_RANDOM:!function Re(ue){A=function oe(ue,Se){for(var Ie=[],le=Math.sqrt(2/ue),Me=0;Me<Se;Me++)Ie.push(Math.random()*le);return A=Ie}(ue.length,4)}(je);break;default:!function z(ue,Se,Ie,le,Me,we,_e){A||(A=U[U.length-1]);var Le=ue.findWeightVector(Se,Ie,le,Me,we,_e);null!==Le&&-1!==Le&&(A=Le)}(_e,je,Le,Pe,$,Oe,Me)}for(var Z=null,W=null,X=null,Q=0;Q<je.length;Q++){var q=je[Q],J=q.state,de=[J.throughput,J.latency,J.rebuffer,J.switch],ge=A.slice(),ce=_e.getNextBufferWithBitrate(q.bitrate,Pe,Oe),Ce=ce<_e.getMinBuffer();Ce&&x.debug("Buffer is low for bitrate=".concat(q.bitrate," downloadTime=").concat(he," currentBuffer=").concat(Pe," nextBuffer=").concat(ce)),(q.bitrate>Se-1e4||Ce)&&q.bitrate!==y&&(ge[0]=100);var Ye=T(de,[ze,0,0,0],ge);(null===Z||Ye<Z)&&(Z=Ye,W=q.qualityIndex,X=q)}var Be=Math.abs(ie.bitrate-X.bitrate)/h;return S(ie,je,[ze,Ie,$,Be]),S(X,je,[ze,0,0,Be]),W},reset:function k(){R()}},function V(){x=Object(E.default)(F).getInstance().getLogger(L),R()}(),L}b.__dashjs_factory_name="LearningAbrController",C.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function O(){var b,F,L,x,g;function p(){F=null,L=null,x=null,g=null}function A(D,I,T,N){var S=new E.default;return S.type=D,S.weights.bitrateReward=I||1,S.weights.bitrateSwitchPenalty=1,S.weights.rebufferPenalty=T||1e3,S.weights.latencyPenalty=[],S.weights.latencyPenalty.push({threshold:1.1,penalty:.05*N}),S.weights.latencyPenalty.push({threshold:1e8,penalty:.1*T}),S.weights.playbackSpeedPenalty=N||200,S}function P(D,I,T,N,S){S.bitrateWSum+=S.weights.bitrateReward*D,S.lastBitrate&&(S.bitrateSwitchWSum+=S.weights.bitrateSwitchPenalty*Math.abs(D-S.lastBitrate)),S.lastBitrate=D,S.rebufferWSum+=S.weights.rebufferPenalty*I;for(var B=0;B<S.weights.latencyPenalty.length;B++){var Y=S.weights.latencyPenalty[B];if(T<=Y.threshold){S.latencyWSum+=Y.penalty*T;break}}S.playbackSpeedWSum+=S.weights.playbackSpeedPenalty*Math.abs(1-N),S.totalQoe=S.bitrateWSum-S.bitrateSwitchWSum-S.rebufferWSum-S.latencyWSum-S.playbackSpeedWSum}return b={setupPerSegmentQoe:function y(D,I,T){F=A("segment",D,I,T),L=D,x=I,g=T},logSegmentMetrics:function U(D,I,T,N){F&&P(D,I,T,N,F)},getPerSegmentQoe:function V(){return F},calculateSingleUseQoe:function k(D,I,T,N){var S=null;return L&&x&&g&&(S=A("segment",L,x,g)),S?(P(D,I,T,N,S),S.totalQoe):0},reset:function R(){p()}},function h(){p()}(),b}O.__dashjs_factory_name="LoLpQoeEvaluator",C.default=t.default.getClassFactory(O)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),b=c(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),F=c(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),x=c(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),g=c(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function y(A){var V,k,R,D,U=(A=A||{}).dashMetrics,P=this.context;return k={getMaxIndex:function T(B){try{var Y=Object(F.default)(P).create(),re=B.getMediaInfo().type,se=B.getAbrController(),Re=B.getStreamInfo(),z=se.getQualityFor(re,Re.id),oe=B.getMediaInfo(),H=U.getCurrentBufferState(re),me=B.getScheduleController(),ne=U.getCurrentBufferLevel(re,!0),ue=Re&&Re.manifestInfo?Re.manifestInfo.isDynamic:null,Se=me.getPlaybackController(),Ie=Se.getCurrentLiveLatency();if(!B.useLoLPABR()||re===g.default.AUDIO)return Y;Ie||(Ie=0);var le=Se.getPlaybackRate(),we=se.getThroughputHistory().getSafeAverageThroughput(re,ue);if(V.debug("Throughput ".concat(Math.round(we)," kbps")),isNaN(we)||!H||se.getAbandonmentStateFor(Re.id,re)===L.default.ABANDON_LOAD)return Y;for(var _e=oe.bitrateList,Le=B.getRepresentationInfo().fragmentDuration,Pe=_e[0].bandwidth/1e3,Oe=_e[_e.length-1].bandwidth/1e3,je=0;je<_e.length;je++){var ze=_e[je].bandwidth/1e3;ze>Oe?Oe=ze:ze<Pe&&(Pe=ze)}var Ae=_e[z].bandwidth/1e3,be=U.getCurrentHttpRequest(re,!0),K=(be.tresponse.getTime()-be.trequest.getTime())/1e3,ie=K>Le?K-Le:0;D.setupPerSegmentQoe(Le,Oe,Pe),D.logSegmentMetrics(Ae,ie,Ie,le);var he=Object(x.default)(P).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Le,qoeEvaluator:D});return Y.quality=R.getNextQuality(oe,1e3*we,Ie,ne,le,z,he),Y.reason={throughput:we,latency:Ie},Y.priority=F.default.PRIORITY.STRONG,me.setTimeToLoadDelay(0),Y.quality!==z&&console.log("[TgcLearningRule]["+re+"] requesting switch to index: ",Y.quality,"Average throughput",Math.round(we),"kbps"),Y}catch($){throw $}},reset:function S(){!function N(){R.reset(),D.reset()}()}},function I(){V=Object(t.default)(P).getInstance().getLogger(k),R=Object(O.default)(P).create(),D=Object(b.default)(P).create()}(),k}y.__dashjs_factory_name="LoLPRule",C.default=E.default.getClassFactory(y)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(O){var g,y,A,b=O.targetLatency,F=O.bufferMin,L=O.segmentDuration,x=O.qoeEvaluator;function I(){return L}function N(S,B){var Y=I();return B>Y?S-Y:S+Y-B}return g={getMinBuffer:function D(){return F},getSegmentDuration:I,getNextBufferWithBitrate:function T(S,B,Y){return N(B,S*L/Y)},getNextBuffer:N,findWeightVector:function V(S,B,Y,re,se,Re){var z=null,oe=null,H=null,me=Math.abs(B-A);return S.forEach(function(ne){y.forEach(function(ue){var Se_latency=ue[1],Se_buffer=ue[2],Ie=ne.bitrate*L/se,le=N(Y,Ie),Me=Math.max(1e-5,Ie-le),Pe=x.calculateSingleUseQoe(ne.bitrate,(0===Se_buffer?10:1/Se_buffer)*Me,(0===Se_latency?10:1/Se_latency)*ne.state.latency,Re);(null===z||Pe>z)&&function k(S,B,Y){return!(S>b+Y)&&B>=F}(B,le,me)&&(z=Pe,oe=ue,H=ne.bitrate)})}),null===oe&&null===H&&(oe=-1),A=B,oe}},function U(){!function P(){y=function R(S,B){return function se(Re,z,oe){if(oe===z)return Re;for(var H=Re.length,me=0;me<H;me++)for(var ne=Re.shift(),ue=0;ue<S.length;ue++)Re.push(ne.concat(S[ue]));return se(Re,z,oe+1)}(S.map(function(se){return[se]}),B,1)}([.2,.4,.6,.8,1],4),A=0}()}(),g}E.__dashjs_factory_name="LoLpWeightSelector",C.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var O=0;function F(A){for(var U="",P=0;P<A.length;++P)U+=A[P].uchar;return U.length-U.replace(/^\s+/,"").length}function L(A){return"left: "+3.125*A.x+"%; top: "+6.66*A.y1+"%; width: "+(100-3.125*A.x)+"%; height: "+6.66*Math.max(A.y2-1-A.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function x(A){return"red"===A?"rgb(255, 0, 0)":"green"===A?"rgb(0, 255, 0)":"blue"===A?"rgb(0, 0, 255)":"cyan"===A?"rgb(0, 255, 255)":"magenta"===A?"rgb(255, 0, 255)":"yellow"===A?"rgb(255, 255, 0)":"white"===A?"rgb(255, 255, 255)":"black"===A?"rgb(0, 0, 0)":A}function g(A,U){var P=A.videoHeight/15;return U?"font-size: "+P+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(U.foreground?x(U.foreground):"rgb(255, 255, 255)")+"; font-style: "+(U.italics?"italic":"normal")+"; text-decoration: "+(U.underline?"underline":"none")+"; white-space: pre; background-color: "+(U.background?x(U.background):"transparent")+";":"font-size: "+P+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function h(A){return A.replace(/^\s+/g,"")}function p(A){return A.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function y(A,U,P,V){var re,se,k=null,D=!1,I=-1,T={start:U,end:P,spans:[]},N="style_cea608_white_black",S={},B={},Y=[];for(re=0;re<15;++re){var Re=V.rows[re],z="",oe=null;if(!1===Re.isEmpty()){var H=F(Re.chars);null===k&&(k={x:H,y1:re,y2:re+1,p:[]}),H!==I&&D&&(k.p.push(T),T={start:U,end:P,spans:[]},k.y2=re,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k={x:H,y1:re,y2:re+1,p:[]});for(var me=0;me<Re.chars.length;++me){var ne=Re.chars[me],ue=ne.penState;if(null===oe||!ue.equals(oe)){z.trim().length>0&&(T.spans.push({name:N,line:z,row:re}),z="");var Se="style_cea608_"+ue.foreground+"_"+ue.background;ue.underline&&(Se+="_underline"),ue.italics&&(Se+="_italics"),B.hasOwnProperty(Se)||(B[Se]=JSON.parse(JSON.stringify(ue))),oe=ue,N=Se}z+=ne.uchar}z.trim().length>0&&T.spans.push({name:N,line:z,row:re}),D=!0,I=H}else D=!1,I=-1,k&&(k.p.push(T),T={start:U,end:P,spans:[]},k.y2=re,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k=null)}k&&(k.p.push(T),k.y2=re+1,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k=null);var Ie=[];for(re=0;re<Y.length;++re){var le=Y[re],Me="sub_cea608_"+O++,we=document.createElement("div");we.id=Me;var _e=L(le);we.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+_e;var Le=document.createElement("div");Le.className="paragraph bodyStyle",Le.style.cssText=g(A);var Pe=document.createElement("div");Pe.className="cueUniWrapper",Pe.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Oe=0;Oe<le.p.length;++Oe){var je=le.p[Oe],ze=0;for(se=0;se<je.spans.length;++se){var He=je.spans[se];if(He.line.length>0){if(0!==se&&ze!=He.row){var Ae=document.createElement("br");Ae.className="lineBreak",Pe.appendChild(Ae)}var be=!1;ze===He.row&&(be=!0),ze=He.row;var K=B[He.name],ie=document.createElement("span");ie.className="spanPadding "+He.name+" customSpanColor",ie.style.cssText=g(A,K),ie.textContent=0!==se&&be?se===je.spans.length-1?p(He.line):He.line:je.spans.length>1&&se<je.spans.length-1&&He.row===je.spans[se+1].row?h(He.line):He.line.trim(),Pe.appendChild(ie)}}}Le.appendChild(Pe),we.appendChild(Le);var he={bodyStyle:["%",90]};for(var $ in B)B.hasOwnProperty($)&&(he[$]=["%",90]);Ie.push({type:"html",start:U,end:P,cueHTMLElement:we,cueID:Me,cellResolution:[32,15],isFromCEA608:!0,fontSize:he,lineHeight:{},linePadding:{}})}return Ie}}}E.__dashjs_factory_name="EmbeddedTextHtmlRender",C.default=t.default.getSingletonFactory(E)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),F=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),L=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),x=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),g="NotFragmentedTextBufferController";function h(p){p=p||{};var R,D,I,T,N,S,y=this.context,A=Object(t.default)(y).getInstance(),U=p.textController,P=p.errHandler,V=p.streamInfo,k=p.type;function H(W){T=W}function Ie(W){D!==W&&(D=W)&&function Z(W,X){A.trigger(W,X||{},{streamId:V.id,mediaType:k})}(E.default.BUFFERING_COMPLETED)}function we(W){!W.chunk.bytes||D||(S.save(W.chunk),N.append(W.chunk),Ie(!0))}return R={initialize:function re(W){H(W)},getStreamId:function Re(){return V.id},getType:function z(){return k},getBufferControllerType:function Y(){return g},createBufferSink:function se(W){return new Promise(function(X,Q){try{(N=Object(F.default)(y).create({mediaSource:T,textController:U,eventBus:A})).initializeForFirstUse(V,W),I||(N.getBuffer()&&"function"==typeof N.getBuffer().initialize&&N.getBuffer().initialize(),I=!0),X(N)}catch(q){P.error(new L.default(x.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,x.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+k)),Q(q)}})},getBuffer:function oe(){return N},getBufferLevel:function ue(){return 0},getRangeAt:function _e(){return null},pruneBuffer:function ze(){},hasBufferAtTime:function Le(){return!0},getAllRangesWithSafetyFactor:function Pe(){return[]},getContinuousBufferTimeForTargetTime:function Oe(){return Number.POSITIVE_INFINITY},setMediaSource:H,getMediaSource:function me(){return T},appendInitSegmentFromCache:function Me(W){return null!==S.extract(V.id,W)},getIsBufferingCompleted:function Se(){return D},setIsBufferingCompleted:Ie,getIsPruningInProgress:function ne(){return!1},reset:function le(W){A.off(E.default.INIT_FRAGMENT_LOADED,we,R),!W&&N&&(N.abort(),N.reset(),N=null)},clearBuffers:function je(){return Promise.resolve()},prepareForPlaybackSeek:function Ae(){return Promise.resolve()},prepareForReplacementTrackSwitch:function be(){return D=!1,Promise.resolve()},setSeekTarget:function ie(){},updateAppendWindow:function K(){return Promise.resolve()},pruneAllSafely:function $(){return Promise.resolve()},updateBufferTimestampOffset:function He(){return Promise.resolve()},segmentRequestingCompleted:function he(){}},function B(){I=!1,T=null,D=!1,S=Object(b.default)(y).getInstance(),A.on(E.default.INIT_FRAGMENT_LOADED,we,R)}(),R}h.__dashjs_factory_name=g,C.default=O.default.getClassFactory(h)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),O=c(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),b=c(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),F=c(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),L=c(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),x=c(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),g=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),h=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),y=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function A(U){var N,S,B,Y,re,se,Re,z,oe,H,me,ne,P=this.context,V=U.adapter,k=U.errHandler,R=U.manifestModel,D=U.mediaController,I=U.videoModel,T=U.settings;function Pe(X){var Q=X.tracks,q=X.index,J=X.streamId;if(!1===T.get().streaming.text.defaultEnabled&&!He()||ne)be(J,-1);else{var ge=D.getCurrentTrackFor(t.default.TEXT,J);if(ge){var ce={lang:ge.lang,role:ge.roles[0],index:ge.index,codec:ge.codec,accessibility:ge.accessibility[0]};Q.some(function(Ce,Ye){if(D.matchSettings(ce,Ce))return be(J,Ye),q=Ye,!0})}oe=!1}S[J].lastEnabledIndex=q,z.trigger(p.default.TEXT_TRACKS_ADDED,{enabled:He(),index:q,tracks:Q,streamId:J}),me=!0}function Oe(X){try{var Q=X.streamId;if(!Y[Q]||isNaN(X.time))return;Y[Q].manualCueProcessing(X.time)}catch{}}function je(X){try{var Q=X.streamId;if(!Y[Q])return;Y[Q].disableManualTracks()}catch{}}function He(){var X=!0;return oe&&!H&&(X=!1),X}function be(X,Q){(oe=-1===Q)&&D&&D.saveTextSettingsDisabled();var q=he(X);if(q!==Q&&Y[X]){Y[X].disableManualTracks(),Y[X].setModeForTrackIdx(q,t.default.TEXT_HIDDEN),Y[X].setCurrentTrackIdx(Q),Y[X].setModeForTrackIdx(Q,t.default.TEXT_SHOWING);var J=Y[X].getCurrentTrackInfo();J&&J.isFragmented&&!J.isEmbedded?function K(X,Q,q){if(B[X])for(var de=B[X].getConfig().fragmentedTracks,ge=0;ge<de.length;ge++){var ce=de[ge];if(Q.lang===ce.lang&&(ce.id?Q.id===ce.id:Q.index===ce.index)){var Ce=D.getCurrentTrackFor(t.default.TEXT,X);(ce.id?Ce.id!==ce.id:Ce.index!==ce.index)?(Y[X].deleteCuesFromTrackIdx(q),B[X].setCurrentFragmentedTrackIdx(ge)):-1===q&&z.trigger(h.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:X,mediaType:t.default.TEXT})}}}(X,J,q):J&&!J.isFragmented&&function ie(X,Q){z.trigger(h.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:Q},{streamId:X,mediaType:t.default.TEXT})}(X,J),D.setTrack(J)}}function he(X){return Y[X].getCurrentTrackIdx()}function Z(){B={},Y={},S={},oe=!0,me=!1,ne=!1}return N={deactivateStream:function $(X){if(X){var Q=X.id;B[Q]&&B[Q].resetMediaInfos(),Y[Q]&&Y[Q].deleteAllTextTracks()}},initialize:function Se(){z.on(h.default.TEXT_TRACKS_QUEUE_INITIALIZED,Pe,N),T.get().streaming.text.webvtt.customRenderingEnabled&&(z.on(h.default.PLAYBACK_TIME_UPDATED,Oe,N),z.on(h.default.PLAYBACK_SEEKING,je,N))},initializeForStream:function Ie(X){var Q=X.id,q=Object(b.default)(P).create({videoModel:I,settings:T,streamInfo:X});q.initialize(),Y[Q]=q;var J=Object(O.default)(P).create({errHandler:k,adapter:V,manifestModel:R,mediaController:D,videoModel:I,textTracks:q,vttParser:re,vttCustomRenderingParser:se,ttmlParser:Re,streamInfo:X,settings:T});J.initialize(),B[Q]=J,S[Q]={},S[Q].lastEnabledIndex=-1},createTracks:function le(X){var Q=X.id;Y[Q]&&Y[Q].createTracks()},getTextSourceBuffer:function we(X){var Q=X.id;if(B&&B[Q])return B[Q]},getAllTracksAreDisabled:function _e(){return oe},addEmbeddedTrack:function Le(X,Q){var q=X.id;B[q]&&B[q].addEmbeddedTrack(Q)},enableText:function ze(X,Q){Object(y.checkParameterType)(Q,"boolean"),He()!==Q&&(Q&&be(X,S[X].lastEnabledIndex),Q||(S[X].lastEnabledIndex=he(X),me?be(X,-1):ne=!0))},isTextEnabled:He,setTextTrack:be,getCurrentTrackIdx:he,enableForcedTextStreaming:function Ae(X){Object(y.checkParameterType)(X,"boolean"),H=X},addMediaInfosToBuffer:function Me(X,Q,q){var de=X.id;B[de]&&B[de].addMediaInfos(Q,q,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function W(){Z(),z.off(h.default.TEXT_TRACKS_QUEUE_INITIALIZED,Pe,N),T.get().streaming.text.webvtt.customRenderingEnabled&&(z.off(h.default.PLAYBACK_TIME_UPDATED,Oe,N),z.off(h.default.PLAYBACK_SEEKING,je,N)),Object.keys(B).forEach(function(X){B[X].resetEmbedded(),B[X].reset()})}},function ue(){H=!1,me=!1,ne=!1,re=Object(F.default)(P).getInstance(),se=Object(L.default)(P).getInstance(),Re=Object(x.default)(P).getInstance(),z=Object(g.default)(P).getInstance(),Z()}(),N}A.__dashjs_factory_name="TextController",C.default=E.default.getClassFactory(A)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),O=c(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),b=c(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),F=c(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),x=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=c(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),h=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),p=c.n(h),y=c(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),A=c.n(y),U=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),V=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function R(D){var ne,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,je,ze,He,Ae,be,I=D.errHandler,T=D.manifestModel,N=D.mediaController,S=D.videoModel,B=D.textTracks,Y=D.vttParser,re=D.vttCustomRenderingParser,se=D.ttmlParser,Re=D.streamInfo,z=D.settings,oe=this.context,H=Object(U.default)(oe).getInstance(),me=!1;function $(){(function he(){Me=null,_e=NaN,Le=[],Pe=null,we=!1})(),le=[],Ie=null}function X(fe){var pe=new O.default;for(var mt in fe)pe[mt]=fe[mt];pe.labels=fe.labels,pe.defaultTrack=function gn(fe){var pe=!1;return je.length>1&&fe.isEmbedded?pe=fe.id&&fe.id===t.default.CC1:1===je.length?fe.id&&"string"==typeof fe.id&&"CC"===fe.id.substring(0,2)&&(pe=!0):0===je.length&&(pe=fe.index===le[0].index),pe}(fe),pe.isFragmented=fe.isFragmented,pe.isEmbedded=!!fe.isEmbedded,pe.isTTML=function Be(fe){return fe.codec&&fe.codec.search(t.default.STPP)>=0||fe.mimeType&&fe.mimeType.search(t.default.TTML)>=0}(fe),pe.kind=function $e(fe,pe){var at=fe.roles&&fe.roles.length>0?pe[fe.roles[0]]:pe.caption;return at===pe.caption||at===pe.subtitle?at:pe.caption}(fe,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(pe)}function J(fe){var pe=fe.chunk;pe.mediaInfo.embeddedCaptions&&Qe(pe.bytes,pe)}function Ye(fe){Oe=fe}function Qe(fe,pe){var at=pe.mediaInfo,mt=at.type,ut=at.codec||at.mimeType;ut?-1!==at.codec.indexOf("application/mp4")?function qe(fe,pe,at){var mt;if("InitializationSegment"===pe.segmentType)we=!0,_e=Se.getMediaTimescaleFromMoov(fe);else{if(!we)return;(mt=Se.getSamplesInfo(fe).sampleList).length>0&&(Pe=mt[0].cts-pe.start*_e),at.search(t.default.STPP)>=0?function ct(fe,pe,at){var mt,Dt;for(Ie=null!==Ie?Ie:jn(at),mt=0;mt<pe.length;mt++){var ut=pe[mt],bt=ut.cts,Nt=dn(),Zt=Nt+bt/_e;ne.buffered.add(Zt,Zt+ut.duration/_e);var Ht=new DataView(fe,ut.offset,ut.subSizes[0]),en=p.a.Utils.dataViewToString(Ht,t.default.UTF8),tn=[],yn=ut.offset+ut.subSizes[0];for(Dt=1;Dt<ut.subSizes.length;Dt++){var Tn=new Uint8Array(fe,yn,ut.subSizes[Dt]),On=String.fromCharCode.apply(null,Tn);tn.push(On),yn+=ut.subSizes[Dt]}try{var In=T.getValue(),fi=Ie.parse(en,In.ttmlTimeIsRelative?bt/_e:0,bt/_e,(bt+ut.duration)/_e,tn);B.addCaptions(Oe,Nt,fi)}catch(Ft){Me.removeExecutedRequestsBeforeTime(),this.remove(),ue.error("TTML parser error: "+Ft.message)}}}(fe,mt,at):function Ot(fe,pe){var at,mt,Dt,ut=[];for(at=0;at<pe.length;at++){var bt=pe[at];bt.cts-=Pe;var Zt=dn()+bt.cts/_e;ne.buffered.add(Zt,Zt+bt.duration/_e);var Ht=fe.slice(bt.offset,bt.offset+bt.size),en=p.a.parseBuffer(Ht);for(mt=0;mt<en.boxes.length;mt++){var tn=en.boxes[mt];if(ue.debug("VTT box1: "+tn.type),"vtte"!==tn.type&&"vttc"===tn.type)for(ue.debug("VTT vttc boxes.length = "+tn.boxes.length),Dt=0;Dt<tn.boxes.length;Dt++){var yn=tn.boxes[Dt];if(ue.debug("VTT box2: "+yn.type),"payl"===yn.type){var Tn=yn.cue_text;ue.debug("VTT cue_text = "+Tn);var On=bt.cts/_e,In=(bt.cts+bt.duration)/_e;ut.push({start:On,end:In,data:Tn,styles:{}}),ue.debug("VTT "+On+"-"+In+" : "+Tn)}}}}ut.length>0&&B.addCaptions(Oe,0,ut)}(fe,mt)}}(fe,pe,ut):mt===t.default.VIDEO?function Rt(fe,pe){var at,mt;if(pe.segmentType===E.HTTPRequest.INIT_SEGMENT_TYPE)0===ze&&(ze=Se.getMediaTimescaleFromMoov(fe));else if(pe.segmentType===E.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===ze)return void ue.warn("CEA-608: No timescale for embeddedTextTrack yet");var Dt=(mt=Se.getSamplesInfo(fe)).lastSequenceNumber;if(!Ae[0]&&!Ae[1]&&function Gt(){for(var fe,pe=0;pe<je.length;pe++){if(-1===(fe=B.getTrackIdxForId(je[pe].id)))return void ue.warn("CEA-608: data before track is ready.");var at=$t(fe);Ae[pe]=new A.a.Cea608Parser(pe+1,{newCue:at},null)}}(),ze){if(null!==He&&Dt!==He+mt.numSequences)for(at=0;at<Ae.length;at++)Ae[at]&&Ae[at].reset();for(var ut=function Qt(fe,pe){if(0===pe.length)return null;for(var at={splits:[],fields:[[],[]]},mt=new DataView(fe),Dt=0;Dt<pe.length;Dt++)for(var ut=pe[Dt],bt=A.a.findCea608Nalus(mt,ut.offset,ut.size),Nt=null,Zt=0,wt=0;wt<bt.length;wt++)for(var Ht=A.a.extractCea608DataFromRange(mt,bt[wt]),en=0;en<2;en++)if(Ht[en].length>0){ut.cts!==Nt?Zt=0:Zt+=1;var tn=dn();at.fields[en].push([ut.cts+tn*ze,Ht[en],Zt]),Nt=ut.cts}return at.fields.forEach(function(Tn){Tn.sort(function(On,In){return On[0]===In[0]?On[2]-In[2]:On[0]-In[0]})}),at}(fe,mt.sampleList),bt=0;bt<Ae.length;bt++){var Nt=ut.fields[bt],Zt=Ae[bt];if(Zt)for(at=0;at<Nt.length;at++)Zt.addData(Nt[at][0]/ze,Nt[at][1])}He=Dt}}}(fe,pe):function _t(fe,pe,at){var mt,Dt,ut=new DataView(fe,0,fe.byteLength);Dt=p.a.Utils.dataViewToString(ut,t.default.UTF8);try{mt=jn(at).parse(Dt,0),B.addCaptions(B.getCurrentTrackIdx(),0,mt),ne.buffered&&ne.buffered.add(pe.start,pe.end)}catch(bt){I.error(new V.default(k.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,k.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+bt.message,Dt))}}(fe,pe,ut):ue.error("No text type defined")}function $t(fe){return function pe(at,mt,Dt){var ut;(ut=S.getTTMLRenderingDiv()?be.createHTMLCaptionsFromScreen(S.getElement(),at,mt,Dt):[{start:at,end:mt,data:Dt.getDisplayText(),styles:{}}])&&B.addCaptions(fe,0,ut)}}function dn(){return isNaN(ne.timestampOffset)?0:ne.timestampOffset}function jn(fe){var pe;return fe.search(t.default.VTT)>=0?pe=z.get().streaming.text.webvtt.customRenderingEnabled&&re?re:Y:(fe.search(t.default.TTML)>=0||fe.search(t.default.STPP)>=0)&&(pe=se),pe}function dt(fe){je.forEach(function(pe){var at=B.getTrackIdxForId(pe.id);at>=0&&B.deleteCuesFromTrackIdx(at,fe.from,fe.to)})}return ne={initialize:function Z(){me||function de(){je=[],Oe=null,ze=0,Ae=[],He=null,me=!0,be=Object(g.default)(oe).getInstance(),H.on(P.default.VIDEO_CHUNK_RECEIVED,J,ne),H.on(P.default.BUFFER_CLEARED,dt,ne)}()},addMediaInfos:function W(fe,pe,at){if(le=le.concat(pe),fe===t.default.TEXT&&pe[0].isFragmented&&!pe[0].isEmbedded){Me=at,ne.buffered=Object(F.default)(oe).create(),Le=N.getTracksFor(t.default.TEXT,Re.id).filter(function(bt){return bt.isFragmented});for(var mt=N.getCurrentTrackFor(t.default.TEXT,Re.id),Dt=0;Dt<Le.length;Dt++)if(Le[Dt]===mt){Ye(Dt);break}}for(var ut=0;ut<pe.length;ut++)X(pe[ut])},resetMediaInfos:function xe(){le=[]},getStreamId:function ie(){return Re.id},append:Qe,abort:function Q(){},addEmbeddedTrack:function ce(fe){if(me&&fe)if(fe.id===t.default.CC1||fe.id===t.default.CC3){for(var pe=0;pe<je.length;pe++)if(je[pe].id===fe.id)return;je.push(fe)}else ue.warn("Embedded track "+fe.id+" not supported!")},resetEmbedded:function ge(){H.off(P.default.VIDEO_CHUNK_RECEIVED,J,ne),H.off(P.default.BUFFER_CLEARED,dt,ne),B&&B.deleteAllTextTracks(),me=!1,je=[],Ae=[null,null],He=null},getConfig:function Ce(){return{fragmentModel:Me,fragmentedTracks:Le,videoModel:S}},setCurrentFragmentedTrackIdx:Ye,remove:function ot(fe,pe){void 0===fe&&fe===pe&&(fe=ne.buffered.start(0),pe=ne.buffered.end(ne.buffered.length-1)),ne.buffered.remove(fe,pe),B.deleteCuesFromTrackIdx(Oe,fe,pe)},reset:function q(){$(),le=[],Se=null}},function K(){ue=Object(x.default)(oe).getInstance().getLogger(ne),Se=Object(b.default)(oe).getInstance(),$()}(),ne}R.__dashjs_factory_name="TextSourceBuffer",C.default=L.default.getClassFactory(R)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),x=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function h(U,P){var V=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!V){if(Array.isArray(U)||(V=function p(U,P){if(U){if("string"==typeof U)return y(U,P);var V=Object.prototype.toString.call(U).slice(8,-1);if("Object"===V&&U.constructor&&(V=U.constructor.name),"Map"===V||"Set"===V)return Array.from(U);if("Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return y(U,P)}}(U))||P&&U&&"number"==typeof U.length){V&&(U=V);var k=0,R=function(){};return{s:R,n:function(){return k>=U.length?{done:!0}:{done:!1,value:U[k++]}},e:function(S){throw S},f:R}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,D=!0,I=!1;return{s:function(){V=V.call(U)},n:function(){var S=V.next();return D=S.done,S},e:function(S){I=!0,T=S},f:function(){try{!D&&null!=V.return&&V.return()}finally{if(I)throw T}}}}function y(U,P){(null==P||P>U.length)&&(P=U.length);for(var V=0,k=new Array(P);V<P;V++)k[V]=U[V];return k}function A(U){var I,T,N,S,B,Y,re,se,Re,z,oe,H,me,ne,ue,Se,Ie,le,P=this.context,V=Object(E.default)(P).getInstance(),k=U.videoModel,R=U.streamInfo,D=U.settings;function Le(_t){return k.addTextTrack(_t.kind,void 0!==_t.id?_t.id:_t.lang,_t.lang,_t.isTTML,_t.isEmbedded)}function je(_t,Rt,Gt,$t,Qt,dn){var ot=0,dt=0;_t/Rt>Gt/$t?ot=(dt=Rt)/$t*Gt:dt=(ot=_t)/Gt*$t;var xe,fe,pe=0,at=0;return ot/dt>Qt?(at=dt,pe=dt*Qt):(pe=ot,at=ot/Qt),xe=(_t-pe)/2,fe=(Rt-at)/2,dn?{x:xe+.1*pe,y:fe+.1*at,w:.8*pe,h:.8*at}:{x:xe,y:fe,w:pe,h:at}}function ze(_t,Rt){var Gt=k.getClientWidth(),$t=k.getClientHeight(),Qt=k.getVideoWidth(),dn=k.getVideoHeight(),gn=k.getVideoRelativeOffsetTop(),jn=k.getVideoRelativeOffsetLeft();if(0!==Qt&&0!==dn){var ot=Qt/dn,dt=!1;_t.isFromCEA608&&(ot=3.5/3,dt=!0);var xe=je.call(this,Gt,$t,Qt,dn,ot,dt),fe=xe.w,pe=xe.h,at=xe.x,mt=xe.y;if(fe!=Re||pe!=z||at!=re||mt!=se||Rt){if(re=at+jn,se=mt+gn,Re=fe,z=pe,oe){var Dt=oe.style;Dt&&(Dt.left=re+"px",Dt.top=se+"px",Dt.width=Re+"px",Dt.height=z+"px",Dt.zIndex=ne&&document[ne]||ue?Ie:null,V.trigger(b.default.CAPTION_CONTAINER_RESIZE))}var ut=_t.activeCues;if(ut)for(var bt=ut.length,Nt=0;Nt<bt;++Nt){var Zt=ut[Nt];Zt.scaleCue(Zt)}}}}function He(_t){var $t,Qt,dn,gn,jn;if(_t.cellResolution){var ot=[Re/_t.cellResolution[0],z/_t.cellResolution[1]];if(_t.linePadding)for($t in _t.linePadding)if(_t.linePadding.hasOwnProperty($t)){Qt=(_t.linePadding[$t]*ot[0]).toString();for(var xe=document.getElementsByClassName("spanPadding"),fe=0;fe<xe.length;fe++)xe[fe].style.cssText=xe[fe].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt),xe[fe].style.cssText=xe[fe].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt)}if(_t.fontSize){for($t in _t.fontSize)if(_t.fontSize.hasOwnProperty($t)){"%"===_t.fontSize[$t][0]?dn=_t.fontSize[$t][1]/100:"c"===_t.fontSize[$t][0]&&(dn=_t.fontSize[$t][1]),Qt=(dn*ot[1]).toString(),jn="defaultFontSize"!==$t?document.getElementsByClassName($t):document.getElementsByClassName("paragraph");for(var pe=0;pe<jn.length;pe++)jn[pe].style.cssText=jn[pe].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt)}if(_t.lineHeight)for($t in _t.lineHeight)if(_t.lineHeight.hasOwnProperty($t)){"%"===_t.lineHeight[$t][0]?gn=_t.lineHeight[$t][1]/100:"c"===_t.fontSize[$t][0]&&(gn=_t.lineHeight[$t][1]),Qt=(gn*ot[1]).toString(),jn=document.getElementsByClassName($t);for(var at=0;at<jn.length;at++)jn[at].style.cssText=jn[at].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Qt)}}}if(_t.isd){var mt=document.getElementById(_t.cueID);mt&&oe.removeChild(mt),Ae(_t)}}function Ae(_t){if(oe){var Rt=document.createElement("div");oe.appendChild(Rt),Se=Object(x.renderHTML)(_t.isd,Rt,function(Gt){var $t=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Qt=/^#(.*)$/;if($t.test(Gt)){var dn=$t.exec(Gt),gn=parseInt(dn[4],10)-1;return"data:image/png;base64,"+btoa(_t.images[gn])}if(Qt.test(Gt)){var dt=Qt.exec(Gt);return"data:image/png;base64,"+_t.embeddedImages[dt[1]]}return null},oe.clientHeight,oe.clientWidth,!1,function(Gt){T.info("renderCaption :",Gt)},Se,!0),Rt.id=_t.cueID,V.trigger(b.default.CAPTION_RENDERED,{captionDiv:Rt,currentTrackIdx:Y})}}function be(_t,Rt,Gt){var $t=W(_t);if($t&&Array.isArray(Gt)&&0!==Gt.length)for(var Qt=0;Qt<Gt.length;Qt++){var dn=void 0,gn=Gt[Qt];$t.cellResolution=gn.cellResolution,$t.isFromCEA608=gn.isFromCEA608,!isNaN(gn.start)&&!isNaN(gn.end)&&(dn="html"===gn.type&&oe?K(gn,Rt,$t):gn.data?ie(gn,Rt,$t):null);try{dn?de($t,dn)||(D.get().streaming.text.webvtt.customRenderingEnabled?($t.manualCueList||($t.manualCueList=[]),$t.manualCueList.push(dn)):$t.addCue(dn)):T.error("impossible to display subtitles.")}catch(jn){throw ce($t),$t.addCue(dn),jn}}}function K(_t,Rt,Gt){var $t=this,Qt=new N(_t.start+Rt,_t.end+Rt,"");return Qt.cueHTMLElement=_t.cueHTMLElement,Qt.isd=_t.isd,Qt.images=_t.images,Qt.embeddedImages=_t.embeddedImages,Qt.cueID=_t.cueID,Qt.scaleCue=He.bind($t),Qt.cellResolution=_t.cellResolution,Qt.lineHeight=_t.lineHeight,Qt.linePadding=_t.linePadding,Qt.fontSize=_t.fontSize,oe.style.left=re+"px",oe.style.top=se+"px",oe.style.width=Re+"px",oe.style.height=z+"px",Qt.onenter=function(){Gt.mode===t.default.TEXT_SHOWING&&(this.isd?(Ae(this),T.debug("Cue enter id:"+this.cueID)):(oe.appendChild(this.cueHTMLElement),He.call($t,this),V.trigger(b.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:Y})))},Qt.onexit=function(){if(oe)for(var dn=oe.childNodes,gn=0;gn<dn.length;++gn)dn[gn].id===this.cueID&&(T.debug("Cue exit id:"+dn[gn].id),oe.removeChild(dn[gn]),--gn)},Qt}function ie(_t,Rt,Gt){var $t=new N(_t.start-Rt,_t.end-Rt,_t.data);if($t.cueID="".concat($t.startTime,"_").concat($t.endTime),$t.isActive=!1,_t.styles)try{void 0!==_t.styles.align&&"align"in $t&&($t.align=_t.styles.align),void 0!==_t.styles.line&&"line"in $t&&($t.line=_t.styles.line),void 0!==_t.styles.position&&"position"in $t&&($t.position=_t.styles.position),void 0!==_t.styles.size&&"size"in $t&&($t.size=_t.styles.size)}catch(Qt){T.error(Qt)}return $t.onenter=function(){Gt.mode===t.default.TEXT_SHOWING&&V.trigger(b.default.CAPTION_RENDERED,{currentTrackIdx:Y})},$t}function Z(){var $t,Rt=[],Gt=h(k.getTextTracks());try{for(Gt.s();!($t=Gt.n()).done;){var Qt=$t.value;Qt.manualMode===t.default.TEXT_SHOWING&&Rt.push(Qt)}}catch(dn){Gt.e(dn)}finally{Gt.f()}return Rt}function W(_t){return _t>=0&&S[_t]?k.getTextTrack(S[_t].kind,S[_t].id,S[_t].lang,S[_t].isTTML,S[_t].isEmbedded):null}function q(_t){var Rt=this;if(_t!==Y){var Gt=W(Y=_t);J.call(this,Gt),me&&(clearInterval(me),me=null),Gt&&"html"===Gt.renderingType&&(ze.call(this,Gt,!0),window.ResizeObserver?(le=new window.ResizeObserver(function(){ze.call(Rt,Gt,!0)})).observe(k.getElement()):me=setInterval(ze.bind(this,Gt),500))}}function J(_t){qe.call(this),_t&&"html"===_t.renderingType?$e.call(this):Qe.call(this)}function de(_t,Rt){if(!_t.cues)return!1;for(var Gt=0;Gt<_t.cues.length;Gt++)if(_t.cues[Gt].startTime===Rt.startTime&&_t.cues[Gt].endTime===Rt.endTime)return!0;return!1}function ge(_t,Rt,Gt){var $t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Rt)||($t?_t.startTime:_t.endTime)>=Rt)&&(isNaN(Gt)||($t?_t.endTime:_t.startTime)<=Gt)}function ce(_t,Rt,Gt){var $t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(_t.cues)for(var Qt=_t.cues,gn=Qt.length-1;gn>=0;gn--)ge(Qt[gn],Rt,Gt,$t)&&(Qt[gn].onexit&&Qt[gn].onexit(),_t.removeCue(Qt[gn]))}function $e(){var _t=document.getElementById("native-cue-style");if(!_t){(_t=document.createElement("style")).id="native-cue-style",document.head.appendChild(_t);var Rt=_t.sheet,Gt=k.getElement();try{Gt&&Rt.insertRule(Gt.id?"#"+Gt.id+"::cue {background: transparent}":0!==Gt.classList.length?"."+Gt.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch($t){T.info(""+$t.message)}}}function Qe(){var _t=document.getElementById("native-cue-style");_t&&document.head.removeChild(_t)}function qe(){if(oe)for(;oe.firstChild;)oe.removeChild(oe.firstChild)}return I={initialize:function we(){typeof window>"u"||typeof navigator>"u"||(N=window.VTTCue||window.TextTrackCue,S=[],B=[],Y=-1,re=0,se=0,Re=0,z=0,oe=null,H=null,me=null,ue=!1,Ie=2147483647,Se=null,void 0!==document.fullscreenElement?ne="fullscreenElement":void 0!==document.webkitIsFullScreen?ne="webkitIsFullScreen":document.msFullscreenElement?ne="msFullscreenElement":document.mozFullScreen&&(ne="mozFullScreen"))},getStreamId:function _e(){return R.id},addTextTrack:function Pe(_t){S.push(_t)},addCaptions:be,createTracks:function Oe(){S.sort(function(jn,ot){return jn.index-ot.index}),oe=k.getTTMLRenderingDiv(),H=k.getVttRenderingDiv();for(var _t=-1,Rt=0;Rt<S.length;Rt++){var Gt=Le(S[Rt]);B.push(Gt),S[Rt].defaultTrack&&(Gt.default=!0,_t=Rt);var $t=W(Rt);$t&&($t.mode=t.default.TEXT_SHOWING,$t.renderingType=oe&&(S[Rt].isTTML||S[Rt].isEmbedded)?"html":"default"),be(Rt,0,S[Rt].captionData),V.trigger(b.default.TEXT_TRACK_ADDED)}if(q.call(this,_t),_t>=0){V.on(b.default.PLAYBACK_METADATA_LOADED,function jn(){var ot=W(_t);ot&&"html"===ot.renderingType&&ze.call(this,ot,!0),V.off(b.default.PLAYBACK_METADATA_LOADED,jn,this)},this);for(var dn=0;dn<S.length;dn++){var gn=W(dn);gn&&(gn.mode=dn===_t?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN,gn.manualMode=dn===_t?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN)}}V.trigger(O.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Y,tracks:S,streamId:R.id})},getCurrentTrackIdx:function X(){return Y},setCurrentTrackIdx:q,getTrackIdxForId:function Q(_t){for(var Rt=-1,Gt=0;Gt<S.length;Gt++)if(S[Gt].id===_t){Rt=Gt;break}return Rt},getCurrentTrackInfo:function Ot(){return S[Y]},setModeForTrackIdx:function ct(_t,Rt){var Gt=W(_t);Gt&&Gt.mode!==Rt&&(Gt.mode=Rt),Gt&&Gt.manualMode!==Rt&&(Gt.manualMode=Rt)},deleteCuesFromTrackIdx:function Ce(_t,Rt,Gt){var $t=W(_t);$t&&ce($t,Rt,Gt)},deleteAllTextTracks:function Ye(){for(var _t=B?B.length:0,Rt=0;Rt<_t;Rt++){var Gt=W(Rt);Gt&&ce.call(this,Gt,R.start,R.start+R.duration,!1)}B=[],S=[],me&&(clearInterval(me),me=null),le&&k&&(le.unobserve(k.getElement()),le=null),Y=-1,qe.call(this)},deleteTextTrack:function Be(_t){k.removeChild(B[_t]),B.splice(_t,1)},manualCueProcessing:function he(_t){var Rt=Z();if(Rt&&Rt.length>0){var $t=Rt[0].manualCueList;$t&&$t.length>0&&$t.forEach(function(Qt){if(Qt.startTime<=_t&&Qt.endTime>=_t&&!Qt.isActive)Qt.isActive=!0,WebVTT.processCues(window,[Qt],H,Qt.cueID);else if(Qt.isActive&&(Qt.startTime>_t||Qt.endTime<_t)&&(Qt.isActive=!1,H))for(var dn=H.childNodes,gn=0;gn<dn.length;++gn)dn[gn].id===Qt.cueID&&(H.removeChild(dn[gn]),--gn)})}},disableManualTracks:function $(){var _t=Z();if(_t&&_t.length>0){var Gt=_t[0].manualCueList;Gt&&Gt.length>0&&Gt.forEach(function($t){if($t.isActive&&($t.isActive=!1,H))for(var Qt=H.childNodes,dn=0;dn<Qt.length;++dn)Qt[dn].id===$t.cueID&&(H.removeChild(Qt[dn]),--dn)})}}},function Me(){T=Object(L.default)(P).getInstance().getLogger(I)}(),I}A.__dashjs_factory_name="TextTracks",C.default=F.default.getClassFactory(A)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),O=c(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),b=c(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),F=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function x(g){var y,A,h=this.context,p=g.streamInfo;function D(S){A.setTrackByIndex(S)}function N(){A&&A.reset()}return y={getStreamId:function V(){return p.id},initialize:function P(){A.addTracks();var S=A.getTracks();S&&S.length>0&&D(0)},provide:function k(S,B){if("function"==typeof B){var se,Y=A.getCurrentTrack();if(!Y||Y.segmentDuration<=0||null==S)return void B(null);(se=A.getThumbnailRequestForTime(S))&&(Y.segmentDuration=se.duration);var Re=Math.floor(S%Y.segmentDuration*Y.tilesHor*Y.tilesVert/Y.segmentDuration),z=new O.default;if(z.width=Math.floor(Y.widthPerTile),z.height=Math.floor(Y.heightPerTile),z.x=Math.floor(Re%Y.tilesHor)*Y.widthPerTile,z.y=Math.floor(Re/Y.tilesHor)*Y.heightPerTile,"readThumbnail"in Y)return Y.readThumbnail(S,function(H){z.url=H,B(z)});if(se)z.url=se.url,Y.segmentDuration=NaN;else{var oe=Math.floor(S/Y.segmentDuration);z.url=function R(S,B){var Y=B+S.startNumber,re=Object(L.replaceTokenForTemplate)(S.templateUrl,"Number",Y);return re=Object(L.replaceTokenForTemplate)(re,"Time",(Y-1)*S.segmentDuration*S.timescale),re=Object(L.replaceTokenForTemplate)(re,"Bandwidth",S.bandwidth),Object(L.unescapeDollarsInTemplate)(re)}(Y,oe)}B(z)}},setTrackByIndex:D,getCurrentTrackIndex:function I(){return A.getCurrentTrackIndex()},getBitrateList:function T(){var S=A.getTracks(),B=0;return S.map(function(Y){var re=new F.default;return re.mediaType=E.default.IMAGE,re.qualityIndex=B++,re.bitrate=Y.bitrate,re.width=Y.width,re.height=Y.height,re})},reset:N},function U(){N(),A=Object(b.default)(h).create({streamInfo:p,adapter:g.adapter,baseURLController:g.baseURLController,timelineConverter:g.timelineConverter,debug:g.debug,eventBus:g.eventBus,events:g.events,dashConstants:g.dashConstants,dashMetrics:g.dashMetrics,segmentBaseController:g.segmentBaseController})}(),y}x.__dashjs_factory_name="ThumbnailController",C.default=t.default.getClassFactory(x)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(Ze,C,c){"use strict";c.r(C),c.d(C,"THUMBNAILS_SCHEME_ID_URIS",function(){return y});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),F=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),x=c(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),g=c(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),h=c(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),p=c(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),y=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function A(U){var Y,re,se,Re,z,oe,H,me,P=this.context,V=U.adapter,k=U.baseURLController,R=U.streamInfo,D=U.timelineConverter,I=U.debug,T=U.eventBus,N=U.events,S=U.dashConstants,B=Object(F.default)(P).getInstance();function Se(ze,He){var Ae=new b.default;Ae.id=ze.id,Ae.bitrate=ze.bandwidth,Ae.width=ze.width,Ae.height=ze.height,Ae.tilesHor=1,Ae.tilesVert=1,ze.essentialProperties&&ze.essentialProperties.forEach(function(be){if(y.indexOf(be.schemeIdUri)>=0&&be.value){var K=be.value.split("x");2===K.length&&!isNaN(K[0])&&!isNaN(K[1])&&(Ae.tilesHor=parseInt(K[0],10),Ae.tilesVert=parseInt(K[1],10))}}),He?oe.updateSegmentData(ze).then(function(be){!function Ie(ze,He,Ae){var be=[],K=function le(ze,He){var K,ie,he,$,Ae=[],be=0;for(K=0,ie=ze.segments.length;K<ie;K++)he=ze.segments[K],($=Object(L.getTimeBasedSegment)(D,V.getIsDynamic(),He,he.startTime,he.duration,he.timescale,he.media,he.mediaRange,be))&&(Ae.push($),$=null,be++);return Ae}(Ae,He);He.segments=K,ze.segmentDuration=He.segments[0].duration,ze.readThumbnail=function(ie,he){var $=null;be.some(function(Z){if(Z.start<=ie&&Z.end>ie)return $=Z.url,!0}),$?he($):He.segments.some(function(Z){if(Z.mediaStartTime<=ie&&Z.mediaStartTime+Z.duration>ie){var W=k.resolve(He.path);return H.load({method:"get",url:W.url,request:{range:Z.mediaRange,responseType:"arraybuffer"},onload:function(Q){var q=me.getSamplesInfo(Q.target.response),J=new Blob([Q.target.response.slice(q.sampleList[0].offset,q.sampleList[0].offset+q.sampleList[0].size)],{type:"image/jpeg"}),de=window.URL.createObjectURL(J);be.push({start:Z.mediaStartTime,end:Z.mediaStartTime+Z.duration,url:de}),he&&he(de)}}),!0}})}}(Ae,ze,be)}):(Ae.startNumber=ze.startNumber,Ae.segmentDuration=ze.segmentDuration,Ae.timescale=ze.timescale,Ae.templateUrl=function Me(ze){var He=B.isRelative(ze.media)?B.resolve(ze.media,k.resolve(ze.path).url):ze.media;return He?Object(L.replaceIDForTemplate)(He,ze.id):""}(ze)),Ae.tilesHor>0&&Ae.tilesVert>0&&(Ae.widthPerTile=Ae.width/Ae.tilesHor,Ae.heightPerTile=Ae.height/Ae.tilesVert,re.push(Ae))}function je(){re=[],Re=-1,z=null}return Y={getTracks:function we(){return re},addTracks:function ue(){if(R&&V&&(z=V.getMediaInfoForType(R,t.default.IMAGE))){var ze=V.getVoRepresentations(z);ze&&ze.length>0&&ze.forEach(function(He){(He.segmentInfoType===E.default.SEGMENT_TEMPLATE&&He.segmentDuration>0&&He.media||He.segmentInfoType===E.default.SEGMENT_TIMELINE)&&Se(He),He.segmentInfoType===E.default.SEGMENT_BASE&&Se(He,!0)}),re.length>0&&re.sort(function(He,Ae){return He.bitrate-Ae.bitrate})}},reset:je,setTrackByIndex:function Pe(ze){!re||0===re.length||(ze>=re.length&&(ze=re.length-1),Re=ze)},getCurrentTrack:function Le(){return Re<0?null:re[Re]},getCurrentTrackIndex:function _e(){return Re},getThumbnailRequestForTime:function Oe(ze){for(var He,Ae=V.getVoRepresentations(z),be=0;be<Ae.length;be++)if(re[Re].id===Ae[be].id){He=Ae[be];break}return se.getSegmentRequestForTime(z,He,ze)}},function ne(){je(),H=Object(g.default)(P).create({}),me=Object(x.default)(P).getInstance(),oe=Object(p.default)(P).create({events:N,eventBus:T,streamInfo:R,timelineConverter:D,dashConstants:S,dashMetrics:U.dashMetrics,segmentBaseController:U.segmentBaseController,type:t.default.IMAGE}),(se=Object(h.default)(P).create({streamInfo:R,type:t.default.IMAGE,timelineConverter:D,segmentsController:oe,baseURLController:k,debug:I,eventBus:T,events:N,dashConstants:S,urlUtils:B})).initialize(!!V&&V.getIsDynamic())}(),Y}A.__dashjs_factory_name="ThumbnailTracks",C.default=O.default.getClassFactory(A)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),b=c(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),F=c(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),L=c(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),x=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),h=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),p=c(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),y=c(
/*! ../../core/Settings */
"./src/core/Settings.js");function A(){var k,R,D,I,T,N,U=this.context,P=Object(E.default)(U).getInstance(),V=Object(y.default)(U).getInstance();function se(){R.reset()}return k={chooseSelector:function Y(Re){Object(h.checkParameterType)(Re,"boolean"),N=Re?I:D},select:function re(Re){if(Re){if(V.get().streaming.applyContentSteering){var z=T.selectBaseUrlIndex(Re);!isNaN(z)&&-1!==z&&(Re.selectedIdx=z)}if(!isNaN(Re.selectedIdx))return Re.baseUrls[Re.selectedIdx];var oe=N.select(Re.baseUrls);return oe?(Re.selectedIdx=Re.baseUrls.indexOf(oe),oe):(P.trigger(O.default.URL_RESOLUTION_FAILED,{error:new g.default(t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===D&&se()))}},reset:se,setConfig:function B(Re){Re.selector&&(N=Re.selector),Re.contentSteeringSelector&&(T=Re.contentSteeringSelector)}},function S(){R=Object(b.default)(U).create({updateEventName:O.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:O.default.SERVICE_LOCATION_BLACKLIST_ADD}),D=Object(L.default)(U).create({blacklistController:R}),I=Object(F.default)(U).create({blacklistController:R}),(T=Object(p.default)(U).create()).setConfig({blacklistController:R}),N=D}(),k}A.__dashjs_factory_name="BaseURLSelector",C.default=x.default.getClassFactory(A)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),F=c.n(b),L=c(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function x(){var g,h,p=this.context;function A(T){if(!T)return null;void 0===T.fileStart&&(T.fileStart=0);var N=F.a.parseBuffer(T),S=Object(E.default)(p).create();return S.setData(N),S}function k(T,N){return T[N+3]>>>0|T[N+2]<<8>>>0|T[N+1]<<16>>>0|T[N]<<24>>>0}function R(T,N){return String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N])}return h={parse:A,findLastTopIsoBoxCompleted:function U(T,N,S){if(void 0===S&&(S=0),!N||S+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,re=0;S<B.byteLength;){var se=k(B,S),Re=R(B,S+4);if(0===se)break;S+se<=B.byteLength&&(T.indexOf(Re)>=0?Y=new L.default(S,!0,se):re=S+se),S+=se}return Y||new L.default(re,!1)},getMediaTimescaleFromMoov:function V(T){var N=A(T),S=N?N.getBox("mdhd"):void 0;return S?S.timescale:NaN},getSamplesInfo:function P(T){if(!T||0===T.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Y,se,Re,z,oe,H,me,ne,ue,Se,Ie,le,Me,we,_e,Le,N=A(T),S=N.getBoxes("moof"),B=N.getBoxes("mfhd");_e=N.getBoxes("moof").length,we=B[B.length-1].sequence_number,se=0,oe=[];var Pe=-1,Oe=-1;for(Se=0;Se<S.length;Se++){var je=S[Se],ze=je.getChildBoxes("traf");for(ne=0;ne<ze.length;ne++){var He=ze[ne],Ae=He.getChildBox("tfhd"),be=He.getChildBox("tfdt");z=be.baseMediaDecodeTime;var K=He.getChildBoxes("trun"),ie=He.getChildBoxes("subs");for(ue=0;ue<K.length;ue++){var he=K[ue];for(se=he.sample_count,Me=(Ae.base_data_offset||0)+(he.data_offset||0),me=0;me<se;me++){var $={dts:z,cts:z+(void 0!==(H=he.samples[me]).sample_composition_time_offset?H.sample_composition_time_offset:0),duration:Y=void 0!==H.sample_duration?H.sample_duration:Ae.default_sample_duration,offset:je.offset+Me,size:Re=void 0!==H.sample_size?H.sample_size:Ae.default_sample_size,subSizes:[Re]};if(ie)for(Ie=0;Ie<ie.length;Ie++){var Z=ie[Ie];if(Pe<Z.entry_count-1&&me>Oe&&(Pe++,Oe+=Z.entries[Pe].sample_delta),me==Oe){$.subSizes=[];var W=Z.entries[Pe];for(le=0;le<W.subsample_count;le++)$.subSizes.push(W.subsamples[le].subsample_size)}}oe.push($),Me+=Re,z+=Y}}Le=z-be.baseMediaDecodeTime}}return{sampleList:oe,lastSequenceNumber:we,totalDuration:Le,numSequences:_e}},findInitRange:function D(T){var N=null,Y=A(T);if(!Y)return N;var re=Y.getBox("ftyp"),se=Y.getBox("moov");return g.debug("Searching for initialization."),se&&se.isComplete&&g.debug("Found the initialization.  Range: "+(N=(re?re.offset:se.offset)+"-"+(se.offset+se.size-1))),N},parsePayload:function I(T,N,S){if(void 0===S&&(S=0),!N||S+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,re=0;S<B.byteLength;){var se=k(B,S),Re=R(B,S+4);if(0===se)break;S+se<=B.byteLength&&(T.indexOf(Re)>=0?Y=new L.default(S,!0,se,Re):re=S+se),S+=se}return Y||new L.default(re,!1)}},function y(){g=Object(t.default)(p).getInstance().getLogger(h)}(),h}x.__dashjs_factory_name="BoxParser",C.default=O.default.getSingletonFactory(x)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(Ze,C,c){"use strict";c.r(C),c.d(C,"supportsMediaSource",function(){return F});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),O=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function F(){var x="WebKitMediaSource"in window,g="MediaSource"in window;return x||g}function L(){var x,g,h;return x={setConfig:function y(T){T&&T.settings&&(g=T.settings)},supportsMediaSource:F,supportsEncryptedMedia:function A(){return h},supportsCodec:function P(T,N){return N!==O.default.AUDIO&&N!==O.default.VIDEO?Promise.resolve(!0):function V(T,N){return g.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&N===O.default.AUDIO||N===O.default.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)}(T,N)?function R(T,N){return new Promise(function(S){if(T&&T.codec){var B={type:"media-source"};B[N]={},B[N].contentType=T.codec,B[N].width=T.width,B[N].height=T.height,B[N].bitrate=parseInt(T.bitrate),B[N].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(Y){S(Y.supported)}).catch(function(){S(!1)})}else S(!1)})}(T,N):function k(T){return new Promise(function(N){if(T&&T.codec){var S=T.codec;T.width&&T.height&&(S+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(S)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(S)?N(!0):N(!1)}else N(!1)})}(T)},setEncryptedMediaSupported:function U(T){h=T},supportsEssentialProperty:function D(T){try{return-1!==E.THUMBNAILS_SCHEME_ID_URIS.indexOf(T.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function I(T,N){for(var Y,S=T.split(".")[0],B=0===N.indexOf(S),re=0;re<b.length;re++)if(b[re].codec===S){Y=b[re];break}return Y?B||Y.compatibleCodecs.some(function(se){return 0===N.indexOf(se)}):B}},function p(){h=!1}(),x}L.__dashjs_factory_name="Capabilities",C.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function L(){var h,p,y,A,U,P,x=this.context,g=Object(b.default)(x).getInstance();function D(se,Re){if(!Re||!Re.Period_asArray||0===Re.Period_asArray.length)return Promise.resolve();var z=[];return Re.Period_asArray.forEach(function(oe){z.push(function I(se,Re){return new Promise(function(z){if(se&&se.AdaptationSet_asArray&&0!==se.AdaptationSet_asArray.length){var oe=[];se.AdaptationSet_asArray.forEach(function(H){p.getIsTypeOf(H,Re)&&oe.push(function T(se,Re){return new Promise(function(z){if(se.Representation_asArray&&0!==se.Representation_asArray.length){var oe=[],H=[];se.Representation_asArray.forEach(function(me,ne){var ue=p.getCodec(se,ne,!1),Se=function N(se,Re,z){switch(se){case O.default.VIDEO:return function S(se,Re){return{codec:Re,width:se.width||null,height:se.height||null,framerate:se.frameRate||null,bitrate:se.bandwidth||null}}(Re,z);case O.default.AUDIO:return function B(se,Re){return{codec:Re,bitrate:se.bandwidth||null,samplerate:se.audioSamplingRate||null}}(Re,z);default:return null}}(Re,me,ue);H.push(Se),oe.push(y.supportsCodec(Se,Re))}),Promise.all(oe).then(function(me){se.Representation_asArray=se.Representation_asArray.filter(function(ne,ue){return me[ue]||P.debug("[Stream] Codec ".concat(H[ue].codec," not supported ")),me[ue]}),z()}).catch(function(){z()})}else z()})}(H,Re))}),Promise.all(oe).then(function(){se.AdaptationSet_asArray=se.AdaptationSet_asArray.filter(function(H){var me=H.Representation_asArray&&H.Representation_asArray.length>0;return me||(g.trigger(F.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:H}),P.warn("AdaptationSet has been removed because of no supported Representation")),me}),z()}).catch(function(){z()})}else z()})}(oe,se))}),Promise.all(z)}return h={setConfig:function k(se){se&&(se.adapter&&(p=se.adapter),se.capabilities&&(y=se.capabilities),se.settings&&(A=se.settings),se.customParametersModel&&(U=se.customParametersModel))},filterUnsupportedFeatures:function R(se){return new Promise(function(Re){var z=[];z.push(D(O.default.VIDEO,se)),z.push(D(O.default.AUDIO,se)),Promise.all(z).then(function(){A.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function Y(se){!se||!se.Period_asArray||0===se.Period_asArray.length||se.Period_asArray.forEach(function(Re){Re.AdaptationSet_asArray=Re.AdaptationSet_asArray.filter(function(z){return!z.Representation_asArray||0===z.Representation_asArray.length||(z.Representation_asArray=z.Representation_asArray.filter(function(oe){var H=p.getEssentialPropertiesForRepresentation(oe);if(H&&H.length>0)for(var me=0;me<H.length;){if(!y.supportsEssentialProperty(H[me]))return P.debug("[Stream] EssentialProperty not supported: "+H[me].schemeIdUri),!1;me+=1}return!0}),z.Representation_asArray&&z.Representation_asArray.length>0)})})}(se),function re(se){var Re=U.getCustomCapabilitiesFilters();!Re||0===Re.length||!se||!se.Period_asArray||0===se.Period_asArray.length||se.Period_asArray.forEach(function(z){z.AdaptationSet_asArray=z.AdaptationSet_asArray.filter(function(oe){return!oe.Representation_asArray||0===oe.Representation_asArray.length||(oe.Representation_asArray=oe.Representation_asArray.filter(function(H){return!Re.some(function(me){return!me(H)})}),oe.Representation_asArray&&oe.Representation_asArray.length>0)})})}(se),Re()}).catch(function(){Re()})})}},function V(){P=Object(E.default)(x).getInstance().getLogger(h)}(),h}L.__dashjs_factory_name="CapabilitiesFilter",C.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function O(){return{customTimeRangeArray:[],length:0,add:function L(A,U){var P=0;for(P=0;P<this.customTimeRangeArray.length&&A>this.customTimeRangeArray[P].start;P++);for(this.customTimeRangeArray.splice(P,0,{start:A,end:U}),P=0;P<this.customTimeRangeArray.length-1;P++)this.mergeRanges(P,P+1)&&P--;this.length=this.customTimeRangeArray.length},clear:function x(){this.customTimeRangeArray=[],this.length=0},remove:function g(A,U){for(var P=0;P<this.customTimeRangeArray.length;P++)if(A<=this.customTimeRangeArray[P].start&&U>=this.customTimeRangeArray[P].end)this.customTimeRangeArray.splice(P,1),P--;else{if(A>this.customTimeRangeArray[P].start&&U<this.customTimeRangeArray[P].end){this.customTimeRangeArray.splice(P+1,0,{start:U,end:this.customTimeRangeArray[P].end}),this.customTimeRangeArray[P].end=A;break}A>this.customTimeRangeArray[P].start&&A<this.customTimeRangeArray[P].end?this.customTimeRangeArray[P].end=A:U>this.customTimeRangeArray[P].start&&U<this.customTimeRangeArray[P].end&&(this.customTimeRangeArray[P].start=U)}this.length=this.customTimeRangeArray.length},mergeRanges:function h(A,U){var P=this.customTimeRangeArray[A],V=this.customTimeRangeArray[U];return P.start<=V.start&&V.start<=P.end&&P.end<=V.end?(P.end=V.end,this.customTimeRangeArray.splice(U,1),!0):V.start<=P.start&&P.start<=V.end&&V.end<=P.end?(P.start=V.start,this.customTimeRangeArray.splice(U,1),!0):V.start<=P.start&&P.start<=V.end&&P.end<=V.end?(this.customTimeRangeArray.splice(A,1),!0):P.start<=V.start&&V.start<=P.end&&V.end<=P.end&&(this.customTimeRangeArray.splice(U,1),!0)},start:function p(A){return Object(E.checkInteger)(A),A>=this.customTimeRangeArray.length||A<0?NaN:this.customTimeRangeArray[A].start},end:function y(A){return Object(E.checkInteger)(A),A>=this.customTimeRangeArray.length||A<0?NaN:this.customTimeRangeArray[A].end}}}O.__dashjs_factory_name="CustomTimeRanges",C.default=t.default.getClassFactory(O)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],F="dashjs_?_bitrate",L="dashjs_?_settings",x="localStorage",h="lastBitrate",p="lastMediaSettings";function y(U){var k,R,D,P=this.context,V=(U=U||{}).settings;function T(oe){if(void 0!==D)return D;D=!1;var ne;try{typeof window<"u"&&(ne=window[oe])}catch(ue){return R.warn("DOMStorage access denied: "+ue.message),D}if(!ne||oe!==x&&"sessionStorage"!==oe)return D;try{ne.setItem("1","1"),ne.removeItem("1"),D=!0}catch(ue){R.warn("DOMStorage is supported, but cannot be used: "+ue.message)}return D}function S(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(oe,H){return T(oe)&&V.get().streaming[H+"CachingInfo"].enabled}function Y(){if(!V)throw new Error(O.default.MISSING_CONFIG_ERROR)}return k={getSavedBitrateSettings:function se(oe){if(Y(),!V.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var H=NaN;if(B(x,h)){var me=F.replace(/\?/,oe);try{var ne=JSON.parse(localStorage.getItem(me))||{},ue=(new Date).getTime()-parseInt(ne.timestamp,10)>=V.get().streaming.lastBitrateCachingInfo.ttl||!1,Se=parseFloat(ne.bitrate);isNaN(Se)||ue?ue&&localStorage.removeItem(me):(H=Se,R.debug("Last saved bitrate for "+oe+" was "+Se))}catch{return null}}return H},setSavedBitrateSettings:function z(oe,H){if(B(x,h)&&H){var me=F.replace(/\?/,oe);try{localStorage.setItem(me,JSON.stringify({bitrate:H.toFixed(3),timestamp:S()}))}catch(ne){R.error(ne.message)}}},getSavedMediaSettings:function re(oe){if(Y(),!V.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var H=null;if(B(x,p)){var me=L.replace(/\?/,oe);try{var ne=JSON.parse(localStorage.getItem(me))||{},ue=(new Date).getTime()-parseInt(ne.timestamp,10)>=V.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;H=ne.settings,ue&&(localStorage.removeItem(me),H=null)}catch{return null}}return H},setSavedMediaSettings:function Re(oe,H){if(B(x,p)){var me=L.replace(/\?/,oe);try{localStorage.setItem(me,JSON.stringify({settings:H,timestamp:S()}))}catch(ne){R.error(ne.message)}}}},function I(){R=Object(E.default)(P).getInstance().getLogger(k),function N(){T(x)&&b.forEach(function(oe){var H=localStorage.getItem(oe.oldKey);if(H){localStorage.removeItem(oe.oldKey);try{localStorage.setItem(oe.newKey,H)}catch(me){R.error(me.message)}}})}()}(),k}y.__dashjs_factory_name="DOMStorage";var A=t.default.getSingletonFactory(y);C.default=A},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var O,b=/^[a-z][a-z0-9+\-_.]*:/i,F=/^https?:\/\//i,L=/^https:\/\//i,x=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,g=function(B,Y){try{return new window.URL(B,Y).toString()}catch{return B}},h=function(B,Y){var re=y;if(!Y||!V(B))return B;k(B)&&(re=A),R(B)&&(re=P);var se=re(Y),Re="/"!==se.charAt(se.length-1)&&"/"!==B.charAt(0)?"/":"";return[se,B].join(Re)};function y(S){var B=S.indexOf("/"),Y=S.lastIndexOf("/");return-1!==B?Y===B+1?S:(-1!==S.indexOf("?")&&(S=S.substring(0,S.indexOf("?"))),S.substring(0,Y+1)):""}function A(S){var B=S.match(x);return B?B[1]:""}function P(S){var B=S.match(b);return B?B[0]:""}function V(S){return!b.test(S)}function k(S){return V(S)&&"/"===S.charAt(0)}function R(S){return 0===S.indexOf("//")}return function p(){try{new window.URL("x","http://y"),O=g}catch{}finally{O=O||h}}(),{parseBaseUrl:y,parseOrigin:A,parseScheme:P,isRelative:V,isPathAbsolute:k,isSchemeRelative:R,isHTTPURL:function D(S){return F.test(S)},isHTTPS:function I(S){return L.test(S)},removeHostname:function U(S){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(S)[2].substring(1)},resolve:function T(S,B){return O(S,B)}}}E.__dashjs_factory_name="DefaultURLUtils",C.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(O){O=O||{};var b,F=new DataView(O.data),L=0;function h(R,D){var I=!0,T=0;if(void 0===D&&(D=!1),R.tag>16777215?(F.getUint32(L)!==R.tag&&(I=!1),T=4):R.tag>65535?(256*F.getUint16(L)+F.getUint8(L+2)!==R.tag&&(I=!1),T=3):R.tag>255?(F.getUint16(L)!==R.tag&&(I=!1),T=2):(F.getUint8(L)!==R.tag&&(I=!1),T=1),!I&&R.required&&!D)throw new Error("required tag not found");return I&&(L+=T),I}function U(R){var D=1,I=128,N=-1,S=0,B=F.getUint8(L),Y=0;for(Y=0;Y<8;Y+=1){if((B&I)===I){S=void 0===R?B&~I:B,N=Y;break}I>>=1}for(Y=0;Y<N;Y+=1,D+=1)S=S<<8|255&F.getUint8(L+D);return L+=D,S}return b={getPos:function x(){return L},setPos:function g(R){L=R},consumeTag:h,consumeTagAndSize:function p(R,D){var I=h(R,D);return I&&U(),I},parseTag:function y(R){var D;return h(R),D=U(),b[R.parse](D)},skipOverElement:function A(R,D){var T,I=h(R,D);return I&&(T=U(),L+=T),I},getMatroskaCodedNum:U,getMatroskaFloat:function P(R){var D;switch(R){case 4:D=F.getFloat32(L),L+=4;break;case 8:D=F.getFloat64(L),L+=8}return D},getMatroskaUint:function V(R){for(var D=0,I=0;I<R;I+=1)D<<=8,D|=255&F.getUint8(L+I);return L+=R,D},moreData:function k(){return L<F.byteLength}}}E.__dashjs_factory_name="EBMLParser",C.default=t.default.getClassFactory(E)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var L=this.context,x=Object(t.default)(L).getInstance();return{error:function g(h){x.trigger(E.default.ERROR,{error:h})}}}b.__dashjs_factory_name="ErrorHandler",C.default=O.default.getSingletonFactory(b)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var O={};return{save:function b(g){var h=g.streamId,p=g.representationId;O[h]=O[h]||{},O[h][p]=g},extract:function F(g,h){return O&&O[g]&&O[g][h]?O[g][h]:null},reset:function L(){O={}}}}E.__dashjs_factory_name="InitCache",C.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function O(){var F;function x(y){var A=[];if(!y||!F||"function"!=typeof F.fetchAll)return A;for(var P,U=F.fetchAll(y),V=0,k=U.length;V<k;V++)(P=p(U[V]))&&A.push(P);return A}function p(y){if(!y)return null;var A=new t.default(y);return y.hasOwnProperty("_incomplete")&&(A.isComplete=!y._incomplete),A}return{getBox:function L(y){return y&&F&&F.boxes&&0!==F.boxes.length&&"function"==typeof F.fetch?p(F.fetch(y)):null},getBoxes:x,setData:function g(y){F=y},getLastBox:function h(){if(!F||!F.boxes||!F.boxes.length)return null;var A=x(F.boxes[F.boxes.length-1].type);return A.length>0?A[A.length-1]:null}}}O.__dashjs_factory_name="IsoFile",C.default=E.default.getClassFactory(O)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),O=c.n(E);function b(){return{areEqual:function L(x,g){return O()(x,g)}}}b.__dashjs_factory_name="ObjectUtils",C.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(Ze,C,c){"use strict";c.r(C),c.d(C,"modifyRequest",function(){return E});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(b,F){var L={url:b.url,method:b.method,headers:Object.assign({},b.headers),credentials:b.withCredentials?"include":void 0};return Promise.resolve(F.modifyRequest(L)).then(function(){return Object.assign(b,L,{withCredentials:"include"===L.credentials})})}function O(){return{modifyRequest:null,modifyRequestURL:function F(x){return x},modifyRequestHeader:function L(x,g){return x}}}O.__dashjs_factory_name="RequestModifier",C.default=t.default.getSingletonFactory(O)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(Ze,C,c){"use strict";c.r(C),c.d(C,"checkParameterType",function(){return O}),c.d(C,"checkInteger",function(){return b}),c.d(C,"checkRange",function(){return F}),c.d(C,"checkIsVideoOrAudioType",function(){return L});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function E(x){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(x)}function O(x,g){if(E(x)!==g)throw t.default.BAD_ARGUMENT_ERROR}function b(x){if(null===x||isNaN(x)||x%1!=0)throw t.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function F(x,g,h){if(x<g||x>h)throw t.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function L(x){if("string"!=typeof x||x!==t.default.AUDIO&&x!==t.default.VIDEO)throw t.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),x=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),g=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function h(){var A,U,p=this.context,y=Object(O.default)(p).getInstance(),P=0;function k(){var D="cue_TTML_"+P;return P++,D}return A={parse:function R(D,I,T,N,S){var re,se,Re,B="",Y=[],z={},oe={},H="",me="",ne={onOpenTag:function(Me,we,_e){if(_e[" imagetype"]&&!_e[" imageType"]&&(y.trigger(x.default.CONFORMANCE_VIOLATION,{level:g.default.LEVELS.ERROR,event:g.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),_e[" imageType"]=_e[" imagetype"]),"image"===we&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Me||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Me)){if(!_e[" imageType"]||"PNG"!==_e[" imageType"].value)return void U.warn("smpte-tt imageType != PNG. Discarded");H=_e["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){H&&(oe[H]=me.trim()),me="",H=""},onText:function(Me){H&&(me+=Me)}};if(!D)throw B="no ttml data to parse",new Error(B);z.data=D,y.trigger(b.default.TTML_TO_PARSE,z);var ue=Object(F.fromXML)(z.data,function(le){B=le},ne);y.trigger(b.default.TTML_PARSED,{ttmlString:z.data,ttmlDoc:ue});var Se=ue.getMediaTimeEvents();for(Re=0;Re<Se.length;Re++){var Ie=Object(F.generateISD)(ue,Se[Re],function(le){B=le});Ie.contents.some(function(le){return le.contents.length})&&(re=Se[Re]+I<T?T:Se[Re]+I)<(se=Se[Re+1]+I>N?N:Se[Re+1]+I)&&Y.push({start:re,end:se,type:"html",cueID:k(),isd:Ie,images:S,embeddedImages:oe})}if(""!==B)throw U.error(B),new Error(B);return Y}},function V(){U=Object(E.default)(p).getInstance().getLogger(A)}(),A}h.__dashjs_factory_name="TTMLParser",C.default=t.default.getSingletonFactory(h)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function O(){var L,x=[],g=this.context;function A(B,Y,re){var se=function h(B){var Y;for(Y=0;Y<x.length;Y++)if(x[Y].regex.test(B))return x[Y].utils;return L}(re||Y);return se&&"function"==typeof se[B]?se[B](Y,re):L[B](Y,re)}return function p(){L=Object(E.default)(g).getInstance()}(),{registerUrlRegex:function y(B,Y){x.push({regex:B,utils:Y})},parseBaseUrl:function U(B){return A("parseBaseUrl",B)},parseOrigin:function P(B){return A("parseOrigin",B)},parseScheme:function k(B){return A("parseScheme",B)},isRelative:function R(B){return A("isRelative",B)},isPathAbsolute:function D(B){return A("isPathAbsolute",B)},isSchemeRelative:function I(B){return A("isSchemeRelative",B)},isHTTPURL:function T(B){return A("isHTTPURL",B)},isHTTPS:function N(B){return A("isHTTPS",B)},removeHostname:function V(B){return A("removeHostname",B)},resolve:function S(B,Y){return A("resolve",B,Y)}}}O.__dashjs_factory_name="URLUtils";var b=t.default.getSingletonFactory(O);C.default=b},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function b(){var L,x,g,h,p,y,F=this.context;function P(D){var I=D.split(":"),T=I.length-1;return D=60*parseInt(I[T-1],10)+parseFloat(I[T]),2===T&&(D+=3600*parseInt(I[0],10)),D}function V(D){var I=D.split(h),T=I[1].split(y);return T.shift(),I[1]=T[0],T.shift(),{cuePoints:I,styles:k(T)}}function k(D){var I={};return D.forEach(function(T){if(T.split(/:/).length>1){var N=T.split(/:/)[1];N&&-1!=N.search(/%/)&&(N=parseInt(N.replace(/%/,""),10)),(T.match(/align/)||T.match(/A/))&&(I.align=N),(T.match(/line/)||T.match(/L/))&&(I.line=N),(T.match(/position/)||T.match(/P/))&&(I.position=N),(T.match(/size/)||T.match(/S/))&&(I.size=N)}}),I}function R(D,I){for(var B,T=I,N="",S="";""!==D[T]&&T<D.length;)T++;if((B=T-I)>1)for(var Y=0;Y<B;Y++){if((S=D[I+Y]).match(h)){N="";break}N+=S,Y!==B-1&&(N+="\n")}else(S=D[I]).match(h)||(N=S);return N}return L={parse:function U(D){var T,N,I=[];if(!D)return I;T=(D=D.split(g)).length,N=-1;for(var S=0;S<T;S++){var B=D[S];if(B.length>0&&"WEBVTT"!==B&&B.match(h)){var Y=V(B),re=Y.cuePoints,se=Y.styles,Re=R(D,S+1),z=P(re[0].replace(p,"")),oe=P(re[1].replace(p,""));!isNaN(z)&&!isNaN(oe)&&z>=N&&oe>z?""!==Re?(N=z,I.push({start:z,end:oe,data:Re,styles:se})):x.error("Skipping cue due to empty/malformed cue text"):x.error("Skipping cue due to incorrect cue timing")}}return I}},function A(){x=Object(E.default)(F).getInstance().getLogger(L),g=/(?:\r\n|\r|\n)/gm,h=/-->/,p=/(^[\s]+|[\s]+$)/g,y=/\s\b/g}(),L}b.__dashjs_factory_name="VTTParser",C.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var O,b;return O={parse:function L(x){var g=[];return b.oncue=function(h){h.start=h.startTime,h.end=h.endTime,h.data=h.text,h.styles={align:h.align,line:h.line,position:h.position,size:h.size},g.push(h)},b.parse(x),g}},function F(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(b=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),O}E.__dashjs_factory_name="VttCustomRenderingParser",C.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(O){var F=(O=O||{}).blacklistController;return{select:function L(x){var h,g=0;return x&&x.some(function(p,y){return g=y,!F.contains(p.serviceLocation)})&&(h=x[g]),h}}}E.__dashjs_factory_name="BasicSelector",C.default=t.default.getClassFactory(E)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function O(){var F,L,x,b=this.context;function y(){for(var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],P=0,V=NaN,k=function(){var I=A[P],T=U.findIndex(function(N){return N.serviceLocation&&N.serviceLocation===I});if(-1!==T&&!x.contains(U[T].serviceLocation))return V=T,"break";P+=1};P<A.length&&"break"!==k(););return V}return F={selectBaseUrlIndex:function p(A){var U=NaN;if(isNaN(A.selectedIdx)){var P=L.getSteeringDataFromManifest();P&&P.defaultServiceLocation&&(U=y([P.defaultServiceLocation],A.baseUrls))}var V=L.getCurrentSteeringResponseData();return A.baseUrls&&A.baseUrls.length&&V&&V.serviceLocationPriority&&V.serviceLocationPriority.length&&(U=y(V.serviceLocationPriority,A.baseUrls)),U},setConfig:function h(A){A.blacklistController&&(x=A.blacklistController),A.contentSteeringController&&(L=A.contentSteeringController)}},function g(){L=Object(E.default)(b).getInstance()}(),F}O.__dashjs_factory_name="ContentSteeringSelector",C.default=t.default.getClassFactory(O)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(O){var F=(O=O||{}).blacklistController;return{select:function g(h){return h&&function x(h){var V,k,A=0,U=[],P=0;if((k=h.sort(function(D,I){var T=D.dvb_priority-I.dvb_priority;return isNaN(T)?0:T}).filter(function(D,I,T){return!I||T[0].dvb_priority&&D.dvb_priority&&T[0].dvb_priority===D.dvb_priority})).length)return k.length>1&&(k.forEach(function(R){U.push(A+=R.dvb_weight)}),V=Math.floor(Math.random()*(A-1)),U.every(function(R,D){return P=D,!(V<R)})),k[P]}(function L(h){var p=[];return h.filter(function(P){return!F.contains(P.serviceLocation)||(P.dvb_priority&&p.push(P.dvb_priority),!1)}).filter(function(P){return!(p.length&&P.dvb_priority&&-1!==p.indexOf(P.dvb_priority))})}(h))}}}E.__dashjs_factory_name="DVBSelector",C.default=t.default.getClassFactory(E)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(h,p,y){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.code=h||null,this.message=p||null,this.data=y||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,L(A.key),A)}}function L(h){var p=function x(h,p){if("object"!==E(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==E(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===E(p)?p:String(p)}var g=function(){function h(p){(function O(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.action=h.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=p||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function F(h,p,y){return p&&b(h.prototype,p),y&&b(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===t.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(y){this.type=y&&y.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=y&&y.url?y.url:null,this.range=y&&y.range?y.range.start+"-"+y.range.end:null,this.mediaType=y&&y.mediaType?y.mediaType:null}}]),h}();g.ACTION_DOWNLOAD="download",g.ACTION_COMPLETE="complete",C.default=g},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function E(k){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(k)}function O(k,R){for(var D=0;D<R.length;D++){var I=R[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,F(I.key),I)}}function F(k){var R=function L(k,R){if("object"!==E(k)||null===k)return k;var D=k[Symbol.toPrimitive];if(void 0!==D){var I=D.call(k,R||"default");if("object"!==E(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(k)}(k,"string");return"symbol"===E(R)?R:String(R)}function g(k,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),R&&h(k,R)}function h(k,R){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(k,R)}function p(k){var R=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=P(k);if(R){var N=P(this).constructor;T=Reflect.construct(I,arguments,N)}else T=I.apply(this,arguments);return function y(k,R){if(R&&("object"===E(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function P(k){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(k)}C.default=function(k){g(D,k);var R=p(D);function D(I){var T;return function x(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}(this,D),(T=R.call(this,I)).checkForExistenceOnly=!0,T}return function b(k,R,D){return R&&O(k.prototype,R),D&&O(k,D),Object.defineProperty(k,"prototype",{writable:!1}),k}(D)}(t.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function O(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,F(y.key),y)}}function F(g){var h=function L(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function g(h){if(function E(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}(this,g),this.offset=h._offset,this.type=h.type,this.size=h.size,this.boxes=[],h.boxes)for(var p=0;p<h.boxes.length;p++)this.boxes.push(new g(h.boxes[p]));switch(this.isComplete=!0,h.type){case"sidx":if(this.timescale=h.timescale,this.earliest_presentation_time=h.earliest_presentation_time,this.first_offset=h.first_offset,this.references=h.references,h.references){this.references=[];for(var y=0;y<h.references.length;y++)this.references.push({reference_type:h.references[y].reference_type,referenced_size:h.references[y].referenced_size,subsegment_duration:h.references[y].subsegment_duration})}break;case"emsg":this.id=h.id,this.version=1===h.version?1:0,this.value=h.value,this.timescale=h.timescale,this.scheme_id_uri=h.scheme_id_uri,this.presentation_time_delta=1===h.version?h.presentation_time:h.presentation_time_delta,this.event_duration=h.event_duration,this.message_data=h.message_data;break;case"mdhd":this.timescale=h.timescale;break;case"mfhd":this.sequence_number=h.sequence_number;break;case"subs":this.entry_count=h.entry_count,this.entries=h.entries;break;case"tfhd":this.base_data_offset=h.base_data_offset,this.sample_description_index=h.sample_description_index,this.default_sample_duration=h.default_sample_duration,this.default_sample_size=h.default_sample_size,this.default_sample_flags=h.default_sample_flags,this.flags=h.flags;break;case"tfdt":this.version=h.version,this.baseMediaDecodeTime=h.baseMediaDecodeTime,this.flags=h.flags;break;case"trun":if(this.sample_count=h.sample_count,this.first_sample_flags=h.first_sample_flags,this.data_offset=h.data_offset,this.flags=h.flags,this.samples=h.samples,h.samples){this.samples=[];for(var U=0,P=h.samples.length;U<P;U++)this.samples.push({sample_size:h.samples[U].sample_size,sample_duration:h.samples[U].sample_duration,sample_composition_time_offset:h.samples[U].sample_composition_time_offset})}}}return function b(g,h,p){return h&&O(g.prototype,h),p&&O(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}(g,[{key:"getChildBox",value:function(p){for(var y=0;y<this.boxes.length;y++)if(this.boxes[y].type===p)return this.boxes[y]}},{key:"getChildBoxes",value:function(p){for(var y=[],A=0;A<this.boxes.length;A++)this.boxes[A].type===p&&y.push(this.boxes[A]);return y}}]),g}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(h,p,y){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.lastCompletedOffset=h,this.found=p,this.size=y})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function O(R){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(R)}function b(R,D){for(var I=0;I<D.length;I++){var T=D[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,L(T.key),T)}}function L(R){var D=function x(R,D){if("object"!==O(R)||null===R)return R;var I=R[Symbol.toPrimitive];if(void 0!==I){var T=I.call(R,D||"default");if("object"!==O(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(R)}(R,"string");return"symbol"===O(D)?D:String(D)}function h(R,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&p(R,D)}function p(R,D){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(R,D)}function y(R){var D=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(R);if(D){var S=V(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function A(R,D){if(D&&("object"===O(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function U(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R)}(this,N)}}function V(R){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(R)}C.default=function(R){h(I,R);var D=y(I);function I(T,N){var S;return function g(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(S=D.call(this)).url=T||null,S.type=N||null,S.mediaType=t.default.STREAM,S.responseType="",S}return function F(R,D,I){return D&&b(R.prototype,D),I&&b(R,I),Object.defineProperty(R,"prototype",{writable:!1}),R}(I)}(E.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function E(k){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(k)}function O(k,R){for(var D=0;D<R.length;D++){var I=R[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,F(I.key),I)}}function F(k){var R=function L(k,R){if("object"!==E(k)||null===k)return k;var D=k[Symbol.toPrimitive];if(void 0!==D){var I=D.call(k,R||"default");if("object"!==E(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(k)}(k,"string");return"symbol"===E(R)?R:String(R)}function g(k,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),R&&h(k,R)}function h(k,R){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I})(k,R)}function p(k){var R=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,I=P(k);if(R){var N=P(this).constructor;T=Reflect.construct(I,arguments,N)}else T=I.apply(this,arguments);return function y(k,R){if(R&&("object"===E(R)||"function"==typeof R))return R;if(void 0!==R)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function P(k){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(k)}C.default=function(k){g(D,k);var R=p(D);function D(){var I;return function x(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}(this,D),(I=R.call(this)).captionData=null,I.label=null,I.defaultTrack=!1,I.kind=null,I.isFragmented=!1,I.isEmbedded=!1,I.isTTML=null,I}return function b(k,R,D){return R&&O(k.prototype,R),D&&O(k,D),Object.defineProperty(k,"prototype",{writable:!1}),k}(D)}(t.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function E(h){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function O(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function b(h,p,y){return p&&O(h.prototype,p),y&&O(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}function F(h){var p=function L(h,p){if("object"!==E(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==E(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===E(p)?p:String(p)}C.default=b(function h(){(function x(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.target=null,this.state=t.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function E(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,b(A.key),A)}}function O(h,p,y){return p&&E(h.prototype,p),y&&E(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}function b(h){var p=function F(h,p){if("object"!==t(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}function L(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}c.r(C),c.d(C,"HTTPRequest",function(){return x}),c.d(C,"HTTPRequestTrace",function(){return g});var x=O(function h(){L(this,h),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),g=O(function h(){L(this,h),this.s=null,this.d=null,this.b=[]});x.GET="GET",x.HEAD="HEAD",x.MPD_TYPE="MPD",x.XLINK_EXPANSION_TYPE="XLinkExpansion",x.INIT_SEGMENT_TYPE="InitializationSegment",x.INDEX_SEGMENT_TYPE="IndexSegment",x.MEDIA_SEGMENT_TYPE="MediaSegment",x.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",x.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",x.DVB_REPORTING_TYPE="DVBReporting",x.LICENSE="license",x.CONTENT_STEERING_TYPE="ContentSteering",x.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(Ze,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function E(p,y){for(var A=0;A<y.length;A++){var U=y[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(p,b(U.key),U)}}function O(p,y,A){return y&&E(p.prototype,y),A&&E(p,A),Object.defineProperty(p,"prototype",{writable:!1}),p}function b(p){var y=function F(p,y){if("object"!==t(p)||null===p)return p;var A=p[Symbol.toPrimitive];if(void 0!==A){var U=A.call(p,y||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(p)}(p,"string");return"symbol"===t(y)?y:String(y)}function L(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}c.r(C),c.d(C,"ManifestUpdate",function(){return x}),c.d(C,"ManifestUpdateStreamInfo",function(){return g}),c.d(C,"ManifestUpdateRepresentationInfo",function(){return h});var x=O(function p(){L(this,p),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),g=O(function p(){L(this,p),this.id=null,this.index=null,this.start=null,this.duration=null}),h=O(function p(){L(this,p),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function E(h,p){for(var y=0;y<p.length;y++){var A=p[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,b(A.key),A)}}function O(h,p,y){return p&&E(h.prototype,p),y&&E(h,y),Object.defineProperty(h,"prototype",{writable:!1}),h}function b(h){var p=function F(h,p){if("object"!==t(h)||null===h)return h;var y=h[Symbol.toPrimitive];if(void 0!==y){var A=y.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}function L(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}c.r(C),c.d(C,"PlayList",function(){return x}),c.d(C,"PlayListTrace",function(){return g});var x=O(function h(){L(this,h),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});x.INITIAL_PLAYOUT_START_REASON="initial_playout",x.SEEK_START_REASON="seek",x.RESUME_FROM_PAUSE_START_REASON="resume",x.METRICS_COLLECTION_START_REASON="metrics_collection_start";var g=O(function h(){L(this,h),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});g.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",g.REBUFFERING_REASON="rebuffering",g.USER_REQUEST_STOP_REASON="user_request",g.END_OF_PERIOD_STOP_REASON="end_of_period",g.END_OF_CONTENT_STOP_REASON="end_of_content",g.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",g.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}function E(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,b(y.key),y)}}function O(g,h,p){return h&&E(g.prototype,h),p&&E(g,p),Object.defineProperty(g,"prototype",{writable:!1}),g}function b(g){var h=function F(g,h){if("object"!==t(g)||null===g)return g;var p=g[Symbol.toPrimitive];if(void 0!==p){var y=p.call(g,h||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(g)}(g,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=O(function g(){(function L(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Ze,C){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Ze,C){}}).default},4440:(wn,Ze,C)=>{var c;!function(){"use strict";var t="object"==typeof window?window:{},E=!t.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;E&&(t=global);var A,U,O=!t.HI_BASE64_NO_COMMON_JS&&wn.exports,b=C.amdO,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),L={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},g=function(D){var I,T,N,S,B=[],Y=0,re=D.length;"="===D.charAt(re-2)?re-=2:"="===D.charAt(re-1)&&(re-=1);for(var se=0,Re=re>>2<<2;se<Re;)I=L[D.charAt(se++)],T=L[D.charAt(se++)],N=L[D.charAt(se++)],S=L[D.charAt(se++)],B[Y++]=255&(I<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2),B[Y++]=255&(N<<6|S);var z=re-Re;return 2===z?(I=L[D.charAt(se++)],T=L[D.charAt(se++)],B[Y++]=255&(I<<2|T>>>4)):3===z&&(I=L[D.charAt(se++)],T=L[D.charAt(se++)],N=L[D.charAt(se++)],B[Y++]=255&(I<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2)),B},h=function(D){for(var I,T,N,S="",B=D.length,Y=0,re=3*parseInt(B/3);Y<re;)I=D[Y++],T=D[Y++],N=D[Y++],S+=F[I>>>2]+F[63&(I<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var se=B-re;return 1===se?S+=F[(I=D[Y])>>>2]+F[I<<4&63]+"==":2===se&&(I=D[Y++],S+=F[I>>>2]+F[63&(I<<4|(T=D[Y])>>>4)]+F[T<<2&63]+"="),S},p=t.btoa,y=t.atob;if(E){var P=C(9007).lW;p=function(D){return new P(D,"ascii").toString("base64")},h=A=function(D){return new P(D).toString("base64")},y=function(D){return new P(D,"base64").toString("ascii")},U=function(D){return new P(D,"base64").toString()}}else p?(A=function(D){for(var I="",T=0;T<D.length;T++){var N=D.charCodeAt(T);N<128?I+=String.fromCharCode(N):N<2048?I+=String.fromCharCode(192|N>>6)+String.fromCharCode(128|63&N):N<55296||N>=57344?I+=String.fromCharCode(224|N>>12)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N):(N=65536+((1023&N)<<10|1023&D.charCodeAt(++T)),I+=String.fromCharCode(240|N>>18)+String.fromCharCode(128|N>>12&63)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N))}return p(I)},U=function(D){var I=y(D.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(I))return I;for(var Y,re,T="",N=0,S=I.length,B=0;N<S;)if((Y=I.charCodeAt(N++))<=127)T+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)re=31&Y,B=1;else if(Y<=239)re=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";re=7&Y,B=3}for(var se=0;se<B;++se){if((Y=I.charCodeAt(N++))<128||Y>191)throw"not a UTF-8 string";re<<=6,re+=63&Y}if(re>=55296&&re<=57343||re>1114111)throw"not a UTF-8 string";re<=65535?T+=String.fromCharCode(re):(re-=65536,T+=String.fromCharCode(55296+(re>>10)),T+=String.fromCharCode(56320+(1023&re)))}return T}):(p=function(D){for(var I,T,N,S="",B=D.length,Y=0,re=3*parseInt(B/3);Y<re;)I=D.charCodeAt(Y++),T=D.charCodeAt(Y++),N=D.charCodeAt(Y++),S+=F[I>>>2]+F[63&(I<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var se=B-re;return 1===se?(I=D.charCodeAt(Y),S+=F[I>>>2]+F[I<<4&63]+"=="):2===se&&(I=D.charCodeAt(Y++),T=D.charCodeAt(Y),S+=F[I>>>2]+F[63&(I<<4|T>>>4)]+F[T<<2&63]+"="),S},A=function(D){for(var I,T,N,S="",B=function(D){for(var I=[],T=0;T<D.length;T++){var N=D.charCodeAt(T);N<128?I[I.length]=N:N<2048?(I[I.length]=192|N>>6,I[I.length]=128|63&N):N<55296||N>=57344?(I[I.length]=224|N>>12,I[I.length]=128|N>>6&63,I[I.length]=128|63&N):(N=65536+((1023&N)<<10|1023&D.charCodeAt(++T)),I[I.length]=240|N>>18,I[I.length]=128|N>>12&63,I[I.length]=128|N>>6&63,I[I.length]=128|63&N)}return I}(D),Y=B.length,re=0,se=3*parseInt(Y/3);re<se;)I=B[re++],T=B[re++],N=B[re++],S+=F[I>>>2]+F[63&(I<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var Re=Y-se;return 1===Re?S+=F[(I=B[re])>>>2]+F[I<<4&63]+"==":2===Re&&(I=B[re++],S+=F[I>>>2]+F[63&(I<<4|(T=B[re])>>>4)]+F[T<<2&63]+"="),S},y=function(D){var I,T,N,S,B="",Y=D.length;"="===D.charAt(Y-2)?Y-=2:"="===D.charAt(Y-1)&&(Y-=1);for(var re=0,se=Y>>2<<2;re<se;)I=L[D.charAt(re++)],T=L[D.charAt(re++)],N=L[D.charAt(re++)],S=L[D.charAt(re++)],B+=String.fromCharCode(255&(I<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))+String.fromCharCode(255&(N<<6|S));var Re=Y-se;return 2===Re?(I=L[D.charAt(re++)],T=L[D.charAt(re++)],B+=String.fromCharCode(255&(I<<2|T>>>4))):3===Re&&(I=L[D.charAt(re++)],T=L[D.charAt(re++)],N=L[D.charAt(re++)],B+=String.fromCharCode(255&(I<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))),B},U=function(D){for(var Y,re,I="",T=g(D),N=T.length,S=0,B=0;S<N;)if((Y=T[S++])<=127)I+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)re=31&Y,B=1;else if(Y<=239)re=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";re=7&Y,B=3}for(var se=0;se<B;++se){if((Y=T[S++])<128||Y>191)throw"not a UTF-8 string";re<<=6,re+=63&Y}if(re>=55296&&re<=57343||re>1114111)throw"not a UTF-8 string";re<=65535?I+=String.fromCharCode(re):(re-=65536,I+=String.fromCharCode(55296+(re>>10)),I+=String.fromCharCode(56320+(1023&re)))}return I});var k=function(D,I){return I?y(D):U(D)},R={encode:function(D,I){var T="string"!=typeof D;return T&&D.constructor===t.ArrayBuffer&&(D=new Uint8Array(D)),T?h(D):!I&&/[^\x00-\x7F]/.test(D)?A(D):p(D)},decode:k,atob:y,btoa:p};k.bytes=g,k.string=k,O?wn.exports=R:(t.base64=R,b&&void 0!==(c=function(){return R}.call(R,C,R,wn))&&(wn.exports=c))}()},2601:(wn,Ze)=>{Ze.read=function(C,c,t,E,O){var b,F,L=8*O-E-1,x=(1<<L)-1,g=x>>1,h=-7,p=t?O-1:0,y=t?-1:1,A=C[c+p];for(p+=y,b=A&(1<<-h)-1,A>>=-h,h+=L;h>0;b=256*b+C[c+p],p+=y,h-=8);for(F=b&(1<<-h)-1,b>>=-h,h+=E;h>0;F=256*F+C[c+p],p+=y,h-=8);if(0===b)b=1-g;else{if(b===x)return F?NaN:1/0*(A?-1:1);F+=Math.pow(2,E),b-=g}return(A?-1:1)*F*Math.pow(2,b-E)},Ze.write=function(C,c,t,E,O,b){var F,L,x,g=8*b-O-1,h=(1<<g)-1,p=h>>1,y=23===O?Math.pow(2,-24)-Math.pow(2,-77):0,A=E?0:b-1,U=E?1:-1,P=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(L=isNaN(c)?1:0,F=h):(F=Math.floor(Math.log(c)/Math.LN2),c*(x=Math.pow(2,-F))<1&&(F--,x*=2),(c+=F+p>=1?y/x:y*Math.pow(2,1-p))*x>=2&&(F++,x/=2),F+p>=h?(L=0,F=h):F+p>=1?(L=(c*x-1)*Math.pow(2,O),F+=p):(L=c*Math.pow(2,p-1)*Math.pow(2,O),F=0));O>=8;C[t+A]=255&L,A+=U,L/=256,O-=8);for(F=F<<O|L,g+=O;g>0;C[t+A]=255&F,A+=U,F/=256,g-=8);C[t+A-U]|=128*P}},5619:(wn,Ze,C)=>{"use strict";C.d(Ze,{X:()=>t});var c=C(8645);class t extends c.x{constructor(O){super(),this._value=O}get value(){return this.getValue()}_subscribe(O){const b=super._subscribe(O);return!b.closed&&O.next(this._value),b}getValue(){const{hasError:O,thrownError:b,_value:F}=this;if(O)throw b;return this._throwIfClosed(),F}next(O){super.next(this._value=O)}}},5592:(wn,Ze,C)=>{"use strict";C.d(Ze,{y:()=>x});var c=C(305),t=C(7394),E=C(4850),O=C(8407),b=C(2653),F=C(4674),L=C(1441);let x=(()=>{class y{constructor(U){U&&(this._subscribe=U)}lift(U){const P=new y;return P.source=this,P.operator=U,P}subscribe(U,P,V){const k=function p(y){return y&&y instanceof c.Lv||function h(y){return y&&(0,F.m)(y.next)&&(0,F.m)(y.error)&&(0,F.m)(y.complete)}(y)&&(0,t.Nn)(y)}(U)?U:new c.Hp(U,P,V);return(0,L.x)(()=>{const{operator:R,source:D}=this;k.add(R?R.call(k,D):D?this._subscribe(k):this._trySubscribe(k))}),k}_trySubscribe(U){try{return this._subscribe(U)}catch(P){U.error(P)}}forEach(U,P){return new(P=g(P))((V,k)=>{const R=new c.Hp({next:D=>{try{U(D)}catch(I){k(I),R.unsubscribe()}},error:k,complete:V});this.subscribe(R)})}_subscribe(U){var P;return null===(P=this.source)||void 0===P?void 0:P.subscribe(U)}[E.L](){return this}pipe(...U){return(0,O.U)(U)(this)}toPromise(U){return new(U=g(U))((P,V)=>{let k;this.subscribe(R=>k=R,R=>V(R),()=>P(k))})}}return y.create=A=>new y(A),y})();function g(y){var A;return null!==(A=y??b.config.Promise)&&void 0!==A?A:Promise}},8645:(wn,Ze,C)=>{"use strict";C.d(Ze,{x:()=>L});var c=C(5592),t=C(7394);const O=(0,C(2306).d)(g=>function(){g(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var b=C(9039),F=C(1441);let L=(()=>{class g extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(p){const y=new x(this,this);return y.operator=p,y}_throwIfClosed(){if(this.closed)throw new O}next(p){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const y of this.currentObservers)y.next(p)}})}error(p){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=p;const{observers:y}=this;for(;y.length;)y.shift().error(p)}})}complete(){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:p}=this;for(;p.length;)p.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var p;return(null===(p=this.observers)||void 0===p?void 0:p.length)>0}_trySubscribe(p){return this._throwIfClosed(),super._trySubscribe(p)}_subscribe(p){return this._throwIfClosed(),this._checkFinalizedStatuses(p),this._innerSubscribe(p)}_innerSubscribe(p){const{hasError:y,isStopped:A,observers:U}=this;return y||A?t.Lc:(this.currentObservers=null,U.push(p),new t.w0(()=>{this.currentObservers=null,(0,b.P)(U,p)}))}_checkFinalizedStatuses(p){const{hasError:y,thrownError:A,isStopped:U}=this;y?p.error(A):U&&p.complete()}asObservable(){const p=new c.y;return p.source=this,p}}return g.create=(h,p)=>new x(h,p),g})();class x extends L{constructor(h,p){super(),this.destination=h,this.source=p}next(h){var p,y;null===(y=null===(p=this.destination)||void 0===p?void 0:p.next)||void 0===y||y.call(p,h)}error(h){var p,y;null===(y=null===(p=this.destination)||void 0===p?void 0:p.error)||void 0===y||y.call(p,h)}complete(){var h,p;null===(p=null===(h=this.destination)||void 0===h?void 0:h.complete)||void 0===p||p.call(h)}_subscribe(h){var p,y;return null!==(y=null===(p=this.source)||void 0===p?void 0:p.subscribe(h))&&void 0!==y?y:t.Lc}}},305:(wn,Ze,C)=>{"use strict";C.d(Ze,{Hp:()=>V,Lv:()=>y});var c=C(4674),t=C(7394),E=C(2653),O=C(3894),b=C(2420);const F=g("C",void 0,void 0);function g(T,N,S){return{kind:T,value:N,error:S}}var h=C(7599),p=C(1441);class y extends t.w0{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,t.Nn)(N)&&N.add(this)):this.destination=I}static create(N,S,B){return new V(N,S,B)}next(N){this.isStopped?D(function x(T){return g("N",T,void 0)}(N),this):this._next(N)}error(N){this.isStopped?D(function L(T){return g("E",void 0,T)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?D(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A=Function.prototype.bind;function U(T,N){return A.call(T,N)}class P{constructor(N){this.partialObserver=N}next(N){const{partialObserver:S}=this;if(S.next)try{S.next(N)}catch(B){k(B)}}error(N){const{partialObserver:S}=this;if(S.error)try{S.error(N)}catch(B){k(B)}else k(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(S){k(S)}}}class V extends y{constructor(N,S,B){let Y;if(super(),(0,c.m)(N)||!N)Y={next:N??void 0,error:S??void 0,complete:B??void 0};else{let re;this&&E.config.useDeprecatedNextContext?(re=Object.create(N),re.unsubscribe=()=>this.unsubscribe(),Y={next:N.next&&U(N.next,re),error:N.error&&U(N.error,re),complete:N.complete&&U(N.complete,re)}):Y=N}this.destination=new P(Y)}}function k(T){E.config.useDeprecatedSynchronousErrorHandling?(0,p.O)(T):(0,O.h)(T)}function D(T,N){const{onStoppedNotification:S}=E.config;S&&h.z.setTimeout(()=>S(T,N))}const I={closed:!0,next:b.Z,error:function R(T){throw T},complete:b.Z}},7394:(wn,Ze,C)=>{"use strict";C.d(Ze,{Lc:()=>F,w0:()=>b,Nn:()=>L});var c=C(4674);const E=(0,C(2306).d)(g=>function(p){g(this),this.message=p?`${p.length} errors occurred during unsubscription:\n${p.map((y,A)=>`${A+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=p});var O=C(9039);class b{constructor(h){this.initialTeardown=h,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let h;if(!this.closed){this.closed=!0;const{_parentage:p}=this;if(p)if(this._parentage=null,Array.isArray(p))for(const U of p)U.remove(this);else p.remove(this);const{initialTeardown:y}=this;if((0,c.m)(y))try{y()}catch(U){h=U instanceof E?U.errors:[U]}const{_finalizers:A}=this;if(A){this._finalizers=null;for(const U of A)try{x(U)}catch(P){h=h??[],P instanceof E?h=[...h,...P.errors]:h.push(P)}}if(h)throw new E(h)}}add(h){var p;if(h&&h!==this)if(this.closed)x(h);else{if(h instanceof b){if(h.closed||h._hasParent(this))return;h._addParent(this)}(this._finalizers=null!==(p=this._finalizers)&&void 0!==p?p:[]).push(h)}}_hasParent(h){const{_parentage:p}=this;return p===h||Array.isArray(p)&&p.includes(h)}_addParent(h){const{_parentage:p}=this;this._parentage=Array.isArray(p)?(p.push(h),p):p?[p,h]:h}_removeParent(h){const{_parentage:p}=this;p===h?this._parentage=null:Array.isArray(p)&&(0,O.P)(p,h)}remove(h){const{_finalizers:p}=this;p&&(0,O.P)(p,h),h instanceof b&&h._removeParent(this)}}b.EMPTY=(()=>{const g=new b;return g.closed=!0,g})();const F=b.EMPTY;function L(g){return g instanceof b||g&&"closed"in g&&(0,c.m)(g.remove)&&(0,c.m)(g.add)&&(0,c.m)(g.unsubscribe)}function x(g){(0,c.m)(g)?g():g.unsubscribe()}},2653:(wn,Ze,C)=>{"use strict";C.d(Ze,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(wn,Ze,C)=>{"use strict";C.d(Ze,{c:()=>F});var c=C(5592),t=C(7394),E=C(6196),O=C(8251),b=C(9360);class F extends c.y{constructor(x,g){super(),this.source=x,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,b.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new t.w0;const g=this.getSubject();x.add(this.source.subscribe((0,O.x)(g,void 0,()=>{this._teardown(),g.complete()},h=>{this._teardown(),g.error(h)},()=>this._teardown()))),x.closed&&(this._connection=null,x=t.w0.EMPTY)}return x}refCount(){return(0,E.x)()(this)}}},2572:(wn,Ze,C)=>{"use strict";C.d(Ze,{a:()=>h});var c=C(5592),t=C(7453),E=C(7715),O=C(2737),b=C(7400),F=C(9940),L=C(2714),x=C(8251),g=C(7103);function h(...A){const U=(0,F.yG)(A),P=(0,F.jO)(A),{args:V,keys:k}=(0,t.D)(A);if(0===V.length)return(0,E.D)([],U);const R=new c.y(function p(A,U,P=O.y){return V=>{y(U,()=>{const{length:k}=A,R=new Array(k);let D=k,I=k;for(let T=0;T<k;T++)y(U,()=>{const N=(0,E.D)(A[T],U);let S=!1;N.subscribe((0,x.x)(V,B=>{R[T]=B,S||(S=!0,I--),I||V.next(P(R.slice()))},()=>{--D||V.complete()}))},V)},V)}}(V,U,k?D=>(0,L.n)(k,D):O.y));return P?R.pipe((0,b.Z)(P)):R}function y(A,U,P){A?(0,g.f)(P,A,U):U()}},5211:(wn,Ze,C)=>{"use strict";C.d(Ze,{z:()=>b});var c=C(7537),E=C(9940),O=C(7715);function b(...F){return function t(){return(0,c.J)(1)}()((0,O.D)(F,(0,E.yG)(F)))}},4911:(wn,Ze,C)=>{"use strict";C.d(Ze,{P:()=>E});var c=C(5592),t=C(4829);function E(O){return new c.y(b=>{(0,t.Xf)(O()).subscribe(b)})}},6232:(wn,Ze,C)=>{"use strict";C.d(Ze,{E:()=>t});const t=new(C(5592).y)(b=>b.complete())},7715:(wn,Ze,C)=>{"use strict";C.d(Ze,{D:()=>B});var c=C(4829),t=C(7103),E=C(9360),O=C(8251);function b(Y,re=0){return(0,E.e)((se,Re)=>{se.subscribe((0,O.x)(Re,z=>(0,t.f)(Re,Y,()=>Re.next(z),re),()=>(0,t.f)(Re,Y,()=>Re.complete(),re),z=>(0,t.f)(Re,Y,()=>Re.error(z),re)))})}function F(Y,re=0){return(0,E.e)((se,Re)=>{Re.add(Y.schedule(()=>se.subscribe(Re),re))})}var g=C(5592),p=C(4971),y=C(4674);function U(Y,re){if(!Y)throw new Error("Iterable cannot be null");return new g.y(se=>{(0,t.f)(se,re,()=>{const Re=Y[Symbol.asyncIterator]();(0,t.f)(se,re,()=>{Re.next().then(z=>{z.done?se.complete():se.next(z.value)})},0,!0)})})}var P=C(8382),V=C(4026),k=C(4266),R=C(3664),D=C(5726),I=C(9853),T=C(541);function B(Y,re){return re?function S(Y,re){if(null!=Y){if((0,P.c)(Y))return function L(Y,re){return(0,c.Xf)(Y).pipe(F(re),b(re))}(Y,re);if((0,k.z)(Y))return function h(Y,re){return new g.y(se=>{let Re=0;return re.schedule(function(){Re===Y.length?se.complete():(se.next(Y[Re++]),se.closed||this.schedule())})})}(Y,re);if((0,V.t)(Y))return function x(Y,re){return(0,c.Xf)(Y).pipe(F(re),b(re))}(Y,re);if((0,D.D)(Y))return U(Y,re);if((0,R.T)(Y))return function A(Y,re){return new g.y(se=>{let Re;return(0,t.f)(se,re,()=>{Re=Y[p.h](),(0,t.f)(se,re,()=>{let z,oe;try{({value:z,done:oe}=Re.next())}catch(H){return void se.error(H)}oe?se.complete():se.next(z)},0,!0)}),()=>(0,y.m)(Re?.return)&&Re.return()})}(Y,re);if((0,T.L)(Y))return function N(Y,re){return U((0,T.Q)(Y),re)}(Y,re)}throw(0,I.z)(Y)}(Y,re):(0,c.Xf)(Y)}},2438:(wn,Ze,C)=>{"use strict";C.d(Ze,{R:()=>h});var c=C(4829),t=C(5592),E=C(1631),O=C(4266),b=C(4674),F=C(7400);const L=["addListener","removeListener"],x=["addEventListener","removeEventListener"],g=["on","off"];function h(P,V,k,R){if((0,b.m)(k)&&(R=k,k=void 0),R)return h(P,V,k).pipe((0,F.Z)(R));const[D,I]=function U(P){return(0,b.m)(P.addEventListener)&&(0,b.m)(P.removeEventListener)}(P)?x.map(T=>N=>P[T](V,N,k)):function y(P){return(0,b.m)(P.addListener)&&(0,b.m)(P.removeListener)}(P)?L.map(p(P,V)):function A(P){return(0,b.m)(P.on)&&(0,b.m)(P.off)}(P)?g.map(p(P,V)):[];if(!D&&(0,O.z)(P))return(0,E.z)(T=>h(T,V,k))((0,c.Xf)(P));if(!D)throw new TypeError("Invalid event target");return new t.y(T=>{const N=(...S)=>T.next(1<S.length?S:S[0]);return D(N),()=>I(N)})}function p(P,V){return k=>R=>P[k](V,R)}},4829:(wn,Ze,C)=>{"use strict";C.d(Ze,{Xf:()=>A});var c=C(7582),t=C(4266),E=C(4026),O=C(5592),b=C(8382),F=C(5726),L=C(9853),x=C(3664),g=C(541),h=C(4674),p=C(3894),y=C(4850);function A(T){if(T instanceof O.y)return T;if(null!=T){if((0,b.c)(T))return function U(T){return new O.y(N=>{const S=T[y.L]();if((0,h.m)(S.subscribe))return S.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(T);if((0,t.z)(T))return function P(T){return new O.y(N=>{for(let S=0;S<T.length&&!N.closed;S++)N.next(T[S]);N.complete()})}(T);if((0,E.t)(T))return function V(T){return new O.y(N=>{T.then(S=>{N.closed||(N.next(S),N.complete())},S=>N.error(S)).then(null,p.h)})}(T);if((0,F.D)(T))return R(T);if((0,x.T)(T))return function k(T){return new O.y(N=>{for(const S of T)if(N.next(S),N.closed)return;N.complete()})}(T);if((0,g.L)(T))return function D(T){return R((0,g.Q)(T))}(T)}throw(0,L.z)(T)}function R(T){return new O.y(N=>{(function I(T,N){var S,B,Y,re;return(0,c.mG)(this,void 0,void 0,function*(){try{for(S=(0,c.KL)(T);!(B=yield S.next()).done;)if(N.next(B.value),N.closed)return}catch(se){Y={error:se}}finally{try{B&&!B.done&&(re=S.return)&&(yield re.call(S))}finally{if(Y)throw Y.error}}N.complete()})})(T,N).catch(S=>N.error(S))})}},3019:(wn,Ze,C)=>{"use strict";C.d(Ze,{T:()=>F});var c=C(7537),t=C(4829),E=C(6232),O=C(9940),b=C(7715);function F(...L){const x=(0,O.yG)(L),g=(0,O._6)(L,1/0),h=L;return h.length?1===h.length?(0,t.Xf)(h[0]):(0,c.J)(g)((0,b.D)(h,x)):E.E}},2096:(wn,Ze,C)=>{"use strict";C.d(Ze,{of:()=>E});var c=C(9940),t=C(7715);function E(...O){const b=(0,c.yG)(O);return(0,t.D)(O,b)}},4825:(wn,Ze,C)=>{"use strict";C.d(Ze,{H:()=>b});var c=C(5592),t=C(6321),E=C(671);function b(F=0,L,x=t.P){let g=-1;return null!=L&&((0,E.K)(L)?x=L:g=L),new c.y(h=>{let p=function O(F){return F instanceof Date&&!isNaN(F)}(F)?+F-x.now():F;p<0&&(p=0);let y=0;return x.schedule(function(){h.closed||(h.next(y++),0<=g?this.schedule(void 0,g):h.complete())},p)})}},8251:(wn,Ze,C)=>{"use strict";C.d(Ze,{x:()=>t});var c=C(305);function t(O,b,F,L,x){return new E(O,b,F,L,x)}class E extends c.Lv{constructor(b,F,L,x,g,h){super(b),this.onFinalize=g,this.shouldUnsubscribe=h,this._next=F?function(p){try{F(p)}catch(y){b.error(y)}}:super._next,this._error=x?function(p){try{x(p)}catch(y){b.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(p){b.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:F}=this;super.unsubscribe(),!F&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}},6328:(wn,Ze,C)=>{"use strict";C.d(Ze,{b:()=>E});var c=C(1631),t=C(4674);function E(O,b){return(0,t.m)(b)?(0,c.z)(O,b,1):(0,c.z)(O,1)}},3620:(wn,Ze,C)=>{"use strict";C.d(Ze,{b:()=>O});var c=C(6321),t=C(9360),E=C(8251);function O(b,F=c.z){return(0,t.e)((L,x)=>{let g=null,h=null,p=null;const y=()=>{if(g){g.unsubscribe(),g=null;const U=h;h=null,x.next(U)}};function A(){const U=p+b,P=F.now();if(P<U)return g=this.schedule(void 0,U-P),void x.add(g);y()}L.subscribe((0,E.x)(x,U=>{h=U,p=F.now(),g||(g=F.schedule(A,b),x.add(g))},()=>{y(),x.complete()},void 0,()=>{h=g=null}))})}},3997:(wn,Ze,C)=>{"use strict";C.d(Ze,{x:()=>O});var c=C(2737),t=C(9360),E=C(8251);function O(F,L=c.y){return F=F??b,(0,t.e)((x,g)=>{let h,p=!0;x.subscribe((0,E.x)(g,y=>{const A=L(y);(p||!F(h,A))&&(p=!1,h=A,g.next(y))}))})}function b(F,L){return F===L}},2181:(wn,Ze,C)=>{"use strict";C.d(Ze,{h:()=>E});var c=C(9360),t=C(8251);function E(O,b){return(0,c.e)((F,L)=>{let x=0;F.subscribe((0,t.x)(L,g=>O.call(b,g,x++)&&L.next(g)))})}},4716:(wn,Ze,C)=>{"use strict";C.d(Ze,{x:()=>t});var c=C(9360);function t(E){return(0,c.e)((O,b)=>{try{O.subscribe(b)}finally{b.add(E)}})}},7398:(wn,Ze,C)=>{"use strict";C.d(Ze,{U:()=>E});var c=C(9360),t=C(8251);function E(O,b){return(0,c.e)((F,L)=>{let x=0;F.subscribe((0,t.x)(L,g=>{L.next(O.call(b,g,x++))}))})}},975:(wn,Ze,C)=>{"use strict";C.d(Ze,{h:()=>t});var c=C(7398);function t(E){return(0,c.U)(()=>E)}},7537:(wn,Ze,C)=>{"use strict";C.d(Ze,{J:()=>E});var c=C(1631),t=C(2737);function E(O=1/0){return(0,c.z)(t.y,O)}},1631:(wn,Ze,C)=>{"use strict";C.d(Ze,{z:()=>x});var c=C(7398),t=C(4829),E=C(9360),O=C(7103),b=C(8251),L=C(4674);function x(g,h,p=1/0){return(0,L.m)(h)?x((y,A)=>(0,c.U)((U,P)=>h(y,U,A,P))((0,t.Xf)(g(y,A))),p):("number"==typeof h&&(p=h),(0,E.e)((y,A)=>function F(g,h,p,y,A,U,P,V){const k=[];let R=0,D=0,I=!1;const T=()=>{I&&!k.length&&!R&&h.complete()},N=B=>R<y?S(B):k.push(B),S=B=>{U&&h.next(B),R++;let Y=!1;(0,t.Xf)(p(B,D++)).subscribe((0,b.x)(h,re=>{A?.(re),U?N(re):h.next(re)},()=>{Y=!0},void 0,()=>{if(Y)try{for(R--;k.length&&R<y;){const re=k.shift();P?(0,O.f)(h,P,()=>S(re)):S(re)}T()}catch(re){h.error(re)}}))};return g.subscribe((0,b.x)(h,N,()=>{I=!0,T()})),()=>{V?.()}}(y,A,g,p)))}},6196:(wn,Ze,C)=>{"use strict";C.d(Ze,{x:()=>E});var c=C(9360),t=C(8251);function E(){return(0,c.e)((O,b)=>{let F=null;O._refCount++;const L=(0,t.x)(b,void 0,void 0,void 0,()=>{if(!O||O._refCount<=0||0<--O._refCount)return void(F=null);const x=O._connection,g=F;F=null,x&&(!g||x===g)&&x.unsubscribe(),b.unsubscribe()});O.subscribe(L),L.closed||(F=O.connect())})}},3020:(wn,Ze,C)=>{"use strict";C.d(Ze,{B:()=>b});var c=C(4829),t=C(8645),E=C(305),O=C(9360);function b(L={}){const{connector:x=(()=>new t.x),resetOnError:g=!0,resetOnComplete:h=!0,resetOnRefCountZero:p=!0}=L;return y=>{let A,U,P,V=0,k=!1,R=!1;const D=()=>{U?.unsubscribe(),U=void 0},I=()=>{D(),A=P=void 0,k=R=!1},T=()=>{const N=A;I(),N?.unsubscribe()};return(0,O.e)((N,S)=>{V++,!R&&!k&&D();const B=P=P??x();S.add(()=>{V--,0===V&&!R&&!k&&(U=F(T,p))}),B.subscribe(S),!A&&V>0&&(A=new E.Hp({next:Y=>B.next(Y),error:Y=>{R=!0,D(),U=F(I,g,Y),B.error(Y)},complete:()=>{k=!0,D(),U=F(I,h),B.complete()}}),(0,c.Xf)(N).subscribe(A))})(y)}}function F(L,x,...g){if(!0===x)return void L();if(!1===x)return;const h=new E.Hp({next:()=>{h.unsubscribe(),L()}});return(0,c.Xf)(x(...g)).subscribe(h)}},836:(wn,Ze,C)=>{"use strict";C.d(Ze,{T:()=>t});var c=C(2181);function t(E){return(0,c.h)((O,b)=>E<=b)}},7921:(wn,Ze,C)=>{"use strict";C.d(Ze,{O:()=>O});var c=C(5211),t=C(9940),E=C(9360);function O(...b){const F=(0,t.yG)(b);return(0,E.e)((L,x)=>{(F?(0,c.z)(b,L,F):(0,c.z)(b,L)).subscribe(x)})}},4664:(wn,Ze,C)=>{"use strict";C.d(Ze,{w:()=>O});var c=C(4829),t=C(9360),E=C(8251);function O(b,F){return(0,t.e)((L,x)=>{let g=null,h=0,p=!1;const y=()=>p&&!g&&x.complete();L.subscribe((0,E.x)(x,A=>{g?.unsubscribe();let U=0;const P=h++;(0,c.Xf)(b(A,P)).subscribe(g=(0,E.x)(x,V=>x.next(F?F(A,V,P,U++):V),()=>{g=null,y()}))},()=>{p=!0,y()}))})}},8180:(wn,Ze,C)=>{"use strict";C.d(Ze,{q:()=>O});var c=C(6232),t=C(9360),E=C(8251);function O(b){return b<=0?()=>c.E:(0,t.e)((F,L)=>{let x=0;F.subscribe((0,E.x)(L,g=>{++x<=b&&(L.next(g),b<=x&&L.complete())}))})}},9773:(wn,Ze,C)=>{"use strict";C.d(Ze,{R:()=>b});var c=C(9360),t=C(8251),E=C(4829),O=C(2420);function b(F){return(0,c.e)((L,x)=>{(0,E.Xf)(F).subscribe((0,t.x)(x,()=>x.complete(),O.Z)),!x.closed&&L.subscribe(x)})}},9397:(wn,Ze,C)=>{"use strict";C.d(Ze,{b:()=>b});var c=C(4674),t=C(9360),E=C(8251),O=C(2737);function b(F,L,x){const g=(0,c.m)(F)||L||x?{next:F,error:L,complete:x}:F;return g?(0,t.e)((h,p)=>{var y;null===(y=g.subscribe)||void 0===y||y.call(g);let A=!0;h.subscribe((0,E.x)(p,U=>{var P;null===(P=g.next)||void 0===P||P.call(g,U),p.next(U)},()=>{var U;A=!1,null===(U=g.complete)||void 0===U||U.call(g),p.complete()},U=>{var P;A=!1,null===(P=g.error)||void 0===P||P.call(g,U),p.error(U)},()=>{var U,P;A&&(null===(U=g.unsubscribe)||void 0===U||U.call(g)),null===(P=g.finalize)||void 0===P||P.call(g)}))}):O.y}},1954:(wn,Ze,C)=>{"use strict";C.d(Ze,{o:()=>b});var c=C(7394);class t extends c.w0{constructor(L,x){super()}schedule(L,x=0){return this}}const E={setInterval(F,L,...x){const{delegate:g}=E;return g?.setInterval?g.setInterval(F,L,...x):setInterval(F,L,...x)},clearInterval(F){const{delegate:L}=E;return(L?.clearInterval||clearInterval)(F)},delegate:void 0};var O=C(9039);class b extends t{constructor(L,x){super(L,x),this.scheduler=L,this.work=x,this.pending=!1}schedule(L,x=0){var g;if(this.closed)return this;this.state=L;const h=this.id,p=this.scheduler;return null!=h&&(this.id=this.recycleAsyncId(p,h,x)),this.pending=!0,this.delay=x,this.id=null!==(g=this.id)&&void 0!==g?g:this.requestAsyncId(p,this.id,x),this}requestAsyncId(L,x,g=0){return E.setInterval(L.flush.bind(L,this),g)}recycleAsyncId(L,x,g=0){if(null!=g&&this.delay===g&&!1===this.pending)return x;null!=x&&E.clearInterval(x)}execute(L,x){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const g=this._execute(L,x);if(g)return g;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,x){let h,g=!1;try{this.work(L)}catch(p){g=!0,h=p||new Error("Scheduled action threw falsy error")}if(g)return this.unsubscribe(),h}unsubscribe(){if(!this.closed){const{id:L,scheduler:x}=this,{actions:g}=x;this.work=this.state=this.scheduler=null,this.pending=!1,(0,O.P)(g,this),null!=L&&(this.id=this.recycleAsyncId(x,L,null)),this.delay=null,super.unsubscribe()}}}},2631:(wn,Ze,C)=>{"use strict";C.d(Ze,{v:()=>E});var c=C(4552);class t{constructor(b,F=t.now){this.schedulerActionCtor=b,this.now=F}schedule(b,F=0,L){return new this.schedulerActionCtor(this,b).schedule(L,F)}}t.now=c.l.now;class E extends t{constructor(b,F=t.now){super(b,F),this.actions=[],this._active=!1}flush(b){const{actions:F}=this;if(this._active)return void F.push(b);let L;this._active=!0;do{if(L=b.execute(b.state,b.delay))break}while(b=F.shift());if(this._active=!1,L){for(;b=F.shift();)b.unsubscribe();throw L}}}},6321:(wn,Ze,C)=>{"use strict";C.d(Ze,{P:()=>O,z:()=>E});var c=C(1954);const E=new(C(2631).v)(c.o),O=E},4552:(wn,Ze,C)=>{"use strict";C.d(Ze,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(wn,Ze,C)=>{"use strict";C.d(Ze,{z:()=>c});const c={setTimeout(t,E,...O){const{delegate:b}=c;return b?.setTimeout?b.setTimeout(t,E,...O):setTimeout(t,E,...O)},clearTimeout(t){const{delegate:E}=c;return(E?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(wn,Ze,C)=>{"use strict";C.d(Ze,{h:()=>t});const t=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(wn,Ze,C)=>{"use strict";C.d(Ze,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(wn,Ze,C)=>{"use strict";C.d(Ze,{_6:()=>F,jO:()=>O,yG:()=>b});var c=C(4674),t=C(671);function E(L){return L[L.length-1]}function O(L){return(0,c.m)(E(L))?L.pop():void 0}function b(L){return(0,t.K)(E(L))?L.pop():void 0}function F(L,x){return"number"==typeof E(L)?L.pop():x}},7453:(wn,Ze,C)=>{"use strict";C.d(Ze,{D:()=>b});const{isArray:c}=Array,{getPrototypeOf:t,prototype:E,keys:O}=Object;function b(L){if(1===L.length){const x=L[0];if(c(x))return{args:x,keys:null};if(function F(L){return L&&"object"==typeof L&&t(L)===E}(x)){const g=O(x);return{args:g.map(h=>x[h]),keys:g}}}return{args:L,keys:null}}},9039:(wn,Ze,C)=>{"use strict";function c(t,E){if(t){const O=t.indexOf(E);0<=O&&t.splice(O,1)}}C.d(Ze,{P:()=>c})},2306:(wn,Ze,C)=>{"use strict";function c(t){const O=t(b=>{Error.call(b),b.stack=(new Error).stack});return O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,O}C.d(Ze,{d:()=>c})},2714:(wn,Ze,C)=>{"use strict";function c(t,E){return t.reduce((O,b,F)=>(O[b]=E[F],O),{})}C.d(Ze,{n:()=>c})},1441:(wn,Ze,C)=>{"use strict";C.d(Ze,{O:()=>O,x:()=>E});var c=C(2653);let t=null;function E(b){if(c.config.useDeprecatedSynchronousErrorHandling){const F=!t;if(F&&(t={errorThrown:!1,error:null}),b(),F){const{errorThrown:L,error:x}=t;if(t=null,L)throw x}}else b()}function O(b){c.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=b)}},7103:(wn,Ze,C)=>{"use strict";function c(t,E,O,b=0,F=!1){const L=E.schedule(function(){O(),F?t.add(this.schedule(null,b)):this.unsubscribe()},b);if(t.add(L),!F)return L}C.d(Ze,{f:()=>c})},2737:(wn,Ze,C)=>{"use strict";function c(t){return t}C.d(Ze,{y:()=>c})},4266:(wn,Ze,C)=>{"use strict";C.d(Ze,{z:()=>c});const c=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(wn,Ze,C)=>{"use strict";C.d(Ze,{D:()=>t});var c=C(4674);function t(E){return Symbol.asyncIterator&&(0,c.m)(E?.[Symbol.asyncIterator])}},4674:(wn,Ze,C)=>{"use strict";function c(t){return"function"==typeof t}C.d(Ze,{m:()=>c})},8382:(wn,Ze,C)=>{"use strict";C.d(Ze,{c:()=>E});var c=C(4850),t=C(4674);function E(O){return(0,t.m)(O[c.L])}},3664:(wn,Ze,C)=>{"use strict";C.d(Ze,{T:()=>E});var c=C(4971),t=C(4674);function E(O){return(0,t.m)(O?.[c.h])}},2664:(wn,Ze,C)=>{"use strict";C.d(Ze,{b:()=>E});var c=C(5592),t=C(4674);function E(O){return!!O&&(O instanceof c.y||(0,t.m)(O.lift)&&(0,t.m)(O.subscribe))}},4026:(wn,Ze,C)=>{"use strict";C.d(Ze,{t:()=>t});var c=C(4674);function t(E){return(0,c.m)(E?.then)}},541:(wn,Ze,C)=>{"use strict";C.d(Ze,{L:()=>O,Q:()=>E});var c=C(7582),t=C(4674);function E(b){return(0,c.FC)(this,arguments,function*(){const L=b.getReader();try{for(;;){const{value:x,done:g}=yield(0,c.qq)(L.read());if(g)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(x)}}finally{L.releaseLock()}})}function O(b){return(0,t.m)(b?.getReader)}},671:(wn,Ze,C)=>{"use strict";C.d(Ze,{K:()=>t});var c=C(4674);function t(E){return E&&(0,c.m)(E.schedule)}},9360:(wn,Ze,C)=>{"use strict";C.d(Ze,{A:()=>t,e:()=>E});var c=C(4674);function t(O){return(0,c.m)(O?.lift)}function E(O){return b=>{if(t(b))return b.lift(function(F){try{return O(F,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(wn,Ze,C)=>{"use strict";C.d(Ze,{Z:()=>O});var c=C(7398);const{isArray:t}=Array;function O(b){return(0,c.U)(F=>function E(b,F){return t(F)?b(...F):b(F)}(b,F))}},2420:(wn,Ze,C)=>{"use strict";function c(){}C.d(Ze,{Z:()=>c})},8407:(wn,Ze,C)=>{"use strict";C.d(Ze,{U:()=>E,z:()=>t});var c=C(2737);function t(...O){return E(O)}function E(O){return 0===O.length?c.y:1===O.length?O[0]:function(F){return O.reduce((L,x)=>x(L),F)}}},3894:(wn,Ze,C)=>{"use strict";C.d(Ze,{h:()=>E});var c=C(2653),t=C(7599);function E(O){t.z.setTimeout(()=>{const{onUnhandledError:b}=c.config;if(!b)throw O;b(O)})}},9853:(wn,Ze,C)=>{"use strict";function c(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(Ze,{z:()=>c})},6825:(wn,Ze,C)=>{"use strict";C.d(Ze,{F4:()=>h,IO:()=>P,LC:()=>t,SB:()=>g,X$:()=>O,ZE:()=>R,ZN:()=>k,_j:()=>c,eR:()=>p,jt:()=>b,k1:()=>D,l3:()=>E,oB:()=>x,pV:()=>A,ru:()=>F,vP:()=>L});class c{}class t{}const E="*";function O(I,T){return{type:7,name:I,definitions:T,options:{}}}function b(I,T=null){return{type:4,styles:T,timings:I}}function F(I,T=null){return{type:3,steps:I,options:T}}function L(I,T=null){return{type:2,steps:I,options:T}}function x(I){return{type:6,styles:I,offset:null}}function g(I,T,N){return{type:0,name:I,styles:T,options:N}}function h(I){return{type:5,steps:I}}function p(I,T,N=null){return{type:1,expr:I,animation:T,options:N}}function A(I=null){return{type:9,options:I}}function P(I,T,N=null){return{type:11,selector:I,animation:T,options:N}}class k{constructor(T=0,N=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=T+N}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}onStart(T){this._originalOnStartFns.push(T),this._onStartFns.push(T)}onDone(T){this._originalOnDoneFns.push(T),this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(T=>T()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(T){this._position=this.totalTime?T*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(S=>S()),N.length=0}}class R{constructor(T){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=T;let N=0,S=0,B=0;const Y=this.players.length;0==Y?queueMicrotask(()=>this._onFinish()):this.players.forEach(re=>{re.onDone(()=>{++N==Y&&this._onFinish()}),re.onDestroy(()=>{++S==Y&&this._onDestroy()}),re.onStart(()=>{++B==Y&&this._onStart()})}),this.totalTime=this.players.reduce((re,se)=>Math.max(re,se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}init(){this.players.forEach(T=>T.init())}onStart(T){this._onStartFns.push(T)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(T=>T()),this._onStartFns=[])}onDone(T){this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(T=>T.play())}pause(){this.players.forEach(T=>T.pause())}restart(){this.players.forEach(T=>T.restart())}finish(){this._onFinish(),this.players.forEach(T=>T.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(T=>T.destroy()),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this.players.forEach(T=>T.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(T){const N=T*this.totalTime;this.players.forEach(S=>{const B=S.totalTime?Math.min(1,N/S.totalTime):1;S.setPosition(B)})}getPosition(){const T=this.players.reduce((N,S)=>null===N||S.totalTime>N.totalTime?S:N,null);return null!=T?T.getPosition():0}beforeDestroy(){this.players.forEach(T=>{T.beforeDestroy&&T.beforeDestroy()})}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(S=>S()),N.length=0}}const D="!"},4300:(wn,Ze,C)=>{"use strict";C.d(Ze,{$s:()=>Re,Kd:()=>qe,X6:()=>Q,Zf:()=>T,iD:()=>N,ic:()=>Se,kH:()=>Gt,mK:()=>ie,qV:()=>K,qm:()=>gn,rt:()=>jn,s1:()=>me,tE:()=>Rt,yG:()=>q});var c=C(6814),t=C(5879),E=C(2831),O=C(8645),b=C(7394),F=C(5619),L=C(2096),x=C(6028),g=C(9397),h=C(3620),p=C(2181),y=C(7398),A=C(8180),U=C(836),P=C(3997),V=C(9773),k=C(2495),R=C(7131),D=C(1088);const I=" ";function T(ot,dt,xe){const fe=S(ot,dt);fe.some(pe=>pe.trim()==xe.trim())||(fe.push(xe.trim()),ot.setAttribute(dt,fe.join(I)))}function N(ot,dt,xe){const pe=S(ot,dt).filter(at=>at!=xe.trim());pe.length?ot.setAttribute(dt,pe.join(I)):ot.removeAttribute(dt)}function S(ot,dt){return(ot.getAttribute(dt)||"").match(/\S+/g)||[]}const Y="cdk-describedby-message",re="cdk-describedby-host";let se=0,Re=(()=>{class ot{constructor(xe,fe){this._platform=fe,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+se++,this._document=xe,this._id=(0,t.f3M)(t.AFp)+"-"+se++}describe(xe,fe,pe){if(!this._canBeDescribed(xe,fe))return;const at=z(fe,pe);"string"!=typeof fe?(oe(fe,this._id),this._messageRegistry.set(at,{messageElement:fe,referenceCount:0})):this._messageRegistry.has(at)||this._createMessageElement(fe,pe),this._isElementDescribedByMessage(xe,at)||this._addMessageReference(xe,at)}removeDescription(xe,fe,pe){if(!fe||!this._isElementNode(xe))return;const at=z(fe,pe);if(this._isElementDescribedByMessage(xe,at)&&this._removeMessageReference(xe,at),"string"==typeof fe){const mt=this._messageRegistry.get(at);mt&&0===mt.referenceCount&&this._deleteMessageElement(at)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const xe=this._document.querySelectorAll(`[${re}="${this._id}"]`);for(let fe=0;fe<xe.length;fe++)this._removeCdkDescribedByReferenceIds(xe[fe]),xe[fe].removeAttribute(re);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(xe,fe){const pe=this._document.createElement("div");oe(pe,this._id),pe.textContent=xe,fe&&pe.setAttribute("role",fe),this._createMessagesContainer(),this._messagesContainer.appendChild(pe),this._messageRegistry.set(z(xe,fe),{messageElement:pe,referenceCount:0})}_deleteMessageElement(xe){this._messageRegistry.get(xe)?.messageElement?.remove(),this._messageRegistry.delete(xe)}_createMessagesContainer(){if(this._messagesContainer)return;const xe="cdk-describedby-message-container",fe=this._document.querySelectorAll(`.${xe}[platform="server"]`);for(let at=0;at<fe.length;at++)fe[at].remove();const pe=this._document.createElement("div");pe.style.visibility="hidden",pe.classList.add(xe),pe.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&pe.setAttribute("platform","server"),this._document.body.appendChild(pe),this._messagesContainer=pe}_removeCdkDescribedByReferenceIds(xe){const fe=S(xe,"aria-describedby").filter(pe=>0!=pe.indexOf(Y));xe.setAttribute("aria-describedby",fe.join(" "))}_addMessageReference(xe,fe){const pe=this._messageRegistry.get(fe);T(xe,"aria-describedby",pe.messageElement.id),xe.setAttribute(re,this._id),pe.referenceCount++}_removeMessageReference(xe,fe){const pe=this._messageRegistry.get(fe);pe.referenceCount--,N(xe,"aria-describedby",pe.messageElement.id),xe.removeAttribute(re)}_isElementDescribedByMessage(xe,fe){const pe=S(xe,"aria-describedby"),at=this._messageRegistry.get(fe),mt=at&&at.messageElement.id;return!!mt&&-1!=pe.indexOf(mt)}_canBeDescribed(xe,fe){if(!this._isElementNode(xe))return!1;if(fe&&"object"==typeof fe)return!0;const pe=null==fe?"":`${fe}`.trim(),at=xe.getAttribute("aria-label");return!(!pe||at&&at.trim()===pe)}_isElementNode(xe){return xe.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(c.K0),t.LFG(E.t4))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();function z(ot,dt){return"string"==typeof ot?`${dt||""}/${ot}`:ot}function oe(ot,dt){ot.id||(ot.id=`${Y}-${dt}-${se++}`)}class H{constructor(dt){this._items=dt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new O.x,this._typeaheadSubscription=b.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=xe=>xe.disabled,this._pressedLetters=[],this.tabOut=new O.x,this.change=new O.x,dt instanceof t.n_E&&(this._itemChangesSubscription=dt.changes.subscribe(xe=>{if(this._activeItem){const pe=xe.toArray().indexOf(this._activeItem);pe>-1&&pe!==this._activeItemIndex&&(this._activeItemIndex=pe)}}))}skipPredicate(dt){return this._skipPredicateFn=dt,this}withWrap(dt=!0){return this._wrap=dt,this}withVerticalOrientation(dt=!0){return this._vertical=dt,this}withHorizontalOrientation(dt){return this._horizontal=dt,this}withAllowedModifierKeys(dt){return this._allowedModifierKeys=dt,this}withTypeAhead(dt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,g.b)(xe=>this._pressedLetters.push(xe)),(0,h.b)(dt),(0,p.h)(()=>this._pressedLetters.length>0),(0,y.U)(()=>this._pressedLetters.join(""))).subscribe(xe=>{const fe=this._getItemsArray();for(let pe=1;pe<fe.length+1;pe++){const at=(this._activeItemIndex+pe)%fe.length,mt=fe[at];if(!this._skipPredicateFn(mt)&&0===mt.getLabel().toUpperCase().trim().indexOf(xe)){this.setActiveItem(at);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(dt=!0){return this._homeAndEnd=dt,this}withPageUpDown(dt=!0,xe=10){return this._pageUpAndDown={enabled:dt,delta:xe},this}setActiveItem(dt){const xe=this._activeItem;this.updateActiveItem(dt),this._activeItem!==xe&&this.change.next(this._activeItemIndex)}onKeydown(dt){const xe=dt.keyCode,pe=["altKey","ctrlKey","metaKey","shiftKey"].every(at=>!dt[at]||this._allowedModifierKeys.indexOf(at)>-1);switch(xe){case x.Mf:return void this.tabOut.next();case x.JH:if(this._vertical&&pe){this.setNextItemActive();break}return;case x.LH:if(this._vertical&&pe){this.setPreviousItemActive();break}return;case x.SV:if(this._horizontal&&pe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case x.oh:if(this._horizontal&&pe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case x.Sd:if(this._homeAndEnd&&pe){this.setFirstItemActive();break}return;case x.uR:if(this._homeAndEnd&&pe){this.setLastItemActive();break}return;case x.Ku:if(this._pageUpAndDown.enabled&&pe){const at=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(at>0?at:0,1);break}return;case x.VM:if(this._pageUpAndDown.enabled&&pe){const at=this._activeItemIndex+this._pageUpAndDown.delta,mt=this._getItemsArray().length;this._setActiveItemByIndex(at<mt?at:mt-1,-1);break}return;default:return void((pe||(0,x.Vb)(dt,"shiftKey"))&&(dt.key&&1===dt.key.length?this._letterKeyStream.next(dt.key.toLocaleUpperCase()):(xe>=x.A&&xe<=x.Z||xe>=x.xE&&xe<=x.aO)&&this._letterKeyStream.next(String.fromCharCode(xe))))}this._pressedLetters=[],dt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(dt){const xe=this._getItemsArray(),fe="number"==typeof dt?dt:xe.indexOf(dt);this._activeItem=xe[fe]??null,this._activeItemIndex=fe}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(dt){this._wrap?this._setActiveInWrapMode(dt):this._setActiveInDefaultMode(dt)}_setActiveInWrapMode(dt){const xe=this._getItemsArray();for(let fe=1;fe<=xe.length;fe++){const pe=(this._activeItemIndex+dt*fe+xe.length)%xe.length;if(!this._skipPredicateFn(xe[pe]))return void this.setActiveItem(pe)}}_setActiveInDefaultMode(dt){this._setActiveItemByIndex(this._activeItemIndex+dt,dt)}_setActiveItemByIndex(dt,xe){const fe=this._getItemsArray();if(fe[dt]){for(;this._skipPredicateFn(fe[dt]);)if(!fe[dt+=xe])return;this.setActiveItem(dt)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}class me extends H{setActiveItem(dt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(dt),this.activeItem&&this.activeItem.setActiveStyles()}}let Se=(()=>{class ot{constructor(xe){this._platform=xe}isDisabled(xe){return xe.hasAttribute("disabled")}isVisible(xe){return function le(ot){return!!(ot.offsetWidth||ot.offsetHeight||"function"==typeof ot.getClientRects&&ot.getClientRects().length)}(xe)&&"visible"===getComputedStyle(xe).visibility}isTabbable(xe){if(!this._platform.isBrowser)return!1;const fe=function Ie(ot){try{return ot.frameElement}catch{return null}}(function Ae(ot){return ot.ownerDocument&&ot.ownerDocument.defaultView||window}(xe));if(fe&&(-1===je(fe)||!this.isVisible(fe)))return!1;let pe=xe.nodeName.toLowerCase(),at=je(xe);return xe.hasAttribute("contenteditable")?-1!==at:!("iframe"===pe||"object"===pe||this._platform.WEBKIT&&this._platform.IOS&&!function ze(ot){let dt=ot.nodeName.toLowerCase(),xe="input"===dt&&ot.type;return"text"===xe||"password"===xe||"select"===dt||"textarea"===dt}(xe))&&("audio"===pe?!!xe.hasAttribute("controls")&&-1!==at:"video"===pe?-1!==at&&(null!==at||this._platform.FIREFOX||xe.hasAttribute("controls")):xe.tabIndex>=0)}isFocusable(xe,fe){return function He(ot){return!function we(ot){return function Le(ot){return"input"==ot.nodeName.toLowerCase()}(ot)&&"hidden"==ot.type}(ot)&&(function Me(ot){let dt=ot.nodeName.toLowerCase();return"input"===dt||"select"===dt||"button"===dt||"textarea"===dt}(ot)||function _e(ot){return function Pe(ot){return"a"==ot.nodeName.toLowerCase()}(ot)&&ot.hasAttribute("href")}(ot)||ot.hasAttribute("contenteditable")||Oe(ot))}(xe)&&!this.isDisabled(xe)&&(fe?.ignoreVisibility||this.isVisible(xe))}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(E.t4))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();function Oe(ot){if(!ot.hasAttribute("tabindex")||void 0===ot.tabIndex)return!1;let dt=ot.getAttribute("tabindex");return!(!dt||isNaN(parseInt(dt,10)))}function je(ot){if(!Oe(ot))return null;const dt=parseInt(ot.getAttribute("tabindex")||"",10);return isNaN(dt)?-1:dt}class be{get enabled(){return this._enabled}set enabled(dt){this._enabled=dt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(dt,this._startAnchor),this._toggleAnchorTabIndex(dt,this._endAnchor))}constructor(dt,xe,fe,pe,at=!1){this._element=dt,this._checker=xe,this._ngZone=fe,this._document=pe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,at||this.attachAnchors()}destroy(){const dt=this._startAnchor,xe=this._endAnchor;dt&&(dt.removeEventListener("focus",this.startAnchorListener),dt.remove()),xe&&(xe.removeEventListener("focus",this.endAnchorListener),xe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(dt){return new Promise(xe=>{this._executeOnStable(()=>xe(this.focusInitialElement(dt)))})}focusFirstTabbableElementWhenReady(dt){return new Promise(xe=>{this._executeOnStable(()=>xe(this.focusFirstTabbableElement(dt)))})}focusLastTabbableElementWhenReady(dt){return new Promise(xe=>{this._executeOnStable(()=>xe(this.focusLastTabbableElement(dt)))})}_getRegionBoundary(dt){const xe=this._element.querySelectorAll(`[cdk-focus-region-${dt}], [cdkFocusRegion${dt}], [cdk-focus-${dt}]`);return"start"==dt?xe.length?xe[0]:this._getFirstTabbableElement(this._element):xe.length?xe[xe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(dt){const xe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(xe){if(!this._checker.isFocusable(xe)){const fe=this._getFirstTabbableElement(xe);return fe?.focus(dt),!!fe}return xe.focus(dt),!0}return this.focusFirstTabbableElement(dt)}focusFirstTabbableElement(dt){const xe=this._getRegionBoundary("start");return xe&&xe.focus(dt),!!xe}focusLastTabbableElement(dt){const xe=this._getRegionBoundary("end");return xe&&xe.focus(dt),!!xe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(dt){if(this._checker.isFocusable(dt)&&this._checker.isTabbable(dt))return dt;const xe=dt.children;for(let fe=0;fe<xe.length;fe++){const pe=xe[fe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(xe[fe]):null;if(pe)return pe}return null}_getLastTabbableElement(dt){if(this._checker.isFocusable(dt)&&this._checker.isTabbable(dt))return dt;const xe=dt.children;for(let fe=xe.length-1;fe>=0;fe--){const pe=xe[fe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(xe[fe]):null;if(pe)return pe}return null}_createAnchor(){const dt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,dt),dt.classList.add("cdk-visually-hidden"),dt.classList.add("cdk-focus-trap-anchor"),dt.setAttribute("aria-hidden","true"),dt}_toggleAnchorTabIndex(dt,xe){dt?xe.setAttribute("tabindex","0"):xe.removeAttribute("tabindex")}toggleAnchors(dt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(dt,this._startAnchor),this._toggleAnchorTabIndex(dt,this._endAnchor))}_executeOnStable(dt){this._ngZone.isStable?dt():this._ngZone.onStable.pipe((0,A.q)(1)).subscribe(dt)}}let K=(()=>{class ot{constructor(xe,fe,pe){this._checker=xe,this._ngZone=fe,this._document=pe}create(xe,fe=!1){return new be(xe,this._checker,this._ngZone,this._document,fe)}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(Se),t.LFG(t.R0b),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),ie=(()=>{class ot{get enabled(){return this.focusTrap.enabled}set enabled(xe){this.focusTrap.enabled=(0,k.Ig)(xe)}get autoCapture(){return this._autoCapture}set autoCapture(xe){this._autoCapture=(0,k.Ig)(xe)}constructor(xe,fe,pe){this._elementRef=xe,this._focusTrapFactory=fe,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(xe){const fe=xe.autoCapture;fe&&!fe.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,E.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.Y36(t.SBq),t.Y36(K),t.Y36(c.K0))};static#t=this.\u0275dir=t.lG2({type:ot,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]})}return ot})();function Q(ot){return 0===ot.buttons||0===ot.offsetX&&0===ot.offsetY}function q(ot){const dt=ot.touches&&ot.touches[0]||ot.changedTouches&&ot.changedTouches[0];return!(!dt||-1!==dt.identifier||null!=dt.radiusX&&1!==dt.radiusX||null!=dt.radiusY&&1!==dt.radiusY)}const J=new t.OlP("cdk-input-modality-detector-options"),de={ignoreKeys:[x.zL,x.jx,x.b2,x.MW,x.JU]},ce=(0,E.i$)({passive:!0,capture:!0});let Ce=(()=>{class ot{get mostRecentModality(){return this._modality.value}constructor(xe,fe,pe,at){this._platform=xe,this._mostRecentTarget=null,this._modality=new F.X(null),this._lastTouchMs=0,this._onKeydown=mt=>{this._options?.ignoreKeys?.some(Dt=>Dt===mt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.sA)(mt))},this._onMousedown=mt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Q(mt)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.sA)(mt))},this._onTouchstart=mt=>{q(mt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.sA)(mt))},this._options={...de,...at},this.modalityDetected=this._modality.pipe((0,U.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,P.x)()),xe.isBrowser&&fe.runOutsideAngular(()=>{pe.addEventListener("keydown",this._onKeydown,ce),pe.addEventListener("mousedown",this._onMousedown,ce),pe.addEventListener("touchstart",this._onTouchstart,ce)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ce),document.removeEventListener("mousedown",this._onMousedown,ce),document.removeEventListener("touchstart",this._onTouchstart,ce))}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(E.t4),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(J,8))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();const Ye=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Be(){return null}}),$e=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Qe=0,qe=(()=>{class ot{constructor(xe,fe,pe,at){this._ngZone=fe,this._defaultOptions=at,this._document=pe,this._liveElement=xe||this._createLiveElement()}announce(xe,...fe){const pe=this._defaultOptions;let at,mt;return 1===fe.length&&"number"==typeof fe[0]?mt=fe[0]:[at,mt]=fe,this.clear(),clearTimeout(this._previousTimeout),at||(at=pe&&pe.politeness?pe.politeness:"polite"),null==mt&&pe&&(mt=pe.duration),this._liveElement.setAttribute("aria-live",at),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Dt=>this._currentResolve=Dt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=xe,"number"==typeof mt&&(this._previousTimeout=setTimeout(()=>this.clear(),mt)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const xe="cdk-live-announcer-element",fe=this._document.getElementsByClassName(xe),pe=this._document.createElement("div");for(let at=0;at<fe.length;at++)fe[at].remove();return pe.classList.add(xe),pe.classList.add("cdk-visually-hidden"),pe.setAttribute("aria-atomic","true"),pe.setAttribute("aria-live","polite"),pe.id="cdk-live-announcer-"+Qe++,this._document.body.appendChild(pe),pe}_exposeAnnouncerToModals(xe){const fe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let pe=0;pe<fe.length;pe++){const at=fe[pe],mt=at.getAttribute("aria-owns");mt?-1===mt.indexOf(xe)&&at.setAttribute("aria-owns",mt+" "+xe):at.setAttribute("aria-owns",xe)}}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(Ye,8),t.LFG(t.R0b),t.LFG(c.K0),t.LFG($e,8))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();const Ot=new t.OlP("cdk-focus-monitor-default-options"),_t=(0,E.i$)({passive:!0,capture:!0});let Rt=(()=>{class ot{constructor(xe,fe,pe,at,mt){this._ngZone=xe,this._platform=fe,this._inputModalityDetector=pe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new O.x,this._rootNodeFocusAndBlurListener=Dt=>{for(let bt=(0,E.sA)(Dt);bt;bt=bt.parentElement)"focus"===Dt.type?this._onFocus(Dt,bt):this._onBlur(Dt,bt)},this._document=at,this._detectionMode=mt?.detectionMode||0}monitor(xe,fe=!1){const pe=(0,k.fI)(xe);if(!this._platform.isBrowser||1!==pe.nodeType)return(0,L.of)();const at=(0,E.kV)(pe)||this._getDocument(),mt=this._elementInfo.get(pe);if(mt)return fe&&(mt.checkChildren=!0),mt.subject;const Dt={checkChildren:fe,subject:new O.x,rootNode:at};return this._elementInfo.set(pe,Dt),this._registerGlobalListeners(Dt),Dt.subject}stopMonitoring(xe){const fe=(0,k.fI)(xe),pe=this._elementInfo.get(fe);pe&&(pe.subject.complete(),this._setClasses(fe),this._elementInfo.delete(fe),this._removeGlobalListeners(pe))}focusVia(xe,fe,pe){const at=(0,k.fI)(xe);at===this._getDocument().activeElement?this._getClosestElementsInfo(at).forEach(([Dt,ut])=>this._originChanged(Dt,fe,ut)):(this._setOrigin(fe),"function"==typeof at.focus&&at.focus(pe))}ngOnDestroy(){this._elementInfo.forEach((xe,fe)=>this.stopMonitoring(fe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(xe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(xe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:xe&&this._isLastInteractionFromInputLabel(xe)?"mouse":"program"}_shouldBeAttributedToTouch(xe){return 1===this._detectionMode||!!xe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(xe,fe){xe.classList.toggle("cdk-focused",!!fe),xe.classList.toggle("cdk-touch-focused","touch"===fe),xe.classList.toggle("cdk-keyboard-focused","keyboard"===fe),xe.classList.toggle("cdk-mouse-focused","mouse"===fe),xe.classList.toggle("cdk-program-focused","program"===fe)}_setOrigin(xe,fe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=xe,this._originFromTouchInteraction="touch"===xe&&fe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(xe,fe){const pe=this._elementInfo.get(fe),at=(0,E.sA)(xe);!pe||!pe.checkChildren&&fe!==at||this._originChanged(fe,this._getFocusOrigin(at),pe)}_onBlur(xe,fe){const pe=this._elementInfo.get(fe);!pe||pe.checkChildren&&xe.relatedTarget instanceof Node&&fe.contains(xe.relatedTarget)||(this._setClasses(fe),this._emitOrigin(pe,null))}_emitOrigin(xe,fe){xe.subject.observers.length&&this._ngZone.run(()=>xe.subject.next(fe))}_registerGlobalListeners(xe){if(!this._platform.isBrowser)return;const fe=xe.rootNode,pe=this._rootNodeFocusListenerCount.get(fe)||0;pe||this._ngZone.runOutsideAngular(()=>{fe.addEventListener("focus",this._rootNodeFocusAndBlurListener,_t),fe.addEventListener("blur",this._rootNodeFocusAndBlurListener,_t)}),this._rootNodeFocusListenerCount.set(fe,pe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,V.R)(this._stopInputModalityDetector)).subscribe(at=>{this._setOrigin(at,!0)}))}_removeGlobalListeners(xe){const fe=xe.rootNode;if(this._rootNodeFocusListenerCount.has(fe)){const pe=this._rootNodeFocusListenerCount.get(fe);pe>1?this._rootNodeFocusListenerCount.set(fe,pe-1):(fe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_t),fe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_t),this._rootNodeFocusListenerCount.delete(fe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(xe,fe,pe){this._setClasses(xe,fe),this._emitOrigin(pe,fe),this._lastFocusOrigin=fe}_getClosestElementsInfo(xe){const fe=[];return this._elementInfo.forEach((pe,at)=>{(at===xe||pe.checkChildren&&at.contains(xe))&&fe.push([at,pe])}),fe}_isLastInteractionFromInputLabel(xe){const{_mostRecentTarget:fe,mostRecentModality:pe}=this._inputModalityDetector;if("mouse"!==pe||!fe||fe===xe||"INPUT"!==xe.nodeName&&"TEXTAREA"!==xe.nodeName||xe.disabled)return!1;const at=xe.labels;if(at)for(let mt=0;mt<at.length;mt++)if(at[mt].contains(fe))return!0;return!1}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(t.R0b),t.LFG(E.t4),t.LFG(Ce),t.LFG(c.K0,8),t.LFG(Ot,8))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),Gt=(()=>{class ot{constructor(xe,fe){this._elementRef=xe,this._focusMonitor=fe,this._focusOrigin=null,this.cdkFocusChange=new t.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const xe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(xe,1===xe.nodeType&&xe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(fe=>{this._focusOrigin=fe,this.cdkFocusChange.emit(fe)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.Y36(t.SBq),t.Y36(Rt))};static#t=this.\u0275dir=t.lG2({type:ot,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return ot})();const $t="cdk-high-contrast-black-on-white",Qt="cdk-high-contrast-white-on-black",dn="cdk-high-contrast-active";let gn=(()=>{class ot{constructor(xe,fe){this._platform=xe,this._document=fe,this._breakpointSubscription=(0,t.f3M)(D.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const xe=this._document.createElement("div");xe.style.backgroundColor="rgb(1,2,3)",xe.style.position="absolute",this._document.body.appendChild(xe);const fe=this._document.defaultView||window,pe=fe&&fe.getComputedStyle?fe.getComputedStyle(xe):null,at=(pe&&pe.backgroundColor||"").replace(/ /g,"");switch(xe.remove(),at){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const xe=this._document.body.classList;xe.remove(dn,$t,Qt),this._hasCheckedHighContrastMode=!0;const fe=this.getHighContrastMode();1===fe?xe.add(dn,$t):2===fe&&xe.add(dn,Qt)}}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(E.t4),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),jn=(()=>{class ot{constructor(xe){xe._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(fe){return new(fe||ot)(t.LFG(gn))};static#t=this.\u0275mod=t.oAB({type:ot});static#n=this.\u0275inj=t.cJS({imports:[R.Q8]})}return ot})()},9388:(wn,Ze,C)=>{"use strict";C.d(Ze,{Is:()=>L,vT:()=>g});var c=C(5879),t=C(6814);const E=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function O(){return(0,c.f3M)(t.K0)}}),b=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let L=(()=>{class h{constructor(y){this.value="ltr",this.change=new c.vpe,y&&(this.value=function F(h){const p=h?.toLowerCase()||"";return"auto"===p&&typeof navigator<"u"&&navigator?.language?b.test(navigator.language)?"rtl":"ltr":"rtl"===p?"rtl":"ltr"}((y.body?y.body.dir:null)||(y.documentElement?y.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(A){return new(A||h)(c.LFG(E,8))};static#t=this.\u0275prov=c.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),g=(()=>{class h{static#e=this.\u0275fac=function(A){return new(A||h)};static#t=this.\u0275mod=c.oAB({type:h});static#n=this.\u0275inj=c.cJS({})}return h})()},2495:(wn,Ze,C)=>{"use strict";C.d(Ze,{Eq:()=>b,HM:()=>F,Ig:()=>t,du:()=>x,fI:()=>L,su:()=>E,t6:()=>O});var c=C(5879);function t(g){return null!=g&&"false"!=`${g}`}function E(g,h=0){return O(g)?Number(g):h}function O(g){return!isNaN(parseFloat(g))&&!isNaN(Number(g))}function b(g){return Array.isArray(g)?g:[g]}function F(g){return null==g?"":"string"==typeof g?g:`${g}px`}function L(g){return g instanceof c.SBq?g.nativeElement:g}function x(g,h=/\s+/){const p=[];if(null!=g){const y=Array.isArray(g)?g:`${g}`.split(h);for(const A of y){const U=`${A}`.trim();U&&p.push(U)}}return p}},8337:(wn,Ze,C)=>{"use strict";C.d(Ze,{Ov:()=>g,Z9:()=>b,eX:()=>x,k:()=>y,o2:()=>O,yy:()=>L});var c=C(3168),t=C(8645),E=C(5879);class O{}function b(A){return A&&"function"==typeof A.connect&&!(A instanceof c.c)}class L{applyChanges(U,P,V,k,R){U.forEachOperation((D,I,T)=>{let N,S;if(null==D.previousIndex){const B=V(D,I,T);N=P.createEmbeddedView(B.templateRef,B.context,B.index),S=1}else null==T?(P.remove(I),S=3):(N=P.get(I),P.move(N,T),S=2);R&&R({context:N?.context,operation:S,record:D})})}detach(){}}class x{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(U,P,V,k,R){U.forEachOperation((D,I,T)=>{let N,S;null==D.previousIndex?(N=this._insertView(()=>V(D,I,T),T,P,k(D)),S=N?1:0):null==T?(this._detachAndCacheView(I,P),S=3):(N=this._moveView(I,T,P,k(D)),S=2),R&&R({context:N?.context,operation:S,record:D})})}detach(){for(const U of this._viewCache)U.destroy();this._viewCache=[]}_insertView(U,P,V,k){const R=this._insertViewFromCache(P,V);if(R)return void(R.context.$implicit=k);const D=U();return V.createEmbeddedView(D.templateRef,D.context,D.index)}_detachAndCacheView(U,P){const V=P.detach(U);this._maybeCacheView(V,P)}_moveView(U,P,V,k){const R=V.get(U);return V.move(R,P),R.context.$implicit=k,R}_maybeCacheView(U,P){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(U);else{const V=P.indexOf(U);-1===V?U.destroy():P.remove(V)}}_insertViewFromCache(U,P){const V=this._viewCache.pop();return V&&P.insert(V,U),V||null}}class g{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(U=!1,P,V=!0,k){this._multiple=U,this._emitChanges=V,this.compareWith=k,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,P&&P.length&&(U?P.forEach(R=>this._markSelected(R)):this._markSelected(P[0]),this._selectedToEmit.length=0)}select(...U){this._verifyValueAssignment(U),U.forEach(V=>this._markSelected(V));const P=this._hasQueuedChanges();return this._emitChangeEvent(),P}deselect(...U){this._verifyValueAssignment(U),U.forEach(V=>this._unmarkSelected(V));const P=this._hasQueuedChanges();return this._emitChangeEvent(),P}setSelection(...U){this._verifyValueAssignment(U);const P=this.selected,V=new Set(U);U.forEach(R=>this._markSelected(R)),P.filter(R=>!V.has(R)).forEach(R=>this._unmarkSelected(R));const k=this._hasQueuedChanges();return this._emitChangeEvent(),k}toggle(U){return this.isSelected(U)?this.deselect(U):this.select(U)}clear(U=!0){this._unmarkAll();const P=this._hasQueuedChanges();return U&&this._emitChangeEvent(),P}isSelected(U){return this._selection.has(this._getConcreteValue(U))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(U){this._multiple&&this.selected&&this._selected.sort(U)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(U){U=this._getConcreteValue(U),this.isSelected(U)||(this._multiple||this._unmarkAll(),this.isSelected(U)||this._selection.add(U),this._emitChanges&&this._selectedToEmit.push(U))}_unmarkSelected(U){U=this._getConcreteValue(U),this.isSelected(U)&&(this._selection.delete(U),this._emitChanges&&this._deselectedToEmit.push(U))}_unmarkAll(){this.isEmpty()||this._selection.forEach(U=>this._unmarkSelected(U))}_verifyValueAssignment(U){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(U){if(this.compareWith){for(let P of this._selection)if(this.compareWith(U,P))return P;return U}return U}}const y=new E.OlP("_ViewRepeater")},6028:(wn,Ze,C)=>{"use strict";C.d(Ze,{A:()=>we,JH:()=>I,JU:()=>F,K5:()=>b,Ku:()=>A,LH:()=>R,L_:()=>y,MW:()=>$e,Mf:()=>E,SV:()=>D,Sd:()=>V,VM:()=>U,Vb:()=>it,Z:()=>Be,aO:()=>ue,b2:()=>lt,hY:()=>p,jx:()=>L,oh:()=>k,uR:()=>P,xE:()=>Y,zL:()=>x});const E=9,b=13,F=16,L=17,x=18,p=27,y=32,A=33,U=34,P=35,V=36,k=37,R=38,D=39,I=40,Y=48,ue=57,we=65,Be=90,$e=91,lt=224;function it(At,...Kt){return Kt.length?Kt.some(vn=>At[vn]):At.altKey||At.shiftKey||At.ctrlKey||At.metaKey}},1088:(wn,Ze,C)=>{"use strict";C.d(Ze,{Yg:()=>I,u3:()=>N});var c=C(5879),t=C(2495),E=C(8645),O=C(2572),b=C(5211),F=C(5592),L=C(8180),x=C(836),g=C(3620),h=C(7398),p=C(7921),y=C(9773),A=C(2831);const P=new Set;let V,k=(()=>{class S{constructor(Y,re){this._platform=Y,this._nonce=re,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):D}matchMedia(Y){return(this._platform.WEBKIT||this._platform.BLINK)&&function R(S,B){if(!P.has(S))try{V||(V=document.createElement("style"),B&&(V.nonce=B),V.setAttribute("type","text/css"),document.head.appendChild(V)),V.sheet&&(V.sheet.insertRule(`@media ${S} {body{ }}`,0),P.add(S))}catch(Y){console.error(Y)}}(Y,this._nonce),this._matchMedia(Y)}static#e=this.\u0275fac=function(re){return new(re||S)(c.LFG(A.t4),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function D(S){return{matches:"all"===S||""===S,media:S,addListener:()=>{},removeListener:()=>{}}}let I=(()=>{class S{constructor(Y,re){this._mediaMatcher=Y,this._zone=re,this._queries=new Map,this._destroySubject=new E.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Y){return T((0,t.Eq)(Y)).some(se=>this._registerQuery(se).mql.matches)}observe(Y){const se=T((0,t.Eq)(Y)).map(z=>this._registerQuery(z).observable);let Re=(0,O.a)(se);return Re=(0,b.z)(Re.pipe((0,L.q)(1)),Re.pipe((0,x.T)(1),(0,g.b)(0))),Re.pipe((0,h.U)(z=>{const oe={matches:!1,breakpoints:{}};return z.forEach(({matches:H,query:me})=>{oe.matches=oe.matches||H,oe.breakpoints[me]=H}),oe}))}_registerQuery(Y){if(this._queries.has(Y))return this._queries.get(Y);const re=this._mediaMatcher.matchMedia(Y),Re={observable:new F.y(z=>{const oe=H=>this._zone.run(()=>z.next(H));return re.addListener(oe),()=>{re.removeListener(oe)}}).pipe((0,p.O)(re),(0,h.U)(({matches:z})=>({query:Y,matches:z})),(0,y.R)(this._destroySubject)),mql:re};return this._queries.set(Y,Re),Re}static#e=this.\u0275fac=function(re){return new(re||S)(c.LFG(k),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function T(S){return S.map(B=>B.split(",")).reduce((B,Y)=>B.concat(Y)).map(B=>B.trim())}const N={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(wn,Ze,C)=>{"use strict";C.d(Ze,{Q8:()=>b});var c=C(5879);let t=(()=>{class F{create(x){return typeof MutationObserver>"u"?null:new MutationObserver(x)}static#e=this.\u0275fac=function(g){return new(g||F)};static#t=this.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),b=(()=>{class F{static#e=this.\u0275fac=function(g){return new(g||F)};static#t=this.\u0275mod=c.oAB({type:F});static#n=this.\u0275inj=c.cJS({providers:[t]})}return F})()},3651:(wn,Ze,C)=>{"use strict";C.d(Ze,{pI:()=>W,xu:()=>Z,_G:()=>_e,aV:()=>ie,X_:()=>se,Xj:()=>Ie,U8:()=>q,Iu:()=>le});var c=C(799),t=C(6814),E=C(5879),O=C(2495),b=C(2831),F=C(2181),L=C(8180),x=C(9773),g=C(9360),h=C(8251),y=C(9388),A=C(8484),U=C(8645),P=C(7394),V=C(3019),k=C(6028);const R=(0,b.Mq)();class D{constructor(ge,ce){this._viewportRuler=ge,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ce}attach(){}enable(){if(this._canBeEnabled()){const ge=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ge.style.left||"",this._previousHTMLStyles.top=ge.style.top||"",ge.style.left=(0,O.HM)(-this._previousScrollPosition.left),ge.style.top=(0,O.HM)(-this._previousScrollPosition.top),ge.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ge=this._document.documentElement,Ce=ge.style,Ye=this._document.body.style,Be=Ce.scrollBehavior||"",$e=Ye.scrollBehavior||"";this._isEnabled=!1,Ce.left=this._previousHTMLStyles.left,Ce.top=this._previousHTMLStyles.top,ge.classList.remove("cdk-global-scrollblock"),R&&(Ce.scrollBehavior=Ye.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),R&&(Ce.scrollBehavior=Be,Ye.scrollBehavior=$e)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ce=this._document.body,Ce=this._viewportRuler.getViewportSize();return ce.scrollHeight>Ce.height||ce.scrollWidth>Ce.width}}class T{constructor(ge,ce,Ce,Ye){this._scrollDispatcher=ge,this._ngZone=ce,this._viewportRuler=Ce,this._config=Ye,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ge){this._overlayRef=ge}enable(){if(this._scrollSubscription)return;const ge=this._scrollDispatcher.scrolled(0).pipe((0,F.h)(ce=>!ce||!this._overlayRef.overlayElement.contains(ce.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ge.subscribe(()=>{const ce=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ce-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ge.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class N{enable(){}disable(){}attach(){}}function S(de,ge){return ge.some(ce=>de.bottom<ce.top||de.top>ce.bottom||de.right<ce.left||de.left>ce.right)}function B(de,ge){return ge.some(ce=>de.top<ce.top||de.bottom>ce.bottom||de.left<ce.left||de.right>ce.right)}class Y{constructor(ge,ce,Ce,Ye){this._scrollDispatcher=ge,this._viewportRuler=ce,this._ngZone=Ce,this._config=Ye,this._scrollSubscription=null}attach(ge){this._overlayRef=ge}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ce=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ce,height:Ye}=this._viewportRuler.getViewportSize();S(ce,[{width:Ce,height:Ye,bottom:Ye,right:Ce,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let re=(()=>{class de{constructor(ce,Ce,Ye,Be){this._scrollDispatcher=ce,this._viewportRuler=Ce,this._ngZone=Ye,this.noop=()=>new N,this.close=$e=>new T(this._scrollDispatcher,this._ngZone,this._viewportRuler,$e),this.block=()=>new D(this._viewportRuler,this._document),this.reposition=$e=>new Y(this._scrollDispatcher,this._viewportRuler,this._ngZone,$e),this._document=Be}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(c.mF),E.LFG(c.rL),E.LFG(E.R0b),E.LFG(t.K0))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();class se{constructor(ge){if(this.scrollStrategy=new N,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ge){const ce=Object.keys(ge);for(const Ce of ce)void 0!==ge[Ce]&&(this[Ce]=ge[Ce])}}}class oe{constructor(ge,ce){this.connectionPair=ge,this.scrollableViewProperties=ce}}let ne=(()=>{class de{constructor(ce){this._attachedOverlays=[],this._document=ce}ngOnDestroy(){this.detach()}add(ce){this.remove(ce),this._attachedOverlays.push(ce)}remove(ce){const Ce=this._attachedOverlays.indexOf(ce);Ce>-1&&this._attachedOverlays.splice(Ce,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(t.K0))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),ue=(()=>{class de extends ne{constructor(ce,Ce){super(ce),this._ngZone=Ce,this._keydownListener=Ye=>{const Be=this._attachedOverlays;for(let $e=Be.length-1;$e>-1;$e--)if(Be[$e]._keydownEvents.observers.length>0){const Qe=Be[$e]._keydownEvents;this._ngZone?this._ngZone.run(()=>Qe.next(Ye)):Qe.next(Ye);break}}}add(ce){super.add(ce),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(t.K0),E.LFG(E.R0b,8))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Se=(()=>{class de extends ne{constructor(ce,Ce,Ye){super(ce),this._platform=Ce,this._ngZone=Ye,this._cursorStyleIsSet=!1,this._pointerDownListener=Be=>{this._pointerDownEventTarget=(0,b.sA)(Be)},this._clickListener=Be=>{const $e=(0,b.sA)(Be),Qe="click"===Be.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:$e;this._pointerDownEventTarget=null;const qe=this._attachedOverlays.slice();for(let ct=qe.length-1;ct>-1;ct--){const Ot=qe[ct];if(Ot._outsidePointerEvents.observers.length<1||!Ot.hasAttached())continue;if(Ot.overlayElement.contains($e)||Ot.overlayElement.contains(Qe))break;const _t=Ot._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_t.next(Be)):_t.next(Be)}}}add(ce){if(super.add(ce),!this._isAttached){const Ce=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ce)):this._addEventListeners(Ce),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ce.style.cursor,Ce.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ce=this._document.body;ce.removeEventListener("pointerdown",this._pointerDownListener,!0),ce.removeEventListener("click",this._clickListener,!0),ce.removeEventListener("auxclick",this._clickListener,!0),ce.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ce.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ce){ce.addEventListener("pointerdown",this._pointerDownListener,!0),ce.addEventListener("click",this._clickListener,!0),ce.addEventListener("auxclick",this._clickListener,!0),ce.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(t.K0),E.LFG(b.t4),E.LFG(E.R0b,8))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Ie=(()=>{class de{constructor(ce,Ce){this._platform=Ce,this._document=ce}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ce="cdk-overlay-container";if(this._platform.isBrowser||(0,b.Oy)()){const Ye=this._document.querySelectorAll(`.${ce}[platform="server"], .${ce}[platform="test"]`);for(let Be=0;Be<Ye.length;Be++)Ye[Be].remove()}const Ce=this._document.createElement("div");Ce.classList.add(ce),(0,b.Oy)()?Ce.setAttribute("platform","test"):this._platform.isBrowser||Ce.setAttribute("platform","server"),this._document.body.appendChild(Ce),this._containerElement=Ce}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(t.K0),E.LFG(b.t4))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();class le{constructor(ge,ce,Ce,Ye,Be,$e,Qe,qe,ct,Ot=!1){this._portalOutlet=ge,this._host=ce,this._pane=Ce,this._config=Ye,this._ngZone=Be,this._keyboardDispatcher=$e,this._document=Qe,this._location=qe,this._outsideClickDispatcher=ct,this._animationsDisabled=Ot,this._backdropElement=null,this._backdropClick=new U.x,this._attachments=new U.x,this._detachments=new U.x,this._locationChanges=P.w0.EMPTY,this._backdropClickHandler=_t=>this._backdropClick.next(_t),this._backdropTransitionendHandler=_t=>{this._disposeBackdrop(_t.target)},this._keydownEvents=new U.x,this._outsidePointerEvents=new U.x,Ye.scrollStrategy&&(this._scrollStrategy=Ye.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ye.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ge){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ce=this._portalOutlet.attach(ge);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,L.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ce?.onDestroy&&ce.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ce}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ge=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ge}dispose(){const ge=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ge&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ge){ge!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ge,this.hasAttached()&&(ge.attach(this),this.updatePosition()))}updateSize(ge){this._config={...this._config,...ge},this._updateElementSize()}setDirection(ge){this._config={...this._config,direction:ge},this._updateElementDirection()}addPanelClass(ge){this._pane&&this._toggleClasses(this._pane,ge,!0)}removePanelClass(ge){this._pane&&this._toggleClasses(this._pane,ge,!1)}getDirection(){const ge=this._config.direction;return ge?"string"==typeof ge?ge:ge.value:"ltr"}updateScrollStrategy(ge){ge!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ge,this.hasAttached()&&(ge.attach(this),ge.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ge=this._pane.style;ge.width=(0,O.HM)(this._config.width),ge.height=(0,O.HM)(this._config.height),ge.minWidth=(0,O.HM)(this._config.minWidth),ge.minHeight=(0,O.HM)(this._config.minHeight),ge.maxWidth=(0,O.HM)(this._config.maxWidth),ge.maxHeight=(0,O.HM)(this._config.maxHeight)}_togglePointerEvents(ge){this._pane.style.pointerEvents=ge?"":"none"}_attachBackdrop(){const ge="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ge)})}):this._backdropElement.classList.add(ge)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ge=this._backdropElement;if(ge){if(this._animationsDisabled)return void this._disposeBackdrop(ge);ge.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ge.addEventListener("transitionend",this._backdropTransitionendHandler)}),ge.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ge)},500))}}_toggleClasses(ge,ce,Ce){const Ye=(0,O.Eq)(ce||[]).filter(Be=>!!Be);Ye.length&&(Ce?ge.classList.add(...Ye):ge.classList.remove(...Ye))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ge=this._ngZone.onStable.pipe((0,x.R)((0,V.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ge.unsubscribe())})})}_disposeScrollStrategy(){const ge=this._scrollStrategy;ge&&(ge.disable(),ge.detach&&ge.detach())}_disposeBackdrop(ge){ge&&(ge.removeEventListener("click",this._backdropClickHandler),ge.removeEventListener("transitionend",this._backdropTransitionendHandler),ge.remove(),this._backdropElement===ge&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Me="cdk-overlay-connected-position-bounding-box",we=/([A-Za-z%]+)$/;class _e{get positions(){return this._preferredPositions}constructor(ge,ce,Ce,Ye,Be){this._viewportRuler=ce,this._document=Ce,this._platform=Ye,this._overlayContainer=Be,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.x,this._resizeSubscription=P.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ge)}attach(ge){this._validatePositions(),ge.hostElement.classList.add(Me),this._overlayRef=ge,this._boundingBox=ge.hostElement,this._pane=ge.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ge=this._originRect,ce=this._overlayRect,Ce=this._viewportRect,Ye=this._containerRect,Be=[];let $e;for(let Qe of this._preferredPositions){let qe=this._getOriginPoint(ge,Ye,Qe),ct=this._getOverlayPoint(qe,ce,Qe),Ot=this._getOverlayFit(ct,ce,Ce,Qe);if(Ot.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Qe,qe);this._canFitWithFlexibleDimensions(Ot,ct,Ce)?Be.push({position:Qe,origin:qe,overlayRect:ce,boundingBoxRect:this._calculateBoundingBoxRect(qe,Qe)}):(!$e||$e.overlayFit.visibleArea<Ot.visibleArea)&&($e={overlayFit:Ot,overlayPoint:ct,originPoint:qe,position:Qe,overlayRect:ce})}if(Be.length){let Qe=null,qe=-1;for(const ct of Be){const Ot=ct.boundingBoxRect.width*ct.boundingBoxRect.height*(ct.position.weight||1);Ot>qe&&(qe=Ot,Qe=ct)}return this._isPushed=!1,void this._applyPosition(Qe.position,Qe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition($e.position,$e.originPoint);this._applyPosition($e.position,$e.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Le(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Me),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ge=this._lastPosition;if(ge){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ce=this._getOriginPoint(this._originRect,this._containerRect,ge);this._applyPosition(ge,ce)}else this.apply()}withScrollableContainers(ge){return this._scrollables=ge,this}withPositions(ge){return this._preferredPositions=ge,-1===ge.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ge){return this._viewportMargin=ge,this}withFlexibleDimensions(ge=!0){return this._hasFlexibleDimensions=ge,this}withGrowAfterOpen(ge=!0){return this._growAfterOpen=ge,this}withPush(ge=!0){return this._canPush=ge,this}withLockedPosition(ge=!0){return this._positionLocked=ge,this}setOrigin(ge){return this._origin=ge,this}withDefaultOffsetX(ge){return this._offsetX=ge,this}withDefaultOffsetY(ge){return this._offsetY=ge,this}withTransformOriginOn(ge){return this._transformOriginSelector=ge,this}_getOriginPoint(ge,ce,Ce){let Ye,Be;if("center"==Ce.originX)Ye=ge.left+ge.width/2;else{const $e=this._isRtl()?ge.right:ge.left,Qe=this._isRtl()?ge.left:ge.right;Ye="start"==Ce.originX?$e:Qe}return ce.left<0&&(Ye-=ce.left),Be="center"==Ce.originY?ge.top+ge.height/2:"top"==Ce.originY?ge.top:ge.bottom,ce.top<0&&(Be-=ce.top),{x:Ye,y:Be}}_getOverlayPoint(ge,ce,Ce){let Ye,Be;return Ye="center"==Ce.overlayX?-ce.width/2:"start"===Ce.overlayX?this._isRtl()?-ce.width:0:this._isRtl()?0:-ce.width,Be="center"==Ce.overlayY?-ce.height/2:"top"==Ce.overlayY?0:-ce.height,{x:ge.x+Ye,y:ge.y+Be}}_getOverlayFit(ge,ce,Ce,Ye){const Be=Oe(ce);let{x:$e,y:Qe}=ge,qe=this._getOffset(Ye,"x"),ct=this._getOffset(Ye,"y");qe&&($e+=qe),ct&&(Qe+=ct);let Rt=0-Qe,Gt=Qe+Be.height-Ce.height,$t=this._subtractOverflows(Be.width,0-$e,$e+Be.width-Ce.width),Qt=this._subtractOverflows(Be.height,Rt,Gt),dn=$t*Qt;return{visibleArea:dn,isCompletelyWithinViewport:Be.width*Be.height===dn,fitsInViewportVertically:Qt===Be.height,fitsInViewportHorizontally:$t==Be.width}}_canFitWithFlexibleDimensions(ge,ce,Ce){if(this._hasFlexibleDimensions){const Ye=Ce.bottom-ce.y,Be=Ce.right-ce.x,$e=Pe(this._overlayRef.getConfig().minHeight),Qe=Pe(this._overlayRef.getConfig().minWidth);return(ge.fitsInViewportVertically||null!=$e&&$e<=Ye)&&(ge.fitsInViewportHorizontally||null!=Qe&&Qe<=Be)}return!1}_pushOverlayOnScreen(ge,ce,Ce){if(this._previousPushAmount&&this._positionLocked)return{x:ge.x+this._previousPushAmount.x,y:ge.y+this._previousPushAmount.y};const Ye=Oe(ce),Be=this._viewportRect,$e=Math.max(ge.x+Ye.width-Be.width,0),Qe=Math.max(ge.y+Ye.height-Be.height,0),qe=Math.max(Be.top-Ce.top-ge.y,0),ct=Math.max(Be.left-Ce.left-ge.x,0);let Ot=0,_t=0;return Ot=Ye.width<=Be.width?ct||-$e:ge.x<this._viewportMargin?Be.left-Ce.left-ge.x:0,_t=Ye.height<=Be.height?qe||-Qe:ge.y<this._viewportMargin?Be.top-Ce.top-ge.y:0,this._previousPushAmount={x:Ot,y:_t},{x:ge.x+Ot,y:ge.y+_t}}_applyPosition(ge,ce){if(this._setTransformOrigin(ge),this._setOverlayElementStyles(ce,ge),this._setBoundingBoxStyles(ce,ge),ge.panelClass&&this._addPanelClasses(ge.panelClass),this._lastPosition=ge,this._positionChanges.observers.length){const Ce=this._getScrollVisibility(),Ye=new oe(ge,Ce);this._positionChanges.next(Ye)}this._isInitialRender=!1}_setTransformOrigin(ge){if(!this._transformOriginSelector)return;const ce=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ce,Ye=ge.overlayY;Ce="center"===ge.overlayX?"center":this._isRtl()?"start"===ge.overlayX?"right":"left":"start"===ge.overlayX?"left":"right";for(let Be=0;Be<ce.length;Be++)ce[Be].style.transformOrigin=`${Ce} ${Ye}`}_calculateBoundingBoxRect(ge,ce){const Ce=this._viewportRect,Ye=this._isRtl();let Be,$e,Qe,Ot,_t,Rt;if("top"===ce.overlayY)$e=ge.y,Be=Ce.height-$e+this._viewportMargin;else if("bottom"===ce.overlayY)Qe=Ce.height-ge.y+2*this._viewportMargin,Be=Ce.height-Qe+this._viewportMargin;else{const Gt=Math.min(Ce.bottom-ge.y+Ce.top,ge.y),$t=this._lastBoundingBoxSize.height;Be=2*Gt,$e=ge.y-Gt,Be>$t&&!this._isInitialRender&&!this._growAfterOpen&&($e=ge.y-$t/2)}if("end"===ce.overlayX&&!Ye||"start"===ce.overlayX&&Ye)Rt=Ce.width-ge.x+this._viewportMargin,Ot=ge.x-this._viewportMargin;else if("start"===ce.overlayX&&!Ye||"end"===ce.overlayX&&Ye)_t=ge.x,Ot=Ce.right-ge.x;else{const Gt=Math.min(Ce.right-ge.x+Ce.left,ge.x),$t=this._lastBoundingBoxSize.width;Ot=2*Gt,_t=ge.x-Gt,Ot>$t&&!this._isInitialRender&&!this._growAfterOpen&&(_t=ge.x-$t/2)}return{top:$e,left:_t,bottom:Qe,right:Rt,width:Ot,height:Be}}_setBoundingBoxStyles(ge,ce){const Ce=this._calculateBoundingBoxRect(ge,ce);!this._isInitialRender&&!this._growAfterOpen&&(Ce.height=Math.min(Ce.height,this._lastBoundingBoxSize.height),Ce.width=Math.min(Ce.width,this._lastBoundingBoxSize.width));const Ye={};if(this._hasExactPosition())Ye.top=Ye.left="0",Ye.bottom=Ye.right=Ye.maxHeight=Ye.maxWidth="",Ye.width=Ye.height="100%";else{const Be=this._overlayRef.getConfig().maxHeight,$e=this._overlayRef.getConfig().maxWidth;Ye.height=(0,O.HM)(Ce.height),Ye.top=(0,O.HM)(Ce.top),Ye.bottom=(0,O.HM)(Ce.bottom),Ye.width=(0,O.HM)(Ce.width),Ye.left=(0,O.HM)(Ce.left),Ye.right=(0,O.HM)(Ce.right),Ye.alignItems="center"===ce.overlayX?"center":"end"===ce.overlayX?"flex-end":"flex-start",Ye.justifyContent="center"===ce.overlayY?"center":"bottom"===ce.overlayY?"flex-end":"flex-start",Be&&(Ye.maxHeight=(0,O.HM)(Be)),$e&&(Ye.maxWidth=(0,O.HM)($e))}this._lastBoundingBoxSize=Ce,Le(this._boundingBox.style,Ye)}_resetBoundingBoxStyles(){Le(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Le(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ge,ce){const Ce={},Ye=this._hasExactPosition(),Be=this._hasFlexibleDimensions,$e=this._overlayRef.getConfig();if(Ye){const Ot=this._viewportRuler.getViewportScrollPosition();Le(Ce,this._getExactOverlayY(ce,ge,Ot)),Le(Ce,this._getExactOverlayX(ce,ge,Ot))}else Ce.position="static";let Qe="",qe=this._getOffset(ce,"x"),ct=this._getOffset(ce,"y");qe&&(Qe+=`translateX(${qe}px) `),ct&&(Qe+=`translateY(${ct}px)`),Ce.transform=Qe.trim(),$e.maxHeight&&(Ye?Ce.maxHeight=(0,O.HM)($e.maxHeight):Be&&(Ce.maxHeight="")),$e.maxWidth&&(Ye?Ce.maxWidth=(0,O.HM)($e.maxWidth):Be&&(Ce.maxWidth="")),Le(this._pane.style,Ce)}_getExactOverlayY(ge,ce,Ce){let Ye={top:"",bottom:""},Be=this._getOverlayPoint(ce,this._overlayRect,ge);return this._isPushed&&(Be=this._pushOverlayOnScreen(Be,this._overlayRect,Ce)),"bottom"===ge.overlayY?Ye.bottom=this._document.documentElement.clientHeight-(Be.y+this._overlayRect.height)+"px":Ye.top=(0,O.HM)(Be.y),Ye}_getExactOverlayX(ge,ce,Ce){let $e,Ye={left:"",right:""},Be=this._getOverlayPoint(ce,this._overlayRect,ge);return this._isPushed&&(Be=this._pushOverlayOnScreen(Be,this._overlayRect,Ce)),$e=this._isRtl()?"end"===ge.overlayX?"left":"right":"end"===ge.overlayX?"right":"left","right"===$e?Ye.right=this._document.documentElement.clientWidth-(Be.x+this._overlayRect.width)+"px":Ye.left=(0,O.HM)(Be.x),Ye}_getScrollVisibility(){const ge=this._getOriginRect(),ce=this._pane.getBoundingClientRect(),Ce=this._scrollables.map(Ye=>Ye.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(ge,Ce),isOriginOutsideView:S(ge,Ce),isOverlayClipped:B(ce,Ce),isOverlayOutsideView:S(ce,Ce)}}_subtractOverflows(ge,...ce){return ce.reduce((Ce,Ye)=>Ce-Math.max(Ye,0),ge)}_getNarrowedViewportRect(){const ge=this._document.documentElement.clientWidth,ce=this._document.documentElement.clientHeight,Ce=this._viewportRuler.getViewportScrollPosition();return{top:Ce.top+this._viewportMargin,left:Ce.left+this._viewportMargin,right:Ce.left+ge-this._viewportMargin,bottom:Ce.top+ce-this._viewportMargin,width:ge-2*this._viewportMargin,height:ce-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ge,ce){return"x"===ce?null==ge.offsetX?this._offsetX:ge.offsetX:null==ge.offsetY?this._offsetY:ge.offsetY}_validatePositions(){}_addPanelClasses(ge){this._pane&&(0,O.Eq)(ge).forEach(ce=>{""!==ce&&-1===this._appliedPanelClasses.indexOf(ce)&&(this._appliedPanelClasses.push(ce),this._pane.classList.add(ce))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ge=>{this._pane.classList.remove(ge)}),this._appliedPanelClasses=[])}_getOriginRect(){const ge=this._origin;if(ge instanceof E.SBq)return ge.nativeElement.getBoundingClientRect();if(ge instanceof Element)return ge.getBoundingClientRect();const ce=ge.width||0,Ce=ge.height||0;return{top:ge.y,bottom:ge.y+Ce,left:ge.x,right:ge.x+ce,height:Ce,width:ce}}}function Le(de,ge){for(let ce in ge)ge.hasOwnProperty(ce)&&(de[ce]=ge[ce]);return de}function Pe(de){if("number"!=typeof de&&null!=de){const[ge,ce]=de.split(we);return ce&&"px"!==ce?null:parseFloat(ge)}return de||null}function Oe(de){return{top:Math.floor(de.top),right:Math.floor(de.right),bottom:Math.floor(de.bottom),left:Math.floor(de.left),width:Math.floor(de.width),height:Math.floor(de.height)}}const He="cdk-global-overlay-wrapper";class Ae{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ge){const ce=ge.getConfig();this._overlayRef=ge,this._width&&!ce.width&&ge.updateSize({width:this._width}),this._height&&!ce.height&&ge.updateSize({height:this._height}),ge.hostElement.classList.add(He),this._isDisposed=!1}top(ge=""){return this._bottomOffset="",this._topOffset=ge,this._alignItems="flex-start",this}left(ge=""){return this._xOffset=ge,this._xPosition="left",this}bottom(ge=""){return this._topOffset="",this._bottomOffset=ge,this._alignItems="flex-end",this}right(ge=""){return this._xOffset=ge,this._xPosition="right",this}start(ge=""){return this._xOffset=ge,this._xPosition="start",this}end(ge=""){return this._xOffset=ge,this._xPosition="end",this}width(ge=""){return this._overlayRef?this._overlayRef.updateSize({width:ge}):this._width=ge,this}height(ge=""){return this._overlayRef?this._overlayRef.updateSize({height:ge}):this._height=ge,this}centerHorizontally(ge=""){return this.left(ge),this._xPosition="center",this}centerVertically(ge=""){return this.top(ge),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ge=this._overlayRef.overlayElement.style,ce=this._overlayRef.hostElement.style,Ce=this._overlayRef.getConfig(),{width:Ye,height:Be,maxWidth:$e,maxHeight:Qe}=Ce,qe=!("100%"!==Ye&&"100vw"!==Ye||$e&&"100%"!==$e&&"100vw"!==$e),ct=!("100%"!==Be&&"100vh"!==Be||Qe&&"100%"!==Qe&&"100vh"!==Qe),Ot=this._xPosition,_t=this._xOffset,Rt="rtl"===this._overlayRef.getConfig().direction;let Gt="",$t="",Qt="";qe?Qt="flex-start":"center"===Ot?(Qt="center",Rt?$t=_t:Gt=_t):Rt?"left"===Ot||"end"===Ot?(Qt="flex-end",Gt=_t):("right"===Ot||"start"===Ot)&&(Qt="flex-start",$t=_t):"left"===Ot||"start"===Ot?(Qt="flex-start",Gt=_t):("right"===Ot||"end"===Ot)&&(Qt="flex-end",$t=_t),ge.position=this._cssPosition,ge.marginLeft=qe?"0":Gt,ge.marginTop=ct?"0":this._topOffset,ge.marginBottom=this._bottomOffset,ge.marginRight=qe?"0":$t,ce.justifyContent=Qt,ce.alignItems=ct?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ge=this._overlayRef.overlayElement.style,ce=this._overlayRef.hostElement,Ce=ce.style;ce.classList.remove(He),Ce.justifyContent=Ce.alignItems=ge.marginTop=ge.marginBottom=ge.marginLeft=ge.marginRight=ge.position="",this._overlayRef=null,this._isDisposed=!0}}let be=(()=>{class de{constructor(ce,Ce,Ye,Be){this._viewportRuler=ce,this._document=Ce,this._platform=Ye,this._overlayContainer=Be}global(){return new Ae}flexibleConnectedTo(ce){return new _e(ce,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(c.rL),E.LFG(t.K0),E.LFG(b.t4),E.LFG(Ie))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),K=0,ie=(()=>{class de{constructor(ce,Ce,Ye,Be,$e,Qe,qe,ct,Ot,_t,Rt,Gt){this.scrollStrategies=ce,this._overlayContainer=Ce,this._componentFactoryResolver=Ye,this._positionBuilder=Be,this._keyboardDispatcher=$e,this._injector=Qe,this._ngZone=qe,this._document=ct,this._directionality=Ot,this._location=_t,this._outsideClickDispatcher=Rt,this._animationsModuleType=Gt}create(ce){const Ce=this._createHostElement(),Ye=this._createPaneElement(Ce),Be=this._createPortalOutlet(Ye),$e=new se(ce);return $e.direction=$e.direction||this._directionality.value,new le(Be,Ce,Ye,$e,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ce){const Ce=this._document.createElement("div");return Ce.id="cdk-overlay-"+K++,Ce.classList.add("cdk-overlay-pane"),ce.appendChild(Ce),Ce}_createHostElement(){const ce=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ce),ce}_createPortalOutlet(ce){return this._appRef||(this._appRef=this._injector.get(E.z2F)),new A.u0(ce,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.LFG(re),E.LFG(Ie),E.LFG(E._Vd),E.LFG(be),E.LFG(ue),E.LFG(E.zs3),E.LFG(E.R0b),E.LFG(t.K0),E.LFG(y.Is),E.LFG(t.Ye),E.LFG(Se),E.LFG(E.QbO,8))};static#t=this.\u0275prov=E.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const he=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],$=new E.OlP("cdk-connected-overlay-scroll-strategy");let Z=(()=>{class de{constructor(ce){this.elementRef=ce}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.Y36(E.SBq))};static#t=this.\u0275dir=E.lG2({type:de,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return de})(),W=(()=>{class de{get offsetX(){return this._offsetX}set offsetX(ce){this._offsetX=ce,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ce){this._offsetY=ce,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ce){this._hasBackdrop=(0,O.Ig)(ce)}get lockPosition(){return this._lockPosition}set lockPosition(ce){this._lockPosition=(0,O.Ig)(ce)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(ce){this._flexibleDimensions=(0,O.Ig)(ce)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(ce){this._growAfterOpen=(0,O.Ig)(ce)}get push(){return this._push}set push(ce){this._push=(0,O.Ig)(ce)}constructor(ce,Ce,Ye,Be,$e){this._overlay=ce,this._dir=$e,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=P.w0.EMPTY,this._attachSubscription=P.w0.EMPTY,this._detachSubscription=P.w0.EMPTY,this._positionSubscription=P.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new E.vpe,this.positionChange=new E.vpe,this.attach=new E.vpe,this.detach=new E.vpe,this.overlayKeydown=new E.vpe,this.overlayOutsideClick=new E.vpe,this._templatePortal=new A.UE(Ce,Ye),this._scrollStrategyFactory=Be,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ce){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ce.origin&&this.open&&this._position.apply()),ce.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=he);const ce=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ce.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ce.detachments().subscribe(()=>this.detach.emit()),ce.keydownEvents().subscribe(Ce=>{this.overlayKeydown.next(Ce),Ce.keyCode===k.hY&&!this.disableClose&&!(0,k.Vb)(Ce)&&(Ce.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ce=>{this.overlayOutsideClick.next(Ce)})}_buildConfig(){const ce=this._position=this.positionStrategy||this._createPositionStrategy(),Ce=new se({direction:this._dir,positionStrategy:ce,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ce.width=this.width),(this.height||0===this.height)&&(Ce.height=this.height),(this.minWidth||0===this.minWidth)&&(Ce.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ce.minHeight=this.minHeight),this.backdropClass&&(Ce.backdropClass=this.backdropClass),this.panelClass&&(Ce.panelClass=this.panelClass),Ce}_updatePositionStrategy(ce){const Ce=this.positions.map(Ye=>({originX:Ye.originX,originY:Ye.originY,overlayX:Ye.overlayX,overlayY:Ye.overlayY,offsetX:Ye.offsetX||this.offsetX,offsetY:Ye.offsetY||this.offsetY,panelClass:Ye.panelClass||void 0}));return ce.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ce).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ce=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(ce),ce}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Z?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ce=>{this.backdropClick.emit(ce)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function p(de,ge=!1){return(0,g.e)((ce,Ce)=>{let Ye=0;ce.subscribe((0,h.x)(Ce,Be=>{const $e=de(Be,Ye++);($e||ge)&&Ce.next(Be),!$e&&Ce.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(ce=>{this.positionChange.emit(ce),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(E.Y36(ie),E.Y36(E.Rgc),E.Y36(E.s_b),E.Y36($),E.Y36(y.Is,8))};static#t=this.\u0275dir=E.lG2({type:de,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[E.TTD]})}return de})();const Q={provide:$,deps:[ie],useFactory:function X(de){return()=>de.scrollStrategies.reposition()}};let q=(()=>{class de{static#e=this.\u0275fac=function(Ce){return new(Ce||de)};static#t=this.\u0275mod=E.oAB({type:de});static#n=this.\u0275inj=E.cJS({providers:[ie,Q],imports:[y.vT,A.eL,c.Cl,c.Cl]})}return de})()},2831:(wn,Ze,C)=>{"use strict";C.d(Ze,{Mq:()=>U,Oy:()=>T,ht:()=>D,i$:()=>p,kV:()=>R,qK:()=>x,sA:()=>I,t4:()=>O});var c=C(5879),t=C(6814);let E;try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let F,O=(()=>{class N{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Y){return new(Y||N)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const L=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function x(){if(F)return F;if("object"!=typeof document||!document)return F=new Set(L),F;let N=document.createElement("input");return F=new Set(L.filter(S=>(N.setAttribute("type",S),N.type===S))),F}let g,A,V;function p(N){return function h(){if(null==g&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>g=!0}))}finally{g=g||!1}return g}()?N:!!N.capture}function U(){if(null==A){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return A=!1,A;if("scrollBehavior"in document.documentElement.style)A=!0;else{const N=Element.prototype.scrollTo;A=!!N&&!/\{\s*\[native code\]\s*\}/.test(N.toString())}}return A}function R(N){if(function k(){if(null==V){const N=typeof document<"u"?document.head:null;V=!(!N||!N.createShadowRoot&&!N.attachShadow)}return V}()){const S=N.getRootNode?N.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&S instanceof ShadowRoot)return S}return null}function D(){let N=typeof document<"u"&&document?document.activeElement:null;for(;N&&N.shadowRoot;){const S=N.shadowRoot.activeElement;if(S===N)break;N=S}return N}function I(N){return N.composedPath?N.composedPath()[0]:N.target}function T(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(wn,Ze,C)=>{"use strict";C.d(Ze,{C5:()=>h,Pl:()=>D,UE:()=>p,eL:()=>T,en:()=>A,u0:()=>P});var c=C(5879),t=C(6814);class g{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class h extends g{constructor(B,Y,re,se,Re){super(),this.component=B,this.viewContainerRef=Y,this.injector=re,this.componentFactoryResolver=se,this.projectableNodes=Re}}class p extends g{constructor(B,Y,re,se){super(),this.templateRef=B,this.viewContainerRef=Y,this.context=re,this.injector=se}get origin(){return this.templateRef.elementRef}attach(B,Y=this.context){return this.context=Y,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class y extends g{constructor(B){super(),this.element=B instanceof c.SBq?B.nativeElement:B}}class A{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof h?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof p?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof y?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class P extends A{constructor(B,Y,re,se,Re){super(),this.outletElement=B,this._componentFactoryResolver=Y,this._appRef=re,this._defaultInjector=se,this.attachDomPortal=z=>{const oe=z.element,H=this._document.createComment("dom-portal");oe.parentNode.insertBefore(H,oe),this.outletElement.appendChild(oe),this._attachedPortal=z,super.setDisposeFn(()=>{H.parentNode&&H.parentNode.replaceChild(oe,H)})},this._document=Re}attachComponentPortal(B){const re=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let se;return B.viewContainerRef?(se=B.viewContainerRef.createComponent(re,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>se.destroy())):(se=re.create(B.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(se.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(se.hostView),se.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(se)),this._attachedPortal=B,se}attachTemplatePortal(B){let Y=B.viewContainerRef,re=Y.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return re.rootNodes.forEach(se=>this.outletElement.appendChild(se)),re.detectChanges(),this.setDisposeFn(()=>{let se=Y.indexOf(re);-1!==se&&Y.remove(se)}),this._attachedPortal=B,re}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let D=(()=>{class S extends A{constructor(Y,re,se){super(),this._componentFactoryResolver=Y,this._viewContainerRef=re,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=Re=>{const z=Re.element,oe=this._document.createComment("dom-portal");Re.setAttachedHost(this),z.parentNode.insertBefore(oe,z),this._getRootNode().appendChild(z),this._attachedPortal=Re,super.setDisposeFn(()=>{oe.parentNode&&oe.parentNode.replaceChild(z,oe)})},this._document=se}get portal(){return this._attachedPortal}set portal(Y){this.hasAttached()&&!Y&&!this._isInitialized||(this.hasAttached()&&super.detach(),Y&&super.attach(Y),this._attachedPortal=Y||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Y){Y.setAttachedHost(this);const re=null!=Y.viewContainerRef?Y.viewContainerRef:this._viewContainerRef,Re=(Y.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Y.component),z=re.createComponent(Re,re.length,Y.injector||re.injector,Y.projectableNodes||void 0);return re!==this._viewContainerRef&&this._getRootNode().appendChild(z.hostView.rootNodes[0]),super.setDisposeFn(()=>z.destroy()),this._attachedPortal=Y,this._attachedRef=z,this.attached.emit(z),z}attachTemplatePortal(Y){Y.setAttachedHost(this);const re=this._viewContainerRef.createEmbeddedView(Y.templateRef,Y.context,{injector:Y.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Y,this._attachedRef=re,this.attached.emit(re),re}_getRootNode(){const Y=this._viewContainerRef.element.nativeElement;return Y.nodeType===Y.ELEMENT_NODE?Y:Y.parentNode}static#e=this.\u0275fac=function(re){return new(re||S)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(t.K0))};static#t=this.\u0275dir=c.lG2({type:S,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]})}return S})(),T=(()=>{class S{static#e=this.\u0275fac=function(re){return new(re||S)};static#t=this.\u0275mod=c.oAB({type:S});static#n=this.\u0275inj=c.cJS({})}return S})()},799:(wn,Ze,C)=>{"use strict";C.d(Ze,{ZD:()=>de,mF:()=>He,Cl:()=>ge,rL:()=>K});var c=C(2495),t=C(5879),E=C(8645),O=C(2096),b=C(5592),F=C(2438),L=C(1954),x=C(7394);const g={schedule(ce){let Ce=requestAnimationFrame,Ye=cancelAnimationFrame;const{delegate:Be}=g;Be&&(Ce=Be.requestAnimationFrame,Ye=Be.cancelAnimationFrame);const $e=Ce(Qe=>{Ye=void 0,ce(Qe)});return new x.w0(()=>Ye?.($e))},requestAnimationFrame(...ce){const{delegate:Ce}=g;return(Ce?.requestAnimationFrame||requestAnimationFrame)(...ce)},cancelAnimationFrame(...ce){const{delegate:Ce}=g;return(Ce?.cancelAnimationFrame||cancelAnimationFrame)(...ce)},delegate:void 0};var p=C(2631);new class y extends p.v{flush(Ce){this._active=!0;const Ye=this._scheduled;this._scheduled=void 0;const{actions:Be}=this;let $e;Ce=Ce||Be.shift();do{if($e=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Be[0])&&Ce.id===Ye&&Be.shift());if(this._active=!1,$e){for(;(Ce=Be[0])&&Ce.id===Ye&&Be.shift();)Ce.unsubscribe();throw $e}}}(class h extends L.o{constructor(Ce,Ye){super(Ce,Ye),this.scheduler=Ce,this.work=Ye}requestAsyncId(Ce,Ye,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Ce,Ye,Be):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=g.requestAnimationFrame(()=>Ce.flush(void 0))))}recycleAsyncId(Ce,Ye,Be=0){var $e;if(null!=Be?Be>0:this.delay>0)return super.recycleAsyncId(Ce,Ye,Be);const{actions:Qe}=Ce;null!=Ye&&(null===($e=Qe[Qe.length-1])||void 0===$e?void 0:$e.id)!==Ye&&(g.cancelAnimationFrame(Ye),Ce._scheduled=void 0)}});let V,P=1;const k={};function R(ce){return ce in k&&(delete k[ce],!0)}const D={setImmediate(ce){const Ce=P++;return k[Ce]=!0,V||(V=Promise.resolve()),V.then(()=>R(Ce)&&ce()),Ce},clearImmediate(ce){R(ce)}},{setImmediate:T,clearImmediate:N}=D,S={setImmediate(...ce){const{delegate:Ce}=S;return(Ce?.setImmediate||T)(...ce)},clearImmediate(ce){const{delegate:Ce}=S;return(Ce?.clearImmediate||N)(ce)},delegate:void 0};new class Y extends p.v{flush(Ce){this._active=!0;const Ye=this._scheduled;this._scheduled=void 0;const{actions:Be}=this;let $e;Ce=Ce||Be.shift();do{if($e=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Be[0])&&Ce.id===Ye&&Be.shift());if(this._active=!1,$e){for(;(Ce=Be[0])&&Ce.id===Ye&&Be.shift();)Ce.unsubscribe();throw $e}}}(class B extends L.o{constructor(Ce,Ye){super(Ce,Ye),this.scheduler=Ce,this.work=Ye}requestAsyncId(Ce,Ye,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Ce,Ye,Be):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=S.setImmediate(Ce.flush.bind(Ce,void 0))))}recycleAsyncId(Ce,Ye,Be=0){var $e;if(null!=Be?Be>0:this.delay>0)return super.recycleAsyncId(Ce,Ye,Be);const{actions:Qe}=Ce;null!=Ye&&(null===($e=Qe[Qe.length-1])||void 0===$e?void 0:$e.id)!==Ye&&(S.clearImmediate(Ye),Ce._scheduled===Ye&&(Ce._scheduled=void 0))}});var Re=C(6321),z=C(9360),oe=C(4829),H=C(8251),ne=C(4825);function ue(ce,Ce=Re.z){return function me(ce){return(0,z.e)((Ce,Ye)=>{let Be=!1,$e=null,Qe=null,qe=!1;const ct=()=>{if(Qe?.unsubscribe(),Qe=null,Be){Be=!1;const _t=$e;$e=null,Ye.next(_t)}qe&&Ye.complete()},Ot=()=>{Qe=null,qe&&Ye.complete()};Ce.subscribe((0,H.x)(Ye,_t=>{Be=!0,$e=_t,Qe||(0,oe.Xf)(ce(_t)).subscribe(Qe=(0,H.x)(Ye,ct,Ot))},()=>{qe=!0,(!Be||!Qe||Qe.closed)&&Ye.complete()}))})}(()=>(0,ne.H)(ce,Ce))}var Se=C(2181),Ie=C(2831),le=C(6814),Me=C(9388);let He=(()=>{class ce{constructor(Ye,Be,$e){this._ngZone=Ye,this._platform=Be,this._scrolled=new E.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=$e}register(Ye){this.scrollContainers.has(Ye)||this.scrollContainers.set(Ye,Ye.elementScrolled().subscribe(()=>this._scrolled.next(Ye)))}deregister(Ye){const Be=this.scrollContainers.get(Ye);Be&&(Be.unsubscribe(),this.scrollContainers.delete(Ye))}scrolled(Ye=20){return this._platform.isBrowser?new b.y(Be=>{this._globalSubscription||this._addGlobalListener();const $e=Ye>0?this._scrolled.pipe(ue(Ye)).subscribe(Be):this._scrolled.subscribe(Be);return this._scrolledCount++,()=>{$e.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,O.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ye,Be)=>this.deregister(Be)),this._scrolled.complete()}ancestorScrolled(Ye,Be){const $e=this.getAncestorScrollContainers(Ye);return this.scrolled(Be).pipe((0,Se.h)(Qe=>!Qe||$e.indexOf(Qe)>-1))}getAncestorScrollContainers(Ye){const Be=[];return this.scrollContainers.forEach(($e,Qe)=>{this._scrollableContainsElement(Qe,Ye)&&Be.push(Qe)}),Be}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ye,Be){let $e=(0,c.fI)(Be),Qe=Ye.getElementRef().nativeElement;do{if($e==Qe)return!0}while($e=$e.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ye=this._getWindow();return(0,F.R)(Ye.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Be){return new(Be||ce)(t.LFG(t.R0b),t.LFG(Ie.t4),t.LFG(le.K0,8))};static#t=this.\u0275prov=t.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),K=(()=>{class ce{constructor(Ye,Be,$e){this._platform=Ye,this._change=new E.x,this._changeListener=Qe=>{this._change.next(Qe)},this._document=$e,Be.runOutsideAngular(()=>{if(Ye.isBrowser){const Qe=this._getWindow();Qe.addEventListener("resize",this._changeListener),Qe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ye=this._getWindow();Ye.removeEventListener("resize",this._changeListener),Ye.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ye={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ye}getViewportRect(){const Ye=this.getViewportScrollPosition(),{width:Be,height:$e}=this.getViewportSize();return{top:Ye.top,left:Ye.left,bottom:Ye.top+$e,right:Ye.left+Be,height:$e,width:Be}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ye=this._document,Be=this._getWindow(),$e=Ye.documentElement,Qe=$e.getBoundingClientRect();return{top:-Qe.top||Ye.body.scrollTop||Be.scrollY||$e.scrollTop||0,left:-Qe.left||Ye.body.scrollLeft||Be.scrollX||$e.scrollLeft||0}}change(Ye=20){return Ye>0?this._change.pipe(ue(Ye)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ye=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ye.innerWidth,height:Ye.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Be){return new(Be||ce)(t.LFG(Ie.t4),t.LFG(t.R0b),t.LFG(le.K0,8))};static#t=this.\u0275prov=t.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),de=(()=>{class ce{static#e=this.\u0275fac=function(Be){return new(Be||ce)};static#t=this.\u0275mod=t.oAB({type:ce});static#n=this.\u0275inj=t.cJS({})}return ce})(),ge=(()=>{class ce{static#e=this.\u0275fac=function(Be){return new(Be||ce)};static#t=this.\u0275mod=t.oAB({type:ce});static#n=this.\u0275inj=t.cJS({imports:[Me.vT,de,Me.vT,de]})}return ce})()},6814:(wn,Ze,C)=>{"use strict";C.d(Ze,{Do:()=>V,ED:()=>lr,EM:()=>Qs,HT:()=>O,JF:()=>Wi,K0:()=>F,Mn:()=>me,Mx:()=>_n,NF:()=>fo,O5:()=>lt,Ov:()=>Ho,PM:()=>xo,RF:()=>vn,S$:()=>A,Tn:()=>re,UT:()=>ne,V_:()=>x,Ye:()=>k,ax:()=>ht,b0:()=>P,bD:()=>hr,ez:()=>Pr,mk:()=>Bt,mr:()=>U,n9:()=>Ui,p6:()=>Ce,q:()=>E,sg:()=>ht,tP:()=>Di,uU:()=>Ni,w_:()=>b,x:()=>Y});var c=C(5879);let t=null;function E(){return t}function O(De){t||(t=De)}class b{}const F=new c.OlP("DocumentToken");let L=(()=>{class De{historyGo(Je){throw new Error("Not implemented")}static#e=this.\u0275fac=function(gt){return new(gt||De)};static#t=this.\u0275prov=c.Yz7({token:De,factory:function(){return(0,c.f3M)(g)},providedIn:"platform"})}return De})();const x=new c.OlP("Location Initialized");let g=(()=>{class De extends L{constructor(){super(),this._doc=(0,c.f3M)(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(Je){const gt=E().getGlobalEventTarget(this._doc,"window");return gt.addEventListener("popstate",Je,!1),()=>gt.removeEventListener("popstate",Je)}onHashChange(Je){const gt=E().getGlobalEventTarget(this._doc,"window");return gt.addEventListener("hashchange",Je,!1),()=>gt.removeEventListener("hashchange",Je)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Je){this._location.pathname=Je}pushState(Je,gt,Ut){this._history.pushState(Je,gt,Ut)}replaceState(Je,gt,Ut){this._history.replaceState(Je,gt,Ut)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Je=0){this._history.go(Je)}getState(){return this._history.state}static#e=this.\u0275fac=function(gt){return new(gt||De)};static#t=this.\u0275prov=c.Yz7({token:De,factory:function(){return new De},providedIn:"platform"})}return De})();function h(De,pt){if(0==De.length)return pt;if(0==pt.length)return De;let Je=0;return De.endsWith("/")&&Je++,pt.startsWith("/")&&Je++,2==Je?De+pt.substring(1):1==Je?De+pt:De+"/"+pt}function p(De){const pt=De.match(/#|\?|$/),Je=pt&&pt.index||De.length;return De.slice(0,Je-("/"===De[Je-1]?1:0))+De.slice(Je)}function y(De){return De&&"?"!==De[0]?"?"+De:De}let A=(()=>{class De{historyGo(Je){throw new Error("Not implemented")}static#e=this.\u0275fac=function(gt){return new(gt||De)};static#t=this.\u0275prov=c.Yz7({token:De,factory:function(){return(0,c.f3M)(P)},providedIn:"root"})}return De})();const U=new c.OlP("appBaseHref");let P=(()=>{class De extends A{constructor(Je,gt){super(),this._platformLocation=Je,this._removeListenerFns=[],this._baseHref=gt??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Je){this._removeListenerFns.push(this._platformLocation.onPopState(Je),this._platformLocation.onHashChange(Je))}getBaseHref(){return this._baseHref}prepareExternalUrl(Je){return h(this._baseHref,Je)}path(Je=!1){const gt=this._platformLocation.pathname+y(this._platformLocation.search),Ut=this._platformLocation.hash;return Ut&&Je?`${gt}${Ut}`:gt}pushState(Je,gt,Ut,fn){const Dn=this.prepareExternalUrl(Ut+y(fn));this._platformLocation.pushState(Je,gt,Dn)}replaceState(Je,gt,Ut,fn){const Dn=this.prepareExternalUrl(Ut+y(fn));this._platformLocation.replaceState(Je,gt,Dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Je=0){this._platformLocation.historyGo?.(Je)}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),V=(()=>{class De extends A{constructor(Je,gt){super(),this._platformLocation=Je,this._baseHref="",this._removeListenerFns=[],null!=gt&&(this._baseHref=gt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Je){this._removeListenerFns.push(this._platformLocation.onPopState(Je),this._platformLocation.onHashChange(Je))}getBaseHref(){return this._baseHref}path(Je=!1){let gt=this._platformLocation.hash;return null==gt&&(gt="#"),gt.length>0?gt.substring(1):gt}prepareExternalUrl(Je){const gt=h(this._baseHref,Je);return gt.length>0?"#"+gt:gt}pushState(Je,gt,Ut,fn){let Dn=this.prepareExternalUrl(Ut+y(fn));0==Dn.length&&(Dn=this._platformLocation.pathname),this._platformLocation.pushState(Je,gt,Dn)}replaceState(Je,gt,Ut,fn){let Dn=this.prepareExternalUrl(Ut+y(fn));0==Dn.length&&(Dn=this._platformLocation.pathname),this._platformLocation.replaceState(Je,gt,Dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Je=0){this._platformLocation.historyGo?.(Je)}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:De,factory:De.\u0275fac})}return De})(),k=(()=>{class De{constructor(Je){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Je;const gt=this._locationStrategy.getBaseHref();this._basePath=function T(De){if(new RegExp("^(https?:)?//").test(De)){const[,Je]=De.split(/\/\/[^\/]+/);return Je}return De}(p(I(gt))),this._locationStrategy.onPopState(Ut=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ut.state,type:Ut.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Je=!1){return this.normalize(this._locationStrategy.path(Je))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Je,gt=""){return this.path()==this.normalize(Je+y(gt))}normalize(Je){return De.stripTrailingSlash(function D(De,pt){if(!De||!pt.startsWith(De))return pt;const Je=pt.substring(De.length);return""===Je||["/",";","?","#"].includes(Je[0])?Je:pt}(this._basePath,I(Je)))}prepareExternalUrl(Je){return Je&&"/"!==Je[0]&&(Je="/"+Je),this._locationStrategy.prepareExternalUrl(Je)}go(Je,gt="",Ut=null){this._locationStrategy.pushState(Ut,"",Je,gt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Je+y(gt)),Ut)}replaceState(Je,gt="",Ut=null){this._locationStrategy.replaceState(Ut,"",Je,gt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Je+y(gt)),Ut)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Je=0){this._locationStrategy.historyGo?.(Je)}onUrlChange(Je){return this._urlChangeListeners.push(Je),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(gt=>{this._notifyUrlChangeListeners(gt.url,gt.state)})),()=>{const gt=this._urlChangeListeners.indexOf(Je);this._urlChangeListeners.splice(gt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Je="",gt){this._urlChangeListeners.forEach(Ut=>Ut(Je,gt))}subscribe(Je,gt,Ut){return this._subject.subscribe({next:Je,error:gt,complete:Ut})}static#e=this.normalizeQueryParams=y;static#t=this.joinWithSlash=h;static#n=this.stripTrailingSlash=p;static#i=this.\u0275fac=function(gt){return new(gt||De)(c.LFG(A))};static#r=this.\u0275prov=c.Yz7({token:De,factory:function(){return function R(){return new k((0,c.LFG)(A))}()},providedIn:"root"})}return De})();function I(De){return De.replace(/\/index.html$/,"")}var Y=function(De){return De[De.Format=0]="Format",De[De.Standalone=1]="Standalone",De}(Y||{}),re=function(De){return De[De.Narrow=0]="Narrow",De[De.Abbreviated=1]="Abbreviated",De[De.Wide=2]="Wide",De[De.Short=3]="Short",De}(re||{}),se=function(De){return De[De.Short=0]="Short",De[De.Medium=1]="Medium",De[De.Long=2]="Long",De[De.Full=3]="Full",De}(se||{}),Re=function(De){return De[De.Decimal=0]="Decimal",De[De.Group=1]="Group",De[De.List=2]="List",De[De.PercentSign=3]="PercentSign",De[De.PlusSign=4]="PlusSign",De[De.MinusSign=5]="MinusSign",De[De.Exponential=6]="Exponential",De[De.SuperscriptingExponent=7]="SuperscriptingExponent",De[De.PerMille=8]="PerMille",De[De.Infinity=9]="Infinity",De[De.NaN=10]="NaN",De[De.TimeSeparator=11]="TimeSeparator",De[De.CurrencyDecimal=12]="CurrencyDecimal",De[De.CurrencyGroup=13]="CurrencyGroup",De}(Re||{});function me(De,pt,Je){const gt=(0,c.cg1)(De),fn=he([gt[c.wAp.DaysFormat],gt[c.wAp.DaysStandalone]],pt);return he(fn,Je)}function ne(De,pt,Je){const gt=(0,c.cg1)(De),fn=he([gt[c.wAp.MonthsFormat],gt[c.wAp.MonthsStandalone]],pt);return he(fn,Je)}function le(De,pt){return he((0,c.cg1)(De)[c.wAp.DateFormat],pt)}function Me(De,pt){return he((0,c.cg1)(De)[c.wAp.TimeFormat],pt)}function we(De,pt){return he((0,c.cg1)(De)[c.wAp.DateTimeFormat],pt)}function _e(De,pt){const Je=(0,c.cg1)(De),gt=Je[c.wAp.NumberSymbols][pt];if(typeof gt>"u"){if(pt===Re.CurrencyDecimal)return Je[c.wAp.NumberSymbols][Re.Decimal];if(pt===Re.CurrencyGroup)return Je[c.wAp.NumberSymbols][Re.Group]}return gt}function Ae(De){if(!De[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${De[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function he(De,pt){for(let Je=pt;Je>-1;Je--)if(typeof De[Je]<"u")return De[Je];throw new Error("Locale data API: locale data undefined")}function $(De){const[pt,Je]=De.split(":");return{hours:+pt,minutes:+Je}}const Q=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},J=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var de=function(De){return De[De.Short=0]="Short",De[De.ShortGMT=1]="ShortGMT",De[De.Long=2]="Long",De[De.Extended=3]="Extended",De}(de||{}),ge=function(De){return De[De.FullYear=0]="FullYear",De[De.Month=1]="Month",De[De.Date=2]="Date",De[De.Hours=3]="Hours",De[De.Minutes=4]="Minutes",De[De.Seconds=5]="Seconds",De[De.FractionalSeconds=6]="FractionalSeconds",De[De.Day=7]="Day",De}(ge||{}),ce=function(De){return De[De.DayPeriods=0]="DayPeriods",De[De.Days=1]="Days",De[De.Months=2]="Months",De[De.Eras=3]="Eras",De}(ce||{});function Ce(De,pt,Je,gt){let Ut=function mt(De){if(ut(De))return De;if("number"==typeof De&&!isNaN(De))return new Date(De);if("string"==typeof De){if(De=De.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(De)){const[Ut,fn=1,Dn=1]=De.split("-").map(ei=>+ei);return Ye(Ut,fn-1,Dn)}const Je=parseFloat(De);if(!isNaN(De-Je))return new Date(Je);let gt;if(gt=De.match(Q))return function Dt(De){const pt=new Date(0);let Je=0,gt=0;const Ut=De[8]?pt.setUTCFullYear:pt.setFullYear,fn=De[8]?pt.setUTCHours:pt.setHours;De[9]&&(Je=Number(De[9]+De[10]),gt=Number(De[9]+De[11])),Ut.call(pt,Number(De[1]),Number(De[2])-1,Number(De[3]));const Dn=Number(De[4]||0)-Je,ei=Number(De[5]||0)-gt,$i=Number(De[6]||0),Ai=Math.floor(1e3*parseFloat("0."+(De[7]||0)));return fn.call(pt,Dn,ei,$i,Ai),pt}(gt)}const pt=new Date(De);if(!ut(pt))throw new Error(`Unable to convert "${De}" into a date`);return pt}(De);pt=Be(Je,pt)||pt;let ei,Dn=[];for(;pt;){if(ei=J.exec(pt),!ei){Dn.push(pt);break}{Dn=Dn.concat(ei.slice(1));const Li=Dn.pop();if(!Li)break;pt=Li}}let $i=Ut.getTimezoneOffset();gt&&($i=fe(gt,$i),Ut=function at(De,pt,Je){const gt=Je?-1:1,Ut=De.getTimezoneOffset();return function pe(De,pt){return(De=new Date(De.getTime())).setMinutes(De.getMinutes()+pt),De}(De,gt*(fe(pt,Ut)-Ut))}(Ut,gt,!0));let Ai="";return Dn.forEach(Li=>{const xi=function xe(De){if(dt[De])return dt[De];let pt;switch(De){case"G":case"GG":case"GGG":pt=_t(ce.Eras,re.Abbreviated);break;case"GGGG":pt=_t(ce.Eras,re.Wide);break;case"GGGGG":pt=_t(ce.Eras,re.Narrow);break;case"y":pt=ct(ge.FullYear,1,0,!1,!0);break;case"yy":pt=ct(ge.FullYear,2,0,!0,!0);break;case"yyy":pt=ct(ge.FullYear,3,0,!1,!0);break;case"yyyy":pt=ct(ge.FullYear,4,0,!1,!0);break;case"Y":pt=ot(1);break;case"YY":pt=ot(2,!0);break;case"YYY":pt=ot(3);break;case"YYYY":pt=ot(4);break;case"M":case"L":pt=ct(ge.Month,1,1);break;case"MM":case"LL":pt=ct(ge.Month,2,1);break;case"MMM":pt=_t(ce.Months,re.Abbreviated);break;case"MMMM":pt=_t(ce.Months,re.Wide);break;case"MMMMM":pt=_t(ce.Months,re.Narrow);break;case"LLL":pt=_t(ce.Months,re.Abbreviated,Y.Standalone);break;case"LLLL":pt=_t(ce.Months,re.Wide,Y.Standalone);break;case"LLLLL":pt=_t(ce.Months,re.Narrow,Y.Standalone);break;case"w":pt=jn(1);break;case"ww":pt=jn(2);break;case"W":pt=jn(1,!0);break;case"d":pt=ct(ge.Date,1);break;case"dd":pt=ct(ge.Date,2);break;case"c":case"cc":pt=ct(ge.Day,1);break;case"ccc":pt=_t(ce.Days,re.Abbreviated,Y.Standalone);break;case"cccc":pt=_t(ce.Days,re.Wide,Y.Standalone);break;case"ccccc":pt=_t(ce.Days,re.Narrow,Y.Standalone);break;case"cccccc":pt=_t(ce.Days,re.Short,Y.Standalone);break;case"E":case"EE":case"EEE":pt=_t(ce.Days,re.Abbreviated);break;case"EEEE":pt=_t(ce.Days,re.Wide);break;case"EEEEE":pt=_t(ce.Days,re.Narrow);break;case"EEEEEE":pt=_t(ce.Days,re.Short);break;case"a":case"aa":case"aaa":pt=_t(ce.DayPeriods,re.Abbreviated);break;case"aaaa":pt=_t(ce.DayPeriods,re.Wide);break;case"aaaaa":pt=_t(ce.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":pt=_t(ce.DayPeriods,re.Abbreviated,Y.Standalone,!0);break;case"bbbb":pt=_t(ce.DayPeriods,re.Wide,Y.Standalone,!0);break;case"bbbbb":pt=_t(ce.DayPeriods,re.Narrow,Y.Standalone,!0);break;case"B":case"BB":case"BBB":pt=_t(ce.DayPeriods,re.Abbreviated,Y.Format,!0);break;case"BBBB":pt=_t(ce.DayPeriods,re.Wide,Y.Format,!0);break;case"BBBBB":pt=_t(ce.DayPeriods,re.Narrow,Y.Format,!0);break;case"h":pt=ct(ge.Hours,1,-12);break;case"hh":pt=ct(ge.Hours,2,-12);break;case"H":pt=ct(ge.Hours,1);break;case"HH":pt=ct(ge.Hours,2);break;case"m":pt=ct(ge.Minutes,1);break;case"mm":pt=ct(ge.Minutes,2);break;case"s":pt=ct(ge.Seconds,1);break;case"ss":pt=ct(ge.Seconds,2);break;case"S":pt=ct(ge.FractionalSeconds,1);break;case"SS":pt=ct(ge.FractionalSeconds,2);break;case"SSS":pt=ct(ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":pt=Gt(de.Short);break;case"ZZZZZ":pt=Gt(de.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":pt=Gt(de.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":pt=Gt(de.Long);break;default:return null}return dt[De]=pt,pt}(Li);Ai+=xi?xi(Ut,Je,$i):"''"===Li?"'":Li.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ai}function Ye(De,pt,Je){const gt=new Date(0);return gt.setFullYear(De,pt,Je),gt.setHours(0,0,0),gt}function Be(De,pt){const Je=function oe(De){return(0,c.cg1)(De)[c.wAp.LocaleId]}(De);if(q[Je]=q[Je]||{},q[Je][pt])return q[Je][pt];let gt="";switch(pt){case"shortDate":gt=le(De,se.Short);break;case"mediumDate":gt=le(De,se.Medium);break;case"longDate":gt=le(De,se.Long);break;case"fullDate":gt=le(De,se.Full);break;case"shortTime":gt=Me(De,se.Short);break;case"mediumTime":gt=Me(De,se.Medium);break;case"longTime":gt=Me(De,se.Long);break;case"fullTime":gt=Me(De,se.Full);break;case"short":const Ut=Be(De,"shortTime"),fn=Be(De,"shortDate");gt=$e(we(De,se.Short),[Ut,fn]);break;case"medium":const Dn=Be(De,"mediumTime"),ei=Be(De,"mediumDate");gt=$e(we(De,se.Medium),[Dn,ei]);break;case"long":const $i=Be(De,"longTime"),Ai=Be(De,"longDate");gt=$e(we(De,se.Long),[$i,Ai]);break;case"full":const Li=Be(De,"fullTime"),xi=Be(De,"fullDate");gt=$e(we(De,se.Full),[Li,xi])}return gt&&(q[Je][pt]=gt),gt}function $e(De,pt){return pt&&(De=De.replace(/\{([^}]+)}/g,function(Je,gt){return null!=pt&&gt in pt?pt[gt]:Je})),De}function Qe(De,pt,Je="-",gt,Ut){let fn="";(De<0||Ut&&De<=0)&&(Ut?De=1-De:(De=-De,fn=Je));let Dn=String(De);for(;Dn.length<pt;)Dn="0"+Dn;return gt&&(Dn=Dn.slice(Dn.length-pt)),fn+Dn}function ct(De,pt,Je=0,gt=!1,Ut=!1){return function(fn,Dn){let ei=function Ot(De,pt){switch(De){case ge.FullYear:return pt.getFullYear();case ge.Month:return pt.getMonth();case ge.Date:return pt.getDate();case ge.Hours:return pt.getHours();case ge.Minutes:return pt.getMinutes();case ge.Seconds:return pt.getSeconds();case ge.FractionalSeconds:return pt.getMilliseconds();case ge.Day:return pt.getDay();default:throw new Error(`Unknown DateType value "${De}".`)}}(De,fn);if((Je>0||ei>-Je)&&(ei+=Je),De===ge.Hours)0===ei&&-12===Je&&(ei=12);else if(De===ge.FractionalSeconds)return function qe(De,pt){return Qe(De,3).substring(0,pt)}(ei,pt);const $i=_e(Dn,Re.MinusSign);return Qe(ei,pt,$i,gt,Ut)}}function _t(De,pt,Je=Y.Format,gt=!1){return function(Ut,fn){return function Rt(De,pt,Je,gt,Ut,fn){switch(Je){case ce.Months:return ne(pt,Ut,gt)[De.getMonth()];case ce.Days:return me(pt,Ut,gt)[De.getDay()];case ce.DayPeriods:const Dn=De.getHours(),ei=De.getMinutes();if(fn){const Ai=function be(De){const pt=(0,c.cg1)(De);return Ae(pt),(pt[c.wAp.ExtraData][2]||[]).map(gt=>"string"==typeof gt?$(gt):[$(gt[0]),$(gt[1])])}(pt),Li=function K(De,pt,Je){const gt=(0,c.cg1)(De);Ae(gt);const fn=he([gt[c.wAp.ExtraData][0],gt[c.wAp.ExtraData][1]],pt)||[];return he(fn,Je)||[]}(pt,Ut,gt),xi=Ai.findIndex(sr=>{if(Array.isArray(sr)){const[Vi,xr]=sr,po=Dn>=Vi.hours&&ei>=Vi.minutes,oi=Dn<xr.hours||Dn===xr.hours&&ei<xr.minutes;if(Vi.hours<xr.hours){if(po&&oi)return!0}else if(po||oi)return!0}else if(sr.hours===Dn&&sr.minutes===ei)return!0;return!1});if(-1!==xi)return Li[xi]}return function H(De,pt,Je){const gt=(0,c.cg1)(De),fn=he([gt[c.wAp.DayPeriodsFormat],gt[c.wAp.DayPeriodsStandalone]],pt);return he(fn,Je)}(pt,Ut,gt)[Dn<12?0:1];case ce.Eras:return function ue(De,pt){return he((0,c.cg1)(De)[c.wAp.Eras],pt)}(pt,gt)[De.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Je}`)}}(Ut,fn,De,pt,Je,gt)}}function Gt(De){return function(pt,Je,gt){const Ut=-1*gt,fn=_e(Je,Re.MinusSign),Dn=Ut>0?Math.floor(Ut/60):Math.ceil(Ut/60);switch(De){case de.Short:return(Ut>=0?"+":"")+Qe(Dn,2,fn)+Qe(Math.abs(Ut%60),2,fn);case de.ShortGMT:return"GMT"+(Ut>=0?"+":"")+Qe(Dn,1,fn);case de.Long:return"GMT"+(Ut>=0?"+":"")+Qe(Dn,2,fn)+":"+Qe(Math.abs(Ut%60),2,fn);case de.Extended:return 0===gt?"Z":(Ut>=0?"+":"")+Qe(Dn,2,fn)+":"+Qe(Math.abs(Ut%60),2,fn);default:throw new Error(`Unknown zone width "${De}"`)}}}const $t=0,Qt=4;function gn(De){return Ye(De.getFullYear(),De.getMonth(),De.getDate()+(Qt-De.getDay()))}function jn(De,pt=!1){return function(Je,gt){let Ut;if(pt){const fn=new Date(Je.getFullYear(),Je.getMonth(),1).getDay()-1,Dn=Je.getDate();Ut=1+Math.floor((Dn+fn)/7)}else{const fn=gn(Je),Dn=function dn(De){const pt=Ye(De,$t,1).getDay();return Ye(De,0,1+(pt<=Qt?Qt:Qt+7)-pt)}(fn.getFullYear()),ei=fn.getTime()-Dn.getTime();Ut=1+Math.round(ei/6048e5)}return Qe(Ut,De,_e(gt,Re.MinusSign))}}function ot(De,pt=!1){return function(Je,gt){return Qe(gn(Je).getFullYear(),De,_e(gt,Re.MinusSign),pt)}}const dt={};function fe(De,pt){De=De.replace(/:/g,"");const Je=Date.parse("Jan 01, 1970 00:00:00 "+De)/6e4;return isNaN(Je)?pt:Je}function ut(De){return De instanceof Date&&!isNaN(De.valueOf())}function _n(De,pt){pt=encodeURIComponent(pt);for(const Je of De.split(";")){const gt=Je.indexOf("="),[Ut,fn]=-1==gt?[Je,""]:[Je.slice(0,gt),Je.slice(gt+1)];if(Ut.trim()===pt)return decodeURIComponent(fn)}return null}const kt=/\s+/,It=[];let Bt=(()=>{class De{constructor(Je,gt,Ut,fn){this._iterableDiffers=Je,this._keyValueDiffers=gt,this._ngEl=Ut,this._renderer=fn,this.initialClasses=It,this.stateMap=new Map}set klass(Je){this.initialClasses=null!=Je?Je.trim().split(kt):It}set ngClass(Je){this.rawClass="string"==typeof Je?Je.trim().split(kt):Je}ngDoCheck(){for(const gt of this.initialClasses)this._updateState(gt,!0);const Je=this.rawClass;if(Array.isArray(Je)||Je instanceof Set)for(const gt of Je)this._updateState(gt,!0);else if(null!=Je)for(const gt of Object.keys(Je))this._updateState(gt,!!Je[gt]);this._applyStateDiff()}_updateState(Je,gt){const Ut=this.stateMap.get(Je);void 0!==Ut?(Ut.enabled!==gt&&(Ut.changed=!0,Ut.enabled=gt),Ut.touched=!0):this.stateMap.set(Je,{enabled:gt,changed:!0,touched:!0})}_applyStateDiff(){for(const Je of this.stateMap){const gt=Je[0],Ut=Je[1];Ut.changed?(this._toggleClass(gt,Ut.enabled),Ut.changed=!1):Ut.touched||(Ut.enabled&&this._toggleClass(gt,!1),this.stateMap.delete(gt)),Ut.touched=!1}}_toggleClass(Je,gt){(Je=Je.trim()).length>0&&Je.split(kt).forEach(Ut=>{gt?this._renderer.addClass(this._ngEl.nativeElement,Ut):this._renderer.removeClass(this._ngEl.nativeElement,Ut)})}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return De})();class Bn{constructor(pt,Je,gt,Ut){this.$implicit=pt,this.ngForOf=Je,this.index=gt,this.count=Ut}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ht=(()=>{class De{set ngForOf(Je){this._ngForOf=Je,this._ngForOfDirty=!0}set ngForTrackBy(Je){this._trackByFn=Je}get ngForTrackBy(){return this._trackByFn}constructor(Je,gt,Ut){this._viewContainer=Je,this._template=gt,this._differs=Ut,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Je){Je&&(this._template=Je)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Je=this._ngForOf;!this._differ&&Je&&(this._differ=this._differs.find(Je).create(this.ngForTrackBy))}if(this._differ){const Je=this._differ.diff(this._ngForOf);Je&&this._applyChanges(Je)}}_applyChanges(Je){const gt=this._viewContainer;Je.forEachOperation((Ut,fn,Dn)=>{if(null==Ut.previousIndex)gt.createEmbeddedView(this._template,new Bn(Ut.item,this._ngForOf,-1,-1),null===Dn?void 0:Dn);else if(null==Dn)gt.remove(null===fn?void 0:fn);else if(null!==fn){const ei=gt.get(fn);gt.move(ei,Dn),rn(ei,Ut)}});for(let Ut=0,fn=gt.length;Ut<fn;Ut++){const ei=gt.get(Ut).context;ei.index=Ut,ei.count=fn,ei.ngForOf=this._ngForOf}Je.forEachIdentityChange(Ut=>{rn(gt.get(Ut.currentIndex),Ut)})}static ngTemplateContextGuard(Je,gt){return!0}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return De})();function rn(De,pt){De.context.$implicit=pt.item}let lt=(()=>{class De{constructor(Je,gt){this._viewContainer=Je,this._context=new it,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=gt}set ngIf(Je){this._context.$implicit=this._context.ngIf=Je,this._updateView()}set ngIfThen(Je){At("ngIfThen",Je),this._thenTemplateRef=Je,this._thenViewRef=null,this._updateView()}set ngIfElse(Je){At("ngIfElse",Je),this._elseTemplateRef=Je,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Je,gt){return!0}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return De})();class it{constructor(){this.$implicit=null,this.ngIf=null}}function At(De,pt){if(pt&&!pt.createEmbeddedView)throw new Error(`${De} must be a TemplateRef, but received '${(0,c.AaK)(pt)}'.`)}class Kt{constructor(pt,Je){this._viewContainerRef=pt,this._templateRef=Je,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(pt){pt&&!this._created?this.create():!pt&&this._created&&this.destroy()}}let vn=(()=>{class De{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Je){this._ngSwitch=Je,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Je){this._defaultViews.push(Je)}_matchCase(Je){const gt=Je==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||gt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),gt}_updateDefaultCases(Je){if(this._defaultViews.length>0&&Je!==this._defaultUsed){this._defaultUsed=Je;for(const gt of this._defaultViews)gt.enforceState(Je)}}static#e=this.\u0275fac=function(gt){return new(gt||De)};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return De})(),Ui=(()=>{class De{constructor(Je,gt,Ut){this.ngSwitch=Ut,Ut._addCase(),this._view=new Kt(Je,gt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(vn,9))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return De})(),lr=(()=>{class De{constructor(Je,gt,Ut){Ut._addDefault(new Kt(Je,gt))}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(vn,9))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return De})(),Di=(()=>{class De{constructor(Je){this._viewContainerRef=Je,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Je){if(Je.ngTemplateOutlet||Je.ngTemplateOutletInjector){const gt=this._viewContainerRef;if(this._viewRef&&gt.remove(gt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ut,ngTemplateOutletContext:fn,ngTemplateOutletInjector:Dn}=this;this._viewRef=gt.createEmbeddedView(Ut,fn,Dn?{injector:Dn}:void 0)}else this._viewRef=null}else this._viewRef&&Je.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.s_b))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]})}return De})();function ui(De,pt){return new c.vHH(2100,!1)}class er{createSubscription(pt,Je){return(0,c.rg0)(()=>pt.subscribe({next:Je,error:gt=>{throw gt}}))}dispose(pt){(0,c.rg0)(()=>pt.unsubscribe())}}class _r{createSubscription(pt,Je){return pt.then(Je,gt=>{throw gt})}dispose(pt){}}const kr=new _r,$n=new er;let Ho=(()=>{class De{constructor(Je){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Je}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Je){return this._obj?Je!==this._obj?(this._dispose(),this.transform(Je)):this._latestValue:(Je&&this._subscribe(Je),this._latestValue)}_subscribe(Je){this._obj=Je,this._strategy=this._selectStrategy(Je),this._subscription=this._strategy.createSubscription(Je,gt=>this._updateLatestValue(Je,gt))}_selectStrategy(Je){if((0,c.QGY)(Je))return kr;if((0,c.F4k)(Je))return $n;throw ui()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Je,gt){Je===this._obj&&(this._latestValue=gt,this._ref.markForCheck())}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.sBO,16))};static#t=this.\u0275pipe=c.Yjl({name:"async",type:De,pure:!1,standalone:!0})}return De})();const Wn=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ai=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ni=(()=>{class De{constructor(Je,gt,Ut){this.locale=Je,this.defaultTimezone=gt,this.defaultOptions=Ut}transform(Je,gt,Ut,fn){if(null==Je||""===Je||Je!=Je)return null;try{return Ce(Je,gt??this.defaultOptions?.dateFormat??"mediumDate",fn||this.locale,Ut??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Dn){throw ui()}}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.soG,16),c.Y36(Wn,24),c.Y36(ai,24))};static#t=this.\u0275pipe=c.Yjl({name:"date",type:De,pure:!0,standalone:!0})}return De})(),Pr=(()=>{class De{static#e=this.\u0275fac=function(gt){return new(gt||De)};static#t=this.\u0275mod=c.oAB({type:De});static#n=this.\u0275inj=c.cJS({})}return De})();const hr="browser",Rs="server";function fo(De){return De===hr}function xo(De){return De===Rs}let Qs=(()=>{class De{static#e=this.\u0275prov=(0,c.Yz7)({token:De,providedIn:"root",factory:()=>new Gr((0,c.LFG)(F),window)})}return De})();class Gr{constructor(pt,Je){this.document=pt,this.window=Je,this.offset=()=>[0,0]}setOffset(pt){this.offset=Array.isArray(pt)?()=>pt:pt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(pt){this.supportsScrolling()&&this.window.scrollTo(pt[0],pt[1])}scrollToAnchor(pt){if(!this.supportsScrolling())return;const Je=function Dr(De,pt){const Je=De.getElementById(pt)||De.getElementsByName(pt)[0];if(Je)return Je;if("function"==typeof De.createTreeWalker&&De.body&&"function"==typeof De.body.attachShadow){const gt=De.createTreeWalker(De.body,NodeFilter.SHOW_ELEMENT);let Ut=gt.currentNode;for(;Ut;){const fn=Ut.shadowRoot;if(fn){const Dn=fn.getElementById(pt)||fn.querySelector(`[name="${pt}"]`);if(Dn)return Dn}Ut=gt.nextNode()}}return null}(this.document,pt);Je&&(this.scrollToElement(Je),Je.focus())}setHistoryScrollRestoration(pt){if(this.supportScrollRestoration()){const Je=this.window.history;Je&&Je.scrollRestoration&&(Je.scrollRestoration=pt)}}scrollToElement(pt){const Je=pt.getBoundingClientRect(),gt=Je.left+this.window.pageXOffset,Ut=Je.top+this.window.pageYOffset,fn=this.offset();this.window.scrollTo(gt-fn[0],Ut-fn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const pt=ho(this.window.history)||ho(Object.getPrototypeOf(this.window.history));return!(!pt||!pt.writable&&!pt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ho(De){return Object.getOwnPropertyDescriptor(De,"scrollRestoration")}class Wi{}},5879:(wn,Ze,C)=>{"use strict";C.d(Ze,{$8M:()=>fh,$WT:()=>kr,$Z:()=>iv,AFp:()=>w_,ALo:()=>M0,AaK:()=>y,AsE:()=>Vm,BQk:()=>sf,CHM:()=>Oc,CRH:()=>H0,DdM:()=>ag,EJc:()=>kD,EiD:()=>lT,EpF:()=>qv,F$t:()=>Qv,F4k:()=>xm,FYo:()=>Wr,FiY:()=>jc,G48:()=>ZD,Gf:()=>Rf,GfV:()=>U_,GkF:()=>Cm,Gpc:()=>P,Gre:()=>Oy,HDt:()=>Vf,Hsn:()=>Xv,Ikx:()=>Gm,JOm:()=>Tu,JVY:()=>Ru,JZr:()=>I,Jf7:()=>H_,KtG:()=>nh,L6k:()=>EM,LAX:()=>za,LFG:()=>xe,LMc:()=>Wb,LSH:()=>Fu,Lbi:()=>Wh,Lck:()=>Sf,MAs:()=>zv,MGl:()=>af,MMx:()=>ig,MR2:()=>b_,NdJ:()=>Mm,O4$:()=>ah,Ojb:()=>kM,OlP:()=>qi,Oqu:()=>jm,P3R:()=>dT,PXZ:()=>Pg,Q6J:()=>Em,QGY:()=>Dm,QbO:()=>LM,Qsj:()=>gi,R0b:()=>Lo,RDi:()=>vM,Rgc:()=>al,SBq:()=>td,SDv:()=>c0,Sil:()=>Gf,Suo:()=>yg,TTD:()=>Sa,TgZ:()=>tf,Tol:()=>gy,Udp:()=>Fm,VKq:()=>E0,VuI:()=>rp,W1O:()=>z0,WFA:()=>Am,WLB:()=>lg,XFs:()=>de,Xpm:()=>vn,Xq5:()=>Iv,Xts:()=>Jc,Y36:()=>$l,YKP:()=>Xm,YNc:()=>Yv,Yjl:()=>Vr,Yz7:()=>Ae,Z0I:()=>he,ZZ4:()=>Wg,_Bn:()=>Oa,_UZ:()=>Sm,_Vd:()=>ed,_c5:()=>Zg,_uU:()=>Ty,aQg:()=>zg,c2e:()=>hb,cJS:()=>K,cg1:()=>Ym,d8E:()=>Hm,dDg:()=>Na,dqk:()=>$e,eBb:()=>eT,eFA:()=>Rg,eJc:()=>yc,ekj:()=>Bm,eoX:()=>Fd,f3M:()=>pe,g9A:()=>bT,h0i:()=>Pa,hGG:()=>Ub,hYB:()=>Pm,hij:()=>uf,iGM:()=>vc,ifc:()=>Ht,ip1:()=>fb,jDz:()=>p0,kEZ:()=>T0,kL8:()=>jy,kcU:()=>Fe,lG2:()=>Di,lcZ:()=>A0,lqb:()=>Yl,lri:()=>bb,mCW:()=>Gl,n5z:()=>yE,n_E:()=>Mf,oAB:()=>ki,oJD:()=>jh,oxw:()=>Jv,pB0:()=>TM,q3G:()=>$a,qFp:()=>sp,qLn:()=>Wl,qOj:()=>fm,qZA:()=>nf,qzn:()=>ca,rWj:()=>lo,rg0:()=>Ta,s9C:()=>Om,sBO:()=>jg,s_b:()=>Fi,soG:()=>kd,tb:()=>Og,tp0:()=>gu,uIk:()=>mm,vHH:()=>T,vpe:()=>Zs,wAp:()=>rl,xi3:()=>fg,xp6:()=>q_,ynx:()=>rf,z2F:()=>bc,z3N:()=>js,zSh:()=>C_,zW0:()=>Xa,zs3:()=>wa});var c=C(8645),t=C(7394),E=C(5619),O=C(5592),b=C(3019),F=C(2096),L=C(3020),x=C(4664),g=C(3997);function h(l){for(let d in l)if(l[d]===h)return d;throw Error("Could not find renamed property on target object.")}function p(l,d){for(const f in d)d.hasOwnProperty(f)&&!l.hasOwnProperty(f)&&(l[f]=d[f])}function y(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(y).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const d=l.toString();if(null==d)return""+d;const f=d.indexOf("\n");return-1===f?d:d.substring(0,f)}function A(l,d){return null==l||""===l?null===d?"":d:null==d||""===d?l:l+" "+d}const U=h({__forward_ref__:h});function P(l){return l.__forward_ref__=P,l.toString=function(){return y(this())},l}function V(l){return k(l)?l():l}function k(l){return"function"==typeof l&&l.hasOwnProperty(U)&&l.__forward_ref__===P}function R(l){return l&&!!l.\u0275providers}const I="https://g.co/ng/security#xss";class T extends Error{constructor(d,f){super(function N(l,d){return`NG0${Math.abs(l)}${d?": "+d:""}`}(d,f)),this.code=d}}function S(l){return"string"==typeof l?l:null==l?"":String(l)}function Re(l,d){throw new T(-201,!1)}function Oe(l,d,f,_){throw new Error(`ASSERTION ERROR: ${l}`+(null==_?"":` [Expected=> ${f} ${_} ${d} <=Actual]`))}function Ae(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function K(l){return{providers:l.providers||[],imports:l.imports||[]}}function ie(l){return $(l,X)||$(l,q)}function he(l){return null!==ie(l)}function $(l,d){return l.hasOwnProperty(d)?l[d]:null}function W(l){return l&&(l.hasOwnProperty(Q)||l.hasOwnProperty(J))?l[Q]:null}const X=h({\u0275prov:h}),Q=h({\u0275inj:h}),q=h({ngInjectableDef:h}),J=h({ngInjectorDef:h});var de=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}(de||{});let ge;function Ce(l){const d=ge;return ge=l,d}function Ye(l,d,f){const _=ie(l);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:f&de.Optional?null:void 0!==d?d:void Re(y(l))}const $e=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ot={},_t="__NG_DI_FLAG__",Rt="ngTempTokenPath",$t=/\n/gm,dn="__source";let gn;function ot(l){const d=gn;return gn=l,d}function dt(l,d=de.Default){if(void 0===gn)throw new T(-203,!1);return null===gn?Ye(l,void 0,d):gn.get(l,d&de.Optional?null:void 0,d)}function xe(l,d=de.Default){return(function ce(){return ge}()||dt)(V(l),d)}function pe(l,d=de.Default){return xe(l,at(d))}function at(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function mt(l){const d=[];for(let f=0;f<l.length;f++){const _=V(l[f]);if(Array.isArray(_)){if(0===_.length)throw new T(900,!1);let M,j=de.Default;for(let ee=0;ee<_.length;ee++){const Te=_[ee],ke=ut(Te);"number"==typeof ke?-1===ke?M=Te.token:j|=ke:M=Te}d.push(xe(M,j))}else d.push(xe(_))}return d}function Dt(l,d){return l[_t]=d,l.prototype[_t]=d,l}function ut(l){return l[_t]}function Zt(l){return{toString:l}.toString()}var wt=function(l){return l[l.OnPush=0]="OnPush",l[l.Default=1]="Default",l}(wt||{}),Ht=function(l){return l[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}(Ht||{});const en={},tn=[],yn=h({\u0275cmp:h}),Tn=h({\u0275dir:h}),On=h({\u0275pipe:h}),In=h({\u0275mod:h}),Jn=h({\u0275fac:h}),fi=h({__NG_ELEMENT_ID__:h}),Ft=h({__NG_ENV_ID__:h});function St(l,d,f){let _=l.length;for(;;){const M=l.indexOf(d,f);if(-1===M)return M;if(0===M||l.charCodeAt(M-1)<=32){const j=d.length;if(M+j===_||l.charCodeAt(M+j)<=32)return M}f=M+1}}function st(l,d,f){let _=0;for(;_<f.length;){const M=f[_];if("number"==typeof M){if(0!==M)break;_++;const j=f[_++],ee=f[_++],Te=f[_++];l.setAttribute(d,ee,Te,j)}else{const j=M,ee=f[++_];Ke(j)?l.setProperty(d,j,ee):l.setAttribute(d,j,ee),_++}}return _}function Xt(l){return 3===l||4===l||6===l}function Ke(l){return 64===l.charCodeAt(0)}function nt(l,d){if(null!==d&&0!==d.length)if(null===l||0===l.length)l=d.slice();else{let f=-1;for(let _=0;_<d.length;_++){const M=d[_];"number"==typeof M?f=M:0===f||Ct(l,f,M,null,-1===f||2===f?d[++_]:null)}}return l}function Ct(l,d,f,_,M){let j=0,ee=l.length;if(-1===d)ee=-1;else for(;j<l.length;){const Te=l[j++];if("number"==typeof Te){if(Te===d){ee=-1;break}if(Te>d){ee=j-1;break}}}for(;j<l.length;){const Te=l[j];if("number"==typeof Te)break;if(Te===f){if(null===_)return void(null!==M&&(l[j+1]=M));if(_===l[j+1])return void(l[j+2]=M)}j++,null!==_&&j++,null!==M&&j++}-1!==ee&&(l.splice(ee,0,d),j=ee+1),l.splice(j++,0,f),null!==_&&l.splice(j++,0,_),null!==M&&l.splice(j++,0,M)}const Yt="ng-template";function Vt(l,d,f){let _=0,M=!0;for(;_<l.length;){let j=l[_++];if("string"==typeof j&&M){const ee=l[_++];if(f&&"class"===j&&-1!==St(ee.toLowerCase(),d,0))return!0}else{if(1===j){for(;_<l.length&&"string"==typeof(j=l[_++]);)if(j.toLowerCase()===d)return!0;return!1}"number"==typeof j&&(M=!1)}}return!1}function _n(l){return 4===l.type&&l.value!==Yt}function kt(l,d,f){return d===(4!==l.type||f?l.value:Yt)}function It(l,d,f){let _=4;const M=l.attrs||[],j=function ht(l){for(let d=0;d<l.length;d++)if(Xt(l[d]))return d;return l.length}(M);let ee=!1;for(let Te=0;Te<d.length;Te++){const ke=d[Te];if("number"!=typeof ke){if(!ee)if(4&_){if(_=2|1&_,""!==ke&&!kt(l,ke,f)||""===ke&&1===d.length){if(Bt(_))return!1;ee=!0}}else{const Xe=8&_?ke:d[++Te];if(8&_&&null!==l.attrs){if(!Vt(l.attrs,Xe,f)){if(Bt(_))return!1;ee=!0}continue}const Pt=sn(8&_?"class":ke,M,_n(l),f);if(-1===Pt){if(Bt(_))return!1;ee=!0;continue}if(""!==Xe){let nn;nn=Pt>j?"":M[Pt+1].toLowerCase();const on=8&_?nn:null;if(on&&-1!==St(on,Xe,0)||2&_&&Xe!==nn){if(Bt(_))return!1;ee=!0}}}}else{if(!ee&&!Bt(_)&&!Bt(ke))return!1;if(ee&&Bt(ke))continue;ee=!1,_=ke|1&_}}return Bt(_)||ee}function Bt(l){return 0==(1&l)}function sn(l,d,f,_){if(null===d)return-1;let M=0;if(_||!f){let j=!1;for(;M<d.length;){const ee=d[M];if(ee===l)return M;if(3===ee||6===ee)j=!0;else{if(1===ee||2===ee){let Te=d[++M];for(;"string"==typeof Te;)Te=d[++M];continue}if(4===ee)break;if(0===ee){M+=4;continue}}M+=j?1:2}return-1}return function rn(l,d){let f=l.indexOf(4);if(f>-1)for(f++;f<l.length;){const _=l[f];if("number"==typeof _)return-1;if(_===d)return f;f++}return-1}(d,l)}function bn(l,d,f=!1){for(let _=0;_<d.length;_++)if(It(l,d[_],f))return!0;return!1}function ve(l,d){e:for(let f=0;f<d.length;f++){const _=d[f];if(l.length===_.length){for(let M=0;M<l.length;M++)if(l[M]!==_[M])continue e;return!0}}return!1}function lt(l,d){return l?":not("+d.trim()+")":d}function it(l){let d=l[0],f=1,_=2,M="",j=!1;for(;f<l.length;){let ee=l[f];if("string"==typeof ee)if(2&_){const Te=l[++f];M+="["+ee+(Te.length>0?'="'+Te+'"':"")+"]"}else 8&_?M+="."+ee:4&_&&(M+=" "+ee);else""!==M&&!Bt(ee)&&(d+=lt(j,M),M=""),_=ee,j=j||!Bt(_);f++}return""!==M&&(d+=lt(j,M)),d}function vn(l){return Zt(()=>{const d=Ho(l),f={...d,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&l.dependencies||null,getStandaloneInjector:null,signals:l.signals??!1,data:l.data||{},encapsulation:l.encapsulation||Ht.Emulated,styles:l.styles||tn,_:null,schemas:l.schemas||null,tView:null,id:""};io(f);const _=l.dependencies;return f.directiveDefs=Qi(_,!1),f.pipeDefs=Qi(_,!0),f.id=function Xi(l){let d=0;const f=[l.selectors,l.ngContentSelectors,l.hostVars,l.hostAttrs,l.consts,l.vars,l.decls,l.encapsulation,l.standalone,l.signals,l.exportAs,JSON.stringify(l.inputs),JSON.stringify(l.outputs),Object.getOwnPropertyNames(l.type.prototype),!!l.contentQueries,!!l.viewQuery].join("|");for(const M of f)d=Math.imul(31,d)+M.charCodeAt(0)<<0;return d+=2147483648,"c"+d}(f),f})}function lr(l){return ui(l)||er(l)}function Si(l){return null!==l}function ki(l){return Zt(()=>({type:l.type,bootstrap:l.bootstrap||tn,declarations:l.declarations||tn,imports:l.imports||tn,exports:l.exports||tn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Cr(l,d){if(null==l)return en;const f={};for(const _ in l)if(l.hasOwnProperty(_)){let M=l[_],j=M;Array.isArray(M)&&(j=M[1],M=M[0]),f[M]=_,d&&(d[M]=j)}return f}function Di(l){return Zt(()=>{const d=Ho(l);return io(d),d})}function Vr(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function ui(l){return l[yn]||null}function er(l){return l[Tn]||null}function _r(l){return l[On]||null}function kr(l){const d=ui(l)||er(l)||_r(l);return null!==d&&d.standalone}function $n(l,d){const f=l[In]||null;if(!f&&!0===d)throw new Error(`Type ${y(l)} does not have '\u0275mod' property.`);return f}function Ho(l){const d={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:l.inputs||en,exportAs:l.exportAs||null,standalone:!0===l.standalone,signals:!0===l.signals,selectors:l.selectors||tn,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cr(l.inputs,d),outputs:Cr(l.outputs)}}function io(l){l.features?.forEach(d=>d(l))}function Qi(l,d){if(!l)return null;const f=d?_r:lr;return()=>("function"==typeof l?l():l).map(_=>f(_)).filter(Si)}const li=0,Wn=1,ai=2,Ni=3,vr=4,tr=5,nr=6,Fr=7,jt=8,hn=9,Nn=10,Ln=11,ti=12,Qn=13,si=14,ci=15,wi=16,yr=17,Pr=18,hr=19,Rs=20,ro=21,Br=22,fo=23,xo=24,Ti=25,hs=1,Qs=2,Gr=7,Dr=9,Wi=11;function ji(l){return Array.isArray(l)&&"object"==typeof l[hs]}function zi(l){return Array.isArray(l)&&!0===l[hs]}function mr(l){return 0!=(4&l.flags)}function cr(l){return l.componentOffset>-1}function mo(l){return 1==(1&l.flags)}function Gi(l){return!!l.template}function go(l){return 0!=(512&l[ai])}function We(l,d){return l.hasOwnProperty(Jn)?l[Jn]:null}let hi=$e.WeakRef??class zn{constructor(d){this.ref=d}deref(){return this.ref}},$o=0,ir=null,Ao=!1;function Zi(l){const d=ir;return ir=l,d}class rs{constructor(){this.id=$o++,this.ref=function qr(l){return new hi(l)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[d,f]of this.producers){const _=f.producerNode.deref();if(null!=_&&f.atTrackingVersion===this.trackingVersion){if(_.producerPollStatus(f.seenValueVersion))return!0}else this.producers.delete(d),_?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const d=Ao;Ao=!0;try{for(const[f,_]of this.consumers){const M=_.consumerNode.deref();null!=M&&M.trackingVersion===_.atTrackingVersion?M.onConsumerDependencyMayHaveChanged():(this.consumers.delete(f),M?.producers.delete(this.id))}}finally{Ao=d}}producerAccessed(){if(Ao)throw new Error("");if(null===ir)return;let d=ir.producers.get(this.id);void 0===d?(d={consumerNode:ir.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ir.trackingVersion},ir.producers.set(this.id,d),this.consumers.set(ir.id,d)):(d.seenValueVersion=this.valueVersion,d.atTrackingVersion=ir.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ir?.consumerAllowSignalWrites}producerPollStatus(d){return this.valueVersion!==d||(this.onProducerUpdateValueVersion(),this.valueVersion!==d)}}let ba=null;function Ta(l){const d=Zi(null);try{return l()}finally{Zi(d)}}const yl=()=>{};class xc extends rs{constructor(d,f,_){super(),this.watch=d,this.schedule=f,this.dirty=!1,this.cleanupFn=yl,this.registerOnCleanup=M=>{this.cleanupFn=M},this.consumerAllowSignalWrites=_}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const d=Zi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=yl,this.watch(this.registerOnCleanup)}finally{Zi(d)}}cleanup(){this.cleanupFn()}}class bl{constructor(d,f,_){this.previousValue=d,this.currentValue=f,this.firstChange=_}isFirstChange(){return this.firstChange}}function Sa(){return El}function El(l){return l.type.prototype.ngOnChanges&&(l.setInput=Ac),Mc}function Mc(){const l=Tl(this),d=l?.current;if(d){const f=l.previous;if(f===en)l.previous=d;else for(let _ in d)f[_]=d[_];l.current=null,this.ngOnChanges(d)}}function Ac(l,d,f,_){const M=this.declaredInputs[f],j=Tl(l)||function ra(l,d){return l[qd]=d}(l,{previous:en,current:null}),ee=j.current||(j.current={}),Te=j.previous,ke=Te[M];ee[M]=new bl(ke&&ke.currentValue,d,Te===en),l[_]=d}Sa.ngInherit=!0;const qd="__ngSimpleChanges__";function Tl(l){return l[qd]||null}const qo=function(l,d,f){},wc="svg";function or(l){for(;Array.isArray(l);)l=l[li];return l}function De(l,d){return or(d[l])}function pt(l,d){return or(d[l.index])}function gt(l,d){return l.data[d]}function Ut(l,d){return l[d]}function fn(l,d){const f=d[l];return ji(f)?f:f[li]}function Ai(l,d){return null==d?null:l[d]}function Li(l){l[yr]=0}function xi(l){1024&l[ai]||(l[ai]|=1024,Vi(l,1))}function sr(l){1024&l[ai]&&(l[ai]&=-1025,Vi(l,-1))}function Vi(l,d){let f=l[Ni];if(null===f)return;f[tr]+=d;let _=f;for(f=f[Ni];null!==f&&(1===d&&1===_[tr]||-1===d&&0===_[tr]);)f[tr]+=d,_=f,f=f[Ni]}const oi={lFrame:ou(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Jd(){return oi.bindingsEnabled}function vs(){return null!==oi.skipHydrationRootTNode}function kn(){return oi.lFrame.lView}function Ii(){return oi.lFrame.tView}function Oc(l){return oi.lFrame.contextLView=l,l[jt]}function nh(l){return oi.lFrame.contextLView=null,l}function jr(){let l=as();for(;null!==l&&64===l.type;)l=l.parent;return l}function as(){return oi.lFrame.currentTNode}function ja(){const l=oi.lFrame,d=l.currentTNode;return l.isParent?d:d.parent}function ys(l,d){const f=oi.lFrame;f.currentTNode=l,f.isParent=d}function Xd(){return oi.lFrame.isParent}function ih(){oi.lFrame.isParent=!1}function _o(){const l=oi.lFrame;let d=l.bindingRootIndex;return-1===d&&(d=l.bindingRootIndex=l.tView.bindingStartIndex),d}function sa(){return oi.lFrame.bindingIndex++}function bs(l){const d=oi.lFrame,f=d.bindingIndex;return d.bindingIndex=d.bindingIndex+l,f}function rh(l){oi.lFrame.inI18n=l}function _p(l,d){const f=oi.lFrame;f.bindingIndex=f.bindingRootIndex=l,tu(d)}function tu(l){oi.lFrame.currentDirectiveIndex=l}function xl(l){const d=oi.lFrame.currentDirectiveIndex;return-1===d?null:l[d]}function nu(){return oi.lFrame.currentQueryIndex}function Pc(l){oi.lFrame.currentQueryIndex=l}function sh(l){const d=l[Wn];return 2===d.type?d.declTNode:1===d.type?l[nr]:null}function iu(l,d,f){if(f&de.SkipSelf){let M=d,j=l;for(;!(M=M.parent,null!==M||f&de.Host||(M=sh(j),null===M||(j=j[si],10&M.type))););if(null===M)return!1;d=M,l=j}const _=oi.lFrame=ru();return _.currentTNode=d,_.lView=l,!0}function Rc(l){const d=ru(),f=l[Wn];oi.lFrame=d,d.currentTNode=f.firstChild,d.lView=l,d.tView=f,d.contextLView=l,d.bindingIndex=f.bindingStartIndex,d.inI18n=!1}function ru(){const l=oi.lFrame,d=null===l?null:l.child;return null===d?ou(l):d}function ou(l){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=d),d}function su(){const l=oi.lFrame;return oi.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Nc=su;function Lc(){const l=su();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function vo(){return oi.lFrame.selectedIndex}function Ca(l){oi.lFrame.selectedIndex=l}function br(){const l=oi.lFrame;return gt(l.tView,l.selectedIndex)}function ah(){oi.lFrame.currentNamespace=wc}function Fe(){!function ae(){oi.lFrame.currentNamespace=null}()}let rt=!0;function Mt(){return rt}function xt(l){rt=l}function Fn(l,d){for(let f=d.directiveStart,_=d.directiveEnd;f<_;f++){const j=l.data[f].type.prototype,{ngAfterContentInit:ee,ngAfterContentChecked:Te,ngAfterViewInit:ke,ngAfterViewChecked:Xe,ngOnDestroy:Tt}=j;ee&&(l.contentHooks??=[]).push(-f,ee),Te&&((l.contentHooks??=[]).push(f,Te),(l.contentCheckHooks??=[]).push(f,Te)),ke&&(l.viewHooks??=[]).push(-f,ke),Xe&&((l.viewHooks??=[]).push(f,Xe),(l.viewCheckHooks??=[]).push(f,Xe)),null!=Tt&&(l.destroyHooks??=[]).push(f,Tt)}}function ni(l,d,f){yo(l,d,3,f)}function ii(l,d,f,_){(3&l[ai])===f&&yo(l,d,f,_)}function Hi(l,d){let f=l[ai];(3&f)===d&&(f&=8191,f+=1,l[ai]=f)}function yo(l,d,f,_){const j=_??-1,ee=d.length-1;let Te=0;for(let ke=void 0!==_?65535&l[yr]:0;ke<ee;ke++)if("number"==typeof d[ke+1]){if(Te=d[ke],null!=_&&Te>=_)break}else d[ke]<0&&(l[yr]+=65536),(Te<j||-1==j)&&(Va(l,f,d,ke),l[yr]=(4294901760&l[yr])+ke+2),ke++}function Ml(l,d){qo(4,l,d);const f=Zi(null);try{d.call(l)}finally{Zi(f),qo(5,l,d)}}function Va(l,d,f,_){const M=f[_]<0,j=f[_+1],Te=l[M?-f[_]:f[_]];M?l[ai]>>13<l[yr]>>16&&(3&l[ai])===d&&(l[ai]+=8192,Ml(Te,j)):Ml(Te,j)}const ls=-1;class aa{constructor(d,f,_){this.factory=d,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=_}}function au(l){return l!==ls}function lu(l){return 32767&l}function cu(l,d){let f=function dE(l){return l>>16}(l),_=d;for(;f>0;)_=_[si],f--;return _}let ch=!0;function du(l){const d=ch;return ch=l,d}const bp=255,Ep=5;let uE=0;const Bs={};function uu(l,d){const f=hE(l,d);if(-1!==f)return f;const _=d[Wn];_.firstCreatePass&&(l.injectorIndex=d.length,Tp(_.data,l),Tp(d,null),Tp(_.blueprint,null));const M=Sp(l,d),j=l.injectorIndex;if(au(M)){const ee=lu(M),Te=cu(M,d),ke=Te[Wn].data;for(let Xe=0;Xe<8;Xe++)d[j+Xe]=Te[ee+Xe]|ke[ee+Xe]}return d[j+8]=M,j}function Tp(l,d){l.push(0,0,0,0,0,0,0,0,d)}function hE(l,d){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===d[l.injectorIndex+8]?-1:l.injectorIndex}function Sp(l,d){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let f=0,_=null,M=d;for(;null!==M;){if(_=Dp(M),null===_)return ls;if(f++,M=M[si],-1!==_.injectorIndex)return _.injectorIndex|f<<16}return ls}function dh(l,d,f){!function fE(l,d,f){let _;"string"==typeof f?_=f.charCodeAt(0)||0:f.hasOwnProperty(fi)&&(_=f[fi]),null==_&&(_=f[fi]=uE++);const M=_&bp;d.data[l+(M>>Ep)]|=1<<M}(l,d,f)}function mE(l,d,f){if(f&de.Optional||void 0!==l)return l;Re()}function gE(l,d,f,_){if(f&de.Optional&&void 0===_&&(_=null),!(f&(de.Self|de.Host))){const M=l[hn],j=Ce(void 0);try{return M?M.get(d,_,f&de.Optional):Ye(d,_,f&de.Optional)}finally{Ce(j)}}return mE(_,0,f)}function pE(l,d,f,_=de.Default,M){if(null!==l){if(2048&d[ai]&&!(_&de.Self)){const ee=function Kx(l,d,f,_,M){let j=l,ee=d;for(;null!==j&&null!==ee&&2048&ee[ai]&&!(512&ee[ai]);){const Te=_E(j,ee,f,_|de.Self,Bs);if(Te!==Bs)return Te;let ke=j.parent;if(!ke){const Xe=ee[Rs];if(Xe){const Tt=Xe.get(f,Bs,_);if(Tt!==Bs)return Tt}ke=Dp(ee),ee=ee[si]}j=ke}return M}(l,d,f,_,Bs);if(ee!==Bs)return ee}const j=_E(l,d,f,_,Bs);if(j!==Bs)return j}return gE(d,f,_,M)}function _E(l,d,f,_,M){const j=function Hx(l){if("string"==typeof l)return l.charCodeAt(0)||0;const d=l.hasOwnProperty(fi)?l[fi]:void 0;return"number"==typeof d?d>=0?d&bp:Yx:d}(f);if("function"==typeof j){if(!iu(d,l,_))return _&de.Host?mE(M,0,_):gE(d,f,_,M);try{const ee=j(_);if(null!=ee||_&de.Optional)return ee;Re()}finally{Nc()}}else if("number"==typeof j){let ee=null,Te=hE(l,d),ke=ls,Xe=_&de.Host?d[ci][nr]:null;for((-1===Te||_&de.SkipSelf)&&(ke=-1===Te?Sp(l,d):d[Te+8],ke!==ls&&Cp(_,!1)?(ee=d[Wn],Te=lu(ke),d=cu(ke,d)):Te=-1);-1!==Te;){const Tt=d[Wn];if(vE(j,Te,Tt.data)){const Pt=Gx(Te,d,f,ee,_,Xe);if(Pt!==Bs)return Pt}ke=d[Te+8],ke!==ls&&Cp(_,d[Wn].data[Te+8]===Xe)&&vE(j,Te,d)?(ee=Tt,Te=lu(ke),d=cu(ke,d)):Te=-1}}return M}function Gx(l,d,f,_,M,j){const ee=d[Wn],Te=ee.data[l+8],Tt=fu(Te,ee,f,null==_?cr(Te)&&ch:_!=ee&&0!=(3&Te.type),M&de.Host&&j===Te);return null!==Tt?Ga(d,ee,Tt,Te):Bs}function fu(l,d,f,_,M){const j=l.providerIndexes,ee=d.data,Te=1048575&j,ke=l.directiveStart,Tt=j>>20,nn=M?Te+Tt:l.directiveEnd;for(let on=_?Te:Te+Tt;on<nn;on++){const xn=ee[on];if(on<ke&&f===xn||on>=ke&&xn.type===f)return on}if(M){const on=ee[ke];if(on&&Gi(on)&&on.type===f)return ke}return null}function Ga(l,d,f,_){let M=l[f];const j=d.data;if(function Al(l){return l instanceof aa}(M)){const ee=M;ee.resolving&&function Y(l,d){const f=d?`. Dependency path: ${d.join(" > ")} > ${l}`:"";throw new T(-200,`Circular dependency in DI detected for ${l}${f}`)}(function B(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():S(l)}(j[f]));const Te=du(ee.canSeeViewProviders);ee.resolving=!0;const ke=ee.injectImpl?Ce(ee.injectImpl):null;iu(l,_,de.Default);try{M=l[f]=ee.factory(void 0,j,l,_),d.firstCreatePass&&f>=_.directiveStart&&function an(l,d,f){const{ngOnChanges:_,ngOnInit:M,ngDoCheck:j}=d.type.prototype;if(_){const ee=El(d);(f.preOrderHooks??=[]).push(l,ee),(f.preOrderCheckHooks??=[]).push(l,ee)}M&&(f.preOrderHooks??=[]).push(0-l,M),j&&((f.preOrderHooks??=[]).push(l,j),(f.preOrderCheckHooks??=[]).push(l,j))}(f,j[f],d)}finally{null!==ke&&Ce(ke),du(Te),ee.resolving=!1,Nc()}}return M}function vE(l,d,f){return!!(f[d+(l>>Ep)]&1<<l)}function Cp(l,d){return!(l&de.Self||l&de.Host&&d)}class wl{constructor(d,f){this._tNode=d,this._lView=f}get(d,f,_){return pE(this._tNode,this._lView,d,at(_),f)}}function Yx(){return new wl(jr(),kn())}function yE(l){return Zt(()=>{const d=l.prototype.constructor,f=d[Jn]||uh(d),_=Object.prototype;let M=Object.getPrototypeOf(l.prototype).constructor;for(;M&&M!==_;){const j=M[Jn]||uh(M);if(j&&j!==f)return j;M=Object.getPrototypeOf(M)}return j=>new j})}function uh(l){return k(l)?()=>{const d=uh(V(l));return d&&d()}:We(l)}function Dp(l){const d=l[Wn],f=d.type;return 2===f?d.declTNode:1===f?l[nr]:null}function fh(l){return function Vx(l,d){if("class"===d)return l.classes;if("style"===d)return l.styles;const f=l.attrs;if(f){const _=f.length;let M=0;for(;M<_;){const j=f[M];if(Xt(j))break;if(0===j)M+=2;else if("number"==typeof j)for(M++;M<_&&"string"==typeof f[M];)M++;else{if(j===d)return f[M+1];M+=2}}}return null}(jr(),l)}const Fc="__parameters__";function Kr(l,d,f){return Zt(()=>{const _=function Mp(l){return function(...f){if(l){const _=l(...f);for(const M in _)this[M]=_[M]}}}(d);function M(...j){if(this instanceof M)return _.apply(this,j),this;const ee=new M(...j);return Te.annotation=ee,Te;function Te(ke,Xe,Tt){const Pt=ke.hasOwnProperty(Fc)?ke[Fc]:Object.defineProperty(ke,Fc,{value:[]})[Fc];for(;Pt.length<=Tt;)Pt.push(null);return(Pt[Tt]=Pt[Tt]||[]).push(ee),ke}}return f&&(M.prototype=Object.create(f.prototype)),M.prototype.ngMetadataName=l,M.annotationCls=M,M})}function Uc(l,d){l.forEach(f=>Array.isArray(f)?Uc(f,d):d(f))}function wp(l,d,f){d>=l.length?l.push(f):l.splice(d,0,f)}function Da(l,d){return d>=l.length-1?l.pop():l.splice(d,1)[0]}function Jr(l,d){const f=[];for(let _=0;_<l;_++)f.push(d);return f}function Fo(l,d,f){let _=xa(l,d);return _>=0?l[1|_]=f:(_=~_,function hh(l,d,f,_){let M=l.length;if(M==d)l.push(f,_);else if(1===M)l.push(_,l[0]),l[0]=f;else{for(M--,l.push(l[M-1],l[M]);M>d;)l[M]=l[M-2],M--;l[d]=f,l[d+1]=_}}(l,_,d,f)),_}function gh(l,d){const f=xa(l,d);if(f>=0)return l[1|f]}function xa(l,d){return function ph(l,d,f){let _=0,M=l.length>>f;for(;M!==_;){const j=_+(M-_>>1),ee=l[j<<f];if(d===ee)return j<<f;ee>d?M=j:_=j+1}return~(M<<f)}(l,d,1)}const jc=Dt(Kr("Optional"),8),gu=Dt(Kr("SkipSelf"),4);function Wa(l){return 128==(128&l.flags)}var Tu=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}(Tu||{});const LE=/^>|^->|<!--|-->|--!>|<!-$/g,dr=/(<|>)/,kE="\u200b$1\u200b";const Eh=new Map;let Th=0;const Du="__ngContext__";function oo(l,d){ji(d)?(l[Du]=d[hr],function Hp(l){Eh.set(l[hr],l)}(d)):l[Du]=d}let Mh;function xu(l,d){return Mh(l,d)}function Fl(l){const d=l[Ni];return zi(d)?d[Ni]:d}function Qp(l){return Xp(l[ti])}function Ah(l){return Xp(l[vr])}function Xp(l){for(;null!==l&&!zi(l);)l=l[vr];return l}function Bl(l,d,f,_,M){if(null!=_){let j,ee=!1;zi(_)?j=_:ji(_)&&(ee=!0,_=_[li]);const Te=or(_);0===l&&null!==f?null==M?zE(d,f,Te):Ul(d,f,Te,M||null,!0):1===l&&null!==f?Ul(d,f,Te,M||null,!0):2===l?function Iu(l,d,f){const _=ur(l,d);_&&function mM(l,d,f,_){l.removeChild(d,f,_)}(l,_,d,f)}(d,Te,ee):3===l&&d.destroyNode(Te),null!=j&&function Kc(l,d,f,_,M){const j=f[Gr];j!==or(f)&&Bl(d,l,_,j,M);for(let Te=Wi;Te<f.length;Te++){const ke=f[Te];Yc(ke[Wn],ke,l,d,_,j)}}(d,l,j,f,M)}}function wh(l,d){return l.createText(d)}function e_(l,d){return l.createComment(function Su(l){return l.replace(LE,d=>d.replace(dr,kE))}(d))}function Ih(l,d,f){return l.createElement(d,f)}function YE(l,d){const f=l[Dr],_=f.indexOf(d);sr(d),f.splice(_,1)}function t_(l,d){if(l.length<=Wi)return;const f=Wi+d,_=l[f];if(_){const M=_[wi];null!==M&&M!==l&&YE(M,_),d>0&&(l[f-1][vr]=_[vr]);const j=Da(l,Wi+d);!function sM(l,d){Yc(l,d,d[Ln],2,null,null),d[li]=null,d[nr]=null}(_[Wn],_);const ee=j[Pr];null!==ee&&ee.detachView(j[Wn]),_[Ni]=null,_[vr]=null,_[ai]&=-129}return _}function KE(l,d){if(!(256&d[ai])){const f=d[Ln];d[fo]?.destroy(),d[xo]?.destroy(),f.destroyNode&&Yc(l,d,f,3,null,null),function cM(l){let d=l[ti];if(!d)return Oh(l[Wn],l);for(;d;){let f=null;if(ji(d))f=d[ti];else{const _=d[Wi];_&&(f=_)}if(!f){for(;d&&!d[vr]&&d!==l;)ji(d)&&Oh(d[Wn],d),d=d[Ni];null===d&&(d=l),ji(d)&&Oh(d[Wn],d),f=d&&d[vr]}d=f}}(d)}}function Oh(l,d){if(!(256&d[ai])){d[ai]&=-129,d[ai]|=256,function hM(l,d){let f;if(null!=l&&null!=(f=l.destroyHooks))for(let _=0;_<f.length;_+=2){const M=d[f[_]];if(!(M instanceof aa)){const j=f[_+1];if(Array.isArray(j))for(let ee=0;ee<j.length;ee+=2){const Te=M[j[ee]],ke=j[ee+1];qo(4,Te,ke);try{ke.call(Te)}finally{qo(5,Te,ke)}}else{qo(4,M,j);try{j.call(M)}finally{qo(5,M,j)}}}}}(l,d),function fM(l,d){const f=l.cleanup,_=d[Fr];if(null!==f)for(let j=0;j<f.length-1;j+=2)if("string"==typeof f[j]){const ee=f[j+3];ee>=0?_[ee]():_[-ee].unsubscribe(),j+=2}else f[j].call(_[f[j+1]]);null!==_&&(d[Fr]=null);const M=d[ro];if(null!==M){d[ro]=null;for(let j=0;j<M.length;j++)(0,M[j])()}}(l,d),1===d[Wn].type&&d[Ln].destroy();const f=d[wi];if(null!==f&&zi(d[Ni])){f!==d[Ni]&&YE(f,d);const _=d[Pr];null!==_&&_.detachView(l)}!function Ch(l){Eh.delete(l[hr])}(d)}}function n_(l,d,f){return WE(l,d.parent,f)}function WE(l,d,f){let _=d;for(;null!==_&&40&_.type;)_=(d=_).parent;if(null===_)return f[li];{const{componentOffset:M}=_;if(M>-1){const{encapsulation:j}=l.data[_.directiveStart+M];if(j===Ht.None||j===Ht.Emulated)return null}return pt(_,f)}}function Ul(l,d,f,_,M){l.insertBefore(d,f,_,M)}function zE(l,d,f){l.appendChild(d,f)}function Ph(l,d,f,_,M){null!==_?Ul(l,d,f,_,M):zE(l,d,f)}function ur(l,d){return l.parentNode(d)}function Nh(l,d,f){return i_(l,d,f)}function Mu(l,d,f){return 40&l.type?pt(l,f):null}let Lh,zc,a_,Bh,i_=Mu;function Au(l,d){i_=l,Lh=d}function kh(l,d,f,_){const M=n_(l,_,d),j=d[Ln],Te=Nh(_.parent||d[nr],_,d);if(null!=M)if(Array.isArray(f))for(let ke=0;ke<f.length;ke++)Ph(j,M,f[ke],Te,!1);else Ph(j,M,f,Te,!1);void 0!==Lh&&Lh(j,_,d,f,M)}function la(l,d){if(null!==d){const f=d.type;if(3&f)return pt(d,l);if(4&f)return wu(-1,l[d.index]);if(8&f){const _=d.child;if(null!==_)return la(l,_);{const M=l[d.index];return zi(M)?wu(-1,M):or(M)}}if(32&f)return xu(d,l)()||or(l[d.index]);{const _=Hc(l,d);return null!==_?Array.isArray(_)?_[0]:la(Fl(l[ci]),_):la(l,d.next)}}return null}function Hc(l,d){return null!==d?l[ci][nr].projection[d.projection]:null}function wu(l,d){const f=Wi+l+1;if(f<d.length){const _=d[f],M=_[Wn].firstChild;if(null!==M)return la(_,M)}return d[Gr]}function Fh(l,d,f,_,M,j,ee){for(;null!=f;){const Te=_[f.index],ke=f.type;if(ee&&0===d&&(Te&&oo(or(Te),_),f.flags|=2),32!=(32&f.flags))if(8&ke)Fh(l,d,f.child,_,M,j,!1),Bl(d,l,M,Te,j);else if(32&ke){const Xe=xu(f,_);let Tt;for(;Tt=Xe();)Bl(d,l,M,Tt,j);Bl(d,l,M,Te,j)}else 16&ke?Ma(l,d,_,f,M,j):Bl(d,l,M,Te,j);f=ee?f.projectionNext:f.next}}function Yc(l,d,f,_,M,j){Fh(f,_,l.firstChild,d,M,j,!1)}function Ma(l,d,f,_,M,j){const ee=f[ci],ke=ee[nr].projection[_.projection];if(Array.isArray(ke))for(let Xe=0;Xe<ke.length;Xe++)Bl(d,l,M,ke[Xe],j);else{let Xe=ke;const Tt=ee[Ni];Wa(_)&&(Xe.flags|=128),Fh(l,d,Xe,Tt,M,j,!0)}}function Wc(l,d,f){""===f?l.removeAttribute(d,"class"):l.setAttribute(d,"class",f)}function Aa(l,d,f){const{mergedAttrs:_,classes:M,styles:j}=f;null!==_&&st(l,d,_),null!==M&&Wc(l,d,M),null!==j&&function o_(l,d,f){l.setAttribute(d,"style",f)}(l,d,j)}function Zc(l){return function s_(){if(void 0===zc&&(zc=null,$e.trustedTypes))try{zc=$e.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return zc}()?.createHTML(l)||l}function vM(l){a_=l}function Pu(){if(void 0!==a_)return a_;if(typeof document<"u")return document;throw new T(210,!1)}function l_(){if(void 0===Bh&&(Bh=null,$e.trustedTypes))try{Bh=$e.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Bh}function ZE(l){return l_()?.createHTML(l)||l}function qE(l){return l_()?.createScriptURL(l)||l}class Vl{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${I})`}}class yM extends Vl{getTypeName(){return"HTML"}}class JE extends Vl{getTypeName(){return"Style"}}class QE extends Vl{getTypeName(){return"Script"}}class bM extends Vl{getTypeName(){return"URL"}}class c_ extends Vl{getTypeName(){return"ResourceURL"}}function js(l){return l instanceof Vl?l.changingThisBreaksApplicationSecurity:l}function ca(l,d){const f=function XE(l){return l instanceof Vl&&l.getTypeName()||null}(l);if(null!=f&&f!==d){if("ResourceURL"===f&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${f} (see ${I})`)}return f===d}function Ru(l){return new yM(l)}function EM(l){return new JE(l)}function eT(l){return new QE(l)}function za(l){return new bM(l)}function TM(l){return new c_(l)}function d_(l){const d=new tT(l);return function nT(){try{return!!(new window.DOMParser).parseFromString(Zc(""),"text/html")}catch{return!1}}()?new Eo(d):d}class Eo{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const f=(new window.DOMParser).parseFromString(Zc(d),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(d):(f.removeChild(f.firstChild),f)}catch{return null}}}class tT{constructor(d){this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(d){const f=this.inertDocument.createElement("template");return f.innerHTML=Zc(d),f}}const iT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gl(l){return(l=String(l)).match(iT)?l:"unsafe:"+l}function da(l){const d={};for(const f of l.split(","))d[f]=!0;return d}function $c(...l){const d={};for(const f of l)for(const _ in f)f.hasOwnProperty(_)&&(d[_]=!0);return d}const u_=da("area,br,col,hr,img,wbr"),f_=da("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Io=da("rp,rt"),Uh=$c(u_,$c(f_,da("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$c(Io,da("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$c(Io,f_)),Nu=da("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Za=$c(Nu,da("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),da("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ku=da("script,style,template");class oT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let f=d.firstChild,_=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?_=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,_&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let M=this.checkClobberedElement(f,f.nextSibling);if(M){f=M;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(d){const f=d.nodeName.toLowerCase();if(!Uh.hasOwnProperty(f))return this.sanitizedSomething=!0,!ku.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const _=d.attributes;for(let M=0;M<_.length;M++){const j=_.item(M),ee=j.name,Te=ee.toLowerCase();if(!Za.hasOwnProperty(Te)){this.sanitizedSomething=!0;continue}let ke=j.value;Nu[Te]&&(ke=Gl(ke)),this.buf.push(" ",ee,'="',h_(ke),'"')}return this.buf.push(">"),!0}endElement(d){const f=d.nodeName.toLowerCase();Uh.hasOwnProperty(f)&&!u_.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(d){this.buf.push(h_(d))}checkClobberedElement(d,f){if(f&&(d.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return f}}const sT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aT=/([^\#-~ |!])/g;function h_(l){return l.replace(/&/g,"&amp;").replace(sT,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(aT,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hl;function lT(l,d){let f=null;try{Hl=Hl||d_(l);let _=d?String(d):"";f=Hl.getInertBodyElement(_);let M=5,j=_;do{if(0===M)throw new Error("Failed to sanitize html because the input is unstable");M--,_=j,j=f.innerHTML,f=Hl.getInertBodyElement(_)}while(_!==j);return Zc((new oT).sanitizeChildren(m_(f)||f))}finally{if(f){const _=m_(f)||f;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function m_(l){return"content"in l&&function cT(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var $a=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}($a||{});function jh(l){const d=qc();return d?ZE(d.sanitize($a.HTML,l)||""):ca(l,"HTML")?ZE(js(l)):lT(Pu(),S(l))}function Fu(l){const d=qc();return d?d.sanitize($a.URL,l)||"":ca(l,"URL")?js(l):Gl(S(l))}function Vh(l){const d=qc();if(d)return qE(d.sanitize($a.RESOURCE_URL,l)||"");if(ca(l,"ResourceURL"))return qE(js(l));throw new T(904,!1)}function dT(l,d,f){return function xM(l,d){return"src"===d&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===d&&("base"===l||"link"===l)?Vh:Fu}(d,f)(l)}function qc(){const l=kn();return l&&l[Nn].sanitizer}class qi{constructor(d,f){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=Ae({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jc=new qi("ENVIRONMENT_INITIALIZER"),Gh=new qi("INJECTOR",-1),y_=new qi("INJECTOR_DEF_TYPES");class uT{get(d,f=Ot){if(f===Ot){const _=new Error(`NullInjectorError: No provider for ${y(d)}!`);throw _.name="NullInjectorError",_}return f}}function b_(l){return{\u0275providers:l}}function wM(...l){return{\u0275providers:fT(0,l),\u0275fromNgModule:!0}}function fT(l,...d){const f=[],_=new Set;let M;return Uc(d,j=>{const ee=j;Hh(ee,f,[],_)&&(M||=[],M.push(ee))}),void 0!==M&&hT(M,f),f}function hT(l,d){for(let f=0;f<l.length;f++){const{providers:M}=l[f];E_(M,j=>{d.push(j)})}}function Hh(l,d,f,_){if(!(l=V(l)))return!1;let M=null,j=W(l);const ee=!j&&ui(l);if(j||ee){if(ee&&!ee.standalone)return!1;M=l}else{const ke=l.ngModule;if(j=W(ke),!j)return!1;M=ke}const Te=_.has(M);if(ee){if(Te)return!1;if(_.add(M),ee.dependencies){const ke="function"==typeof ee.dependencies?ee.dependencies():ee.dependencies;for(const Xe of ke)Hh(Xe,d,f,_)}}else{if(!j)return!1;{if(null!=j.imports&&!Te){let Xe;_.add(M);try{Uc(j.imports,Tt=>{Hh(Tt,d,f,_)&&(Xe||=[],Xe.push(Tt))})}finally{}void 0!==Xe&&hT(Xe,d)}if(!Te){const Xe=We(M)||(()=>new M);d.push({provide:M,useFactory:Xe,deps:tn},{provide:y_,useValue:M,multi:!0},{provide:Jc,useValue:()=>xe(M),multi:!0})}const ke=j.providers;null==ke||Te||E_(ke,Tt=>{d.push(Tt)})}}return M!==l&&void 0!==l.providers}function E_(l,d){for(let f of l)R(f)&&(f=f.\u0275providers),Array.isArray(f)?E_(f,d):d(f)}const mT=h({provide:String,useValue:h});function T_(l){return null!==l&&"object"==typeof l&&mT in l}function qa(l){return"function"==typeof l}const C_=new qi("Set Injector scope."),Yh={},IM={};let D_;function Kh(){return void 0===D_&&(D_=new uT),D_}class Yl{}class x_ extends Yl{get destroyed(){return this._destroyed}constructor(d,f,_,M){super(),this.parent=f,this.source=_,this.scopes=M,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,A_(d,ee=>this.processProvider(ee)),this.records.set(Gh,Qc(void 0,this)),M.has("environment")&&this.records.set(Yl,Qc(void 0,this));const j=this.records.get(C_);null!=j&&"string"==typeof j.value&&this.scopes.add(j.value),this.injectorDefTypes=new Set(this.get(y_.multi,tn,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();const d=this._onDestroyHooks;this._onDestroyHooks=[];for(const f of d)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const f=ot(this),_=Ce(void 0);try{return d()}finally{ot(f),Ce(_)}}get(d,f=Ot,_=de.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(Ft))return d[Ft](this);_=at(_);const M=ot(this),j=Ce(void 0);try{if(!(_&de.SkipSelf)){let Te=this.records.get(d);if(void 0===Te){const ke=function RM(l){return"function"==typeof l||"object"==typeof l&&l instanceof qi}(d)&&ie(d);Te=ke&&this.injectableDefInScope(ke)?Qc(M_(d),Yh):null,this.records.set(d,Te)}if(null!=Te)return this.hydrate(d,Te)}return(_&de.Self?Kh():this.parent).get(d,f=_&de.Optional&&f===Ot?null:f)}catch(ee){if("NullInjectorError"===ee.name){if((ee[Rt]=ee[Rt]||[]).unshift(y(d)),M)throw ee;return function bt(l,d,f,_){const M=l[Rt];throw d[dn]&&M.unshift(d[dn]),l.message=function Nt(l,d,f,_=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let M=y(d);if(Array.isArray(d))M=d.map(y).join(" -> ");else if("object"==typeof d){let j=[];for(let ee in d)if(d.hasOwnProperty(ee)){let Te=d[ee];j.push(ee+":"+("string"==typeof Te?JSON.stringify(Te):y(Te)))}M=`{${j.join(", ")}}`}return`${f}${_?"("+_+")":""}[${M}]: ${l.replace($t,"\n  ")}`}("\n"+l.message,M,f,_),l.ngTokenPath=M,l[Rt]=null,l}(ee,d,"R3InjectorError",this.source)}throw ee}finally{Ce(j),ot(M)}}resolveInjectorInitializers(){const d=ot(this),f=Ce(void 0);try{const _=this.get(Jc.multi,tn,de.Self);for(const M of _)M()}finally{ot(d),Ce(f)}}toString(){const d=[],f=this.records;for(const _ of f.keys())d.push(y(_));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(d){let f=qa(d=V(d))?d:V(d&&d.provide);const _=function OM(l){return T_(l)?Qc(void 0,l.useValue):Qc(vT(l),Yh)}(d);if(qa(d)||!0!==d.multi)this.records.get(f);else{let M=this.records.get(f);M||(M=Qc(void 0,Yh,!0),M.factory=()=>mt(M.multi),this.records.set(f,M)),f=d,M.multi.push(d)}this.records.set(f,_)}hydrate(d,f){return f.value===Yh&&(f.value=IM,f.value=f.factory()),"object"==typeof f.value&&f.value&&function yT(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}injectableDefInScope(d){if(!d.providedIn)return!1;const f=V(d.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}removeOnDestroy(d){const f=this._onDestroyHooks.indexOf(d);-1!==f&&this._onDestroyHooks.splice(f,1)}}function M_(l){const d=ie(l),f=null!==d?d.factory:We(l);if(null!==f)return f;if(l instanceof qi)throw new T(204,!1);if(l instanceof Function)return function _T(l){const d=l.length;if(d>0)throw Jr(d,"?"),new T(204,!1);const f=function Z(l){return l&&(l[X]||l[q])||null}(l);return null!==f?()=>f.factory(l):()=>new l}(l);throw new T(204,!1)}function vT(l,d,f){let _;if(qa(l)){const M=V(l);return We(M)||M_(M)}if(T_(l))_=()=>V(l.useValue);else if(function S_(l){return!(!l||!l.useFactory)}(l))_=()=>l.useFactory(...mt(l.deps||[]));else if(function gT(l){return!(!l||!l.useExisting)}(l))_=()=>xe(V(l.useExisting));else{const M=V(l&&(l.useClass||l.provide));if(!function PM(l){return!!l.deps}(l))return We(M)||M_(M);_=()=>new M(...mt(l.deps))}return _}function Qc(l,d,f=!1){return{factory:l,value:d,multi:f?[]:void 0}}function A_(l,d){for(const f of l)Array.isArray(f)?A_(f,d):f&&R(f)?A_(f.\u0275providers,d):d(f)}const w_=new qi("AppId",{providedIn:"root",factory:()=>NM}),NM="ng",bT=new qi("Platform Initializer"),Wh=new qi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),LM=new qi("AnimationModuleType"),kM=new qi("CSP nonce",{providedIn:"root",factory:()=>Pu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let TT=(l,d)=>null;function CT(l,d){return TT(l,d)}class xT{}class B_{}class MT{resolveComponentFactory(d){throw function so(l){const d=Error(`No component factory found for ${y(l)}.`);return d.ngComponent=l,d}(d)}}let ed=(()=>{class l{static#e=this.NULL=new MT}return l})();function To(){return ua(jr(),kn())}function ua(l,d){return new td(pt(l,d))}let td=(()=>{class l{constructor(f){this.nativeElement=f}static#e=this.__NG_ELEMENT_ID__=To}return l})();function Bo(l){return l instanceof td?l.nativeElement:l}class Wr{}let gi=(()=>{class l{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function AT(){const l=kn(),f=fn(jr().index,l);return(ji(f)?f:l)[Ln]}()}return l})(),wT=(()=>{class l{static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:()=>null})}return l})();class U_{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const Vs=new U_("16.1.7"),Es={};function Ts(l){for(;l;){l[ai]|=64;const d=Fl(l);if(go(l)&&!d)return l;l=d}return null}function Qh(l){return l.ngOriginalError}class Wl{constructor(){this._console=console}handleError(d){const f=this._findOriginalError(d);this._console.error("ERROR",d),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(d){let f=d&&Qh(d);for(;f&&Qh(f);)f=Qh(f);return f||null}}const G_=new qi("",{providedIn:"root",factory:()=>!1});function H_(l){return l.ownerDocument.defaultView}function Gs(l){return l instanceof Function?l():l}class W_ extends rs{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(d){this._lView=d}onConsumerDependencyMayHaveChanged(){Ts(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(d,f,_){const M=Zi(this);this.trackingVersion++;try{d(f,_)}finally{Zi(M)}}destroy(){this.trackingVersion++}}let nd=null;function z_(){return nd??=new W_,nd}function Z_(l,d){return l[d]??z_()}function $_(l,d){const f=z_();f.hasReadASignal&&(l[d]=nd,f.lView=l,nd=new W_)}const Ci={};function q_(l){J_(Ii(),kn(),vo()+l,!1)}function J_(l,d,f,_){if(!_)if(3==(3&d[ai])){const j=l.preOrderCheckHooks;null!==j&&ni(d,j,f)}else{const j=l.preOrderHooks;null!==j&&ii(d,j,0,f)}Ca(f)}function tv(l,d=null,f=null,_){const M=nv(l,d,f,_);return M.resolveInjectorInitializers(),M}function nv(l,d=null,f=null,_,M=new Set){const j=[f||tn,wM(l)];return _=_||("object"==typeof l?void 0:y(l)),new x_(j,d||Kh(),_||null,M)}let wa=(()=>{class l{static#e=this.THROW_IF_NOT_FOUND=Ot;static#t=this.NULL=new uT;static create(f,_){if(Array.isArray(f))return tv({name:""},_,f,"");{const M=f.name??"";return tv({name:M},f.parent,f.providers,M)}}static#n=this.\u0275prov=Ae({token:l,providedIn:"any",factory:()=>xe(Gh)});static#i=this.__NG_ELEMENT_ID__=-1}return l})();function $l(l,d=de.Default){const f=kn();return null===f?xe(l,d):pE(jr(),f,V(l),d)}function iv(){throw new Error("invalid")}function Hu(l,d,f,_,M,j,ee,Te,ke,Xe,Tt){const Pt=d.blueprint.slice();return Pt[li]=M,Pt[ai]=140|_,(null!==Xe||l&&2048&l[ai])&&(Pt[ai]|=2048),Li(Pt),Pt[Ni]=Pt[si]=l,Pt[jt]=f,Pt[Nn]=ee||l&&l[Nn],Pt[Ln]=Te||l&&l[Ln],Pt[hn]=ke||l&&l[hn]||null,Pt[nr]=j,Pt[hr]=function FE(){return Th++}(),Pt[Br]=Tt,Pt[Rs]=Xe,Pt[ci]=2==d.type?l[ci]:Pt,Pt}function ql(l,d,f,_,M){let j=l.data[d];if(null===j)j=nm(l,d,f,_,M),function pp(){return oi.lFrame.inI18n}()&&(j.flags|=32);else if(64&j.type){j.type=f,j.value=_,j.attrs=M;const ee=ja();j.injectorIndex=null===ee?-1:ee.injectorIndex}return ys(j,!0),j}function nm(l,d,f,_,M){const j=as(),ee=Xd(),ke=l.data[d]=function od(l,d,f,_,M,j){let ee=d?d.injectorIndex:-1,Te=0;return vs()&&(Te|=128),{type:f,index:_,insertBeforeIndex:null,injectorIndex:ee,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Te,providerIndexes:0,value:M,attrs:j,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ee?j:j&&j.parent,f,d,_,M);return null===l.firstChild&&(l.firstChild=ke),null!==j&&(ee?null==j.child&&null!==ke.parent&&(j.child=ke):null===j.next&&(j.next=ke,ke.prev=j)),ke}function id(l,d,f,_){if(0===f)return-1;const M=d.length;for(let j=0;j<f;j++)d.push(_),l.blueprint.push(_),l.data.push(null);return M}function ov(l,d,f,_,M){const j=Z_(d,fo),ee=vo(),Te=2&_;try{if(Ca(-1),Te&&d.length>Ti&&J_(l,d,Ti,!1),qo(Te?2:0,M),Te)j.runInContext(f,_,M);else{const Xe=Zi(null);try{f(_,M)}finally{Zi(Xe)}}}finally{Te&&null===d[fo]&&$_(d,fo),Ca(ee),qo(Te?3:1,M)}}function Yu(l,d,f){if(mr(d)){const _=Zi(null);try{const j=d.directiveEnd;for(let ee=d.directiveStart;ee<j;ee++){const Te=l.data[ee];Te.contentQueries&&Te.contentQueries(1,f[ee],ee)}}finally{Zi(_)}}}function im(l,d,f){Jd()&&(function ad(l,d,f,_){const M=f.directiveStart,j=f.directiveEnd;cr(f)&&function WT(l,d,f){const _=pt(d,l),M=rm(f);let ee=16;f.signals?ee=4096:f.onPush&&(ee=64);const Te=cd(l,Hu(l,M,null,ee,_,d,null,l[Nn].rendererFactory.createRenderer(_,f),null,null,null));l[d.index]=Te}(d,f,l.data[M+f.componentOffset]),l.firstCreatePass||uu(f,d),oo(_,d);const ee=f.initialInputs;for(let Te=M;Te<j;Te++){const ke=l.data[Te],Xe=Ga(d,l,Te,f);oo(Xe,d),null!==ee&&tc(0,Te-M,Xe,ke,0,ee),Gi(ke)&&(fn(f.index,d)[jt]=Ga(d,l,Te,f))}}(l,d,f,pt(f,d)),64==(64&f.flags)&&cv(l,d,f))}function Ku(l,d,f=pt){const _=d.localNames;if(null!==_){let M=d.index+1;for(let j=0;j<_.length;j+=2){const ee=_[j+1],Te=-1===ee?f(d,l):l[ee];l[M++]=Te}}}function rm(l){const d=l.tView;return null===d||d.incompleteFirstPass?l.tView=ds(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts,l.id):d}function ds(l,d,f,_,M,j,ee,Te,ke,Xe,Tt){const Pt=Ti+_,nn=Pt+M,on=function Jl(l,d){const f=[];for(let _=0;_<d;_++)f.push(_<l?null:Ci);return f}(Pt,nn),xn="function"==typeof Xe?Xe():Xe;return on[Wn]={type:l,blueprint:on,template:f,queries:null,viewQuery:Te,declTNode:d,data:on.slice().fill(null,Pt),bindingStartIndex:Pt,expandoStartIndex:nn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof j?j():j,pipeRegistry:"function"==typeof ee?ee():ee,firstChild:null,schemas:ke,consts:xn,incompleteFirstPass:!1,ssrId:Tt}}let Ql=l=>null;function sm(l,d,f,_){for(let M in l)if(l.hasOwnProperty(M)){f=null===f?{}:f;const j=l[M];null===_?sd(f,d,M,j):_.hasOwnProperty(M)&&sd(f,d,_[M],j)}return f}function sd(l,d,f,_){l.hasOwnProperty(f)?l[f].push(d,_):l[f]=[d,_]}function Po(l,d,f,_,M,j,ee,Te){const ke=pt(d,f);let Tt,Xe=d.inputs;!Te&&null!=Xe&&(Tt=Xe[_])?(ao(l,f,Tt,_,M),cr(d)&&function Ss(l,d){const f=fn(d,l);16&f[ai]||(f[ai]|=64)}(f,d.index)):3&d.type&&(_=function Xl(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(_),M=null!=ee?ee(M,d.value||"",_):M,j.setProperty(ke,_,M))}function am(l,d,f,_){if(Jd()){const M=null===_?null:{"":-1},j=function eo(l,d){const f=l.directiveRegistry;let _=null,M=null;if(f)for(let j=0;j<f.length;j++){const ee=f[j];if(bn(d,ee.selectors,!1))if(_||(_=[]),Gi(ee))if(null!==ee.findHostDirectiveDefs){const Te=[];M=M||new Map,ee.findHostDirectiveDefs(ee,Te,M),_.unshift(...Te,ee),Ja(l,d,Te.length)}else _.unshift(ee),Ja(l,d,0);else M=M||new Map,ee.findHostDirectiveDefs?.(ee,_,M),_.push(ee)}return null===_?null:[_,M]}(l,f);let ee,Te;null===j?ee=Te=null:[ee,Te]=j,null!==ee&&lv(l,d,f,ee,M,Te),M&&function KT(l,d,f){if(d){const _=l.localNames=[];for(let M=0;M<d.length;M+=2){const j=f[d[M+1]];if(null==j)throw new T(-301,!1);_.push(d[M],j)}}}(f,_,M)}f.mergedAttrs=nt(f.mergedAttrs,f.attrs)}function lv(l,d,f,_,M,j){for(let Xe=0;Xe<_.length;Xe++)dh(uu(f,d),l,_[Xe].type);!function dv(l,d,f){l.flags|=1,l.directiveStart=d,l.directiveEnd=d+f,l.providerIndexes=d}(f,l.data.length,_.length);for(let Xe=0;Xe<_.length;Xe++){const Tt=_[Xe];Tt.providersResolver&&Tt.providersResolver(Tt)}let ee=!1,Te=!1,ke=id(l,d,_.length,null);for(let Xe=0;Xe<_.length;Xe++){const Tt=_[Xe];f.mergedAttrs=nt(f.mergedAttrs,Tt.hostAttrs),lm(l,f,d,ke,Tt),ld(ke,Tt,M),null!==Tt.contentQueries&&(f.flags|=4),(null!==Tt.hostBindings||null!==Tt.hostAttrs||0!==Tt.hostVars)&&(f.flags|=64);const Pt=Tt.type.prototype;!ee&&(Pt.ngOnChanges||Pt.ngOnInit||Pt.ngDoCheck)&&((l.preOrderHooks??=[]).push(f.index),ee=!0),!Te&&(Pt.ngOnChanges||Pt.ngDoCheck)&&((l.preOrderCheckHooks??=[]).push(f.index),Te=!0),ke++}!function GT(l,d,f){const M=d.directiveEnd,j=l.data,ee=d.attrs,Te=[];let ke=null,Xe=null;for(let Tt=d.directiveStart;Tt<M;Tt++){const Pt=j[Tt],nn=f?f.get(Pt):null,xn=nn?nn.outputs:null;ke=sm(Pt.inputs,Tt,ke,nn?nn.inputs:null),Xe=sm(Pt.outputs,Tt,Xe,xn);const Gn=null===ke||null===ee||_n(d)?null:zT(ke,Tt,ee);Te.push(Gn)}null!==ke&&(ke.hasOwnProperty("class")&&(d.flags|=8),ke.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=Te,d.inputs=ke,d.outputs=Xe}(l,f,j)}function cv(l,d,f){const _=f.directiveStart,M=f.directiveEnd,j=f.index,ee=function oh(){return oi.lFrame.currentDirectiveIndex}();try{Ca(j);for(let Te=_;Te<M;Te++){const ke=l.data[Te],Xe=d[Te];tu(Te),(null!==ke.hostBindings||0!==ke.hostVars||null!==ke.hostAttrs)&&Xr(ke,Xe)}}finally{Ca(-1),tu(ee)}}function Xr(l,d){null!==l.hostBindings&&l.hostBindings(1,d)}function Ja(l,d,f){d.componentOffset=f,(l.components??=[]).push(d.index)}function ld(l,d,f){if(f){if(d.exportAs)for(let _=0;_<d.exportAs.length;_++)f[d.exportAs[_]]=l;Gi(d)&&(f[""]=l)}}function lm(l,d,f,_,M){l.data[_]=M;const j=M.factory||(M.factory=We(M.type)),ee=new aa(j,Gi(M),$l);l.blueprint[_]=ee,f[_]=ee,function YT(l,d,f,_,M){const j=M.hostBindings;if(j){let ee=l.hostBindingOpCodes;null===ee&&(ee=l.hostBindingOpCodes=[]);const Te=~d.index;(function Pn(l){let d=l.length;for(;d>0;){const f=l[--d];if("number"==typeof f&&f<0)return f}return 0})(ee)!=Te&&ee.push(Te),ee.push(f,_,j)}}(l,d,_,id(l,f,M.hostVars,Ci),M)}function Hs(l,d,f,_,M,j){const ee=pt(l,d);!function ec(l,d,f,_,M,j,ee){if(null==j)l.removeAttribute(d,M,f);else{const Te=null==ee?S(j):ee(j,_||"",M);l.setAttribute(d,M,Te,f)}}(d[Ln],ee,j,l.value,f,_,M)}function tc(l,d,f,_,M,j){const ee=j[d];if(null!==ee)for(let Te=0;Te<ee.length;)uv(_,f,ee[Te++],ee[Te++],ee[Te++])}function uv(l,d,f,_,M){const j=Zi(null);try{const ee=l.inputTransforms;null!==ee&&ee.hasOwnProperty(_)&&(M=ee[_].call(d,M)),null!==l.setInput?l.setInput(d,M,f,_):d[_]=M}finally{Zi(j)}}function zT(l,d,f){let _=null,M=0;for(;M<f.length;){const j=f[M];if(0!==j)if(5!==j){if("number"==typeof j)break;if(l.hasOwnProperty(j)){null===_&&(_=[]);const ee=l[j];for(let Te=0;Te<ee.length;Te+=2)if(ee[Te]===d){_.push(j,ee[Te+1],f[M+1]);break}}M+=2}else M+=2;else M+=4}return _}function fv(l,d,f,_){return[l,!0,!1,d,null,0,_,f,null,null,null]}function hv(l,d){const f=l.contentQueries;if(null!==f)for(let _=0;_<f.length;_+=2){const j=f[_+1];if(-1!==j){const ee=l.data[j];Pc(f[_]),ee.contentQueries(2,d[j],j)}}}function cd(l,d){return l[ti]?l[Qn][vr]=d:l[ti]=d,l[Qn]=d,d}function cm(l,d,f){Pc(0);const _=Zi(null);try{d(l,f)}finally{Zi(_)}}function dm(l){return l[Fr]||(l[Fr]=[])}function mv(l){return l.cleanup||(l.cleanup=[])}function gv(l,d,f){return(null===l||Gi(l))&&(f=function oa(l){for(;Array.isArray(l);){if("object"==typeof l[hs])return l;l=l[li]}return null}(f[d.index])),f[Ln]}function zr(l,d){const f=l[hn],_=f?f.get(Wl,null):null;_&&_.handleError(d)}function ao(l,d,f,_,M){for(let j=0;j<f.length;){const ee=f[j++],Te=f[j++];uv(l.data[ee],d[ee],_,Te,M)}}function fa(l,d,f){const _=De(d,l);!function HE(l,d,f){l.setValue(d,f)}(l[Ln],_,f)}function pv(l,d){const f=fn(d,l),_=f[Wn];!function ZT(l,d){for(let f=d.length;f<l.blueprint.length;f++)d.push(l.blueprint[f])}(_,f);const M=f[li];null!==M&&null===f[Br]&&(f[Br]=CT(M,f[hn])),um(_,f,f[jt])}function um(l,d,f){Rc(d);try{const _=l.viewQuery;null!==_&&cm(1,_,f);const M=l.template;null!==M&&ov(l,d,M,1,f),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&hv(l,d),l.staticViewQueries&&cm(2,l.viewQuery,f);const j=l.components;null!==j&&function _v(l,d){for(let f=0;f<d.length;f++)pv(l,d[f])}(d,j)}catch(_){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),_}finally{d[ai]&=-5,Lc()}}let dd=(()=>{class l{constructor(){this.all=new Set,this.queue=new Map}create(f,_,M){const j=typeof Zone>"u"?null:Zone.current,ee=new xc(f,Xe=>{this.all.has(Xe)&&this.queue.set(Xe,j)},M);let Te;this.all.add(ee),ee.notify();const ke=()=>{ee.cleanup(),Te?.(),this.all.delete(ee),this.queue.delete(ee)};return Te=_?.onDestroy(ke),{destroy:ke}}flush(){if(0!==this.queue.size)for(const[f,_]of this.queue)this.queue.delete(f),_?_.run(()=>f.run()):f.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:()=>new l})}return l})();function Wu(l,d,f){let _=f?l.styles:null,M=f?l.classes:null,j=0;if(null!==d)for(let ee=0;ee<d.length;ee++){const Te=d[ee];"number"==typeof Te?j=Te:1==j?M=A(M,Te):2==j&&(_=A(_,Te+": "+d[++ee]+";"))}f?l.styles=_:l.stylesWithoutHost=_,f?l.classes=M:l.classesWithoutHost=M}function rr(l,d,f,_,M=!1){for(;null!==f;){const j=d[f.index];if(null!==j&&_.push(or(j)),zi(j)){for(let Te=Wi;Te<j.length;Te++){const ke=j[Te],Xe=ke[Wn].firstChild;null!==Xe&&rr(ke[Wn],ke,Xe,_)}j[Gr]!==j[li]&&_.push(j[Gr])}const ee=f.type;if(8&ee)rr(l,d,f.child,_);else if(32&ee){const Te=xu(f,d);let ke;for(;ke=Te();)_.push(ke)}else if(16&ee){const Te=Hc(d,f);if(Array.isArray(Te))_.push(...Te);else{const ke=Fl(d[ci]);rr(ke[Wn],ke,Te,_,!0)}}f=M?f.projectionNext:f.next}return _}function zu(l,d,f,_=!0){const M=d[Nn].rendererFactory;M.begin&&M.begin();try{Mr(l,d,l.template,f)}catch(ee){throw _&&zr(d,ee),ee}finally{M.end&&M.end(),d[Nn].effectManager?.flush()}}function Mr(l,d,f,_){const M=d[ai];if(256!=(256&M)){d[Nn].effectManager?.flush(),Rc(d);try{Li(d),function gp(l){return oi.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==f&&ov(l,d,f,2,_);const ee=3==(3&M);if(ee){const Xe=l.preOrderCheckHooks;null!==Xe&&ni(d,Xe,null)}else{const Xe=l.preOrderHooks;null!==Xe&&ii(d,Xe,0,null),Hi(d,0)}if(function QT(l){for(let d=Qp(l);null!==d;d=Ah(d)){if(!d[Qs])continue;const f=d[Dr];for(let _=0;_<f.length;_++){xi(f[_])}}}(d),Zu(d,2),null!==l.contentQueries&&hv(l,d),ee){const Xe=l.contentCheckHooks;null!==Xe&&ni(d,Xe)}else{const Xe=l.contentHooks;null!==Xe&&ii(d,Xe,1),Hi(d,1)}!function rv(l,d){const f=l.hostBindingOpCodes;if(null===f)return;const _=Z_(d,xo);try{for(let M=0;M<f.length;M++){const j=f[M];if(j<0)Ca(~j);else{const ee=j,Te=f[++M],ke=f[++M];_p(Te,ee),_.runInContext(ke,2,d[ee])}}}finally{null===d[xo]&&$_(d,xo),Ca(-1)}}(l,d);const Te=l.components;null!==Te&&bv(d,Te,0);const ke=l.viewQuery;if(null!==ke&&cm(2,ke,_),ee){const Xe=l.viewCheckHooks;null!==Xe&&ni(d,Xe)}else{const Xe=l.viewHooks;null!==Xe&&ii(d,Xe,2),Hi(d,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),d[ai]&=-73,sr(d)}finally{Lc()}}}function Zu(l,d){for(let f=Qp(l);null!==f;f=Ah(f))for(let _=Wi;_<f.length;_++)yv(f[_],d)}function XT(l,d,f){yv(fn(d,l),f)}function yv(l,d){if(!function ei(l){return 128==(128&l[ai])}(l))return;const f=l[Wn];if(80&l[ai]&&0===d||1024&l[ai]||2===d)Mr(f,l,f.template,l[jt]);else if(l[tr]>0){Zu(l,1);const M=l[Wn].components;null!==M&&bv(l,M,1)}}function bv(l,d,f){for(let _=0;_<d.length;_++)XT(l,d[_],f)}class ud{get rootNodes(){const d=this._lView,f=d[Wn];return rr(f,d,f.firstChild,[])}constructor(d,f){this._lView=d,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(d){this._lView[jt]=d}get destroyed(){return 256==(256&this._lView[ai])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[Ni];if(zi(d)){const f=d[8],_=f?f.indexOf(this):-1;_>-1&&(t_(d,_),Da(f,_))}this._attachedToViewContainer=!1}KE(this._lView[Wn],this._lView)}onDestroy(d){!function xr(l,d){if(256==(256&l[ai]))throw new T(911,!1);null===l[ro]&&(l[ro]=[]),l[ro].push(d)}(this._lView,d)}markForCheck(){Ts(this._cdRefInjectingView||this._lView)}detach(){this._lView[ai]&=-129}reattach(){this._lView[ai]|=128}detectChanges(){zu(this._lView[Wn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lM(l,d){Yc(l,d,d[Ln],2,null,null)}(this._lView[Wn],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=d}}class eS extends ud{constructor(d){super(d),this._view=d}detectChanges(){const d=this._view;zu(d[Wn],d,d[jt],!1)}checkNoChanges(){}get context(){return null}}class Ev extends ed{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const f=ui(d);return new hd(f,this.ngModule)}}function Tv(l){const d=[];for(let f in l)l.hasOwnProperty(f)&&d.push({propName:l[f],templateName:f});return d}class tS{constructor(d,f){this.injector=d,this.parentInjector=f}get(d,f,_){_=at(_);const M=this.injector.get(d,Es,_);return M!==Es||f===Es?M:this.parentInjector.get(d,f,_)}}class hd extends B_{get inputs(){const d=this.componentDef,f=d.inputTransforms,_=Tv(d.inputs);if(null!==f)for(const M of _)f.hasOwnProperty(M.propName)&&(M.transform=f[M.propName]);return _}get outputs(){return Tv(this.componentDef.outputs)}constructor(d,f){super(),this.componentDef=d,this.ngModule=f,this.componentType=d.type,this.selector=function At(l){return l.map(it).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!f}create(d,f,_,M){let j=(M=M||this.ngModule)instanceof Yl?M:M?.injector;j&&null!==this.componentDef.getStandaloneInjector&&(j=this.componentDef.getStandaloneInjector(j)||j);const ee=j?new tS(d,j):d,Te=ee.get(Wr,null);if(null===Te)throw new T(407,!1);const Tt={rendererFactory:Te,sanitizer:ee.get(wT,null),effectManager:ee.get(dd,null)},Pt=Te.createRenderer(null,this.componentDef),nn=this.componentDef.selectors[0][0]||"div",on=_?function rd(l,d,f,_){const j=_.get(G_,!1)||f===Ht.ShadowDom,ee=l.selectRootElement(d,j);return function om(l){Ql(l)}(ee),ee}(Pt,_,this.componentDef.encapsulation,ee):Ih(Pt,nn,function fd(l){const d=l.toLowerCase();return"svg"===d?wc:"math"===d?"math":null}(nn)),qn=this.componentDef.signals?4608:this.componentDef.onPush?576:528,ri=ds(0,null,null,1,0,null,null,null,null,null,null),An=Hu(null,ri,null,qn,null,null,Tt,Pt,ee,null,null);let yi,Ri;Rc(An);try{const Bi=this.componentDef;let co,Qf=null;Bi.findHostDirectiveDefs?(co=[],Qf=new Map,Bi.findHostDirectiveDefs(Bi,co,Qf),co.push(Bi)):co=[Bi];const lx=function iS(l,d){const f=l[Wn],_=Ti;return l[_]=d,ql(f,_,2,"#host",null)}(An,on),cx=function rS(l,d,f,_,M,j,ee){const Te=M[Wn];!function oS(l,d,f,_){for(const M of l)d.mergedAttrs=nt(d.mergedAttrs,M.hostAttrs);null!==d.mergedAttrs&&(Wu(d,d.mergedAttrs,!0),null!==f&&Aa(_,f,d))}(_,l,d,ee);let ke=null;null!==d&&(ke=CT(d,M[hn]));const Xe=j.rendererFactory.createRenderer(d,f);let Tt=16;f.signals?Tt=4096:f.onPush&&(Tt=64);const Pt=Hu(M,rm(f),null,Tt,M[l.index],l,j,Xe,null,null,ke);return Te.firstCreatePass&&Ja(Te,l,_.length-1),cd(M,Pt),M[l.index]=Pt}(lx,on,Bi,co,An,Tt,Pt);Ri=gt(ri,Ti),on&&function aS(l,d,f,_){if(_)st(l,f,["ng-version",Vs.full]);else{const{attrs:M,classes:j}=function Kt(l){const d=[],f=[];let _=1,M=2;for(;_<l.length;){let j=l[_];if("string"==typeof j)2===M?""!==j&&d.push(j,l[++_]):8===M&&f.push(j);else{if(!Bt(M))break;M=j}_++}return{attrs:d,classes:f}}(d.selectors[0]);M&&st(l,f,M),j&&j.length>0&&Wc(l,f,j.join(" "))}}(Pt,Bi,on,_),void 0!==f&&function lS(l,d,f){const _=l.projection=[];for(let M=0;M<d.length;M++){const j=f[M];_.push(null!=j?Array.from(j):null)}}(Ri,this.ngContentSelectors,f),yi=function sS(l,d,f,_,M,j){const ee=jr(),Te=M[Wn],ke=pt(ee,M);lv(Te,M,ee,f,null,_);for(let Tt=0;Tt<f.length;Tt++)oo(Ga(M,Te,ee.directiveStart+Tt,ee),M);cv(Te,M,ee),ke&&oo(ke,M);const Xe=Ga(M,Te,ee.directiveStart+ee.componentOffset,ee);if(l[jt]=M[jt]=Xe,null!==j)for(const Tt of j)Tt(Xe,d);return Yu(Te,ee,l),Xe}(cx,Bi,co,Qf,An,[cS]),um(ri,An,null)}finally{Lc()}return new Sv(this.componentType,yi,ua(Ri,An),An,Ri)}}class Sv extends xT{constructor(d,f,_,M,j){super(),this.location=_,this._rootLView=M,this._tNode=j,this.previousInputValues=null,this.instance=f,this.hostView=this.changeDetectorRef=new eS(M),this.componentType=d}setInput(d,f){const _=this._tNode.inputs;let M;if(null!==_&&(M=_[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),f))return;const j=this._rootLView;ao(j[Wn],j,M,d,f),this.previousInputValues.set(d,f),Ts(fn(this._tNode.index,j))}}get injector(){return new wl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function cS(){const l=jr();Fn(kn()[Wn],l)}function fm(l){let d=function Qa(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),f=!0;const _=[l];for(;d;){let M;if(Gi(l))M=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new T(903,!1);M=d.\u0275dir}if(M){if(f){_.push(M);const ee=l;ee.inputs=$u(l.inputs),ee.inputTransforms=$u(l.inputTransforms),ee.declaredInputs=$u(l.declaredInputs),ee.outputs=$u(l.outputs);const Te=M.hostBindings;Te&&Dv(l,Te);const ke=M.viewQuery,Xe=M.contentQueries;if(ke&&Cv(l,ke),Xe&&uS(l,Xe),p(l.inputs,M.inputs),p(l.declaredInputs,M.declaredInputs),p(l.outputs,M.outputs),null!==M.inputTransforms&&(null===ee.inputTransforms&&(ee.inputTransforms={}),p(ee.inputTransforms,M.inputTransforms)),Gi(M)&&M.data.animation){const Tt=l.data;Tt.animation=(Tt.animation||[]).concat(M.data.animation)}}const j=M.features;if(j)for(let ee=0;ee<j.length;ee++){const Te=j[ee];Te&&Te.ngInherit&&Te(l),Te===fm&&(f=!1)}}d=Object.getPrototypeOf(d)}!function dS(l){let d=0,f=null;for(let _=l.length-1;_>=0;_--){const M=l[_];M.hostVars=d+=M.hostVars,M.hostAttrs=nt(M.hostAttrs,f=nt(f,M.hostAttrs))}}(_)}function $u(l){return l===en?{}:l===tn?[]:l}function Cv(l,d){const f=l.viewQuery;l.viewQuery=f?(_,M)=>{d(_,M),f(_,M)}:d}function uS(l,d){const f=l.contentQueries;l.contentQueries=f?(_,M,j)=>{d(_,M,j),f(_,M,j)}:d}function Dv(l,d){const f=l.hostBindings;l.hostBindings=f?(_,M)=>{d(_,M),f(_,M)}:d}function Xa(l){return d=>{d.findHostDirectiveDefs=Mv,d.hostDirectives=(Array.isArray(l)?l:l()).map(f=>"function"==typeof f?{directive:V(f),inputs:en,outputs:en}:{directive:V(f.directive),inputs:Av(f.inputs),outputs:Av(f.outputs)})}}function Mv(l,d,f){if(null!==l.hostDirectives)for(const _ of l.hostDirectives){const M=er(_.directive);mS(M.declaredInputs,_.inputs),Mv(M,d,f),f.set(M,_),d.push(M)}}function Av(l){if(void 0===l||0===l.length)return en;const d={};for(let f=0;f<l.length;f+=2)d[l[f]]=l[f+1];return d}function mS(l,d){for(const f in d)d.hasOwnProperty(f)&&(l[d[f]]=l[f])}function Iv(l){const d=l.inputConfig,f={};for(const _ in d)if(d.hasOwnProperty(_)){const M=d[_];Array.isArray(M)&&M[2]&&(f[_]=M[2])}l.inputTransforms=f}function qu(l){return!!hm(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function hm(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Ys(l,d,f){return l[d]=f}function So(l,d,f){return!Object.is(l[d],f)&&(l[d]=f,!0)}function el(l,d,f,_){const M=So(l,d,f);return So(l,d+1,_)||M}function mm(l,d,f,_){const M=kn();return So(M,sa(),d)&&(Ii(),Hs(br(),M,l,d,f,_)),mm}function ic(l,d,f,_){return So(l,sa(),f)?d+S(f)+_:Ci}function rc(l,d,f,_,M,j){const Te=el(l,function Fs(){return oi.lFrame.bindingIndex}(),f,M);return bs(2),Te?d+S(f)+_+S(M)+j:Ci}function Yv(l,d,f,_,M,j,ee,Te){const ke=kn(),Xe=Ii(),Tt=l+Ti,Pt=Xe.firstCreatePass?function PS(l,d,f,_,M,j,ee,Te,ke){const Xe=d.consts,Tt=ql(d,l,4,ee||null,Ai(Xe,Te));am(d,f,Tt,Ai(Xe,ke)),Fn(d,Tt);const Pt=Tt.tView=ds(2,Tt,_,M,j,d.directiveRegistry,d.pipeRegistry,null,d.schemas,Xe,null);return null!==d.queries&&(d.queries.template(d,Tt),Pt.queries=d.queries.embeddedTView(Tt)),Tt}(Tt,Xe,ke,d,f,_,M,j,ee):Xe.data[Tt];ys(Pt,!1);const nn=Kv(Xe,ke,Pt,l);Mt()&&kh(Xe,ke,nn,Pt),oo(nn,ke),cd(ke,ke[Tt]=fv(nn,ke,nn,Pt)),mo(Pt)&&im(Xe,ke,Pt),null!=ee&&Ku(ke,Pt,Te)}let Kv=function Wv(l,d,f,_){return xt(!0),d[Ln].createComment("")};function zv(l){return Ut(function eu(){return oi.lFrame.contextLView}(),Ti+l)}function Em(l,d,f){const _=kn();return So(_,sa(),d)&&Po(Ii(),br(),_,l,d,_[Ln],f,!1),Em}function Tm(l,d,f,_,M){const ee=M?"class":"style";ao(l,f,d.inputs[ee],ee,_)}function tf(l,d,f,_){const M=kn(),j=Ii(),ee=Ti+l,Te=M[Ln],ke=j.firstCreatePass?function kS(l,d,f,_,M,j){const ee=d.consts,ke=ql(d,l,2,_,Ai(ee,M));return am(d,f,ke,Ai(ee,j)),null!==ke.attrs&&Wu(ke,ke.attrs,!1),null!==ke.mergedAttrs&&Wu(ke,ke.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,ke),ke}(ee,j,M,d,f,_):j.data[ee],Xe=Zv(j,M,ke,Te,d,l);M[ee]=Xe;const Tt=mo(ke);return ys(ke,!0),Aa(Te,Xe,ke),32!=(32&ke.flags)&&Mt()&&kh(j,M,Xe,ke),0===function _s(){return oi.lFrame.elementDepthCount}()&&oo(Xe,M),function ss(){oi.lFrame.elementDepthCount++}(),Tt&&(im(j,M,ke),Yu(j,ke,M)),null!==_&&Ku(M,ke),tf}function nf(){let l=jr();Xd()?ih():(l=l.parent,ys(l,!1));const d=l;(function th(l){return oi.skipHydrationRootTNode===l})(d)&&function hp(){oi.skipHydrationRootTNode=null}(),function Rr(){oi.lFrame.elementDepthCount--}();const f=Ii();return f.firstCreatePass&&(Fn(f,l),mr(l)&&f.queries.elementEnd(l)),null!=d.classesWithoutHost&&function lE(l){return 0!=(8&l.flags)}(d)&&Tm(f,d,kn(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function cE(l){return 0!=(16&l.flags)}(d)&&Tm(f,d,kn(),d.stylesWithoutHost,!1),nf}function Sm(l,d,f,_){return tf(l,d,f,_),nf(),Sm}let Zv=(l,d,f,_,M,j)=>(xt(!0),Ih(_,M,function Ne(){return oi.lFrame.currentNamespace}()));function rf(l,d,f){const _=kn(),M=Ii(),j=l+Ti,ee=M.firstCreatePass?function US(l,d,f,_,M){const j=d.consts,ee=Ai(j,_),Te=ql(d,l,8,"ng-container",ee);return null!==ee&&Wu(Te,ee,!0),am(d,f,Te,Ai(j,M)),null!==d.queries&&d.queries.elementStart(d,Te),Te}(j,M,_,d,f):M.data[j];ys(ee,!0);const Te=$v(M,_,ee,l);return _[j]=Te,Mt()&&kh(M,_,Te,ee),oo(Te,_),mo(ee)&&(im(M,_,ee),Yu(M,ee,_)),null!=f&&Ku(_,ee),rf}function sf(){let l=jr();const d=Ii();return Xd()?ih():(l=l.parent,ys(l,!1)),d.firstCreatePass&&(Fn(d,l),mr(l)&&d.queries.elementEnd(l)),sf}function Cm(l,d,f){return rf(l,d,f),sf(),Cm}let $v=(l,d,f,_)=>(xt(!0),e_(d[Ln],""));function qv(){return kn()}function Dm(l){return!!l&&"function"==typeof l.then}function xm(l){return!!l&&"function"==typeof l.subscribe}function Mm(l,d,f,_){const M=kn(),j=Ii(),ee=jr();return wm(j,M,M[Ln],ee,l,d,_),Mm}function Am(l,d){const f=jr(),_=kn(),M=Ii();return wm(M,_,gv(xl(M.data),f,_),f,l,d),Am}function wm(l,d,f,_,M,j,ee){const Te=mo(_),Xe=l.firstCreatePass&&mv(l),Tt=d[jt],Pt=dm(d);let nn=!0;if(3&_.type||ee){const Gn=pt(_,d),qn=ee?ee(Gn):Gn,ri=Pt.length,An=ee?Ri=>ee(or(Ri[_.index])):_.index;let yi=null;if(!ee&&Te&&(yi=function GS(l,d,f,_){const M=l.cleanup;if(null!=M)for(let j=0;j<M.length-1;j+=2){const ee=M[j];if(ee===f&&M[j+1]===_){const Te=d[Fr],ke=M[j+2];return Te.length>ke?Te[ke]:null}"string"==typeof ee&&(j+=2)}return null}(l,d,M,_.index)),null!==yi)(yi.__ngLastListenerFn__||yi).__ngNextListenerFn__=j,yi.__ngLastListenerFn__=j,nn=!1;else{j=tl(_,d,Tt,j,!1);const Ri=f.listen(qn,M,j);Pt.push(j,Ri),Xe&&Xe.push(M,An,ri,ri+1)}}else j=tl(_,d,Tt,j,!1);const on=_.outputs;let xn;if(nn&&null!==on&&(xn=on[M])){const Gn=xn.length;if(Gn)for(let qn=0;qn<Gn;qn+=2){const Bi=d[xn[qn]][xn[qn+1]].subscribe(j),co=Pt.length;Pt.push(j,Bi),Xe&&Xe.push(M,_.index,co,-(co+1))}}}function Im(l,d,f,_){try{return qo(6,d,f),!1!==f(_)}catch(M){return zr(l,M),!1}finally{qo(7,d,f)}}function tl(l,d,f,_,M){return function j(ee){if(ee===Function)return _;Ts(l.componentOffset>-1?fn(l.index,d):d);let ke=Im(d,f,_,ee),Xe=j.__ngNextListenerFn__;for(;Xe;)ke=Im(d,f,Xe,ee)&&ke,Xe=Xe.__ngNextListenerFn__;return M&&!1===ke&&ee.preventDefault(),ke}}function Jv(l=1){return function vp(l){return(oi.lFrame.contextLView=function yp(l,d){for(;l>0;)d=d[si],l--;return d}(l,oi.lFrame.contextLView))[jt]}(l)}function HS(l,d){let f=null;const _=function Bn(l){const d=l.attrs;if(null!=d){const f=d.indexOf(5);if(!(1&f))return d[f+1]}return null}(l);for(let M=0;M<d.length;M++){const j=d[M];if("*"!==j){if(null===_?bn(l,j,!0):ve(_,j))return M}else f=M}return f}function Qv(l){const d=kn()[ci][nr];if(!d.projection){const _=d.projection=Jr(l?l.length:1,null),M=_.slice();let j=d.child;for(;null!==j;){const ee=l?HS(j,l):0;null!==ee&&(M[ee]?M[ee].projectionNext=j:_[ee]=j,M[ee]=j),j=j.next}}}function Xv(l,d=0,f){const _=kn(),M=Ii(),j=ql(M,Ti+l,16,null,f||null);null===j.projection&&(j.projection=d),ih(),(!_[Br]||vs())&&32!=(32&j.flags)&&function jl(l,d,f){Ma(d[Ln],0,d,f,n_(l,f,d),Nh(f.parent||d[nr],f,d))}(M,_,j)}function Om(l,d,f){return af(l,"",d,"",f),Om}function af(l,d,f,_,M){const j=kn(),ee=ic(j,d,f,_);return ee!==Ci&&Po(Ii(),br(),j,l,ee,j[Ln],M,!1),af}function Pm(l,d,f,_,M,j,ee){const Te=kn(),ke=rc(Te,d,f,_,M,j);return ke!==Ci&&Po(Ii(),br(),Te,l,ke,Te[Ln],ee,!1),Pm}function lf(l,d){return l<<17|d<<2}function Ia(l){return l>>17&32767}function Rm(l){return 2|l}function nl(l){return(131068&l)>>2}function Nm(l,d){return-131069&l|d<<2}function Lm(l){return 1|l}function cy(l,d,f,_,M){const j=l[f+1],ee=null===d;let Te=_?Ia(j):nl(j),ke=!1;for(;0!==Te&&(!1===ke||ee);){const Tt=l[Te+1];ZS(l[Te],d)&&(ke=!0,l[Te+1]=_?Lm(Tt):Rm(Tt)),Te=_?Ia(Tt):nl(Tt)}ke&&(l[f+1]=_?Rm(j):Lm(j))}function ZS(l,d){return null===l||null==d||(Array.isArray(l)?l[1]:l)===d||!(!Array.isArray(l)||"string"!=typeof d)&&xa(l,d)>=0}const Zr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dy(l){return l.substring(Zr.key,Zr.keyEnd)}function fy(l,d){const f=Zr.textEnd;return f===d?-1:(d=Zr.keyEnd=function JS(l,d,f){for(;d<f&&l.charCodeAt(d)>32;)d++;return d}(l,Zr.key=d,f),uc(l,d,f))}function uc(l,d,f){for(;d<f&&l.charCodeAt(d)<=32;)d++;return d}function Fm(l,d,f){return Ds(l,d,f,!1),Fm}function Bm(l,d){return Ds(l,d,null,!0),Bm}function gy(l){xs(sC,Ws,l,!0)}function Ws(l,d){for(let f=function $S(l){return function cf(l){Zr.key=0,Zr.keyEnd=0,Zr.value=0,Zr.valueEnd=0,Zr.textEnd=l.length}(l),fy(l,uc(l,0,Zr.textEnd))}(d);f>=0;f=fy(d,f))Fo(l,dy(d),!0)}function Ds(l,d,f,_){const M=kn(),j=Ii(),ee=bs(2);j.firstUpdatePass&&_y(j,l,ee,_),d!==Ci&&So(M,ee,d)&&yy(j,j.data[vo()],M,M[Ln],l,M[ee+1]=function lC(l,d){return null==l||""===l||("string"==typeof d?l+=d:"object"==typeof l&&(l=y(js(l)))),l}(d,f),_,ee)}function xs(l,d,f,_){const M=Ii(),j=bs(2);M.firstUpdatePass&&_y(M,null,j,_);const ee=kn();if(f!==Ci&&So(ee,j,f)){const Te=M.data[vo()];if(Ey(Te,_)&&!py(M,j)){let ke=_?Te.classesWithoutHost:Te.stylesWithoutHost;null!==ke&&(f=A(ke,f||"")),Tm(M,Te,ee,f,_)}else!function aC(l,d,f,_,M,j,ee,Te){M===Ci&&(M=tn);let ke=0,Xe=0,Tt=0<M.length?M[0]:null,Pt=0<j.length?j[0]:null;for(;null!==Tt||null!==Pt;){const nn=ke<M.length?M[ke+1]:void 0,on=Xe<j.length?j[Xe+1]:void 0;let Gn,xn=null;Tt===Pt?(ke+=2,Xe+=2,nn!==on&&(xn=Pt,Gn=on)):null===Pt||null!==Tt&&Tt<Pt?(ke+=2,xn=Tt):(Xe+=2,xn=Pt,Gn=on),null!==xn&&yy(l,d,f,_,xn,Gn,ee,Te),Tt=ke<M.length?M[ke]:null,Pt=Xe<j.length?j[Xe]:null}}(M,Te,ee,ee[Ln],ee[j+1],ee[j+1]=function oC(l,d,f){if(null==f||""===f)return tn;const _=[],M=js(f);if(Array.isArray(M))for(let j=0;j<M.length;j++)l(_,M[j],!0);else if("object"==typeof M)for(const j in M)M.hasOwnProperty(j)&&l(_,j,M[j]);else"string"==typeof M&&d(_,M);return _}(l,d,f),_,j)}}function py(l,d){return d>=l.expandoStartIndex}function _y(l,d,f,_){const M=l.data;if(null===M[f+1]){const j=M[vo()],ee=py(l,f);Ey(j,_)&&null===d&&!ee&&(d=!1),d=function tC(l,d,f,_){const M=xl(l);let j=_?d.residualClasses:d.residualStyles;if(null===M)0===(_?d.classBindings:d.styleBindings)&&(f=_d(f=Um(null,l,d,f,_),d.attrs,_),j=null);else{const ee=d.directiveStylingLast;if(-1===ee||l[ee]!==M)if(f=Um(M,l,d,f,_),null===j){let ke=function nC(l,d,f){const _=f?d.classBindings:d.styleBindings;if(0!==nl(_))return l[Ia(_)]}(l,d,_);void 0!==ke&&Array.isArray(ke)&&(ke=Um(null,l,d,ke[1],_),ke=_d(ke,d.attrs,_),function iC(l,d,f,_){l[Ia(f?d.classBindings:d.styleBindings)]=_}(l,d,_,ke))}else j=function rC(l,d,f){let _;const M=d.directiveEnd;for(let j=1+d.directiveStylingLast;j<M;j++)_=_d(_,l[j].hostAttrs,f);return _d(_,d.attrs,f)}(l,d,_)}return void 0!==j&&(_?d.residualClasses=j:d.residualStyles=j),f}(M,j,d,_),function zS(l,d,f,_,M,j){let ee=j?d.classBindings:d.styleBindings,Te=Ia(ee),ke=nl(ee);l[_]=f;let Tt,Xe=!1;if(Array.isArray(f)?(Tt=f[1],(null===Tt||xa(f,Tt)>0)&&(Xe=!0)):Tt=f,M)if(0!==ke){const nn=Ia(l[Te+1]);l[_+1]=lf(nn,Te),0!==nn&&(l[nn+1]=Nm(l[nn+1],_)),l[Te+1]=function KS(l,d){return 131071&l|d<<17}(l[Te+1],_)}else l[_+1]=lf(Te,0),0!==Te&&(l[Te+1]=Nm(l[Te+1],_)),Te=_;else l[_+1]=lf(ke,0),0===Te?Te=_:l[ke+1]=Nm(l[ke+1],_),ke=_;Xe&&(l[_+1]=Rm(l[_+1])),cy(l,Tt,_,!0),cy(l,Tt,_,!1),function ly(l,d,f,_,M){const j=M?l.residualClasses:l.residualStyles;null!=j&&"string"==typeof d&&xa(j,d)>=0&&(f[_+1]=Lm(f[_+1]))}(d,Tt,l,_,j),ee=lf(Te,ke),j?d.classBindings=ee:d.styleBindings=ee}(M,j,d,f,ee,_)}}function Um(l,d,f,_,M){let j=null;const ee=f.directiveEnd;let Te=f.directiveStylingLast;for(-1===Te?Te=f.directiveStart:Te++;Te<ee&&(j=d[Te],_=_d(_,j.hostAttrs,M),j!==l);)Te++;return null!==l&&(f.directiveStylingLast=Te),_}function _d(l,d,f){const _=f?1:2;let M=-1;if(null!==d)for(let j=0;j<d.length;j++){const ee=d[j];"number"==typeof ee?M=ee:M===_&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Fo(l,ee,!!f||d[++j]))}return void 0===l?null:l}function sC(l,d,f){const _=String(d);""!==_&&!_.includes(" ")&&Fo(l,_,f)}function yy(l,d,f,_,M,j,ee,Te){if(!(3&d.type))return;const ke=l.data,Xe=ke[Te+1],Tt=function WS(l){return 1==(1&l)}(Xe)?by(ke,d,f,M,nl(Xe),ee):void 0;df(Tt)||(df(j)||function YS(l){return 2==(2&l)}(Xe)&&(j=by(ke,null,f,M,Te,ee)),function Ou(l,d,f,_,M){if(d)M?l.addClass(f,_):l.removeClass(f,_);else{let j=-1===_.indexOf("-")?void 0:Tu.DashCase;null==M?l.removeStyle(f,_,j):("string"==typeof M&&M.endsWith("!important")&&(M=M.slice(0,-10),j|=Tu.Important),l.setStyle(f,_,M,j))}}(_,ee,De(vo(),f),M,j))}function by(l,d,f,_,M,j){const ee=null===d;let Te;for(;M>0;){const ke=l[M],Xe=Array.isArray(ke),Tt=Xe?ke[1]:ke,Pt=null===Tt;let nn=f[M+1];nn===Ci&&(nn=Pt?tn:void 0);let on=Pt?gh(nn,_):Tt===_?nn:void 0;if(Xe&&!df(on)&&(on=gh(ke,_)),df(on)&&(Te=on,ee))return Te;const xn=l[M+1];M=ee?Ia(xn):nl(xn)}if(null!==d){let ke=j?d.residualClasses:d.residualStyles;null!=ke&&(Te=gh(ke,_))}return Te}function df(l){return void 0!==l}function Ey(l,d){return 0!=(l.flags&(d?8:16))}function Ty(l,d=""){const f=kn(),_=Ii(),M=l+Ti,j=_.firstCreatePass?ql(_,M,1,d,null):_.data[M],ee=Sy(_,f,j,d,l);f[M]=ee,Mt()&&kh(_,f,ee,j),ys(j,!1)}let Sy=(l,d,f,_,M)=>(xt(!0),wh(d[Ln],_));function jm(l){return uf("",l,""),jm}function uf(l,d,f){const _=kn(),M=ic(_,l,d,f);return M!==Ci&&fa(_,vo(),M),uf}function Vm(l,d,f,_,M){const j=kn(),ee=rc(j,l,d,f,_,M);return ee!==Ci&&fa(j,vo(),ee),Vm}function Oy(l,d,f){xs(Fo,Ws,ic(kn(),l,d,f),!0)}function Gm(l,d,f){const _=kn();return So(_,sa(),d)&&Po(Ii(),br(),_,l,d,_[Ln],f,!0),Gm}function Hm(l,d,f){const _=kn();if(So(_,sa(),d)){const j=Ii(),ee=br();Po(j,ee,_,l,d,gv(xl(j.data),ee,_),f,!0)}return Hm}const il=void 0;var aA=["en",[["a","p"],["AM","PM"],il],[["AM","PM"],il,il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",il,"{1} 'at' {0}",il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AC(l){const f=Math.floor(Math.abs(l)),_=l.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===_?1:5}];let vd={};function Ym(l){const d=function wC(l){return l.toLowerCase().replace(/_/g,"-")}(l);let f=Vy(d);if(f)return f;const _=d.split("-")[0];if(f=Vy(_),f)return f;if("en"===_)return aA;throw new T(701,!1)}function jy(l){return Ym(l)[rl.PluralCase]}function Vy(l){return l in vd||(vd[l]=$e.ng&&$e.ng.common&&$e.ng.common.locales&&$e.ng.common.locales[l]),vd[l]}var rl=function(l){return l[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l}(rl||{});const fc="en-US",hf={marker:"element"},mf={marker:"ICU"};var Ro=function(l){return l[l.SHIFT=2]="SHIFT",l[l.APPEND_EAGERLY=1]="APPEND_EAGERLY",l[l.COMMENT=2]="COMMENT",l}(Ro||{});let Gy=fc;function Hy(l){(function Pe(l,d){null==l&&Oe(d,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&(Gy=l.toLowerCase().replace(/_/g,"-"))}function Yy(l,d,f){const _=d.insertBeforeIndex,M=Array.isArray(_)?_[0]:_;return null===M?Mu(l,0,f):or(f[M])}function Ky(l,d,f,_,M){const j=d.insertBeforeIndex;if(Array.isArray(j)){let ee=_,Te=null;if(3&d.type||(Te=ee,ee=M),null!==ee&&-1===d.componentOffset)for(let ke=1;ke<j.length;ke++)Ul(l,ee,f[j[ke]],Te,!1)}}function Wy(l,d){if(l.push(d),l.length>1)for(let f=l.length-2;f>=0;f--){const _=l[f];zy(_)||NC(_,d)&&null===LC(_)&&kC(_,d.index)}}function zy(l){return!(64&l.type)}function NC(l,d){return zy(d)||l.index>d.index}function LC(l){const d=l.insertBeforeIndex;return Array.isArray(d)?d[0]:d}function kC(l,d){const f=l.insertBeforeIndex;Array.isArray(f)?f[0]=d:(Au(Yy,Ky),l.insertBeforeIndex=d)}function UC(l,d,f){const _=nm(l,f,64,null,null);return Wy(d,_),_}function WC(){const l=[];let f,_,d=-1;function j(Te,ke){d=0;const Xe=function gf(l,d){const f=d[l.currentCaseLViewIndex];return null===f?f:f<0?~f:f}(Te,ke);_=null!==Xe?Te.remove[Xe]:tn}function ee(){if(d<_.length){const Te=_[d++];return Te>0?f[Te]:(l.push(d,_),j(f[Wn].data[~Te],f),ee())}return 0===l.length?null:(_=l.pop(),d=l.pop(),ee())}return function M(Te,ke){for(f=ke;l.length;)l.pop();return j(Te.value,ke),ee}}const pf=/\ufffd(\d+):?\d*\ufffd/gi,$C=/\ufffd(\d+)\ufffd/,e0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Td="\ufffd",hc=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,mc=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,zm=/\uE500/g;function $m(l,d,f,_,M,j,ee){const Te=id(l,_,1,null);let ke=Te<<Ro.SHIFT,Xe=ja();d===Xe&&(Xe=null),null===Xe&&(ke|=Ro.APPEND_EAGERLY),ee&&(ke|=Ro.COMMENT,function $p(l){void 0===Mh&&(Mh=l())}(WC)),M.push(ke,null===j?"":j);const Tt=nm(l,Te,ee?32:1,null===j?"":j,null);Wy(f,Tt);const Pt=Tt.index;return ys(Tt,!1),null!==Xe&&d!==Xe&&function BC(l,d){let f=l.insertBeforeIndex;null===f?(Au(Yy,Ky),f=l.insertBeforeIndex=[null,d]):(function ne(l,d,f){l!=d&&Oe(f,l,d,"==")}(Array.isArray(f),!0,"Expecting array here"),f.push(d))}(Xe,Pt),Tt}function Uo(l,d,f,_,M,j,ee){const Te=ee.match(pf),ke=$m(l,d,f,j,_,Te?null:ee,!1);Te&&Ar(M,ee,ke.index,null,0,null)}function Ar(l,d,f,_,M,j){const ee=l.length,Te=ee+1;l.push(null,null);const ke=ee+2,Xe=d.split(pf);let Tt=0;for(let Pt=0;Pt<Xe.length;Pt++){const nn=Xe[Pt];if(1&Pt){const on=M+parseInt(nn,10);l.push(-1-on),Tt|=t0(on)}else""!==nn&&l.push(nn)}return l.push(f<<2|(_?1:0)),_&&l.push(_,j),l[ee]=Tt,l[Te]=l.length-ke,Tt}function t0(l){return 1<<Math.min(l,31)}function Et(l){let d,j,f="",_=0,M=!1;for(;null!==(d=hc.exec(l));)M?d[0]===`${Td}/*${j}${Td}`&&(_=d.index,M=!1):(f+=l.substring(_,d.index+d[0].length),j=d[1],M=!0);return f+=l.slice(_),f}function En(l,d,f,_,M,j){let ee=0;const Te={type:M.type,currentCaseLViewIndex:id(l,d,1,null),anchorIdx:j,cases:[],create:[],remove:[],update:[]};(function cn(l,d,f){l.push(t0(d.mainBinding),2,-1-d.mainBinding,f<<2|2)})(f,M,j),function FC(l,d,f){const _=l.data[d];null===_?l.data[d]=f:_.value=f}(l,j,Te);const ke=M.values;for(let Xe=0;Xe<ke.length;Xe++){const Tt=ke[Xe],Pt=[];for(let nn=0;nn<Tt.length;nn++){const on=Tt[nn];if("string"!=typeof on){const xn=Pt.push(on)-1;Tt[nn]=`\x3c!--\ufffd${xn}\ufffd--\x3e`}}ee=Cd(l,Te,d,f,_,M.cases[Xe],Tt.join(""),Pt)|ee}ee&&function tD(l,d,f){l.push(d,1,f<<2|3)}(f,ee,j)}function ol(l){const d=[],f=[];let _=1,M=0;const j=Sd(l=l.replace(e0,function(ee,Te,ke){return _="select"===ke?0:1,M=parseInt(Te.slice(1),10),""}));for(let ee=0;ee<j.length;){let Te=j[ee++].trim();1===_&&(Te=Te.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Te.length&&d.push(Te);const ke=Sd(j[ee++]);d.length>f.length&&f.push(ke)}return{type:_,mainBinding:M,cases:d,values:f}}function Sd(l){if(!l)return[];let d=0;const f=[],_=[],M=/[{}]/g;let j;for(M.lastIndex=0;j=M.exec(l);){const Te=j.index;if("}"==j[0]){if(f.pop(),0==f.length){const ke=l.substring(d,Te);e0.test(ke)?_.push(ol(ke)):_.push(ke),d=Te+1}}else{if(0==f.length){const ke=l.substring(d,Te);_.push(ke),d=Te+1}f.push("{")}}const ee=l.substring(d);return _.push(ee),_}function Cd(l,d,f,_,M,j,ee,Te){const ke=[],Xe=[],Tt=[];d.cases.push(j),d.create.push(ke),d.remove.push(Xe),d.update.push(Tt);const nn=d_(Pu()).getInertBodyElement(ee),on=m_(nn)||nn;return on?n0(l,d,f,_,ke,Xe,Tt,on,M,Te,0):0}function n0(l,d,f,_,M,j,ee,Te,ke,Xe,Tt){let Pt=0,nn=Te.firstChild;for(;nn;){const on=id(l,f,1,null);switch(nn.nodeType){case Node.ELEMENT_NODE:const xn=nn,Gn=xn.tagName.toLowerCase();if(Uh.hasOwnProperty(Gn)){_f(M,hf,Gn,ke,on),l.data[on]=Gn;const yi=xn.attributes;for(let Ri=0;Ri<yi.length;Ri++){const Bi=yi.item(Ri),co=Bi.name.toLowerCase();Bi.value.match(pf)?Za.hasOwnProperty(co)&&Ar(ee,Bi.value,on,Bi.name,0,Nu[co]?Gl:null):wr(M,on,Bi)}Pt=n0(l,d,f,_,M,j,ee,nn,on,Xe,Tt+1)|Pt,r0(j,on,Tt)}break;case Node.TEXT_NODE:const qn=nn.textContent||"",ri=qn.match(pf);_f(M,null,ri?"":qn,ke,on),r0(j,on,Tt),ri&&(Pt=Ar(ee,qn,on,null,0,null)|Pt);break;case Node.COMMENT_NODE:const An=$C.exec(nn.textContent||"");if(An){const Ri=Xe[parseInt(An[1],10)];_f(M,mf,"",ke,on),En(l,f,_,ke,Ri,on),eD(j,on,Tt)}}nn=nn.nextSibling}return Pt}function r0(l,d,f){0===f&&l.push(d)}function eD(l,d,f){0===f&&(l.push(~d),l.push(d))}function _f(l,d,f,_,M){null!==d&&l.push(d),l.push(f,M,function jC(l,d,f){return l|d<<17|f<<1}(0,_,M))}function wr(l,d,f){l.push(d<<1|1,f.name,f.value)}function l0(l,d,f=-1){const _=Ii(),M=kn(),j=Ti+l,ee=Ai(_.consts,d),Te=ja();_.firstCreatePass&&function Zm(l,d,f,_,M,j){const ee=ja(),Te=[],ke=[],Xe=[[]];M=function mi(l,d){if(function di(l){return-1===l}(d))return Et(l);{const f=l.indexOf(`:${d}${Td}`)+2+d.toString().length,_=l.search(new RegExp(`${Td}\\/\\*\\d+:${d}${Td}`));return Et(l.substring(f,_))}}(M,j);const Tt=function qC(l){return l.replace(zm," ")}(M).split(mc);for(let Pt=0;Pt<Tt.length;Pt++){let nn=Tt[Pt];if(1&Pt){const on=47===nn.charCodeAt(0),Gn=(nn.charCodeAt(on?1:0),Ti+Number.parseInt(nn.substring(on?2:1)));if(on)Xe.shift(),ys(ja(),!1);else{const qn=UC(l,Xe[0],Gn);Xe.unshift([]),ys(qn,!0)}}else{const on=Sd(nn);for(let xn=0;xn<on.length;xn++){let Gn=on[xn];if(1&xn){const qn=Gn;if("object"!=typeof qn)throw new Error(`Unable to parse ICU expression in "${M}" message.`);En(l,f,ke,d,qn,$m(l,ee,Xe[0],f,Te,"",!0).index)}else""!==Gn&&Uo(l,ee,Xe[0],Te,ke,f,Gn)}}}l.data[_]={create:Te,update:ke}}(_,null===Te?0:Te.index,M,j,ee,f),2===_.type?M[ci][ai]|=32:M[ai]|=32;const ke=_.data[j],Tt=WE(_,Te===M[nr]?null:Te,M);(function HC(l,d,f,_){const M=l[Ln];for(let j=0;j<d.length;j++){const ee=d[j++],Te=d[j],Xe=(ee&Ro.APPEND_EAGERLY)===Ro.APPEND_EAGERLY,Tt=ee>>>Ro.SHIFT;let Pt=l[Tt];null===Pt&&(Pt=l[Tt]=(ee&Ro.COMMENT)===Ro.COMMENT?M.createComment(Te):wh(M,Te)),Xe&&null!==f&&Ul(M,f,Pt,_,!1)}})(M,ke.create,Tt,Te&&8&Te.type?M[Te.index]:null),rh(!0)}function c0(l,d,f){l0(l,d,f),function yf(){rh(!1)}()}function bf(l,d,f,_,M){if(l=V(l),Array.isArray(l))for(let j=0;j<l.length;j++)bf(l[j],d,f,_,M);else{const j=Ii(),ee=kn();let Te=qa(l)?l:V(l.provide),ke=vT(l);const Xe=jr(),Tt=1048575&Xe.providerIndexes,Pt=Xe.directiveStart,nn=Xe.providerIndexes>>20;if(qa(l)||!l.multi){const on=new aa(ke,M,$l),xn=Tf(Te,d,M?Tt:Tt+nn,Pt);-1===xn?(dh(uu(Xe,ee),j,Te),Ef(j,l,d.length),d.push(Te),Xe.directiveStart++,Xe.directiveEnd++,M&&(Xe.providerIndexes+=1048576),f.push(on),ee.push(on)):(f[xn]=on,ee[xn]=on)}else{const on=Tf(Te,d,Tt+nn,Pt),xn=Tf(Te,d,Tt,Tt+nn),qn=xn>=0&&f[xn];if(M&&!qn||!M&&!(on>=0&&f[on])){dh(uu(Xe,ee),j,Te);const ri=function sD(l,d,f,_,M){const j=new aa(l,f,$l);return j.multi=[],j.index=d,j.componentProviders=0,f0(j,M,_&&!f),j}(M?h0:Jm,f.length,M,_,ke);!M&&qn&&(f[xn].providerFactory=ri),Ef(j,l,d.length,0),d.push(Te),Xe.directiveStart++,Xe.directiveEnd++,M&&(Xe.providerIndexes+=1048576),f.push(ri),ee.push(ri)}else Ef(j,l,on>-1?on:xn,f0(f[M?xn:on],ke,!M&&_));!M&&_&&qn&&f[xn].componentProviders++}}}function Ef(l,d,f,_){const M=qa(d),j=function pT(l){return!!l.useClass}(d);if(M||j){const ke=(j?V(d.useClass):d).prototype.ngOnDestroy;if(ke){const Xe=l.destroyHooks||(l.destroyHooks=[]);if(!M&&d.multi){const Tt=Xe.indexOf(f);-1===Tt?Xe.push(f,[_,ke]):Xe[Tt+1].push(_,ke)}else Xe.push(f,ke)}}}function f0(l,d,f){return f&&l.componentProviders++,l.multi.push(d)-1}function Tf(l,d,f,_){for(let M=f;M<_;M++)if(d[M]===l)return M;return-1}function Jm(l,d,f,_){return Qm(this.multi,[])}function h0(l,d,f,_){const M=this.multi;let j;if(this.providerFactory){const ee=this.providerFactory.componentProviders,Te=Ga(f,f[Wn],this.providerFactory.index,_);j=Te.slice(0,ee),Qm(M,j);for(let ke=ee;ke<Te.length;ke++)j.push(Te[ke])}else j=[],Qm(M,j);return j}function Qm(l,d){for(let f=0;f<l.length;f++)d.push((0,l[f])());return d}function Oa(l,d=[]){return f=>{f.providersResolver=(_,M)=>function jo(l,d,f){const _=Ii();if(_.firstCreatePass){const M=Gi(l);bf(f,_.data,_.blueprint,M,!0),bf(d,_.data,_.blueprint,M,!1)}}(_,M?M(l):l,d)}}class Pa{}class Xm{}function Sf(l,d){return new tg(l,d??null,[])}class tg extends Pa{constructor(d,f,_){super(),this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ev(this);const M=$n(d);this._bootstrapComponents=Gs(M.bootstrap),this._r3Injector=nv(d,f,[{provide:Pa,useValue:this},{provide:ed,useValue:this.componentFactoryResolver},..._],y(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class ng extends Xm{constructor(d){super(),this.moduleType=d}create(d){return new tg(this.moduleType,d,[])}}class g0 extends Pa{constructor(d){super(),this.componentFactoryResolver=new Ev(this),this.instance=null;const f=new x_([...d.providers,{provide:Pa,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],d.parent||Kh(),d.debugName,new Set(["environment"]));this.injector=f,d.runEnvironmentInitializers&&f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function ig(l,d,f=null){return new g0({providers:l,parent:d,debugName:f,runEnvironmentInitializers:!0}).injector}let aD=(()=>{class l{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f)){const _=fT(0,f.type),M=_.length>0?ig([_],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f,M)}return this.cachedInjectors.get(f)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ae({token:l,providedIn:"environment",factory:()=>new l(xe(Yl))})}return l})();function p0(l){l.getStandaloneInjector=d=>d.get(aD).getOrCreateStandaloneInjector(l)}function ag(l,d,f){const _=_o()+l,M=kn();return M[_]===Ci?Ys(M,_,f?d.call(f):d()):function md(l,d){return l[d]}(M,_)}function E0(l,d,f,_){return C0(kn(),_o(),l,d,f,_)}function lg(l,d,f,_,M){return cg(kn(),_o(),l,d,f,_,M)}function T0(l,d,f,_,M,j){return function dg(l,d,f,_,M,j,ee,Te){const ke=d+f;return function Ju(l,d,f,_,M){const j=el(l,d,f,_);return So(l,d+2,M)||j}(l,ke,M,j,ee)?Ys(l,ke+3,Te?_.call(Te,M,j,ee):_(M,j,ee)):Dd(l,ke+3)}(kn(),_o(),l,d,f,_,M,j)}function Dd(l,d){const f=l[d];return f===Ci?void 0:f}function C0(l,d,f,_,M,j){const ee=d+f;return So(l,ee,M)?Ys(l,ee+1,j?_.call(j,M):_(M)):Dd(l,ee+1)}function cg(l,d,f,_,M,j,ee){const Te=d+f;return el(l,Te,M,j)?Ys(l,Te+2,ee?_.call(ee,M,j):_(M,j)):Dd(l,Te+2)}function M0(l,d){const f=Ii();let _;const M=l+Ti;f.firstCreatePass?(_=function gD(l,d){if(d)for(let f=d.length-1;f>=0;f--){const _=d[f];if(l===_.name)return _}}(d,f.pipeRegistry),f.data[M]=_,_.onDestroy&&(f.destroyHooks??=[]).push(M,_.onDestroy)):_=f.data[M];const j=_.factory||(_.factory=We(_.type)),ee=Ce($l);try{const Te=du(!1),ke=j();return du(Te),function LS(l,d,f,_){f>=l.data.length&&(l.data[f]=null,l.blueprint[f]=null),d[f]=_}(f,kn(),M,ke),ke}finally{Ce(ee)}}function A0(l,d,f){const _=l+Ti,M=kn(),j=Ut(M,_);return gc(M,_)?C0(M,_o(),d,j.transform,f,j):j.transform(f)}function fg(l,d,f,_){const M=l+Ti,j=kn(),ee=Ut(j,M);return gc(j,M)?cg(j,_o(),d,ee.transform,f,_,ee):ee.transform(f,_)}function gc(l,d){return l[Wn].data[d].pure}function pc(l){return d=>{setTimeout(l,void 0,d)}}const Zs=class pD extends c.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,f,_){let M=d,j=f||(()=>null),ee=_;if(d&&"object"==typeof d){const ke=d;M=ke.next?.bind(ke),j=ke.error?.bind(ke),ee=ke.complete?.bind(ke)}this.__isAsync&&(j=pc(j),M&&(M=pc(M)),ee&&(ee=pc(ee)));const Te=super.subscribe({next:M,error:j,complete:ee});return d instanceof t.w0&&d.add(Te),Te}};function I0(){return this._results[Symbol.iterator]()}class Mf{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Zs)}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=Mf.prototype;f[Symbol.iterator]||(f[Symbol.iterator]=I0)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,f){return this._results.reduce(d,f)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,f){const _=this;_.dirty=!1;const M=function Qo(l){return l.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function DE(l,d,f){if(l.length!==d.length)return!1;for(let _=0;_<l.length;_++){let M=l[_],j=d[_];if(f&&(M=f(M),j=f(j)),j!==M)return!1}return!0}(_._results,M,f))&&(_._results=M,_.length=M.length,_.last=M[this.length-1],_.first=M[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let al=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=_D}return l})();const O0=al,P0=class extends O0{constructor(d,f,_){super(),this._declarationLView=d,this._declarationTContainer=f,this.elementRef=_}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,f){return this.createEmbeddedViewImpl(d,f,null)}createEmbeddedViewImpl(d,f,_){const ee=this._declarationTContainer.tView,Te=Hu(this._declarationLView,ee,d,4096&this._declarationLView[ai]?4096:16,null,ee.declTNode,null,null,null,f||null,_||null);Te[wi]=this._declarationLView[this._declarationTContainer.index];const Xe=this._declarationLView[Pr];return null!==Xe&&(Te[Pr]=Xe.createEmbeddedView(ee)),um(ee,Te,d),new ud(Te)}};function _D(){return xd(jr(),kn())}function xd(l,d){return 4&l.type?new P0(d,l,ua(l,d)):null}let Fi=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=pi}return l})();function pi(){return gg(jr(),kn())}const U0=Fi,wf=class extends U0{constructor(d,f,_){super(),this._lContainer=d,this._hostTNode=f,this._hostLView=_}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new wl(this._hostTNode,this._hostLView)}get parentInjector(){const d=Sp(this._hostTNode,this._hostLView);if(au(d)){const f=cu(d,this._hostLView),_=lu(d);return new wl(f[Wn].data[_+8],f)}return new wl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const f=j0(this._lContainer);return null!==f&&f[d]||null}get length(){return this._lContainer.length-Wi}createEmbeddedView(d,f,_){let M,j;"number"==typeof _?M=_:null!=_&&(M=_.index,j=_.injector);const Te=d.createEmbeddedViewImpl(f||{},j,null);return this.insertImpl(Te,M,false),Te}createComponent(d,f,_,M,j){const ee=d&&!function hu(l){return"function"==typeof l}(d);let Te;if(ee)Te=f;else{const Gn=f||{};Te=Gn.index,_=Gn.injector,M=Gn.projectableNodes,j=Gn.environmentInjector||Gn.ngModuleRef}const ke=ee?d:new hd(ui(d)),Xe=_||this.parentInjector;if(!j&&null==ke.ngModule){const qn=(ee?Xe:this.parentInjector).get(Yl,null);qn&&(j=qn)}ui(ke.componentType??{});const on=ke.create(Xe,M,null,j);return this.insertImpl(on.hostView,Te,false),on}insert(d,f){return this.insertImpl(d,f,!1)}insertImpl(d,f,_){const M=d._lView,j=M[Wn];if(function $i(l){return zi(l[Ni])}(M)){const ke=this.indexOf(d);if(-1!==ke)this.detach(ke);else{const Xe=M[Ni],Tt=new wf(Xe,Xe[nr],Xe[Ni]);Tt.detach(Tt.indexOf(d))}}const ee=this._adjustIndex(f),Te=this._lContainer;if(function dM(l,d,f,_){const M=Wi+_,j=f.length;_>0&&(f[M-1][vr]=d),_<j-Wi?(d[vr]=f[M],wp(f,Wi+_,d)):(f.push(d),d[vr]=null),d[Ni]=f;const ee=d[wi];null!==ee&&f!==ee&&function uM(l,d){const f=l[Dr];d[ci]!==d[Ni][Ni][ci]&&(l[Qs]=!0),null===f?l[Dr]=[d]:f.push(d)}(ee,d);const Te=d[Pr];null!==Te&&Te.insertView(l),d[ai]|=128}(j,M,Te,ee),!_){const ke=wu(ee,Te),Xe=M[Ln],Tt=ur(Xe,Te[Gr]);null!==Tt&&function aM(l,d,f,_,M,j){_[li]=M,_[nr]=d,Yc(l,_,f,1,M,j)}(j,Te[nr],Xe,M,Tt,ke)}return d.attachToViewContainerRef(),wp(If(Te),ee,d),d}move(d,f){return this.insert(d,f)}indexOf(d){const f=j0(this._lContainer);return null!==f?f.indexOf(d):-1}remove(d){const f=this._adjustIndex(d,-1),_=t_(this._lContainer,f);_&&(Da(If(this._lContainer),f),KE(_[Wn],_))}detach(d){const f=this._adjustIndex(d,-1),_=t_(this._lContainer,f);return _&&null!=Da(If(this._lContainer),f)?new ud(_):null}_adjustIndex(d,f=0){return d??this.length+f}};function j0(l){return l[8]}function If(l){return l[8]||(l[8]=[])}function gg(l,d){let f;const _=d[l.index];return zi(_)?f=_:(f=fv(_,d,null,l),d[l.index]=f,cd(d,f)),Of(f,d,l,_),new wf(f,l,d)}let Of=function V0(l,d,f,_){if(l[Gr])return;let M;M=8&f.type?or(_):function _c(l,d){const f=l[Ln],_=f.createComment(""),M=pt(d,l);return Ul(f,ur(f,M),_,function Rh(l,d){return l.nextSibling(d)}(f,M),!1),_}(d,f),l[Gr]=M};class pg{constructor(d){this.queryList=d,this.matches=null}clone(){return new pg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Md{constructor(d=[]){this.queries=d}createEmbeddedView(d){const f=d.queries;if(null!==f){const _=null!==d.contentQueries?d.contentQueries[0]:f.length,M=[];for(let j=0;j<_;j++){const ee=f.getByIndex(j);M.push(this.queries[ee.indexInDeclarationView].clone())}return new Md(M)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let f=0;f<this.queries.length;f++)null!==Nf(d,f).matches&&this.queries[f].setDirty()}}class Ad{constructor(d,f,_=null){this.predicate=d,this.flags=f,this.read=_}}class wd{constructor(d=[]){this.queries=d}elementStart(d,f){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(d,f)}elementEnd(d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(d)}embeddedTView(d){let f=null;for(let _=0;_<this.length;_++){const M=null!==f?f.length:0,j=this.getByIndex(_).embeddedTView(d,M);j&&(j.indexInDeclarationView=_,null!==f?f.push(j):f=[j])}return null!==f?new wd(f):null}template(d,f){for(let _=0;_<this.queries.length;_++)this.queries[_].template(d,f)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class _g{constructor(d,f=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(d,f){this.isApplyingToNode(f)&&this.matchTNode(d,f)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,f){this.elementStart(d,f)}embeddedTView(d,f){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,f),new _g(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let _=d.parent;for(;null!==_&&8&_.type&&_.index!==f;)_=_.parent;return f===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(d,f){const _=this.metadata.predicate;if(Array.isArray(_))for(let M=0;M<_.length;M++){const j=_[M];this.matchTNodeWithReadOption(d,f,bD(f,j)),this.matchTNodeWithReadOption(d,f,fu(f,d,j,!1,!1))}else _===al?4&f.type&&this.matchTNodeWithReadOption(d,f,-1):this.matchTNodeWithReadOption(d,f,fu(f,d,_,!1,!1))}matchTNodeWithReadOption(d,f,_){if(null!==_){const M=this.metadata.read;if(null!==M)if(M===td||M===Fi||M===al&&4&f.type)this.addMatch(f.index,-2);else{const j=fu(f,d,M,!1,!1);null!==j&&this.addMatch(f.index,j)}else this.addMatch(f.index,_)}}addMatch(d,f){null===this.matches?this.matches=[d,f]:this.matches.push(d,f)}}function bD(l,d){const f=l.localNames;if(null!==f)for(let _=0;_<f.length;_+=2)if(f[_]===d)return f[_+1];return null}function vg(l,d,f,_){return-1===f?function ED(l,d){return 11&l.type?ua(l,d):4&l.type?xd(l,d):null}(d,l):-2===f?function Id(l,d,f){return f===td?ua(d,l):f===al?xd(d,l):f===Fi?gg(d,l):void 0}(l,d,_):Ga(l,l[Wn],f,d)}function G0(l,d,f,_){const M=d[Pr].queries[_];if(null===M.matches){const j=l.data,ee=f.matches,Te=[];for(let ke=0;ke<ee.length;ke+=2){const Xe=ee[ke];Te.push(Xe<0?null:vg(d,j[Xe],ee[ke+1],f.metadata.read))}M.matches=Te}return M.matches}function Pf(l,d,f,_){const M=l.queries.getByIndex(f),j=M.matches;if(null!==j){const ee=G0(l,d,M,f);for(let Te=0;Te<j.length;Te+=2){const ke=j[Te];if(ke>0)_.push(ee[Te/2]);else{const Xe=j[Te+1],Tt=d[-ke];for(let Pt=Wi;Pt<Tt.length;Pt++){const nn=Tt[Pt];nn[wi]===nn[Ni]&&Pf(nn[Wn],nn,Xe,_)}if(null!==Tt[Dr]){const Pt=Tt[Dr];for(let nn=0;nn<Pt.length;nn++){const on=Pt[nn];Pf(on[Wn],on,Xe,_)}}}}}return _}function vc(l){const d=kn(),f=Ii(),_=nu();Pc(_+1);const M=Nf(f,_);if(l.dirty&&function Dn(l){return 4==(4&l[ai])}(d)===(2==(2&M.metadata.flags))){if(null===M.matches)l.reset([]);else{const j=M.crossesNgTemplate?Pf(f,d,_,[]):G0(f,d,M,_);l.reset(j,Bo),l.notifyOnChanges()}return!0}return!1}function Rf(l,d,f){const _=Ii();_.firstCreatePass&&(K0(_,new Ad(l,d,f),-1),2==(2&d)&&(_.staticViewQueries=!0)),Y0(_,kn(),d)}function yg(l,d,f,_){const M=Ii();if(M.firstCreatePass){const j=jr();K0(M,new Ad(d,f,_),j.index),function W0(l,d){const f=l.contentQueries||(l.contentQueries=[]);d!==(f.length?f[f.length-1]:-1)&&f.push(l.queries.length-1,d)}(M,l),2==(2&f)&&(M.staticContentQueries=!0)}Y0(M,kn(),f)}function H0(){return function TD(l,d){return l[Pr].queries[d].queryList}(kn(),nu())}function Y0(l,d,f){const _=new Mf(4==(4&f));(function av(l,d,f,_){const M=dm(d);M.push(f),l.firstCreatePass&&mv(l).push(_,M.length-1)})(l,d,_,_.destroy),null===d[Pr]&&(d[Pr]=new Md),d[Pr].queries.push(new pg(_))}function K0(l,d,f){null===l.queries&&(l.queries=new wd),l.queries.track(new _g(d,f))}function Nf(l,d){return l.queries.getByIndex(d)}function z0(l,d){return xd(l,d)}function yc(l){return!!$n(l)}const fb=new qi("Application Initializer");let Sg=(()=>{class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,_)=>{this.resolve=f,this.reject=_}),this.appInits=pe(fb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const f=[];for(const M of this.appInits){const j=M();if(Dm(j))f.push(j);else if(xm(j)){const ee=new Promise((Te,ke)=>{j.subscribe({complete:Te,error:ke})});f.push(ee)}}const _=()=>{this.done=!0,this.resolve()};Promise.all(f).then(()=>{_()}).catch(M=>{this.reject(M)}),0===f.length&&_(),this.initialized=!0}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),hb=(()=>{class l{log(f){console.log(f)}warn(f){console.warn(f)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();const kd=new qi("LocaleId",{providedIn:"root",factory:()=>pe(kd,de.Optional|de.SkipSelf)||function $s(){return typeof $localize<"u"&&$localize.locale||fc}()}),kD=new qi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Vf=(()=>{class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new E.X(!1)}add(){this.hasPendingTasks.next(!0);const f=this.taskId++;return this.pendingTasks.add(f),f}remove(f){this.pendingTasks.delete(f),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();class BD{constructor(d,f){this.ngModuleFactory=d,this.componentFactories=f}}let Gf=(()=>{class l{compileModuleSync(f){return new ng(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const _=this.compileModuleSync(f),j=Gs($n(f).declarations).reduce((ee,Te)=>{const ke=ui(Te);return ke&&ee.push(new hd(ke)),ee},[]);return new BD(_,j)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function _b(...l){}class Lo{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zs(!1),this.onMicrotaskEmpty=new Zs(!1),this.onStable=new Zs(!1),this.onError=new Zs(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const M=this;M._nesting=0,M._outer=M._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(M._inner=M._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(M._inner=M._inner.fork(Zone.longStackTraceZoneSpec)),M.shouldCoalesceEventChangeDetection=!_&&f,M.shouldCoalesceRunChangeDetection=_,M.lastRequestAnimationFrameId=-1,M.nativeRequestAnimationFrame=function VD(){const l="function"==typeof $e.requestAnimationFrame;let d=$e[l?"requestAnimationFrame":"setTimeout"],f=$e[l?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&d&&f){const _=d[Zone.__symbol__("OriginalDelegate")];_&&(d=_);const M=f[Zone.__symbol__("OriginalDelegate")];M&&(f=M)}return{nativeRequestAnimationFrame:d,nativeCancelAnimationFrame:f}}().nativeRequestAnimationFrame,function vb(l){const d=()=>{!function HD(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call($e,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Hf(l),l.isCheckStableRunning=!0,xg(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Hf(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,_,M,j,ee,Te)=>{try{return Yf(l),f.invokeTask(M,j,ee,Te)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===j.type||l.shouldCoalesceRunChangeDetection)&&d(),Mg(l)}},onInvoke:(f,_,M,j,ee,Te,ke)=>{try{return Yf(l),f.invoke(M,j,ee,Te,ke)}finally{l.shouldCoalesceRunChangeDetection&&d(),Mg(l)}},onHasTask:(f,_,M,j)=>{f.hasTask(M,j),_===M&&("microTask"==j.change?(l._hasPendingMicrotasks=j.microTask,Hf(l),xg(l)):"macroTask"==j.change&&(l.hasPendingMacrotasks=j.macroTask))},onHandleError:(f,_,M,j)=>(f.handleError(M,j),l.runOutsideAngular(()=>l.onError.emit(j)),!1)})}(M)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lo.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Lo.isInAngularZone())throw new T(909,!1)}run(d,f,_){return this._inner.run(d,f,_)}runTask(d,f,_,M){const j=this._inner,ee=j.scheduleEventTask("NgZoneEvent: "+M,d,GD,_b,_b);try{return j.runTask(ee,f,_)}finally{j.cancelTask(ee)}}runGuarded(d,f,_){return this._inner.runGuarded(d,f,_)}runOutsideAngular(d){return this._outer.run(d)}}const GD={};function xg(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Hf(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function Yf(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Mg(l){l._nesting--,xg(l)}class YD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zs,this.onMicrotaskEmpty=new Zs,this.onStable=new Zs,this.onError=new Zs}run(d,f,_){return d.apply(f,_)}runGuarded(d,f,_){return d.apply(f,_)}runOutsideAngular(d){return d()}runTask(d,f,_,M){return d.apply(f,_)}}const yb=new qi("",{providedIn:"root",factory:Ag});function Ag(){const l=pe(Lo);let d=!0;const f=new O.y(M=>{d=l.isStable&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks,l.runOutsideAngular(()=>{M.next(d),M.complete()})}),_=new O.y(M=>{let j;l.runOutsideAngular(()=>{j=l.onStable.subscribe(()=>{Lo.assertNotInAngularZone(),queueMicrotask(()=>{!d&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks&&(d=!0,M.next(!0))})})});const ee=l.onUnstable.subscribe(()=>{Lo.assertInAngularZone(),d&&(d=!1,l.runOutsideAngular(()=>{M.next(!1)}))});return()=>{j.unsubscribe(),ee.unsubscribe()}});return(0,b.T)(f,_.pipe((0,L.B)()))}const bb=new qi(""),lo=new qi("");let Ig,Na=(()=>{class l{constructor(f,_,M){this._ngZone=f,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ig||(function wg(l){Ig=l}(M),M.addToWindow(_)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(f)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,_,M){let j=-1;_&&_>0&&(j=setTimeout(()=>{this._callbacks=this._callbacks.filter(ee=>ee.timeoutId!==j),f(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:f,timeoutId:j,updateCb:M})}whenStable(f,_,M){if(M&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,_,M),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,_,M){return[]}static#e=this.\u0275fac=function(_){return new(_||l)(xe(Lo),xe(Fd),xe(lo))};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac})}return l})(),Fd=(()=>{class l{constructor(){this._applications=new Map}registerApplication(f,_){this._applications.set(f,_)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,_=!0){return Ig?.findTestabilityInTree(this,f,_)??null}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})(),La=null;const cl=new qi("AllowMultipleToken"),dl=new qi("PlatformDestroyListeners"),Og=new qi("appBootstrapListener");class Pg{constructor(d,f){this.name=d,this.token=f}}function Rg(l,d,f=[]){const _=`Platform: ${d}`,M=new qi(_);return(j=[])=>{let ee=jd();if(!ee||ee.injector.get(cl,!1)){const Te=[...f,...j,{provide:M,useValue:!0}];l?l(Te):function KD(l){if(La&&!La.get(cl,!1))throw new T(400,!1);(function fl(){!function vl(l){ba=l}(()=>{throw new T(600,!1)})})(),La=l;const d=l.get(ts);(function Sb(l){l.get(bT,null)?.forEach(f=>f())})(l)}(function Ud(l=[],d){return wa.create({name:d,providers:[{provide:C_,useValue:"platform"},{provide:dl,useValue:new Set([()=>La=null])},...l]})}(Te,_))}return function WD(l){const d=jd();if(!d)throw new T(401,!1);return d}()}}function jd(){return La?.get(ts)??null}let ts=(()=>{class l{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,_){const M=function xb(l="zone.js",d){return"noop"===l?new YD:"zone.js"===l?new Lo(d):l}(_?.ngZone,function Db(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:l?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:l?.runCoalescing??!1}}({eventCoalescing:_?.ngZoneEventCoalescing,runCoalescing:_?.ngZoneRunCoalescing}));return M.run(()=>{const j=function m0(l,d,f){return new tg(l,d,f)}(f.moduleType,this.injector,function Ab(l){return[{provide:Lo,useFactory:l},{provide:Jc,multi:!0,useFactory:()=>{const d=pe(Fg,{optional:!0});return()=>d.initialize()}},{provide:kg,useFactory:ma},{provide:yb,useFactory:Ag}]}(()=>M)),ee=j.injector.get(Wl,null);return M.runOutsideAngular(()=>{const Te=M.onError.subscribe({next:ke=>{ee.handleError(ke)}});j.onDestroy(()=>{Kf(this._modules,j),Te.unsubscribe()})}),function Ng(l,d,f){try{const _=f();return Dm(_)?_.catch(M=>{throw d.runOutsideAngular(()=>l.handleError(M)),M}):_}catch(_){throw d.runOutsideAngular(()=>l.handleError(_)),_}}(ee,M,()=>{const Te=j.injector.get(Sg);return Te.runInitializers(),Te.donePromise.then(()=>(Hy(j.injector.get(kd,fc)||fc),this._moduleDoBootstrap(j),j))})})}bootstrapModule(f,_=[]){const M=Lg({},_);return function Eb(l,d,f){const _=new ng(f);return Promise.resolve(_)}(0,0,f).then(j=>this.bootstrapModuleFactory(j,M))}_moduleDoBootstrap(f){const _=f.injector.get(bc);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(M=>_.bootstrap(M));else{if(!f.instance.ngDoBootstrap)throw new T(-403,!1);f.instance.ngDoBootstrap(_)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const f=this._injector.get(dl,null);f&&(f.forEach(_=>_()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(_){return new(_||l)(xe(wa))};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();function Lg(l,d){return Array.isArray(d)?d.reduce(Lg,l):{...l,...d}}let bc=(()=>{class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pe(kg),this.zoneIsStable=pe(yb),this.componentTypes=[],this.components=[],this.isStable=pe(Vf).hasPendingTasks.pipe((0,x.w)(f=>f?(0,F.of)(!1):this.zoneIsStable),(0,g.x)(),(0,L.B)()),this._injector=pe(Yl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(f,_){const M=f instanceof B_;if(!this._injector.get(Sg).done)throw!M&&kr(f),new T(405,!1);let ee;ee=M?f:this._injector.get(ed).resolveComponentFactory(f),this.componentTypes.push(ee.componentType);const Te=function Tb(l){return l.isBoundToModule}(ee)?void 0:this._injector.get(Pa),Xe=ee.create(wa.NULL,[],_||ee.selector,Te),Tt=Xe.location.nativeElement,Pt=Xe.injector.get(bb,null);return Pt?.registerApplication(Tt),Xe.onDestroy(()=>{this.detachView(Xe.hostView),Kf(this.components,Xe),Pt?.unregisterApplication(Tt)}),this._loadComponent(Xe),Xe}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this.internalErrorHandler(f)}finally{this._runningTick=!1}}attachView(f){const _=f;this._views.push(_),_.attachToAppRef(this)}detachView(f){const _=f;Kf(this._views,_),_.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const _=this._injector.get(Og,[]);_.push(...this._bootstrapListeners),_.forEach(M=>M(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>Kf(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new T(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Kf(l,d){const f=l.indexOf(d);f>-1&&l.splice(f,1)}const kg=new qi("",{providedIn:"root",factory:()=>pe(Wl).handleError.bind(void 0)});function ma(){const l=pe(Lo),d=pe(Wl);return f=>l.runOutsideAngular(()=>d.handleError(f))}let Fg=(()=>{class l{constructor(){this.zone=pe(Lo),this.applicationRef=pe(bc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function ZD(){}let jg=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=Vg}return l})();function Vg(l){return function Ib(l,d,f){if(cr(l)&&!f){const _=fn(l.index,d);return new ud(_,_)}return 47&l.type?new ud(d[ci],d):null}(jr(),kn(),16==(16&l))}class $f{constructor(){}supports(d){return qu(d)}create(d){return new Nb(d)}}const XD=(l,d)=>d;class Nb{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||XD}forEachItem(d){let f;for(f=this._itHead;null!==f;f=f._next)d(f)}forEachOperation(d){let f=this._itHead,_=this._removalsHead,M=0,j=null;for(;f||_;){const ee=!_||f&&f.currentIndex<Kg(_,M,j)?f:_,Te=Kg(ee,M,j),ke=ee.currentIndex;if(ee===_)M--,_=_._nextRemoved;else if(f=f._next,null==ee.previousIndex)M++;else{j||(j=[]);const Xe=Te-M,Tt=ke-M;if(Xe!=Tt){for(let nn=0;nn<Xe;nn++){const on=nn<j.length?j[nn]:j[nn]=0,xn=on+nn;Tt<=xn&&xn<Xe&&(j[nn]=on+1)}j[ee.previousIndex]=Tt-Xe}}Te!==ke&&d(ee,Te,ke)}}forEachPreviousItem(d){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachMovedItem(d){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}forEachIdentityChange(d){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)d(f)}diff(d){if(null==d&&(d=[]),!qu(d))throw new T(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let M,j,ee,f=this._itHead,_=!1;if(Array.isArray(d)){this.length=d.length;for(let Te=0;Te<this.length;Te++)j=d[Te],ee=this._trackByFn(Te,j),null!==f&&Object.is(f.trackById,ee)?(_&&(f=this._verifyReinsertion(f,j,ee,Te)),Object.is(f.item,j)||this._addIdentityChange(f,j)):(f=this._mismatch(f,j,ee,Te),_=!0),f=f._next}else M=0,function pS(l,d){if(Array.isArray(l))for(let f=0;f<l.length;f++)d(l[f]);else{const f=l[Symbol.iterator]();let _;for(;!(_=f.next()).done;)d(_.value)}}(d,Te=>{ee=this._trackByFn(M,Te),null!==f&&Object.is(f.trackById,ee)?(_&&(f=this._verifyReinsertion(f,Te,ee,M)),Object.is(f.item,Te)||this._addIdentityChange(f,Te)):(f=this._mismatch(f,Te,ee,M),_=!0),f=f._next,M++}),this.length=M;return this._truncate(f),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,f,_,M){let j;return null===d?j=this._itTail:(j=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._reinsertAfter(d,j,M)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(_,M))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._moveAfter(d,j,M)):d=this._addAfter(new Lb(f,_),j,M),d}_verifyReinsertion(d,f,_,M){let j=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==j?d=this._reinsertAfter(j,d._prev,M):d.currentIndex!=M&&(d.currentIndex=M,this._addToMoves(d,M)),d}_truncate(d){for(;null!==d;){const f=d._next;this._addToRemovals(this._unlink(d)),d=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,f,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const M=d._prevRemoved,j=d._nextRemoved;return null===M?this._removalsHead=j:M._nextRemoved=j,null===j?this._removalsTail=M:j._prevRemoved=M,this._insertAfter(d,f,_),this._addToMoves(d,_),d}_moveAfter(d,f,_){return this._unlink(d),this._insertAfter(d,f,_),this._addToMoves(d,_),d}_addAfter(d,f,_){return this._insertAfter(d,f,_),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,f,_){const M=null===f?this._itHead:f._next;return d._next=M,d._prev=f,null===M?this._itTail=d:M._prev=d,null===f?this._itHead=d:f._next=d,null===this._linkedRecords&&(this._linkedRecords=new Yg),this._linkedRecords.put(d),d.currentIndex=_,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const f=d._prev,_=d._next;return null===f?this._itHead=_:f._next=_,null===_?this._itTail=f:_._prev=f,d}_addToMoves(d,f){return d.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yg),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,f){return d.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class Lb{constructor(d,f){this.item=d,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ex{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,f){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===f||f<=_.currentIndex)&&Object.is(_.trackById,d))return _;return null}remove(d){const f=d._prevDup,_=d._nextDup;return null===f?this._head=_:f._nextDup=_,null===_?this._tail=f:_._prevDup=f,null===this._head}}class Yg{constructor(){this.map=new Map}put(d){const f=d.trackById;let _=this.map.get(f);_||(_=new ex,this.map.set(f,_)),_.add(d)}get(d,f){const M=this.map.get(d);return M?M.get(d,f):null}remove(d){const f=d.trackById;return this.map.get(f).remove(d)&&this.map.delete(f),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kg(l,d,f){const _=l.previousIndex;if(null===_)return _;let M=0;return f&&_<f.length&&(M=f[_]),_+d+M}class fs{constructor(){}supports(d){return d instanceof Map||hm(d)}create(){return new ga}}class ga{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let f;for(f=this._mapHead;null!==f;f=f._next)d(f)}forEachPreviousItem(d){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)d(f)}forEachChangedItem(d){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}diff(d){if(d){if(!(d instanceof Map||hm(d)))throw new T(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(d,(_,M)=>{if(f&&f.key===M)this._maybeAddToChanges(f,_),this._appendAfter=f,f=f._next;else{const j=this._getOrCreateRecordForKey(M,_);f=this._insertBeforeOrAppend(f,j)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let _=f;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,f){if(d){const _=d._prev;return f._next=d,f._prev=_,d._prev=f,_&&(_._next=f),d===this._mapHead&&(this._mapHead=f),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(d,f){if(this._records.has(d)){const M=this._records.get(d);this._maybeAddToChanges(M,f);const j=M._prev,ee=M._next;return j&&(j._next=ee),ee&&(ee._prev=j),M._next=null,M._prev=null,M}const _=new tx(d);return this._records.set(d,_),_.currentValue=f,this._addToAdditions(_),_}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,f){Object.is(f,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=f,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,f){d instanceof Map?d.forEach(f):Object.keys(d).forEach(_=>f(d[_],_))}}class tx{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kb(){return new Wg([new $f])}let Wg=(()=>{class l{static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:kb});constructor(f){this.factories=f}static create(f,_){if(null!=_){const M=_.factories.slice();f=f.concat(M)}return new l(f)}static extend(f){return{provide:l,useFactory:_=>l.create(f,_||kb()),deps:[[l,new gu,new jc]]}}find(f){const _=this.factories.find(M=>M.supports(f));if(null!=_)return _;throw new T(901,!1)}}return l})();function Fb(){return new zg([new fs])}let zg=(()=>{class l{static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:Fb});constructor(f){this.factories=f}static create(f,_){if(_){const M=_.factories.slice();f=f.concat(M)}return new l(f)}static extend(f){return{provide:l,useFactory:_=>l.create(f,_||Fb()),deps:[[l,new gu,new jc]]}}find(f){const _=this.factories.find(M=>M.supports(f));if(_)return _;throw new T(901,!1)}}return l})();const Zg=Rg(null,"core",[]);let Ub=(()=>{class l{constructor(f){}static#e=this.\u0275fac=function(_){return new(_||l)(xe(bc))};static#t=this.\u0275mod=ki({type:l});static#n=this.\u0275inj=K({})}return l})();function rp(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function Wb(l,d){const f=ui(l),_=d.elementInjector||Kh();return new hd(f).create(_,d.projectableNodes,d.hostElement,d.environmentInjector)}function sp(l){const d=ui(l);if(!d)return null;const f=new hd(d);return{get selector(){return f.selector},get type(){return f.componentType},get inputs(){return f.inputs},get outputs(){return f.outputs},get ngContentSelectors(){return f.ngContentSelectors},get isStandalone(){return d.standalone},get isSignal(){return d.signals}}}},95:(wn,Ze,C)=>{"use strict";C.d(Ze,{Zs:()=>go,Fj:()=>T,qu:()=>Ur,NI:()=>ki,u:()=>hr,sg:()=>ti,u5:()=>Pi,Cf:()=>B,JU:()=>P,a5:()=>Q,JJ:()=>ge,JL:()=>ce,F:()=>Ui,On:()=>Qi,YN:()=>xo,wV:()=>li,UX:()=>Jt,EJ:()=>fo,kI:()=>se,_Y:()=>Do,Kr:()=>ho});var c=C(5879),t=C(6814),E=C(7715),O=C(5592),b=C(7453),F=C(4829),L=C(9940),x=C(8251),g=C(7400),h=C(2714),y=C(7398);let A=(()=>{class We{constructor(Ve,yt){this._renderer=Ve,this._elementRef=yt,this.onChange=Wt=>{},this.onTouched=()=>{}}setProperty(Ve,yt){this._renderer.setProperty(this._elementRef.nativeElement,Ve,yt)}registerOnTouched(Ve){this.onTouched=Ve}registerOnChange(Ve){this.onChange=Ve}setDisabledState(Ve){this.setProperty("disabled",Ve)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:We})}return We})(),U=(()=>{class We extends A{static#e=this.\u0275fac=function(){let Ve;return function(Wt){return(Ve||(Ve=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,features:[c.qOj]})}return We})();const P=new c.OlP("NgValueAccessor"),R={provide:P,useExisting:(0,c.Gpc)(()=>T),multi:!0},I=new c.OlP("CompositionEventMode");let T=(()=>{class We extends A{constructor(Ve,yt,Wt){super(Ve,yt),this._compositionMode=Wt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function D(){const We=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(We.toLowerCase())}())}writeValue(Ve){this.setProperty("value",Ve??"")}_handleInput(Ve){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Ve)}_compositionStart(){this._composing=!0}_compositionEnd(Ve){this._composing=!1,this._compositionMode&&this.onChange(Ve)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(I,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("input",function(hi){return Wt._handleInput(hi.target.value)})("blur",function(){return Wt.onTouched()})("compositionstart",function(){return Wt._compositionStart()})("compositionend",function(hi){return Wt._compositionEnd(hi.target.value)})},features:[c._Bn([R]),c.qOj]})}return We})();function N(We){return null==We||("string"==typeof We||Array.isArray(We))&&0===We.length}function S(We){return null!=We&&"number"==typeof We.length}const B=new c.OlP("NgValidators"),Y=new c.OlP("NgAsyncValidators"),re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class se{static min(et){return function Re(We){return et=>{if(N(et.value)||N(We))return null;const Ve=parseFloat(et.value);return!isNaN(Ve)&&Ve<We?{min:{min:We,actual:et.value}}:null}}(et)}static max(et){return function z(We){return et=>{if(N(et.value)||N(We))return null;const Ve=parseFloat(et.value);return!isNaN(Ve)&&Ve>We?{max:{max:We,actual:et.value}}:null}}(et)}static required(et){return oe(et)}static requiredTrue(et){return H(et)}static email(et){return function me(We){return N(We.value)||re.test(We.value)?null:{email:!0}}(et)}static minLength(et){return function ne(We){return et=>N(et.value)||!S(et.value)?null:et.value.length<We?{minlength:{requiredLength:We,actualLength:et.value.length}}:null}(et)}static maxLength(et){return function ue(We){return et=>S(et.value)&&et.value.length>We?{maxlength:{requiredLength:We,actualLength:et.value.length}}:null}(et)}static pattern(et){return function Se(We){if(!We)return Ie;let et,Ve;return"string"==typeof We?(Ve="","^"!==We.charAt(0)&&(Ve+="^"),Ve+=We,"$"!==We.charAt(We.length-1)&&(Ve+="$"),et=new RegExp(Ve)):(Ve=We.toString(),et=We),yt=>{if(N(yt.value))return null;const Wt=yt.value;return et.test(Wt)?null:{pattern:{requiredPattern:Ve,actualValue:Wt}}}}(et)}static nullValidator(et){return null}static compose(et){return Oe(et)}static composeAsync(et){return ze(et)}}function oe(We){return N(We.value)?{required:!0}:null}function H(We){return!0===We.value?null:{required:!0}}function Ie(We){return null}function le(We){return null!=We}function Me(We){return(0,c.QGY)(We)?(0,E.D)(We):We}function we(We){let et={};return We.forEach(Ve=>{et=null!=Ve?{...et,...Ve}:et}),0===Object.keys(et).length?null:et}function _e(We,et){return et.map(Ve=>Ve(We))}function Pe(We){return We.map(et=>function Le(We){return!We.validate}(et)?et:Ve=>et.validate(Ve))}function Oe(We){if(!We)return null;const et=We.filter(le);return 0==et.length?null:function(Ve){return we(_e(Ve,et))}}function je(We){return null!=We?Oe(Pe(We)):null}function ze(We){if(!We)return null;const et=We.filter(le);return 0==et.length?null:function(Ve){return function p(...We){const et=(0,L.jO)(We),{args:Ve,keys:yt}=(0,b.D)(We),Wt=new O.y(zn=>{const{length:hi}=Ve;if(!hi)return void zn.complete();const qr=new Array(hi);let Yr=hi,$o=hi;for(let ir=0;ir<hi;ir++){let Ao=!1;(0,F.Xf)(Ve[ir]).subscribe((0,x.x)(zn,Zi=>{Ao||(Ao=!0,$o--),qr[ir]=Zi},()=>Yr--,void 0,()=>{(!Yr||!Ao)&&($o||zn.next(yt?(0,h.n)(yt,qr):qr),zn.complete())}))}});return et?Wt.pipe((0,g.Z)(et)):Wt}(_e(Ve,et).map(Me)).pipe((0,y.U)(we))}}function He(We){return null!=We?ze(Pe(We)):null}function Ae(We,et){return null===We?[et]:Array.isArray(We)?[...We,et]:[We,et]}function be(We){return We._rawValidators}function K(We){return We._rawAsyncValidators}function ie(We){return We?Array.isArray(We)?We:[We]:[]}function he(We,et){return Array.isArray(We)?We.includes(et):We===et}function $(We,et){const Ve=ie(et);return ie(We).forEach(Wt=>{he(Ve,Wt)||Ve.push(Wt)}),Ve}function Z(We,et){return ie(et).filter(Ve=>!he(We,Ve))}class W{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(et){this._rawValidators=et||[],this._composedValidatorFn=je(this._rawValidators)}_setAsyncValidators(et){this._rawAsyncValidators=et||[],this._composedAsyncValidatorFn=He(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(et){this._onDestroyCallbacks.push(et)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(et=>et()),this._onDestroyCallbacks=[]}reset(et=void 0){this.control&&this.control.reset(et)}hasError(et,Ve){return!!this.control&&this.control.hasError(et,Ve)}getError(et,Ve){return this.control?this.control.getError(et,Ve):null}}class X extends W{get formDirective(){return null}get path(){return null}}class Q extends W{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class q{constructor(et){this._cd=et}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ge=(()=>{class We extends q{constructor(Ve){super(Ve)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(Q,2))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(yt,Wt){2&yt&&c.ekj("ng-untouched",Wt.isUntouched)("ng-touched",Wt.isTouched)("ng-pristine",Wt.isPristine)("ng-dirty",Wt.isDirty)("ng-valid",Wt.isValid)("ng-invalid",Wt.isInvalid)("ng-pending",Wt.isPending)},features:[c.qOj]})}return We})(),ce=(()=>{class We extends q{constructor(Ve){super(Ve)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(X,10))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(yt,Wt){2&yt&&c.ekj("ng-untouched",Wt.isUntouched)("ng-touched",Wt.isTouched)("ng-pristine",Wt.isPristine)("ng-dirty",Wt.isDirty)("ng-valid",Wt.isValid)("ng-invalid",Wt.isInvalid)("ng-pending",Wt.isPending)("ng-submitted",Wt.isSubmitted)},features:[c.qOj]})}return We})();const dt="VALID",xe="INVALID",fe="PENDING",pe="DISABLED";function at(We){return(bt(We)?We.validators:We)||null}function Dt(We,et){return(bt(et)?et.asyncValidators:We)||null}function bt(We){return null!=We&&!Array.isArray(We)&&"object"==typeof We}function Nt(We,et,Ve){const yt=We.controls;if(!(et?Object.keys(yt):yt).length)throw new c.vHH(1e3,"");if(!yt[Ve])throw new c.vHH(1001,"")}function Zt(We,et,Ve){We._forEachChild((yt,Wt)=>{if(void 0===Ve[Wt])throw new c.vHH(1002,"")})}class wt{constructor(et,Ve){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(et),this._assignAsyncValidators(Ve)}get validator(){return this._composedValidatorFn}set validator(et){this._rawValidators=this._composedValidatorFn=et}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(et){this._rawAsyncValidators=this._composedAsyncValidatorFn=et}get parent(){return this._parent}get valid(){return this.status===dt}get invalid(){return this.status===xe}get pending(){return this.status==fe}get disabled(){return this.status===pe}get enabled(){return this.status!==pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(et){this._assignValidators(et)}setAsyncValidators(et){this._assignAsyncValidators(et)}addValidators(et){this.setValidators($(et,this._rawValidators))}addAsyncValidators(et){this.setAsyncValidators($(et,this._rawAsyncValidators))}removeValidators(et){this.setValidators(Z(et,this._rawValidators))}removeAsyncValidators(et){this.setAsyncValidators(Z(et,this._rawAsyncValidators))}hasValidator(et){return he(this._rawValidators,et)}hasAsyncValidator(et){return he(this._rawAsyncValidators,et)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(et={}){this.touched=!0,this._parent&&!et.onlySelf&&this._parent.markAsTouched(et)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(et=>et.markAllAsTouched())}markAsUntouched(et={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Ve=>{Ve.markAsUntouched({onlySelf:!0})}),this._parent&&!et.onlySelf&&this._parent._updateTouched(et)}markAsDirty(et={}){this.pristine=!1,this._parent&&!et.onlySelf&&this._parent.markAsDirty(et)}markAsPristine(et={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Ve=>{Ve.markAsPristine({onlySelf:!0})}),this._parent&&!et.onlySelf&&this._parent._updatePristine(et)}markAsPending(et={}){this.status=fe,!1!==et.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!et.onlySelf&&this._parent.markAsPending(et)}disable(et={}){const Ve=this._parentMarkedDirty(et.onlySelf);this.status=pe,this.errors=null,this._forEachChild(yt=>{yt.disable({...et,onlySelf:!0})}),this._updateValue(),!1!==et.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...et,skipPristineCheck:Ve}),this._onDisabledChange.forEach(yt=>yt(!0))}enable(et={}){const Ve=this._parentMarkedDirty(et.onlySelf);this.status=dt,this._forEachChild(yt=>{yt.enable({...et,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:et.emitEvent}),this._updateAncestors({...et,skipPristineCheck:Ve}),this._onDisabledChange.forEach(yt=>yt(!1))}_updateAncestors(et){this._parent&&!et.onlySelf&&(this._parent.updateValueAndValidity(et),et.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(et){this._parent=et}getRawValue(){return this.value}updateValueAndValidity(et={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dt||this.status===fe)&&this._runAsyncValidator(et.emitEvent)),!1!==et.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!et.onlySelf&&this._parent.updateValueAndValidity(et)}_updateTreeValidity(et={emitEvent:!0}){this._forEachChild(Ve=>Ve._updateTreeValidity(et)),this.updateValueAndValidity({onlySelf:!0,emitEvent:et.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pe:dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(et){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator=!0;const Ve=Me(this.asyncValidator(this));this._asyncValidationSubscription=Ve.subscribe(yt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(yt,{emitEvent:et})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(et,Ve={}){this.errors=et,this._updateControlsErrors(!1!==Ve.emitEvent)}get(et){let Ve=et;return null==Ve||(Array.isArray(Ve)||(Ve=Ve.split(".")),0===Ve.length)?null:Ve.reduce((yt,Wt)=>yt&&yt._find(Wt),this)}getError(et,Ve){const yt=Ve?this.get(Ve):this;return yt&&yt.errors?yt.errors[et]:null}hasError(et,Ve){return!!this.getError(et,Ve)}get root(){let et=this;for(;et._parent;)et=et._parent;return et}_updateControlsErrors(et){this.status=this._calculateStatus(),et&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(et)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?pe:this.errors?xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(xe)?xe:dt}_anyControlsHaveStatus(et){return this._anyControls(Ve=>Ve.status===et)}_anyControlsDirty(){return this._anyControls(et=>et.dirty)}_anyControlsTouched(){return this._anyControls(et=>et.touched)}_updatePristine(et={}){this.pristine=!this._anyControlsDirty(),this._parent&&!et.onlySelf&&this._parent._updatePristine(et)}_updateTouched(et={}){this.touched=this._anyControlsTouched(),this._parent&&!et.onlySelf&&this._parent._updateTouched(et)}_registerOnCollectionChange(et){this._onCollectionChange=et}_setUpdateStrategy(et){bt(et)&&null!=et.updateOn&&(this._updateOn=et.updateOn)}_parentMarkedDirty(et){return!et&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(et){return null}_assignValidators(et){this._rawValidators=Array.isArray(et)?et.slice():et,this._composedValidatorFn=function mt(We){return Array.isArray(We)?je(We):We||null}(this._rawValidators)}_assignAsyncValidators(et){this._rawAsyncValidators=Array.isArray(et)?et.slice():et,this._composedAsyncValidatorFn=function ut(We){return Array.isArray(We)?He(We):We||null}(this._rawAsyncValidators)}}class Ht extends wt{constructor(et,Ve,yt){super(at(Ve),Dt(yt,Ve)),this.controls=et,this._initObservables(),this._setUpdateStrategy(Ve),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(et,Ve){return this.controls[et]?this.controls[et]:(this.controls[et]=Ve,Ve.setParent(this),Ve._registerOnCollectionChange(this._onCollectionChange),Ve)}addControl(et,Ve,yt={}){this.registerControl(et,Ve),this.updateValueAndValidity({emitEvent:yt.emitEvent}),this._onCollectionChange()}removeControl(et,Ve={}){this.controls[et]&&this.controls[et]._registerOnCollectionChange(()=>{}),delete this.controls[et],this.updateValueAndValidity({emitEvent:Ve.emitEvent}),this._onCollectionChange()}setControl(et,Ve,yt={}){this.controls[et]&&this.controls[et]._registerOnCollectionChange(()=>{}),delete this.controls[et],Ve&&this.registerControl(et,Ve),this.updateValueAndValidity({emitEvent:yt.emitEvent}),this._onCollectionChange()}contains(et){return this.controls.hasOwnProperty(et)&&this.controls[et].enabled}setValue(et,Ve={}){Zt(this,0,et),Object.keys(et).forEach(yt=>{Nt(this,!0,yt),this.controls[yt].setValue(et[yt],{onlySelf:!0,emitEvent:Ve.emitEvent})}),this.updateValueAndValidity(Ve)}patchValue(et,Ve={}){null!=et&&(Object.keys(et).forEach(yt=>{const Wt=this.controls[yt];Wt&&Wt.patchValue(et[yt],{onlySelf:!0,emitEvent:Ve.emitEvent})}),this.updateValueAndValidity(Ve))}reset(et={},Ve={}){this._forEachChild((yt,Wt)=>{yt.reset(et[Wt],{onlySelf:!0,emitEvent:Ve.emitEvent})}),this._updatePristine(Ve),this._updateTouched(Ve),this.updateValueAndValidity(Ve)}getRawValue(){return this._reduceChildren({},(et,Ve,yt)=>(et[yt]=Ve.getRawValue(),et))}_syncPendingControls(){let et=this._reduceChildren(!1,(Ve,yt)=>!!yt._syncPendingControls()||Ve);return et&&this.updateValueAndValidity({onlySelf:!0}),et}_forEachChild(et){Object.keys(this.controls).forEach(Ve=>{const yt=this.controls[Ve];yt&&et(yt,Ve)})}_setUpControls(){this._forEachChild(et=>{et.setParent(this),et._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(et){for(const[Ve,yt]of Object.entries(this.controls))if(this.contains(Ve)&&et(yt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Ve,yt,Wt)=>((yt.enabled||this.disabled)&&(Ve[Wt]=yt.value),Ve))}_reduceChildren(et,Ve){let yt=et;return this._forEachChild((Wt,zn)=>{yt=Ve(yt,Wt,zn)}),yt}_allControlsDisabled(){for(const et of Object.keys(this.controls))if(this.controls[et].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(et){return this.controls.hasOwnProperty(et)?this.controls[et]:null}}class yn extends Ht{}const On=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>In}),In="always";function Jn(We,et){return[...et.path,We]}function fi(We,et,Ve=In){Xt(We,et),et.valueAccessor.writeValue(We.value),(We.disabled||"always"===Ve)&&et.valueAccessor.setDisabledState?.(We.disabled),function nt(We,et){et.valueAccessor.registerOnChange(Ve=>{We._pendingValue=Ve,We._pendingChange=!0,We._pendingDirty=!0,"change"===We.updateOn&&Yt(We,et)})}(We,et),function Vt(We,et){const Ve=(yt,Wt)=>{et.valueAccessor.writeValue(yt),Wt&&et.viewToModelUpdate(yt)};We.registerOnChange(Ve),et._registerOnDestroy(()=>{We._unregisterOnChange(Ve)})}(We,et),function Ct(We,et){et.valueAccessor.registerOnTouched(()=>{We._pendingTouched=!0,"blur"===We.updateOn&&We._pendingChange&&Yt(We,et),"submit"!==We.updateOn&&We.markAsTouched()})}(We,et),function st(We,et){if(et.valueAccessor.setDisabledState){const Ve=yt=>{et.valueAccessor.setDisabledState(yt)};We.registerOnDisabledChange(Ve),et._registerOnDestroy(()=>{We._unregisterOnDisabledChange(Ve)})}}(We,et)}function Ft(We,et,Ve=!0){const yt=()=>{};et.valueAccessor&&(et.valueAccessor.registerOnChange(yt),et.valueAccessor.registerOnTouched(yt)),Ke(We,et),We&&(et._invokeOnDestroyCallbacks(),We._registerOnCollectionChange(()=>{}))}function St(We,et){We.forEach(Ve=>{Ve.registerOnValidatorChange&&Ve.registerOnValidatorChange(et)})}function Xt(We,et){const Ve=be(We);null!==et.validator?We.setValidators(Ae(Ve,et.validator)):"function"==typeof Ve&&We.setValidators([Ve]);const yt=K(We);null!==et.asyncValidator?We.setAsyncValidators(Ae(yt,et.asyncValidator)):"function"==typeof yt&&We.setAsyncValidators([yt]);const Wt=()=>We.updateValueAndValidity();St(et._rawValidators,Wt),St(et._rawAsyncValidators,Wt)}function Ke(We,et){let Ve=!1;if(null!==We){if(null!==et.validator){const Wt=be(We);if(Array.isArray(Wt)&&Wt.length>0){const zn=Wt.filter(hi=>hi!==et.validator);zn.length!==Wt.length&&(Ve=!0,We.setValidators(zn))}}if(null!==et.asyncValidator){const Wt=K(We);if(Array.isArray(Wt)&&Wt.length>0){const zn=Wt.filter(hi=>hi!==et.asyncValidator);zn.length!==Wt.length&&(Ve=!0,We.setAsyncValidators(zn))}}}const yt=()=>{};return St(et._rawValidators,yt),St(et._rawAsyncValidators,yt),Ve}function Yt(We,et){We._pendingDirty&&We.markAsDirty(),We.setValue(We._pendingValue,{emitModelToViewChange:!1}),et.viewToModelUpdate(We._pendingValue),We._pendingChange=!1}function _n(We,et){Xt(We,et)}function ht(We,et){if(!We.hasOwnProperty("model"))return!1;const Ve=We.model;return!!Ve.isFirstChange()||!Object.is(et,Ve.currentValue)}function ve(We,et){We._syncPendingControls(),et.forEach(Ve=>{const yt=Ve.control;"submit"===yt.updateOn&&yt._pendingChange&&(Ve.viewToModelUpdate(yt._pendingValue),yt._pendingChange=!1)})}function lt(We,et){if(!et)return null;let Ve,yt,Wt;return Array.isArray(et),et.forEach(zn=>{zn.constructor===T?Ve=zn:function rn(We){return Object.getPrototypeOf(We.constructor)===U}(zn)?yt=zn:Wt=zn}),Wt||yt||Ve||null}const Kt={provide:X,useExisting:(0,c.Gpc)(()=>Ui)},vn=(()=>Promise.resolve())();let Ui=(()=>{class We extends X{constructor(Ve,yt,Wt){super(),this.callSetDisabledState=Wt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Ht({},je(Ve),He(yt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Ve){vn.then(()=>{const yt=this._findContainer(Ve.path);Ve.control=yt.registerControl(Ve.name,Ve.control),fi(Ve.control,Ve,this.callSetDisabledState),Ve.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Ve)})}getControl(Ve){return this.form.get(Ve.path)}removeControl(Ve){vn.then(()=>{const yt=this._findContainer(Ve.path);yt&&yt.removeControl(Ve.name),this._directives.delete(Ve)})}addFormGroup(Ve){vn.then(()=>{const yt=this._findContainer(Ve.path),Wt=new Ht({});_n(Wt,Ve),yt.registerControl(Ve.name,Wt),Wt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Ve){vn.then(()=>{const yt=this._findContainer(Ve.path);yt&&yt.removeControl(Ve.name)})}getFormGroup(Ve){return this.form.get(Ve.path)}updateModel(Ve,yt){vn.then(()=>{this.form.get(Ve.path).setValue(yt)})}setValue(Ve){this.control.setValue(Ve)}onSubmit(Ve){return this.submitted=!0,ve(this.form,this._directives),this.ngSubmit.emit(Ve),"dialog"===Ve?.target?.method}onReset(){this.resetForm()}resetForm(Ve=void 0){this.form.reset(Ve),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Ve){return Ve.pop(),Ve.length?this.form.get(Ve):this.form}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(B,10),c.Y36(Y,10),c.Y36(On,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("submit",function(hi){return Wt.onSubmit(hi)})("reset",function(){return Wt.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Kt]),c.qOj]})}return We})();function lr(We,et){const Ve=We.indexOf(et);Ve>-1&&We.splice(Ve,1)}function Si(We){return"object"==typeof We&&null!==We&&2===Object.keys(We).length&&"value"in We&&"disabled"in We}const ki=class extends wt{constructor(et=null,Ve,yt){super(at(Ve),Dt(yt,Ve)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(et),this._setUpdateStrategy(Ve),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bt(Ve)&&(Ve.nonNullable||Ve.initialValueIsDefault)&&(this.defaultValue=Si(et)?et.value:et)}setValue(et,Ve={}){this.value=this._pendingValue=et,this._onChange.length&&!1!==Ve.emitModelToViewChange&&this._onChange.forEach(yt=>yt(this.value,!1!==Ve.emitViewToModelChange)),this.updateValueAndValidity(Ve)}patchValue(et,Ve={}){this.setValue(et,Ve)}reset(et=this.defaultValue,Ve={}){this._applyFormState(et),this.markAsPristine(Ve),this.markAsUntouched(Ve),this.setValue(this.value,Ve),this._pendingChange=!1}_updateValue(){}_anyControls(et){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(et){this._onChange.push(et)}_unregisterOnChange(et){lr(this._onChange,et)}registerOnDisabledChange(et){this._onDisabledChange.push(et)}_unregisterOnDisabledChange(et){lr(this._onDisabledChange,et)}_forEachChild(et){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(et){Si(et)?(this.value=this._pendingValue=et.value,et.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=et}},Ho={provide:Q,useExisting:(0,c.Gpc)(()=>Qi)},io=(()=>Promise.resolve())();let Qi=(()=>{class We extends Q{constructor(Ve,yt,Wt,zn,hi,qr){super(),this._changeDetectorRef=hi,this.callSetDisabledState=qr,this.control=new ki,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=Ve,this._setValidators(yt),this._setAsyncValidators(Wt),this.valueAccessor=lt(0,zn)}ngOnChanges(Ve){if(this._checkForErrors(),!this._registered||"name"in Ve){if(this._registered&&(this._checkName(),this.formDirective)){const yt=Ve.name.previousValue;this.formDirective.removeControl({name:yt,path:this._getPath(yt)})}this._setUpControl()}"isDisabled"in Ve&&this._updateDisabled(Ve),ht(Ve,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Ve){this.viewModel=Ve,this.update.emit(Ve)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Ve){io.then(()=>{this.control.setValue(Ve,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Ve){const yt=Ve.isDisabled.currentValue,Wt=0!==yt&&(0,c.VuI)(yt);io.then(()=>{Wt&&!this.control.disabled?this.control.disable():!Wt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Ve){return this._parent?Jn(Ve,this._parent):[Ve]}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(X,9),c.Y36(B,10),c.Y36(Y,10),c.Y36(P,10),c.Y36(c.sBO,8),c.Y36(On,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Ho]),c.qOj,c.TTD]})}return We})(),Do=(()=>{class We{static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return We})();const Xi={provide:P,useExisting:(0,c.Gpc)(()=>li),multi:!0};let li=(()=>{class We extends U{writeValue(Ve){this.setProperty("value",Ve??"")}registerOnChange(Ve){this.onChange=yt=>{Ve(""==yt?null:parseFloat(yt))}}static#e=this.\u0275fac=function(){let Ve;return function(Wt){return(Ve||(Ve=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("input",function(hi){return Wt.onChange(hi.target.value)})("blur",function(){return Wt.onTouched()})},features:[c._Bn([Xi]),c.qOj]})}return We})(),Ni=(()=>{class We{static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({})}return We})();const jt=new c.OlP("NgModelWithFormControlWarning"),Ln={provide:X,useExisting:(0,c.Gpc)(()=>ti)};let ti=(()=>{class We extends X{constructor(Ve,yt,Wt){super(),this.callSetDisabledState=Wt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(Ve),this._setAsyncValidators(yt)}ngOnChanges(Ve){this._checkFormPresent(),Ve.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ke(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Ve){const yt=this.form.get(Ve.path);return fi(yt,Ve,this.callSetDisabledState),yt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Ve),yt}getControl(Ve){return this.form.get(Ve.path)}removeControl(Ve){Ft(Ve.control||null,Ve,!1),function it(We,et){const Ve=We.indexOf(et);Ve>-1&&We.splice(Ve,1)}(this.directives,Ve)}addFormGroup(Ve){this._setUpFormContainer(Ve)}removeFormGroup(Ve){this._cleanUpFormContainer(Ve)}getFormGroup(Ve){return this.form.get(Ve.path)}addFormArray(Ve){this._setUpFormContainer(Ve)}removeFormArray(Ve){this._cleanUpFormContainer(Ve)}getFormArray(Ve){return this.form.get(Ve.path)}updateModel(Ve,yt){this.form.get(Ve.path).setValue(yt)}onSubmit(Ve){return this.submitted=!0,ve(this.form,this.directives),this.ngSubmit.emit(Ve),"dialog"===Ve?.target?.method}onReset(){this.resetForm()}resetForm(Ve=void 0){this.form.reset(Ve),this.submitted=!1}_updateDomValue(){this.directives.forEach(Ve=>{const yt=Ve.control,Wt=this.form.get(Ve.path);yt!==Wt&&(Ft(yt||null,Ve),(We=>We instanceof ki)(Wt)&&(fi(Wt,Ve,this.callSetDisabledState),Ve.control=Wt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Ve){const yt=this.form.get(Ve.path);_n(yt,Ve),yt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Ve){if(this.form){const yt=this.form.get(Ve.path);yt&&function kt(We,et){return Ke(We,et)}(yt,Ve)&&yt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xt(this.form,this),this._oldForm&&Ke(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(B,10),c.Y36(Y,10),c.Y36(On,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","formGroup",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("submit",function(hi){return Wt.onSubmit(hi)})("reset",function(){return Wt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Ln]),c.qOj,c.TTD]})}return We})();const Pr={provide:Q,useExisting:(0,c.Gpc)(()=>hr)};let hr=(()=>{class We extends Q{set isDisabled(Ve){}static#e=this._ngModelWarningSentOnce=!1;constructor(Ve,yt,Wt,zn,hi){super(),this._ngModelWarningConfig=hi,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=Ve,this._setValidators(yt),this._setAsyncValidators(Wt),this.valueAccessor=lt(0,zn)}ngOnChanges(Ve){this._added||this._setUpControl(),ht(Ve,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Ve){this.viewModel=Ve,this.update.emit(Ve)}get path(){return Jn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(X,13),c.Y36(B,10),c.Y36(Y,10),c.Y36(P,10),c.Y36(jt,8))};static#n=this.\u0275dir=c.lG2({type:We,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Pr]),c.qOj,c.TTD]})}return We})();const Rs={provide:P,useExisting:(0,c.Gpc)(()=>fo),multi:!0};function ro(We,et){return null==We?`${et}`:(et&&"object"==typeof et&&(et="Object"),`${We}: ${et}`.slice(0,50))}let fo=(()=>{class We extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Ve){this._compareWith=Ve}writeValue(Ve){this.value=Ve;const Wt=ro(this._getOptionId(Ve),Ve);this.setProperty("value",Wt)}registerOnChange(Ve){this.onChange=yt=>{this.value=this._getOptionValue(yt),Ve(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Ve){for(const yt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(yt),Ve))return yt;return null}_getOptionValue(Ve){const yt=function Br(We){return We.split(":")[0]}(Ve);return this._optionMap.has(yt)?this._optionMap.get(yt):Ve}static#e=this.\u0275fac=function(){let Ve;return function(Wt){return(Ve||(Ve=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("change",function(hi){return Wt.onChange(hi.target.value)})("blur",function(){return Wt.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Rs]),c.qOj]})}return We})(),xo=(()=>{class We{constructor(Ve,yt,Wt){this._element=Ve,this._renderer=yt,this._select=Wt,this._select&&(this.id=this._select._registerOption())}set ngValue(Ve){null!=this._select&&(this._select._optionMap.set(this.id,Ve),this._setElementValue(ro(this.id,Ve)),this._select.writeValue(this._select.value))}set value(Ve){this._setElementValue(Ve),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Ve){this._renderer.setProperty(this._element.nativeElement,"value",Ve)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(fo,9))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return We})();const Ti={provide:P,useExisting:(0,c.Gpc)(()=>Gr),multi:!0};function Js(We,et){return null==We?`${et}`:("string"==typeof et&&(et=`'${et}'`),et&&"object"==typeof et&&(et="Object"),`${We}: ${et}`.slice(0,50))}let Gr=(()=>{class We extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Ve){this._compareWith=Ve}writeValue(Ve){let yt;if(this.value=Ve,Array.isArray(Ve)){const Wt=Ve.map(zn=>this._getOptionId(zn));yt=(zn,hi)=>{zn._setSelected(Wt.indexOf(hi.toString())>-1)}}else yt=(Wt,zn)=>{Wt._setSelected(!1)};this._optionMap.forEach(yt)}registerOnChange(Ve){this.onChange=yt=>{const Wt=[],zn=yt.selectedOptions;if(void 0!==zn){const hi=zn;for(let qr=0;qr<hi.length;qr++){const $o=this._getOptionValue(hi[qr].value);Wt.push($o)}}else{const hi=yt.options;for(let qr=0;qr<hi.length;qr++){const Yr=hi[qr];if(Yr.selected){const $o=this._getOptionValue(Yr.value);Wt.push($o)}}}this.value=Wt,Ve(Wt)}}_registerOption(Ve){const yt=(this._idCounter++).toString();return this._optionMap.set(yt,Ve),yt}_getOptionId(Ve){for(const yt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(yt)._value,Ve))return yt;return null}_getOptionValue(Ve){const yt=function hs(We){return We.split(":")[0]}(Ve);return this._optionMap.has(yt)?this._optionMap.get(yt)._value:Ve}static#e=this.\u0275fac=function(){let Ve;return function(Wt){return(Ve||(Ve=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(yt,Wt){1&yt&&c.NdJ("change",function(hi){return Wt.onChange(hi.target)})("blur",function(){return Wt.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Ti]),c.qOj]})}return We})(),ho=(()=>{class We{constructor(Ve,yt,Wt){this._element=Ve,this._renderer=yt,this._select=Wt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Ve){null!=this._select&&(this._value=Ve,this._setElementValue(Js(this.id,Ve)),this._select.writeValue(this._select.value))}set value(Ve){this._select?(this._value=Ve,this._setElementValue(Js(this.id,Ve)),this._select.writeValue(this._select.value)):this._setElementValue(Ve)}_setElementValue(Ve){this._renderer.setProperty(this._element.nativeElement,"value",Ve)}_setSelected(Ve){this._renderer.setProperty(this._element.nativeElement,"selected",Ve)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Gr,9))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return We})(),Wi=(()=>{class We{constructor(){this._validator=Ie}ngOnChanges(Ve){if(this.inputName in Ve){const yt=this.normalizeInput(Ve[this.inputName].currentValue);this._enabled=this.enabled(yt),this._validator=this._enabled?this.createValidator(yt):Ie,this._onChange&&this._onChange()}}validate(Ve){return this._validator(Ve)}registerOnValidatorChange(Ve){this._onChange=Ve}enabled(Ve){return null!=Ve}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275dir=c.lG2({type:We,features:[c.TTD]})}return We})();const cr={provide:B,useExisting:(0,c.Gpc)(()=>Gi),multi:!0},mo={provide:B,useExisting:(0,c.Gpc)(()=>go),multi:!0};let Gi=(()=>{class We extends Wi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=Ve=>oe}enabled(Ve){return Ve}static#e=this.\u0275fac=function(){let Ve;return function(Wt){return(Ve||(Ve=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(yt,Wt){2&yt&&c.uIk("required",Wt._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([cr]),c.qOj]})}return We})(),go=(()=>{class We extends Gi{constructor(){super(...arguments),this.createValidator=Ve=>H}static#e=this.\u0275fac=function(){let Ve;return function(Wt){return(Ve||(Ve=c.n5z(We)))(Wt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(yt,Wt){2&yt&&c.uIk("required",Wt._enabled?"":null)},features:[c._Bn([mo]),c.qOj]})}return We})(),Zo=(()=>{class We{static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({imports:[Ni]})}return We})();class Ls extends wt{constructor(et,Ve,yt){super(at(Ve),Dt(yt,Ve)),this.controls=et,this._initObservables(),this._setUpdateStrategy(Ve),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(et){return this.controls[this._adjustIndex(et)]}push(et,Ve={}){this.controls.push(et),this._registerControl(et),this.updateValueAndValidity({emitEvent:Ve.emitEvent}),this._onCollectionChange()}insert(et,Ve,yt={}){this.controls.splice(et,0,Ve),this._registerControl(Ve),this.updateValueAndValidity({emitEvent:yt.emitEvent})}removeAt(et,Ve={}){let yt=this._adjustIndex(et);yt<0&&(yt=0),this.controls[yt]&&this.controls[yt]._registerOnCollectionChange(()=>{}),this.controls.splice(yt,1),this.updateValueAndValidity({emitEvent:Ve.emitEvent})}setControl(et,Ve,yt={}){let Wt=this._adjustIndex(et);Wt<0&&(Wt=0),this.controls[Wt]&&this.controls[Wt]._registerOnCollectionChange(()=>{}),this.controls.splice(Wt,1),Ve&&(this.controls.splice(Wt,0,Ve),this._registerControl(Ve)),this.updateValueAndValidity({emitEvent:yt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(et,Ve={}){Zt(this,0,et),et.forEach((yt,Wt)=>{Nt(this,!1,Wt),this.at(Wt).setValue(yt,{onlySelf:!0,emitEvent:Ve.emitEvent})}),this.updateValueAndValidity(Ve)}patchValue(et,Ve={}){null!=et&&(et.forEach((yt,Wt)=>{this.at(Wt)&&this.at(Wt).patchValue(yt,{onlySelf:!0,emitEvent:Ve.emitEvent})}),this.updateValueAndValidity(Ve))}reset(et=[],Ve={}){this._forEachChild((yt,Wt)=>{yt.reset(et[Wt],{onlySelf:!0,emitEvent:Ve.emitEvent})}),this._updatePristine(Ve),this._updateTouched(Ve),this.updateValueAndValidity(Ve)}getRawValue(){return this.controls.map(et=>et.getRawValue())}clear(et={}){this.controls.length<1||(this._forEachChild(Ve=>Ve._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:et.emitEvent}))}_adjustIndex(et){return et<0?et+this.length:et}_syncPendingControls(){let et=this.controls.reduce((Ve,yt)=>!!yt._syncPendingControls()||Ve,!1);return et&&this.updateValueAndValidity({onlySelf:!0}),et}_forEachChild(et){this.controls.forEach((Ve,yt)=>{et(Ve,yt)})}_updateValue(){this.value=this.controls.filter(et=>et.enabled||this.disabled).map(et=>et.value)}_anyControls(et){return this.controls.some(Ve=>Ve.enabled&&et(Ve))}_setUpControls(){this._forEachChild(et=>this._registerControl(et))}_allControlsDisabled(){for(const et of this.controls)if(et.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(et){et.setParent(this),et._registerOnCollectionChange(this._onCollectionChange)}_find(et){return this.at(et)??null}}function gs(We){return!!We&&(void 0!==We.asyncValidators||void 0!==We.validators||void 0!==We.updateOn)}let Ur=(()=>{class We{constructor(){this.useNonNullable=!1}get nonNullable(){const Ve=new We;return Ve.useNonNullable=!0,Ve}group(Ve,yt=null){const Wt=this._reduceControls(Ve);let zn={};return gs(yt)?zn=yt:null!==yt&&(zn.validators=yt.validator,zn.asyncValidators=yt.asyncValidator),new Ht(Wt,zn)}record(Ve,yt=null){const Wt=this._reduceControls(Ve);return new yn(Wt,yt)}control(Ve,yt,Wt){let zn={};return this.useNonNullable?(gs(yt)?zn=yt:(zn.validators=yt,zn.asyncValidators=Wt),new ki(Ve,{...zn,nonNullable:!0})):new ki(Ve,yt,Wt)}array(Ve,yt,Wt){const zn=Ve.map(hi=>this._createControl(hi));return new Ls(zn,yt,Wt)}_reduceControls(Ve){const yt={};return Object.keys(Ve).forEach(Wt=>{yt[Wt]=this._createControl(Ve[Wt])}),yt}_createControl(Ve){return Ve instanceof ki||Ve instanceof wt?Ve:Array.isArray(Ve)?this.control(Ve[0],Ve.length>1?Ve[1]:null,Ve.length>2?Ve[2]:null):this.control(Ve)}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275prov=c.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),Pi=(()=>{class We{static withConfig(Ve){return{ngModule:We,providers:[{provide:On,useValue:Ve.callSetDisabledState??In}]}}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({imports:[Zo]})}return We})(),Jt=(()=>{class We{static withConfig(Ve){return{ngModule:We,providers:[{provide:jt,useValue:Ve.warnOnNgModelWithFormControl??"always"},{provide:On,useValue:Ve.callSetDisabledState??In}]}}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({imports:[Zo]})}return We})()},2296:(wn,Ze,C)=>{"use strict";C.d(Ze,{RK:()=>_e,lW:()=>oe,ot:()=>Pe});var c=C(2831),t=C(5879),E=C(4300),O=C(3680),b=C(6814);const F=["mat-button",""],L=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],x=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],U=["mat-icon-button",""],P=["*"],k={capture:!0},R=["focus","click","mouseenter","touchstart"],D="mat-button-ripple-uninitialized";let I=(()=>{class Oe{constructor(){this._document=(0,t.f3M)(b.K0,{optional:!0}),this._animationMode=(0,t.f3M)(t.QbO,{optional:!0}),this._globalRippleOptions=(0,t.f3M)(O.Y2,{optional:!0}),this._platform=(0,t.f3M)(c.t4),this._ngZone=(0,t.f3M)(t.R0b),this._onInteraction=ze=>{if(ze.target===this._document)return;const Ae=ze.target.closest(`[${D}]`);Ae&&(Ae.removeAttribute(D),this._appendRipple(Ae))},this._ngZone.runOutsideAngular(()=>{for(const ze of R)this._document?.addEventListener(ze,this._onInteraction,k)})}ngOnDestroy(){for(const ze of R)this._document?.removeEventListener(ze,this._onInteraction,k)}_appendRipple(ze){if(!this._document)return;const He=this._document.createElement("span");He.classList.add("mat-mdc-button-ripple");const Ae=new T(ze,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Ae.rippleConfig.centered=ze.hasAttribute("mat-icon-button"),new O.IR(Ae,this._ngZone,He,this._platform).setupTriggerEvents(ze),ze.append(He)}_createMatRipple(ze){if(!this._document)return;ze.querySelector(".mat-mdc-button-ripple")?.remove(),ze.removeAttribute(D);const He=this._document.createElement("span");He.classList.add("mat-mdc-button-ripple");const Ae=new O.wG(new t.SBq(He),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ae._isInitialized=!0,Ae.trigger=ze,ze.append(He),Ae}static#e=this.\u0275fac=function(He){return new(He||Oe)};static#t=this.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})();class T{constructor(je,ze,He){this._button=je,this._globalRippleOptions=ze,this._setRippleConfig(ze,He)}_setRippleConfig(je,ze){this.rippleConfig=je||{},"NoopAnimations"===ze&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Y=(0,O.pj)((0,O.Id)((0,O.Kr)(class{constructor(Oe){this._elementRef=Oe}})));let re=(()=>{class Oe extends Y{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(ze){this._ripple=ze}constructor(ze,He,Ae,be){super(ze),this._platform=He,this._ngZone=Ae,this._animationMode=be,this._focusMonitor=(0,t.f3M)(E.tE),this._rippleLoader=(0,t.f3M)(I),this._isFab=!1;const K=ze.nativeElement.classList;for(const ie of B)this._hasHostAttributes(ie.selector)&&ie.mdcClasses.forEach(he=>{K.add(he)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ze="program",He){ze?this._focusMonitor.focusVia(this._elementRef.nativeElement,ze,He):this._elementRef.nativeElement.focus(He)}_hasHostAttributes(...ze){return ze.some(He=>this._elementRef.nativeElement.hasAttribute(He))}static#e=this.\u0275fac=function(He){t.$Z()};static#t=this.\u0275dir=t.lG2({type:Oe,features:[t.qOj,t.TTD]})}return Oe})(),oe=(()=>{class Oe extends re{constructor(ze,He,Ae,be){super(ze,He,Ae,be)}static#e=this.\u0275fac=function(He){return new(He||Oe)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Oe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(He,Ae){2&He&&(t.uIk("disabled",Ae.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ae._animationMode)("mat-unthemed",!Ae.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:F,ngContentSelectors:x,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(He,Ae){1&He&&(t.F$t(L),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)),2&He&&t.ekj("mdc-button__ripple",!Ae._isFab)("mdc-fab__ripple",Ae._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),_e=(()=>{class Oe extends re{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(ze,He,Ae,be){super(ze,He,Ae,be)}static#e=this.\u0275fac=function(He){return new(He||Oe)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Oe,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(He,Ae){2&He&&(t.uIk("disabled",Ae.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ae._animationMode)("mat-unthemed",!Ae.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:U,ngContentSelectors:P,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(He,Ae){1&He&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),Pe=(()=>{class Oe{static#e=this.\u0275fac=function(He){return new(He||Oe)};static#t=this.\u0275mod=t.oAB({type:Oe});static#n=this.\u0275inj=t.cJS({imports:[O.BQ,O.si,O.BQ]})}return Oe})()},5986:(wn,Ze,C)=>{"use strict";C.d(Ze,{oG:()=>V,p9:()=>I});var c=C(5879),t=C(95),E=C(3680),O=C(2495);const b=["input"],F=["label"],L=["*"],x=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:g});function g(){return{color:"accent",clickAction:"check-indeterminate"}}const h={provide:t.JU,useExisting:(0,c.Gpc)(()=>V),multi:!0};class p{}let y=0;const A=g(),U=(0,E.sb)((0,E.pj)((0,E.Kr)((0,E.Id)(class{constructor(T){this._elementRef=T}}))));let P=(()=>{class T extends U{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(S){this._required=(0,O.Ig)(S)}constructor(S,B,Y,re,se,Re,z){super(B),this._changeDetectorRef=Y,this._ngZone=re,this._animationMode=Re,this._options=z,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||A,this.color=this.defaultColor=this._options.color||A.color,this.tabIndex=parseInt(se)||0,this.id=this._uniqueId=`${S}${++y}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(S){const B=(0,O.Ig)(S);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(S){const B=(0,O.Ig)(S);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(S){const B=S!=this._indeterminate;this._indeterminate=(0,O.Ig)(S),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(S){this.checked=!!S}registerOnChange(S){this._controlValueAccessorChangeFn=S}registerOnTouched(S){this._onTouched=S}setDisabledState(S){this.disabled=S}_transitionCheckState(S){let B=this._currentCheckState,Y=this._getAnimationTargetElement();if(B!==S&&Y&&(this._currentAnimationClass&&Y.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,S),this._currentCheckState=S,this._currentAnimationClass.length>0)){Y.classList.add(this._currentAnimationClass);const re=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Y.classList.remove(re)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const S=this._options?.clickAction;this.disabled||"noop"===S?!this.disabled&&"noop"===S&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==S&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(S){S.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(S,B){if("NoopAnimations"===this._animationMode)return"";switch(S){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(S){const B=this._inputElement;B&&(B.nativeElement.indeterminate=S)}static#e=this.\u0275fac=function(B){c.$Z()};static#t=this.\u0275dir=c.lG2({type:T,viewQuery:function(B,Y){if(1&B&&(c.Gf(b,5),c.Gf(F,5),c.Gf(E.wG,5)),2&B){let re;c.iGM(re=c.CRH())&&(Y._inputElement=re.first),c.iGM(re=c.CRH())&&(Y._labelElement=re.first),c.iGM(re=c.CRH())&&(Y.ripple=re.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[c.qOj]})}return T})(),V=(()=>{class T extends P{constructor(S,B,Y,re,se,Re){super("mat-mdc-checkbox-",S,B,Y,re,se,Re),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(S){const B=new p;return B.source=this,B.checked=S,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(S){S.target&&this._labelElement.nativeElement.contains(S.target)&&S.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||T)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(c.QbO,8),c.Y36(x,8))};static#t=this.\u0275cmp=c.Xpm({type:T,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,Y){2&B&&(c.Ikx("id",Y.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("_mat-animation-noopable","NoopAnimations"===Y._animationMode)("mdc-checkbox--disabled",Y.disabled)("mat-mdc-checkbox-disabled",Y.disabled)("mat-mdc-checkbox-checked",Y.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[c._Bn([h]),c.qOj],ngContentSelectors:L,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,Y){if(1&B&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(se){return Y._preventBubblingFromLabel(se)}),c.TgZ(1,"div",1,2)(3,"div",3),c.NdJ("click",function(){return Y._onTouchTargetClick()}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("blur",function(){return Y._onBlur()})("click",function(){return Y._onInputClick()})("change",function(se){return Y._onInteractionEvent(se)}),c.qZA(),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c._UZ(10,"div",10),c.qZA(),c._UZ(11,"div",11),c.qZA(),c.TgZ(12,"label",12,13),c.Hsn(14),c.qZA()()),2&B){const re=c.MAs(2);c.ekj("mdc-form-field--align-end","before"==Y.labelPosition),c.xp6(4),c.ekj("mdc-checkbox--selected",Y.checked),c.Q6J("checked",Y.checked)("indeterminate",Y.indeterminate)("disabled",Y.disabled)("id",Y.inputId)("required",Y.required)("tabIndex",Y.tabIndex),c.uIk("aria-label",Y.ariaLabel||null)("aria-labelledby",Y.ariaLabelledby)("aria-describedby",Y.ariaDescribedby)("name",Y.name)("value",Y.value),c.xp6(7),c.Q6J("matRippleTrigger",re)("matRippleDisabled",Y.disableRipple||Y.disabled)("matRippleCentered",!0),c.xp6(1),c.Q6J("for",Y.inputId)}},dependencies:[E.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return T})(),D=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({})}return T})(),I=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({imports:[E.BQ,E.si,D,E.BQ,D]})}return T})()},3680:(wn,Ze,C)=>{"use strict";C.d(Ze,{yN:()=>I,mZ:()=>T,_A:()=>Ie,rD:()=>ze,sG:()=>le,K7:()=>Ot,HF:()=>$e,Y2:()=>ge,BQ:()=>B,XK:()=>Oe,ey:()=>Qt,Ng:()=>jn,wG:()=>ce,si:()=>Ce,IR:()=>J,CB:()=>dn,jH:()=>gn,pj:()=>z,Kr:()=>oe,Id:()=>Re,FD:()=>me,dB:()=>ne,sb:()=>H});var c=C(5879),t=C(4300),E=C(9388),b=C(6814),F=C(2831),L=C(2495),x=C(5592),g=C(8645),h=C(6028);const A=["text"];function U(ot,dt){if(1&ot&&c._UZ(0,"mat-pseudo-checkbox",6),2&ot){const xe=c.oxw();c.Q6J("disabled",xe.disabled)("state",xe.selected?"checked":"unchecked")}}function P(ot,dt){if(1&ot&&c._UZ(0,"mat-pseudo-checkbox",7),2&ot){const xe=c.oxw();c.Q6J("disabled",xe.disabled)}}function V(ot,dt){if(1&ot&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&ot){const xe=c.oxw();c.xp6(1),c.hij("(",xe.group.label,")")}}const k=[[["mat-icon"]],"*"],R=["mat-icon","*"];let I=(()=>{class ot{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return ot})(),T=(()=>{class ot{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return ot})();const S=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function N(){return!0}});let B=(()=>{class ot{constructor(xe,fe,pe){this._sanityChecks=fe,this._document=pe,this._hasDoneGlobalChecks=!1,xe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(xe){return!(0,F.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[xe])}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.LFG(t.qm),c.LFG(S,8),c.LFG(b.K0))};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({imports:[E.vT,E.vT]})}return ot})();function Re(ot){return class extends ot{get disabled(){return this._disabled}set disabled(dt){this._disabled=(0,L.Ig)(dt)}constructor(...dt){super(...dt),this._disabled=!1}}}function z(ot,dt){return class extends ot{get color(){return this._color}set color(xe){const fe=xe||this.defaultColor;fe!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),fe&&this._elementRef.nativeElement.classList.add(`mat-${fe}`),this._color=fe)}constructor(...xe){super(...xe),this.defaultColor=dt,this.color=dt}}}function oe(ot){return class extends ot{get disableRipple(){return this._disableRipple}set disableRipple(dt){this._disableRipple=(0,L.Ig)(dt)}constructor(...dt){super(...dt),this._disableRipple=!1}}}function H(ot,dt=0){return class extends ot{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(xe){this._tabIndex=null!=xe?(0,L.su)(xe):this.defaultTabIndex}constructor(...xe){super(...xe),this._tabIndex=dt,this.defaultTabIndex=dt}}}function me(ot){return class extends ot{updateErrorState(){const dt=this.errorState,at=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);at!==dt&&(this.errorState=at,this.stateChanges.next())}constructor(...dt){super(...dt),this.errorState=!1}}}function ne(ot){return class extends ot{constructor(...dt){super(...dt),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new x.y(xe=>{this._isInitialized?this._notifySubscriber(xe):this._pendingSubscribers.push(xe)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(dt){dt.next(),dt.complete()}}}const ue=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Se(){return(0,c.f3M)(c.soG)}});class Ie{constructor(){this._localeChanges=new g.x,this.localeChanges=this._localeChanges}getValidDateOrNull(dt){return this.isDateInstance(dt)&&this.isValid(dt)?dt:null}deserialize(dt){return null==dt||this.isDateInstance(dt)&&this.isValid(dt)?dt:this.invalid()}setLocale(dt){this.locale=dt,this._localeChanges.next()}compareDate(dt,xe){return this.getYear(dt)-this.getYear(xe)||this.getMonth(dt)-this.getMonth(xe)||this.getDate(dt)-this.getDate(xe)}sameDate(dt,xe){if(dt&&xe){let fe=this.isValid(dt),pe=this.isValid(xe);return fe&&pe?!this.compareDate(dt,xe):fe==pe}return dt==xe}clampDate(dt,xe,fe){return xe&&this.compareDate(dt,xe)<0?xe:fe&&this.compareDate(dt,fe)>0?fe:dt}}const le=new c.OlP("mat-date-formats"),Me=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function we(ot,dt){const xe=Array(ot);for(let fe=0;fe<ot;fe++)xe[fe]=dt(fe);return xe}let _e=(()=>{class ot extends Ie{constructor(xe,fe){super(),this.useUtcForDisplay=!1,super.setLocale(xe)}getYear(xe){return xe.getFullYear()}getMonth(xe){return xe.getMonth()}getDate(xe){return xe.getDate()}getDayOfWeek(xe){return xe.getDay()}getMonthNames(xe){const fe=new Intl.DateTimeFormat(this.locale,{month:xe,timeZone:"utc"});return we(12,pe=>this._format(fe,new Date(2017,pe,1)))}getDateNames(){const xe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return we(31,fe=>this._format(xe,new Date(2017,0,fe+1)))}getDayOfWeekNames(xe){const fe=new Intl.DateTimeFormat(this.locale,{weekday:xe,timeZone:"utc"});return we(7,pe=>this._format(fe,new Date(2017,0,pe+1)))}getYearName(xe){const fe=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(fe,xe)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(xe){return this.getDate(this._createDateWithOverflow(this.getYear(xe),this.getMonth(xe)+1,0))}clone(xe){return new Date(xe.getTime())}createDate(xe,fe,pe){let at=this._createDateWithOverflow(xe,fe,pe);return at.getMonth(),at}today(){return new Date}parse(xe,fe){return"number"==typeof xe?new Date(xe):xe?new Date(Date.parse(xe)):null}format(xe,fe){if(!this.isValid(xe))throw Error("NativeDateAdapter: Cannot format invalid date.");const pe=new Intl.DateTimeFormat(this.locale,{...fe,timeZone:"utc"});return this._format(pe,xe)}addCalendarYears(xe,fe){return this.addCalendarMonths(xe,12*fe)}addCalendarMonths(xe,fe){let pe=this._createDateWithOverflow(this.getYear(xe),this.getMonth(xe)+fe,this.getDate(xe));return this.getMonth(pe)!=((this.getMonth(xe)+fe)%12+12)%12&&(pe=this._createDateWithOverflow(this.getYear(pe),this.getMonth(pe),0)),pe}addCalendarDays(xe,fe){return this._createDateWithOverflow(this.getYear(xe),this.getMonth(xe),this.getDate(xe)+fe)}toIso8601(xe){return[xe.getUTCFullYear(),this._2digit(xe.getUTCMonth()+1),this._2digit(xe.getUTCDate())].join("-")}deserialize(xe){if("string"==typeof xe){if(!xe)return null;if(Me.test(xe)){let fe=new Date(xe);if(this.isValid(fe))return fe}}return super.deserialize(xe)}isDateInstance(xe){return xe instanceof Date}isValid(xe){return!isNaN(xe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(xe,fe,pe){const at=new Date;return at.setFullYear(xe,fe,pe),at.setHours(0,0,0,0),at}_2digit(xe){return("00"+xe).slice(-2)}_format(xe,fe){const pe=new Date;return pe.setUTCFullYear(fe.getFullYear(),fe.getMonth(),fe.getDate()),pe.setUTCHours(fe.getHours(),fe.getMinutes(),fe.getSeconds(),fe.getMilliseconds()),xe.format(pe)}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.LFG(ue,8),c.LFG(F.t4))};static#t=this.\u0275prov=c.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const Le={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Pe=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({providers:[{provide:Ie,useClass:_e}]})}return ot})(),Oe=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({providers:[{provide:le,useValue:Le}],imports:[Pe]})}return ot})(),ze=(()=>{class ot{isErrorState(xe,fe){return!!(xe&&xe.invalid&&(xe.touched||fe&&fe.submitted))}static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275prov=c.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();class ie{constructor(dt,xe,fe,pe=!1){this._renderer=dt,this.element=xe,this.config=fe,this._animationForciblyDisabledThroughCss=pe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const he=(0,F.i$)({passive:!0,capture:!0});class ${constructor(){this._events=new Map,this._delegateEventHandler=dt=>{const xe=(0,F.sA)(dt);xe&&this._events.get(dt.type)?.forEach((fe,pe)=>{(pe===xe||pe.contains(xe))&&fe.forEach(at=>at.handleEvent(dt))})}}addHandler(dt,xe,fe,pe){const at=this._events.get(xe);if(at){const mt=at.get(fe);mt?mt.add(pe):at.set(fe,new Set([pe]))}else this._events.set(xe,new Map([[fe,new Set([pe])]])),dt.runOutsideAngular(()=>{document.addEventListener(xe,this._delegateEventHandler,he)})}removeHandler(dt,xe,fe){const pe=this._events.get(dt);if(!pe)return;const at=pe.get(xe);at&&(at.delete(fe),0===at.size&&pe.delete(xe),0===pe.size&&(this._events.delete(dt),document.removeEventListener(dt,this._delegateEventHandler,he)))}}const Z={enterDuration:225,exitDuration:150},X=(0,F.i$)({passive:!0,capture:!0}),Q=["mousedown","touchstart"],q=["mouseup","mouseleave","touchend","touchcancel"];class J{static#e=this._eventManager=new $;constructor(dt,xe,fe,pe){this._target=dt,this._ngZone=xe,this._platform=pe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,pe.isBrowser&&(this._containerElement=(0,L.fI)(fe))}fadeInRipple(dt,xe,fe={}){const pe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),at={...Z,...fe.animation};fe.centered&&(dt=pe.left+pe.width/2,xe=pe.top+pe.height/2);const mt=fe.radius||function de(ot,dt,xe){const fe=Math.max(Math.abs(ot-xe.left),Math.abs(ot-xe.right)),pe=Math.max(Math.abs(dt-xe.top),Math.abs(dt-xe.bottom));return Math.sqrt(fe*fe+pe*pe)}(dt,xe,pe),Dt=dt-pe.left,ut=xe-pe.top,bt=at.enterDuration,Nt=document.createElement("div");Nt.classList.add("mat-ripple-element"),Nt.style.left=Dt-mt+"px",Nt.style.top=ut-mt+"px",Nt.style.height=2*mt+"px",Nt.style.width=2*mt+"px",null!=fe.color&&(Nt.style.backgroundColor=fe.color),Nt.style.transitionDuration=`${bt}ms`,this._containerElement.appendChild(Nt);const Zt=window.getComputedStyle(Nt),Ht=Zt.transitionDuration,en="none"===Zt.transitionProperty||"0s"===Ht||"0s, 0s"===Ht||0===pe.width&&0===pe.height,tn=new ie(this,Nt,fe,en);Nt.style.transform="scale3d(1, 1, 1)",tn.state=0,fe.persistent||(this._mostRecentTransientRipple=tn);let yn=null;return!en&&(bt||at.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Tn=()=>this._finishRippleTransition(tn),On=()=>this._destroyRipple(tn);Nt.addEventListener("transitionend",Tn),Nt.addEventListener("transitioncancel",On),yn={onTransitionEnd:Tn,onTransitionCancel:On}}),this._activeRipples.set(tn,yn),(en||!bt)&&this._finishRippleTransition(tn),tn}fadeOutRipple(dt){if(2===dt.state||3===dt.state)return;const xe=dt.element,fe={...Z,...dt.config.animation};xe.style.transitionDuration=`${fe.exitDuration}ms`,xe.style.opacity="0",dt.state=2,(dt._animationForciblyDisabledThroughCss||!fe.exitDuration)&&this._finishRippleTransition(dt)}fadeOutAll(){this._getActiveRipples().forEach(dt=>dt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(dt=>{dt.config.persistent||dt.fadeOut()})}setupTriggerEvents(dt){const xe=(0,L.fI)(dt);!this._platform.isBrowser||!xe||xe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=xe,Q.forEach(fe=>{J._eventManager.addHandler(this._ngZone,fe,xe,this)}))}handleEvent(dt){"mousedown"===dt.type?this._onMousedown(dt):"touchstart"===dt.type?this._onTouchStart(dt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{q.forEach(xe=>{this._triggerElement.addEventListener(xe,this,X)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(dt){0===dt.state?this._startFadeOutTransition(dt):2===dt.state&&this._destroyRipple(dt)}_startFadeOutTransition(dt){const xe=dt===this._mostRecentTransientRipple,{persistent:fe}=dt.config;dt.state=1,!fe&&(!xe||!this._isPointerDown)&&dt.fadeOut()}_destroyRipple(dt){const xe=this._activeRipples.get(dt)??null;this._activeRipples.delete(dt),this._activeRipples.size||(this._containerRect=null),dt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),dt.state=3,null!==xe&&(dt.element.removeEventListener("transitionend",xe.onTransitionEnd),dt.element.removeEventListener("transitioncancel",xe.onTransitionCancel)),dt.element.remove()}_onMousedown(dt){const xe=(0,t.X6)(dt),fe=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!xe&&!fe&&(this._isPointerDown=!0,this.fadeInRipple(dt.clientX,dt.clientY,this._target.rippleConfig))}_onTouchStart(dt){if(!this._target.rippleDisabled&&!(0,t.yG)(dt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const xe=dt.changedTouches;if(xe)for(let fe=0;fe<xe.length;fe++)this.fadeInRipple(xe[fe].clientX,xe[fe].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(dt=>{!dt.config.persistent&&(1===dt.state||dt.config.terminateOnPointerUp&&0===dt.state)&&dt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const dt=this._triggerElement;dt&&(Q.forEach(xe=>J._eventManager.removeHandler(xe,dt,this)),this._pointerUpEventsRegistered&&q.forEach(xe=>dt.removeEventListener(xe,this,X)))}}const ge=new c.OlP("mat-ripple-global-options");let ce=(()=>{class ot{get disabled(){return this._disabled}set disabled(xe){xe&&this.fadeOutAllNonPersistent(),this._disabled=xe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(xe){this._trigger=xe,this._setupTriggerEventsIfEnabled()}constructor(xe,fe,pe,at,mt){this._elementRef=xe,this._animationMode=mt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=at||{},this._rippleRenderer=new J(this,fe,xe,pe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(xe,fe=0,pe){return"number"==typeof xe?this._rippleRenderer.fadeInRipple(xe,fe,{...this.rippleConfig,...pe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...xe})}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(F.t4),c.Y36(ge,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(fe,pe){2&fe&&c.ekj("mat-ripple-unbounded",pe.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return ot})(),Ce=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({imports:[B,B]})}return ot})(),Ye=(()=>{class ot{constructor(xe){this._animationMode=xe,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:ot,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(fe,pe){2&fe&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===pe.state)("mat-pseudo-checkbox-checked","checked"===pe.state)("mat-pseudo-checkbox-disabled",pe.disabled)("mat-pseudo-checkbox-minimal","minimal"===pe.appearance)("mat-pseudo-checkbox-full","full"===pe.appearance)("_mat-animation-noopable","NoopAnimations"===pe._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(fe,pe){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return ot})(),Be=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({imports:[B]})}return ot})();const $e=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),Ot=new c.OlP("MatOptgroup");let Rt=0;class Gt{constructor(dt,xe=!1){this.source=dt,this.isUserInput=xe}}let $t=(()=>{class ot{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(xe){this._disabled=(0,L.Ig)(xe)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(xe,fe,pe,at){this._element=xe,this._changeDetectorRef=fe,this._parent=pe,this.group=at,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Rt++,this.onSelectionChange=new c.vpe,this._stateChanges=new g.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(xe=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),xe&&this._emitSelectionChangeEvent())}deselect(xe=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),xe&&this._emitSelectionChangeEvent())}focus(xe,fe){const pe=this._getHostElement();"function"==typeof pe.focus&&pe.focus(fe)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(xe){(xe.keyCode===h.K5||xe.keyCode===h.L_)&&!(0,h.Vb)(xe)&&(this._selectViaInteraction(),xe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const xe=this.viewValue;xe!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=xe)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(xe=!1){this.onSelectionChange.emit(new Gt(this,xe))}static#e=this.\u0275fac=function(fe){c.$Z()};static#t=this.\u0275dir=c.lG2({type:ot,viewQuery:function(fe,pe){if(1&fe&&c.Gf(A,7),2&fe){let at;c.iGM(at=c.CRH())&&(pe._text=at.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return ot})(),Qt=(()=>{class ot extends $t{constructor(xe,fe,pe,at){super(xe,fe,pe,at)}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36($e,8),c.Y36(Ot,8))};static#t=this.\u0275cmp=c.Xpm({type:ot,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(fe,pe){1&fe&&c.NdJ("click",function(){return pe._selectViaInteraction()})("keydown",function(mt){return pe._handleKeydown(mt)}),2&fe&&(c.Ikx("id",pe.id),c.uIk("aria-selected",pe.selected)("aria-disabled",pe.disabled.toString()),c.ekj("mdc-list-item--selected",pe.selected)("mat-mdc-option-multiple",pe.multiple)("mat-mdc-option-active",pe.active)("mdc-list-item--disabled",pe.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:R,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(fe,pe){1&fe&&(c.F$t(k),c.YNc(0,U,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,P,1,1,"mat-pseudo-checkbox",3),c.YNc(6,V,2,1,"span",4),c._UZ(7,"div",5)),2&fe&&(c.Q6J("ngIf",pe.multiple),c.xp6(5),c.Q6J("ngIf",!pe.multiple&&pe.selected&&!pe.hideSingleSelectionIndicator),c.xp6(1),c.Q6J("ngIf",pe.group&&pe.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",pe._getHostElement())("matRippleDisabled",pe.disabled||pe.disableRipple))},dependencies:[ce,b.O5,Ye],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ot})();function dn(ot,dt,xe){if(xe.length){let fe=dt.toArray(),pe=xe.toArray(),at=0;for(let mt=0;mt<ot+1;mt++)fe[mt].group&&fe[mt].group===pe[at]&&at++;return at}return 0}function gn(ot,dt,xe,fe){return ot<xe?ot:ot+dt>xe+fe?Math.max(0,ot-fe+dt):xe}let jn=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({imports:[Ce,b.ez,B,Be]})}return ot})()},8034:(wn,Ze,C)=>{"use strict";C.d(Ze,{FA:()=>Bn,Mq:()=>wt,hl:()=>On,nW:()=>Jn});var c=C(4300),t=C(3651),E=C(8484),O=C(6814),b=C(5879),F=C(2296),L=C(799),x=C(3680),g=C(8645),h=C(7394),p=C(3019),y=C(2096),A=C(6028),U=C(9388),P=C(2831),V=C(8180),k=C(7921),R=C(2181),D=C(2495),I=C(6825),T=C(95),N=C(9157),S=C(2032);const B=["mat-calendar-body",""];function Y(ht,rn){if(1&ht&&(b.TgZ(0,"tr",3)(1,"td",4),b._uU(2),b.qZA()()),2&ht){const ve=b.oxw();b.xp6(1),b.Udp("padding-top",ve._cellPadding)("padding-bottom",ve._cellPadding),b.uIk("colspan",ve.numCols),b.xp6(1),b.hij(" ",ve.label," ")}}function re(ht,rn){if(1&ht&&(b.TgZ(0,"td",4),b._uU(1),b.qZA()),2&ht){const ve=b.oxw(2);b.Udp("padding-top",ve._cellPadding)("padding-bottom",ve._cellPadding),b.uIk("colspan",ve._firstRowOffset),b.xp6(1),b.hij(" ",ve._firstRowOffset>=ve.labelMinRequiredCells?ve.label:""," ")}}function se(ht,rn){if(1&ht){const ve=b.EpF();b.TgZ(0,"td",8)(1,"button",9),b.NdJ("click",function(it){const Kt=b.CHM(ve).$implicit,vn=b.oxw(2);return b.KtG(vn._cellClicked(Kt,it))})("focus",function(it){const Kt=b.CHM(ve).$implicit,vn=b.oxw(2);return b.KtG(vn._emitActiveDateChange(Kt,it))}),b.TgZ(2,"span",10),b._uU(3),b.qZA(),b._UZ(4,"span",11),b.qZA()()}if(2&ht){const ve=rn.$implicit,lt=rn.index,it=b.oxw().index,At=b.oxw();b.Udp("width",At._cellWidth)("padding-top",At._cellPadding)("padding-bottom",At._cellPadding),b.uIk("data-mat-row",it)("data-mat-col",lt),b.xp6(1),b.ekj("mat-calendar-body-disabled",!ve.enabled)("mat-calendar-body-active",At._isActiveCell(it,lt))("mat-calendar-body-range-start",At._isRangeStart(ve.compareValue))("mat-calendar-body-range-end",At._isRangeEnd(ve.compareValue))("mat-calendar-body-in-range",At._isInRange(ve.compareValue))("mat-calendar-body-comparison-bridge-start",At._isComparisonBridgeStart(ve.compareValue,it,lt))("mat-calendar-body-comparison-bridge-end",At._isComparisonBridgeEnd(ve.compareValue,it,lt))("mat-calendar-body-comparison-start",At._isComparisonStart(ve.compareValue))("mat-calendar-body-comparison-end",At._isComparisonEnd(ve.compareValue))("mat-calendar-body-in-comparison-range",At._isInComparisonRange(ve.compareValue))("mat-calendar-body-preview-start",At._isPreviewStart(ve.compareValue))("mat-calendar-body-preview-end",At._isPreviewEnd(ve.compareValue))("mat-calendar-body-in-preview",At._isInPreview(ve.compareValue)),b.Q6J("ngClass",ve.cssClasses)("tabindex",At._isActiveCell(it,lt)?0:-1),b.uIk("aria-label",ve.ariaLabel)("aria-disabled",!ve.enabled||null)("aria-pressed",At._isSelected(ve.compareValue))("aria-current",At.todayValue===ve.compareValue?"date":null)("aria-describedby",At._getDescribedby(ve.compareValue)),b.xp6(1),b.ekj("mat-calendar-body-selected",At._isSelected(ve.compareValue))("mat-calendar-body-comparison-identical",At._isComparisonIdentical(ve.compareValue))("mat-calendar-body-today",At.todayValue===ve.compareValue),b.xp6(1),b.hij(" ",ve.displayValue," ")}}function Re(ht,rn){if(1&ht&&(b.TgZ(0,"tr",5),b.YNc(1,re,2,6,"td",6),b.YNc(2,se,5,48,"td",7),b.qZA()),2&ht){const ve=rn.$implicit,lt=rn.index,it=b.oxw();b.xp6(1),b.Q6J("ngIf",0===lt&&it._firstRowOffset),b.xp6(1),b.Q6J("ngForOf",ve)}}function z(ht,rn){if(1&ht&&(b.TgZ(0,"th",5)(1,"span",6),b._uU(2),b.qZA(),b.TgZ(3,"span",7),b._uU(4),b.qZA()()),2&ht){const ve=rn.$implicit;b.xp6(2),b.Oqu(ve.long),b.xp6(2),b.Oqu(ve.narrow)}}const oe=["*"];function H(ht,rn){}function me(ht,rn){if(1&ht){const ve=b.EpF();b.TgZ(0,"mat-month-view",5),b.NdJ("activeDateChange",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At.activeDate=it)})("_userSelection",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._dateSelected(it))})("dragStarted",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._dragStarted(it))})("dragEnded",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._dragEnded(it))}),b.qZA()}if(2&ht){const ve=b.oxw();b.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)("comparisonStart",ve.comparisonStart)("comparisonEnd",ve.comparisonEnd)("startDateAccessibleName",ve.startDateAccessibleName)("endDateAccessibleName",ve.endDateAccessibleName)("activeDrag",ve._activeDrag)}}function ne(ht,rn){if(1&ht){const ve=b.EpF();b.TgZ(0,"mat-year-view",6),b.NdJ("activeDateChange",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At.activeDate=it)})("monthSelected",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._monthSelectedInYearView(it))})("selectedChange",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._goToDateInView(it,"month"))}),b.qZA()}if(2&ht){const ve=b.oxw();b.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)}}function ue(ht,rn){if(1&ht){const ve=b.EpF();b.TgZ(0,"mat-multi-year-view",7),b.NdJ("activeDateChange",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At.activeDate=it)})("yearSelected",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._yearSelectedInMultiYearView(it))})("selectedChange",function(it){b.CHM(ve);const At=b.oxw();return b.KtG(At._goToDateInView(it,"year"))}),b.qZA()}if(2&ht){const ve=b.oxw();b.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)}}function Se(ht,rn){}const Ie=["button"];function le(ht,rn){1&ht&&(b.O4$(),b.TgZ(0,"svg",3),b._UZ(1,"path",4),b.qZA())}const Me=[[["","matDatepickerToggleIcon",""]]],we=["[matDatepickerToggleIcon]"];let je=(()=>{class ht{constructor(){this.changes=new g.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(ve,lt){return`${ve} \u2013 ${lt}`}formatYearRangeLabel(ve,lt){return`${ve} to ${lt}`}static#e=this.\u0275fac=function(lt){return new(lt||ht)};static#t=this.\u0275prov=b.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"})}return ht})();class ze{constructor(rn,ve,lt,it,At={},Kt=rn,vn){this.value=rn,this.displayValue=ve,this.ariaLabel=lt,this.enabled=it,this.cssClasses=At,this.compareValue=Kt,this.rawValue=vn}}let He=1;const Ae=(0,P.i$)({passive:!1,capture:!0}),be=(0,P.i$)({passive:!0,capture:!0}),K=(0,P.i$)({passive:!0});let ie=(()=>{class ht{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(ve,lt){this._elementRef=ve,this._ngZone=lt,this._platform=(0,b.f3M)(P.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new b.vpe,this.previewChange=new b.vpe,this.activeDateChange=new b.vpe,this.dragStarted=new b.vpe,this.dragEnded=new b.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=it=>{if(this._skipNextFocus&&"focus"===it.type)this._skipNextFocus=!1;else if(it.target&&this.isRange){const At=this._getCellFromElement(it.target);At&&this._ngZone.run(()=>this.previewChange.emit({value:At.enabled?At:null,event:it}))}},this._touchmoveHandler=it=>{if(!this.isRange)return;const At=Q(it),Kt=At?this._getCellFromElement(At):null;At!==it.target&&(this._didDragSinceMouseDown=!0),$(it.target)&&it.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Kt?.enabled?Kt:null,event:it}))},this._leaveHandler=it=>{null!==this.previewEnd&&this.isRange&&("blur"!==it.type&&(this._didDragSinceMouseDown=!0),it.target&&this._getCellFromElement(it.target)&&(!it.relatedTarget||!this._getCellFromElement(it.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:it})))},this._mousedownHandler=it=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const At=it.target&&this._getCellFromElement(it.target);!At||!this._isInRange(At.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:At.rawValue,event:it})})},this._mouseupHandler=it=>{if(!this.isRange)return;const At=$(it.target);At?At.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Kt=this._getCellFromElement(At);this.dragEnded.emit({value:Kt?.rawValue??null,event:it})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:it})})},this._touchendHandler=it=>{const At=Q(it);At&&this._mouseupHandler({target:At})},this._id="mat-calendar-body-"+He++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,lt.runOutsideAngular(()=>{const it=ve.nativeElement;it.addEventListener("touchmove",this._touchmoveHandler,Ae),it.addEventListener("mouseenter",this._enterHandler,be),it.addEventListener("focus",this._enterHandler,be),it.addEventListener("mouseleave",this._leaveHandler,be),it.addEventListener("blur",this._leaveHandler,be),it.addEventListener("mousedown",this._mousedownHandler,K),it.addEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(ve,lt){this._didDragSinceMouseDown||ve.enabled&&this.selectedValueChange.emit({value:ve.value,event:lt})}_emitActiveDateChange(ve,lt){ve.enabled&&this.activeDateChange.emit({value:ve.value,event:lt})}_isSelected(ve){return this.startValue===ve||this.endValue===ve}ngOnChanges(ve){const lt=ve.numCols,{rows:it,numCols:At}=this;(ve.rows||lt)&&(this._firstRowOffset=it&&it.length&&it[0].length?At-it[0].length:0),(ve.cellAspectRatio||lt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/At+"%"),(lt||!this._cellWidth)&&(this._cellWidth=100/At+"%")}ngOnDestroy(){const ve=this._elementRef.nativeElement;ve.removeEventListener("touchmove",this._touchmoveHandler,Ae),ve.removeEventListener("mouseenter",this._enterHandler,be),ve.removeEventListener("focus",this._enterHandler,be),ve.removeEventListener("mouseleave",this._leaveHandler,be),ve.removeEventListener("blur",this._leaveHandler,be),ve.removeEventListener("mousedown",this._mousedownHandler,K),ve.removeEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(ve,lt){let it=ve*this.numCols+lt;return ve&&(it-=this._firstRowOffset),it==this.activeCell}_focusActiveCell(ve=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,V.q)(1)).subscribe(()=>{setTimeout(()=>{const lt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");lt&&(ve||(this._skipNextFocus=!0),lt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(ve){return Z(ve,this.startValue,this.endValue)}_isRangeEnd(ve){return W(ve,this.startValue,this.endValue)}_isInRange(ve){return X(ve,this.startValue,this.endValue,this.isRange)}_isComparisonStart(ve){return Z(ve,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(ve,lt,it){if(!this._isComparisonStart(ve)||this._isRangeStart(ve)||!this._isInRange(ve))return!1;let At=this.rows[lt][it-1];if(!At){const Kt=this.rows[lt-1];At=Kt&&Kt[Kt.length-1]}return At&&!this._isRangeEnd(At.compareValue)}_isComparisonBridgeEnd(ve,lt,it){if(!this._isComparisonEnd(ve)||this._isRangeEnd(ve)||!this._isInRange(ve))return!1;let At=this.rows[lt][it+1];if(!At){const Kt=this.rows[lt+1];At=Kt&&Kt[0]}return At&&!this._isRangeStart(At.compareValue)}_isComparisonEnd(ve){return W(ve,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(ve){return X(ve,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(ve){return this.comparisonStart===this.comparisonEnd&&ve===this.comparisonStart}_isPreviewStart(ve){return Z(ve,this.previewStart,this.previewEnd)}_isPreviewEnd(ve){return W(ve,this.previewStart,this.previewEnd)}_isInPreview(ve){return X(ve,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(ve){return this.isRange?this.startValue===ve&&this.endValue===ve?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===ve?this._startDateLabelId:this.endValue===ve?this._endDateLabelId:null:null}_getCellFromElement(ve){const lt=$(ve);if(lt){const it=lt.getAttribute("data-mat-row"),At=lt.getAttribute("data-mat-col");if(it&&At)return this.rows[parseInt(it)][parseInt(At)]}return null}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.SBq),b.Y36(b.R0b))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[b.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(lt,it){1&lt&&(b.YNc(0,Y,3,6,"tr",0),b.YNc(1,Re,3,2,"tr",1),b.TgZ(2,"label",2),b._uU(3),b.qZA(),b.TgZ(4,"label",2),b._uU(5),b.qZA()),2&lt&&(b.Q6J("ngIf",it._firstRowOffset<it.labelMinRequiredCells),b.xp6(1),b.Q6J("ngForOf",it.rows),b.xp6(1),b.Q6J("id",it._startDateLabelId),b.xp6(1),b.hij(" ",it.startDateAccessibleName,"\n"),b.xp6(1),b.Q6J("id",it._endDateLabelId),b.xp6(1),b.hij(" ",it.endDateAccessibleName,"\n"))},dependencies:[O.mk,O.sg,O.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return ht})();function he(ht){return"TD"===ht?.nodeName}function $(ht){let rn;return he(ht)?rn=ht:he(ht.parentNode)?rn=ht.parentNode:he(ht.parentNode?.parentNode)&&(rn=ht.parentNode.parentNode),null!=rn?.getAttribute("data-mat-row")?rn:null}function Z(ht,rn,ve){return null!==ve&&rn!==ve&&ht<ve&&ht===rn}function W(ht,rn,ve){return null!==rn&&rn!==ve&&ht>=rn&&ht===ve}function X(ht,rn,ve,lt){return lt&&null!==rn&&null!==ve&&rn!==ve&&ht>=rn&&ht<=ve}function Q(ht){const rn=ht.changedTouches[0];return document.elementFromPoint(rn.clientX,rn.clientY)}class q{constructor(rn,ve){this.start=rn,this.end=ve}}let J=(()=>{class ht{constructor(ve,lt){this.selection=ve,this._adapter=lt,this._selectionChanged=new g.x,this.selectionChanged=this._selectionChanged,this.selection=ve}updateSelection(ve,lt){const it=this.selection;this.selection=ve,this._selectionChanged.next({selection:ve,source:lt,oldValue:it})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(ve){return this._adapter.isDateInstance(ve)&&this._adapter.isValid(ve)}static#e=this.\u0275fac=function(lt){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:ht,factory:ht.\u0275fac})}return ht})(),de=(()=>{class ht extends J{constructor(ve){super(null,ve)}add(ve){super.updateSelection(ve,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const ve=new ht(this._adapter);return ve.updateSelection(this.selection,this),ve}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.LFG(x._A))};static#t=this.\u0275prov=b.Yz7({token:ht,factory:ht.\u0275fac})}return ht})();const Ce={provide:J,deps:[[new b.FiY,new b.tp0,J],x._A],useFactory:function ce(ht,rn){return ht||new de(rn)}},$e=new b.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let _t=(()=>{class ht{get activeDate(){return this._activeDate}set activeDate(ve){const lt=this._activeDate,it=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(it,this.minDate,this.maxDate),this._hasSameMonthAndYear(lt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,lt,it,At,Kt){this._changeDetectorRef=ve,this._dateFormats=lt,this._dateAdapter=it,this._dir=At,this._rangeStrategy=Kt,this._rerenderSubscription=h.w0.EMPTY,this.activeDrag=null,this.selectedChange=new b.vpe,this._userSelection=new b.vpe,this.dragStarted=new b.vpe,this.dragEnded=new b.vpe,this.activeDateChange=new b.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnChanges(ve){const lt=ve.comparisonStart||ve.comparisonEnd;lt&&!lt.firstChange&&this._setRanges(this.selected),ve.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(ve){const lt=ve.value,it=this._getDateFromDayOfMonth(lt);let At,Kt;this._selected instanceof q?(At=this._getDateInCurrentMonth(this._selected.start),Kt=this._getDateInCurrentMonth(this._selected.end)):At=Kt=this._getDateInCurrentMonth(this._selected),(At!==lt||Kt!==lt)&&this.selectedChange.emit(it),this._userSelection.emit({value:it,event:ve.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(ve){const it=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(ve.value),this._dateAdapter.compareDate(it,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(ve){const lt=this._activeDate,it=this._isRtl();switch(ve.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,it?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,it?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.Ku:this.activeDate=ve.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.VM:this.activeDate=ve.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.K5:case A.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&ve.preventDefault());case A.hY:return void(null!=this._previewEnd&&!(0,A.Vb)(ve)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:ve}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:ve})),ve.preventDefault(),ve.stopPropagation()));default:return}this._dateAdapter.compareDate(lt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===A.L_||ve.keyCode===A.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let ve=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(ve)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(ve){this._matCalendarBody._focusActiveCell(ve)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:ve,value:lt}){if(this._rangeStrategy){const it=lt?lt.rawValue:null,At=this._rangeStrategy.createPreview(it,this.selected,ve);if(this._previewStart=this._getCellCompareValue(At.start),this._previewEnd=this._getCellCompareValue(At.end),this.activeDrag&&it){const Kt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,it,ve);Kt&&(this._previewStart=this._getCellCompareValue(Kt.start),this._previewEnd=this._getCellCompareValue(Kt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(ve){if(this.activeDrag)if(ve.value){const lt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,ve.value,ve.event);this.dragEnded.emit({value:lt??null,event:ve.event})}else this.dragEnded.emit({value:null,event:ve.event})}_getDateFromDayOfMonth(ve){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),ve)}_initWeekdays(){const ve=this._dateAdapter.getFirstDayOfWeek(),lt=this._dateAdapter.getDayOfWeekNames("narrow");let At=this._dateAdapter.getDayOfWeekNames("long").map((Kt,vn)=>({long:Kt,narrow:lt[vn]}));this._weekdays=At.slice(ve).concat(At.slice(0,ve))}_createWeekCells(){const ve=this._dateAdapter.getNumDaysInMonth(this.activeDate),lt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let it=0,At=this._firstWeekOffset;it<ve;it++,At++){7==At&&(this._weeks.push([]),At=0);const Kt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),it+1),vn=this._shouldEnableDate(Kt),Ui=this._dateAdapter.format(Kt,this._dateFormats.display.dateA11yLabel),lr=this.dateClass?this.dateClass(Kt,"month"):void 0;this._weeks[this._weeks.length-1].push(new ze(it+1,lt[it],Ui,vn,lr,this._getCellCompareValue(Kt),Kt))}}_shouldEnableDate(ve){return!!ve&&(!this.minDate||this._dateAdapter.compareDate(ve,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(ve,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(ve))}_getDateInCurrentMonth(ve){return ve&&this._hasSameMonthAndYear(ve,this.activeDate)?this._dateAdapter.getDate(ve):null}_hasSameMonthAndYear(ve,lt){return!(!ve||!lt||this._dateAdapter.getMonth(ve)!=this._dateAdapter.getMonth(lt)||this._dateAdapter.getYear(ve)!=this._dateAdapter.getYear(lt))}_getCellCompareValue(ve){if(ve){const lt=this._dateAdapter.getYear(ve),it=this._dateAdapter.getMonth(ve),At=this._dateAdapter.getDate(ve);return new Date(lt,it,At).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(ve){ve instanceof q?(this._rangeStart=this._getCellCompareValue(ve.start),this._rangeEnd=this._getCellCompareValue(ve.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(ve),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(ve){return!this.dateFilter||this.dateFilter(ve)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.sBO),b.Y36(x.sG,8),b.Y36(x._A,8),b.Y36(U.Is,8),b.Y36($e,8))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-month-view"]],viewQuery:function(lt,it){if(1&lt&&b.Gf(ie,5),2&lt){let At;b.iGM(At=b.CRH())&&(it._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[b.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(lt,it){1&lt&&(b.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),b.YNc(3,z,5,2,"th",2),b.qZA(),b.TgZ(4,"tr"),b._UZ(5,"th",3),b.qZA()(),b.TgZ(6,"tbody",4),b.NdJ("selectedValueChange",function(Kt){return it._dateSelected(Kt)})("activeDateChange",function(Kt){return it._updateActiveDate(Kt)})("previewChange",function(Kt){return it._previewChanged(Kt)})("dragStarted",function(Kt){return it.dragStarted.emit(Kt)})("dragEnded",function(Kt){return it._dragEnded(Kt)})("keyup",function(Kt){return it._handleCalendarBodyKeyup(Kt)})("keydown",function(Kt){return it._handleCalendarBodyKeydown(Kt)}),b.qZA()()),2&lt&&(b.xp6(3),b.Q6J("ngForOf",it._weekdays),b.xp6(3),b.Q6J("label",it._monthLabel)("rows",it._weeks)("todayValue",it._todayDate)("startValue",it._rangeStart)("endValue",it._rangeEnd)("comparisonStart",it._comparisonRangeStart)("comparisonEnd",it._comparisonRangeEnd)("previewStart",it._previewStart)("previewEnd",it._previewEnd)("isRange",it._isRange)("labelMinRequiredCells",3)("activeCell",it._dateAdapter.getDate(it.activeDate)-1)("startDateAccessibleName",it.startDateAccessibleName)("endDateAccessibleName",it.endDateAccessibleName))},dependencies:[O.sg,ie],encapsulation:2,changeDetection:0})}return ht})();const Rt=24;let $t=(()=>{class ht{get activeDate(){return this._activeDate}set activeDate(ve){let lt=this._activeDate;const it=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(it,this.minDate,this.maxDate),Qt(this._dateAdapter,lt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setSelectedYear(ve)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,lt,it){this._changeDetectorRef=ve,this._dateAdapter=lt,this._dir=it,this._rerenderSubscription=h.w0.EMPTY,this.selectedChange=new b.vpe,this.yearSelected=new b.vpe,this.activeDateChange=new b.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const lt=this._dateAdapter.getYear(this._activeDate)-dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let it=0,At=[];it<Rt;it++)At.push(lt+it),4==At.length&&(this._years.push(At.map(Kt=>this._createCellForYear(Kt))),At=[]);this._changeDetectorRef.markForCheck()}_yearSelected(ve){const lt=ve.value,it=this._dateAdapter.createDate(lt,0,1),At=this._getDateFromYear(lt);this.yearSelected.emit(it),this.selectedChange.emit(At)}_updateActiveDate(ve){const it=this._activeDate;this.activeDate=this._getDateFromYear(ve.value),this._dateAdapter.compareDate(it,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ve){const lt=this._activeDate,it=this._isRtl();switch(ve.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,it?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,it?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Rt-dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10*-Rt:-Rt);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10*Rt:Rt);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(lt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===A.L_||ve.keyCode===A.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_getActiveCell(){return dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(ve){const lt=this._dateAdapter.getMonth(this.activeDate),it=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(ve,lt,1));return this._dateAdapter.createDate(ve,lt,Math.min(this._dateAdapter.getDate(this.activeDate),it))}_createCellForYear(ve){const lt=this._dateAdapter.createDate(ve,0,1),it=this._dateAdapter.getYearName(lt),At=this.dateClass?this.dateClass(lt,"multi-year"):void 0;return new ze(ve,it,it,this._shouldEnableYear(ve),At)}_shouldEnableYear(ve){if(null==ve||this.maxDate&&ve>this._dateAdapter.getYear(this.maxDate)||this.minDate&&ve<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let it=this._dateAdapter.createDate(ve,0,1);this._dateAdapter.getYear(it)==ve;it=this._dateAdapter.addCalendarDays(it,1))if(this.dateFilter(it))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(ve){if(this._selectedYear=null,ve instanceof q){const lt=ve.start||ve.end;lt&&(this._selectedYear=this._dateAdapter.getYear(lt))}else ve&&(this._selectedYear=this._dateAdapter.getYear(ve))}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.sBO),b.Y36(x._A,8),b.Y36(U.Is,8))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-multi-year-view"]],viewQuery:function(lt,it){if(1&lt&&b.Gf(ie,5),2&lt){let At;b.iGM(At=b.CRH())&&(it._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(lt,it){1&lt&&(b.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),b._UZ(3,"th",2),b.qZA()(),b.TgZ(4,"tbody",3),b.NdJ("selectedValueChange",function(Kt){return it._yearSelected(Kt)})("activeDateChange",function(Kt){return it._updateActiveDate(Kt)})("keyup",function(Kt){return it._handleCalendarBodyKeyup(Kt)})("keydown",function(Kt){return it._handleCalendarBodyKeydown(Kt)}),b.qZA()()),2&lt&&(b.xp6(4),b.Q6J("rows",it._years)("todayValue",it._todayYear)("startValue",it._selectedYear)("endValue",it._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",it._getActiveCell()))},dependencies:[ie],encapsulation:2,changeDetection:0})}return ht})();function Qt(ht,rn,ve,lt,it){const At=ht.getYear(rn),Kt=ht.getYear(ve),vn=gn(ht,lt,it);return Math.floor((At-vn)/Rt)===Math.floor((Kt-vn)/Rt)}function dn(ht,rn,ve,lt){return function jn(ht,rn){return(ht%rn+rn)%rn}(ht.getYear(rn)-gn(ht,ve,lt),Rt)}function gn(ht,rn,ve){let lt=0;return ve?lt=ht.getYear(ve)-Rt+1:rn&&(lt=ht.getYear(rn)),lt}let ot=(()=>{class ht{get activeDate(){return this._activeDate}set activeDate(ve){let lt=this._activeDate;const it=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(it,this.minDate,this.maxDate),this._dateAdapter.getYear(lt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setSelectedMonth(ve)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,lt,it,At){this._changeDetectorRef=ve,this._dateFormats=lt,this._dateAdapter=it,this._dir=At,this._rerenderSubscription=h.w0.EMPTY,this.selectedChange=new b.vpe,this.monthSelected=new b.vpe,this.activeDateChange=new b.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(ve){const lt=ve.value,it=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),lt,1);this.monthSelected.emit(it);const At=this._getDateFromMonth(lt);this.selectedChange.emit(At)}_updateActiveDate(ve){const it=this._activeDate;this.activeDate=this._getDateFromMonth(ve.value),this._dateAdapter.compareDate(it,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ve){const lt=this._activeDate,it=this._isRtl();switch(ve.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,it?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,it?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?-10:-1);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10:1);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(lt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===A.L_||ve.keyCode===A.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let ve=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(lt=>lt.map(it=>this._createCellForMonth(it,ve[it]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(ve){return ve&&this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(ve):null}_getDateFromMonth(ve){const lt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,1),it=this._dateAdapter.getNumDaysInMonth(lt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,Math.min(this._dateAdapter.getDate(this.activeDate),it))}_createCellForMonth(ve,lt){const it=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,1),At=this._dateAdapter.format(it,this._dateFormats.display.monthYearA11yLabel),Kt=this.dateClass?this.dateClass(it,"year"):void 0;return new ze(ve,lt.toLocaleUpperCase(),At,this._shouldEnableMonth(ve),Kt)}_shouldEnableMonth(ve){const lt=this._dateAdapter.getYear(this.activeDate);if(null==ve||this._isYearAndMonthAfterMaxDate(lt,ve)||this._isYearAndMonthBeforeMinDate(lt,ve))return!1;if(!this.dateFilter)return!0;for(let At=this._dateAdapter.createDate(lt,ve,1);this._dateAdapter.getMonth(At)==ve;At=this._dateAdapter.addCalendarDays(At,1))if(this.dateFilter(At))return!0;return!1}_isYearAndMonthAfterMaxDate(ve,lt){if(this.maxDate){const it=this._dateAdapter.getYear(this.maxDate),At=this._dateAdapter.getMonth(this.maxDate);return ve>it||ve===it&&lt>At}return!1}_isYearAndMonthBeforeMinDate(ve,lt){if(this.minDate){const it=this._dateAdapter.getYear(this.minDate),At=this._dateAdapter.getMonth(this.minDate);return ve<it||ve===it&&lt<At}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(ve){this._selectedMonth=ve instanceof q?this._getMonthInCurrentYear(ve.start)||this._getMonthInCurrentYear(ve.end):this._getMonthInCurrentYear(ve)}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.sBO),b.Y36(x.sG,8),b.Y36(x._A,8),b.Y36(U.Is,8))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-year-view"]],viewQuery:function(lt,it){if(1&lt&&b.Gf(ie,5),2&lt){let At;b.iGM(At=b.CRH())&&(it._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(lt,it){1&lt&&(b.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),b._UZ(3,"th",2),b.qZA()(),b.TgZ(4,"tbody",3),b.NdJ("selectedValueChange",function(Kt){return it._monthSelected(Kt)})("activeDateChange",function(Kt){return it._updateActiveDate(Kt)})("keyup",function(Kt){return it._handleCalendarBodyKeyup(Kt)})("keydown",function(Kt){return it._handleCalendarBodyKeydown(Kt)}),b.qZA()()),2&lt&&(b.xp6(4),b.Q6J("label",it._yearLabel)("rows",it._months)("todayValue",it._todayMonth)("startValue",it._selectedMonth)("endValue",it._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",it._dateAdapter.getMonth(it.activeDate)))},dependencies:[ie],encapsulation:2,changeDetection:0})}return ht})(),dt=1,xe=(()=>{class ht{constructor(ve,lt,it,At,Kt){this._intl=ve,this.calendar=lt,this._dateAdapter=it,this._dateFormats=At,this._id="mat-calendar-header-"+dt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Kt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Rt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Rt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(ve,lt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(lt)&&this._dateAdapter.getMonth(ve)==this._dateAdapter.getMonth(lt):"year"==this.calendar.currentView?this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(lt):Qt(this._dateAdapter,ve,lt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const lt=this._dateAdapter.getYear(this.calendar.activeDate)-dn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),it=lt+Rt-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(lt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(it,0,1))]}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(je),b.Y36((0,b.Gpc)(()=>fe)),b.Y36(x._A,8),b.Y36(x.sG,8),b.Y36(b.sBO))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:oe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(lt,it){1&lt&&(b.F$t(),b.TgZ(0,"div",0)(1,"div",1)(2,"button",2),b.NdJ("click",function(){return it.currentPeriodClicked()}),b.TgZ(3,"span",3),b._uU(4),b.qZA(),b.O4$(),b.TgZ(5,"svg",4),b._UZ(6,"polygon",5),b.qZA()(),b.kcU(),b._UZ(7,"div",6),b.Hsn(8),b.TgZ(9,"button",7),b.NdJ("click",function(){return it.previousClicked()}),b.qZA(),b.TgZ(10,"button",8),b.NdJ("click",function(){return it.nextClicked()}),b.qZA()()(),b.TgZ(11,"label",9),b._uU(12),b.qZA()),2&lt&&(b.xp6(2),b.uIk("aria-label",it.periodButtonLabel)("aria-describedby",it._periodButtonLabelId),b.xp6(2),b.Oqu(it.periodButtonText),b.xp6(1),b.ekj("mat-calendar-invert","month"!==it.calendar.currentView),b.xp6(4),b.Q6J("disabled",!it.previousEnabled()),b.uIk("aria-label",it.prevButtonLabel),b.xp6(1),b.Q6J("disabled",!it.nextEnabled()),b.uIk("aria-label",it.nextButtonLabel),b.xp6(1),b.Q6J("id",it._periodButtonLabelId),b.xp6(1),b.Oqu(it.periodButtonDescription))},dependencies:[F.lW,F.RK],encapsulation:2,changeDetection:0})}return ht})(),fe=(()=>{class ht{get startAt(){return this._startAt}set startAt(ve){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get activeDate(){return this._clampedActiveDate}set activeDate(ve){this._clampedActiveDate=this._dateAdapter.clampDate(ve,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(ve){const lt=this._currentView!==ve?ve:null;this._currentView=ve,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),lt&&this.viewChanged.emit(lt)}constructor(ve,lt,it,At){this._dateAdapter=lt,this._dateFormats=it,this._changeDetectorRef=At,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new b.vpe,this.yearSelected=new b.vpe,this.monthSelected=new b.vpe,this.viewChanged=new b.vpe(!0),this._userSelection=new b.vpe,this._userDragDrop=new b.vpe,this._activeDrag=null,this.stateChanges=new g.x,this._intlChanges=ve.changes.subscribe(()=>{At.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new E.C5(this.headerComponent||xe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(ve){const lt=ve.minDate&&!this._dateAdapter.sameDate(ve.minDate.previousValue,ve.minDate.currentValue)?ve.minDate:void 0,it=ve.maxDate&&!this._dateAdapter.sameDate(ve.maxDate.previousValue,ve.maxDate.currentValue)?ve.maxDate:void 0,At=lt||it||ve.dateFilter;if(At&&!At.firstChange){const Kt=this._getCurrentViewComponent();Kt&&(this._changeDetectorRef.detectChanges(),Kt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(ve){const lt=ve.value;(this.selected instanceof q||lt&&!this._dateAdapter.sameDate(lt,this.selected))&&this.selectedChange.emit(lt),this._userSelection.emit(ve)}_yearSelectedInMultiYearView(ve){this.yearSelected.emit(ve)}_monthSelectedInYearView(ve){this.monthSelected.emit(ve)}_goToDateInView(ve,lt){this.activeDate=ve,this.currentView=lt}_dragStarted(ve){this._activeDrag=ve}_dragEnded(ve){this._activeDrag&&(ve.value&&this._userDragDrop.emit(ve),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(je),b.Y36(x._A,8),b.Y36(x.sG,8),b.Y36(b.sBO))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-calendar"]],viewQuery:function(lt,it){if(1&lt&&(b.Gf(_t,5),b.Gf(ot,5),b.Gf($t,5)),2&lt){let At;b.iGM(At=b.CRH())&&(it.monthView=At.first),b.iGM(At=b.CRH())&&(it.yearView=At.first),b.iGM(At=b.CRH())&&(it.multiYearView=At.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[b._Bn([Ce]),b.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(lt,it){1&lt&&(b.YNc(0,H,0,0,"ng-template",0),b.TgZ(1,"div",1),b.YNc(2,me,1,11,"mat-month-view",2),b.YNc(3,ne,1,6,"mat-year-view",3),b.YNc(4,ue,1,6,"mat-multi-year-view",4),b.qZA()),2&lt&&(b.Q6J("cdkPortalOutlet",it._calendarHeaderPortal),b.xp6(1),b.Q6J("ngSwitch",it.currentView),b.xp6(1),b.Q6J("ngSwitchCase","month"),b.xp6(1),b.Q6J("ngSwitchCase","year"),b.xp6(1),b.Q6J("ngSwitchCase","multi-year"))},dependencies:[O.RF,O.n9,c.kH,E.Pl,_t,ot,$t],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return ht})();const pe={transformPanel:(0,I.X$)("transformPanel",[(0,I.eR)("void => enter-dropdown",(0,I.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,I.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,I.eR)("void => enter-dialog",(0,I.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(0.7)"}),(0,I.oB)({transform:"none",opacity:1})]))),(0,I.eR)("* => void",(0,I.jt)("100ms linear",(0,I.oB)({opacity:0})))]),fadeInCalendar:(0,I.X$)("fadeInCalendar",[(0,I.SB)("void",(0,I.oB)({opacity:0})),(0,I.SB)("enter",(0,I.oB)({opacity:1})),(0,I.eR)("void => *",(0,I.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let at=0;const mt=new b.OlP("mat-datepicker-scroll-strategy"),ut={provide:mt,deps:[t.aV],useFactory:function Dt(ht){return()=>ht.scrollStrategies.reposition()}},bt=(0,x.pj)(class{constructor(ht){this._elementRef=ht}});let Nt=(()=>{class ht extends bt{constructor(ve,lt,it,At,Kt,vn){super(ve),this._changeDetectorRef=lt,this._globalModel=it,this._dateAdapter=At,this._rangeSelectionStrategy=Kt,this._subscriptions=new h.w0,this._animationDone=new g.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=vn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(ve){const lt=this._model.selection,it=ve.value,At=lt instanceof q;if(At&&this._rangeSelectionStrategy){const Kt=this._rangeSelectionStrategy.selectionFinished(it,lt,ve.event);this._model.updateSelection(Kt,this)}else it&&(At||!this._dateAdapter.sameDate(it,lt))&&this._model.add(it);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(ve){this._model.updateSelection(ve.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(ve){this._isAnimating="start"===ve.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(ve,lt){this._model=ve?this._globalModel.clone():this._globalModel,this._actionsPortal=ve,lt&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(J),b.Y36(x._A),b.Y36($e,8),b.Y36(je))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-datepicker-content"]],viewQuery:function(lt,it){if(1&lt&&b.Gf(fe,5),2&lt){let At;b.iGM(At=b.CRH())&&(it._calendar=At.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(lt,it){1&lt&&b.WFA("@transformPanel.start",function(Kt){return it._handleAnimationEvent(Kt)})("@transformPanel.done",function(Kt){return it._handleAnimationEvent(Kt)}),2&lt&&(b.d8E("@transformPanel",it._animationState),b.ekj("mat-datepicker-content-touch",it.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[b.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(lt,it){if(1&lt&&(b.TgZ(0,"div",0)(1,"mat-calendar",1),b.NdJ("yearSelected",function(Kt){return it.datepicker._selectYear(Kt)})("monthSelected",function(Kt){return it.datepicker._selectMonth(Kt)})("viewChanged",function(Kt){return it.datepicker._viewChanged(Kt)})("_userSelection",function(Kt){return it._handleUserSelection(Kt)})("_userDragDrop",function(Kt){return it._handleUserDragDrop(Kt)}),b.qZA(),b.YNc(2,Se,0,0,"ng-template",2),b.TgZ(3,"button",3),b.NdJ("focus",function(){return it._closeButtonFocused=!0})("blur",function(){return it._closeButtonFocused=!1})("click",function(){return it.datepicker.close()}),b._uU(4),b.qZA()()),2&lt){let At;b.ekj("mat-datepicker-content-container-with-custom-header",it.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",it._actionsPortal),b.uIk("aria-modal",!0)("aria-labelledby",null!==(At=it._dialogLabelId)&&void 0!==At?At:void 0),b.xp6(1),b.Q6J("id",it.datepicker.id)("ngClass",it.datepicker.panelClass)("startAt",it.datepicker.startAt)("startView",it.datepicker.startView)("minDate",it.datepicker._getMinDate())("maxDate",it.datepicker._getMaxDate())("dateFilter",it.datepicker._getDateFilter())("headerComponent",it.datepicker.calendarHeaderComponent)("selected",it._getSelected())("dateClass",it.datepicker.dateClass)("comparisonStart",it.comparisonStart)("comparisonEnd",it.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",it.startDateAccessibleName)("endDateAccessibleName",it.endDateAccessibleName),b.xp6(1),b.Q6J("cdkPortalOutlet",it._actionsPortal),b.xp6(1),b.ekj("cdk-visually-hidden",!it._closeButtonFocused),b.Q6J("color",it.color||"primary"),b.xp6(1),b.Oqu(it._closeButtonText)}},dependencies:[O.mk,F.lW,c.mK,E.Pl,fe],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[pe.transformPanel,pe.fadeInCalendar]},changeDetection:0})}return ht})(),Zt=(()=>{class ht{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(ve){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(ve){this._color=ve}get touchUi(){return this._touchUi}set touchUi(ve){this._touchUi=(0,D.Ig)(ve)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(ve){const lt=(0,D.Ig)(ve);lt!==this._disabled&&(this._disabled=lt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(ve){this._restoreFocus=(0,D.Ig)(ve)}get panelClass(){return this._panelClass}set panelClass(ve){this._panelClass=(0,D.du)(ve)}get opened(){return this._opened}set opened(ve){(0,D.Ig)(ve)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(ve,lt,it,At,Kt,vn,Ui){this._overlay=ve,this._ngZone=lt,this._viewContainerRef=it,this._dateAdapter=Kt,this._dir=vn,this._model=Ui,this._inputStateChanges=h.w0.EMPTY,this._document=(0,b.f3M)(O.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new b.vpe,this.monthSelected=new b.vpe,this.viewChanged=new b.vpe(!0),this.openedStream=new b.vpe,this.closedStream=new b.vpe,this._opened=!1,this.id="mat-datepicker-"+at++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new g.x,this._scrollStrategy=At}ngOnChanges(ve){const lt=ve.xPosition||ve.yPosition;if(lt&&!lt.firstChange&&this._overlayRef){const it=this._overlayRef.getConfig().positionStrategy;it instanceof t._G&&(this._setConnectedPositions(it),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(ve){this._model.add(ve)}_selectYear(ve){this.yearSelected.emit(ve)}_selectMonth(ve){this.monthSelected.emit(ve)}_viewChanged(ve){this.viewChanged.emit(ve)}registerInput(ve){return this._inputStateChanges.unsubscribe(),this.datepickerInput=ve,this._inputStateChanges=ve.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(ve){this._actionsPortal=ve,this._componentRef?.instance._assignActions(ve,!0)}removeActions(ve){ve===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,P.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const ve=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,lt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:it,location:At}=this._componentRef;it._startExitAnimation(),it._animationDone.pipe((0,V.q)(1)).subscribe(()=>{const Kt=this._document.activeElement;ve&&(!Kt||Kt===this._document.activeElement||At.nativeElement.contains(Kt))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}ve?setTimeout(lt):lt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(ve){ve.datepicker=this,ve.color=this.color,ve._dialogLabelId=this.datepickerInput.getOverlayLabelId(),ve._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const ve=this.touchUi,lt=new E.C5(Nt,this._viewContainerRef),it=this._overlayRef=this._overlay.create(new t.X_({positionStrategy:ve?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[ve?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:ve?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(ve?"dialog":"popup")}));this._getCloseStream(it).subscribe(At=>{At&&At.preventDefault(),this.close()}),it.keydownEvents().subscribe(At=>{const Kt=At.keyCode;(Kt===A.LH||Kt===A.JH||Kt===A.oh||Kt===A.SV||Kt===A.Ku||Kt===A.VM)&&At.preventDefault()}),this._componentRef=it.attach(lt),this._forwardContentValues(this._componentRef.instance),ve||this._ngZone.onStable.pipe((0,V.q)(1)).subscribe(()=>it.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const ve=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(ve)}_setConnectedPositions(ve){const lt="end"===this.xPosition?"end":"start",it="start"===lt?"end":"start",At="above"===this.yPosition?"bottom":"top",Kt="top"===At?"bottom":"top";return ve.withPositions([{originX:lt,originY:Kt,overlayX:lt,overlayY:At},{originX:lt,originY:At,overlayX:lt,overlayY:Kt},{originX:it,originY:Kt,overlayX:it,overlayY:At},{originX:it,originY:At,overlayX:it,overlayY:Kt}])}_getCloseStream(ve){const lt=["ctrlKey","shiftKey","metaKey"];return(0,p.T)(ve.backdropClick(),ve.detachments(),ve.keydownEvents().pipe((0,R.h)(it=>it.keyCode===A.hY&&!(0,A.Vb)(it)||this.datepickerInput&&(0,A.Vb)(it,"altKey")&&it.keyCode===A.LH&&lt.every(At=>!(0,A.Vb)(it,At)))))}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(t.aV),b.Y36(b.R0b),b.Y36(b.s_b),b.Y36(mt),b.Y36(x._A,8),b.Y36(U.Is,8),b.Y36(J))};static#t=this.\u0275dir=b.lG2({type:ht,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[b.TTD]})}return ht})(),wt=(()=>{class ht extends Zt{static#e=this.\u0275fac=function(){let ve;return function(it){return(ve||(ve=b.n5z(ht)))(it||ht)}}();static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[b._Bn([Ce,{provide:Zt,useExisting:ht}]),b.qOj],decls:0,vars:0,template:function(lt,it){},encapsulation:2,changeDetection:0})}return ht})();class Ht{constructor(rn,ve){this.target=rn,this.targetElement=ve,this.value=this.target.value}}let en=(()=>{class ht{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(ve){this._assignValueProgrammatically(ve)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(ve){const lt=(0,D.Ig)(ve),it=this._elementRef.nativeElement;this._disabled!==lt&&(this._disabled=lt,this.stateChanges.next(void 0)),lt&&this._isInitialized&&it.blur&&it.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(ve){this._model=ve,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(lt=>{if(this._shouldHandleChangeEvent(lt)){const it=this._getValueFromModel(lt.selection);this._lastValueValid=this._isValidValue(it),this._cvaOnChange(it),this._onTouched(),this._formatValue(it),this.dateInput.emit(new Ht(this,this._elementRef.nativeElement)),this.dateChange.emit(new Ht(this,this._elementRef.nativeElement))}})}constructor(ve,lt,it){this._elementRef=ve,this._dateAdapter=lt,this._dateFormats=it,this.dateChange=new b.vpe,this.dateInput=new b.vpe,this.stateChanges=new g.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=h.w0.EMPTY,this._localeSubscription=h.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=At=>{const Kt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(At.value));return!Kt||this._matchesFilter(Kt)?null:{matDatepickerFilter:!0}},this._minValidator=At=>{const Kt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(At.value)),vn=this._getMinDate();return!vn||!Kt||this._dateAdapter.compareDate(vn,Kt)<=0?null:{matDatepickerMin:{min:vn,actual:Kt}}},this._maxValidator=At=>{const Kt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(At.value)),vn=this._getMaxDate();return!vn||!Kt||this._dateAdapter.compareDate(vn,Kt)>=0?null:{matDatepickerMax:{max:vn,actual:Kt}}},this._lastValueValid=!1,this._localeSubscription=lt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(ve){(function tn(ht,rn){const ve=Object.keys(ht);for(let lt of ve){const{previousValue:it,currentValue:At}=ht[lt];if(!rn.isDateInstance(it)||!rn.isDateInstance(At))return!0;if(!rn.sameDate(it,At))return!0}return!1})(ve,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(ve){this._validatorOnChange=ve}validate(ve){return this._validator?this._validator(ve):null}writeValue(ve){this._assignValueProgrammatically(ve)}registerOnChange(ve){this._cvaOnChange=ve}registerOnTouched(ve){this._onTouched=ve}setDisabledState(ve){this.disabled=ve}_onKeydown(ve){(0,A.Vb)(ve,"altKey")&&ve.keyCode===A.JH&&["ctrlKey","shiftKey","metaKey"].every(At=>!(0,A.Vb)(ve,At))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),ve.preventDefault())}_onInput(ve){const lt=this._lastValueValid;let it=this._dateAdapter.parse(ve,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(it),it=this._dateAdapter.getValidDateOrNull(it);const At=!this._dateAdapter.sameDate(it,this.value);!it||At?this._cvaOnChange(it):(ve&&!this.value&&this._cvaOnChange(it),lt!==this._lastValueValid&&this._validatorOnChange()),At&&(this._assignValue(it),this.dateInput.emit(new Ht(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Ht(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(ve){this._elementRef.nativeElement.value=null!=ve?this._dateAdapter.format(ve,this._dateFormats.display.dateInput):""}_assignValue(ve){this._model?(this._assignValueToModel(ve),this._pendingValue=null):this._pendingValue=ve}_isValidValue(ve){return!ve||this._dateAdapter.isValid(ve)}_parentDisabled(){return!1}_assignValueProgrammatically(ve){ve=this._dateAdapter.deserialize(ve),this._lastValueValid=this._isValidValue(ve),ve=this._dateAdapter.getValidDateOrNull(ve),this._assignValue(ve),this._formatValue(ve)}_matchesFilter(ve){const lt=this._getDateFilter();return!lt||lt(ve)}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.SBq),b.Y36(x._A,8),b.Y36(x.sG,8))};static#t=this.\u0275dir=b.lG2({type:ht,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[b.TTD]})}return ht})();const yn={provide:T.JU,useExisting:(0,b.Gpc)(()=>On),multi:!0},Tn={provide:T.Cf,useExisting:(0,b.Gpc)(()=>On),multi:!0};let On=(()=>{class ht extends en{set matDatepicker(ve){ve&&(this._datepicker=ve,this._closedSubscription=ve.closedStream.subscribe(()=>this._onTouched()),this._registerModel(ve.registerInput(this)))}get min(){return this._min}set min(ve){const lt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve));this._dateAdapter.sameDate(lt,this._min)||(this._min=lt,this._validatorOnChange())}get max(){return this._max}set max(ve){const lt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve));this._dateAdapter.sameDate(lt,this._max)||(this._max=lt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(ve){const lt=this._matchesFilter(this.value);this._dateFilter=ve,this._matchesFilter(this.value)!==lt&&this._validatorOnChange()}constructor(ve,lt,it,At){super(ve,lt,it),this._formField=At,this._closedSubscription=h.w0.EMPTY,this._validator=T.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(ve){return ve}_assignValueToModel(ve){this._model&&this._model.updateSelection(ve,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(ve){return ve.source!==this}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(b.SBq),b.Y36(x._A,8),b.Y36(x.sG,8),b.Y36(N.G_,8))};static#t=this.\u0275dir=b.lG2({type:ht,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(lt,it){1&lt&&b.NdJ("input",function(Kt){return it._onInput(Kt.target.value)})("change",function(){return it._onChange()})("blur",function(){return it._onBlur()})("keydown",function(Kt){return it._onKeydown(Kt)}),2&lt&&(b.Ikx("disabled",it.disabled),b.uIk("aria-haspopup",it._datepicker?"dialog":null)("aria-owns",(null==it._datepicker?null:it._datepicker.opened)&&it._datepicker.id||null)("min",it.min?it._dateAdapter.toIso8601(it.min):null)("max",it.max?it._dateAdapter.toIso8601(it.max):null)("data-mat-calendar",it._datepicker?it._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[b._Bn([yn,Tn,{provide:S.Jk,useExisting:ht}]),b.qOj]})}return ht})(),In=(()=>{class ht{static#e=this.\u0275fac=function(lt){return new(lt||ht)};static#t=this.\u0275dir=b.lG2({type:ht,selectors:[["","matDatepickerToggleIcon",""]]})}return ht})(),Jn=(()=>{class ht{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(ve){this._disabled=(0,D.Ig)(ve)}constructor(ve,lt,it){this._intl=ve,this._changeDetectorRef=lt,this._stateChanges=h.w0.EMPTY;const At=Number(it);this.tabIndex=At||0===At?At:null}ngOnChanges(ve){ve.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(ve){this.datepicker&&!this.disabled&&(this.datepicker.open(),ve.stopPropagation())}_watchStateChanges(){const ve=this.datepicker?this.datepicker.stateChanges:(0,y.of)(),lt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,y.of)(),it=this.datepicker?(0,p.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,y.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,p.T)(this._intl.changes,ve,lt,it).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(lt){return new(lt||ht)(b.Y36(je),b.Y36(b.sBO),b.$8M("tabindex"))};static#t=this.\u0275cmp=b.Xpm({type:ht,selectors:[["mat-datepicker-toggle"]],contentQueries:function(lt,it,At){if(1&lt&&b.Suo(At,In,5),2&lt){let Kt;b.iGM(Kt=b.CRH())&&(it._customIcon=Kt.first)}},viewQuery:function(lt,it){if(1&lt&&b.Gf(Ie,5),2&lt){let At;b.iGM(At=b.CRH())&&(it._button=At.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(lt,it){1&lt&&b.NdJ("click",function(Kt){return it._open(Kt)}),2&lt&&(b.uIk("tabindex",null)("data-mat-calendar",it.datepicker?it.datepicker.id:null),b.ekj("mat-datepicker-toggle-active",it.datepicker&&it.datepicker.opened)("mat-accent",it.datepicker&&"accent"===it.datepicker.color)("mat-warn",it.datepicker&&"warn"===it.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[b.TTD],ngContentSelectors:we,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(lt,it){1&lt&&(b.F$t(Me),b.TgZ(0,"button",0,1),b.YNc(2,le,2,0,"svg",2),b.Hsn(3),b.qZA()),2&lt&&(b.Q6J("disabled",it.disabled)("disableRipple",it.disableRipple),b.uIk("aria-haspopup",it.datepicker?"dialog":null)("aria-label",it.ariaLabel||it._intl.openCalendarLabel)("tabindex",it.disabled?-1:it.tabIndex),b.xp6(2),b.Q6J("ngIf",!it._customIcon))},dependencies:[O.O5,F.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return ht})(),Bn=(()=>{class ht{static#e=this.\u0275fac=function(lt){return new(lt||ht)};static#t=this.\u0275mod=b.oAB({type:ht});static#n=this.\u0275inj=b.cJS({providers:[je,ut],imports:[O.ez,F.ot,t.U8,c.rt,E.eL,x.BQ,L.ZD]})}return ht})()},7700:(wn,Ze,C)=>{"use strict";C.d(Ze,{WI:()=>He,uw:()=>W,H8:()=>de,vA:()=>ue,xY:()=>J,Is:()=>ce,so:()=>je,uh:()=>q});var c=C(3651),t=C(6814),E=C(5879),O=C(4300),b=C(2831),F=C(8484),L=C(6028),x=C(8645),g=C(4911),h=C(2096),p=C(9388),y=C(7921);function A(Be,$e){}class U{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let V=(()=>{class Be extends F.en{constructor(Qe,qe,ct,Ot,_t,Rt,Gt,$t){super(),this._elementRef=Qe,this._focusTrapFactory=qe,this._config=Ot,this._interactivityChecker=_t,this._ngZone=Rt,this._overlayRef=Gt,this._focusMonitor=$t,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Qt=>{this._portalOutlet.hasAttached();const dn=this._portalOutlet.attachDomPortal(Qt);return this._contentAttached(),dn},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=ct}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Qe){this._portalOutlet.hasAttached();const qe=this._portalOutlet.attachComponentPortal(Qe);return this._contentAttached(),qe}attachTemplatePortal(Qe){this._portalOutlet.hasAttached();const qe=this._portalOutlet.attachTemplatePortal(Qe);return this._contentAttached(),qe}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Qe,qe){this._interactivityChecker.isFocusable(Qe)||(Qe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ct=()=>{Qe.removeEventListener("blur",ct),Qe.removeEventListener("mousedown",ct),Qe.removeAttribute("tabindex")};Qe.addEventListener("blur",ct),Qe.addEventListener("mousedown",ct)})),Qe.focus(qe)}_focusByCssSelector(Qe,qe){let ct=this._elementRef.nativeElement.querySelector(Qe);ct&&this._forceFocus(ct,qe)}_trapFocus(){const Qe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Qe.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(qe=>{qe||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Qe=this._config.restoreFocus;let qe=null;if("string"==typeof Qe?qe=this._document.querySelector(Qe):"boolean"==typeof Qe?qe=Qe?this._elementFocusedBeforeDialogWasOpened:null:Qe&&(qe=Qe),this._config.restoreFocus&&qe&&"function"==typeof qe.focus){const ct=(0,b.ht)(),Ot=this._elementRef.nativeElement;(!ct||ct===this._document.body||ct===Ot||Ot.contains(ct))&&(this._focusMonitor?(this._focusMonitor.focusVia(qe,this._closeInteractionType),this._closeInteractionType=null):qe.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Qe=this._elementRef.nativeElement,qe=(0,b.ht)();return Qe===qe||Qe.contains(qe)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,b.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(qe){return new(qe||Be)(E.Y36(E.SBq),E.Y36(O.qV),E.Y36(t.K0,8),E.Y36(U),E.Y36(O.ic),E.Y36(E.R0b),E.Y36(c.Iu),E.Y36(O.tE))};static#t=this.\u0275cmp=E.Xpm({type:Be,selectors:[["cdk-dialog-container"]],viewQuery:function(qe,ct){if(1&qe&&E.Gf(F.Pl,7),2&qe){let Ot;E.iGM(Ot=E.CRH())&&(ct._portalOutlet=Ot.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(qe,ct){2&qe&&E.uIk("id",ct._config.id||null)("role",ct._config.role)("aria-modal",ct._config.ariaModal)("aria-labelledby",ct._config.ariaLabel?null:ct._ariaLabelledBy)("aria-label",ct._config.ariaLabel)("aria-describedby",ct._config.ariaDescribedBy||null)},features:[E.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(qe,ct){1&qe&&E.YNc(0,A,0,0,"ng-template",0)},dependencies:[F.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Be})();class k{constructor($e,Qe){this.overlayRef=$e,this.config=Qe,this.closed=new x.x,this.disableClose=Qe.disableClose,this.backdropClick=$e.backdropClick(),this.keydownEvents=$e.keydownEvents(),this.outsidePointerEvents=$e.outsidePointerEvents(),this.id=Qe.id,this.keydownEvents.subscribe(qe=>{qe.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(qe)&&(qe.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=$e.detachments().subscribe(()=>{!1!==Qe.closeOnOverlayDetachments&&this.close()})}close($e,Qe){if(this.containerInstance){const qe=this.closed;this.containerInstance._closeInteractionType=Qe?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),qe.next($e),qe.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize($e="",Qe=""){return this.overlayRef.updateSize({width:$e,height:Qe}),this}addPanelClass($e){return this.overlayRef.addPanelClass($e),this}removePanelClass($e){return this.overlayRef.removePanelClass($e),this}}const R=new E.OlP("DialogScrollStrategy"),D=new E.OlP("DialogData"),I=new E.OlP("DefaultDialogConfig"),N={provide:R,deps:[c.aV],useFactory:function T(Be){return()=>Be.scrollStrategies.block()}};let S=0,B=(()=>{class Be{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Qe,qe,ct,Ot,_t,Rt){this._overlay=Qe,this._injector=qe,this._defaultOptions=ct,this._parentDialog=Ot,this._overlayContainer=_t,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x.x,this._afterOpenedAtThisLevel=new x.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,g.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,y.O)(void 0))),this._scrollStrategy=Rt}open(Qe,qe){(qe={...this._defaultOptions||new U,...qe}).id=qe.id||"cdk-dialog-"+S++,qe.id&&this.getDialogById(qe.id);const Ot=this._getOverlayConfig(qe),_t=this._overlay.create(Ot),Rt=new k(_t,qe),Gt=this._attachContainer(_t,Rt,qe);return Rt.containerInstance=Gt,this._attachDialogContent(Qe,Rt,Gt,qe),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Rt),Rt.closed.subscribe(()=>this._removeOpenDialog(Rt,!0)),this.afterOpened.next(Rt),Rt}closeAll(){Y(this.openDialogs,Qe=>Qe.close())}getDialogById(Qe){return this.openDialogs.find(qe=>qe.id===Qe)}ngOnDestroy(){Y(this._openDialogsAtThisLevel,Qe=>{!1===Qe.config.closeOnDestroy&&this._removeOpenDialog(Qe,!1)}),Y(this._openDialogsAtThisLevel,Qe=>Qe.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Qe){const qe=new c.X_({positionStrategy:Qe.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Qe.scrollStrategy||this._scrollStrategy(),panelClass:Qe.panelClass,hasBackdrop:Qe.hasBackdrop,direction:Qe.direction,minWidth:Qe.minWidth,minHeight:Qe.minHeight,maxWidth:Qe.maxWidth,maxHeight:Qe.maxHeight,width:Qe.width,height:Qe.height,disposeOnNavigation:Qe.closeOnNavigation});return Qe.backdropClass&&(qe.backdropClass=Qe.backdropClass),qe}_attachContainer(Qe,qe,ct){const Ot=ct.injector||ct.viewContainerRef?.injector,_t=[{provide:U,useValue:ct},{provide:k,useValue:qe},{provide:c.Iu,useValue:Qe}];let Rt;ct.container?"function"==typeof ct.container?Rt=ct.container:(Rt=ct.container.type,_t.push(...ct.container.providers(ct))):Rt=V;const Gt=new F.C5(Rt,ct.viewContainerRef,E.zs3.create({parent:Ot||this._injector,providers:_t}),ct.componentFactoryResolver);return Qe.attach(Gt).instance}_attachDialogContent(Qe,qe,ct,Ot){if(Qe instanceof E.Rgc){const _t=this._createInjector(Ot,qe,ct,void 0);let Rt={$implicit:Ot.data,dialogRef:qe};Ot.templateContext&&(Rt={...Rt,..."function"==typeof Ot.templateContext?Ot.templateContext():Ot.templateContext}),ct.attachTemplatePortal(new F.UE(Qe,null,Rt,_t))}else{const _t=this._createInjector(Ot,qe,ct,this._injector),Rt=ct.attachComponentPortal(new F.C5(Qe,Ot.viewContainerRef,_t,Ot.componentFactoryResolver));qe.componentInstance=Rt.instance}}_createInjector(Qe,qe,ct,Ot){const _t=Qe.injector||Qe.viewContainerRef?.injector,Rt=[{provide:D,useValue:Qe.data},{provide:k,useValue:qe}];return Qe.providers&&("function"==typeof Qe.providers?Rt.push(...Qe.providers(qe,Qe,ct)):Rt.push(...Qe.providers)),Qe.direction&&(!_t||!_t.get(p.Is,null,{optional:!0}))&&Rt.push({provide:p.Is,useValue:{value:Qe.direction,change:(0,h.of)()}}),E.zs3.create({parent:_t||Ot,providers:Rt})}_removeOpenDialog(Qe,qe){const ct=this.openDialogs.indexOf(Qe);ct>-1&&(this.openDialogs.splice(ct,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Ot,_t)=>{Ot?_t.setAttribute("aria-hidden",Ot):_t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),qe&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Qe=this._overlayContainer.getContainerElement();if(Qe.parentElement){const qe=Qe.parentElement.children;for(let ct=qe.length-1;ct>-1;ct--){const Ot=qe[ct];Ot!==Qe&&"SCRIPT"!==Ot.nodeName&&"STYLE"!==Ot.nodeName&&!Ot.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Ot,Ot.getAttribute("aria-hidden")),Ot.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Qe=this._parentDialog;return Qe?Qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(qe){return new(qe||Be)(E.LFG(c.aV),E.LFG(E.zs3),E.LFG(I,8),E.LFG(Be,12),E.LFG(c.Xj),E.LFG(R))};static#t=this.\u0275prov=E.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();function Y(Be,$e){let Qe=Be.length;for(;Qe--;)$e(Be[Qe])}let re=(()=>{class Be{static#e=this.\u0275fac=function(qe){return new(qe||Be)};static#t=this.\u0275mod=E.oAB({type:Be});static#n=this.\u0275inj=E.cJS({providers:[B,N],imports:[c.U8,F.eL,O.rt,F.eL]})}return Be})();var se=C(2495),Re=C(3019),z=C(2181),oe=C(8180),H=C(3680);function ne(Be,$e){}C(6825);class ue{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Se="mdc-dialog--open",Ie="mdc-dialog--opening",le="mdc-dialog--closing";let _e=(()=>{class Be extends V{constructor(Qe,qe,ct,Ot,_t,Rt,Gt,$t){super(Qe,qe,ct,Ot,_t,Rt,Gt,$t),this._animationStateChanged=new E.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Qe){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Qe})}static#e=this.\u0275fac=function(qe){return new(qe||Be)(E.Y36(E.SBq),E.Y36(O.qV),E.Y36(t.K0,8),E.Y36(ue),E.Y36(O.ic),E.Y36(E.R0b),E.Y36(c.Iu),E.Y36(O.tE))};static#t=this.\u0275cmp=E.Xpm({type:Be,selectors:[["ng-component"]],features:[E.qOj],decls:0,vars:0,template:function(qe,ct){},encapsulation:2})}return Be})();const Le="--mat-dialog-transition-duration";function Pe(Be){return null==Be?null:"number"==typeof Be?Be:Be.endsWith("ms")?(0,se.su)(Be.substring(0,Be.length-2)):Be.endsWith("s")?1e3*(0,se.su)(Be.substring(0,Be.length-1)):"0"===Be?0:null}let Oe=(()=>{class Be extends _e{constructor(Qe,qe,ct,Ot,_t,Rt,Gt,$t,Qt){super(Qe,qe,ct,Ot,_t,Rt,Gt,Qt),this._animationMode=$t,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Pe(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Pe(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Le,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ie,Se)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Se),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Se),this._animationsEnabled?(this._hostElement.style.setProperty(Le,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(le)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ie,le)}_waitForAnimationToComplete(Qe,qe){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(qe,Qe)}_requestAnimationFrame(Qe){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Qe):Qe()})}static#e=this.\u0275fac=function(qe){return new(qe||Be)(E.Y36(E.SBq),E.Y36(O.qV),E.Y36(t.K0,8),E.Y36(ue),E.Y36(O.ic),E.Y36(E.R0b),E.Y36(c.Iu),E.Y36(E.QbO,8),E.Y36(O.tE))};static#t=this.\u0275cmp=E.Xpm({type:Be,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(qe,ct){2&qe&&(E.Ikx("id",ct._config.id),E.uIk("aria-modal",ct._config.ariaModal)("role",ct._config.role)("aria-labelledby",ct._config.ariaLabel?null:ct._ariaLabelledBy)("aria-label",ct._config.ariaLabel)("aria-describedby",ct._config.ariaDescribedBy||null),E.ekj("_mat-animation-noopable",!ct._animationsEnabled))},features:[E.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(qe,ct){1&qe&&(E.TgZ(0,"div",0)(1,"div",1),E.YNc(2,ne,0,0,"ng-template",2),E.qZA()())},dependencies:[F.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return Be})();class je{constructor($e,Qe,qe){this._ref=$e,this._containerInstance=qe,this._afterOpened=new x.x,this._beforeClosed=new x.x,this._state=0,this.disableClose=Qe.disableClose,this.id=$e.id,qe._animationStateChanged.pipe((0,z.h)(ct=>"opened"===ct.state),(0,oe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),qe._animationStateChanged.pipe((0,z.h)(ct=>"closed"===ct.state),(0,oe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),$e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Re.T)(this.backdropClick(),this.keydownEvents().pipe((0,z.h)(ct=>ct.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(ct)))).subscribe(ct=>{this.disableClose||(ct.preventDefault(),function ze(Be,$e,Qe){Be._closeInteractionType=$e,Be.close(Qe)}(this,"keydown"===ct.type?"keyboard":"mouse"))})}close($e){this._result=$e,this._containerInstance._animationStateChanged.pipe((0,z.h)(Qe=>"closing"===Qe.state),(0,oe.q)(1)).subscribe(Qe=>{this._beforeClosed.next($e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Qe.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition($e){let Qe=this._ref.config.positionStrategy;return $e&&($e.left||$e.right)?$e.left?Qe.left($e.left):Qe.right($e.right):Qe.centerHorizontally(),$e&&($e.top||$e.bottom)?$e.top?Qe.top($e.top):Qe.bottom($e.bottom):Qe.centerVertically(),this._ref.updatePosition(),this}updateSize($e="",Qe=""){return this._ref.updateSize($e,Qe),this}addPanelClass($e){return this._ref.addPanelClass($e),this}removePanelClass($e){return this._ref.removePanelClass($e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const He=new E.OlP("MatMdcDialogData"),Ae=new E.OlP("mat-mdc-dialog-default-options"),be=new E.OlP("mat-mdc-dialog-scroll-strategy"),ie={provide:be,deps:[c.aV],useFactory:function K(Be){return()=>Be.scrollStrategies.block()}};let $=0,Z=(()=>{class Be{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Qe=this._parentDialog;return Qe?Qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Qe,qe,ct,Ot,_t,Rt,Gt,$t,Qt,dn){this._overlay=Qe,this._defaultOptions=ct,this._parentDialog=Ot,this._dialogRefConstructor=Gt,this._dialogContainerType=$t,this._dialogDataToken=Qt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x.x,this._afterOpenedAtThisLevel=new x.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=ue,this.afterAllClosed=(0,g.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,y.O)(void 0))),this._scrollStrategy=Rt,this._dialog=qe.get(B)}open(Qe,qe){let ct;(qe={...this._defaultOptions||new ue,...qe}).id=qe.id||`${this._idPrefix}${$++}`,qe.scrollStrategy=qe.scrollStrategy||this._scrollStrategy();const Ot=this._dialog.open(Qe,{...qe,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:qe},{provide:U,useValue:qe}]},templateContext:()=>({dialogRef:ct}),providers:(_t,Rt,Gt)=>(ct=new this._dialogRefConstructor(_t,qe,Gt),ct.updatePosition(qe?.position),[{provide:this._dialogContainerType,useValue:Gt},{provide:this._dialogDataToken,useValue:Rt.data},{provide:this._dialogRefConstructor,useValue:ct}])});return ct.componentInstance=Ot.componentInstance,this.openDialogs.push(ct),this.afterOpened.next(ct),ct.afterClosed().subscribe(()=>{const _t=this.openDialogs.indexOf(ct);_t>-1&&(this.openDialogs.splice(_t,1),this.openDialogs.length||this._getAfterAllClosed().next())}),ct}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Qe){return this.openDialogs.find(qe=>qe.id===Qe)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Qe){let qe=Qe.length;for(;qe--;)Qe[qe].close()}static#e=this.\u0275fac=function(qe){E.$Z()};static#t=this.\u0275prov=E.Yz7({token:Be,factory:Be.\u0275fac})}return Be})(),W=(()=>{class Be extends Z{constructor(Qe,qe,ct,Ot,_t,Rt,Gt,$t){super(Qe,qe,Ot,Rt,Gt,_t,je,Oe,He,$t),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(qe){return new(qe||Be)(E.LFG(c.aV),E.LFG(E.zs3),E.LFG(t.Ye,8),E.LFG(Ae,8),E.LFG(be),E.LFG(Be,12),E.LFG(c.Xj),E.LFG(E.QbO,8))};static#t=this.\u0275prov=E.Yz7({token:Be,factory:Be.\u0275fac})}return Be})(),X=0,q=(()=>{class Be{constructor(Qe,qe,ct){this._dialogRef=Qe,this._elementRef=qe,this._dialog=ct,this.id="mat-mdc-dialog-title-"+X++}ngOnInit(){this._dialogRef||(this._dialogRef=function ge(Be,$e){let Qe=Be.nativeElement.parentElement;for(;Qe&&!Qe.classList.contains("mat-mdc-dialog-container");)Qe=Qe.parentElement;return Qe?$e.find(qe=>qe.id===Qe.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const Qe=this._dialogRef._containerInstance;Qe&&!Qe._ariaLabelledBy&&(Qe._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(qe){return new(qe||Be)(E.Y36(je,8),E.Y36(E.SBq),E.Y36(W))};static#t=this.\u0275dir=E.lG2({type:Be,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(qe,ct){2&qe&&E.Ikx("id",ct.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return Be})(),J=(()=>{class Be{static#e=this.\u0275fac=function(qe){return new(qe||Be)};static#t=this.\u0275dir=E.lG2({type:Be,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return Be})(),de=(()=>{class Be{constructor(){this.align="start"}static#e=this.\u0275fac=function(qe){return new(qe||Be)};static#t=this.\u0275dir=E.lG2({type:Be,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(qe,ct){2&qe&&E.ekj("mat-mdc-dialog-actions-align-center","center"===ct.align)("mat-mdc-dialog-actions-align-end","end"===ct.align)},inputs:{align:"align"}})}return Be})(),ce=(()=>{class Be{static#e=this.\u0275fac=function(qe){return new(qe||Be)};static#t=this.\u0275mod=E.oAB({type:Be});static#n=this.\u0275inj=E.cJS({providers:[W,ie],imports:[re,c.U8,F.eL,H.BQ,H.BQ]})}return Be})()},9157:(wn,Ze,C)=>{"use strict";C.d(Ze,{G_:()=>Ot,TO:()=>ie,KE:()=>gn,Eo:()=>$e,lN:()=>jn,bx:()=>$,hX:()=>Ae,R9:()=>Q});var c=C(5879),t=C(9388),E=C(2831),O=C(7394),b=C(8645),F=C(3019),L=C(9773),x=C(5592),g=C(2181),h=C(4552);class p extends b.x{constructor(dt=1/0,xe=1/0,fe=h.l){super(),this._bufferSize=dt,this._windowTime=xe,this._timestampProvider=fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=xe===1/0,this._bufferSize=Math.max(1,dt),this._windowTime=Math.max(1,xe)}next(dt){const{isStopped:xe,_buffer:fe,_infiniteTimeWindow:pe,_timestampProvider:at,_windowTime:mt}=this;xe||(fe.push(dt),!pe&&fe.push(at.now()+mt)),this._trimBuffer(),super.next(dt)}_subscribe(dt){this._throwIfClosed(),this._trimBuffer();const xe=this._innerSubscribe(dt),{_infiniteTimeWindow:fe,_buffer:pe}=this,at=pe.slice();for(let mt=0;mt<at.length&&!dt.closed;mt+=fe?1:2)dt.next(at[mt]);return this._checkFinalizedStatuses(dt),xe}_trimBuffer(){const{_bufferSize:dt,_timestampProvider:xe,_buffer:fe,_infiniteTimeWindow:pe}=this,at=(pe?1:2)*dt;if(dt<1/0&&at<fe.length&&fe.splice(0,fe.length-at),!pe){const mt=xe.now();let Dt=0;for(let ut=1;ut<fe.length&&fe[ut]<=mt;ut+=2)Dt=ut;Dt&&fe.splice(0,Dt+1)}}}var y=C(3020);class P{constructor(dt){this._box=dt,this._destroyed=new b.x,this._resizeSubject=new b.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(xe=>this._resizeSubject.next(xe)))}observe(dt){return this._elementObservables.has(dt)||this._elementObservables.set(dt,new x.y(xe=>{const fe=this._resizeSubject.subscribe(xe);return this._resizeObserver?.observe(dt,{box:this._box}),()=>{this._resizeObserver?.unobserve(dt),fe.unsubscribe(),this._elementObservables.delete(dt)}}).pipe((0,g.h)(xe=>xe.some(fe=>fe.target===dt)),function A(ot,dt,xe){let fe,pe=!1;return ot&&"object"==typeof ot?({bufferSize:fe=1/0,windowTime:dt=1/0,refCount:pe=!1,scheduler:xe}=ot):fe=ot??1/0,(0,y.B)({connector:()=>new p(fe,dt,xe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:pe})}({bufferSize:1,refCount:!0}),(0,L.R)(this._destroyed))),this._elementObservables.get(dt)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let V=(()=>{class ot{constructor(){this._observers=new Map,this._ngZone=(0,c.f3M)(c.R0b)}ngOnDestroy(){for(const[,xe]of this._observers)xe.destroy();this._observers.clear()}observe(xe,fe){const pe=fe?.box||"content-box";return this._observers.has(pe)||this._observers.set(pe,new P(pe)),this._observers.get(pe).observe(xe)}static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275prov=c.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();var k=C(2495),R=C(6825),D=C(6814),I=C(7131),T=C(3680);const N=["notch"],S=["matFormFieldNotchedOutline",""],B=["*"],Y=["textField"],re=["iconPrefixContainer"],se=["textPrefixContainer"];function Re(ot,dt){1&ot&&c._UZ(0,"span",19)}function z(ot,dt){if(1&ot&&(c.TgZ(0,"label",17),c.Hsn(1,1),c.YNc(2,Re,1,0,"span",18),c.qZA()),2&ot){const xe=c.oxw(2);c.Q6J("floating",xe._shouldLabelFloat())("monitorResize",xe._hasOutline())("id",xe._labelId),c.uIk("for",xe._control.id),c.xp6(2),c.Q6J("ngIf",!xe.hideRequiredMarker&&xe._control.required)}}function oe(ot,dt){if(1&ot&&c.YNc(0,z,3,5,"label",16),2&ot){const xe=c.oxw();c.Q6J("ngIf",xe._hasFloatingLabel())}}function H(ot,dt){1&ot&&c._UZ(0,"div",20)}function me(ot,dt){}function ne(ot,dt){if(1&ot&&c.YNc(0,me,0,0,"ng-template",22),2&ot){c.oxw(2);const xe=c.MAs(1);c.Q6J("ngTemplateOutlet",xe)}}function ue(ot,dt){if(1&ot&&(c.TgZ(0,"div",21),c.YNc(1,ne,1,1,"ng-template",9),c.qZA()),2&ot){const xe=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",xe._shouldLabelFloat()),c.xp6(1),c.Q6J("ngIf",!xe._forceDisplayInfixLabel())}}function Se(ot,dt){1&ot&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function Ie(ot,dt){1&ot&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function le(ot,dt){}function Me(ot,dt){if(1&ot&&c.YNc(0,le,0,0,"ng-template",22),2&ot){c.oxw();const xe=c.MAs(1);c.Q6J("ngTemplateOutlet",xe)}}function we(ot,dt){1&ot&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function _e(ot,dt){1&ot&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function Le(ot,dt){1&ot&&c._UZ(0,"div",29)}function Pe(ot,dt){if(1&ot&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&ot){const xe=c.oxw();c.Q6J("@transitionMessages",xe._subscriptAnimationState)}}function Oe(ot,dt){if(1&ot&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&ot){const xe=c.oxw(2);c.Q6J("id",xe._hintLabelId),c.xp6(1),c.Oqu(xe.hintLabel)}}function je(ot,dt){if(1&ot&&(c.TgZ(0,"div",31),c.YNc(1,Oe,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&ot){const xe=c.oxw();c.Q6J("@transitionMessages",xe._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",xe.hintLabel)}}const ze=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],He=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ae=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["mat-label"]]})}return ot})(),be=0;const K=new c.OlP("MatError");let ie=(()=>{class ot{constructor(xe,fe){this.id="mat-mdc-error-"+be++,xe||fe.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.$8M("aria-live"),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(fe,pe){2&fe&&c.Ikx("id",pe.id)},inputs:{id:"id"},features:[c._Bn([{provide:K,useExisting:ot}])]})}return ot})(),he=0,$=(()=>{class ot{constructor(){this.align="start",this.id="mat-mdc-hint-"+he++}static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(fe,pe){2&fe&&(c.Ikx("id",pe.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===pe.align))},inputs:{align:"align",id:"id"}})}return ot})();const Z=new c.OlP("MatPrefix"),X=new c.OlP("MatSuffix");let Q=(()=>{class ot{constructor(){this._isText=!1}set _isTextSelector(xe){this._isText=!0}static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:X,useExisting:ot}])]})}return ot})();const q=new c.OlP("FloatingLabelParent");let J=(()=>{class ot{get floating(){return this._floating}set floating(xe){this._floating=xe,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(xe){this._monitorResize=xe,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(xe){this._elementRef=xe,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,c.f3M)(V),this._ngZone=(0,c.f3M)(c.R0b),this._parent=(0,c.f3M)(q),this._resizeSubscription=new O.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function de(ot){if(null!==ot.offsetParent)return ot.scrollWidth;const xe=ot.cloneNode(!0);xe.style.setProperty("position","absolute"),xe.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(xe);const fe=xe.scrollWidth;return xe.remove(),fe}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(fe,pe){2&fe&&c.ekj("mdc-floating-label--float-above",pe.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return ot})();const ge="mdc-line-ripple--active",ce="mdc-line-ripple--deactivating";let Ce=(()=>{class ot{constructor(xe,fe){this._elementRef=xe,this._handleTransitionEnd=pe=>{const at=this._elementRef.nativeElement.classList,mt=at.contains(ce);"opacity"===pe.propertyName&&mt&&at.remove(ge,ce)},fe.runOutsideAngular(()=>{xe.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const xe=this._elementRef.nativeElement.classList;xe.remove(ce),xe.add(ge)}deactivate(){this._elementRef.nativeElement.classList.add(ce)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:ot,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return ot})(),Ye=(()=>{class ot{constructor(xe,fe){this._elementRef=xe,this._ngZone=fe,this.open=!1}ngAfterViewInit(){const xe=this._elementRef.nativeElement.querySelector(".mdc-floating-label");xe?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(xe.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>xe.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(xe){this._notch.nativeElement.style.width=this.open&&xe?`calc(${xe}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:ot,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(fe,pe){if(1&fe&&c.Gf(N,5),2&fe){let at;c.iGM(at=c.CRH())&&(pe._notch=at.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(fe,pe){2&fe&&c.ekj("mdc-notched-outline--notched",pe.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:S,ngContentSelectors:B,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(fe,pe){1&fe&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1,2),c.Hsn(3),c.qZA(),c._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return ot})();const Be={transitionMessages:(0,R.X$)("transitionMessages",[(0,R.SB)("enter",(0,R.oB)({opacity:1,transform:"translateY(0%)"})),(0,R.eR)("void => enter",[(0,R.oB)({opacity:0,transform:"translateY(-5px)"}),(0,R.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $e=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275dir=c.lG2({type:ot})}return ot})();const Ot=new c.OlP("MatFormField"),_t=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Rt=0,gn=(()=>{class ot{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(xe){this._hideRequiredMarker=(0,k.Ig)(xe)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(xe){xe!==this._floatLabel&&(this._floatLabel=xe,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(xe){const fe=this._appearance;this._appearance=xe||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==fe&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(xe){this._subscriptSizing=xe||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(xe){this._hintLabel=xe,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(xe){this._explicitFormFieldControl=xe}constructor(xe,fe,pe,at,mt,Dt,ut,bt){this._elementRef=xe,this._changeDetectorRef=fe,this._ngZone=pe,this._dir=at,this._platform=mt,this._defaults=Dt,this._animationMode=ut,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Rt++,this._hintLabelId="mat-mdc-hint-"+Rt++,this._subscriptAnimationState="",this._destroyed=new b.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Dt&&(Dt.appearance&&(this.appearance=Dt.appearance),this._hideRequiredMarker=!!Dt?.hideRequiredMarker,Dt.color&&(this.color=Dt.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const xe=this._control;xe.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${xe.controlType}`),xe.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),xe.ngControl&&xe.ngControl.valueChanges&&xe.ngControl.valueChanges.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(xe=>!xe._isText),this._hasTextPrefix=!!this._prefixChildren.find(xe=>xe._isText),this._hasIconSuffix=!!this._suffixChildren.find(xe=>!xe._isText),this._hasTextSuffix=!!this._suffixChildren.find(xe=>xe._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,F.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,L.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(xe){const fe=this._control?this._control.ngControl:null;return fe&&fe[xe]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let xe=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&xe.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const fe=this._hintChildren?this._hintChildren.find(at=>"start"===at.align):null,pe=this._hintChildren?this._hintChildren.find(at=>"end"===at.align):null;fe?xe.push(fe.id):this._hintLabel&&xe.push(this._hintLabelId),pe&&xe.push(pe.id)}else this._errorChildren&&xe.push(...this._errorChildren.map(fe=>fe.id));this._control.setDescribedByIds(xe)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const xe=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(xe.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const fe=this._iconPrefixContainer?.nativeElement,pe=this._textPrefixContainer?.nativeElement,at=fe?.getBoundingClientRect().width??0,mt=pe?.getBoundingClientRect().width??0;xe.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${at+mt}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const xe=this._elementRef.nativeElement;if(xe.getRootNode){const fe=xe.getRootNode();return fe&&fe!==xe}return document.documentElement.contains(xe)}static#e=this.\u0275fac=function(fe){return new(fe||ot)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(t.Is),c.Y36(E.t4),c.Y36(_t,8),c.Y36(c.QbO,8),c.Y36(D.K0))};static#t=this.\u0275cmp=c.Xpm({type:ot,selectors:[["mat-form-field"]],contentQueries:function(fe,pe,at){if(1&fe&&(c.Suo(at,Ae,5),c.Suo(at,Ae,7),c.Suo(at,$e,5),c.Suo(at,Z,5),c.Suo(at,X,5),c.Suo(at,K,5),c.Suo(at,$,5)),2&fe){let mt;c.iGM(mt=c.CRH())&&(pe._labelChildNonStatic=mt.first),c.iGM(mt=c.CRH())&&(pe._labelChildStatic=mt.first),c.iGM(mt=c.CRH())&&(pe._formFieldControl=mt.first),c.iGM(mt=c.CRH())&&(pe._prefixChildren=mt),c.iGM(mt=c.CRH())&&(pe._suffixChildren=mt),c.iGM(mt=c.CRH())&&(pe._errorChildren=mt),c.iGM(mt=c.CRH())&&(pe._hintChildren=mt)}},viewQuery:function(fe,pe){if(1&fe&&(c.Gf(Y,5),c.Gf(re,5),c.Gf(se,5),c.Gf(J,5),c.Gf(Ye,5),c.Gf(Ce,5)),2&fe){let at;c.iGM(at=c.CRH())&&(pe._textField=at.first),c.iGM(at=c.CRH())&&(pe._iconPrefixContainer=at.first),c.iGM(at=c.CRH())&&(pe._textPrefixContainer=at.first),c.iGM(at=c.CRH())&&(pe._floatingLabel=at.first),c.iGM(at=c.CRH())&&(pe._notchedOutline=at.first),c.iGM(at=c.CRH())&&(pe._lineRipple=at.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(fe,pe){2&fe&&c.ekj("mat-mdc-form-field-label-always-float",pe._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",pe._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",pe._hasIconSuffix)("mat-form-field-invalid",pe._control.errorState)("mat-form-field-disabled",pe._control.disabled)("mat-form-field-autofilled",pe._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===pe._animationMode)("mat-form-field-appearance-fill","fill"==pe.appearance)("mat-form-field-appearance-outline","outline"==pe.appearance)("mat-form-field-hide-placeholder",pe._hasFloatingLabel()&&!pe._shouldLabelFloat())("mat-focused",pe._control.focused)("mat-primary","accent"!==pe.color&&"warn"!==pe.color)("mat-accent","accent"===pe.color)("mat-warn","warn"===pe.color)("ng-untouched",pe._shouldForward("untouched"))("ng-touched",pe._shouldForward("touched"))("ng-pristine",pe._shouldForward("pristine"))("ng-dirty",pe._shouldForward("dirty"))("ng-valid",pe._shouldForward("valid"))("ng-invalid",pe._shouldForward("invalid"))("ng-pending",pe._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:Ot,useExisting:ot},{provide:q,useExisting:ot}])],ngContentSelectors:He,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(fe,pe){1&fe&&(c.F$t(ze),c.YNc(0,oe,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(mt){return pe._control.onContainerClick(mt)}),c.YNc(4,H,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,ue,2,2,"div",5),c.YNc(7,Se,3,0,"div",6),c.YNc(8,Ie,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,Me,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,we,2,0,"div",10),c.YNc(13,_e,2,0,"div",11),c.qZA(),c.YNc(14,Le,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,Pe,2,1,"div",14),c.YNc(17,je,5,2,"div",15),c.qZA()),2&fe&&(c.xp6(2),c.ekj("mdc-text-field--filled",!pe._hasOutline())("mdc-text-field--outlined",pe._hasOutline())("mdc-text-field--no-label",!pe._hasFloatingLabel())("mdc-text-field--disabled",pe._control.disabled)("mdc-text-field--invalid",pe._control.errorState),c.xp6(2),c.Q6J("ngIf",!pe._hasOutline()&&!pe._control.disabled),c.xp6(2),c.Q6J("ngIf",pe._hasOutline()),c.xp6(1),c.Q6J("ngIf",pe._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",pe._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!pe._hasOutline()||pe._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",pe._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",pe._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!pe._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===pe.subscriptSizing),c.Q6J("ngSwitch",pe._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[D.O5,D.tP,D.RF,D.n9,$,J,Ye,Ce],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Be.transitionMessages]},changeDetection:0})}return ot})(),jn=(()=>{class ot{static#e=this.\u0275fac=function(fe){return new(fe||ot)};static#t=this.\u0275mod=c.oAB({type:ot});static#n=this.\u0275inj=c.cJS({imports:[T.BQ,D.ez,I.Q8,T.BQ]})}return ot})()},2032:(wn,Ze,C)=>{"use strict";C.d(Ze,{Jk:()=>P,Nt:()=>D,c:()=>I});var c=C(2495),t=C(2831),E=C(5879),O=C(6232),b=C(8645);const F=(0,t.i$)({passive:!0});let L=(()=>{class T{constructor(S,B){this._platform=S,this._ngZone=B,this._monitoredElements=new Map}monitor(S){if(!this._platform.isBrowser)return O.E;const B=(0,c.fI)(S),Y=this._monitoredElements.get(B);if(Y)return Y.subject;const re=new b.x,se="cdk-text-field-autofilled",Re=z=>{"cdk-text-field-autofill-start"!==z.animationName||B.classList.contains(se)?"cdk-text-field-autofill-end"===z.animationName&&B.classList.contains(se)&&(B.classList.remove(se),this._ngZone.run(()=>re.next({target:z.target,isAutofilled:!1}))):(B.classList.add(se),this._ngZone.run(()=>re.next({target:z.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Re,F),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:re,unlisten:()=>{B.removeEventListener("animationstart",Re,F)}}),re}stopMonitoring(S){const B=(0,c.fI)(S),Y=this._monitoredElements.get(B);Y&&(Y.unlisten(),Y.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((S,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||T)(E.LFG(t.t4),E.LFG(E.R0b))};static#t=this.\u0275prov=E.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),h=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=E.oAB({type:T});static#n=this.\u0275inj=E.cJS({})}return T})();var p=C(95),y=C(3680),A=C(9157);const P=new E.OlP("MAT_INPUT_VALUE_ACCESSOR"),V=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let k=0;const R=(0,y.FD)(class{constructor(T,N,S,B){this._defaultErrorStateMatcher=T,this._parentForm=N,this._parentFormGroup=S,this.ngControl=B,this.stateChanges=new b.x}});let D=(()=>{class T extends R{get disabled(){return this._disabled}set disabled(S){this._disabled=(0,c.Ig)(S),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(S){this._id=S||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(p.kI.required)??!1}set required(S){this._required=(0,c.Ig)(S)}get type(){return this._type}set type(S){this._type=S||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(S){S!==this.value&&(this._inputValueAccessor.value=S,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(S){this._readonly=(0,c.Ig)(S)}constructor(S,B,Y,re,se,Re,z,oe,H,me){super(Re,re,se,Y),this._elementRef=S,this._platform=B,this._autofillMonitor=oe,this._formField=me,this._uid="mat-input-"+k++,this.focused=!1,this.stateChanges=new b.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Se=>(0,t.qK)().has(Se)),this._iOSKeyupListener=Se=>{const Ie=Se.target;!Ie.value&&0===Ie.selectionStart&&0===Ie.selectionEnd&&(Ie.setSelectionRange(1,1),Ie.setSelectionRange(0,0))};const ne=this._elementRef.nativeElement,ue=ne.nodeName.toLowerCase();this._inputValueAccessor=z||ne,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&H.runOutsideAngular(()=>{S.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ue,this._isTextarea="textarea"===ue,this._isInFormField=!!me,this._isNativeSelect&&(this.controlType=ne.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(S=>{this.autofilled=S.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(S){this._elementRef.nativeElement.focus(S)}_focusChanged(S){S!==this.focused&&(this.focused=S,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const S=this._elementRef.nativeElement.value;this._previousNativeValue!==S&&(this._previousNativeValue=S,this.stateChanges.next())}_dirtyCheckPlaceholder(){const S=this._getPlaceholder();if(S!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=S,S?B.setAttribute("placeholder",S):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){V.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let S=this._elementRef.nativeElement.validity;return S&&S.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const S=this._elementRef.nativeElement,B=S.options[0];return this.focused||S.multiple||!this.empty||!!(S.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(S){S.length?this._elementRef.nativeElement.setAttribute("aria-describedby",S.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const S=this._elementRef.nativeElement;return this._isNativeSelect&&(S.multiple||S.size>1)}static#e=this.\u0275fac=function(B){return new(B||T)(E.Y36(E.SBq),E.Y36(t.t4),E.Y36(p.a5,10),E.Y36(p.F,8),E.Y36(p.sg,8),E.Y36(y.rD),E.Y36(P,10),E.Y36(L),E.Y36(E.R0b),E.Y36(A.G_,8))};static#t=this.\u0275dir=E.lG2({type:T,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,Y){1&B&&E.NdJ("focus",function(){return Y._focusChanged(!0)})("blur",function(){return Y._focusChanged(!1)})("input",function(){return Y._onInput()}),2&B&&(E.Ikx("id",Y.id)("disabled",Y.disabled)("required",Y.required),E.uIk("name",Y.name||null)("readonly",Y.readonly&&!Y._isNativeSelect||null)("aria-invalid",Y.empty&&Y.required?null:Y.errorState)("aria-required",Y.required)("id",Y.id),E.ekj("mat-input-server",Y._isServer)("mat-mdc-form-field-textarea-control",Y._isInFormField&&Y._isTextarea)("mat-mdc-form-field-input-control",Y._isInFormField)("mdc-text-field__input",Y._isInFormField)("mat-mdc-native-select-inline",Y._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[E._Bn([{provide:A.Eo,useExisting:T}]),E.qOj,E.TTD]})}return T})(),I=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=E.oAB({type:T});static#n=this.\u0275inj=E.cJS({imports:[y.BQ,A.lN,A.lN,h,y.BQ]})}return T})()},1476:(wn,Ze,C)=>{"use strict";C.d(Ze,{NW:()=>Y,TU:()=>re,ye:()=>V});var c=C(6814),t=C(5879),E=C(8645),O=C(2296),b=C(8525),F=C(2596),L=C(3680),x=C(2495),g=C(9157);function h(se,Re){if(1&se&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&se){const z=Re.$implicit;t.Q6J("value",z),t.xp6(1),t.hij(" ",z," ")}}function p(se,Re){if(1&se){const z=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(H){t.CHM(z);const me=t.oxw(2);return t.KtG(me._changePageSize(H.value))}),t.YNc(2,h,2,2,"mat-option",18),t.qZA()()}if(2&se){const z=t.oxw(2);t.Q6J("appearance",z._formFieldAppearance)("color",z.color),t.xp6(1),t.Q6J("value",z.pageSize)("disabled",z.disabled)("aria-labelledby",z._pageSizeLabelId)("panelClass",z.selectConfig.panelClass||"")("disableOptionCentering",z.selectConfig.disableOptionCentering),t.xp6(1),t.Q6J("ngForOf",z._displayedPageSizeOptions)}}function y(se,Re){if(1&se&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&se){const z=t.oxw(2);t.xp6(1),t.Oqu(z.pageSize)}}function A(se,Re){if(1&se&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,p,3,8,"mat-form-field",14),t.YNc(4,y,2,1,"div",15),t.qZA()),2&se){const z=t.oxw();t.xp6(1),t.s9C("id",z._pageSizeLabelId),t.xp6(1),t.hij(" ",z._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",z._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",z._displayedPageSizeOptions.length<=1)}}function U(se,Re){if(1&se){const z=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(z);const H=t.oxw();return t.KtG(H.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&se){const z=t.oxw();t.Q6J("matTooltip",z._intl.firstPageLabel)("matTooltipDisabled",z._previousButtonsDisabled())("matTooltipPosition","above")("disabled",z._previousButtonsDisabled()),t.uIk("aria-label",z._intl.firstPageLabel)}}function P(se,Re){if(1&se){const z=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(z);const H=t.oxw();return t.KtG(H.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&se){const z=t.oxw();t.Q6J("matTooltip",z._intl.lastPageLabel)("matTooltipDisabled",z._nextButtonsDisabled())("matTooltipPosition","above")("disabled",z._nextButtonsDisabled()),t.uIk("aria-label",z._intl.lastPageLabel)}}let V=(()=>{class se{constructor(){this.changes=new E.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(z,oe,H)=>{if(0==H||0==oe)return`0 of ${H}`;const me=z*oe;return`${me+1} \u2013 ${me<(H=Math.max(H,0))?Math.min(me+oe,H):me+oe} of ${H}`}}static#e=this.\u0275fac=function(oe){return new(oe||se)};static#t=this.\u0275prov=t.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();const R={provide:V,deps:[[new t.FiY,new t.tp0,V]],useFactory:function k(se){return se||new V}},T=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),N=(0,L.Id)((0,L.dB)(class{}));let S=(()=>{class se extends N{get pageIndex(){return this._pageIndex}set pageIndex(z){this._pageIndex=Math.max((0,x.su)(z),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(z){this._length=(0,x.su)(z),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(z){this._pageSize=Math.max((0,x.su)(z),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(z){this._pageSizeOptions=(z||[]).map(oe=>(0,x.su)(oe)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(z){this._hidePageSize=(0,x.Ig)(z)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(z){this._showFirstLastButtons=(0,x.Ig)(z)}constructor(z,oe,H){if(super(),this._intl=z,this._changeDetectorRef=oe,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=z.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),H){const{pageSize:me,pageSizeOptions:ne,hidePageSize:ue,showFirstLastButtons:Se}=H;null!=me&&(this._pageSize=me),null!=ne&&(this._pageSizeOptions=ne),null!=ue&&(this._hidePageSize=ue),null!=Se&&(this._showFirstLastButtons=Se)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const z=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(z)}previousPage(){if(!this.hasPreviousPage())return;const z=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(z)}firstPage(){if(!this.hasPreviousPage())return;const z=this.pageIndex;this.pageIndex=0,this._emitPageEvent(z)}lastPage(){if(!this.hasNextPage())return;const z=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(z)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const z=this.getNumberOfPages()-1;return this.pageIndex<z&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(z){const H=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/z)||0,this.pageSize=z,this._emitPageEvent(H)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((z,oe)=>z-oe),this._changeDetectorRef.markForCheck())}_emitPageEvent(z){this.page.emit({previousPageIndex:z,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(oe){t.$Z()};static#t=this.\u0275dir=t.lG2({type:se,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]})}return se})(),B=0,Y=(()=>{class se extends S{constructor(z,oe,H){super(z,oe,H),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=H?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(oe){return new(oe||se)(t.Y36(V),t.Y36(t.sBO),t.Y36(T,8))};static#t=this.\u0275cmp=t.Xpm({type:se,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(oe,H){1&oe&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,A,5,4,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,U,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return H.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return H.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,P,3,5,"button",11),t.qZA()()()),2&oe&&(t.xp6(2),t.Q6J("ngIf",!H.hidePageSize),t.xp6(3),t.hij(" ",H._intl.getRangeLabel(H.pageIndex,H.pageSize,H.length)," "),t.xp6(1),t.Q6J("ngIf",H.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",H._intl.previousPageLabel)("matTooltipDisabled",H._previousButtonsDisabled())("matTooltipPosition","above")("disabled",H._previousButtonsDisabled()),t.uIk("aria-label",H._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",H._intl.nextPageLabel)("matTooltipDisabled",H._nextButtonsDisabled())("matTooltipPosition","above")("disabled",H._nextButtonsDisabled()),t.uIk("aria-label",H._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",H.showFirstLastButtons))},dependencies:[c.sg,c.O5,O.RK,g.KE,b.gD,L.ey,F.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return se})(),re=(()=>{class se{static#e=this.\u0275fac=function(oe){return new(oe||se)};static#t=this.\u0275mod=t.oAB({type:se});static#n=this.\u0275inj=t.cJS({providers:[R],imports:[c.ez,O.ot,b.LD,F.AV]})}return se})()},5940:(wn,Ze,C)=>{"use strict";C.d(Ze,{Cq:()=>U,Ou:()=>y});var c=C(5879),t=C(3680),E=C(2495),O=C(6814);const b=["determinateSpinner"];function F(P,V){if(1&P&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&P){const k=c.oxw();c.uIk("viewBox",k._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",k._strokeCircumference(),"px")("stroke-dashoffset",k._strokeCircumference()/2,"px")("stroke-width",k._circleStrokeWidth(),"%"),c.uIk("r",k._circleRadius())}}const L=(0,t.pj)(class{constructor(P){this._elementRef=P}},"primary"),x=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function g(){return{diameter:h}}}),h=100;let y=(()=>{class P extends L{constructor(k,R,D){super(k),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=h,this._noopAnimations="NoopAnimations"===R&&!!D&&!D._forceAnimations,D&&(D.color&&(this.color=this.defaultColor=D.color),D.diameter&&(this.diameter=D.diameter),D.strokeWidth&&(this.strokeWidth=D.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(k){this._value=Math.max(0,Math.min(100,(0,E.su)(k)))}get diameter(){return this._diameter}set diameter(k){this._diameter=(0,E.su)(k)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(k){this._strokeWidth=(0,E.su)(k)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const k=2*this._circleRadius()+this.strokeWidth;return`0 0 ${k} ${k}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(R){return new(R||P)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(x))};static#t=this.\u0275cmp=c.Xpm({type:P,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(R,D){if(1&R&&c.Gf(b,5),2&R){let I;c.iGM(I=c.CRH())&&(D._determinateCircle=I.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(R,D){2&R&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===D.mode?D.value:null)("mode",D.mode),c.Udp("width",D.diameter,"px")("height",D.diameter,"px")("--mdc-circular-progress-size",D.diameter+"px")("--mdc-circular-progress-active-indicator-width",D.diameter+"px"),c.ekj("_mat-animation-noopable",D._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===D.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(R,D){if(1&R&&(c.YNc(0,F,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&R){const I=c.MAs(1);c.xp6(4),c.uIk("viewBox",D._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",D._strokeCircumference(),"px")("stroke-dashoffset",D._strokeDashOffset(),"px")("stroke-width",D._circleStrokeWidth(),"%"),c.uIk("r",D._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",I),c.xp6(2),c.Q6J("ngTemplateOutlet",I),c.xp6(2),c.Q6J("ngTemplateOutlet",I)}},dependencies:[O.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return P})(),U=(()=>{class P{static#e=this.\u0275fac=function(R){return new(R||P)};static#t=this.\u0275mod=c.oAB({type:P});static#n=this.\u0275inj=c.cJS({imports:[O.ez,t.BQ]})}return P})()},8525:(wn,Ze,C)=>{"use strict";C.d(Ze,{LD:()=>be,gD:()=>Ae});var c=C(3651),t=C(6814),E=C(5879),O=C(3680),b=C(9157),F=C(799),L=C(4300),x=C(9388),g=C(2495),h=C(8337),p=C(6028),y=C(95),A=C(8645),U=C(4911),P=C(3019),V=C(7921),k=C(4664),R=C(8180),D=C(2181),I=C(7398),T=C(3997),N=C(9773),S=C(6825);const B=["trigger"],Y=["panel"];function re(K,ie){if(1&K&&(E.TgZ(0,"span",10),E._uU(1),E.qZA()),2&K){const he=E.oxw();E.xp6(1),E.Oqu(he.placeholder)}}function se(K,ie){if(1&K&&(E.TgZ(0,"span",14),E._uU(1),E.qZA()),2&K){const he=E.oxw(2);E.xp6(1),E.Oqu(he.triggerValue)}}function Re(K,ie){1&K&&E.Hsn(0,0,["*ngSwitchCase","true"])}function z(K,ie){if(1&K&&(E.TgZ(0,"span",11),E.YNc(1,se,2,1,"span",12),E.YNc(2,Re,1,0,"ng-content",13),E.qZA()),2&K){const he=E.oxw();E.Q6J("ngSwitch",!!he.customTrigger),E.xp6(2),E.Q6J("ngSwitchCase",!0)}}function oe(K,ie){if(1&K){const he=E.EpF();E.O4$(),E.kcU(),E.TgZ(0,"div",15,16),E.NdJ("@transformPanel.done",function(Z){E.CHM(he);const W=E.oxw();return E.KtG(W._panelDoneAnimatingStream.next(Z.toState))})("keydown",function(Z){E.CHM(he);const W=E.oxw();return E.KtG(W._handleKeydown(Z))}),E.Hsn(2,1),E.qZA()}if(2&K){const he=E.oxw();E.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",he._getPanelTheme(),""),E.Q6J("ngClass",he.panelClass)("@transformPanel","showing"),E.uIk("id",he.id+"-panel")("aria-multiselectable",he.multiple)("aria-label",he.ariaLabel||null)("aria-labelledby",he._getPanelAriaLabelledby())}}const H=[[["mat-select-trigger"]],"*"],me=["mat-select-trigger","*"],ne={transformPanelWrap:(0,S.X$)("transformPanelWrap",[(0,S.eR)("* => void",(0,S.IO)("@transformPanel",[(0,S.pV)()],{optional:!0}))]),transformPanel:(0,S.X$)("transformPanel",[(0,S.SB)("void",(0,S.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,S.eR)("void => showing",(0,S.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,S.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,S.eR)("* => void",(0,S.jt)("100ms linear",(0,S.oB)({opacity:0})))])};let le=0;const Me=new E.OlP("mat-select-scroll-strategy"),_e=new E.OlP("MAT_SELECT_CONFIG"),Le={provide:Me,deps:[c.aV],useFactory:function we(K){return()=>K.scrollStrategies.reposition()}},Pe=new E.OlP("MatSelectTrigger");class Oe{constructor(ie,he){this.source=ie,this.value=he}}const je=(0,O.Kr)((0,O.sb)((0,O.Id)((0,O.FD)(class{constructor(K,ie,he,$,Z){this._elementRef=K,this._defaultErrorStateMatcher=ie,this._parentForm=he,this._parentFormGroup=$,this.ngControl=Z,this.stateChanges=new A.x}}))));let ze=(()=>{class K extends je{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(he){this._placeholder=he,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(y.kI.required)??!1}set required(he){this._required=(0,g.Ig)(he),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(he){this._multiple=(0,g.Ig)(he)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(he){this._disableOptionCentering=(0,g.Ig)(he)}get compareWith(){return this._compareWith}set compareWith(he){this._compareWith=he,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(he){this._assignValue(he)&&this._onChange(he)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(he){this._typeaheadDebounceInterval=(0,g.su)(he)}get id(){return this._id}set id(he){this._id=he||this._uid,this.stateChanges.next()}constructor(he,$,Z,W,X,Q,q,J,de,ge,ce,Ce,Ye,Be){super(X,W,q,J,ge),this._viewportRuler=he,this._changeDetectorRef=$,this._ngZone=Z,this._dir=Q,this._parentFormField=de,this._liveAnnouncer=Ye,this._defaultOptions=Be,this._panelOpen=!1,this._compareWith=($e,Qe)=>$e===Qe,this._uid="mat-select-"+le++,this._triggerAriaLabelledBy=null,this._destroy=new A.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+le++,this._panelDoneAnimatingStream=new A.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,U.P)(()=>{const $e=this.options;return $e?$e.changes.pipe((0,V.O)($e),(0,k.w)(()=>(0,P.T)(...$e.map(Qe=>Qe.onSelectionChange)))):this._ngZone.onStable.pipe((0,R.q)(1),(0,k.w)(()=>this.optionSelectionChanges))}),this.openedChange=new E.vpe,this._openedStream=this.openedChange.pipe((0,D.h)($e=>$e),(0,I.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,D.h)($e=>!$e),(0,I.U)(()=>{})),this.selectionChange=new E.vpe,this.valueChange=new E.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Be?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Be.typeaheadDebounceInterval),this._scrollStrategyFactory=Ce,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ce)||0,this.id=this.id}ngOnInit(){this._selectionModel=new h.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,T.x)(),(0,N.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,N.R)(this._destroy)).subscribe(he=>{he.added.forEach($=>$.select()),he.removed.forEach($=>$.deselect())}),this.options.changes.pipe((0,V.O)(null),(0,N.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const he=this._getTriggerAriaLabelledby(),$=this.ngControl;if(he!==this._triggerAriaLabelledBy){const Z=this._elementRef.nativeElement;this._triggerAriaLabelledBy=he,he?Z.setAttribute("aria-labelledby",he):Z.removeAttribute("aria-labelledby")}$&&(this._previousControl!==$.control&&(void 0!==this._previousControl&&null!==$.disabled&&$.disabled!==this.disabled&&(this.disabled=$.disabled),this._previousControl=$.control),this.updateErrorState())}ngOnChanges(he){(he.disabled||he.userAriaDescribedBy)&&this.stateChanges.next(),he.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const he=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!he)return;const $=`${this.id}-panel`;this._trackedModal&&(0,L.iD)(this._trackedModal,"aria-owns",$),(0,L.Zf)(he,"aria-owns",$),this._trackedModal=he}_clearFromModal(){this._trackedModal&&((0,L.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(he){this._assignValue(he)}registerOnChange(he){this._onChange=he}registerOnTouched(he){this._onTouched=he}setDisabledState(he){this.disabled=he,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const he=this._selectionModel.selected.map($=>$.viewValue);return this._isRtl()&&he.reverse(),he.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(he){this.disabled||(this.panelOpen?this._handleOpenKeydown(he):this._handleClosedKeydown(he))}_handleClosedKeydown(he){const $=he.keyCode,Z=$===p.JH||$===p.LH||$===p.oh||$===p.SV,W=$===p.K5||$===p.L_,X=this._keyManager;if(!X.isTyping()&&W&&!(0,p.Vb)(he)||(this.multiple||he.altKey)&&Z)he.preventDefault(),this.open();else if(!this.multiple){const Q=this.selected;X.onKeydown(he);const q=this.selected;q&&Q!==q&&this._liveAnnouncer.announce(q.viewValue,1e4)}}_handleOpenKeydown(he){const $=this._keyManager,Z=he.keyCode,W=Z===p.JH||Z===p.LH,X=$.isTyping();if(W&&he.altKey)he.preventDefault(),this.close();else if(X||Z!==p.K5&&Z!==p.L_||!$.activeItem||(0,p.Vb)(he))if(!X&&this._multiple&&Z===p.A&&he.ctrlKey){he.preventDefault();const Q=this.options.some(q=>!q.disabled&&!q.selected);this.options.forEach(q=>{q.disabled||(Q?q.select():q.deselect())})}else{const Q=$.activeItemIndex;$.onKeydown(he),this._multiple&&W&&he.shiftKey&&$.activeItem&&$.activeItemIndex!==Q&&$.activeItem._selectViaInteraction()}else he.preventDefault(),$.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,R.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(he){if(this.options.forEach($=>$.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&he)Array.isArray(he),he.forEach($=>this._selectOptionByValue($)),this._sortValues();else{const $=this._selectOptionByValue(he);$?this._keyManager.updateActiveItem($):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(he){const $=this.options.find(Z=>{if(this._selectionModel.isSelected(Z))return!1;try{return null!=Z.value&&this._compareWith(Z.value,he)}catch{return!1}});return $&&this._selectionModel.select($),$}_assignValue(he){return!!(he!==this._value||this._multiple&&Array.isArray(he))&&(this.options&&this._setSelectionByValue(he),this._value=he,!0)}_skipPredicate(he){return he.disabled}_initKeyManager(){this._keyManager=new L.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const he=(0,P.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,N.R)(he)).subscribe($=>{this._onSelect($.source,$.isUserInput),$.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,P.T)(...this.options.map($=>$._stateChanges)).pipe((0,N.R)(he)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(he,$){const Z=this._selectionModel.isSelected(he);null!=he.value||this._multiple?(Z!==he.selected&&(he.selected?this._selectionModel.select(he):this._selectionModel.deselect(he)),$&&this._keyManager.setActiveItem(he),this.multiple&&(this._sortValues(),$&&this.focus())):(he.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(he.value)),Z!==this._selectionModel.isSelected(he)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const he=this.options.toArray();this._selectionModel.sort(($,Z)=>this.sortComparator?this.sortComparator($,Z,he):he.indexOf($)-he.indexOf(Z)),this.stateChanges.next()}}_propagateChanges(he){let $=null;$=this.multiple?this.selected.map(Z=>Z.value):this.selected?this.selected.value:he,this._value=$,this.valueChange.emit($),this._onChange($),this.selectionChange.emit(this._getChangeEvent($)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let he=-1;for(let $=0;$<this.options.length;$++)if(!this.options.get($).disabled){he=$;break}this._keyManager.setActiveItem(he)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(he){this._elementRef.nativeElement.focus(he)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const he=this._parentFormField?.getLabelId();return this.ariaLabelledby?(he?he+" ":"")+this.ariaLabelledby:he}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const he=this._parentFormField?.getLabelId();let $=(he?he+" ":"")+this._valueId;return this.ariaLabelledby&&($+=" "+this.ariaLabelledby),$}_panelDoneAnimating(he){this.openedChange.emit(he)}setDescribedByIds(he){he.length?this._elementRef.nativeElement.setAttribute("aria-describedby",he.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function($){return new($||K)(E.Y36(F.rL),E.Y36(E.sBO),E.Y36(E.R0b),E.Y36(O.rD),E.Y36(E.SBq),E.Y36(x.Is,8),E.Y36(y.F,8),E.Y36(y.sg,8),E.Y36(b.G_,8),E.Y36(y.a5,10),E.$8M("tabindex"),E.Y36(Me),E.Y36(L.Kd),E.Y36(_e,8))};static#t=this.\u0275dir=E.lG2({type:K,viewQuery:function($,Z){if(1&$&&(E.Gf(B,5),E.Gf(Y,5),E.Gf(c.pI,5)),2&$){let W;E.iGM(W=E.CRH())&&(Z.trigger=W.first),E.iGM(W=E.CRH())&&(Z.panel=W.first),E.iGM(W=E.CRH())&&(Z._overlayDir=W.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[E.qOj,E.TTD]})}return K})(),Ae=(()=>{class K extends ze{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=he=>!this.panelOpen&&he.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,N.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(he){const $=this.options.toArray()[he];if($){const Z=this.panel.nativeElement,W=(0,O.CB)(he,this.options,this.optionGroups),X=$._getHostElement();Z.scrollTop=0===he&&1===W?0:(0,O.jH)(X.offsetTop,X.offsetHeight,Z.scrollTop,Z.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(he){return new Oe(this,he)}_getOverlayWidth(he){return"auto"===this.panelWidth?(he instanceof c.xu?he.elementRef:he||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(he){this._hideSingleSelectionIndicator=(0,g.Ig)(he),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const he of this.options)he._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let he;return function(Z){return(he||(he=E.n5z(K)))(Z||K)}}();static#t=this.\u0275cmp=E.Xpm({type:K,selectors:[["mat-select"]],contentQueries:function($,Z,W){if(1&$&&(E.Suo(W,Pe,5),E.Suo(W,O.ey,5),E.Suo(W,O.K7,5)),2&$){let X;E.iGM(X=E.CRH())&&(Z.customTrigger=X.first),E.iGM(X=E.CRH())&&(Z.options=X),E.iGM(X=E.CRH())&&(Z.optionGroups=X)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function($,Z){1&$&&E.NdJ("keydown",function(X){return Z._handleKeydown(X)})("focus",function(){return Z._onFocus()})("blur",function(){return Z._onBlur()}),2&$&&(E.uIk("id",Z.id)("tabindex",Z.tabIndex)("aria-controls",Z.panelOpen?Z.id+"-panel":null)("aria-expanded",Z.panelOpen)("aria-label",Z.ariaLabel||null)("aria-required",Z.required.toString())("aria-disabled",Z.disabled.toString())("aria-invalid",Z.errorState)("aria-activedescendant",Z._getAriaActiveDescendant()),E.ekj("mat-mdc-select-disabled",Z.disabled)("mat-mdc-select-invalid",Z.errorState)("mat-mdc-select-required",Z.required)("mat-mdc-select-empty",Z.empty)("mat-mdc-select-multiple",Z.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[E._Bn([{provide:b.Eo,useExisting:K},{provide:O.HF,useExisting:K}]),E.qOj],ngContentSelectors:me,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function($,Z){if(1&$&&(E.F$t(H),E.TgZ(0,"div",0,1),E.NdJ("click",function(){return Z.toggle()}),E.TgZ(3,"div",2),E.YNc(4,re,2,1,"span",3),E.YNc(5,z,3,2,"span",4),E.qZA(),E.TgZ(6,"div",5)(7,"div",6),E.O4$(),E.TgZ(8,"svg",7),E._UZ(9,"path",8),E.qZA()()()(),E.YNc(10,oe,3,9,"ng-template",9),E.NdJ("backdropClick",function(){return Z.close()})("attach",function(){return Z._onAttached()})("detach",function(){return Z.close()})),2&$){const W=E.MAs(1);E.xp6(3),E.Q6J("ngSwitch",Z.empty),E.uIk("id",Z._valueId),E.xp6(1),E.Q6J("ngSwitchCase",!0),E.xp6(1),E.Q6J("ngSwitchCase",!1),E.xp6(5),E.Q6J("cdkConnectedOverlayPanelClass",Z._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Z._scrollStrategy)("cdkConnectedOverlayOrigin",Z._preferredOverlayOrigin||W)("cdkConnectedOverlayOpen",Z.panelOpen)("cdkConnectedOverlayPositions",Z._positions)("cdkConnectedOverlayWidth",Z._overlayWidth)}},dependencies:[t.mk,t.RF,t.n9,t.ED,c.pI,c.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[ne.transformPanel]},changeDetection:0})}return K})(),be=(()=>{class K{static#e=this.\u0275fac=function($){return new($||K)};static#t=this.\u0275mod=E.oAB({type:K});static#n=this.\u0275inj=E.cJS({providers:[Le],imports:[t.ez,c.U8,O.Ng,O.BQ,F.ZD,b.lN,O.Ng,O.BQ]})}return K})()},2939:(wn,Ze,C)=>{"use strict";C.d(Ze,{OX:()=>R,ZX:()=>z,qD:()=>D,u_:()=>I,ux:()=>ne});var c=C(5879),t=C(8645),E=C(6814),O=C(2296),b=C(6825),F=C(8484),L=C(2831),x=C(8180),g=C(9773),h=C(4300),p=C(1088),y=C(3651),A=C(3680);function U(ue,Se){if(1&ue){const Ie=c.EpF();c.TgZ(0,"div",2)(1,"button",3),c.NdJ("click",function(){c.CHM(Ie);const Me=c.oxw();return c.KtG(Me.action())}),c._uU(2),c.qZA()()}if(2&ue){const Ie=c.oxw();c.xp6(2),c.hij(" ",Ie.data.action," ")}}const P=["label"];function V(ue,Se){}const k=Math.pow(2,31)-1;class R{constructor(Se,Ie){this._overlayRef=Ie,this._afterDismissed=new t.x,this._afterOpened=new t.x,this._onAction=new t.x,this._dismissedByAction=!1,this.containerInstance=Se,Se._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Se){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Se,k))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const D=new c.OlP("MatSnackBarData");class I{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let T=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275dir=c.lG2({type:ue,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return ue})(),N=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275dir=c.lG2({type:ue,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return ue})(),S=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275dir=c.lG2({type:ue,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return ue})(),B=(()=>{class ue{constructor(Ie,le){this.snackBarRef=Ie,this.data=le}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(le){return new(le||ue)(c.Y36(R),c.Y36(D))};static#t=this.\u0275cmp=c.Xpm({type:ue,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(le,Me){1&le&&(c.TgZ(0,"div",0),c._uU(1),c.qZA(),c.YNc(2,U,3,1,"div",1)),2&le&&(c.xp6(1),c.hij(" ",Me.data.message,"\n"),c.xp6(1),c.Q6J("ngIf",Me.hasAction))},dependencies:[E.O5,O.lW,T,N,S],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return ue})();const Y={snackBarState:(0,b.X$)("state",[(0,b.SB)("void, hidden",(0,b.oB)({transform:"scale(0.8)",opacity:0})),(0,b.SB)("visible",(0,b.oB)({transform:"scale(1)",opacity:1})),(0,b.eR)("* => visible",(0,b.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,b.eR)("* => void, * => hidden",(0,b.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,b.oB)({opacity:0})))])};let re=0,se=(()=>{class ue extends F.en{constructor(Ie,le,Me,we,_e){super(),this._ngZone=Ie,this._elementRef=le,this._changeDetectorRef=Me,this._platform=we,this.snackBarConfig=_e,this._document=(0,c.f3M)(E.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new t.x,this._onExit=new t.x,this._onEnter=new t.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+re++,this.attachDomPortal=Le=>{this._assertNotAttached();const Pe=this._portalOutlet.attachDomPortal(Le);return this._afterPortalAttached(),Pe},this._live="assertive"!==_e.politeness||_e.announcementMessage?"off"===_e.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ie){this._assertNotAttached();const le=this._portalOutlet.attachComponentPortal(Ie);return this._afterPortalAttached(),le}attachTemplatePortal(Ie){this._assertNotAttached();const le=this._portalOutlet.attachTemplatePortal(Ie);return this._afterPortalAttached(),le}onAnimationEnd(Ie){const{fromState:le,toState:Me}=Ie;if(("void"===Me&&"void"!==le||"hidden"===Me)&&this._completeExit(),"visible"===Me){const we=this._onEnter;this._ngZone.run(()=>{we.next(),we.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,x.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ie=this._elementRef.nativeElement,le=this.snackBarConfig.panelClass;le&&(Array.isArray(le)?le.forEach(Me=>Ie.classList.add(Me)):Ie.classList.add(le)),this._exposeToModals()}_exposeToModals(){const Ie=this._liveElementId,le=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Me=0;Me<le.length;Me++){const we=le[Me],_e=we.getAttribute("aria-owns");this._trackedModals.add(we),_e?-1===_e.indexOf(Ie)&&we.setAttribute("aria-owns",_e+" "+Ie):we.setAttribute("aria-owns",Ie)}}_clearFromModals(){this._trackedModals.forEach(Ie=>{const le=Ie.getAttribute("aria-owns");if(le){const Me=le.replace(this._liveElementId,"").trim();Me.length>0?Ie.setAttribute("aria-owns",Me):Ie.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ie=this._elementRef.nativeElement.querySelector("[aria-hidden]"),le=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ie&&le){let Me=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ie.contains(document.activeElement)&&(Me=document.activeElement),Ie.removeAttribute("aria-hidden"),le.appendChild(Ie),Me?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(le){return new(le||ue)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(L.t4),c.Y36(I))};static#t=this.\u0275dir=c.lG2({type:ue,viewQuery:function(le,Me){if(1&le&&c.Gf(F.Pl,7),2&le){let we;c.iGM(we=c.CRH())&&(Me._portalOutlet=we.first)}},features:[c.qOj]})}return ue})(),Re=(()=>{class ue extends se{_afterPortalAttached(){super._afterPortalAttached();const Ie=this._label.nativeElement,le="mdc-snackbar__label";Ie.classList.toggle(le,!Ie.querySelector(`.${le}`))}static#e=this.\u0275fac=function(){let Ie;return function(Me){return(Ie||(Ie=c.n5z(ue)))(Me||ue)}}();static#t=this.\u0275cmp=c.Xpm({type:ue,selectors:[["mat-snack-bar-container"]],viewQuery:function(le,Me){if(1&le&&c.Gf(P,7),2&le){let we;c.iGM(we=c.CRH())&&(Me._label=we.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(le,Me){1&le&&c.WFA("@state.done",function(_e){return Me.onAnimationEnd(_e)}),2&le&&c.d8E("@state",Me._animationState)},features:[c.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(le,Me){1&le&&(c.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),c.YNc(4,V,0,0,"ng-template",4),c.qZA(),c._UZ(5,"div"),c.qZA()()),2&le&&(c.xp6(5),c.uIk("aria-live",Me._live)("role",Me._role)("id",Me._liveElementId))},dependencies:[F.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Y.snackBarState]}})}return ue})(),z=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275mod=c.oAB({type:ue});static#n=this.\u0275inj=c.cJS({imports:[y.U8,F.eL,E.ez,O.ot,A.BQ,A.BQ]})}return ue})();const H=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function oe(){return new I}});let me=(()=>{class ue{get _openedSnackBarRef(){const Ie=this._parentSnackBar;return Ie?Ie._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ie){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ie:this._snackBarRefAtThisLevel=Ie}constructor(Ie,le,Me,we,_e,Le){this._overlay=Ie,this._live=le,this._injector=Me,this._breakpointObserver=we,this._parentSnackBar=_e,this._defaultConfig=Le,this._snackBarRefAtThisLevel=null}openFromComponent(Ie,le){return this._attach(Ie,le)}openFromTemplate(Ie,le){return this._attach(Ie,le)}open(Ie,le="",Me){const we={...this._defaultConfig,...Me};return we.data={message:Ie,action:le},we.announcementMessage===Ie&&(we.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,we)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ie,le){const we=c.zs3.create({parent:le&&le.viewContainerRef&&le.viewContainerRef.injector||this._injector,providers:[{provide:I,useValue:le}]}),_e=new F.C5(this.snackBarContainerComponent,le.viewContainerRef,we),Le=Ie.attach(_e);return Le.instance.snackBarConfig=le,Le.instance}_attach(Ie,le){const Me={...new I,...this._defaultConfig,...le},we=this._createOverlay(Me),_e=this._attachSnackBarContainer(we,Me),Le=new R(_e,we);if(Ie instanceof c.Rgc){const Pe=new F.UE(Ie,null,{$implicit:Me.data,snackBarRef:Le});Le.instance=_e.attachTemplatePortal(Pe)}else{const Pe=this._createInjector(Me,Le),Oe=new F.C5(Ie,void 0,Pe),je=_e.attachComponentPortal(Oe);Le.instance=je.instance}return this._breakpointObserver.observe(p.u3.HandsetPortrait).pipe((0,g.R)(we.detachments())).subscribe(Pe=>{we.overlayElement.classList.toggle(this.handsetCssClass,Pe.matches)}),Me.announcementMessage&&_e._onAnnounce.subscribe(()=>{this._live.announce(Me.announcementMessage,Me.politeness)}),this._animateSnackBar(Le,Me),this._openedSnackBarRef=Le,this._openedSnackBarRef}_animateSnackBar(Ie,le){Ie.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ie&&(this._openedSnackBarRef=null),le.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ie.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ie.containerInstance.enter(),le.duration&&le.duration>0&&Ie.afterOpened().subscribe(()=>Ie._dismissAfter(le.duration))}_createOverlay(Ie){const le=new y.X_;le.direction=Ie.direction;let Me=this._overlay.position().global();const we="rtl"===Ie.direction,_e="left"===Ie.horizontalPosition||"start"===Ie.horizontalPosition&&!we||"end"===Ie.horizontalPosition&&we,Le=!_e&&"center"!==Ie.horizontalPosition;return _e?Me.left("0"):Le?Me.right("0"):Me.centerHorizontally(),"top"===Ie.verticalPosition?Me.top("0"):Me.bottom("0"),le.positionStrategy=Me,this._overlay.create(le)}_createInjector(Ie,le){return c.zs3.create({parent:Ie&&Ie.viewContainerRef&&Ie.viewContainerRef.injector||this._injector,providers:[{provide:R,useValue:le},{provide:D,useValue:Ie.data}]})}static#e=this.\u0275fac=function(le){return new(le||ue)(c.LFG(y.aV),c.LFG(h.Kd),c.LFG(c.zs3),c.LFG(p.Yg),c.LFG(ue,12),c.LFG(H))};static#t=this.\u0275prov=c.Yz7({token:ue,factory:ue.\u0275fac})}return ue})(),ne=(()=>{class ue extends me{constructor(Ie,le,Me,we,_e,Le){super(Ie,le,Me,we,_e,Le),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Re,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(le){return new(le||ue)(c.LFG(y.aV),c.LFG(h.Kd),c.LFG(c.zs3),c.LFG(p.Yg),c.LFG(ue,12),c.LFG(H))};static#t=this.\u0275prov=c.Yz7({token:ue,factory:ue.\u0275fac,providedIn:z})}return ue})()},3566:(wn,Ze,C)=>{"use strict";C.d(Ze,{JX:()=>Re,YE:()=>D,nU:()=>se});var c=C(5879),t=C(4300),E=C(2495),O=C(6028),b=C(3680),F=C(8645),L=C(3019),x=C(6825),g=C(6814);const h=["mat-sort-header",""];function p(z,oe){if(1&z){const H=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){c.CHM(H);const ne=c.oxw();return c.KtG(ne._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){c.CHM(H);const ne=c.oxw();return c.KtG(ne._disableViewStateAnimation=!1)}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6)(4,"div",7)(5,"div",8),c.qZA()()}if(2&z){const H=c.oxw();c.Q6J("@arrowOpacity",H._getArrowViewState())("@arrowPosition",H._getArrowViewState())("@allowChildren",H._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",H._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",H._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",H._getArrowDirectionState())}}const y=["*"],k=new c.OlP("MAT_SORT_DEFAULT_OPTIONS"),R=(0,b.dB)((0,b.Id)(class{}));let D=(()=>{class z extends R{get direction(){return this._direction}set direction(H){this._direction=H}get disableClear(){return this._disableClear}set disableClear(H){this._disableClear=(0,E.Ig)(H)}constructor(H){super(),this._defaultOptions=H,this.sortables=new Map,this._stateChanges=new F.x,this.start="asc",this._direction="",this.sortChange=new c.vpe}register(H){this.sortables.set(H.id,H)}deregister(H){this.sortables.delete(H.id)}sort(H){this.active!=H.id?(this.active=H.id,this.direction=H.start?H.start:this.start):this.direction=this.getNextSortDirection(H),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(H){if(!H)return"";let ne=function I(z,oe){let H=["asc","desc"];return"desc"==z&&H.reverse(),oe||H.push(""),H}(H.start||this.start,H?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),ue=ne.indexOf(this.direction)+1;return ue>=ne.length&&(ue=0),ne[ue]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(me){return new(me||z)(c.Y36(k,8))};static#t=this.\u0275dir=c.lG2({type:z,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]})}return z})();const T=b.mZ.ENTERING+" "+b.yN.STANDARD_CURVE,N={indicator:(0,x.X$)("indicator",[(0,x.SB)("active-asc, asc",(0,x.oB)({transform:"translateY(0px)"})),(0,x.SB)("active-desc, desc",(0,x.oB)({transform:"translateY(10px)"})),(0,x.eR)("active-asc <=> active-desc",(0,x.jt)(T))]),leftPointer:(0,x.X$)("leftPointer",[(0,x.SB)("active-asc, asc",(0,x.oB)({transform:"rotate(-45deg)"})),(0,x.SB)("active-desc, desc",(0,x.oB)({transform:"rotate(45deg)"})),(0,x.eR)("active-asc <=> active-desc",(0,x.jt)(T))]),rightPointer:(0,x.X$)("rightPointer",[(0,x.SB)("active-asc, asc",(0,x.oB)({transform:"rotate(45deg)"})),(0,x.SB)("active-desc, desc",(0,x.oB)({transform:"rotate(-45deg)"})),(0,x.eR)("active-asc <=> active-desc",(0,x.jt)(T))]),arrowOpacity:(0,x.X$)("arrowOpacity",[(0,x.SB)("desc-to-active, asc-to-active, active",(0,x.oB)({opacity:1})),(0,x.SB)("desc-to-hint, asc-to-hint, hint",(0,x.oB)({opacity:.54})),(0,x.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,x.oB)({opacity:0})),(0,x.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,x.jt)("0ms")),(0,x.eR)("* <=> *",(0,x.jt)(T))]),arrowPosition:(0,x.X$)("arrowPosition",[(0,x.eR)("* => desc-to-hint, * => desc-to-active",(0,x.jt)(T,(0,x.F4)([(0,x.oB)({transform:"translateY(-25%)"}),(0,x.oB)({transform:"translateY(0)"})]))),(0,x.eR)("* => hint-to-desc, * => active-to-desc",(0,x.jt)(T,(0,x.F4)([(0,x.oB)({transform:"translateY(0)"}),(0,x.oB)({transform:"translateY(25%)"})]))),(0,x.eR)("* => asc-to-hint, * => asc-to-active",(0,x.jt)(T,(0,x.F4)([(0,x.oB)({transform:"translateY(25%)"}),(0,x.oB)({transform:"translateY(0)"})]))),(0,x.eR)("* => hint-to-asc, * => active-to-asc",(0,x.jt)(T,(0,x.F4)([(0,x.oB)({transform:"translateY(0)"}),(0,x.oB)({transform:"translateY(-25%)"})]))),(0,x.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,x.oB)({transform:"translateY(0)"})),(0,x.SB)("hint-to-desc, active-to-desc, desc",(0,x.oB)({transform:"translateY(-25%)"})),(0,x.SB)("hint-to-asc, active-to-asc, asc",(0,x.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,x.X$)("allowChildren",[(0,x.eR)("* <=> *",[(0,x.IO)("@*",(0,x.pV)(),{optional:!0})])])};let S=(()=>{class z{constructor(){this.changes=new F.x}static#e=this.\u0275fac=function(me){return new(me||z)};static#t=this.\u0275prov=c.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();const Y={provide:S,deps:[[new c.FiY,new c.tp0,S]],useFactory:function B(z){return z||new S}},re=(0,b.Id)(class{});let se=(()=>{class z extends re{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(H){this._updateSortActionDescription(H)}get disableClear(){return this._disableClear}set disableClear(H){this._disableClear=(0,E.Ig)(H)}constructor(H,me,ne,ue,Se,Ie,le,Me){super(),this._intl=H,this._changeDetectorRef=me,this._sort=ne,this._columnDef=ue,this._focusMonitor=Se,this._elementRef=Ie,this._ariaDescriber=le,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Me?.arrowPosition&&(this.arrowPosition=Me?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(H=>{const me=!!H;me!==this._showIndicatorHint&&(this._setIndicatorHintVisible(me),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(H){this._isDisabled()&&H||(this._showIndicatorHint=H,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(H){this._viewState=H||{},this._disableViewStateAnimation&&(this._viewState={toState:H.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(H){!this._isDisabled()&&(H.keyCode===O.L_||H.keyCode===O.K5)&&(H.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const H=this._viewState.fromState;return(H?`${H}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(H){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,H)),this._sortActionDescription=H}_handleStateChanges(){this._rerenderSubscription=(0,L.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(me){return new(me||z)(c.Y36(S),c.Y36(c.sBO),c.Y36(D,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36(t.tE),c.Y36(c.SBq),c.Y36(t.$s,8),c.Y36(k,8))};static#t=this.\u0275cmp=c.Xpm({type:z,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(me,ne){1&me&&c.NdJ("click",function(){return ne._handleClick()})("keydown",function(Se){return ne._handleKeydown(Se)})("mouseenter",function(){return ne._setIndicatorHintVisible(!0)})("mouseleave",function(){return ne._setIndicatorHintVisible(!1)}),2&me&&(c.uIk("aria-sort",ne._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",ne._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[c.qOj],attrs:h,ngContentSelectors:y,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(me,ne){1&me&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,p,6,6,"div",2),c.qZA()),2&me&&(c.ekj("mat-sort-header-sorted",ne._isSorted())("mat-sort-header-position-before","before"===ne.arrowPosition),c.uIk("tabindex",ne._isDisabled()?null:0)("role",ne._isDisabled()?null:"button"),c.xp6(3),c.Q6J("ngIf",ne._renderArrow()))},dependencies:[g.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[N.indicator,N.leftPointer,N.rightPointer,N.arrowOpacity,N.arrowPosition,N.allowChildren]},changeDetection:0})}return z})(),Re=(()=>{class z{static#e=this.\u0275fac=function(me){return new(me||z)};static#t=this.\u0275mod=c.oAB({type:z});static#n=this.\u0275inj=c.cJS({providers:[Y],imports:[g.ez,b.BQ]})}return z})()},5313:(wn,Ze,C)=>{"use strict";C.d(Ze,{ev:()=>Nt,Dz:()=>pe,w1:()=>Dt,ge:()=>ut,fO:()=>at,XQ:()=>en,as:()=>Zt,Ee:()=>Tn,Gk:()=>yn,nj:()=>Ht,BZ:()=>fe,by:()=>St,p0:()=>Jn});var c=C(5879),t=C(9388),E=C(2495),O=C(8337),b=C(2831),F=C(799),L=C(6814),x=C(8645),g=C(7715),h=C(5619),p=C(2664),y=C(2096),A=C(9773),U=C(8180);const P=[[["caption"]],[["colgroup"],["col"]]],V=["caption","colgroup, col"];function D(st){return class extends st{get sticky(){return this._sticky}set sticky(Xt){const Ke=this._sticky;this._sticky=(0,E.Ig)(Xt),this._hasStickyChanged=Ke!==this._sticky}hasStickyChanged(){const Xt=this._hasStickyChanged;return this._hasStickyChanged=!1,Xt}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...Xt){super(...Xt),this._sticky=!1,this._hasStickyChanged=!1}}}const I=new c.OlP("CDK_TABLE");let N=(()=>{class st{constructor(Ke){this.template=Ke}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","cdkCellDef",""]]})}return st})(),S=(()=>{class st{constructor(Ke){this.template=Ke}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","cdkHeaderCellDef",""]]})}return st})(),B=(()=>{class st{constructor(Ke){this.template=Ke}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","cdkFooterCellDef",""]]})}return st})();class Y{}const re=D(Y);let se=(()=>{class st extends re{get name(){return this._name}set name(Ke){this._setNameInput(Ke)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Ke){const nt=this._stickyEnd;this._stickyEnd=(0,E.Ig)(Ke),this._hasStickyChanged=nt!==this._stickyEnd}constructor(Ke){super(),this._table=Ke,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Ke){Ke&&(this._name=Ke,this.cssClassFriendlyName=Ke.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(I,8))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","cdkColumnDef",""]],contentQueries:function(nt,Ct,Yt){if(1&nt&&(c.Suo(Yt,N,5),c.Suo(Yt,S,5),c.Suo(Yt,B,5)),2&nt){let Vt;c.iGM(Vt=c.CRH())&&(Ct.cell=Vt.first),c.iGM(Vt=c.CRH())&&(Ct.headerCell=Vt.first),c.iGM(Vt=c.CRH())&&(Ct.footerCell=Vt.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:st}]),c.qOj]})}return st})();class Re{constructor(Xt,Ke){Ke.nativeElement.classList.add(...Xt._columnCssClassName)}}let z=(()=>{class st extends Re{constructor(Ke,nt){super(Ke,nt)}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(se),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]})}return st})(),H=(()=>{class st extends Re{constructor(Ke,nt){if(super(Ke,nt),1===Ke._table?._elementRef.nativeElement.nodeType){const Ct=Ke._table._elementRef.nativeElement.getAttribute("role");nt.nativeElement.setAttribute("role","grid"===Ct||"treegrid"===Ct?"gridcell":"cell")}}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(se),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]})}return st})();class me{constructor(){this.tasks=[],this.endTasks=[]}}const ne=new c.OlP("_COALESCED_STYLE_SCHEDULER");let ue=(()=>{class st{constructor(Ke){this._ngZone=Ke,this._currentSchedule=null,this._destroyed=new x.x}schedule(Ke){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Ke)}scheduleEnd(Ke){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Ke)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new me,this._getScheduleObservable().pipe((0,A.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Ke=this._currentSchedule;this._currentSchedule=new me;for(const nt of Ke.tasks)nt();for(const nt of Ke.endTasks)nt()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,g.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,U.q)(1))}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:st,factory:st.\u0275fac})}return st})(),Ie=(()=>{class st{constructor(Ke,nt){this.template=Ke,this._differs=nt}ngOnChanges(Ke){if(!this._columnsDiffer){const nt=Ke.columns&&Ke.columns.currentValue||[];this._columnsDiffer=this._differs.find(nt).create(),this._columnsDiffer.diff(nt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Ke){return this instanceof we?Ke.headerCell.template:this instanceof Pe?Ke.footerCell.template:Ke.cell.template}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:st,features:[c.TTD]})}return st})();class le extends Ie{}const Me=D(le);let we=(()=>{class st extends Me{constructor(Ke,nt,Ct){super(Ke,nt),this._table=Ct}ngOnChanges(Ke){super.ngOnChanges(Ke)}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(I,8))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return st})();class _e extends Ie{}const Le=D(_e);let Pe=(()=>{class st extends Le{constructor(Ke,nt,Ct){super(Ke,nt),this._table=Ct}ngOnChanges(Ke){super.ngOnChanges(Ke)}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(I,8))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return st})(),Oe=(()=>{class st extends Ie{constructor(Ke,nt,Ct){super(Ke,nt),this._table=Ct}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(I,8))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]})}return st})(),je=(()=>{class st{static#e=this.mostRecentCellOutlet=null;constructor(Ke){this._viewContainer=Ke,st.mostRecentCellOutlet=this}ngOnDestroy(){st.mostRecentCellOutlet===this&&(st.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.s_b))};static#n=this.\u0275dir=c.lG2({type:st,selectors:[["","cdkCellOutlet",""]]})}return st})(),ze=(()=>{class st{static#e=this.\u0275fac=function(nt){return new(nt||st)};static#t=this.\u0275cmp=c.Xpm({type:st,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(nt,Ct){1&nt&&c.GkF(0,0)},dependencies:[je],encapsulation:2})}return st})(),Ae=(()=>{class st{static#e=this.\u0275fac=function(nt){return new(nt||st)};static#t=this.\u0275cmp=c.Xpm({type:st,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(nt,Ct){1&nt&&c.GkF(0,0)},dependencies:[je],encapsulation:2})}return st})(),be=(()=>{class st{constructor(Ke){this.templateRef=Ke,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["ng-template","cdkNoDataRow",""]]})}return st})();const K=["top","bottom","left","right"];class ie{constructor(Xt,Ke,nt,Ct,Yt=!0,Vt=!0,_n){this._isNativeHtmlTable=Xt,this._stickCellCss=Ke,this.direction=nt,this._coalescedStyleScheduler=Ct,this._isBrowser=Yt,this._needsPositionStickyOnElement=Vt,this._positionListener=_n,this._cachedCellWidths=[],this._borderCellCss={top:`${Ke}-border-elem-top`,bottom:`${Ke}-border-elem-bottom`,left:`${Ke}-border-elem-left`,right:`${Ke}-border-elem-right`}}clearStickyPositioning(Xt,Ke){const nt=[];for(const Ct of Xt)if(Ct.nodeType===Ct.ELEMENT_NODE){nt.push(Ct);for(let Yt=0;Yt<Ct.children.length;Yt++)nt.push(Ct.children[Yt])}this._coalescedStyleScheduler.schedule(()=>{for(const Ct of nt)this._removeStickyStyle(Ct,Ke)})}updateStickyColumns(Xt,Ke,nt,Ct=!0){if(!Xt.length||!this._isBrowser||!Ke.some(bn=>bn)&&!nt.some(bn=>bn))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Yt=Xt[0],Vt=Yt.children.length,_n=this._getCellWidths(Yt,Ct),kt=this._getStickyStartColumnPositions(_n,Ke),It=this._getStickyEndColumnPositions(_n,nt),Bt=Ke.lastIndexOf(!0),sn=nt.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const bn="rtl"===this.direction,Bn=bn?"right":"left",ht=bn?"left":"right";for(const rn of Xt)for(let ve=0;ve<Vt;ve++){const lt=rn.children[ve];Ke[ve]&&this._addStickyStyle(lt,Bn,kt[ve],ve===Bt),nt[ve]&&this._addStickyStyle(lt,ht,It[ve],ve===sn)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Bt?[]:_n.slice(0,Bt+1).map((rn,ve)=>Ke[ve]?rn:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===sn?[]:_n.slice(sn).map((rn,ve)=>nt[ve+sn]?rn:null).reverse()}))})}stickRows(Xt,Ke,nt){if(!this._isBrowser)return;const Ct="bottom"===nt?Xt.slice().reverse():Xt,Yt="bottom"===nt?Ke.slice().reverse():Ke,Vt=[],_n=[],kt=[];for(let Bt=0,sn=0;Bt<Ct.length;Bt++){if(!Yt[Bt])continue;Vt[Bt]=sn;const bn=Ct[Bt];kt[Bt]=this._isNativeHtmlTable?Array.from(bn.children):[bn];const Bn=bn.getBoundingClientRect().height;sn+=Bn,_n[Bt]=Bn}const It=Yt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let Bt=0;Bt<Ct.length;Bt++){if(!Yt[Bt])continue;const sn=Vt[Bt],bn=Bt===It;for(const Bn of kt[Bt])this._addStickyStyle(Bn,nt,sn,bn)}"top"===nt?this._positionListener?.stickyHeaderRowsUpdated({sizes:_n,offsets:Vt,elements:kt}):this._positionListener?.stickyFooterRowsUpdated({sizes:_n,offsets:Vt,elements:kt})})}updateStickyFooterContainer(Xt,Ke){if(!this._isNativeHtmlTable)return;const nt=Xt.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{Ke.some(Ct=>!Ct)?this._removeStickyStyle(nt,["bottom"]):this._addStickyStyle(nt,"bottom",0,!1)})}_removeStickyStyle(Xt,Ke){for(const Ct of Ke)Xt.style[Ct]="",Xt.classList.remove(this._borderCellCss[Ct]);K.some(Ct=>-1===Ke.indexOf(Ct)&&Xt.style[Ct])?Xt.style.zIndex=this._getCalculatedZIndex(Xt):(Xt.style.zIndex="",this._needsPositionStickyOnElement&&(Xt.style.position=""),Xt.classList.remove(this._stickCellCss))}_addStickyStyle(Xt,Ke,nt,Ct){Xt.classList.add(this._stickCellCss),Ct&&Xt.classList.add(this._borderCellCss[Ke]),Xt.style[Ke]=`${nt}px`,Xt.style.zIndex=this._getCalculatedZIndex(Xt),this._needsPositionStickyOnElement&&(Xt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Xt){const Ke={top:100,bottom:10,left:1,right:1};let nt=0;for(const Ct of K)Xt.style[Ct]&&(nt+=Ke[Ct]);return nt?`${nt}`:""}_getCellWidths(Xt,Ke=!0){if(!Ke&&this._cachedCellWidths.length)return this._cachedCellWidths;const nt=[],Ct=Xt.children;for(let Yt=0;Yt<Ct.length;Yt++)nt.push(Ct[Yt].getBoundingClientRect().width);return this._cachedCellWidths=nt,nt}_getStickyStartColumnPositions(Xt,Ke){const nt=[];let Ct=0;for(let Yt=0;Yt<Xt.length;Yt++)Ke[Yt]&&(nt[Yt]=Ct,Ct+=Xt[Yt]);return nt}_getStickyEndColumnPositions(Xt,Ke){const nt=[];let Ct=0;for(let Yt=Xt.length;Yt>0;Yt--)Ke[Yt]&&(nt[Yt]=Ct,Ct+=Xt[Yt]);return nt}}const de=new c.OlP("CDK_SPL");let ce=(()=>{class st{constructor(Ke,nt){this.viewContainer=Ke,this.elementRef=nt}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","rowOutlet",""]]})}return st})(),Ce=(()=>{class st{constructor(Ke,nt){this.viewContainer=Ke,this.elementRef=nt}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","headerRowOutlet",""]]})}return st})(),Ye=(()=>{class st{constructor(Ke,nt){this.viewContainer=Ke,this.elementRef=nt}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","footerRowOutlet",""]]})}return st})(),Be=(()=>{class st{constructor(Ke,nt){this.viewContainer=Ke,this.elementRef=nt}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","noDataRowOutlet",""]]})}return st})(),qe=(()=>{class st{get trackBy(){return this._trackByFn}set trackBy(Ke){this._trackByFn=Ke}get dataSource(){return this._dataSource}set dataSource(Ke){this._dataSource!==Ke&&this._switchDataSource(Ke)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Ke){this._multiTemplateDataRows=(0,E.Ig)(Ke),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Ke){this._fixedLayout=(0,E.Ig)(Ke),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(Ke,nt,Ct,Yt,Vt,_n,kt,It,Bt,sn,bn,Bn){this._differs=Ke,this._changeDetectorRef=nt,this._elementRef=Ct,this._dir=Vt,this._platform=kt,this._viewRepeater=It,this._coalescedStyleScheduler=Bt,this._viewportRuler=sn,this._stickyPositioningListener=bn,this._ngZone=Bn,this._onDestroy=new x.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new h.X({start:0,end:Number.MAX_VALUE}),Yt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=_n,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((Ke,nt)=>this.trackBy?this.trackBy(nt.dataIndex,nt.data):nt),this._viewportRuler.change().pipe((0,A.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const nt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||nt,this._forceRecalculateCellWidths=nt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Ke=>{Ke.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,O.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Ke=this._dataDiffer.diff(this._renderRows);if(!Ke)return this._updateNoDataRow(),void this.contentChanged.next();const nt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Ke,nt,(Ct,Yt,Vt)=>this._getEmbeddedViewArgs(Ct.item,Vt),Ct=>Ct.item.data,Ct=>{1===Ct.operation&&Ct.context&&this._renderCellTemplateForItem(Ct.record.item.rowDef,Ct.context)}),this._updateRowIndexContext(),Ke.forEachIdentityChange(Ct=>{nt.get(Ct.currentIndex).context.$implicit=Ct.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,U.q)(1),(0,A.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(Ke){this._customColumnDefs.add(Ke)}removeColumnDef(Ke){this._customColumnDefs.delete(Ke)}addRowDef(Ke){this._customRowDefs.add(Ke)}removeRowDef(Ke){this._customRowDefs.delete(Ke)}addHeaderRowDef(Ke){this._customHeaderRowDefs.add(Ke),this._headerRowDefChanged=!0}removeHeaderRowDef(Ke){this._customHeaderRowDefs.delete(Ke),this._headerRowDefChanged=!0}addFooterRowDef(Ke){this._customFooterRowDefs.add(Ke),this._footerRowDefChanged=!0}removeFooterRowDef(Ke){this._customFooterRowDefs.delete(Ke),this._footerRowDefChanged=!0}setNoDataRow(Ke){this._customNoDataRow=Ke}updateStickyHeaderRowStyles(){const Ke=this._getRenderedRows(this._headerRowOutlet),Ct=this._elementRef.nativeElement.querySelector("thead");Ct&&(Ct.style.display=Ke.length?"":"none");const Yt=this._headerRowDefs.map(Vt=>Vt.sticky);this._stickyStyler.clearStickyPositioning(Ke,["top"]),this._stickyStyler.stickRows(Ke,Yt,"top"),this._headerRowDefs.forEach(Vt=>Vt.resetStickyChanged())}updateStickyFooterRowStyles(){const Ke=this._getRenderedRows(this._footerRowOutlet),Ct=this._elementRef.nativeElement.querySelector("tfoot");Ct&&(Ct.style.display=Ke.length?"":"none");const Yt=this._footerRowDefs.map(Vt=>Vt.sticky);this._stickyStyler.clearStickyPositioning(Ke,["bottom"]),this._stickyStyler.stickRows(Ke,Yt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Yt),this._footerRowDefs.forEach(Vt=>Vt.resetStickyChanged())}updateStickyColumnStyles(){const Ke=this._getRenderedRows(this._headerRowOutlet),nt=this._getRenderedRows(this._rowOutlet),Ct=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Ke,...nt,...Ct],["left","right"]),this._stickyColumnStylesNeedReset=!1),Ke.forEach((Yt,Vt)=>{this._addStickyColumnStyles([Yt],this._headerRowDefs[Vt])}),this._rowDefs.forEach(Yt=>{const Vt=[];for(let _n=0;_n<nt.length;_n++)this._renderRows[_n].rowDef===Yt&&Vt.push(nt[_n]);this._addStickyColumnStyles(Vt,Yt)}),Ct.forEach((Yt,Vt)=>{this._addStickyColumnStyles([Yt],this._footerRowDefs[Vt])}),Array.from(this._columnDefsByName.values()).forEach(Yt=>Yt.resetStickyChanged())}_getAllRenderRows(){const Ke=[],nt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Ct=0;Ct<this._data.length;Ct++){let Yt=this._data[Ct];const Vt=this._getRenderRowsForData(Yt,Ct,nt.get(Yt));this._cachedRenderRowsMap.has(Yt)||this._cachedRenderRowsMap.set(Yt,new WeakMap);for(let _n=0;_n<Vt.length;_n++){let kt=Vt[_n];const It=this._cachedRenderRowsMap.get(kt.data);It.has(kt.rowDef)?It.get(kt.rowDef).push(kt):It.set(kt.rowDef,[kt]),Ke.push(kt)}}return Ke}_getRenderRowsForData(Ke,nt,Ct){return this._getRowDefs(Ke,nt).map(Vt=>{const _n=Ct&&Ct.has(Vt)?Ct.get(Vt):[];if(_n.length){const kt=_n.shift();return kt.dataIndex=nt,kt}return{data:Ke,rowDef:Vt,dataIndex:nt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ct(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(nt=>{this._columnDefsByName.has(nt.name),this._columnDefsByName.set(nt.name,nt)})}_cacheRowDefs(){this._headerRowDefs=ct(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ct(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ct(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Ke=this._rowDefs.filter(nt=>!nt.when);this._defaultRowDef=Ke[0]}_renderUpdatedColumns(){const Ke=(Vt,_n)=>Vt||!!_n.getColumnsDiff(),nt=this._rowDefs.reduce(Ke,!1);nt&&this._forceRenderDataRows();const Ct=this._headerRowDefs.reduce(Ke,!1);Ct&&this._forceRenderHeaderRows();const Yt=this._footerRowDefs.reduce(Ke,!1);return Yt&&this._forceRenderFooterRows(),nt||Ct||Yt}_switchDataSource(Ke){this._data=[],(0,O.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Ke||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=Ke}_observeRenderChanges(){if(!this.dataSource)return;let Ke;(0,O.Z9)(this.dataSource)?Ke=this.dataSource.connect(this):(0,p.b)(this.dataSource)?Ke=this.dataSource:Array.isArray(this.dataSource)&&(Ke=(0,y.of)(this.dataSource)),this._renderChangeSubscription=Ke.pipe((0,A.R)(this._onDestroy)).subscribe(nt=>{this._data=nt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Ke,nt)=>this._renderRow(this._headerRowOutlet,Ke,nt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Ke,nt)=>this._renderRow(this._footerRowOutlet,Ke,nt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Ke,nt){const Ct=Array.from(nt.columns||[]).map(_n=>this._columnDefsByName.get(_n)),Yt=Ct.map(_n=>_n.sticky),Vt=Ct.map(_n=>_n.stickyEnd);this._stickyStyler.updateStickyColumns(Ke,Yt,Vt,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Ke){const nt=[];for(let Ct=0;Ct<Ke.viewContainer.length;Ct++){const Yt=Ke.viewContainer.get(Ct);nt.push(Yt.rootNodes[0])}return nt}_getRowDefs(Ke,nt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Ct=[];if(this.multiTemplateDataRows)Ct=this._rowDefs.filter(Yt=>!Yt.when||Yt.when(nt,Ke));else{let Yt=this._rowDefs.find(Vt=>Vt.when&&Vt.when(nt,Ke))||this._defaultRowDef;Yt&&Ct.push(Yt)}return Ct}_getEmbeddedViewArgs(Ke,nt){return{templateRef:Ke.rowDef.template,context:{$implicit:Ke.data},index:nt}}_renderRow(Ke,nt,Ct,Yt={}){const Vt=Ke.viewContainer.createEmbeddedView(nt.template,Yt,Ct);return this._renderCellTemplateForItem(nt,Yt),Vt}_renderCellTemplateForItem(Ke,nt){for(let Ct of this._getCellTemplates(Ke))je.mostRecentCellOutlet&&je.mostRecentCellOutlet._viewContainer.createEmbeddedView(Ct,nt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Ke=this._rowOutlet.viewContainer;for(let nt=0,Ct=Ke.length;nt<Ct;nt++){const Vt=Ke.get(nt).context;Vt.count=Ct,Vt.first=0===nt,Vt.last=nt===Ct-1,Vt.even=nt%2==0,Vt.odd=!Vt.even,this.multiTemplateDataRows?(Vt.dataIndex=this._renderRows[nt].dataIndex,Vt.renderIndex=nt):Vt.index=this._renderRows[nt].dataIndex}}_getCellTemplates(Ke){return Ke&&Ke.columns?Array.from(Ke.columns,nt=>{const Ct=this._columnDefsByName.get(nt);return Ke.extractCellTemplate(Ct)}):[]}_applyNativeTableSections(){const Ke=this._document.createDocumentFragment(),nt=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Ct of nt){const Yt=this._document.createElement(Ct.tag);Yt.setAttribute("role","rowgroup");for(const Vt of Ct.outlets)Yt.appendChild(Vt.elementRef.nativeElement);Ke.appendChild(Yt)}this._elementRef.nativeElement.appendChild(Ke)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Ke=(nt,Ct)=>nt||Ct.hasStickyChanged();this._headerRowDefs.reduce(Ke,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Ke,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Ke,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ie(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,y.of)()).pipe((0,A.R)(this._onDestroy)).subscribe(nt=>{this._stickyStyler.direction=nt,this.updateStickyColumnStyles()})}_getOwnDefs(Ke){return Ke.filter(nt=>!nt._table||nt._table===this)}_updateNoDataRow(){const Ke=this._customNoDataRow||this._noDataRow;if(!Ke)return;const nt=0===this._rowOutlet.viewContainer.length;if(nt===this._isShowingNoDataRow)return;const Ct=this._noDataRowOutlet.viewContainer;if(nt){const Yt=Ct.createEmbeddedView(Ke.templateRef),Vt=Yt.rootNodes[0];1===Yt.rootNodes.length&&Vt?.nodeType===this._document.ELEMENT_NODE&&(Vt.setAttribute("role","row"),Vt.classList.add(Ke._contentClassName))}else Ct.clear();this._isShowingNoDataRow=nt}static#e=this.\u0275fac=function(nt){return new(nt||st)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(t.Is,8),c.Y36(L.K0),c.Y36(b.t4),c.Y36(O.k),c.Y36(ne),c.Y36(F.rL),c.Y36(de,12),c.Y36(c.R0b,8))};static#t=this.\u0275cmp=c.Xpm({type:st,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(nt,Ct,Yt){if(1&nt&&(c.Suo(Yt,be,5),c.Suo(Yt,se,5),c.Suo(Yt,Oe,5),c.Suo(Yt,we,5),c.Suo(Yt,Pe,5)),2&nt){let Vt;c.iGM(Vt=c.CRH())&&(Ct._noDataRow=Vt.first),c.iGM(Vt=c.CRH())&&(Ct._contentColumnDefs=Vt),c.iGM(Vt=c.CRH())&&(Ct._contentRowDefs=Vt),c.iGM(Vt=c.CRH())&&(Ct._contentHeaderRowDefs=Vt),c.iGM(Vt=c.CRH())&&(Ct._contentFooterRowDefs=Vt)}},viewQuery:function(nt,Ct){if(1&nt&&(c.Gf(ce,7),c.Gf(Ce,7),c.Gf(Ye,7),c.Gf(Be,7)),2&nt){let Yt;c.iGM(Yt=c.CRH())&&(Ct._rowOutlet=Yt.first),c.iGM(Yt=c.CRH())&&(Ct._headerRowOutlet=Yt.first),c.iGM(Yt=c.CRH())&&(Ct._footerRowOutlet=Yt.first),c.iGM(Yt=c.CRH())&&(Ct._noDataRowOutlet=Yt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(nt,Ct){2&nt&&c.ekj("cdk-table-fixed-layout",Ct.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:I,useExisting:st},{provide:O.k,useClass:O.yy},{provide:ne,useClass:ue},{provide:de,useValue:null}])],ngContentSelectors:V,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(nt,Ct){1&nt&&(c.F$t(P),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ce,Ce,Ye,Be],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return st})();function ct(st,Xt){return st.concat(Array.from(Xt))}let Rt=(()=>{class st{static#e=this.\u0275fac=function(nt){return new(nt||st)};static#t=this.\u0275mod=c.oAB({type:st});static#n=this.\u0275inj=c.cJS({imports:[F.Cl]})}return st})();var Gt=C(3680),$t=C(3019),Qt=C(2572),dn=C(7398);const gn=[[["caption"]],[["colgroup"],["col"]]],jn=["caption","colgroup, col"];let fe=(()=>{class st extends qe{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275cmp=c.Xpm({type:st,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(nt,Ct){2&nt&&c.ekj("mdc-table-fixed-layout",Ct.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:qe,useExisting:st},{provide:I,useExisting:st},{provide:ne,useClass:ue},{provide:O.k,useClass:O.yy},{provide:de,useValue:null}]),c.qOj],ngContentSelectors:jn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(nt,Ct){1&nt&&(c.F$t(gn),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ce,Ce,Ye,Be],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return st})(),pe=(()=>{class st extends N{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:N,useExisting:st}]),c.qOj]})}return st})(),at=(()=>{class st extends S{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:S,useExisting:st}]),c.qOj]})}return st})(),Dt=(()=>{class st extends se{get name(){return this._name}set name(Ke){this._setNameInput(Ke)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:se,useExisting:st},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:st}]),c.qOj]})}return st})(),ut=(()=>{class st extends z{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275dir=c.lG2({type:st,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]})}return st})(),Nt=(()=>{class st extends H{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275dir=c.lG2({type:st,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]})}return st})(),Zt=(()=>{class st extends we{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:we,useExisting:st}]),c.qOj]})}return st})(),Ht=(()=>{class st extends Oe{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:Oe,useExisting:st}]),c.qOj]})}return st})(),en=(()=>{class st extends ze{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275cmp=c.Xpm({type:st,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:ze,useExisting:st}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(nt,Ct){1&nt&&c.GkF(0,0)},dependencies:[je],encapsulation:2})}return st})(),yn=(()=>{class st extends Ae{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275cmp=c.Xpm({type:st,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:Ae,useExisting:st}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(nt,Ct){1&nt&&c.GkF(0,0)},dependencies:[je],encapsulation:2})}return st})(),Tn=(()=>{class st extends be{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(st)))(Ct||st)}}();static#t=this.\u0275dir=c.lG2({type:st,selectors:[["ng-template","matNoDataRow",""]],features:[c._Bn([{provide:be,useExisting:st}]),c.qOj]})}return st})(),Jn=(()=>{class st{static#e=this.\u0275fac=function(nt){return new(nt||st)};static#t=this.\u0275mod=c.oAB({type:st});static#n=this.\u0275inj=c.cJS({imports:[Gt.BQ,Rt,Gt.BQ]})}return st})();class Ft extends O.o2{get data(){return this._data.value}set data(Xt){Xt=Array.isArray(Xt)?Xt:[],this._data.next(Xt),this._renderChangesSubscription||this._filterData(Xt)}get filter(){return this._filter.value}set filter(Xt){this._filter.next(Xt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Xt){this._sort=Xt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Xt){this._paginator=Xt,this._updateChangeSubscription()}constructor(Xt=[]){super(),this._renderData=new h.X([]),this._filter=new h.X(""),this._internalPageChanges=new x.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(Ke,nt)=>{const Ct=Ke[nt];if((0,E.t6)(Ct)){const Yt=Number(Ct);return Yt<9007199254740991?Yt:Ct}return Ct},this.sortData=(Ke,nt)=>{const Ct=nt.active,Yt=nt.direction;return Ct&&""!=Yt?Ke.sort((Vt,_n)=>{let kt=this.sortingDataAccessor(Vt,Ct),It=this.sortingDataAccessor(_n,Ct);const Bt=typeof kt,sn=typeof It;Bt!==sn&&("number"===Bt&&(kt+=""),"number"===sn&&(It+=""));let bn=0;return null!=kt&&null!=It?kt>It?bn=1:kt<It&&(bn=-1):null!=kt?bn=1:null!=It&&(bn=-1),bn*("asc"==Yt?1:-1)}):Ke},this.filterPredicate=(Ke,nt)=>{const Ct=Object.keys(Ke).reduce((Vt,_n)=>Vt+Ke[_n]+"\u25ec","").toLowerCase(),Yt=nt.trim().toLowerCase();return-1!=Ct.indexOf(Yt)},this._data=new h.X(Xt),this._updateChangeSubscription()}_updateChangeSubscription(){const Xt=this._sort?(0,$t.T)(this._sort.sortChange,this._sort.initialized):(0,y.of)(null),Ke=this._paginator?(0,$t.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,y.of)(null),Ct=(0,Qt.a)([this._data,this._filter]).pipe((0,dn.U)(([_n])=>this._filterData(_n))),Yt=(0,Qt.a)([Ct,Xt]).pipe((0,dn.U)(([_n])=>this._orderData(_n))),Vt=(0,Qt.a)([Yt,Ke]).pipe((0,dn.U)(([_n])=>this._pageData(_n)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=Vt.subscribe(_n=>this._renderData.next(_n))}_filterData(Xt){return this.filteredData=null==this.filter||""===this.filter?Xt:Xt.filter(Ke=>this.filterPredicate(Ke,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Xt){return this.sort?this.sortData(Xt.slice(),this.sort):Xt}_pageData(Xt){if(!this.paginator)return Xt;const Ke=this.paginator.pageIndex*this.paginator.pageSize;return Xt.slice(Ke,Ke+this.paginator.pageSize)}_updatePaginator(Xt){Promise.resolve().then(()=>{const Ke=this.paginator;if(Ke&&(Ke.length=Xt,Ke.pageIndex>0)){const nt=Math.ceil(Ke.length/Ke.pageSize)-1||0,Ct=Math.min(Ke.pageIndex,nt);Ct!==Ke.pageIndex&&(Ke.pageIndex=Ct,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class St extends Ft{}},2596:(wn,Ze,C)=>{"use strict";C.d(Ze,{AV:()=>le,gM:()=>ne});var c=C(9773),t=C(8180),E=C(2495),O=C(6028),b=C(5879),F=C(6814),L=C(2831),x=C(4300),g=C(9388),h=C(3651),p=C(799),y=C(8484),A=C(8645),P=(C(6825),C(3680));const V=["tooltip"],D=new b.OlP("mat-tooltip-scroll-strategy"),T={provide:D,deps:[h.aV],useFactory:function I(Me){return()=>Me.scrollStrategies.reposition({scrollThrottle:20})}},S=new b.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function N(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Y="tooltip-panel",re=(0,L.i$)({passive:!0});let me=(()=>{class Me{get position(){return this._position}set position(_e){_e!==this._position&&(this._position=_e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(_e){this._positionAtOrigin=(0,E.Ig)(_e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(_e){this._disabled=(0,E.Ig)(_e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(_e){this._showDelay=(0,E.su)(_e)}get hideDelay(){return this._hideDelay}set hideDelay(_e){this._hideDelay=(0,E.su)(_e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(_e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=_e?String(_e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(_e){this._tooltipClass=_e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(_e,Le,Pe,Oe,je,ze,He,Ae,be,K,ie,he){this._overlay=_e,this._elementRef=Le,this._scrollDispatcher=Pe,this._viewContainerRef=Oe,this._ngZone=je,this._platform=ze,this._ariaDescriber=He,this._focusMonitor=Ae,this._dir=K,this._defaultOptions=ie,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new A.x,this._scrollStrategy=be,this._document=he,ie&&(this._showDelay=ie.showDelay,this._hideDelay=ie.hideDelay,ie.position&&(this.position=ie.position),ie.positionAtOrigin&&(this.positionAtOrigin=ie.positionAtOrigin),ie.touchGestures&&(this.touchGestures=ie.touchGestures)),K.change.pipe((0,c.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,c.R)(this._destroyed)).subscribe(_e=>{_e?"keyboard"===_e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const _e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Le,Pe])=>{_e.removeEventListener(Le,Pe,re)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(_e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(_e)}show(_e=this.showDelay,Le){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Pe=this._createOverlay(Le);this._detach(),this._portal=this._portal||new y.C5(this._tooltipComponent,this._viewContainerRef);const Oe=this._tooltipInstance=Pe.attach(this._portal).instance;Oe._triggerElement=this._elementRef.nativeElement,Oe._mouseLeaveHideDelay=this._hideDelay,Oe.afterHidden().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Oe.show(_e)}hide(_e=this.hideDelay){const Le=this._tooltipInstance;Le&&(Le.isVisible()?Le.hide(_e):(Le._cancelPendingAnimations(),this._detach()))}toggle(_e){this._isTooltipVisible()?this.hide():this.show(void 0,_e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(_e){if(this._overlayRef){const Oe=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!_e)&&Oe._origin instanceof b.SBq)return this._overlayRef;this._detach()}const Le=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Pe=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&_e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Le);return Pe.positionChanges.pipe((0,c.R)(this._destroyed)).subscribe(Oe=>{this._updateCurrentPositionClass(Oe.connectionPair),this._tooltipInstance&&Oe.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Pe,panelClass:`${this._cssClassPrefix}-${Y}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,c.R)(this._destroyed)).subscribe(Oe=>{this._isTooltipVisible()&&Oe.keyCode===O.hY&&!(0,O.Vb)(Oe)&&(Oe.preventDefault(),Oe.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(_e){const Le=_e.getConfig().positionStrategy,Pe=this._getOrigin(),Oe=this._getOverlayPosition();Le.withPositions([this._addOffset({...Pe.main,...Oe.main}),this._addOffset({...Pe.fallback,...Oe.fallback})])}_addOffset(_e){return _e}_getOrigin(){const _e=!this._dir||"ltr"==this._dir.value,Le=this.position;let Pe;"above"==Le||"below"==Le?Pe={originX:"center",originY:"above"==Le?"top":"bottom"}:"before"==Le||"left"==Le&&_e||"right"==Le&&!_e?Pe={originX:"start",originY:"center"}:("after"==Le||"right"==Le&&_e||"left"==Le&&!_e)&&(Pe={originX:"end",originY:"center"});const{x:Oe,y:je}=this._invertPosition(Pe.originX,Pe.originY);return{main:Pe,fallback:{originX:Oe,originY:je}}}_getOverlayPosition(){const _e=!this._dir||"ltr"==this._dir.value,Le=this.position;let Pe;"above"==Le?Pe={overlayX:"center",overlayY:"bottom"}:"below"==Le?Pe={overlayX:"center",overlayY:"top"}:"before"==Le||"left"==Le&&_e||"right"==Le&&!_e?Pe={overlayX:"end",overlayY:"center"}:("after"==Le||"right"==Le&&_e||"left"==Le&&!_e)&&(Pe={overlayX:"start",overlayY:"center"});const{x:Oe,y:je}=this._invertPosition(Pe.overlayX,Pe.overlayY);return{main:Pe,fallback:{overlayX:Oe,overlayY:je}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,t.q)(1),(0,c.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(_e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=_e,this._tooltipInstance._markForCheck())}_invertPosition(_e,Le){return"above"===this.position||"below"===this.position?"top"===Le?Le="bottom":"bottom"===Le&&(Le="top"):"end"===_e?_e="start":"start"===_e&&(_e="end"),{x:_e,y:Le}}_updateCurrentPositionClass(_e){const{overlayY:Le,originX:Pe,originY:Oe}=_e;let je;if(je="center"===Le?this._dir&&"rtl"===this._dir.value?"end"===Pe?"left":"right":"start"===Pe?"left":"right":"bottom"===Le&&"top"===Oe?"above":"below",je!==this._currentPosition){const ze=this._overlayRef;if(ze){const He=`${this._cssClassPrefix}-${Y}-`;ze.removePanelClass(He+this._currentPosition),ze.addPanelClass(He+je)}this._currentPosition=je}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",_e=>{let Le;this._setupPointerExitEventsIfNeeded(),void 0!==_e.x&&void 0!==_e.y&&(Le=_e),this.show(void 0,Le)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",_e=>{const Le=_e.targetTouches?.[0],Pe=Le?{x:Le.clientX,y:Le.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Pe),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const _e=[];if(this._platformSupportsMouseEvents())_e.push(["mouseleave",Le=>{const Pe=Le.relatedTarget;(!Pe||!this._overlayRef?.overlayElement.contains(Pe))&&this.hide()}],["wheel",Le=>this._wheelListener(Le)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Le=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};_e.push(["touchend",Le],["touchcancel",Le])}this._addListeners(_e),this._passiveListeners.push(..._e)}_addListeners(_e){_e.forEach(([Le,Pe])=>{this._elementRef.nativeElement.addEventListener(Le,Pe,re)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(_e){if(this._isTooltipVisible()){const Le=this._document.elementFromPoint(_e.clientX,_e.clientY),Pe=this._elementRef.nativeElement;Le!==Pe&&!Pe.contains(Le)&&this.hide()}}_disableNativeGesturesIfNecessary(){const _e=this.touchGestures;if("off"!==_e){const Le=this._elementRef.nativeElement,Pe=Le.style;("on"===_e||"INPUT"!==Le.nodeName&&"TEXTAREA"!==Le.nodeName)&&(Pe.userSelect=Pe.msUserSelect=Pe.webkitUserSelect=Pe.MozUserSelect="none"),("on"===_e||!Le.draggable)&&(Pe.webkitUserDrag="none"),Pe.touchAction="none",Pe.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Le){b.$Z()};static#t=this.\u0275dir=b.lG2({type:Me,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Me})(),ne=(()=>{class Me extends me{constructor(_e,Le,Pe,Oe,je,ze,He,Ae,be,K,ie,he){super(_e,Le,Pe,Oe,je,ze,He,Ae,be,K,ie,he),this._tooltipComponent=Se,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(_e){const Pe=!this._dir||"ltr"==this._dir.value;return"top"===_e.originY?_e.offsetY=-8:"bottom"===_e.originY?_e.offsetY=8:"start"===_e.originX?_e.offsetX=Pe?-8:8:"end"===_e.originX&&(_e.offsetX=Pe?8:-8),_e}static#e=this.\u0275fac=function(Le){return new(Le||Me)(b.Y36(h.aV),b.Y36(b.SBq),b.Y36(p.mF),b.Y36(b.s_b),b.Y36(b.R0b),b.Y36(L.t4),b.Y36(x.$s),b.Y36(x.tE),b.Y36(D),b.Y36(g.Is,8),b.Y36(S,8),b.Y36(F.K0))};static#t=this.\u0275dir=b.lG2({type:Me,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Le,Pe){2&Le&&b.ekj("mat-mdc-tooltip-disabled",Pe.disabled)},exportAs:["matTooltip"],features:[b.qOj]})}return Me})(),ue=(()=>{class Me{constructor(_e,Le){this._changeDetectorRef=_e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new A.x,this._animationsDisabled="NoopAnimations"===Le}show(_e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},_e)}hide(_e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},_e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:_e}){(!_e||!this._triggerElement.contains(_e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:_e}){(_e===this._showAnimation||_e===this._hideAnimation)&&this._finalizeAnimation(_e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(_e){_e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(_e){const Le=this._tooltip.nativeElement,Pe=this._showAnimation,Oe=this._hideAnimation;if(Le.classList.remove(_e?Oe:Pe),Le.classList.add(_e?Pe:Oe),this._isVisible=_e,_e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const je=getComputedStyle(Le);("0s"===je.getPropertyValue("animation-duration")||"none"===je.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}_e&&this._onShow(),this._animationsDisabled&&(Le.classList.add("_mat-animation-noopable"),this._finalizeAnimation(_e))}static#e=this.\u0275fac=function(Le){return new(Le||Me)(b.Y36(b.sBO),b.Y36(b.QbO,8))};static#t=this.\u0275dir=b.lG2({type:Me})}return Me})(),Se=(()=>{class Me extends ue{constructor(_e,Le,Pe){super(_e,Pe),this._elementRef=Le,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const _e=this._elementRef.nativeElement.getBoundingClientRect();return _e.height>24&&_e.width>=200}static#e=this.\u0275fac=function(Le){return new(Le||Me)(b.Y36(b.sBO),b.Y36(b.SBq),b.Y36(b.QbO,8))};static#t=this.\u0275cmp=b.Xpm({type:Me,selectors:[["mat-tooltip-component"]],viewQuery:function(Le,Pe){if(1&Le&&b.Gf(V,7),2&Le){let Oe;b.iGM(Oe=b.CRH())&&(Pe._tooltip=Oe.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Le,Pe){1&Le&&b.NdJ("mouseleave",function(je){return Pe._handleMouseLeave(je)}),2&Le&&b.Udp("zoom",Pe.isVisible()?1:null)},features:[b.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Le,Pe){1&Le&&(b.TgZ(0,"div",0,1),b.NdJ("animationend",function(je){return Pe._handleAnimationEnd(je)}),b.TgZ(2,"div",2),b._uU(3),b.qZA()()),2&Le&&(b.ekj("mdc-tooltip--multiline",Pe._isMultiline),b.Q6J("ngClass",Pe.tooltipClass),b.xp6(3),b.Oqu(Pe.message))},dependencies:[F.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Me})(),le=(()=>{class Me{static#e=this.\u0275fac=function(Le){return new(Le||Me)};static#t=this.\u0275mod=b.oAB({type:Me});static#n=this.\u0275inj=b.cJS({providers:[T],imports:[x.rt,F.ez,h.U8,P.BQ,P.BQ,p.ZD]})}return Me})()},6593:(wn,Ze,C)=>{"use strict";C.d(Ze,{Dx:()=>Q,H7:()=>$t,b2:()=>he,q6:()=>Ae,se:()=>re});var c=C(5879),t=C(6814);class E extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O extends E{static makeCurrent(){(0,t.HT)(new O)}onAndCancel(Dt,ut,bt){return Dt.addEventListener(ut,bt),()=>{Dt.removeEventListener(ut,bt)}}dispatchEvent(Dt,ut){Dt.dispatchEvent(ut)}remove(Dt){Dt.parentNode&&Dt.parentNode.removeChild(Dt)}createElement(Dt,ut){return(ut=ut||this.getDefaultDocument()).createElement(Dt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Dt){return Dt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Dt){return Dt instanceof DocumentFragment}getGlobalEventTarget(Dt,ut){return"window"===ut?window:"document"===ut?Dt:"body"===ut?Dt.body:null}getBaseHref(Dt){const ut=function F(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==ut?null:function x(mt){L=L||document.createElement("a"),L.setAttribute("href",mt);const Dt=L.pathname;return"/"===Dt.charAt(0)?Dt:`/${Dt}`}(ut)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(Dt){return(0,t.Mx)(document.cookie,Dt)}}let L,b=null,h=(()=>{class mt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(bt){return new(bt||mt)};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const p=new c.OlP("EventManagerPlugins");let y=(()=>{class mt{constructor(ut,bt){this._zone=bt,this._eventNameToPlugin=new Map,ut.forEach(Nt=>{Nt.manager=this}),this._plugins=ut.slice().reverse()}addEventListener(ut,bt,Nt){return this._findPluginFor(bt).addEventListener(ut,bt,Nt)}getZone(){return this._zone}_findPluginFor(ut){let bt=this._eventNameToPlugin.get(ut);if(bt)return bt;if(bt=this._plugins.find(Zt=>Zt.supports(ut)),!bt)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(ut,bt),bt}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(p),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();class A{constructor(Dt){this._doc=Dt}}const U="ng-app-id";let P=(()=>{class mt{constructor(ut,bt,Nt,Zt={}){this.doc=ut,this.appId=bt,this.nonce=Nt,this.platformId=Zt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)(Zt),this.resetHostNodes()}addStyles(ut){for(const bt of ut)1===this.changeUsageCount(bt,1)&&this.onStyleAdded(bt)}removeStyles(ut){for(const bt of ut)this.changeUsageCount(bt,-1)<=0&&this.onStyleRemoved(bt)}ngOnDestroy(){const ut=this.styleNodesInDOM;ut&&(ut.forEach(bt=>bt.remove()),ut.clear());for(const bt of this.getAllStyles())this.onStyleRemoved(bt);this.resetHostNodes()}addHost(ut){this.hostNodes.add(ut);for(const bt of this.getAllStyles())this.addStyleToHost(ut,bt)}removeHost(ut){this.hostNodes.delete(ut)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ut){for(const bt of this.hostNodes)this.addStyleToHost(bt,ut)}onStyleRemoved(ut){const bt=this.styleRef;bt.get(ut)?.elements?.forEach(Nt=>Nt.remove()),bt.delete(ut)}collectServerRenderedStyles(){const ut=this.doc.head?.querySelectorAll(`style[${U}="${this.appId}"]`);if(ut?.length){const bt=new Map;return ut.forEach(Nt=>{null!=Nt.textContent&&bt.set(Nt.textContent,Nt)}),bt}return null}changeUsageCount(ut,bt){const Nt=this.styleRef;if(Nt.has(ut)){const Zt=Nt.get(ut);return Zt.usage+=bt,Zt.usage}return Nt.set(ut,{usage:bt,elements:[]}),bt}getStyleElement(ut,bt){const Nt=this.styleNodesInDOM,Zt=Nt?.get(bt);if(Zt?.parentNode===ut)return Nt.delete(bt),Zt.removeAttribute(U),Zt;{const wt=this.doc.createElement("style");return this.nonce&&wt.setAttribute("nonce",this.nonce),wt.textContent=bt,this.platformIsServer&&wt.setAttribute(U,this.appId),wt}}addStyleToHost(ut,bt){const Nt=this.getStyleElement(ut,bt);ut.appendChild(Nt);const Zt=this.styleRef,wt=Zt.get(bt)?.elements;wt?wt.push(Nt):Zt.set(bt,{elements:[Nt],usage:1})}resetHostNodes(){const ut=this.hostNodes;ut.clear(),ut.add(this.doc.head)}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const V={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k=/%COMP%/g,R="%COMP%",D=`_nghost-${R}`,I=`_ngcontent-${R}`,N=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Y(mt,Dt){return Dt.map(ut=>ut.replace(k,mt))}let re=(()=>{class mt{constructor(ut,bt,Nt,Zt,wt,Ht,en,tn=null){this.eventManager=ut,this.sharedStylesHost=bt,this.appId=Nt,this.removeStylesOnCompDestroy=Zt,this.doc=wt,this.platformId=Ht,this.ngZone=en,this.nonce=tn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)(Ht),this.defaultRenderer=new se(ut,wt,en,this.platformIsServer)}createRenderer(ut,bt){if(!ut||!bt)return this.defaultRenderer;this.platformIsServer&&bt.encapsulation===c.ifc.ShadowDom&&(bt={...bt,encapsulation:c.ifc.Emulated});const Nt=this.getOrCreateRenderer(ut,bt);return Nt instanceof ne?Nt.applyToHost(ut):Nt instanceof me&&Nt.applyStyles(),Nt}getOrCreateRenderer(ut,bt){const Nt=this.rendererByCompId;let Zt=Nt.get(bt.id);if(!Zt){const wt=this.doc,Ht=this.ngZone,en=this.eventManager,tn=this.sharedStylesHost,yn=this.removeStylesOnCompDestroy,Tn=this.platformIsServer;switch(bt.encapsulation){case c.ifc.Emulated:Zt=new ne(en,tn,bt,this.appId,yn,wt,Ht,Tn);break;case c.ifc.ShadowDom:return new H(en,tn,ut,bt,wt,Ht,this.nonce,Tn);default:Zt=new me(en,tn,bt,yn,wt,Ht,Tn)}Nt.set(bt.id,Zt)}return Zt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(y),c.LFG(P),c.LFG(c.AFp),c.LFG(N),c.LFG(t.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();class se{constructor(Dt,ut,bt,Nt){this.eventManager=Dt,this.doc=ut,this.ngZone=bt,this.platformIsServer=Nt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Dt,ut){return ut?this.doc.createElementNS(V[ut]||ut,Dt):this.doc.createElement(Dt)}createComment(Dt){return this.doc.createComment(Dt)}createText(Dt){return this.doc.createTextNode(Dt)}appendChild(Dt,ut){(oe(Dt)?Dt.content:Dt).appendChild(ut)}insertBefore(Dt,ut,bt){Dt&&(oe(Dt)?Dt.content:Dt).insertBefore(ut,bt)}removeChild(Dt,ut){Dt&&Dt.removeChild(ut)}selectRootElement(Dt,ut){let bt="string"==typeof Dt?this.doc.querySelector(Dt):Dt;if(!bt)throw new c.vHH(-5104,!1);return ut||(bt.textContent=""),bt}parentNode(Dt){return Dt.parentNode}nextSibling(Dt){return Dt.nextSibling}setAttribute(Dt,ut,bt,Nt){if(Nt){ut=Nt+":"+ut;const Zt=V[Nt];Zt?Dt.setAttributeNS(Zt,ut,bt):Dt.setAttribute(ut,bt)}else Dt.setAttribute(ut,bt)}removeAttribute(Dt,ut,bt){if(bt){const Nt=V[bt];Nt?Dt.removeAttributeNS(Nt,ut):Dt.removeAttribute(`${bt}:${ut}`)}else Dt.removeAttribute(ut)}addClass(Dt,ut){Dt.classList.add(ut)}removeClass(Dt,ut){Dt.classList.remove(ut)}setStyle(Dt,ut,bt,Nt){Nt&(c.JOm.DashCase|c.JOm.Important)?Dt.style.setProperty(ut,bt,Nt&c.JOm.Important?"important":""):Dt.style[ut]=bt}removeStyle(Dt,ut,bt){bt&c.JOm.DashCase?Dt.style.removeProperty(ut):Dt.style[ut]=""}setProperty(Dt,ut,bt){Dt[ut]=bt}setValue(Dt,ut){Dt.nodeValue=ut}listen(Dt,ut,bt){if("string"==typeof Dt&&!(Dt=(0,t.q)().getGlobalEventTarget(this.doc,Dt)))throw new Error(`Unsupported event target ${Dt} for event ${ut}`);return this.eventManager.addEventListener(Dt,ut,this.decoratePreventDefault(bt))}decoratePreventDefault(Dt){return ut=>{if("__ngUnwrap__"===ut)return Dt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Dt(ut)):Dt(ut))&&ut.preventDefault()}}}function oe(mt){return"TEMPLATE"===mt.tagName&&void 0!==mt.content}class H extends se{constructor(Dt,ut,bt,Nt,Zt,wt,Ht,en){super(Dt,Zt,wt,en),this.sharedStylesHost=ut,this.hostEl=bt,this.shadowRoot=bt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tn=Y(Nt.id,Nt.styles);for(const yn of tn){const Tn=document.createElement("style");Ht&&Tn.setAttribute("nonce",Ht),Tn.textContent=yn,this.shadowRoot.appendChild(Tn)}}nodeOrShadowRoot(Dt){return Dt===this.hostEl?this.shadowRoot:Dt}appendChild(Dt,ut){return super.appendChild(this.nodeOrShadowRoot(Dt),ut)}insertBefore(Dt,ut,bt){return super.insertBefore(this.nodeOrShadowRoot(Dt),ut,bt)}removeChild(Dt,ut){return super.removeChild(this.nodeOrShadowRoot(Dt),ut)}parentNode(Dt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Dt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class me extends se{constructor(Dt,ut,bt,Nt,Zt,wt,Ht,en){super(Dt,Zt,wt,Ht),this.sharedStylesHost=ut,this.removeStylesOnCompDestroy=Nt,this.styles=en?Y(en,bt.styles):bt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ne extends me{constructor(Dt,ut,bt,Nt,Zt,wt,Ht,en){const tn=Nt+"-"+bt.id;super(Dt,ut,bt,Zt,wt,Ht,en,tn),this.contentAttr=function S(mt){return I.replace(k,mt)}(tn),this.hostAttr=function B(mt){return D.replace(k,mt)}(tn)}applyToHost(Dt){this.applyStyles(),this.setAttribute(Dt,this.hostAttr,"")}createElement(Dt,ut){const bt=super.createElement(Dt,ut);return super.setAttribute(bt,this.contentAttr,""),bt}}let ue=(()=>{class mt extends A{constructor(ut){super(ut)}supports(ut){return!0}addEventListener(ut,bt,Nt){return ut.addEventListener(bt,Nt,!1),()=>this.removeEventListener(ut,bt,Nt)}removeEventListener(ut,bt,Nt){return ut.removeEventListener(bt,Nt)}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const Se=["alt","control","meta","shift"],Ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},le={alt:mt=>mt.altKey,control:mt=>mt.ctrlKey,meta:mt=>mt.metaKey,shift:mt=>mt.shiftKey};let Me=(()=>{class mt extends A{constructor(ut){super(ut)}supports(ut){return null!=mt.parseEventName(ut)}addEventListener(ut,bt,Nt){const Zt=mt.parseEventName(bt),wt=mt.eventCallback(Zt.fullKey,Nt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(ut,Zt.domEventName,wt))}static parseEventName(ut){const bt=ut.toLowerCase().split("."),Nt=bt.shift();if(0===bt.length||"keydown"!==Nt&&"keyup"!==Nt)return null;const Zt=mt._normalizeKey(bt.pop());let wt="",Ht=bt.indexOf("code");if(Ht>-1&&(bt.splice(Ht,1),wt="code."),Se.forEach(tn=>{const yn=bt.indexOf(tn);yn>-1&&(bt.splice(yn,1),wt+=tn+".")}),wt+=Zt,0!=bt.length||0===Zt.length)return null;const en={};return en.domEventName=Nt,en.fullKey=wt,en}static matchEventFullKeyCode(ut,bt){let Nt=Ie[ut.key]||ut.key,Zt="";return bt.indexOf("code.")>-1&&(Nt=ut.code,Zt="code."),!(null==Nt||!Nt)&&(Nt=Nt.toLowerCase()," "===Nt?Nt="space":"."===Nt&&(Nt="dot"),Se.forEach(wt=>{wt!==Nt&&(0,le[wt])(ut)&&(Zt+=wt+".")}),Zt+=Nt,Zt===bt)}static eventCallback(ut,bt,Nt){return Zt=>{mt.matchEventFullKeyCode(Zt,ut)&&Nt.runGuarded(()=>bt(Zt))}}static _normalizeKey(ut){return"esc"===ut?"escape":ut}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const Ae=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:t.bD},{provide:c.g9A,useValue:function Oe(){O.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function ze(){return(0,c.RDi)(document),document},deps:[]}]),be=new c.OlP(""),K=[{provide:c.rWj,useClass:class g{addToWindow(Dt){c.dqk.getAngularTestability=(bt,Nt=!0)=>{const Zt=Dt.findTestabilityInTree(bt,Nt);if(null==Zt)throw new c.vHH(5103,!1);return Zt},c.dqk.getAllAngularTestabilities=()=>Dt.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>Dt.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(bt=>{const Nt=c.dqk.getAllAngularTestabilities();let Zt=Nt.length,wt=!1;const Ht=function(en){wt=wt||en,Zt--,0==Zt&&bt(wt)};Nt.forEach(en=>{en.whenStable(Ht)})})}findTestabilityInTree(Dt,ut,bt){return null==ut?null:Dt.getTestability(ut)??(bt?(0,t.q)().isShadowRoot(ut)?this.findTestabilityInTree(Dt,ut.host,!0):this.findTestabilityInTree(Dt,ut.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],ie=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function je(){return new c.qLn},deps:[]},{provide:p,useClass:ue,multi:!0,deps:[t.K0,c.R0b,c.Lbi]},{provide:p,useClass:Me,multi:!0,deps:[t.K0]},re,P,y,{provide:c.FYo,useExisting:re},{provide:t.JF,useClass:h,deps:[]},[]];let he=(()=>{class mt{constructor(ut){}static withServerTransition(ut){return{ngModule:mt,providers:[{provide:c.AFp,useValue:ut.appId}]}}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(be,12))};static#t=this.\u0275mod=c.oAB({type:mt});static#n=this.\u0275inj=c.cJS({providers:[...ie,...K],imports:[t.ez,c.hGG]})}return mt})(),Q=(()=>{class mt{constructor(ut){this._doc=ut}getTitle(){return this._doc.title}setTitle(ut){this._doc.title=ut||""}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:function(bt){let Nt=null;return Nt=bt?new bt:function X(){return new Q((0,c.LFG)(t.K0))}(),Nt},providedIn:"root"})}return mt})();typeof window<"u"&&window;let $t=(()=>{class mt{static#e=this.\u0275fac=function(bt){return new(bt||mt)};static#t=this.\u0275prov=c.Yz7({token:mt,factory:function(bt){let Nt=null;return Nt=bt?new(bt||mt):c.LFG(dn),Nt},providedIn:"root"})}return mt})(),dn=(()=>{class mt extends $t{constructor(ut){super(),this._doc=ut}sanitize(ut,bt){if(null==bt)return null;switch(ut){case c.q3G.NONE:return bt;case c.q3G.HTML:return(0,c.qzn)(bt,"HTML")?(0,c.z3N)(bt):(0,c.EiD)(this._doc,String(bt)).toString();case c.q3G.STYLE:return(0,c.qzn)(bt,"Style")?(0,c.z3N)(bt):bt;case c.q3G.SCRIPT:if((0,c.qzn)(bt,"Script"))return(0,c.z3N)(bt);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(bt,"URL")?(0,c.z3N)(bt):(0,c.mCW)(String(bt));case c.q3G.RESOURCE_URL:if((0,c.qzn)(bt,"ResourceURL"))return(0,c.z3N)(bt);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(ut){return(0,c.JVY)(ut)}bypassSecurityTrustStyle(ut){return(0,c.L6k)(ut)}bypassSecurityTrustScript(ut){return(0,c.eBb)(ut)}bypassSecurityTrustUrl(ut){return(0,c.LAX)(ut)}bypassSecurityTrustResourceUrl(ut){return(0,c.pB0)(ut)}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:function(bt){let Nt=null;return Nt=bt?new bt:function Qt(mt){return new dn(mt.get(t.K0))}(c.LFG(c.zs3)),Nt},providedIn:"root"})}return mt})()},8930:(wn,Ze,C)=>{"use strict";C.d(Ze,{gz:()=>tr,F0:()=>Rr,rH:()=>vs,Bz:()=>sh,lC:()=>si});var c=C(5879),t=C(2664),E=C(7715),O=C(2096),b=C(5619),F=C(2572);const x=(0,C(2306).d)(Ee=>function(){Ee(this),this.name="EmptyError",this.message="no elements in sequence"});var g=C(5211),h=C(4911),p=C(8407),y=C(5592),A=C(4674);function U(Ee,Fe){const ae=(0,A.m)(Ee)?Ee:()=>Ee,Ne=rt=>rt.error(ae());return new y.y(Fe?rt=>Fe.schedule(Ne,0,rt):Ne)}var P=C(6232),V=C(3168),k=C(8645),R=C(6814),D=C(7398),I=C(4664),T=C(8180),N=C(7921),S=C(2181),B=C(1631),Y=C(9360),re=C(8251);function se(Ee){return(0,Y.e)((Fe,ae)=>{let Ne=!1;Fe.subscribe((0,re.x)(ae,rt=>{Ne=!0,ae.next(rt)},()=>{Ne||ae.next(Ee),ae.complete()}))})}function Re(Ee=z){return(0,Y.e)((Fe,ae)=>{let Ne=!1;Fe.subscribe((0,re.x)(ae,rt=>{Ne=!0,ae.next(rt)},()=>Ne?ae.complete():ae.error(Ee())))})}function z(){return new x}var oe=C(2737);function H(Ee,Fe){const ae=arguments.length>=2;return Ne=>Ne.pipe(Ee?(0,S.h)((rt,Mt)=>Ee(rt,Mt,Ne)):oe.y,(0,T.q)(1),ae?se(Fe):Re(()=>new x))}var me=C(6328),ne=C(9397),ue=C(4829);function Se(Ee){return(0,Y.e)((Fe,ae)=>{let Mt,Ne=null,rt=!1;Ne=Fe.subscribe((0,re.x)(ae,void 0,void 0,xt=>{Mt=(0,ue.Xf)(Ee(xt,Se(Ee)(Fe))),Ne?(Ne.unsubscribe(),Ne=null,Mt.subscribe(ae)):rt=!0})),rt&&(Ne.unsubscribe(),Ne=null,Mt.subscribe(ae))})}function Me(Ee){return Ee<=0?()=>P.E:(0,Y.e)((Fe,ae)=>{let Ne=[];Fe.subscribe((0,re.x)(ae,rt=>{Ne.push(rt),Ee<Ne.length&&Ne.shift()},()=>{for(const rt of Ne)ae.next(rt);ae.complete()},void 0,()=>{Ne=null}))})}var _e=C(975),Le=C(4716),Pe=C(6196),Oe=C(7537),je=C(6593);const ze="primary",He=Symbol("RouteTitle");class Ae{constructor(Fe){this.params=Fe||{}}has(Fe){return Object.prototype.hasOwnProperty.call(this.params,Fe)}get(Fe){if(this.has(Fe)){const ae=this.params[Fe];return Array.isArray(ae)?ae[0]:ae}return null}getAll(Fe){if(this.has(Fe)){const ae=this.params[Fe];return Array.isArray(ae)?ae:[ae]}return[]}get keys(){return Object.keys(this.params)}}function be(Ee){return new Ae(Ee)}function K(Ee,Fe,ae){const Ne=ae.path.split("/");if(Ne.length>Ee.length||"full"===ae.pathMatch&&(Fe.hasChildren()||Ne.length<Ee.length))return null;const rt={};for(let Mt=0;Mt<Ne.length;Mt++){const xt=Ne[Mt],an=Ee[Mt];if(xt.startsWith(":"))rt[xt.substring(1)]=an;else if(xt!==an.path)return null}return{consumed:Ee.slice(0,Ne.length),posParams:rt}}function he(Ee,Fe){const ae=Ee?Object.keys(Ee):void 0,Ne=Fe?Object.keys(Fe):void 0;if(!ae||!Ne||ae.length!=Ne.length)return!1;let rt;for(let Mt=0;Mt<ae.length;Mt++)if(rt=ae[Mt],!$(Ee[rt],Fe[rt]))return!1;return!0}function $(Ee,Fe){if(Array.isArray(Ee)&&Array.isArray(Fe)){if(Ee.length!==Fe.length)return!1;const ae=[...Ee].sort(),Ne=[...Fe].sort();return ae.every((rt,Mt)=>Ne[Mt]===rt)}return Ee===Fe}function Z(Ee){return Ee.length>0?Ee[Ee.length-1]:null}function W(Ee){return(0,t.b)(Ee)?Ee:(0,c.QGY)(Ee)?(0,E.D)(Promise.resolve(Ee)):(0,O.of)(Ee)}const X={exact:function de(Ee,Fe,ae){if(!ct(Ee.segments,Fe.segments)||!Ye(Ee.segments,Fe.segments,ae)||Ee.numberOfChildren!==Fe.numberOfChildren)return!1;for(const Ne in Fe.children)if(!Ee.children[Ne]||!de(Ee.children[Ne],Fe.children[Ne],ae))return!1;return!0},subset:ce},Q={exact:function J(Ee,Fe){return he(Ee,Fe)},subset:function ge(Ee,Fe){return Object.keys(Fe).length<=Object.keys(Ee).length&&Object.keys(Fe).every(ae=>$(Ee[ae],Fe[ae]))},ignored:()=>!0};function q(Ee,Fe,ae){return X[ae.paths](Ee.root,Fe.root,ae.matrixParams)&&Q[ae.queryParams](Ee.queryParams,Fe.queryParams)&&!("exact"===ae.fragment&&Ee.fragment!==Fe.fragment)}function ce(Ee,Fe,ae){return Ce(Ee,Fe,Fe.segments,ae)}function Ce(Ee,Fe,ae,Ne){if(Ee.segments.length>ae.length){const rt=Ee.segments.slice(0,ae.length);return!(!ct(rt,ae)||Fe.hasChildren()||!Ye(rt,ae,Ne))}if(Ee.segments.length===ae.length){if(!ct(Ee.segments,ae)||!Ye(Ee.segments,ae,Ne))return!1;for(const rt in Fe.children)if(!Ee.children[rt]||!ce(Ee.children[rt],Fe.children[rt],Ne))return!1;return!0}{const rt=ae.slice(0,Ee.segments.length),Mt=ae.slice(Ee.segments.length);return!!(ct(Ee.segments,rt)&&Ye(Ee.segments,rt,Ne)&&Ee.children[ze])&&Ce(Ee.children[ze],Fe,Mt,Ne)}}function Ye(Ee,Fe,ae){return Fe.every((Ne,rt)=>Q[ae](Ee[rt].parameters,Ne.parameters))}class Be{constructor(Fe=new $e([],{}),ae={},Ne=null){this.root=Fe,this.queryParams=ae,this.fragment=Ne}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=be(this.queryParams)),this._queryParamMap}toString(){return Gt.serialize(this)}}class $e{constructor(Fe,ae){this.segments=Fe,this.children=ae,this.parent=null,Object.values(ae).forEach(Ne=>Ne.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class Qe{constructor(Fe,ae){this.path=Fe,this.parameters=ae}get parameterMap(){return this._parameterMap||(this._parameterMap=be(this.parameters)),this._parameterMap}toString(){return fe(this)}}function ct(Ee,Fe){return Ee.length===Fe.length&&Ee.every((ae,Ne)=>ae.path===Fe[Ne].path)}let _t=(()=>{class Ee{static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return new Rt},providedIn:"root"})}return Ee})();class Rt{parse(Fe){const ae=new en(Fe);return new Be(ae.parseRootSegment(),ae.parseQueryParams(),ae.parseFragment())}serialize(Fe){const ae=`/${Qt(Fe.root,!0)}`,Ne=function at(Ee){const Fe=Object.keys(Ee).map(ae=>{const Ne=Ee[ae];return Array.isArray(Ne)?Ne.map(rt=>`${gn(ae)}=${gn(rt)}`).join("&"):`${gn(ae)}=${gn(Ne)}`}).filter(ae=>!!ae);return Fe.length?`?${Fe.join("&")}`:""}(Fe.queryParams);return`${ae}${Ne}${"string"==typeof Fe.fragment?`#${function jn(Ee){return encodeURI(Ee)}(Fe.fragment)}`:""}`}}const Gt=new Rt;function $t(Ee){return Ee.segments.map(Fe=>fe(Fe)).join("/")}function Qt(Ee,Fe){if(!Ee.hasChildren())return $t(Ee);if(Fe){const ae=Ee.children[ze]?Qt(Ee.children[ze],!1):"",Ne=[];return Object.entries(Ee.children).forEach(([rt,Mt])=>{rt!==ze&&Ne.push(`${rt}:${Qt(Mt,!1)}`)}),Ne.length>0?`${ae}(${Ne.join("//")})`:ae}{const ae=function Ot(Ee,Fe){let ae=[];return Object.entries(Ee.children).forEach(([Ne,rt])=>{Ne===ze&&(ae=ae.concat(Fe(rt,Ne)))}),Object.entries(Ee.children).forEach(([Ne,rt])=>{Ne!==ze&&(ae=ae.concat(Fe(rt,Ne)))}),ae}(Ee,(Ne,rt)=>rt===ze?[Qt(Ee.children[ze],!1)]:[`${rt}:${Qt(Ne,!1)}`]);return 1===Object.keys(Ee.children).length&&null!=Ee.children[ze]?`${$t(Ee)}/${ae[0]}`:`${$t(Ee)}/(${ae.join("//")})`}}function dn(Ee){return encodeURIComponent(Ee).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gn(Ee){return dn(Ee).replace(/%3B/gi,";")}function ot(Ee){return dn(Ee).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dt(Ee){return decodeURIComponent(Ee)}function xe(Ee){return dt(Ee.replace(/\+/g,"%20"))}function fe(Ee){return`${ot(Ee.path)}${function pe(Ee){return Object.keys(Ee).map(Fe=>`;${ot(Fe)}=${ot(Ee[Fe])}`).join("")}(Ee.parameters)}`}const mt=/^[^\/()?;#]+/;function Dt(Ee){const Fe=Ee.match(mt);return Fe?Fe[0]:""}const ut=/^[^\/()?;=#]+/,Nt=/^[^=?&#]+/,wt=/^[^&#]+/;class en{constructor(Fe){this.url=Fe,this.remaining=Fe}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const Fe={};if(this.consumeOptional("?"))do{this.parseQueryParam(Fe)}while(this.consumeOptional("&"));return Fe}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Fe=[];for(this.peekStartsWith("(")||Fe.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Fe.push(this.parseSegment());let ae={};this.peekStartsWith("/(")&&(this.capture("/"),ae=this.parseParens(!0));let Ne={};return this.peekStartsWith("(")&&(Ne=this.parseParens(!1)),(Fe.length>0||Object.keys(ae).length>0)&&(Ne[ze]=new $e(Fe,ae)),Ne}parseSegment(){const Fe=Dt(this.remaining);if(""===Fe&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(Fe),new Qe(dt(Fe),this.parseMatrixParams())}parseMatrixParams(){const Fe={};for(;this.consumeOptional(";");)this.parseParam(Fe);return Fe}parseParam(Fe){const ae=function bt(Ee){const Fe=Ee.match(ut);return Fe?Fe[0]:""}(this.remaining);if(!ae)return;this.capture(ae);let Ne="";if(this.consumeOptional("=")){const rt=Dt(this.remaining);rt&&(Ne=rt,this.capture(Ne))}Fe[dt(ae)]=dt(Ne)}parseQueryParam(Fe){const ae=function Zt(Ee){const Fe=Ee.match(Nt);return Fe?Fe[0]:""}(this.remaining);if(!ae)return;this.capture(ae);let Ne="";if(this.consumeOptional("=")){const xt=function Ht(Ee){const Fe=Ee.match(wt);return Fe?Fe[0]:""}(this.remaining);xt&&(Ne=xt,this.capture(Ne))}const rt=xe(ae),Mt=xe(Ne);if(Fe.hasOwnProperty(rt)){let xt=Fe[rt];Array.isArray(xt)||(xt=[xt],Fe[rt]=xt),xt.push(Mt)}else Fe[rt]=Mt}parseParens(Fe){const ae={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ne=Dt(this.remaining),rt=this.remaining[Ne.length];if("/"!==rt&&")"!==rt&&";"!==rt)throw new c.vHH(4010,!1);let Mt;Ne.indexOf(":")>-1?(Mt=Ne.slice(0,Ne.indexOf(":")),this.capture(Mt),this.capture(":")):Fe&&(Mt=ze);const xt=this.parseChildren();ae[Mt]=1===Object.keys(xt).length?xt[ze]:new $e([],xt),this.consumeOptional("//")}return ae}peekStartsWith(Fe){return this.remaining.startsWith(Fe)}consumeOptional(Fe){return!!this.peekStartsWith(Fe)&&(this.remaining=this.remaining.substring(Fe.length),!0)}capture(Fe){if(!this.consumeOptional(Fe))throw new c.vHH(4011,!1)}}function tn(Ee){return Ee.segments.length>0?new $e([],{[ze]:Ee}):Ee}function yn(Ee){const Fe={};for(const Ne of Object.keys(Ee.children)){const Mt=yn(Ee.children[Ne]);if(Ne===ze&&0===Mt.segments.length&&Mt.hasChildren())for(const[xt,an]of Object.entries(Mt.children))Fe[xt]=an;else(Mt.segments.length>0||Mt.hasChildren())&&(Fe[Ne]=Mt)}return function Tn(Ee){if(1===Ee.numberOfChildren&&Ee.children[ze]){const Fe=Ee.children[ze];return new $e(Ee.segments.concat(Fe.segments),Fe.children)}return Ee}(new $e(Ee.segments,Fe))}function On(Ee){return Ee instanceof Be}function Jn(Ee){let Fe;const rt=tn(function ae(Mt){const xt={};for(const Fn of Mt.children){const ni=ae(Fn);xt[Fn.outlet]=ni}const an=new $e(Mt.url,xt);return Mt===Ee&&(Fe=an),an}(Ee.root));return Fe??rt}function fi(Ee,Fe,ae,Ne){let rt=Ee;for(;rt.parent;)rt=rt.parent;if(0===Fe.length)return st(rt,rt,rt,ae,Ne);const Mt=function nt(Ee){if("string"==typeof Ee[0]&&1===Ee.length&&"/"===Ee[0])return new Ke(!0,0,Ee);let Fe=0,ae=!1;const Ne=Ee.reduce((rt,Mt,xt)=>{if("object"==typeof Mt&&null!=Mt){if(Mt.outlets){const an={};return Object.entries(Mt.outlets).forEach(([Fn,ni])=>{an[Fn]="string"==typeof ni?ni.split("/"):ni}),[...rt,{outlets:an}]}if(Mt.segmentPath)return[...rt,Mt.segmentPath]}return"string"!=typeof Mt?[...rt,Mt]:0===xt?(Mt.split("/").forEach((an,Fn)=>{0==Fn&&"."===an||(0==Fn&&""===an?ae=!0:".."===an?Fe++:""!=an&&rt.push(an))}),rt):[...rt,Mt]},[]);return new Ke(ae,Fe,Ne)}(Fe);if(Mt.toRoot())return st(rt,rt,new $e([],{}),ae,Ne);const xt=function Yt(Ee,Fe,ae){if(Ee.isAbsolute)return new Ct(Fe,!0,0);if(!ae)return new Ct(Fe,!1,NaN);if(null===ae.parent)return new Ct(ae,!0,0);const Ne=Ft(Ee.commands[0])?0:1;return function Vt(Ee,Fe,ae){let Ne=Ee,rt=Fe,Mt=ae;for(;Mt>rt;){if(Mt-=rt,Ne=Ne.parent,!Ne)throw new c.vHH(4005,!1);rt=Ne.segments.length}return new Ct(Ne,!1,rt-Mt)}(ae,ae.segments.length-1+Ne,Ee.numberOfDoubleDots)}(Mt,rt,Ee),an=xt.processChildren?It(xt.segmentGroup,xt.index,Mt.commands):kt(xt.segmentGroup,xt.index,Mt.commands);return st(rt,xt.segmentGroup,an,ae,Ne)}function Ft(Ee){return"object"==typeof Ee&&null!=Ee&&!Ee.outlets&&!Ee.segmentPath}function St(Ee){return"object"==typeof Ee&&null!=Ee&&Ee.outlets}function st(Ee,Fe,ae,Ne,rt){let xt,Mt={};Ne&&Object.entries(Ne).forEach(([Fn,ni])=>{Mt[Fn]=Array.isArray(ni)?ni.map(ii=>`${ii}`):`${ni}`}),xt=Ee===Fe?ae:Xt(Ee,Fe,ae);const an=tn(yn(xt));return new Be(an,Mt,rt)}function Xt(Ee,Fe,ae){const Ne={};return Object.entries(Ee.children).forEach(([rt,Mt])=>{Ne[rt]=Mt===Fe?ae:Xt(Mt,Fe,ae)}),new $e(Ee.segments,Ne)}class Ke{constructor(Fe,ae,Ne){if(this.isAbsolute=Fe,this.numberOfDoubleDots=ae,this.commands=Ne,Fe&&Ne.length>0&&Ft(Ne[0]))throw new c.vHH(4003,!1);const rt=Ne.find(St);if(rt&&rt!==Z(Ne))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ct{constructor(Fe,ae,Ne){this.segmentGroup=Fe,this.processChildren=ae,this.index=Ne}}function kt(Ee,Fe,ae){if(Ee||(Ee=new $e([],{})),0===Ee.segments.length&&Ee.hasChildren())return It(Ee,Fe,ae);const Ne=function Bt(Ee,Fe,ae){let Ne=0,rt=Fe;const Mt={match:!1,pathIndex:0,commandIndex:0};for(;rt<Ee.segments.length;){if(Ne>=ae.length)return Mt;const xt=Ee.segments[rt],an=ae[Ne];if(St(an))break;const Fn=`${an}`,ni=Ne<ae.length-1?ae[Ne+1]:null;if(rt>0&&void 0===Fn)break;if(Fn&&ni&&"object"==typeof ni&&void 0===ni.outlets){if(!ht(Fn,ni,xt))return Mt;Ne+=2}else{if(!ht(Fn,{},xt))return Mt;Ne++}rt++}return{match:!0,pathIndex:rt,commandIndex:Ne}}(Ee,Fe,ae),rt=ae.slice(Ne.commandIndex);if(Ne.match&&Ne.pathIndex<Ee.segments.length){const Mt=new $e(Ee.segments.slice(0,Ne.pathIndex),{});return Mt.children[ze]=new $e(Ee.segments.slice(Ne.pathIndex),Ee.children),It(Mt,0,rt)}return Ne.match&&0===rt.length?new $e(Ee.segments,{}):Ne.match&&!Ee.hasChildren()?sn(Ee,Fe,ae):Ne.match?It(Ee,0,rt):sn(Ee,Fe,ae)}function It(Ee,Fe,ae){if(0===ae.length)return new $e(Ee.segments,{});{const Ne=function _n(Ee){return St(Ee[0])?Ee[0].outlets:{[ze]:Ee}}(ae),rt={};if(!Ne[ze]&&Ee.children[ze]&&1===Ee.numberOfChildren&&0===Ee.children[ze].segments.length){const Mt=It(Ee.children[ze],Fe,ae);return new $e(Ee.segments,Mt.children)}return Object.entries(Ne).forEach(([Mt,xt])=>{"string"==typeof xt&&(xt=[xt]),null!==xt&&(rt[Mt]=kt(Ee.children[Mt],Fe,xt))}),Object.entries(Ee.children).forEach(([Mt,xt])=>{void 0===Ne[Mt]&&(rt[Mt]=xt)}),new $e(Ee.segments,rt)}}function sn(Ee,Fe,ae){const Ne=Ee.segments.slice(0,Fe);let rt=0;for(;rt<ae.length;){const Mt=ae[rt];if(St(Mt)){const Fn=bn(Mt.outlets);return new $e(Ne,Fn)}if(0===rt&&Ft(ae[0])){Ne.push(new Qe(Ee.segments[Fe].path,Bn(ae[0]))),rt++;continue}const xt=St(Mt)?Mt.outlets[ze]:`${Mt}`,an=rt<ae.length-1?ae[rt+1]:null;xt&&an&&Ft(an)?(Ne.push(new Qe(xt,Bn(an))),rt+=2):(Ne.push(new Qe(xt,{})),rt++)}return new $e(Ne,{})}function bn(Ee){const Fe={};return Object.entries(Ee).forEach(([ae,Ne])=>{"string"==typeof Ne&&(Ne=[Ne]),null!==Ne&&(Fe[ae]=sn(new $e([],{}),0,Ne))}),Fe}function Bn(Ee){const Fe={};return Object.entries(Ee).forEach(([ae,Ne])=>Fe[ae]=`${Ne}`),Fe}function ht(Ee,Fe,ae){return Ee==ae.path&&he(Fe,ae.parameters)}const rn="imperative";class ve{constructor(Fe,ae){this.id=Fe,this.url=ae}}class lt extends ve{constructor(Fe,ae,Ne="imperative",rt=null){super(Fe,ae),this.type=0,this.navigationTrigger=Ne,this.restoredState=rt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class it extends ve{constructor(Fe,ae,Ne){super(Fe,ae),this.urlAfterRedirects=Ne,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class At extends ve{constructor(Fe,ae,Ne,rt){super(Fe,ae),this.reason=Ne,this.code=rt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kt extends ve{constructor(Fe,ae,Ne,rt){super(Fe,ae),this.reason=Ne,this.code=rt,this.type=16}}class vn extends ve{constructor(Fe,ae,Ne,rt){super(Fe,ae),this.error=Ne,this.target=rt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ui extends ve{constructor(Fe,ae,Ne,rt){super(Fe,ae),this.urlAfterRedirects=Ne,this.state=rt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr extends ve{constructor(Fe,ae,Ne,rt){super(Fe,ae),this.urlAfterRedirects=Ne,this.state=rt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Si extends ve{constructor(Fe,ae,Ne,rt,Mt){super(Fe,ae),this.urlAfterRedirects=Ne,this.state=rt,this.shouldActivate=Mt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ki extends ve{constructor(Fe,ae,Ne,rt){super(Fe,ae),this.urlAfterRedirects=Ne,this.state=rt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cn extends ve{constructor(Fe,ae,Ne,rt){super(Fe,ae),this.urlAfterRedirects=Ne,this.state=rt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cr{constructor(Fe){this.route=Fe,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Di{constructor(Fe){this.route=Fe,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vr{constructor(Fe){this.snapshot=Fe,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ui{constructor(Fe){this.snapshot=Fe,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class er{constructor(Fe){this.snapshot=Fe,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _r{constructor(Fe){this.snapshot=Fe,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kr{constructor(Fe,ae,Ne){this.routerEvent=Fe,this.position=ae,this.anchor=Ne,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ho{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new io,this.attachRef=null}}let io=(()=>{class Ee{constructor(){this.contexts=new Map}onChildOutletCreated(ae,Ne){const rt=this.getOrCreateContext(ae);rt.outlet=Ne,this.contexts.set(ae,rt)}onChildOutletDestroyed(ae){const Ne=this.getContext(ae);Ne&&(Ne.outlet=null,Ne.attachRef=null)}onOutletDeactivated(){const ae=this.contexts;return this.contexts=new Map,ae}onOutletReAttached(ae){this.contexts=ae}getOrCreateContext(ae){let Ne=this.getContext(ae);return Ne||(Ne=new Ho,this.contexts.set(ae,Ne)),Ne}getContext(ae){return this.contexts.get(ae)||null}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();class Qi{constructor(Fe){this._root=Fe}get root(){return this._root.value}parent(Fe){const ae=this.pathFromRoot(Fe);return ae.length>1?ae[ae.length-2]:null}children(Fe){const ae=Do(Fe,this._root);return ae?ae.children.map(Ne=>Ne.value):[]}firstChild(Fe){const ae=Do(Fe,this._root);return ae&&ae.children.length>0?ae.children[0].value:null}siblings(Fe){const ae=Xi(Fe,this._root);return ae.length<2?[]:ae[ae.length-2].children.map(rt=>rt.value).filter(rt=>rt!==Fe)}pathFromRoot(Fe){return Xi(Fe,this._root).map(ae=>ae.value)}}function Do(Ee,Fe){if(Ee===Fe.value)return Fe;for(const ae of Fe.children){const Ne=Do(Ee,ae);if(Ne)return Ne}return null}function Xi(Ee,Fe){if(Ee===Fe.value)return[Fe];for(const ae of Fe.children){const Ne=Xi(Ee,ae);if(Ne.length)return Ne.unshift(Fe),Ne}return[]}class li{constructor(Fe,ae){this.value=Fe,this.children=ae}toString(){return`TreeNode(${this.value})`}}function Wn(Ee){const Fe={};return Ee&&Ee.children.forEach(ae=>Fe[ae.value.outlet]=ae),Fe}class ai extends Qi{constructor(Fe,ae){super(Fe),this.snapshot=ae,Nn(this,Fe)}toString(){return this.snapshot.toString()}}function Ni(Ee,Fe){const ae=function vr(Ee,Fe){const xt=new jt([],{},{},"",{},ze,Fe,null,{});return new hn("",new li(xt,[]))}(0,Fe),Ne=new b.X([new Qe("",{})]),rt=new b.X({}),Mt=new b.X({}),xt=new b.X({}),an=new b.X(""),Fn=new tr(Ne,rt,xt,an,Mt,ze,Fe,ae.root);return Fn.snapshot=ae.root,new ai(new li(Fn,[]),ae)}class tr{constructor(Fe,ae,Ne,rt,Mt,xt,an,Fn){this.urlSubject=Fe,this.paramsSubject=ae,this.queryParamsSubject=Ne,this.fragmentSubject=rt,this.dataSubject=Mt,this.outlet=xt,this.component=an,this._futureSnapshot=Fn,this.title=this.dataSubject?.pipe((0,D.U)(ni=>ni[He]))??(0,O.of)(void 0),this.url=Fe,this.params=ae,this.queryParams=Ne,this.fragment=rt,this.data=Mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,D.U)(Fe=>be(Fe)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,D.U)(Fe=>be(Fe)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nr(Ee,Fe="emptyOnly"){const ae=Ee.pathFromRoot;let Ne=0;if("always"!==Fe)for(Ne=ae.length-1;Ne>=1;){const rt=ae[Ne],Mt=ae[Ne-1];if(rt.routeConfig&&""===rt.routeConfig.path)Ne--;else{if(Mt.component)break;Ne--}}return function Fr(Ee){return Ee.reduce((Fe,ae)=>({params:{...Fe.params,...ae.params},data:{...Fe.data,...ae.data},resolve:{...ae.data,...Fe.resolve,...ae.routeConfig?.data,...ae._resolvedData}}),{params:{},data:{},resolve:{}})}(ae.slice(Ne))}class jt{get title(){return this.data?.[He]}constructor(Fe,ae,Ne,rt,Mt,xt,an,Fn,ni){this.url=Fe,this.params=ae,this.queryParams=Ne,this.fragment=rt,this.data=Mt,this.outlet=xt,this.component=an,this.routeConfig=Fn,this._resolve=ni}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=be(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ne=>Ne.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hn extends Qi{constructor(Fe,ae){super(ae),this.url=Fe,Nn(this,ae)}toString(){return Ln(this._root)}}function Nn(Ee,Fe){Fe.value._routerState=Ee,Fe.children.forEach(ae=>Nn(Ee,ae))}function Ln(Ee){const Fe=Ee.children.length>0?` { ${Ee.children.map(Ln).join(", ")} } `:"";return`${Ee.value}${Fe}`}function ti(Ee){if(Ee.snapshot){const Fe=Ee.snapshot,ae=Ee._futureSnapshot;Ee.snapshot=ae,he(Fe.queryParams,ae.queryParams)||Ee.queryParamsSubject.next(ae.queryParams),Fe.fragment!==ae.fragment&&Ee.fragmentSubject.next(ae.fragment),he(Fe.params,ae.params)||Ee.paramsSubject.next(ae.params),function ie(Ee,Fe){if(Ee.length!==Fe.length)return!1;for(let ae=0;ae<Ee.length;++ae)if(!he(Ee[ae],Fe[ae]))return!1;return!0}(Fe.url,ae.url)||Ee.urlSubject.next(ae.url),he(Fe.data,ae.data)||Ee.dataSubject.next(ae.data)}else Ee.snapshot=Ee._futureSnapshot,Ee.dataSubject.next(Ee._futureSnapshot.data)}function Qn(Ee,Fe){const ae=he(Ee.params,Fe.params)&&function qe(Ee,Fe){return ct(Ee,Fe)&&Ee.every((ae,Ne)=>he(ae.parameters,Fe[Ne].parameters))}(Ee.url,Fe.url);return ae&&!(!Ee.parent!=!Fe.parent)&&(!Ee.parent||Qn(Ee.parent,Fe.parent))}let si=(()=>{class Ee{constructor(){this.activated=null,this._activatedRoute=null,this.name=ze,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(io),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(wi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(ae){if(ae.name){const{firstChange:Ne,previousValue:rt}=ae.name;if(Ne)return;this.isTrackedInParentContexts(rt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(rt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(ae){return this.parentContexts.getContext(ae)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const ae=this.parentContexts.getContext(this.name);ae?.route&&(ae.attachRef?this.attach(ae.attachRef,ae.route):this.activateWith(ae.route,ae.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const ae=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ae.instance),ae}attach(ae,Ne){this.activated=ae,this._activatedRoute=Ne,this.location.insert(ae.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(ae.instance)}deactivate(){if(this.activated){const ae=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ae)}}activateWith(ae,Ne){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=ae;const rt=this.location,xt=ae.snapshot.component,an=this.parentContexts.getOrCreateContext(this.name).children,Fn=new ci(ae,an,rt.injector);this.activated=rt.createComponent(xt,{index:rt.length,injector:Fn,environmentInjector:Ne??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275dir=c.lG2({type:Ee,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return Ee})();class ci{constructor(Fe,ae,Ne){this.route=Fe,this.childContexts=ae,this.parent=Ne}get(Fe,ae){return Fe===tr?this.route:Fe===io?this.childContexts:this.parent.get(Fe,ae)}}const wi=new c.OlP("");let yr=(()=>{class Ee{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ae){this.unsubscribeFromRouteData(ae),this.subscribeToRouteData(ae)}unsubscribeFromRouteData(ae){this.outletDataSubscriptions.get(ae)?.unsubscribe(),this.outletDataSubscriptions.delete(ae)}subscribeToRouteData(ae){const{activatedRoute:Ne}=ae,rt=(0,F.a)([Ne.queryParams,Ne.params,Ne.data]).pipe((0,I.w)(([Mt,xt,an],Fn)=>(an={...Mt,...xt,...an},0===Fn?(0,O.of)(an):Promise.resolve(an)))).subscribe(Mt=>{if(!ae.isActivated||!ae.activatedComponentRef||ae.activatedRoute!==Ne||null===Ne.component)return void this.unsubscribeFromRouteData(ae);const xt=(0,c.qFp)(Ne.component);if(xt)for(const{templateName:an}of xt.inputs)ae.activatedComponentRef.setInput(an,Mt[an]);else this.unsubscribeFromRouteData(ae)});this.outletDataSubscriptions.set(ae,rt)}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function hr(Ee,Fe,ae){if(ae&&Ee.shouldReuseRoute(Fe.value,ae.value.snapshot)){const Ne=ae.value;Ne._futureSnapshot=Fe.value;const rt=function Rs(Ee,Fe,ae){return Fe.children.map(Ne=>{for(const rt of ae.children)if(Ee.shouldReuseRoute(Ne.value,rt.value.snapshot))return hr(Ee,Ne,rt);return hr(Ee,Ne)})}(Ee,Fe,ae);return new li(Ne,rt)}{if(Ee.shouldAttach(Fe.value)){const Mt=Ee.retrieve(Fe.value);if(null!==Mt){const xt=Mt.route;return xt.value._futureSnapshot=Fe.value,xt.children=Fe.children.map(an=>hr(Ee,an)),xt}}const Ne=function ro(Ee){return new tr(new b.X(Ee.url),new b.X(Ee.params),new b.X(Ee.queryParams),new b.X(Ee.fragment),new b.X(Ee.data),Ee.outlet,Ee.component,Ee)}(Fe.value),rt=Fe.children.map(Mt=>hr(Ee,Mt));return new li(Ne,rt)}}const Br="ngNavigationCancelingError";function fo(Ee,Fe){const{redirectTo:ae,navigationBehaviorOptions:Ne}=On(Fe)?{redirectTo:Fe,navigationBehaviorOptions:void 0}:Fe,rt=xo(!1,0,Fe);return rt.url=ae,rt.navigationBehaviorOptions=Ne,rt}function xo(Ee,Fe,ae){const Ne=new Error("NavigationCancelingError: "+(Ee||""));return Ne[Br]=!0,Ne.cancellationCode=Fe,ae&&(Ne.url=ae),Ne}function Ti(Ee){return Js(Ee)&&On(Ee.url)}function Js(Ee){return Ee&&Ee[Br]}let hs=(()=>{class Ee{static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275cmp=c.Xpm({type:Ee,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(Ne,rt){1&Ne&&c._UZ(0,"router-outlet")},dependencies:[si],encapsulation:2})}return Ee})();function mr(Ee){const Fe=Ee.children&&Ee.children.map(mr),ae=Fe?{...Ee,children:Fe}:{...Ee};return!ae.component&&!ae.loadComponent&&(Fe||ae.loadChildren)&&ae.outlet&&ae.outlet!==ze&&(ae.component=hs),ae}function cr(Ee){return Ee.outlet||ze}function Gi(Ee){if(!Ee)return null;if(Ee.routeConfig?._injector)return Ee.routeConfig._injector;for(let Fe=Ee.parent;Fe;Fe=Fe.parent){const ae=Fe.routeConfig;if(ae?._loadedInjector)return ae._loadedInjector;if(ae?._injector)return ae._injector}return null}class Yo{constructor(Fe,ae,Ne,rt,Mt){this.routeReuseStrategy=Fe,this.futureState=ae,this.currState=Ne,this.forwardEvent=rt,this.inputBindingEnabled=Mt}activate(Fe){const ae=this.futureState._root,Ne=this.currState?this.currState._root:null;this.deactivateChildRoutes(ae,Ne,Fe),ti(this.futureState.root),this.activateChildRoutes(ae,Ne,Fe)}deactivateChildRoutes(Fe,ae,Ne){const rt=Wn(ae);Fe.children.forEach(Mt=>{const xt=Mt.value.outlet;this.deactivateRoutes(Mt,rt[xt],Ne),delete rt[xt]}),Object.values(rt).forEach(Mt=>{this.deactivateRouteAndItsChildren(Mt,Ne)})}deactivateRoutes(Fe,ae,Ne){const rt=Fe.value,Mt=ae?ae.value:null;if(rt===Mt)if(rt.component){const xt=Ne.getContext(rt.outlet);xt&&this.deactivateChildRoutes(Fe,ae,xt.children)}else this.deactivateChildRoutes(Fe,ae,Ne);else Mt&&this.deactivateRouteAndItsChildren(ae,Ne)}deactivateRouteAndItsChildren(Fe,ae){Fe.value.component&&this.routeReuseStrategy.shouldDetach(Fe.value.snapshot)?this.detachAndStoreRouteSubtree(Fe,ae):this.deactivateRouteAndOutlet(Fe,ae)}detachAndStoreRouteSubtree(Fe,ae){const Ne=ae.getContext(Fe.value.outlet),rt=Ne&&Fe.value.component?Ne.children:ae,Mt=Wn(Fe);for(const xt of Object.keys(Mt))this.deactivateRouteAndItsChildren(Mt[xt],rt);if(Ne&&Ne.outlet){const xt=Ne.outlet.detach(),an=Ne.children.onOutletDeactivated();this.routeReuseStrategy.store(Fe.value.snapshot,{componentRef:xt,route:Fe,contexts:an})}}deactivateRouteAndOutlet(Fe,ae){const Ne=ae.getContext(Fe.value.outlet),rt=Ne&&Fe.value.component?Ne.children:ae,Mt=Wn(Fe);for(const xt of Object.keys(Mt))this.deactivateRouteAndItsChildren(Mt[xt],rt);Ne&&(Ne.outlet&&(Ne.outlet.deactivate(),Ne.children.onOutletDeactivated()),Ne.attachRef=null,Ne.route=null)}activateChildRoutes(Fe,ae,Ne){const rt=Wn(ae);Fe.children.forEach(Mt=>{this.activateRoutes(Mt,rt[Mt.value.outlet],Ne),this.forwardEvent(new _r(Mt.value.snapshot))}),Fe.children.length&&this.forwardEvent(new ui(Fe.value.snapshot))}activateRoutes(Fe,ae,Ne){const rt=Fe.value,Mt=ae?ae.value:null;if(ti(rt),rt===Mt)if(rt.component){const xt=Ne.getOrCreateContext(rt.outlet);this.activateChildRoutes(Fe,ae,xt.children)}else this.activateChildRoutes(Fe,ae,Ne);else if(rt.component){const xt=Ne.getOrCreateContext(rt.outlet);if(this.routeReuseStrategy.shouldAttach(rt.snapshot)){const an=this.routeReuseStrategy.retrieve(rt.snapshot);this.routeReuseStrategy.store(rt.snapshot,null),xt.children.onOutletReAttached(an.contexts),xt.attachRef=an.componentRef,xt.route=an.route.value,xt.outlet&&xt.outlet.attach(an.componentRef,an.route.value),ti(an.route.value),this.activateChildRoutes(Fe,null,xt.children)}else{const an=Gi(rt.snapshot);xt.attachRef=null,xt.route=rt,xt.injector=an,xt.outlet&&xt.outlet.activateWith(rt,xt.injector),this.activateChildRoutes(Fe,null,xt.children)}}else this.activateChildRoutes(Fe,null,Ne)}}class Ko{constructor(Fe){this.path=Fe,this.route=this.path[this.path.length-1]}}class is{constructor(Fe,ae){this.component=Fe,this.route=ae}}function Xs(Ee,Fe,ae){const Ne=Ee._root;return zo(Ne,Fe?Fe._root:null,ae,[Ne.value])}function Wo(Ee,Fe){const ae=Symbol(),Ne=Fe.get(Ee,ae);return Ne===ae?"function"!=typeof Ee||(0,c.Z0I)(Ee)?Fe.get(Ee):Ee:Ne}function zo(Ee,Fe,ae,Ne,rt={canDeactivateChecks:[],canActivateChecks:[]}){const Mt=Wn(Fe);return Ee.children.forEach(xt=>{(function ea(Ee,Fe,ae,Ne,rt={canDeactivateChecks:[],canActivateChecks:[]}){const Mt=Ee.value,xt=Fe?Fe.value:null,an=ae?ae.getContext(Ee.value.outlet):null;if(xt&&Mt.routeConfig===xt.routeConfig){const Fn=function gl(Ee,Fe,ae){if("function"==typeof ae)return ae(Ee,Fe);switch(ae){case"pathParamsChange":return!ct(Ee.url,Fe.url);case"pathParamsOrQueryParamsChange":return!ct(Ee.url,Fe.url)||!he(Ee.queryParams,Fe.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(Ee,Fe)||!he(Ee.queryParams,Fe.queryParams);default:return!Qn(Ee,Fe)}}(xt,Mt,Mt.routeConfig.runGuardsAndResolvers);Fn?rt.canActivateChecks.push(new Ko(Ne)):(Mt.data=xt.data,Mt._resolvedData=xt._resolvedData),zo(Ee,Fe,Mt.component?an?an.children:null:ae,Ne,rt),Fn&&an&&an.outlet&&an.outlet.isActivated&&rt.canDeactivateChecks.push(new is(an.outlet.component,xt))}else xt&&ms(Fe,an,rt),rt.canActivateChecks.push(new Ko(Ne)),zo(Ee,null,Mt.component?an?an.children:null:ae,Ne,rt)})(xt,Mt[xt.value.outlet],ae,Ne.concat([xt.value]),rt),delete Mt[xt.value.outlet]}),Object.entries(Mt).forEach(([xt,an])=>ms(an,ae.getContext(xt),rt)),rt}function ms(Ee,Fe,ae){const Ne=Wn(Ee),rt=Ee.value;Object.entries(Ne).forEach(([Mt,xt])=>{ms(xt,rt.component?Fe?Fe.children.getContext(Mt):null:Fe,ae)}),ae.canDeactivateChecks.push(new is(rt.component&&Fe&&Fe.outlet&&Fe.outlet.isActivated?Fe.outlet.component:null,rt))}function Zo(Ee){return"function"==typeof Ee}function Pi(Ee){return Ee instanceof x||"EmptyError"===Ee?.name}const Jt=Symbol("INITIAL_VALUE");function We(){return(0,I.w)(Ee=>(0,F.a)(Ee.map(Fe=>Fe.pipe((0,T.q)(1),(0,N.O)(Jt)))).pipe((0,D.U)(Fe=>{for(const ae of Fe)if(!0!==ae){if(ae===Jt)return Jt;if(!1===ae||ae instanceof Be)return ae}return!0}),(0,S.h)(Fe=>Fe!==Jt),(0,T.q)(1)))}function ir(Ee){return(0,p.z)((0,ne.b)(Fe=>{if(On(Fe))throw fo(0,Fe)}),(0,D.U)(Fe=>!0===Fe))}class Zi{constructor(Fe){this.segmentGroup=Fe||null}}class rs{constructor(Fe){this.urlTree=Fe}}function os(Ee){return U(new Zi(Ee))}function Ba(Ee){return U(new rs(Ee))}class ya{constructor(Fe,ae){this.urlSerializer=Fe,this.urlTree=ae}noMatchError(Fe){return new c.vHH(4002,!1)}lineralizeSegments(Fe,ae){let Ne=[],rt=ae.root;for(;;){if(Ne=Ne.concat(rt.segments),0===rt.numberOfChildren)return(0,O.of)(Ne);if(rt.numberOfChildren>1||!rt.children[ze])return U(new c.vHH(4e3,!1));rt=rt.children[ze]}}applyRedirectCommands(Fe,ae,Ne){return this.applyRedirectCreateUrlTree(ae,this.urlSerializer.parse(ae),Fe,Ne)}applyRedirectCreateUrlTree(Fe,ae,Ne,rt){const Mt=this.createSegmentGroup(Fe,ae.root,Ne,rt);return new Be(Mt,this.createQueryParams(ae.queryParams,this.urlTree.queryParams),ae.fragment)}createQueryParams(Fe,ae){const Ne={};return Object.entries(Fe).forEach(([rt,Mt])=>{if("string"==typeof Mt&&Mt.startsWith(":")){const an=Mt.substring(1);Ne[rt]=ae[an]}else Ne[rt]=Mt}),Ne}createSegmentGroup(Fe,ae,Ne,rt){const Mt=this.createSegments(Fe,ae.segments,Ne,rt);let xt={};return Object.entries(ae.children).forEach(([an,Fn])=>{xt[an]=this.createSegmentGroup(Fe,Fn,Ne,rt)}),new $e(Mt,xt)}createSegments(Fe,ae,Ne,rt){return ae.map(Mt=>Mt.path.startsWith(":")?this.findPosParam(Fe,Mt,rt):this.findOrReturn(Mt,Ne))}findPosParam(Fe,ae,Ne){const rt=Ne[ae.path.substring(1)];if(!rt)throw new c.vHH(4001,!1);return rt}findOrReturn(Fe,ae){let Ne=0;for(const rt of ae){if(rt.path===Fe.path)return ae.splice(Ne),rt;Ne++}return Fe}}const _l={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ba(Ee,Fe,ae,Ne,rt){const Mt=ks(Ee,Fe,ae);return Mt.matched?(Ne=function Qs(Ee,Fe){return Ee.providers&&!Ee._injector&&(Ee._injector=(0,c.MMx)(Ee.providers,Fe,`Route: ${Ee.path}`)),Ee._injector??Fe}(Fe,Ne),function Ao(Ee,Fe,ae,Ne){const rt=Fe.canMatch;if(!rt||0===rt.length)return(0,O.of)(!0);const Mt=rt.map(xt=>{const an=Wo(xt,Ee);return W(function Mo(Ee){return Ee&&Zo(Ee.canMatch)}(an)?an.canMatch(Fe,ae):Ee.runInContext(()=>an(Fe,ae)))});return(0,O.of)(Mt).pipe(We(),ir())}(Ne,Fe,ae).pipe((0,D.U)(xt=>!0===xt?Mt:{..._l}))):(0,O.of)(Mt)}function ks(Ee,Fe,ae){if(""===Fe.path)return"full"===Fe.pathMatch&&(Ee.hasChildren()||ae.length>0)?{..._l}:{matched:!0,consumedSegments:[],remainingSegments:ae,parameters:{},positionalParamSegments:{}};const rt=(Fe.matcher||K)(ae,Ee,Fe);if(!rt)return{..._l};const Mt={};Object.entries(rt.posParams??{}).forEach(([an,Fn])=>{Mt[an]=Fn.path});const xt=rt.consumed.length>0?{...Mt,...rt.consumed[rt.consumed.length-1].parameters}:Mt;return{matched:!0,consumedSegments:rt.consumed,remainingSegments:ae.slice(rt.consumed.length),parameters:xt,positionalParamSegments:rt.posParams??{}}}function vl(Ee,Fe,ae,Ne){return ae.length>0&&function Ea(Ee,Fe,ae){return ae.some(Ne=>Ta(Ee,Fe,Ne)&&cr(Ne)!==ze)}(Ee,ae,Ne)?{segmentGroup:new $e(Fe,$d(Ne,new $e(ae,Ee.children))),slicedSegments:[]}:0===ae.length&&function Dc(Ee,Fe,ae){return ae.some(Ne=>Ta(Ee,Fe,Ne))}(Ee,ae,Ne)?{segmentGroup:new $e(Ee.segments,Ua(Ee,0,ae,Ne,Ee.children)),slicedSegments:ae}:{segmentGroup:new $e(Ee.segments,Ee.children),slicedSegments:ae}}function Ua(Ee,Fe,ae,Ne,rt){const Mt={};for(const xt of Ne)if(Ta(Ee,ae,xt)&&!rt[cr(xt)]){const an=new $e([],{});Mt[cr(xt)]=an}return{...rt,...Mt}}function $d(Ee,Fe){const ae={};ae[ze]=Fe;for(const Ne of Ee)if(""===Ne.path&&cr(Ne)!==ze){const rt=new $e([],{});ae[cr(Ne)]=rt}return ae}function Ta(Ee,Fe,ae){return(!(Ee.hasChildren()||Fe.length>0)||"full"!==ae.pathMatch)&&""===ae.path}class Sa{constructor(Fe,ae,Ne,rt,Mt,xt,an){this.injector=Fe,this.configLoader=ae,this.rootComponentType=Ne,this.config=rt,this.urlTree=Mt,this.paramsInheritanceStrategy=xt,this.urlSerializer=an,this.allowRedirects=!0,this.applyRedirects=new ya(this.urlSerializer,this.urlTree)}noMatchError(Fe){return new c.vHH(4002,!1)}recognize(){const Fe=vl(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,Fe,ze).pipe(Se(ae=>{if(ae instanceof rs)return this.allowRedirects=!1,this.urlTree=ae.urlTree,this.match(ae.urlTree);throw ae instanceof Zi?this.noMatchError(ae):ae}),(0,D.U)(ae=>{const Ne=new jt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ze,this.rootComponentType,null,{}),rt=new li(Ne,ae),Mt=new hn("",rt),xt=function In(Ee,Fe,ae=null,Ne=null){return fi(Jn(Ee),Fe,ae,Ne)}(Ne,[],this.urlTree.queryParams,this.urlTree.fragment);return xt.queryParams=this.urlTree.queryParams,Mt.url=this.urlSerializer.serialize(xt),this.inheritParamsAndData(Mt._root),{state:Mt,tree:xt}}))}match(Fe){return this.processSegmentGroup(this.injector,this.config,Fe.root,ze).pipe(Se(Ne=>{throw Ne instanceof Zi?this.noMatchError(Ne):Ne}))}inheritParamsAndData(Fe){const ae=Fe.value,Ne=nr(ae,this.paramsInheritanceStrategy);ae.params=Object.freeze(Ne.params),ae.data=Object.freeze(Ne.data),Fe.children.forEach(rt=>this.inheritParamsAndData(rt))}processSegmentGroup(Fe,ae,Ne,rt){return 0===Ne.segments.length&&Ne.hasChildren()?this.processChildren(Fe,ae,Ne):this.processSegment(Fe,ae,Ne,Ne.segments,rt,!0)}processChildren(Fe,ae,Ne){const rt=[];for(const Mt of Object.keys(Ne.children))"primary"===Mt?rt.unshift(Mt):rt.push(Mt);return(0,E.D)(rt).pipe((0,me.b)(Mt=>{const xt=Ne.children[Mt],an=function mo(Ee,Fe){const ae=Ee.filter(Ne=>cr(Ne)===Fe);return ae.push(...Ee.filter(Ne=>cr(Ne)!==Fe)),ae}(ae,Mt);return this.processSegmentGroup(Fe,an,xt,Mt)}),function le(Ee,Fe){return(0,Y.e)(function Ie(Ee,Fe,ae,Ne,rt){return(Mt,xt)=>{let an=ae,Fn=Fe,ni=0;Mt.subscribe((0,re.x)(xt,ii=>{const Hi=ni++;Fn=an?Ee(Fn,ii,Hi):(an=!0,ii),Ne&&xt.next(Fn)},rt&&(()=>{an&&xt.next(Fn),xt.complete()})))}}(Ee,Fe,arguments.length>=2,!0))}((Mt,xt)=>(Mt.push(...xt),Mt)),se(null),function we(Ee,Fe){const ae=arguments.length>=2;return Ne=>Ne.pipe(Ee?(0,S.h)((rt,Mt)=>Ee(rt,Mt,Ne)):oe.y,Me(1),ae?se(Fe):Re(()=>new x))}(),(0,B.z)(Mt=>{if(null===Mt)return os(Ne);const xt=Ac(Mt);return function El(Ee){Ee.sort((Fe,ae)=>Fe.value.outlet===ze?-1:ae.value.outlet===ze?1:Fe.value.outlet.localeCompare(ae.value.outlet))}(xt),(0,O.of)(xt)}))}processSegment(Fe,ae,Ne,rt,Mt,xt){return(0,E.D)(ae).pipe((0,me.b)(an=>this.processSegmentAgainstRoute(an._injector??Fe,ae,an,Ne,rt,Mt,xt).pipe(Se(Fn=>{if(Fn instanceof Zi)return(0,O.of)(null);throw Fn}))),H(an=>!!an),Se(an=>{if(Pi(an))return function xc(Ee,Fe,ae){return 0===Fe.length&&!Ee.children[ae]}(Ne,rt,Mt)?(0,O.of)([]):os(Ne);throw an}))}processSegmentAgainstRoute(Fe,ae,Ne,rt,Mt,xt,an){return function yl(Ee,Fe,ae,Ne){return!!(cr(Ee)===Ne||Ne!==ze&&Ta(Fe,ae,Ee))&&("**"===Ee.path||ks(Fe,Ee,ae).matched)}(Ne,rt,Mt,xt)?void 0===Ne.redirectTo?this.matchSegmentAgainstRoute(Fe,rt,Ne,Mt,xt,an):an&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Fe,rt,ae,Ne,Mt,xt):os(rt):os(rt)}expandSegmentAgainstRouteUsingRedirect(Fe,ae,Ne,rt,Mt,xt){return"**"===rt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Fe,Ne,rt,xt):this.expandRegularSegmentAgainstRouteUsingRedirect(Fe,ae,Ne,rt,Mt,xt)}expandWildCardWithParamsAgainstRouteUsingRedirect(Fe,ae,Ne,rt){const Mt=this.applyRedirects.applyRedirectCommands([],Ne.redirectTo,{});return Ne.redirectTo.startsWith("/")?Ba(Mt):this.applyRedirects.lineralizeSegments(Ne,Mt).pipe((0,B.z)(xt=>{const an=new $e(xt,{});return this.processSegment(Fe,ae,an,xt,rt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Fe,ae,Ne,rt,Mt,xt){const{matched:an,consumedSegments:Fn,remainingSegments:ni,positionalParamSegments:ii}=ks(ae,rt,Mt);if(!an)return os(ae);const Hi=this.applyRedirects.applyRedirectCommands(Fn,rt.redirectTo,ii);return rt.redirectTo.startsWith("/")?Ba(Hi):this.applyRedirects.lineralizeSegments(rt,Hi).pipe((0,B.z)(yo=>this.processSegment(Fe,Ne,ae,yo.concat(ni),xt,!1)))}matchSegmentAgainstRoute(Fe,ae,Ne,rt,Mt,xt){let an;if("**"===Ne.path){const Fn=rt.length>0?Z(rt).parameters:{},ni=new jt(rt,Fn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tl(Ne),cr(Ne),Ne.component??Ne._loadedComponent??null,Ne,ra(Ne));an=(0,O.of)({snapshot:ni,consumedSegments:[],remainingSegments:[]}),ae.children={}}else an=ba(ae,Ne,rt,Fe).pipe((0,D.U)(({matched:Fn,consumedSegments:ni,remainingSegments:ii,parameters:Hi})=>Fn?{snapshot:new jt(ni,Hi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tl(Ne),cr(Ne),Ne.component??Ne._loadedComponent??null,Ne,ra(Ne)),consumedSegments:ni,remainingSegments:ii}:null));return an.pipe((0,I.w)(Fn=>null===Fn?os(ae):this.getChildConfig(Fe=Ne._injector??Fe,Ne,rt).pipe((0,I.w)(({routes:ni})=>{const ii=Ne._loadedInjector??Fe,{snapshot:Hi,consumedSegments:yo,remainingSegments:Ml}=Fn,{segmentGroup:Va,slicedSegments:ls}=vl(ae,yo,Ml,ni);if(0===ls.length&&Va.hasChildren())return this.processChildren(ii,ni,Va).pipe((0,D.U)(Al=>null===Al?null:[new li(Hi,Al)]));if(0===ni.length&&0===ls.length)return(0,O.of)([new li(Hi,[])]);const aa=cr(Ne)===Mt;return this.processSegment(ii,ni,Va,ls,aa?ze:Mt,!0).pipe((0,D.U)(Al=>[new li(Hi,Al)]))}))))}getChildConfig(Fe,ae,Ne){return ae.children?(0,O.of)({routes:ae.children,injector:Fe}):ae.loadChildren?void 0!==ae._loadedRoutes?(0,O.of)({routes:ae._loadedRoutes,injector:ae._loadedInjector}):function $o(Ee,Fe,ae,Ne){const rt=Fe.canLoad;if(void 0===rt||0===rt.length)return(0,O.of)(!0);const Mt=rt.map(xt=>{const an=Wo(xt,Ee);return W(function pl(Ee){return Ee&&Zo(Ee.canLoad)}(an)?an.canLoad(Fe,ae):Ee.runInContext(()=>an(Fe,ae)))});return(0,O.of)(Mt).pipe(We(),ir())}(Fe,ae,Ne).pipe((0,B.z)(rt=>rt?this.configLoader.loadChildren(Fe,ae).pipe((0,ne.b)(Mt=>{ae._loadedRoutes=Mt.routes,ae._loadedInjector=Mt.injector})):function ia(Ee){return U(xo(!1,3))}())):(0,O.of)({routes:[],injector:Fe})}}function Mc(Ee){const Fe=Ee.value.routeConfig;return Fe&&""===Fe.path}function Ac(Ee){const Fe=[],ae=new Set;for(const Ne of Ee){if(!Mc(Ne)){Fe.push(Ne);continue}const rt=Fe.find(Mt=>Ne.value.routeConfig===Mt.value.routeConfig);void 0!==rt?(rt.children.push(...Ne.children),ae.add(rt)):Fe.push(Ne)}for(const Ne of ae){const rt=Ac(Ne.children);Fe.push(new li(Ne.value,rt))}return Fe.filter(Ne=>!ae.has(Ne))}function Tl(Ee){return Ee.data||{}}function ra(Ee){return Ee.resolve||{}}function oa(Ee){return"string"==typeof Ee.title||null===Ee.title}function De(Ee){return(0,I.w)(Fe=>{const ae=Ee(Fe);return ae?(0,E.D)(ae).pipe((0,D.U)(()=>Fe)):(0,O.of)(Fe)})}const pt=new c.OlP("ROUTES");let Je=(()=>{class Ee{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(ae){if(this.componentLoaders.get(ae))return this.componentLoaders.get(ae);if(ae._loadedComponent)return(0,O.of)(ae._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ae);const Ne=W(ae.loadComponent()).pipe((0,D.U)(Ut),(0,ne.b)(Mt=>{this.onLoadEndListener&&this.onLoadEndListener(ae),ae._loadedComponent=Mt}),(0,Le.x)(()=>{this.componentLoaders.delete(ae)})),rt=new V.c(Ne,()=>new k.x).pipe((0,Pe.x)());return this.componentLoaders.set(ae,rt),rt}loadChildren(ae,Ne){if(this.childrenLoaders.get(Ne))return this.childrenLoaders.get(Ne);if(Ne._loadedRoutes)return(0,O.of)({routes:Ne._loadedRoutes,injector:Ne._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ne);const Mt=this.loadModuleFactoryOrRoutes(Ne.loadChildren).pipe((0,D.U)(an=>{this.onLoadEndListener&&this.onLoadEndListener(Ne);let Fn,ni;return Array.isArray(an)?ni=an:(Fn=an.create(ae).injector,ni=Fn.get(pt,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:ni.map(mr),injector:Fn}}),(0,Le.x)(()=>{this.childrenLoaders.delete(Ne)})),xt=new V.c(Mt,()=>new k.x).pipe((0,Pe.x)());return this.childrenLoaders.set(Ne,xt),xt}loadModuleFactoryOrRoutes(ae){return W(ae()).pipe((0,D.U)(Ut),(0,B.z)(Ne=>Ne instanceof c.YKP||Array.isArray(Ne)?(0,O.of)(Ne):(0,E.D)(this.compiler.compileModuleAsync(Ne))))}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();function Ut(Ee){return function gt(Ee){return Ee&&"object"==typeof Ee&&"default"in Ee}(Ee)?Ee.default:Ee}let fn=(()=>{class Ee{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new k.x,this.configLoader=(0,c.f3M)(Je),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(_t),this.rootContexts=(0,c.f3M)(io),this.inputBindingEnabled=null!==(0,c.f3M)(wi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,O.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=rt=>this.events.next(new Di(rt)),this.configLoader.onLoadStartListener=rt=>this.events.next(new Cr(rt))}complete(){this.transitions?.complete()}handleNavigationRequest(ae){const Ne=++this.navigationId;this.transitions?.next({...this.transitions.value,...ae,id:Ne})}setupNavigations(ae){return this.transitions=new b.X({id:0,currentUrlTree:ae.currentUrlTree,currentRawUrl:ae.currentUrlTree,extractedUrl:ae.urlHandlingStrategy.extract(ae.currentUrlTree),urlAfterRedirects:ae.urlHandlingStrategy.extract(ae.currentUrlTree),rawUrl:ae.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rn,restoredState:null,currentSnapshot:ae.routerState.snapshot,targetSnapshot:null,currentRouterState:ae.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,S.h)(Ne=>0!==Ne.id),(0,D.U)(Ne=>({...Ne,extractedUrl:ae.urlHandlingStrategy.extract(Ne.rawUrl)})),(0,I.w)(Ne=>{let rt=!1,Mt=!1;return(0,O.of)(Ne).pipe((0,ne.b)(xt=>{this.currentNavigation={id:xt.id,initialUrl:xt.rawUrl,extractedUrl:xt.extractedUrl,trigger:xt.source,extras:xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,I.w)(xt=>{const an=ae.browserUrlTree.toString(),Fn=!ae.navigated||xt.extractedUrl.toString()!==an||an!==ae.currentUrlTree.toString();if(!Fn&&"reload"!==(xt.extras.onSameUrlNavigation??ae.onSameUrlNavigation)){const ii="";return this.events.next(new Kt(xt.id,ae.serializeUrl(Ne.rawUrl),ii,0)),ae.rawUrlTree=xt.rawUrl,xt.resolve(null),P.E}if(ae.urlHandlingStrategy.shouldProcessUrl(xt.rawUrl))return Dn(xt.source)&&(ae.browserUrlTree=xt.extractedUrl),(0,O.of)(xt).pipe((0,I.w)(ii=>{const Hi=this.transitions?.getValue();return this.events.next(new lt(ii.id,this.urlSerializer.serialize(ii.extractedUrl),ii.source,ii.restoredState)),Hi!==this.transitions?.getValue()?P.E:Promise.resolve(ii)}),function Sl(Ee,Fe,ae,Ne,rt,Mt){return(0,B.z)(xt=>function bl(Ee,Fe,ae,Ne,rt,Mt,xt="emptyOnly"){return new Sa(Ee,Fe,ae,Ne,rt,xt,Mt).recognize()}(Ee,Fe,ae,Ne,xt.extractedUrl,rt,Mt).pipe((0,D.U)(({state:an,tree:Fn})=>({...xt,targetSnapshot:an,urlAfterRedirects:Fn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,ae.config,this.urlSerializer,ae.paramsInheritanceStrategy),(0,ne.b)(ii=>{if(Ne.targetSnapshot=ii.targetSnapshot,Ne.urlAfterRedirects=ii.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ii.urlAfterRedirects},"eager"===ae.urlUpdateStrategy){if(!ii.extras.skipLocationChange){const yo=ae.urlHandlingStrategy.merge(ii.urlAfterRedirects,ii.rawUrl);ae.setBrowserUrl(yo,ii)}ae.browserUrlTree=ii.urlAfterRedirects}const Hi=new Ui(ii.id,this.urlSerializer.serialize(ii.extractedUrl),this.urlSerializer.serialize(ii.urlAfterRedirects),ii.targetSnapshot);this.events.next(Hi)}));if(Fn&&ae.urlHandlingStrategy.shouldProcessUrl(ae.rawUrlTree)){const{id:ii,extractedUrl:Hi,source:yo,restoredState:Ml,extras:Va}=xt,ls=new lt(ii,this.urlSerializer.serialize(Hi),yo,Ml);this.events.next(ls);const aa=Ni(0,this.rootComponentType).snapshot;return Ne={...xt,targetSnapshot:aa,urlAfterRedirects:Hi,extras:{...Va,skipLocationChange:!1,replaceUrl:!1}},(0,O.of)(Ne)}{const ii="";return this.events.next(new Kt(xt.id,ae.serializeUrl(Ne.extractedUrl),ii,1)),ae.rawUrlTree=xt.rawUrl,xt.resolve(null),P.E}}),(0,ne.b)(xt=>{const an=new lr(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(an)}),(0,D.U)(xt=>Ne={...xt,guards:Xs(xt.targetSnapshot,xt.currentSnapshot,this.rootContexts)}),function et(Ee,Fe){return(0,B.z)(ae=>{const{targetSnapshot:Ne,currentSnapshot:rt,guards:{canActivateChecks:Mt,canDeactivateChecks:xt}}=ae;return 0===xt.length&&0===Mt.length?(0,O.of)({...ae,guardsResult:!0}):function Ve(Ee,Fe,ae,Ne){return(0,E.D)(Ee).pipe((0,B.z)(rt=>function Yr(Ee,Fe,ae,Ne,rt){const Mt=Fe&&Fe.routeConfig?Fe.routeConfig.canDeactivate:null;if(!Mt||0===Mt.length)return(0,O.of)(!0);const xt=Mt.map(an=>{const Fn=Gi(Fe)??rt,ni=Wo(an,Fn);return W(function Ur(Ee){return Ee&&Zo(Ee.canDeactivate)}(ni)?ni.canDeactivate(Ee,Fe,ae,Ne):Fn.runInContext(()=>ni(Ee,Fe,ae,Ne))).pipe(H())});return(0,O.of)(xt).pipe(We())}(rt.component,rt.route,ae,Fe,Ne)),H(rt=>!0!==rt,!0))}(xt,Ne,rt,Ee).pipe((0,B.z)(an=>an&&function Ls(Ee){return"boolean"==typeof Ee}(an)?function yt(Ee,Fe,ae,Ne){return(0,E.D)(Fe).pipe((0,me.b)(rt=>(0,g.z)(function zn(Ee,Fe){return null!==Ee&&Fe&&Fe(new Vr(Ee)),(0,O.of)(!0)}(rt.route.parent,Ne),function Wt(Ee,Fe){return null!==Ee&&Fe&&Fe(new er(Ee)),(0,O.of)(!0)}(rt.route,Ne),function qr(Ee,Fe,ae){const Ne=Fe[Fe.length-1],Mt=Fe.slice(0,Fe.length-1).reverse().map(xt=>function Ns(Ee){const Fe=Ee.routeConfig?Ee.routeConfig.canActivateChild:null;return Fe&&0!==Fe.length?{node:Ee,guards:Fe}:null}(xt)).filter(xt=>null!==xt).map(xt=>(0,h.P)(()=>{const an=xt.guards.map(Fn=>{const ni=Gi(xt.node)??ae,ii=Wo(Fn,ni);return W(function gs(Ee){return Ee&&Zo(Ee.canActivateChild)}(ii)?ii.canActivateChild(Ne,Ee):ni.runInContext(()=>ii(Ne,Ee))).pipe(H())});return(0,O.of)(an).pipe(We())}));return(0,O.of)(Mt).pipe(We())}(Ee,rt.path,ae),function hi(Ee,Fe,ae){const Ne=Fe.routeConfig?Fe.routeConfig.canActivate:null;if(!Ne||0===Ne.length)return(0,O.of)(!0);const rt=Ne.map(Mt=>(0,h.P)(()=>{const xt=Gi(Fe)??ae,an=Wo(Mt,xt);return W(function va(Ee){return Ee&&Zo(Ee.canActivate)}(an)?an.canActivate(Fe,Ee):xt.runInContext(()=>an(Fe,Ee))).pipe(H())}));return(0,O.of)(rt).pipe(We())}(Ee,rt.route,ae))),H(rt=>!0!==rt,!0))}(Ne,Mt,Ee,Fe):(0,O.of)(an)),(0,D.U)(an=>({...ae,guardsResult:an})))})}(this.environmentInjector,xt=>this.events.next(xt)),(0,ne.b)(xt=>{if(Ne.guardsResult=xt.guardsResult,On(xt.guardsResult))throw fo(0,xt.guardsResult);const an=new Si(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot,!!xt.guardsResult);this.events.next(an)}),(0,S.h)(xt=>!!xt.guardsResult||(ae.restoreHistory(xt),this.cancelNavigationTransition(xt,"",3),!1)),De(xt=>{if(xt.guards.canActivateChecks.length)return(0,O.of)(xt).pipe((0,ne.b)(an=>{const Fn=new ki(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Fn)}),(0,I.w)(an=>{let Fn=!1;return(0,O.of)(an).pipe(function Cl(Ee,Fe){return(0,B.z)(ae=>{const{targetSnapshot:Ne,guards:{canActivateChecks:rt}}=ae;if(!rt.length)return(0,O.of)(ae);let Mt=0;return(0,E.D)(rt).pipe((0,me.b)(xt=>function qo(Ee,Fe,ae,Ne){const rt=Ee.routeConfig,Mt=Ee._resolve;return void 0!==rt?.title&&!oa(rt)&&(Mt[He]=rt.title),function wc(Ee,Fe,ae,Ne){const rt=function Ic(Ee){return[...Object.keys(Ee),...Object.getOwnPropertySymbols(Ee)]}(Ee);if(0===rt.length)return(0,O.of)({});const Mt={};return(0,E.D)(rt).pipe((0,B.z)(xt=>function or(Ee,Fe,ae,Ne){const rt=Gi(Fe)??Ne,Mt=Wo(Ee,rt);return W(Mt.resolve?Mt.resolve(Fe,ae):rt.runInContext(()=>Mt(Fe,ae)))}(Ee[xt],Fe,ae,Ne).pipe(H(),(0,ne.b)(an=>{Mt[xt]=an}))),Me(1),(0,_e.h)(Mt),Se(xt=>Pi(xt)?P.E:U(xt)))}(Mt,Ee,Fe,Ne).pipe((0,D.U)(xt=>(Ee._resolvedData=xt,Ee.data=nr(Ee,ae).resolve,rt&&oa(rt)&&(Ee.data[He]=rt.title),null)))}(xt.route,Ne,Ee,Fe)),(0,ne.b)(()=>Mt++),Me(1),(0,B.z)(xt=>Mt===rt.length?(0,O.of)(ae):P.E))})}(ae.paramsInheritanceStrategy,this.environmentInjector),(0,ne.b)({next:()=>Fn=!0,complete:()=>{Fn||(ae.restoreHistory(an),this.cancelNavigationTransition(an,"",2))}}))}),(0,ne.b)(an=>{const Fn=new Cn(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Fn)}))}),De(xt=>{const an=Fn=>{const ni=[];Fn.routeConfig?.loadComponent&&!Fn.routeConfig._loadedComponent&&ni.push(this.configLoader.loadComponent(Fn.routeConfig).pipe((0,ne.b)(ii=>{Fn.component=ii}),(0,D.U)(()=>{})));for(const ii of Fn.children)ni.push(...an(ii));return ni};return(0,F.a)(an(xt.targetSnapshot.root)).pipe(se(),(0,T.q)(1))}),De(()=>this.afterPreactivation()),(0,D.U)(xt=>{const an=function Pr(Ee,Fe,ae){const Ne=hr(Ee,Fe._root,ae?ae._root:void 0);return new ai(Ne,Fe)}(ae.routeReuseStrategy,xt.targetSnapshot,xt.currentRouterState);return Ne={...xt,targetRouterState:an}}),(0,ne.b)(xt=>{ae.currentUrlTree=xt.urlAfterRedirects,ae.rawUrlTree=ae.urlHandlingStrategy.merge(xt.urlAfterRedirects,xt.rawUrl),ae.routerState=xt.targetRouterState,"deferred"===ae.urlUpdateStrategy&&(xt.extras.skipLocationChange||ae.setBrowserUrl(ae.rawUrlTree,xt),ae.browserUrlTree=xt.urlAfterRedirects)}),((Ee,Fe,ae,Ne)=>(0,D.U)(rt=>(new Yo(Fe,rt.targetRouterState,rt.currentRouterState,ae,Ne).activate(Ee),rt)))(this.rootContexts,ae.routeReuseStrategy,xt=>this.events.next(xt),this.inputBindingEnabled),(0,T.q)(1),(0,ne.b)({next:xt=>{rt=!0,this.lastSuccessfulNavigation=this.currentNavigation,ae.navigated=!0,this.events.next(new it(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(ae.currentUrlTree))),ae.titleStrategy?.updateTitle(xt.targetRouterState.snapshot),xt.resolve(!0)},complete:()=>{rt=!0}}),(0,Le.x)(()=>{rt||Mt||this.cancelNavigationTransition(Ne,"",1),this.currentNavigation?.id===Ne.id&&(this.currentNavigation=null)}),Se(xt=>{if(Mt=!0,Js(xt)){Ti(xt)||(ae.navigated=!0,ae.restoreHistory(Ne,!0));const an=new At(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),xt.message,xt.cancellationCode);if(this.events.next(an),Ti(xt)){const Fn=ae.urlHandlingStrategy.merge(xt.url,ae.rawUrlTree),ni={skipLocationChange:Ne.extras.skipLocationChange,replaceUrl:"eager"===ae.urlUpdateStrategy||Dn(Ne.source)};ae.scheduleNavigation(Fn,rn,null,ni,{resolve:Ne.resolve,reject:Ne.reject,promise:Ne.promise})}else Ne.resolve(!1)}else{ae.restoreHistory(Ne,!0);const an=new vn(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),xt,Ne.targetSnapshot??void 0);this.events.next(an);try{Ne.resolve(ae.errorHandler(xt))}catch(Fn){Ne.reject(Fn)}}return P.E}))}))}cancelNavigationTransition(ae,Ne,rt){const Mt=new At(ae.id,this.urlSerializer.serialize(ae.extractedUrl),Ne,rt);this.events.next(Mt),ae.resolve(!1)}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();function Dn(Ee){return Ee!==rn}let ei=(()=>{class Ee{buildTitle(ae){let Ne,rt=ae.root;for(;void 0!==rt;)Ne=this.getResolvedTitleForRoute(rt)??Ne,rt=rt.children.find(Mt=>Mt.outlet===ze);return Ne}getResolvedTitleForRoute(ae){return ae.data[He]}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)($i)},providedIn:"root"})}return Ee})(),$i=(()=>{class Ee extends ei{constructor(ae){super(),this.title=ae}updateTitle(ae){const Ne=this.buildTitle(ae);void 0!==Ne&&this.title.setTitle(Ne)}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)(c.LFG(je.Dx))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),Ai=(()=>{class Ee{static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(xi)},providedIn:"root"})}return Ee})();class Li{shouldDetach(Fe){return!1}store(Fe,ae){}shouldAttach(Fe){return!1}retrieve(Fe){return null}shouldReuseRoute(Fe,ae){return Fe.routeConfig===ae.routeConfig}}let xi=(()=>{class Ee extends Li{static#e=this.\u0275fac=function(){let ae;return function(rt){return(ae||(ae=c.n5z(Ee)))(rt||Ee)}}();static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();const sr=new c.OlP("",{providedIn:"root",factory:()=>({})});let Vi=(()=>{class Ee{static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(xr)},providedIn:"root"})}return Ee})(),xr=(()=>{class Ee{shouldProcessUrl(ae){return!0}extract(ae){return ae}merge(ae,Ne){return ae}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();var po=function(Ee){return Ee[Ee.COMPLETE=0]="COMPLETE",Ee[Ee.FAILED=1]="FAILED",Ee[Ee.REDIRECTING=2]="REDIRECTING",Ee}(po||{});function oi(Ee,Fe){Ee.events.pipe((0,S.h)(ae=>ae instanceof it||ae instanceof At||ae instanceof vn||ae instanceof Kt),(0,D.U)(ae=>ae instanceof it||ae instanceof Kt?po.COMPLETE:ae instanceof At&&(0===ae.code||1===ae.code)?po.REDIRECTING:po.FAILED),(0,S.h)(ae=>ae!==po.REDIRECTING),(0,T.q)(1)).subscribe(()=>{Fe()})}function ps(Ee){throw Ee}function ko(Ee,Fe,ae){return Fe.parse("/")}const _s={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ss={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rr=(()=>{class Ee{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(sr,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||ps,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ko,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Vi),this.routeReuseStrategy=(0,c.f3M)(Ai),this.titleStrategy=(0,c.f3M)(ei),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(pt,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(fn),this.urlSerializer=(0,c.f3M)(_t),this.location=(0,c.f3M)(R.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(wi,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Be,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ni(0,null),this.navigationTransitions.setupNavigations(this).subscribe(ae=>{this.lastSuccessfulId=ae.id,this.currentPageId=this.browserPageId??0},ae=>{this.console.warn(`Unhandled Navigation Error: ${ae}`)})}resetRootComponentType(ae){this.routerState.root.component=ae,this.navigationTransitions.rootComponentType=ae}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const ae=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rn,ae)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(ae=>{const Ne="popstate"===ae.type?"popstate":"hashchange";"popstate"===Ne&&setTimeout(()=>{this.navigateToSyncWithBrowser(ae.url,Ne,ae.state)},0)}))}navigateToSyncWithBrowser(ae,Ne,rt){const Mt={replaceUrl:!0},xt=rt?.navigationId?rt:null;if(rt){const Fn={...rt};delete Fn.navigationId,delete Fn.\u0275routerPageId,0!==Object.keys(Fn).length&&(Mt.state=Fn)}const an=this.parseUrl(ae);this.scheduleNavigation(an,Ne,xt,Mt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(ae){this.config=ae.map(mr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(ae,Ne={}){const{relativeTo:rt,queryParams:Mt,fragment:xt,queryParamsHandling:an,preserveFragment:Fn}=Ne,ni=Fn?this.currentUrlTree.fragment:xt;let Hi,ii=null;switch(an){case"merge":ii={...this.currentUrlTree.queryParams,...Mt};break;case"preserve":ii=this.currentUrlTree.queryParams;break;default:ii=Mt||null}null!==ii&&(ii=this.removeEmptyProps(ii));try{Hi=Jn(rt?rt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof ae[0]||!ae[0].startsWith("/"))&&(ae=[]),Hi=this.currentUrlTree.root}return fi(Hi,ae,ii,ni??null)}navigateByUrl(ae,Ne={skipLocationChange:!1}){const rt=On(ae)?ae:this.parseUrl(ae),Mt=this.urlHandlingStrategy.merge(rt,this.rawUrlTree);return this.scheduleNavigation(Mt,rn,null,Ne)}navigate(ae,Ne={skipLocationChange:!1}){return function Jd(Ee){for(let Fe=0;Fe<Ee.length;Fe++)if(null==Ee[Fe])throw new c.vHH(4008,!1)}(ae),this.navigateByUrl(this.createUrlTree(ae,Ne),Ne)}serializeUrl(ae){return this.urlSerializer.serialize(ae)}parseUrl(ae){let Ne;try{Ne=this.urlSerializer.parse(ae)}catch(rt){Ne=this.malformedUriErrorHandler(rt,this.urlSerializer,ae)}return Ne}isActive(ae,Ne){let rt;if(rt=!0===Ne?{..._s}:!1===Ne?{...ss}:Ne,On(ae))return q(this.currentUrlTree,ae,rt);const Mt=this.parseUrl(ae);return q(this.currentUrlTree,Mt,rt)}removeEmptyProps(ae){return Object.keys(ae).reduce((Ne,rt)=>{const Mt=ae[rt];return null!=Mt&&(Ne[rt]=Mt),Ne},{})}scheduleNavigation(ae,Ne,rt,Mt,xt){if(this.disposed)return Promise.resolve(!1);let an,Fn,ni;xt?(an=xt.resolve,Fn=xt.reject,ni=xt.promise):ni=new Promise((Hi,yo)=>{an=Hi,Fn=yo});const ii=this.pendingTasks.add();return oi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ii))}),this.navigationTransitions.handleNavigationRequest({source:Ne,restoredState:rt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:ae,extras:Mt,resolve:an,reject:Fn,promise:ni,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ni.catch(Hi=>Promise.reject(Hi))}setBrowserUrl(ae,Ne){const rt=this.urlSerializer.serialize(ae);if(this.location.isCurrentPathEqualTo(rt)||Ne.extras.replaceUrl){const xt={...Ne.extras.state,...this.generateNgRouterState(Ne.id,this.browserPageId)};this.location.replaceState(rt,"",xt)}else{const Mt={...Ne.extras.state,...this.generateNgRouterState(Ne.id,(this.browserPageId??0)+1)};this.location.go(rt,"",Mt)}}restoreHistory(ae,Ne=!1){if("computed"===this.canceledNavigationResolution){const Mt=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Mt?this.location.historyGo(Mt):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Mt&&(this.resetState(ae),this.browserUrlTree=ae.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ne&&this.resetState(ae),this.resetUrlToCurrentUrlTree())}resetState(ae){this.routerState=ae.currentRouterState,this.currentUrlTree=ae.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ae.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(ae,Ne){return"computed"===this.canceledNavigationResolution?{navigationId:ae,\u0275routerPageId:Ne}:{navigationId:ae}}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),vs=(()=>{class Ee{constructor(ae,Ne,rt,Mt,xt,an){this.router=ae,this.route=Ne,this.tabIndexAttribute=rt,this.renderer=Mt,this.el=xt,this.locationStrategy=an,this.href=null,this.commands=null,this.onChanges=new k.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Fn=xt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Fn||"area"===Fn,this.isAnchorElement?this.subscription=ae.events.subscribe(ni=>{ni instanceof it&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(ae){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ae)}ngOnChanges(ae){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(ae){null!=ae?(this.commands=Array.isArray(ae)?ae:[ae],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(ae,Ne,rt,Mt,xt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==ae||Ne||rt||Mt||xt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const ae=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ae)}applyAttributeValue(ae,Ne){const rt=this.renderer,Mt=this.el.nativeElement;null!==Ne?rt.setAttribute(Mt,ae,Ne):rt.removeAttribute(Mt,ae)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)(c.Y36(Rr),c.Y36(tr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(R.S$))};static#t=this.\u0275dir=c.lG2({type:Ee,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Ne,rt){1&Ne&&c.NdJ("click",function(xt){return rt.onClick(xt.button,xt.ctrlKey,xt.shiftKey,xt.altKey,xt.metaKey)}),2&Ne&&c.uIk("target",rt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return Ee})();class Qd{}let kn=(()=>{class Ee{constructor(ae,Ne,rt,Mt,xt){this.router=ae,this.injector=rt,this.preloadingStrategy=Mt,this.loader=xt}setUpPreloading(){this.subscription=this.router.events.pipe((0,S.h)(ae=>ae instanceof it),(0,me.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ae,Ne){const rt=[];for(const Mt of Ne){Mt.providers&&!Mt._injector&&(Mt._injector=(0,c.MMx)(Mt.providers,ae,`Route: ${Mt.path}`));const xt=Mt._injector??ae,an=Mt._loadedInjector??xt;(Mt.loadChildren&&!Mt._loadedRoutes&&void 0===Mt.canLoad||Mt.loadComponent&&!Mt._loadedComponent)&&rt.push(this.preloadConfig(xt,Mt)),(Mt.children||Mt._loadedRoutes)&&rt.push(this.processRoutes(an,Mt.children??Mt._loadedRoutes))}return(0,E.D)(rt).pipe((0,Oe.J)())}preloadConfig(ae,Ne){return this.preloadingStrategy.preload(Ne,()=>{let rt;rt=Ne.loadChildren&&void 0===Ne.canLoad?this.loader.loadChildren(ae,Ne):(0,O.of)(null);const Mt=rt.pipe((0,B.z)(xt=>null===xt?(0,O.of)(void 0):(Ne._loadedRoutes=xt.routes,Ne._loadedInjector=xt.injector,this.processRoutes(xt.injector??ae,xt.routes))));if(Ne.loadComponent&&!Ne._loadedComponent){const xt=this.loader.loadComponent(Ne);return(0,E.D)([Mt,xt]).pipe((0,Oe.J)())}return Mt})}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)(c.LFG(Rr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Qd),c.LFG(Je))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();const Ii=new c.OlP("");let Oc=(()=>{class Ee{constructor(ae,Ne,rt,Mt,xt={}){this.urlSerializer=ae,this.transitions=Ne,this.viewportScroller=rt,this.zone=Mt,this.options=xt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},xt.scrollPositionRestoration=xt.scrollPositionRestoration||"disabled",xt.anchorScrolling=xt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ae=>{ae instanceof lt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ae.navigationTrigger,this.restoredId=ae.restoredState?ae.restoredState.navigationId:0):ae instanceof it?(this.lastId=ae.id,this.scheduleScrollEvent(ae,this.urlSerializer.parse(ae.urlAfterRedirects).fragment)):ae instanceof Kt&&0===ae.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ae,this.urlSerializer.parse(ae.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ae=>{ae instanceof kr&&(ae.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ae.position):ae.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ae.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ae,Ne){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kr(ae,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ne))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Ne){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function as(Ee,Fe){return{\u0275kind:Ee,\u0275providers:Fe}}function eu(){const Ee=(0,c.f3M)(c.zs3);return Fe=>{const ae=Ee.get(c.z2F);if(Fe!==ae.components[0])return;const Ne=Ee.get(Rr),rt=Ee.get(mp);1===Ee.get(Dl)&&Ne.initialNavigation(),Ee.get(sa,null,c.XFs.Optional)?.setUpPreloading(),Ee.get(Ii,null,c.XFs.Optional)?.init(),Ne.resetRootComponentType(ae.componentTypes[0]),rt.closed||(rt.next(),rt.complete(),rt.unsubscribe())}}const mp=new c.OlP("",{factory:()=>new k.x}),Dl=new c.OlP("",{providedIn:"root",factory:()=>1}),sa=new c.OlP("");function bs(Ee){return as(0,[{provide:sa,useExisting:kn},{provide:Qd,useExisting:Ee}])}const xl=new c.OlP("ROUTER_FORROOT_GUARD"),nu=[R.Ye,{provide:_t,useClass:Rt},Rr,io,{provide:tr,useFactory:function jr(Ee){return Ee.routerState.root},deps:[Rr]},Je,[]];function Pc(){return new c.PXZ("Router",Rr)}let sh=(()=>{class Ee{constructor(ae){}static forRoot(ae,Ne){return{ngModule:Ee,providers:[nu,[],{provide:pt,multi:!0,useValue:ae},{provide:xl,useFactory:ou,deps:[[Rr,new c.FiY,new c.tp0]]},{provide:sr,useValue:Ne||{}},Ne?.useHash?{provide:R.S$,useClass:R.Do}:{provide:R.S$,useClass:R.b0},{provide:Ii,useFactory:()=>{const Ee=(0,c.f3M)(R.EM),Fe=(0,c.f3M)(c.R0b),ae=(0,c.f3M)(sr),Ne=(0,c.f3M)(fn),rt=(0,c.f3M)(_t);return ae.scrollOffset&&Ee.setOffset(ae.scrollOffset),new Oc(rt,Ne,Ee,Fe,ae)}},Ne?.preloadingStrategy?bs(Ne.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Pc},Ne?.initialNavigation?su(Ne):[],Ne?.bindToComponentInputs?as(8,[yr,{provide:wi,useExisting:yr}]).\u0275providers:[],[{provide:Nc,useFactory:eu},{provide:c.tb,multi:!0,useExisting:Nc}]]}}static forChild(ae){return{ngModule:Ee,providers:[{provide:pt,multi:!0,useValue:ae}]}}static#e=this.\u0275fac=function(Ne){return new(Ne||Ee)(c.LFG(xl,8))};static#t=this.\u0275mod=c.oAB({type:Ee});static#n=this.\u0275inj=c.cJS({})}return Ee})();function ou(Ee){return"guarded"}function su(Ee){return["disabled"===Ee.initialNavigation?as(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const Fe=(0,c.f3M)(Rr);return()=>{Fe.setUpLocationChangeListener()}}},{provide:Dl,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ee.initialNavigation?as(2,[{provide:Dl,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:Fe=>{const ae=Fe.get(R.V_,Promise.resolve());return()=>ae.then(()=>new Promise(Ne=>{const rt=Fe.get(Rr),Mt=Fe.get(mp);oi(rt,()=>{Ne(!0)}),Fe.get(fn).afterPreactivation=()=>(Ne(!0),Mt.closed?(0,O.of)(void 0):Mt),rt.initialNavigation()}))}}]).\u0275providers:[]]}const Nc=new c.OlP("")},7582:(wn,Ze,C)=>{"use strict";function y(ne,ue,Se,Ie){return new(Se||(Se=Promise))(function(Me,we){function _e(Oe){try{Pe(Ie.next(Oe))}catch(je){we(je)}}function Le(Oe){try{Pe(Ie.throw(Oe))}catch(je){we(je)}}function Pe(Oe){Oe.done?Me(Oe.value):function le(Me){return Me instanceof Se?Me:new Se(function(we){we(Me)})}(Oe.value).then(_e,Le)}Pe((Ie=Ie.apply(ne,ue||[])).next())})}function T(ne){return this instanceof T?(this.v=ne,this):new T(ne)}function N(ne,ue,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Ie=Se.apply(ne,ue||[]),Me=[];return le={},we("next"),we("throw"),we("return"),le[Symbol.asyncIterator]=function(){return this},le;function we(ze){Ie[ze]&&(le[ze]=function(He){return new Promise(function(Ae,be){Me.push([ze,He,Ae,be])>1||_e(ze,He)})})}function _e(ze,He){try{!function Le(ze){ze.value instanceof T?Promise.resolve(ze.value.v).then(Pe,Oe):je(Me[0][2],ze)}(Ie[ze](He))}catch(Ae){je(Me[0][3],Ae)}}function Pe(ze){_e("next",ze)}function Oe(ze){_e("throw",ze)}function je(ze,He){ze(He),Me.shift(),Me.length&&_e(Me[0][0],Me[0][1])}}function B(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,ue=ne[Symbol.asyncIterator];return ue?ue.call(ne):(ne=function V(ne){var ue="function"==typeof Symbol&&Symbol.iterator,Se=ue&&ne[ue],Ie=0;if(Se)return Se.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Ie>=ne.length&&(ne=void 0),{value:ne&&ne[Ie++],done:!ne}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),Se={},Ie("next"),Ie("throw"),Ie("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Ie(Me){Se[Me]=ne[Me]&&function(we){return new Promise(function(_e,Le){!function le(Me,we,_e,Le){Promise.resolve(Le).then(function(Pe){Me({value:Pe,done:_e})},we)}(_e,Le,(we=ne[Me](we)).done,we.value)})}}}C.d(Ze,{FC:()=>N,KL:()=>B,mG:()=>y,qq:()=>T})}},wn=>{wn(wn.s=4337)}]);