(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6304:(Bn,et,C)=>{"use strict";C.d(et,{Dh:()=>D,GT:()=>F,cc:()=>U,hO:()=>A,on:()=>f,pX:()=>E,xv:()=>p});var c=C(5879),t=C(7142),y=C(8186);Bn=C.hmd(Bn);const I=["ngOnDestroy"],E=(O,x,P,T={})=>new Proxy(O,{get:(N,S)=>P.runOutsideAngular(()=>{var B;if(O[S])return!(null===(B=T?.spy)||void 0===B)&&B.get&&T.spy.get(S,O[S]),O[S];if(I.indexOf(S)>-1)return()=>{};const Y=x.toPromise().then(q=>{const le=q&&q[S];return"function"==typeof le?le.bind(q):le&&le.then?le.then(Fe=>P.run(()=>Fe)):P.run(()=>le)});return new Proxy(()=>{},{get:(q,le)=>Y[le],apply:(q,le,Fe)=>Y.then($=>{var ae;const K=$&&$(...Fe);return!(null===(ae=T?.spy)||void 0===ae)&&ae.apply&&T.spy.apply(S,Fe,K),K})})})}),F=(O,x)=>{x.forEach(P=>{Object.getOwnPropertyNames(P.prototype||P).forEach(T=>{Object.defineProperty(O.prototype,T,Object.getOwnPropertyDescriptor(P.prototype||P,T))})})};class L{constructor(x){return x}}const D=new c.OlP("angularfire2.app.options"),p=new c.OlP("angularfire2.app.name");function f(O,x,P){const N="object"==typeof P&&P||{};N.name=N.name||"string"==typeof P&&P||"[DEFAULT]";const B=t.Z.apps.filter(Y=>Y&&Y.name===N.name)[0]||x.runOutsideAngular(()=>t.Z.initializeApp(O,N));try{JSON.stringify(O)!==JSON.stringify(B.options)&&g("error",`${B.name} Firebase App already initialized with different options${Bn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new L(B)}const g=(O,...x)=>{(0,c.X6Q)()&&typeof console<"u"&&console[O](...x)},v={provide:L,useFactory:f,deps:[D,c.R0b,[new c.FiY,p]]};let A=(()=>{class O{constructor(P){t.Z.registerVersion("angularfire",y.q4.full,"core"),t.Z.registerVersion("angularfire",y.q4.full,"app-compat"),t.Z.registerVersion("angular",c.q4F.full,P.toString())}static initializeApp(P,T){return{ngModule:O,providers:[{provide:D,useValue:P},{provide:p,useValue:T}]}}}return O.\u0275fac=function(P){return new(P||O)(c.LFG(c.Lbi))},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({providers:[v]}),O})();function U(O,x,P,T,N){const[,S,B]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===O)||[];if(S)return function R(O,x){try{return O.toString()===x.toString()}catch{return O===x}}(N,B)||(k("error",`${x} was already initialized on the ${P} Firebase App with different settings.${j?" You may need to reload as Firebase is not HMR aware.":""}`),k("warn",{is:N,was:B})),S;{const Y=T();return globalThis.\u0275AngularfireInstanceCache.push([O,Y,N]),Y}}const j=!!Bn.hot,k=(O,...x)=>{(0,c.X6Q)()&&typeof console<"u"&&console[O](...x)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Bn,et,C)=>{"use strict";C.d(et,{q4:()=>pd,iC:()=>Bl,HU:()=>yc,vb:()=>vc,JM:()=>fl});var c=C(5879),t=C(3182),y=C(5861),I=C(534),E=C(9058),F=C(4537),L=C(7879);const D=(Ae,Ze)=>Ze.some(Ct=>Ae instanceof Ct);let p,f;const A=new WeakMap,U=new WeakMap,R=new WeakMap,j=new WeakMap,k=new WeakMap;let P={get(Ae,Ze,Ct){if(Ae instanceof IDBTransaction){if("done"===Ze)return U.get(Ae);if("objectStoreNames"===Ze)return Ae.objectStoreNames||R.get(Ae);if("store"===Ze)return Ct.objectStoreNames[1]?void 0:Ct.objectStore(Ct.objectStoreNames[0])}return B(Ae[Ze])},set:(Ae,Ze,Ct)=>(Ae[Ze]=Ct,!0),has:(Ae,Ze)=>Ae instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in Ae};function S(Ae){return"function"==typeof Ae?function N(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function v(){return f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(...Ze){return Ae.apply(Y(this),Ze),B(A.get(this))}:function(...Ze){return B(Ae.apply(Y(this),Ze))}:function(Ze,...Ct){const Yt=Ae.call(Y(this),Ze,...Ct);return R.set(Yt,Ze.sort?Ze.sort():[Ze]),B(Yt)}}(Ae):(Ae instanceof IDBTransaction&&function x(Ae){if(U.has(Ae))return;const Ze=new Promise((Ct,Yt)=>{const gn=()=>{Ae.removeEventListener("complete",Dn),Ae.removeEventListener("error",kn),Ae.removeEventListener("abort",kn)},Dn=()=>{Ct(),gn()},kn=()=>{Yt(Ae.error||new DOMException("AbortError","AbortError")),gn()};Ae.addEventListener("complete",Dn),Ae.addEventListener("error",kn),Ae.addEventListener("abort",kn)});U.set(Ae,Ze)}(Ae),D(Ae,function g(){return p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,P):Ae)}function B(Ae){if(Ae instanceof IDBRequest)return function O(Ae){const Ze=new Promise((Ct,Yt)=>{const gn=()=>{Ae.removeEventListener("success",Dn),Ae.removeEventListener("error",kn)},Dn=()=>{Ct(B(Ae.result)),gn()},kn=()=>{Yt(Ae.error),gn()};Ae.addEventListener("success",Dn),Ae.addEventListener("error",kn)});return Ze.then(Ct=>{Ct instanceof IDBCursor&&A.set(Ct,Ae)}).catch(()=>{}),k.set(Ze,Ae),Ze}(Ae);if(j.has(Ae))return j.get(Ae);const Ze=S(Ae);return Ze!==Ae&&(j.set(Ae,Ze),k.set(Ze,Ae)),Ze}const Y=Ae=>k.get(Ae),Fe=["get","getKey","getAll","getAllKeys","count"],$=["put","add","delete","clear"],ae=new Map;function K(Ae,Ze){if(!(Ae instanceof IDBDatabase)||Ze in Ae||"string"!=typeof Ze)return;if(ae.get(Ze))return ae.get(Ze);const Ct=Ze.replace(/FromIndex$/,""),Yt=Ze!==Ct,gn=$.includes(Ct);if(!(Ct in(Yt?IDBIndex:IDBObjectStore).prototype)||!gn&&!Fe.includes(Ct))return;const Dn=function(){var kn=(0,y.Z)(function*(hi,...ai){const Ei=this.transaction(hi,gn?"readwrite":"readonly");let Bi=Ei.store;return Yt&&(Bi=Bi.index(ai.shift())),(yield Promise.all([Bi[Ct](...ai),gn&&Ei.done]))[0]});return function(ai){return kn.apply(this,arguments)}}();return ae.set(Ze,Dn),Dn}!function T(Ae){P=Ae(P)}(Ae=>({...Ae,get:(Ze,Ct,Yt)=>K(Ze,Ct)||Ae.get(Ze,Ct,Yt),has:(Ze,Ct)=>!!K(Ze,Ct)||Ae.has(Ze,Ct)}));const pe="@firebase/installations",oe="0.6.4",he=1e4,Se=`w:${oe}`,Le="FIS_v2",fe="https://firebaseinstallations.googleapis.com/v1",Re=36e5,ke=new E.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ie(Ae){return Ae instanceof E.ZR&&Ae.code.includes("request-failed")}function He({projectId:Ae}){return`${fe}/projects/${Ae}/installations`}function ot(Ae){return{token:Ae.token,requestStatus:2,expiresIn:J(Ae.expiresIn),creationTime:Date.now()}}function Je(Ae,Ze){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,y.Z)(function*(Ae,Ze){const Yt=(yield Ze.json()).error;return ke.create("request-failed",{requestName:Ae,serverCode:Yt.code,serverMessage:Yt.message,serverStatus:Yt.status})})).apply(this,arguments)}function Te({apiKey:Ae}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ae})}function se(Ae){return ge.apply(this,arguments)}function ge(){return(ge=(0,y.Z)(function*(Ae){const Ze=yield Ae();return Ze.status>=500&&Ze.status<600?Ae():Ze})).apply(this,arguments)}function J(Ae){return Number(Ae.replace("s","000"))}function te(){return(te=(0,y.Z)(function*({appConfig:Ae,heartbeatServiceProvider:Ze},{fid:Ct}){const Yt=He(Ae),gn=Te(Ae),Dn=Ze.getImmediate({optional:!0});if(Dn){const Ei=yield Dn.getHeartbeatsHeader();Ei&&gn.append("x-firebase-client",Ei)}const hi={method:"POST",headers:gn,body:JSON.stringify({fid:Ct,authVersion:Le,appId:Ae.appId,sdkVersion:Se})},ai=yield se(()=>fetch(Yt,hi));if(ai.ok){const Ei=yield ai.json();return{fid:Ei.fid||Ct,registrationStatus:2,refreshToken:Ei.refreshToken,authToken:ot(Ei.authToken)}}throw yield Je("Create Installation",ai)})).apply(this,arguments)}function ne(Ae){return new Promise(Ze=>{setTimeout(Ze,Ae)})}const X=/^[cdef][\w-]{21}$/,ue="";function _e(){try{const Ae=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ae),Ae[0]=112+Ae[0]%16;const Ct=function de(Ae){return function ee(Ae){return btoa(String.fromCharCode(...Ae)).replace(/\+/g,"-").replace(/\//g,"_")}(Ae).substr(0,22)}(Ae);return X.test(Ct)?Ct:ue}catch{return ue}}function xe(Ae){return`${Ae.appName}!${Ae.appId}`}const Ke=new Map;function Ve(Ae,Ze){const Ct=xe(Ae);nt(Ct,Ze),function yt(Ae,Ze){const Ct=function wt(){return!jt&&"BroadcastChannel"in self&&(jt=new BroadcastChannel("[Firebase] FID Change"),jt.onmessage=Ae=>{nt(Ae.data.key,Ae.data.fid)}),jt}();Ct&&Ct.postMessage({key:Ae,fid:Ze}),function Gt(){0===Ke.size&&jt&&(jt.close(),jt=null)}()}(Ct,Ze)}function nt(Ae,Ze){const Ct=Ke.get(Ae);if(Ct)for(const Yt of Ct)Yt(Ze)}let jt=null;const nn="firebase-installations-database",dn=1,un="firebase-installations-store";let Kt=null;function Tn(){return Kt||(Kt=function q(Ae,Ze,{blocked:Ct,upgrade:Yt,blocking:gn,terminated:Dn}={}){const kn=indexedDB.open(Ae,Ze),hi=B(kn);return Yt&&kn.addEventListener("upgradeneeded",ai=>{Yt(B(kn.result),ai.oldVersion,ai.newVersion,B(kn.transaction))}),Ct&&kn.addEventListener("blocked",()=>Ct()),hi.then(ai=>{Dn&&ai.addEventListener("close",()=>Dn()),gn&&ai.addEventListener("versionchange",()=>gn())}).catch(()=>{}),hi}(nn,dn,{upgrade:(Ae,Ze)=>{0===Ze&&Ae.createObjectStore(un)}})),Kt}function rn(Ae,Ze){return xt.apply(this,arguments)}function xt(){return(xt=(0,y.Z)(function*(Ae,Ze){const Ct=xe(Ae),gn=(yield Tn()).transaction(un,"readwrite"),Dn=gn.objectStore(un),kn=yield Dn.get(Ct);return yield Dn.put(Ze,Ct),yield gn.done,(!kn||kn.fid!==Ze.fid)&&Ve(Ae,Ze.fid),Ze})).apply(this,arguments)}function ht(Ae){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,y.Z)(function*(Ae){const Ze=xe(Ae),Yt=(yield Tn()).transaction(un,"readwrite");yield Yt.objectStore(un).delete(Ze),yield Yt.done})).apply(this,arguments)}function De(Ae,Ze){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,y.Z)(function*(Ae,Ze){const Ct=xe(Ae),gn=(yield Tn()).transaction(un,"readwrite"),Dn=gn.objectStore(un),kn=yield Dn.get(Ct),hi=Ze(kn);return void 0===hi?yield Dn.delete(Ct):yield Dn.put(hi,Ct),yield gn.done,hi&&(!kn||kn.fid!==hi.fid)&&Ve(Ae,hi.fid),hi})).apply(this,arguments)}function Ye(Ae){return ze.apply(this,arguments)}function ze(){return ze=(0,y.Z)(function*(Ae){let Ze;const Ct=yield De(Ae.appConfig,Yt=>{const gn=function lt(Ae){return ln(Ae||{fid:_e(),registrationStatus:0})}(Yt),Dn=function rt(Ae,Ze){if(0===Ze.registrationStatus){if(!navigator.onLine)return{installationEntry:Ze,registrationPromise:Promise.reject(ke.create("app-offline"))};const Ct={fid:Ze.fid,registrationStatus:1,registrationTime:Date.now()},Yt=function dt(Ae,Ze){return Ft.apply(this,arguments)}(Ae,Ct);return{installationEntry:Ct,registrationPromise:Yt}}return 1===Ze.registrationStatus?{installationEntry:Ze,registrationPromise:qt(Ae)}:{installationEntry:Ze}}(Ae,gn);return Ze=Dn.registrationPromise,Dn.installationEntry});return Ct.fid===ue?{installationEntry:yield Ze}:{installationEntry:Ct,registrationPromise:Ze}}),ze.apply(this,arguments)}function Ft(){return Ft=(0,y.Z)(function*(Ae,Ze){try{const Ct=yield function Z(Ae,Ze){return te.apply(this,arguments)}(Ae,Ze);return rn(Ae.appConfig,Ct)}catch(Ct){throw Ie(Ct)&&409===Ct.customData.serverCode?yield ht(Ae.appConfig):yield rn(Ae.appConfig,{fid:Ze.fid,registrationStatus:0}),Ct}}),Ft.apply(this,arguments)}function qt(Ae){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,y.Z)(function*(Ae){let Ze=yield Qt(Ae.appConfig);for(;1===Ze.registrationStatus;)yield ne(100),Ze=yield Qt(Ae.appConfig);if(0===Ze.registrationStatus){const{installationEntry:Ct,registrationPromise:Yt}=yield Ye(Ae);return Yt||Ct}return Ze})).apply(this,arguments)}function Qt(Ae){return De(Ae,Ze=>{if(!Ze)throw ke.create("installation-not-found");return ln(Ze)})}function ln(Ae){return function mn(Ae){return 1===Ae.registrationStatus&&Ae.registrationTime+he<Date.now()}(Ae)?{fid:Ae.fid,registrationStatus:0}:Ae}function Nn(){return(Nn=(0,y.Z)(function*({appConfig:Ae,heartbeatServiceProvider:Ze},Ct){const Yt=function Yn(Ae,{fid:Ze}){return`${He(Ae)}/${Ze}/authTokens:generate`}(Ae,Ct),gn=function W(Ae,{refreshToken:Ze}){const Ct=Te(Ae);return Ct.append("Authorization",function Q(Ae){return`${Le} ${Ae}`}(Ze)),Ct}(Ae,Ct),Dn=Ze.getImmediate({optional:!0});if(Dn){const Ei=yield Dn.getHeartbeatsHeader();Ei&&gn.append("x-firebase-client",Ei)}const hi={method:"POST",headers:gn,body:JSON.stringify({installation:{sdkVersion:Se,appId:Ae.appId}})},ai=yield se(()=>fetch(Yt,hi));if(ai.ok)return ot(yield ai.json());throw yield Je("Generate Auth Token",ai)})).apply(this,arguments)}function Vn(Ae){return fi.apply(this,arguments)}function fi(){return fi=(0,y.Z)(function*(Ae,Ze=!1){let Ct;const Yt=yield De(Ae.appConfig,Dn=>{if(!We(Dn))throw ke.create("not-registered");const kn=Dn.authToken;if(!Ze&&function ut(Ae){return 2===Ae.requestStatus&&!function Pt(Ae){const Ze=Date.now();return Ze<Ae.creationTime||Ae.creationTime+Ae.expiresIn<Ze+Re}(Ae)}(kn))return Dn;if(1===kn.requestStatus)return Ct=function Cn(Ae,Ze){return Tt.apply(this,arguments)}(Ae,Ze),Dn;{if(!navigator.onLine)throw ke.create("app-offline");const hi=function en(Ae){const Ze={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ae),{authToken:Ze})}(Dn);return Ct=function at(Ae,Ze){return Wt.apply(this,arguments)}(Ae,hi),hi}});return Ct?yield Ct:Yt.authToken}),fi.apply(this,arguments)}function Tt(){return(Tt=(0,y.Z)(function*(Ae,Ze){let Ct=yield Et(Ae.appConfig);for(;1===Ct.authToken.requestStatus;)yield ne(100),Ct=yield Et(Ae.appConfig);const Yt=Ct.authToken;return 0===Yt.requestStatus?Vn(Ae,Ze):Yt})).apply(this,arguments)}function Et(Ae){return De(Ae,Ze=>{if(!We(Ze))throw ke.create("not-registered");return function Jt(Ae){return 1===Ae.requestStatus&&Ae.requestTime+he<Date.now()}(Ze.authToken)?Object.assign(Object.assign({},Ze),{authToken:{requestStatus:0}}):Ze})}function Wt(){return Wt=(0,y.Z)(function*(Ae,Ze){try{const Ct=yield function Mn(Ae,Ze){return Nn.apply(this,arguments)}(Ae,Ze),Yt=Object.assign(Object.assign({},Ze),{authToken:Ct});return yield rn(Ae.appConfig,Yt),Ct}catch(Ct){if(!Ie(Ct)||401!==Ct.customData.serverCode&&404!==Ct.customData.serverCode){const Yt=Object.assign(Object.assign({},Ze),{authToken:{requestStatus:0}});yield rn(Ae.appConfig,Yt)}else yield ht(Ae.appConfig);throw Ct}}),Wt.apply(this,arguments)}function We(Ae){return void 0!==Ae&&2===Ae.registrationStatus}function Ht(){return(Ht=(0,y.Z)(function*(Ae){const Ze=Ae,{installationEntry:Ct,registrationPromise:Yt}=yield Ye(Ze);return Yt?Yt.catch(console.error):Vn(Ze).catch(console.error),Ct.fid})).apply(this,arguments)}function on(){return on=(0,y.Z)(function*(Ae,Ze=!1){const Ct=Ae;return yield function En(Ae){return Fn.apply(this,arguments)}(Ct),(yield Vn(Ct,Ze)).token}),on.apply(this,arguments)}function Fn(){return(Fn=(0,y.Z)(function*(Ae){const{registrationPromise:Ze}=yield Ye(Ae);Ze&&(yield Ze)})).apply(this,arguments)}function ei(Ae){return ke.create("missing-app-config-values",{valueName:Ae})}const Xi="installations",yr=Ae=>{const Ze=Ae.getProvider("app").getImmediate(),Ct=function cn(Ae){if(!Ae||!Ae.options)throw ei("App Configuration");if(!Ae.name)throw ei("App Name");const Ze=["projectId","apiKey","appId"];for(const Ct of Ze)if(!Ae.options[Ct])throw ei(Ct);return{appName:Ae.name,projectId:Ae.options.projectId,apiKey:Ae.options.apiKey,appId:Ae.options.appId}}(Ze);return{app:Ze,appConfig:Ct,heartbeatServiceProvider:(0,I._getProvider)(Ze,"heartbeat"),_delete:()=>Promise.resolve()}},ir=Ae=>{const Ze=Ae.getProvider("app").getImmediate(),Ct=(0,I._getProvider)(Ze,Xi).getImmediate();return{getId:()=>function Rn(Ae){return Ht.apply(this,arguments)}(Ct),getToken:gn=>function zt(Ae){return on.apply(this,arguments)}(Ct,gn)}};(function fo(){(0,I._registerComponent)(new F.wA(Xi,yr,"PUBLIC")),(0,I._registerComponent)(new F.wA("installations-internal",ir,"PRIVATE"))})(),(0,I.registerVersion)(pe,oe),(0,I.registerVersion)(pe,oe,"esm2017");const xo="@firebase/remote-config",rr=new E.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bi{constructor(Ze,Ct,Yt,gn){this.client=Ze,this.storage=Ct,this.storageCache=Yt,this.logger=gn}isCachedDataFresh(Ze,Ct){if(!Ct)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Yt=Date.now()-Ct,gn=Yt<=Ze;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Yt}. Cache max age millis (minimumFetchIntervalMillis setting): ${Ze}. Is cache hit: ${gn}.`),gn}fetch(Ze){var Ct=this;return(0,y.Z)(function*(){const[Yt,gn]=yield Promise.all([Ct.storage.getLastSuccessfulFetchTimestampMillis(),Ct.storage.getLastSuccessfulFetchResponse()]);if(gn&&Ct.isCachedDataFresh(Ze.cacheMaxAgeMillis,Yt))return gn;Ze.eTag=gn&&gn.eTag;const Dn=yield Ct.client.fetch(Ze),kn=[Ct.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Dn.status&&kn.push(Ct.storage.setLastSuccessfulFetchResponse(Dn)),yield Promise.all(kn),Dn})()}}function Oi(Ae=navigator){return Ae.languages&&Ae.languages[0]||Ae.language}class Si{constructor(Ze,Ct,Yt,gn,Dn,kn){this.firebaseInstallations=Ze,this.sdkVersion=Ct,this.namespace=Yt,this.projectId=gn,this.apiKey=Dn,this.appId=kn}fetch(Ze){var Ct=this;return(0,y.Z)(function*(){const[Yt,gn]=yield Promise.all([Ct.firebaseInstallations.getId(),Ct.firebaseInstallations.getToken()]),kn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ct.projectId}/namespaces/${Ct.namespace}:fetch?key=${Ct.apiKey}`,hi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Ze.eTag||"*"},ai={sdk_version:Ct.sdkVersion,app_instance_id:Yt,app_instance_id_token:gn,app_id:Ct.appId,language_code:Oi()},Ei={method:"POST",headers:hi,body:JSON.stringify(ai)},Bi=fetch(kn,Ei),Hi=new Promise((rs,za)=>{Ze.signal.addEventListener(()=>{const Zr=new Error("The operation was aborted.");Zr.name="AbortError",za(Zr)})});let is;try{yield Promise.race([Bi,Hi]),is=yield Bi}catch(rs){let za="fetch-client-network";throw"AbortError"===rs?.name&&(za="fetch-timeout"),rr.create(za,{originalErrorMessage:rs?.message})}let co=is.status;const _d=is.headers.get("ETag")||void 0;let hl,bc;if(200===is.status){let rs;try{rs=yield is.json()}catch(za){throw rr.create("fetch-client-parse",{originalErrorMessage:za?.message})}hl=rs.entries,bc=rs.state}if("INSTANCE_STATE_UNSPECIFIED"===bc?co=500:"NO_CHANGE"===bc?co=304:("NO_TEMPLATE"===bc||"EMPTY_CONFIG"===bc)&&(hl={}),304!==co&&200!==co)throw rr.create("fetch-status",{httpStatus:co});return{status:co,eTag:_d,config:hl}})()}}class Qi{constructor(Ze,Ct){this.client=Ze,this.storage=Ct}fetch(Ze){var Ct=this;return(0,y.Z)(function*(){const Yt=(yield Ct.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ct.attemptFetch(Ze,Yt)})()}attemptFetch(Ze,{throttleEndTimeMillis:Ct,backoffCount:Yt}){var gn=this;return(0,y.Z)(function*(){yield function _i(Ae,Ze){return new Promise((Ct,Yt)=>{const gn=Math.max(Ze-Date.now(),0),Dn=setTimeout(Ct,gn);Ae.addEventListener(()=>{clearTimeout(Dn),Yt(rr.create("fetch-throttle",{throttleEndTimeMillis:Ze}))})})}(Ze.signal,Ct);try{const Dn=yield gn.client.fetch(Ze);return yield gn.storage.deleteThrottleMetadata(),Dn}catch(Dn){if(!function Vi(Ae){if(!(Ae instanceof E.ZR&&Ae.customData))return!1;const Ze=Number(Ae.customData.httpStatus);return 429===Ze||500===Ze||503===Ze||504===Ze}(Dn))throw Dn;const kn={throttleEndTimeMillis:Date.now()+(0,E.$s)(Yt),backoffCount:Yt+1};return yield gn.storage.setThrottleMetadata(kn),gn.attemptFetch(Ze,kn)}})()}}class Eo{constructor(Ze,Ct,Yt,gn,Dn){this.app=Ze,this._client=Ct,this._storageCache=Yt,this._storage=gn,this._logger=Dn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tr(Ae,Ze){const Ct=Ae.target.error||void 0;return rr.create(Ze,{originalErrorMessage:Ct&&Ct?.message})}const Fr="app_namespace_store";class qs{constructor(Ze,Ct,Yt,gn=function Gi(){return new Promise((Ae,Ze)=>{try{const Ct=indexedDB.open("firebase_remote_config",1);Ct.onerror=Yt=>{Ze(Tr(Yt,"storage-open"))},Ct.onsuccess=Yt=>{Ae(Yt.target.result)},Ct.onupgradeneeded=Yt=>{0===Yt.oldVersion&&Yt.target.result.createObjectStore(Fr,{keyPath:"compositeKey"})}}catch(Ct){Ze(rr.create("storage-open",{originalErrorMessage:Ct?.message}))}})}()){this.appId=Ze,this.appName=Ct,this.namespace=Yt,this.openDbPromise=gn}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Ze){return this.set("last_fetch_status",Ze)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Ze){return this.set("last_successful_fetch_timestamp_millis",Ze)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Ze){return this.set("last_successful_fetch_response",Ze)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Ze){return this.set("active_config",Ze)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Ze){return this.set("active_config_etag",Ze)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Ze){return this.set("throttle_metadata",Ze)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Ze){var Ct=this;return(0,y.Z)(function*(){const Yt=yield Ct.openDbPromise;return new Promise((gn,Dn)=>{const hi=Yt.transaction([Fr],"readonly").objectStore(Fr),ai=Ct.createCompositeKey(Ze);try{const Ei=hi.get(ai);Ei.onerror=Bi=>{Dn(Tr(Bi,"storage-get"))},Ei.onsuccess=Bi=>{const Hi=Bi.target.result;gn(Hi?Hi.value:void 0)}}catch(Ei){Dn(rr.create("storage-get",{originalErrorMessage:Ei?.message}))}})})()}set(Ze,Ct){var Yt=this;return(0,y.Z)(function*(){const gn=yield Yt.openDbPromise;return new Promise((Dn,kn)=>{const ai=gn.transaction([Fr],"readwrite").objectStore(Fr),Ei=Yt.createCompositeKey(Ze);try{const Bi=ai.put({compositeKey:Ei,value:Ct});Bi.onerror=Hi=>{kn(Tr(Hi,"storage-set"))},Bi.onsuccess=()=>{Dn()}}catch(Bi){kn(rr.create("storage-set",{originalErrorMessage:Bi?.message}))}})})()}delete(Ze){var Ct=this;return(0,y.Z)(function*(){const Yt=yield Ct.openDbPromise;return new Promise((gn,Dn)=>{const hi=Yt.transaction([Fr],"readwrite").objectStore(Fr),ai=Ct.createCompositeKey(Ze);try{const Ei=hi.delete(ai);Ei.onerror=Bi=>{Dn(Tr(Bi,"storage-delete"))},Ei.onsuccess=()=>{gn()}}catch(Ei){Dn(rr.create("storage-delete",{originalErrorMessage:Ei?.message}))}})})()}createCompositeKey(Ze){return[this.appId,this.appName,this.namespace,Ze].join()}}class Mo{constructor(Ze){this.storage=Ze}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Ze=this;return(0,y.Z)(function*(){const Ct=Ze.storage.getLastFetchStatus(),Yt=Ze.storage.getLastSuccessfulFetchTimestampMillis(),gn=Ze.storage.getActiveConfig(),Dn=yield Ct;Dn&&(Ze.lastFetchStatus=Dn);const kn=yield Yt;kn&&(Ze.lastSuccessfulFetchTimestampMillis=kn);const hi=yield gn;hi&&(Ze.activeConfig=hi)})()}setLastFetchStatus(Ze){return this.lastFetchStatus=Ze,this.storage.setLastFetchStatus(Ze)}setLastSuccessfulFetchTimestampMillis(Ze){return this.lastSuccessfulFetchTimestampMillis=Ze,this.storage.setLastSuccessfulFetchTimestampMillis(Ze)}setActiveConfig(Ze){return this.activeConfig=Ze,this.storage.setActiveConfig(Ze)}}function $o(){return ds.apply(this,arguments)}function ds(){return(ds=(0,y.Z)(function*(){if(!(0,E.hl)())return!1;try{return yield(0,E.eu)()}catch{return!1}})).apply(this,arguments)}!function Ds(){(0,I._registerComponent)(new F.wA("remote-config",function Ae(Ze,{instanceIdentifier:Ct}){const Yt=Ze.getProvider("app").getImmediate(),gn=Ze.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw rr.create("registration-window");if(!(0,E.hl)())throw rr.create("indexed-db-unavailable");const{projectId:Dn,apiKey:kn,appId:hi}=Yt.options;if(!Dn)throw rr.create("registration-project-id");if(!kn)throw rr.create("registration-api-key");if(!hi)throw rr.create("registration-app-id");const ai=new qs(hi,Yt.name,Ct=Ct||"firebase"),Ei=new Mo(ai),Bi=new L.Yd(xo);Bi.logLevel=L.in.ERROR;const Hi=new Si(gn,I.SDK_VERSION,Ct,Dn,kn,hi),is=new Qi(Hi,ai),co=new bi(is,ai,Ei,Bi),_d=new Eo(Yt,co,Ei,ai,Bi);return function Pi(Ae){const Ze=(0,E.m9)(Ae);Ze._initializePromise||(Ze._initializePromise=Ze._storageCache.loadFromStorage().then(()=>{Ze._isInitializationComplete=!0}))}(_d),_d},"PUBLIC").setMultipleInstances(!0)),(0,I.registerVersion)(xo,"0.4.4"),(0,I.registerVersion)(xo,"0.4.4","esm2017")}();const Sr=(Ae,Ze)=>Ze.some(Ct=>Ae instanceof Ct);let xs,Pr;const fr=new WeakMap,io=new WeakMap,ki=new WeakMap,wo=new WeakMap,Io=new WeakMap;let Lo={get(Ae,Ze,Ct){if(Ae instanceof IDBTransaction){if("done"===Ze)return io.get(Ae);if("objectStoreNames"===Ze)return Ae.objectStoreNames||ki.get(Ae);if("store"===Ze)return Ct.objectStoreNames[1]?void 0:Ct.objectStore(Ct.objectStoreNames[0])}return ro(Ae[Ze])},set:(Ae,Ze,Ct)=>(Ae[Ze]=Ct,!0),has:(Ae,Ze)=>Ae instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in Ae};function qo(Ae){return"function"==typeof Ae?function fs(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ks(){return Pr||(Pr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(...Ze){return Ae.apply(To(this),Ze),ro(fr.get(this))}:function(...Ze){return ro(Ae.apply(To(this),Ze))}:function(Ze,...Ct){const Yt=Ae.call(To(this),Ze,...Ct);return ki.set(Yt,Ze.sort?Ze.sort():[Ze]),ro(Yt)}}(Ae):(Ae instanceof IDBTransaction&&function us(Ae){if(io.has(Ae))return;const Ze=new Promise((Ct,Yt)=>{const gn=()=>{Ae.removeEventListener("complete",Dn),Ae.removeEventListener("error",kn),Ae.removeEventListener("abort",kn)},Dn=()=>{Ct(),gn()},kn=()=>{Yt(Ae.error||new DOMException("AbortError","AbortError")),gn()};Ae.addEventListener("complete",Dn),Ae.addEventListener("error",kn),Ae.addEventListener("abort",kn)});io.set(Ae,Ze)}(Ae),Sr(Ae,function hr(){return xs||(xs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,Lo):Ae)}function ro(Ae){if(Ae instanceof IDBRequest)return function Wr(Ae){const Ze=new Promise((Ct,Yt)=>{const gn=()=>{Ae.removeEventListener("success",Dn),Ae.removeEventListener("error",kn)},Dn=()=>{Ct(ro(Ae.result)),gn()},kn=()=>{Yt(Ae.error),gn()};Ae.addEventListener("success",Dn),Ae.addEventListener("error",kn)});return Ze.then(Ct=>{Ct instanceof IDBCursor&&fr.set(Ct,Ae)}).catch(()=>{}),Io.set(Ze,Ae),Ze}(Ae);if(wo.has(Ae))return wo.get(Ae);const Ze=qo(Ae);return Ze!==Ae&&(wo.set(Ae,Ze),Io.set(Ze,Ae)),Ze}const To=Ae=>Io.get(Ae);function hs(Ae,Ze,{blocked:Ct,upgrade:Yt,blocking:gn,terminated:Dn}={}){const kn=indexedDB.open(Ae,Ze),hi=ro(kn);return Yt&&kn.addEventListener("upgradeneeded",ai=>{Yt(ro(kn.result),ai.oldVersion,ai.newVersion,ro(kn.transaction))}),Ct&&kn.addEventListener("blocked",()=>Ct()),hi.then(ai=>{Dn&&ai.addEventListener("close",()=>Dn()),gn&&ai.addEventListener("versionchange",()=>gn())}).catch(()=>{}),hi}function Co(Ae,{blocked:Ze}={}){const Ct=indexedDB.deleteDatabase(Ae);return Ze&&Ct.addEventListener("blocked",()=>Ze()),ro(Ct).then(()=>{})}const ma=["get","getKey","getAll","getAllKeys","count"],oo=["put","add","delete","clear"],Fs=new Map;function As(Ae,Ze){if(!(Ae instanceof IDBDatabase)||Ze in Ae||"string"!=typeof Ze)return;if(Fs.get(Ze))return Fs.get(Ze);const Ct=Ze.replace(/FromIndex$/,""),Yt=Ze!==Ct,gn=oo.includes(Ct);if(!(Ct in(Yt?IDBIndex:IDBObjectStore).prototype)||!gn&&!ma.includes(Ct))return;const Dn=function(){var kn=(0,y.Z)(function*(hi,...ai){const Ei=this.transaction(hi,gn?"readwrite":"readonly");let Bi=Ei.store;return Yt&&(Bi=Bi.index(ai.shift())),(yield Promise.all([Bi[Ct](...ai),gn&&Ei.done]))[0]});return function(ai){return kn.apply(this,arguments)}}();return Fs.set(Ze,Dn),Dn}!function Ho(Ae){Lo=Ae(Lo)}(Ae=>({...Ae,get:(Ze,Ct,Yt)=>As(Ze,Ct)||Ae.get(Ze,Ct,Yt),has:(Ze,Ct)=>!!As(Ze,Ct)||Ae.has(Ze,Ct)}));const Jo="/firebase-messaging-sw.js",Ms="/firebase-cloud-messaging-push-scope",Js="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ws="https://fcmregistrations.googleapis.com/v1",Bs="google.c.a.c_id",er="google.c.a.c_l",pn="google.c.a.ts";var $e=function(Ae){return Ae.PUSH_RECEIVED="push-received",Ae.NOTIFICATION_CLICKED="notification-clicked",Ae}($e||{});function It(Ae){const Ze=new Uint8Array(Ae);return btoa(String.fromCharCode(...Ze)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sn(Ae){const Ct=(Ae+"=".repeat((4-Ae.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Yt=atob(Ct),gn=new Uint8Array(Yt.length);for(let Dn=0;Dn<Yt.length;++Dn)gn[Dn]=Yt.charCodeAt(Dn);return gn}const si="fcm_token_details_db",Mi=5,ho="fcm_token_object_Store";function Ko(){return Ko=(0,y.Z)(function*(Ae){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Dn=>Dn.name).includes(si))return null;let Ze=null;return(yield hs(si,Mi,{upgrade:(Yt=(0,y.Z)(function*(gn,Dn,kn,hi){var ai;if(Dn<2||!gn.objectStoreNames.contains(ho))return;const Ei=hi.objectStore(ho),Bi=yield Ei.index("fcmSenderId").get(Ae);if(yield Ei.clear(),Bi)if(2===Dn){const Hi=Bi;if(!Hi.auth||!Hi.p256dh||!Hi.endpoint)return;Ze={token:Hi.fcmToken,createTime:null!==(ai=Hi.createTime)&&void 0!==ai?ai:Date.now(),subscriptionOptions:{auth:Hi.auth,p256dh:Hi.p256dh,endpoint:Hi.endpoint,swScope:Hi.swScope,vapidKey:"string"==typeof Hi.vapidKey?Hi.vapidKey:It(Hi.vapidKey)}}}else if(3===Dn){const Hi=Bi;Ze={token:Hi.fcmToken,createTime:Hi.createTime,subscriptionOptions:{auth:It(Hi.auth),p256dh:It(Hi.p256dh),endpoint:Hi.endpoint,swScope:Hi.swScope,vapidKey:It(Hi.vapidKey)}}}else if(4===Dn){const Hi=Bi;Ze={token:Hi.fcmToken,createTime:Hi.createTime,subscriptionOptions:{auth:It(Hi.auth),p256dh:It(Hi.p256dh),endpoint:Hi.endpoint,swScope:Hi.swScope,vapidKey:It(Hi.vapidKey)}}}}),function(Dn,kn,hi,ai){return Yt.apply(this,arguments)})})).close(),yield Co(si),yield Co("fcm_vapid_details_db"),yield Co("undefined"),function Br(Ae){if(!Ae||!Ae.subscriptionOptions)return!1;const{subscriptionOptions:Ze}=Ae;return"number"==typeof Ae.createTime&&Ae.createTime>0&&"string"==typeof Ae.token&&Ae.token.length>0&&"string"==typeof Ze.auth&&Ze.auth.length>0&&"string"==typeof Ze.p256dh&&Ze.p256dh.length>0&&"string"==typeof Ze.endpoint&&Ze.endpoint.length>0&&"string"==typeof Ze.swScope&&Ze.swScope.length>0&&"string"==typeof Ze.vapidKey&&Ze.vapidKey.length>0}(Ze)?Ze:null;var Yt}),Ko.apply(this,arguments)}const Xo="firebase-messaging-database",gr=1,Po="firebase-messaging-store";let Ja=null;function Ba(){return Ja||(Ja=hs(Xo,gr,{upgrade:(Ae,Ze)=>{0===Ze&&Ae.createObjectStore(Po)}})),Ja}function Qs(Ae){return ko.apply(this,arguments)}function ko(){return ko=(0,y.Z)(function*(Ae){const Ze=Dl(Ae),Yt=yield(yield Ba()).transaction(Po).objectStore(Po).get(Ze);if(Yt)return Yt;{const gn=yield function Qo(Ae){return Ko.apply(this,arguments)}(Ae.appConfig.senderId);if(gn)return yield Ua(Ae,gn),gn}}),ko.apply(this,arguments)}function Ua(Ae,Ze){return xa.apply(this,arguments)}function xa(){return(xa=(0,y.Z)(function*(Ae,Ze){const Ct=Dl(Ae),gn=(yield Ba()).transaction(Po,"readwrite");return yield gn.objectStore(Po).put(Ze,Ct),yield gn.done,Ze})).apply(this,arguments)}function Us(){return(Us=(0,y.Z)(function*(Ae){const Ze=Dl(Ae),Yt=(yield Ba()).transaction(Po,"readwrite");yield Yt.objectStore(Po).delete(Ze),yield Yt.done})).apply(this,arguments)}function Dl({appConfig:Ae}){return Ae.appId}const Xr=new E.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xl(Ae,Ze){return el.apply(this,arguments)}function el(){return(el=(0,y.Z)(function*(Ae,Ze){const Ct=yield Xs(Ae),Yt=wa(Ze),gn={method:"POST",headers:Ct,body:JSON.stringify(Yt)};let Dn;try{Dn=yield(yield fetch(ja(Ae.appConfig),gn)).json()}catch(kn){throw Xr.create("token-subscribe-failed",{errorInfo:kn?.toString()})}if(Dn.error)throw Xr.create("token-subscribe-failed",{errorInfo:Dn.error.message});if(!Dn.token)throw Xr.create("token-subscribe-no-token");return Dn.token})).apply(this,arguments)}function Aa(){return(Aa=(0,y.Z)(function*(Ae,Ze){const Ct=yield Xs(Ae),Yt=wa(Ze.subscriptionOptions),gn={method:"PATCH",headers:Ct,body:JSON.stringify(Yt)};let Dn;try{Dn=yield(yield fetch(`${ja(Ae.appConfig)}/${Ze.token}`,gn)).json()}catch(kn){throw Xr.create("token-update-failed",{errorInfo:kn?.toString()})}if(Dn.error)throw Xr.create("token-update-failed",{errorInfo:Dn.error.message});if(!Dn.token)throw Xr.create("token-update-no-token");return Dn.token})).apply(this,arguments)}function nc(Ae,Ze){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,y.Z)(function*(Ae,Ze){const Yt={method:"DELETE",headers:yield Xs(Ae)};try{const Dn=yield(yield fetch(`${ja(Ae.appConfig)}/${Ze}`,Yt)).json();if(Dn.error)throw Xr.create("token-unsubscribe-failed",{errorInfo:Dn.error.message})}catch(gn){throw Xr.create("token-unsubscribe-failed",{errorInfo:gn?.toString()})}})).apply(this,arguments)}function ja({projectId:Ae}){return`${ws}/projects/${Ae}/registrations`}function Xs(Ae){return Al.apply(this,arguments)}function Al(){return(Al=(0,y.Z)(function*({appConfig:Ae,installations:Ze}){const Ct=yield Ze.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ae.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ct}`})})).apply(this,arguments)}function wa({p256dh:Ae,auth:Ze,endpoint:Ct,vapidKey:Yt}){const gn={web:{endpoint:Ct,auth:Ze,p256dh:Ae}};return Yt!==Js&&(gn.web.applicationPubKey=Yt),gn}const tl=6048e5;function ic(){return ic=(0,y.Z)(function*(Ae){const Ze=yield function Is(Ae,Ze){return we.apply(this,arguments)}(Ae.swRegistration,Ae.vapidKey),Ct={vapidKey:Ae.vapidKey,swScope:Ae.swRegistration.scope,endpoint:Ze.endpoint,auth:It(Ze.getKey("auth")),p256dh:It(Ze.getKey("p256dh"))},Yt=yield Qs(Ae.firebaseDependencies);if(Yt){if(function Mt(Ae,Ze){return Ze.vapidKey===Ae.vapidKey&&Ze.endpoint===Ae.endpoint&&Ze.auth===Ae.auth&&Ze.p256dh===Ae.p256dh}(Yt.subscriptionOptions,Ct))return Date.now()>=Yt.createTime+tl?function es(Ae,Ze){return rl.apply(this,arguments)}(Ae,{token:Yt.token,createTime:Date.now(),subscriptionOptions:Ct}):Yt.token;try{yield nc(Ae.firebaseDependencies,Yt.token)}catch(gn){console.warn(gn)}return js(Ae.firebaseDependencies,Ct)}return js(Ae.firebaseDependencies,Ct)}),ic.apply(this,arguments)}function il(){return il=(0,y.Z)(function*(Ae){const Ze=yield Qs(Ae.firebaseDependencies);Ze&&(yield nc(Ae.firebaseDependencies,Ze.token),yield function Qa(Ae){return Us.apply(this,arguments)}(Ae.firebaseDependencies));const Ct=yield Ae.swRegistration.pushManager.getSubscription();return!Ct||Ct.unsubscribe()}),il.apply(this,arguments)}function rl(){return rl=(0,y.Z)(function*(Ae,Ze){try{const Ct=yield function Fc(Ae,Ze){return Aa.apply(this,arguments)}(Ae.firebaseDependencies,Ze),Yt=Object.assign(Object.assign({},Ze),{token:Ct,createTime:Date.now()});return yield Ua(Ae.firebaseDependencies,Yt),Ct}catch(Ct){throw yield function pa(Ae){return il.apply(this,arguments)}(Ae),Ct}}),rl.apply(this,arguments)}function js(Ae,Ze){return _r.apply(this,arguments)}function _r(){return(_r=(0,y.Z)(function*(Ae,Ze){const Yt={token:yield xl(Ae,Ze),createTime:Date.now(),subscriptionOptions:Ze};return yield Ua(Ae,Yt),Yt.token})).apply(this,arguments)}function we(){return(we=(0,y.Z)(function*(Ae,Ze){return(yield Ae.pushManager.getSubscription())||Ae.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sn(Ze)})})).apply(this,arguments)}function it(Ae){const Ze={from:Ae.from,collapseKey:Ae.collapse_key,messageId:Ae.fcmMessageId};return function At(Ae,Ze){if(!Ze.notification)return;Ae.notification={};const Ct=Ze.notification.title;Ct&&(Ae.notification.title=Ct);const Yt=Ze.notification.body;Yt&&(Ae.notification.body=Yt);const gn=Ze.notification.image;gn&&(Ae.notification.image=gn);const Dn=Ze.notification.icon;Dn&&(Ae.notification.icon=Dn)}(Ze,Ae),function tn(Ae,Ze){Ze.data&&(Ae.data=Ze.data)}(Ze,Ae),function wn(Ae,Ze){var Ct,Yt,gn,Dn,kn;if(!(Ze.fcmOptions||null!==(Ct=Ze.notification)&&void 0!==Ct&&Ct.click_action))return;Ae.fcmOptions={};const hi=null!==(gn=null===(Yt=Ze.fcmOptions)||void 0===Yt?void 0:Yt.link)&&void 0!==gn?gn:null===(Dn=Ze.notification)||void 0===Dn?void 0:Dn.click_action;hi&&(Ae.fcmOptions.link=hi);const ai=null===(kn=Ze.fcmOptions)||void 0===kn?void 0:kn.analytics_label;ai&&(Ae.fcmOptions.analyticsLabel=ai)}(Ze,Ae),Ze}function vi(Ae,Ze){const Ct=[];for(let Yt=0;Yt<Ae.length;Yt++)Ct.push(Ae.charAt(Yt)),Yt<Ze.length&&Ct.push(Ze.charAt(Yt));return Ct.join("")}function nr(Ae){return Xr.create("missing-app-config-values",{valueName:Ae})}vi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class or{constructor(Ze,Ct,Yt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const gn=function Dr(Ae){if(!Ae||!Ae.options)throw nr("App Configuration Object");if(!Ae.name)throw nr("App Name");const Ze=["projectId","apiKey","appId","messagingSenderId"],{options:Ct}=Ae;for(const Yt of Ze)if(!Ct[Yt])throw nr(Yt);return{appName:Ae.name,projectId:Ct.projectId,apiKey:Ct.apiKey,appId:Ct.appId,senderId:Ct.messagingSenderId}}(Ze);this.firebaseDependencies={app:Ze,appConfig:gn,installations:Ct,analyticsProvider:Yt}}_delete(){return Promise.resolve()}}function Or(){return(Or=(0,y.Z)(function*(Ae){try{Ae.swRegistration=yield navigator.serviceWorker.register(Jo,{scope:Ms}),Ae.swRegistration.update().catch(()=>{})}catch(Ze){throw Xr.create("failed-service-worker-registration",{browserErrorMessage:Ze?.message})}})).apply(this,arguments)}function br(){return(br=(0,y.Z)(function*(Ae,Ze){if(!Ze&&!Ae.swRegistration&&(yield function Wi(Ae){return Or.apply(this,arguments)}(Ae)),Ze||!Ae.swRegistration){if(!(Ze instanceof ServiceWorkerRegistration))throw Xr.create("invalid-sw-registration");Ae.swRegistration=Ze}})).apply(this,arguments)}function Di(){return(Di=(0,y.Z)(function*(Ae,Ze){Ze?Ae.vapidKey=Ze:Ae.vapidKey||(Ae.vapidKey=Js)})).apply(this,arguments)}function ts(){return ts=(0,y.Z)(function*(Ae,Ze){if(!navigator)throw Xr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xr.create("permission-blocked");return yield function ms(Ae,Ze){return Di.apply(this,arguments)}(Ae,Ze?.vapidKey),yield function sr(Ae,Ze){return br.apply(this,arguments)}(Ae,Ze?.serviceWorkerRegistration),function nl(Ae){return ic.apply(this,arguments)}(Ae)}),ts.apply(this,arguments)}function Gs(){return(Gs=(0,y.Z)(function*(Ae,Ze,Ct){const Yt=function Ps(Ae){switch(Ae){case $e.NOTIFICATION_CLICKED:return"notification_open";case $e.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(Ze);(yield Ae.firebaseDependencies.analyticsProvider.get()).logEvent(Yt,{message_id:Ct[Bs],message_name:Ct[er],message_time:Ct[pn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ea(){return ea=(0,y.Z)(function*(Ae,Ze){const Ct=Ze.data;if(!Ct.isFirebaseMessaging)return;Ae.onMessageHandler&&Ct.messageType===$e.PUSH_RECEIVED&&("function"==typeof Ae.onMessageHandler?Ae.onMessageHandler(it(Ct)):Ae.onMessageHandler.next(it(Ct)));const Yt=Ct.data;(function Hn(Ae){return"object"==typeof Ae&&!!Ae&&Bs in Ae})(Yt)&&"1"===Yt["google.c.a.e"]&&(yield function eo(Ae,Ze,Ct){return Gs.apply(this,arguments)}(Ae,Ct.messageType,Yt))}),ea.apply(this,arguments)}const Bc="@firebase/messaging",od=Ae=>{const Ze=new or(Ae.getProvider("app").getImmediate(),Ae.getProvider("installations-internal").getImmediate(),Ae.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ct=>function rc(Ae,Ze){return ea.apply(this,arguments)}(Ze,Ct)),Ze},sd=Ae=>{const Ze=Ae.getProvider("messaging").getImmediate();return{getToken:Yt=>function Vs(Ae,Ze){return ts.apply(this,arguments)}(Ze,Yt)}};function Zn(){return cr.apply(this,arguments)}function cr(){return(cr=(0,y.Z)(function*(){try{yield(0,E.eu)()}catch{return!1}return typeof window<"u"&&(0,E.hl)()&&(0,E.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function oc(){(0,I._registerComponent)(new F.wA("messaging",od,"PUBLIC")),(0,I._registerComponent)(new F.wA("messaging-internal",sd,"PRIVATE")),(0,I.registerVersion)(Bc,"0.12.4"),(0,I.registerVersion)(Bc,"0.12.4","esm2017")}();const Va="analytics",Uc="firebase_id",jc="origin",Oo=6e4,Hs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Il="https://www.googletagmanager.com/gtag/js",Ur=new L.Yd("@firebase/analytics"),So=new E.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lc(Ae){if(!Ae.startsWith(Il)){const Ze=So.create("invalid-gtag-resource",{gtagURL:Ae});return Ur.warn(Ze.message),""}return Ae}function ol(Ae){return Promise.all(Ae.map(Ze=>Ze.catch(Ct=>Ct)))}function Ia(){return(Ia=(0,y.Z)(function*(Ae,Ze,Ct,Yt,gn,Dn){const kn=Yt[gn];try{if(kn)yield Ze[kn];else{const ai=(yield ol(Ct)).find(Ei=>Ei.measurementId===gn);ai&&(yield Ze[ai.appId])}}catch(hi){Ur.error(hi)}Ae("config",gn,Dn)})).apply(this,arguments)}function Ga(){return(Ga=(0,y.Z)(function*(Ae,Ze,Ct,Yt,gn){try{let Dn=[];if(gn&&gn.send_to){let kn=gn.send_to;Array.isArray(kn)||(kn=[kn]);const hi=yield ol(Ct);for(const ai of kn){const Ei=hi.find(Hi=>Hi.measurementId===ai),Bi=Ei&&Ze[Ei.appId];if(!Bi){Dn=[];break}Dn.push(Bi)}}0===Dn.length&&(Dn=Object.values(Ze)),yield Promise.all(Dn),Ae("event",Yt,gn||{})}catch(Dn){Ur.error(Dn)}})).apply(this,arguments)}const ld=30,cd=new class Hc{constructor(Ze={},Ct=1e3){this.throttleMetadata=Ze,this.intervalMillis=Ct}getThrottleMetadata(Ze){return this.throttleMetadata[Ze]}setThrottleMetadata(Ze,Ct){this.throttleMetadata[Ze]=Ct}deleteThrottleMetadata(Ze){delete this.throttleMetadata[Ze]}};function Jd(Ae){return new Headers({Accept:"application/json","x-goog-api-key":Ae})}function _a(){return(_a=(0,y.Z)(function*(Ae){var Ze;const{appId:Ct,apiKey:Yt}=Ae,gn={method:"GET",headers:Jd(Yt)},Dn=Hs.replace("{app-id}",Ct),kn=yield fetch(Dn,gn);if(200!==kn.status&&304!==kn.status){let hi="";try{const ai=yield kn.json();null!==(Ze=ai.error)&&void 0!==Ze&&Ze.message&&(hi=ai.error.message)}catch{}throw So.create("config-fetch-failed",{httpStatus:kn.status,responseMessage:hi})}return kn.json()})).apply(this,arguments)}function Ge(){return(Ge=(0,y.Z)(function*(Ae,Ze=cd,Ct){const{appId:Yt,apiKey:gn,measurementId:Dn}=Ae.options;if(!Yt)throw So.create("no-app-id");if(!gn){if(Dn)return{measurementId:Dn,appId:Yt};throw So.create("no-api-key")}const kn=Ze.getThrottleMetadata(Yt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},hi=new Ut;return setTimeout((0,y.Z)(function*(){hi.abort()}),void 0!==Ct?Ct:Oo),ce({appId:Yt,apiKey:gn,measurementId:Dn},kn,hi,Ze)})).apply(this,arguments)}function ce(Ae,Ze,Ct){return Be.apply(this,arguments)}function Be(){return Be=(0,y.Z)(function*(Ae,{throttleEndTimeMillis:Ze,backoffCount:Ct},Yt,gn=cd){var Dn;const{appId:kn,measurementId:hi}=Ae;try{yield function bt(Ae,Ze){return new Promise((Ct,Yt)=>{const gn=Math.max(Ze-Date.now(),0),Dn=setTimeout(Ct,gn);Ae.addEventListener(()=>{clearTimeout(Dn),Yt(So.create("fetch-throttle",{throttleEndTimeMillis:Ze}))})})}(Yt,Ze)}catch(ai){if(hi)return Ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${hi} provided in the "measurementId" field in the local Firebase config. [${ai?.message}]`),{appId:kn,measurementId:hi};throw ai}try{const ai=yield function Yo(Ae){return _a.apply(this,arguments)}(Ae);return gn.deleteThrottleMetadata(kn),ai}catch(ai){const Ei=ai;if(!function Vt(Ae){if(!(Ae instanceof E.ZR&&Ae.customData))return!1;const Ze=Number(Ae.customData.httpStatus);return 429===Ze||500===Ze||503===Ze||504===Ze}(Ei)){if(gn.deleteThrottleMetadata(kn),hi)return Ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${hi} provided in the "measurementId" field in the local Firebase config. [${Ei?.message}]`),{appId:kn,measurementId:hi};throw ai}const Bi=503===Number(null===(Dn=Ei?.customData)||void 0===Dn?void 0:Dn.httpStatus)?(0,E.$s)(Ct,gn.intervalMillis,ld):(0,E.$s)(Ct,gn.intervalMillis),Hi={throttleEndTimeMillis:Date.now()+Bi,backoffCount:Ct+1};return gn.setThrottleMetadata(kn,Hi),Ur.debug(`Calling attemptFetch again in ${Bi} millis`),ce(Ae,Hi,Yt,gn)}}),Be.apply(this,arguments)}class Ut{constructor(){this.listeners=[]}addEventListener(Ze){this.listeners.push(Ze)}abort(){this.listeners.forEach(Ze=>Ze())}}let bn,ud;function Ti(){return(Ti=(0,y.Z)(function*(Ae,Ze,Ct,Yt,gn){if(gn&&gn.global)Ae("event",Ct,Yt);else{const Dn=yield Ze;Ae("event",Ct,Object.assign(Object.assign({},Yt),{send_to:Dn}))}})).apply(this,arguments)}function Kc(){return(Kc=(0,y.Z)(function*(){if(!(0,E.hl)())return Ur.warn(So.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,E.eu)()}catch(Ae){return Ur.warn(So.create("indexeddb-unavailable",{errorInfo:Ae?.toString()}).message),!1}return!0})).apply(this,arguments)}function dl(){return dl=(0,y.Z)(function*(Ae,Ze,Ct,Yt,gn,Dn,kn){var hi;const ai=function Ee(Ae){return Ge.apply(this,arguments)}(Ae);ai.then(co=>{Ct[co.measurementId]=co.appId,Ae.options.measurementId&&co.measurementId!==Ae.options.measurementId&&Ur.warn(`The measurement ID in the local Firebase config (${Ae.options.measurementId}) does not match the measurement ID fetched from the server (${co.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(co=>Ur.error(co)),Ze.push(ai);const Ei=function Hu(){return Kc.apply(this,arguments)}().then(co=>{if(co)return Yt.getId()}),[Bi,Hi]=yield Promise.all([ai,Ei]);(function dc(Ae){const Ze=window.document.getElementsByTagName("script");for(const Ct of Object.values(Ze))if(Ct.src&&Ct.src.includes(Il)&&Ct.src.includes(Ae))return Ct;return null})(Dn)||function cc(Ae,Ze){const Ct=function sl(Ae,Ze){let Ct;return window.trustedTypes&&(Ct=window.trustedTypes.createPolicy(Ae,Ze)),Ct}("firebase-js-sdk-policy",{createScriptURL:lc}),Yt=document.createElement("script"),gn=`${Il}?l=${Ae}&id=${Ze}`;Yt.src=Ct?Ct?.createScriptURL(gn):gn,Yt.async=!0,document.head.appendChild(Yt)}(Dn,Bi.measurementId),ud&&(gn("consent","default",ud),function Rl(Ae){ud=Ae}(void 0)),gn("js",new Date);const is=null!==(hi=kn?.config)&&void 0!==hi?hi:{};return is[jc]="firebase",is.update=!0,null!=Hi&&(is[Uc]=Hi),gn("config",Bi.measurementId,is),bn&&(gn("set",bn),function Qd(Ae){bn=Ae}(void 0)),Bi.measurementId}),dl.apply(this,arguments)}class fd{constructor(Ze){this.app=Ze}_delete(){return delete Ks[this.app.options.appId],Promise.resolve()}}let Ks={},Ku=[];const uc={};let uh,ta,Ha="dataLayer",Nl=!1;function Yu(Ae,Ze,Ct){!function na(){const Ae=[];if((0,E.ru)()&&Ae.push("This is a browser extension environment."),(0,E.zI)()||Ae.push("Cookies are not available."),Ae.length>0){const Ze=Ae.map((Yt,gn)=>`(${gn+1}) ${Yt}`).join(" "),Ct=So.create("invalid-analytics-context",{errorInfo:Ze});Ur.warn(Ct.message)}}();const Yt=Ae.options.appId;if(!Yt)throw So.create("no-app-id");if(!Ae.options.apiKey){if(!Ae.options.measurementId)throw So.create("no-api-key");Ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ks[Yt])throw So.create("already-exists",{id:Yt});if(!Nl){!function al(Ae){let Ze=[];Array.isArray(window[Ae])?Ze=window[Ae]:window[Ae]=Ze}(Ha);const{wrappedGtag:Dn,gtagCore:kn}=function Vc(Ae,Ze,Ct,Yt,gn){let Dn=function(...kn){window[Yt].push(arguments)};return window[gn]&&"function"==typeof window[gn]&&(Dn=window[gn]),window[gn]=function Ol(Ae,Ze,Ct,Yt){function Dn(){return Dn=(0,y.Z)(function*(kn,...hi){try{if("event"===kn){const[ai,Ei]=hi;yield function ad(Ae,Ze,Ct,Yt,gn){return Ga.apply(this,arguments)}(Ae,Ze,Ct,ai,Ei)}else if("config"===kn){const[ai,Ei]=hi;yield function Pl(Ae,Ze,Ct,Yt,gn,Dn){return Ia.apply(this,arguments)}(Ae,Ze,Ct,Yt,ai,Ei)}else if("consent"===kn){const[ai]=hi;Ae("consent","update",ai)}else if("get"===kn){const[ai,Ei,Bi]=hi;Ae("get",ai,Ei,Bi)}else if("set"===kn){const[ai]=hi;Ae("set",ai)}else Ae(kn,...hi)}catch(ai){Ur.error(ai)}}),Dn.apply(this,arguments)}return function gn(kn){return Dn.apply(this,arguments)}}(Dn,Ae,Ze,Ct),{gtagCore:Dn,wrappedGtag:window[gn]}}(Ks,Ku,uc,Ha,"gtag");ta=Dn,uh=kn,Nl=!0}return Ks[Yt]=function ip(Ae,Ze,Ct,Yt,gn,Dn,kn){return dl.apply(this,arguments)}(Ae,Ku,uc,Ze,uh,Ha,Ct),new fd(Ae)}function Xd(){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,y.Z)(function*(){if((0,E.ru)()||!(0,E.zI)()||!(0,E.hl)())return!1;try{return yield(0,E.eu)()}catch{return!1}})).apply(this,arguments)}const ns="@firebase/analytics";!function mc(){(0,I._registerComponent)(new F.wA(Va,(Ze,{options:Ct})=>Yu(Ze.getProvider("app").getImmediate(),Ze.getProvider("installations-internal").getImmediate(),Ct),"PUBLIC")),(0,I._registerComponent)(new F.wA("analytics-internal",function Ae(Ze){try{const Ct=Ze.getProvider(Va).getImmediate();return{logEvent:(Yt,gn,Dn)=>function ia(Ae,Ze,Ct,Yt){Ae=(0,E.m9)(Ae),function Wn(Ae,Ze,Ct,Yt,gn){return Ti.apply(this,arguments)}(ta,Ks[Ae.app.options.appId],Ze,Ct,Yt).catch(gn=>Ur.error(gn))}(Ct,Yt,gn,Dn)}}catch(Ct){throw So.create("interop-component-reg-failed",{reason:Ct})}},"PRIVATE")),(0,I.registerVersion)(ns,"0.10.0"),(0,I.registerVersion)(ns,"0.10.0","esm2017")}();var ul=C(1954),pc=C(2631);const kl=new class hd extends pc.v{}(class mh extends ul.o{constructor(Ze,Ct){super(Ze,Ct),this.scheduler=Ze,this.work=Ct}schedule(Ze,Ct=0){return Ct>0?super.schedule(Ze,Ct):(this.delay=Ct,this.state=Ze,this.scheduler.flush(this),this)}execute(Ze,Ct){return Ct>0||this.closed?super.execute(Ze,Ct):this._execute(Ze,Ct)}requestAsyncId(Ze,Ct,Yt=0){return null!=Yt&&Yt>0||null==Yt&&this.delay>0?super.requestAsyncId(Ze,Ct,Yt):(Ze.flush(this),0)}});var tu=C(6321),Ya=C(9397),Ra=C(5137),Wa=C(3093);const pd=new c.GfV("7.6.1"),ra="__angularfire_symbol__analyticsIsSupportedValue",ao="__angularfire_symbol__analyticsIsSupported",nu="__angularfire_symbol__remoteConfigIsSupportedValue",Wc="__angularfire_symbol__remoteConfigIsSupported",gc="__angularfire_symbol__messagingIsSupportedValue",_c="__angularfire_symbol__messagingIsSupported";function fl(Ae,Ze,Ct){if(Ze){if(1===Ze.length)return Ze[0];const Dn=Ze.filter(kn=>kn.app===Ct);if(1===Dn.length)return Dn[0]}return Ct.container.getProvider(Ae).getImmediate({optional:!0})}globalThis[ao]||(globalThis[ao]=Xd().then(Ae=>globalThis[ra]=Ae).catch(()=>globalThis[ra]=!1)),globalThis[_c]||(globalThis[_c]=Zn().then(Ae=>globalThis[gc]=Ae).catch(()=>globalThis[gc]=!1)),globalThis[Wc]||(globalThis[Wc]=$o().then(Ae=>globalThis[nu]=Ae).catch(()=>globalThis[nu]=!1));const vc=(Ae,Ze)=>{const Ct=Ze?[Ze]:(0,t.C6)(),Yt=[];return Ct.forEach(gn=>{gn.container.getProvider(Ae).instances.forEach(kn=>{Yt.includes(kn)||Yt.push(kn)})}),Yt};function Fl(){}class lo{constructor(Ze,Ct=kl){this.zone=Ze,this.delegate=Ct}now(){return this.delegate.now()}schedule(Ze,Ct,Yt){const gn=this.zone;return this.delegate.schedule(function(kn){gn.runGuarded(()=>{Ze.apply(this,[kn])})},Ct,Yt)}}class gd{constructor(Ze){this.zone=Ze,this.task=null}call(Ze,Ct){const Yt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl)),Ct.pipe((0,Ya.b)({next:Yt,complete:Yt,error:Yt})).subscribe(Ze).add(Yt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yc=(()=>{class Ae{constructor(Ct){this.ngZone=Ct,this.outsideAngular=Ct.runOutsideAngular(()=>new lo(Zone.current)),this.insideAngular=Ct.run(()=>new lo(Zone.current,tu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ae.\u0275fac=function(Ct){return new(Ct||Ae)(c.LFG(c.R0b))},Ae.\u0275prov=c.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();function oa(){const Ae=globalThis.\u0275AngularFireScheduler;if(!Ae)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ae}function Bl(Ae){return oa(),function qu(Ae){return function(Ct){return(Ct=Ct.lift(new gd(Ae.ngZone))).pipe((0,Ra.R)(Ae.outsideAngular),(0,Wa.Q)(Ae.insideAngular))}}(oa())(Ae)}},6878:(Bn,et,C)=>{"use strict";C.d(et,{$:()=>Jo,A:()=>g,D:()=>U,I:()=>kt,J:()=>yr,L:()=>jn,N:()=>De,P:()=>ip,Q:()=>qs,R:()=>Ro,U:()=>Zo,V:()=>$o,W:()=>ds,X:()=>Qr,Y:()=>hr,Z:()=>ks,_:()=>Io,a:()=>so,a0:()=>Js,a1:()=>Bs,a2:()=>mt,a3:()=>ho,a4:()=>Ko,a5:()=>Xo,a6:()=>Po,a7:()=>Ba,a8:()=>ko,a9:()=>xa,aA:()=>q,aB:()=>nu,aC:()=>ht,aD:()=>Pe,aE:()=>Ra,aF:()=>zu,aG:()=>hh,aH:()=>hn,aL:()=>Fo,aO:()=>xs,aa:()=>Qa,ab:()=>Dl,ac:()=>Xa,ad:()=>Fc,ae:()=>nc,af:()=>ja,ai:()=>tl,aj:()=>ic,ak:()=>pa,an:()=>fs,ao:()=>At,aq:()=>Di,ar:()=>Bc,as:()=>Fe,at:()=>ln,au:()=>qt,av:()=>T,aw:()=>is,ax:()=>zc,ay:()=>mn,az:()=>N,b:()=>wl,c:()=>ta,d:()=>Yu,e:()=>rp,f:()=>ns,g:()=>hd,h:()=>ul,i:()=>Gc,j:()=>tu,k:()=>rs,l:()=>Rs,m:()=>jl,p:()=>D,r:()=>dd,s:()=>ya,u:()=>Hu});var c=C(5861),t=C(9058),y=C(534),I=C(7582),E=C(7879),F=C(4537);const D={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},g={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const U=function v(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},R=function A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},j=new t.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),O=new E.Yd("@firebase/auth");function P(ye,...H){O.logLevel<=E.in.ERROR&&O.error(`Auth (${y.SDK_VERSION}): ${ye}`,...H)}function T(ye,...H){throw Y(ye,...H)}function N(ye,...H){return Y(ye,...H)}function S(ye,H,z){const Oe=Object.assign(Object.assign({},R()),{[H]:z});return new t.LL("auth","Firebase",Oe).create(H,{appName:ye.name})}function B(ye,H,z){if(!(H instanceof z))throw z.name!==H.constructor.name&&T(ye,"argument-error"),S(ye,"argument-error",`Type of ${H.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y(ye,...H){if("string"!=typeof ye){const z=H[0],Oe=[...H.slice(1)];return Oe[0]&&(Oe[0].appName=ye.name),ye._errorFactory.create(z,...Oe)}return j.create(ye,...H)}function q(ye,H,...z){if(!ye)throw Y(H,...z)}function le(ye){const H="INTERNAL ASSERTION FAILED: "+ye;throw P(H),new Error(H)}function Fe(ye,H){ye||le(H)}function $(){var ye;return typeof self<"u"&&(null===(ye=self.location)||void 0===ye?void 0:ye.href)||""}function ae(){return"http:"===K()||"https:"===K()}function K(){var ye;return typeof self<"u"&&(null===(ye=self.location)||void 0===ye?void 0:ye.protocol)||null}class he{constructor(H,z){this.shortDelay=H,this.longDelay=z,Fe(z>H,"Short delay should be less than long delay!"),this.isMobile=(0,t.uI)()||(0,t.b$)()}get(){return function pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,t.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Se(ye,H){Fe(ye.emulator,"Emulator should always be set here");const{url:z}=ye.emulator;return H?`${z}${H.startsWith("/")?H.slice(1):H}`:z}class Le{static initialize(H,z,Oe){this.fetchImpl=H,z&&(this.headersImpl=z),Oe&&(this.responseImpl=Oe)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new he(3e4,6e4);function Me(ye,H){return ye.tenantId&&!H.tenantId?Object.assign(Object.assign({},H),{tenantId:ye.tenantId}):H}function me(ye,H,z,Oe){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,c.Z)(function*(ye,H,z,Oe,Dt={}){return ke(ye,Dt,(0,c.Z)(function*(){let Bt={},vn={};Oe&&("GET"===H?vn=Oe:Bt={body:JSON.stringify(Oe)});const Pn=(0,t.xO)(Object.assign({key:ye.config.apiKey},vn)).slice(1),li=yield ye._getAdditionalHeaders();return li["Content-Type"]="application/json",ye.languageCode&&(li["X-Firebase-Locale"]=ye.languageCode),Le.fetch()(Je(ye,ye.config.apiHost,z,Pn),Object.assign({method:H,headers:li,referrerPolicy:"no-referrer"},Bt))}))})).apply(this,arguments)}function ke(ye,H,z){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(ye,H,z){ye._canInitEmulator=!1;const Oe=Object.assign(Object.assign({},fe),H);try{const Dt=new Ne(ye),Bt=yield Promise.race([z(),Dt.promise]);Dt.clearNetworkTimeout();const vn=yield Bt.json();if("needConfirmation"in vn)throw Te(ye,"account-exists-with-different-credential",vn);if(Bt.ok&&!("errorMessage"in vn))return vn;{const Pn=Bt.ok?vn.errorMessage:vn.error.message,[li,pi]=Pn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===li)throw Te(ye,"credential-already-in-use",vn);if("EMAIL_EXISTS"===li)throw Te(ye,"email-already-in-use",vn);if("USER_DISABLED"===li)throw Te(ye,"user-disabled",vn);const Ii=Oe[li]||li.toLowerCase().replace(/[_\s]+/g,"-");if(pi)throw S(ye,Ii,pi);T(ye,Ii)}}catch(Dt){if(Dt instanceof t.ZR)throw Dt;T(ye,"network-request-failed",{message:String(Dt)})}})).apply(this,arguments)}function He(ye,H,z,Oe){return ot.apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(ye,H,z,Oe,Dt={}){const Bt=yield me(ye,H,z,Oe,Dt);return"mfaPendingCredential"in Bt&&T(ye,"multi-factor-auth-required",{_serverResponse:Bt}),Bt})).apply(this,arguments)}function Je(ye,H,z,Oe){const Dt=`${H}${z}?${Oe}`;return ye.config.emulator?Se(ye.config,Dt):`${ye.config.apiScheme}://${Dt}`}class Ne{constructor(H){this.auth=H,this.timer=null,this.promise=new Promise((z,Oe)=>{this.timer=setTimeout(()=>Oe(N(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Te(ye,H,z){const Oe={appName:ye.name};z.email&&(Oe.email=z.email),z.phoneNumber&&(Oe.phoneNumber=z.phoneNumber);const Dt=N(ye,H,Oe);return Dt.customData._tokenResponse=z,Dt}function se(){return(se=(0,c.Z)(function*(ye,H){return me(ye,"POST","/v1/accounts:delete",H)})).apply(this,arguments)}function J(){return(J=(0,c.Z)(function*(ye,H){return me(ye,"POST","/v1/accounts:update",H)})).apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(ye,H){return me(ye,"POST","/v1/accounts:lookup",H)})).apply(this,arguments)}function te(ye){if(ye)try{const H=new Date(Number(ye));if(!isNaN(H.getTime()))return H.toUTCString()}catch{}}function X(){return(X=(0,c.Z)(function*(ye,H=!1){const z=(0,t.m9)(ye),Oe=yield z.getIdToken(H),Dt=_e(Oe);q(Dt&&Dt.exp&&Dt.auth_time&&Dt.iat,z.auth,"internal-error");const Bt="object"==typeof Dt.firebase?Dt.firebase:void 0,vn=Bt?.sign_in_provider;return{claims:Dt,token:Oe,authTime:te(ue(Dt.auth_time)),issuedAtTime:te(ue(Dt.iat)),expirationTime:te(ue(Dt.exp)),signInProvider:vn||null,signInSecondFactor:Bt?.sign_in_second_factor||null}})).apply(this,arguments)}function ue(ye){return 1e3*Number(ye)}function _e(ye){const[H,z,Oe]=ye.split(".");if(void 0===H||void 0===z||void 0===Oe)return P("JWT malformed, contained fewer than 3 sections"),null;try{const Dt=(0,t.tV)(z);return Dt?JSON.parse(Dt):(P("Failed to decode base64 JWT payload"),null)}catch(Dt){return P("Caught error parsing JWT payload as JSON",Dt?.toString()),null}}function xe(ye,H){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(ye,H,z=!1){if(z)return H;try{return yield H}catch(Oe){throw Oe instanceof t.ZR&&function Ve({code:ye}){return"auth/user-disabled"===ye||"auth/user-token-expired"===ye}(Oe)&&ye.auth.currentUser===ye&&(yield ye.auth.signOut()),Oe}})).apply(this,arguments)}class st{constructor(H){this.user=H,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(H){var z;if(H){const Oe=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Oe}{this.errorBackoff=3e4;const Dt=(null!==(z=this.user.stsTokenManager.expirationTime)&&void 0!==z?z:0)-Date.now()-3e5;return Math.max(0,Dt)}}schedule(H=!1){var z=this;if(!this.isRunning)return;const Oe=this.getInterval(H);this.timerId=setTimeout((0,c.Z)(function*(){yield z.iteration()}),Oe)}iteration(){var H=this;return(0,c.Z)(function*(){try{yield H.user.getIdToken(!0)}catch(z){return void("auth/network-request-failed"===z?.code&&H.schedule(!0))}H.schedule()})()}}class ct{constructor(H,z){this.createdAt=H,this.lastLoginAt=z,this._initializeTime()}_initializeTime(){this.lastSignInTime=te(this.lastLoginAt),this.creationTime=te(this.createdAt)}_copy(H){this.createdAt=H.createdAt,this.lastLoginAt=H.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nt(ye){return yt.apply(this,arguments)}function yt(){return yt=(0,c.Z)(function*(ye){var H;const z=ye.auth,Oe=yield ye.getIdToken(),Dt=yield xe(ye,function Q(ye,H){return Z.apply(this,arguments)}(z,{idToken:Oe}));q(Dt?.users.length,z,"internal-error");const Bt=Dt.users[0];ye._notifyReloadListener(Bt);const vn=null!==(H=Bt.providerUserInfo)&&void 0!==H&&H.length?function nn(ye){return ye.map(H=>{var{providerId:z}=H,Oe=(0,I._T)(H,["providerId"]);return{providerId:z,uid:Oe.rawId||"",displayName:Oe.displayName||null,email:Oe.email||null,phoneNumber:Oe.phoneNumber||null,photoURL:Oe.photoUrl||null}})}(Bt.providerUserInfo):[],Pn=function Gt(ye,H){return[...ye.filter(Oe=>!H.some(Dt=>Dt.providerId===Oe.providerId)),...H]}(ye.providerData,vn),Ii=!!ye.isAnonymous&&!(ye.email&&Bt.passwordHash||Pn?.length),xi={uid:Bt.localId,displayName:Bt.displayName||null,photoURL:Bt.photoUrl||null,email:Bt.email||null,emailVerified:Bt.emailVerified||!1,phoneNumber:Bt.phoneNumber||null,tenantId:Bt.tenantId||null,providerData:Pn,metadata:new ct(Bt.createdAt,Bt.lastLoginAt),isAnonymous:Ii};Object.assign(ye,xi)}),yt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(ye){const H=(0,t.m9)(ye);yield nt(H),yield H.auth._persistUserIfCurrent(H),H.auth._notifyListenersIfCurrent(H)})).apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(ye,H){const z=yield ke(ye,{},(0,c.Z)(function*(){const Oe=(0,t.xO)({grant_type:"refresh_token",refresh_token:H}).slice(1),{tokenApiHost:Dt,apiKey:Bt}=ye.config,vn=Je(ye,Dt,"/v1/token",`key=${Bt}`),Pn=yield ye._getAdditionalHeaders();return Pn["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(vn,{method:"POST",headers:Pn,body:Oe})}));return{accessToken:z.access_token,expiresIn:z.expires_in,refreshToken:z.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(H){q(H.idToken,"internal-error"),q(typeof H.idToken<"u","internal-error"),q(typeof H.refreshToken<"u","internal-error");const z="expiresIn"in H&&typeof H.expiresIn<"u"?Number(H.expiresIn):function de(ye){const H=_e(ye);return q(H,"internal-error"),q(typeof H.exp<"u","internal-error"),q(typeof H.iat<"u","internal-error"),Number(H.exp)-Number(H.iat)}(H.idToken);this.updateTokensAndExpiration(H.idToken,H.refreshToken,z)}getToken(H,z=!1){var Oe=this;return(0,c.Z)(function*(){return q(!Oe.accessToken||Oe.refreshToken,H,"user-token-expired"),z||!Oe.accessToken||Oe.isExpired?Oe.refreshToken?(yield Oe.refresh(H,Oe.refreshToken),Oe.accessToken):null:Oe.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(H,z){var Oe=this;return(0,c.Z)(function*(){const{accessToken:Dt,refreshToken:Bt,expiresIn:vn}=yield function dn(ye,H){return un.apply(this,arguments)}(H,z);Oe.updateTokensAndExpiration(Dt,Bt,Number(vn))})()}updateTokensAndExpiration(H,z,Oe){this.refreshToken=z||null,this.accessToken=H||null,this.expirationTime=Date.now()+1e3*Oe}static fromJSON(H,z){const{refreshToken:Oe,accessToken:Dt,expirationTime:Bt}=z,vn=new Kt;return Oe&&(q("string"==typeof Oe,"internal-error",{appName:H}),vn.refreshToken=Oe),Dt&&(q("string"==typeof Dt,"internal-error",{appName:H}),vn.accessToken=Dt),Bt&&(q("number"==typeof Bt,"internal-error",{appName:H}),vn.expirationTime=Bt),vn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(H){this.accessToken=H.accessToken,this.refreshToken=H.refreshToken,this.expirationTime=H.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return le("not implemented")}}function Tn(ye,H){q("string"==typeof ye||typeof ye>"u","internal-error",{appName:H})}class rn{constructor(H){var{uid:z,auth:Oe,stsTokenManager:Dt}=H,Bt=(0,I._T)(H,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new st(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=z,this.auth=Oe,this.stsTokenManager=Dt,this.accessToken=Dt.accessToken,this.displayName=Bt.displayName||null,this.email=Bt.email||null,this.emailVerified=Bt.emailVerified||!1,this.phoneNumber=Bt.phoneNumber||null,this.photoURL=Bt.photoURL||null,this.isAnonymous=Bt.isAnonymous||!1,this.tenantId=Bt.tenantId||null,this.providerData=Bt.providerData?[...Bt.providerData]:[],this.metadata=new ct(Bt.createdAt||void 0,Bt.lastLoginAt||void 0)}getIdToken(H){var z=this;return(0,c.Z)(function*(){const Oe=yield xe(z,z.stsTokenManager.getToken(z.auth,H));return q(Oe,z.auth,"internal-error"),z.accessToken!==Oe&&(z.accessToken=Oe,yield z.auth._persistUserIfCurrent(z),z.auth._notifyListenersIfCurrent(z)),Oe})()}getIdTokenResult(H){return function ee(ye){return X.apply(this,arguments)}(this,H)}reload(){return function jt(ye){return wt.apply(this,arguments)}(this)}_assign(H){this!==H&&(q(this.uid===H.uid,this.auth,"internal-error"),this.displayName=H.displayName,this.photoURL=H.photoURL,this.email=H.email,this.emailVerified=H.emailVerified,this.phoneNumber=H.phoneNumber,this.isAnonymous=H.isAnonymous,this.tenantId=H.tenantId,this.providerData=H.providerData.map(z=>Object.assign({},z)),this.metadata._copy(H.metadata),this.stsTokenManager._assign(H.stsTokenManager))}_clone(H){const z=new rn(Object.assign(Object.assign({},this),{auth:H,stsTokenManager:this.stsTokenManager._clone()}));return z.metadata._copy(this.metadata),z}_onReload(H){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=H,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(H){this.reloadListener?this.reloadListener(H):this.reloadUserInfo=H}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(H,z=!1){var Oe=this;return(0,c.Z)(function*(){let Dt=!1;H.idToken&&H.idToken!==Oe.stsTokenManager.accessToken&&(Oe.stsTokenManager.updateFromServerResponse(H),Dt=!0),z&&(yield nt(Oe)),yield Oe.auth._persistUserIfCurrent(Oe),Dt&&Oe.auth._notifyListenersIfCurrent(Oe)})()}delete(){var H=this;return(0,c.Z)(function*(){const z=yield H.getIdToken();return yield xe(H,function W(ye,H){return se.apply(this,arguments)}(H.auth,{idToken:z})),H.stsTokenManager.clearRefreshToken(),H.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(H=>Object.assign({},H)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(H,z){var Oe,Dt,Bt,vn,Pn,li,pi,Ii;const xi=null!==(Oe=z.displayName)&&void 0!==Oe?Oe:void 0,ps=null!==(Dt=z.email)&&void 0!==Dt?Dt:void 0,pl=null!==(Bt=z.phoneNumber)&&void 0!==Bt?Bt:void 0,Qu=null!==(vn=z.photoURL)&&void 0!==vn?vn:void 0,Xu=null!==(Pn=z.tenantId)&&void 0!==Pn?Pn:void 0,bh=null!==(li=z._redirectEventId)&&void 0!==li?li:void 0,Eh=null!==(pi=z.createdAt)&&void 0!==pi?pi:void 0,ef=null!==(Ii=z.lastLoginAt)&&void 0!==Ii?Ii:void 0,{uid:Vl,emailVerified:Gl,isAnonymous:au,providerData:lu,stsTokenManager:tf}=z;q(Vl&&tf,H,"internal-error");const Tc=Kt.fromJSON(this.name,tf);q("string"==typeof Vl,H,"internal-error"),Tn(xi,H.name),Tn(ps,H.name),q("boolean"==typeof Gl,H,"internal-error"),q("boolean"==typeof au,H,"internal-error"),Tn(pl,H.name),Tn(Qu,H.name),Tn(Xu,H.name),Tn(bh,H.name),Tn(Eh,H.name),Tn(ef,H.name);const vd=new rn({uid:Vl,auth:H,email:ps,emailVerified:Gl,displayName:xi,isAnonymous:au,photoURL:Qu,phoneNumber:pl,tenantId:Xu,stsTokenManager:Tc,createdAt:Eh,lastLoginAt:ef});return lu&&Array.isArray(lu)&&(vd.providerData=lu.map(nf=>Object.assign({},nf))),bh&&(vd._redirectEventId=bh),vd}static _fromIdTokenResponse(H,z,Oe=!1){return(0,c.Z)(function*(){const Dt=new Kt;Dt.updateFromServerResponse(z);const Bt=new rn({uid:z.localId,auth:H,stsTokenManager:Dt,isAnonymous:Oe});return yield nt(Bt),Bt})()}}const xt=new Map;function ht(ye){Fe(ye instanceof Function,"Expected a class definition");let H=xt.get(ye);return H?(Fe(H instanceof ye,"Instance stored in cache mismatched with class"),H):(H=new ye,xt.set(ye,H),H)}const De=(()=>{class ye{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(z,Oe){var Dt=this;return(0,c.Z)(function*(){Dt.storage[z]=Oe})()}_get(z){var Oe=this;return(0,c.Z)(function*(){const Dt=Oe.storage[z];return void 0===Dt?null:Dt})()}_remove(z){var Oe=this;return(0,c.Z)(function*(){delete Oe.storage[z]})()}_addListener(z,Oe){}_removeListener(z,Oe){}}return ye.type="NONE",ye})();function Pe(ye,H,z){return`firebase:${ye}:${H}:${z}`}class Ye{constructor(H,z,Oe){this.persistence=H,this.auth=z,this.userKey=Oe;const{config:Dt,name:Bt}=this.auth;this.fullUserKey=Pe(this.userKey,Dt.apiKey,Bt),this.fullPersistenceKey=Pe("persistence",Dt.apiKey,Bt),this.boundEventHandler=z._onStorageEvent.bind(z),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(H){return this.persistence._set(this.fullUserKey,H.toJSON())}getCurrentUser(){var H=this;return(0,c.Z)(function*(){const z=yield H.persistence._get(H.fullUserKey);return z?rn._fromJSON(H.auth,z):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(H){var z=this;return(0,c.Z)(function*(){if(z.persistence===H)return;const Oe=yield z.getCurrentUser();return yield z.removeCurrentUser(),z.persistence=H,Oe?z.setCurrentUser(Oe):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(H,z,Oe="authUser"){return(0,c.Z)(function*(){if(!z.length)return new Ye(ht(De),H,Oe);const Dt=(yield Promise.all(z.map(function(){var pi=(0,c.Z)(function*(Ii){if(yield Ii._isAvailable())return Ii});return function(Ii){return pi.apply(this,arguments)}}()))).filter(pi=>pi);let Bt=Dt[0]||ht(De);const vn=Pe(Oe,H.config.apiKey,H.name);let Pn=null;for(const pi of z)try{const Ii=yield pi._get(vn);if(Ii){const xi=rn._fromJSON(H,Ii);pi!==Bt&&(Pn=xi),Bt=pi;break}}catch{}const li=Dt.filter(pi=>pi._shouldAllowMigration);return Bt._shouldAllowMigration&&li.length?(Bt=li[0],Pn&&(yield Bt._set(vn,Pn.toJSON())),yield Promise.all(z.map(function(){var pi=(0,c.Z)(function*(Ii){if(Ii!==Bt)try{yield Ii._remove(vn)}catch{}});return function(Ii){return pi.apply(this,arguments)}}())),new Ye(Bt,H,Oe)):new Ye(Bt,H,Oe)})()}}function ze(ye){const H=ye.toLowerCase();if(H.includes("opera/")||H.includes("opr/")||H.includes("opios/"))return"Opera";if(Ft(H))return"IEMobile";if(H.includes("msie")||H.includes("trident/"))return"IE";if(H.includes("edge/"))return"Edge";if(lt(H))return"Firefox";if(H.includes("silk/"))return"Silk";if(Lt(H))return"Blackberry";if(Qt(H))return"Webos";if(rt(H))return"Safari";if((H.includes("chrome/")||dt(H))&&!H.includes("edge/"))return"Chrome";if(qt(H))return"Android";{const Oe=ye.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===Oe?.length)return Oe[1]}return"Other"}function lt(ye=(0,t.z$)()){return/firefox\//i.test(ye)}function rt(ye=(0,t.z$)()){const H=ye.toLowerCase();return H.includes("safari/")&&!H.includes("chrome/")&&!H.includes("crios/")&&!H.includes("android")}function dt(ye=(0,t.z$)()){return/crios\//i.test(ye)}function Ft(ye=(0,t.z$)()){return/iemobile/i.test(ye)}function qt(ye=(0,t.z$)()){return/android/i.test(ye)}function Lt(ye=(0,t.z$)()){return/blackberry/i.test(ye)}function Qt(ye=(0,t.z$)()){return/webos/i.test(ye)}function ln(ye=(0,t.z$)()){return/iphone|ipad|ipod/i.test(ye)||/macintosh/i.test(ye)&&/mobile/i.test(ye)}function mn(ye=(0,t.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(ye)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(ye)}function Yn(ye=(0,t.z$)()){return ln(ye)||qt(ye)||Qt(ye)||Lt(ye)||/windows phone/i.test(ye)||Ft(ye)}function fi(ye,H=[]){let z;switch(ye){case"Browser":z=ze((0,t.z$)());break;case"Worker":z=`${ze((0,t.z$)())}-${ye}`;break;default:z=ye}const Oe=H.length?H.join(","):"FirebaseCore-web";return`${z}/JsCore/${y.SDK_VERSION}/${Oe}`}function Tt(){return(Tt=(0,c.Z)(function*(ye){return(yield me(ye,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Et(ye,H){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(ye,H){return me(ye,"GET","/v2/recaptchaConfig",Me(ye,H))})).apply(this,arguments)}function Wt(ye){return void 0!==ye&&void 0!==ye.getResponse}function We(ye){return void 0!==ye&&void 0!==ye.enterprise}class ut{constructor(H){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===H.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=H.recaptchaKey.split("/")[3],this.emailPasswordEnabled=H.recaptchaEnforcementState.some(z=>"EMAIL_PASSWORD_PROVIDER"===z.provider&&"OFF"!==z.enforcementState)}}function en(ye){return new Promise((H,z)=>{const Oe=document.createElement("script");Oe.setAttribute("src",ye),Oe.onload=H,Oe.onerror=Dt=>{const Bt=N("internal-error");Bt.customData=Dt,z(Bt)},Oe.type="text/javascript",Oe.charset="UTF-8",function Pt(){var ye,H;return null!==(H=null===(ye=document.getElementsByTagName("head"))||void 0===ye?void 0:ye[0])&&void 0!==H?H:document}().appendChild(Oe)})}function Jt(ye){return`__${ye}${Math.floor(1e6*Math.random())}`}class on{constructor(H){this.type="recaptcha-enterprise",this.auth=hn(H)}verify(H="verify",z=!1){var Oe=this;return(0,c.Z)(function*(){function Bt(){return Bt=(0,c.Z)(function*(Pn){if(!z){if(null==Pn.tenantId&&null!=Pn._agentRecaptchaConfig)return Pn._agentRecaptchaConfig.siteKey;if(null!=Pn.tenantId&&void 0!==Pn._tenantRecaptchaConfigs[Pn.tenantId])return Pn._tenantRecaptchaConfigs[Pn.tenantId].siteKey}return new Promise(function(){var li=(0,c.Z)(function*(pi,Ii){Et(Pn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(xi=>{if(void 0!==xi.recaptchaKey){const ps=new ut(xi);return null==Pn.tenantId?Pn._agentRecaptchaConfig=ps:Pn._tenantRecaptchaConfigs[Pn.tenantId]=ps,pi(ps.siteKey)}Ii(new Error("recaptcha Enterprise site key undefined"))}).catch(xi=>{Ii(xi)})});return function(pi,Ii){return li.apply(this,arguments)}}())}),Bt.apply(this,arguments)}function vn(Pn,li,pi){const Ii=window.grecaptcha;We(Ii)?Ii.enterprise.ready(()=>{Ii.enterprise.execute(Pn,{action:H}).then(xi=>{li(xi)}).catch(()=>{li("NO_RECAPTCHA")})}):pi(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pn,li)=>{(function Dt(Pn){return Bt.apply(this,arguments)})(Oe.auth).then(pi=>{if(!z&&We(window.grecaptcha))vn(pi,Pn,li);else{if(typeof window>"u")return void li(new Error("RecaptchaVerifier is only supported in browser"));en("https://www.google.com/recaptcha/enterprise.js?render="+pi).then(()=>{vn(pi,Pn,li)}).catch(Ii=>{li(Ii)})}}).catch(pi=>{li(pi)})})})()}}function En(ye,H,z){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(ye,H,z,Oe=!1){const Dt=new on(ye);let Bt;try{Bt=yield Dt.verify(z)}catch{Bt=yield Dt.verify(z,!0)}const vn=Object.assign({},H);return Object.assign(vn,Oe?{captchaResp:Bt}:{captchaResponse:Bt}),Object.assign(vn,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(vn,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),vn})).apply(this,arguments)}class Xn{constructor(H){this.auth=H,this.queue=[]}pushCallback(H,z){const Oe=Bt=>new Promise((vn,Pn)=>{try{vn(H(Bt))}catch(li){Pn(li)}});Oe.onAbort=z,this.queue.push(Oe);const Dt=this.queue.length-1;return()=>{this.queue[Dt]=()=>Promise.resolve()}}runMiddleware(H){var z=this;return(0,c.Z)(function*(){if(z.auth.currentUser===H)return;const Oe=[];try{for(const Dt of z.queue)yield Dt(H),Dt.onAbort&&Oe.push(Dt.onAbort)}catch(Dt){Oe.reverse();for(const Bt of Oe)try{Bt()}catch{}throw z.auth._errorFactory.create("login-blocked",{originalMessage:Dt?.message})}})()}}class ft{constructor(H,z,Oe,Dt){this.app=H,this.heartbeatServiceProvider=z,this.appCheckServiceProvider=Oe,this.config=Dt,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new be(this),this.idTokenSubscription=new be(this),this.beforeStateQueue=new Xn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=H.name,this.clientVersion=Dt.sdkClientVersion}_initializeWithPersistence(H,z){var Oe=this;return z&&(this._popupRedirectResolver=ht(z)),this._initializationPromise=this.queue((0,c.Z)(function*(){var Dt,Bt;if(!Oe._deleted&&(Oe.persistenceManager=yield Ye.create(Oe,H),!Oe._deleted)){if(null!==(Dt=Oe._popupRedirectResolver)&&void 0!==Dt&&Dt._shouldInitProactively)try{yield Oe._popupRedirectResolver._initialize(Oe)}catch{}yield Oe.initializeCurrentUser(z),Oe.lastNotifiedUid=(null===(Bt=Oe.currentUser)||void 0===Bt?void 0:Bt.uid)||null,!Oe._deleted&&(Oe._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var H=this;return(0,c.Z)(function*(){if(H._deleted)return;const z=yield H.assertedPersistence.getCurrentUser();if(H.currentUser||z){if(H.currentUser&&z&&H.currentUser.uid===z.uid)return H._currentUser._assign(z),void(yield H.currentUser.getIdToken());yield H._updateCurrentUser(z,!0)}})()}initializeCurrentUser(H){var z=this;return(0,c.Z)(function*(){var Oe;const Dt=yield z.assertedPersistence.getCurrentUser();let Bt=Dt,vn=!1;if(H&&z.config.authDomain){yield z.getOrInitRedirectPersistenceManager();const Pn=null===(Oe=z.redirectUser)||void 0===Oe?void 0:Oe._redirectEventId,li=Bt?._redirectEventId,pi=yield z.tryRedirectSignIn(H);(!Pn||Pn===li)&&pi?.user&&(Bt=pi.user,vn=!0)}if(!Bt)return z.directlySetCurrentUser(null);if(!Bt._redirectEventId){if(vn)try{yield z.beforeStateQueue.runMiddleware(Bt)}catch(Pn){Bt=Dt,z._popupRedirectResolver._overrideRedirectResult(z,()=>Promise.reject(Pn))}return Bt?z.reloadAndSetCurrentUserOrClear(Bt):z.directlySetCurrentUser(null)}return q(z._popupRedirectResolver,z,"argument-error"),yield z.getOrInitRedirectPersistenceManager(),z.redirectUser&&z.redirectUser._redirectEventId===Bt._redirectEventId?z.directlySetCurrentUser(Bt):z.reloadAndSetCurrentUserOrClear(Bt)})()}tryRedirectSignIn(H){var z=this;return(0,c.Z)(function*(){let Oe=null;try{Oe=yield z._popupRedirectResolver._completeRedirectFn(z,H,!0)}catch{yield z._setRedirectUser(null)}return Oe})()}reloadAndSetCurrentUserOrClear(H){var z=this;return(0,c.Z)(function*(){try{yield nt(H)}catch(Oe){if("auth/network-request-failed"!==Oe?.code)return z.directlySetCurrentUser(null)}return z.directlySetCurrentUser(H)})()}useDeviceLanguage(){this.languageCode=function oe(){if(typeof navigator>"u")return null;const ye=navigator;return ye.languages&&ye.languages[0]||ye.language||null}()}_delete(){var H=this;return(0,c.Z)(function*(){H._deleted=!0})()}updateCurrentUser(H){var z=this;return(0,c.Z)(function*(){const Oe=H?(0,t.m9)(H):null;return Oe&&q(Oe.auth.config.apiKey===z.config.apiKey,z,"invalid-user-token"),z._updateCurrentUser(Oe&&Oe._clone(z))})()}_updateCurrentUser(H,z=!1){var Oe=this;return(0,c.Z)(function*(){if(!Oe._deleted)return H&&q(Oe.tenantId===H.tenantId,Oe,"tenant-id-mismatch"),z||(yield Oe.beforeStateQueue.runMiddleware(H)),Oe.queue((0,c.Z)(function*(){yield Oe.directlySetCurrentUser(H),Oe.notifyAuthListeners()}))})()}signOut(){var H=this;return(0,c.Z)(function*(){return yield H.beforeStateQueue.runMiddleware(null),(H.redirectPersistenceManager||H._popupRedirectResolver)&&(yield H._setRedirectUser(null)),H._updateCurrentUser(null,!0)})()}setPersistence(H){var z=this;return this.queue((0,c.Z)(function*(){yield z.assertedPersistence.setPersistence(ht(H))}))}initializeRecaptchaConfig(){var H=this;return(0,c.Z)(function*(){const z=yield Et(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),Oe=new ut(z);null==H.tenantId?H._agentRecaptchaConfig=Oe:H._tenantRecaptchaConfigs[H.tenantId]=Oe,Oe.emailPasswordEnabled&&new on(H).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(H){this._errorFactory=new t.LL("auth","Firebase",H())}onAuthStateChanged(H,z,Oe){return this.registerStateListener(this.authStateSubscription,H,z,Oe)}beforeAuthStateChanged(H,z){return this.beforeStateQueue.pushCallback(H,z)}onIdTokenChanged(H,z,Oe){return this.registerStateListener(this.idTokenSubscription,H,z,Oe)}toJSON(){var H;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(H=this._currentUser)||void 0===H?void 0:H.toJSON()}}_setRedirectUser(H,z){var Oe=this;return(0,c.Z)(function*(){const Dt=yield Oe.getOrInitRedirectPersistenceManager(z);return null===H?Dt.removeCurrentUser():Dt.setCurrentUser(H)})()}getOrInitRedirectPersistenceManager(H){var z=this;return(0,c.Z)(function*(){if(!z.redirectPersistenceManager){const Oe=H&&ht(H)||z._popupRedirectResolver;q(Oe,z,"argument-error"),z.redirectPersistenceManager=yield Ye.create(z,[ht(Oe._redirectPersistence)],"redirectUser"),z.redirectUser=yield z.redirectPersistenceManager.getCurrentUser()}return z.redirectPersistenceManager})()}_redirectUserForId(H){var z=this;return(0,c.Z)(function*(){var Oe,Dt;return z._isInitialized&&(yield z.queue((0,c.Z)(function*(){}))),(null===(Oe=z._currentUser)||void 0===Oe?void 0:Oe._redirectEventId)===H?z._currentUser:(null===(Dt=z.redirectUser)||void 0===Dt?void 0:Dt._redirectEventId)===H?z.redirectUser:null})()}_persistUserIfCurrent(H){var z=this;return(0,c.Z)(function*(){if(H===z.currentUser)return z.queue((0,c.Z)(function*(){return z.directlySetCurrentUser(H)}))})()}_notifyListenersIfCurrent(H){H===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var H,z;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Oe=null!==(z=null===(H=this.currentUser)||void 0===H?void 0:H.uid)&&void 0!==z?z:null;this.lastNotifiedUid!==Oe&&(this.lastNotifiedUid=Oe,this.authStateSubscription.next(this.currentUser))}registerStateListener(H,z,Oe,Dt){if(this._deleted)return()=>{};const Bt="function"==typeof z?z:z.next.bind(z),vn=this._isInitialized?Promise.resolve():this._initializationPromise;return q(vn,this,"internal-error"),vn.then(()=>Bt(this.currentUser)),"function"==typeof z?H.addObserver(z,Oe,Dt):H.addObserver(z)}directlySetCurrentUser(H){var z=this;return(0,c.Z)(function*(){z.currentUser&&z.currentUser!==H&&z._currentUser._stopProactiveRefresh(),H&&z.isProactiveRefreshEnabled&&H._startProactiveRefresh(),z.currentUser=H,H?yield z.assertedPersistence.setCurrentUser(H):yield z.assertedPersistence.removeCurrentUser()})()}queue(H){return this.operations=this.operations.then(H,H),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(H){!H||this.frameworks.includes(H)||(this.frameworks.push(H),this.frameworks.sort(),this.clientVersion=fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var H=this;return(0,c.Z)(function*(){var z;const Oe={"X-Client-Version":H.clientVersion};H.app.options.appId&&(Oe["X-Firebase-gmpid"]=H.app.options.appId);const Dt=yield null===(z=H.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===z?void 0:z.getHeartbeatsHeader();Dt&&(Oe["X-Firebase-Client"]=Dt);const Bt=yield H._getAppCheckToken();return Bt&&(Oe["X-Firebase-AppCheck"]=Bt),Oe})()}_getAppCheckToken(){var H=this;return(0,c.Z)(function*(){var z;const Oe=yield null===(z=H.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===z?void 0:z.getToken();return Oe?.error&&function x(ye,...H){O.logLevel<=E.in.WARN&&O.warn(`Auth (${y.SDK_VERSION}): ${ye}`,...H)}(`Error while retrieving App Check token: ${Oe.error}`),Oe?.token})()}}function hn(ye){return(0,t.m9)(ye)}class be{constructor(H){this.auth=H,this.observer=null,this.addObserver=(0,t.ne)(z=>this.observer=z)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kt(ye,H,z){const Oe=hn(ye);q(Oe._canInitEmulator,Oe,"emulator-config-failed"),q(/^https?:\/\//.test(H),Oe,"invalid-emulator-scheme");const Dt=!!z?.disableWarnings,Bt=cn(H),{host:vn,port:Pn}=function ei(ye){const H=cn(ye),z=/(\/\/)?([^?#/]+)/.exec(ye.substr(H.length));if(!z)return{host:"",port:null};const Oe=z[2].split("@").pop()||"",Dt=/^(\[[^\]]+\])(:|$)/.exec(Oe);if(Dt){const Bt=Dt[1];return{host:Bt,port:Xi(Oe.substr(Bt.length+1))}}{const[Bt,vn]=Oe.split(":");return{host:Bt,port:Xi(vn)}}}(H);Oe.config.emulator={url:`${Bt}//${vn}${null===Pn?"":`:${Pn}`}/`},Oe.settings.appVerificationDisabledForTesting=!0,Oe.emulatorConfig=Object.freeze({host:vn,port:Pn,protocol:Bt.replace(":",""),options:Object.freeze({disableWarnings:Dt})}),Dt||function Ir(){function ye(){const H=document.createElement("p"),z=H.style;H.innerText="Running in emulator mode. Do not use with production credentials.",z.position="fixed",z.width="100%",z.backgroundColor="#ffffff",z.border=".1em solid #000000",z.color="#b50000",z.bottom="0px",z.left="0px",z.margin="0px",z.zIndex="10000",z.textAlign="center",H.classList.add("firebase-emulator-warning"),document.body.appendChild(H)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",ye):ye())}()}function cn(ye){const H=ye.indexOf(":");return H<0?"":ye.substr(0,H+1)}function Xi(ye){if(!ye)return null;const H=Number(ye);return isNaN(H)?null:H}class yr{constructor(H,z){this.providerId=H,this.signInMethod=z}toJSON(){return le("not implemented")}_getIdTokenResponse(H){return le("not implemented")}_linkToIdToken(H,z){return le("not implemented")}_getReauthenticationResolver(H){return le("not implemented")}}function ir(ye,H){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(ye,H){return me(ye,"POST","/v1/accounts:resetPassword",Me(ye,H))})).apply(this,arguments)}function xo(ye,H){return no.apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(ye,H){return me(ye,"POST","/v1/accounts:update",H)})).apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(ye,H){return me(ye,"POST","/v1/accounts:update",Me(ye,H))})).apply(this,arguments)}function pr(ye,H){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithPassword",Me(ye,H))})).apply(this,arguments)}function qi(ye,H){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(ye,H){return me(ye,"POST","/v1/accounts:sendOobCode",Me(ye,H))})).apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(ye,H){return qi(ye,H)})).apply(this,arguments)}function Lr(ye,H){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.Z)(function*(ye,H){return qi(ye,H)})).apply(this,arguments)}function bo(ye,H){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(ye,H){return qi(ye,H)})).apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(ye,H){return qi(ye,H)})).apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithEmailLink",Me(ye,H))})).apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithEmailLink",Me(ye,H))})).apply(this,arguments)}class Vr extends yr{constructor(H,z,Oe,Dt=null){super("password",Oe),this._email=H,this._password=z,this._tenantId=Dt}static _fromEmailAndPassword(H,z){return new Vr(H,z,"password")}static _fromEmailAndCode(H,z,Oe=null){return new Vr(H,z,"emailLink",Oe)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(H){const z="string"==typeof H?JSON.parse(H):H;if(z?.email&&z?.password){if("password"===z.signInMethod)return this._fromEmailAndPassword(z.email,z.password);if("emailLink"===z.signInMethod)return this._fromEmailAndCode(z.email,z.password,z.tenantId)}return null}_getIdTokenResponse(H){var z=this;return(0,c.Z)(function*(){var Oe;switch(z.signInMethod){case"password":const Dt={returnSecureToken:!0,email:z._email,password:z._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(Oe=H._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const Bt=yield En(H,Dt,"signInWithPassword");return pr(H,Bt)}return pr(H,Dt).catch(function(){var Bt=(0,c.Z)(function*(vn){if("auth/missing-recaptcha-token"===vn.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pn=yield En(H,Dt,"signInWithPassword");return pr(H,Pn)}return Promise.reject(vn)});return function(vn){return Bt.apply(this,arguments)}}());case"emailLink":return function Ji(ye,H){return Ar.apply(this,arguments)}(H,{email:z._email,oobCode:z._password});default:T(H,"internal-error")}})()}_linkToIdToken(H,z){var Oe=this;return(0,c.Z)(function*(){switch(Oe.signInMethod){case"password":return xo(H,{idToken:z,returnSecureToken:!0,email:Oe._email,password:Oe._password});case"emailLink":return function Ao(ye,H){return Er.apply(this,arguments)}(H,{idToken:z,email:Oe._email,oobCode:Oe._password});default:T(H,"internal-error")}})()}_getReauthenticationResolver(H){return this._getIdTokenResponse(H)}}function Xt(ye,H){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithIdp",Me(ye,H))})).apply(this,arguments)}class jn extends yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(H){const z=new jn(H.providerId,H.signInMethod);return H.idToken||H.accessToken?(H.idToken&&(z.idToken=H.idToken),H.accessToken&&(z.accessToken=H.accessToken),H.nonce&&!H.pendingToken&&(z.nonce=H.nonce),H.pendingToken&&(z.pendingToken=H.pendingToken)):H.oauthToken&&H.oauthTokenSecret?(z.accessToken=H.oauthToken,z.secret=H.oauthTokenSecret):T("argument-error"),z}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(H){const z="string"==typeof H?JSON.parse(H):H,{providerId:Oe,signInMethod:Dt}=z,Bt=(0,I._T)(z,["providerId","signInMethod"]);if(!Oe||!Dt)return null;const vn=new jn(Oe,Dt);return vn.idToken=Bt.idToken||void 0,vn.accessToken=Bt.accessToken||void 0,vn.secret=Bt.secret,vn.nonce=Bt.nonce,vn.pendingToken=Bt.pendingToken||null,vn}_getIdTokenResponse(H){return Xt(H,this.buildRequest())}_linkToIdToken(H,z){const Oe=this.buildRequest();return Oe.idToken=z,Xt(H,Oe)}_getReauthenticationResolver(H){const z=this.buildRequest();return z.autoCreate=!1,Xt(H,z)}buildRequest(){const H={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)H.pendingToken=this.pendingToken;else{const z={};this.idToken&&(z.id_token=this.idToken),this.accessToken&&(z.access_token=this.accessToken),this.secret&&(z.oauth_token_secret=this.secret),z.providerId=this.providerId,this.nonce&&!this.pendingToken&&(z.nonce=this.nonce),H.postBody=(0,t.xO)(z)}return H}}function Oi(){return(Oi=(0,c.Z)(function*(ye,H){return me(ye,"POST","/v1/accounts:sendVerificationCode",Me(ye,H))})).apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithPhoneNumber",Me(ye,H))})).apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(ye,H){const z=yield He(ye,"POST","/v1/accounts:signInWithPhoneNumber",Me(ye,H));if(z.temporaryProof)throw Te(ye,"account-exists-with-different-credential",z);return z})).apply(this,arguments)}const Yr={USER_NOT_FOUND:"user-not-found"};function Eo(){return(Eo=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithPhoneNumber",Me(ye,Object.assign(Object.assign({},H),{operation:"REAUTH"})),Yr)})).apply(this,arguments)}class Tr extends yr{constructor(H){super("phone","phone"),this.params=H}static _fromVerification(H,z){return new Tr({verificationId:H,verificationCode:z})}static _fromTokenResponse(H,z){return new Tr({phoneNumber:H,temporaryProof:z})}_getIdTokenResponse(H){return function Si(ye,H){return _i.apply(this,arguments)}(H,this._makeVerificationRequest())}_linkToIdToken(H,z){return function Vi(ye,H){return Qi.apply(this,arguments)}(H,Object.assign({idToken:z},this._makeVerificationRequest()))}_getReauthenticationResolver(H){return function Gr(ye,H){return Eo.apply(this,arguments)}(H,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:H,phoneNumber:z,verificationId:Oe,verificationCode:Dt}=this.params;return H&&z?{temporaryProof:H,phoneNumber:z}:{sessionInfo:Oe,code:Dt}}toJSON(){const H={providerId:this.providerId};return this.params.phoneNumber&&(H.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(H.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(H.verificationCode=this.params.verificationCode),this.params.verificationId&&(H.verificationId=this.params.verificationId),H}static fromJSON(H){"string"==typeof H&&(H=JSON.parse(H));const{verificationId:z,verificationCode:Oe,phoneNumber:Dt,temporaryProof:Bt}=H;return Oe||z||Dt||Bt?new Tr({verificationId:z,verificationCode:Oe,phoneNumber:Dt,temporaryProof:Bt}):null}}class Jr{constructor(H){var z,Oe,Dt,Bt,vn,Pn;const li=(0,t.zd)((0,t.pd)(H)),pi=null!==(z=li.apiKey)&&void 0!==z?z:null,Ii=null!==(Oe=li.oobCode)&&void 0!==Oe?Oe:null,xi=function Fr(ye){switch(ye){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Dt=li.mode)&&void 0!==Dt?Dt:null);q(pi&&Ii&&xi,"argument-error"),this.apiKey=pi,this.operation=xi,this.code=Ii,this.continueUrl=null!==(Bt=li.continueUrl)&&void 0!==Bt?Bt:null,this.languageCode=null!==(vn=li.languageCode)&&void 0!==vn?vn:null,this.tenantId=null!==(Pn=li.tenantId)&&void 0!==Pn?Pn:null}static parseLink(H){const z=function No(ye){const H=(0,t.zd)((0,t.pd)(ye)).link,z=H?(0,t.zd)((0,t.pd)(H)).deep_link_id:null,Oe=(0,t.zd)((0,t.pd)(ye)).deep_link_id;return(Oe?(0,t.zd)((0,t.pd)(Oe)).link:null)||Oe||z||H||ye}(H);try{return new Jr(z)}catch{return null}}}let qs=(()=>{class ye{constructor(){this.providerId=ye.PROVIDER_ID}static credential(z,Oe){return Vr._fromEmailAndPassword(z,Oe)}static credentialWithLink(z,Oe){const Dt=Jr.parseLink(Oe);return q(Dt,"argument-error"),Vr._fromEmailAndCode(z,Dt.code,Dt.tenantId)}}return ye.PROVIDER_ID="password",ye.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ye.EMAIL_LINK_SIGN_IN_METHOD="emailLink",ye})();class Mo{constructor(H){this.providerId=H,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(H){this.defaultLanguageCode=H}setCustomParameters(H){return this.customParameters=H,this}getCustomParameters(){return this.customParameters}}class Ds extends Mo{constructor(){super(...arguments),this.scopes=[]}addScope(H){return this.scopes.includes(H)||this.scopes.push(H),this}getScopes(){return[...this.scopes]}}class Qr extends Ds{static credentialFromJSON(H){const z="string"==typeof H?JSON.parse(H):H;return q("providerId"in z&&"signInMethod"in z,"argument-error"),jn._fromParams(z)}credential(H){return this._credential(Object.assign(Object.assign({},H),{nonce:H.rawNonce}))}_credential(H){return q(H.idToken||H.accessToken,"argument-error"),jn._fromParams(Object.assign(Object.assign({},H),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(H){return Qr.oauthCredentialFromTaggedObject(H)}static credentialFromError(H){return Qr.oauthCredentialFromTaggedObject(H.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:H}){if(!H)return null;const{oauthIdToken:z,oauthAccessToken:Oe,oauthTokenSecret:Dt,pendingToken:Bt,nonce:vn,providerId:Pn}=H;if(!Oe&&!Dt&&!z&&!Bt||!Pn)return null;try{return new Qr(Pn)._credential({idToken:z,accessToken:Oe,nonce:vn,pendingToken:Bt})}catch{return null}}}let Zo=(()=>{class ye extends Ds{constructor(){super("facebook.com")}static credential(z){return jn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.FACEBOOK_SIGN_IN_METHOD,accessToken:z})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z||!("oauthAccessToken"in z)||!z.oauthAccessToken)return null;try{return ye.credential(z.oauthAccessToken)}catch{return null}}}return ye.FACEBOOK_SIGN_IN_METHOD="facebook.com",ye.PROVIDER_ID="facebook.com",ye})(),$o=(()=>{class ye extends Ds{constructor(){super("google.com"),this.addScope("profile")}static credential(z,Oe){return jn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.GOOGLE_SIGN_IN_METHOD,idToken:z,accessToken:Oe})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{oauthIdToken:Oe,oauthAccessToken:Dt}=z;if(!Oe&&!Dt)return null;try{return ye.credential(Oe,Dt)}catch{return null}}}return ye.GOOGLE_SIGN_IN_METHOD="google.com",ye.PROVIDER_ID="google.com",ye})(),ds=(()=>{class ye extends Ds{constructor(){super("github.com")}static credential(z){return jn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.GITHUB_SIGN_IN_METHOD,accessToken:z})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z||!("oauthAccessToken"in z)||!z.oauthAccessToken)return null;try{return ye.credential(z.oauthAccessToken)}catch{return null}}}return ye.GITHUB_SIGN_IN_METHOD="github.com",ye.PROVIDER_ID="github.com",ye})();class xs extends yr{constructor(H,z){super(H,H),this.pendingToken=z}_getIdTokenResponse(H){return Xt(H,this.buildRequest())}_linkToIdToken(H,z){const Oe=this.buildRequest();return Oe.idToken=z,Xt(H,Oe)}_getReauthenticationResolver(H){const z=this.buildRequest();return z.autoCreate=!1,Xt(H,z)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(H){const z="string"==typeof H?JSON.parse(H):H,{providerId:Oe,signInMethod:Dt,pendingToken:Bt}=z;return Oe&&Dt&&Bt&&Oe===Dt?new xs(Oe,Bt):null}static _create(H,z){return new xs(H,z)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hr extends Mo{constructor(H){q(H.startsWith("saml."),"argument-error"),super(H)}static credentialFromResult(H){return hr.samlCredentialFromTaggedObject(H)}static credentialFromError(H){return hr.samlCredentialFromTaggedObject(H.customData||{})}static credentialFromJSON(H){const z=xs.fromJSON(H);return q(z,"argument-error"),z}static samlCredentialFromTaggedObject({_tokenResponse:H}){if(!H)return null;const{pendingToken:z,providerId:Oe}=H;if(!z||!Oe)return null;try{return xs._create(Oe,z)}catch{return null}}}let ks=(()=>{class ye extends Ds{constructor(){super("twitter.com")}static credential(z,Oe){return jn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.TWITTER_SIGN_IN_METHOD,oauthToken:z,oauthTokenSecret:Oe})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{oauthAccessToken:Oe,oauthTokenSecret:Dt}=z;if(!Oe||!Dt)return null;try{return ye.credential(Oe,Dt)}catch{return null}}}return ye.TWITTER_SIGN_IN_METHOD="twitter.com",ye.PROVIDER_ID="twitter.com",ye})();function fr(ye,H){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signUp",Me(ye,H))})).apply(this,arguments)}class ki{constructor(H){this.user=H.user,this.providerId=H.providerId,this._tokenResponse=H._tokenResponse,this.operationType=H.operationType}static _fromIdTokenResponse(H,z,Oe,Dt=!1){return(0,c.Z)(function*(){const Bt=yield rn._fromIdTokenResponse(H,Oe,Dt),vn=wo(Oe);return new ki({user:Bt,providerId:vn,_tokenResponse:Oe,operationType:z})})()}static _forOperation(H,z,Oe){return(0,c.Z)(function*(){yield H._updateTokensIfNecessary(Oe,!0);const Dt=wo(Oe);return new ki({user:H,providerId:Dt,_tokenResponse:Oe,operationType:z})})()}}function wo(ye){return ye.providerId?ye.providerId:"phoneNumber"in ye?"phone":null}function Io(ye){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(ye){var H;const z=hn(ye);if(yield z._initializationPromise,null!==(H=z.currentUser)&&void 0!==H&&H.isAnonymous)return new ki({user:z.currentUser,providerId:null,operationType:"signIn"});const Oe=yield fr(z,{returnSecureToken:!0}),Dt=yield ki._fromIdTokenResponse(z,"signIn",Oe,!0);return yield z._updateCurrentUser(Dt.user),Dt})).apply(this,arguments)}class us extends t.ZR{constructor(H,z,Oe,Dt){var Bt;super(z.code,z.message),this.operationType=Oe,this.user=Dt,Object.setPrototypeOf(this,us.prototype),this.customData={appName:H.name,tenantId:null!==(Bt=H.tenantId)&&void 0!==Bt?Bt:void 0,_serverResponse:z.customData._serverResponse,operationType:Oe}}static _fromErrorAndOperation(H,z,Oe,Dt){return new us(H,z,Oe,Dt)}}function Lo(ye,H,z,Oe){return("reauthenticate"===H?z._getReauthenticationResolver(ye):z._getIdTokenResponse(ye)).catch(Bt=>{throw"auth/multi-factor-auth-required"===Bt.code?us._fromErrorAndOperation(ye,Bt,H,Oe):Bt})}function Ho(ye){return new Set(ye.map(({providerId:H})=>H).filter(H=>!!H))}function fs(ye,H){return qo.apply(this,arguments)}function qo(){return qo=(0,c.Z)(function*(ye,H){const z=(0,t.m9)(ye);yield hs(!0,z,H);const{providerUserInfo:Oe}=yield function ge(ye,H){return J.apply(this,arguments)}(z.auth,{idToken:yield z.getIdToken(),deleteProvider:[H]}),Dt=Ho(Oe||[]);return z.providerData=z.providerData.filter(Bt=>Dt.has(Bt.providerId)),Dt.has("phone")||(z.phoneNumber=null),yield z.auth._persistUserIfCurrent(z),z}),qo.apply(this,arguments)}function ro(ye,H){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(ye,H,z=!1){const Oe=yield xe(ye,H._linkToIdToken(ye.auth,yield ye.getIdToken()),z);return ki._forOperation(ye,"link",Oe)})).apply(this,arguments)}function hs(ye,H,z){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(ye,H,z){yield nt(H);const Dt=!1===ye?"provider-already-linked":"no-such-provider";q(Ho(H.providerData).has(z)===ye,H.auth,Dt)})).apply(this,arguments)}function ma(ye,H){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(ye,H,z=!1){const{auth:Oe}=ye,Dt="reauthenticate";try{const Bt=yield xe(ye,Lo(Oe,Dt,H,ye),z);q(Bt.idToken,Oe,"internal-error");const vn=_e(Bt.idToken);q(vn,Oe,"internal-error");const{sub:Pn}=vn;return q(ye.uid===Pn,Oe,"user-mismatch"),ki._forOperation(ye,Dt,Bt)}catch(Bt){throw"auth/user-not-found"===Bt?.code&&T(Oe,"user-mismatch"),Bt}})).apply(this,arguments)}function Fs(ye,H){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(ye,H,z=!1){const Dt=yield Lo(ye,"signIn",H),Bt=yield ki._fromIdTokenResponse(ye,"signIn",Dt);return z||(yield ye._updateCurrentUser(Bt.user)),Bt})).apply(this,arguments)}function Jo(ye,H){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(ye,H){return Fs(hn(ye),H)})).apply(this,arguments)}function Js(ye,H){return ws.apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(ye,H){const z=(0,t.m9)(ye);return yield hs(!1,z,H.providerId),ro(z,H)})).apply(this,arguments)}function Bs(ye,H){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(ye,H){return ma((0,t.m9)(ye),H)})).apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithCustomToken",Me(ye,H))})).apply(this,arguments)}function mt(ye,H){return $e.apply(this,arguments)}function $e(){return $e=(0,c.Z)(function*(ye,H){const z=hn(ye),Oe=yield function pn(ye,H){return tt.apply(this,arguments)}(z,{token:H,returnSecureToken:!0}),Dt=yield ki._fromIdTokenResponse(z,"signIn",Oe);return yield z._updateCurrentUser(Dt.user),Dt}),$e.apply(this,arguments)}class It{constructor(H,z){this.factorId=H,this.uid=z.mfaEnrollmentId,this.enrollmentTime=new Date(z.enrolledAt).toUTCString(),this.displayName=z.displayName}static _fromServerResponse(H,z){return"phoneInfo"in z?sn._fromServerResponse(H,z):"totpInfo"in z?si._fromServerResponse(H,z):T(H,"internal-error")}}class sn extends It{constructor(H){super("phone",H),this.phoneNumber=H.phoneInfo}static _fromServerResponse(H,z){return new sn(z)}}class si extends It{constructor(H){super("totp",H)}static _fromServerResponse(H,z){return new si(z)}}function Mi(ye,H,z){var Oe;q((null===(Oe=z.url)||void 0===Oe?void 0:Oe.length)>0,ye,"invalid-continue-uri"),q(typeof z.dynamicLinkDomain>"u"||z.dynamicLinkDomain.length>0,ye,"invalid-dynamic-link-domain"),H.continueUrl=z.url,H.dynamicLinkDomain=z.dynamicLinkDomain,H.canHandleCodeInApp=z.handleCodeInApp,z.iOS&&(q(z.iOS.bundleId.length>0,ye,"missing-ios-bundle-id"),H.iOSBundleId=z.iOS.bundleId),z.android&&(q(z.android.packageName.length>0,ye,"missing-android-pkg-name"),H.androidInstallApp=z.android.installApp,H.androidMinimumVersionCode=z.android.minimumVersion,H.androidPackageName=z.android.packageName)}function ho(ye,H,z){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,c.Z)(function*(ye,H,z){var Oe;const Dt=hn(ye),Bt={requestType:"PASSWORD_RESET",email:H,clientType:"CLIENT_TYPE_WEB"};if(null!==(Oe=Dt._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const vn=yield En(Dt,Bt,"getOobCode",!0);z&&Mi(Dt,vn,z),yield Lr(Dt,vn)}else z&&Mi(Dt,Bt,z),yield Lr(Dt,Bt).catch(function(){var vn=(0,c.Z)(function*(Pn){if("auth/missing-recaptcha-token"!==Pn.code)return Promise.reject(Pn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const li=yield En(Dt,Bt,"getOobCode",!0);z&&Mi(Dt,li,z),yield Lr(Dt,li)}});return function(Pn){return vn.apply(this,arguments)}}())}),Qo.apply(this,arguments)}function Ko(ye,H,z){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(ye,H,z){yield ir((0,t.m9)(ye),{oobCode:H,newPassword:z})})).apply(this,arguments)}function Xo(ye,H){return gr.apply(this,arguments)}function gr(){return gr=(0,c.Z)(function*(ye,H){yield function Vo(ye,H){return Ai.apply(this,arguments)}((0,t.m9)(ye),{oobCode:H})}),gr.apply(this,arguments)}function Po(ye,H){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(ye,H){const z=(0,t.m9)(ye),Oe=yield ir(z,{oobCode:H}),Dt=Oe.requestType;switch(q(Dt,z,"internal-error"),Dt){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(Oe.newEmail,z,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(Oe.mfaInfo,z,"internal-error");default:q(Oe.email,z,"internal-error")}let Bt=null;return Oe.mfaInfo&&(Bt=It._fromServerResponse(hn(z),Oe.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Oe.requestType?Oe.newEmail:Oe.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Oe.requestType?Oe.email:Oe.newEmail)||null,multiFactorInfo:Bt},operation:Dt}})).apply(this,arguments)}function Ba(ye,H){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(ye,H){const{data:z}=yield Po((0,t.m9)(ye),H);return z.email})).apply(this,arguments)}function ko(ye,H,z){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,c.Z)(function*(ye,H,z){var Oe;const Dt=hn(ye),Bt={returnSecureToken:!0,email:H,password:z,clientType:"CLIENT_TYPE_WEB"};let vn;if(null!==(Oe=Dt._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const pi=yield En(Dt,Bt,"signUpPassword");vn=fr(Dt,pi)}else vn=fr(Dt,Bt).catch(function(){var pi=(0,c.Z)(function*(Ii){if("auth/missing-recaptcha-token"===Ii.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const xi=yield En(Dt,Bt,"signUpPassword");return fr(Dt,xi)}return Promise.reject(Ii)});return function(Ii){return pi.apply(this,arguments)}}());const Pn=yield vn.catch(pi=>Promise.reject(pi)),li=yield ki._fromIdTokenResponse(Dt,"signIn",Pn);return yield Dt._updateCurrentUser(li.user),li}),Ua.apply(this,arguments)}function xa(ye,H,z){return Jo((0,t.m9)(ye),qs.credential(H,z))}function Qa(ye,H,z){return Us.apply(this,arguments)}function Us(){return Us=(0,c.Z)(function*(ye,H,z){var Oe;const Dt=hn(ye),Bt={requestType:"EMAIL_SIGNIN",email:H,clientType:"CLIENT_TYPE_WEB"};function vn(Pn,li){q(li.handleCodeInApp,Dt,"argument-error"),li&&Mi(Dt,Pn,li)}if(null!==(Oe=Dt._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const Pn=yield En(Dt,Bt,"getOobCode",!0);vn(Pn,z),yield bo(Dt,Pn)}else vn(Bt,z),yield bo(Dt,Bt).catch(function(){var Pn=(0,c.Z)(function*(li){if("auth/missing-recaptcha-token"!==li.code)return Promise.reject(li);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pi=yield En(Dt,Bt,"getOobCode",!0);vn(pi,z),yield bo(Dt,pi)}});return function(li){return Pn.apply(this,arguments)}}())}),Us.apply(this,arguments)}function Dl(ye,H){const z=Jr.parseLink(H);return"EMAIL_SIGNIN"===z?.operation}function Xa(ye,H,z){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye),Dt=qs.credentialWithLink(H,z||$());return q(Dt._tenantId===(Oe.tenantId||null),Oe,"tenant-id-mismatch"),Jo(Oe,Dt)})).apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(ye,H){return me(ye,"POST","/v1/accounts:createAuthUri",Me(ye,H))})).apply(this,arguments)}function Fc(ye,H){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,c.Z)(function*(ye,H){const Oe={identifier:H,continueUri:ae()?$():"http://localhost"},{signinMethods:Dt}=yield function xl(ye,H){return el.apply(this,arguments)}((0,t.m9)(ye),Oe);return Dt||[]}),Aa.apply(this,arguments)}function nc(ye,H){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,c.Z)(function*(ye,H){const z=(0,t.m9)(ye),Dt={requestType:"VERIFY_EMAIL",idToken:yield ye.getIdToken()};H&&Mi(z.auth,Dt,H);const{email:Bt}=yield function Go(ye,H){return yo.apply(this,arguments)}(z.auth,Dt);Bt!==ye.email&&(yield ye.reload())}),Ma.apply(this,arguments)}function ja(ye,H,z){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye),Bt={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield ye.getIdToken(),newEmail:H};z&&Mi(Oe.auth,Bt,z);const{email:vn}=yield function di(ye,H){return Pi.apply(this,arguments)}(Oe.auth,Bt);vn!==ye.email&&(yield ye.reload())}),Xs.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(ye,H){return me(ye,"POST","/v1/accounts:update",H)})).apply(this,arguments)}function tl(ye,H){return nl.apply(this,arguments)}function nl(){return nl=(0,c.Z)(function*(ye,{displayName:H,photoURL:z}){if(void 0===H&&void 0===z)return;const Oe=(0,t.m9)(ye),Bt={idToken:yield Oe.getIdToken(),displayName:H,photoUrl:z,returnSecureToken:!0},vn=yield xe(Oe,function Al(ye,H){return wa.apply(this,arguments)}(Oe.auth,Bt));Oe.displayName=vn.displayName||null,Oe.photoURL=vn.photoUrl||null;const Pn=Oe.providerData.find(({providerId:li})=>"password"===li);Pn&&(Pn.displayName=Oe.displayName,Pn.photoURL=Oe.photoURL),yield Oe._updateTokensIfNecessary(vn)}),nl.apply(this,arguments)}function ic(ye,H){return il((0,t.m9)(ye),H,null)}function pa(ye,H){return il((0,t.m9)(ye),null,H)}function il(ye,H,z){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(ye,H,z){const{auth:Oe}=ye,Bt={idToken:yield ye.getIdToken(),returnSecureToken:!0};H&&(Bt.email=H),z&&(Bt.password=z);const vn=yield xe(ye,xo(Oe,Bt));yield ye._updateTokensIfNecessary(vn,!0)})).apply(this,arguments)}class js{constructor(H,z,Oe={}){this.isNewUser=H,this.providerId=z,this.profile=Oe}}class _r extends js{constructor(H,z,Oe,Dt){super(H,z,Oe),this.username=Dt}}class Is extends js{constructor(H,z){super(H,"facebook.com",z)}}class we extends _r{constructor(H,z){super(H,"github.com",z,"string"==typeof z?.login?z?.login:null)}}class Mt extends js{constructor(H,z){super(H,"google.com",z)}}class it extends _r{constructor(H,z,Oe){super(H,"twitter.com",z,Oe)}}function At(ye){const{user:H,_tokenResponse:z}=ye;return H.isAnonymous&&!z?{providerId:null,isNewUser:!1,profile:null}:function rl(ye){var H,z;if(!ye)return null;const{providerId:Oe}=ye,Dt=ye.rawUserInfo?JSON.parse(ye.rawUserInfo):{},Bt=ye.isNewUser||"identitytoolkit#SignupNewUserResponse"===ye.kind;if(!Oe&&ye?.idToken){const vn=null===(z=null===(H=_e(ye.idToken))||void 0===H?void 0:H.firebase)||void 0===z?void 0:z.sign_in_provider;if(vn)return new js(Bt,"anonymous"!==vn&&"custom"!==vn?vn:null)}if(!Oe)return null;switch(Oe){case"facebook.com":return new Is(Bt,Dt);case"github.com":return new we(Bt,Dt);case"google.com":return new Mt(Bt,Dt);case"twitter.com":return new it(Bt,Dt,ye.screenName||null);case"custom":case"anonymous":return new js(Bt,null);default:return new js(Bt,Oe,Dt)}}(z)}class br{constructor(H,z,Oe){this.type=H,this.credential=z,this.auth=Oe}static _fromIdtoken(H,z){return new br("enroll",H,z)}static _fromMfaPendingCredential(H){return new br("signin",H)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(H){var z,Oe;if(H?.multiFactorSession){if(null!==(z=H.multiFactorSession)&&void 0!==z&&z.pendingCredential)return br._fromMfaPendingCredential(H.multiFactorSession.pendingCredential);if(null!==(Oe=H.multiFactorSession)&&void 0!==Oe&&Oe.idToken)return br._fromIdtoken(H.multiFactorSession.idToken)}return null}}class ms{constructor(H,z,Oe){this.session=H,this.hints=z,this.signInResolver=Oe}static _fromError(H,z){const Oe=hn(H),Dt=z.customData._serverResponse,Bt=(Dt.mfaInfo||[]).map(Pn=>It._fromServerResponse(Oe,Pn));q(Dt.mfaPendingCredential,Oe,"internal-error");const vn=br._fromMfaPendingCredential(Dt.mfaPendingCredential);return new ms(vn,Bt,function(){var Pn=(0,c.Z)(function*(li){const pi=yield li._process(Oe,vn);delete Dt.mfaInfo,delete Dt.mfaPendingCredential;const Ii=Object.assign(Object.assign({},Dt),{idToken:pi.idToken,refreshToken:pi.refreshToken});switch(z.operationType){case"signIn":const xi=yield ki._fromIdTokenResponse(Oe,z.operationType,Ii);return yield Oe._updateCurrentUser(xi.user),xi;case"reauthenticate":return q(z.user,Oe,"internal-error"),ki._forOperation(z.user,z.operationType,Ii);default:T(Oe,"internal-error")}});return function(li){return Pn.apply(this,arguments)}}())}resolveSignIn(H){var z=this;return(0,c.Z)(function*(){return z.signInResolver(H)})()}}function Di(ye,H){var z;const Oe=(0,t.m9)(ye),Dt=H;return q(H.customData.operationType,Oe,"argument-error"),q(null===(z=Dt.customData._serverResponse)||void 0===z?void 0:z.mfaPendingCredential,Oe,"argument-error"),ms._fromError(Oe,Dt)}class rc{constructor(H){this.user=H,this.enrolledFactors=[],H._onReload(z=>{z.mfaInfo&&(this.enrolledFactors=z.mfaInfo.map(Oe=>It._fromServerResponse(H.auth,Oe)))})}static _fromUser(H){return new rc(H)}getSession(){var H=this;return(0,c.Z)(function*(){return br._fromIdtoken(yield H.user.getIdToken(),H.user.auth)})()}enroll(H,z){var Oe=this;return(0,c.Z)(function*(){const Dt=H,Bt=yield Oe.getSession(),vn=yield xe(Oe.user,Dt._process(Oe.user.auth,Bt,z));return yield Oe.user._updateTokensIfNecessary(vn),Oe.user.reload()})()}unenroll(H){var z=this;return(0,c.Z)(function*(){const Oe="string"==typeof H?H:H.uid,Dt=yield z.user.getIdToken();try{const Bt=yield xe(z.user,function Ps(ye,H){return me(ye,"POST","/v2/accounts/mfaEnrollment:withdraw",Me(ye,H))}(z.user.auth,{idToken:Dt,mfaEnrollmentId:Oe}));z.enrolledFactors=z.enrolledFactors.filter(({uid:vn})=>vn!==Oe),yield z.user._updateTokensIfNecessary(Bt),yield z.user.reload()}catch(Bt){throw Bt}})()}}const ea=new WeakMap;function Bc(ye){const H=(0,t.m9)(ye);return ea.has(H)||ea.set(H,rc._fromUser(H)),ea.get(H)}const Ml="__sak";class od{constructor(H,z){this.storageRetriever=H,this.type=z}_isAvailable(){try{return this.storage?(this.storage.setItem(Ml,"1"),this.storage.removeItem(Ml),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(H,z){return this.storage.setItem(H,JSON.stringify(z)),Promise.resolve()}_get(H){const z=this.storage.getItem(H);return Promise.resolve(z?JSON.parse(z):null)}_remove(H){return this.storage.removeItem(H),Promise.resolve()}get storage(){return this.storageRetriever()}}const wl=(()=>{class ye extends od{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(z,Oe)=>this.onStorageEvent(z,Oe),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sd(){const ye=(0,t.z$)();return rt(ye)||ln(ye)}()&&function Vn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yn(),this._shouldAllowMigration=!0}forAllChangedKeys(z){for(const Oe of Object.keys(this.listeners)){const Dt=this.storage.getItem(Oe),Bt=this.localCache[Oe];Dt!==Bt&&z(Oe,Bt,Dt)}}onStorageEvent(z,Oe=!1){if(!z.key)return void this.forAllChangedKeys((Pn,li,pi)=>{this.notifyListeners(Pn,pi)});const Dt=z.key;if(Oe?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pn=this.storage.getItem(Dt);if(z.newValue!==Pn)null!==z.newValue?this.storage.setItem(Dt,z.newValue):this.storage.removeItem(Dt);else if(this.localCache[Dt]===z.newValue&&!Oe)return}const Bt=()=>{const Pn=this.storage.getItem(Dt);!Oe&&this.localCache[Dt]===Pn||this.notifyListeners(Dt,Pn)},vn=this.storage.getItem(Dt);!function Nn(){return(0,t.w1)()&&10===document.documentMode}()||vn===z.newValue||z.newValue===z.oldValue?Bt():setTimeout(Bt,10)}notifyListeners(z,Oe){this.localCache[z]=Oe;const Dt=this.listeners[z];if(Dt)for(const Bt of Array.from(Dt))Bt(Oe&&JSON.parse(Oe))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((z,Oe,Dt)=>{this.onStorageEvent(new StorageEvent("storage",{key:z,oldValue:Oe,newValue:Dt}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(z,Oe){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[z]||(this.listeners[z]=new Set,this.localCache[z]=this.storage.getItem(z)),this.listeners[z].add(Oe)}_removeListener(z,Oe){this.listeners[z]&&(this.listeners[z].delete(Oe),0===this.listeners[z].size&&delete this.listeners[z]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(z,Oe){var Dt=()=>super._set,Bt=this;return(0,c.Z)(function*(){yield Dt().call(Bt,z,Oe),Bt.localCache[z]=JSON.stringify(Oe)})()}_get(z){var Oe=()=>super._get,Dt=this;return(0,c.Z)(function*(){const Bt=yield Oe().call(Dt,z);return Dt.localCache[z]=JSON.stringify(Bt),Bt})()}_remove(z){var Oe=()=>super._remove,Dt=this;return(0,c.Z)(function*(){yield Oe().call(Dt,z),delete Dt.localCache[z]})()}}return ye.type="LOCAL",ye})(),so=(()=>{class ye extends od{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(z,Oe){}_removeListener(z,Oe){}}return ye.type="SESSION",ye})();let sc=(()=>{class ye{constructor(z){this.eventTarget=z,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(z){const Oe=this.receivers.find(Bt=>Bt.isListeningto(z));if(Oe)return Oe;const Dt=new ye(z);return this.receivers.push(Dt),Dt}isListeningto(z){return this.eventTarget===z}handleEvent(z){var Oe=this;return(0,c.Z)(function*(){const Dt=z,{eventId:Bt,eventType:vn,data:Pn}=Dt.data,li=Oe.handlersMap[vn];if(!li?.size)return;Dt.ports[0].postMessage({status:"ack",eventId:Bt,eventType:vn});const pi=Array.from(li).map(function(){var xi=(0,c.Z)(function*(ps){return ps(Dt.origin,Pn)});return function(ps){return xi.apply(this,arguments)}}()),Ii=yield function qd(ye){return Promise.all(ye.map(function(){var H=(0,c.Z)(function*(z){try{return{fulfilled:!0,value:yield z}}catch(Oe){return{fulfilled:!1,reason:Oe}}});return function(z){return H.apply(this,arguments)}}()))}(pi);Dt.ports[0].postMessage({status:"done",eventId:Bt,eventType:vn,response:Ii})})()}_subscribe(z,Oe){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[z]||(this.handlersMap[z]=new Set),this.handlersMap[z].add(Oe)}_unsubscribe(z,Oe){this.handlersMap[z]&&Oe&&this.handlersMap[z].delete(Oe),(!Oe||0===this.handlersMap[z].size)&&delete this.handlersMap[z],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return ye.receivers=[],ye})();function Fo(ye="",H=10){let z="";for(let Oe=0;Oe<H;Oe++)z+=Math.floor(10*Math.random());return ye+z}class ac{constructor(H){this.target=H,this.handlers=new Set}removeMessageHandler(H){H.messageChannel&&(H.messageChannel.port1.removeEventListener("message",H.onMessage),H.messageChannel.port1.close()),this.handlers.delete(H)}_send(H,z,Oe=50){var Dt=this;return(0,c.Z)(function*(){const Bt=typeof MessageChannel<"u"?new MessageChannel:null;if(!Bt)throw new Error("connection_unavailable");let vn,Pn;return new Promise((li,pi)=>{const Ii=Fo("",20);Bt.port1.start();const xi=setTimeout(()=>{pi(new Error("unsupported_event"))},Oe);Pn={messageChannel:Bt,onMessage(ps){const pl=ps;if(pl.data.eventId===Ii)switch(pl.data.status){case"ack":clearTimeout(xi),vn=setTimeout(()=>{pi(new Error("timeout"))},3e3);break;case"done":clearTimeout(vn),li(pl.data.response);break;default:clearTimeout(xi),clearTimeout(vn),pi(new Error("invalid_response"))}}},Dt.handlers.add(Pn),Bt.port1.addEventListener("message",Pn.onMessage),Dt.target.postMessage({eventType:H,eventId:Ii,data:z},[Bt.port2])}).finally(()=>{Pn&&Dt.removeMessageHandler(Pn)})})()}}function Hr(){return window}function Uc(){return typeof Hr().WorkerGlobalScope<"u"&&"function"==typeof Hr().importScripts}function Oo(){return(Oo=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ur="firebaseLocalStorageDb",So="firebaseLocalStorage",lc="fbase_key";class ol{constructor(H){this.request=H}toPromise(){return new Promise((H,z)=>{this.request.addEventListener("success",()=>{H(this.request.result)}),this.request.addEventListener("error",()=>{z(this.request.error)})})}}function sl(ye,H){return ye.transaction([So],H?"readwrite":"readonly").objectStore(So)}function al(){const ye=indexedDB.open(Ur,1);return new Promise((H,z)=>{ye.addEventListener("error",()=>{z(ye.error)}),ye.addEventListener("upgradeneeded",()=>{const Oe=ye.result;try{Oe.createObjectStore(So,{keyPath:lc})}catch(Dt){z(Dt)}}),ye.addEventListener("success",(0,c.Z)(function*(){const Oe=ye.result;Oe.objectStoreNames.contains(So)?H(Oe):(Oe.close(),yield function cc(){const ye=indexedDB.deleteDatabase(Ur);return new ol(ye).toPromise()}(),H(yield al()))}))})}function Pl(ye,H,z){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(ye,H,z){const Oe=sl(ye,!0).put({[lc]:H,value:z});return new ol(Oe).toPromise()})).apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(ye,H){const z=sl(ye,!1).get(H),Oe=yield new ol(z).toPromise();return void 0===Oe?null:Oe.value})).apply(this,arguments)}function Ol(ye,H){const z=sl(ye,!0).delete(H);return new ol(z).toPromise()}const Gc=(()=>{class ye{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var z=this;return(0,c.Z)(function*(){return z.db||(z.db=yield al()),z.db})()}_withRetries(z){var Oe=this;return(0,c.Z)(function*(){let Dt=0;for(;;)try{const Bt=yield Oe._openDb();return yield z(Bt)}catch(Bt){if(Dt++>3)throw Bt;Oe.db&&(Oe.db.close(),Oe.db=void 0)}})()}initializeServiceWorkerMessaging(){var z=this;return(0,c.Z)(function*(){return Uc()?z.initializeReceiver():z.initializeSender()})()}initializeReceiver(){var z=this;return(0,c.Z)(function*(){z.receiver=sc._getInstance(function Il(){return Uc()?self:null}()),z.receiver._subscribe("keyChanged",function(){var Oe=(0,c.Z)(function*(Dt,Bt){return{keyProcessed:(yield z._poll()).includes(Bt.key)}});return function(Dt,Bt){return Oe.apply(this,arguments)}}()),z.receiver._subscribe("ping",function(){var Oe=(0,c.Z)(function*(Dt,Bt){return["keyChanged"]});return function(Dt,Bt){return Oe.apply(this,arguments)}}())})()}initializeSender(){var z=this;return(0,c.Z)(function*(){var Oe,Dt;if(z.activeServiceWorker=yield function jc(){return Oo.apply(this,arguments)}(),!z.activeServiceWorker)return;z.sender=new ac(z.activeServiceWorker);const Bt=yield z.sender._send("ping",{},800);Bt&&null!==(Oe=Bt[0])&&void 0!==Oe&&Oe.fulfilled&&null!==(Dt=Bt[0])&&void 0!==Dt&&Dt.value.includes("keyChanged")&&(z.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(z){var Oe=this;return(0,c.Z)(function*(){if(Oe.sender&&Oe.activeServiceWorker&&function Hs(){var ye;return(null===(ye=navigator?.serviceWorker)||void 0===ye?void 0:ye.controller)||null}()===Oe.activeServiceWorker)try{yield Oe.sender._send("keyChanged",{key:z},Oe.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const z=yield al();return yield Pl(z,Ml,"1"),yield Ol(z,Ml),!0}catch{}return!1})()}_withPendingWrite(z){var Oe=this;return(0,c.Z)(function*(){Oe.pendingWrites++;try{yield z()}finally{Oe.pendingWrites--}})()}_set(z,Oe){var Dt=this;return(0,c.Z)(function*(){return Dt._withPendingWrite((0,c.Z)(function*(){return yield Dt._withRetries(Bt=>Pl(Bt,z,Oe)),Dt.localCache[z]=Oe,Dt.notifyServiceWorker(z)}))})()}_get(z){var Oe=this;return(0,c.Z)(function*(){const Dt=yield Oe._withRetries(Bt=>function ad(ye,H){return Ga.apply(this,arguments)}(Bt,z));return Oe.localCache[z]=Dt,Dt})()}_remove(z){var Oe=this;return(0,c.Z)(function*(){return Oe._withPendingWrite((0,c.Z)(function*(){return yield Oe._withRetries(Dt=>Ol(Dt,z)),delete Oe.localCache[z],Oe.notifyServiceWorker(z)}))})()}_poll(){var z=this;return(0,c.Z)(function*(){const Oe=yield z._withRetries(vn=>{const Pn=sl(vn,!1).getAll();return new ol(Pn).toPromise()});if(!Oe)return[];if(0!==z.pendingWrites)return[];const Dt=[],Bt=new Set;for(const{fbase_key:vn,value:Pn}of Oe)Bt.add(vn),JSON.stringify(z.localCache[vn])!==JSON.stringify(Pn)&&(z.notifyListeners(vn,Pn),Dt.push(vn));for(const vn of Object.keys(z.localCache))z.localCache[vn]&&!Bt.has(vn)&&(z.notifyListeners(vn,null),Dt.push(vn));return Dt})()}notifyListeners(z,Oe){this.localCache[z]=Oe;const Dt=this.listeners[z];if(Dt)for(const Bt of Array.from(Dt))Bt(Oe)}startPolling(){var z=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return z._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(z,Oe){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[z]||(this.listeners[z]=new Set,this._get(z)),this.listeners[z].add(Oe)}_removeListener(z,Oe){this.listeners[z]&&(this.listeners[z].delete(Oe),0===this.listeners[z].size&&delete this.listeners[z]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return ye.type="LOCAL",ye})(),Ee=1e12;class Ge{constructor(H){this.auth=H,this.counter=Ee,this._widgets=new Map}render(H,z){const Oe=this.counter;return this._widgets.set(Oe,new ce(H,this.auth.name,z||{})),this.counter++,Oe}reset(H){var z;const Oe=H||Ee;null===(z=this._widgets.get(Oe))||void 0===z||z.delete(),this._widgets.delete(Oe)}getResponse(H){var z;return(null===(z=this._widgets.get(H||Ee))||void 0===z?void 0:z.getResponse())||""}execute(H){var z=this;return(0,c.Z)(function*(){var Oe;return null===(Oe=z._widgets.get(H||Ee))||void 0===Oe||Oe.execute(),""})()}}class ce{constructor(H,z,Oe){this.params=Oe,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Dt="string"==typeof H?document.getElementById(H):H;q(Dt,"argument-error",{appName:z}),this.container=Dt,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Be(ye){const H=[],z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Oe=0;Oe<ye;Oe++)H.push(z.charAt(Math.floor(62*Math.random())));return H.join("")}(50);const{callback:H,"expired-callback":z}=this.params;if(H)try{H(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,z)try{z()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bt=Jt("rcb"),Vt=new he(3e4,6e4);class bn{constructor(){var H;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(H=Hr().grecaptcha)||void 0===H||!H.render)}load(H,z=""){return q(function Wn(ye){return ye.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(ye)}(z),H,"argument-error"),this.shouldResolveImmediately(z)&&Wt(Hr().grecaptcha)?Promise.resolve(Hr().grecaptcha):new Promise((Oe,Dt)=>{const Bt=Hr().setTimeout(()=>{Dt(N(H,"network-request-failed"))},Vt.get());Hr()[bt]=()=>{Hr().clearTimeout(Bt),delete Hr()[bt];const Pn=Hr().grecaptcha;if(!Pn||!Wt(Pn))return void Dt(N(H,"internal-error"));const li=Pn.render;Pn.render=(pi,Ii)=>{const xi=li(pi,Ii);return this.counter++,xi},this.hostLanguage=z,Oe(Pn)},en(`https://www.google.com/recaptcha/api.js??${(0,t.xO)({onload:bt,render:"explicit",hl:z})}`).catch(()=>{clearTimeout(Bt),Dt(N(H,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(H){var z;return!(null===(z=Hr().grecaptcha)||void 0===z||!z.render)&&(H===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ti{load(H){return(0,c.Z)(function*(){return new Ge(H)})()}clearedOneInstance(){}}const Ci="recaptcha",dr={theme:"light",type:"image"};class Ro{constructor(H,z=Object.assign({},dr),Oe){this.parameters=z,this.type=Ci,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hn(Oe),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Dt="string"==typeof H?document.getElementById(H):H;q(Dt,this.auth,"argument-error"),this.container=Dt,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ti:new bn,this.validateStartingState()}verify(){var H=this;return(0,c.Z)(function*(){H.assertNotDestroyed();const z=yield H.render(),Oe=H.getAssertedRecaptcha();return Oe.getResponse(z)||new Promise(Bt=>{const vn=Pn=>{Pn&&(H.tokenChangeListeners.delete(vn),Bt(Pn))};H.tokenChangeListeners.add(vn),H.isInvisible&&Oe.execute(z)})})()}render(){try{this.assertNotDestroyed()}catch(H){return Promise.reject(H)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(H=>{throw this.renderPromise=null,H})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(H=>{this.container.removeChild(H)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(H){return z=>{if(this.tokenChangeListeners.forEach(Oe=>Oe(z)),"function"==typeof H)H(z);else if("string"==typeof H){const Oe=Hr()[H];"function"==typeof Oe&&Oe(z)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var H=this;return(0,c.Z)(function*(){if(yield H.init(),!H.widgetId){let z=H.container;if(!H.isInvisible){const Oe=document.createElement("div");z.appendChild(Oe),z=Oe}H.widgetId=H.getAssertedRecaptcha().render(z,H.parameters)}return H.widgetId})()}init(){var H=this;return(0,c.Z)(function*(){q(ae()&&!Uc(),H.auth,"internal-error"),yield function Pa(){let ye=null;return new Promise(H=>{"complete"!==document.readyState?(ye=()=>H(),window.addEventListener("load",ye)):H()}).catch(H=>{throw ye&&window.removeEventListener("load",ye),H})}(),H.recaptcha=yield H._recaptchaLoader.load(H.auth,H.auth.languageCode||void 0);const z=yield function Cn(ye){return Tt.apply(this,arguments)}(H.auth);q(z,H.auth,"internal-error"),H.parameters.sitekey=z})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class va{constructor(H,z){this.verificationId=H,this.onConfirmation=z}confirm(H){const z=Tr._fromVerification(this.verificationId,H);return this.onConfirmation(z)}}function ya(ye,H,z){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(ye,H,z){const Oe=hn(ye),Dt=yield Rl(Oe,H,(0,t.m9)(z));return new va(Dt,Bt=>Jo(Oe,Bt))})).apply(this,arguments)}function Rs(ye,H,z){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye);yield hs(!1,Oe,"phone");const Dt=yield Rl(Oe.auth,H,(0,t.m9)(z));return new va(Dt,Bt=>Js(Oe,Bt))})).apply(this,arguments)}function dd(ye,H,z){return ud.apply(this,arguments)}function ud(){return(ud=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye),Dt=yield Rl(Oe.auth,H,(0,t.m9)(z));return new va(Dt,Bt=>Bs(Oe,Bt))})).apply(this,arguments)}function Rl(ye,H,z){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,c.Z)(function*(ye,H,z){var Oe;const Dt=yield z.verify();try{let Bt;if(q("string"==typeof Dt,ye,"argument-error"),q(z.type===Ci,ye,"argument-error"),Bt="string"==typeof H?{phoneNumber:H}:H,"session"in Bt){const vn=Bt.session;if("phoneNumber"in Bt)return q("enroll"===vn.type,ye,"internal-error"),(yield function Vs(ye,H){return me(ye,"POST","/v2/accounts/mfaEnrollment:start",Me(ye,H))}(ye,{idToken:vn.credential,phoneEnrollmentInfo:{phoneNumber:Bt.phoneNumber,recaptchaToken:Dt}})).phoneSessionInfo.sessionInfo;{q("signin"===vn.type,ye,"internal-error");const Pn=(null===(Oe=Bt.multiFactorHint)||void 0===Oe?void 0:Oe.uid)||Bt.multiFactorUid;return q(Pn,ye,"missing-multi-factor-info"),(yield function Hc(ye,H){return me(ye,"POST","/v2/accounts/mfaSignIn:start",Me(ye,H))}(ye,{mfaPendingCredential:vn.credential,mfaEnrollmentId:Pn,phoneSignInInfo:{recaptchaToken:Dt}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:vn}=yield function bi(ye,H){return Oi.apply(this,arguments)}(ye,{phoneNumber:Bt.phoneNumber,recaptchaToken:Dt});return vn}}finally{z._reset()}}),Qd.apply(this,arguments)}function Hu(ye,H){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(ye,H){yield ro((0,t.m9)(ye),H)})).apply(this,arguments)}let ip=(()=>{class ye{constructor(z){this.providerId=ye.PROVIDER_ID,this.auth=hn(z)}verifyPhoneNumber(z,Oe){return Rl(this.auth,z,(0,t.m9)(Oe))}static credential(z,Oe){return Tr._fromVerification(z,Oe)}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{phoneNumber:Oe,temporaryProof:Dt}=z;return Oe&&Dt?Tr._fromTokenResponse(Oe,Dt):null}}return ye.PROVIDER_ID="phone",ye.PHONE_SIGN_IN_METHOD="phone",ye})();function dl(ye,H){return H?ht(H):(q(ye._popupRedirectResolver,ye,"argument-error"),ye._popupRedirectResolver)}class fd extends yr{constructor(H){super("custom","custom"),this.params=H}_getIdTokenResponse(H){return Xt(H,this._buildIdpRequest())}_linkToIdToken(H,z){return Xt(H,this._buildIdpRequest(z))}_getReauthenticationResolver(H){return Xt(H,this._buildIdpRequest())}_buildIdpRequest(H){const z={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return H&&(z.idToken=H),z}}function Ks(ye){return Fs(ye.auth,new fd(ye),ye.bypassAuthState)}function Ku(ye){const{auth:H,user:z}=ye;return q(z,H,"internal-error"),ma(z,new fd(ye),ye.bypassAuthState)}function uc(ye){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(ye){const{auth:H,user:z}=ye;return q(z,H,"internal-error"),ro(z,new fd(ye),ye.bypassAuthState)})).apply(this,arguments)}class fc{constructor(H,z,Oe,Dt,Bt=!1){this.auth=H,this.resolver=Oe,this.user=Dt,this.bypassAuthState=Bt,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(z)?z:[z]}execute(){var H=this;return new Promise(function(){var z=(0,c.Z)(function*(Oe,Dt){H.pendingPromise={resolve:Oe,reject:Dt};try{H.eventManager=yield H.resolver._initialize(H.auth),yield H.onExecution(),H.eventManager.registerConsumer(H)}catch(Bt){H.reject(Bt)}});return function(Oe,Dt){return z.apply(this,arguments)}}())}onAuthEvent(H){var z=this;return(0,c.Z)(function*(){const{urlResponse:Oe,sessionId:Dt,postBody:Bt,tenantId:vn,error:Pn,type:li}=H;if(Pn)return void z.reject(Pn);const pi={auth:z.auth,requestUri:Oe,sessionId:Dt,tenantId:vn||void 0,postBody:Bt||void 0,user:z.user,bypassAuthState:z.bypassAuthState};try{z.resolve(yield z.getIdpTask(li)(pi))}catch(Ii){z.reject(Ii)}})()}onError(H){this.reject(H)}getIdpTask(H){switch(H){case"signInViaPopup":case"signInViaRedirect":return Ks;case"linkViaPopup":case"linkViaRedirect":return uc;case"reauthViaPopup":case"reauthViaRedirect":return Ku;default:T(this.auth,"internal-error")}}resolve(H){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(H),this.unregisterAndCleanUp()}reject(H){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(H),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uh=new he(2e3,1e4);function ta(ye,H,z){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(ye,H,z){const Oe=hn(ye);B(ye,H,Mo);const Dt=dl(Oe,z);return new hc(Oe,"signInViaPopup",H,Dt).executeNotNull()})).apply(this,arguments)}function rp(ye,H,z){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye);B(Oe.auth,H,Mo);const Dt=dl(Oe.auth,z);return new hc(Oe.auth,"reauthViaPopup",H,Dt,Oe).executeNotNull()})).apply(this,arguments)}function Yu(ye,H,z){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye);B(Oe.auth,H,Mo);const Dt=dl(Oe.auth,z);return new hc(Oe.auth,"linkViaPopup",H,Dt,Oe).executeNotNull()})).apply(this,arguments)}let hc=(()=>{class ye extends fc{constructor(z,Oe,Dt,Bt,vn){super(z,Oe,Bt,vn),this.provider=Dt,this.authWindow=null,this.pollId=null,ye.currentPopupAction&&ye.currentPopupAction.cancel(),ye.currentPopupAction=this}executeNotNull(){var z=this;return(0,c.Z)(function*(){const Oe=yield z.execute();return q(Oe,z.auth,"internal-error"),Oe})()}onExecution(){var z=this;return(0,c.Z)(function*(){Fe(1===z.filter.length,"Popup operations only handle one event");const Oe=Fo();z.authWindow=yield z.resolver._openPopup(z.auth,z.provider,z.filter[0],Oe),z.authWindow.associatedEvent=Oe,z.resolver._originValidation(z.auth).catch(Dt=>{z.reject(Dt)}),z.resolver._isIframeWebStorageSupported(z.auth,Dt=>{Dt||z.reject(N(z.auth,"web-storage-unsupported"))}),z.pollUserCancellation()})()}get eventId(){var z;return(null===(z=this.authWindow)||void 0===z?void 0:z.associatedEvent)||null}cancel(){this.reject(N(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ye.currentPopupAction=null}pollUserCancellation(){const z=()=>{var Oe,Dt;this.pollId=null!==(Dt=null===(Oe=this.authWindow)||void 0===Oe?void 0:Oe.window)&&void 0!==Dt&&Dt.closed?window.setTimeout(()=>{this.pollId=null,this.reject(N(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(z,uh.get())};z()}}return ye.currentPopupAction=null,ye})();const Xd="pendingRedirect",Ka=new Map;class Wu extends fc{constructor(H,z,Oe=!1){super(H,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],z,void 0,Oe),this.eventId=null}execute(){var H=()=>super.execute,z=this;return(0,c.Z)(function*(){let Oe=Ka.get(z.auth._key());if(!Oe){try{const Bt=(yield function fh(ye,H){return Ll.apply(this,arguments)}(z.resolver,z.auth))?yield H().call(z):null;Oe=()=>Promise.resolve(Bt)}catch(Dt){Oe=()=>Promise.reject(Dt)}Ka.set(z.auth._key(),Oe)}return z.bypassAuthState||Ka.set(z.auth._key(),()=>Promise.resolve(null)),Oe()})()}onAuthEvent(H){var z=()=>super.onAuthEvent,Oe=this;return(0,c.Z)(function*(){if("signInViaRedirect"===H.type)return z().call(Oe,H);if("unknown"!==H.type){if(H.eventId){const Dt=yield Oe.auth._redirectUserForId(H.eventId);if(Dt)return Oe.user=Dt,z().call(Oe,H);Oe.resolve(null)}}else Oe.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Ll(){return(Ll=(0,c.Z)(function*(ye,H){const z=zr(H),Oe=ia(ye);if(!(yield Oe._isAvailable()))return!1;const Dt="true"===(yield Oe._get(z));return yield Oe._remove(z),Dt})).apply(this,arguments)}function eu(ye,H){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(ye,H){return ia(ye)._set(zr(H),"true")})).apply(this,arguments)}function hh(){Ka.clear()}function zu(ye,H){Ka.set(ye._key(),H)}function ia(ye){return ht(ye._redirectPersistence)}function zr(ye){return Pe(Xd,ye.config.apiKey,ye.name)}function ns(ye,H,z){return function Oa(ye,H,z){return mc.apply(this,arguments)}(ye,H,z)}function mc(){return(mc=(0,c.Z)(function*(ye,H,z){const Oe=hn(ye);B(ye,H,Mo),yield Oe._initializationPromise;const Dt=dl(Oe,z);return yield eu(Dt,Oe),Dt._openRedirect(Oe,H,"signInViaRedirect")})).apply(this,arguments)}function ul(ye,H,z){return function mh(ye,H,z){return pc.apply(this,arguments)}(ye,H,z)}function pc(){return(pc=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye);B(Oe.auth,H,Mo),yield Oe.auth._initializationPromise;const Dt=dl(Oe.auth,z);yield eu(Dt,Oe.auth);const Bt=yield pd(Oe);return Dt._openRedirect(Oe.auth,H,"reauthViaRedirect",Bt)})).apply(this,arguments)}function hd(ye,H,z){return function kl(ye,H,z){return md.apply(this,arguments)}(ye,H,z)}function md(){return(md=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye);B(Oe.auth,H,Mo),yield Oe.auth._initializationPromise;const Dt=dl(Oe.auth,z);yield hs(!1,Oe,H.providerId),yield eu(Dt,Oe.auth);const Bt=yield pd(Oe);return Dt._openRedirect(Oe.auth,H,"linkViaRedirect",Bt)})).apply(this,arguments)}function tu(ye,H){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(ye,H){return yield hn(ye)._initializationPromise,Ra(ye,H,!1)})).apply(this,arguments)}function Ra(ye,H){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(ye,H,z=!1){const Oe=hn(ye),Dt=dl(Oe,H),vn=yield new Wu(Oe,Dt,z).execute();return vn&&!z&&(delete vn.user._redirectEventId,yield Oe._persistUserIfCurrent(vn.user),yield Oe._setRedirectUser(null,H)),vn})).apply(this,arguments)}function pd(ye){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(ye){const H=Fo(`${ye.uid}:::`);return ye._redirectEventId=H,yield ye.auth._setRedirectUser(ye),yield ye.auth._persistUserIfCurrent(ye),H})).apply(this,arguments)}class nu{constructor(H){this.auth=H,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(H){this.consumers.add(H),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,H)&&(this.sendToConsumer(this.queuedRedirectEvent,H),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(H){this.consumers.delete(H)}onEvent(H){if(this.hasEventBeenHandled(H))return!1;let z=!1;return this.consumers.forEach(Oe=>{this.isEventForConsumer(H,Oe)&&(z=!0,this.sendToConsumer(H,Oe),this.saveEventToCache(H))}),this.hasHandledPotentialRedirect||!function _c(ye){switch(ye.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gc(ye);default:return!1}}(H)||(this.hasHandledPotentialRedirect=!0,z||(this.queuedRedirectEvent=H,z=!0)),z}sendToConsumer(H,z){var Oe;if(H.error&&!gc(H)){const Dt=(null===(Oe=H.error.code)||void 0===Oe?void 0:Oe.split("auth/")[1])||"internal-error";z.onError(N(this.auth,Dt))}else z.onAuthEvent(H)}isEventForConsumer(H,z){const Oe=null===z.eventId||!!H.eventId&&H.eventId===z.eventId;return z.filter.includes(H.type)&&Oe}hasEventBeenHandled(H){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wc(H))}saveEventToCache(H){this.cachedEventUids.add(Wc(H)),this.lastProcessedEventTime=Date.now()}}function Wc(ye){return[ye.type,ye.eventId,ye.sessionId,ye.tenantId].filter(H=>H).join("-")}function gc({type:ye,error:H}){return"unknown"===ye&&"auth/no-auth-event"===H?.code}function zc(ye){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,c.Z)(function*(ye,H={}){return me(ye,"GET","/v1/projects",H)})).apply(this,arguments)}const $u=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ph=/^https?/;function vc(){return(vc=(0,c.Z)(function*(ye){if(ye.config.emulator)return;const{authorizedDomains:H}=yield zc(ye);for(const z of H)try{if(Fl(z))return}catch{}T(ye,"unauthorized-domain")})).apply(this,arguments)}function Fl(ye){const H=$(),{protocol:z,hostname:Oe}=new URL(H);if(ye.startsWith("chrome-extension://")){const vn=new URL(ye);return""===vn.hostname&&""===Oe?"chrome-extension:"===z&&ye.replace("chrome-extension://","")===H.replace("chrome-extension://",""):"chrome-extension:"===z&&vn.hostname===Oe}if(!ph.test(z))return!1;if($u.test(ye))return Oe===ye;const Dt=ye.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Dt+"|"+Dt+")$","i").test(Oe)}const lo=new he(3e4,6e4);function gd(){const ye=Hr().___jsl;if(ye?.H)for(const H of Object.keys(ye.H))if(ye.H[H].r=ye.H[H].r||[],ye.H[H].L=ye.H[H].L||[],ye.H[H].r=[...ye.H[H].L],ye.CP)for(let z=0;z<ye.CP.length;z++)ye.CP[z]=null}let oa=null;const sa=new he(5e3,15e3),iu="__/auth/iframe",Zc="emulator/auth/iframe",Bl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ul(ye){const H=ye.config;q(H.authDomain,ye,"auth-domain-config-required");const z=H.emulator?Se(H,Zc):`https://${ye.config.authDomain}/${iu}`,Oe={apiKey:H.apiKey,appName:ye.name,v:y.SDK_VERSION},Dt=qu.get(ye.config.apiHost);Dt&&(Oe.eid=Dt);const Bt=ye._getFrameworks();return Bt.length&&(Oe.fw=Bt.join(",")),`${z}?${(0,t.xO)(Oe).slice(1)}`}function Ae(){return Ae=(0,c.Z)(function*(ye){const H=yield function Ys(ye){return oa=oa||function yc(ye){return new Promise((H,z)=>{var Oe,Dt,Bt;function vn(){gd(),gapi.load("gapi.iframes",{callback:()=>{H(gapi.iframes.getContext())},ontimeout:()=>{gd(),z(N(ye,"network-request-failed"))},timeout:lo.get()})}if(null!==(Dt=null===(Oe=Hr().gapi)||void 0===Oe?void 0:Oe.iframes)&&void 0!==Dt&&Dt.Iframe)H(gapi.iframes.getContext());else{if(null===(Bt=Hr().gapi)||void 0===Bt||!Bt.load){const Pn=Jt("iframefcb");return Hr()[Pn]=()=>{gapi.load?vn():z(N(ye,"network-request-failed"))},en(`https://apis.google.com/js/api.js?onload=${Pn}`).catch(li=>z(li))}vn()}}).catch(H=>{throw oa=null,H})}(ye),oa}(ye),z=Hr().gapi;return q(z,ye,"internal-error"),H.open({where:document.body,url:Ul(ye),messageHandlersFilter:z.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bl,dontclear:!0},Oe=>new Promise(function(){var Dt=(0,c.Z)(function*(Bt,vn){yield Oe.restyle({setHideOnLeave:!1});const Pn=N(ye,"network-request-failed"),li=Hr().setTimeout(()=>{vn(Pn)},sa.get());function pi(){Hr().clearTimeout(li),Bt(Oe)}Oe.ping(pi).then(pi,()=>{vn(Pn)})});return function(Bt,vn){return Dt.apply(this,arguments)}}()))}),Ae.apply(this,arguments)}const Ze={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kn{constructor(H){this.window=H,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ei="__/auth/handler",Bi="emulator/auth/handler",Hi=encodeURIComponent("fac");function is(ye,H,z,Oe,Dt,Bt){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(ye,H,z,Oe,Dt,Bt){q(ye.config.authDomain,ye,"auth-domain-config-required"),q(ye.config.apiKey,ye,"invalid-api-key");const vn={apiKey:ye.config.apiKey,appName:ye.name,authType:z,redirectUrl:Oe,v:y.SDK_VERSION,eventId:Dt};if(H instanceof Mo){H.setDefaultLanguage(ye.languageCode),vn.providerId=H.providerId||"",(0,t.xb)(H.getCustomParameters())||(vn.customParameters=JSON.stringify(H.getCustomParameters()));for(const[Ii,xi]of Object.entries(Bt||{}))vn[Ii]=xi}if(H instanceof Ds){const Ii=H.getScopes().filter(xi=>""!==xi);Ii.length>0&&(vn.scopes=Ii.join(","))}ye.tenantId&&(vn.tid=ye.tenantId);const Pn=vn;for(const Ii of Object.keys(Pn))void 0===Pn[Ii]&&delete Pn[Ii];const li=yield ye._getAppCheckToken(),pi=li?`#${Hi}=${encodeURIComponent(li)}`:"";return`${function _d({config:ye}){return ye.emulator?Se(ye,Bi):`https://${ye.authDomain}/${Ei}`}(ye)}?${(0,t.xO)(Pn).slice(1)}${pi}`})).apply(this,arguments)}const hl="webStorageSupport",rs=class bc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=Ra,this._overrideRedirectResult=zu}_openPopup(H,z,Oe,Dt){var Bt=this;return(0,c.Z)(function*(){var vn;Fe(null===(vn=Bt.eventManagers[H._key()])||void 0===vn?void 0:vn.manager,"_initialize() not called before _openPopup()");const Pn=yield is(H,z,Oe,$(),Dt);return function hi(ye,H,z,Oe=500,Dt=600){const Bt=Math.max((window.screen.availHeight-Dt)/2,0).toString(),vn=Math.max((window.screen.availWidth-Oe)/2,0).toString();let Pn="";const li=Object.assign(Object.assign({},Ze),{width:Oe.toString(),height:Dt.toString(),top:Bt,left:vn}),pi=(0,t.z$)().toLowerCase();z&&(Pn=dt(pi)?"_blank":z),lt(pi)&&(H=H||"http://localhost",li.scrollbars="yes");const Ii=Object.entries(li).reduce((ps,[pl,Qu])=>`${ps}${pl}=${Qu},`,"");if(function Mn(ye=(0,t.z$)()){var H;return ln(ye)&&!(null===(H=window.navigator)||void 0===H||!H.standalone)}(pi)&&"_self"!==Pn)return function ai(ye,H){const z=document.createElement("a");z.href=ye,z.target=H;const Oe=document.createEvent("MouseEvent");Oe.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),z.dispatchEvent(Oe)}(H||"",Pn),new kn(null);const xi=window.open(H||"",Pn,Ii);q(xi,ye,"popup-blocked");try{xi.focus()}catch{}return new kn(xi)}(H,Pn,Fo())})()}_openRedirect(H,z,Oe,Dt){var Bt=this;return(0,c.Z)(function*(){return yield Bt._originValidation(H),function Va(ye){Hr().location.href=ye}(yield is(H,z,Oe,$(),Dt)),new Promise(()=>{})})()}_initialize(H){const z=H._key();if(this.eventManagers[z]){const{manager:Dt,promise:Bt}=this.eventManagers[z];return Dt?Promise.resolve(Dt):(Fe(Bt,"If manager is not set, promise should be"),Bt)}const Oe=this.initAndGetManager(H);return this.eventManagers[z]={promise:Oe},Oe.catch(()=>{delete this.eventManagers[z]}),Oe}initAndGetManager(H){var z=this;return(0,c.Z)(function*(){const Oe=yield function ru(ye){return Ae.apply(this,arguments)}(H),Dt=new nu(H);return Oe.register("authEvent",Bt=>(q(Bt?.authEvent,H,"invalid-auth-event"),{status:Dt.onEvent(Bt.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),z.eventManagers[H._key()]={manager:Dt},z.iframes[H._key()]=Oe,Dt})()}_isIframeWebStorageSupported(H,z){this.iframes[H._key()].send(hl,{type:hl},Dt=>{var Bt;const vn=null===(Bt=Dt?.[0])||void 0===Bt?void 0:Bt[hl];void 0!==vn&&z(!!vn),T(H,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(H){const z=H._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function fl(ye){return vc.apply(this,arguments)}(H)),this.originValidationPromises[z]}get _shouldInitProactively(){return Yn()||rt()||ln()}};class za{constructor(H){this.factorId=H}_process(H,z,Oe){switch(z.type){case"enroll":return this._finalizeEnroll(H,z.credential,Oe);case"signin":return this._finalizeSignIn(H,z.credential);default:return le("unexpected MultiFactorSessionType")}}}class Zr extends za{constructor(H){super("phone"),this.credential=H}static _fromCredential(H){return new Zr(H)}_finalizeEnroll(H,z,Oe){return function ts(ye,H){return me(ye,"POST","/v2/accounts/mfaEnrollment:finalize",Me(ye,H))}(H,{idToken:z,displayName:Oe,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(H,z){return function cd(ye,H){return me(ye,"POST","/v2/accounts/mfaSignIn:finalize",Me(ye,H))}(H,{mfaPendingCredential:z,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jl=(()=>{class ye{constructor(){}static assertion(z){return Zr._fromCredential(z)}}return ye.FACTOR_ID="phone",ye})();var ml="@firebase/auth";class op{constructor(H){this.auth=H,this.internalListeners=new Map}getUid(){var H;return this.assertAuthConfigured(),(null===(H=this.auth.currentUser)||void 0===H?void 0:H.uid)||null}getToken(H){var z=this;return(0,c.Z)(function*(){return z.assertAuthConfigured(),yield z.auth._initializationPromise,z.auth.currentUser?{accessToken:yield z.auth.currentUser.getIdToken(H)}:null})()}addAuthTokenListener(H){if(this.assertAuthConfigured(),this.internalListeners.has(H))return;const z=this.auth.onIdTokenChanged(Oe=>{H(Oe?.stsTokenManager.accessToken||null)});this.internalListeners.set(H,z),this.updateProactiveRefresh()}removeAuthTokenListener(H){this.assertAuthConfigured();const z=this.internalListeners.get(H);z&&(this.internalListeners.delete(H),z(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,t.Pz)("authIdTokenMaxAge"),function _h(ye){(0,y._registerComponent)(new F.wA("auth",(H,{options:z})=>{const Oe=H.getProvider("app").getImmediate(),Dt=H.getProvider("heartbeat"),Bt=H.getProvider("app-check-internal"),{apiKey:vn,authDomain:Pn}=Oe.options;q(vn&&!vn.includes(":"),"invalid-api-key",{appName:Oe.name});const li={apiKey:vn,authDomain:Pn,clientPlatform:ye,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fi(ye)},pi=new ft(Oe,Dt,Bt,li);return function gt(ye,H){const z=H?.persistence||[],Oe=(Array.isArray(z)?z:[z]).map(ht);H?.errorMap&&ye._updateErrorMap(H.errorMap),ye._initializeWithPersistence(Oe,H?.popupRedirectResolver)}(pi,z),pi},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((H,z,Oe)=>{H.getProvider("auth-internal").initialize()})),(0,y._registerComponent)(new F.wA("auth-internal",H=>{const z=hn(H.getProvider("auth").getImmediate());return new op(z)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,y.registerVersion)(ml,"0.23.2",function B_(ye){switch(ye){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ye)),(0,y.registerVersion)(ml,"0.23.2","esm2017")}("Browser")},9058:(Bn,et,C)=>{"use strict";C.d(et,{$s:()=>ht,BH:()=>S,L:()=>p,LL:()=>Ue,Pz:()=>N,UG:()=>le,US:()=>F,ZB:()=>v,ZR:()=>me,aH:()=>T,b$:()=>ae,eu:()=>fe,hl:()=>Le,jU:()=>Fe,m9:()=>Pe,ne:()=>xe,pd:()=>_e,r3:()=>ge,ru:()=>$,tV:()=>f,uI:()=>q,vZ:()=>te,w1:()=>pe,xO:()=>X,xb:()=>Q,z$:()=>Y,zI:()=>Re,zd:()=>ue});const I=function(Ye){const ze=[];let lt=0;for(let rt=0;rt<Ye.length;rt++){let dt=Ye.charCodeAt(rt);dt<128?ze[lt++]=dt:dt<2048?(ze[lt++]=dt>>6|192,ze[lt++]=63&dt|128):55296==(64512&dt)&&rt+1<Ye.length&&56320==(64512&Ye.charCodeAt(rt+1))?(dt=65536+((1023&dt)<<10)+(1023&Ye.charCodeAt(++rt)),ze[lt++]=dt>>18|240,ze[lt++]=dt>>12&63|128,ze[lt++]=dt>>6&63|128,ze[lt++]=63&dt|128):(ze[lt++]=dt>>12|224,ze[lt++]=dt>>6&63|128,ze[lt++]=63&dt|128)}return ze},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ye,ze){if(!Array.isArray(Ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const lt=ze?this.byteToCharMapWebSafe_:this.byteToCharMap_,rt=[];for(let dt=0;dt<Ye.length;dt+=3){const Ft=Ye[dt],qt=dt+1<Ye.length,Lt=qt?Ye[dt+1]:0,Qt=dt+2<Ye.length,ln=Qt?Ye[dt+2]:0;let Nn=(15&Lt)<<2|ln>>6,Yn=63&ln;Qt||(Yn=64,qt||(Nn=64)),rt.push(lt[Ft>>2],lt[(3&Ft)<<4|Lt>>4],lt[Nn],lt[Yn])}return rt.join("")},encodeString(Ye,ze){return this.HAS_NATIVE_SUPPORT&&!ze?btoa(Ye):this.encodeByteArray(I(Ye),ze)},decodeString(Ye,ze){return this.HAS_NATIVE_SUPPORT&&!ze?atob(Ye):function(Ye){const ze=[];let lt=0,rt=0;for(;lt<Ye.length;){const dt=Ye[lt++];if(dt<128)ze[rt++]=String.fromCharCode(dt);else if(dt>191&&dt<224){const Ft=Ye[lt++];ze[rt++]=String.fromCharCode((31&dt)<<6|63&Ft)}else if(dt>239&&dt<365){const Qt=((7&dt)<<18|(63&Ye[lt++])<<12|(63&Ye[lt++])<<6|63&Ye[lt++])-65536;ze[rt++]=String.fromCharCode(55296+(Qt>>10)),ze[rt++]=String.fromCharCode(56320+(1023&Qt))}else{const Ft=Ye[lt++],qt=Ye[lt++];ze[rt++]=String.fromCharCode((15&dt)<<12|(63&Ft)<<6|63&qt)}}return ze.join("")}(this.decodeStringToByteArray(Ye,ze))},decodeStringToByteArray(Ye,ze){this.init_();const lt=ze?this.charToByteMapWebSafe_:this.charToByteMap_,rt=[];for(let dt=0;dt<Ye.length;){const Ft=lt[Ye.charAt(dt++)],Lt=dt<Ye.length?lt[Ye.charAt(dt)]:0;++dt;const ln=dt<Ye.length?lt[Ye.charAt(dt)]:64;++dt;const Mn=dt<Ye.length?lt[Ye.charAt(dt)]:64;if(++dt,null==Ft||null==Lt||null==ln||null==Mn)throw new L;rt.push(Ft<<2|Lt>>4),64!==ln&&(rt.push(Lt<<4&240|ln>>2),64!==Mn&&rt.push(ln<<6&192|Mn))}return rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ye=0;Ye<this.ENCODED_VALS.length;Ye++)this.byteToCharMap_[Ye]=this.ENCODED_VALS.charAt(Ye),this.charToByteMap_[this.byteToCharMap_[Ye]]=Ye,this.byteToCharMapWebSafe_[Ye]=this.ENCODED_VALS_WEBSAFE.charAt(Ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ye]]=Ye,Ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ye)]=Ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ye)]=Ye)}}};class L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(Ye){return function(Ye){const ze=I(Ye);return F.encodeByteArray(ze,!0)}(Ye).replace(/\./g,"")},f=function(Ye){try{return F.decodeString(Ye,!0)}catch(ze){console.error("base64Decode failed: ",ze)}return null};function v(Ye,ze){if(!(ze instanceof Object))return ze;switch(ze.constructor){case Date:return new Date(ze.getTime());case Object:void 0===Ye&&(Ye={});break;case Array:Ye=[];break;default:return ze}for(const lt in ze)!ze.hasOwnProperty(lt)||!A(lt)||(Ye[lt]=v(Ye[lt],ze[lt]));return Ye}function A(Ye){return"__proto__"!==Ye}const O=()=>{try{return function U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ye=process.env.__FIREBASE_DEFAULTS__;return Ye?JSON.parse(Ye):void 0})()||(()=>{if(typeof document>"u")return;let Ye;try{Ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ze=Ye&&f(Ye[1]);return ze&&JSON.parse(ze)})()}catch(Ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ye}`)}},T=()=>{var Ye;return null===(Ye=O())||void 0===Ye?void 0:Ye.config},N=Ye=>{var ze;return null===(ze=O())||void 0===ze?void 0:ze[`_${Ye}`]};class S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ze,lt)=>{this.resolve=ze,this.reject=lt})}wrapCallback(ze){return(lt,rt)=>{lt?this.reject(lt):this.resolve(rt),"function"==typeof ze&&(this.promise.catch(()=>{}),1===ze.length?ze(lt):ze(lt,rt))}}}function Y(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())}function le(){var Ye;const ze=null===(Ye=O())||void 0===Ye?void 0:Ye.forceEnvironment;if("node"===ze)return!0;if("browser"===ze)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function $(){const Ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ye&&void 0!==Ye.id}function ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pe(){const Ye=Y();return Ye.indexOf("MSIE ")>=0||Ye.indexOf("Trident/")>=0}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((Ye,ze)=>{try{let lt=!0;const rt="validate-browser-context-for-indexeddb-analytics-module",dt=self.indexedDB.open(rt);dt.onsuccess=()=>{dt.result.close(),lt||self.indexedDB.deleteDatabase(rt),Ye(!0)},dt.onupgradeneeded=()=>{lt=!1},dt.onerror=()=>{var Ft;ze((null===(Ft=dt.error)||void 0===Ft?void 0:Ft.message)||"")}}catch(lt){ze(lt)}})}function Re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class me extends Error{constructor(ze,lt,rt){super(lt),this.code=ze,this.customData=rt,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(ze,lt,rt){this.service=ze,this.serviceName=lt,this.errors=rt}create(ze,...lt){const rt=lt[0]||{},dt=`${this.service}/${ze}`,Ft=this.errors[ze],qt=Ft?function ke(Ye,ze){return Ye.replace(Ie,(lt,rt)=>{const dt=ze[rt];return null!=dt?String(dt):`<${rt}?>`})}(Ft,rt):"Error";return new me(dt,`${this.serviceName}: ${qt} (${dt}).`,rt)}}const Ie=/\{\$([^}]+)}/g;function ge(Ye,ze){return Object.prototype.hasOwnProperty.call(Ye,ze)}function Q(Ye){for(const ze in Ye)if(Object.prototype.hasOwnProperty.call(Ye,ze))return!1;return!0}function te(Ye,ze){if(Ye===ze)return!0;const lt=Object.keys(Ye),rt=Object.keys(ze);for(const dt of lt){if(!rt.includes(dt))return!1;const Ft=Ye[dt],qt=ze[dt];if(ne(Ft)&&ne(qt)){if(!te(Ft,qt))return!1}else if(Ft!==qt)return!1}for(const dt of rt)if(!lt.includes(dt))return!1;return!0}function ne(Ye){return null!==Ye&&"object"==typeof Ye}function X(Ye){const ze=[];for(const[lt,rt]of Object.entries(Ye))Array.isArray(rt)?rt.forEach(dt=>{ze.push(encodeURIComponent(lt)+"="+encodeURIComponent(dt))}):ze.push(encodeURIComponent(lt)+"="+encodeURIComponent(rt));return ze.length?"&"+ze.join("&"):""}function ue(Ye){const ze={};return Ye.replace(/^\?/,"").split("&").forEach(rt=>{if(rt){const[dt,Ft]=rt.split("=");ze[decodeURIComponent(dt)]=decodeURIComponent(Ft)}}),ze}function _e(Ye){const ze=Ye.indexOf("?");if(!ze)return"";const lt=Ye.indexOf("#",ze);return Ye.substring(ze,lt>0?lt:void 0)}function xe(Ye,ze){const lt=new Ke(Ye,ze);return lt.subscribe.bind(lt)}class Ke{constructor(ze,lt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=lt,this.task.then(()=>{ze(this)}).catch(rt=>{this.error(rt)})}next(ze){this.forEachObserver(lt=>{lt.next(ze)})}error(ze){this.forEachObserver(lt=>{lt.error(ze)}),this.close(ze)}complete(){this.forEachObserver(ze=>{ze.complete()}),this.close()}subscribe(ze,lt,rt){let dt;if(void 0===ze&&void 0===lt&&void 0===rt)throw new Error("Missing Observer.");dt=function st(Ye,ze){if("object"!=typeof Ye||null===Ye)return!1;for(const lt of ze)if(lt in Ye&&"function"==typeof Ye[lt])return!0;return!1}(ze,["next","error","complete"])?ze:{next:ze,error:lt,complete:rt},void 0===dt.next&&(dt.next=ct),void 0===dt.error&&(dt.error=ct),void 0===dt.complete&&(dt.complete=ct);const Ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?dt.error(this.finalError):dt.complete()}catch{}}),this.observers.push(dt),Ft}unsubscribeOne(ze){void 0===this.observers||void 0===this.observers[ze]||(delete this.observers[ze],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ze){if(!this.finalized)for(let lt=0;lt<this.observers.length;lt++)this.sendOne(lt,ze)}sendOne(ze,lt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ze])try{lt(this.observers[ze])}catch(rt){typeof console<"u"&&console.error&&console.error(rt)}})}close(ze){this.finalized||(this.finalized=!0,void 0!==ze&&(this.finalError=ze),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ct(){}const Kt=1e3,Tn=2,rn=144e5,xt=.5;function ht(Ye,ze=Kt,lt=Tn){const rt=ze*Math.pow(lt,Ye),dt=Math.round(xt*rt*(Math.random()-.5)*2);return Math.min(rn,rt+dt)}function Pe(Ye){return Ye&&Ye._delegate?Ye._delegate:Ye}},3002:(Bn,et,C)=>{"use strict";C.r(et),C.d(et,{VideoPageModule:()=>E});var c=C(6814),t=C(95),y=C(3452),I=C(5879);let E=(()=>{class F{static#e=this.\u0275fac=function(p){return new(p||F)};static#t=this.\u0275mod=I.oAB({type:F});static#n=this.\u0275inj=I.cJS({imports:[c.ez,t.u5,y.m]})}return F})()},3452:(Bn,et,C)=>{"use strict";C.d(et,{m:()=>Me});var c=C(6814),t=C(1476),y=C(7700),I=C(2939),E=C(5313),F=C(2032),L=C(4170),D=C(3566),p=C(5986),f=C(5940),g=C(2596),v=C(3680),A=C(8525),U=C(8034),R=C(5879);let fe=(()=>{class me{static#e=this.\u0275fac=function(Ie){return new(Ie||me)};static#t=this.\u0275mod=R.oAB({type:me});static#n=this.\u0275inj=R.cJS({imports:[v.BQ,c.ez,v.BQ]})}return me})(),Re=(()=>{class me{static#e=this.\u0275fac=function(Ie){return new(Ie||me)};static#t=this.\u0275mod=R.oAB({type:me});static#n=this.\u0275inj=R.cJS({imports:[c.ez,t.TU,y.Is,I.ZX,E.p0,F.c,L.lN,D.JX,p.p9,f.Cq,g.AV,v.Ng,A.LD,U.FA,v.XK,fe,t.TU,y.Is,I.ZX,E.p0,F.c,L.lN,D.JX,p.p9,f.Cq,g.AV,v.Ng,A.LD,U.FA,v.XK,fe]})}return me})(),Me=(()=>{class me{static#e=this.\u0275fac=function(Ie){return new(Ie||me)};static#t=this.\u0275mod=R.oAB({type:me});static#n=this.\u0275inj=R.cJS({imports:[c.ez,Re,c.ez,Re]})}return me})()},9347:(Bn,et,C)=>{"use strict";var c=C(6593),t=C(5879),y=C(2096),I=C(2459),E=C(5592),F=C(6328),L=C(2181),D=C(7398),p=C(4716),f=C(4664),g=C(6814);class v{}class A{}class U{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),d=o.toLowerCase(),m=e.slice(i+1).trim();this.maybeSetNormalizedName(o,d),this.headers.has(d)?this.headers.get(d).push(m):this.headers.set(d,[m])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof U?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new U;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof U?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const d=n.value;if(d){let m=this.headers.get(e);if(!m)return;m=m.filter(b=>-1===d.indexOf(b)),0===m.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,m)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(d=>d.toString()),o=n.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class j{encodeKey(n){return P(n)}encodeValue(n){return P(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const O=/%(\d[a-f0-9])/gi,x={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function P(r){return encodeURIComponent(r).replace(O,(n,e)=>x[e]??n)}function T(r){return`${r}`}class N{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new j,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k(r,n){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const d=o.indexOf("="),[m,b]=-1==d?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,d)),n.decodeValue(o.slice(d+1))],w=e.get(m)||[];w.push(b),e.set(m,w)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],o=Array.isArray(i)?i.map(T):[T(i)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(d=>{e.push({param:i,value:d,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new N({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(T(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(T(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class B{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function q(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function le(r){return typeof Blob<"u"&&r instanceof Blob}function Fe(r){return typeof FormData<"u"&&r instanceof FormData}class ae{constructor(n,e,i,o){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function Y(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,d=o):d=i,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new U),this.context||(this.context=new B),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=e;else{const b=e.indexOf("?");this.urlWithParams=e+(-1===b?"?":b<e.length-1?"&":"")+m}}else this.params=new N,this.urlWithParams=e}serializeBody(){return null===this.body?null:q(this.body)||le(this.body)||Fe(this.body)||function $(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof N?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fe(this.body)?null:le(this.body)?this.body.type||null:q(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,d=void 0!==n.body?n.body:this.body,m=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,b=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,G=n.params||this.params;const re=n.context??this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((ve,qe)=>ve.set(qe,n.setHeaders[qe]),w)),n.setParams&&(G=Object.keys(n.setParams).reduce((ve,qe)=>ve.set(qe,n.setParams[qe]),G)),new ae(e,i,d,{params:G,headers:w,context:re,reportProgress:b,responseType:o,withCredentials:m})}}var K=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(K||{});class pe{constructor(n,e=200,i="OK"){this.headers=n.headers||new U,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class oe extends pe{constructor(n={}){super(n),this.type=K.ResponseHeader}clone(n={}){return new oe({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class he extends pe{constructor(n={}){super(n),this.type=K.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new he({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Se extends pe{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Le(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let fe=(()=>{class r{constructor(e){this.handler=e}request(e,i,o={}){let d;if(e instanceof ae)d=e;else{let w,G;w=o.headers instanceof U?o.headers:new U(o.headers),o.params&&(G=o.params instanceof N?o.params:new N({fromObject:o.params})),d=new ae(e,i,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:G,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const m=(0,y.of)(d).pipe((0,F.b)(w=>this.handler.handle(w)));if(e instanceof ae||"events"===o.observe)return m;const b=m.pipe((0,L.h)(w=>w instanceof he));switch(o.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return b.pipe((0,D.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return b.pipe((0,D.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return b.pipe((0,D.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return b.pipe((0,D.U)(w=>w.body))}case"response":return b;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new N).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,Le(o,i))}post(e,i,o={}){return this.request("POST",e,Le(o,i))}put(e,i,o={}){return this.request("PUT",e,Le(o,i))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(v))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function ot(r,n){return n(r)}function Je(r,n){return(e,i)=>n.intercept(e,{handle:o=>r(o,i)})}const Te=new t.OlP(""),W=new t.OlP(""),se=new t.OlP("");function ge(){let r=null;return(n,e)=>{null===r&&(r=((0,t.f3M)(Te,{optional:!0})??[]).reduceRight(Je,ot));const i=(0,t.f3M)(t.HDt),o=i.add();return r(n,e).pipe((0,p.x)(()=>i.remove(o)))}}let J=(()=>{class r extends v{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,t.f3M)(t.HDt)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(W),...this.injector.get(se,[])]));this.chain=o.reduceRight((d,m)=>function Ne(r,n,e){return(i,o)=>e.runInContext(()=>n(i,d=>r(d,o)))}(d,m,this.injector),ot)}const i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe((0,p.x)(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(A),t.LFG(t.lqb))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const Ve=/^\)\]\}',?\n/;let ct=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new t.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,I.D)(i.\u0275loadImpl()):(0,y.of)(null)).pipe((0,f.w)(()=>new E.y(d=>{const m=i.build();if(m.open(e.method,e.urlWithParams),e.withCredentials&&(m.withCredentials=!0),e.headers.forEach((St,Ot)=>m.setRequestHeader(St,Ot.join(","))),e.headers.has("Accept")||m.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const St=e.detectContentTypeHeader();null!==St&&m.setRequestHeader("Content-Type",St)}if(e.responseType){const St=e.responseType.toLowerCase();m.responseType="json"!==St?St:"text"}const b=e.serializeBody();let w=null;const G=()=>{if(null!==w)return w;const St=m.statusText||"OK",Ot=new U(m.getAllResponseHeaders()),$t=function st(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(m)||e.url;return w=new oe({headers:Ot,status:m.status,statusText:St,url:$t}),w},re=()=>{let{headers:St,status:Ot,statusText:$t,url:fn}=G(),an=null;204!==Ot&&(an=typeof m.response>"u"?m.responseText:m.response),0===Ot&&(Ot=an?200:0);let yn=Ot>=200&&Ot<300;if("json"===e.responseType&&"string"==typeof an){const Sn=an;an=an.replace(Ve,"");try{an=""!==an?JSON.parse(an):null}catch(Un){an=Sn,yn&&(yn=!1,an={error:Un,text:an})}}yn?(d.next(new he({body:an,headers:St,status:Ot,statusText:$t,url:fn||void 0})),d.complete()):d.error(new Se({error:an,headers:St,status:Ot,statusText:$t,url:fn||void 0}))},ve=St=>{const{url:Ot}=G(),$t=new Se({error:St,status:m.status||0,statusText:m.statusText||"Unknown Error",url:Ot||void 0});d.error($t)};let qe=!1;const Xe=St=>{qe||(d.next(G()),qe=!0);let Ot={type:K.DownloadProgress,loaded:St.loaded};St.lengthComputable&&(Ot.total=St.total),"text"===e.responseType&&m.responseText&&(Ot.partialText=m.responseText),d.next(Ot)},pt=St=>{let Ot={type:K.UploadProgress,loaded:St.loaded};St.lengthComputable&&(Ot.total=St.total),d.next(Ot)};return m.addEventListener("load",re),m.addEventListener("error",ve),m.addEventListener("timeout",ve),m.addEventListener("abort",ve),e.reportProgress&&(m.addEventListener("progress",Xe),null!==b&&m.upload&&m.upload.addEventListener("progress",pt)),m.send(b),d.next({type:K.Sent}),()=>{m.removeEventListener("error",ve),m.removeEventListener("abort",ve),m.removeEventListener("load",re),m.removeEventListener("timeout",ve),e.reportProgress&&(m.removeEventListener("progress",Xe),null!==b&&m.upload&&m.upload.removeEventListener("progress",pt)),m.readyState!==m.DONE&&m.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.JF))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const nt=new t.OlP("XSRF_ENABLED"),jt=new t.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gt=new t.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class nn{}let dn=(()=>{class r{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0),t.LFG(t.Lbi),t.LFG(jt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function un(r,n){const e=r.url.toLowerCase();if(!(0,t.f3M)(nt)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return n(r);const i=(0,t.f3M)(nn).getToken(),o=(0,t.f3M)(Gt);return null!=i&&!r.headers.has(o)&&(r=r.clone({headers:r.headers.set(o,i)})),n(r)}var Tn=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(Tn||{});function xt(...r){const n=[fe,ct,J,{provide:v,useExisting:J},{provide:A,useExisting:ct},{provide:W,useValue:un,multi:!0},{provide:nt,useValue:!0},{provide:nn,useClass:dn}];for(const e of r)n.push(...e.\u0275providers);return(0,t.MR2)(n)}const Qe=new t.OlP("LEGACY_INTERCEPTOR_FN");function De(){return function rn(r,n){return{\u0275kind:r,\u0275providers:n}}(Tn.LegacyInterceptors,[{provide:Qe,useFactory:ge},{provide:W,useExisting:Qe,multi:!0}])}let Ft=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:[xt(De())]})}return r})();var Vn=C(5612);const fi=[];let Cn=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[Vn.Bz.forRoot(fi,{onSameUrlNavigation:"reload"}),Vn.Bz]})}return r})();var Tt=C(95);class Et{}var at=C(1476),Wt=C(7700);const We=function(r){return{disabled:r}};let Pt=(()=>{class r{constructor(e,i){this.dialog=e,this.options=i}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Wt.so),t.Y36(Wt.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return o.closeDialog()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",10),t._UZ(14,"input",11,12),t._uU(16),t.qZA()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return o.closeDialog()}),t._uU(20,"Cancelar"),t.qZA(),t.TgZ(21,"button",16),t.NdJ("click",function(){return o.confirmDialog()}),t.TgZ(22,"span",17),t._uU(23,"Eliminar"),t.qZA()()()()()()()()()),2&i){const d=t.MAs(15);t.xp6(8),t.hij(" ",o.options.title," "),t.xp6(4),t.Oqu(o.options.message),t.xp6(4),t.hij("",o.options.accordMessage," "),t.xp6(5),t.Q6J("ngClass",t.VKq(4,We,!d.checked))}},dependencies:[g.mk,Wt.uh,Wt.xY,Wt.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();var en=C(8337),Jt=C(5313);class Rn{constructor(n){this.matPaginatorIntl=n,this.showLoading=!0,this.dataSource=new Jt.by,this.selection=new en.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(n){this.itemsPerPage=n.pageSize,this.currentPage=n.pageIndex+1}getElementNumber(n,e,i){return n+1+(e-1)*i}onChangeCheckValue(n,e){let i=n.target.checked;if(i?this.selection.select(e):this.selection.deselect(e),n.shiftKey&&this.lastSelectedItem){let d=0;this.selection.hasValue()&&this.lastSelectedItem&&(d=this.listItems.indexOf(this.lastSelectedItem));let m=this.listItems.indexOf(e);if(i){var o;(o=this.listItems.filter(m>=d?b=>this.listItems.indexOf(b)<=m&&this.listItems.indexOf(b)>=d&&!this.selection.isSelected(b):b=>this.listItems.indexOf(b)>=m&&this.listItems.indexOf(b)<=d&&!this.selection.isSelected(b)))&&o.length>0&&this.selection.select(...o)}else{let b=[];b=this.listItems.filter(m>=d?w=>this.listItems.indexOf(w)<=m&&this.listItems.indexOf(w)>=d&&this.selection.isSelected(w):w=>this.listItems.indexOf(w)>=m&&this.listItems.indexOf(w)<=d&&this.selection.isSelected(w)),b&&b.length>0&&this.selection.deselect(...b)}}this.lastSelectedItem=e}}var Ht=C(3566),zt=C(2939);function on(r,n){1&r&&t._UZ(0,"i",4)}function En(r,n){1&r&&t._UZ(0,"i",5)}function Fn(r,n){1&r&&t._UZ(0,"i",6)}const Xn=function(r,n,e){return{success:r,info:n,error:e}};var ft=function(r){return r[r.Success=1]="Success",r[r.Error=2]="Error",r[r.Info=3]="Info",r}(ft||{});let be=(()=>{class r{constructor(e){this.toastOptions=e,this.snackBarRef=(0,t.f3M)(zt.OX)}SnackBarType(){return ft}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(zt.qD))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[t.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,on,1,0,"i",1),t.YNc(2,En,1,0,"i",2),t.YNc(3,Fn,1,0,"i",3),t._uU(4),t.qZA()),2&i&&(t.Q6J("ngClass",t.kEZ(5,Xn,o.toastOptions.snackBarType==o.SnackBarType().Success,o.toastOptions.snackBarType==o.SnackBarType().Info,o.toastOptions.snackBarType==o.SnackBarType().Error)),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Success),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Info),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Error),t.xp6(1),t.hij(" ",o.toastOptions.message,"\n"))},dependencies:[zt.ZX,g.ez,g.mk,g.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return r})();class vt{isErrorState(n,e){return!!(n&&n.invalid&&(n.dirty||n.touched||e&&e.submitted))}}var gt=C(6232),kt=C(8645),cn=C(2438),ei=C(4825),Xi=C(4829);const{isArray:Ir}=Array;function yr(r){return 1===r.length&&Ir(r[0])?r[0]:r}var ir=C(8251);var no=C(3019),Vo=C(9940);function Ai(...r){const n=(0,Vo.jO)(r),e=yr(r);return e.length?new E.y(i=>{let o=e.map(()=>[]),d=e.map(()=>!1);i.add(()=>{o=d=null});for(let m=0;!i.closed&&m<e.length;m++)(0,Xi.Xf)(e[m]).subscribe((0,ir.x)(i,b=>{if(o[m].push(b),o.every(w=>w.length)){const w=o.map(G=>G.shift());i.next(n?n(...w):w),o.some((G,re)=>!G.length&&d[re])&&i.complete()}},()=>{d[m]=!0,!o[m].length&&i.complete()}));return()=>{o=d=null}}):gt.E}var pr=C(5211),qi=C(9773),Ki=C(8180),Go=C(9397),yo=C(9360),Lr=C(2737),kr=C(2420);function bo(...r){const n=(0,Vo.jO)(r);return(0,yo.e)((e,i)=>{const o=r.length,d=new Array(o);let m=r.map(()=>!1),b=!1;for(let w=0;w<o;w++)(0,Xi.Xf)(r[w]).subscribe((0,ir.x)(i,G=>{d[w]=G,!b&&!m[w]&&(m[w]=!0,(b=m.every(Lr.y))&&(m=null))},kr.Z));e.subscribe((0,ir.x)(i,w=>{if(b){const G=[w,...d];i.next(n?n(...G):G)}}))})}C(6321),C(975),C(1631),C(7921),C(3997),C(836),Math,Math,Math;const eo=["*"],Ia=["dialog"];function ia(r){return"string"==typeof r}function Oa(r){return null!=r}function kl(r){return(r||document.body).getBoundingClientRect()}const Ra={animation:!0,transitionTimerDelayMs:5},Wa=()=>{},{transitionTimerDelayMs:pd}=Ra,ra=new Map,ao=(r,n,e,i)=>{let o=i.context||{};const d=ra.get(n);if(d)switch(i.runningTransition){case"continue":return gt.E;case"stop":r.run(()=>d.transition$.complete()),o=Object.assign(d.context,o),ra.delete(n)}const m=e(n,i.animation,o)||Wa;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return r.run(()=>m()),(0,y.of)(void 0).pipe(function md(r){return n=>new E.y(e=>n.subscribe({next:m=>r.run(()=>e.next(m)),error:m=>r.run(()=>e.error(m)),complete:()=>r.run(()=>e.complete())}))}(r));const b=new kt.x,w=new kt.x,G=b.pipe(function rr(...r){return n=>(0,pr.z)(n,(0,y.of)(...r))}(!0));ra.set(n,{transition$:b,complete:()=>{w.next(),w.complete()},context:o});const re=function Ya(r){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(r);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return r.runOutsideAngular(()=>{const ve=(0,cn.R)(n,"transitionend").pipe((0,qi.R)(G),(0,L.h)(({target:Xe})=>Xe===n));(function fo(...r){return 1===(r=yr(r)).length?(0,Xi.Xf)(r[0]):new E.y(function xo(r){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<r.length;i++)e.push((0,Xi.Xf)(r[i]).subscribe((0,ir.x)(n,o=>{if(e){for(let d=0;d<e.length;d++)d!==i&&e[d].unsubscribe();e=null}n.next(o)})))}}(r))})((0,ei.H)(re+pd).pipe((0,qi.R)(G)),ve,w).pipe((0,qi.R)(G)).subscribe(()=>{ra.delete(n),r.run(()=>{m(),b.next(),b.complete()})})}),b.asObservable()};let _c=(()=>{class r{constructor(){this.animation=Ra.animation}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var xi=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}(xi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const vd=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function nf(r){const n=Array.from(r.querySelectorAll(vd)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Sc{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let ff=(()=>{class r{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ki.q)(1)).subscribe(()=>{ao(this._zone,this._el.nativeElement,(e,i)=>{i&&kl(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ao(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(t.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),t.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return r})();class os{update(n){}close(n){}dismiss(n){}}const gp=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Q_=["animation","backdropClass"];class X_{_applyWindowOptions(n,e){gp.forEach(i=>{Oa(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){Q_.forEach(i=>{Oa(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,qi.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,qi.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new kt.x,this._dismissed=new kt.x,this._hidden=new kt.x,n.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,m)=>{this._resolve=d,this._reject=m}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function mc(r){return r&&r.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,y.of)(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ai(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Oh=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(Oh||{});let Td=(()=>{class r{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new kt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new kt.x,this.hidden=new kt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ia(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ki.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},m=Ai(ao(this._zone,e,()=>e.classList.remove("show"),i),ao(this._zone,this._dialogEl.nativeElement,()=>{},i));return m.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),m}_show(){const e={animation:this.animation,runningTransition:"continue"};Ai(ao(this._zone,this._elRef.nativeElement,(d,m)=>{m&&kl(d),d.classList.add("show")},e),ao(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{(0,cn.R)(e,"keydown").pipe((0,qi.R)(this._closed$),(0,L.h)(o=>o.which===xi.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Oh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;(0,cn.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,qi.R)(this._closed$),(0,Go.b)(()=>i=!1),(0,f.w)(()=>(0,cn.R)(e,"mouseup").pipe((0,qi.R)(this._closed$),(0,Ki.q)(1))),(0,L.h)(({target:o})=>e===o)).subscribe(()=>{i=!0}),(0,cn.R)(e,"click").pipe((0,qi.R)(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Oh.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=nf(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ao(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(g.K0),t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&t.Gf(Ia,7),2&i){let d;t.iGM(d=t.CRH())&&(o._dialogEl=d.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){2&i&&(t.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),t.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),t.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[t.jDz],ngContentSelectors:eo,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){1&i&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&i&&t.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),yT=(()=>{class r{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:d,paddingRight:m}=o;if(e>0){const b=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${b+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=m),o.overflow=d}}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),bT=(()=>{class r{constructor(e,i,o,d,m,b,w){this._applicationRef=e,this._injector=i,this._environmentInjector=o,this._document=d,this._scrollBar=m,this._rendererFactory=b,this._ngZone=w,this._activeWindowCmptHasChanged=new kt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const G=this._windowCmpts[this._windowCmpts.length-1];((r,n,e,i=!1)=>{r.runOutsideAngular(()=>{const o=(0,cn.R)(n,"focusin").pipe((0,qi.R)(e),(0,D.U)(d=>d.target));(0,cn.R)(n,"keydown").pipe((0,qi.R)(e),(0,L.h)(d=>d.which===xi.Tab),bo(o)).subscribe(([d,m])=>{const[b,w]=nf(n);(m===b||m===n)&&d.shiftKey&&(w.focus(),d.preventDefault()),m===w&&!d.shiftKey&&(b.focus(),d.preventDefault())}),i&&(0,cn.R)(n,"click").pipe((0,qi.R)(e),bo(o),(0,D.U)(d=>d[1])).subscribe(d=>d.focus())})})(this._ngZone,G.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(G.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const d=o.container instanceof HTMLElement?o.container:Oa(o.container)?this._document.querySelector(o.container):this._document.body,m=this._rendererFactory.createRenderer(null,null);if(!d)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const b=new os,w=(e=o.injector||e).get(t.lqb,null)||this._environmentInjector,G=this._getContentRef(e,w,i,b,o);let re=!1!==o.backdrop?this._attachBackdrop(d):void 0,ve=this._attachWindowComponent(d,G.nodes),qe=new X_(ve,G,re,o.beforeDismiss);return this._registerModalRef(qe),this._registerWindowCmpt(ve),qe.hidden.pipe((0,Ki.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),b.close=Xe=>{qe.close(Xe)},b.dismiss=Xe=>{qe.dismiss(Xe)},b.update=Xe=>{qe.update(Xe)},qe.update(o),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),re&&re.instance&&re.changeDetectorRef.detectChanges(),ve.changeDetectorRef.detectChanges(),qe}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,t.LMc)(ff,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=(0,t.LMc)(Td,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,d,m){return o?o instanceof t.Rgc?this._createFromTemplateRef(o,d):ia(o)?this._createFromString(o):this._createFromComponent(e,i,o,d,m):new Sc([])}_createFromTemplateRef(e,i){const d=e.createEmbeddedView({$implicit:i,close(m){i.close(m)},dismiss(m){i.dismiss(m)}});return this._applicationRef.attachView(d),new Sc([d.rootNodes],d)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Sc([[i]])}_createFromComponent(e,i,o,d,m){const b=t.zs3.create({providers:[{provide:os,useValue:d}],parent:e}),w=(0,t.LMc)(o,{environmentInjector:i,elementInjector:b}),G=w.location.nativeElement;return m.scrollable&&G.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new Sc([[G]],w.hostView,w)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(t.lqb),t.LFG(g.K0),t.LFG(yT),t.LFG(t.FYo),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ET=(()=>{class r{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(_c))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ba=(()=>{class r{constructor(e,i,o){this._injector=e,this._modalStack=i,this._config=o}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.zs3),t.LFG(bT),t.LFG(ET))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();new t.OlP("live announcer delay",{providedIn:"root",factory:function Dp(){return 100}});let Bo=(()=>{class r{constructor(e){this.snackBar=e}showSnackBar(e,i){var o=new zt.u_;o.duration=2e3,o.data={message:e,snackBarType:i},this.snackBar.openFromComponent(be,o)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(zt.ux))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Vh,Ea=function(r){return r[r.MediaServerState=1]="MediaServerState",r[r.MediaType=2]="MediaType",r[r.VideoTransmissionType=3]="VideoTransmissionType",r[r.TranscoderPreset=4]="TranscoderPreset",r[r.IconTypes=5]="IconTypes",r[r.LinkedAccountProvider=6]="LinkedAccountProvider",r}(Ea||{}),gl=function(r){return r[r.Movie=1]="Movie",r[r.TvSerie=2]="TvSerie",r[r.Music=3]="Music",r[r.Photo=4]="Photo",r[r.Other=5]="Other",r}(gl||{}),Dd=function(r){return r[r.None=1]="None",r[r.MPEGDASH=2]="MPEGDASH",r[r.HLS=3]="HLS",r}(Dd||{}),ti=function(r){return r[r.GET=0]="GET",r[r.POST=1]="POST",r[r.PUT=2]="PUT",r[r.DELETE=3]="DELETE",r}(ti||{}),gs=function(r){return r[r.Empty=0]="Empty",r[r.Generated=1]="Generated",r[r.Initialized=2]="Initialized",r[r.LoadedMetada=3]="LoadedMetada",r[r.LoadedData=4]="LoadedData",r}(gs||{}),hu=function(r){return r[r.SinovadDb=1]="SinovadDb",r[r.TMDb=2]="TMDb",r[r.IMDb=3]="IMDb",r}(hu||{}),Mp=function(r){return r[r.Google=1]="Google",r[r.Facebook=2]="Facebook",r[r.Apple=3]="Apple",r}(Mp||{}),QT=new Uint8Array(16);function bv(){if(!Vh&&!(Vh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vh(QT)}const Ev=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var zs=[],wp=0;wp<256;++wp)zs.push((wp+256).toString(16).substr(1));const Pp=function Ip(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(zs[r[n+0]]+zs[r[n+1]]+zs[r[n+2]]+zs[r[n+3]]+"-"+zs[r[n+4]]+zs[r[n+5]]+"-"+zs[r[n+6]]+zs[r[n+7]]+"-"+zs[r[n+8]]+zs[r[n+9]]+"-"+zs[r[n+10]]+zs[r[n+11]]+zs[r[n+12]]+zs[r[n+13]]+zs[r[n+14]]+zs[r[n+15]]).toLowerCase();if(!function XT(r){return"string"==typeof r&&Ev.test(r)}(e))throw TypeError("Stringified UUID is invalid");return e},Ns=function tC(r,n,e){var i=(r=r||{}).random||(r.rng||bv)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(var o=0;o<16;++o)n[e+o]=i[o];return n}return Pp(i)};class Op{}let zi=(()=>{class r{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.listProcessGUIDs=[],this.configurationData=new Op,this.listProfiles=[],this.manageMenus=[],this.mediaMenu=[],this.pageNotFoundShowing=!1,this.mediaServers=[],this.libraries=[],this.linkedAccounts=[]}formatDate(e){const i=new Date(e);let o=""+(i.getMonth()+1),d=""+i.getDate();const m=i.getFullYear();return o.length<2&&(o="0"+o),d.length<2&&(d="0"+d),[m,o,d].join("-")}getInitials(e){return e.FullName.substring(0,1)}delay(e){return new Promise(i=>setTimeout(i,e))}hasRequireErrorFormControl(e,i){return!!e.controls[i].errors.required}isInvalidFormControl(e,i){return!(!e.controls[i].invalid||!e.controls[i].dirty&&!e.controls[i].touched)}hasErrorPatternFormControl(e,i){return!!e.controls[i].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemDetailMovieDataBase(e){return e.MediaItem.MetadataAgentsId==hu.TMDb?this.originalUrlImagesMovieDataBase+e.MediaItem.PosterPath:e.MediaItem.PosterPath}getUrlByItemMovieDataBase(e){return e.MetadataAgentsId==hu.TMDb?this.originalUrlImagesMovieDataBase+e.PosterPath:e.PosterPath}getYearByDateFormat(e){return new Date(e).getFullYear()}sort_by(e,i,o){let d=o?m=>o(m[e]):m=>m[e];return i=i?-1:1,(m,b)=>(m=d(m),b=d(b),i*(+(m>b)-+(b>m)))}validateEmailFormat(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Kr=(()=>{class r{constructor(e,i){this.http=e,this.sharedService=i}performExecuteMethod(e,i,o){return new Promise((d,m)=>{try{let b={responseType:"text"};if(this.sharedService.apiToken){const G=new U({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedService.apiToken});b.headers=G}e==ti.GET&&this.http.get(i,b).subscribe(w=>{d(w)},w=>{m(w)}),e==ti.POST&&this.http.post(i,o,b).subscribe(w=>{d(w)},w=>{m(w)}),e==ti.PUT&&this.http.put(i,o,b).subscribe(w=>{d(w)},w=>{m(w)}),e==ti.DELETE&&this.http.delete(i,b).subscribe(w=>{d(w)},w=>{m(w)})}catch(b){m(b)}})}executeSinovadApiService(e,i,o){let d=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+i;return new Promise((m,b)=>{try{this.performExecuteMethod(e,d,o).then(w=>{m(JSON.parse(w))},w=>{let G=w;if(null!=w.error){G=w.error;try{var re=JSON.parse(G);if(re.errors){let qe=re.errors,Xe=[];Object.keys(qe).map(pt=>{var St=qe[pt].join("\n");Xe.push(St)}),G=Xe.join("\n")}else re.Errors?G=re.Errors.map(qe=>qe.ErrorMessage).join("\n"):re.Message&&(G=re.Message)}catch{}}401==w.status&&this.sharedService.apiToken&&(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(G),b(G)})}catch(w){b(w)}})}executeHttpMediaServerApi(e,i,o){return new Promise((d,m)=>{try{this.performExecuteMethod(e,i,o).then(b=>{try{d(JSON.parse(b))}catch(w){m(w)}},b=>{m(b)})}catch(b){m(b)}})}executeHttpMethodByUrl(e,i,o){return new Promise((d,m)=>{this.performExecuteMethod(e,i,o).then(b=>{d(b)},b=>{m(b)})})}executeHttpPostMethodWithFormData(e,i){let o=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+e;return new Promise((d,m)=>{let b={responseType:"text"};if(this.sharedService.apiToken){const G=new U({Accept:"*/*",Authorization:"Bearer "+this.sharedService.apiToken});b.headers=G}this.http.post(o,i,b).subscribe(w=>{d(w)},w=>{m(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(fe),t.LFG(zi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),_f=(()=>{class r{constructor(e){this.restProvider=e}getAllGenres(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(ti.GET,"/genres/GetAllAsync").then(o=>{e(o)},o=>{console.error(o),i(o)})})}getItems(e,i,o,d,m,b){return new Promise((w,G)=>{let re=Ns();this.lastCallGuid=re;var ve="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(ti.GET,"/genres/GetAllWithPaginationAsync"+ve).then(Xe=>{this.lastCallGuid==re&&w(Xe)},Xe=>{console.error(Xe),G(Xe)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?ti.PUT:ti.POST,e.Id>0?"/genres/Update":"/genres/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.DELETE,"/genres/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let w=0;w<e.length;w++)d.push(e[w].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(ti.DELETE,"/genres/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function nC(r,n){1&r&&(t.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),t.qZA()()()()())}let la=(()=>{class r{constructor(e,i){this.ref=e,this.viewContainerRef=i,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(t.s_b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(i,o){1&i&&t.YNc(0,nC,17,0,"div",0),2&i&&t.Q6J("ngIf",o.showLoading)},dependencies:[g.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return r})();var _s=C(2032),Ni=C(4170);function vf(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function iC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,vf,4,0,"mat-error",8),t.qZA()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",11),t._uU(16,"Guardar"),t.qZA()()(),t._UZ(17,"app-custom-spinner",12)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.genreFormGroup),t.xp6(3),t.Oqu(e.genre&&e.genre.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.genreFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.genreFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let mu=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.genreService=d,this.showLoading=!1,this.matcher=new vt}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new Tt.NI(this.genre.Name,[Tt.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.genre));e.Name=this.genreFormGroup.value.name,this.genreService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",ft.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Tt.qu),t.Y36(os),t.Y36(Bo),t.Y36(_f))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,iC,18,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.genre&&o.genreFormGroup)},dependencies:[Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,Tt.sg,Tt.u,la,g.O5,_s.Nt,Ni.KE,Ni.hX,Ni.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();var Ta=C(5986),xc=C(5940),Ac=C(2596);function rC(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function oC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function sC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function Tv(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function Cv(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function Rp(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function yf(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function Sv(r,n){1&r&&t._UZ(0,"th",41)}function MM(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function Np(r,n){1&r&&t._UZ(0,"tr",47)}function pu(r,n){1&r&&t._UZ(0,"tr",48)}function Gh(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function Dv(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,Gh,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const xv=function(r){return{disable:r}},aC=function(){return[5,10,25,100]};let Av=(()=>{class r extends Rn{constructor(e,i,o,d,m,b){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.genreService=b,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Et;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(mu,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.genre=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Jt.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new Wt.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(Pt,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.genreService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",ft.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new Wt.vA;e.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Pt,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",ft.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,ft.Error)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(ba),t.Y36(Wt.uw),t.Y36(at.ye),t.Y36(Bo),t.Y36(_f))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(at.NW,5),t.Gf(Ht.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," G\xe9neros"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,rC,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,oC,2,2,"th",17),t.YNc(25,sC,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Tv,2,0,"th",20),t.YNc(28,Cv,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,Rp,2,0,"th",23),t.YNc(31,yf,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,Sv,1,0,"th",26),t.YNc(34,MM,6,0,"td",27),t.BQk(),t.YNc(35,Np,1,0,"tr",28),t.YNc(36,pu,1,0,"tr",29),t.YNc(37,Dv,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,xv,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,aC)))},dependencies:[g.mk,g.O5,at.NW,Jt.BZ,Jt.fO,Jt.as,Jt.w1,Jt.Dz,Jt.nj,Jt.ge,Jt.ev,Jt.XQ,Jt.Gk,Jt.Ee,_s.Nt,Ni.KE,Ni.hX,Ht.YE,Ht.nU,Ta.oG,xc.Ou,Ac.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return r})();var xr=C(5861),lC=C(4440),Qc=C.n(lC);let cC=(()=>{class r{constructor(e){this.restProvider=e}getDirectoriesByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMethodByUrl(ti.GET,e+"/api/directories").then(d=>{i(d)},d=>{console.error(d),o(d)})})}getSubdirectoriesByMediaServerAndDirectoryPath(e,i){return new Promise((o,d)=>{var m=Qc().encode(i);this.restProvider.executeHttpMethodByUrl(ti.GET,e+"/api/directories/"+m).then(b=>{o(b)},b=>{console.error(b),d(b)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Lp=function(r){return{"sinovad-directory-selected":r}};function gu(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickMainDirectory(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,Lp,i.selectedMainDirectory&&e.name==i.selectedMainDirectory.name)),t.xp6(1),t.hij(" ",e.name," ")}}function Mc(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickBackFolder())}),t._uU(1," <= .. [Regresar] "),t.qZA()}}function Mv(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickSubDirectory(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,Lp,i.selectedSubdirectory&&e.name==i.selectedSubdirectory.name)),t.xp6(1),t.hij(" ",e.name," ")}}let dC=(()=>{class r{constructor(e,i){this.directoryService=e,this.activeModal=i,this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(e=>{this.listMainDirectories=JSON.parse(e);let i=this.listMainDirectories[0];this.selectedMainDirectory=i,this.getSubdirectoriesByPath(i)})}getSubdirectoriesByPath(e){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,e.path).then(i=>{this.listSubdirectoriesTmp=JSON.parse(i)},i=>{console.error(i)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.path:this.selectedMainDirectory.path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.parentDirectory.isMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.parentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(e){this.selectedMainDirectory=e,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(e){if(null==this.selectedSubdirectory)this.selectedSubdirectory=e,this.selectedSubdirectory.parentDirectory=this.selectedMainDirectory;else{let i=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=e,this.selectedSubdirectory.parentDirectory=i}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(cC),t.Y36(os))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2,"Seleccionar directorio"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.closeModal()}),t._UZ(4,"i",3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6),t.YNc(8,gu,2,4,"ng-template",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,Mc,2,0,"button",9),t.YNc(11,Mv,2,4,"ng-template",7),t.qZA()()(),t.TgZ(12,"div",10)(13,"button",11),t.NdJ("click",function(){return o.closeModal()}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",12),t.NdJ("click",function(){return o.saveDirectory()}),t._uU(16,"Guardar"),t.qZA()()),2&i&&(t.xp6(8),t.Q6J("ngForOf",o.listMainDirectories),t.xp6(2),t.Q6J("ngIf",o.selectedSubdirectory),t.xp6(1),t.Q6J("ngForOf",o.listSubdirectoriesTmp))},dependencies:[g.mk,g.sg,g.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return r})();class uC{}let wM=(()=>{class r{constructor(e){this.restProvider=e}getByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMediaServerApi(ti.GET,e+"/api/transcoderSettings/GetAsync").then(m=>{i(m.Data)},m=>{console.error(m),o(m)})})}saveItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(ti.PUT,e+"/api/transcoderSettings/Save",i).then(b=>{o(!0)},b=>{console.error(b),d(b)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function IM(r,n){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}function wv(r,n){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}const Iv=function(r,n){return{load:r,disable:n}};function PM(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"form",6),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveTranscoder())}),t.TgZ(9,"div",5)(10,"label",7),t._uU(11,"M\xe9todo de transmisi\xf3n"),t.qZA(),t.TgZ(12,"select",8),t.YNc(13,IM,2,2,"ng-template",9),t.qZA(),t.TgZ(14,"p",10),t._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),t.qZA()(),t.TgZ(16,"div",5)(17,"label",7),t._uU(18,"Carpeta temporal para el transcodificador"),t.qZA(),t.TgZ(19,"input",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.TgZ(20,"p",10),t._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),t.qZA()(),t.TgZ(22,"div",5)(23,"label",7),t._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),t.qZA(),t.TgZ(25,"select",12),t.YNc(26,wv,2,2,"ng-template",9),t.qZA(),t.TgZ(27,"p",10),t._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),t.qZA()(),t.TgZ(29,"div",5)(30,"label",7),t._uU(31,"Factor de Tasa Constante"),t.qZA(),t._UZ(32,"input",13),t.TgZ(33,"p",10),t._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),t.qZA()(),t.TgZ(35,"div",14)(36,"button",15),t._UZ(37,"div",16),t.TgZ(38,"span",17),t._uU(39,"Guardar cambios"),t.qZA()(),t._UZ(40,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Transcodificador"),t.xp6(6),t.Q6J("formGroup",e.customForm),t.xp6(5),t.Q6J("ngForOf",e.transmissionMethodList),t.xp6(13),t.Q6J("ngForOf",e.presetList),t.xp6(10),t.Q6J("ngClass",t.WLB(5,Iv,e.loading,e.customForm.pristine||e.customForm.invalid))}}let kp=(()=>{class r{constructor(e,i,o,d,m,b,w,G){this.transcoderSettingsService=e,this.modalService=i,this.snackBarService=o,this.formBuilder=d,this.router=m,this.activeRoute=b,this.restProvider=w,this.sharedService=G,this.transmissionMethodList=[],this.presetList=[],this.loading=!1}ngOnInit(){this.getCatalogDetails(),this.getMediaServerData()}getCatalogDetails(){this.restProvider.executeSinovadApiService(ti.GET,"/catalogs/GetAllCatalogDetailsWithPaginationByCatalogIdsAsync?catalogIds="+Ea.TranscoderPreset+","+Ea.VideoTransmissionType).then(i=>{let o=i.Data;this.transmissionMethodList=o.filter(d=>d.CatalogId==Ea.VideoTransmissionType),this.presetList=o.filter(d=>d.CatalogId==Ea.TranscoderPreset)},i=>{console.error(i)})}ngAfterViewInit(){}getMediaServerData(){var e=this;return(0,xr.Z)(function*(){e.restProvider.executeSinovadApiService(ti.GET,"/mediaServers/GetByGuidAsync/"+e.activeRoute.snapshot.params.serverGuid).then(o=>{e.mediaServer=o.Data,e.getTranscoderSettingss()},o=>{e.router.navigateByUrl("/404")})})()}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(e=>{if(this.currentTranscoderSettingss=e,null==this.currentTranscoderSettingss){var i=new uC;i.TemporaryFolder="",i.ConstantRateFactor=18,i.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=i}this.customForm=this.formBuilder.group({temporaryFolder:new Tt.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new Tt.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new Tt.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new Tt.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},e=>{console.error(e)})}saveTranscoder(){this.loading=!0;var e=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));e.TemporaryFolder=this.customForm.value.temporaryFolder,e.ConstantRateFactor=this.customForm.value.constantRateFactor,e.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,e.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,e).then(i=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",ft.Success)},i=>{this.loading=!1,this.snackBarService.showSnackBar(i,ft.Error),console.error(i)})}showChooserDirectoryModal(){var e=this,i=this.modalService.open(dC,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.mediaServer=this.sharedService.selectedMediaServer,i.closed.subscribe(o=>{e.customForm.controls.temporaryFolder.setValue(o),e.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(wM),t.Y36(ba),t.Y36(Bo),t.Y36(Tt.qu),t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(Kr),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-transcode-settings"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"save",3,"ngClass"],[1,"loading"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"]],template:function(i,o){1&i&&t.YNc(0,PM,41,8,"div",0),2&i&&t.Q6J("ngIf",o.customForm)},dependencies:[g.mk,g.sg,g.O5,Tt._Y,Tt.YN,Tt.Kr,Tt.Fj,Tt.EJ,Tt.JJ,Tt.JL,Tt.sg,Tt.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.load[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{animation:auto;border-color:#cc7b19 transparent transparent #cc7b19;border-radius:50%;border-style:solid;border-width:2px;height:16px;margin:-8px 0 0 -8px;width:16px;border-left-color:#fff;border-top-color:#fff;left:-12px;position:absolute;top:50%;transition:left .2s;visibility:hidden;z-index:1}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return r})(),vs=(()=>{class r{constructor(e,i){this.domSanitizer=e,this.sharedService=i}transform(e,...i){return new Promise((o,d)=>{let b;switch(null!=i[0]?i[0]:""){case"GetImageURLByKey":null!=e&&""!=e&&(b=this.sharedService.configurationData.developerMode?"assets/icon/"+e:this.sharedService.urlSinovadCdn+"/assets/icon/"+e,o(b));break;case"GetAvatarImageURLByProfileId":null!=e&&""!=e&&fetch(this.sharedService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+e).then(G=>G.blob()).then(G=>{b=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(G)),o(b)});break;case"GetSoundUrlByKey":null!=e&&""!=e&&(b=this.sharedService.configurationData.developerMode?"assets/sound/"+e:this.sharedService.urlSinovadCdn+"/assets/sound/"+e,o(b))}})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(c.H7,16),t.Y36(zi,16))};static#t=this.\u0275pipe=t.Yjl({name:"formatDataPipe",type:r,pure:!0})}return r})(),Fp=(()=>{class r{constructor(e,i){this.router=e,this.sharedService=i}ngOnInit(){this.sharedService.pageNotFoundShowing=!0}goInitialPage(){this.router.navigateByUrl(null!=this.sharedService.apiToken?"/home":"/landing").then(i=>{this.sharedService.pageNotFoundShowing=!1},i=>{console.error(i)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"p",4),t._uU(7,"No encontramos la p\xe1gina que esta buscando"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return o.goInitialPage()}),t._uU(11,"Inicio"),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))},dependencies:[g.Ov,vs],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return r})();class Pv{}function Ov(r,n){if(1&r&&(t.TgZ(0,"h2",9),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMessage)}}function tr(r,n){1&r&&(t.TgZ(0,"h2"),t._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),t.qZA())}let Bp=(()=>{class r{constructor(e,i,o){this.router=e,this.activeRoute=i,this.restProvider=o,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let d=Qc().decode(e);var i=JSON.parse(d);if(i.ConfirmEmailToken){this.showLoading=!0;var o=new Pv;o.ConfirmEmailToken=i.ConfirmEmailToken,o.UserId=i.UserId,this.restProvider.executeSinovadApiService(ti.POST,"/users/ValidateConfirmEmailToken",o).then(m=>{this.showLoading=!1,this.showSuccessMessage=!0},m=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=m,console.error(m)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(Kr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Confirmaci\xf3n de Email "),t.qZA(),t.YNc(14,Ov,2,1,"ng-template",8),t.YNc(15,tr,2,0,"ng-template",8),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("src",t.lcZ(3,4,t.xi3(4,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("src",t.lcZ(10,9,t.xi3(11,11,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",o.showInvalidTokenMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage))},dependencies:[g.O5,g.Ov,vs],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return r})();class Rv{}class OM{}function fC(r,n){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function Nv(r,n){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const hC=function(r){return{disable:r}};function mC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirm())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Cambiar contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Contrase\xf1a "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,fC,3,0,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"label",13),t._uU(16," Confirmaci\xf3n de contrase\xf1a "),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",17),t.YNc(19,Nv,3,0,"label",16),t.qZA()(),t.TgZ(20,"div",12)(21,"button",18),t._uU(22,"Confirmar"),t.qZA()(),t.TgZ(23,"div",19),t._uU(24),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.resetPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,6,t.xi3(5,8,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"password")),t.xp6(6),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(11,hC,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function Lv(r,n){1&r&&(t.TgZ(0,"div",11),t._uU(1," Cambio de contrase\xf1a "),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),t.qZA())}function pC(r,n){1&r&&(t.TgZ(0,"div",11),t._uU(1," Validaci\xf3n de Token "),t.qZA(),t.TgZ(2,"h2",25),t._uU(3,"Token inv\xe1lido"),t.qZA())}function kv(r,n){if(1&r&&(t.TgZ(0,"div",22)(1,"div",23)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,Lv,4,0,"ng-template",24),t.YNc(7,pC,4,0,"ng-template",24),t.qZA()()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",e.showResetPasswordSuccessMessage),t.xp6(1),t.Q6J("ngIf",e.showInvalidTokenMessage)}}let Fv=(()=>{class r{constructor(e,i,o,d,m){this.formBuilder=e,this.router=i,this.activeRoute=o,this.restProvider=d,this.sharedService=m,this._window=window,this.showLoading=!1,this.resetPasswordModel=new Rv,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new Tt.NI("",[Tt.kI.required]),confirmPassword:new Tt.NI("",[Tt.kI.required])})}ngOnInit(){let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let d=Qc().decode(e);var i=JSON.parse(d);if(this.resetPasswordToken=i.ResetPasswordToken,this.userId=i.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var o=new OM;o.ResetPasswordToken=this.resetPasswordToken,o.UserId=this.userId,this.restProvider.executeSinovadApiService(ti.POST,"/users/ValidateResetPasswordToken",o).then(m=>{this.showResetPasswordForm=!0,this.showLoading=!1},m=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=m,console.error(m)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.restProvider.executeSinovadApiService(ti.POST,"/users/ResetPassword",this.resetPasswordModel).then(e=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Tt.qu),t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(Kr),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClickCloseButton()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,mC,25,13,"div",5),t.YNc(8,kv,8,8,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",o.showResetPasswordForm),t.xp6(1),t.Q6J("ngIf",!o.showResetPasswordForm&&(o.showInvalidTokenMessage||o.showResetPasswordSuccessMessage)),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,la,Tt.sg,Tt.u,g.Ov,vs],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class gC{}function RM(r,n){if(1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const Bv=function(r){return{disable:r}};function Uv(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SendRecoverPasswordEmail())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Olvido su contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,RM,3,1,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"button",17),t._uU(16,"Recuperar contrase\xf1a"),t.qZA()(),t.TgZ(17,"div",18),t._uU(18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.recoverPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,5,t.xi3(5,7,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.recoverPasswordForm,"email")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,Bv,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function Xc(r,n){1&r&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))}let xd=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.router=i,this.restProvider=o,this.sharedService=d,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new gC,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new Tt.NI("",[Tt.kI.required,Tt.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.restProvider.executeSinovadApiService(ti.POST,"/users/RecoverPassword",this.recoverPasswordModel).then(e=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Tt.qu),t.Y36(Vn.F0),t.Y36(Kr),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,Uv,19,12,"div",5),t.YNc(8,Xc,10,6,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",!o.sendedConfirmationEmail),t.xp6(1),t.Q6J("ngIf",o.sendedConfirmationEmail),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,la,Tt.sg,Tt.u,g.Ov,vs],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class jv{}class _C{}var bf=C(6878),Hl=C(9058),Ef=C(534),Tf=C(7879),Up=C(4537),_u=C(3093),Hh=C(940),jp=C(1374),Vv=C(4674);function Kh(r,n){return(0,Vv.m)(n)?(0,f.w)(()=>r,n):(0,f.w)(()=>r)}var Vp=C(5137),Cf=C(8186),Ad=C(6304);C(3182);const zh=new Map,Hv={activated:!1,tokenObservers:[]},CC={initialized:!1,enabled:!1};function mo(r){return zh.get(r)||Object.assign({},Hv)}function Zh(){return CC}const Hp="https://content-firebaseappcheck.googleapis.com/v1",Kl="exchangeDebugToken",$h={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Kv{constructor(n,e,i,o,d){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=o,o>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,xr.Z)(function*(){e.stop();try{e.pending=new Hl.BH,yield function MC(r){return new Promise(n=>{setTimeout(n,r)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new Hl.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ys=new Hl.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Sf(r){if(!mo(r).activated)throw ys.create("use-before-activation",{appName:r.name})}function xf(r,n){return qh.apply(this,arguments)}function qh(){return(qh=(0,xr.Z)(function*({url:r,body:n},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const ve=yield o.getHeartbeatsHeader();ve&&(i["X-Firebase-Client"]=ve)}const d={method:"POST",body:JSON.stringify(n),headers:i};let m,b;try{m=yield fetch(r,d)}catch(ve){throw ys.create("fetch-network-error",{originalErrorMessage:ve?.message})}if(200!==m.status)throw ys.create("fetch-status-error",{httpStatus:m.status});try{b=yield m.json()}catch(ve){throw ys.create("fetch-parse-error",{originalErrorMessage:ve?.message})}const w=b.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw ys.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const G=1e3*Number(w[1]),re=Date.now();return{token:b.token,expireTimeMillis:re+G,issuedAtTimeMillis:re}})).apply(this,arguments)}function Yl(r,n){const{projectId:e,appId:i,apiKey:o}=r.options;return{url:`${Hp}/projects/${e}/apps/${i}:${Kl}?key=${o}`,body:{debug_token:n}}}const wC="firebase-app-check-database",IC=1,wd="firebase-app-check-store";let Jh=null;function yu(){return(yu=(0,xr.Z)(function*(r,n){const i=(yield function $v(){return Jh||(Jh=new Promise((r,n)=>{try{const e=indexedDB.open(wC,IC);e.onsuccess=i=>{r(i.target.result)},e.onerror=i=>{var o;n(ys.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(wd,{keyPath:"compositeKey"})}}catch(e){n(ys.create("storage-open",{originalErrorMessage:e?.message}))}}),Jh)}()).transaction(wd,"readwrite"),d=i.objectStore(wd).put({compositeKey:r,value:n});return new Promise((m,b)=>{d.onsuccess=w=>{m()},i.onerror=w=>{var G;b(ys.create("storage-set",{originalErrorMessage:null===(G=w.target.error)||void 0===G?void 0:G.message}))}})})).apply(this,arguments)}const bu=new Tf.Yd("@firebase/app-check");function Xh(r,n){return(0,Hl.hl)()?function qv(r,n){return function vu(r,n){return yu.apply(this,arguments)}(function Wp(r){return`${r.options.appId}-${r.name}`}(r),n)}(r,n).catch(e=>{bu.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Zp(){return Zh().enabled}function em(){return tm.apply(this,arguments)}function tm(){return(tm=(0,xr.Z)(function*(){const r=Zh();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const LC={error:"UNKNOWN_ERROR"};function Af(r){return Hl.US.encodeString(JSON.stringify(r),!1)}function nm(r){return Qv.apply(this,arguments)}function Qv(){return(Qv=(0,xr.Z)(function*(r,n=!1){const e=r.app;Sf(e);const i=mo(e);let d,o=i.token;if(o&&!Pd(o)&&(i.token=void 0,o=void 0),!o){const w=yield i.cachedTokenPromise;w&&(Pd(w)?o=w:yield Xh(e,void 0))}if(!n&&o&&Pd(o))return{token:o.token};let b,m=!1;if(Zp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=xf(Yl(e,yield em()),r.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),m=!0);const w=yield i.exchangeTokenPromise;return yield Xh(e,w),i.token=w,{token:w.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),m=!0),o=yield mo(e).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?bu.warn(w.message):bu.error(w),d=w}return o?d?b=Pd(o)?{token:o.token,internalError:d}:im(d):(b={token:o.token},i.token=o,yield Xh(e,o)):b=im(d),m&&function ty(r,n){const e=mo(r).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(e,b),b})).apply(this,arguments)}function Xv(r){return $p.apply(this,arguments)}function $p(){return($p=(0,xr.Z)(function*(r){const n=r.app;Sf(n);const{provider:e}=mo(n);if(Zp()){const i=yield em(),{token:o}=yield xf(Yl(n,i),r.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function Jp(r,n){const e=mo(r),i=e.tokenObservers.filter(o=>o.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function ey(r){const{app:n}=r,e=mo(n);let i=e.tokenRefresher;i||(i=function kC(r){const{app:n}=r;return new Kv((0,xr.Z)(function*(){let i;if(i=mo(n).token?yield nm(r,!0):yield nm(r),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=mo(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},$h.RETRIAL_MIN_WAIT,$h.RETRIAL_MAX_WAIT)}(r),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Pd(r){return r.expireTimeMillis-Date.now()>0}function im(r){return{token:Af(LC),error:r}}class FC{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=mo(this.app);for(const e of n)Jp(this.app,e.next);return Promise.resolve()}}const Od="app-check-internal";!function Su(){(0,Ef._registerComponent)(new Up.wA("app-check",r=>function rm(r,n){return new FC(r,n)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,e)=>{r.getProvider(Od).initialize()})),(0,Ef._registerComponent)(new Up.wA(Od,r=>function BC(r){return{getToken:n=>nm(r,n),getLimitedUseToken:()=>Xv(r),addTokenListener:n=>function qp(r,n,e,i){const{app:o}=r,d=mo(o);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:i,type:n}],d.token&&Pd(d.token)){const b=d.token;Promise.resolve().then(()=>{e({token:b.token}),ey(r)}).catch(()=>{})}d.cachedTokenPromise.then(()=>ey(r))}(r,"INTERNAL",n),removeTokenListener:n=>Jp(r.app,n)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ef.registerVersion)("@firebase/app-check","0.8.0")}();class Nd{constructor(){return(0,Cf.vb)("app-check")}}typeof window<"u"&&window;var KM=C(7142);const qC=new t.OlP("angularfire2.auth.use-emulator"),YM=new t.OlP("angularfire2.auth.settings"),JC=new t.OlP("angularfire2.auth.tenant-id"),WM=new t.OlP("angularfire2.auth.langugage-code"),QC=new t.OlP("angularfire2.auth.use-device-language"),XC=new t.OlP("angularfire.auth.persistence");let Rf=(()=>{class r{constructor(e,i,o,d,m,b,w,G,re,ve,qe,Xe){const pt=new kt.x,St=(0,y.of)(void 0).pipe((0,_u.Q)(m.outsideAngular),(0,f.w)(()=>d.runOutsideAngular(()=>C.e(365).then(C.bind(C,6365)))),(0,D.U)(()=>(0,Ad.on)(e,d,i)),(0,D.U)(Ot=>((r,n,e,i,o,d,m,b)=>(0,Ad.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const w=n.runOutsideAngular(()=>r.auth());if(e&&w.useEmulator(...e),i&&(w.tenantId=i),w.languageCode=o,d&&w.useDeviceLanguage(),m)for(const[G,re]of Object.entries(m))w.settings[G]=re;return b&&w.setPersistence(b),w},[e,i,o,d,m,b]))(Ot,d,b,G,re,ve,w,qe)),(0,Hh.d)({bufferSize:1,refCount:!1}));if((0,g.PM)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,y.of)(null);else{St.pipe((0,jp.P)()).subscribe();const $t=St.pipe((0,f.w)(yn=>yn.getRedirectResult().then(Sn=>Sn,()=>null)),Cf.iC,(0,Hh.d)({bufferSize:1,refCount:!1})),fn=St.pipe((0,f.w)(yn=>new E.y(Sn=>({unsubscribe:d.runOutsideAngular(()=>yn.onAuthStateChanged(Un=>Sn.next(Un),Un=>Sn.error(Un),()=>Sn.complete()))})))),an=St.pipe((0,f.w)(yn=>new E.y(Sn=>({unsubscribe:d.runOutsideAngular(()=>yn.onIdTokenChanged(Un=>Sn.next(Un),Un=>Sn.error(Un),()=>Sn.complete()))}))));this.authState=$t.pipe(Kh(fn),(0,Vp.R)(m.outsideAngular),(0,_u.Q)(m.insideAngular)),this.user=$t.pipe(Kh(an),(0,Vp.R)(m.outsideAngular),(0,_u.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,f.w)(yn=>yn?(0,I.D)(yn.getIdToken()):(0,y.of)(null))),this.idTokenResult=this.user.pipe((0,f.w)(yn=>yn?(0,I.D)(yn.getIdTokenResult()):(0,y.of)(null))),this.credential=(0,no.T)($t,pt,this.authState.pipe((0,L.h)(yn=>!yn))).pipe((0,D.U)(yn=>yn?.user?yn:null),(0,Vp.R)(m.outsideAngular),(0,_u.Q)(m.insideAngular))}return(0,Ad.pX)(this,St,d,{spy:{apply:(Ot,$t,fn)=>{(Ot.startsWith("signIn")||Ot.startsWith("createUser"))&&fn.then(an=>pt.next(an))}}})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Ad.Dh),t.LFG(Ad.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(Cf.HU),t.LFG(qC,8),t.LFG(YM,8),t.LFG(JC,8),t.LFG(WM,8),t.LFG(QC,8),t.LFG(XC,8),t.LFG(Nd,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Nf=(()=>{class r{constructor(){KM.Z.registerVersion("angularfire",Cf.q4.full,"auth-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[Rf]}),r})(),Xp=(()=>{class r{constructor(e,i){this.restProvider=e,this.afAuth=i}validateUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.POST,"/authentication/ValidateUser",{UserName:e}).then(d=>{i(d)},d=>{o(d)})})}authenticateByLinkedAccount(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.POST,"/authentication/AuthenticateLinkedAccount",e).then(d=>{i(d)},d=>{o(d)})})}authenticateUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.POST,"/authentication/AuthenticateUser",e).then(d=>{i(d)},d=>{o(d)})})}authenticatePasswordAndConfirmLinkAccountToUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.POST,"/authentication/AuthenticatePasswordAndConfirmLinkAccountToUser",e).then(d=>{i(d)},d=>{o(d)})})}authenticateWithGoogle(){return this.authenticate(new bf.V)}authenticateWithFacebook(){return this.authenticate(new bf.U)}authenticateWithApple(){}authenticate(e){return new Promise((i,o)=>this.afAuth.signInWithPopup(e).then(d=>{i(d)}).catch(d=>{o(d)}))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr),t.LFG(Rf))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class Ic{}class eg{}class Du{}let Pc=(()=>{class r{constructor(e){this.restProvider=e,this.updateLibraries$=new kt.x}updateLibraries(){this.updateLibraries$.next(!0)}isUpdatingLibraries(){return this.updateLibraries$.asObservable()}getLibrariesByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMediaServerApi(ti.GET,e+"/api/libraries/GetAllLibraries").then(m=>{i(m.Data)},m=>{o(m)})})}saveItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(i.Id>0?ti.PUT:ti.POST,e+"/api"+(i.Id>0?"/libraries/Update":"/libraries/Create"),i).then(w=>{o(!0)},w=>{console.error(w),d(w)})})}deleteItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(ti.DELETE,e+"/api/libraries/Delete/"+i).then(b=>{o(b)},b=>{console.error(b),d(b)})})}deleteItems(e,i){return new Promise((o,d)=>{let m=[];for(let G=0;G<i.length;G++)m.push(i[G].Id);var b=m.join(",");this.restProvider.executeHttpMediaServerApi(ti.DELETE,e+"/api/libraries/DeleteList/"+b).then(G=>{o(G)},G=>{console.error(G),d(G)})})}searchFiles(e,i){return new Promise((o,d)=>{let m=Ns();this.restProvider.executeHttpMediaServerApi(ti.POST,e+"/api/libraries/SearchFiles",{Listlibraries:i,LogIdentifier:m}).then(G=>{o(G)},G=>{console.error(G),d(G)})})}getAllMediaItemsBySearchQuery(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(ti.GET,e+"/api/libraries/GetAllMediaItemsBySearchQuery?searchQuery="+i).then(b=>{o(b.Data)},b=>{d(b)})})}getAllMediaItems(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(ti.GET,e+"/api/libraries/GetAllMediaItems?profileId="+i).then(b=>{o(b.Data)},b=>{d(b)})})}getMediaItemsByLibrary(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(ti.GET,e+"/api/libraries/GetMediaItemsByLibrary?libraryId="+i+"&profileId="+o).then(w=>{d(w.Data)},w=>{m(w)})})}getMediaItemsByMediaType(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(ti.GET,e+"/api/libraries/GetMediaItemsByMediaType?mediaTypeId="+i+"&profileId="+o).then(w=>{d(w.Data)},w=>{m(w)})})}getMediaItemDetail(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(ti.GET,e+"/api/libraries/GetMediaItemDetail/"+i).then(b=>{o(b.Data)},b=>{d(b)})})}GetMediaItemDetailByMediaFileAndProfile(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(ti.GET,e+"/api/libraries/GetMediaItemDetailByMediaFileAndProfile?mediaFileId="+i+"&profileId="+o).then(w=>{d(w.Data)},w=>{m(w)})})}updateMediaFilePlayback(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(ti.PUT,e+"/api/libraries/UpdateMediaFilePlayback",i).then(b=>{o(b.Data)},b=>{d(b)})})}CreateBuilderVideoFromItem(e,i,o){let d=Ns();var m=e.ListMediaFiles[0],b=new eg;b.VideoId=m.Id,b.Title=e.MediaItem.ExtendedTitle,b.PhysicalPath=m.PhysicalPath,b.MediaServerId=i.Id,b.MediaServerUrl=i.Url,b.CurrentTime=o||0,b.ProcessGUID=d,b.TimeSpan=b.CurrentTime?b.CurrentTime.toString():"0";var w=new Du;return w.TranscodePrepareVideo=b,w.ItemDetail=e,w}CreateBuilderVideoFromEpisode(e,i,o,d){var m=this.GetTranscodeVideoFromEpisode(e,i,o,d);e.ListSeasons&&(e.CurrentSeason=e.ListSeasons.find(w=>w.SeasonNumber==i.SeasonNumber),e.CurrentEpisode=e.CurrentSeason.ListEpisodes.find(w=>w.EpisodeNumber==i.EpisodeNumber));var b=new Du;return b.TranscodePrepareVideo=m,b.ItemDetail=e,b}GetTranscodeVideoFromEpisode(e,i,o,d){var m=i.ListMediaFiles[0];let b=Ns();var w=new eg;return w.VideoId=m.Id,w.Title=e.MediaItem.Title,w.Subtitle="T"+i.SeasonNumber+":E"+i.EpisodeNumber+" "+i.Name,w.PhysicalPath=m.PhysicalPath,w.MediaServerId=o.Id,w.MediaServerUrl=o.Url,w.ProcessGUID=b,w.CurrentTime=d||0,w.TimeSpan=w.CurrentTime?w.CurrentTime.toString():"0",w}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),xu=(()=>{class r{constructor(e,i,o){this.libraryService=e,this.sharedService=i,this.restProvider=o,this.subscriptionUpdatingLibraries=this.libraryService.isUpdatingLibraries().subscribe(d=>{this.buildMediaMenuFromListLibraries()})}getMediaMenu(){var e=[],i=new Ic;i.SortOrder=e.length+1,i.Title="Inicio",i.Path="/home",i.IconClass="fa-house fa-solid",e.push(i);var o=new Ic;o.SortOrder=e.length+1,o.Title="Pel\xedculas",o.Path="/media/movies",o.IconClass="fa-film fa-solid",e.push(o);var d=new Ic;d.SortOrder=e.length+1,d.Title="Series",d.Path="/media/tvseries",d.IconClass="fa-tv fa-solid",e.push(d),this.sharedService.mediaMenu=e,this.sharedService.mediaServers.forEach(m=>{var b=new Ic;b.SortOrder=this.sharedService.mediaMenu.length+1,b.Title=null!=m.FamilyName&&""!=m.FamilyName?m.FamilyName:m.DeviceName,b.Path="/media/server/"+m.Guid,b.ChildMenus=[],b.MediaServerId=m.Id,this.sharedService.mediaMenu.push(b)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedService.mediaServers.forEach(e=>{var i=this.sharedService.mediaMenu.find(o=>o.MediaServerId==e.Id);e.isSecureConnection?this.libraryService.getLibrariesByMediaServer(e.Url).then(o=>{var d=[];o.forEach(m=>{var b=new Ic;b.SortOrder=d.length+1,b.Title=m.Name,b.Path="/media/server/"+e.Guid+"/libraries/"+m.Id,b.IconClass=m.MediaTypeCatalogDetailId==gl.Movie?"fa-film fa-solid":"fa-tv fa-solid",d.push(b)}),i.ChildMenus=d}):i.ChildMenus=[]})}getManageMenu(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(ti.GET,"/menus/GetByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.manageMenus=o.Data,e(!0)},o=>{i(o)})})}getAllMenus(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(ti.GET,"/menus/GetAllAsync").then(d=>{e(d)},d=>{console.error(d),i(d)})})}getItems(e,i,o,d,m,b){return new Promise((w,G)=>{let re=Ns();this.lastCallGuid=re;var ve="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(ti.GET,"/menus/GetAllWithPaginationAsync"+ve).then(Xe=>{this.lastCallGuid==re&&w(Xe)},Xe=>{console.error(Xe),G(Xe)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?ti.PUT:ti.POST,e.Id>0?"/menus/Update":"/menus/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.DELETE,"/menus/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let w=0;w<e.length;w++)d.push(e[w].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(ti.DELETE,"/menus/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Pc),t.LFG(zi),t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Lf=[0,2e3,1e4,3e4,null];class gy{constructor(n){this._retryDelays=void 0!==n?[...n,null]:Lf}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}}let kf=(()=>{class r{}return r.Authorization="Authorization",r.Cookie="Cookie",r})();class _y{constructor(n,e,i){this.statusCode=n,this.statusText=e,this.content=i}}class sm{get(n,e){return this.send({...e,method:"GET",url:n})}post(n,e){return this.send({...e,method:"POST",url:n})}delete(n,e){return this.send({...e,method:"DELETE",url:n})}getCookieString(n){return""}}class tg extends sm{constructor(n,e){super(),this._innerClient=n,this._accessTokenFactory=e}send(n){var e=this;return(0,xr.Z)(function*(){let i=!0;e._accessTokenFactory&&(!e._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(i=!1,e._accessToken=yield e._accessTokenFactory()),e._setAuthorizationHeader(n);const o=yield e._innerClient.send(n);return i&&401===o.statusCode&&e._accessTokenFactory?(e._accessToken=yield e._accessTokenFactory(),e._setAuthorizationHeader(n),yield e._innerClient.send(n)):o})()}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[kf.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[kf.Authorization]&&delete n.headers[kf.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}}class Oc extends Error{constructor(n,e){const i=new.target.prototype;super(`${n}: Status code '${e}'`),this.statusCode=e,this.__proto__=i}}class Au extends Error{constructor(n="A timeout occurred."){const e=new.target.prototype;super(n),this.__proto__=e}}class Wl extends Error{constructor(n="An abort occurred."){const e=new.target.prototype;super(n),this.__proto__=e}}class tS extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=i}}class nS extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=i}}class ng extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=i}}class iS extends Error{constructor(n){const e=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class vy extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.innerErrors=e,this.__proto__=i}}var Jn=function(r){return r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Information=2]="Information",r[r.Warning=3]="Warning",r[r.Error=4]="Error",r[r.Critical=5]="Critical",r[r.None=6]="None",r}(Jn||{});class Ff{constructor(){}log(n,e){}}Ff.instance=new Ff;const yy="7.0.10";class ss{static isRequired(n,e){if(null==n)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(n,e){if(!n||n.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(n,e,i){if(!(n in e))throw new Error(`Unknown ${i} value: ${n}.`)}}class as{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Bf(r,n){let e="";return Uf(r)?(e=`Binary data of length ${r.byteLength}`,n&&(e+=`. Content: '${function rS(r){const n=new Uint8Array(r);let e="";return n.forEach(i=>{e+=`0x${i<16?"0":""}${i.toString(16)} `}),e.substr(0,e.length-1)}(r)}'`)):"string"==typeof r&&(e=`String data of length ${r.length}`,n&&(e+=`. Content: '${r}'`)),e}function Uf(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&"ArrayBuffer"===r.constructor.name)}function ig(r,n,e,i,o,d){return jf.apply(this,arguments)}function jf(){return(jf=(0,xr.Z)(function*(r,n,e,i,o,d){const m={},[b,w]=Rc();m[b]=w,r.log(Jn.Trace,`(${n} transport) sending data. ${Bf(o,d.logMessageContent)}.`);const G=Uf(o)?"arraybuffer":"text",re=yield e.post(i,{content:o,headers:{...m,...d.headers},responseType:G,timeout:d.timeout,withCredentials:d.withCredentials});r.log(Jn.Trace,`(${n} transport) request complete. Response status: ${re.statusCode}.`)})).apply(this,arguments)}class oS{constructor(n,e){this._subject=n,this._observer=e}dispose(){const n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class Ld{constructor(n){this._minLevel=n,this.out=console}log(n,e){if(n>=this._minLevel){const i=`[${(new Date).toISOString()}] ${Jn[n]}: ${e}`;switch(n){case Jn.Critical:case Jn.Error:this.out.error(i);break;case Jn.Warning:this.out.warn(i);break;case Jn.Information:this.out.info(i);break;default:this.out.log(i)}}}}function Rc(){let r="X-SignalR-User-Agent";return as.isNode&&(r="User-Agent"),[r,og(yy,by(),as.isNode?"NodeJS":"Browser",sS())]}function og(r,n,e,i){let o="Microsoft SignalR/";const d=r.split(".");return o+=`${d[0]}.${d[1]}`,o+=` (${r}; `,o+=n&&""!==n?`${n}; `:"Unknown OS; ",o+=`${e}`,o+=i?`; ${i}`:"; Unknown Runtime Version",o+=")",o}function by(){if(!as.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function sS(){if(as.isNode)return process.versions.node}function Ey(r){return r.stack?r.stack:r.message?r.message:`${r}`}class lm extends sm{constructor(n){if(super(),this._logger=n,typeof fetch>"u"){const e=require;this._jar=new(e("tough-cookie").CookieJar),this._fetchType=e("node-fetch"),this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function am(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const e=require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}send(n){var e=this;return(0,xr.Z)(function*(){if(n.abortSignal&&n.abortSignal.aborted)throw new Wl;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");const i=new e._abortControllerType;let o;n.abortSignal&&(n.abortSignal.onabort=()=>{i.abort(),o=new Wl});let m,d=null;n.timeout&&(d=setTimeout(()=>{i.abort(),e._logger.log(Jn.Warning,"Timeout from HTTP request."),o=new Au},n.timeout)),""===n.content&&(n.content=void 0),n.content&&(n.headers=n.headers||{},n.headers["Content-Type"]=Uf(n.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{m=yield e._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:!0===n.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...n.headers},method:n.method,mode:"cors",redirect:"follow",signal:i.signal})}catch(G){throw o||(e._logger.log(Jn.Warning,`Error from HTTP request. ${G}.`),G)}finally{d&&clearTimeout(d),n.abortSignal&&(n.abortSignal.onabort=null)}if(!m.ok){const G=yield cm(m,"text");throw new Oc(G||m.statusText,m.status)}const w=yield cm(m,n.responseType);return new _y(m.status,m.statusText,w)})()}getCookieString(n){let e="";return as.isNode&&this._jar&&this._jar.getCookies(n,(i,o)=>e=o.join("; ")),e}}function cm(r,n){let e;switch(n){case"arraybuffer":e=r.arrayBuffer();break;case"text":default:e=r.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`)}return e}class Ty extends sm{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Wl):n.method?n.url?new Promise((e,i)=>{const o=new XMLHttpRequest;o.open(n.method,n.url,!0),o.withCredentials=void 0===n.withCredentials||n.withCredentials,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===n.content&&(n.content=void 0),n.content&&(Uf(n.content)?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const d=n.headers;d&&Object.keys(d).forEach(m=>{o.setRequestHeader(m,d[m])}),n.responseType&&(o.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{o.abort(),i(new Wl)}),n.timeout&&(o.timeout=n.timeout),o.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),o.status>=200&&o.status<300?e(new _y(o.status,o.statusText,o.response||o.responseText)):i(new Oc(o.response||o.responseText||o.statusText,o.status))},o.onerror=()=>{this._logger.log(Jn.Warning,`Error from HTTP request. ${o.status}: ${o.statusText}.`),i(new Oc(o.statusText,o.status))},o.ontimeout=()=>{this._logger.log(Jn.Warning,"Timeout from HTTP request."),i(new Au)},o.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class lS extends sm{constructor(n){if(super(),typeof fetch<"u"||as.isNode)this._httpClient=new lm(n);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new Ty(n)}}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Wl):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}}var bs=function(r){return r[r.None=0]="None",r[r.WebSockets=1]="WebSockets",r[r.ServerSentEvents=2]="ServerSentEvents",r[r.LongPolling=4]="LongPolling",r}(bs||{}),Zs=function(r){return r[r.Text=1]="Text",r[r.Binary=2]="Binary",r}(Zs||{});class sg{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class ag{constructor(n,e,i){this._httpClient=n,this._logger=e,this._pollAbort=new sg,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(n,e){var i=this;return(0,xr.Z)(function*(){if(ss.isRequired(n,"url"),ss.isRequired(e,"transferFormat"),ss.isIn(e,Zs,"transferFormat"),i._url=n,i._logger.log(Jn.Trace,"(LongPolling transport) Connecting."),e===Zs.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,d]=Rc(),m={[o]:d,...i._options.headers},b={abortSignal:i._pollAbort.signal,headers:m,timeout:1e5,withCredentials:i._options.withCredentials};e===Zs.Binary&&(b.responseType="arraybuffer");const w=`${n}&_=${Date.now()}`;i._logger.log(Jn.Trace,`(LongPolling transport) polling: ${w}.`);const G=yield i._httpClient.get(w,b);200!==G.statusCode?(i._logger.log(Jn.Error,`(LongPolling transport) Unexpected response code: ${G.statusCode}.`),i._closeError=new Oc(G.statusText||"",G.statusCode),i._running=!1):i._running=!0,i._receiving=i._poll(i._url,b)})()}_poll(n,e){var i=this;return(0,xr.Z)(function*(){try{for(;i._running;)try{const o=`${n}&_=${Date.now()}`;i._logger.log(Jn.Trace,`(LongPolling transport) polling: ${o}.`);const d=yield i._httpClient.get(o,e);204===d.statusCode?(i._logger.log(Jn.Information,"(LongPolling transport) Poll terminated by server."),i._running=!1):200!==d.statusCode?(i._logger.log(Jn.Error,`(LongPolling transport) Unexpected response code: ${d.statusCode}.`),i._closeError=new Oc(d.statusText||"",d.statusCode),i._running=!1):d.content?(i._logger.log(Jn.Trace,`(LongPolling transport) data received. ${Bf(d.content,i._options.logMessageContent)}.`),i.onreceive&&i.onreceive(d.content)):i._logger.log(Jn.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){i._running?o instanceof Au?i._logger.log(Jn.Trace,"(LongPolling transport) Poll timed out, reissuing."):(i._closeError=o,i._running=!1):i._logger.log(Jn.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{i._logger.log(Jn.Trace,"(LongPolling transport) Polling complete."),i.pollAborted||i._raiseOnClose()}})()}send(n){var e=this;return(0,xr.Z)(function*(){return e._running?ig(e._logger,"LongPolling",e._httpClient,e._url,n,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var n=this;return(0,xr.Z)(function*(){n._logger.log(Jn.Trace,"(LongPolling transport) Stopping polling."),n._running=!1,n._pollAbort.abort();try{yield n._receiving,n._logger.log(Jn.Trace,`(LongPolling transport) sending DELETE request to ${n._url}.`);const e={},[i,o]=Rc();e[i]=o;const d={headers:{...e,...n._options.headers},timeout:n._options.timeout,withCredentials:n._options.withCredentials};yield n._httpClient.delete(n._url,d),n._logger.log(Jn.Trace,"(LongPolling transport) DELETE request sent.")}finally{n._logger.log(Jn.Trace,"(LongPolling transport) Stop finished."),n._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(Jn.Trace,n),this.onclose(this._closeError)}}}class lg{constructor(n,e,i,o){this._httpClient=n,this._accessToken=e,this._logger=i,this._options=o,this.onreceive=null,this.onclose=null}connect(n,e){var i=this;return(0,xr.Z)(function*(){return ss.isRequired(n,"url"),ss.isRequired(e,"transferFormat"),ss.isIn(e,Zs,"transferFormat"),i._logger.log(Jn.Trace,"(SSE transport) Connecting."),i._url=n,i._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i._accessToken)}`),new Promise((o,d)=>{let b,m=!1;if(e===Zs.Text){if(as.isBrowser||as.isWebWorker)b=new i._options.EventSource(n,{withCredentials:i._options.withCredentials});else{const w=i._httpClient.getCookieString(n),G={};G.Cookie=w;const[re,ve]=Rc();G[re]=ve,b=new i._options.EventSource(n,{withCredentials:i._options.withCredentials,headers:{...G,...i._options.headers}})}try{b.onmessage=w=>{if(i.onreceive)try{i._logger.log(Jn.Trace,`(SSE transport) data received. ${Bf(w.data,i._options.logMessageContent)}.`),i.onreceive(w.data)}catch(G){return void i._close(G)}},b.onerror=w=>{m?i._close():d(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},b.onopen=()=>{i._logger.log(Jn.Information,`SSE connected to ${i._url}`),i._eventSource=b,m=!0,o()}}catch(w){return void d(w)}}else d(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(n){var e=this;return(0,xr.Z)(function*(){return e._eventSource?ig(e._logger,"SSE",e._httpClient,e._url,n,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}}class cg{constructor(n,e,i,o,d,m){this._logger=i,this._accessTokenFactory=e,this._logMessageContent=o,this._webSocketConstructor=d,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=m}connect(n,e){var i=this;return(0,xr.Z)(function*(){let o;return ss.isRequired(n,"url"),ss.isRequired(e,"transferFormat"),ss.isIn(e,Zs,"transferFormat"),i._logger.log(Jn.Trace,"(WebSockets transport) Connecting."),i._accessTokenFactory&&(o=yield i._accessTokenFactory()),new Promise((d,m)=>{let b;n=n.replace(/^http/,"ws");const w=i._httpClient.getCookieString(n);let G=!1;if(as.isNode||as.isReactNative){const re={},[ve,qe]=Rc();re[ve]=qe,o&&(re[kf.Authorization]=`Bearer ${o}`),w&&(re[kf.Cookie]=w),b=new i._webSocketConstructor(n,void 0,{headers:{...re,...i._headers}})}else o&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);b||(b=new i._webSocketConstructor(n)),e===Zs.Binary&&(b.binaryType="arraybuffer"),b.onopen=re=>{i._logger.log(Jn.Information,`WebSocket connected to ${n}.`),i._webSocket=b,G=!0,d()},b.onerror=re=>{let ve=null;ve=typeof ErrorEvent<"u"&&re instanceof ErrorEvent?re.error:"There was an error with the transport",i._logger.log(Jn.Information,`(WebSockets transport) ${ve}.`)},b.onmessage=re=>{if(i._logger.log(Jn.Trace,`(WebSockets transport) data received. ${Bf(re.data,i._logMessageContent)}.`),i.onreceive)try{i.onreceive(re.data)}catch(ve){return void i._close(ve)}},b.onclose=re=>{if(G)i._close(re);else{let ve=null;ve=typeof ErrorEvent<"u"&&re instanceof ErrorEvent?re.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",m(new Error(ve))}}})})()}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Jn.Trace,`(WebSockets transport) sending data. ${Bf(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Jn.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(n)||!1!==n.wasClean&&1e3===n.code?n instanceof Error?this.onclose(n):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)))}_isCloseEvent(n){return n&&"boolean"==typeof n.wasClean&&"number"==typeof n.code}}class Sy{constructor(n,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ss.isRequired(n,"url"),this._logger=function rg(r){return void 0===r?new Ld(Jn.Information):null===r?Ff.instance:void 0!==r.log?r:new Ld(r)}(e.logger),this.baseUrl=this._resolveUrl(n),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials,e.timeout=void 0===e.timeout?1e5:e.timeout;let i=null,o=null;if(as.isNode){const d=require;i=d("ws"),o=d("eventsource")}!as.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:as.isNode&&!e.WebSocket&&i&&(e.WebSocket=i),!as.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:as.isNode&&!e.EventSource&&typeof o<"u"&&(e.EventSource=o),this._httpClient=new tg(e.httpClient||new lS(this._logger),e.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}start(n){var e=this;return(0,xr.Z)(function*(){if(ss.isIn(n=n||Zs.Binary,Zs,"transferFormat"),e._logger.log(Jn.Debug,`Starting connection with transfer format '${Zs[n]}'.`),"Disconnected"!==e._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(e._connectionState="Connecting",e._startInternalPromise=e._startInternal(n),yield e._startInternalPromise,"Disconnecting"===e._connectionState){const i="Failed to start the HttpConnection before stop() was called.";return e._logger.log(Jn.Error,i),yield e._stopPromise,Promise.reject(new Wl(i))}if("Connected"!==e._connectionState){const i="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return e._logger.log(Jn.Error,i),Promise.reject(new Wl(i))}e._connectionStarted=!0})()}send(n){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new dm(this.transport)),this._sendQueue.send(n))}stop(n){var e=this;return(0,xr.Z)(function*(){return"Disconnected"===e._connectionState?(e._logger.log(Jn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===e._connectionState?(e._logger.log(Jn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),e._stopPromise):(e._connectionState="Disconnecting",e._stopPromise=new Promise(i=>{e._stopPromiseResolver=i}),yield e._stopInternal(n),void(yield e._stopPromise))})()}_stopInternal(n){var e=this;return(0,xr.Z)(function*(){e._stopError=n;try{yield e._startInternalPromise}catch{}if(e.transport){try{yield e.transport.stop()}catch(i){e._logger.log(Jn.Error,`HttpConnection.transport.stop() threw error '${i}'.`),e._stopConnection()}e.transport=void 0}else e._logger.log(Jn.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(n){var e=this;return(0,xr.Z)(function*(){let i=e.baseUrl;e._accessTokenFactory=e._options.accessTokenFactory,e._httpClient._accessTokenFactory=e._accessTokenFactory;try{if(e._options.skipNegotiation){if(e._options.transport!==bs.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");e.transport=e._constructTransport(bs.WebSockets),yield e._startTransport(i,n)}else{let o=null,d=0;do{if(o=yield e._getNegotiationResponse(i),"Disconnecting"===e._connectionState||"Disconnected"===e._connectionState)throw new Wl("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(i=o.url),o.accessToken){const m=o.accessToken;e._accessTokenFactory=()=>m,e._httpClient._accessToken=m,e._httpClient._accessTokenFactory=void 0}d++}while(o.url&&d<100);if(100===d&&o.url)throw new Error("Negotiate redirection limit exceeded.");yield e._createTransport(i,e._options.transport,o,n)}e.transport instanceof ag&&(e.features.inherentKeepAlive=!0),"Connecting"===e._connectionState&&(e._logger.log(Jn.Debug,"The HttpConnection connected successfully."),e._connectionState="Connected")}catch(o){return e._logger.log(Jn.Error,"Failed to start the connection: "+o),e._connectionState="Disconnected",e.transport=void 0,e._stopPromiseResolver(),Promise.reject(o)}})()}_getNegotiationResponse(n){var e=this;return(0,xr.Z)(function*(){const i={},[o,d]=Rc();i[o]=d;const m=e._resolveNegotiateUrl(n);e._logger.log(Jn.Debug,`Sending negotiation request: ${m}.`);try{const b=yield e._httpClient.post(m,{content:"",headers:{...i,...e._options.headers},timeout:e._options.timeout,withCredentials:e._options.withCredentials});if(200!==b.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${b.statusCode}'`));const w=JSON.parse(b.content);return(!w.negotiateVersion||w.negotiateVersion<1)&&(w.connectionToken=w.connectionId),w}catch(b){let w="Failed to complete negotiation with the server: "+b;return b instanceof Oc&&404===b.statusCode&&(w+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),e._logger.log(Jn.Error,w),Promise.reject(new iS(w))}})()}_createConnectUrl(n,e){return e?n+(-1===n.indexOf("?")?"?":"&")+`id=${e}`:n}_createTransport(n,e,i,o){var d=this;return(0,xr.Z)(function*(){let m=d._createConnectUrl(n,i.connectionToken);if(d._isITransport(e))return d._logger.log(Jn.Debug,"Connection was provided an instance of ITransport, using that directly."),d.transport=e,yield d._startTransport(m,o),void(d.connectionId=i.connectionId);const b=[],w=i.availableTransports||[];let G=i;for(const re of w){const ve=d._resolveTransportOrError(re,e,o);if(ve instanceof Error)b.push(`${re.transport} failed:`),b.push(ve);else if(d._isITransport(ve)){if(d.transport=ve,!G){try{G=yield d._getNegotiationResponse(n)}catch(qe){return Promise.reject(qe)}m=d._createConnectUrl(n,G.connectionToken)}try{return yield d._startTransport(m,o),void(d.connectionId=G.connectionId)}catch(qe){if(d._logger.log(Jn.Error,`Failed to start the transport '${re.transport}': ${qe}`),G=void 0,b.push(new ng(`${re.transport} failed: ${qe}`,bs[re.transport])),"Connecting"!==d._connectionState){const Xe="Failed to select transport before stop() was called.";return d._logger.log(Jn.Debug,Xe),Promise.reject(new Wl(Xe))}}}}return Promise.reject(b.length>0?new vy(`Unable to connect to the server with any of the available transports. ${b.join(" ")}`,b):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(n){switch(n){case bs.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new cg(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case bs.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new lg(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case bs.LongPolling:return new ag(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,e){return this.transport.onreceive=this.onreceive,this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(n,e)}_resolveTransportOrError(n,e,i){const o=bs[n.transport];if(null==o)return this._logger.log(Jn.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(!function Dy(r,n){return!r||0!=(n&r)}(e,o))return this._logger.log(Jn.Debug,`Skipping transport '${bs[o]}' because it was disabled by the client.`),new nS(`'${bs[o]}' is disabled by the client.`,o);if(!(n.transferFormats.map(m=>Zs[m]).indexOf(i)>=0))return this._logger.log(Jn.Debug,`Skipping transport '${bs[o]}' because it does not support the requested transfer format '${Zs[i]}'.`),new Error(`'${bs[o]}' does not support ${Zs[i]}.`);if(o===bs.WebSockets&&!this._options.WebSocket||o===bs.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Jn.Debug,`Skipping transport '${bs[o]}' because it is not supported in your environment.'`),new tS(`'${bs[o]}' is not supported in your environment.`,o);this._logger.log(Jn.Debug,`Selecting transport '${bs[o]}'.`);try{return this._constructTransport(o)}catch(m){return m}}_isITransport(n){return n&&"object"==typeof n&&"connect"in n}_stopConnection(n){if(this._logger.log(Jn.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(Jn.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),n?this._logger.log(Jn.Error,`Connection disconnected with error '${n}'.`):this._logger.log(Jn.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(Jn.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(e){this._logger.log(Jn.Error,`HttpConnection.onclose(${n}) threw error '${e}'.`)}}}else this._logger.log(Jn.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(n){if(0===n.lastIndexOf("https://",0)||0===n.lastIndexOf("http://",0))return n;if(!as.isBrowser)throw new Error(`Cannot resolve '${n}'.`);const e=window.document.createElement("a");return e.href=n,this._logger.log(Jn.Information,`Normalizing '${n}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(n){const e=n.indexOf("?");let i=n.substring(0,-1===e?n.length:e);return"/"!==i[i.length-1]&&(i+="/"),i+="negotiate",i+=-1===e?"":n.substring(e),-1===i.indexOf("negotiateVersion")&&(i+=-1===e?"?":"&",i+="negotiateVersion="+this._negotiateVersion),i}}class dm{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new Vf,this._transportResult=new Vf,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new Vf),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}_sendLoop(){var n=this;return(0,xr.Z)(function*(){for(;;){if(yield n._sendBufferedData.promise,!n._executing){n._transportResult&&n._transportResult.reject("Connection stopped.");break}n._sendBufferedData=new Vf;const e=n._transportResult;n._transportResult=void 0;const i="string"==typeof n._buffer[0]?n._buffer.join(""):dm._concatBuffers(n._buffer);n._buffer.length=0;try{yield n._transport.send(i),e.resolve()}catch(o){e.reject(o)}}})()}static _concatBuffers(n){const e=n.map(d=>d.byteLength).reduce((d,m)=>d+m),i=new Uint8Array(e);let o=0;for(const d of n)i.set(new Uint8Array(d),o),o+=d.byteLength;return i.buffer}}class Vf{constructor(){this.promise=new Promise((n,e)=>[this._resolver,this._rejecter]=[n,e])}resolve(){this._resolver()}reject(n){this._rejecter(n)}}class ka{static write(n){return`${n}${ka.RecordSeparator}`}static parse(n){if(n[n.length-1]!==ka.RecordSeparator)throw new Error("Message is incomplete.");const e=n.split(ka.RecordSeparator);return e.pop(),e}}ka.RecordSeparatorCode=30,ka.RecordSeparator=String.fromCharCode(ka.RecordSeparatorCode);class xy{writeHandshakeRequest(n){return ka.write(JSON.stringify(n))}parseHandshakeResponse(n){let e,i;if(Uf(n)){const b=new Uint8Array(n),w=b.indexOf(ka.RecordSeparatorCode);if(-1===w)throw new Error("Message is incomplete.");const G=w+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(b.slice(0,G))),i=b.byteLength>G?b.slice(G).buffer:null}else{const b=n,w=b.indexOf(ka.RecordSeparator);if(-1===w)throw new Error("Message is incomplete.");const G=w+1;e=b.substring(0,G),i=b.length>G?b.substring(G):null}const o=ka.parse(e),d=JSON.parse(o[0]);if(d.type)throw new Error("Expected a handshake response from the server.");return[i,d]}}var to=function(r){return r[r.Invocation=1]="Invocation",r[r.StreamItem=2]="StreamItem",r[r.Completion=3]="Completion",r[r.StreamInvocation=4]="StreamInvocation",r[r.CancelInvocation=5]="CancelInvocation",r[r.Ping=6]="Ping",r[r.Close=7]="Close",r}(to||{});class dg{constructor(){this.observers=[]}next(n){for(const e of this.observers)e.next(n)}error(n){for(const e of this.observers)e.error&&e.error(n)}complete(){for(const n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new oS(this,n)}}var Do=function(r){return r.Disconnected="Disconnected",r.Connecting="Connecting",r.Connected="Connected",r.Disconnecting="Disconnecting",r.Reconnecting="Reconnecting",r}(Do||{});class fm{constructor(n,e,i,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Jn.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ss.isRequired(n,"connection"),ss.isRequired(e,"logger"),ss.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=e,this._protocol=i,this.connection=n,this._reconnectPolicy=o,this._handshakeProtocol=new xy,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Do.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:to.Ping})}static create(n,e,i,o){return new fm(n,e,i,o)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==Do.Disconnected&&this._connectionState!==Do.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var n=this;return(0,xr.Z)(function*(){if(n._connectionState!==Do.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));n._connectionState=Do.Connecting,n._logger.log(Jn.Debug,"Starting HubConnection.");try{yield n._startInternal(),as.isBrowser&&window.document.addEventListener("freeze",n._freezeEventListener),n._connectionState=Do.Connected,n._connectionStarted=!0,n._logger.log(Jn.Debug,"HubConnection connected successfully.")}catch(e){return n._connectionState=Do.Disconnected,n._logger.log(Jn.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}})()}_startInternal(){var n=this;return(0,xr.Z)(function*(){n._stopDuringStartError=void 0,n._receivedHandshakeResponse=!1;const e=new Promise((i,o)=>{n._handshakeResolver=i,n._handshakeRejecter=o});yield n.connection.start(n._protocol.transferFormat);try{const i={protocol:n._protocol.name,version:n._protocol.version};if(n._logger.log(Jn.Debug,"Sending handshake request."),yield n._sendMessage(n._handshakeProtocol.writeHandshakeRequest(i)),n._logger.log(Jn.Information,`Using HubProtocol '${n._protocol.name}'.`),n._cleanupTimeout(),n._resetTimeoutPeriod(),n._resetKeepAliveInterval(),yield e,n._stopDuringStartError)throw n._stopDuringStartError;n.connection.features.inherentKeepAlive||(yield n._sendMessage(n._cachedPingMessage))}catch(i){throw n._logger.log(Jn.Debug,`Hub handshake failed with error '${i}' during start(). Stopping HubConnection.`),n._cleanupTimeout(),n._cleanupPingTimer(),yield n.connection.stop(i),i}})()}stop(){var n=this;return(0,xr.Z)(function*(){const e=n._startPromise;n._stopPromise=n._stopInternal(),yield n._stopPromise;try{yield e}catch{}})()}_stopInternal(n){return this._connectionState===Do.Disconnected?(this._logger.log(Jn.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Do.Disconnecting?(this._logger.log(Jn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Do.Disconnecting,this._logger.log(Jn.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Jn.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new Wl("The connection was stopped before the hub handshake could complete."),this.connection.stop(n)))}stream(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._createStreamInvocation(n,e,o);let m;const b=new dg;return b.cancelCallback=()=>{const w=this._createCancelInvocation(d.invocationId);return delete this._callbacks[d.invocationId],m.then(()=>this._sendWithProtocol(w))},this._callbacks[d.invocationId]=(w,G)=>{G?b.error(G):w&&(w.type===to.Completion?w.error?b.error(new Error(w.error)):b.complete():b.next(w.item))},m=this._sendWithProtocol(d).catch(w=>{b.error(w),delete this._callbacks[d.invocationId]}),this._launchStreams(i,m),b}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._sendMessage(this._protocol.writeMessage(n))}send(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._sendWithProtocol(this._createInvocation(n,e,!0,o));return this._launchStreams(i,d),d}invoke(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._createInvocation(n,e,!1,o);return new Promise((b,w)=>{this._callbacks[d.invocationId]=(re,ve)=>{ve?w(ve):re&&(re.type===to.Completion?re.error?w(new Error(re.error)):b(re.result):w(new Error(`Unexpected message type: ${re.type}`)))};const G=this._sendWithProtocol(d).catch(re=>{w(re),delete this._callbacks[d.invocationId]});this._launchStreams(i,G)})}on(n,e){!n||!e||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),-1===this._methods[n].indexOf(e)&&this._methods[n].push(e))}off(n,e){if(!n)return;n=n.toLowerCase();const i=this._methods[n];if(i)if(e){const o=i.indexOf(e);-1!==o&&(i.splice(o,1),0===i.length&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){const e=this._protocol.parseMessages(n,this._logger);for(const i of e)switch(i.type){case to.Invocation:this._invokeClientMethod(i);break;case to.StreamItem:case to.Completion:{const o=this._callbacks[i.invocationId];if(o){i.type===to.Completion&&delete this._callbacks[i.invocationId];try{o(i)}catch(d){this._logger.log(Jn.Error,`Stream callback threw error: ${Ey(d)}`)}}break}case to.Ping:break;case to.Close:{this._logger.log(Jn.Information,"Close message received from server.");const o=i.error?new Error("Server returned an error on close: "+i.error):void 0;!0===i.allowReconnect?this.connection.stop(o):this._stopPromise=this._stopInternal(o);break}default:this._logger.log(Jn.Warning,`Invalid message type: ${i.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let e,i;try{[i,e]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(o){const d="Error parsing handshake response: "+o;this._logger.log(Jn.Error,d);const m=new Error(d);throw this._handshakeRejecter(m),m}if(e.error){const o="Server returned handshake error: "+e.error;this._logger.log(Jn.Error,o);const d=new Error(o);throw this._handshakeRejecter(d),d}return this._logger.log(Jn.Debug,"Server handshake complete."),this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var n=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout((0,xr.Z)(function*(){if(n._connectionState===Do.Connected)try{yield n._sendMessage(n._cachedPingMessage)}catch{n._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(n){var e=this;return(0,xr.Z)(function*(){const i=n.target.toLowerCase(),o=e._methods[i];if(!o)return e._logger.log(Jn.Warning,`No client method with the name '${i}' found.`),void(n.invocationId&&(e._logger.log(Jn.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),yield e._sendWithProtocol(e._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null))));const d=o.slice(),m=!!n.invocationId;let b,w,G;for(const re of d)try{const ve=b;b=yield re.apply(e,n.arguments),m&&b&&ve&&(e._logger.log(Jn.Error,`Multiple results provided for '${i}'. Sending error to server.`),G=e._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),w=void 0}catch(ve){w=ve,e._logger.log(Jn.Error,`A callback for the method '${i}' threw error '${ve}'.`)}G?yield e._sendWithProtocol(G):m?(w?G=e._createCompletionMessage(n.invocationId,`${w}`,null):void 0!==b?G=e._createCompletionMessage(n.invocationId,null,b):(e._logger.log(Jn.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),G=e._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),yield e._sendWithProtocol(G)):b&&e._logger.log(Jn.Error,`Result given for '${i}' method but server is not expecting a result.`)})()}_connectionClosed(n){this._logger.log(Jn.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new Wl("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Do.Disconnecting?this._completeClose(n):this._connectionState===Do.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===Do.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=Do.Disconnected,this._connectionStarted=!1,as.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[n]))}catch(e){this._logger.log(Jn.Error,`An onclose callback called with error '${n}' threw error '${e}'.`)}}}_reconnect(n){var e=this;return(0,xr.Z)(function*(){const i=Date.now();let o=0,d=void 0!==n?n:new Error("Attempting to reconnect due to a unknown error."),m=e._getNextRetryDelay(o++,0,d);if(null===m)return e._logger.log(Jn.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void e._completeClose(n);if(e._connectionState=Do.Reconnecting,e._logger.log(Jn.Information,n?`Connection reconnecting because of error '${n}'.`:"Connection reconnecting."),0!==e._reconnectingCallbacks.length){try{e._reconnectingCallbacks.forEach(b=>b.apply(e,[n]))}catch(b){e._logger.log(Jn.Error,`An onreconnecting callback called with error '${n}' threw error '${b}'.`)}if(e._connectionState!==Do.Reconnecting)return void e._logger.log(Jn.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==m;){if(e._logger.log(Jn.Information,`Reconnect attempt number ${o} will start in ${m} ms.`),yield new Promise(b=>{e._reconnectDelayHandle=setTimeout(b,m)}),e._reconnectDelayHandle=void 0,e._connectionState!==Do.Reconnecting)return void e._logger.log(Jn.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield e._startInternal(),e._connectionState=Do.Connected,e._logger.log(Jn.Information,"HubConnection reconnected successfully."),0!==e._reconnectedCallbacks.length)try{e._reconnectedCallbacks.forEach(b=>b.apply(e,[e.connection.connectionId]))}catch(b){e._logger.log(Jn.Error,`An onreconnected callback called with connectionId '${e.connection.connectionId}; threw error '${b}'.`)}return}catch(b){if(e._logger.log(Jn.Information,`Reconnect attempt failed because of error '${b}'.`),e._connectionState!==Do.Reconnecting)return e._logger.log(Jn.Debug,`Connection moved to the '${e._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(e._connectionState===Do.Disconnecting&&e._completeClose());d=b instanceof Error?b:new Error(b.toString()),m=e._getNextRetryDelay(o++,Date.now()-i,d)}}e._logger.log(Jn.Information,`Reconnect retries have been exhausted after ${Date.now()-i} ms and ${o} failed attempts. Connection disconnecting.`),e._completeClose()})()}_getNextRetryDelay(n,e,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:n,retryReason:i})}catch(o){return this._logger.log(Jn.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${e}) threw error '${o}'.`),null}}_cancelCallbacksWithError(n){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach(i=>{const o=e[i];try{o(null,n)}catch(d){this._logger.log(Jn.Error,`Stream 'error' callback called with '${n}' threw error: ${Ey(d)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,e,i,o){if(i)return 0!==o.length?{arguments:e,streamIds:o,target:n,type:to.Invocation}:{arguments:e,target:n,type:to.Invocation};{const d=this._invocationId;return this._invocationId++,0!==o.length?{arguments:e,invocationId:d.toString(),streamIds:o,target:n,type:to.Invocation}:{arguments:e,invocationId:d.toString(),target:n,type:to.Invocation}}}_launchStreams(n,e){if(0!==n.length){e||(e=Promise.resolve());for(const i in n)n[i].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:o=>{let d;d=o instanceof Error?o.message:o&&o.toString?o.toString():"Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,d)))},next:o=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,o)))}})}}_replaceStreamingParams(n){const e=[],i=[];for(let o=0;o<n.length;o++){const d=n[o];if(this._isObservable(d)){const m=this._invocationId;this._invocationId++,e[m]=d,i.push(m.toString()),n.splice(o,1)}}return[e,i]}_isObservable(n){return n&&n.subscribe&&"function"==typeof n.subscribe}_createStreamInvocation(n,e,i){const o=this._invocationId;return this._invocationId++,0!==i.length?{arguments:e,invocationId:o.toString(),streamIds:i,target:n,type:to.StreamInvocation}:{arguments:e,invocationId:o.toString(),target:n,type:to.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:to.CancelInvocation}}_createStreamItemMessage(n,e){return{invocationId:n,item:e,type:to.StreamItem}}_createCompletionMessage(n,e,i){return e?{error:e,invocationId:n,type:to.Completion}:{invocationId:n,result:i,type:to.Completion}}}class My{constructor(){this.name="json",this.version=1,this.transferFormat=Zs.Text}parseMessages(n,e){if("string"!=typeof n)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];null===e&&(e=Ff.instance);const i=ka.parse(n),o=[];for(const d of i){const m=JSON.parse(d);if("number"!=typeof m.type)throw new Error("Invalid payload.");switch(m.type){case to.Invocation:this._isInvocationMessage(m);break;case to.StreamItem:this._isStreamItemMessage(m);break;case to.Completion:this._isCompletionMessage(m);break;case to.Ping:case to.Close:break;default:e.log(Jn.Information,"Unknown message type '"+m.type+"' ignored.");continue}o.push(m)}return o}writeMessage(n){return ka.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),void 0!==n.invocationId&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),void 0===n.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(n,e){if("string"!=typeof n||""===n)throw new Error(e)}}const wy={trace:Jn.Trace,debug:Jn.Debug,info:Jn.Information,information:Jn.Information,warn:Jn.Warning,warning:Jn.Warning,error:Jn.Error,critical:Jn.Critical,none:Jn.None};class Py{configureLogging(n){if(ss.isRequired(n,"logging"),function hm(r){return void 0!==r.log}(n))this.logger=n;else if("string"==typeof n){const e=function Iy(r){const n=wy[r.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${r}`)}(n);this.logger=new Ld(e)}else this.logger=new Ld(n);return this}withUrl(n,e){return ss.isRequired(n,"url"),ss.isNotEmpty(n,"url"),this.url=n,this.httpConnectionOptions="object"==typeof e?{...this.httpConnectionOptions,...e}:{...this.httpConnectionOptions,transport:e},this}withHubProtocol(n){return ss.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=n?Array.isArray(n)?new gy(n):n:new gy,this}build(){const n=this.httpConnectionOptions||{};if(void 0===n.logger&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new Sy(this.url,n);return fm.create(e,this.logger||Ff.instance,this.protocol||new My,this.reconnectPolicy)}}let zl=(()=>{class r{constructor(){this.updateMediaItems$=new kt.x}updateMediaItems(){this.updateMediaItems$.next(!0)}isUpdatingMediaItems(){return this.updateMediaItems$.asObservable()}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Gf=(()=>{class r{constructor(e,i,o,d,m){this.mediaService=e,this.menuService=i,this.libraryService=o,this.sharedService=d,this.restProvider=m}getMediaServers(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(ti.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.mediaServers=o.Data,this.menuService.getMediaMenu(),this.sharedService.mediaServers.forEach(m=>{this.executeGetLibrariesByMediaServer(m)}),e(!0)},o=>{i(o)})})}executeGetLibrariesByMediaServer(e){e.isSecureConnection?this.libraryService.getLibrariesByMediaServer(e.Url).then(i=>{e.ListLibraries=i,this.libraryService.updateLibraries(),this.mediaService.updateMediaItems()},i=>{}):(e.ListLibraries=[],this.libraryService.updateLibraries(),this.mediaService.updateMediaItems())}getMediaServerByGuid(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.GET,"/mediaServers/GetByGuidAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,b,w){return new Promise((G,re)=>{let ve=Ns();this.lastCallGuid=ve;var qe="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+b+"&searchBy="+w;this.restProvider.executeSinovadApiService(ti.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+e+qe).then(pt=>{this.lastCallGuid==ve&&G(pt)},pt=>{console.error(pt),re(pt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?ti.PUT:ti.POST,e.Id>0?"/mediaServers/Update":"/mediaServers/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.DELETE,"/mediaServers/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let w=0;w<e.length;w++)d.push(e[w].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(ti.DELETE,"/mediaServers/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(zl),t.LFG(xu),t.LFG(Pc),t.LFG(zi),t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Oy=(()=>{class r{constructor(e,i,o){this.mediaService=e,this.mediaServerService=i,this.sharedService=o}openConnection(){let e=this;return new Promise((i,o)=>{var d=(new Py).withUrl(this.sharedService.urlSinovadStreamWebApi+"/mediaServerHub",{skipNegotiation:!0,transport:bs.WebSockets}).build();d.start().then(()=>{console.log("connection started"),e.sharedService.hubConnection=d,e.setEvents(),i(!0)}).catch(m=>{console.error("error while establishing signalr connection: "+m),o(m)})})}stopConnection(){this.sharedService.hubConnection.off("UpdateMediaServers"),this.sharedService.hubConnection.off("EnableMediaServer"),this.sharedService.hubConnection.off("DisableMediaServer"),this.sharedService.hubConnection.off("UpdateLibrariesByMediaServer"),this.sharedService.hubConnection.off("UpdateItemsByMediaServer"),this.sharedService.hubConnection.off("UpdateItemsByMediaServerAndLibrary"),this.sharedService.hubConnection.stop()}setEvents(){this.sharedService.hubConnection.on("UpdateMediaServers",e=>{this.mediaServerService.getMediaServers()}),this.sharedService.hubConnection.on("EnableMediaServer",e=>{var i=this.sharedService.mediaServers.find(o=>o.Guid==e);i.isSecureConnection||(i.isSecureConnection=!0,this.mediaServerService.executeGetLibrariesByMediaServer(i))}),this.sharedService.hubConnection.on("DisableMediaServer",e=>{var i=this.sharedService.mediaServers.find(o=>o.Guid==e);i.isSecureConnection&&(i.isSecureConnection=!1,this.mediaServerService.executeGetLibrariesByMediaServer(i))}),this.sharedService.hubConnection.on("UpdateLibrariesByMediaServer",e=>{var i=this.sharedService.mediaServers.find(o=>o.Guid==e);i&&this.mediaServerService.executeGetLibrariesByMediaServer(i)}),this.sharedService.hubConnection.on("UpdateItemsByMediaServer",e=>{this.mediaService.updateMediaItems()}),this.sharedService.hubConnection.on("UpdateItemsByMediaServerAndLibrary",(e,i)=>{this.mediaService.updateMediaItems()}),this.sharedService.hubConnection.invoke("AddConnectionToUserClientsGroup",this.sharedService.userData.Guid).then(e=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(zl),t.LFG(Gf),t.LFG(zi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function fg(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function kd(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa el usuario correctamente "),t.qZA())}function hg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.validateUser())}),t.YNc(1,fg,2,1,"span",11),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Usuario"),t.qZA(),t._UZ(6,"input",14),t.YNc(7,kd,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Siguiente"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.loginWithGoogle())}),t._UZ(16,"img",2),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t._uU(19,"Continuar con Google"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.userFormGroup),t.xp6(1),t.Q6J("ngIf",e.errorMessage),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.userFormGroup.controls.username.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.userFormGroup.valid),t.xp6(7),t.Q6J("src",t.lcZ(17,6,t.xi3(18,8,"google.svg","GetImageURLByKey")),t.LSH)}}function cS(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function mg(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}const dS=function(r){return{disable:r}};function zM(r,n){if(1&r){const e=t.EpF();t.YNc(0,cS,2,1,"span",11),t.TgZ(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.authenticateUser())}),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Contrase\xf1a"),t.qZA(),t._UZ(6,"input",21),t.YNc(7,mg,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Iniciar sesi\xf3n"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showRecoverPasswordPage())}),t._uU(16,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngIf",e.errorMessage),t.xp6(1),t.Q6J("formGroup",e.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(6,dS,e.showLoading))}}function uS(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function fS(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}function Ry(r,n){if(1&r){const e=t.EpF();t.YNc(0,uS,2,1,"span",11),t.TgZ(1,"div",23)(2,"div",24),t._uU(3," Encontramos una cuenta de Sinovad Stream para "),t.TgZ(4,"div",25),t._uU(5),t.qZA()(),t._uU(6," Verifique su cuenta para continuar "),t.qZA(),t.TgZ(7,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.ConfirmLinkAccountToUser())}),t.TgZ(8,"div",12)(9,"mat-form-field",13)(10,"mat-label"),t._uU(11,"Contrase\xf1a"),t.qZA(),t._UZ(12,"input",21),t.YNc(13,fS,3,0,"mat-error",15),t.qZA()(),t.TgZ(14,"div",12)(15,"button",16),t._uU(16,"Confirmar"),t.qZA()()(),t.TgZ(17,"div",12)(18,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(19,"Cancelar"),t.qZA()(),t.TgZ(20,"div",12)(21,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showRecoverPasswordPage())}),t._uU(22,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngIf",e.errorMessage),t.xp6(5),t.hij(" ",e.confirmLinkAccountData.Email," "),t.xp6(2),t.Q6J("formGroup",e.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(7,dS,e.showLoading))}}let Ny=(()=>{class r{constructor(e,i,o,d,m,b){this.authenticationService=e,this.menuService=i,this.signalIRHubService=o,this.formBuilder=d,this.router=m,this.sharedService=b,this._window=window,this.showLoading=!1,this.user=new jv,this.userFormGroup=this.formBuilder.group({username:new Tt.NI("",[Tt.kI.required])}),this.passwordFormGroup=this.formBuilder.group({password:new Tt.NI("",[Tt.kI.required])}),this.matcher=new vt,this.showPasswordForm=!1,this.showConfirmLinkedAccountForm=!1}validateUser(){this.userFormGroup.valid?(this.showLoading=!0,this.user.UserName=this.userFormGroup.value.username,this.authenticationService.validateUser(this.user.UserName).then(e=>{this.showPasswordForm=!0,this.showLoading=!1,this.errorMessage=void 0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.userFormGroup.markAllAsTouched())}authenticateUser(){this.passwordFormGroup.valid?(this.user.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticateUser(this.user).then(e=>{this.setUserSessionDataAfterAuthenticate(e.Data)},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}loginWithGoogle(){this.showLoading=!0,this.errorMessage=void 0,this.authenticationService.authenticateWithGoogle().then(e=>{var i=new _C;i.AccessToken=e.credential.accessToken,i.LinkedAccountProviderCatalogId=Ea.LinkedAccountProvider,i.LinkedAccountProviderCatalogDetailId=Mp.Google,this.authenticationService.authenticateByLinkedAccount(i).then(o=>{var d=o.Data;d.ConfirmLinkAccountData?(this.showLoading=!1,this.confirmLinkAccountData=d.ConfirmLinkAccountData,this.showConfirmLinkedAccountForm=!0):this.setUserSessionDataAfterAuthenticate(d)},o=>{this.showLoading=!1})},e=>{console.error(e),this.showLoading=!1})}ConfirmLinkAccountToUser(){this.errorMessage=void 0,this.passwordFormGroup.valid?(this.confirmLinkAccountData.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticatePasswordAndConfirmLinkAccountToUser(this.confirmLinkAccountData).then(e=>{this.setUserSessionDataAfterAuthenticate(e.Data)},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}setUserSessionDataAfterAuthenticate(e){this.sharedService.apiToken=e.ApiToken,localStorage.setItem("apiToken",this.sharedService.apiToken);let i=e.UserData;this.sharedService.userData=i.User,this.sharedService.mediaServers=i.MediaServers,this.sharedService.listProfiles=i.Profiles,this.sharedService.linkedAccounts=i.LinkedAccounts,this.sharedService.currentProfile=i.Profiles[0],this.sharedService.showSplashScreen=!0,this.menuService.getManageMenu(),this.menuService.getMediaMenu(),this.signalIRHubService.openConnection(),this.router.navigate(["select-profile"],{skipLocationChange:!1})}loginWithFacebook(){this.showLoading=!0,this.authenticationService.authenticateWithFacebook().then(e=>{console.log(e),this.showLoading=!1},e=>{console.error(e),this.showLoading=!1})}loginWithApple(){}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Xp),t.Y36(xu),t.Y36(Oy),t.Y36(Tt.qu),t.Y36(Vn.F0),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:18,vars:16,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"login-container"],[1,"login-logo-container"],[1,"login-content"],[1,"login-form-container"],[1,"login-title-container"],[3,"ngIf"],[3,"showLoading"],["autocomplete","off",1,"login-form-content",3,"formGroup","ngSubmit"],["class","form-error-message",4,"ngIf"],[1,"mb-3"],[1,"login-form-field"],["id","title","matInput","","formControlName","username",3,"errorStateMatcher"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","google",3,"click"],[1,"form-error-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],["id","title","matInput","","formControlName","password","type","password",3,"errorStateMatcher"],[1,"btn","btn-secondary",3,"ngClass","click"],[1,"confirm-link-account-title"],[1,"confirm-link-account-message"],[1,"confirm-link-account-message-email"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"img",2),t.ALo(8,"async"),t.ALo(9,"formatDataPipe"),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7),t._uU(13," Inicia sesi\xf3n "),t.qZA(),t.YNc(14,hg,20,11,"ng-template",8),t.YNc(15,zM,17,8,"ng-template",8),t.YNc(16,Ry,23,9,"ng-template",8),t.qZA()()(),t._UZ(17,"app-custom-spinner",9)),2&i&&(t.xp6(2),t.Q6J("src",t.lcZ(3,6,t.xi3(4,8,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(8,11,t.xi3(9,13,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.showPasswordForm&&!o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",o.showPasswordForm&&!o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,la,_s.Nt,Ni.KE,Ni.hX,Ni.TO,Tt.sg,Tt.u,g.Ov,vs],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.form-error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:15px;justify-content:center;overflow:hidden;padding:20px 0;text-align:center;width:100%;border-bottom-width:2px;color:#f06464}.confirm-link-account-title[_ngcontent-%COMP%]{padding:30px 0;color:#282a2d;display:flex;flex-direction:column;font-size:13px}.confirm-link-account-message[_ngcontent-%COMP%]{color:#51595e;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;margin-bottom:30px;text-align:center}.confirm-link-account-message-email[_ngcontent-%COMP%]{color:#007bff;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;text-align:center}.login-container[_ngcontent-%COMP%]{text-align:-webkit-center;display:block!important;padding:100px 0;width:100%;height:100%;color:#fff;position:absolute}.login-logo-container[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;margin-bottom:20px;display:flex;align-items:center;justify-content:center;font-size:20px;max-width:300px}.login-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login-title-container[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px}.login-content[_ngcontent-%COMP%]{display:block;max-width:500px}.login-form-container[_ngcontent-%COMP%]{padding:40px 20px;border-radius:5px;background:white;color:#000;justify-content:center;align-items:center;margin-bottom:300px;height:100%}.login-form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-invalid-input-message[_ngcontent-%COMP%]{color:#d93025;margin-top:5px;font-size:13px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;opacity:.9}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:10px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.65}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.login-form-container[_ngcontent-%COMP%]   button.enter[_ngcontent-%COMP%]{background-color:#007bff}.login-form-container[_ngcontent-%COMP%]   button.recover[_ngcontent-%COMP%]{background-color:#2e303d}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#51595e}.login-form-container[_ngcontent-%COMP%]   button.facebook[_ngcontent-%COMP%]{background-color:#4267b2;color:#fff}.login-form-container[_ngcontent-%COMP%]   button.apple[_ngcontent-%COMP%]{background-color:#000;color:#fff}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]{display:block;color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:5px;padding:10px;color:#000;outline:rgba(0,0,0,.3)!important;background:white;border:none;font-size:14px;opacity:.8;height:35px;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{opacity:1;border:2px solid white}.sinovad-form-error-message-container[_ngcontent-%COMP%]{color:#f44336de!important;padding-bottom:10px}.login-form-content[_ngcontent-%COMP%]{max-width:300px;width:100%}.mb-3[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]})}return r})();class ls{}function Ly(r,n){if(1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function hS(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los nombres correctamente "),t.qZA())}function mS(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los apellidos correctamente "),t.qZA())}function ky(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function pS(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function Fy(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const Fd=function(r){return{error:r}},Mu=function(r){return{disable:r}};function gS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",9)(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.register())}),t.TgZ(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Reg\xedstrate "),t.qZA(),t.TgZ(8,"div",13)(9,"label",14),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",15),t._UZ(12,"input",16),t.YNc(13,Ly,3,1,"label",17),t.qZA()(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16," Nombres "),t.qZA(),t.TgZ(17,"div",15),t._UZ(18,"input",18),t.YNc(19,hS,3,0,"label",17),t.qZA()(),t.TgZ(20,"div",13)(21,"label",14),t._uU(22," Apellidos "),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",19),t.YNc(25,mS,3,0,"label",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28," Usuario "),t.qZA(),t.TgZ(29,"div",15),t._UZ(30,"input",20),t.YNc(31,ky,3,0,"label",17),t.qZA()(),t.TgZ(32,"div",13)(33,"label",14),t._uU(34," Contrase\xf1a "),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"input",21),t.YNc(37,pS,3,0,"label",17),t.qZA()(),t.TgZ(38,"div",13)(39,"label",14),t._uU(40," Confirmar contrase\xf1a "),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",22),t.YNc(43,Fy,3,0,"label",17),t.qZA()(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Registrar"),t.qZA()(),t.TgZ(47,"div",25),t._uU(48),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.registerUserForm),t.xp6(2),t.Q6J("src",t.lcZ(4,16,t.xi3(5,18,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(21,Fd,e.sharedService.isInvalidFormControl(e.registerUserForm,"email"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"email")),t.xp6(1),t.Q6J("ngClass",t.VKq(23,Fd,e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"firstName")),t.xp6(1),t.Q6J("ngClass",t.VKq(25,Fd,e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"lastName")),t.xp6(1),t.Q6J("ngClass",t.VKq(27,Fd,e.sharedService.isInvalidFormControl(e.registerUserForm,"username"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"username")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"username")),t.xp6(1),t.Q6J("ngClass",t.VKq(29,Fd,e.sharedService.isInvalidFormControl(e.registerUserForm,"password"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"password")),t.xp6(1),t.Q6J("ngClass",t.VKq(31,Fd,e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(33,Mu,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function _S(r,n){1&r&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Registro de Usuario "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))}let pg=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.router=i,this.restProvider=o,this.sharedService=d,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new ls,this.registerUserForm=this.formBuilder.group({email:new Tt.NI("",[Tt.kI.required,Tt.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new Tt.NI("",[Tt.kI.required]),lastName:new Tt.NI("",[Tt.kI.required]),username:new Tt.NI("",[Tt.kI.required]),password:new Tt.NI("",[Tt.kI.required]),confirmPassword:new Tt.NI("",[Tt.kI.required])})}ngOnInit(){}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.restProvider.executeSinovadApiService(ti.POST,"/users/Register",this.registerUserModel).then(e=>{console.log("Registrado exitosamente"),this.showLoading=!1,this.showSuccessMessage=!0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Tt.qu),t.Y36(Vn.F0),t.Y36(Kr),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,gS,49,35,"div",6),t.YNc(9,_S,10,6,"div",7),t.qZA()(),t._UZ(10,"app-custom-spinner",8)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",!o.showSuccessMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,la,Tt.sg,Tt.u,g.Ov,vs],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();const vS=["loginFormContainer"];let gg=(()=>{class r{constructor(e,i,o){this.router=e,this.activeRoute=i,this.sharedService=o,this._window=window,this.showLoading=!1}ngOnInit(){}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-landing"]],viewQuery:function(i,o){if(1&i&&t.Gf(vS,5),2&i){let d;t.iGM(d=t.CRH())&&(o.loginFormContainer=d.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.ALo(5,"async"),t.ALo(6,"formatDataPipe"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return o.showRegisterPage()}),t._uU(9,"REG\xcdSTRATE"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.showLoginPage()}),t._uU(11,"INICIA SESI\xd3N"),t.qZA()()()()()),2&i&&(t.xp6(4),t.Q6J("src",t.lcZ(5,1,t.xi3(6,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))},dependencies:[g.Ov,vs],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();const ZM=function(r,n){return{load:r,disable:n}};function _g(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),t._uU(10,"Privado"),t.qZA(),t.TgZ(11,"span",8)(12,"span",9),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",5)(15,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateMediaServer())}),t.TgZ(16,"div",5)(17,"label",11),t._uU(18,"Nombre Familiar"),t.qZA(),t._UZ(19,"input",12),t.TgZ(20,"p",13),t._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),t.qZA()(),t.TgZ(22,"div",14)(23,"button",15),t._UZ(24,"div",16),t.TgZ(25,"span",17),t._uU(26,"Guardar cambios"),t.qZA()(),t._UZ(27,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - General"),t.xp6(11),t.Oqu(e.mediaServer.Url),t.xp6(2),t.Q6J("formGroup",e.customForm),t.xp6(4),t.Q6J("placeholder",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName),t.xp6(4),t.Q6J("ngClass",t.WLB(5,ZM,e.loading,e.customForm.pristine||e.customForm.invalid))}}let mm=(()=>{class r{constructor(e,i,o,d,m,b,w){this.serverService=e,this.snackBarService=i,this.formBuilder=o,this.router=d,this.activeRoute=m,this.restProvider=b,this.sharedService=w,this.loading=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){this.getMediaServerData()}getMediaServerData(){var e=this;return(0,xr.Z)(function*(){e.serverService.getMediaServerByGuid(e.activeRoute.snapshot.params.serverGuid).then(o=>{var d=o.Data;e.sharedService.selectedMediaServer=d,e.mediaServer=d,e.customForm=e.formBuilder.group({familyName:new Tt.NI(e.mediaServer.FamilyName)})},o=>{e.router.navigateByUrl("/404")})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var i=JSON.parse(JSON.stringify(this.mediaServer));i.FamilyName=this.customForm.value.familyName,this.restProvider.executeSinovadApiService(ti.PUT,"/mediaServers/Update",i).then(o=>{this.loading=!1,this.serverService.getMediaServers(),this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",ft.Success)},o=>{this.loading=!1,console.error(o)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gf),t.Y36(Bo),t.Y36(Tt.qu),t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(Kr),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-server-setttings-general"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"save",3,"ngClass"],[1,"loading"],[1,"btn-label"],[1,"form-message"]],template:function(i,o){1&i&&t.YNc(0,_g,28,8,"div",0),2&i&&t.Q6J("ngIf",o.mediaServer)},dependencies:[g.mk,g.O5,Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,Tt.sg,Tt.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.load[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{animation:auto;border-color:#cc7b19 transparent transparent #cc7b19;border-radius:50%;border-style:solid;border-width:2px;height:16px;margin:-8px 0 0 -8px;width:16px;border-left-color:#fff;border-top-color:#fff;left:-12px;position:absolute;top:50%;transition:left .2s;visibility:hidden;z-index:1}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return r})();var da=C(3452);let yS=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[Tt.u5,Tt.UX,da.m,Vn.Bz]})}return r})(),By=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[Tt.u5,Tt.UX,da.m,Vn.Bz]})}return r})();var Zl=C(3002);let vl=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[g.ez,Tt.u5,yS,By,Tt.UX,da.m,Zl.VideoPageModule,Vn.Bz.forChild([])]})}return r})(),yl=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[g.ez,Tt.u5,Tt.UX,da.m]})}return r})();function Uy(r,n){1&r&&(t.TgZ(0,"div",27),t._UZ(1,"mat-spinner"),t.qZA())}function jy(r,n){1&r&&(t.TgZ(0,"th",28),t._uU(1,"N\xb0"),t.qZA())}function bS(r,n){if(1&r&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function ES(r,n){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre del dispositivo"),t.qZA())}function TS(r,n){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.DeviceName," ")}}function CS(r,n){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre familiar"),t.qZA())}function vg(r,n){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.FamilyName," ")}}function Hf(r,n){1&r&&(t.TgZ(0,"th",32),t._uU(1,"IP Privada"),t.qZA())}function SS(r,n){if(1&r&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.IpAddress," ")}}function Vy(r,n){1&r&&(t.TgZ(0,"th",34),t._uU(1,"Puerto"),t.qZA())}function DS(r,n){if(1&r&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Port," ")}}function xS(r,n){1&r&&t._UZ(0,"tr",36)}function Gy(r,n){1&r&&t._UZ(0,"tr",37)}function Hy(r,n){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function pm(r,n){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,Hy,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const AS=function(){return[5,10,25,100]};let Ky=(()=>{class r extends Rn{constructor(e,i,o,d){super(o),this.dialog=e,this.mediaServerService=i,this.matPaginatorIntl=o,this.snackbarService=d}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Jt.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new Wt.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+e.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+e.DeviceName+"'"},this.dialog.open(Pt,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.mediaServerService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",ft.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new Wt.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Pt,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",ft.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,ft.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Wt.uw),t.Y36(Gf),t.Y36(at.ye),t.Y36(Bo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(at.NW,5),t.Gf(Ht.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,Uy,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,jy,2,0,"th",11),t.YNc(18,bS,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,ES,2,0,"th",14),t.YNc(21,TS,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,CS,2,0,"th",14),t.YNc(24,vg,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,Hf,2,0,"th",18),t.YNc(27,SS,2,1,"td",19),t.BQk(),t.ynx(28,20),t.YNc(29,Vy,2,0,"th",21),t.YNc(30,DS,2,1,"td",22),t.BQk(),t.YNc(31,xS,1,0,"tr",23),t.YNc(32,Gy,1,0,"tr",24),t.YNc(33,pm,2,1,"tr",25),t.qZA()()()()(),t.TgZ(34,"div",1)(35,"div",3),t._UZ(36,"mat-paginator",26),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.UserName," : Servidores multimedia"),t.xp6(10),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(7,AS)))},dependencies:[g.O5,at.NW,Jt.BZ,Jt.fO,Jt.as,Jt.w1,Jt.Dz,Jt.nj,Jt.ge,Jt.ev,Jt.XQ,Jt.Gk,Jt.Ee,_s.Nt,Ni.KE,Ni.hX,Ht.YE,Ht.nU,xc.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return r})();function Yy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"h5",2),t.TgZ(2,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(3,"i",4),t.qZA()(),t.TgZ(4,"div",5),t._UZ(5,"app-media-server-list",6),t.qZA(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(8,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("parentItem",e.parent)}}let Wy=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(os))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,Yy,9,1,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,Ky]})}return r})(),wu=(()=>{class r{constructor(e){this.elementRef=e,this.clickOutside=new t.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(e,i){i&&(this.elementRef.nativeElement.contains(i)||this.clickOutside.emit(e))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.SBq))};static#t=this.\u0275dir=t.lG2({type:r,selectors:[["","clickOutside",""]],hostBindings:function(i,o){1&i&&t.NdJ("click",function(m){return o.onClick(m,m.target)},!1,t.Jf7)("contextmenu",function(){return o.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return r})();function MS(r,n){if(1&r&&t._UZ(0,"img",7),2&r){const e=t.oxw().$implicit;t.Q6J("src",e.imageUrl,t.LSH)}}function yg(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.iconClass)}}function gm(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickContextMenuOption(d))}),t.TgZ(1,"div",3),t.YNc(2,MS,1,1,"img",4),t.YNc(3,yg,1,3,"i",5),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit;t.Udp("border-bottom",e.showBorderBottom?"1px solid black":""),t.xp6(2),t.Q6J("ngIf",e.imageUrl),t.xp6(1),t.Q6J("ngIf",e.iconClass),t.xp6(2),t.hij(" ",e.text," ")}}let Zy=(()=>{class r{constructor(){this.hideContextMenu=new t.vpe,this.clickOption=new t.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(e){this.clickOption.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(){return o.onClickOutside()}),t.YNc(1,gm,6,5,"ng-template",1),t.qZA()),2&i&&(t.Udp("top",o.top+"px")("left",o.left+"px"),t.xp6(1),t.Q6J("ngForOf",o.listOptions))},dependencies:[g.sg,g.O5,wu],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return r})(),$y=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o}show(e,i,o,d){return new Promise((m,b)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const G=this.factoryResolver.resolveComponentFactory(Zy).create(this.injector);this.lastViewRef=G.hostView,this.applicationRef.attachView(G.hostView);let re=this;G.instance.left=i,G.instance.top=o,G.instance.listOptions=d,G.instance.clickOption.subscribe(Xe=>{G.destroy(),re.applicationRef.detachView(G.hostView),m(Xe)}),G.instance.hideContextMenu.subscribe(Xe=>{G.destroy(),re.applicationRef.detachView(G.hostView),b(!0)});const ve=G.hostView.rootNodes[0];document.getElementById(e).appendChild(ve)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),_m=(()=>{class r{constructor(e,i,o,d){this.menuService=e,this.signalIRHubService=i,this.sharedService=o,this.restProvider=d}clearSessionData(){this.sharedService.manageMenus=[],this.sharedService.mediaMenu=[],this.sharedService.currentProfile=void 0,this.sharedService.userData=void 0,this.sharedService.apiToken=void 0,this.signalIRHubService.stopConnection(),localStorage.removeItem("apiToken")}getUser(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(ti.GET,"/users/GetUserData").then(o=>{let d=o.Data;this.sharedService.userData=d.User,this.sharedService.mediaServers=d.MediaServers,this.menuService.getMediaMenu(),this.sharedService.linkedAccounts=d.LinkedAccounts,this.sharedService.listProfiles=d.Profiles,this.sharedService.currentProfile=d.Profiles[0],this.signalIRHubService.openConnection(),null==this.sharedService.userData?(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken")):e(!0)},o=>{console.error(o),i(o)})})}getItems(e,i,o,d,m,b){return new Promise((w,G)=>{let re=Ns();this.lastCallGuid=re;var ve="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(ti.GET,"/users/GetAllWithPaginationAsync"+ve).then(Xe=>{this.lastCallGuid==re&&w(Xe)},Xe=>{console.error(Xe),G(Xe)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?ti.PUT:ti.POST,e.Id>0?"/users/Update":"/users/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.DELETE,"/users/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let w=0;w<e.length;w++)d.push(e[w].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(ti.DELETE,"/users/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(xu),t.LFG(Oy),t.LFG(zi),t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function qy(r,n){1&r&&(t.TgZ(0,"div",26),t._UZ(1,"mat-spinner"),t.qZA())}function Jy(r,n){1&r&&(t.TgZ(0,"th",27),t._uU(1,"N\xb0"),t.qZA())}function Qy(r,n){if(1&r&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function Xy(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Usuario "),t.qZA())}function e0(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.UserName," ")}}function wS(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Correo "),t.qZA())}function IS(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Email," ")}}function PS(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Nombres "),t.qZA())}function OS(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.FirstName," ")}}function RS(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Apellidos "),t.qZA())}function NS(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.LastName," ")}}function LS(r,n){1&r&&t._UZ(0,"th",31)}function kS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",32)(1,"div",33)(2,"button",34),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(3,"i",35),t.qZA()()()}}function FS(r,n){1&r&&t._UZ(0,"tr",36)}const BS=function(r){return{active:r}};function US(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"tr",37),t.NdJ("contextmenu",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onContextMenuItem(o,m))}),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(1,BS,i.lastSelectedItem&&e.Id==i.lastSelectedItem.Id))}}function jS(r,n){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function VS(r,n){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,jS,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const GS=function(){return[5,10,25,100]};let t0=(()=>{class r extends Rn{constructor(e,i,o,d,m,b,w){super(b),this.router=e,this.modalService=i,this.contextMenuService=o,this.dialog=d,this.userService=m,this.matPaginatorIntl=b,this.snackbarService=w}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Jt.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new Wt.vA;i.data={title:"Eliminar usuario",message:"\xbfEsta seguro que desea eliminar el usuario "+e.UserName+"?",accordMessage:"Si, eliminar el usuario '"+e.UserName+"'"},this.dialog.open(Pt,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.userService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",ft.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new Wt.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Pt,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",ft.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,ft.Error)})}getDisplayedColumns(){return window.innerWidth>950?["Id","UserName","Email","FirstName","LastName","Actions"]:window.innerWidth>600?["Id","UserName","Email","FirstName","Actions"]:window.innerWidth>475?["Id","UserName","Email","Actions"]:(window,["Id","UserName","Actions"])}onContextMenuItem(e,i){this.lastSelectedItem=i,e.preventDefault(),e.stopPropagation();let o=[];o.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),o&&o.length>0&&this.renderContextMenuComponent(e.clientX,e.clientY,o,i)}renderContextMenuComponent(e,i,o,d){this.contextMenuService.show("sinovadMainContainer",e,i,o).then(m=>{"ShowMediaServers"==m.key&&this.showMediaServerListModal(d)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(e){var i=this,o=this.modalService.open(Wy,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{i.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(ba),t.Y36($y),t.Y36(Wt.uw),t.Y36(_m),t.Y36(at.ye),t.Y36(Bo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(at.NW,5),t.Gf(Ht.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:40,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Usuarios"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,qy,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,Jy,2,0,"th",11),t.YNc(18,Qy,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,Xy,2,0,"th",14),t.YNc(21,e0,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,wS,2,0,"th",14),t.YNc(24,IS,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,PS,2,0,"th",14),t.YNc(27,OS,2,1,"td",15),t.BQk(),t.ynx(28,18),t.YNc(29,RS,2,0,"th",14),t.YNc(30,NS,2,1,"td",15),t.BQk(),t.ynx(31,19),t.YNc(32,LS,1,0,"th",20),t.YNc(33,kS,4,0,"td",21),t.BQk(),t.YNc(34,FS,1,0,"tr",22),t.YNc(35,US,1,3,"tr",23),t.YNc(36,VS,2,1,"tr",24),t.qZA()()()()(),t.TgZ(37,"div",1)(38,"div",3),t._UZ(39,"mat-paginator",25),t.qZA()()()()),2&i&&(t.xp6(13),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(6,GS)))},dependencies:[g.mk,g.O5,at.NW,Jt.BZ,Jt.fO,Jt.as,Jt.w1,Jt.Dz,Jt.nj,Jt.ge,Jt.ev,Jt.XQ,Jt.Gk,Jt.Ee,_s.Nt,Ni.KE,Ni.hX,Ht.YE,Ht.nU,xc.Ou,Ac.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class HS{}let n0=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,b){return new Promise((w,G)=>{let re=Ns();this.lastCallGuid=re;var ve="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(ti.GET,"/roles/GetAllWithPaginationAsync"+ve).then(Xe=>{this.lastCallGuid==re&&w(Xe)},Xe=>{console.error(Xe),G(Xe)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?ti.PUT:ti.POST,e.Id>0?"/roles/Update":"/roles/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.DELETE,"/roles/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let w=0;w<e.length;w++)d.push(e[w].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(ti.DELETE,"/roles/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function r0(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function o0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,r0,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-checkbox",9),t._uU(13,"Activo"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(16,"Close"),t.qZA(),t.TgZ(17,"button",12),t._uU(18,"Guardar"),t.qZA()()(),t._UZ(19,"app-custom-spinner",13)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.roleFormGroup),t.xp6(3),t.Oqu(e.role&&e.role.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.roleFormGroup.controls.name.hasError("required")),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.roleFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let s0=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.roleService=d,this.showLoading=!1,this.matcher=new vt}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new Tt.NI(this.role.Name,[Tt.kI.required]),enabled:new Tt.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.role));e.Name=this.roleFormGroup.value.name,e.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(e).then(i=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",ft.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Tt.qu),t.Y36(os),t.Y36(Bo),t.Y36(n0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,o0,20,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.role&&o.roleFormGroup)},dependencies:[Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,Tt.sg,Tt.u,la,g.O5,_s.Nt,Ni.KE,Ni.hX,Ni.TO,Ta.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function a0(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function l0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function c0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function d0(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function u0(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function f0(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function bg(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function Eg(r,n){1&r&&t._UZ(0,"th",41)}function Bd(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function KS(r,n){1&r&&t._UZ(0,"tr",47)}function YS(r,n){1&r&&t._UZ(0,"tr",48)}function Iu(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function $M(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,Iu,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const Tg=function(r){return{disable:r}},qM=function(){return[5,10,25,100]};let Cg=(()=>{class r extends Rn{constructor(e,i,o,d,m,b){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.roleService=b,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new HS;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(s0,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.role=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Jt.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new Wt.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(Pt,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.roleService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",ft.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new Wt.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Pt,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",ft.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,ft.Error)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(ba),t.Y36(Wt.uw),t.Y36(at.ye),t.Y36(Bo),t.Y36(n0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(at.NW,5),t.Gf(Ht.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Roles"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,a0,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,l0,2,2,"th",17),t.YNc(25,c0,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,d0,2,0,"th",20),t.YNc(28,u0,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,f0,2,0,"th",23),t.YNc(31,bg,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,Eg,1,0,"th",26),t.YNc(34,Bd,6,0,"td",27),t.BQk(),t.YNc(35,KS,1,0,"tr",28),t.YNc(36,YS,1,0,"tr",29),t.YNc(37,$M,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,Tg,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,qM)))},dependencies:[g.mk,g.O5,at.NW,Jt.BZ,Jt.fO,Jt.as,Jt.w1,Jt.Dz,Jt.nj,Jt.ge,Jt.ev,Jt.XQ,Jt.Gk,Jt.Ee,_s.Nt,Ni.KE,Ni.hX,Ht.YE,Ht.nU,Ta.oG,xc.Ou,Ac.gM]})}return r})();var Sg=C(3680),WS=C(8525);function Pu(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function zS(r,n){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function ZS(r,n){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Title," ")}}function $S(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,Pu,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Path"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"N\xfamero de Orden"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Tipo de \xcdcono"),t.qZA(),t.TgZ(23,"mat-select",11)(24,"mat-option",12),t._uU(25,"--"),t.qZA(),t.YNc(26,zS,2,2,"mat-option",13),t.qZA()(),t.TgZ(27,"mat-form-field")(28,"mat-label"),t._uU(29,"Icon Class"),t.qZA(),t._UZ(30,"input",14),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"Menu Padre"),t.qZA(),t.TgZ(34,"mat-select",15)(35,"mat-option",12),t._uU(36,"--"),t.qZA(),t.YNc(37,ZS,2,2,"mat-option",13),t.qZA()(),t.TgZ(38,"mat-checkbox",16),t._uU(39,"Activo"),t.qZA()(),t.TgZ(40,"div",17)(41,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(42,"Cerrar"),t.qZA(),t.TgZ(43,"button",19),t._uU(44,"Guardar"),t.qZA()()(),t._UZ(45,"app-custom-spinner",20)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.menuFormGroup),t.xp6(3),t.Oqu(e.menu.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.menuFormGroup.controls.title.hasError("required")),t.xp6(13),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listIconTypes),t.xp6(9),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listMenusSelectable),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.menuFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let Ou=(()=>{class r{constructor(e,i,o,d,m,b){this.sharedService=e,this.restProvider=i,this.formBuilder=o,this.activeModal=d,this.snackbarService=m,this.menuService=b,this.showLoading=!1,this.matcher=new vt}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then(e=>{this.listMenusSelectable=e.Data.filter(o=>o.Id!=this.menu.Id)},e=>{console.error(e)})}getIconTypes(){this.restProvider.executeSinovadApiService(ti.GET,"/catalogs/GetDetailsByCatalogAsync/"+Ea.IconTypes).then(i=>{this.listIconTypes=i.Data},i=>{console.error(i)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new Tt.NI(this.menu.Title,[Tt.kI.required]),path:new Tt.NI(this.menu.Path),iconType:new Tt.NI(this.menu.IconTypeCatalogDetailId),iconClass:new Tt.NI(this.menu.IconClass),sortOrder:new Tt.NI(this.menu.SortOrder),parentId:new Tt.NI(this.menu.ParentId),enabled:new Tt.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.menu));e.Title=this.menuFormGroup.value.title,e.Path=this.menuFormGroup.value.path,e.IconClass=this.menuFormGroup.value.iconClass,e.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?(e.IconTypeCatalogId=Ea.IconTypes,e.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):(e.IconTypeCatalogId=void 0,e.IconTypeCatalogDetailId=void 0),e.ParentId=this.menuFormGroup.value.parentId,e.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",ft.Success),this.menuService.getManageMenu(),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(zi),t.Y36(Kr),t.Y36(Tt.qu),t.Y36(os),t.Y36(Bo),t.Y36(xu))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,$S,46,10,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.menu&&o.menuFormGroup)},dependencies:[Tt._Y,Tt.Fj,Tt.wV,Tt.JJ,Tt.JL,Tt.sg,Tt.u,la,g.sg,g.O5,_s.Nt,Ni.KE,Ni.hX,Ni.TO,Ta.oG,Sg.ey,WS.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function qS(r,n){1&r&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner"),t.qZA())}function vm(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",42)(1,"mat-checkbox",43),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function ym(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",44)(1,"mat-checkbox",45),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function Ca(r,n){1&r&&(t.TgZ(0,"th",46),t._uU(1,"N\xb0"),t.qZA())}function JM(r,n){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function h0(r,n){1&r&&(t.TgZ(0,"th",48),t._uU(1,"T\xedtulo"),t.qZA())}function m0(r,n){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function JS(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Path"),t.qZA())}function p0(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Path," ")}}function g0(r,n){1&r&&(t.TgZ(0,"th",52),t._uU(1,"\xcdcono"),t.qZA())}function _0(r,n){if(1&r&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.IconClass," ")}}function v0(r,n){1&r&&(t.TgZ(0,"th",54),t._uU(1,"Orden"),t.qZA())}function QS(r,n){if(1&r&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SortOrder," ")}}function XS(r,n){1&r&&t._UZ(0,"th",56)}function eD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",57)(1,"div",58)(2,"button",59),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",60),t.qZA(),t.TgZ(4,"button",61),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function Kf(r,n){1&r&&t._UZ(0,"tr",62)}function tD(r,n){1&r&&t._UZ(0,"tr",63)}function nD(r,n){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function iD(r,n){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,nD,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const bm=function(r){return{disable:r}},y0=function(){return[5,10,25,100]};let Dg=(()=>{class r extends Rn{constructor(e,i,o,d,m,b){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.menuService=b}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Ic;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(Ou,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.menu=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Jt.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new Wt.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+e.Title+"?",accordMessage:"Si, eliminar el menu '"+e.Title+"'"},this.dialog.open(Pt,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.menuService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",ft.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new Wt.vA;e.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Pt,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",ft.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,ft.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(ba),t.Y36(Wt.uw),t.Y36(at.ye),t.Y36(Bo),t.Y36(xu))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(at.NW,5),t.Gf(Ht.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Menus"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,qS,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,vm,2,2,"th",17),t.YNc(25,ym,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Ca,2,0,"th",20),t.YNc(28,JM,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,h0,2,0,"th",23),t.YNc(31,m0,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,JS,2,0,"th",26),t.YNc(34,p0,2,1,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,g0,2,0,"th",29),t.YNc(37,_0,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,v0,2,0,"th",32),t.YNc(40,QS,2,1,"td",33),t.BQk(),t.ynx(41,34),t.YNc(42,XS,1,0,"th",35),t.YNc(43,eD,6,0,"td",36),t.BQk(),t.YNc(44,Kf,1,0,"tr",37),t.YNc(45,tD,1,0,"tr",38),t.YNc(46,iD,2,1,"tr",39),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",40),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,bm,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,y0)))},dependencies:[g.mk,g.O5,at.NW,Jt.BZ,Jt.fO,Jt.as,Jt.w1,Jt.Dz,Jt.nj,Jt.ge,Jt.ev,Jt.XQ,Jt.Gk,Jt.Ee,_s.Nt,Ni.KE,Ni.hX,Ht.YE,Ht.nU,Ta.oG,xc.Ou,Ac.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class b0{}function rD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"p")(1,"mat-checkbox",10),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw(2);return t.KtG(b.onChangeCheckValue(o,m))}),t._uU(2),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("checked",i.selection.isSelected(e)),t.xp6(1),t.Oqu(e.Name)}}function Yf(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t.YNc(6,rD,3,2,"ng-template",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSaveSelection())}),t._uU(11,"Guardar"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu("G\xe9neros"),t.xp6(4),t.Q6J("ngForOf",e.listAllGenres)}}let Ru=(()=>{class r{constructor(e){this.activeModal=e}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(e,i){e.target.checked?this.selection.select(i):this.selection.deselect(i)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(os))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(i,o){1&i&&(t.YNc(0,Yf,12,2,"ng-template",0),t._uU(1," <\n")),2&i&&t.Q6J("ngIf",null!=o.listAllGenres)},dependencies:[g.sg,g.O5,Ta.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})(),E0=(()=>{class r{constructor(e){this.restProvider=e}getMovie(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.GET,"/movies/GetAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,b){return new Promise((w,G)=>{let re=Ns();this.lastCallGuid=re;var ve="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(ti.GET,"/movies/GetAllWithPaginationAsync"+ve).then(Xe=>{this.lastCallGuid==re&&w(Xe)},Xe=>{console.error(Xe),G(Xe)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?ti.PUT:ti.POST,e.Id>0?"/movies/Update":"/movies/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.DELETE,"/movies/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let w=0;w<e.length;w++)d.push(e[w].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(ti.DELETE,"/movies/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Nu=C(8034);function oD(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function T0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,oD,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Fecha de Lanzamiento"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"G\xe9neros"),t.qZA(),t.TgZ(24,"textarea",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(25,"mat-form-field")(26,"mat-label"),t._uU(27,"Directores"),t.qZA(),t._UZ(28,"textarea",13),t.qZA(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Actores"),t.qZA(),t._UZ(32,"textarea",14),t.qZA(),t.TgZ(33,"mat-form-field")(34,"mat-label"),t._uU(35,"Resumen"),t.qZA(),t._UZ(36,"textarea",15),t.qZA(),t.TgZ(37,"mat-form-field")(38,"mat-label"),t._uU(39,"Im\xe1gen"),t.qZA(),t._UZ(40,"textarea",16),t.qZA()(),t.TgZ(41,"div",17)(42,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(43,"Close"),t.qZA(),t.TgZ(44,"button",19),t._uU(45,"Guardar"),t.qZA()()(),t._UZ(46,"app-custom-spinner",20)}if(2&r){const e=t.MAs(20),i=t.oxw();t.Q6J("formGroup",i.movieFormGroup),t.xp6(3),t.Oqu(i.movie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.movieFormGroup.controls.title.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",i.showLoading||!i.movieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",i.showLoading)}}let C0=(()=>{class r{constructor(e,i,o,d,m,b,w){this.sharedService=e,this.modalService=i,this.genreService=o,this.formBuilder=d,this.activeModal=m,this.snackbarService=b,this.movieService=w,this.showLoading=!1,this.matcher=new vt}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new Tt.NI(this.movie.Title,[Tt.kI.required]),releaseDate:new Tt.NI(this.sharedService.formatDate(this.movie.ReleaseDate)),directors:new Tt.NI(this.movie.Directors),actors:new Tt.NI(this.movie.Actors),overview:new Tt.NI(this.movie.Overview),posterPath:new Tt.NI(this.movie.PosterPath),selectedGenres:new Tt.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(e=>{this.movie=e.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.movie));e.Title=this.movieFormGroup.value.title,e.ReleaseDate=this.movieFormGroup.value.releaseDate,e.Directors=this.movieFormGroup.value.directors,e.Actors=this.movieFormGroup.value.actors,e.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",ft.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0?this.movie.ListItemGenres.map(i=>i.GenreName).join(", "):""}showGenresSelectionModal(){var e=this,i=this.modalService.open(Ru,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.listAllGenres=this.listGenres,i.componentInstance.selection=new en.Ov(!0,this.getMovieGenres()),i.closed.subscribe(o=>{e.setMovieGenres(o)})}getMovieGenres(){var e=this.movie.ListItemGenres.map(i=>i.GenreId);return this.listGenres.filter(i=>-1!=e.indexOf(i.Id))}setMovieGenres(e){var i=[];e.forEach(o=>{i.push({MovieId:this.movie.Id,GenreId:o.Id,GenreName:o.Name})}),this.movie.ListItemGenres=i,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(zi),t.Y36(ba),t.Y36(_f),t.Y36(Tt.qu),t.Y36(os),t.Y36(Bo),t.Y36(E0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,T0,47,9,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.movie&&o.movieFormGroup)},dependencies:[Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,Tt.sg,Tt.u,la,g.O5,_s.Nt,Ni.KE,Ni.hX,Ni.bx,Ni.TO,Ni.R9,Nu.Mq,Nu.hl,Nu.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function S0(r,n){1&r&&(t.TgZ(0,"div",39),t._UZ(1,"mat-spinner"),t.qZA())}function sD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",40)(1,"mat-checkbox",41),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function D0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"mat-checkbox",43),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function aD(r,n){1&r&&(t.TgZ(0,"th",44),t._uU(1,"N\xb0"),t.qZA())}function lD(r,n){if(1&r&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function QM(r,n){1&r&&(t.TgZ(0,"th",46),t._uU(1,"T\xedtulo"),t.qZA())}function XM(r,n){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function ew(r,n){1&r&&(t.TgZ(0,"th",48),t._uU(1,"Fecha"),t.qZA())}function tw(r,n){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.ReleaseDate,"dd-MM-YYYY")," ")}}function x0(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Actores"),t.qZA())}function Em(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Actors," ")}}function cD(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Directores"),t.qZA())}function dD(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Directors," ")}}function A0(r,n){1&r&&t._UZ(0,"th",52)}function Wf(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",53)(1,"div",54)(2,"button",55),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",56),t.qZA(),t.TgZ(4,"button",57),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function uD(r,n){1&r&&t._UZ(0,"tr",58)}function fD(r,n){1&r&&t._UZ(0,"tr",59)}function hD(r,n){1&r&&(t.TgZ(0,"td",62),t._uU(1,"No se encontraron datos"),t.qZA())}function mD(r,n){if(1&r&&(t.TgZ(0,"tr",60),t.YNc(1,hD,2,0,"td",61),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const nw=function(r){return{disable:r}},pD=function(){return[5,10,25,100]};let Tm=(()=>{class r extends Rn{constructor(e,i,o,d,m,b){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.movieService=b}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new b0;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(C0,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.movie=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Jt.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new Wt.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+e.Title+"?",accordMessage:"Si, eliminar el movie '"+e.Title+"'"},this.dialog.open(Pt,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.movieService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",ft.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new Wt.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Pt,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",ft.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,ft.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(ba),t.Y36(Wt.uw),t.Y36(at.ye),t.Y36(Bo),t.Y36(E0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(at.NW,5),t.Gf(Ht.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Pel\xedculas"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,S0,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,sD,2,2,"th",17),t.YNc(25,D0,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,aD,2,0,"th",20),t.YNc(28,lD,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,QM,2,0,"th",23),t.YNc(31,XM,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,ew,2,0,"th",26),t.YNc(34,tw,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,x0,2,0,"th",29),t.YNc(37,Em,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,cD,2,0,"th",29),t.YNc(40,dD,2,1,"td",30),t.BQk(),t.ynx(41,32),t.YNc(42,A0,1,0,"th",33),t.YNc(43,Wf,6,0,"td",34),t.BQk(),t.YNc(44,uD,1,0,"tr",35),t.YNc(45,fD,1,0,"tr",36),t.YNc(46,mD,2,1,"tr",37),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",38),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,nw,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,pD)))},dependencies:[g.mk,g.O5,at.NW,Jt.BZ,Jt.fO,Jt.as,Jt.w1,Jt.Dz,Jt.nj,Jt.ge,Jt.ev,Jt.XQ,Jt.Gk,Jt.Ee,_s.Nt,Ni.KE,Ni.hX,Ht.YE,Ht.nU,Ta.oG,xc.Ou,Ac.gM,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class gD{}let M0=(()=>{class r{constructor(e){this.restProvider=e}getTvSerie(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.GET,"/tvseries/GetAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,b){return new Promise((w,G)=>{let re=Ns();this.lastCallGuid=re;var ve="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+b;this.restProvider.executeSinovadApiService(ti.GET,"/tvseries/GetAllWithPaginationAsync"+ve).then(Xe=>{this.lastCallGuid==re&&w(Xe)},Xe=>{console.error(Xe),G(Xe)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?ti.PUT:ti.POST,e.Id>0?"/tvseries/Update":"/tvseries/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.DELETE,"/tvseries/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let w=0;w<e.length;w++)d.push(e[w].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(ti.DELETE,"/tvseries/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function zf(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function _D(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,zf,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Primera fecha de emisi\xf3n"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"\xdaltima fecha de emisi\xf3n"),t.qZA(),t._UZ(24,"input",12),t.TgZ(25,"mat-hint"),t._uU(26,"MM/DD/YYYY"),t.qZA(),t._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),t.qZA(),t.TgZ(30,"mat-form-field")(31,"mat-label"),t._uU(32,"G\xe9neros"),t.qZA(),t.TgZ(33,"textarea",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(34,"mat-form-field")(35,"mat-label"),t._uU(36,"Directores"),t.qZA(),t._UZ(37,"textarea",14),t.qZA(),t.TgZ(38,"mat-form-field")(39,"mat-label"),t._uU(40,"Actores"),t.qZA(),t._UZ(41,"textarea",15),t.qZA(),t.TgZ(42,"mat-form-field")(43,"mat-label"),t._uU(44,"Resumen"),t.qZA(),t._UZ(45,"textarea",16),t.qZA(),t.TgZ(46,"mat-form-field")(47,"mat-label"),t._uU(48,"Im\xe1gen"),t.qZA(),t._UZ(49,"textarea",17),t.qZA()(),t.TgZ(50,"div",18)(51,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(52,"Close"),t.qZA(),t.TgZ(53,"button",20),t._uU(54,"Guardar"),t.qZA()()(),t._UZ(55,"app-custom-spinner",21)}if(2&r){const e=t.MAs(20),i=t.oxw();t.Q6J("formGroup",i.tvserieFormGroup),t.xp6(3),t.Oqu(i.tvserie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.tvserieFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",i.showLoading||!i.tvserieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",i.showLoading)}}let w0=(()=>{class r{constructor(e,i,o,d,m,b,w){this.sharedService=e,this.modalService=i,this.genreService=o,this.formBuilder=d,this.activeModal=m,this.snackbarService=b,this.tvserieService=w,this.showLoading=!1,this.matcher=new vt}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new Tt.NI(this.tvserie.Name,[Tt.kI.required]),firstAirDate:new Tt.NI(this.sharedService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new Tt.NI(this.sharedService.formatDate(this.tvserie.LastAirDate)),directors:new Tt.NI(this.tvserie.Directors),actors:new Tt.NI(this.tvserie.Actors),overview:new Tt.NI(this.tvserie.Overview),posterPath:new Tt.NI(this.tvserie.PosterPath),selectedGenres:new Tt.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(e=>{this.tvserie=e.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.tvserie));e.Name=this.tvserieFormGroup.value.name,e.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,e.LastAirDate=this.tvserieFormGroup.value.lastAirDate,e.Directors=this.tvserieFormGroup.value.directors,e.Actors=this.tvserieFormGroup.value.actors,e.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",ft.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0?this.tvserie.ListItemGenres.map(i=>i.GenreName).join(", "):""}showGenresSelectionModal(){var e=this,i=this.modalService.open(Ru,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.listAllGenres=this.listGenres,i.componentInstance.selection=new en.Ov(!0,this.getTvSerieGenres()),i.closed.subscribe(o=>{e.setTvSerieGenres(o)})}getTvSerieGenres(){var e=this.tvserie.ListItemGenres.map(i=>i.GenreId);return this.listGenres.filter(i=>-1!=e.indexOf(i.Id))}setTvSerieGenres(e){var i=[];e.forEach(o=>{i.push({TvSerieId:this.tvserie.Id,GenreId:o.Id,GenreName:o.Name})}),this.tvserie.ListItemGenres=i,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(zi),t.Y36(ba),t.Y36(_f),t.Y36(Tt.qu),t.Y36(os),t.Y36(Bo),t.Y36(M0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,_D,56,11,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.tvserie&&o.tvserieFormGroup)},dependencies:[Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,Tt.sg,Tt.u,la,g.O5,_s.Nt,Ni.KE,Ni.hX,Ni.bx,Ni.TO,Ni.R9,Nu.Mq,Nu.hl,Nu.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class vD{}let xg=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,b,w){return new Promise((G,re)=>{let ve=Ns();this.lastCallGuid=ve;var qe="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+b+"&searchBy="+w;this.restProvider.executeSinovadApiService(ti.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+e+qe).then(pt=>{this.lastCallGuid==ve&&G(pt)},pt=>{console.error(pt),re(pt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?ti.PUT:ti.POST,e.Id>0?"/seasons/Update":"/seasons/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.DELETE,"/seasons/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let w=0;w<e.length;w++)d.push(e[w].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(ti.DELETE,"/seasons/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function yD(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function I0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,yD,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.seasonFormGroup),t.xp6(3),t.Oqu(e.season.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.seasonFormGroup.controls.name.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.seasonFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let bD=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.seasonService=d,this.showLoading=!1,this.matcher=new vt}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new Tt.NI(this.season.Name,[Tt.kI.required]),seasonNumber:new Tt.NI(this.season.SeasonNumber),summary:new Tt.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.season));e.SeasonNumber=this.seasonFormGroup.value.seasonNumber,e.Name=this.seasonFormGroup.value.name,e.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(e).then(i=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",ft.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Tt.qu),t.Y36(os),t.Y36(Bo),t.Y36(xg))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,I0,26,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.season&&o.seasonFormGroup)},dependencies:[Tt._Y,Tt.Fj,Tt.wV,Tt.JJ,Tt.JL,Tt.sg,Tt.u,la,g.O5,_s.Nt,Ni.KE,Ni.hX,Ni.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class Cm{}let Ag=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,b,w){return new Promise((G,re)=>{let ve=Ns();this.lastCallGuid=ve;var qe="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+b+"&searchBy="+w;this.restProvider.executeSinovadApiService(ti.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+e+qe).then(pt=>{this.lastCallGuid==ve&&G(pt)},pt=>{console.error(pt),re(pt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?ti.PUT:ti.POST,e.Id>0?"/episodes/Update":"/episodes/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}createList(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.POST,"/episodes/CreateList",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.DELETE,"/episodes/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let w=0;w<e.length;w++)d.push(e[w].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(ti.DELETE,"/episodes/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function P0(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xcdtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function O0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xcdtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,P0,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.episodeFormGroup),t.xp6(3),t.Oqu(e.episode.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.episodeFormGroup.controls.title.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.episodeFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let ED=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.episodeService=d,this.showLoading=!1,this.matcher=new vt}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new Tt.NI(this.episode.Title,[Tt.kI.required]),episodeNumber:new Tt.NI(this.episode.EpisodeNumber),summary:new Tt.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.episode));e.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,e.Title=this.episodeFormGroup.value.title,e.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(e).then(i=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",ft.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Tt.qu),t.Y36(os),t.Y36(Bo),t.Y36(Ag))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,O0,26,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.episode&&o.episodeFormGroup)},dependencies:[Tt._Y,Tt.Fj,Tt.wV,Tt.JJ,Tt.JL,Tt.sg,Tt.u,la,g.O5,_s.Nt,Ni.KE,Ni.hX,Ni.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function TD(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function CD(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Mg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.save())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3,"Rango de Episodios"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Desde"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,TD,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Hasta"),t.qZA(),t._UZ(15,"input",9),t.YNc(16,CD,4,0,"mat-error",8),t.qZA()(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(19,"Close"),t.qZA(),t.TgZ(20,"button",12),t._uU(21,"Guardar"),t.qZA()(),t._UZ(22,"app-custom-spinner",13),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.formGroup),t.xp6(11),t.Q6J("ngIf",e.formGroup.controls.initialEpisodeNumber.hasError("required")),t.xp6(5),t.Q6J("ngIf",e.formGroup.controls.lastEpisodeNumber.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.formGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let SD=(()=>{class r{constructor(e,i,o){this.formBuilder=e,this.episodeService=i,this.activeModal=o,this.matcher=new vt,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new Tt.NI("",[Tt.kI.required]),lastEpisodeNumber:new Tt.NI("",[Tt.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let i=[];for(let o=Number(this.formGroup.value.initialEpisodeNumber);o<=Number(this.formGroup.value.lastEpisodeNumber);o++){var e=new Cm;e.EpisodeNumber=o,e.SeasonId=this.parent.Id,e.Title="Episodio "+o,i.push(e)}this.episodeService.createList(i).then(o=>{this.showLoading=!1,this.activeModal.close(!0)},o=>{this.showLoading=!1,console.error(o)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Tt.qu),t.Y36(Ag),t.Y36(os))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,Mg,23,5,"form",0),2&i&&t.Q6J("ngIf",o.formGroup)},dependencies:[Tt._Y,Tt.Fj,Tt.wV,Tt.JJ,Tt.JL,Tt.sg,Tt.u,la,g.O5,_s.Nt,Ni.KE,Ni.hX,Ni.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function R0(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function DD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function xD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function AD(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function MD(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.EpisodeNumber,"")}}function wD(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1,"T\xcdtulo"),t.qZA())}function ID(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function PD(r,n){1&r&&t._UZ(0,"th",41)}function OD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function N0(r,n){1&r&&t._UZ(0,"tr",47)}function L0(r,n){1&r&&t._UZ(0,"tr",48)}function k0(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function RD(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,k0,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const F0=function(r){return{disable:r}},ND=function(){return[5,10,25,100]};let LD=(()=>{class r extends Rn{constructor(e,i,o,d,m){super(d),this.modalService=e,this.dialog=i,this.episodeService=o,this.matPaginatorIntl=d,this.snackbarService=m}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Cm;e.SeasonId=this.parentItem.Id,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(ED,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.episode=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Jt.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new Wt.vA;i.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+e.Title+"?",accordMessage:"Si, eliminar el episodio '"+e.Title+"'"},this.dialog.open(Pt,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.episodeService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",ft.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new Wt.vA;e.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Pt,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",ft.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,ft.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var e=this,i=this.modalService.open(SD,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.parent=this.parentItem,i.closed.subscribe(o=>{e.getAllItems()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ba),t.Y36(Wt.uw),t.Y36(Ag),t.Y36(at.ye),t.Y36(Bo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(at.NW,5),t.Gf(Ht.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return o.showEpisodeRangeModal()}),t._uU(12," Agregar por Rango "),t.qZA()()(),t.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),t._uU(17,"Buscar"),t.qZA(),t.TgZ(18,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(20,"div",12),t.YNc(21,R0,2,0,"div",13),t.TgZ(22,"div",14)(23,"table",15),t.ynx(24,16),t.YNc(25,DD,2,2,"th",17),t.YNc(26,xD,2,1,"td",18),t.BQk(),t.ynx(27,19),t.YNc(28,AD,2,0,"th",20),t.YNc(29,MD,2,1,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,wD,2,0,"th",23),t.YNc(32,ID,2,1,"td",24),t.BQk(),t.ynx(33,25),t.YNc(34,PD,1,0,"th",26),t.YNc(35,OD,6,0,"td",27),t.BQk(),t.YNc(36,N0,1,0,"tr",28),t.YNc(37,L0,1,0,"tr",29),t.YNc(38,RD,2,1,"tr",30),t.qZA()()()()(),t.TgZ(39,"div",1)(40,"div",9),t._UZ(41,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.Name," :Episodios"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,F0,!o.selection.hasValue())),t.xp6(12),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,ND)))},dependencies:[g.mk,g.O5,at.NW,Jt.BZ,Jt.fO,Jt.as,Jt.w1,Jt.Dz,Jt.nj,Jt.ge,Jt.ev,Jt.XQ,Jt.Gk,Jt.Ee,_s.Nt,Ni.KE,Ni.hX,Ht.YE,Ht.nU,Ta.oG,xc.Ou,Ac.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function kD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-episode-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Episodios"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let wg=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(os))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,kD,10,2,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,LD]})}return r})();function Ig(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function B0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Pg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function FD(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function BD(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SeasonNumber,"")}}function Og(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1,"Nombre"),t.qZA())}function UD(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function U0(r,n){1&r&&t._UZ(0,"th",41)}function Lu(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showEpisodeListModal(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(5,"i",47),t.qZA(),t.TgZ(6,"button",48),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(7,"i",7),t.qZA()()()}}function j0(r,n){1&r&&t._UZ(0,"tr",49)}function jD(r,n){1&r&&t._UZ(0,"tr",50)}function iw(r,n){1&r&&(t.TgZ(0,"td",53),t._uU(1,"No se encontraron datos"),t.qZA())}function Rg(r,n){if(1&r&&(t.TgZ(0,"tr",51),t.YNc(1,iw,2,0,"td",52),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const Ng=function(r){return{disable:r}},VD=function(){return[5,10,25,100]};let V0=(()=>{class r extends Rn{constructor(e,i,o,d,m){super(d),this.modalService=e,this.dialog=i,this.seasonService=o,this.matPaginatorIntl=d,this.snackbarService=m}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new vD;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(bD,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.season=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Jt.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new Wt.vA;i.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+e.Name+"?",accordMessage:"Si, eliminar la temporada '"+e.Name+"'"},this.dialog.open(Pt,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.seasonService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",ft.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new Wt.vA;e.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Pt,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",ft.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,ft.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(e){var o=this.modalService.open(wg,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ba),t.Y36(Wt.uw),t.Y36(xg),t.Y36(at.ye),t.Y36(Bo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(at.NW,5),t.Gf(Ht.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,Ig,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,B0,2,2,"th",17),t.YNc(25,Pg,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,FD,2,0,"th",20),t.YNc(28,BD,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,Og,2,0,"th",23),t.YNc(31,UD,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,U0,1,0,"th",26),t.YNc(34,Lu,8,0,"td",27),t.BQk(),t.YNc(35,j0,1,0,"tr",28),t.YNc(36,jD,1,0,"tr",29),t.YNc(37,Rg,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.Name," :Temporadas"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,Ng,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,VD)))},dependencies:[g.mk,g.O5,at.NW,Jt.BZ,Jt.fO,Jt.as,Jt.w1,Jt.Dz,Jt.nj,Jt.ge,Jt.ev,Jt.XQ,Jt.Gk,Jt.Ee,_s.Nt,Ni.KE,Ni.hX,Ht.YE,Ht.nU,Ta.oG,xc.Ou,Ac.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function G0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-season-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Temporadas"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let GD=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(os))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,G0,10,2,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,V0]})}return r})();function H0(r,n){1&r&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner"),t.qZA())}function Lg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",41)(1,"mat-checkbox",42),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function K0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",43)(1,"mat-checkbox",44),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function Y0(r,n){1&r&&(t.TgZ(0,"th",45),t._uU(1,"N\xb0"),t.qZA())}function W0(r,n){if(1&r&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function z0(r,n){1&r&&(t.TgZ(0,"th",47),t._uU(1,"Nombre"),t.qZA())}function HD(r,n){if(1&r&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function KD(r,n){1&r&&(t.TgZ(0,"th",49),t._uU(1,"Primera emisi\xf3n"),t.qZA())}function YD(r,n){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.FirstAirDate,"dd-MM-YYYY")," ")}}function WD(r,n){1&r&&(t.TgZ(0,"th",49),t._uU(1,"\xdaltima emisi\xf3n"),t.qZA())}function Z0(r,n){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.LastAirDate,"dd-MM-YYYY")," ")}}function rw(r,n){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Actores"),t.qZA())}function $0(r,n){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=n.$implicit,i=t.MAs(1);t.Udp("cursor",i.offsetWidth<i.scrollWidth?"pointer":""),t.s9C("matTooltip",i.offsetWidth<i.scrollWidth?e.Actors:""),t.xp6(2),t.Oqu(e.Actors)}}function zD(r,n){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Directores"),t.qZA())}function ZD(r,n){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=n.$implicit,i=t.MAs(1);t.Udp("cursor",i.offsetWidth<i.scrollWidth?"pointer":""),t.s9C("matTooltip",i.offsetWidth<i.scrollWidth?e.Directors:""),t.xp6(2),t.hij(" ",e.Directors," ")}}function ow(r,n){1&r&&t._UZ(0,"th",54)}function $D(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",55)(1,"div",56)(2,"button",57),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showSeasonListModal(d))}),t._UZ(3,"i",58),t.qZA(),t.TgZ(4,"button",59),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(5,"i",60),t.qZA(),t.TgZ(6,"button",61),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(7,"i",7),t.qZA()()()}}function qD(r,n){1&r&&t._UZ(0,"tr",62)}function q0(r,n){1&r&&t._UZ(0,"tr",63)}function J0(r,n){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function Q0(r,n){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,J0,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const X0=function(r){return{disable:r}},JD=function(){return[5,10,25,100]};let kg=(()=>{class r extends Rn{constructor(e,i,o,d,m,b){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.tvserieService=b}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new gD;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(w0,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.tvserie=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Jt.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new Wt.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+e.Name+"?",accordMessage:"Si, eliminar la serie '"+e.Name+"'"},this.dialog.open(Pt,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.tvserieService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",ft.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,ft.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new Wt.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Pt,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",ft.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,ft.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(e){var o=this.modalService.open(GD,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(ba),t.Y36(Wt.uw),t.Y36(at.ye),t.Y36(Bo),t.Y36(M0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(at.NW,5),t.Gf(Ht.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Series"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,H0,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Lg,2,2,"th",17),t.YNc(25,K0,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Y0,2,0,"th",20),t.YNc(28,W0,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,z0,2,0,"th",23),t.YNc(31,HD,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,KD,2,0,"th",26),t.YNc(34,YD,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,WD,2,0,"th",26),t.YNc(37,Z0,3,4,"td",27),t.BQk(),t.ynx(38,29),t.YNc(39,rw,2,0,"th",30),t.YNc(40,$0,3,4,"td",31),t.BQk(),t.ynx(41,32),t.YNc(42,zD,2,0,"th",30),t.YNc(43,ZD,3,4,"td",31),t.BQk(),t.ynx(44,33),t.YNc(45,ow,1,0,"th",34),t.YNc(46,$D,8,0,"td",35),t.BQk(),t.YNc(47,qD,1,0,"tr",36),t.YNc(48,q0,1,0,"tr",37),t.YNc(49,Q0,2,1,"tr",38),t.qZA()()()()(),t.TgZ(50,"div",1)(51,"div",9),t._UZ(52,"mat-paginator",39),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,X0,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,JD)))},dependencies:[g.mk,g.O5,at.NW,Jt.BZ,Jt.fO,Jt.as,Jt.w1,Jt.Dz,Jt.nj,Jt.ge,Jt.ev,Jt.XQ,Jt.Gk,Jt.Ee,_s.Nt,Ni.KE,Ni.hX,Ht.YE,Ht.nU,Ta.oG,xc.Ou,Ac.gM,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class QD{}function XD(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function ex(r,n){if(1&r&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function tx(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Tipo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Zf(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Directorio es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function eb(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveStorage())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,XD,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Tipo"),t.qZA(),t.TgZ(15,"mat-select",9)(16,"mat-option",10),t._uU(17,"--"),t.qZA(),t.YNc(18,ex,2,2,"mat-option",11),t.qZA(),t.YNc(19,tx,4,0,"mat-error",8),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Directorio"),t.qZA(),t.TgZ(23,"input",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.YNc(24,Zf,4,0,"mat-error",8),t.qZA()(),t.TgZ(25,"div",13)(26,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(27,"Close"),t.qZA(),t.TgZ(28,"button",15),t._uU(29,"Guardar"),t.qZA()()(),t._UZ(30,"app-custom-spinner",16)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.libraryFormGroup),t.xp6(3),t.Oqu(e.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.name.hasError("required")),t.xp6(5),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.mediaTypes),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.mediaType.hasError("required")),t.xp6(4),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.physicalPath.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.libraryFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let tb=(()=>{class r{constructor(e,i,o,d,m){this.sharedService=e,this.libraryService=i,this.activeModal=o,this.formBuilder=d,this.modalService=m,this.showLoading=!1,this.matcher=new vt,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new Tt.NI(this.library.Name,[Tt.kI.required]),mediaType:new Tt.NI(this.library.MediaTypeCatalogDetailId,[Tt.kI.required]),physicalPath:new Tt.NI(this.library.PhysicalPath,[Tt.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.library));e.Name=this.libraryFormGroup.value.name,e.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),e.MediaTypeCatalogId=Ea.MediaType,e.PhysicalPath=this.libraryFormGroup.value.physicalPath,e.MediaServerId=this.sharedService.selectedMediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,e).then(i=>{this.showLoading=!1,this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var e=this,i=this.modalService.open(dC,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.mediaServer=this.sharedService.selectedMediaServer,i.closed.subscribe(o=>{e.libraryFormGroup.controls.physicalPath.setValue(o)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(zi),t.Y36(Pc),t.Y36(os),t.Y36(Tt.qu),t.Y36(ba))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,eb,31,11,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.library&&o.libraryFormGroup)},dependencies:[Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,Tt.sg,Tt.u,la,g.sg,g.O5,_s.Nt,Ni.KE,Ni.hX,Ni.TO,Sg.ey,WS.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function nb(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onSelectItem(d))}),t._UZ(1,"i"),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&r){const e=n.$implicit;t.xp6(1),t.Gre("",e.iconClass," me-2"),t.xp6(2),t.Oqu(e.title)}}function ib(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.TgZ(2,"div",3),t.YNc(3,nb,4,4,"ng-template",4),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Udp("top",e.top+"px")("right",e.right+"px"),t.xp6(2),t.Q6J("ngForOf",e.options.listItems)}}let rb=(()=>{class r{constructor(e){this.ref=e,this.hide=new t.vpe,this.selectOption=new t.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(e){this.selectOption.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(i,o){1&i&&t.YNc(0,ib,4,5,"div",0),2&i&&t.Q6J("ngIf",o.showMenu)},dependencies:[g.sg,g.O5,wu],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return r})(),aw=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o}show(e){return new Promise((i,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const m=this.factoryResolver.resolveComponentFactory(rb).create(this.injector);this.lastViewRef=m.hostView,this.applicationRef.attachView(m.hostView);let b=this;const w=e.target.getBoundingClientRect();var G=window.innerWidth-w.right,re=w.top+w.height;m.instance.options=e,m.instance.right=G,m.instance.top=re,m.instance.selectOption.subscribe(Xe=>{Xe.eventOnSelectItem&&Xe.eventOnSelectItem.emit(!0),m.destroy(),b.applicationRef.detachView(m.hostView),i(Xe)}),m.instance.hide.subscribe(Xe=>{m.destroy(),b.applicationRef.detachView(m.hostView),o(!0)});const ve=m.hostView.rootNodes[0];document.getElementById(e.containerId).appendChild(ve)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function lw(r,n){1&r&&t._UZ(0,"i",16)}function ob(r,n){1&r&&t._UZ(0,"i",17)}const sb=function(r){return{selected:r}};function ix(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t.YNc(3,lw,1,0,"i",9),t.YNc(4,ob,1,0,"i",10),t.qZA(),t.TgZ(5,"a"),t._uU(6),t.qZA(),t.TgZ(7,"div",11)(8,"div",12)(9,"button",13),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw(2);return t.KtG(b.showActions(o,m))}),t.TgZ(10,"span",14),t._UZ(11,"i",15),t.qZA()()()()()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(4,sb,i.currentLibrary&&i.currentLibrary.Id==e.Id)),t.xp6(3),t.Q6J("ngIf",1==e.MediaTypeCatalogDetailId),t.xp6(1),t.Q6J("ngIf",2==e.MediaTypeCatalogDetailId),t.xp6(2),t.Oqu(e.Name)}}function rx(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openNewLibrary())}),t._uU(7,"A\xf1adir biblioteca"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateVideoInAllLibraries())}),t._uU(9,"Buscar archivos en biblioteca"),t.qZA()(),t.YNc(10,ix,12,6,"ng-template",5),t.qZA()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Bibliotecas"),t.xp6(3),t.hij("",e.listLibraries?e.listLibraries.length:""," bibliotecas"),t.xp6(5),t.Q6J("ngForOf",e.listLibraries)}}let ab=(()=>{class r{constructor(e,i,o,d,m,b,w,G,re){this.customMenuService=e,this.modalService=i,this.libraryService=o,this.mediaServerService=d,this.dialog=m,this.snackBarService=b,this.router=w,this.activeRoute=G,this.sharedService=re}ngOnInit(){this.getMediaServerData()}getMediaServerData(){var e=this;return(0,xr.Z)(function*(){e.mediaServerService.getMediaServerByGuid(e.activeRoute.snapshot.params.serverGuid).then(o=>{var d=o.Data;e.sharedService.selectedMediaServer=d,e.mediaServer=d,e.getAllItems()},o=>{e.router.navigateByUrl("/404")})})()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(e=>{this.listLibraries=e},e=>{})}openNewLibrary(){let e=new QD;e.MediaServerId=this.sharedService.selectedMediaServer.Id,this.showModalForm(e)}editLibrary(e){this.showModalForm(JSON.parse(JSON.stringify(e)))}showModalForm(e){var i=this,o=this.modalService.open(tb,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.library=e,o.componentInstance.mediaServer=this.mediaServer,o.closed.subscribe(d=>{i.getAllItems()})}deleteLibrary(e){var i=new Wt.vA;i.data={title:"Eliminar biblioteca",message:"La biblioteca '"+e.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+e.Name+"'"},this.dialog.open(Pt,i).afterClosed().subscribe(o=>{o&&this.executeDeleteLibrary(e)})}executeDeleteLibrary(e){this.libraryService.deleteItem(this.mediaServer.Url,e.Id).then(i=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",ft.Success),this.getAllItems()},i=>{console.error(i),this.snackBarService.showSnackBar(i,ft.Error)})}showActions(e,i){this.currentLibrary=i;var o=JSON.parse(JSON.stringify(i)),d=e.currentTarget,m=[],b=new t.vpe;b.subscribe(re=>{this.editLibrary(o)}),m.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:b});var w=new t.vpe;w.subscribe(re=>{this.updateLibraryVideos(o)}),m.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:w});var G=new t.vpe;G.subscribe(re=>{this.deleteLibrary(o)}),m.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:G}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:m,target:d}).then(re=>{this.currentLibrary=void 0},re=>{this.currentLibrary=void 0})}updateLibraryVideos(e){e.Id>0&&null!=e.PhysicalPath&&""!=e.PhysicalPath&&this.searchFilesInLibraries([e])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(e){this.libraryService.searchFiles(this.sharedService.selectedMediaServer.Url,e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(aw),t.Y36(ba),t.Y36(Pc),t.Y36(Gf),t.Y36(Wt.uw),t.Y36(Bo),t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-list"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"]],template:function(i,o){1&i&&t.YNc(0,rx,11,3,"div",0),2&i&&t.Q6J("ngIf",o.mediaServer)},dependencies:[g.mk,g.sg,g.O5],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return r})(),nd=(()=>{class r{constructor(e,i){this.sharedService=e,this.restProvider=i}getProfileByGuid(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.GET,"/profiles/GetByGuidAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getAllProfiles(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(ti.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedService.userData.Id).then(o=>{let d=o.Data;this.sharedService.listProfiles=d,this.sharedService.currentProfile=d[0],e(!0)},o=>{i(o)})})}getProfiles(e,i,o,d,m,b,w){return new Promise((G,re)=>{let ve=Ns();this.lastCallGuid=ve;var qe="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+b+"&searchBy="+w;this.restProvider.executeSinovadApiService(ti.GET,"/profiles/GetAllWithPaginationByUserAsync/"+e+qe).then(pt=>{this.lastCallGuid==ve&&G(pt)},pt=>{console.error(pt),re(pt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?ti.PUT:ti.POST,e.Id>0?"/profiles/Update":"/profiles/Create",e).then(b=>{i(!0)},b=>{console.error(b),o(b)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.DELETE,"/profiles/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let w=0;w<e.length;w++)d.push(e[w].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(ti.DELETE,"/profiles/DeleteList/"+m).then(w=>{i(w)},w=>{console.error(w),o(w)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(zi),t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function ox(r,n){if(1&r&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",i.sharedService.getInitials(e)," ")}}function Fg(r,n){if(1&r&&(t._UZ(0,"img",23),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw().$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function $l(r,n){1&r&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"img",6),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("src",t.lcZ(3,1,t.xi3(4,3,"edit-profile.png","GetImageURLByKey")),t.LSH))}function sx(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onSelectProfile(d))}),t.YNc(1,ox,2,1,"div",20),t.YNc(2,Fg,3,6,"img",20),t.YNc(3,$l,5,6,"div",21),t.TgZ(4,"div",22),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.MGl("id","profile_",e.Id,""),t.xp6(1),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(1),t.Q6J("ngIf",i.enableEditMode),t.xp6(2),t.hij(" ",e.FullName," ")}}function Sm(r,n){if(1&r&&t.YNc(0,sx,6,5,"ng-template",18),2&r){const e=t.oxw();t.Q6J("ngForOf",e.sharedService.listProfiles)}}function $f(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeToEditMode())}),t._uU(1," EDITAR PERFILES "),t.qZA()}}function ax(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmEdit())}),t._uU(1," LISTO "),t.qZA()}}let lb=(()=>{class r{constructor(e,i,o){this.profileService=e,this.router=i,this.sharedService=o,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/add-profile")}editProfile(e){this.router.navigateByUrl("/edit-profile/"+e.Guid)}onSelectProfile(e){this.enableEditMode?this.editProfile(e):this.enterProfile(e)}enterProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedService.userData.Id,1,100,"Id","asc","","").then(e=>{let i=e.Data;this.sharedService.listProfiles=i,this.sharedService.currentProfile=i[0],this.showLoading=!1},e=>{this.showLoading=!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(nd),t.Y36(Vn.F0),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),t._UZ(6,"img",6),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA()(),t.TgZ(9,"div",7)(10,"div",8),t._uU(11," \xbfQui\xe9n eres? "),t.qZA(),t.TgZ(12,"div",9),t.YNc(13,Sm,1,1,"ng-template",10),t.TgZ(14,"button",11),t.NdJ("click",function(){return o.showNewProfile()}),t.TgZ(15,"div",12),t._UZ(16,"img",13),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t.qZA(),t.TgZ(19,"div",14),t._uU(20," Crear "),t.qZA()()()(),t.TgZ(21,"div",15,16),t.YNc(23,$f,2,0,"ng-template",10),t.YNc(24,ax,2,0,"ng-template",10),t.qZA()()(),t._UZ(25,"app-custom-spinner",17)),2&i){const d=t.MAs(4),m=t.MAs(22);t.xp6(6),t.Q6J("src",t.lcZ(7,8,t.xi3(8,10,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Udp("height",o._window.innerWidth<768?"calc(100% - "+(d.offsetHeight+m.offsetHeight)+"px)":""),t.xp6(4),t.Q6J("ngIf",o.sharedService.listProfiles),t.xp6(3),t.Q6J("src",t.lcZ(17,13,t.xi3(18,15,"plus.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.enableEditMode),t.xp6(1),t.Q6J("ngIf",o.enableEditMode),t.xp6(1),t.Q6J("showLoading",o.showLoading)}},dependencies:[la,g.sg,g.O5,vs,g.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return r})();class lx{}function Dm(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"img",4),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCloseProfileNew())}),t._uU(8,"CANCELAR"),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"h2"),t._uU(12,"Crear Perfil"),t.qZA(),t.TgZ(13,"div",9)(14,"input",10),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.currentTmpProfile.FullName=o)}),t.qZA()(),t.TgZ(15,"div",9)(16,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(17,"GUARDAR"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(11),t.Q6J("placeholder",e.placeHolder)("ngModel",e.currentTmpProfile.FullName)}}let cb=(()=>{class r{constructor(e,i,o){this.router=e,this.sharedService=i,this.profileService=o,this.placeHolder="Nombre de Perfil"}ngOnInit(){this.currentTmpProfile=new lx,this.currentTmpProfile.UserId=this.sharedService.userData.Id}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onCloseProfileNew(){this.router.navigateByUrl("/select-profile")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(zi),t.Y36(nd))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-new"]],decls:1,vars:1,consts:[["class","sinovad-form-page-container",4,"ngIf"],[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],[1,"sinovaclient-right"],[1,"cancel",3,"click"],[1,"sinovad-page-body"],[1,"sinovad-page-content"],[1,"mb-3"],["type","text",3,"placeholder","ngModel","ngModelChange"],[1,"save",3,"click"]],template:function(i,o){1&i&&t.YNc(0,Dm,18,8,"div",0),2&i&&t.Q6J("ngIf",o.currentTmpProfile)},dependencies:[Tt.Fj,Tt.JJ,Tt.On,g.O5,vs,g.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}button[_ngcontent-%COMP%]{float:right;font-size:15px;padding:0 24px;height:48px;color:#f9f9f9;border-radius:5px;border:none;opacity:.8}button.save[_ngcontent-%COMP%]{background:#007bff;width:100%}button.cancel[_ngcontent-%COMP%]{background:lightslategrey}button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-page-body[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{width:300px}.sinovad-page-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center}.sinovad-page-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;width:100%;padding:7px 12px;font-size:15px;height:48px}"]})}return r})();function cx(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(2,"Listo"),t.qZA()()}}function dx(r,n){1&r&&(t.TgZ(0,"p",24),t._uU(1,"El perfil principal no se puede eliminar"),t.qZA())}function Bg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickDeleteButton())}),t._uU(1,"Eliminar Perfil"),t.qZA()}}function ux(r,n){if(1&r&&(t.TgZ(0,"div",25),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.currentTmpProfile)," ")}}function fx(r,n){if(1&r&&(t._UZ(0,"img",25),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.currentTmpProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function db(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2",11),t._uU(4,"Editar Perfil"),t.qZA(),t.YNc(5,dx,2,0,"p",12),t.qZA(),t.TgZ(6,"div",13)(7,"div",14)(8,"input",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.currentTmpProfile.FullName=o)}),t.qZA(),t.TgZ(9,"div",16),t.YNc(10,Bg,2,0,"button",17),t.qZA()(),t.TgZ(11,"div",18)(12,"input",19,20),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.uploadAvatarImage(o))}),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(13);return t.KtG(o.click())}),t.YNc(15,ux,2,1,"div",21),t.YNc(16,fx,3,6,"img",21),t.TgZ(17,"div",22)(18,"div",23),t._UZ(19,"img",3),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&e.currentTmpProfile.Main),t.xp6(3),t.Q6J("ngModel",e.currentTmpProfile.FullName),t.xp6(2),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&!e.currentTmpProfile.Main),t.xp6(5),t.Q6J("ngIf",null==e.currentTmpProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.currentTmpProfile.AvatarPath&&!e.hideImage),t.xp6(3),t.Q6J("src",t.lcZ(20,6,t.xi3(21,8,"edit-profile.png","GetImageURLByKey")),t.LSH)}}let hx=(()=>{class r{constructor(e,i,o,d,m){this.router=e,this.activeRoute=i,this.profileService=o,this.restProvider=d,this.sharedService=m,this.hideImage=!1}ngOnInit(){this.profileService.getProfileByGuid(this.activeRoute.snapshot.params.profileGuid).then(i=>{null==i.Data&&this.router.navigateByUrl("404"),this.currentTmpProfile=i.Data},i=>{this.router.navigateByUrl("404")})}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onClickDeleteButton(){this.profileService.deleteItem(this.currentTmpProfile.Id).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}uploadAvatarImage(e){if(e.target.files&&e.target.files.length>0){let d=e.target.files[0];var i=new FormData;i.append("ProfileId",this.currentTmpProfile.Id.toString()),i.append("File",d,d.name),this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",i).then(m=>{this.restProvider.executeSinovadApiService(ti.GET,"/profiles/GetAsync/"+this.currentTmpProfile.Id).then(b=>{this.currentTmpProfile=b.Data,this.hideImage=!0,setTimeout(()=>{this.hideImage=!1},0)},b=>{console.error(b)})},m=>{console.error(m)})}}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(nd),t.Y36(Kr),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-edit"]],decls:8,vars:8,consts:[[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],["class","sinovaclient-right",4,"ngIf"],["class","sinovad-page-container",4,"ngIf"],[1,"sinovaclient-right"],[3,"click"],[1,"sinovad-page-container"],[1,"sinovad-page-content"],[1,"top-container"],[1,"title"],["class","subtitle",4,"ngIf"],[1,"bottom-container"],[1,"first"],["type","text",3,"ngModel","ngModelChange"],[1,"sinovad-delete-profile-button-container"],[3,"click",4,"ngIf"],[1,"second"],["type","file","accept",".png,.jpg",2,"display","none",3,"change"],["input",""],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[1,"subtitle"],[1,"sinovad-initials-profile"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,cx,3,0,"div",4),t.qZA(),t.YNc(7,db,22,11,"div",5),t.qZA()),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",o.currentTmpProfile),t.xp6(1),t.Q6J("ngIf",o.currentTmpProfile))},dependencies:[Tt.Fj,Tt.JJ,Tt.On,g.O5,vs,g.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;font-size:20px;background:#007bff;color:#f9f9f9;border-radius:5px;border:none;opacity:.8;height:48px;padding:0 24px}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:100px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{display:block}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:left}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{color:#fff;font-size:32px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   p.subtitle[_ngcontent-%COMP%]{font-size:15px;color:#cacaca}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;min-width:200px;font-size:20px;border-radius:4px;outline:none;padding:7px 12px;border:1px solid transparent}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin:0 0 0 75px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:213px;height:213px;border:2px solid transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:80px;background-color:#789;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:30px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;color:red;opacity:.8;font-size:15px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:170px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{order:2}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px;order:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px}}"]})}return r})();const mx=["itemListContainer"];function ub(r,n){if(1&r&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function xm(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onClickItem(d))}),t._UZ(2,"img",12),t.qZA(),t.YNc(3,ub,3,1,"div",13),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerie_ID:e.MovieId,"_",e.MediaType,""),t.xp6(1),t.Q6J("src",i.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",!e.Subtitle)}}function px(r,n){if(1&r&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),t.YNc(6,xm,4,4,"ng-template",3),t.qZA()()()()),2&r){const e=n.$implicit;t.MGl("id","section_search_",n.index,""),t.xp6(6),t.Q6J("ngForOf",e)}}let gx=(()=>{class r{constructor(e,i,o){this.libraryService=e,this.router=i,this.sharedService=o,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection&&this.libraryService.getAllMediaItemsBySearchQuery(e.Url,this.searchText).then(i=>{this.listItems=this.listItems.concat(i),this.buildGroupItems(this.listItems)},i=>{console.error(i)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(e){if(e&&e.length>0){let m=window.innerWidth>=2048?250:180;var i=Math.floor(this.container.nativeElement.offsetWidth/m),o=e.reduce((b,w,G)=>{var re=Math.floor(G/i)+1;return b[`row${re}`]=b[`row${re}`]||[],b[`row${re}`].push(w),b},{}),d=Object.keys(o).map(function(b){return o[b]});this.listGroupItems=d}else this.listGroupItems=[]}onClickItem(e){this.getMediaDetail(e)}getMediaDetail(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}onResize(e){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Pc),t.Y36(Vn.F0),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-vertical-item-list"]],viewQuery:function(i,o){if(1&i&&t.Gf(mx,5),2&i){let d;t.iGM(d=t.CRH())&&(o.container=d.first)}},hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,px,7,2,"ng-template",3),t.qZA()()),2&i&&(t.Udp("height","100%"),t.xp6(3),t.Q6J("ngForOf",o.listGroupItems))},dependencies:[g.sg,g.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();function fb(r,n){if(1&r&&(t.TgZ(0,"div",7)(1,"h2"),t._uU(2),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.hij('Resultados para "',e.searchText,'"')}}let Ug=(()=>{class r{constructor(e,i,o){this.router=e,this.route=i,this.sharedService=o,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let e=this.route.snapshot.queryParams.text;null!=e&&""!=e?this.searchText=e:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(Vn.gz),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,fb,3,1,"div",4),t.qZA(),t.TgZ(5,"div",null,5),t._UZ(7,"app-vertical-item-list",6),t.qZA()()),2&i){const d=t.MAs(3);t.xp6(4),t.Q6J("ngIf",null!=o.searchText&&""!=o.searchText),t.xp6(1),t.Udp("height","calc(100% - "+d.offsetHeight+"px)"),t.xp6(2),t.Q6J("searchText",o.searchText)}},dependencies:[g.O5,gx],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return r})();class Am{constructor(n,e,i){this.router=n,this.activeRoute=e,this.sharedService=i}initializeHeaderData(){var n=this.activeRoute.snapshot.params.serverGuid;if(null!=n){var e=this.sharedService.mediaServers.find(d=>d.Guid==n);if(e){this.mediaServer=e;var i=this.activeRoute.snapshot.params.libraryId;if(null!=e.ListLibraries&&e.ListLibraries.length>0){var o=e.ListLibraries.find(d=>d.MediaServerId==this.mediaServer.Id&&d.Id==i);null!=o?(this.library=o,this.title=o.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}function hb(r,n){if(1&r&&t._UZ(0,"img",9),2&r){const e=t.oxw();t.Q6J("src",e.sharedService.getUrlByItemDetailMovieDataBase(e.detail),t.LSH)}}function _x(r,n){if(1&r&&(t.TgZ(0,"div",10)(1,"button",11)(2,"div",12),t._uU(3),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function mb(r,n){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Director: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(3);t.xp6(4),t.Oqu(e.detail.MediaItem.Directors)}}function pb(r,n){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Reparto: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(3);t.xp6(4),t.Oqu(e.detail.MediaItem.Actors)}}function vx(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar"),t.qZA()(),t.TgZ(4,"div",26),t._UZ(5,"div",27),t.qZA(),t.TgZ(6,"div",28),t._uU(7),t.qZA()()}if(2&r){const e=t.oxw(3);t.xp6(5),t.Udp("width",e.getWidthProgressItem(e.lastEpisodeWatched)),t.xp6(2),t.hij(" ",e.lastEpisodeWatched.Subtitle," ")}}function yx(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.showVideo())}),t._uU(1,"Ver desde el principio"),t.qZA(),t.TgZ(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar viendo"),t.qZA()}}function jg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.showVideo())}),t._UZ(1,"i",31),t._uU(2," Ver ahora "),t.qZA()}}function Vg(r,n){if(1&r&&(t.YNc(0,yx,4,0,"ng-template",15),t.YNc(1,jg,3,0,"ng-template",15)),2&r){const e=t.oxw(3);t.Q6J("ngIf",e.itemUserData),t.xp6(1),t.Q6J("ngIf",!e.itemUserData)}}function gb(r,n){if(1&r&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.detail.MediaItem.Overview," ")}}function Gg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"img",46),t.NdJ("error",function(){t.CHM(e),t.oxw();const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),b=t.oxw(3);return t.KtG(b.onInitializeItemsRow(o,d,m))}),t.qZA()}}const Hg=function(r){return{selected:r}};function bx(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",47)(1,"button",48),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(4);return t.KtG(m.onClickSeason(d))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.xp6(1),t.MGl("id","section_season_",e.SeasonNumber,""),t.Q6J("ngClass",t.VKq(3,Hg,e.SeasonNumber==i.detail.CurrentSeason.SeasonNumber)),t.xp6(2),t.Oqu(e.Name)}}function Ex(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",49)(1,"button",50),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(4);return t.KtG(m.onClickEpisode(d))}),t.TgZ(2,"div",51),t._UZ(3,"img",9),t.qZA(),t.TgZ(4,"div",52)(5,"div",53),t._uU(6),t.qZA(),t.TgZ(7,"div",54),t._uU(8),t.qZA()()()()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.hYB("id","section_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(1),t.hYB("id","button_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(2),t.Q6J("src",i.getEpisodeImagePath(e),t.LSH),t.xp6(3),t.AsE(" ",e.EpisodeNumber,". ",e.Name," "),t.xp6(2),t.hij(" ",e.Overview," ")}}function Tx(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",33)(1,"div"),t._uU(2," EPISODIOS "),t.qZA(),t.TgZ(3,"div",34),t.YNc(4,Gg,1,0,"img",35),t.TgZ(5,"div",2)(6,"div",36,37),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),b=t.oxw(3);return t.KtG(b.onClickButtonLeftScroll(o,d,m))}),t._UZ(8,"img",9),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",38,39)(13,"section",40,41),t.YNc(15,bx,4,5,"ng-template",42),t.qZA()(),t.TgZ(16,"div",2)(17,"div",43,44),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),b=t.oxw(3);return t.KtG(b.onClickButtonRightScroll(o,d,m))}),t._UZ(19,"img",9),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()(),t.TgZ(22,"div",45),t.YNc(23,Ex,9,8,"ng-template",42),t.qZA()()}if(2&r){const e=t.oxw(3);t.xp6(4),t.Q6J("ngIf",!e.startResize),t.xp6(4),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"left.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.detail.ListSeasons),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"right.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngForOf",e.detail.CurrentSeason.ListEpisodes)}}function Cx(r,n){if(1&r&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.qZA(),t.YNc(5,mb,5,1,"div",19),t.YNc(6,pb,5,1,"div",19),t.TgZ(7,"section",20),t.YNc(8,vx,8,3,"ng-template",15),t.YNc(9,Vg,2,2,"ng-template",15),t.qZA(),t.YNc(10,gb,2,1,"div",21),t.YNc(11,Tx,24,15,"div",22),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.detail.MediaItem.Title," "),t.xp6(2),t.hij(" ",e.detail.MediaItem.Genres," "),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Directors),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Actors),t.xp6(2),t.Q6J("ngIf",e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",e.detail.ListSeasons&&e.detail.ListSeasons.length>0)}}function _b(r,n){if(1&r&&(t.TgZ(0,"div",14),t.YNc(1,Cx,12,8,"ng-template",15),t.qZA()),2&r){const e=t.oxw();t.Udp("height",e.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngIf",e.detail)}}let Mm=(()=>{class r extends Am{constructor(e,i,o,d,m){super(o,i,m),this.libraryService=e,this.activeRoute=i,this.router=o,this.ref=d,this.sharedService=m,this._window=window,this.startResize=!1}ngOnInit(){this.initializeHeaderData();let e=this.activeRoute.snapshot.queryParams.mediaId;e?this.libraryService.getMediaItemDetail(this.mediaServer.Url,e).then(i=>{this.detail=i,this.detail.CurrentSeason=this.detail.ListSeasons[0]},i=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(e){return this.detail.MediaItem.MetadataAgentsId==hu.TMDb&&e.PosterPath?this.sharedService.urlEpisodeDataBase+e.PosterPath:this.sharedService.getUrlByItemDetailMovieDataBase(this.detail)}verifyIfShoOrHiddenScrollButtons(e,i,o){i.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,i,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,i,o)},250)}onClickButtonLeftScroll(e,i,o){e.scrollLeft=e.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}onClickButtonRightScroll(e,i,o){e.scrollLeft=e.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==gl.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let e=this.detail.ListSeasons[0];e.ListEpisodes&&e.ListEpisodes.length>0&&this.getVideoByEpisode(e.ListEpisodes[0])}}getVideosByItem(){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+this.detail.ListMediaFiles[0].Id)}onClickSeason(e){this.detail.CurrentSeason=e}onClickEpisode(e){this.getVideoByEpisode(e)}getVideoByEpisode(e){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+e.ListMediaFiles[0].Id)}onResize(e){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Pc),t.Y36(Vn.gz),t.Y36(Vn.F0),t.Y36(t.sBO),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-detail"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},features:[t.qOj],decls:9,vars:5,consts:[[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],[3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],[3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[3,"ngIf"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4),t.YNc(5,hb,1,1,"img",5),t.qZA()()(),t.TgZ(6,"div",6),t.YNc(7,_x,6,2,"div",7),t.YNc(8,_b,2,3,"div",8),t.qZA()()),2&i){const d=t.MAs(1);t.xp6(4),t.Udp("width",d.clientWidth+"px"),t.xp6(1),t.Q6J("ngIf",o.detail),t.xp6(2),t.Q6J("ngIf",o.title),t.xp6(1),t.Q6J("ngIf",o.detail)}},dependencies:[g.mk,g.sg,g.O5,g.Ov,vs],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return r})();function vb(r,n){if(1&r&&(t.TgZ(0,"div",5)(1,"button",6)(2,"div",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function yb(r,n){if(1&r&&(t.TgZ(0,"div",30)(1,"div",31),t._UZ(2,"div",32),t.qZA()()),2&r){const e=t.oxw().$implicit,i=t.MAs(2),o=t.oxw(3);t.xp6(1),t.Udp("width",i.clientWidth-8+"px"),t.xp6(1),t.Udp("width",o.getWidthProgressItem(e))}}function bb(r,n){if(1&r&&(t.TgZ(0,"div",33)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function Eb(r,n){if(1&r&&(t.TgZ(0,"div")(1,"div",34)(2,"span"),t._uU(3),t.qZA()()()),2&r){const e=t.oxw().$implicit;t.xp6(3),t.AsE("",e.Title," ",e.Subtitle,"")}}function Sx(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",23)(1,"button",24,25),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.onClickItem(d))}),t._UZ(3,"img",26),t.YNc(4,yb,3,4,"ng-template",27),t.qZA(),t.YNc(5,bb,3,1,"div",28),t.YNc(6,Eb,4,2,"div",29),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerieId:e.MovieId,"_",e.MediaType,""),t.xp6(2),t.Q6J("src",i.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",e.CurrentTime&&e.DurationTime),t.xp6(1),t.Q6J("ngIf",!e.Subtitle),t.xp6(1),t.Q6J("ngIf",e.Subtitle)}}function Tb(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",10)(1,"div",11)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",12)(5,"div",13)(6,"div",14,15),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),b=t.oxw(2);return t.KtG(b.onClickButtonLeftScroll(o,d,m))}),t._UZ(8,"img",16),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",17,18)(13,"div",19,20),t.YNc(15,Sx,7,6,"ng-template",4),t.qZA()(),t.TgZ(16,"div",13)(17,"div",21,22),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),b=t.oxw(2);return t.KtG(b.onClickButtonRightScroll(o,d,m))}),t._UZ(19,"img",16),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()}if(2&r){const e=t.oxw().$implicit;t.MGl("id","section_",e.Id,""),t.xp6(3),t.Oqu(e.Name),t.xp6(5),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"scroll-left.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.ListItems),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"scroll-right.png","GetImageURLByKey")),t.LSH)}}function Cb(r,n){if(1&r&&t.YNc(0,Tb,22,15,"section",9),2&r){const e=n.$implicit;t.Q6J("ngIf",e.ListItems&&e.ListItems.length>0)}}let ku=(()=>{class r extends Am{constructor(e,i,o,d,m,b,w){super(d,o,w),this.mediaService=e,this.libraryService=i,this.activeRoute=o,this.router=d,this.restProvider=m,this.ref=b,this.sharedService=w,this.showLoadingApp=!0,this.itemsGroupList=[],this._window=window,this.subscriptionUpdatingMediaItems=this.mediaService.isUpdatingMediaItems().subscribe(G=>{this.initializeData()}),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){this.initializeData()}ngAfterViewInit(){}ngOnDestroy(){this.subscriptionUpdatingMediaItems.unsubscribe()}initializeData(){this.sharedService.mediaServers&&this.sharedService.mediaServers.length>0&&(window.location.pathname.endsWith("home")?this.sharedService.mediaServers.forEach(e=>{try{e.isSecureConnection?this.libraryService.getAllMediaItems(e.Url,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{}):this.clearItemsInGroup(e.Id)}catch{}}):window.location.pathname.endsWith("movies")?(this.title="Pel\xedculas",this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection?this.libraryService.getMediaItemsByMediaType(e.Url,gl.Movie,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{console.error(i)}):this.clearItemsInGroup(e.Id)})):window.location.pathname.endsWith("tvseries")?(this.title="Series de TV",this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection?this.libraryService.getMediaItemsByMediaType(e.Url,gl.TvSerie,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{console.error(i)}):this.clearItemsInGroup(e.Id)})):(this.initializeHeaderData(),null!=this.mediaServer&&(this.mediaServer.isSecureConnection?null!=this.library?this.libraryService.getMediaItemsByLibrary(this.mediaServer.Url,this.library.Id,this.sharedService.currentProfile.Id).then(e=>{this.setItemsInGroup(this.mediaServer.Id,e)},e=>{console.error(e)}):this.libraryService.getAllMediaItems(this.mediaServer.Url,this.sharedService.currentProfile.Id).then(e=>{this.setItemsInGroup(this.mediaServer.Id,e)},e=>{console.error(e)}):this.clearItemsInGroup(this.mediaServer.Id))))}setItemsInGroup(e,i){if(i.length>0)i.forEach(d=>{var m=this.itemsGroupList.find(b=>b.MediaServerId==e&&b.Id==d.Id);null==m?this.itemsGroupList.push(d):m.ListItems=d.ListItems});else{var o=this.itemsGroupList.filter(d=>d.MediaServerId==e);o&&o.length>0&&o.forEach(d=>{d.ListItems=[]})}}clearItemsInGroup(e){var i=this.itemsGroupList.filter(o=>o.MediaServerId==e);i&&i.length>0&&i.forEach(o=>{o.ListItems=[]})}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}onClickButtonLeftScroll(e,i,o){e.scrollLeft=e.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}onClickButtonRightScroll(e,i,o){e.scrollLeft=e.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}verifyIfShoOrHiddenScrollButtons(e,i,o){i.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,i,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,i,o)},250)}onClickItem(e){null!=e.CurrentTime&&e.CurrentTime>0?this.continueVideoByItem(e):this.getMediaItemDetail(e)}getMediaItemDetail(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}continueVideoByItem(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/video/"+e.FileId)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(zl),t.Y36(Pc),t.Y36(Vn.gz),t.Y36(Vn.F0),t.Y36(Kr),t.Y36(t.sBO),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server"]],features:[t.qOj],decls:5,vars:4,consts:[[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer",3,"src"],[3,"ngIf"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,vb,6,2,"div",2),t.TgZ(3,"div",3),t.YNc(4,Cb,1,1,"ng-template",4),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("ngIf",o.title),t.xp6(1),t.Udp("height",o.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngForOf",o.itemsGroupList))},dependencies:[g.sg,g.O5,g.Ov,vs],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();var Ud=C(5094),wm=C(4753);function ua(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var i,o,d,m,b,jd={exports:{}};i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,d=/(?:\/|^)\.(?=\/)/g,m=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,jd.exports=b={buildAbsoluteURL:function(w,G,re){if(re=re||{},w=w.trim(),!(G=G.trim())){if(!re.alwaysNormalize)return w;var ve=b.parseURL(w);if(!ve)throw new Error("Error trying to parse base URL.");return ve.path=b.normalizePath(ve.path),b.buildURLFromParts(ve)}var qe=b.parseURL(G);if(!qe)throw new Error("Error trying to parse relative URL.");if(qe.scheme)return re.alwaysNormalize?(qe.path=b.normalizePath(qe.path),b.buildURLFromParts(qe)):G;var Xe=b.parseURL(w);if(!Xe)throw new Error("Error trying to parse base URL.");if(!Xe.netLoc&&Xe.path&&"/"!==Xe.path[0]){var pt=o.exec(Xe.path);Xe.netLoc=pt[1],Xe.path=pt[2]}Xe.netLoc&&!Xe.path&&(Xe.path="/");var St={scheme:Xe.scheme,netLoc:qe.netLoc,path:null,params:qe.params,query:qe.query,fragment:qe.fragment};if(!qe.netLoc&&(St.netLoc=Xe.netLoc,"/"!==qe.path[0]))if(qe.path){var Ot=Xe.path,$t=Ot.substring(0,Ot.lastIndexOf("/")+1)+qe.path;St.path=b.normalizePath($t)}else St.path=Xe.path,qe.params||(St.params=Xe.params,qe.query||(St.query=Xe.query));return null===St.path&&(St.path=re.alwaysNormalize?b.normalizePath(qe.path):qe.path),b.buildURLFromParts(St)},parseURL:function(w){var G=i.exec(w);return G?{scheme:G[1]||"",netLoc:G[2]||"",path:G[3]||"",params:G[4]||"",query:G[5]||"",fragment:G[6]||""}:null},normalizePath:function(w){for(w=w.split("").reverse().join("").replace(d,"");w.length!==(w=w.replace(m,"")).length;);return w.split("").reverse().join("")},buildURLFromParts:function(w){return w.scheme+w.netLoc+w.path+w.params+w.query+w.fragment}};var Kg=jd.exports;function Sb(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,i)}return e}function Fa(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Sb(Object(e),!0).forEach(function(i){cw(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Sb(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function cw(r,n,e){return n=function qf(r){var n=function Yg(r,n){if("object"!=typeof r||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var i=e.call(r,n||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(r)}(r,"string");return"symbol"==typeof n?n:String(n)}(n),n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function zo(){return zo=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},zo.apply(this,arguments)}const Ri=Number.isFinite||function(r){return"number"==typeof r&&isFinite(r)};let Nt=function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r}({}),Fi=function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r}({}),Gn=function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.UNKNOWN="unknown",r}({});const Vd=function(){},Wg={trace:Vd,debug:Vd,log:Vd,warn:Vd,info:Vd,error:Vd};let Jf=Wg;const xn=Jf,Zg=/^(\d+)x(\d+)$/,xx=/(.+?)=(".*?"|.*?)(?:,|$)/g;class po{constructor(n){"string"==typeof n&&(n=po.parseAttrList(n));for(const e in n)n.hasOwnProperty(e)&&("X-"===e.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(e)),this[e]=n[e])}decimalInteger(n){const e=parseInt(this[n],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(n){if(this[n]){let e=(this[n]||"0x").slice(2);e=(1&e.length?"0":"")+e;const i=new Uint8Array(e.length/2);for(let o=0;o<e.length/2;o++)i[o]=parseInt(e.slice(2*o,2*o+2),16);return i}return null}hexadecimalIntegerAsNumber(n){const e=parseInt(this[n],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(n){return parseFloat(this[n])}optionalFloat(n,e){const i=this[n];return i?parseFloat(i):e}enumeratedString(n){return this[n]}bool(n){return"YES"===this[n]}decimalResolution(n){const e=Zg.exec(this[n]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(n){let e;const i={};for(xx.lastIndex=0;null!==(e=xx.exec(n));){let d=e[2];0===d.indexOf('"')&&d.lastIndexOf('"')===d.length-1&&(d=d.slice(1,-1)),i[e[1].trim()]=d}return i}}function xb(r){return"SCTE35-OUT"===r||"SCTE35-IN"===r}class Gd{constructor(n,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const i=e.attr;for(const o in i)if(Object.prototype.hasOwnProperty.call(n,o)&&n[o]!==i[o]){xn.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${n.ID}"`),this._badValueForSameId=o;break}n=zo(new po({}),i,n)}if(this.attr=n,this._startDate=new Date(n["START-DATE"]),"END-DATE"in this.attr){const i=new Date(this.attr["END-DATE"]);Ri(i.getTime())&&(this._endDate=i)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const n=this.duration;return null!==n?new Date(this._startDate.getTime()+1e3*n):null}get duration(){if("DURATION"in this.attr){const n=this.attr.decimalFloatingPoint("DURATION");if(Ri(n))return n}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&Ri(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Im{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class Pm{constructor(n){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=n}setByteRange(n,e){const i=n.split("@",2),o=[];o[0]=1===i.length?e?e.byteRangeEndOffset:0:parseInt(i[1]),o[1]=parseInt(i[0])+o[0],this._byteRange=o}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Kg.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(n){this._url=n}}class Ab extends Pm{constructor(n,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Im,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=n}get decryptdata(){const{levelkeys:n}=this;if(!n&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const i=Object.keys(this.levelkeys);if(1===i.length)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!Ri(this.programDateTime))return null;const n=Ri(this.duration)?this.duration:0;return this.programDateTime+1e3*n}get encrypted(){var n;if(null!=(n=this._decryptdata)&&n.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),i=e.length;if(i>1||1===i&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(n){if(this.levelkeys){const e=this.levelkeys[n];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var n,e;null==(n=this.loader)||n.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(n,e,i,o,d,m=!1){const{elementaryStreams:b}=this,w=b[n];w?(w.startPTS=Math.min(w.startPTS,e),w.endPTS=Math.max(w.endPTS,i),w.startDTS=Math.min(w.startDTS,o),w.endDTS=Math.max(w.endDTS,d)):b[n]={startPTS:e,endPTS:i,startDTS:o,endDTS:d,partial:m}}clearElementaryStreamInfo(){const{elementaryStreams:n}=this;n.audio=null,n.video=null,n.audiovideo=null}}class Mx extends Pm{constructor(n,e,i,o,d){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Im,this.duration=n.decimalFloatingPoint("DURATION"),this.gap=n.bool("GAP"),this.independent=n.bool("INDEPENDENT"),this.relurl=n.enumeratedString("URI"),this.fragment=e,this.index=o;const m=n.enumeratedString("BYTERANGE");m&&this.setByteRange(m,d),d&&(this.fragOffset=d.fragOffset+d.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:n}=this;return!!(n.audio||n.video||n.audiovideo)}}class wx{constructor(n){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=n}reloaded(n){if(!n)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-n.lastPartSn,i=this.lastPartIndex-n.lastPartIndex;this.updated=this.endSN!==n.endSN||!!i||!!e,this.advanced=this.endSN>n.endSN||e>0||0===e&&i>0,this.misses=this.updated||this.advanced?Math.floor(.6*n.misses):n.misses+1,this.availabilityDelay=n.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&Ri(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const n=this.driftEndTime-this.driftStartTime;return n>0?1e3*(this.driftEnd-this.driftStart)/n:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var n;return null!=(n=this.fragments)&&n.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function $g(r){return Uint8Array.from(atob(r),n=>n.charCodeAt(0))}function Ib(r){return Uint8Array.from(unescape(encodeURIComponent(r)),n=>n.charCodeAt(0))}var go={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},fa_FAIRPLAY="com.apple.streamingkeydelivery",fa_PLAYREADY="com.microsoft.playready",fa_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Pb(r){switch(r){case fa_FAIRPLAY:return go.FAIRPLAY;case fa_PLAYREADY:return go.PLAYREADY;case fa_WIDEVINE:return go.WIDEVINE;case"org.w3.clearkey":return go.CLEARKEY}}function Nb(r){switch(r){case go.FAIRPLAY:return fa_FAIRPLAY;case go.PLAYREADY:return fa_PLAYREADY;case go.WIDEVINE:return fa_WIDEVINE;case go.CLEARKEY:return"org.w3.clearkey"}}function Om(r){const{drmSystems:n,widevineLicenseUrl:e}=r,i=n?[go.FAIRPLAY,go.WIDEVINE,go.PLAYREADY,go.CLEARKEY].filter(o=>!!n[o]):[];return!i[go.WIDEVINE]&&e&&i.push(go.WIDEVINE),i}const qg=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function Hd(r,n,e){return Uint8Array.prototype.slice?r.slice(n,e):new Uint8Array(Array.prototype.slice.call(r,n,e))}const Jg=(r,n)=>n+10<=r.length&&73===r[n]&&68===r[n+1]&&51===r[n+2]&&r[n+3]<255&&r[n+4]<255&&r[n+6]<128&&r[n+7]<128&&r[n+8]<128&&r[n+9]<128,Px=(r,n)=>n+10<=r.length&&51===r[n]&&68===r[n+1]&&73===r[n+2]&&r[n+3]<255&&r[n+4]<255&&r[n+6]<128&&r[n+7]<128&&r[n+8]<128&&r[n+9]<128,Qf=(r,n)=>{const e=n;let i=0;for(;Jg(r,n);)i+=10,i+=Qg(r,n+6),Px(r,n+10)&&(i+=10),n+=i;if(i>0)return r.subarray(e,e+i)},Qg=(r,n)=>{let e=0;return e=(127&r[n])<<21,e|=(127&r[n+1])<<14,e|=(127&r[n+2])<<7,e|=127&r[n+3],e},uw=(r,n)=>Jg(r,n)&&Qg(r,n+6)+10<=r.length-n,Ox=r=>r&&"PRIV"===r.key&&"com.apple.streaming.transportStreamTimestamp"===r.info,hw=r=>{const n=String.fromCharCode(r[0],r[1],r[2],r[3]),e=Qg(r,4);return{type:n,size:e,data:r.subarray(10,10+e)}},Rx=r=>{let n=0;const e=[];for(;Jg(r,n);){const i=Qg(r,n+6);n+=10;const o=n+i;for(;n+8<o;){const d=hw(r.subarray(n)),m=mw(d);m&&e.push(m),n+=d.size+10}Px(r,n)&&(n+=10)}return e},mw=r=>"PRIV"===r.type?pw(r):"W"===r.type[0]?Fb(r):gw(r),pw=r=>{if(r.size<2)return;const n=bl(r.data,!0),e=new Uint8Array(r.data.subarray(n.length+1));return{key:r.type,info:n,data:e.buffer}},gw=r=>{if(r.size<2)return;if("TXXX"===r.type){let e=1;const i=bl(r.data.subarray(e),!0);e+=i.length+1;const o=bl(r.data.subarray(e));return{key:r.type,info:i,data:o}}const n=bl(r.data.subarray(1));return{key:r.type,data:n}},Fb=r=>{if("WXXX"===r.type){if(r.size<2)return;let e=1;const i=bl(r.data.subarray(e),!0);e+=i.length+1;const o=bl(r.data.subarray(e));return{key:r.type,info:i,data:o}}const n=bl(r.data);return{key:r.type,data:n}},Xg=r=>{if(8===r.data.byteLength){const n=new Uint8Array(r.data);let i=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7];return i/=45,1&n[3]&&(i+=47721858.84),Math.round(i)}},bl=(r,n=!1)=>{const e=function Rm(){return!e_&&typeof self.TextDecoder<"u"&&(e_=new self.TextDecoder("utf-8")),e_}();if(e){const G=e.decode(r);if(n){const re=G.indexOf("\0");return-1!==re?G.substring(0,re):G}return G.replace(/\0/g,"")}const i=r.length;let o,d,m,b="",w=0;for(;w<i;){if(o=r[w++],0===o&&n)return b;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:b+=String.fromCharCode(o);break;case 12:case 13:d=r[w++],b+=String.fromCharCode((31&o)<<6|63&d);break;case 14:d=r[w++],m=r[w++],b+=String.fromCharCode((15&o)<<12|(63&d)<<6|(63&m)<<0)}}return b};let e_;const ql_hexDump=function(r){let n="";for(let e=0;e<r.length;e++){let i=r[e].toString(16);i.length<2&&(i="0"+i),n+=i}return n},t_=Math.pow(2,32)-1,_w=[].push,Bb={video:1,audio:2,id3:3,text:4};function Es(r){return String.fromCharCode.apply(null,r)}function Ub(r,n){const e=r[n]<<8|r[n+1];return e<0?65536+e:e}function Zi(r,n){const e=jb(r,n);return e<0?4294967296+e:e}function jb(r,n){return r[n]<<24|r[n+1]<<16|r[n+2]<<8|r[n+3]}function Vb(r,n,e){r[n]=e>>24,r[n+1]=e>>16&255,r[n+2]=e>>8&255,r[n+3]=255&e}function Mr(r,n){const e=[];if(!n.length)return e;const i=r.byteLength;for(let o=0;o<i;){const d=Zi(r,o),b=d>1?o+d:i;if(Es(r.subarray(o+4,o+8))===n[0])if(1===n.length)e.push(r.subarray(o+8,b));else{const w=Mr(r.subarray(o+8,b),n.slice(1));w.length&&_w.apply(e,w)}o=b}return e}function Gb(r){const n=[],e=r[0];let i=8;const o=Zi(r,i);i+=4,i+=0===e?8:16,i+=2;let b=r.length+0;const w=Ub(r,i);i+=2;for(let G=0;G<w;G++){let re=i;const ve=Zi(r,re);re+=4;const qe=2147483647&ve;if((2147483648&ve)>>>31==1)return xn.warn("SIDX has hierarchical references (not supported)"),null;const pt=Zi(r,re);re+=4,n.push({referenceSize:qe,subsegmentDuration:pt,info:{duration:pt/o,start:b,end:b+qe-1}}),b+=qe,re+=4,i=re}return{earliestPresentationTime:0,timescale:o,version:e,referencesCount:w,references:n}}function n_(r){const n=[],e=Mr(r,["moov","trak"]);for(let o=0;o<e.length;o++){const d=e[o],m=Mr(d,["tkhd"])[0];if(m){let b=m[0],w=0===b?12:20;const G=Zi(m,w),re=Mr(d,["mdia","mdhd"])[0];if(re){b=re[0],w=0===b?12:20;const ve=Zi(re,w),qe=Mr(d,["mdia","hdlr"])[0];if(qe){const pt={soun:"audio",vide:"video"}[Es(qe.subarray(8,12))];if(pt){const St=Mr(d,["mdia","minf","stbl","stsd"])[0];let Ot;St&&(Ot=Es(St.subarray(12,16))),n[G]={timescale:ve,type:pt},n[pt]={timescale:ve,id:G,codec:Ot}}}}}}return Mr(r,["moov","mvex","trex"]).forEach(o=>{const d=Zi(o,4),m=n[d];m&&(m.default={duration:Zi(o,12),flags:Zi(o,20)})}),n}function $a(r){const n=Mr(r,["schm"])[0];if(n){const e=Es(n.subarray(4,8));if("cbcs"===e||"cenc"===e)return Mr(r,["schi","tenc"])[0]}return xn.error("[eme] missing 'schm' box"),null}function yw(r){const n=Zi(r,0);let e=8;1&n&&(e+=4),4&n&&(e+=4);let i=0;const o=Zi(r,4);for(let d=0;d<o;d++)256&n&&(i+=Zi(r,e),e+=4),512&n&&(e+=4),1024&n&&(e+=4),2048&n&&(e+=4);return i}function Nc(r,n){const e=new Uint8Array(r.length+n.length);return e.set(r),e.set(n,r.length),e}function Kb(r,n){const e=[],i=n.samples,o=n.timescale,d=n.id;let m=!1;return Mr(i,["moof"]).map(w=>{const G=w.byteOffset-8;Mr(w,["traf"]).map(ve=>{const qe=Mr(ve,["tfdt"]).map(Xe=>{const pt=Xe[0];let St=Zi(Xe,4);return 1===pt&&(St*=Math.pow(2,32),St+=Zi(Xe,8)),St/o})[0];return void 0!==qe&&(r=qe),Mr(ve,["tfhd"]).map(Xe=>{const pt=Zi(Xe,4),St=16777215&Zi(Xe,0);let an=0;const yn=0!=(16&St);let Sn=0;const Un=0!=(32&St);let On=8;pt===d&&(0!=(1&St)&&(On+=8),0!=(2&St)&&(On+=4),0!=(8&St)&&(an=Zi(Xe,On),On+=4),yn&&(Sn=Zi(Xe,On),On+=4),Un&&(On+=4),"video"===n.type&&(m=function kx(r){if(!r)return!1;const n=r.indexOf("."),e=n<0?r:r.substring(0,n);return"hvc1"===e||"hev1"===e||"dvh1"===e||"dvhe"===e}(n.codec)),Mr(ve,["trun"]).map(zn=>{const ii=zn[0],Ln=16777215&Zi(zn,0),yi=0!=(1&Ln);let mi=0;const Ui=0!=(4&Ln),vo=0!=(256&Ln);let wr=0;const oi=0!=(512&Ln);let ui=0;const Qn=0!=(1024&Ln),ci=0!=(2048&Ln);let ji=0;const mr=Zi(zn,4);let Yi=8;yi&&(mi=Zi(zn,Yi),Yi+=4),Ui&&(Yi+=4);let Rr=mi+G;for(let ar=0;ar<mr;ar++){if(vo?(wr=Zi(zn,Yi),Yi+=4):wr=an,oi?(ui=Zi(zn,Yi),Yi+=4):ui=Sn,Qn&&(Yi+=4),ci&&(ji=0===ii?Zi(zn,Yi):jb(zn,Yi),Yi+=4),"video"===n.type){let jo=0;for(;jo<ui;){const Ss=Zi(i,Rr);Rr+=4,i_(m,i[Rr])&&r_(i.subarray(Rr,Rr+Ss),m?2:1,r+ji/o,e),Rr+=Ss,jo+=Ss+4}}r+=wr/o}}))})})}),e}function i_(r,n){if(r){const e=n>>1&63;return 39===e||40===e}return 6==(31&n)}function r_(r,n,e,i){const o=o_(r);let d=0;d+=n;let m=0,b=0,w=!1,G=0;for(;d<o.length;){m=0;do{if(d>=o.length)break;G=o[d++],m+=G}while(255===G);b=0;do{if(d>=o.length)break;G=o[d++],b+=G}while(255===G);const re=o.length-d;if(!w&&4===m&&d<o.length){if(w=!0,181===o[d++]){const qe=Ub(o,d);if(d+=2,49===qe){const Xe=Zi(o,d);if(d+=4,1195456820===Xe){const pt=o[d++];if(3===pt){const St=o[d++],$t=64&St,fn=$t?2+3*(31&St):0,an=new Uint8Array(fn);if($t){an[0]=St;for(let yn=1;yn<fn;yn++)an[yn]=o[d++]}i.push({type:pt,payloadType:m,pts:e,bytes:an})}}}}}else if(5===m&&b<re){if(w=!0,b>16){const ve=[];for(let pt=0;pt<16;pt++){const St=o[d++].toString(16);ve.push(1==St.length?"0"+St:St),(3===pt||5===pt||7===pt||9===pt)&&ve.push("-")}const qe=b-16,Xe=new Uint8Array(qe);for(let pt=0;pt<qe;pt++)Xe[pt]=o[d++];i.push({payloadType:m,pts:e,uuid:ve.join(""),userData:bl(Xe),userDataBytes:Xe})}}else if(b<re)d+=b;else if(b>re)break}}function o_(r){const n=r.byteLength,e=[];let i=1;for(;i<n-2;)0===r[i]&&0===r[i+1]&&3===r[i+2]?(e.push(i+2),i+=2):i++;if(0===e.length)return r;const o=n-e.length,d=new Uint8Array(o);let m=0;for(i=0;i<o;m++,i++)m===e[0]&&(m++,e.shift()),d[i]=r[m];return d}let Xf={};class eh{static clearKeyUriToKeyIdMap(){Xf={}}constructor(n,e,i,o=[1],d=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=n,this.uri=e,this.keyFormat=i,this.keyFormatVersions=o,this.iv=d,this.encrypted=!!n&&"NONE"!==n,this.isCommonEncryption=this.encrypted&&"AES-128"!==n}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case fa_FAIRPLAY:case fa_WIDEVINE:case fa_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(n){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof n&&("AES-128"===this.method&&!this.iv&&xn.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),n=0);const i=function Zb(r){const n=new Uint8Array(16);for(let e=12;e<16;e++)n[e]=r>>8*(15-e)&255;return n}(n);return new eh(this.method,this.uri,"identity",this.keyFormatVersions,i)}const e=function wb(r){const n=r.split(":");let e=null;if("data"===n[0]&&2===n.length){const i=n[1].split(";"),o=i[i.length-1].split(",");if(2===o.length){const m=o[1];"base64"===o[0]?(i.splice(-1,1),e=$g(m)):e=function Ix(r){const n=Ib(r).subarray(0,16),e=new Uint8Array(16);return e.set(n,16-n.length),e}(m)}}return e}(this.uri);if(e)switch(this.keyFormat){case fa_WIDEVINE:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case fa_PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function Wb(r,n,e){if(16!==r.byteLength)throw new RangeError("Invalid system id");let i,o,d;if(n){i=1,o=new Uint8Array(16*n.length);for(let b=0;b<n.length;b++){const w=n[b];if(16!==w.byteLength)throw new RangeError("Invalid key");o.set(w,16*b)}}else i=0,o=new Uint8Array;i>0?(d=new Uint8Array(4),n.length>0&&new DataView(d.buffer).setUint32(0,n.length,!1)):d=new Uint8Array;const m=new Uint8Array(4);return e&&e.byteLength>0&&new DataView(m.buffer).setUint32(0,e.byteLength,!1),function Yb(r,...n){const e=n.length;let i=8,o=e;for(;o--;)i+=n[o].byteLength;const d=new Uint8Array(i);for(d[0]=i>>24&255,d[1]=i>>16&255,d[2]=i>>8&255,d[3]=255&i,d.set(r,4),o=0,i=8;o<e;o++)d.set(n[o],i),i+=n[o].byteLength;return d}([112,115,115,104],new Uint8Array([i,0,0,0]),r,d,o,m,e||new Uint8Array)}(i,null,e);const o=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),d=String.fromCharCode.apply(null,Array.from(o)),m=d.substring(d.indexOf("<"),d.length),G=(new DOMParser).parseFromString(m,"text/xml").getElementsByTagName("KID")[0];if(G){const re=G.childNodes[0]?G.childNodes[0].nodeValue:G.getAttribute("VALUE");if(re){const ve=$g(re).subarray(0,16);(function Mb(r){const n=function(i,o,d){const m=i[o];i[o]=i[d],i[d]=m};n(r,0,3),n(r,1,2),n(r,4,5),n(r,6,7)})(ve),this.keyId=ve}}break}default:{let i=e.subarray(0,16);if(16!==i.length){const o=new Uint8Array(16);o.set(i,16-i.length),i=o}this.keyId=i;break}}if(!this.keyId||16!==this.keyId.byteLength){let i=Xf[this.uri];if(!i){const o=Object.keys(Xf).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,o),Xf[this.uri]=i}this.keyId=i}return this}}const $b=/\{\$([a-zA-Z0-9-_]+)\}/g;function Nm(r){return $b.test(r)}function Uo(r,n,e){if(null!==r.variableList||r.hasVariableRefs)for(let i=e.length;i--;){const o=e[i],d=n[o];d&&(n[o]=Lm(r,d))}}function Lm(r,n){if(null!==r.variableList||r.hasVariableRefs){const e=r.variableList;return n.replace($b,i=>{const o=i.substring(2,i.length-1),d=e?.[o];return void 0===d?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${o}"`)),i):d})}return n}function km(r,n,e){let o,d,i=r.variableList;if(i||(r.variableList=i={}),"QUERYPARAM"in n){o=n.QUERYPARAM;try{const m=new self.URL(e).searchParams;if(!m.has(o))throw new Error(`"${o}" does not match any query parameter in URI: "${e}"`);d=m.get(o)}catch(m){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${m.message}`))}}else o=n.NAME,d=n.VALUE;o in i?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${o}"`)):i[o]=d||""}function s_(r,n,e){const i=n.IMPORT;if(e&&i in e){let o=r.variableList;o||(r.variableList=o={}),o[i]=e[i]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}function Fm(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const bw={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},a_=Fm();function l_(r,n){var e;return null!=(e=a_?.isTypeSupported(`${n||"video"}/mp4;codecs="${r}"`))&&e}const qb=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Jb=/#EXT-X-MEDIA:(.*)/g,Qb=/^#EXT(?:INF|-X-TARGETDURATION):/m,Ux=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Xb=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class El{static findGroup(n,e){for(let i=0;i<n.length;i++){const o=n[i];if(o.id===e)return o}}static convertAVC1ToAVCOTI(n){const e=n.split(".");if(e.length>2){let i=e.shift()+".";return i+=parseInt(e.shift()).toString(16),i+=("000"+parseInt(e.shift()).toString(16)).slice(-4),i}return n}static resolve(n,e){return Kg.buildAbsoluteURL(e,n,{alwaysNormalize:!0})}static isMediaPlaylist(n){return Qb.test(n)}static parseMasterPlaylist(n,e){const o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Nm(n)},d=[];let m;for(qb.lastIndex=0;null!=(m=qb.exec(n));)if(m[1]){var b;const G=new po(m[1]);Uo(o,G,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const re=Lm(o,m[2]),ve={attrs:G,bitrate:G.decimalInteger("AVERAGE-BANDWIDTH")||G.decimalInteger("BANDWIDTH"),name:G.NAME,url:El.resolve(re,e)},qe=G.decimalResolution("RESOLUTION");qe&&(ve.width=qe.width,ve.height=qe.height),d_((G.CODECS||"").split(/[ ,]+/).filter(Xe=>Xe),ve),ve.videoCodec&&-1!==ve.videoCodec.indexOf("avc1")&&(ve.videoCodec=El.convertAVC1ToAVCOTI(ve.videoCodec)),null!=(b=ve.unknownCodecs)&&b.length||d.push(ve),o.levels.push(ve)}else if(m[3]){const re=m[4];switch(m[3]){case"SESSION-DATA":{const ve=new po(re);Uo(o,ve,["DATA-ID","LANGUAGE","VALUE","URI"]);const qe=ve["DATA-ID"];qe&&(null===o.sessionData&&(o.sessionData={}),o.sessionData[qe]=ve);break}case"SESSION-KEY":{const ve=c_(re,e,o);ve.encrypted&&ve.isSupported()?(null===o.sessionKeys&&(o.sessionKeys=[]),o.sessionKeys.push(ve)):xn.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${re}"`);break}case"DEFINE":{const ve=new po(re);Uo(o,ve,["NAME","VALUE","QUERYPARAM"]),km(o,ve,e)}break;case"CONTENT-STEERING":{const ve=new po(re);Uo(o,ve,["SERVER-URI","PATHWAY-ID"]),o.contentSteering={uri:El.resolve(ve["SERVER-URI"],e),pathwayId:ve["PATHWAY-ID"]||"."};break}case"START":o.startTimeOffset=jx(re)}}return o.levels=d.length>0&&d.length<o.levels.length?d:o.levels,0===o.levels.length&&(o.playlistParsingError=new Error("no levels found in manifest")),o}static parseMasterPlaylistMedia(n,e,i){let o;const d={},m=i.levels,b={AUDIO:m.map(G=>({id:G.attrs.AUDIO,audioCodec:G.audioCodec})),SUBTITLES:m.map(G=>({id:G.attrs.SUBTITLES,textCodec:G.textCodec})),"CLOSED-CAPTIONS":[]};let w=0;for(Jb.lastIndex=0;null!==(o=Jb.exec(n));){const G=new po(o[1]),re=G.TYPE;if(re){const ve=b[re],qe=d[re]||[];d[re]=qe,Uo(i,G,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const Xe={attrs:G,bitrate:0,id:w++,groupId:G["GROUP-ID"]||"",instreamId:G["INSTREAM-ID"],name:G.NAME||G.LANGUAGE||"",type:re,default:G.bool("DEFAULT"),autoselect:G.bool("AUTOSELECT"),forced:G.bool("FORCED"),lang:G.LANGUAGE,url:G.URI?El.resolve(G.URI,e):""};if(null!=ve&&ve.length){const pt=El.findGroup(ve,Xe.groupId)||ve[0];u_(Xe,pt,"audioCodec"),u_(Xe,pt,"textCodec")}qe.push(Xe)}}return d}static parseLevelPlaylist(n,e,i,o,d,m){const b=new wx(e),w=b.fragments;let Ot,$t,fn,G=null,re=0,ve=0,qe=0,Xe=0,pt=null,St=new Ab(o,e),an=-1,yn=!1;for(Ux.lastIndex=0,b.m3u8=n,b.hasVariableRefs=Nm(n);null!==(Ot=Ux.exec(n));){yn&&(yn=!1,St=new Ab(o,e),St.start=qe,St.sn=re,St.cc=Xe,St.level=i,G&&(St.initSegment=G,St.rawProgramDateTime=G.rawProgramDateTime,G.rawProgramDateTime=null));const zn=Ot[1];if(zn){St.duration=parseFloat(zn);const ii=(" "+Ot[2]).slice(1);St.title=ii||null,St.tagList.push(ii?["INF",zn,ii]:["INF",zn])}else if(Ot[3]){if(Ri(St.duration)){St.start=qe,fn&&h_(St,fn,b),St.sn=re,St.level=i,St.cc=Xe,St.urlId=d,w.push(St);const ii=(" "+Ot[3]).slice(1);St.relurl=Lm(b,ii),tE(St,pt),pt=St,qe+=St.duration,re++,ve=0,yn=!0}}else if(Ot[4]){const ii=(" "+Ot[4]).slice(1);pt?St.setByteRange(ii,pt):St.setByteRange(ii)}else if(Ot[5])St.rawProgramDateTime=(" "+Ot[5]).slice(1),St.tagList.push(["PROGRAM-DATE-TIME",St.rawProgramDateTime]),-1===an&&(an=w.length);else{if(Ot=Ot[0].match(Xb),!Ot){xn.warn("No matches on slow regex match for level playlist!");continue}for($t=1;$t<Ot.length&&!(typeof Ot[$t]<"u");$t++);const ii=(" "+Ot[$t]).slice(1),Ln=(" "+Ot[$t+1]).slice(1),yi=Ot[$t+2]?(" "+Ot[$t+2]).slice(1):"";switch(ii){case"PLAYLIST-TYPE":b.type=Ln.toUpperCase();break;case"MEDIA-SEQUENCE":re=b.startSN=parseInt(Ln);break;case"SKIP":{const mi=new po(Ln);Uo(b,mi,["RECENTLY-REMOVED-DATERANGES"]);const Ui=mi.decimalInteger("SKIPPED-SEGMENTS");if(Ri(Ui)){b.skippedSegments=Ui;for(let wr=Ui;wr--;)w.unshift(null);re+=Ui}const vo=mi.enumeratedString("RECENTLY-REMOVED-DATERANGES");vo&&(b.recentlyRemovedDateranges=vo.split("\t"));break}case"TARGETDURATION":b.targetduration=Math.max(parseInt(Ln),1);break;case"VERSION":b.version=parseInt(Ln);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"#":(Ln||yi)&&St.tagList.push(yi?[Ln,yi]:[Ln]);break;case"DISCONTINUITY":Xe++,St.tagList.push(["DIS"]);break;case"GAP":St.gap=!0,St.tagList.push([ii]);break;case"BITRATE":St.tagList.push([ii,Ln]);break;case"DATERANGE":{const mi=new po(Ln);Uo(b,mi,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Uo(b,mi,mi.clientAttrs);const Ui=new Gd(mi,b.dateRanges[mi.ID]);Ui.isValid||b.skippedSegments?b.dateRanges[Ui.id]=Ui:xn.warn(`Ignoring invalid DATERANGE tag: "${Ln}"`),St.tagList.push(["EXT-X-DATERANGE",Ln]);break}case"DEFINE":{const mi=new po(Ln);Uo(b,mi,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in mi?s_(b,mi,m):km(b,mi,e)}break;case"DISCONTINUITY-SEQUENCE":Xe=parseInt(Ln);break;case"KEY":{const mi=c_(Ln,e,b);if(mi.isSupported()){if("NONE"===mi.method){fn=void 0;break}fn||(fn={}),fn[mi.keyFormat]&&(fn=zo({},fn)),fn[mi.keyFormat]=mi}else xn.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${Ln}"`);break}case"START":b.startTimeOffset=jx(Ln);break;case"MAP":{const mi=new po(Ln);if(Uo(b,mi,["BYTERANGE","URI"]),St.duration){const Ui=new Ab(o,e);f_(Ui,mi,i,fn),G=Ui,St.initSegment=G,G.rawProgramDateTime&&!St.rawProgramDateTime&&(St.rawProgramDateTime=G.rawProgramDateTime)}else f_(St,mi,i,fn),G=St,yn=!0;break}case"SERVER-CONTROL":{const mi=new po(Ln);b.canBlockReload=mi.bool("CAN-BLOCK-RELOAD"),b.canSkipUntil=mi.optionalFloat("CAN-SKIP-UNTIL",0),b.canSkipDateRanges=b.canSkipUntil>0&&mi.bool("CAN-SKIP-DATERANGES"),b.partHoldBack=mi.optionalFloat("PART-HOLD-BACK",0),b.holdBack=mi.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const mi=new po(Ln);b.partTarget=mi.decimalFloatingPoint("PART-TARGET");break}case"PART":{let mi=b.partList;mi||(mi=b.partList=[]);const Ui=ve>0?mi[mi.length-1]:void 0,vo=ve++,wr=new po(Ln);Uo(b,wr,["BYTERANGE","URI"]);const oi=new Mx(wr,St,e,vo,Ui);mi.push(oi),St.duration+=oi.duration;break}case"PRELOAD-HINT":{const mi=new po(Ln);Uo(b,mi,["URI"]),b.preloadHint=mi;break}case"RENDITION-REPORT":{const mi=new po(Ln);Uo(b,mi,["URI"]),b.renditionReports=b.renditionReports||[],b.renditionReports.push(mi);break}default:xn.warn(`line parsed but not handled: ${Ot}`)}}}pt&&!pt.relurl?(w.pop(),qe-=pt.duration,b.partList&&(b.fragmentHint=pt)):b.partList&&(tE(St,pt),St.cc=Xe,b.fragmentHint=St,fn&&h_(St,fn,b));const Sn=w.length,Un=w[0],On=w[Sn-1];if(qe+=b.skippedSegments*b.targetduration,qe>0&&Sn&&On){b.averagetargetduration=qe/Sn;const zn=On.sn;b.endSN="initSegment"!==zn?zn:0,b.live||(On.endList=!0),Un&&(b.startCC=Un.cc)}else b.endSN=0,b.startCC=0;return b.fragmentHint&&(qe+=b.fragmentHint.duration),b.totalduration=qe,b.endCC=Xe,an>0&&function eE(r,n){let e=r[n];for(let i=n;i--;){const o=r[i];if(!o)return;o.programDateTime=e.programDateTime-1e3*o.duration,e=o}}(w,an),b}}function c_(r,n,e){var i,o;const d=new po(r);Uo(e,d,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const m=null!=(i=d.METHOD)?i:"",b=d.URI,w=d.hexadecimalInteger("IV"),G=d.KEYFORMATVERSIONS,re=null!=(o=d.KEYFORMAT)?o:"identity";b&&d.IV&&!w&&xn.error(`Invalid IV: ${d.IV}`);const ve=b?El.resolve(b,n):"",qe=(G||"1").split("/").map(Number).filter(Number.isFinite);return new eh(m,ve,re,qe,w)}function jx(r){const e=new po(r).decimalFloatingPoint("TIME-OFFSET");return Ri(e)?e:null}function d_(r,n){["video","audio","text"].forEach(e=>{const i=r.filter(o=>function Bx(r,n){const e=bw[n];return!!e&&!0===e[r.slice(0,4)]}(o,e));if(i.length){const o=i.filter(d=>0===d.lastIndexOf("avc1",0)||0===d.lastIndexOf("mp4a",0));n[`${e}Codec`]=o.length>0?o[0]:i[0],r=r.filter(d=>-1===i.indexOf(d))}}),n.unknownCodecs=r}function u_(r,n,e){const i=n[e];i&&(r[e]=i)}function tE(r,n){r.rawProgramDateTime?r.programDateTime=Date.parse(r.rawProgramDateTime):null!=n&&n.programDateTime&&(r.programDateTime=n.endProgramDateTime),Ri(r.programDateTime)||(r.programDateTime=null,r.rawProgramDateTime=null)}function f_(r,n,e,i){r.relurl=n.URI,n.BYTERANGE&&r.setByteRange(n.BYTERANGE),r.level=e,r.sn="initSegment",i&&(r.levelkeys=i),r.initSegment=null}function h_(r,n,e){r.levelkeys=n;const{encryptedFragments:i}=e;(!i.length||i[i.length-1].levelkeys!==n)&&Object.keys(n).some(o=>n[o].isCommonEncryption)&&i.push(r)}function m_(r){const{type:n}=r;switch(n){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function Bm(r,n){let e=r.url;return(void 0===e||0===e.indexOf("data:"))&&(e=n.url),e}class Vx{constructor(n){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=n,this.registerListeners()}startLoad(n){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:n}=this;n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Nt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.on(Nt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:n}=this;n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.LEVEL_LOADING,this.onLevelLoading,this),n.off(Nt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.off(Nt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(n){const e=this.hls.config,m=new(e.pLoader||e.loader)(e);return this.loaders[n.type]=m,m}getInternalLoader(n){return this.loaders[n.type]}resetInternalLoader(n){this.loaders[n]&&delete this.loaders[n]}destroyInternalLoaders(){for(const n in this.loaders){const e=this.loaders[n];e&&e.destroy(),this.resetInternalLoader(n)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(n,e){const{url:i}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:i,deliveryDirectives:null})}onLevelLoading(n,e){const{id:i,level:o,url:d,deliveryDirectives:m}=e;this.load({id:i,level:o,responseType:"text",type:"level",url:d,deliveryDirectives:m})}onAudioTrackLoading(n,e){const{id:i,groupId:o,url:d,deliveryDirectives:m}=e;this.load({id:i,groupId:o,level:null,responseType:"text",type:"audioTrack",url:d,deliveryDirectives:m})}onSubtitleTrackLoading(n,e){const{id:i,groupId:o,url:d,deliveryDirectives:m}=e;this.load({id:i,groupId:o,level:null,responseType:"text",type:"subtitleTrack",url:d,deliveryDirectives:m})}load(n){var e;const i=this.hls.config;let d,o=this.getInternalLoader(n);if(o){const G=o.context;if(G&&G.url===n.url)return void xn.trace("[playlist-loader]: playlist request ongoing");xn.log(`[playlist-loader]: aborting previous loader for type: ${n.type}`),o.abort()}if(d="manifest"===n.type?i.manifestLoadPolicy.default:zo({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(n),null!=(e=n.deliveryDirectives)&&e.part){let G;if("level"===n.type&&null!==n.level?G=this.hls.levels[n.level].details:"audioTrack"===n.type&&null!==n.id?G=this.hls.audioTracks[n.id].details:"subtitleTrack"===n.type&&null!==n.id&&(G=this.hls.subtitleTracks[n.id].details),G){const re=G.partTarget,ve=G.targetduration;if(re&&ve){const qe=1e3*Math.max(3*re,.8*ve);d=zo({},d,{maxTimeToFirstByteMs:Math.min(qe,d.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(qe,d.maxTimeToFirstByteMs)})}}}const m=d.errorRetry||d.timeoutRetry||{};o.load(n,{loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:m.maxNumRetry||0,retryDelay:m.retryDelayMs||0,maxRetryDelay:m.maxRetryDelayMs||0},{onSuccess:(G,re,ve,qe)=>{const Xe=this.getInternalLoader(ve);this.resetInternalLoader(ve.type);const pt=G.data;0===pt.indexOf("#EXTM3U")?(re.parsing.start=performance.now(),El.isMediaPlaylist(pt)?this.handleTrackOrLevelPlaylist(G,re,ve,qe||null,Xe):this.handleMasterPlaylist(G,re,ve,qe)):this.handleManifestParsingError(G,ve,new Error("no EXTM3U delimiter"),qe||null,re)},onError:(G,re,ve,qe)=>{this.handleNetworkError(re,ve,!1,G,qe)},onTimeout:(G,re,ve)=>{this.handleNetworkError(re,ve,!0,void 0,G)}})}handleMasterPlaylist(n,e,i,o){const d=this.hls,m=n.data,b=Bm(n,i),w=El.parseMasterPlaylist(m,b);if(w.playlistParsingError)return void this.handleManifestParsingError(n,i,w.playlistParsingError,o,e);const{contentSteering:G,levels:re,sessionData:ve,sessionKeys:qe,startTimeOffset:Xe,variableList:pt}=w;this.variableList=pt;const{AUDIO:St=[],SUBTITLES:Ot,"CLOSED-CAPTIONS":$t}=El.parseMasterPlaylistMedia(m,b,w);St.length&&!St.some(an=>!an.url)&&re[0].audioCodec&&!re[0].attrs.AUDIO&&(xn.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),St.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new po({}),bitrate:0,url:""})),d.trigger(Nt.MANIFEST_LOADED,{levels:re,audioTracks:St,subtitles:Ot,captions:$t,contentSteering:G,url:b,stats:e,networkDetails:o,sessionData:ve,sessionKeys:qe,startTimeOffset:Xe,variableList:pt})}handleTrackOrLevelPlaylist(n,e,i,o,d){const m=this.hls,{id:b,level:w,type:G}=i,re=Bm(n,i),ve=Ri(b)?b:0,qe=Ri(w)?w:ve,Xe=m_(i),pt=El.parseLevelPlaylist(n.data,re,qe,Xe,ve,this.variableList);if("manifest"===G){const St={attrs:new po({}),bitrate:0,details:pt,name:"",url:re};m.trigger(Nt.MANIFEST_LOADED,{levels:[St],audioTracks:[],url:re,stats:e,networkDetails:o,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),i.levelDetails=pt,this.handlePlaylistLoaded(pt,n,e,i,o,d)}handleManifestParsingError(n,e,i,o,d){this.hls.trigger(Nt.ERROR,{type:Fi.NETWORK_ERROR,details:Gn.MANIFEST_PARSING_ERROR,fatal:"manifest"===e.type,url:n.url,err:i,error:i,reason:i.message,response:n,context:e,networkDetails:o,stats:d})}handleNetworkError(n,e,i=!1,o,d){let m=`A network ${i?"timeout":"error"+(o?" (status "+o.code+")":"")} occurred while loading ${n.type}`;"level"===n.type?m+=`: ${n.level} id: ${n.id}`:("audioTrack"===n.type||"subtitleTrack"===n.type)&&(m+=` id: ${n.id} group-id: "${n.groupId}"`);const b=new Error(m);xn.warn(`[playlist-loader]: ${m}`);let w=Gn.UNKNOWN,G=!1;const re=this.getInternalLoader(n);switch(n.type){case"manifest":w=i?Gn.MANIFEST_LOAD_TIMEOUT:Gn.MANIFEST_LOAD_ERROR,G=!0;break;case"level":w=i?Gn.LEVEL_LOAD_TIMEOUT:Gn.LEVEL_LOAD_ERROR,G=!1;break;case"audioTrack":w=i?Gn.AUDIO_TRACK_LOAD_TIMEOUT:Gn.AUDIO_TRACK_LOAD_ERROR,G=!1;break;case"subtitleTrack":w=i?Gn.SUBTITLE_TRACK_LOAD_TIMEOUT:Gn.SUBTITLE_LOAD_ERROR,G=!1}re&&this.resetInternalLoader(n.type);const ve={type:Fi.NETWORK_ERROR,details:w,fatal:G,url:n.url,loader:re,context:n,error:b,networkDetails:e,stats:d};o&&(ve.response=Fa({url:e?.url||n.url,data:void 0},o)),this.hls.trigger(Nt.ERROR,ve)}handlePlaylistLoaded(n,e,i,o,d,m){const b=this.hls,{type:w,level:G,id:re,groupId:ve,deliveryDirectives:qe}=o,Xe=Bm(e,o),pt=m_(o),St="number"==typeof o.level&&"main"===pt?G:void 0;if(!n.fragments.length){const $t=new Error("No Segments found in Playlist");return void b.trigger(Nt.ERROR,{type:Fi.NETWORK_ERROR,details:Gn.LEVEL_EMPTY_ERROR,fatal:!1,url:Xe,error:$t,reason:$t.message,response:e,context:o,level:St,parent:pt,networkDetails:d,stats:i})}n.targetduration||(n.playlistParsingError=new Error("Missing Target Duration"));const Ot=n.playlistParsingError;if(Ot)b.trigger(Nt.ERROR,{type:Fi.NETWORK_ERROR,details:Gn.LEVEL_PARSING_ERROR,fatal:!1,url:Xe,error:Ot,reason:Ot.message,response:e,context:o,level:St,parent:pt,networkDetails:d,stats:i});else switch(n.live&&m&&(m.getCacheAge&&(n.ageHeader=m.getCacheAge()||0),(!m.getCacheAge||isNaN(n.ageHeader))&&(n.ageHeader=0)),w){case"manifest":case"level":b.trigger(Nt.LEVEL_LOADED,{details:n,level:St||0,id:re||0,stats:i,networkDetails:d,deliveryDirectives:qe});break;case"audioTrack":b.trigger(Nt.AUDIO_TRACK_LOADED,{details:n,id:re||0,groupId:ve||"",stats:i,networkDetails:d,deliveryDirectives:qe});break;case"subtitleTrack":b.trigger(Nt.SUBTITLE_TRACK_LOADED,{details:n,id:re||0,groupId:ve||"",stats:i,networkDetails:d,deliveryDirectives:qe})}}}function nE(r,n){let e;try{e=new Event("addtrack")}catch{e=document.createEvent("Event"),e.initEvent("addtrack",!1,!1)}e.track=r,n.dispatchEvent(e)}function Gx(r,n){const e=r.mode;if("disabled"===e&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(n.id))try{if(r.addCue(n),!r.cues.getCueById(n.id))throw new Error(`addCue is failed for: ${n}`)}catch(i){xn.debug(`[texttrack-utils]: ${i}`);try{const o=new self.TextTrackCue(n.startTime,n.endTime,n.text);o.id=n.id,r.addCue(o)}catch(o){xn.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${o}`)}}"disabled"===e&&(r.mode=e)}function Kd(r){const n=r.mode;if("disabled"===n&&(r.mode="hidden"),r.cues)for(let e=r.cues.length;e--;)r.removeCue(r.cues[e]);"disabled"===n&&(r.mode=n)}function p_(r,n,e,i){const o=r.mode;if("disabled"===o&&(r.mode="hidden"),r.cues&&r.cues.length>0){const d=function Kx(r,n,e){const i=[],o=function Hx(r,n){if(n<r[0].startTime)return 0;const e=r.length-1;if(n>r[e].endTime)return-1;let i=0,o=e;for(;i<=o;){const d=Math.floor((o+i)/2);if(n<r[d].startTime)o=d-1;else{if(!(n>r[d].startTime&&i<e))return d;i=d+1}}return r[i].startTime-n<n-r[o].startTime?i:o}(r,n);if(o>-1)for(let d=o,m=r.length;d<m;d++){const b=r[d];if(b.startTime>=n&&b.endTime<=e)i.push(b);else if(b.startTime>e)return i}return i}(r.cues,n,e);for(let m=0;m<d.length;m++)(!i||i(d[m]))&&r.removeCue(d[m])}"disabled"===o&&(r.mode=o)}var Jl_emsg="https://aomedia.org/emsg/ID3";function Um(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const jm=(()=>{const r=Um();try{new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function g_(r,n){return r.getTime()/1e3-n}function Yx(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class Tw{constructor(n){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=n,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:n}=this;n.on(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.on(Nt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Nt.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:n}=this;n.off(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.off(Nt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Nt.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(n,e){this.media=e.media}onMediaDetaching(){this.id3Track&&(Kd(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(n){const e=this.getID3Track(n.textTracks);return e.mode="hidden",e}getID3Track(n){if(this.media){for(let e=0;e<n.length;e++){const i=n[e];if("metadata"===i.kind&&"id3"===i.label)return nE(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(n,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:o}}}=this;if(!i&&!o)return;const{samples:d}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const m=Um();for(let b=0;b<d.length;b++){const w=d[b].type;if(w===Jl_emsg&&!i||!o)continue;const G=Rx(d[b].data);if(G){const re=d[b].pts;let ve=re+d[b].duration;ve>jm&&(ve=jm),ve-re<=0&&(ve=re+.25);for(let Xe=0;Xe<G.length;Xe++){const pt=G[Xe];if(!Ox(pt)){this.updateId3CueEnds(re,w);const St=new m(re,ve,"");St.value=pt,w&&(St.type=w),this.id3Track.addCue(St)}}}}}updateId3CueEnds(n,e){var i;const o=null==(i=this.id3Track)?void 0:i.cues;if(o)for(let d=o.length;d--;){const m=o[d];m.type===e&&m.startTime<n&&m.endTime===jm&&(m.endTime=n)}}onBufferFlushing(n,{startOffset:e,endOffset:i,type:o}){const{id3Track:d,hls:m}=this;if(!m)return;const{config:{enableEmsgMetadataCues:b,enableID3MetadataCues:w}}=m;if(d&&(b||w)){let G;G="audio"===o?re=>"org.id3"===re.type&&w:"video"===o?re=>re.type===Jl_emsg&&b:re=>"org.id3"===re.type&&w||re.type===Jl_emsg&&b,p_(d,e,i,G)}}onLevelUpdated(n,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:i,id3Track:o}=this,{dateRanges:d}=e,m=Object.keys(d);if(o){const re=Object.keys(i).filter(ve=>!m.includes(ve));for(let ve=re.length;ve--;){const qe=re[ve];Object.keys(i[qe].cues).forEach(Xe=>{o.removeCue(i[qe].cues[Xe])}),delete i[qe]}}const b=e.fragments[e.fragments.length-1];if(0===m.length||!Ri(b?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const w=b.programDateTime/1e3-b.start,G=Um();for(let re=0;re<m.length;re++){const ve=m[re],qe=d[ve],Xe=i[ve],pt=Xe?.cues||{};let St=Xe?.durationKnown||!1;const Ot=g_(qe.startDate,w);let $t=jm;const fn=qe.endDate;if(fn)$t=g_(fn,w),St=!0;else if(qe.endOnNext&&!St){const yn=m.reduce((Sn,Un)=>{const On=d[Un];return On.class===qe.class&&On.id!==Un&&On.startDate>qe.startDate&&Sn.push(On),Sn},[]).sort((Sn,Un)=>Sn.startDate.getTime()-Un.startDate.getTime())[0];yn&&($t=g_(yn.startDate,w),St=!0)}const an=Object.keys(qe.attr);for(let yn=0;yn<an.length;yn++){const Sn=an[yn];if("ID"===(r=Sn)||"CLASS"===r||"START-DATE"===r||"DURATION"===r||"END-DATE"===r||"END-ON-NEXT"===r)continue;let Un=pt[Sn];if(Un)St&&!Xe.durationKnown&&(Un.endTime=$t);else{let On=qe.attr[Sn];Un=new G(Ot,$t,""),xb(Sn)&&(On=Yx(On)),Un.value={key:Sn,data:On},Un.type="com.apple.quicktime.HLS",Un.id=ve,this.id3Track.addCue(Un),pt[Sn]=Un}}i[ve]={cues:pt,dateRange:qe,durationKnown:St}}var r}}class Cw{constructor(n){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=n,this.config=n.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:n,levelDetails:e}=this;return void 0!==n.liveMaxLatencyDuration?n.liveMaxLatencyDuration:e?n.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:n}=this;if(null===n)return null;const{holdBack:e,partHoldBack:i,targetduration:o}=n,{liveSyncDuration:d,liveSyncDurationCount:m,lowLatencyMode:b}=this.config,w=this.hls.userConfig;let G=b&&i||e;return(w.liveSyncDuration||w.liveSyncDurationCount||0===G)&&(G=void 0!==d?d:m*o),G+Math.min(1*this.stallCount,o)}get liveSyncPosition(){const n=this.estimateLiveEdge(),e=this.targetLatency,i=this.levelDetails;if(null===n||null===e||null===i)return null;const o=i.edge,b=o-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(o-i.totalduration,n-e-this.edgeStalled),b)}get drift(){const{levelDetails:n}=this;return null===n?1:n.drift}get edgeStalled(){const{levelDetails:n}=this;return null===n?0:Math.max(n.age-3*(this.config.lowLatencyMode&&n.partTarget||n.targetduration),0)}get forwardBufferLength(){const{media:n,levelDetails:e}=this;if(!n||!e)return 0;const i=n.buffered.length;return(i?n.buffered.end(i-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Nt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Nt.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Nt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Nt.ERROR,this.onError,this)}onMediaAttached(n,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(n,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(n,e){var i;e.details===Gn.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(i=this.levelDetails)&&i.live&&xn.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:n,levelDetails:e}=this;if(!n||!e)return;this.currentTime=n.currentTime;const i=this.computeLatency();if(null===i)return;this._latency=i;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:d}=this.config;if(!o||1===d)return;const m=this.targetLatency;if(null===m)return;const b=i-m,w=Math.min(this.maxLatency,m+e.targetduration);if(e.live&&b<w&&b>.05&&this.forwardBufferLength>1){const re=Math.min(2,Math.max(1,d)),ve=Math.round(2/(1+Math.exp(-.75*b-this.edgeStalled))*20)/20;n.playbackRate=Math.min(re,Math.max(1,ve))}else 1!==n.playbackRate&&0!==n.playbackRate&&(n.playbackRate=1)}estimateLiveEdge(){const{levelDetails:n}=this;return null===n?null:n.edge+n.age}computeLatency(){const n=this.estimateLiveEdge();return null===n?null:n-this.currentTime}}const iE=["NONE","TYPE-0","TYPE-1",null];class rE{constructor(n,e,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=n,this.part=e,this.skip=i}addDirectives(n){const e=new self.URL(n);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class id{constructor(n){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[n.url],this._attrs=[n.attrs],this.bitrate=n.bitrate,n.details&&(this.details=n.details),this.id=n.id||0,this.name=n.name,this.width=n.width||0,this.height=n.height||0,this.audioCodec=n.audioCodec,this.videoCodec=n.videoCodec,this.unknownCodecs=n.unknownCodecs,this.codecSet=[n.videoCodec,n.audioCodec].filter(e=>e).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(n){const e=n%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}get audioGroupId(){var n;return null==(n=this.audioGroupIds)?void 0:n[this.urlId]}get textGroupId(){var n;return null==(n=this.textGroupIds)?void 0:n[this.urlId]}addFallback(n){this.url.push(n.url),this._attrs.push(n.attrs)}}function __(r,n){const e=n.startPTS;if(Ri(e)){let o,i=0;n.sn>r.sn?(i=e-r.start,o=r):(i=r.start-e,o=n),o.duration!==i&&(o.duration=i)}else n.start=n.sn>r.sn?r.cc===n.cc&&r.minEndPTS?r.start+(r.minEndPTS-r.start):r.start+r.duration:Math.max(r.start-n.duration,0)}function oE(r,n,e,i,o,d){i-e<=0&&(xn.warn("Fragment should have a positive duration",n),i=e+n.duration,d=o+n.duration);let b=e,w=i;const G=n.startPTS,re=n.endPTS;if(Ri(G)){const Ot=Math.abs(G-e);n.deltaPTS=Ri(n.deltaPTS)?Math.max(Ot,n.deltaPTS):Ot,b=Math.max(e,G),e=Math.min(e,G),o=Math.min(o,n.startDTS),w=Math.min(i,re),i=Math.max(i,re),d=Math.max(d,n.endDTS)}const ve=e-n.start;0!==n.start&&(n.start=e),n.duration=i-n.start,n.startPTS=e,n.maxStartPTS=b,n.startDTS=o,n.endPTS=i,n.minEndPTS=w,n.endDTS=d;const qe=n.sn;if(!r||qe<r.startSN||qe>r.endSN)return 0;let Xe;const pt=qe-r.startSN,St=r.fragments;for(St[pt]=n,Xe=pt;Xe>0;Xe--)__(St[Xe],St[Xe-1]);for(Xe=pt;Xe<St.length-1;Xe++)__(St[Xe],St[Xe+1]);return r.fragmentHint&&__(St[St.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,ve}function Gm(r,n){const e=n.startSN+n.skippedSegments-r.startSN,i=r.fragments;e<0||e>=i.length||y_(n,i[e].start)}function y_(r,n){if(n){const e=r.fragments;for(let i=r.skippedSegments;i<e.length;i++)e[i].start+=n;r.fragmentHint&&(r.fragmentHint.start+=n)}}function th(r,n,e){var i;return null!=r&&r.details?Wx(null==(i=r.details)?void 0:i.partList,n,e):null}function Wx(r,n,e){if(r)for(let i=r.length;i--;){const o=r[i];if(o.index===e&&o.fragment.sn===n)return o}return null}function T_(r){switch(r.details){case Gn.FRAG_LOAD_TIMEOUT:case Gn.KEY_LOAD_TIMEOUT:case Gn.LEVEL_LOAD_TIMEOUT:case Gn.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function zx(r,n){const e=T_(n);return r.default[(e?"timeout":"error")+"Retry"]}function Hm(r,n){const e="linear"===r.backoff?1:Math.pow(2,n);return Math.min(e*r.retryDelayMs,r.maxRetryDelayMs)}function lE(r){return Fa(Fa({},r),{errorRetry:null,timeoutRetry:null})}function Km(r,n,e,i){return!!r&&n<r.maxNumRetry&&(function Zx(r){return 0===r&&!1===navigator.onLine||!!r&&(r<400||r>499)}(i)||!!e)}const cE={search:function(r,n){let e=0,i=r.length-1,o=null,d=null;for(;e<=i;){o=(e+i)/2|0,d=r[o];const m=n(d);if(m>0)e=o+1;else{if(!(m<0))return d;i=o-1}}return null}};function Fu(r,n,e=0,i=0){let o=null;if(r?o=n[r.sn-n[0].sn+1]||null:0===e&&0===n[0].start&&(o=n[0]),o&&0===Ym(e,i,o))return o;const d=cE.search(n,Ym.bind(null,e,i));return!d||d===r&&o?o:d}function Ym(r=0,n=0,e){if(e.start<=r&&e.start+e.duration>r)return 0;const i=Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-i<=r?1:e.start-i>r&&e.start?-1:0}function $x(r,n,e){const i=1e3*Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0));return(e.endProgramDateTime||0)-i>r}function C_(r,n,e){if(performance.now()-r.lastErrorPerfMs>3e5)return!0;const i=r.details;if(n.details===Gn.FRAG_GAP&&i&&n.frag){const d=Fu(null,i.fragments,n.frag.start);if(d&&!d.gap)return!0}if(e&&r.errors.length<e.errors.length){const o=r.errors[r.errors.length-1];if(i&&o.frag&&n.frag&&Math.abs(o.frag.start-n.frag.start)>3*i.targetduration)return!0}return!1}class S_{constructor(n,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=xn.log.bind(xn,`${e}:`),this.warn=xn.warn.bind(xn,`${e}:`),this.hls=n}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(n,e){const i=e?.renditionReports;if(i){let o=-1;for(let d=0;d<i.length;d++){const m=i[d];let b;try{b=new self.URL(m.URI,e.url).href}catch(w){xn.warn(`Could not construct new URL for Rendition Report: ${w}`),b=m.URI||""}if(b===n){o=d;break}b===n.substring(0,b.length)&&(o=d)}if(-1!==o){const d=i[o],m=parseInt(d["LAST-MSN"])||e?.lastPartSn;let b=parseInt(d["LAST-PART"])||e?.lastPartIndex;if(this.hls.config.lowLatencyMode){const w=Math.min(e.age-e.partTarget,e.targetduration);b>=0&&w>e.partTarget&&(b+=1)}return new rE(m,b>=0?b:void 0,"")}}}loadPlaylist(n){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(n){return this.canLoad&&!!n&&!!n.url&&(!n.details||n.details.live)}shouldReloadPlaylist(n){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(n)}playlistLoaded(n,e,i){const{details:o,stats:d}=e,m=self.performance.now(),b=d.loading.first?Math.max(0,m-d.loading.first):0;if(o.advancedDateTime=Date.now()-b,o.live||null!=i&&i.live){if(o.reloaded(i),i&&this.log(`live playlist ${n} ${o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED"}`),i&&o.fragments.length>0&&function sE(r,n){let e=null;const i=r.fragments;for(let w=i.length-1;w>=0;w--){const G=i[w].initSegment;if(G){e=G;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let d,o=0;if(function v_(r,n,e){const i=n.skippedSegments,o=Math.max(r.startSN,n.startSN)-n.startSN,d=(r.fragmentHint?1:0)+(i?n.endSN:Math.min(r.endSN,n.endSN))-n.startSN,m=n.startSN-r.startSN,b=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments,w=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let G=o;G<=d;G++){const re=w[m+G];let ve=b[G];i&&!ve&&G<i&&(ve=n.fragments[G]=re),re&&ve&&e(re,ve)}}(r,n,(w,G)=>{w.relurl&&(o=w.cc-G.cc),Ri(w.startPTS)&&Ri(w.endPTS)&&(G.start=G.startPTS=w.startPTS,G.startDTS=w.startDTS,G.maxStartPTS=w.maxStartPTS,G.endPTS=w.endPTS,G.endDTS=w.endDTS,G.minEndPTS=w.minEndPTS,G.duration=w.endPTS-w.startPTS,G.duration&&(d=G),n.PTSKnown=n.alignedSliding=!0),G.elementaryStreams=w.elementaryStreams,G.loader=w.loader,G.stats=w.stats,G.urlId=w.urlId,w.initSegment&&(G.initSegment=w.initSegment,e=w.initSegment)}),e&&(n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments).forEach(G=>{var re;(!G.initSegment||G.initSegment.relurl===(null==(re=e)?void 0:re.relurl))&&(G.initSegment=e)}),n.skippedSegments)if(n.deltaUpdateFailed=n.fragments.some(w=>!w),n.deltaUpdateFailed){xn.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let w=n.skippedSegments;w--;)n.fragments.shift();n.startSN=n.fragments[0].sn,n.startCC=n.fragments[0].cc}else n.canSkipDateRanges&&(n.dateRanges=function Yd(r,n,e){const i=zo({},r);return e&&e.forEach(o=>{delete i[o]}),Object.keys(n).forEach(o=>{const d=new Gd(n[o].attr,i[o]);d.isValid?i[o]=d:xn.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(n[o].attr)}"`)}),i}(r.dateRanges,n.dateRanges,n.recentlyRemovedDateranges));const m=n.fragments;if(o){xn.warn("discontinuity sliding from playlist, take drift into account");for(let w=0;w<m.length;w++)m[w].cc+=o}n.skippedSegments&&(n.startCC=n.fragments[0].cc),function aE(r,n,e){if(r&&n){let i=0;for(let o=0,d=r.length;o<=d;o++){const m=r[o],b=n[o+i];m&&b&&m.index===b.index&&m.fragment.sn===b.fragment.sn?e(m,b):i--}}}(r.partList,n.partList,(w,G)=>{G.elementaryStreams=w.elementaryStreams,G.stats=w.stats}),d?oE(n,d,d.startPTS,d.endPTS,d.startDTS,d.endDTS):Gm(r,n),m.length&&(n.totalduration=n.edge-m[0].start),n.driftStartTime=r.driftStartTime,n.driftStart=r.driftStart;const b=n.advancedDateTime;if(n.advanced&&b){const w=n.edge;n.driftStart||(n.driftStartTime=b,n.driftStart=w),n.driftEndTime=b,n.driftEnd=w}else n.driftEndTime=r.driftEndTime,n.driftEnd=r.driftEnd,n.advancedDateTime=r.advancedDateTime}(i,o),!this.canLoad||!o.live)return;let w,G,re;if(o.canBlockReload&&o.endSN&&o.advanced){const Ot=this.hls.config.lowLatencyMode,$t=o.lastPartSn,fn=o.endSN,an=o.lastPartIndex,Sn=$t===fn;-1!==an?(G=Sn?fn+1:$t,re=Sn?Ot?0:an:an+1):G=fn+1;const On=o.age;let ii=Math.min(On+o.ageHeader-o.partTarget,1.5*o.targetduration);if(ii>0){if(i&&ii>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${ii} with playlist age: ${o.age}`),ii=0;else{const Ln=Math.floor(ii/o.targetduration);G+=Ln,void 0!==re&&(re+=Math.round(ii%o.targetduration/o.partTarget)),this.log(`CDN Tune-in age: ${o.ageHeader}s last advanced ${On.toFixed(2)}s goal: ${ii} skip sn ${Ln} to part ${re}`)}o.tuneInGoal=ii}if(w=this.getDeliveryDirectives(o,e.deliveryDirectives,G,re),Ot||!Sn)return void this.loadPlaylist(w)}else o.canBlockReload&&(w=this.getDeliveryDirectives(o,e.deliveryDirectives,G,re));const ve=this.hls.mainForwardBufferInfo,pt=function b_(r,n=1/0){let e=1e3*r.targetduration;if(r.updated){const i=r.fragments;if(i.length&&4*e>n){const d=1e3*i[i.length-1].duration;d<e&&(e=d)}}else e/=2;return Math.round(e)}(o,1e3*(o.edge-(ve?ve.end-ve.len:0)));o.updated&&m>this.requestScheduled+pt&&(this.requestScheduled=d.loading.start),void 0!==G&&o.canBlockReload?this.requestScheduled=d.loading.first+pt-(1e3*o.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+pt<m?this.requestScheduled=m:this.requestScheduled-m<=0&&(this.requestScheduled+=pt);let St=this.requestScheduled-m;St=Math.max(0,St),this.log(`reload live playlist ${n} in ${Math.round(St)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(w),St)}else this.clearTimer()}getDeliveryDirectives(n,e,i,o){let d=function Sw(r,n){const{canSkipUntil:e,canSkipDateRanges:i,endSN:o}=r;return e&&(void 0!==n?n-o:0)<e?i?"v2":"YES":""}(n,i);return null!=e&&e.skip&&n.deltaUpdateFailed&&(i=e.msn,o=e.part,d=""),new rE(i,o,d)}checkRetry(n){const e=n.details,i=T_(n),o=n.errorAction,{action:d,retryCount:m=0,retryConfig:b}=o||{},w=!!o&&!!b&&(5===d||!o.resolved&&2===d);if(w){var G;if(this.requestScheduled=-1,m>=b.maxNumRetry)return!1;if(i&&null!=(G=n.context)&&G.deliveryDirectives)this.warn(`Retrying playlist loading ${m+1}/${b.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const re=Hm(b,m);this.timer=self.setTimeout(()=>this.loadPlaylist(),re),this.warn(`Retrying playlist loading ${m+1}/${b.maxNumRetry} after "${e}" in ${re}ms`)}n.levelRetry=!0,o.resolved=!0}return w}}let D_;class Dw extends S_{constructor(n,e){super(n,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Nt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Nt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(Nt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(Nt.FRAG_LOADED,this.onFragLoaded,this),n.on(Nt.ERROR,this.onError,this)}_unregisterListeners(){const{hls:n}=this;n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Nt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Nt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(Nt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(Nt.FRAG_LOADED,this.onFragLoaded,this),n.off(Nt.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(e=>{e.loadError=0,e.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(n,e){this.resetLevels()}onManifestLoaded(n,e){const i=[],o={};let d;e.levels.forEach(m=>{var b;const w=m.attrs;-1!==(null==(b=m.audioCodec)?void 0:b.indexOf("mp4a.40.34"))&&(D_||(D_=/chrome|firefox/i.test(navigator.userAgent)),D_&&(m.audioCodec=void 0));const{AUDIO:G,CODECS:re,"FRAME-RATE":ve,"PATHWAY-ID":qe,RESOLUTION:Xe,SUBTITLES:pt}=w,Ot=`${qe||"."}-${m.bitrate}-${Xe}-${ve}-${re}`;d=o[Ot],d?d.addFallback(m):(d=new id(m),o[Ot]=d,i.push(d)),x_(d,"audio",G),x_(d,"text",pt)}),this.filterAndSortMediaOptions(i,e)}filterAndSortMediaOptions(n,e){let i=[],o=[],d=!1,m=!1,b=!1,w=n.filter(({audioCodec:Xe,videoCodec:pt,width:St,height:Ot,unknownCodecs:$t})=>(d||(d=!(!St||!Ot)),m||(m=!!pt),b||(b=!!Xe),!(null!=$t&&$t.length)&&(!Xe||l_(Xe,"audio"))&&(!pt||l_(pt,"video"))));if((d||m)&&b&&(w=w.filter(({videoCodec:Xe,width:pt,height:St})=>!!Xe||!(!pt||!St))),0===w.length)return void Promise.resolve().then(()=>{if(this.hls){const Xe=new Error("no level with compatible codecs found in manifest");this.hls.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:Xe,reason:Xe.message})}});e.audioTracks&&(i=e.audioTracks.filter(Xe=>!Xe.audioCodec||l_(Xe.audioCodec,"audio")),hE(i)),e.subtitles&&(o=e.subtitles,hE(o));const G=w.slice(0);w.sort((Xe,pt)=>Xe.attrs["HDCP-LEVEL"]!==pt.attrs["HDCP-LEVEL"]?(Xe.attrs["HDCP-LEVEL"]||"")>(pt.attrs["HDCP-LEVEL"]||"")?1:-1:Xe.bitrate!==pt.bitrate?Xe.bitrate-pt.bitrate:Xe.attrs["FRAME-RATE"]!==pt.attrs["FRAME-RATE"]?Xe.attrs.decimalFloatingPoint("FRAME-RATE")-pt.attrs.decimalFloatingPoint("FRAME-RATE"):Xe.attrs.SCORE!==pt.attrs.SCORE?Xe.attrs.decimalFloatingPoint("SCORE")-pt.attrs.decimalFloatingPoint("SCORE"):d&&Xe.height!==pt.height?Xe.height-pt.height:0);let re=G[0];if(this.steering&&(w=this.steering.filterParsedLevels(w),w.length!==G.length))for(let Xe=0;Xe<G.length;Xe++)if(G[Xe].pathwayId===w[0].pathwayId){re=G[Xe];break}this._levels=w;for(let Xe=0;Xe<w.length;Xe++)if(w[Xe]===re){this._firstLevel=Xe,this.log(`manifest loaded, ${w.length} level(s) found, first bitrate: ${re.bitrate}`);break}const qe={levels:w,audioTracks:i,subtitleTracks:o,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:b,video:m,altAudio:!(b&&!m)&&i.some(Xe=>!!Xe.url)};this.hls.trigger(Nt.MANIFEST_PARSED,qe),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(n){const e=this._levels;if(0===e.length)return;if(n<0||n>=e.length){const re=new Error("invalid level idx"),ve=n<0;if(this.hls.trigger(Nt.ERROR,{type:Fi.OTHER_ERROR,details:Gn.LEVEL_SWITCH_ERROR,level:n,fatal:ve,error:re,reason:re.message}),ve)return;n=Math.min(n,e.length-1)}const i=this.currentLevelIndex,o=this.currentLevel,d=o?o.attrs["PATHWAY-ID"]:void 0,m=e[n],b=m.attrs["PATHWAY-ID"];if(this.currentLevelIndex=n,this.currentLevel=m,i===n&&m.details&&o&&d===b)return;this.log(`Switching to level ${n}${b?" with Pathway "+b:""} from level ${i}${d?" with Pathway "+d:""}`);const w=zo({},m,{level:n,maxBitrate:m.maxBitrate,attrs:m.attrs,uri:m.uri,urlId:m.urlId});delete w._attrs,delete w._urlId,this.hls.trigger(Nt.LEVEL_SWITCHING,w);const G=m.details;if(!G||G.live){const re=this.switchParams(m.uri,o?.details);this.loadPlaylist(re)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(n){this.manualLevelIndex=n,void 0===this._startLevel&&(this._startLevel=n),-1!==n&&(this.level=n)}get firstLevel(){return this._firstLevel}set firstLevel(n){this._firstLevel=n}get startLevel(){if(void 0===this._startLevel){const n=this.hls.config.startLevel;return void 0!==n?n:this._firstLevel}return this._startLevel}set startLevel(n){this._startLevel=n}onError(n,e){e.fatal||!e.context||"level"===e.context.type&&e.context.level===this.level&&this.checkRetry(e)}onFragLoaded(n,{frag:e}){if(void 0!==e&&"main"===e.type){const i=this._levels[e.level];void 0!==i&&(i.loadError=0)}}onLevelLoaded(n,e){var i;const{level:o,details:d}=e,m=this._levels[o];var b;if(!m)return this.warn(`Invalid level index ${o}`),void(null!=(b=e.deliveryDirectives)&&b.skip&&(d.deltaUpdateFailed=!0));o===this.currentLevelIndex?(0===m.fragmentError&&(m.loadError=0),this.playlistLoaded(o,e,m.details)):null!=(i=e.deliveryDirectives)&&i.skip&&(d.deltaUpdateFailed=!0)}onAudioTrackSwitched(n,e){const i=this.currentLevel;if(!i)return;const o=this.hls.audioTracks[e.id].groupId;if(i.audioGroupIds&&i.audioGroupId!==o){let d=-1;for(let m=0;m<i.audioGroupIds.length;m++)if(i.audioGroupIds[m]===o){d=m;break}-1!==d&&d!==i.urlId&&(i.urlId=d,this.canLoad&&this.startLoad())}}loadPlaylist(n){super.loadPlaylist();const e=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){const o=i.urlId;let d=i.uri;if(n)try{d=n.addDirectives(d)}catch(b){this.warn(`Could not construct new URL with HLS Delivery Directives: ${b}`)}const m=i.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==n?.msn?" at sn "+n.msn+" part "+n.part:""} with${m?" Pathway "+m:""} URI ${o+1}/${i.url.length} ${d}`),this.clearTimer(),this.hls.trigger(Nt.LEVEL_LOADING,{url:d,level:e,id:o,deliveryDirectives:n||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(n){this.level=n,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=n)}removeLevel(n,e){const i=(d,m)=>m!==e,o=this._levels.filter((d,m)=>m!==n||(d.url.length>1&&void 0!==e?(d.url=d.url.filter(i),d.audioGroupIds&&(d.audioGroupIds=d.audioGroupIds.filter(i)),d.textGroupIds&&(d.textGroupIds=d.textGroupIds.filter(i)),d.urlId=0,!0):(this.steering&&this.steering.removeLevel(d),!1)));this.hls.trigger(Nt.LEVELS_UPDATED,{levels:o})}onLevelsUpdated(n,{levels:e}){e.forEach((i,o)=>{const{details:d}=i;null!=d&&d.fragments&&d.fragments.forEach(m=>{m.level=o})}),this._levels=e}}function x_(r,n,e){e&&("audio"===n?(r.audioGroupIds||(r.audioGroupIds=[]),r.audioGroupIds[r.url.length-1]=e):"text"===n&&(r.textGroupIds||(r.textGroupIds=[]),r.textGroupIds[r.url.length-1]=e))}function hE(r){const n={};r.forEach(e=>{const i=e.groupId||"";e.id=n[i]=n[i]||0,n[i]++})}class Jx{constructor(n){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=n,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Nt.BUFFER_APPENDED,this.onBufferAppended,this),n.on(Nt.FRAG_BUFFERED,this.onFragBuffered,this),n.on(Nt.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:n}=this;n.off(Nt.BUFFER_APPENDED,this.onBufferAppended,this),n.off(Nt.FRAG_BUFFERED,this.onFragBuffered,this),n.off(Nt.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(n,e){const i=this.activePartLists[e];if(i)for(let o=i.length;o--;){const d=i[o];if(!d)break;const m=d.end;if(d.start<=n&&null!==m&&n<=m)return d}return this.getBufferedFrag(n,e)}getBufferedFrag(n,e){const{fragments:i}=this,o=Object.keys(i);for(let d=o.length;d--;){const m=i[o[d]];if(m?.body.type===e&&m.buffered){const b=m.body;if(b.start<=n&&n<=b.end)return b}}return null}detectEvictedFragments(n,e,i,o){this.timeRanges&&(this.timeRanges[n]=e);const d=o?.fragment.sn||-1;Object.keys(this.fragments).forEach(m=>{const b=this.fragments[m];if(!b||d>=b.body.sn)return;if(!b.buffered&&!b.loaded)return void(b.body.type===i&&this.removeFragment(b.body));const w=b.range[n];w&&w.time.some(G=>{const re=!this.isTimeBuffered(G.startPTS,G.endPTS,e);return re&&this.removeFragment(b.body),re})})}detectPartialFragments(n){const e=this.timeRanges,{frag:i,part:o}=n;if(!e||"initSegment"===i.sn)return;const d=Wd(i),m=this.fragments[d];if(!m||m.buffered&&i.gap)return;const b=!i.relurl;Object.keys(e).forEach(w=>{const G=i.elementaryStreams[w];G&&(m.range[w]=this.getBufferedTimes(i,o,b||!0===G.partial,e[w]))}),m.loaded=null,Object.keys(m.range).length?(m.buffered=!0,m.body.endList&&(this.endListFragments[m.body.type]=m),Wm(m)||this.removeParts(i.sn-1,i.type)):this.removeFragment(m.body)}removeParts(n,e){const i=this.activePartLists[e];i&&(this.activePartLists[e]=i.filter(o=>o.fragment.sn>=n))}fragBuffered(n,e){const i=Wd(n);let o=this.fragments[i];!o&&e&&(o=this.fragments[i]={body:n,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},n.gap&&(this.hasGaps=!0)),o&&(o.loaded=null,o.buffered=!0)}getBufferedTimes(n,e,i,o){const d={time:[],partial:i},m=n.start,b=n.end,w=n.minEndPTS||b,G=n.maxStartPTS||m;for(let re=0;re<o.length;re++){const ve=o.start(re)-this.bufferPadding,qe=o.end(re)+this.bufferPadding;if(G>=ve&&w<=qe){d.time.push({startPTS:Math.max(m,o.start(re)),endPTS:Math.min(b,o.end(re))});break}if(m<qe&&b>ve)d.partial=!0,d.time.push({startPTS:Math.max(m,o.start(re)),endPTS:Math.min(b,o.end(re))});else if(b<=ve)break}return d}getPartialFragment(n){let i,o,d,e=null,m=0;const{bufferPadding:b,fragments:w}=this;return Object.keys(w).forEach(G=>{const re=w[G];re&&Wm(re)&&(o=re.body.start-b,d=re.body.end+b,n>=o&&n<=d&&(i=Math.min(n-o,d-n),m<=i&&(e=re.body,m=i)))}),e}isEndListAppended(n){const e=this.endListFragments[n];return void 0!==e&&(e.buffered||Wm(e))}getState(n){const e=Wd(n),i=this.fragments[e];return i?i.buffered?Wm(i)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(n,e,i){let o,d;for(let m=0;m<i.length;m++){if(o=i.start(m)-this.bufferPadding,d=i.end(m)+this.bufferPadding,n>=o&&e<=d)return!0;if(e<=o)return!1}return!1}onFragLoaded(n,e){const{frag:i,part:o}=e;if("initSegment"===i.sn||i.bitrateTest)return;const d=o?null:e,m=Wd(i);this.fragments[m]={body:i,appendedPTS:null,loaded:d,buffered:!1,range:Object.create(null)}}onBufferAppended(n,e){const{frag:i,part:o,timeRanges:d}=e;if("initSegment"===i.sn)return;const m=i.type;if(o){let b=this.activePartLists[m];b||(this.activePartLists[m]=b=[]),b.push(o)}this.timeRanges=d,Object.keys(d).forEach(b=>{this.detectEvictedFragments(b,d[b],m,o)})}onFragBuffered(n,e){this.detectPartialFragments(e)}hasFragment(n){const e=Wd(n);return!!this.fragments[e]}hasParts(n){var e;return!(null==(e=this.activePartLists[n])||!e.length)}removeFragmentsInRange(n,e,i,o,d){o&&!this.hasGaps||Object.keys(this.fragments).forEach(m=>{const b=this.fragments[m];if(!b)return;const w=b.body;w.type!==i||o&&!w.gap||w.start<e&&w.end>n&&(b.buffered||d)&&this.removeFragment(w)})}removeFragment(n){const e=Wd(n);n.stats.loaded=0,n.clearElementaryStreamInfo();const i=this.activePartLists[n.type];if(i){const o=n.sn;this.activePartLists[n.type]=i.filter(d=>d.fragment.sn!==o)}delete this.fragments[e],n.endList&&delete this.endListFragments[n.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Wm(r){var n,e,i;return r.buffered&&(r.body.gap||(null==(n=r.range.video)?void 0:n.partial)||(null==(e=r.range.audio)?void 0:e.partial)||(null==(i=r.range.audiovideo)?void 0:i.partial))}function Wd(r){return`${r.type}_${r.level}_${r.urlId}_${r.sn}`}const A_=Math.pow(2,17);class xw{constructor(n){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=n}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(n,e){const i=n.url;if(!i)return Promise.reject(new Ql({type:Fi.NETWORK_ERROR,details:Gn.FRAG_LOAD_ERROR,fatal:!1,frag:n,error:new Error("Fragment does not have a "+(i?"part list":"url")),networkDetails:null}));this.abort();const o=this.config,d=o.fLoader,m=o.loader;return new Promise((b,w)=>{if(this.loader&&this.loader.destroy(),n.gap){if(n.tagList.some(Xe=>"GAP"===Xe[0]))return void w(zm(n));n.gap=!1}const G=this.loader=n.loader=d?new d(o):new m(o),re=mE(n),ve=lE(o.fragLoadPolicy.default),qe={loadPolicy:ve,timeout:ve.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===n.sn?1/0:A_};n.stats=G.stats,G.load(re,qe,{onSuccess:(Xe,pt,St,Ot)=>{this.resetLoader(n,G);let $t=Xe.data;St.resetIV&&n.decryptdata&&(n.decryptdata.iv=new Uint8Array($t.slice(0,16)),$t=$t.slice(16)),b({frag:n,part:null,payload:$t,networkDetails:Ot})},onError:(Xe,pt,St,Ot)=>{this.resetLoader(n,G),w(new Ql({type:Fi.NETWORK_ERROR,details:Gn.FRAG_LOAD_ERROR,fatal:!1,frag:n,response:Fa({url:i,data:void 0},Xe),error:new Error(`HTTP Error ${Xe.code} ${Xe.text}`),networkDetails:St,stats:Ot}))},onAbort:(Xe,pt,St)=>{this.resetLoader(n,G),w(new Ql({type:Fi.NETWORK_ERROR,details:Gn.INTERNAL_ABORTED,fatal:!1,frag:n,error:new Error("Aborted"),networkDetails:St,stats:Xe}))},onTimeout:(Xe,pt,St)=>{this.resetLoader(n,G),w(new Ql({type:Fi.NETWORK_ERROR,details:Gn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,error:new Error(`Timeout after ${qe.timeout}ms`),networkDetails:St,stats:Xe}))},onProgress:(Xe,pt,St,Ot)=>{e&&e({frag:n,part:null,payload:St,networkDetails:Ot})}})})}loadPart(n,e,i){this.abort();const o=this.config,d=o.fLoader,m=o.loader;return new Promise((b,w)=>{if(this.loader&&this.loader.destroy(),n.gap||e.gap)return void w(zm(n,e));const G=this.loader=n.loader=d?new d(o):new m(o),re=mE(n,e),ve=lE(o.fragLoadPolicy.default),qe={loadPolicy:ve,timeout:ve.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:A_};e.stats=G.stats,G.load(re,qe,{onSuccess:(Xe,pt,St,Ot)=>{this.resetLoader(n,G),this.updateStatsFromPart(n,e);const $t={frag:n,part:e,payload:Xe.data,networkDetails:Ot};i($t),b($t)},onError:(Xe,pt,St,Ot)=>{this.resetLoader(n,G),w(new Ql({type:Fi.NETWORK_ERROR,details:Gn.FRAG_LOAD_ERROR,fatal:!1,frag:n,part:e,response:Fa({url:re.url,data:void 0},Xe),error:new Error(`HTTP Error ${Xe.code} ${Xe.text}`),networkDetails:St,stats:Ot}))},onAbort:(Xe,pt,St)=>{n.stats.aborted=e.stats.aborted,this.resetLoader(n,G),w(new Ql({type:Fi.NETWORK_ERROR,details:Gn.INTERNAL_ABORTED,fatal:!1,frag:n,part:e,error:new Error("Aborted"),networkDetails:St,stats:Xe}))},onTimeout:(Xe,pt,St)=>{this.resetLoader(n,G),w(new Ql({type:Fi.NETWORK_ERROR,details:Gn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,part:e,error:new Error(`Timeout after ${qe.timeout}ms`),networkDetails:St,stats:Xe}))}})})}updateStatsFromPart(n,e){const i=n.stats,o=e.stats,d=o.total;if(i.loaded+=o.loaded,d){const w=Math.round(n.duration/e.duration),G=Math.min(Math.round(i.loaded/d),w),ve=(w-G)*Math.round(i.loaded/G);i.total=i.loaded+ve}else i.total=Math.max(i.loaded,i.total);const m=i.loading,b=o.loading;m.start?m.first+=b.first-b.start:(m.start=b.start,m.first=b.first),m.end=b.end}resetLoader(n,e){n.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function mE(r,n=null){const e=n||r,i={frag:r,part:n,responseType:"arraybuffer",url:e.url,headers:{},rangeStart:0,rangeEnd:0},o=e.byteRangeStartOffset,d=e.byteRangeEndOffset;if(Ri(o)&&Ri(d)){var m;let b=o,w=d;if("initSegment"===r.sn&&"AES-128"===(null==(m=r.decryptdata)?void 0:m.method)){const G=d-o;G%16&&(w=d+(16-G%16)),0!==o&&(i.resetIV=!0,b=o-16)}i.rangeStart=b,i.rangeEnd=w}return i}function zm(r,n){const e=new Error(`GAP ${r.gap?"tag":"attribute"} found`),i={type:Fi.MEDIA_ERROR,details:Gn.FRAG_GAP,fatal:!1,frag:r,error:e,networkDetails:null};return n&&(i.part=n),(n||r).stats.aborted=!0,new Ql(i)}class Ql extends Error{constructor(n){super(n.error.message),this.data=void 0,this.data=n}}class pE{constructor(n){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=n}abort(n){for(const e in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[e].loader;if(i){if(n&&n!==i.context.frag.type)return;i.abort()}}}detach(){for(const n in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[n];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[n]}}destroy(){this.detach();for(const n in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[n].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(n,e=Gn.KEY_LOAD_ERROR,i,o,d){return new Ql({type:Fi.NETWORK_ERROR,details:e,fatal:!1,frag:n,response:d,error:i,networkDetails:o})}loadClear(n,e){if(this.emeController&&this.config.emeEnabled){const{sn:i,cc:o}=n;for(let d=0;d<e.length;d++){const m=e[d];if(o<=m.cc&&("initSegment"===i||"initSegment"===m.sn||i<m.sn)){this.emeController.selectKeySystemFormat(m).then(b=>{m.setKeyFormat(b)});break}}}}load(n){return!n.decryptdata&&n.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(n).then(e=>this.loadInternal(n,e)):this.loadInternal(n)}loadInternal(n,e){var i,o;e&&n.setKeyFormat(e);const d=n.decryptdata;if(!d){const G=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(n,Gn.KEY_LOAD_ERROR,G))}const m=d.uri;if(!m)return Promise.reject(this.createKeyLoadError(n,Gn.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${m}"`)));let b=this.keyUriToKeyInfo[m];if(null!=(i=b)&&i.decryptdata.key)return d.key=b.decryptdata.key,Promise.resolve({frag:n,keyInfo:b});var w;if(null!=(o=b)&&o.keyLoadPromise)switch(null==(w=b.mediaKeySessionContext)?void 0:w.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return b.keyLoadPromise.then(G=>(d.key=G.keyInfo.decryptdata.key,{frag:n,keyInfo:b}))}switch(b=this.keyUriToKeyInfo[m]={decryptdata:d,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},d.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===d.keyFormat?this.loadKeyHTTP(b,n):this.loadKeyEME(b,n);case"AES-128":return this.loadKeyHTTP(b,n);default:return Promise.reject(this.createKeyLoadError(n,Gn.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${d.method}"`)))}}loadKeyEME(n,e){const i={frag:e,keyInfo:n};if(this.emeController&&this.config.emeEnabled){const o=this.emeController.loadKey(i);if(o)return(n.keyLoadPromise=o.then(d=>(n.mediaKeySessionContext=d,i))).catch(d=>{throw n.keyLoadPromise=null,d})}return Promise.resolve(i)}loadKeyHTTP(n,e){const i=this.config,d=new(0,i.loader)(i);return e.keyLoader=n.loader=d,n.keyLoadPromise=new Promise((m,b)=>{const w={keyInfo:n,frag:e,responseType:"arraybuffer",url:n.decryptdata.uri},G=i.keyLoadPolicy.default;d.load(w,{loadPolicy:G,timeout:G.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(qe,Xe,pt,St)=>{const{frag:Ot,keyInfo:$t,url:fn}=pt;if(!Ot.decryptdata||$t!==this.keyUriToKeyInfo[fn])return b(this.createKeyLoadError(Ot,Gn.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),St));$t.decryptdata.key=Ot.decryptdata.key=new Uint8Array(qe.data),Ot.keyLoader=null,$t.loader=null,m({frag:Ot,keyInfo:$t})},onError:(qe,Xe,pt,St)=>{this.resetLoader(Xe),b(this.createKeyLoadError(e,Gn.KEY_LOAD_ERROR,new Error(`HTTP Error ${qe.code} loading key ${qe.text}`),pt,Fa({url:w.url,data:void 0},qe)))},onTimeout:(qe,Xe,pt)=>{this.resetLoader(Xe),b(this.createKeyLoadError(e,Gn.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),pt))},onAbort:(qe,Xe,pt)=>{this.resetLoader(Xe),b(this.createKeyLoadError(e,Gn.INTERNAL_ABORTED,new Error("key loading aborted"),pt))}})})}resetLoader(n){const{frag:e,keyInfo:i,url:o}=n,d=i.loader;e.keyLoader===d&&(e.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[o],d&&d.destroy()}}class Qx{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(n){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,n),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const M_={length:0,start:()=>0,end:()=>0};class uo{static isBuffered(n,e){try{if(n){const i=uo.getBuffered(n);for(let o=0;o<i.length;o++)if(e>=i.start(o)&&e<=i.end(o))return!0}}catch{}return!1}static bufferInfo(n,e,i){try{if(n){const o=uo.getBuffered(n),d=[];let m;for(m=0;m<o.length;m++)d.push({start:o.start(m),end:o.end(m)});return this.bufferedInfo(d,e,i)}}catch{}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(n,e,i){e=Math.max(0,e),n.sort(function(G,re){return G.start-re.start||re.end-G.end});let o=[];if(i)for(let G=0;G<n.length;G++){const re=o.length;if(re){const ve=o[re-1].end;n[G].start-ve<i?n[G].end>ve&&(o[re-1].end=n[G].end):o.push(n[G])}else o.push(n[G])}else o=n;let m,d=0,b=e,w=e;for(let G=0;G<o.length;G++){const re=o[G].start,ve=o[G].end;if(e+i>=re&&e<ve)b=re,w=ve,d=w-e;else if(e+i<re){m=re;break}}return{len:d,start:b||0,end:w||0,nextStart:m}}static getBuffered(n){try{return n.buffered}catch(e){return xn.log("failed to get media.buffered",e),M_}}}class w_{constructor(n,e,i,o=0,d=-1,m=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=n,this.sn=e,this.id=i,this.size=o,this.part=d,this.partial=m}}function I_(r,n){let e=null;for(let i=0,o=r.length;i<o;i++){const d=r[i];if(d&&d.cc===n){e=d;break}}return e}function ih(r,n){if(r){const e=r.start+n;r.start=r.startPTS=e,r.endPTS=e+r.duration}}function gE(r,n){const e=n.fragments;for(let i=0,o=e.length;i<o;i++)ih(e[i],r);n.fragmentHint&&ih(n.fragmentHint,r),n.alignedSliding=!0}function _E(r,n){if(!r.hasProgramDateTime||!n.hasProgramDateTime)return;const e=r.fragments,i=n.fragments;if(!e.length||!i.length)return;const d=i[Math.round(i.length/2)-1],m=I_(e,d.cc)||e[Math.round(e.length/2)-1],b=d.programDateTime,w=m.programDateTime;null!==b&&null!==w&&gE((w-b)/1e3-(m.start-d.start),r)}class Iw{constructor(n,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=n,this.aesIV=e}decrypt(n,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,n)}}class Pw{constructor(n,e){this.subtle=void 0,this.key=void 0,this.subtle=n,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class Rw{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(n){const e=new DataView(n),i=new Uint32Array(4);for(let o=0;o<4;o++)i[o]=e.getUint32(4*o);return i}initTable(){const n=this.sBox,e=this.invSBox,i=this.subMix,o=i[0],d=i[1],m=i[2],b=i[3],w=this.invSubMix,G=w[0],re=w[1],ve=w[2],qe=w[3],Xe=new Uint32Array(256);let pt=0,St=0,Ot=0;for(Ot=0;Ot<256;Ot++)Xe[Ot]=Ot<128?Ot<<1:Ot<<1^283;for(Ot=0;Ot<256;Ot++){let $t=St^St<<1^St<<2^St<<3^St<<4;$t=$t>>>8^255&$t^99,n[pt]=$t,e[$t]=pt;const fn=Xe[pt],an=Xe[fn],yn=Xe[an];let Sn=257*Xe[$t]^16843008*$t;o[pt]=Sn<<24|Sn>>>8,d[pt]=Sn<<16|Sn>>>16,m[pt]=Sn<<8|Sn>>>24,b[pt]=Sn,Sn=16843009*yn^65537*an^257*fn^16843008*pt,G[$t]=Sn<<24|Sn>>>8,re[$t]=Sn<<16|Sn>>>16,ve[$t]=Sn<<8|Sn>>>24,qe[$t]=Sn,pt?(pt=fn^Xe[Xe[Xe[yn^fn]]],St^=Xe[Xe[St]]):pt=St=1}}expandKey(n){const e=this.uint8ArrayToUint32Array_(n);let i=!0,o=0;for(;o<e.length&&i;)i=e[o]===this.key[o],o++;if(i)return;this.key=e;const d=this.keySize=e.length;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size="+d);const m=this.ksRows=4*(d+6+1);let b,w;const G=this.keySchedule=new Uint32Array(m),re=this.invKeySchedule=new Uint32Array(m),ve=this.sBox,qe=this.rcon,Xe=this.invSubMix,pt=Xe[0],St=Xe[1],Ot=Xe[2],$t=Xe[3];let fn,an;for(b=0;b<m;b++)b<d?fn=G[b]=e[b]:(an=fn,b%d==0?(an=an<<8|an>>>24,an=ve[an>>>24]<<24|ve[an>>>16&255]<<16|ve[an>>>8&255]<<8|ve[255&an],an^=qe[b/d|0]<<24):d>6&&b%d==4&&(an=ve[an>>>24]<<24|ve[an>>>16&255]<<16|ve[an>>>8&255]<<8|ve[255&an]),G[b]=fn=(G[b-d]^an)>>>0);for(w=0;w<m;w++)b=m-w,an=3&w?G[b]:G[b-4],re[w]=w<4||b<=4?an:pt[ve[an>>>24]]^St[ve[an>>>16&255]]^Ot[ve[an>>>8&255]]^$t[ve[255&an]],re[w]=re[w]>>>0}networkToHostOrderSwap(n){return n<<24|(65280&n)<<8|(16711680&n)>>8|n>>>24}decrypt(n,e,i){const o=this.keySize+6,d=this.invKeySchedule,m=this.invSBox,b=this.invSubMix,w=b[0],G=b[1],re=b[2],ve=b[3],qe=this.uint8ArrayToUint32Array_(i);let Xe=qe[0],pt=qe[1],St=qe[2],Ot=qe[3];const $t=new Int32Array(n),fn=new Int32Array($t.length);let an,yn,Sn,Un,On,zn,ii,Ln,yi,mi,Ui,vo,wr,oi;const ui=this.networkToHostOrderSwap;for(;e<$t.length;){for(yi=ui($t[e]),mi=ui($t[e+1]),Ui=ui($t[e+2]),vo=ui($t[e+3]),On=yi^d[0],zn=vo^d[1],ii=Ui^d[2],Ln=mi^d[3],wr=4,oi=1;oi<o;oi++)an=w[On>>>24]^G[zn>>16&255]^re[ii>>8&255]^ve[255&Ln]^d[wr],yn=w[zn>>>24]^G[ii>>16&255]^re[Ln>>8&255]^ve[255&On]^d[wr+1],Sn=w[ii>>>24]^G[Ln>>16&255]^re[On>>8&255]^ve[255&zn]^d[wr+2],Un=w[Ln>>>24]^G[On>>16&255]^re[zn>>8&255]^ve[255&ii]^d[wr+3],On=an,zn=yn,ii=Sn,Ln=Un,wr+=4;an=m[On>>>24]<<24^m[zn>>16&255]<<16^m[ii>>8&255]<<8^m[255&Ln]^d[wr],yn=m[zn>>>24]<<24^m[ii>>16&255]<<16^m[Ln>>8&255]<<8^m[255&On]^d[wr+1],Sn=m[ii>>>24]<<24^m[Ln>>16&255]<<16^m[On>>8&255]<<8^m[255&zn]^d[wr+2],Un=m[Ln>>>24]<<24^m[On>>16&255]<<16^m[zn>>8&255]<<8^m[255&ii]^d[wr+3],fn[e]=ui(an^Xe),fn[e+1]=ui(Un^pt),fn[e+2]=ui(Sn^St),fn[e+3]=ui(yn^Ot),Xe=yi,pt=mi,St=Ui,Ot=vo,e+=4}return fn.buffer}}class P_{constructor(n,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=n.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:n,remainderData:e}=this;if(!n||e)return this.reset(),null;const i=new Uint8Array(n);return this.reset(),this.removePKCS7Padding?function Ow(r){const n=r.byteLength,e=n&&new DataView(r.buffer).getUint8(n-1);return e?Hd(r,0,n-e):r}(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(n,e,i){return this.useSoftware?new Promise((o,d)=>{this.softwareDecrypt(new Uint8Array(n),e,i);const m=this.flush();m?o(m.buffer):d(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(n),e,i)}softwareDecrypt(n,e,i){const{currentIV:o,currentResult:d,remainderData:m}=this;this.logOnce("JS AES decrypt"),m&&(n=Nc(m,n),this.remainderData=null);const b=this.getValidChunk(n);if(!b.length)return null;o&&(i=o);let w=this.softwareDecrypter;w||(w=this.softwareDecrypter=new Rw),w.expandKey(e);const G=d;return this.currentResult=w.decrypt(b.buffer,0,i),this.currentIV=Hd(b,-16).buffer,G||null}webCryptoDecrypt(n,e,i){const o=this.subtle;return(this.key!==e||!this.fastAesKey)&&(this.key=e,this.fastAesKey=new Pw(o,e)),this.fastAesKey.expandKey().then(d=>o?(this.logOnce("WebCrypto AES decrypt"),new Iw(o,new Uint8Array(i)).decrypt(n.buffer,d)):Promise.reject(new Error("web crypto not initialized"))).catch(d=>(xn.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${d.name}: ${d.message}`),this.onWebCryptoError(n,e,i)))}onWebCryptoError(n,e,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(n,e,i);const o=this.flush();if(o)return o.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(n){let e=n;const i=n.length-n.length%16;return i!==n.length&&(e=Hd(n,0,i),this.remainderData=Hd(n,i)),e}logOnce(n){this.logEnabled&&(xn.log(`[decrypter]: ${n}`),this.logEnabled=!1)}}class vE extends Qx{constructor(n,e,i,o,d){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=d,this.logPrefix=o,this.log=xn.log.bind(xn,`${o}:`),this.warn=xn.warn.bind(xn,`${o}:`),this.hls=n,this.fragmentLoader=new xw(n.config),this.keyLoader=i,this.fragmentTracker=e,this.config=n.config,this.decrypter=new P_(n.config),n.on(Nt.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(n){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const n=this.fragCurrent;null!=n&&n.loader&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(n,e){if(e.live||n.nextStart||!n.end||!this.media)return!1;const i=e.partList;if(null!=i&&i.length){const d=i[i.length-1];return uo.isBuffered(this.media,d.start+d.duration/2)}return this.fragmentTracker.isEndListAppended(e.fragments[e.fragments.length-1].type)}getLevelDetails(){var n;if(this.levels&&null!==this.levelLastLoaded)return null==(n=this.levels[this.levelLastLoaded])?void 0:n.details}onMediaAttached(n,e){const i=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);const o=this.config;this.levels&&o.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(o.startPosition)}onMediaDetaching(){const n=this.media;null!=n&&n.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),n&&this.onvseeking&&this.onvended&&(n.removeEventListener("seeking",this.onvseeking),n.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:n,fragCurrent:e,media:i,mediaBuffer:o,state:d}=this,m=i?i.currentTime:0,b=uo.bufferInfo(o||i,m,n.maxBufferHole);if(this.log(`media seeking to ${Ri(m)?m.toFixed(3):m}, state: ${d}`),"ENDED"===this.state)this.resetLoadingState();else if(e){const w=n.maxFragLookUpTolerance,G=e.start-w,re=e.start+e.duration+w;if(!b.len||re<b.start||G>b.end){const ve=m>re;(m<G||ve)&&(ve&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(m,1/0,this.playlistType,!0),this.lastCurrentTime=m),!this.loadedmetadata&&!b.len&&(this.nextLoadPosition=this.startPosition=m),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(n,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(n,e,i){this._loadFragForPlayback(n,e,i)}_loadFragForPlayback(n,e,i){this._doFragLoad(n,e,i,d=>{if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${d.part?" p: "+d.part.index:""} of level ${n.level} was dropped during download.`),void this.fragmentTracker.removeFragment(n);n.stats.chunkCount++,this._handleFragmentLoadProgress(d)}).then(d=>{if(!d)return;const m=this.state;this.fragContextChanged(n)?("FRAG_LOADING"===m||!this.fragCurrent&&"PARSING"===m)&&(this.fragmentTracker.removeFragment(n),this.state="IDLE"):("payload"in d&&(this.log(`Loaded fragment ${n.sn} of level ${n.level}`),this.hls.trigger(Nt.FRAG_LOADED,d)),this._handleFragmentLoadComplete(d))}).catch(d=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(d),this.resetFragmentLoading(n))})}clearTrackerIfNeeded(n){var e;const{fragmentTracker:i}=this;if("APPENDING"===i.getState(n)){const m=this.getFwdBufferInfo(this.mediaBuffer,n.type),b=Math.max(n.duration,m?m.len:this.config.maxBufferLength);this.reduceMaxBufferLength(b)&&i.removeFragment(n)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?i.removeAllFragments():i.hasParts(n.type)&&(i.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type}),"PARTIAL"===i.getState(n)&&i.removeFragment(n))}flushMainBuffer(n,e,i=null){n-e&&this.hls.trigger(Nt.BUFFER_FLUSHING,{startOffset:n,endOffset:e,type:i})}_loadInitSegment(n,e){this._doFragLoad(n,e).then(i=>{if(!i||this.fragContextChanged(n)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:o}=this,{payload:d}=i,m=n.decryptdata;if(d&&d.byteLength>0&&m&&m.key&&m.iv&&"AES-128"===m.method){const b=self.performance.now();return this.decrypter.decrypt(new Uint8Array(d),m.key.buffer,m.iv.buffer).catch(w=>{throw o.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.FRAG_DECRYPT_ERROR,fatal:!1,error:w,reason:w.message,frag:n}),w}).then(w=>{const G=self.performance.now();return o.trigger(Nt.FRAG_DECRYPTED,{frag:n,payload:w,stats:{tstart:b,tdecrypt:G}}),i.payload=w,i})}return i}).then(i=>{const{fragCurrent:o,hls:d,levels:m}=this;if(!m)throw new Error("init load aborted, missing levels");const b=n.stats;this.state="IDLE",e.fragmentError=0,n.data=new Uint8Array(i.payload),b.parsing.start=b.buffering.start=self.performance.now(),b.parsing.end=b.buffering.end=self.performance.now(),i.frag===o&&d.trigger(Nt.FRAG_BUFFERED,{stats:b,frag:o,part:null,id:n.type}),this.tick()}).catch(i=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(i),this.resetFragmentLoading(n))})}fragContextChanged(n){const{fragCurrent:e}=this;return!n||!e||n.level!==e.level||n.sn!==e.sn||n.urlId!==e.urlId}fragBufferedComplete(n,e){var i,o,d,m;const b=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${n.type} sn: ${n.sn}${e?" part: "+e.index:""} of ${"main"===this.playlistType?"level":"track"} ${n.level} (frag:[${(null!=(i=n.startPTS)?i:NaN).toFixed(3)}-${(null!=(o=n.endPTS)?o:NaN).toFixed(3)}] > buffer:${b?function(r){let n="";const e=r.length;for(let i=0;i<e;i++)n+=`[${r.start(i).toFixed(3)}-${r.end(i).toFixed(3)}]`;return n}(uo.getBuffered(b)):"(detached)"})`),this.state="IDLE",b&&(!this.loadedmetadata&&"main"==n.type&&b.buffered.length&&(null==(d=this.fragCurrent)?void 0:d.sn)===(null==(m=this.fragPrevious)?void 0:m.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(n){const{transmuxer:e}=this;if(!e)return;const{frag:i,part:o,partsLoaded:d}=n,m=!d||0===d.length||d.some(w=>!w),b=new w_(i.level,i.sn,i.stats.chunkCount+1,0,o?o.index:-1,!m);e.flush(b)}_handleFragmentLoadProgress(n){}_doFragLoad(n,e,i=null,o){var d;const m=e?.details;if(!this.levels||!m)throw new Error(`frag load aborted, missing level${m?"":" detail"}s`);let b=null;if(!n.encrypted||null!=(d=n.decryptdata)&&d.key?!n.encrypted&&m.encryptedFragments.length&&this.keyLoader.loadClear(n,m.encryptedFragments):(this.log(`Loading key for ${n.sn} of [${m.startSN}-${m.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${n.level}`),this.state="KEY_LOADING",this.fragCurrent=n,b=this.keyLoader.load(n).then(re=>{if(!this.fragContextChanged(re.frag))return this.hls.trigger(Nt.KEY_LOADED,re),"KEY_LOADING"===this.state&&(this.state="IDLE"),re}),this.hls.trigger(Nt.KEY_LOADING,{frag:n}),null===this.fragCurrent&&(b=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(n.start,i||0),this.config.lowLatencyMode&&"initSegment"!==n.sn){const re=m.partList;if(re&&o){i>n.end&&m.fragmentHint&&(n=m.fragmentHint);const ve=this.getNextPart(re,n,i);if(ve>-1){const qe=re[ve];let Xe;return this.log(`Loading part sn: ${n.sn} p: ${qe.index} cc: ${n.cc} of playlist [${m.startSN}-${m.endSN}] parts [0-${ve}-${re.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${n.level}, target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=qe.start+qe.duration,this.state="FRAG_LOADING",Xe=b?b.then(pt=>!pt||this.fragContextChanged(pt.frag)?null:this.doFragPartsLoad(n,qe,e,o)).catch(pt=>this.handleFragLoadError(pt)):this.doFragPartsLoad(n,qe,e,o).catch(pt=>this.handleFragLoadError(pt)),this.hls.trigger(Nt.FRAG_LOADING,{frag:n,part:qe,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):Xe}if(!n.url||this.loadedEndOfParts(re,i))return Promise.resolve(null)}}this.log(`Loading fragment ${n.sn} cc: ${n.cc} ${m?"of ["+m.startSN+"-"+m.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${n.level}, target: ${parseFloat(i.toFixed(3))}`),Ri(n.sn)&&!this.bitrateTest&&(this.nextLoadPosition=n.start+n.duration),this.state="FRAG_LOADING";const w=this.config.progressive;let G;return G=w&&b?b.then(re=>!re||this.fragContextChanged(re?.frag)?null:this.fragmentLoader.load(n,o)).catch(re=>this.handleFragLoadError(re)):Promise.all([this.fragmentLoader.load(n,w?o:void 0),b]).then(([re])=>(!w&&re&&o&&o(re),re)).catch(re=>this.handleFragLoadError(re)),this.hls.trigger(Nt.FRAG_LOADING,{frag:n,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):G}doFragPartsLoad(n,e,i,o){return new Promise((d,m)=>{var b;const w=[],G=null==(b=i.details)?void 0:b.partList,re=ve=>{this.fragmentLoader.loadPart(n,ve,o).then(qe=>{w[ve.index]=qe;const Xe=qe.part;this.hls.trigger(Nt.FRAG_LOADED,qe);const pt=th(i,n.sn,ve.index+1)||Wx(G,n.sn,ve.index+1);if(!pt)return d({frag:n,part:Xe,partsLoaded:w});re(pt)}).catch(m)};re(e)})}handleFragLoadError(n){if("data"in n){const e=n.data;n.data&&e.details===Gn.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(Nt.ERROR,e)}else this.hls.trigger(Nt.ERROR,{type:Fi.OTHER_ERROR,details:Gn.INTERNAL_EXCEPTION,err:n,error:n,fatal:!0});return null}_handleTransmuxerFlush(n){const e=this.getCurrentContext(n);if(!e||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:i,part:o,level:d}=e,m=self.performance.now();i.stats.parsing.end=m,o&&(o.stats.parsing.end=m),this.updateLevelTiming(i,o,d,n.partial)}getCurrentContext(n){const{levels:e,fragCurrent:i}=this,{level:o,sn:d,part:m}=n;if(null==e||!e[o])return this.warn(`Levels object was unset while buffering fragment ${d} of level ${o}. The current chunk will not be buffered.`),null;const b=e[o],w=m>-1?th(b,d,m):null,G=w?w.fragment:function E_(r,n,e){if(null==r||!r.details)return null;const i=r.details;let o=i.fragments[n-i.startSN];return o||(o=i.fragmentHint,o&&o.sn===n)?o:n<i.startSN&&e&&e.sn===n?e:null}(b,d,i);return G?(i&&i!==G&&(G.stats=i.stats),{frag:G,part:w,level:b}):null}bufferFragmentData(n,e,i,o,d){var m;if(!n||"PARSING"!==this.state)return;const{data1:b,data2:w}=n;let G=b;if(b&&w&&(G=Nc(b,w)),null!=(m=G)&&m.length&&(this.hls.trigger(Nt.BUFFER_APPENDING,{type:n.type,frag:e,part:i,chunkMeta:o,parent:e.type,data:G}),n.dropped&&n.independent&&!i)){if(d)return;this.flushBufferGap(e)}}flushBufferGap(n){const e=this.media;if(!e)return;if(!uo.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,n.start);const i=e.currentTime,o=uo.bufferInfo(e,i,0),m=Math.min(2*this.config.maxFragLookUpTolerance,.25*n.duration),b=Math.max(Math.min(n.start-m,o.end-m),i+m);n.start-b>m&&this.flushMainBuffer(b,n.start)}getFwdBufferInfo(n,e){const i=this.getLoadPosition();return Ri(i)?this.getFwdBufferInfoAtPos(n,i,e):null}getFwdBufferInfoAtPos(n,e,i){const{config:{maxBufferHole:o}}=this,d=uo.bufferInfo(n,e,o);if(0===d.len&&void 0!==d.nextStart){const m=this.fragmentTracker.getBufferedFrag(e,i);if(m&&d.nextStart<m.end)return uo.bufferInfo(n,e,Math.max(d.nextStart,o))}return d}getMaxBufferLength(n){const{config:e}=this;let i;return i=n?Math.max(8*e.maxBufferSize/n,e.maxBufferLength):e.maxBufferLength,Math.min(i,e.maxMaxBufferLength)}reduceMaxBufferLength(n){const e=this.config;return e.maxMaxBufferLength>=(n||e.maxBufferLength)&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(n,e="main"){const i=this.fragmentTracker.getAppendedFrag(n,"main");return i&&"fragment"in i?i.fragment:i}getNextFragment(n,e){const i=e.fragments,o=i.length;if(!o)return null;const{config:d}=this,m=i[0].start;let b;if(e.live){const w=d.initialLiveManifestSize;if(o<w)return this.warn(`Not enough fragments to start playback (have: ${o}, need: ${w})`),null;!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(b=this.getInitialLiveFragment(e,i),this.startPosition=b?this.hls.liveSyncPosition||b.start:n)}else n<=m&&(b=i[0]);return b||(b=this.getFragmentAtPosition(n,d.lowLatencyMode?e.partEnd:e.fragmentEnd,e)),this.mapToInitFragWhenRequired(b)}isLoopLoading(n,e){const i=this.fragmentTracker.getState(n);return("OK"===i||"PARTIAL"===i&&!!n.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(n,e,i,o,d){const m=n.gap,b=this.getNextFragment(this.nextLoadPosition,e);if(null===b)return b;if(n=b,m&&n&&!n.gap&&i.nextStart){const w=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,o);if(null!==w&&i.len+w.len>=d)return this.log(`buffer full after gaps in "${o}" playlist starting at sn: ${n.sn}`),null}return n}mapToInitFragWhenRequired(n){return null==n||!n.initSegment||null!=n&&n.initSegment.data||this.bitrateTest?n:n.initSegment}getNextPart(n,e,i){let o=-1,d=!1,m=!0;for(let b=0,w=n.length;b<w;b++){const G=n[b];if(m=m&&!G.independent,o>-1&&i<G.start)break;const re=G.loaded;re?o=-1:(d||G.independent||m)&&G.fragment===e&&(o=b),d=re}return o}loadedEndOfParts(n,e){const i=n[n.length-1];return i&&e>i.start&&i.loaded}getInitialLiveFragment(n,e){const i=this.fragPrevious;let o=null;if(i){if(n.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),o=function dE(r,n,e){if(null===n||!Array.isArray(r)||!r.length||!Ri(n))return null;if(n<(r[0].programDateTime||0))return null;if(n>=(r[r.length-1].endProgramDateTime||0))return null;e=e||0;for(let d=0;d<r.length;++d){const m=r[d];if($x(n,e,m))return m}return null}(e,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!o){const d=i.sn+1;if(d>=n.startSN&&d<=n.endSN){const m=e[d-n.startSN];i.cc===m.cc&&(o=m,this.log(`Live playlist, switching playlist, load frag with next SN: ${o.sn}`))}o||(o=function qx(r,n){return cE.search(r,e=>e.cc<n?1:e.cc>n?-1:0)}(e,i.cc),o&&this.log(`Live playlist, switching playlist, load frag with same CC: ${o.sn}`))}}else{const d=this.hls.liveSyncPosition;null!==d&&(o=this.getFragmentAtPosition(d,this.bitrateTest?n.fragmentEnd:n.edge,n))}return o}getFragmentAtPosition(n,e,i){const{config:o}=this;let{fragPrevious:d}=this,{fragments:m,endSN:b}=i;const{fragmentHint:w}=i,G=o.maxFragLookUpTolerance,re=i.partList,ve=!!(o.lowLatencyMode&&null!=re&&re.length&&w);let qe;if(ve&&w&&!this.bitrateTest&&(m=m.concat(w),b=w.sn),qe=n<e?Fu(d,m,n,n>e-G?0:G):m[m.length-1],qe){const Xe=qe.sn-i.startSN,pt=this.fragmentTracker.getState(qe);if(("OK"===pt||"PARTIAL"===pt&&qe.gap)&&(d=qe),d&&qe.sn===d.sn&&(!ve||re[0].fragment.sn>qe.sn)&&d&&qe.level===d.level){const Ot=m[Xe+1];qe=qe.sn<b&&"OK"!==this.fragmentTracker.getState(Ot)?Ot:null}}return qe}synchronizeToLiveEdge(n){const{config:e,media:i}=this;if(!i)return;const o=this.hls.liveSyncPosition,d=i.currentTime,b=n.edge,w=d>=n.fragments[0].start-e.maxFragLookUpTolerance&&d<=b;null!==o&&i.duration>o&&(d<o||!w)&&(!w&&i.readyState<4||d<b-(void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*n.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=o),i.readyState&&(this.warn(`Playback: ${d.toFixed(3)} is located too far from the end of live sliding playlist: ${b}, reset currentTime to : ${o.toFixed(3)}`),i.currentTime=o))}alignPlaylists(n,e){const{levels:i,levelLastLoaded:o,fragPrevious:d}=this,m=null!==o?i[o]:null,b=n.fragments.length;if(!b)return this.warn("No fragments in live playlist"),0;const w=n.fragments[0].start,G=!e,re=n.alignedSliding&&Ri(w);if(G||!re&&!w){!function eA(r,n,e){n&&(function Mw(r,n,e){if(function Aw(r,n,e){return!(!n.details||!(e.endCC>e.startCC||r&&r.cc<e.startCC))}(r,e,n)){const i=function Xx(r,n,e=0){const i=r.fragments,o=n.fragments;if(!o.length||!i.length)return void xn.log("No fragments to align");const d=I_(i,o[0].cc);if(d&&(!d||d.startPTS))return d;xn.log("No frag in previous level to align on")}(e.details,n);i&&Ri(i.start)&&(xn.log(`Adjusting PTS using last level due to CC increase within current level ${n.url}`),gE(i.start,n))}}(r,e,n),!e.alignedSliding&&n.details&&function ww(r,n){if(!n.fragments.length||!r.hasProgramDateTime||!n.hasProgramDateTime)return;const e=n.fragments[0].programDateTime,i=r.fragments[0].programDateTime,o=(i-e)/1e3+n.fragments[0].start;o&&Ri(o)&&(xn.log(`Adjusting PTS using programDateTime delta ${i-e}ms, sliding:${o.toFixed(3)} ${r.url} `),gE(o,r))}(e,n.details),!e.alignedSliding&&n.details&&!e.skippedSegments&&Gm(n.details,e))}(d,m,n);const ve=n.fragments[0].start;return this.log(`Live playlist sliding: ${ve.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${n.startSN} prev-sn: ${d?d.sn:"na"} fragments: ${b}`),ve}return w}waitForCdnTuneIn(n){return n.live&&n.canBlockReload&&n.partTarget&&n.tuneInGoal>Math.max(n.partHoldBack,3*n.partTarget)}setStartPosition(n,e){let i=this.startPosition;if(i<e&&(i=-1),-1===i||-1===this.lastCurrentTime){const o=null!==this.startTimeOffset,d=o?this.startTimeOffset:n.startTimeOffset;null!==d&&Ri(d)?(i=e+d,d<0&&(i+=n.totalduration),i=Math.min(Math.max(e,i),e+n.totalduration),this.log(`Start time offset ${d} found in ${o?"multivariant":"media"} playlist, adjust startPosition to ${i}`),this.startPosition=i):n.live?i=this.hls.liveSyncPosition||e:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}getLoadPosition(){const{media:n}=this;let e=0;return this.loadedmetadata&&n?e=n.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(n,e){this.transmuxer&&"initSegment"!==n.sn&&n.stats.aborted&&(this.warn(`Fragment ${n.sn}${e?" part "+e.index:""} of level ${n.level} was aborted`),this.resetFragmentLoading(n))}resetFragmentLoading(n){(!this.fragCurrent||!this.fragContextChanged(n)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(n,e){if(e.chunkMeta&&!e.frag){const ve=this.getCurrentContext(e.chunkMeta);ve&&(e.frag=ve.frag)}const i=e.frag;if(!i||i.type!==n||!this.levels)return;var o;if(this.fragContextChanged(i))return void this.warn(`Frag load error must match current frag to retry ${i.url} > ${null==(o=this.fragCurrent)?void 0:o.url}`);const d=e.details===Gn.FRAG_GAP;d&&this.fragmentTracker.fragBuffered(i,!0);const m=e.errorAction,{action:b,retryCount:w=0,retryConfig:G}=m||{};if(m&&5===b&&G){var re;this.resetStartWhenNotLoaded(null!=(re=this.levelLastLoaded)?re:i.level);const ve=Hm(G,w);this.warn(`Fragment ${i.sn} of ${n} ${i.level} errored with ${e.details}, retrying loading ${w+1}/${G.maxNumRetry} in ${ve}ms`),m.resolved=!0,this.retryDate=self.performance.now()+ve,this.state="FRAG_LOADING_WAITING_RETRY"}else G&&m?(this.resetFragmentErrors(n),w<G.maxNumRetry?d||(m.resolved=!0):xn.warn(`${e.details} reached or exceeded max retry (${w})`)):this.state=2===m?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(n){if("PARSING"===this.state||"PARSED"===this.state){const e=n.parent,i=this.getFwdBufferInfo(this.mediaBuffer,e),o=i&&i.len>.5;o&&this.reduceMaxBufferLength(i.len);const d=!o;return d&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),n.frag&&(this.fragmentTracker.removeFragment(n.frag),this.nextLoadPosition=n.frag.start),this.resetLoadingState(),d}return!1}resetFragmentErrors(n){"audio"===n&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(n,e,i){if(!n)return;const o=uo.getBuffered(n);this.fragmentTracker.detectEvictedFragments(e,o,i),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(n){if(!this.loadedmetadata){this.startFragRequested=!1;const e=this.levels?this.levels[n].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(n){var e;this.warn(`The loading context changed while buffering fragment ${n.sn} of level ${n.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(e=this.levelLastLoaded)?e:n.level),this.resetLoadingState()}removeUnbufferedFrags(n=0){this.fragmentTracker.removeFragmentsInRange(n,1/0,this.playlistType,!1,!0)}updateLevelTiming(n,e,i,o){var d;const m=i.details;if(m){if(Object.keys(n.elementaryStreams).reduce((w,G)=>{const re=n.elementaryStreams[G];if(re){const ve=re.endPTS-re.startPTS;if(ve<=0)return this.warn(`Could not parse fragment ${n.sn} ${G} duration reliably (${ve})`),w||!1;const qe=o?0:oE(m,n,re.startPTS,re.endPTS,re.startDTS,re.endDTS);return this.hls.trigger(Nt.LEVEL_PTS_UPDATED,{details:m,level:i,drift:qe,type:G,frag:n,start:re.startPTS,end:re.endPTS}),!0}return w},!1))i.fragmentError=0;else if(null===(null==(d=this.transmuxer)?void 0:d.error)){const w=new Error(`Found no media in fragment ${n.sn} of level ${n.level} resetting transmuxer to fallback to playlist timing`);if(0===i.fragmentError&&(i.fragmentError++,n.gap=!0,this.fragmentTracker.removeFragment(n),this.fragmentTracker.fragBuffered(n,!0)),this.warn(w.message),this.hls.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.FRAG_PARSING_ERROR,fatal:!1,error:w,frag:n,reason:`Found no media in msn ${n.sn} of level "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(Nt.FRAG_PARSED,{frag:n,part:e})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(n){var e,i,o;"demuxerWorker"===n.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(e=null!=(i=this.levelLastLoaded)?i:null==(o=this.fragCurrent)?void 0:o.level)?e:0),this.resetLoadingState())}set state(n){const e=this._state;e!==n&&(this._state=n,this.log(`${e}->${n}`))}get state(){return this._state}}function tA(){return self.SourceBuffer||self.WebKitSourceBuffer}function h(r="",n=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:n,sequenceNumber:-1,samples:[],dropped:0}}class _{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(n,e,i,o){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(n){this.initPTS=n,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(n,e){return!1}appendFrame(n,e,i){}demux(n,e){this.cachedData&&(n=Nc(this.cachedData,n),this.cachedData=null);let d,i=Qf(n,0),o=i?i.length:0;const m=this._audioTrack,b=this._id3Track,w=i?(r=>{const n=Rx(r);for(let e=0;e<n.length;e++){const i=n[e];if(Ox(i))return Xg(i)}})(i):void 0,G=n.length;for((null===this.basePTS||0===this.frameIndex&&Ri(w))&&(this.basePTS=M(w,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),i&&i.length>0&&b.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:"org.id3",duration:Number.POSITIVE_INFINITY});o<G;){if(this.canParse(n,o)){const re=this.appendFrame(m,n,o);re?(this.frameIndex++,this.lastPTS=re.sample.pts,o+=re.length,d=o):o=G}else uw(n,o)?(i=Qf(n,o),b.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:"org.id3",duration:Number.POSITIVE_INFINITY}),o+=i.length,d=o):o++;if(o===G&&d!==G){const re=Hd(n,d);this.cachedData=this.cachedData?Nc(this.cachedData,re):re}}return{audioTrack:m,videoTrack:h(),id3Track:b,textTrack:h()}}demuxSampleAes(n,e,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(n){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:h(),id3Track:this._id3Track,textTrack:h()}}destroy(){}}const M=(r,n,e)=>Ri(r)?90*r:9e4*n+(e?9e4*e.baseTime/e.timescale:0);function ie(r,n){return 255===r[n]&&240==(246&r[n+1])}function Ce(r,n){return 1&r[n+1]?7:9}function je(r,n){return(3&r[n+3])<<11|r[n+4]<<3|(224&r[n+5])>>>5}function Rt(r,n){return n+1<r.length&&ie(r,n)}function _n(r,n){if(Rt(r,n)){const e=Ce(r,n);if(n+e>=r.length)return!1;const i=je(r,n);if(i<=e)return!1;const o=n+i;return o===r.length||Rt(r,o)}return!1}function An(r,n,e,i,o){if(!r.samplerate){const d=function V(r,n,e,i){let o,d,m,b;const w=navigator.userAgent.toLowerCase(),G=i,re=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&n[e+2])>>>6);const ve=(60&n[e+2])>>>2;if(!(ve>re.length-1))return m=(1&n[e+2])<<2,m|=(192&n[e+3])>>>6,xn.log(`manifest codec:${i}, ADTS type:${o}, samplingIndex:${ve}`),/firefox/i.test(w)?ve>=6?(o=5,b=new Array(4),d=ve-3):(o=2,b=new Array(2),d=ve):-1!==w.indexOf("android")?(o=2,b=new Array(2),d=ve):(o=5,b=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&ve>=6?d=ve-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(ve>=6&&1===m||/vivaldi/i.test(w))||!i&&1===m)&&(o=2,b=new Array(2)),d=ve)),b[0]=o<<3,b[0]|=(14&ve)>>1,b[1]|=(1&ve)<<7,b[1]|=m<<3,5===o&&(b[1]|=(14&d)>>1,b[2]=(1&d)<<7,b[2]|=8,b[3]=0),{config:b,samplerate:re[ve],channelCount:m,codec:"mp4a.40."+o,manifestCodec:G};r.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${ve}`})}(n,e,i,o);if(!d)return;r.config=d.config,r.samplerate=d.samplerate,r.channelCount=d.channelCount,r.codec=d.codec,r.manifestCodec=d.manifestCodec,xn.log(`parsed codec:${r.codec}, rate:${d.samplerate}, channels:${d.channelCount}`)}}function Kn(r){return 9216e4/r}function gi(r,n,e,i,o){const m=i+o*Kn(r.samplerate),b=function ri(r,n){const e=Ce(r,n);if(n+e<=r.length){const i=je(r,n)-e;if(i>0)return{headerLength:e,frameLength:i}}}(n,e);let w;if(b){const{frameLength:ve,headerLength:qe}=b,Xe=qe+ve,pt=Math.max(0,e+Xe-n.length);pt?(w=new Uint8Array(Xe-qe),w.set(n.subarray(e+qe,n.length),0)):w=n.subarray(e+qe,e+Xe);const St={unit:w,pts:m};return pt||r.samples.push(St),{sample:St,length:Xe,missing:pt}}const G=n.length-e;return w=new Uint8Array(G),w.set(n.subarray(e,n.length),0),{sample:{unit:w,pts:m},length:G,missing:-1}}const qn=/\/emsg[-/]ID3/i;let ur=null;const Cr=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],$s=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Zm=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],rA=[0,1,1,4];function yE(r,n,e,i,o){if(e+24>n.length)return;const d=Fw(n,e);if(d&&e+d.frameLength<=n.length){const b=i+o*(9e4*d.samplesPerFrame/d.sampleRate),w={unit:n.subarray(e,e+d.frameLength),pts:b,dts:b};return r.config=[],r.channelCount=d.channelCount,r.samplerate=d.sampleRate,r.samples.push(w),{sample:w,length:d.frameLength,missing:0}}}function Fw(r,n){const e=r[n+1]>>3&3,i=r[n+1]>>1&3,o=r[n+2]>>4&15,d=r[n+2]>>2&3;if(1!==e&&0!==o&&15!==o&&3!==d){const b=r[n+3]>>6,G=1e3*Cr[14*(3===e?3-i:3===i?3:4)+o-1],ve=$s[3*(3===e?0:2===e?1:2)+d],qe=3===b?1:2,Xe=Zm[e][i],pt=rA[i],St=8*Xe*pt,Ot=Math.floor(Xe*G/ve+(r[n+2]>>1&1))*pt;if(null===ur){const an=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ur=an?parseInt(an[1]):0}return!!ur&&ur<=87&&2===i&&G>=224e3&&0===b&&(r[n+3]=128|r[n+3]),{sampleRate:ve,channelCount:qe,frameLength:Ot,samplesPerFrame:St}}}function oA(r,n){return 255===r[n]&&224==(224&r[n+1])&&0!=(6&r[n+1])}function Bw(r,n){return n+1<r.length&&oA(r,n)}function O1(r,n){if(n+1<r.length&&oA(r,n)){const i=Fw(r,n);let o=4;null!=i&&i.frameLength&&(o=i.frameLength);const d=n+o;return d===r.length||Bw(r,d)}return!1}class Uw{constructor(n){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=n,this.bytesAvailable=n.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const n=this.data,e=this.bytesAvailable,i=n.byteLength-e,o=new Uint8Array(4),d=Math.min(4,e);if(0===d)throw new Error("no bytes available");o.set(n.subarray(i,i+d)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=8*d,this.bytesAvailable-=d}skipBits(n){let e;n=Math.min(n,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>n?(this.word<<=n,this.bitsAvailable-=n):(e=(n-=this.bitsAvailable)>>3,n-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=n,this.bitsAvailable-=n)}readBits(n){let e=Math.min(this.bitsAvailable,n);const i=this.word>>>32-e;if(n>32&&xn.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=n-e,e>0&&this.bitsAvailable?i<<e|this.readBits(e):i}skipLZ(){let n;for(n=0;n<this.bitsAvailable;++n)if(this.word&2147483648>>>n)return this.word<<=n,this.bitsAvailable-=n,n;return this.loadWord(),n+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const n=this.skipLZ();return this.readBits(n+1)-1}readEG(){const n=this.readUEG();return 1&n?1+n>>>1:-1*(n>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(n){let o,e=8,i=8;for(let d=0;d<n;d++)0!==i&&(o=this.readEG(),i=(e+o+256)%256),e=0===i?e:i}readSPS(){let d,m,b,n=0,e=0,i=0,o=0;const w=this.readUByte.bind(this),G=this.readBits.bind(this),re=this.readUEG.bind(this),ve=this.readBoolean.bind(this),qe=this.skipBits.bind(this),Xe=this.skipEG.bind(this),pt=this.skipUEG.bind(this),St=this.skipScalingList.bind(this);w();const Ot=w();if(G(5),qe(3),w(),pt(),100===Ot||110===Ot||122===Ot||244===Ot||44===Ot||83===Ot||86===Ot||118===Ot||128===Ot){const Un=re();if(3===Un&&qe(1),pt(),pt(),qe(1),ve())for(m=3!==Un?8:12,b=0;b<m;b++)ve()&&St(b<6?16:64)}pt();const $t=re();if(0===$t)re();else if(1===$t)for(qe(1),Xe(),Xe(),d=re(),b=0;b<d;b++)Xe();pt(),qe(1);const fn=re(),an=re(),yn=G(1);0===yn&&qe(1),qe(1),ve()&&(n=re(),e=re(),i=re(),o=re());let Sn=[1,1];if(ve()&&ve())switch(w()){case 1:Sn=[1,1];break;case 2:Sn=[12,11];break;case 3:Sn=[10,11];break;case 4:Sn=[16,11];break;case 5:Sn=[40,33];break;case 6:Sn=[24,11];break;case 7:Sn=[20,11];break;case 8:Sn=[32,11];break;case 9:Sn=[80,33];break;case 10:Sn=[18,11];break;case 11:Sn=[15,11];break;case 12:Sn=[64,33];break;case 13:Sn=[160,99];break;case 14:Sn=[4,3];break;case 15:Sn=[3,2];break;case 16:Sn=[2,1];break;case 255:Sn=[w()<<8|w(),w()<<8|w()]}return{width:Math.ceil(16*(fn+1)-2*n-2*e),height:(2-yn)*(an+1)*16-(yn?2:4)*(i+o),pixelRatio:Sn}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class R1{constructor(n,e,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new P_(e,{removePKCS7Padding:!1})}decryptBuffer(n){return this.decrypter.decrypt(n,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(n,e,i){const o=n[e].unit;if(o.length<=16)return;const d=o.subarray(16,o.length-o.length%16),m=d.buffer.slice(d.byteOffset,d.byteOffset+d.length);this.decryptBuffer(m).then(b=>{const w=new Uint8Array(b);o.set(w,16),this.decrypter.isSync()||this.decryptAacSamples(n,e+1,i)})}decryptAacSamples(n,e,i){for(;;e++){if(e>=n.length)return void i();if(!(n[e].unit.length<32||(this.decryptAacSample(n,e,i),this.decrypter.isSync())))return}}getAvcEncryptedData(n){const e=16*Math.floor((n.length-48)/160)+16,i=new Int8Array(e);let o=0;for(let d=32;d<n.length-16;d+=160,o+=16)i.set(n.subarray(d,d+16),o);return i}getAvcDecryptedUnit(n,e){const i=new Uint8Array(e);let o=0;for(let d=32;d<n.length-16;d+=160,o+=16)n.set(i.subarray(o,o+16),d);return n}decryptAvcSample(n,e,i,o,d){const m=o_(d.data),b=this.getAvcEncryptedData(m);this.decryptBuffer(b.buffer).then(w=>{d.data=this.getAvcDecryptedUnit(m,w),this.decrypter.isSync()||this.decryptAvcSamples(n,e,i+1,o)})}decryptAvcSamples(n,e,i,o){if(n instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,i=0){if(e>=n.length)return void o();const d=n[e].units;for(;!(i>=d.length);i++){const m=d[i];if(!(m.data.length<=48||1!==m.type&&5!==m.type||(this.decryptAvcSample(n,e,i,o,m),this.decrypter.isSync())))return}}}}const Sa=188;class Bu{constructor(n,e,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=n,this.config=e,this.typeSupported=i}static probe(n){const e=Bu.syncOffset(n);return e>0&&xn.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(n){const e=n.length;let i=Math.min(940,n.length-Sa)+1,o=0;for(;o<i;){let d=!1,m=-1,b=0;for(let w=o;w<e;w+=Sa){if(71!==n[w]){if(b)return-1;break}if(b++,-1===m&&(m=w,0!==m&&(i=Math.min(m+18612,n.length-Sa)+1)),d||(d=0===sA(n,w)),d&&b>1&&(0===m&&b>2||w+Sa>i))return m}o++}return-1}static createTrack(n,e){return{container:"video"===n||"audio"===n?"video/mp2t":void 0,type:n,id:Bb[n],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===n?e:void 0}}resetInitSegment(n,e,i,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Bu.createTrack("video"),this._audioTrack=Bu.createTrack("audio",o),this._id3Track=Bu.createTrack("id3"),this._txtTrack=Bu.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=i,this._duration=o}resetTimeStamp(){}resetContiguity(){const{_audioTrack:n,_avcTrack:e,_id3Track:i}=this;n&&(n.pesData=null),e&&(e.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(n,e,i=!1,o=!1){let d;i||(this.sampleAes=null);const m=this._avcTrack,b=this._audioTrack,w=this._id3Track,G=this._txtTrack;let re=m.pid,ve=m.pesData,qe=b.pid,Xe=w.pid,pt=b.pesData,St=w.pesData,Ot=null,$t=this.pmtParsed,fn=this._pmtId,an=n.length;if(this.remainderData&&(an=(n=Nc(this.remainderData,n)).length,this.remainderData=null),an<Sa&&!o)return this.remainderData=n,{audioTrack:b,videoTrack:m,id3Track:w,textTrack:G};const yn=Math.max(0,Bu.syncOffset(n));an-=(an-yn)%Sa,an<n.byteLength&&!o&&(this.remainderData=new Uint8Array(n.buffer,an,n.buffer.byteLength-an));let Sn=0;for(let On=yn;On<an;On+=Sa)if(71===n[On]){const zn=!!(64&n[On+1]),ii=sA(n,On);let yi;if((48&n[On+3])>>4>1){if(yi=On+5+n[On+4],yi===On+Sa)continue}else yi=On+4;switch(ii){case re:zn&&(ve&&(d=$m(ve))&&this.parseAVCPES(m,G,d,!1),ve={data:[],size:0}),ve&&(ve.data.push(n.subarray(yi,On+Sa)),ve.size+=On+Sa-yi);break;case qe:if(zn){if(pt&&(d=$m(pt)))switch(b.segmentCodec){case"aac":this.parseAACPES(b,d);break;case"mp3":this.parseMPEGPES(b,d)}pt={data:[],size:0}}pt&&(pt.data.push(n.subarray(yi,On+Sa)),pt.size+=On+Sa-yi);break;case Xe:zn&&(St&&(d=$m(St))&&this.parseID3PES(w,d),St={data:[],size:0}),St&&(St.data.push(n.subarray(yi,On+Sa)),St.size+=On+Sa-yi);break;case 0:zn&&(yi+=n[yi]+1),fn=this._pmtId=N1(n,yi);break;case fn:{zn&&(yi+=n[yi]+1);const mi=L1(n,yi,this.typeSupported,i);re=mi.avc,re>0&&(m.pid=re),qe=mi.audio,qe>0&&(b.pid=qe,b.segmentCodec=mi.segmentCodec),Xe=mi.id3,Xe>0&&(w.pid=Xe),null!==Ot&&!$t&&(xn.warn(`MPEG-TS PMT found at ${On} after unknown PID '${Ot}'. Backtracking to sync byte @${yn} to parse all TS packets.`),Ot=null,On=yn-188),$t=this.pmtParsed=!0;break}case 17:case 8191:break;default:Ot=ii}}else Sn++;if(Sn>0){const On=new Error(`Found ${Sn} TS packet/s that do not start with 0x47`);this.observer.emit(Nt.ERROR,Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.FRAG_PARSING_ERROR,fatal:!1,error:On,reason:On.message})}m.pesData=ve,b.pesData=pt,w.pesData=St;const Un={audioTrack:b,videoTrack:m,id3Track:w,textTrack:G};return o&&this.extractRemainingSamples(Un),Un}flush(){const{remainderData:n}=this;let e;return this.remainderData=null,e=n?this.demux(n,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(n){const{audioTrack:e,videoTrack:i,id3Track:o,textTrack:d}=n,m=i.pesData,b=e.pesData,w=o.pesData;let G;if(m&&(G=$m(m))?(this.parseAVCPES(i,d,G,!0),i.pesData=null):i.pesData=m,b&&(G=$m(b))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,G);break;case"mp3":this.parseMPEGPES(e,G)}e.pesData=null}else null!=b&&b.size&&xn.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=b;w&&(G=$m(w))?(this.parseID3PES(o,G),o.pesData=null):o.pesData=w}demuxSampleAes(n,e,i){const o=this.demux(n,i,!0,!this.config.progressive),d=this.sampleAes=new R1(this.observer,this.config,e);return this.decrypt(o,d)}decrypt(n,e){return new Promise(i=>{const{audioTrack:o,videoTrack:d}=n;o.samples&&"aac"===o.segmentCodec?e.decryptAacSamples(o.samples,0,()=>{d.samples?e.decryptAvcSamples(d.samples,0,0,()=>{i(n)}):i(n)}):d.samples&&e.decryptAvcSamples(d.samples,0,0,()=>{i(n)})})}destroy(){this._duration=0}parseAVCPES(n,e,i,o){const d=this.parseAVCNALu(n,i.data);let b,m=this.avcSample,w=!1;i.data=null,m&&d.length&&!n.audFound&&(O_(m,n),m=this.avcSample=bE(!1,i.pts,i.dts,"")),d.forEach(G=>{var re;switch(G.type){case 1:{let qe=!1;b=!0;const Xe=G.data;if(w&&Xe.length>4){const pt=new Uw(Xe).readSliceType();(2===pt||4===pt||7===pt||9===pt)&&(qe=!0)}var ve;qe&&null!=(ve=m)&&ve.frame&&!m.key&&(O_(m,n),m=this.avcSample=null),m||(m=this.avcSample=bE(!0,i.pts,i.dts,"")),m.frame=!0,m.key=qe;break}case 5:b=!0,null!=(re=m)&&re.frame&&!m.key&&(O_(m,n),m=this.avcSample=null),m||(m=this.avcSample=bE(!0,i.pts,i.dts,"")),m.key=!0,m.frame=!0;break;case 6:b=!0,r_(G.data,1,i.pts,e.samples);break;case 7:if(b=!0,w=!0,!n.sps){const qe=G.data,pt=new Uw(qe).readSPS();n.width=pt.width,n.height=pt.height,n.pixelRatio=pt.pixelRatio,n.sps=[qe],n.duration=this._duration;const St=qe.subarray(1,4);let Ot="avc1.";for(let $t=0;$t<3;$t++){let fn=St[$t].toString(16);fn.length<2&&(fn="0"+fn),Ot+=fn}n.codec=Ot}break;case 8:b=!0,n.pps||(n.pps=[G.data]);break;case 9:b=!1,n.audFound=!0,m&&O_(m,n),m=this.avcSample=bE(!1,i.pts,i.dts,"");break;case 12:b=!0;break;default:b=!1,m&&(m.debug+="unknown NAL "+G.type+" ")}m&&b&&m.units.push(G)}),o&&m&&(O_(m,n),this.avcSample=null)}getLastNalUnit(n){var e;let o,i=this.avcSample;if((!i||0===i.units.length)&&(i=n[n.length-1]),null!=(e=i)&&e.units){const d=i.units;o=d[d.length-1]}return o}parseAVCNALu(n,e){const i=e.byteLength;let o=n.naluState||0;const d=o,m=[];let w,G,re,b=0,ve=-1,qe=0;for(-1===o&&(ve=0,qe=31&e[0],o=0,b=1);b<i;)if(w=e[b++],o)if(1!==o)if(w)if(1===w){if(ve>=0){const Xe={data:e.subarray(ve,b-o-1),type:qe};m.push(Xe)}else{const Xe=this.getLastNalUnit(n.samples);if(Xe&&(d&&b<=4-d&&Xe.state&&(Xe.data=Xe.data.subarray(0,Xe.data.byteLength-d)),G=b-o-1,G>0)){const pt=new Uint8Array(Xe.data.byteLength+G);pt.set(Xe.data,0),pt.set(e.subarray(0,G),Xe.data.byteLength),Xe.data=pt,Xe.state=0}}b<i?(re=31&e[b],ve=b,qe=re,o=0):o=-1}else o=0;else o=3;else o=w?0:2;else o=w?0:1;if(ve>=0&&o>=0){const Xe={data:e.subarray(ve,i),type:qe,state:o};m.push(Xe)}if(0===m.length){const Xe=this.getLastNalUnit(n.samples);if(Xe){const pt=new Uint8Array(Xe.data.byteLength+e.byteLength);pt.set(Xe.data,0),pt.set(e,Xe.data.byteLength),Xe.data=pt}}return n.naluState=o,m}parseAACPES(n,e){let i=0;const o=this.aacOverFlow;let m,b,w,d=e.data;if(o){this.aacOverFlow=null;const ve=o.missing,qe=o.sample.unit.byteLength;if(-1===ve){const Xe=new Uint8Array(qe+d.byteLength);Xe.set(o.sample.unit,0),Xe.set(d,qe),d=Xe}else{const Xe=qe-ve;o.sample.unit.set(d.subarray(0,ve),Xe),n.samples.push(o.sample),i=o.missing}}for(m=i,b=d.length;m<b-1&&!Rt(d,m);m++);if(m!==i){let ve;const qe=m<b-1;ve=qe?`AAC PES did not start with ADTS header,offset:${m}`:"No ADTS header found in AAC PES";const Xe=new Error(ve);if(xn.warn(`parsing error: ${ve}`),this.observer.emit(Nt.ERROR,Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.FRAG_PARSING_ERROR,fatal:!1,levelRetry:qe,error:Xe,reason:ve}),!qe)return}if(An(n,this.observer,d,m,this.audioCodec),void 0!==e.pts)w=e.pts;else{if(!o)return void xn.warn("[tsdemuxer]: AAC PES unknown PTS");{const ve=Kn(n.samplerate);w=o.sample.pts+ve}}let re,G=0;for(;m<b;){if(re=gi(n,d,m,w,G),m+=re.length,re.missing){this.aacOverFlow=re;break}for(G++;m<b-1&&!Rt(d,m);m++);}}parseMPEGPES(n,e){const i=e.data,o=i.length;let d=0,m=0;const b=e.pts;if(void 0!==b)for(;m<o;)if(Bw(i,m)){const w=yE(n,i,m,b,d);if(!w)break;m+=w.length,d++}else m++;else xn.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(n,e){if(void 0===e.pts)return void xn.warn("[tsdemuxer]: ID3 PES unknown PTS");const i=zo({},e,{type:this._avcTrack?Jl_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});n.samples.push(i)}}function bE(r,n,e,i){return{key:r,frame:!1,pts:n,dts:e,units:[],debug:i,length:0}}function sA(r,n){return((31&r[n+1])<<8)+r[n+2]}function N1(r,n){return(31&r[n+10])<<8|r[n+11]}function L1(r,n,e,i){const o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},m=n+3+((15&r[n+1])<<8|r[n+2])-4;for(n+=12+((15&r[n+10])<<8|r[n+11]);n<m;){const w=sA(r,n);switch(r[n]){case 207:if(!i){xn.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=w);break;case 21:-1===o.id3&&(o.id3=w);break;case 219:if(!i){xn.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=w);break;case 3:case 4:!0!==e.mpeg&&!0!==e.mp3?xn.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=w,o.segmentCodec="mp3");break;case 36:xn.warn("Unsupported HEVC stream type found")}n+=5+((15&r[n+3])<<8|r[n+4])}return o}function $m(r){let e,i,o,d,m,n=0;const b=r.data;if(!r||0===r.size)return null;for(;b[0].length<19&&b.length>1;){const G=new Uint8Array(b[0].length+b[1].length);G.set(b[0]),G.set(b[1],b[0].length),b[0]=G,b.splice(1,1)}if(e=b[0],(e[0]<<16)+(e[1]<<8)+e[2]===1){if(i=(e[4]<<8)+e[5],i&&i>r.size-6)return null;const G=e[7];192&G&&(d=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&G?(m=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,d-m>54e5&&(xn.warn(`${Math.round((d-m)/9e4)}s delta between PTS and DTS, align them`),d=m)):m=d),o=e[8];let re=o+9;if(r.size<=re)return null;r.size-=re;const ve=new Uint8Array(r.size);for(let qe=0,Xe=b.length;qe<Xe;qe++){e=b[qe];let pt=e.byteLength;if(re){if(re>pt){re-=pt;continue}e=e.subarray(re),pt-=re,re=0}ve.set(e,n),n+=pt}return i&&(i-=o+3),{data:ve,pts:d,dts:m,len:i}}return null}function O_(r,n){if(r.units.length&&r.frame){if(void 0===r.pts){const e=n.samples,i=e.length;if(!i)return void n.dropped++;{const o=e[i-1];r.pts=o.pts,r.dts=o.dts}}n.samples.push(r)}r.debug.length&&xn.log(r.pts+"/"+r.dts+":"+r.debug)}class jw{static getSilentFrame(n,e){if("mp4a.40.2"===n){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const Uu=Math.pow(2,32)-1;let qm=(()=>{class r{static init(){let e;for(e in r.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},r.types)r.types.hasOwnProperty(e)&&(r.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);r.HDLR_TYPES={video:i,audio:o};const d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),m=new Uint8Array([0,0,0,0,0,0,0,0]);r.STTS=r.STSC=r.STCO=m,r.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),r.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),r.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const b=new Uint8Array([105,115,111,109]),w=new Uint8Array([97,118,99,49]),G=new Uint8Array([0,0,0,1]);r.FTYP=r.box(r.types.ftyp,b,G,b,w),r.DINF=r.box(r.types.dinf,r.box(r.types.dref,d))}static box(e,...i){let o=8,d=i.length;const m=d;for(;d--;)o+=i[d].byteLength;const b=new Uint8Array(o);for(b[0]=o>>24&255,b[1]=o>>16&255,b[2]=o>>8&255,b[3]=255&o,b.set(e,4),d=0,o=8;d<m;d++)b.set(i[d],o),o+=i[d].byteLength;return b}static hdlr(e){return r.box(r.types.hdlr,r.HDLR_TYPES[e])}static mdat(e){return r.box(r.types.mdat,e)}static mdhd(e,i){i*=e;const o=Math.floor(i/(Uu+1)),d=Math.floor(i%(Uu+1));return r.box(r.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,d>>24,d>>16&255,d>>8&255,255&d,85,196,0,0]))}static mdia(e){return r.box(r.types.mdia,r.mdhd(e.timescale,e.duration),r.hdlr(e.type),r.minf(e))}static mfhd(e){return r.box(r.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return r.box(r.types.minf,"audio"===e.type?r.box(r.types.smhd,r.SMHD):r.box(r.types.vmhd,r.VMHD),r.DINF,r.stbl(e))}static moof(e,i,o){return r.box(r.types.moof,r.mfhd(e),r.traf(o,i))}static moov(e){let i=e.length;const o=[];for(;i--;)o[i]=r.trak(e[i]);return r.box.apply(null,[r.types.moov,r.mvhd(e[0].timescale,e[0].duration)].concat(o).concat(r.mvex(e)))}static mvex(e){let i=e.length;const o=[];for(;i--;)o[i]=r.trex(e[i]);return r.box.apply(null,[r.types.mvex,...o])}static mvhd(e,i){i*=e;const o=Math.floor(i/(Uu+1)),d=Math.floor(i%(Uu+1)),m=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,d>>24,d>>16&255,d>>8&255,255&d,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r.box(r.types.mvhd,m)}static sdtp(e){const i=e.samples||[],o=new Uint8Array(4+i.length);let d,m;for(d=0;d<i.length;d++)m=i[d].flags,o[d+4]=m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy;return r.box(r.types.sdtp,o)}static stbl(e){return r.box(r.types.stbl,r.stsd(e),r.box(r.types.stts,r.STTS),r.box(r.types.stsc,r.STSC),r.box(r.types.stsz,r.STSZ),r.box(r.types.stco,r.STCO))}static avc1(e){let d,m,b,i=[],o=[];for(d=0;d<e.sps.length;d++)m=e.sps[d],b=m.byteLength,i.push(b>>>8&255),i.push(255&b),i=i.concat(Array.prototype.slice.call(m));for(d=0;d<e.pps.length;d++)m=e.pps[d],b=m.byteLength,o.push(b>>>8&255),o.push(255&b),o=o.concat(Array.prototype.slice.call(m));const w=r.box(r.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(o))),G=e.width,re=e.height,ve=e.pixelRatio[0],qe=e.pixelRatio[1];return r.box(r.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,G>>8&255,255&G,re>>8&255,255&re,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),w,r.box(r.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),r.box(r.types.pasp,new Uint8Array([ve>>24,ve>>16&255,ve>>8&255,255&ve,qe>>24,qe>>16&255,qe>>8&255,255&qe])))}static esds(e){const i=e.config.length;return new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(e.config).concat([6,1,2]))}static mp4a(e){const i=e.samplerate;return r.box(r.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),r.box(r.types.esds,r.esds(e)))}static mp3(e){const i=e.samplerate;return r.box(r.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))}static stsd(e){return r.box(r.types.stsd,r.STSD,"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?r.mp3(e):r.mp4a(e):r.avc1(e))}static tkhd(e){const i=e.id,o=e.duration*e.timescale,d=e.width,m=e.height,b=Math.floor(o/(Uu+1)),w=Math.floor(o%(Uu+1));return r.box(r.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,b>>24,b>>16&255,b>>8&255,255&b,w>>24,w>>16&255,w>>8&255,255&w,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>8&255,255&d,0,0,m>>8&255,255&m,0,0]))}static traf(e,i){const o=r.sdtp(e),d=e.id,m=Math.floor(i/(Uu+1)),b=Math.floor(i%(Uu+1));return r.box(r.types.traf,r.box(r.types.tfhd,new Uint8Array([0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d])),r.box(r.types.tfdt,new Uint8Array([1,0,0,0,m>>24,m>>16&255,m>>8&255,255&m,b>>24,b>>16&255,b>>8&255,255&b])),r.trun(e,o.length+16+20+8+16+8+8),o)}static trak(e){return e.duration=e.duration||4294967295,r.box(r.types.trak,r.tkhd(e),r.mdia(e))}static trex(e){const i=e.id;return r.box(r.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,i){const o=e.samples||[],d=o.length,m=12+16*d,b=new Uint8Array(m);let w,G,re,ve,qe,Xe;for(b.set(["video"===e.type?1:0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,(i+=8+m)>>>24&255,i>>>16&255,i>>>8&255,255&i],0),w=0;w<d;w++)G=o[w],re=G.duration,ve=G.size,qe=G.flags,Xe=G.cts,b.set([re>>>24&255,re>>>16&255,re>>>8&255,255&re,ve>>>24&255,ve>>>16&255,ve>>>8&255,255&ve,qe.isLeading<<2|qe.dependsOn,qe.isDependedOn<<6|qe.hasRedundancy<<4|qe.paddingValue<<1|qe.isNonSync,61440&qe.degradPrio,15&qe.degradPrio,Xe>>>24&255,Xe>>>16&255,Xe>>>8&255,255&Xe],12+16*w);return r.box(r.types.trun,b)}static initSegment(e){r.types||r.init();const i=r.moov(e),o=new Uint8Array(r.FTYP.byteLength+i.byteLength);return o.set(r.FTYP),o.set(i,r.FTYP.byteLength),o}}return r.types=void 0,r.HDLR_TYPES=void 0,r.STTS=void 0,r.STSC=void 0,r.STCO=void 0,r.STSZ=void 0,r.VMHD=void 0,r.SMHD=void 0,r.STSD=void 0,r.FTYP=void 0,r.DINF=void 0,r})();function aA(r,n,e=1,i=!1){const o=r*n*e;return i?Math.round(o):o}function R_(r,n=!1){return aA(r,1e3,1/9e4,n)}let zd,EE=null,lA=null;class cA{constructor(n,e,i,o=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=n,this.config=e,this.typeSupported=i,this.ISGenerated=!1,null===EE){const m=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);EE=m?parseInt(m[1]):0}if(null===lA){const d=navigator.userAgent.match(/Safari\/(\d+)/i);lA=d?parseInt(d[1]):0}}destroy(){}resetTimeStamp(n){xn.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=n}resetNextTimestamp(){xn.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){xn.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(n){let e=!1;const i=n.reduce((o,d)=>{const m=d.pts-o;return m<-4294967296?(e=!0,Xl(o,d.pts)):m>0?o:d.pts},n[0].pts);return e&&xn.debug("PTS rollover detected"),i}remux(n,e,i,o,d,m,b,w){let G,re,ve,qe,Xe,pt,St=d,Ot=d;const fn=e.pid>-1,an=e.samples.length,yn=n.samples.length>0,Sn=b&&an>0||an>1;if((!(n.pid>-1)||yn)&&(!fn||Sn)||this.ISGenerated||b){this.ISGenerated||(ve=this.generateIS(n,e,d,m));const On=this.isVideoContiguous;let ii,zn=-1;if(Sn&&(zn=function V1(r){for(let n=0;n<r.length;n++)if(r[n].key)return n;return-1}(e.samples),!On&&this.config.forceKeyFrameOnDiscontinuity))if(pt=!0,zn>0){xn.warn(`[mp4-remuxer]: Dropped ${zn} out of ${an} video samples due to a missing keyframe`);const Ln=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(zn),e.dropped+=zn,Ot+=(e.samples[0].pts-Ln)/e.inputTimeScale,ii=Ot}else-1===zn&&(xn.warn(`[mp4-remuxer]: No keyframe found out of ${an} video samples`),pt=!1);if(this.ISGenerated){if(yn&&Sn){const Ln=this.getVideoStartPts(e.samples),mi=(Xl(n.samples[0].pts,Ln)-Ln)/e.inputTimeScale;St+=Math.max(0,mi),Ot+=Math.max(0,-mi)}if(yn){if(n.samplerate||(xn.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),ve=this.generateIS(n,e,d,m)),re=this.remuxAudio(n,St,this.isAudioContiguous,m,fn||Sn||"audio"===w?Ot:void 0),Sn){const Ln=re?re.endPTS-re.startPTS:0;e.inputTimeScale||(xn.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),ve=this.generateIS(n,e,d,m)),G=this.remuxVideo(e,Ot,On,Ln)}}else Sn&&(G=this.remuxVideo(e,Ot,On,0));G&&(G.firstKeyFrame=zn,G.independent=-1!==zn,G.firstKeyFramePTS=ii)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(Xe=Hw(i,d,this._initPTS,this._initDTS)),o.samples.length&&(qe=Kw(o,d,this._initPTS))),{audio:re,video:G,initSegment:ve,independent:pt,text:qe,id3:Xe}}generateIS(n,e,i,o){const d=n.samples,m=e.samples,b=this.typeSupported,w={},G=this._initPTS;let qe,Xe,pt,re=!G||o,ve="audio/mp4";if(re&&(qe=Xe=1/0),n.config&&d.length&&("mp3"===(n.timescale=n.samplerate,n.segmentCodec)&&(b.mpeg?(ve="audio/mpeg",n.codec=""):b.mp3&&(n.codec="mp3")),w.audio={id:"audio",container:ve,codec:n.codec,initSegment:"mp3"===n.segmentCodec&&b.mpeg?new Uint8Array(0):qm.initSegment([n]),metadata:{channelCount:n.channelCount}},re&&(pt=n.inputTimeScale,G&&pt===G.timescale?re=!1:qe=Xe=d[0].pts-Math.round(pt*i))),e.sps&&e.pps&&m.length&&(e.timescale=e.inputTimeScale,w.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:qm.initSegment([e]),metadata:{width:e.width,height:e.height}},re))if(pt=e.inputTimeScale,G&&pt===G.timescale)re=!1;else{const St=this.getVideoStartPts(m),Ot=Math.round(pt*i);Xe=Math.min(Xe,Xl(m[0].dts,St)-Ot),qe=Math.min(qe,St-Ot)}if(Object.keys(w).length)return this.ISGenerated=!0,re?(this._initPTS={baseTime:qe,timescale:pt},this._initDTS={baseTime:Xe,timescale:pt}):qe=pt=void 0,{tracks:w,initPTS:qe,timescale:pt}}remuxVideo(n,e,i,o){const d=n.inputTimeScale,m=n.samples,b=[],w=m.length,G=this._initPTS;let Xe,pt,re=this.nextAvcDts,ve=8,qe=this.videoSampleDuration,St=Number.POSITIVE_INFINITY,Ot=Number.NEGATIVE_INFINITY,$t=!1;i&&null!==re||(re=e*d-(m[0].pts-Xl(m[0].dts,m[0].pts)));const fn=G.baseTime*d/G.timescale;for(let Qn=0;Qn<w;Qn++){const ci=m[Qn];ci.pts=Xl(ci.pts-fn,re),ci.dts=Xl(ci.dts-fn,re),ci.dts<m[Qn>0?Qn-1:Qn].dts&&($t=!0)}$t&&m.sort(function(Qn,ci){return Qn.dts-ci.dts||Qn.pts-ci.pts}),Xe=m[0].dts,pt=m[m.length-1].dts;const an=pt-Xe,yn=an?Math.round(an/(w-1)):qe||n.inputTimeScale/30;if(i){const Qn=Xe-re,ci=Qn>yn,ji=Qn<-1;if((ci||ji)&&(xn.warn(ci?`AVC: ${R_(Qn,!0)} ms (${Qn}dts) hole between fragments detected, filling it`:`AVC: ${R_(-Qn,!0)} ms (${Qn}dts) overlapping between fragments detected`),!ji||re>=m[0].pts)){Xe=re;const mr=m[0].pts-Qn;m[0].dts=Xe,m[0].pts=mr,xn.log(`Video: First PTS/DTS adjusted: ${R_(mr,!0)}/${R_(Xe,!0)}, delta: ${R_(Qn,!0)} ms`)}}Xe=Math.max(0,Xe);let Sn=0,Un=0;for(let Qn=0;Qn<w;Qn++){const ci=m[Qn],ji=ci.units,mr=ji.length;let Yi=0;for(let Rr=0;Rr<mr;Rr++)Yi+=ji[Rr].data.length;Un+=Yi,Sn+=mr,ci.length=Yi,ci.dts=Math.max(ci.dts,Xe),St=Math.min(ci.pts,St),Ot=Math.max(ci.pts,Ot)}pt=m[w-1].dts;const On=Un+4*Sn+8;let zn;try{zn=new Uint8Array(On)}catch(Qn){return void this.observer.emit(Nt.ERROR,Nt.ERROR,{type:Fi.MUX_ERROR,details:Gn.REMUX_ALLOC_ERROR,fatal:!1,error:Qn,bytes:On,reason:`fail allocating video mdat ${On}`})}const ii=new DataView(zn.buffer);ii.setUint32(0,On),zn.set(qm.types.mdat,4);let Ln=!1,yi=Number.POSITIVE_INFINITY,mi=Number.POSITIVE_INFINITY,Ui=Number.NEGATIVE_INFINITY,vo=Number.NEGATIVE_INFINITY;for(let Qn=0;Qn<w;Qn++){const ci=m[Qn],ji=ci.units;let Yi,mr=0;for(let ar=0,jo=ji.length;ar<jo;ar++){const Ss=ji[ar],qr=Ss.data,Ls=Ss.data.byteLength;ii.setUint32(ve,Ls),ve+=4,zn.set(qr,ve),ve+=Ls,mr+=4+Ls}if(Qn<w-1)qe=m[Qn+1].dts-ci.dts,Yi=m[Qn+1].pts-ci.pts;else{const ar=this.config,jo=Qn>0?ci.dts-m[Qn-1].dts:yn;if(Yi=Qn>0?ci.pts-m[Qn-1].pts:yn,ar.stretchShortVideoTrack&&null!==this.nextAudioPts){const Ss=Math.floor(ar.maxBufferHole*d),qr=(o?St+o*d:this.nextAudioPts)-ci.pts;qr>Ss?(qe=qr-jo,qe<0?qe=jo:Ln=!0,xn.log(`[mp4-remuxer]: It is approximately ${qr/90} ms to the next segment; using duration ${qe/90} ms for the last video frame.`)):qe=jo}else qe=jo}const Rr=Math.round(ci.pts-ci.dts);yi=Math.min(yi,qe),Ui=Math.max(Ui,qe),mi=Math.min(mi,Yi),vo=Math.max(vo,Yi),b.push(new Yw(ci.key,qe,mr,Rr))}if(b.length)if(EE){if(EE<70){const Qn=b[0].flags;Qn.dependsOn=2,Qn.isNonSync=0}}else if(lA&&vo-mi<Ui-yi&&yn/Ui<.025&&0===b[0].cts){xn.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Qn=Xe;for(let ci=0,ji=b.length;ci<ji;ci++){const mr=Qn+b[ci].duration;b[ci].duration=ci<ji-1?mr+b[ci+1].cts-(Qn+b[ci].cts):ci?b[ci-1].duration:yn,b[ci].cts=0,Qn=mr}}qe=Ln||!qe?yn:qe,this.nextAvcDts=re=pt+qe,this.videoSampleDuration=qe,this.isVideoContiguous=!0;const ui={data1:qm.moof(n.sequenceNumber++,Xe,zo({},n,{samples:b})),data2:zn,startPTS:St/d,endPTS:(Ot+qe)/d,startDTS:Xe/d,endDTS:re/d,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:n.dropped};return n.samples=[],n.dropped=0,ui}remuxAudio(n,e,i,o,d){const m=n.inputTimeScale,w=m/(n.samplerate?n.samplerate:m),G="aac"===n.segmentCodec?1024:1152,re=G*w,ve=this._initPTS,qe="mp3"===n.segmentCodec&&this.typeSupported.mpeg,Xe=[],pt=void 0!==d;let St=n.samples,Ot=qe?0:8,$t=this.nextAudioPts||-1;const fn=e*m,an=ve.baseTime*m/ve.timescale;if(this.isAudioContiguous=i=i||St.length&&$t>0&&(o&&Math.abs(fn-$t)<9e3||Math.abs(Xl(St[0].pts-an,fn)-$t)<20*re),St.forEach(function(oi){oi.pts=Xl(oi.pts-an,fn)}),!i||$t<0){if(St=St.filter(oi=>oi.pts>=0),!St.length)return;$t=0===d?0:o&&!pt?Math.max(0,fn):St[0].pts}if("aac"===n.segmentCodec){const oi=this.config.maxAudioFramesDrift;for(let ui=0,Qn=$t;ui<St.length;ui++){const ci=St[ui],ji=ci.pts,mr=ji-Qn,Yi=Math.abs(1e3*mr/m);if(mr<=-oi*re&&pt)0===ui&&(xn.warn(`Audio frame @ ${(ji/m).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*mr/m)} ms.`),this.nextAudioPts=$t=Qn=ji);else if(mr>=oi*re&&Yi<1e4&&pt){let Rr=Math.round(mr/re);Qn=ji-Rr*re,Qn<0&&(Rr--,Qn+=re),0===ui&&(this.nextAudioPts=$t=Qn),xn.warn(`[mp4-remuxer]: Injecting ${Rr} audio frame @ ${(Qn/m).toFixed(3)}s due to ${Math.round(1e3*mr/m)} ms gap.`);for(let ar=0;ar<Rr;ar++){const jo=Math.max(Qn,0);let Ss=jw.getSilentFrame(n.manifestCodec||n.codec,n.channelCount);Ss||(xn.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Ss=ci.unit.subarray()),St.splice(ui,0,{unit:Ss,pts:jo}),Qn+=re,ui++}}ci.pts=Qn,Qn+=re}}let Un,yn=null,Sn=null,On=0,zn=St.length;for(;zn--;)On+=St[zn].unit.byteLength;for(let oi=0,ui=St.length;oi<ui;oi++){const Qn=St[oi],ci=Qn.unit;let ji=Qn.pts;if(null!==Sn)Xe[oi-1].duration=Math.round((ji-Sn)/w);else{if(i&&"aac"===n.segmentCodec&&(ji=$t),yn=ji,!(On>0))return;On+=Ot;try{Un=new Uint8Array(On)}catch(Yi){return void this.observer.emit(Nt.ERROR,Nt.ERROR,{type:Fi.MUX_ERROR,details:Gn.REMUX_ALLOC_ERROR,fatal:!1,error:Yi,bytes:On,reason:`fail allocating audio mdat ${On}`})}qe||(new DataView(Un.buffer).setUint32(0,On),Un.set(qm.types.mdat,4))}Un.set(ci,Ot);const mr=ci.byteLength;Ot+=mr,Xe.push(new Yw(!0,G,mr,0)),Sn=ji}const ii=Xe.length;if(!ii)return;this.nextAudioPts=$t=Sn+w*Xe[Xe.length-1].duration;const yi=qe?new Uint8Array(0):qm.moof(n.sequenceNumber++,yn/w,zo({},n,{samples:Xe}));n.samples=[];const mi=yn/m,Ui=$t/m,wr={data1:yi,data2:Un,startPTS:mi,endPTS:Ui,startDTS:mi,endDTS:Ui,type:"audio",hasAudio:!0,hasVideo:!1,nb:ii};return this.isAudioContiguous=!0,wr}remuxEmptyAudio(n,e,i,o){const d=n.inputTimeScale,w=this.nextAudioPts,G=this._initDTS,re=9e4*G.baseTime/G.timescale,ve=(null!==w?w:o.startDTS*d)+re,Xe=d/(n.samplerate?n.samplerate:d)*1024,pt=Math.ceil((o.endDTS*d+re-ve)/Xe),St=jw.getSilentFrame(n.manifestCodec||n.codec,n.channelCount);if(xn.warn("[mp4-remuxer]: remux empty Audio"),!St)return void xn.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const Ot=[];for(let $t=0;$t<pt;$t++){const fn=ve+$t*Xe;Ot.push({unit:St,pts:fn,dts:fn})}return n.samples=Ot,this.remuxAudio(n,e,i,!1)}}function Xl(r,n){let e;if(null===n)return r;for(e=n<r?-8589934592:8589934592;Math.abs(r-n)>4294967296;)r+=e;return r}function Hw(r,n,e,i){const o=r.samples.length;if(!o)return;const d=r.inputTimeScale;for(let b=0;b<o;b++){const w=r.samples[b];w.pts=Xl(w.pts-e.baseTime*d/e.timescale,n*d)/d,w.dts=Xl(w.dts-i.baseTime*d/i.timescale,n*d)/d}const m=r.samples;return r.samples=[],{samples:m}}function Kw(r,n,e){const i=r.samples.length;if(!i)return;const o=r.inputTimeScale;for(let m=0;m<i;m++){const b=r.samples[m];b.pts=Xl(b.pts-e.baseTime*o/e.timescale,n*o)/o}r.samples.sort((m,b)=>m.pts-b.pts);const d=r.samples;return r.samples=[],{samples:d}}class Yw{constructor(n,e,i,o){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=i,this.cts=o,this.flags=new G1(n)}}class G1{constructor(n){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=n?2:1,this.isNonSync=n?0:1}}function Ww(r,n){const e=r?.codec;return e&&e.length>4?e:"hvc1"===e||"hev1"===e?"hvc1.1.6.L120.90":"av01"===e?"av01.0.04M.08":"avc1"===e||"video"===n?"avc1.42e01e":"mp4a.40.5"}try{zd=self.performance.now.bind(self.performance)}catch{xn.debug("Unable to use Performance API on this environment"),zd=typeof self<"u"&&self.Date.now}const dA=[{demux:class $i{constructor(n,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(n,e,i,o){const d=this.videoTrack=h("video",1),m=this.audioTrack=h("audio",1),b=this.txtTrack=h("text",1);if(this.id3Track=h("id3",1),this.timeOffset=0,null==n||!n.byteLength)return;const w=n_(n);if(w.video){const{id:G,timescale:re,codec:ve}=w.video;d.id=G,d.timescale=b.timescale=re,d.codec=ve}if(w.audio){const{id:G,timescale:re,codec:ve}=w.audio;m.id=G,m.timescale=re,m.codec=ve}b.id=Bb.text,d.sampleDuration=0,d.duration=m.duration=o}resetContiguity(){this.remainderData=null}static probe(n){return Mr(n=n.length>16384?n.subarray(0,16384):n,["moof"]).length>0}demux(n,e){this.timeOffset=e;let i=n;const o=this.videoTrack,d=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=Nc(this.remainderData,n));const b=function Lx(r){const n={valid:null,remainder:null},e=Mr(r,["moof"]);if(!e)return n;if(e.length<2)return n.remainder=r,n;const i=e[e.length-1];return n.valid=Hd(r,0,i.byteOffset-8),n.remainder=Hd(r,i.byteOffset-8),n}(i);this.remainderData=b.remainder,o.samples=b.valid||new Uint8Array}else o.samples=i;const m=this.extractID3Track(o,e);return d.samples=Kb(e,o),{videoTrack:o,audioTrack:this.audioTrack,id3Track:m,textTrack:this.txtTrack}}flush(){const n=this.timeOffset,e=this.videoTrack,i=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const o=this.extractID3Track(e,this.timeOffset);return i.samples=Kb(n,e),{videoTrack:e,audioTrack:h(),id3Track:o,textTrack:h()}}extractID3Track(n,e){const i=this.id3Track;if(n.samples.length){const o=Mr(n.samples,["emsg"]);o&&o.forEach(d=>{const m=function Fx(r){const n=r[0];let e="",i="",o=0,d=0,m=0,b=0,w=0,G=0;if(0===n){for(;"\0"!==Es(r.subarray(G,G+1));)e+=Es(r.subarray(G,G+1)),G+=1;for(e+=Es(r.subarray(G,G+1)),G+=1;"\0"!==Es(r.subarray(G,G+1));)i+=Es(r.subarray(G,G+1)),G+=1;i+=Es(r.subarray(G,G+1)),G+=1,o=Zi(r,12),d=Zi(r,16),b=Zi(r,20),w=Zi(r,24),G=28}else if(1===n){G+=4,o=Zi(r,G),G+=4;const ve=Zi(r,G);G+=4;const qe=Zi(r,G);for(G+=4,m=2**32*ve+qe,Number.isSafeInteger(m)||(m=Number.MAX_SAFE_INTEGER,xn.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),b=Zi(r,G),G+=4,w=Zi(r,G),G+=4;"\0"!==Es(r.subarray(G,G+1));)e+=Es(r.subarray(G,G+1)),G+=1;for(e+=Es(r.subarray(G,G+1)),G+=1;"\0"!==Es(r.subarray(G,G+1));)i+=Es(r.subarray(G,G+1)),G+=1;i+=Es(r.subarray(G,G+1)),G+=1}return{schemeIdUri:e,value:i,timeScale:o,presentationTime:m,presentationTimeDelta:d,eventDuration:b,id:w,payload:r.subarray(G,r.byteLength)}}(d);if(qn.test(m.schemeIdUri)){const b=Ri(m.presentationTime)?m.presentationTime/m.timeScale:e+m.presentationTimeDelta/m.timeScale;let w=4294967295===m.eventDuration?Number.POSITIVE_INFINITY:m.eventDuration/m.timeScale;w<=.001&&(w=Number.POSITIVE_INFINITY);const G=m.payload;i.samples.push({data:G,len:G.byteLength,dts:b,pts:b,type:Jl_emsg,duration:w})}})}return i}demuxSampleAes(n,e,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class H1{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(n){this.initPTS=n,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(n,e,i,o){this.audioCodec=e,this.videoCodec=i,this.generateInitSegment(function vw(r,n){if(!r||!n)return r;const e=n.keyId;return e&&n.isCommonEncryption&&Mr(r,["moov","trak"]).forEach(o=>{const m=Mr(o,["mdia","minf","stbl","stsd"])[0].subarray(8);let b=Mr(m,["enca"]);const w=b.length>0;w||(b=Mr(m,["encv"])),b.forEach(G=>{Mr(G.subarray(w?28:78),["sinf"]).forEach(qe=>{const Xe=$a(qe);if(Xe){const pt=Xe.subarray(8,24);pt.some(St=>0!==St)||(xn.log(`[eme] Patching keyId in 'enc${w?"a":"v"}>sinf>>tenc' box: ${ql_hexDump(pt)} -> ${ql_hexDump(e)}`),Xe.set(e,8))}})})}),r}(n,o)),this.emitInitSegment=!0}generateInitSegment(n){let{audioCodec:e,videoCodec:i}=this;if(null==n||!n.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const o=this.initData=n_(n);e||(e=Ww(o.audio,"audio")),i||(i=Ww(o.video,"video"));const d={};o.audio&&o.video?d.audiovideo={container:"video/mp4",codec:e+","+i,initSegment:n,id:"main"}:o.audio?d.audio={container:"audio/mp4",codec:e,initSegment:n,id:"audio"}:o.video?d.video={container:"video/mp4",codec:i,initSegment:n,id:"main"}:xn.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=d}remux(n,e,i,o,d,m){var b,w;let{initPTS:G,lastEndTime:re}=this;const ve={audio:void 0,video:void 0,text:o,id3:i,initSegment:void 0};Ri(re)||(re=this.lastEndTime=d||0);const qe=e.samples;if(null==qe||!qe.length)return ve;const Xe={initPTS:void 0,timescale:1};let pt=this.initData;if(null!=(b=pt)&&b.length||(this.generateInitSegment(qe),pt=this.initData),null==(w=pt)||!w.length)return xn.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),ve;this.emitInitSegment&&(Xe.tracks=this.initTracks,this.emitInitSegment=!1);const St=function Nx(r,n){let e=0,i=0,o=0;const d=Mr(r,["moof","traf"]);for(let m=0;m<d.length;m++){const b=d[m],w=Mr(b,["tfhd"])[0],re=n[Zi(w,4)];if(!re)continue;const ve=re.default,qe=Zi(w,0)|ve?.flags;let Xe=ve?.duration;8&qe&&(Xe=Zi(w,2&qe?12:8));const pt=re.timescale||9e4,St=Mr(b,["trun"]);for(let Ot=0;Ot<St.length;Ot++)e=yw(St[Ot]),!e&&Xe&&(e=Xe*Zi(St[Ot],4)),"video"===re.type?i+=e/pt:"audio"===re.type&&(o+=e/pt)}if(0===i&&0===o){let m=0;const b=Mr(r,["sidx"]);for(let w=0;w<b.length;w++){const G=Gb(b[w]);null!=G&&G.references&&(m+=G.references.reduce((re,ve)=>re+ve.info.duration||0,0))}return m}return i||o}(qe,pt),Ot=function Hb(r,n){return Mr(n,["moof","traf"]).reduce((e,i)=>{const o=Mr(i,["tfdt"])[0],d=o[0],m=Mr(i,["tfhd"]).reduce((b,w)=>{const G=Zi(w,4),re=r[G];if(re){let ve=Zi(o,4);if(1===d){if(ve===t_)return xn.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),b;ve*=t_+1,ve+=Zi(o,8)}const Xe=ve/(re.timescale||9e4);if(isFinite(Xe)&&(null===b||Xe<b))return Xe}return b},null);return null!==m&&isFinite(m)&&(null===e||m<e)?m:e},null)}(pt,qe),$t=null===Ot?d:Ot;(function K1(r,n,e,i){if(null===r)return!0;const o=Math.max(i,1);return Math.abs(n-r.baseTime/r.timescale-e)>o}(G,$t,d,St)||Xe.timescale!==G.timescale&&m)&&(Xe.initPTS=$t-d,G&&1===G.timescale&&xn.warn("Adjusting initPTS by "+(Xe.initPTS-G.baseTime)),this.initPTS=G={baseTime:Xe.initPTS,timescale:1});const fn=n?$t-G.baseTime/G.timescale:re,an=fn+St;(function ha(r,n,e){Mr(n,["moof","traf"]).forEach(i=>{Mr(i,["tfhd"]).forEach(o=>{const d=Zi(o,4),m=r[d];if(!m)return;const b=m.timescale||9e4;Mr(i,["tfdt"]).forEach(w=>{const G=w[0];let re=Zi(w,4);if(0===G)re-=e*b,re=Math.max(re,0),Vb(w,4,re);else{re*=Math.pow(2,32),re+=Zi(w,8),re-=e*b,re=Math.max(re,0);const ve=Math.floor(re/(t_+1)),qe=Math.floor(re%(t_+1));Vb(w,4,ve),Vb(w,8,qe)}})})})})(pt,qe,G.baseTime/G.timescale),St>0?this.lastEndTime=an:(xn.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const yn=!!pt.audio,Sn=!!pt.video;let Un="";yn&&(Un+="audio"),Sn&&(Un+="video");const On={data1:qe,startPTS:fn,startDTS:fn,endPTS:an,endDTS:an,type:Un,hasAudio:yn,hasVideo:Sn,nb:1,dropped:0};return ve.audio="audio"===On.type?On:void 0,ve.video="audio"!==On.type?On:void 0,ve.initSegment=Xe,ve.id3=Hw(i,d,G,G),o.samples.length&&(ve.text=Kw(o,d,G)),ve}}},{demux:Bu,remux:cA},{demux:class wi extends _{constructor(n,e){super(),this.observer=void 0,this.config=void 0,this.observer=n,this.config=e}resetInitSegment(n,e,i,o){super.resetInitSegment(n,e,i,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(n){if(!n)return!1;let i=(Qf(n,0)||[]).length;for(let o=n.length;i<o;i++)if(_n(n,i))return xn.log("ADTS sync word found !"),!0;return!1}canParse(n,e){return function Zt(r,n){return function _t(r,n){return n+5<r.length}(r,n)&&ie(r,n)&&je(r,n)<=r.length-n}(n,e)}appendFrame(n,e,i){An(n,this.observer,e,i,n.manifestCodec);const o=gi(n,e,i,this.basePTS,this.frameIndex);if(o&&0===o.missing)return o}},remux:cA},{demux:class k1 extends _{resetInitSegment(n,e,i,o){super.resetInitSegment(n,e,i,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(n){if(!n)return!1;let i=(Qf(n,0)||[]).length;for(let o=n.length;i<o;i++)if(O1(n,i))return xn.log("MPEG Audio sync word found !"),!0;return!1}canParse(n,e){return function P1(r,n){return oA(r,n)&&4<=r.length-n}(n,e)}appendFrame(n,e,i){if(null!==this.basePTS)return yE(n,e,i,this.basePTS,this.frameIndex)}},remux:cA}];class zw{constructor(n,e,i,o,d){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=n,this.typeSupported=e,this.config=i,this.vendor=o,this.id=d}configure(n){this.transmuxConfig=n,this.decrypter&&this.decrypter.reset()}push(n,e,i,o){const d=i.transmuxing;d.executeStart=zd();let m=new Uint8Array(n);const{currentTransmuxState:b,transmuxConfig:w}=this;o&&(this.currentTransmuxState=o);const{contiguous:G,discontinuity:re,trackSwitch:ve,accurateTimeOffset:qe,timeOffset:Xe,initSegmentChange:pt}=o||b,{audioCodec:St,videoCodec:Ot,defaultInitPts:$t,duration:fn,initSegmentData:an}=w,yn=function Y1(r,n){let e=null;return r.byteLength>0&&null!=n&&null!=n.key&&null!==n.iv&&null!=n.method&&(e=n),e}(m,e);if(yn&&"AES-128"===yn.method){const zn=this.getDecrypter();if(!zn.isSync())return this.decryptionPromise=zn.webCryptoDecrypt(m,yn.key.buffer,yn.iv.buffer).then(ii=>{const Ln=this.push(ii,null,i);return this.decryptionPromise=null,Ln}),this.decryptionPromise;{let ii=zn.softwareDecrypt(m,yn.key.buffer,yn.iv.buffer);if(i.part>-1&&(ii=zn.flush()),!ii)return d.executeEnd=zd(),uA(i);m=new Uint8Array(ii)}}const Sn=this.needsProbing(re,ve);if(Sn){const zn=this.configureTransmuxer(m);if(zn)return xn.warn(`[transmuxer] ${zn.message}`),this.observer.emit(Nt.ERROR,Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.FRAG_PARSING_ERROR,fatal:!1,error:zn,reason:zn.message}),d.executeEnd=zd(),uA(i)}(re||ve||pt||Sn)&&this.resetInitSegment(an,St,Ot,fn,e),(re||pt||Sn)&&this.resetInitialTimestamp($t),G||this.resetContiguity();const Un=this.transmux(m,yn,Xe,qe,i),On=this.currentTransmuxState;return On.contiguous=!0,On.discontinuity=!1,On.trackSwitch=!1,d.executeEnd=zd(),Un}flush(n){const e=n.transmuxing;e.executeStart=zd();const{decrypter:i,currentTransmuxState:o,decryptionPromise:d}=this;if(d)return d.then(()=>this.flush(n));const m=[],{timeOffset:b}=o;if(i){const ve=i.flush();ve&&m.push(this.push(ve,null,n))}const{demuxer:w,remuxer:G}=this;if(!w||!G)return e.executeEnd=zd(),[uA(n)];const re=w.flush(b);return TE(re)?re.then(ve=>(this.flushRemux(m,ve,n),m)):(this.flushRemux(m,re,n),m)}flushRemux(n,e,i){const{audioTrack:o,videoTrack:d,id3Track:m,textTrack:b}=e,{accurateTimeOffset:w,timeOffset:G}=this.currentTransmuxState;xn.log(`[transmuxer.ts]: Flushed fragment ${i.sn}${i.part>-1?" p: "+i.part:""} of level ${i.level}`);const re=this.remuxer.remux(o,d,m,b,G,w,!0,this.id);n.push({remuxResult:re,chunkMeta:i}),i.transmuxing.executeEnd=zd()}resetInitialTimestamp(n){const{demuxer:e,remuxer:i}=this;!e||!i||(e.resetTimeStamp(n),i.resetTimeStamp(n))}resetContiguity(){const{demuxer:n,remuxer:e}=this;!n||!e||(n.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(n,e,i,o,d){const{demuxer:m,remuxer:b}=this;!m||!b||(m.resetInitSegment(n,e,i,o),b.resetInitSegment(n,e,i,d))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(n,e,i,o,d){let m;return m=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(n,e,i,o,d):this.transmuxUnencrypted(n,i,o,d),m}transmuxUnencrypted(n,e,i,o){const{audioTrack:d,videoTrack:m,id3Track:b,textTrack:w}=this.demuxer.demux(n,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(d,m,b,w,e,i,!1,this.id),chunkMeta:o}}transmuxSampleAes(n,e,i,o,d){return this.demuxer.demuxSampleAes(n,e,i).then(m=>({remuxResult:this.remuxer.remux(m.audioTrack,m.videoTrack,m.id3Track,m.textTrack,i,o,!1,this.id),chunkMeta:d}))}configureTransmuxer(n){const{config:e,observer:i,typeSupported:o,vendor:d}=this;let m;for(let ve=0,qe=dA.length;ve<qe;ve++)if(dA[ve].demux.probe(n)){m=dA[ve];break}if(!m)return new Error("Failed to find demuxer by probing fragment data");const b=this.demuxer,w=this.remuxer,G=m.remux,re=m.demux;(!w||!(w instanceof G))&&(this.remuxer=new G(i,e,o,d)),(!b||!(b instanceof re))&&(this.demuxer=new re(i,e,o),this.probe=re.probe)}needsProbing(n,e){return!this.demuxer||!this.remuxer||n||e}getDecrypter(){let n=this.decrypter;return n||(n=this.decrypter=new P_(this.config)),n}}const uA=r=>({remuxResult:{},chunkMeta:r});function TE(r){return"then"in r&&r.then instanceof Function}class W1{constructor(n,e,i,o,d){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=n,this.videoCodec=e,this.initSegmentData=i,this.duration=o,this.defaultInitPts=d||null}}class z1{constructor(n,e,i,o,d,m){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=n,this.contiguous=e,this.accurateTimeOffset=i,this.trackSwitch=o,this.timeOffset=d,this.initSegmentChange=m}}var Zw={exports:{}};!function(r){var n=Object.prototype.hasOwnProperty,e="~";function i(){}function o(w,G,re){this.fn=w,this.context=G,this.once=re||!1}function d(w,G,re,ve,qe){if("function"!=typeof re)throw new TypeError("The listener must be a function");var Xe=new o(re,ve||w,qe),pt=e?e+G:G;return w._events[pt]?w._events[pt].fn?w._events[pt]=[w._events[pt],Xe]:w._events[pt].push(Xe):(w._events[pt]=Xe,w._eventsCount++),w}function m(w,G){0==--w._eventsCount?w._events=new i:delete w._events[G]}function b(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),b.prototype.eventNames=function(){var re,ve,G=[];if(0===this._eventsCount)return G;for(ve in re=this._events)n.call(re,ve)&&G.push(e?ve.slice(1):ve);return Object.getOwnPropertySymbols?G.concat(Object.getOwnPropertySymbols(re)):G},b.prototype.listeners=function(G){var ve=this._events[e?e+G:G];if(!ve)return[];if(ve.fn)return[ve.fn];for(var qe=0,Xe=ve.length,pt=new Array(Xe);qe<Xe;qe++)pt[qe]=ve[qe].fn;return pt},b.prototype.listenerCount=function(G){var ve=this._events[e?e+G:G];return ve?ve.fn?1:ve.length:0},b.prototype.emit=function(G,re,ve,qe,Xe,pt){var St=e?e+G:G;if(!this._events[St])return!1;var fn,an,Ot=this._events[St],$t=arguments.length;if(Ot.fn){switch(Ot.once&&this.removeListener(G,Ot.fn,void 0,!0),$t){case 1:return Ot.fn.call(Ot.context),!0;case 2:return Ot.fn.call(Ot.context,re),!0;case 3:return Ot.fn.call(Ot.context,re,ve),!0;case 4:return Ot.fn.call(Ot.context,re,ve,qe),!0;case 5:return Ot.fn.call(Ot.context,re,ve,qe,Xe),!0;case 6:return Ot.fn.call(Ot.context,re,ve,qe,Xe,pt),!0}for(an=1,fn=new Array($t-1);an<$t;an++)fn[an-1]=arguments[an];Ot.fn.apply(Ot.context,fn)}else{var Sn,yn=Ot.length;for(an=0;an<yn;an++)switch(Ot[an].once&&this.removeListener(G,Ot[an].fn,void 0,!0),$t){case 1:Ot[an].fn.call(Ot[an].context);break;case 2:Ot[an].fn.call(Ot[an].context,re);break;case 3:Ot[an].fn.call(Ot[an].context,re,ve);break;case 4:Ot[an].fn.call(Ot[an].context,re,ve,qe);break;default:if(!fn)for(Sn=1,fn=new Array($t-1);Sn<$t;Sn++)fn[Sn-1]=arguments[Sn];Ot[an].fn.apply(Ot[an].context,fn)}}return!0},b.prototype.on=function(G,re,ve){return d(this,G,re,ve,!1)},b.prototype.once=function(G,re,ve){return d(this,G,re,ve,!0)},b.prototype.removeListener=function(G,re,ve,qe){var Xe=e?e+G:G;if(!this._events[Xe])return this;if(!re)return m(this,Xe),this;var pt=this._events[Xe];if(pt.fn)pt.fn===re&&(!qe||pt.once)&&(!ve||pt.context===ve)&&m(this,Xe);else{for(var St=0,Ot=[],$t=pt.length;St<$t;St++)(pt[St].fn!==re||qe&&!pt[St].once||ve&&pt[St].context!==ve)&&Ot.push(pt[St]);Ot.length?this._events[Xe]=1===Ot.length?Ot[0]:Ot:m(this,Xe)}return this},b.prototype.removeAllListeners=function(G){var re;return G?this._events[re=e?e+G:G]&&m(this,re):(this._events=new i,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=e,b.EventEmitter=b,r.exports=b}(Zw);var fA=ua(Zw.exports);const hA=Fm()||{isTypeSupported:()=>!1};class $w{constructor(n,e,i,o){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const d=n.config;this.hls=n,this.id=e,this.useWorker=!!d.enableWorker,this.onTransmuxComplete=i,this.onFlush=o;const m=(G,re)=>{(re=re||{}).frag=this.frag,re.id=this.id,G===Nt.ERROR&&(this.error=re.error),this.hls.trigger(G,re)};this.observer=new fA,this.observer.on(Nt.FRAG_DECRYPTED,m),this.observer.on(Nt.ERROR,m);const b={mp4:hA.isTypeSupported("video/mp4"),mpeg:hA.isTypeSupported("audio/mpeg"),mp3:hA.isTypeSupported('audio/mp4; codecs="mp3"')},w=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(d.workerPath||function kw(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{d.workerPath?(xn.log(`loading Web Worker ${d.workerPath} for "${e}"`),this.workerContext=function u(r){const n=new self.URL(r,self.location.href).href;return{worker:new self.Worker(n),scriptURL:n}}(d.workerPath)):(xn.log(`injecting Web Worker for "${e}"`),this.workerContext=function l(){const r=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(r);return{worker:new self.Worker(n),objectURL:n}}()),this.onwmsg=ve=>this.onWorkerMessage(ve);const{worker:re}=this.workerContext;re.addEventListener("message",this.onwmsg),re.onerror=ve=>{const qe=new Error(`${ve.message}  (${ve.filename}:${ve.lineno})`);d.enableWorker=!1,xn.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(Nt.ERROR,{type:Fi.OTHER_ERROR,details:Gn.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:qe})},re.postMessage({cmd:"init",typeSupported:b,vendor:w,id:e,config:JSON.stringify(d)})}catch(re){xn.warn(`Error setting up "${e}" Web Worker, fallback to inline`,re),this.resetWorker(),this.error=null,this.transmuxer=new zw(this.observer,b,d,w,e)}else this.transmuxer=new zw(this.observer,b,d,w,e)}resetWorker(){if(this.workerContext){const{worker:n,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),n.removeEventListener("message",this.onwmsg),n.onerror=null,n.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const n=this.observer;n&&n.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(n,e,i,o,d,m,b,w,G,re){var ve,qe;G.transmuxing.start=self.performance.now();const{transmuxer:Xe}=this,pt=m?m.start:d.start,St=d.decryptdata,Ot=this.frag,$t=!(Ot&&d.cc===Ot.cc),fn=!(Ot&&G.level===Ot.level),an=Ot?G.sn-Ot.sn:-1,yn=this.part?G.part-this.part.index:-1,Un=!fn&&(1===an||0===an&&(1===yn||0===an&&G.id>1&&G.id===Ot?.stats.chunkCount&&yn<=0)),On=self.performance.now();(fn||an||0===d.stats.parsing.start)&&(d.stats.parsing.start=On),m&&(yn||!Un)&&(m.stats.parsing.start=On);const zn=!(Ot&&(null==(ve=d.initSegment)?void 0:ve.url)===(null==(qe=Ot.initSegment)?void 0:qe.url)),ii=new z1($t,Un,w,fn,pt,zn);if(!Un||$t||zn){xn.log(`[transmuxer-interface, ${d.type}]: Starting new transmux session for sn: ${G.sn} p: ${G.part} level: ${G.level} id: ${G.id}\n        discontinuity: ${$t}\n        trackSwitch: ${fn}\n        contiguous: ${Un}\n        accurateTimeOffset: ${w}\n        timeOffset: ${pt}\n        initSegmentChange: ${zn}`);const Ln=new W1(i,o,e,b,re);this.configureTransmuxer(Ln)}if(this.frag=d,this.part=m,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:n,decryptdata:St,chunkMeta:G,state:ii},n instanceof ArrayBuffer?[n]:[]);else if(Xe){const Ln=Xe.push(n,St,G,ii);TE(Ln)?(Xe.async=!0,Ln.then(yi=>{this.handleTransmuxComplete(yi)}).catch(yi=>{this.transmuxerError(yi,G,"transmuxer-interface push error")})):(Xe.async=!1,this.handleTransmuxComplete(Ln))}}flush(n){n.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:n});else if(e){let i=e.flush(n);TE(i)||e.async?(TE(i)||(i=Promise.resolve(i)),i.then(d=>{this.handleFlushResult(d,n)}).catch(d=>{this.transmuxerError(d,n,"transmuxer-interface flush error")})):this.handleFlushResult(i,n)}}transmuxerError(n,e,i){this.hls&&(this.error=n,this.hls.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:n,err:n,reason:i}))}handleFlushResult(n,e){n.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(e)}onWorkerMessage(n){const e=n.data,i=this.hls;switch(e.event){case"init":{var o;const d=null==(o=this.workerContext)?void 0:o.objectURL;d&&self.URL.revokeObjectURL(d);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":xn[e.data.logType]&&xn[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data)}}configureTransmuxer(n){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:n}):e&&e.configure(n)}handleTransmuxComplete(n){n.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(n)}}class Q1{constructor(n,e,i,o){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=n,this.media=e,this.fragmentTracker=i,this.hls=o}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(n,e){const{config:i,media:o,stalled:d}=this;if(null===o)return;const{currentTime:m,seeking:b}=o,w=this.seeking&&!b,G=!this.seeking&&b;if(this.seeking=b,m!==n){if(this.moved=!0,null!==d){if(this.stallReported){const $t=self.performance.now()-d;xn.warn(`playback not stuck anymore @${m}, after ${Math.round($t)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(G||w)return void(this.stalled=null);if(o.paused&&!b||o.ended||0===o.playbackRate||!uo.getBuffered(o).length)return;const re=uo.bufferInfo(o,m,0),qe=re.nextStart||0;if(!(re.len>0||qe))return;if(b){const $t=re.len>2,fn=!qe||e&&e.start<=m||qe-m>2&&!this.fragmentTracker.getPartialFragment(m);if($t||fn)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var Xe;const $t=Math.max(qe,re.start||0)-m,fn=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,yn=(null==fn||null==(Xe=fn.details)?void 0:Xe.live)?2*fn.details.targetduration:2,Sn=this.fragmentTracker.getPartialFragment(m);if($t>0&&($t<=yn||Sn))return void this._trySkipBufferHole(Sn)}const pt=self.performance.now();if(null===d)return void(this.stalled=pt);const St=pt-d;if(!b&&St>=250&&(this._reportStall(re),!this.media))return;const Ot=uo.bufferInfo(o,m,i.maxBufferHole);this._tryFixBufferStall(Ot,St)}_tryFixBufferStall(n,e){const{config:i,fragmentTracker:o,media:d}=this;if(null===d)return;const m=d.currentTime,b=o.getPartialFragment(m);b&&(this._trySkipBufferHole(b)||!this.media)||(n.len>i.maxBufferHole||n.nextStart&&n.nextStart-m<i.maxBufferHole)&&e>1e3*i.highBufferWatchdogPeriod&&(xn.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(n){const{hls:e,media:i,stallReported:o}=this;if(!o&&i){this.stallReported=!0;const d=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${JSON.stringify(n)})`);xn.warn(d.message),e.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.BUFFER_STALLED_ERROR,fatal:!1,error:d,buffer:n.len})}}_trySkipBufferHole(n){const{config:e,hls:i,media:o}=this;if(null===o)return 0;const d=o.currentTime,m=uo.bufferInfo(o,d,0),b=d<m.start?m.start:m.nextStart;if(b){const re=b-d;if(re>0&&(m.len<=e.maxBufferHole||m.len>0&&m.len<1&&o.readyState<3)){if(re>e.maxBufferHole){const{fragmentTracker:qe}=this;let Xe=!1;if(0===d){const pt=qe.getAppendedFrag(0,"main");pt&&b<pt.end&&(Xe=!0)}if(!Xe){const pt=n||qe.getAppendedFrag(d,"main");if(pt){let St=!1,Ot=pt.end;for(;Ot<b;){const $t=qe.getPartialFragment(Ot);if(!$t){St=!0;break}Ot+=$t.duration}if(St)return 0}}}const ve=Math.max(b+.05,d+.1);if(xn.warn(`skipping hole, adjusting currentTime from ${d} to ${ve}`),this.moved=!0,this.stalled=null,o.currentTime=ve,n&&!n.gap){const qe=new Error(`fragment loaded with buffer holes, seeking from ${d} to ${ve}`);i.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:qe,reason:qe.message,frag:n})}return ve}}return 0}_tryNudgeBuffer(){const{config:n,hls:e,media:i,nudgeRetry:o}=this;if(null===i)return;const d=i.currentTime;if(this.nudgeRetry++,o<n.nudgeMaxRetry){const m=d+(o+1)*n.nudgeOffset,b=new Error(`Nudging 'currentTime' from ${d} to ${m}`);xn.warn(b.message),i.currentTime=m,e.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.BUFFER_NUDGE_ON_STALL,error:b,fatal:!1})}else{const m=new Error(`Playhead still not moving while enough data buffered @${d} after ${n.nudgeMaxRetry} nudges`);xn.error(m.message),e.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.BUFFER_STALLED_ERROR,error:m,fatal:!0})}}}class eP extends vE{constructor(n,e,i){super(n,e,i,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Nt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Nt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Nt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.on(Nt.ERROR,this.onError,this),n.on(Nt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(Nt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(Nt.BUFFER_CREATED,this.onBufferCreated,this),n.on(Nt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(Nt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(Nt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Nt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Nt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.off(Nt.ERROR,this.onError,this),n.off(Nt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(Nt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(Nt.BUFFER_CREATED,this.onBufferCreated,this),n.off(Nt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(Nt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(Nt.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(n){if(this.levels){const{lastCurrentTime:e,hls:i}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let o=i.startLevel;-1===o&&(i.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=i.nextAutoLevel),this.level=i.nextLoadLevel=o,this.loadedmetadata=!1}e>0&&-1===n&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),n=e),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var n;const{levels:i,level:o}=this,d=null==i||null==(n=i[o])?void 0:n.details;if(d&&(!d.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(d))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const i=self.performance.now(),o=this.retryDate;(!o||i>=o||null!=(e=this.media)&&e.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:n,levelLastLoaded:e,levels:i,media:o}=this,{config:d,nextLoadLevel:m}=n;if(null===e||!o&&(this.startFragRequested||!d.startFragPrefetch)||this.altAudio&&this.audioOnly||null==i||!i[m])return;const b=i[m],w=this.getMainFwdBufferInfo();if(null===w)return;const G=this.getLevelDetails();if(G&&this._streamEnded(w,G)){const Ot={};return this.altAudio&&(Ot.type="video"),this.hls.trigger(Nt.BUFFER_EOS,Ot),void(this.state="ENDED")}n.loadLevel!==m&&-1===n.manualLevel&&this.log(`Adapting to level ${m} from level ${this.level}`),this.level=n.nextLoadLevel=m;const re=b.details;if(!re||"WAITING_LEVEL"===this.state||re.live&&this.levelLastLoaded!==m)return this.level=m,void(this.state="WAITING_LEVEL");const ve=w.len,qe=this.getMaxBufferLength(b.maxBitrate);if(ve>=qe)return;this.backtrackFragment&&this.backtrackFragment.start>w.end&&(this.backtrackFragment=null);const Xe=this.backtrackFragment?this.backtrackFragment.start:w.end;let pt=this.getNextFragment(Xe,re);if(this.couldBacktrack&&!this.fragPrevious&&pt&&"initSegment"!==pt.sn&&"OK"!==this.fragmentTracker.getState(pt)){var St;const $t=(null!=(St=this.backtrackFragment)?St:pt).sn-re.startSN,fn=re.fragments[$t-1];fn&&pt.cc===fn.cc&&(pt=fn,this.fragmentTracker.removeFragment(fn))}else this.backtrackFragment&&w.len&&(this.backtrackFragment=null);if(pt&&this.isLoopLoading(pt,Xe)){if(!pt.gap){const $t=this.audioOnly&&!this.altAudio?"audio":"video",fn=("video"===$t?this.videoBuffer:this.mediaBuffer)||this.media;fn&&this.afterBufferFlushed(fn,$t,"main")}pt=this.getNextFragmentLoopLoading(pt,re,w,"main",qe)}pt&&(pt.initSegment&&!pt.initSegment.data&&!this.bitrateTest&&(pt=pt.initSegment),this.loadFragment(pt,b,Xe))}loadFragment(n,e,i){const o=this.fragmentTracker.getState(n);this.fragCurrent=n,"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===n.sn?this._loadInitSegment(n,e):this.bitrateTest?(this.log(`Fragment ${n.sn} of level ${n.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(n,e)):(this.startFragRequested=!0,super.loadFragment(n,e,i)):this.clearTrackerIfNeeded(n)}getBufferedFrag(n){return this.fragmentTracker.getBufferedFrag(n,"main")}followingBufferedFrag(n){return n?this.getBufferedFrag(n.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:n,media:e}=this;if(null!=e&&e.readyState){let i;const o=this.getAppendedFrag(e.currentTime);o&&o.start>1&&this.flushMainBuffer(0,o.start-1);const d=this.getLevelDetails();if(null!=d&&d.live){const b=this.getMainFwdBufferInfo();if(!b||b.len<2*d.targetduration)return}if(!e.paused&&n){const G=this.fragLastKbps;i=G&&this.fragCurrent?this.fragCurrent.duration*n[this.hls.nextLoadLevel].maxBitrate/(1e3*G)+1:0}else i=0;const m=this.getBufferedFrag(e.currentTime+i);if(m){const b=this.followingBufferedFrag(m);if(b){this.abortCurrentFrag();const G=b.duration,re=Math.max(m.end,(b.maxStartPTS?b.maxStartPTS:b.start)+Math.min(Math.max(G-this.config.maxFragLookUpTolerance,.5*G),.75*G));this.flushMainBuffer(re,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const n=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,n&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(n,e){super.flushMainBuffer(n,e,this.altAudio?"video":null)}onMediaAttached(n,e){super.onMediaAttached(n,e);const i=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new Q1(this.config,i,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:n}=this;n&&this.onvplaying&&this.onvseeked&&(n.removeEventListener("playing",this.onvplaying),n.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const n=this.media,e=n?n.currentTime:null;Ri(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const i=this.getMainFwdBufferInfo();null!==i&&0!==i.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${i?i.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Nt.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(n,e){let d,i=!1,o=!1;e.levels.forEach(m=>{d=m.audioCodec,d&&(-1!==d.indexOf("mp4a.40.2")&&(i=!0),-1!==d.indexOf("mp4a.40.5")&&(o=!0))}),this.audioCodecSwitch=i&&o&&!function iA(){var r;const n=tA();return"function"==typeof(null==n||null==(r=n.prototype)?void 0:r.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(n,e){const{levels:i}=this;if(!i||"IDLE"!==this.state)return;const o=i[e.level];(!o.details||o.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(o.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(n,e){var i;const{levels:o}=this,d=e.level,m=e.details,b=m.totalduration;if(!o)return void this.warn(`Levels were reset while loading level ${d}`);this.log(`Level ${d} loaded [${m.startSN},${m.endSN}]${m.lastPartSn?`[part-${m.lastPartSn}-${m.lastPartIndex}]`:""}, cc [${m.startCC}, ${m.endCC}] duration:${b}`);const w=o[d],G=this.fragCurrent;G&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(G.level!==e.level||G.urlId!==w.urlId)&&G.loader&&this.abortCurrentFrag();let re=0;if(m.live||null!=(i=w.details)&&i.live){if(m.fragments[0]||(m.deltaUpdateFailed=!0),m.deltaUpdateFailed)return;re=this.alignPlaylists(m,w.details)}if(w.details=m,this.levelLastLoaded=d,this.hls.trigger(Nt.LEVEL_UPDATED,{details:m,level:d}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(m))return;this.state="IDLE"}this.startFragRequested?m.live&&this.synchronizeToLiveEdge(m):this.setStartPosition(m,re),this.tick()}_handleFragmentLoadProgress(n){var e;const{frag:i,part:o,payload:d}=n,{levels:m}=this;if(!m)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const b=m[i.level],w=b.details;if(!w)return this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),void this.fragmentTracker.removeFragment(i);const G=b.videoCodec,re=w.PTSKnown||!w.live,ve=null==(e=i.initSegment)?void 0:e.data,qe=this._getAudioCodec(b),Xe=this.transmuxer=this.transmuxer||new $w(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),pt=o?o.index:-1,Ot=new w_(i.level,i.sn,i.stats.chunkCount,d.byteLength,pt,-1!==pt);Xe.push(d,ve,qe,G,i,o,w.totalduration,re,Ot,this.initPTS[i.cc])}onAudioTrackSwitching(n,e){const i=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const m=this.fragCurrent;m&&(this.log("Switching to main audio track, cancel main fragment load"),m.abortRequests(),this.fragmentTracker.removeFragment(m)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const d=this.hls;i&&(d.trigger(Nt.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),d.trigger(Nt.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(n,e){const o=!!this.hls.audioTracks[e.id].url;if(o){const d=this.videoBuffer;d&&this.mediaBuffer!==d&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=d)}this.altAudio=o,this.tick()}onBufferCreated(n,e){const i=e.tracks;let o,d,m=!1;for(const b in i){const w=i[b];if("main"===w.id){if(d=b,o=w,"video"===b){const G=i[b];G&&(this.videoBuffer=G.buffer)}}else m=!0}m&&o?(this.log(`Alternate track found, use ${d}.buffered to schedule main fragment loading`),this.mediaBuffer=o.buffer):this.mediaBuffer=this.media}onFragBuffered(n,e){const{frag:i,part:o}=e;if(i&&"main"!==i.type)return;if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const d=o?o.stats:i.stats;this.fragLastKbps=Math.round(8*d.total/(d.buffering.end-d.loading.first)),"initSegment"!==i.sn&&(this.fragPrevious=i),this.fragBufferedComplete(i,o)}onError(n,e){var i;if(e.fatal)this.state="ERROR";else switch(e.details){case Gn.FRAG_GAP:case Gn.FRAG_PARSING_ERROR:case Gn.FRAG_DECRYPT_ERROR:case Gn.FRAG_LOAD_ERROR:case Gn.FRAG_LOAD_TIMEOUT:case Gn.KEY_LOAD_ERROR:case Gn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",e);break;case Gn.LEVEL_LOAD_ERROR:case Gn.LEVEL_LOAD_TIMEOUT:case Gn.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(i=e.context)?void 0:i.type)&&(this.state="IDLE");break;case Gn.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Gn.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:n,gapController:e}=this;n&&e&&n.readyState&&(!this.loadedmetadata&&uo.getBuffered(n).length||e.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=n.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(n,{type:e}){("audio"!==e||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===e?this.videoBuffer:this.mediaBuffer)||this.media,e,"main")}onLevelsUpdated(n,e){this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:n}=this;if(!n)return;const e=n.currentTime;let i=this.startPosition;if(i>=0&&e<i){if(n.seeking)return void this.log(`could not seek to ${i}, already seeking at ${e}`);const o=uo.getBuffered(n),m=(o.length?o.start(0):0)-i;m>0&&(m<this.config.maxBufferHole||m<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${m} to match buffer start`),i+=m,this.startPosition=i),this.log(`seek to target start position ${i} from current time ${e}`),n.currentTime=i}}_getAudioCodec(n){let e=this.config.defaultAudioCodec||n.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(n,e){n.bitrateTest=!0,this._doFragLoad(n,e).then(i=>{const{hls:o}=this;if(!i||this.fragContextChanged(n))return;e.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const d=n.stats;d.parsing.start=d.parsing.end=d.buffering.start=d.buffering.end=self.performance.now(),o.trigger(Nt.FRAG_LOADED,i),n.bitrateTest=!1})}_handleTransmuxComplete(n){var e;const i="main",{hls:o}=this,{remuxResult:d,chunkMeta:m}=n,b=this.getCurrentContext(m);if(!b)return void this.resetWhenMissingContext(m);const{frag:w,part:G,level:re}=b,{video:ve,text:qe,id3:Xe,initSegment:pt}=d,{details:St}=re,Ot=this.altAudio?void 0:d.audio;if(this.fragContextChanged(w))this.fragmentTracker.removeFragment(w);else{if(this.state="PARSING",pt){if(null!=pt&&pt.tracks){const an=w.initSegment||w;this._bufferInitSegment(re,pt.tracks,an,m),o.trigger(Nt.FRAG_PARSING_INIT_SEGMENT,{frag:an,id:i,tracks:pt.tracks})}const $t=pt.initPTS,fn=pt.timescale;Ri($t)&&(this.initPTS[w.cc]={baseTime:$t,timescale:fn},o.trigger(Nt.INIT_PTS_FOUND,{frag:w,id:i,initPTS:$t,timescale:fn}))}if(ve&&St&&"initSegment"!==w.sn){const $t=St.fragments[w.sn-1-St.startSN],fn=w.sn===St.startSN,an=!$t||w.cc>$t.cc;if(!1!==d.independent){const{startPTS:yn,endPTS:Sn,startDTS:Un,endDTS:On}=ve;if(G)G.elementaryStreams[ve.type]={startPTS:yn,endPTS:Sn,startDTS:Un,endDTS:On};else if(ve.firstKeyFrame&&ve.independent&&1===m.id&&!an&&(this.couldBacktrack=!0),ve.dropped&&ve.independent){const zn=this.getMainFwdBufferInfo(),ii=(zn?zn.end:this.getLoadPosition())+this.config.maxBufferHole;if(!fn&&ii<(ve.firstKeyFramePTS?ve.firstKeyFramePTS:yn)-this.config.maxBufferHole&&!an)return void this.backtrack(w);an&&(w.gap=!0),w.setElementaryStreamInfo(ve.type,w.start,Sn,w.start,On,!0)}w.setElementaryStreamInfo(ve.type,yn,Sn,Un,On),this.backtrackFragment&&(this.backtrackFragment=w),this.bufferFragmentData(ve,w,G,m,fn||an)}else{if(!fn&&!an)return void this.backtrack(w);w.gap=!0}}if(Ot){const{startPTS:$t,endPTS:fn,startDTS:an,endDTS:yn}=Ot;G&&(G.elementaryStreams.audio={startPTS:$t,endPTS:fn,startDTS:an,endDTS:yn}),w.setElementaryStreamInfo("audio",$t,fn,an,yn),this.bufferFragmentData(Ot,w,G,m)}St&&null!=Xe&&null!=(e=Xe.samples)&&e.length&&o.trigger(Nt.FRAG_PARSING_METADATA,{id:i,frag:w,details:St,samples:Xe.samples}),St&&qe&&o.trigger(Nt.FRAG_PARSING_USERDATA,{id:i,frag:w,details:St,samples:qe.samples})}}_bufferInitSegment(n,e,i,o){if("PARSING"!==this.state)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:d,video:m,audiovideo:b}=e;if(d){let w=n.audioCodec;const G=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(w&&(w=-1!==w.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==d.metadata.channelCount&&-1===G.indexOf("firefox")&&(w="mp4a.40.5")),-1!==G.indexOf("android")&&"audio/mpeg"!==d.container&&(w="mp4a.40.2",this.log(`Android: force audio codec to ${w}`)),n.audioCodec&&n.audioCodec!==w&&this.log(`Swapping manifest audio codec "${n.audioCodec}" for "${w}"`),d.levelCodec=w,d.id="main",this.log(`Init audio buffer, container:${d.container}, codecs[selected/level/parsed]=[${w||""}/${n.audioCodec||""}/${d.codec}]`)}m&&(m.levelCodec=n.videoCodec,m.id="main",this.log(`Init video buffer, container:${m.container}, codecs[level/parsed]=[${n.videoCodec||""}/${m.codec}]`)),b&&this.log(`Init audiovideo buffer, container:${b.container}, codecs[level/parsed]=[${n.attrs.CODECS||""}/${b.codec}]`),this.hls.trigger(Nt.BUFFER_CODECS,e),Object.keys(e).forEach(w=>{const re=e[w].initSegment;null!=re&&re.byteLength&&this.hls.trigger(Nt.BUFFER_APPENDING,{type:w,data:re,frag:i,part:null,chunkMeta:o,parent:i.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(n){this.couldBacktrack=!0,this.backtrackFragment=n,this.resetTransmuxer(),this.flushBufferGap(n),this.fragmentTracker.removeFragment(n),this.fragPrevious=null,this.nextLoadPosition=n.start,this.state="IDLE"}checkFragmentChanged(){const n=this.media;let e=null;if(n&&n.readyState>1&&!1===n.seeking){const i=n.currentTime;if(uo.isBuffered(n,i)?e=this.getAppendedFrag(i):uo.isBuffered(n,i+.1)&&(e=this.getAppendedFrag(i+.1)),e){this.backtrackFragment=null;const o=this.fragPlaying,d=e.level;(!o||e.sn!==o.sn||o.level!==d||e.urlId!==o.urlId)&&(this.fragPlaying=e,this.hls.trigger(Nt.FRAG_CHANGED,{frag:e}),(!o||o.level!==d)&&this.hls.trigger(Nt.LEVEL_SWITCHED,{level:d}))}}}get nextLevel(){const n=this.nextBufferedFrag;return n?n.level:-1}get currentFrag(){const n=this.media;return n?this.fragPlaying||this.getAppendedFrag(n.currentTime):null}get currentProgramDateTime(){const n=this.media;if(n){const e=n.currentTime,i=this.currentFrag;if(i&&Ri(e)&&Ri(i.programDateTime))return new Date(i.programDateTime+1e3*(e-i.start))}return null}get currentLevel(){const n=this.currentFrag;return n?n.level:-1}get nextBufferedFrag(){const n=this.currentFrag;return n?this.followingBufferedFrag(n):null}get forceStartLoad(){return this._forceStartLoad}}class Jm{constructor(n,e=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=n,this.alpha_=n?Math.exp(Math.log(.5)/n):0,this.estimate_=e,this.totalWeight_=i}sample(n,e){const i=Math.pow(this.alpha_,n);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=n}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const n=1-Math.pow(this.alpha_,this.totalWeight_);if(n)return this.estimate_/n}return this.estimate_}}class tP{constructor(n,e,i,o=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Jm(n),this.fast_=new Jm(e),this.defaultTTFB_=o,this.ttfb_=new Jm(n)}update(n,e){const{slow_:i,fast_:o,ttfb_:d}=this;i.halfLife!==n&&(this.slow_=new Jm(n,i.getEstimate(),i.getTotalWeight())),o.halfLife!==e&&(this.fast_=new Jm(e,o.getEstimate(),o.getTotalWeight())),d.halfLife!==n&&(this.ttfb_=new Jm(n,d.getEstimate(),d.getTotalWeight()))}sample(n,e){const o=(n=Math.max(n,this.minDelayMs_))/1e3,d=8*e/o;this.fast_.sample(o,d),this.slow_.sample(o,d)}sampleTTFB(n){const e=n/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(i,Math.max(n,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class qw{constructor(){this.chunks=[],this.dataLength=0}push(n){this.chunks.push(n),this.dataLength+=n.length}flush(){const{chunks:n,dataLength:e}=this;let i;return n.length?(i=1===n.length?n[0]:function iP(r,n){const e=new Uint8Array(n);let i=0;for(let o=0;o<r.length;o++){const d=r[o];e.set(d,i),i+=d.length}return e}(n,e),this.reset(),i):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Qw(r,n){if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++)if(!sP(r[e].attrs,n[e].attrs))return!1;return!0}function sP(r,n){const e=r["STABLE-RENDITION-ID"];return e?e===n["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(i=>r[i]!==n[i])}class lP{constructor(n){this.buffered=void 0;const e=(i,o,d)=>{if((o>>>=0)>d-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${o}) is greater than the maximum bound (${d})`);return n[o][i]};this.buffered={get length(){return n.length},end:i=>e("end",i,n.length),start:i=>e("start",i,n.length)}}}function pA(r){const n=[];for(let e=0;e<r.length;e++){const i=r[e];("subtitles"===i.kind||"captions"===i.kind)&&i.label&&n.push(r[e])}return n}class dP{constructor(n){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=n}append(n,e){const i=this.queues[e];i.push(n),1===i.length&&this.buffers[e]&&this.executeNext(e)}insertAbort(n,e){this.queues[e].unshift(n),this.executeNext(e)}appendBlocker(n){let e;const i=new Promise(d=>{e=d});return this.append({execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}},n),i}executeNext(n){const{buffers:e,queues:i}=this,o=e[n],d=i[n];if(d.length){const m=d[0];try{m.execute()}catch(b){xn.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),m.onError(b),null!=o&&o.updating||(d.shift(),this.executeNext(n))}}}shiftAndExecuteNext(n){this.queues[n].shift(),this.executeNext(n)}current(n){return this.queues[n][0]}}const eI=Fm(),tI=/([ha]vc.)(?:\.[^.,]+)+/,nI={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},iI=function(n){let e=n;return nI.hasOwnProperty(n)&&(e=nI[n]),String.fromCharCode(e)},Zd=100,fP={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},hP={17:2,18:4,21:6,22:8,23:10,19:13,20:15},mP={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},pP={25:2,26:4,29:6,30:8,31:10,27:13,28:15},gP=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class _P{constructor(){this.time=null,this.verboseLevel=0}log(n,e){if(this.verboseLevel>=n){const i="function"==typeof e?e():e;xn.log(`${this.time} [${n}] ${i}`)}}}const rh=function(n){const e=[];for(let i=0;i<n.length;i++)e.push(n[i].toString(16));return e};class rI{constructor(n,e,i,o,d){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=n||"white",this.underline=e||!1,this.italics=i||!1,this.background=o||"black",this.flash=d||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(n){const e=["foreground","underline","italics","background","flash"];for(let i=0;i<e.length;i++){const o=e[i];n.hasOwnProperty(o)&&(this[o]=n[o])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(n){return this.foreground===n.foreground&&this.underline===n.underline&&this.italics===n.italics&&this.background===n.background&&this.flash===n.flash}copy(n){this.foreground=n.foreground,this.underline=n.underline,this.italics=n.italics,this.background=n.background,this.flash=n.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class vP{constructor(n,e,i,o,d,m){this.uchar=void 0,this.penState=void 0,this.uchar=n||" ",this.penState=new rI(e,i,o,d,m)}reset(){this.uchar=" ",this.penState.reset()}setChar(n,e){this.uchar=n,this.penState.copy(e)}setPenState(n){this.penState.copy(n)}equals(n){return this.uchar===n.uchar&&this.penState.equals(n.penState)}copy(n){this.uchar=n.uchar,this.penState.copy(n.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class yP{constructor(n){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let e=0;e<Zd;e++)this.chars.push(new vP);this.logger=n,this.pos=0,this.currPenState=new rI}equals(n){let e=!0;for(let i=0;i<Zd;i++)if(!this.chars[i].equals(n.chars[i])){e=!1;break}return e}copy(n){for(let e=0;e<Zd;e++)this.chars[e].copy(n.chars[e])}isEmpty(){let n=!0;for(let e=0;e<Zd;e++)if(!this.chars[e].isEmpty()){n=!1;break}return n}setCursor(n){this.pos!==n&&(this.pos=n),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Zd&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Zd)}moveCursor(n){const e=this.pos+n;if(n>1)for(let i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(n){n>=144&&this.backSpace();const e=iI(n);this.pos>=Zd?this.logger.log(0,()=>"Cannot insert "+n.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(n){let e;for(e=n;e<Zd;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const n=[];let e=!0;for(let i=0;i<Zd;i++){const o=this.chars[i].uchar;" "!==o&&(e=!1),n.push(o)}return e?"":n.join("")}setPenStyles(n){this.currPenState.setStyles(n),this.chars[this.pos].setPenState(this.currPenState)}}class gA{constructor(n){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let e=0;e<15;e++)this.rows.push(new yP(n));this.logger=n,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let n=0;n<15;n++)this.rows[n].clear();this.currRow=14}equals(n){let e=!0;for(let i=0;i<15;i++)if(!this.rows[i].equals(n.rows[i])){e=!1;break}return e}copy(n){for(let e=0;e<15;e++)this.rows[e].copy(n.rows[e])}isEmpty(){let n=!0;for(let e=0;e<15;e++)if(!this.rows[e].isEmpty()){n=!1;break}return n}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(n){this.rows[this.currRow].insertChar(n)}setPen(n){this.rows[this.currRow].setPenStyles(n)}moveCursor(n){this.rows[this.currRow].moveCursor(n)}setCursor(n){this.logger.log(2,"setCursor: "+n),this.rows[this.currRow].setCursor(n)}setPAC(n){this.logger.log(2,()=>"pacData = "+JSON.stringify(n));let e=n.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let b=0;b<15;b++)this.rows[b].clear();const d=this.currRow+1-this.nrRollUpRows,m=this.lastOutputScreen;if(m){const b=m.rows[d].cueStartTime,w=this.logger.time;if(b&&null!==w&&b<w)for(let G=0;G<this.nrRollUpRows;G++)this.rows[e-this.nrRollUpRows+G+1].copy(m.rows[d+G])}}this.currRow=e;const i=this.rows[this.currRow];if(null!==n.indent){const m=Math.max(n.indent-1,0);i.setCursor(n.indent),n.color=i.chars[m].penState.foreground}this.setPen({foreground:n.color,underline:n.underline,italics:n.italics,background:"black",flash:!1})}setBkgData(n){this.logger.log(2,()=>"bkgData = "+JSON.stringify(n)),this.backSpace(),this.setPen(n),this.insertChar(32)}setRollUpRows(n){this.nrRollUpRows=n}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const e=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(n){n=n||!1;const e=[];let i="",o=-1;for(let d=0;d<15;d++){const m=this.rows[d].getTextString();m&&(o=d+1,e.push(n?"Row "+o+": '"+m+"'":m.trim()))}return e.length>0&&(i=n?"["+e.join(" | ")+"]":e.join("\n")),i}getTextAndFormat(){return this.rows}}class oI{constructor(n,e,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=n,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new gA(i),this.nonDisplayedMemory=new gA(i),this.lastOutputScreen=new gA(i),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(n){this.outputFilter=n}setPAC(n){this.writeScreen.setPAC(n)}setBkgData(n){this.writeScreen.setBkgData(n)}setMode(n){n!==this.mode&&(this.mode=n,this.logger.log(2,()=>"MODE="+n),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=n)}insertChars(n){for(let i=0;i<n.length;i++)this.writeScreen.insertChar(n[i]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>e+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(n){this.logger.log(2,"RU("+n+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(n)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const n=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=n,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(n){this.logger.log(2,"TO("+n+") - Tab Offset"),this.writeScreen.moveCursor(n)}ccMIDROW(n){const e={flash:!1};if(e.underline=n%2==1,e.italics=n>=46,e.italics)e.foreground="white";else{const i=Math.floor(n/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(n=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),n&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(n){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,n,this.displayedMemory),this.cueStartTime=n))}}class sI{constructor(n,e,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const o=new _P;this.channels=[null,new oI(n,e,o),new oI(n+1,i,o)],this.cmdHistory={a:null,b:null},this.logger=o}getHandler(n){return this.channels[n].getHandler()}setHandler(n,e){this.channels[n].setHandler(e)}addData(n,e){let i,o,d,m=!1;this.logger.time=n;for(let b=0;b<e.length;b+=2)if(o=127&e[b],d=127&e[b+1],0!==o||0!==d){if(this.logger.log(3,"["+rh([e[b],e[b+1]])+"] -> ("+rh([o,d])+")"),i=this.parseCmd(o,d),i||(i=this.parseMidrow(o,d)),i||(i=this.parsePAC(o,d)),i||(i=this.parseBackgroundAttributes(o,d)),!i&&(m=this.parseChars(o,d),m)){const w=this.currentChannel;w&&w>0?this.channels[w].insertChars(m):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!i&&!m&&this.logger.log(2,"Couldn't parse cleaned data "+rh([o,d])+" orig: "+rh([e[b],e[b+1]]))}}parseCmd(n,e){const{cmdHistory:i}=this;if(!((20===n||28===n||21===n||29===n)&&e>=32&&e<=47||(23===n||31===n)&&e>=33&&e<=35))return!1;if(aI(n,e,i))return Qm(null,null,i),this.logger.log(3,"Repeated command ("+rh([n,e])+") is dropped"),!0;const m=20===n||21===n||23===n?1:2,b=this.channels[m];return 20===n||21===n||28===n||29===n?32===e?b.ccRCL():33===e?b.ccBS():34===e?b.ccAOF():35===e?b.ccAON():36===e?b.ccDER():37===e?b.ccRU(2):38===e?b.ccRU(3):39===e?b.ccRU(4):40===e?b.ccFON():41===e?b.ccRDC():42===e?b.ccTR():43===e?b.ccRTD():44===e?b.ccEDM():45===e?b.ccCR():46===e?b.ccENM():47===e&&b.ccEOC():b.ccTO(e-32),Qm(n,e,i),this.currentChannel=m,!0}parseMidrow(n,e){let i=0;if((17===n||25===n)&&e>=32&&e<=47){if(i=17===n?1:2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const o=this.channels[i];return!!o&&(o.ccMIDROW(e),this.logger.log(3,"MIDROW ("+rh([n,e])+")"),!0)}return!1}parsePAC(n,e){let i;const o=this.cmdHistory;if(!((n>=17&&n<=23||n>=25&&n<=31)&&e>=64&&e<=127||(16===n||24===n)&&e>=64&&e<=95))return!1;if(aI(n,e,o))return Qm(null,null,o),!0;const b=n<=23?1:2;i=e>=64&&e<=95?1===b?fP[n]:mP[n]:1===b?hP[n]:pP[n];const w=this.channels[b];return!!w&&(w.setPAC(this.interpretPAC(i,e)),Qm(n,e,o),this.currentChannel=b,!0)}interpretPAC(n,e){let i;const o={color:null,italics:!1,indent:null,underline:!1,row:n};return i=e>95?e-96:e-64,o.underline=1==(1&i),i<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(o.italics=!0,o.color="white"):o.indent=4*Math.floor((i-16)/2),o}parseChars(n,e){let i,o=null,d=null;if(n>=25?(i=2,d=n-8):(i=1,d=n),d>=17&&d<=19){let m;m=17===d?e+80:18===d?e+112:e+144,this.logger.log(2,"Special char '"+iI(m)+"' in channel "+i),o=[m]}else n>=32&&n<=127&&(o=0===e?[n]:[n,e]);if(o){const m=rh(o);this.logger.log(3,"Char codes =  "+m.join(",")),Qm(n,e,this.cmdHistory)}return o}parseBackgroundAttributes(n,e){if(!((16===n||24===n)&&e>=32&&e<=47||(23===n||31===n)&&e>=45&&e<=47))return!1;let d;const m={};return 16===n||24===n?(d=Math.floor((e-32)/2),m.background=gP[d],e%2==1&&(m.background=m.background+"_semi")):45===e?m.background="transparent":(m.foreground="black",47===e&&(m.underline=!0)),this.channels[n<=23?1:2].setBkgData(m),Qm(n,e,this.cmdHistory),!0}reset(){for(let n=0;n<Object.keys(this.channels).length;n++){const e=this.channels[n];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(n){for(let e=0;e<this.channels.length;e++){const i=this.channels[e];i&&i.cueSplitAtTime(n)}}}function Qm(r,n,e){e.a=r,e.b=n}function aI(r,n,e){return e.a===r&&e.b===n}class CE{constructor(n,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=n,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(n,e,i){(null===this.startTime||this.startTime>n)&&(this.startTime=n),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var _A=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const r=["","lr","rl"],n=["start","middle","end","left","right"];function e(b,w){if("string"!=typeof w||!Array.isArray(b))return!1;const G=w.toLowerCase();return!!~b.indexOf(G)&&G}function o(b){return e(n,b)}function d(b,...w){let G=1;for(;G<arguments.length;G++){const re=arguments[G];for(const ve in re)b[ve]=re[ve]}return b}function m(b,w,G){const re=this,ve={enumerable:!0};re.hasBeenReset=!1;let qe="",Xe=!1,pt=b,St=w,Ot=G,$t=null,fn="",an=!0,yn="auto",Sn="start",Un=50,On="middle",zn=50,ii="middle";Object.defineProperty(re,"id",d({},ve,{get:function(){return qe},set:function(Ln){qe=""+Ln}})),Object.defineProperty(re,"pauseOnExit",d({},ve,{get:function(){return Xe},set:function(Ln){Xe=!!Ln}})),Object.defineProperty(re,"startTime",d({},ve,{get:function(){return pt},set:function(Ln){if("number"!=typeof Ln)throw new TypeError("Start time must be set to a number.");pt=Ln,this.hasBeenReset=!0}})),Object.defineProperty(re,"endTime",d({},ve,{get:function(){return St},set:function(Ln){if("number"!=typeof Ln)throw new TypeError("End time must be set to a number.");St=Ln,this.hasBeenReset=!0}})),Object.defineProperty(re,"text",d({},ve,{get:function(){return Ot},set:function(Ln){Ot=""+Ln,this.hasBeenReset=!0}})),Object.defineProperty(re,"region",d({},ve,{get:function(){return $t},set:function(Ln){$t=Ln,this.hasBeenReset=!0}})),Object.defineProperty(re,"vertical",d({},ve,{get:function(){return fn},set:function(Ln){const yi=function i(b){return e(r,b)}(Ln);if(!1===yi)throw new SyntaxError("An invalid or illegal string was specified.");fn=yi,this.hasBeenReset=!0}})),Object.defineProperty(re,"snapToLines",d({},ve,{get:function(){return an},set:function(Ln){an=!!Ln,this.hasBeenReset=!0}})),Object.defineProperty(re,"line",d({},ve,{get:function(){return yn},set:function(Ln){if("number"!=typeof Ln&&"auto"!==Ln)throw new SyntaxError("An invalid number or illegal string was specified.");yn=Ln,this.hasBeenReset=!0}})),Object.defineProperty(re,"lineAlign",d({},ve,{get:function(){return Sn},set:function(Ln){const yi=o(Ln);if(!yi)throw new SyntaxError("An invalid or illegal string was specified.");Sn=yi,this.hasBeenReset=!0}})),Object.defineProperty(re,"position",d({},ve,{get:function(){return Un},set:function(Ln){if(Ln<0||Ln>100)throw new Error("Position must be between 0 and 100.");Un=Ln,this.hasBeenReset=!0}})),Object.defineProperty(re,"positionAlign",d({},ve,{get:function(){return On},set:function(Ln){const yi=o(Ln);if(!yi)throw new SyntaxError("An invalid or illegal string was specified.");On=yi,this.hasBeenReset=!0}})),Object.defineProperty(re,"size",d({},ve,{get:function(){return zn},set:function(Ln){if(Ln<0||Ln>100)throw new Error("Size must be between 0 and 100.");zn=Ln,this.hasBeenReset=!0}})),Object.defineProperty(re,"align",d({},ve,{get:function(){return ii},set:function(Ln){const yi=o(Ln);if(!yi)throw new SyntaxError("An invalid or illegal string was specified.");ii=yi,this.hasBeenReset=!0}})),re.displayState=void 0}return m.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},m}();class bP{decode(n,e){if(!n)return"";if("string"!=typeof n)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}function cI(r){function n(i,o,d,m){return 3600*(0|i)+60*(0|o)+(0|d)+parseFloat(m||0)}const e=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return e?parseFloat(e[2])>59?n(e[2],e[3],0,e[4]):n(e[1],e[2],e[3],e[4]):null}class EP{constructor(){this.values=Object.create(null)}set(n,e){!this.get(n)&&""!==e&&(this.values[n]=e)}get(n,e,i){return i?this.has(n)?this.values[n]:e[i]:this.has(n)?this.values[n]:e}has(n){return n in this.values}alt(n,e,i){for(let o=0;o<i.length;++o)if(e===i[o]){this.set(n,e);break}}integer(n,e){/^-?\d+$/.test(e)&&this.set(n,parseInt(e,10))}percent(n,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const i=parseFloat(e);if(i>=0&&i<=100)return this.set(n,i),!0}return!1}}function dI(r,n,e,i){const o=i?r.split(i):[r];for(const d in o){if("string"!=typeof o[d])continue;const m=o[d].split(e);2===m.length&&n(m[0],m[1])}}const vA=new _A(0,0,""),SE="middle"===vA.align?"middle":"center";function TP(r,n,e){const i=r;function o(){const b=cI(r);if(null===b)throw new Error("Malformed timestamp: "+i);return r=r.replace(/^[^\sa-zA-Z-]+/,""),b}function m(){r=r.replace(/^\s+/,"")}if(m(),n.startTime=o(),m(),"--\x3e"!==r.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);r=r.slice(3),m(),n.endTime=o(),m(),function d(b,w){const G=new EP;dI(b,function(qe,Xe){let pt;switch(qe){case"region":for(let St=e.length-1;St>=0;St--)if(e[St].id===Xe){G.set(qe,e[St].region);break}break;case"vertical":G.alt(qe,Xe,["rl","lr"]);break;case"line":pt=Xe.split(","),G.integer(qe,pt[0]),G.percent(qe,pt[0])&&G.set("snapToLines",!1),G.alt(qe,pt[0],["auto"]),2===pt.length&&G.alt("lineAlign",pt[1],["start",SE,"end"]);break;case"position":pt=Xe.split(","),G.percent(qe,pt[0]),2===pt.length&&G.alt("positionAlign",pt[1],["start",SE,"end","line-left","line-right","auto"]);break;case"size":G.percent(qe,Xe);break;case"align":G.alt(qe,Xe,["start",SE,"end","left","right"])}},/:/,/\s/),w.region=G.get("region",null),w.vertical=G.get("vertical","");let re=G.get("line","auto");"auto"===re&&-1===vA.line&&(re=-1),w.line=re,w.lineAlign=G.get("lineAlign","start"),w.snapToLines=G.get("snapToLines",!0),w.size=G.get("size",100),w.align=G.get("align",SE);let ve=G.get("position","auto");"auto"===ve&&50===vA.position&&(ve="start"===w.align||"left"===w.align?0:"end"===w.align||"right"===w.align?100:50),w.position=ve}(r,n)}function uI(r){return r.replace(/<br(?: \/)?>/gi,"\n")}class CP{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new bP,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(n){const e=this;function i(){let d=e.buffer,m=0;for(d=uI(d);m<d.length&&"\r"!==d[m]&&"\n"!==d[m];)++m;const b=d.slice(0,m);return"\r"===d[m]&&++m,"\n"===d[m]&&++m,e.buffer=d.slice(m),b}function o(d){dI(d,function(m,b){},/:/)}n&&(e.buffer+=e.decoder.decode(n,{stream:!0}));try{let d="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;d=i();const b=d.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==b||!b[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let m=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(m?m=!1:d=i(),e.state){case"HEADER":/:/.test(d)?o(d):d||(e.state="ID");continue;case"NOTE":d||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){e.state="NOTE";break}if(!d)continue;if(e.cue=new _A(0,0,""),e.state="CUE",-1===d.indexOf("--\x3e")){e.cue.id=d;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{TP(d,e.cue,e.regionList)}catch{e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const b=-1!==d.indexOf("--\x3e");if(!d||b&&(m=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=d}continue;case"BADCUE":d||(e.state="ID")}}}catch{"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const n=this;try{if((n.cue||"HEADER"===n.state)&&(n.buffer+="\n\n",n.parse()),"INITIAL"===n.state||"BADWEBVTT"===n.state)throw new Error("Malformed WebVTT signature.")}catch(e){n.onparsingerror&&n.onparsingerror(e)}return n.onflush&&n.onflush(),this}}const SP=/\r\n|\n\r|\n|\r/g,yA=function(n,e,i=0){return n.slice(i,i+e.length)===e},bA=function(n){let e=5381,i=n.length;for(;i;)e=33*e^n.charCodeAt(--i);return(e>>>0).toString()};function EA(r,n,e){return bA(r.toString())+bA(n.toString())+bA(e)}const TA="stpp.ttml.im1t",fI=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,hI=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,MP={left:"start",center:"center",right:"end",start:"start",end:"end"};function mI(r,n,e,i){const o=Mr(new Uint8Array(r),["mdat"]);if(0===o.length)return void i(new Error("Could not parse IMSC1 mdat"));const d=o.map(b=>bl(b)),m=function F1(r,n,e=1,i=!1){return aA(r,n,1/e,i)}(n.baseTime,1,n.timescale);try{d.forEach(b=>e(function wP(r,n){const o=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const d={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},m=Object.keys(d).reduce((ve,qe)=>(ve[qe]=o.getAttribute(`ttp:${qe}`)||d[qe],ve),{}),b="preserve"!==o.getAttribute("xml:space"),w=pI(CA(o,"styling","style")),G=pI(CA(o,"layout","region")),re=CA(o,"body","[begin]");return[].map.call(re,ve=>{const qe=gI(ve,b);if(!qe||!ve.hasAttribute("begin"))return null;const Xe=DA(ve.getAttribute("begin"),m),pt=DA(ve.getAttribute("dur"),m);let St=DA(ve.getAttribute("end"),m);if(null===Xe)throw _I(ve);if(null===St){if(null===pt)throw _I(ve);St=Xe+pt}const Ot=new _A(Xe-n,St-n,qe);Ot.id=EA(Ot.startTime,Ot.endTime,Ot.text);const an=function IP(r,n,e){const i="http://www.w3.org/ns/ttml#styling";let o=null;const m=null!=r&&r.hasAttribute("style")?r.getAttribute("style"):null;return m&&e.hasOwnProperty(m)&&(o=e[m]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((b,w)=>{const G=SA(n,i,w)||SA(r,i,w)||SA(o,i,w);return G&&(b[w]=G),b},{})}(G[ve.getAttribute("region")],w[ve.getAttribute("style")],w),{textAlign:yn}=an;if(yn){const Sn=MP[yn];Sn&&(Ot.lineAlign=Sn),Ot.align=yn}return zo(Ot,an),Ot}).filter(ve=>null!==ve)}(b,m)))}catch(b){i(b)}}function CA(r,n,e){const i=r.getElementsByTagName(n)[0];return i?[].slice.call(i.querySelectorAll(e)):[]}function pI(r){return r.reduce((n,e)=>{const i=e.getAttribute("xml:id");return i&&(n[i]=e),n},{})}function gI(r,n){return[].slice.call(r.childNodes).reduce((e,i,o)=>{var d;return"br"===i.nodeName&&o?e+"\n":null!=(d=i.childNodes)&&d.length?gI(i,n):n?e+i.textContent.trim().replace(/\s+/g," "):e+i.textContent},"")}function SA(r,n,e){return r&&r.hasAttributeNS(n,e)?r.getAttributeNS(n,e):null}function _I(r){return new Error(`Could not parse ttml timestamp ${r}`)}function DA(r,n){if(!r)return null;let e=cI(r);return null===e&&(fI.test(r)?e=function PP(r,n){const e=fI.exec(r);return 3600*(0|e[1])+60*(0|e[2])+(0|e[3])+((0|e[4])+(0|e[5])/n.subFrameRate)/n.frameRate}(r,n):hI.test(r)&&(e=function OP(r,n){const e=hI.exec(r),i=Number(e[1]);switch(e[2]){case"h":return 3600*i;case"m":return 60*i;case"ms":return 1e3*i;case"f":return i/n.frameRate;case"t":return i/n.tickRate}return i}(r,n))),e}function NP(r,n){return!!r&&r.label===n.name&&!(r.textTrack1||r.textTrack2)}function LP(r,n,e,i){return Math.min(n,i)-Math.max(r,e)}class xA{constructor(n){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=n,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(n){this.streamController=n}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:n}=this;n.on(Nt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),n.on(Nt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Nt.BUFFER_CODECS,this.onBufferCodecs,this),n.on(Nt.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:n}=this;n.off(Nt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),n.off(Nt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Nt.BUFFER_CODECS,this.onBufferCodecs,this),n.off(Nt.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(n,e){const i=this.hls.levels[e.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(n,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null}onManifestParsed(n,e){const i=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,i.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onBufferCodecs(n,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const n=this.hls.levels;if(n.length){const e=this.hls;e.autoLevelCapping=this.getMaxLevel(n.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(n){const e=this.hls.levels;if(!e.length)return-1;const i=e.filter((o,d)=>this.isLevelAllowed(o)&&d<=n);return this.clientRect=null,xA.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const n=this.media,e={width:0,height:0};if(n){const i=n.getBoundingClientRect();e.width=i.width,e.height=i.height,!e.width&&!e.height&&(e.width=i.right-i.left||n.width||0,e.height=i.bottom-i.top||n.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let n=1;if(!this.hls.config.ignoreDevicePixelRatio)try{n=self.devicePixelRatio}catch{}return n}isLevelAllowed(n){return!this.restrictedLevels.some(i=>n.bitrate===i.bitrate&&n.width===i.width&&n.height===i.height)}static getMaxLevelByMediaSize(n,e,i){if(null==n||!n.length)return-1;const o=(m,b)=>!b||m.width!==b.width||m.height!==b.height;let d=n.length-1;for(let m=0;m<n.length;m+=1){const b=n[m];if((b.width>=e||b.height>=i)&&o(b,n[m+1])){d=m;break}}return d}}const DE="[eme]";let FP=(()=>{class r{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=r.CDMCleanupPromise?[r.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=xn.debug.bind(xn,DE),this.log=xn.log.bind(xn,DE),this.warn=xn.warn.bind(xn,DE),this.error=xn.error.bind(xn,DE),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Nt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Nt.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Nt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Nt.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:i,widevineLicenseUrl:o}=this.config,d=i[e];if(d)return d.licenseUrl;if(e===go.WIDEVINE&&o)return o;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:i}=this.config,o=i[e];if(o)return o.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const i=this.hls.levels,o=(b,w,G)=>!!b&&G.indexOf(b)===w,d=i.map(b=>b.audioCodec).filter(o),m=i.map(b=>b.videoCodec).filter(o);return d.length+m.length===0&&m.push("avc1.42e01e"),new Promise((b,w)=>{const G=re=>{const ve=re.shift();this.getMediaKeysPromise(ve,d,m).then(qe=>b({keySystem:ve,mediaKeys:qe})).catch(qe=>{re.length?G(re):w(qe instanceof ec?qe:new ec({type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_NO_ACCESS,error:qe,fatal:!0},qe.message))})};G(e)})}requestMediaKeySystemAccess(e,i){const{requestMediaKeySystemAccessFunc:o}=this.config;if("function"!=typeof o){let d=`Configured requestMediaKeySystemAccess is not a function ${o}`;return null===qg&&"http:"===self.location.protocol&&(d=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(d))}return o(e,i)}getMediaKeysPromise(e,i,o){const d=function Lb(r,n,e,i){let o;switch(r){case go.FAIRPLAY:o=["cenc","sinf"];break;case go.WIDEVINE:case go.PLAYREADY:o=["cenc"];break;case go.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return function kb(r,n,e,i){return[{initDataTypes:r,persistentState:i.persistentState||"not-allowed",distinctiveIdentifier:i.distinctiveIdentifier||"not-allowed",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:n.map(d=>({contentType:`audio/mp4; codecs="${d}"`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:e.map(d=>({contentType:`video/mp4; codecs="${d}"`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}(o,n,e,i)}(e,i,o,this.config.drmSystemOptions),m=this.keySystemAccessPromises[e];let b=m?.keySystemAccess;if(!b){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(d)}`),b=this.requestMediaKeySystemAccess(e,d);const w=this.keySystemAccessPromises[e]={keySystemAccess:b};return b.catch(G=>{this.log(`Failed to obtain access to key-system "${e}": ${G}`)}),b.then(G=>{this.log(`Access for key-system "${G.keySystem}" obtained`);const re=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),w.mediaKeys=G.createMediaKeys().then(ve=>(this.log(`Media-keys created for "${e}"`),re.then(qe=>qe?this.setMediaKeysServerCertificate(ve,e,qe):ve))),w.mediaKeys.catch(ve=>{this.error(`Failed to create media-keys for "${e}"}: ${ve}`)}),w.mediaKeys})}return b.then(()=>m.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:i,mediaKeys:o}){this.log(`Creating key-system session "${i}" keyId: ${ql_hexDump(e.keyId||[])}`);const d=o.createSession(),m={decryptdata:e,keySystem:i,mediaKeys:o,mediaKeysSession:d,keyStatus:"status-pending"};return this.mediaKeySessions.push(m),m}renewKeySession(e){const i=e.decryptdata;if(i.pssh){const o=this.createMediaKeySessionContext(e),d=this.getKeyIdString(i);this.keyIdToKeySessionPromise[d]=this.generateRequestWithPreferredKeySession(o,"cenc",i.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return ql_hexDump(e.keyId)}updateKeySession(e,i){var o;const d=e.mediaKeysSession;return this.log(`Updating key-session "${d.sessionId}" for keyID ${ql_hexDump((null==(o=e.decryptdata)?void 0:o.keyId)||[])}\n      } (data length: ${i&&i.byteLength})`),d.update(i)}selectKeySystemFormat(e){const i=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((i,o)=>{const d=Om(this.config),m=e.map(Pb).filter(b=>!!b&&-1!==d.indexOf(b));return this.getKeySystemSelectionPromise(m).then(({keySystem:b})=>{const w=Nb(b);w?i(w):o(new Error(`Unable to find format for key-system "${b}"`))}).catch(o)})}loadKey(e){const i=e.keyInfo.decryptdata,o=this.getKeyIdString(i),d=`(keyId: ${o} format: "${i.keyFormat}" method: ${i.method} uri: ${i.uri})`;this.log(`Starting session for key ${d}`);let m=this.keyIdToKeySessionPromise[o];return m||(m=this.keyIdToKeySessionPromise[o]=this.getKeySystemForKeyPromise(i).then(({keySystem:b,mediaKeys:w})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${d}`),this.attemptSetMediaKeys(b,w).then(()=>{this.throwIfDestroyed();const G=this.createMediaKeySessionContext({keySystem:b,mediaKeys:w,decryptdata:i});return this.generateRequestWithPreferredKeySession(G,"cenc",i.pssh,"playlist-key")}))),m.catch(b=>this.handleError(b))),m}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),this.hls.trigger(Nt.ERROR,e instanceof ec?e.data:{type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const i=this.getKeyIdString(e),o=this.keyIdToKeySessionPromise[i];if(!o){const d=Pb(e.keyFormat),m=d?[d]:Om(this.config);return this.attemptKeySystemAccess(m)}return o}getKeySystemSelectionPromise(e){if(e.length||(e=Om(this.config)),0===e.length)throw new ec({type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:i,initData:o}=e;if(this.debug(`"${e.type}" event: init data type: "${i}"`),null===o)return;let d,m;if("sinf"===i&&this.config.drmSystems[go.FAIRPLAY]){const ve=Es(new Uint8Array(o));try{const qe=$g(JSON.parse(ve).sinf),Xe=$a(new Uint8Array(qe));if(!Xe)return;d=Xe.subarray(8,24),m=go.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const ve=function zb(r){if(!(r instanceof ArrayBuffer)||r.byteLength<32)return null;const n={version:0,systemId:"",kids:null,data:null},e=new DataView(r),i=e.getUint32(0);if(r.byteLength!==i&&i>44||1886614376!==e.getUint32(4)||(n.version=e.getUint32(8)>>>24,n.version>1))return null;n.systemId=ql_hexDump(new Uint8Array(r,12,16));const d=e.getUint32(28);if(0===n.version){if(i-32<d)return null;n.data=new Uint8Array(r,32,d)}else if(1===n.version){n.kids=[];for(let m=0;m<d;m++)n.kids.push(new Uint8Array(r,32+16*m,16))}return n}(o);if(null===ve)return;0===ve.version&&"edef8ba979d64acea3c827dcd51d21ed"===ve.systemId&&ve.data&&(d=ve.data.subarray(8,24)),m=function Rb(r){if("edef8ba979d64acea3c827dcd51d21ed"===r)return go.WIDEVINE}(ve.systemId)}if(!m||!d)return;const b=ql_hexDump(d),{keyIdToKeySessionPromise:w,mediaKeySessions:G}=this;let re=w[b];for(let ve=0;ve<G.length;ve++){const qe=G[ve],Xe=qe.decryptdata;if(Xe.pssh||!Xe.keyId)continue;const pt=ql_hexDump(Xe.keyId);if(b===pt||-1!==Xe.uri.replace(/-/g,"").indexOf(b)){re=w[pt],delete w[pt],Xe.pssh=new Uint8Array(o),Xe.keyId=d,re=w[b]=re.then(()=>this.generateRequestWithPreferredKeySession(qe,i,o,"encrypted-event-key-match"));break}}re||(re=w[b]=this.getKeySystemSelectionPromise([m]).then(({keySystem:ve,mediaKeys:qe})=>{var Xe;this.throwIfDestroyed();const pt=new eh("ISO-23001-7",b,null!=(Xe=Nb(ve))?Xe:"");return pt.pssh=new Uint8Array(o),pt.keyId=d,this.attemptSetMediaKeys(ve,qe).then(()=>{this.throwIfDestroyed();const St=this.createMediaKeySessionContext({decryptdata:pt,keySystem:ve,mediaKeys:qe});return this.generateRequestWithPreferredKeySession(St,i,o,"encrypted-event-no-match")})})),re.catch(ve=>this.handleError(ve))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,i){const o=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const d=Promise.all(o).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(i)});return this.setMediaKeysQueue.push(d),d.then(()=>{this.log(`Media-keys set for "${e}"`),o.push(d),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(m=>-1===o.indexOf(m))})}generateRequestWithPreferredKeySession(e,i,o,d){var m,b;const w=null==(m=this.config.drmSystems)||null==(b=m[e.keySystem])?void 0:b.generateRequest;if(w)try{const Xe=w.call(this.hls,i,o,e);if(!Xe)throw new Error("Invalid response from configured generateRequest filter");i=Xe.initDataType,o=e.decryptdata.pssh=Xe.initData?new Uint8Array(Xe.initData):null}catch(Xe){var G;if(this.warn(Xe.message),null!=(G=this.hls)&&G.config.debug)throw Xe}if(null===o)return this.log(`Skipping key-session request for "${d}" (no initData)`),Promise.resolve(e);const re=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${d}": ${re} (init data type: ${i} length: ${o?o.byteLength:null})`);const ve=new fA;e.mediaKeysSession.onmessage=Xe=>{const pt=e.mediaKeysSession;if(!pt)return void ve.emit("error",new Error("invalid state"));const{messageType:St,message:Ot}=Xe;this.log(`"${St}" message event for session "${pt.sessionId}" message size: ${Ot.byteLength}`),"license-request"===St||"license-renewal"===St?this.renewLicense(e,Ot).catch($t=>{this.handleError($t),ve.emit("error",$t)}):"license-release"===St?e.keySystem===go.FAIRPLAY&&(this.updateKeySession(e,Ib("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${St}"`)},e.mediaKeysSession.onkeystatuseschange=Xe=>{if(!e.mediaKeysSession)return void ve.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const St=e.keyStatus;ve.emit("keyStatus",St),"expired"===St&&(this.warn(`${e.keySystem} expired for key ${re}`),this.renewKeySession(e))};const qe=new Promise((Xe,pt)=>{ve.on("error",pt),ve.on("keyStatus",St=>{St.startsWith("usable")?Xe():"output-restricted"===St?pt(new ec({type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===St?pt(new ec({type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${St}"`)):"expired"===St?pt(new Error("key expired while generating request")):this.warn(`unhandled key status change "${St}"`)})});return e.mediaKeysSession.generateRequest(i,o).then(()=>{var Xe;this.log(`Request generated for key-session "${null==(Xe=e.mediaKeysSession)?void 0:Xe.sessionId}" keyId: ${re}`)}).catch(Xe=>{throw new ec({type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_NO_SESSION,error:Xe,fatal:!1},`Error generating key-session request: ${Xe}`)}).then(()=>qe).catch(Xe=>{throw ve.removeAllListeners(),this.removeSession(e),Xe}).then(()=>(ve.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((i,o)=>{this.log(`key status change "${i}" for keyStatuses keyId: ${ql_hexDump("buffer"in o?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o))} session keyId: ${ql_hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=i})}fetchServerCertificate(e){const i=this.config,d=new(0,i.loader)(i),m=this.getServerCertificateUrl(e);return m?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((b,w)=>{const G={responseType:"arraybuffer",url:m},re=i.certLoadPolicy.default;d.load(G,{loadPolicy:re,timeout:re.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Xe,pt,St,Ot)=>{b(Xe.data)},onError:(Xe,pt,St,Ot)=>{w(new ec({type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:St,response:Fa({url:G.url,data:void 0},Xe)},`"${e}" certificate request failed (${m}). Status: ${Xe.code} (${Xe.text})`))},onTimeout:(Xe,pt,St)=>{w(new ec({type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:St,response:{url:G.url,data:void 0}},`"${e}" certificate request timed out (${m})`))},onAbort:(Xe,pt,St)=>{w(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(e,i,o){return new Promise((d,m)=>{e.setServerCertificate(o).then(b=>{this.log(`setServerCertificate ${b?"success":"not supported by CDM"} (${o?.byteLength}) on "${i}"`),d(e)}).catch(b=>{m(new ec({type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:b,fatal:!0},b.message))})})}renewLicense(e,i){return this.requestLicense(e,new Uint8Array(i)).then(o=>this.updateKeySession(e,new Uint8Array(o)).catch(d=>{throw new ec({type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:d,fatal:!0},d.message)}))}setupLicenseXHR(e,i,o,d){const m=this.config.licenseXhrSetup;return m?Promise.resolve().then(()=>{if(!o.decryptdata)throw new Error("Key removed");return m.call(this.hls,e,i,o,d)}).catch(b=>{if(!o.decryptdata)throw b;return e.open("POST",i,!0),m.call(this.hls,e,i,o,d)}).then(b=>(e.readyState||e.open("POST",i,!0),{xhr:e,licenseChallenge:b||d})):(e.open("POST",i,!0),Promise.resolve({xhr:e,licenseChallenge:d}))}requestLicense(e,i){const o=this.config.keyLoadPolicy.default;return new Promise((d,m)=>{const b=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${b}`);const w=new XMLHttpRequest;w.responseType="arraybuffer",w.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return m(new Error("invalid state"));if(4===w.readyState)if(200===w.status){this._requestLicenseFailureCount=0;let G=w.response;this.log(`License received ${G instanceof ArrayBuffer?G.byteLength:G}`);const re=this.config.licenseResponseCallback;if(re)try{G=re.call(this.hls,w,b,e)}catch(ve){this.error(ve)}d(G)}else{const G=o.errorRetry,re=G?G.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>re||w.status>=400&&w.status<500?m(new ec({type:Fi.KEY_SYSTEM_ERROR,details:Gn.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:w,response:{url:b,data:void 0,code:w.status,text:w.statusText}},`License Request XHR failed (${b}). Status: ${w.status} (${w.statusText})`)):(this.warn(`Retrying license request, ${re-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(e,i).then(d,m))}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=w,this.setupLicenseXHR(w,b,e,i).then(({xhr:G,licenseChallenge:re})=>{G.send(re)})})}onMediaAttached(e,i){if(!this.config.emeEnabled)return;const o=i.media;this.media=o,o.addEventListener("encrypted",this.onMediaEncrypted),o.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,i=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},eh.clearKeyUriToKeyIdMap();const o=i.length;r.CDMCleanupPromise=Promise.all(i.map(d=>this.removeSession(d)).concat(e?.setMediaKeys(null).catch(d=>{this.log(`Could not clear media keys: ${d}. media.src: ${e?.src}`)}))).then(()=>{o&&(this.log("finished closing key sessions and clearing media keys"),i.length=0)}).catch(d=>{this.log(`Could not close sessions and clear media keys: ${d}. media.src: ${e?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:i}){if(i&&this.config.emeEnabled&&!this.keyFormatPromise){const o=i.reduce((d,m)=>(-1===d.indexOf(m.keyFormat)&&d.push(m.keyFormat),d),[]);this.log(`Selecting key-system from session-keys ${o.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(o)}}removeSession(e){const{mediaKeysSession:i,licenseXhr:o}=e;if(i){this.log(`Remove licenses and keys and close session ${i.sessionId}`),i.onmessage=null,i.onkeystatuseschange=null,o&&o.readyState!==XMLHttpRequest.DONE&&o.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const d=this.mediaKeySessions.indexOf(e);return d>-1&&this.mediaKeySessions.splice(d,1),i.remove().catch(m=>{this.log(`Could not remove session: ${m}`)}).then(()=>i.close()).catch(m=>{this.log(`Could not close session: ${m}`)})}}}return r.CDMCleanupPromise=void 0,r})();class ec extends Error{constructor(n,e){super(e),this.data=void 0,n.error||(n.error=new Error(e)),this.data=n,n.err=n.error}}class ju{constructor(n){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=o=>{try{this.apply(o,{ot:"m",su:!this.initialized})}catch(d){xn.warn("Could not generate manifest CMCD data.",d)}},this.applyFragmentData=o=>{try{const d=o.frag,m=this.hls.levels[d.level],b=this.getObjectType(d),w={d:1e3*d.duration,ot:b};("v"===b||"a"===b||"av"==b)&&(w.br=m.bitrate/1e3,w.tb=this.getTopBandwidth(b)/1e3,w.bl=this.getBufferLength(b)),this.apply(o,w)}catch(d){xn.warn("Could not generate segment CMCD data.",d)}},this.hls=n;const e=this.config=n.config,{cmcd:i}=e;null!=i&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||ju.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}registerListeners(){const n=this.hls;n.on(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Nt.MEDIA_DETACHED,this.onMediaDetached,this),n.on(Nt.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const n=this.hls;n.off(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Nt.MEDIA_DETACHED,this.onMediaDetached,this),n.off(Nt.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(n,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(n,e){var i,o;this.audioBuffer=null==(i=e.tracks.audio)?void 0:i.buffer,this.videoBuffer=null==(o=e.tracks.video)?void 0:o.buffer}createData(){var n;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(n=this.media)?void 0:n.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(n,e={}){if(zo(e,this.createData()),this.starved&&("i"===e.ot||"v"===e.ot||"av"===e.ot)&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering),this.useHeaders){const o=ju.toHeaders(e);if(!Object.keys(o).length)return;n.headers||(n.headers={}),zo(n.headers,o)}else{const o=ju.toQuery(e);if(!o)return;n.url=ju.appendQueryToUri(n.url,o)}}getObjectType(n){const{type:e}=n;return"subtitle"===e?"tt":"initSegment"===n.sn?"i":"audio"===e?"a":"main"===e?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(n){let i,e=0;const o=this.hls;if("a"===n)i=o.audioTracks;else{const d=o.maxAutoLevel;i=o.levels.slice(0,d>-1?d+1:o.levels.length)}for(const d of i)d.bitrate>e&&(e=d.bitrate);return e>0?e:NaN}getBufferLength(n){const e=this.hls.media,i="a"===n?this.audioBuffer:this.videoBuffer;return i&&e?1e3*uo.bufferInfo(i,e.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:n}=this.config,e=this.applyPlaylistData,i=n||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,m,b){e(d),this.loader.load(d,m,b)}}}createFragmentLoader(){const{fLoader:n}=this.config,e=this.applyFragmentData,i=n||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,m,b){e(d),this.loader.load(d,m,b)}}}static uuid(){const n=URL.createObjectURL(new Blob),e=n.toString();return URL.revokeObjectURL(n),e.slice(e.lastIndexOf("/")+1)}static serialize(n){const e=[],i=G=>!Number.isNaN(G)&&null!=G&&""!==G&&!1!==G,o=G=>Math.round(G),d=G=>100*o(G/100),b={br:o,d:o,bl:d,dl:d,mtp:d,nor:G=>encodeURIComponent(G),rtp:d,tb:o},w=Object.keys(n||{}).sort();for(const G of w){let re=n[G];if(!i(re)||"v"===G&&1===re||"pr"==G&&1===re)continue;const ve=b[G];ve&&(re=ve(re));const qe=typeof re;let Xe;Xe="ot"===G||"sf"===G||"st"===G?`${G}=${re}`:"boolean"===qe?G:"number"===qe?`${G}=${re}`:`${G}=${JSON.stringify(re)}`,e.push(Xe)}return e.join(",")}static toHeaders(n){const e=Object.keys(n),i={},o=["Object","Request","Session","Status"],d=[{},{},{},{}],m={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const b of e)d[null!=m[b]?m[b]:1][b]=n[b];for(let b=0;b<d.length;b++){const w=ju.serialize(d[b]);w&&(i[`CMCD-${o[b]}`]=w)}return i}static toQuery(n){return`CMCD=${encodeURIComponent(ju.serialize(n))}`}static appendQueryToUri(n,e){if(!e)return n;const i=n.includes("?")?"&":"?";return`${n}${i}${e}`}}function yI(r,n,e,i){r&&Object.keys(n).forEach(o=>{const d=r.filter(m=>m.groupId===o).map(m=>{const b=zo({},m);return b.details=void 0,b.attrs=new po(b.attrs),b.url=b.attrs.URI=bI(m.url,m.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",e),b.groupId=b.attrs["GROUP-ID"]=n[o],b.attrs["PATHWAY-ID"]=i,b});r.push(...d)})}function bI(r,n,e,i){const{HOST:o,PARAMS:d,[e]:m}=i;let b;n&&(b=m?.[n],b&&(r=b));const w=new self.URL(r);return o&&!b&&(w.host=o),d&&Object.keys(d).sort().forEach(G=>{G&&w.searchParams.set(G,d[G])}),w.href}const GP=/^age:\s*[\d.]+\s*$/im;class EI{constructor(n){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=n&&n.xhrSetup||null,this.stats=new Im,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const n=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),n&&(n.onreadystatechange=null,n.onprogress=null,4!==n.readyState&&(this.stats.aborted=!0,n.abort()))}abort(){var n;this.abortInternal(),null!=(n=this.callbacks)&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(n,e,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=n,this.config=e,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:n,context:e}=this;if(!n)return;const i=this.loader=new self.XMLHttpRequest,o=this.stats;o.loading.first=0,o.loaded=0,o.aborted=!1;const d=this.xhrSetup;d?Promise.resolve().then(()=>{if(!this.stats.aborted)return d(i,e.url)}).catch(m=>(i.open("GET",e.url,!0),d(i,e.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(i,e,n)}).catch(m=>{this.callbacks.onError({code:i.status,text:m.message},e,i,o)}):this.openAndSendXhr(i,e,n)}openAndSendXhr(n,e,i){n.readyState||n.open("GET",e.url,!0);const o=this.context.headers,{maxTimeToFirstByteMs:d,maxLoadTimeMs:m}=i.loadPolicy;if(o)for(const b in o)n.setRequestHeader(b,o[b]);e.rangeEnd&&n.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=e.responseType,self.clearTimeout(this.requestTimeout),i.timeout=d&&Ri(d)?d:m,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),n.send()}readystatechange(){const{context:n,loader:e,stats:i}=this;if(!n||!e)return;const o=e.readyState,d=this.config;if(!i.aborted&&o>=2&&(0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),d.timeout!==d.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),d.timeout=d.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),d.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),4===o)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const m=e.status,b="text"!==e.responseType;if(m>=200&&m<300&&(b&&e.response||null!==e.responseText)){i.loading.end=Math.max(self.performance.now(),i.loading.first);const w=b?e.response:e.responseText;if(i.loaded=i.total="arraybuffer"===e.responseType?w.byteLength:w.length,i.bwEstimate=8e3*i.total/(i.loading.end-i.loading.first),!this.callbacks)return;const re=this.callbacks.onProgress;if(re&&re(i,n,w,e),!this.callbacks)return;this.callbacks.onSuccess({url:e.responseURL,data:w,code:m},i,n,e)}else{const w=d.loadPolicy.errorRetry;Km(w,i.retry,!1,m)?this.retry(w):(xn.error(`${m} while loading ${n.url}`),this.callbacks.onError({code:m,text:e.statusText},n,e,i))}}}loadtimeout(){var n;const e=null==(n=this.config)?void 0:n.loadPolicy.timeoutRetry;if(Km(e,this.stats.retry,!0))this.retry(e);else{xn.warn(`timeout while loading ${this.context.url}`);const o=this.callbacks;o&&(this.abortInternal(),o.onTimeout(this.stats,this.context,this.loader))}}retry(n){const{context:e,stats:i}=this;this.retryDelay=Hm(n,i.retry),i.retry++,xn.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${e.url}, retrying ${i.retry}/${n.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(n){const e=this.stats;e.loaded=n.loaded,n.lengthComputable&&(e.total=n.total)}getCacheAge(){let n=null;if(this.loader&&GP.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");n=e?parseFloat(e):null}return n}getResponseHeader(n){return this.loader&&new RegExp(`^${n}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(n):null}}const KP=/(\d+)-(\d+)\/(\d+)/;class TI{constructor(n){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=n.fetchSetup||ZP,this.controller=new self.AbortController,this.stats=new Im}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const n=this.response;null!=n&&n.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var n;this.abortInternal(),null!=(n=this.callbacks)&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(n,e,i){const o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();const d=function YP(r,n){const e={method:"GET",mode:"cors",credentials:"same-origin",signal:n,headers:new self.Headers(zo({},r.headers))};return r.rangeEnd&&e.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),e}(n,this.controller.signal),m=i.onProgress,b="arraybuffer"===n.responseType,w=b?"byteLength":"length",{maxTimeToFirstByteMs:G,maxLoadTimeMs:re}=e.loadPolicy;this.context=n,this.config=e,this.callbacks=i,this.request=this.fetchSetup(n,d),self.clearTimeout(this.requestTimeout),e.timeout=G&&Ri(G)?G:re,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,n,this.response)},e.timeout),self.fetch(this.request).then(ve=>{this.response=this.loader=ve;const qe=Math.max(self.performance.now(),o.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=re,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,n,this.response)},re-(qe-o.loading.start)),!ve.ok){const{status:Xe,statusText:pt}=ve;throw new $P(pt||"fetch, bad network response",Xe,ve)}return o.loading.first=qe,o.total=function zP(r){const n=r.get("Content-Range");if(n){const i=function WP(r){const n=KP.exec(r);if(n)return parseInt(n[2])-parseInt(n[1])+1}(n);if(Ri(i))return i}const e=r.get("Content-Length");if(e)return parseInt(e)}(ve.headers)||o.total,m&&Ri(e.highWaterMark)?this.loadProgressively(ve,o,n,e.highWaterMark,m):b?ve.arrayBuffer():"json"===n.responseType?ve.json():ve.text()}).then(ve=>{const{response:qe}=this;self.clearTimeout(this.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);const Xe=ve[w];Xe&&(o.loaded=o.total=Xe);const pt={url:qe.url,data:ve,code:qe.status};m&&!Ri(e.highWaterMark)&&m(o,n,ve,qe),i.onSuccess(pt,o,n,qe)}).catch(ve=>{self.clearTimeout(this.requestTimeout),o.aborted||i.onError({code:ve&&ve.code||0,text:ve?ve.message:null},n,ve?ve.details:null,o)})}getCacheAge(){let n=null;if(this.response){const e=this.response.headers.get("age");n=e?parseFloat(e):null}return n}getResponseHeader(n){return this.response?this.response.headers.get(n):null}loadProgressively(n,e,i,o=0,d){const m=new qw,b=n.body.getReader(),w=()=>b.read().then(G=>{if(G.done)return m.dataLength&&d(e,i,m.flush(),n),Promise.resolve(new ArrayBuffer(0));const re=G.value,ve=re.length;return e.loaded+=ve,ve<o||m.dataLength?(m.push(re),m.dataLength>=o&&d(e,i,m.flush(),n)):d(e,i,re,n),w()}).catch(()=>Promise.reject());return w()}}function ZP(r,n){return new self.Request(r.url,n)}class $P extends Error{constructor(n,e,i){super(n),this.code=void 0,this.details=void 0,this.code=e,this.details=i}}const qP=/\s/,JP={newCue(r,n,e,i){const o=[];let d,m,b,w,G;const re=self.VTTCue||self.TextTrackCue;for(let qe=0;qe<i.rows.length;qe++)if(d=i.rows[qe],b=!0,w=0,G="",!d.isEmpty()){var ve;for(let St=0;St<d.chars.length;St++)qP.test(d.chars[St].uchar)&&b?w++:(G+=d.chars[St].uchar,b=!1);d.cueStartTime=n,n===e&&(e+=1e-4),w>=16?w--:w++;const Xe=uI(G.trim()),pt=EA(n,e,Xe);null!=r&&null!=(ve=r.cues)&&ve.getCueById(pt)||(m=new re(n,e,Xe),m.id=pt,m.line=qe+1,m.align="left",m.position=10+Math.min(80,10*Math.floor(8*w/32)),o.push(m))}return r&&o.length&&(o.sort((qe,Xe)=>"auto"===qe.line||"auto"===Xe.line?0:qe.line>8&&Xe.line>8?Xe.line-qe.line:qe.line-Xe.line),o.forEach(qe=>Gx(r,qe))),o}},XP=Fa(Fa({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:EI,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class nP{constructor(n){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=n;const e=n.config;this.bwEstimator=new tP(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:n}=this;n.on(Nt.FRAG_LOADING,this.onFragLoading,this),n.on(Nt.FRAG_LOADED,this.onFragLoaded,this),n.on(Nt.FRAG_BUFFERED,this.onFragBuffered,this),n.on(Nt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Nt.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:n}=this;n.off(Nt.FRAG_LOADING,this.onFragLoading,this),n.off(Nt.FRAG_LOADED,this.onFragLoaded,this),n.off(Nt.FRAG_BUFFERED,this.onFragBuffered,this),n.off(Nt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Nt.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(n,e){var i;const o=e.frag;this.ignoreFragment(o)||(this.fragCurrent=o,this.partCurrent=null!=(i=e.part)?i:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(n,e){this.clearTimer()}getTimeToLoadFrag(n,e,i,o){return n+i/e+(o?this.lastLevelLoadSec:0)}onLevelLoaded(n,e){const i=this.hls.config,{total:o,bwEstimate:d}=e.stats;Ri(o)&&Ri(d)&&(this.lastLevelLoadSec=8*o/d),e.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:n,partCurrent:e,hls:i}=this,{autoLevelEnabled:o,media:d}=i;if(!n||!d)return;const m=performance.now(),b=e?e.stats:n.stats,w=e?e.duration:n.duration,G=m-b.loading.start;if(b.aborted||b.loaded&&b.loaded===b.total||0===n.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!o||d.paused||!d.playbackRate||!d.readyState)return;const re=i.mainForwardBufferInfo;if(null===re)return;const ve=this.bwEstimator.getEstimateTTFB(),qe=Math.abs(d.playbackRate);if(G<=Math.max(ve,w/(2*qe)*1e3))return;const Xe=re.len/qe;if(Xe>=2*w/qe)return;const pt=b.loading.first?b.loading.first-b.loading.start:-1,St=b.loaded&&pt>-1,Ot=this.bwEstimator.getEstimate(),{levels:$t,minAutoLevel:fn}=i,yn=b.total||Math.max(b.loaded,Math.round(w*$t[n.level].maxBitrate/8));let Sn=G-pt;Sn<1&&St&&(Sn=Math.min(G,8*b.loaded/Ot));const Un=St?1e3*b.loaded/Sn:0,On=Un?(yn-b.loaded)/Un:8*yn/Ot+ve/1e3;if(On<=Xe)return;const zn=Un?8*Un:Ot;let Ln,ii=Number.POSITIVE_INFINITY;for(Ln=n.level-1;Ln>fn&&(ii=this.getTimeToLoadFrag(ve/1e3,zn,w*$t[Ln].maxBitrate,!$t[Ln].details),!(ii<Xe));Ln--);ii>=On||ii>10*w||(i.nextLoadLevel=Ln,St?this.bwEstimator.sample(G-Math.min(ve,pt),b.loaded):this.bwEstimator.sampleTTFB(G),this.clearTimer(),xn.warn(`[abr] Fragment ${n.sn}${e?" part "+e.index:""} of level ${n.level} is loading too slowly;\n      Time to underbuffer: ${Xe.toFixed(3)} s\n      Estimated load time for current fragment: ${On.toFixed(3)} s\n      Estimated load time for down switch fragment: ${ii.toFixed(3)} s\n      TTFB estimate: ${pt}\n      Current BW estimate: ${Ri(Ot)?(Ot/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${Ln}`),n.loader&&(this.fragCurrent=this.partCurrent=null,n.abortRequests()),i.trigger(Nt.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:e,stats:b}))}onFragLoaded(n,{frag:e,part:i}){const o=i?i.stats:e.stats;if("main"===e.type&&this.bwEstimator.sampleTTFB(o.loading.first-o.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const m=this.hls.levels[e.level],b=(m.loaded?m.loaded.bytes:0)+o.loaded,w=(m.loaded?m.loaded.duration:0)+(i?i.duration:e.duration);m.loaded={bytes:b,duration:w},m.realBitrate=Math.round(8*b/w)}e.bitrateTest&&(this.onFragBuffered(Nt.FRAG_BUFFERED,{stats:o,frag:e,part:i,id:e.type}),e.bitrateTest=!1)}}onFragBuffered(n,e){const{frag:i,part:o}=e,d=null!=o&&o.stats.loaded?o.stats:i.stats;if(d.aborted||this.ignoreFragment(i))return;const m=d.parsing.end-d.loading.start-Math.min(d.loading.first-d.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(m,d.loaded),d.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=i.bitrateTest?m/1e3:0}ignoreFragment(n){return"main"!==n.type||"initSegment"===n.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const n=this._nextAutoLevel;if(-1!==n&&!this.bwEstimator.canEstimate())return n;let i=this.getNextABRAutoLevel();if(-1!==n){const o=this.hls.levels;if(o.length>Math.max(n,i)&&o[n].loadError<=o[i].loadError)return n}return-1!==n&&(i=Math.min(n,i)),i}getNextABRAutoLevel(){const{fragCurrent:n,partCurrent:e,hls:i}=this,{maxAutoLevel:o,config:d,minAutoLevel:m,media:b}=i,w=e?e.duration:n?n.duration:0,G=b&&0!==b.playbackRate?Math.abs(b.playbackRate):1,re=this.bwEstimator?this.bwEstimator.getEstimate():d.abrEwmaDefaultEstimate,ve=i.mainForwardBufferInfo,qe=(ve?ve.len:0)/G;let Xe=this.findBestLevel(re,m,o,qe,d.abrBandWidthFactor,d.abrBandWidthUpFactor);if(Xe>=0)return Xe;xn.trace(`[abr] ${qe?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let pt=w?Math.min(w,d.maxStarvationDelay):d.maxStarvationDelay,St=d.abrBandWidthFactor,Ot=d.abrBandWidthUpFactor;if(!qe){const $t=this.bitrateTestDelay;$t&&(pt=(w?Math.min(w,d.maxLoadingDelay):d.maxLoadingDelay)-$t,xn.trace(`[abr] bitrate test took ${Math.round(1e3*$t)}ms, set first fragment max fetchDuration to ${Math.round(1e3*pt)} ms`),St=Ot=1)}return Xe=this.findBestLevel(re,m,o,qe+pt,St,Ot),Math.max(Xe,0)}findBestLevel(n,e,i,o,d,m){var b;const{fragCurrent:w,partCurrent:G,lastLoadedFragLevel:re}=this,{levels:ve}=this.hls,qe=ve[re],Xe=!(null==qe||null==(b=qe.details)||!b.live),pt=qe?.codecSet,St=G?G.duration:w?w.duration:0,Ot=this.bwEstimator.getEstimateTTFB()/1e3;let $t=e,fn=-1;for(let an=i;an>=e;an--){const yn=ve[an];if(!yn||pt&&yn.codecSet!==pt){yn&&($t=Math.min(an,$t),fn=Math.max(an,fn));continue}-1!==fn&&xn.trace(`[abr] Skipped level(s) ${$t}-${fn} with CODECS:"${ve[fn].attrs.CODECS}"; not compatible with "${qe.attrs.CODECS}"`);const Sn=yn.details,Un=(G?Sn?.partTarget:Sn?.averagetargetduration)||St;let On;On=an<=re?d*n:m*n;const zn=ve[an].maxBitrate,ii=this.getTimeToLoadFrag(Ot,On,zn*Un,void 0===Sn);if(xn.trace(`[abr] level:${an} adjustedbw-bitrate:${Math.round(On-zn)} avgDuration:${Un.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${ii.toFixed(1)}`),On>zn&&(0===ii||!Ri(ii)||Xe&&!this.bitrateTestDelay||ii<o))return an}return-1}set nextAutoLevel(n){this._nextAutoLevel=n}},bufferController:class uP{constructor(n){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:e,mediaSource:i}=this;xn.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(Nt.MEDIA_ATTACHED,{media:e})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{xn.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{xn.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:e,_objectUrl:i}=this;e&&e.src!==i&&xn.error(`Media element src was set while attaching MediaSource (${i} > ${e.src})`)},this.hls=n,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:n}=this;n.on(Nt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Nt.BUFFER_RESET,this.onBufferReset,this),n.on(Nt.BUFFER_APPENDING,this.onBufferAppending,this),n.on(Nt.BUFFER_CODECS,this.onBufferCodecs,this),n.on(Nt.BUFFER_EOS,this.onBufferEos,this),n.on(Nt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Nt.LEVEL_UPDATED,this.onLevelUpdated,this),n.on(Nt.FRAG_PARSED,this.onFragParsed,this),n.on(Nt.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:n}=this;n.off(Nt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Nt.BUFFER_RESET,this.onBufferReset,this),n.off(Nt.BUFFER_APPENDING,this.onBufferAppending,this),n.off(Nt.BUFFER_CODECS,this.onBufferCodecs,this),n.off(Nt.BUFFER_EOS,this.onBufferEos,this),n.off(Nt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Nt.LEVEL_UPDATED,this.onLevelUpdated,this),n.off(Nt.FRAG_PARSED,this.onFragParsed,this),n.off(Nt.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new dP(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(n,e){let i=2;(e.audio&&!e.video||!e.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,xn.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(n,e){const i=this.media=e.media;if(i&&eI){const o=this.mediaSource=new eI;o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),i.src=self.URL.createObjectURL(o),this._objectUrl=i.src,i.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:n,mediaSource:e,_objectUrl:i}=this;if(e){if(xn.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(o){xn.warn(`[buffer-controller]: onMediaDetaching: ${o.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),n&&(n.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),n.src===i?(n.removeAttribute("src"),n.load()):xn.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Nt.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(n=>{const e=this.sourceBuffer[n];try{e&&(this.removeBufferListeners(n),this.mediaSource&&this.mediaSource.removeSourceBuffer(e),this.sourceBuffer[n]=void 0)}catch(i){xn.warn(`[buffer-controller]: Failed to reset the ${n} buffer`,i)}}),this._initSourceBuffer()}onBufferCodecs(n,e){const i=this.getSourceBufferTypes().length;Object.keys(e).forEach(o=>{if(i){const d=this.tracks[o];if(d&&"function"==typeof d.buffer.changeType){const{id:m,codec:b,levelCodec:w,container:G,metadata:re}=e[o],ve=(d.levelCodec||d.codec).replace(tI,"$1"),qe=(w||b).replace(tI,"$1");ve!==qe&&(this.appendChangeType(o,`${G};codecs=${w||b}`),xn.log(`[buffer-controller]: switching codec ${ve} to ${qe}`),this.tracks[o]={buffer:d.buffer,codec:b,container:G,levelCodec:w,metadata:re,id:m})}}else this.pendingTracks[o]=e[o]}),!i&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(n,e){const{operationQueue:i}=this,o={execute:()=>{const d=this.sourceBuffer[n];d&&(xn.log(`[buffer-controller]: changing ${n} sourceBuffer type to ${e}`),d.changeType(e)),i.shiftAndExecuteNext(n)},onStart:()=>{},onComplete:()=>{},onError:d=>{xn.warn(`[buffer-controller]: Failed to change ${n} SourceBuffer type`,d)}};i.append(o,n)}onBufferAppending(n,e){const{hls:i,operationQueue:o,tracks:d}=this,{data:m,type:b,frag:w,part:G,chunkMeta:re}=e,ve=re.buffering[b],qe=self.performance.now();ve.start=qe;const Xe=w.stats.buffering,pt=G?G.stats.buffering:null;0===Xe.start&&(Xe.start=qe),pt&&0===pt.start&&(pt.start=qe);const St=d.audio;let Ot=!1;"audio"===b&&"audio/mpeg"===St?.container&&(Ot=!this.lastMpegAudioChunk||1===re.id||this.lastMpegAudioChunk.sn!==re.sn,this.lastMpegAudioChunk=re);const $t=w.start;o.append({execute:()=>{if(ve.executeStart=self.performance.now(),Ot){const an=this.sourceBuffer[b];if(an){const yn=$t-an.timestampOffset;Math.abs(yn)>=.1&&(xn.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${$t} (delta: ${yn}) sn: ${w.sn})`),an.timestampOffset=$t)}}this.appendExecutor(m,b)},onStart:()=>{},onComplete:()=>{const an=self.performance.now();ve.executeEnd=ve.end=an,0===Xe.first&&(Xe.first=an),pt&&0===pt.first&&(pt.first=an);const{sourceBuffer:yn}=this,Sn={};for(const Un in yn)Sn[Un]=uo.getBuffered(yn[Un]);this.appendError=0,this.hls.trigger(Nt.BUFFER_APPENDED,{type:b,frag:w,part:G,chunkMeta:re,parent:w.type,timeRanges:Sn})},onError:an=>{xn.error(`[buffer-controller]: Error encountered while trying to append to the ${b} SourceBuffer`,an);const yn={type:Fi.MEDIA_ERROR,parent:w.type,details:Gn.BUFFER_APPEND_ERROR,frag:w,part:G,chunkMeta:re,error:an,err:an,fatal:!1};an.code===DOMException.QUOTA_EXCEEDED_ERR?yn.details=Gn.BUFFER_FULL_ERROR:(this.appendError++,yn.details=Gn.BUFFER_APPEND_ERROR,this.appendError>i.config.appendErrorMaxRetry&&(xn.error(`[buffer-controller]: Failed ${i.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),yn.fatal=!0)),i.trigger(Nt.ERROR,yn)}},b)}onBufferFlushing(n,e){const{operationQueue:i}=this,o=d=>({execute:this.removeExecutor.bind(this,d,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(Nt.BUFFER_FLUSHED,{type:d})},onError:m=>{xn.warn(`[buffer-controller]: Failed to remove from ${d} SourceBuffer`,m)}});e.type?i.append(o(e.type),e.type):this.getSourceBufferTypes().forEach(d=>{i.append(o(d),d)})}onFragParsed(n,e){const{frag:i,part:o}=e,d=[],m=o?o.elementaryStreams:i.elementaryStreams;m.audiovideo?d.push("audiovideo"):(m.audio&&d.push("audio"),m.video&&d.push("video")),0===d.length&&xn.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(()=>{const w=self.performance.now();i.stats.buffering.end=w,o&&(o.stats.buffering.end=w),this.hls.trigger(Nt.FRAG_BUFFERED,{frag:i,part:o,stats:o?o.stats:i.stats,id:i.type})},d)}onFragChanged(n,e){this.flushBackBuffer()}onBufferEos(n,e){this.getSourceBufferTypes().reduce((o,d)=>{const m=this.sourceBuffer[d];return m&&(!e.type||e.type===d)&&(m.ending=!0,m.ended||(m.ended=!0,xn.log(`[buffer-controller]: ${d} sourceBuffer now EOS`))),o&&!(m&&!m.ended)},!0)&&(xn.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(d=>{const m=this.sourceBuffer[d];m&&(m.ending=!1)});const{mediaSource:o}=this;o&&"open"===o.readyState?(xn.log("[buffer-controller]: Calling mediaSource.endOfStream()"),o.endOfStream()):o&&xn.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`)}))}onLevelUpdated(n,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:n,details:e,media:i,sourceBuffer:o}=this;if(!i||null===e)return;const d=this.getSourceBufferTypes();if(!d.length)return;const m=e.live&&null!==n.config.liveBackBufferLength?n.config.liveBackBufferLength:n.config.backBufferLength;if(!Ri(m)||m<0)return;const b=i.currentTime,w=e.levelTargetDuration,G=Math.max(m,w),re=Math.floor(b/w)*w-G;d.forEach(ve=>{const qe=o[ve];if(qe){const Xe=uo.getBuffered(qe);if(Xe.length>0&&re>Xe.start(0)){if(n.trigger(Nt.BACK_BUFFER_REACHED,{bufferEnd:re}),e.live)n.trigger(Nt.LIVE_BACK_BUFFER_REACHED,{bufferEnd:re});else if(qe.ended&&Xe.end(Xe.length-1)-b<2*w)return void xn.info(`[buffer-controller]: Cannot flush ${ve} back buffer while SourceBuffer is in ended state`);n.trigger(Nt.BUFFER_FLUSHING,{startOffset:0,endOffset:re,type:ve})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:n,hls:e,media:i,mediaSource:o}=this,d=n.fragments[0].start+n.totalduration,m=i.duration,b=Ri(o.duration)?o.duration:0;n.live&&e.config.liveDurationInfinity?(xn.log("[buffer-controller]: Media Source duration is set to Infinity"),o.duration=1/0,this.updateSeekableRange(n)):(d>b&&d>m||!Ri(m))&&(xn.log(`[buffer-controller]: Updating Media Source duration to ${d.toFixed(3)}`),o.duration=d)}updateSeekableRange(n){const e=this.mediaSource,i=n.fragments;if(i.length&&n.live&&null!=e&&e.setLiveSeekableRange){const d=Math.max(0,i[0].start),m=Math.max(d,d+n.totalduration);e.setLiveSeekableRange(d,m)}}checkPendingTracks(){const{bufferCodecEventsExpected:n,operationQueue:e,pendingTracks:i}=this,o=Object.keys(i).length;if(o&&!n||2===o){this.createSourceBuffers(i),this.pendingTracks={};const d=this.getSourceBufferTypes();if(d.length)this.hls.trigger(Nt.BUFFER_CREATED,{tracks:this.tracks}),d.forEach(m=>{e.executeNext(m)});else{const m=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:m,reason:m.message})}}}createSourceBuffers(n){const{sourceBuffer:e,mediaSource:i}=this;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(const o in n)if(!e[o]){const d=n[o];if(!d)throw Error(`source buffer exists for track ${o}, however track does not`);const m=d.levelCodec||d.codec,b=`${d.container};codecs=${m}`;xn.log(`[buffer-controller]: creating sourceBuffer(${b})`);try{const w=e[o]=i.addSourceBuffer(b),G=o;this.addBufferListener(G,"updatestart",this._onSBUpdateStart),this.addBufferListener(G,"updateend",this._onSBUpdateEnd),this.addBufferListener(G,"error",this._onSBUpdateError),this.tracks[o]={buffer:w,codec:m,container:d.container,levelCodec:d.levelCodec,metadata:d.metadata,id:d.id}}catch(w){xn.error(`[buffer-controller]: error while trying to add sourceBuffer: ${w.message}`),this.hls.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:w,mimeType:b})}}}_onSBUpdateStart(n){const{operationQueue:e}=this;e.current(n).onStart()}_onSBUpdateEnd(n){const{operationQueue:e}=this;e.current(n).onComplete(),e.shiftAndExecuteNext(n)}_onSBUpdateError(n,e){const i=new Error(`${n} SourceBuffer error`);xn.error(`[buffer-controller]: ${i}`,e),this.hls.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.BUFFER_APPENDING_ERROR,error:i,fatal:!1});const o=this.operationQueue.current(n);o&&o.onError(e)}removeExecutor(n,e,i){const{media:o,mediaSource:d,operationQueue:m,sourceBuffer:b}=this,w=b[n];if(!o||!d||!w)return xn.warn(`[buffer-controller]: Attempting to remove from the ${n} SourceBuffer, but it does not exist`),void m.shiftAndExecuteNext(n);const G=Ri(o.duration)?o.duration:1/0,re=Ri(d.duration)?d.duration:1/0,ve=Math.max(0,e),qe=Math.min(i,G,re);qe>ve&&!w.ending?(w.ended=!1,xn.log(`[buffer-controller]: Removing [${ve},${qe}] from the ${n} SourceBuffer`),w.remove(ve,qe)):m.shiftAndExecuteNext(n)}appendExecutor(n,e){const{operationQueue:i,sourceBuffer:o}=this,d=o[e];if(!d)return xn.warn(`[buffer-controller]: Attempting to append to the ${e} SourceBuffer, but it does not exist`),void i.shiftAndExecuteNext(e);d.ended=!1,d.appendBuffer(n)}blockBuffers(n,e=this.getSourceBufferTypes()){if(!e.length)return xn.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(n);const{operationQueue:i}=this,o=e.map(d=>i.appendBlocker(d));Promise.all(o).then(()=>{n(),e.forEach(d=>{const m=this.sourceBuffer[d];null!=m&&m.updating||i.shiftAndExecuteNext(d)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(n,e,i){const o=this.sourceBuffer[n];if(!o)return;const d=i.bind(this,n);this.listeners[n].push({event:e,listener:d}),o.addEventListener(e,d)}removeBufferListeners(n){const e=this.sourceBuffer[n];e&&this.listeners[n].forEach(i=>{e.removeEventListener(i.event,i.listener)})}},capLevelController:xA,errorController:class fE{constructor(n){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=n,this.log=xn.log.bind(xn,"[info]:"),this.warn=xn.warn.bind(xn,"[warning]:"),this.error=xn.error.bind(xn,"[error]:"),this.registerListeners()}registerListeners(){const n=this.hls;n.on(Nt.ERROR,this.onError,this),n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const n=this.hls;n&&(n.off(Nt.ERROR,this.onError,this),n.off(Nt.ERROR,this.onErrorOut,this),n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(n){this.playlistError=0}stopLoad(){}getVariantLevelIndex(n){return"main"===n?.type?n.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(n,e){var i,o;if(e.fatal)return;const d=this.hls,m=e.context;switch(e.details){case Gn.FRAG_LOAD_ERROR:case Gn.FRAG_LOAD_TIMEOUT:case Gn.KEY_LOAD_ERROR:case Gn.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case Gn.FRAG_PARSING_ERROR:if(null!=(i=e.frag)&&i.gap)return void(e.errorAction={action:0,flags:0});case Gn.FRAG_GAP:case Gn.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=2);case Gn.LEVEL_EMPTY_ERROR:case Gn.LEVEL_PARSING_ERROR:{var b,w;const G="main"===e.parent?e.level:d.loadLevel;e.details===Gn.LEVEL_EMPTY_ERROR&&null!=(b=e.context)&&null!=(w=b.levelDetails)&&w.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,G):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,G))}return;case Gn.LEVEL_LOAD_ERROR:case Gn.LEVEL_LOAD_TIMEOUT:return void("number"==typeof m?.level&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,m.level)));case Gn.AUDIO_TRACK_LOAD_ERROR:case Gn.AUDIO_TRACK_LOAD_TIMEOUT:case Gn.SUBTITLE_LOAD_ERROR:case Gn.SUBTITLE_TRACK_LOAD_TIMEOUT:if(m){const G=d.levels[d.loadLevel];if(G&&("audioTrack"===m.type&&m.groupId===G.audioGroupId||"subtitleTrack"===m.type&&m.groupId===G.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,d.loadLevel),e.errorAction.action=2,void(e.errorAction.flags=1)}return;case Gn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const G=d.levels[d.loadLevel],re=G?.attrs["HDCP-LEVEL"];re&&(e.errorAction={action:2,flags:2,hdcpLevel:re})}return;case Gn.BUFFER_ADD_CODEC_ERROR:case Gn.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(o=e.level)?o:d.loadLevel));case Gn.INTERNAL_EXCEPTION:case Gn.BUFFER_APPENDING_ERROR:case Gn.BUFFER_APPEND_ERROR:case Gn.BUFFER_FULL_ERROR:case Gn.LEVEL_SWITCH_ERROR:case Gn.BUFFER_STALLED_ERROR:case Gn.BUFFER_SEEK_OVER_HOLE:case Gn.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:0,flags:0})}if(e.type===Fi.KEY_SYSTEM_ERROR){const G=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,G))}}getPlaylistRetryOrSwitchAction(n,e){var i;const d=zx(this.hls.config.playlistLoadPolicy,n),m=this.playlistError++,b=null==(i=n.response)?void 0:i.code;if(Km(d,m,T_(n),b))return{action:5,flags:0,retryConfig:d,retryCount:m};const G=this.getLevelSwitchAction(n,e);return d&&(G.retryConfig=d,G.retryCount=m),G}getFragRetryOrSwitchAction(n){const e=this.hls,i=this.getVariantLevelIndex(n.frag),o=e.levels[i],{fragLoadPolicy:d,keyLoadPolicy:m}=e.config,b=zx(n.details.startsWith("key")?m:d,n),w=e.levels.reduce((ve,qe)=>ve+qe.fragmentError,0);if(o){var G;n.details!==Gn.FRAG_GAP&&o.fragmentError++;const ve=null==(G=n.response)?void 0:G.code;if(Km(b,w,T_(n),ve))return{action:5,flags:0,retryConfig:b,retryCount:w}}const re=this.getLevelSwitchAction(n,i);return b&&(re.retryConfig=b,re.retryCount=w),re}getLevelSwitchAction(n,e){const i=this.hls;null==e&&(e=i.loadLevel);const o=this.hls.levels[e];if(o&&(o.loadError++,i.autoLevelEnabled)){var d,m;let b=-1;const{levels:w,loadLevel:G,minAutoLevel:re,maxAutoLevel:ve}=i,qe=null==(d=n.frag)?void 0:d.type,{type:Xe,groupId:pt}=null!=(m=n.context)?m:{};for(let St=w.length;St--;){const Ot=(St+G)%w.length;if(Ot!==G&&Ot>=re&&Ot<=ve&&0===w[Ot].loadError){const $t=w[Ot];if(n.details===Gn.FRAG_GAP&&n.frag){const fn=w[Ot].details;if(fn){const an=Fu(n.frag,fn.fragments,n.frag.start);if(null!=an&&an.gap)continue}}else{if("audioTrack"===Xe&&pt===$t.audioGroupId||"subtitleTrack"===Xe&&pt===$t.textGroupId)continue;if("audio"===qe&&o.audioGroupId===$t.audioGroupId||"subtitle"===qe&&o.textGroupId===$t.textGroupId)continue}b=Ot;break}}if(b>-1&&i.loadLevel!==b)return n.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:b}}return{action:2,flags:1}}onErrorOut(n,e){var i;switch(null==(i=e.errorAction)?void 0:i.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(e),!e.errorAction.resolved&&e.details!==Gn.FRAG_GAP&&(e.fatal=!0)}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(n){const e=this.hls,i=n.errorAction;if(!i)return;const{flags:o,hdcpLevel:d,nextAutoLevel:m}=i;switch(o){case 0:this.switchLevel(n,m);break;case 1:i.resolved||(i.resolved=this.redundantFailover(n));break;case 2:d&&(e.maxHdcpLevel=iE[iE.indexOf(d)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}i.resolved||this.switchLevel(n,m)}switchLevel(n,e){void 0!==e&&n.errorAction&&(this.warn(`switching to level ${e} after ${n.details}`),this.hls.nextAutoLevel=e,n.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(n){const{hls:e,penalizedRenditions:i}=this,o="main"===n.parent?n.level:e.loadLevel,d=e.levels[o],m=d.url.length,b=n.frag?n.frag.urlId:d.urlId;d.urlId===b&&(!n.frag||d.details)&&this.penalizeRendition(d,n);for(let w=1;w<m;w++){const G=(b+w)%m,re=i[G];if(!re||C_(re,n,i[b]))return this.warn(`Switching to Redundant Stream ${G+1}/${m}: "${d.url[G]}" after ${n.details}`),this.playlistError=0,e.levels.forEach(ve=>{ve.urlId=G}),e.nextLoadLevel=o,!0}return!1}penalizeRendition(n,e){const{penalizedRenditions:i}=this,o=i[n.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};o.lastErrorPerfMs=performance.now(),o.errors.push(e),o.details=n.details,i[n.urlId]=o}},fpsController:class kP{constructor(n){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=n,this.registerListeners()}setStreamController(n){this.streamController=n}registerListeners(){this.hls.on(Nt.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(Nt.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(n,e){const i=this.hls.config;if(i.capLevelOnFPSDrop){const o=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=o,o&&"function"==typeof o.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}checkFPS(n,e,i){const o=performance.now();if(e){if(this.lastTime){const m=i-this.lastDroppedFrames,b=e-this.lastDecodedFrames,w=1e3*m/(o-this.lastTime),G=this.hls;if(G.trigger(Nt.FPS_DROP,{currentDropped:m,currentDecoded:b,totalDroppedFrames:i}),w>0&&m>G.config.fpsDroppedMonitoringThreshold*b){let re=G.currentLevel;xn.warn("drop FPS ratio greater than max allowed value for currentLevel: "+re),re>0&&(-1===G.autoLevelCapping||G.autoLevelCapping>=re)&&(re-=1,G.trigger(Nt.FPS_DROP_LEVEL_CAPPING,{level:re,droppedLevel:G.currentLevel}),G.autoLevelCapping=re,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=i,this.lastDecodedFrames=e}}checkFPSInterval(){const n=this.media;if(n)if(this.isVideoPlaybackQualityAvailable){const e=n.getVideoPlaybackQuality();this.checkFPS(n,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(n,n.webkitDecodedFrameCount,n.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:qg,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function eO(){return{cueHandler:JP,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class aP extends vE{constructor(n,e,i){super(n,e,i,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:n}=this;n.on(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Nt.ERROR,this.onError,this),n.on(Nt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(Nt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),n.on(Nt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.on(Nt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),n.on(Nt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Nt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Nt.ERROR,this.onError,this),n.off(Nt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(Nt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),n.off(Nt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.off(Nt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),n.off(Nt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Nt.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(n){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(n,e){this.mainDetails=e.details}onSubtitleFragProcessed(n,e){const{frag:i,success:o}=e;if(this.fragPrevious=i,this.state="IDLE",!o)return;const d=this.tracksBuffered[this.currentTrackId];if(!d)return;let m;const b=i.start;for(let G=0;G<d.length;G++)if(b>=d[G].start&&b<=d[G].end){m=d[G];break}const w=i.start+i.duration;m?m.end=w:(m={start:b,end:w},d.push(m)),this.fragmentTracker.fragBuffered(i)}onBufferFlushing(n,e){const{startOffset:i,endOffset:o}=e;if(0===i&&o!==Number.POSITIVE_INFINITY){const d=o-1;if(d<=0)return;e.endOffsetSubtitles=Math.max(0,d),this.tracksBuffered.forEach(m=>{for(let b=0;b<m.length;)if(m[b].end<=d)m.shift();else{if(!(m[b].start<d))break;m[b].start=d,b++}}),this.fragmentTracker.removeFragmentsInRange(i,d,"subtitle")}}onFragBuffered(n,e){var i;this.loadedmetadata||"main"!==e.frag.type||null!=(i=this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}onError(n,e){const i=e.frag;"subtitle"===i?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(n,{subtitleTracks:e}){Qw(this.levels,e)?this.levels=e.map(i=>new id(i)):(this.tracksBuffered=[],this.levels=e.map(i=>{const o=new id(i);return this.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(n,e){if(this.currentTrackId=e.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const i=this.levels[this.currentTrackId];this.mediaBuffer=null!=i&&i.details?this.mediaBufferTimeRanges:null,i&&this.setInterval(500)}onSubtitleTrackLoaded(n,e){var i;const{details:o,id:d}=e,{currentTrackId:m,levels:b}=this;if(!b.length)return;const w=b[m];if(d>=b.length||d!==m||!w)return;this.mediaBuffer=this.mediaBufferTimeRanges;let G=0;if(o.live||null!=(i=w.details)&&i.live){const re=this.mainDetails;if(o.deltaUpdateFailed||!re)return;const ve=re.fragments[0];w.details?(G=this.alignPlaylists(o,w.details),0===G&&ve&&(G=ve.start,y_(o,G))):o.hasProgramDateTime&&re.hasProgramDateTime?(_E(o,re),G=o.fragments[0].start):ve&&(G=ve.start,y_(o,G))}w.details=o,this.levelLastLoaded=d,!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(w.details,G),this.tick(),o.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(Fu(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),w.details=void 0))}_handleFragmentLoadComplete(n){const{frag:e,payload:i}=n,o=e.decryptdata,d=this.hls;if(!this.fragContextChanged(e)&&i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){const m=performance.now();this.decrypter.decrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).catch(b=>{throw d.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.FRAG_DECRYPT_ERROR,fatal:!1,error:b,reason:b.message,frag:e}),b}).then(b=>{const w=performance.now();d.trigger(Nt.FRAG_DECRYPTED,{frag:e,payload:b,stats:{tstart:m,tdecrypt:w}})}).catch(b=>{this.warn(`${b.name}: ${b.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:n,levels:e}=this,i=e[n];if(!e.length||!i||!i.details)return;const{config:o}=this,d=this.getLoadPosition(),m=uo.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],d,o.maxBufferHole),{end:b,len:w}=m,G=this.getFwdBufferInfo(this.media,"main"),re=i.details;if(w>this.getMaxBufferLength(G?.len)+re.levelTargetDuration)return;const qe=re.fragments,Xe=qe.length,pt=re.edge;let St=null;const Ot=this.fragPrevious;if(b<pt){const $t=o.maxFragLookUpTolerance,fn=b>pt-$t?0:$t;St=Fu(Ot,qe,Math.max(qe[0].start,b),fn),!St&&Ot&&Ot.start<qe[0].start&&(St=qe[0])}else St=qe[Xe-1];if(!St)return;if(St=this.mapToInitFragWhenRequired(St),"initSegment"!==St.sn){const fn=qe[St.sn-re.startSN-1];fn&&fn.cc===St.cc&&"NOT_LOADED"===this.fragmentTracker.getState(fn)&&(St=fn)}"NOT_LOADED"===this.fragmentTracker.getState(St)&&this.loadFragment(St,i,b)}}else this.state="IDLE"}getMaxBufferLength(n){const e=super.getMaxBufferLength();return n?Math.max(e,n):e}loadFragment(n,e,i){this.fragCurrent=n,"initSegment"===n.sn?this._loadInitSegment(n,e):(this.startFragRequested=!0,super.loadFragment(n,e,i))}get mediaBufferTimeRanges(){return new lP(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class cP extends S_{constructor(n){super(n,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(n){this._subtitleDisplay=n,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:n}=this;n.on(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Nt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Nt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Nt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.on(Nt.ERROR,this.onError,this)}unregisterListeners(){const{hls:n}=this;n.off(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Nt.LEVEL_LOADING,this.onLevelLoading,this),n.off(Nt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Nt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.off(Nt.ERROR,this.onError,this)}onMediaAttached(n,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(n){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,n)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),pA(this.media.textTracks).forEach(e=>{Kd(e)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(n,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(n,e){const{id:i,details:o}=e,{trackId:d}=this,m=this.tracksInGroup[d];if(!m)return void this.warn(`Invalid subtitle track id ${i}`);const b=m.details;m.details=e.details,this.log(`subtitle track ${i} loaded [${o.startSN}-${o.endSN}]`),i===this.trackId&&this.playlistLoaded(i,e,b)}onLevelLoading(n,e){this.switchLevel(e.level)}onLevelSwitching(n,e){this.switchLevel(e.level)}switchLevel(n){const e=this.hls.levels[n];if(null==e||!e.textGroupIds)return;const i=e.textGroupIds[e.urlId],o=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==i){const d=this.tracks.filter(w=>!i||w.groupId===i);this.tracksInGroup=d;const m=this.findTrackId(o?.name)||this.findTrackId();this.groupId=i||null;const b={subtitleTracks:d};this.log(`Updating subtitle tracks, ${d.length} track(s) found in "${i}" group-id`),this.hls.trigger(Nt.SUBTITLE_TRACKS_UPDATED,b),-1!==m&&this.setSubtitleTrack(m,o)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId,o)}findTrackId(n){const e=this.tracksInGroup;for(let i=0;i<e.length;i++){const o=e[i];if((!this.selectDefaultTrack||o.default)&&(!n||n===o.name))return o.id}return-1}onError(n,e){e.fatal||!e.context||"subtitleTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(n){this.selectDefaultTrack=!1,this.setSubtitleTrack(n,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(n){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const i=e.id,o=e.groupId;let d=e.url;if(n)try{d=n.addDirectives(d)}catch(m){this.warn(`Could not construct new URL with HLS Delivery Directives: ${m}`)}this.log(`Loading subtitle playlist for id ${i}`),this.hls.trigger(Nt.SUBTITLE_TRACK_LOADING,{url:d,id:i,groupId:o,deliveryDirectives:n||null})}}toggleTrackModes(n){const{media:e,trackId:i}=this;if(!e)return;const o=pA(e.textTracks),d=o.filter(b=>b.groupId===this.groupId);if(-1===n)[].slice.call(o).forEach(b=>{b.mode="disabled"});else{const b=d[i];b&&(b.mode="disabled")}const m=d[n];m&&(m.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(n,e){var i;const o=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=n);if(this.trackId!==n&&this.toggleTrackModes(n),this.trackId===n&&(-1===n||null!=(i=o[n])&&i.details)||n<-1||n>=o.length)return;this.clearTimer();const d=o[n];if(this.log(`Switching to subtitle-track ${n}`+(d?` "${d.name}" lang:${d.lang} group:${d.groupId}`:"")),this.trackId=n,d){const{id:m,groupId:b="",name:w,type:G,url:re}=d;this.hls.trigger(Nt.SUBTITLE_TRACK_SWITCH,{id:m,groupId:b,name:w,type:G,url:re});const ve=this.switchParams(d.url,e?.details);this.loadPlaylist(ve)}else this.hls.trigger(Nt.SUBTITLE_TRACK_SWITCH,{id:n})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=-1;const e=pA(this.media.textTracks);for(let i=0;i<e.length;i++)if("hidden"===e[i].mode)n=i;else if("showing"===e[i].mode){n=i;break}this.subtitleTrack!==n&&(this.subtitleTrack=n)}},timelineController:class RP{constructor(n){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=n,this.config=n.config,this.Cues=n.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const e=new CE(this,"textTrack1"),i=new CE(this,"textTrack2"),o=new CE(this,"textTrack3"),d=new CE(this,"textTrack4");this.cea608Parser1=new sI(1,e,i),this.cea608Parser2=new sI(3,o,d)}n.on(Nt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Nt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(Nt.FRAG_LOADING,this.onFragLoading,this),n.on(Nt.FRAG_LOADED,this.onFragLoaded,this),n.on(Nt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.on(Nt.FRAG_DECRYPTED,this.onFragDecrypted,this),n.on(Nt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(Nt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.on(Nt.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:n}=this;n.off(Nt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Nt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(Nt.FRAG_LOADING,this.onFragLoading,this),n.off(Nt.FRAG_LOADED,this.onFragLoaded,this),n.off(Nt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.off(Nt.FRAG_DECRYPTED,this.onFragDecrypted,this),n.off(Nt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(Nt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.off(Nt.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(n,e,i,o,d){let m=!1;for(let b=d.length;b--;){const w=d[b],G=LP(w[0],w[1],e,i);if(G>=0&&(w[0]=Math.min(w[0],e),w[1]=Math.max(w[1],i),m=!0,G/(i-e)>.5))return}if(m||d.push([e,i]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[n],e,i,o);else{const b=this.Cues.newCue(null,e,i,o);this.hls.trigger(Nt.CUES_PARSED,{type:"captions",cues:b,track:n})}}onInitPtsFound(n,{frag:e,id:i,initPTS:o,timescale:d}){const{unparsedVttFrags:m}=this;"main"===i&&(this.initPTS[e.cc]={baseTime:o,timescale:d}),m.length&&(this.unparsedVttFrags=[],m.forEach(b=>{this.onFragLoaded(Nt.FRAG_LOADED,b)}))}getExistingTrack(n){const{media:e}=this;if(e)for(let i=0;i<e.textTracks.length;i++){const o=e.textTracks[i];if(o[n])return o}return null}createCaptionsTrack(n){this.config.renderTextTracksNatively?this.createNativeTrack(n):this.createNonNativeTrack(n)}createNativeTrack(n){if(this.captionsTracks[n])return;const{captionsProperties:e,captionsTracks:i,media:o}=this,{label:d,languageCode:m}=e[n],b=this.getExistingTrack(n);if(b)i[n]=b,Kd(i[n]),nE(i[n],o);else{const w=this.createTextTrack("captions",d,m);w&&(w[n]=!0,i[n]=w)}}createNonNativeTrack(n){if(this.nonNativeCaptionsTracks[n])return;const e=this.captionsProperties[n];if(!e)return;const o={_id:n,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[n]=o,this.hls.trigger(Nt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[o]})}createTextTrack(n,e,i){const o=this.media;if(o)return o.addTextTrack(n,e,i)}onMediaAttaching(n,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:n}=this;Object.keys(n).forEach(e=>{Kd(n[e]),delete n[e]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:n}=this;if(!n)return;const e=n.textTracks;if(e)for(let i=0;i<e.length;i++)Kd(e[i])}onSubtitleTracksUpdated(n,e){const i=e.subtitleTracks||[],o=i.some(d=>d.textCodec===TA);if(this.config.enableWebVTT||o&&this.config.enableIMSC1){if(Qw(this.tracks,i))return void(this.tracks=i);if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const m=this.media?this.media.textTracks:null;this.tracks.forEach((b,w)=>{let G;if(m&&w<m.length){let re=null;for(let ve=0;ve<m.length;ve++)if(NP(m[ve],b)){re=m[ve];break}re&&(G=re)}if(G)Kd(G);else{const re=this._captionsOrSubtitlesFromCharacteristics(b);G=this.createTextTrack(re,b.name,b.lang),G&&(G.mode="disabled")}G&&(G.groupId=b.groupId,this.textTracks.push(G))})}else if(this.tracks.length){const m=this.tracks.map(b=>({label:b.name,kind:b.type.toLowerCase(),default:b.default,subtitleTrack:b}));this.hls.trigger(Nt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:m})}}}_captionsOrSubtitlesFromCharacteristics(n){if(n.attrs.CHARACTERISTICS){const e=/transcribes-spoken-dialog/gi.test(n.attrs.CHARACTERISTICS),i=/describes-music-and-sound/gi.test(n.attrs.CHARACTERISTICS);if(e&&i)return"captions"}return"subtitles"}onManifestLoaded(n,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach(i=>{const o=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!o)return;const m=this.captionsProperties[`textTrack${o[1]}`];m&&(m.label=i.name,i.lang&&(m.languageCode=i.lang),m.media=i)})}closedCaptionsForLevel(n){const e=this.hls.levels[n.level];return e?.attrs["CLOSED-CAPTIONS"]}onFragLoading(n,e){const{cea608Parser1:i,cea608Parser2:o,lastSn:d,lastPartIndex:m}=this;if(this.enabled&&i&&o&&"main"===e.frag.type){var b,w;const G=e.frag.sn,re=null!=(b=null==e||null==(w=e.part)?void 0:w.index)?b:-1;G===d+1||G===d&&re===m+1||(i.reset(),o.reset()),this.lastSn=G,this.lastPartIndex=re}}onFragLoaded(n,e){const{frag:i,payload:o}=e;if("subtitle"===i.type)if(o.byteLength){const d=i.decryptdata;if(null==d||!d.encrypted||"stats"in e){const b=this.tracks[i.level],w=this.vttCCs;w[i.cc]||(w[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),b&&b.textCodec===TA?this._parseIMSC1(i,o):this._parseVTTs(e)}}else this.hls.trigger(Nt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(n,e){const i=this.hls;mI(e,this.initPTS[n.cc],o=>{this._appendCues(o,n.level),i.trigger(Nt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},o=>{xn.log(`Failed to parse IMSC1: ${o}`),i.trigger(Nt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:o})})}_parseVTTs(n){var e;const{frag:i,payload:o}=n,{initPTS:d,unparsedVttFrags:m}=this,b=d.length-1;if(!d[i.cc]&&-1===b)return void m.push(n);const w=this.hls;!function AP(r,n,e,i,o,d,m){const b=new CP,w=bl(new Uint8Array(r)).trim().replace(SP,"\n").split("\n"),G=[],re=n?function B1(r,n=1){return aA(r,9e4,1/n)}(n.baseTime,n.timescale):0;let pt,ve="00:00.000",qe=0,Xe=0,St=!0;b.oncue=function(Ot){const $t=e[i];let fn=e.ccOffset;const an=(qe-re)/9e4;if(null!=$t&&$t.new&&(void 0!==Xe?fn=e.ccOffset=$t.start:function(n,e,i){let o=n[e],d=n[o.prevCC];if(!d||!d.new&&o.new)return n.ccOffset=n.presentationOffset=o.start,void(o.new=!1);for(;null!=(m=d)&&m.new;){var m;n.ccOffset+=o.start-d.start,o.new=!1,o=d,d=n[o.prevCC]}n.presentationOffset=i}(e,i,an)),an){if(!n)return void(pt=new Error("Missing initPTS for VTT MPEGTS"));fn=an-e.presentationOffset}const yn=Ot.endTime-Ot.startTime,Sn=Xl(9e4*(Ot.startTime+fn-Xe),9e4*o)/9e4;Ot.startTime=Math.max(Sn,0),Ot.endTime=Math.max(Sn+yn,0);const Un=Ot.text.trim();Ot.text=decodeURIComponent(encodeURIComponent(Un)),Ot.id||(Ot.id=EA(Ot.startTime,Ot.endTime,Un)),Ot.endTime>0&&G.push(Ot)},b.onparsingerror=function(Ot){pt=Ot},b.onflush=function(){pt?m(pt):d(G)},w.forEach(Ot=>{if(St){if(yA(Ot,"X-TIMESTAMP-MAP=")){St=!1,Ot.slice(16).split(",").forEach($t=>{yA($t,"LOCAL:")?ve=$t.slice(6):yA($t,"MPEGTS:")&&(qe=parseInt($t.slice(7)))});try{Xe=function(n){let e=parseInt(n.slice(-3));const i=parseInt(n.slice(-6,-4)),o=parseInt(n.slice(-9,-7)),d=n.length>9?parseInt(n.substring(0,n.indexOf(":"))):0;if(!(Ri(e)&&Ri(i)&&Ri(o)&&Ri(d)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${n}`);return e+=1e3*i,e+=6e4*o,e+=36e5*d,e}(ve)/1e3}catch($t){pt=$t}return}""===Ot&&(St=!1)}b.parse(Ot+"\n")}),b.flush()}(null!=(e=i.initSegment)&&e.data?Nc(i.initSegment.data,new Uint8Array(o)):o,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,re=>{this._appendCues(re,i.level),w.trigger(Nt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},re=>{const ve="Missing initPTS for VTT MPEGTS"===re.message;ve?m.push(n):this._fallbackToIMSC1(i,o),xn.log(`Failed to parse VTT cue: ${re}`),!(ve&&b>i.cc)&&w.trigger(Nt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:re})})}_fallbackToIMSC1(n,e){const i=this.tracks[n.level];i.textCodec||mI(e,this.initPTS[n.cc],()=>{i.textCodec=TA,this._parseIMSC1(n,e)},()=>{i.textCodec="wvtt"})}_appendCues(n,e){const i=this.hls;if(this.config.renderTextTracksNatively){const o=this.textTracks[e];if(!o||"disabled"===o.mode)return;n.forEach(d=>Gx(o,d))}else{const o=this.tracks[e];if(!o)return;i.trigger(Nt.CUES_PARSED,{type:"subtitles",cues:n,track:o.default?"default":"subtitles"+e})}}onFragDecrypted(n,e){const{frag:i}=e;"subtitle"===i.type&&this.onFragLoaded(Nt.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(n,e){const{cea608Parser1:i,cea608Parser2:o}=this;if(!this.enabled||!i||!o)return;const{frag:d,samples:m}=e;if("main"!==d.type||"NONE"!==this.closedCaptionsForLevel(d))for(let b=0;b<m.length;b++){const w=m[b].bytes;if(w){const G=this.extractCea608Data(w);i.addData(m[b].pts,G[0]),o.addData(m[b].pts,G[1])}}}onBufferFlushing(n,{startOffset:e,endOffset:i,endOffsetSubtitles:o,type:d}){const{media:m}=this;if(m&&!(m.currentTime<i)){if(!d||"video"===d){const{captionsTracks:b}=this;Object.keys(b).forEach(w=>p_(b[w],e,i))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==o){const{textTracks:b}=this;Object.keys(b).forEach(w=>p_(b[w],e,o))}}}extractCea608Data(n){const e=[[],[]],i=31&n[0];let o=2;for(let d=0;d<i;d++){const m=n[o++],b=127&n[o++],w=127&n[o++];if((0!==b||0!==w)&&0!=(4&m)){const re=3&m;(0===re||1===re)&&(e[re].push(b),e[re].push(w))}}return e}},audioStreamController:class rP extends vE{constructor(n,e,i){super(n,e,i,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:n}=this;n.on(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Nt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),n.on(Nt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(Nt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.on(Nt.ERROR,this.onError,this),n.on(Nt.BUFFER_RESET,this.onBufferReset,this),n.on(Nt.BUFFER_CREATED,this.onBufferCreated,this),n.on(Nt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(Nt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(Nt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Nt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Nt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Nt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),n.off(Nt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(Nt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.off(Nt.ERROR,this.onError,this),n.off(Nt.BUFFER_RESET,this.onBufferReset,this),n.off(Nt.BUFFER_CREATED,this.onBufferCreated,this),n.off(Nt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(Nt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(Nt.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(n,{frag:e,id:i,initPTS:o,timescale:d}){if("main"===i){const m=e.cc;this.initPTS[e.cc]={baseTime:o,timescale:d},this.log(`InitPTS for cc: ${m} found from main: ${o}`),this.videoTrackCC=m,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(n){if(!this.levels)return this.startPosition=n,void(this.state="STOPPED");const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===n?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),n=e,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var n;const{levels:i,trackId:o}=this,d=null==i||null==(n=i[o])?void 0:n.details;if(d){if(this.waitForCdnTuneIn(d))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const i=performance.now(),o=this.retryDate;(!o||i>=o||null!=(e=this.media)&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const i=this.waitingData;if(i){const{frag:o,part:d,cache:m,complete:b}=i;if(void 0!==this.initPTS[o.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const G={frag:o,part:d,payload:m.flush(),networkDetails:null};this._handleFragmentLoadProgress(G),b&&super._handleFragmentLoadComplete(G)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${o.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const w=this.getLoadPosition(),G=uo.bufferInfo(this.mediaBuffer,w,this.config.maxBufferHole);Ym(G.end,this.config.maxFragLookUpTolerance,o)<0&&(this.log(`Waiting fragment cc (${o.cc}) @ ${o.start} cancelled because another fragment at ${G.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const n=this.waitingData;n&&(this.fragmentTracker.removeFragment(n.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:n}=this;null!=n&&n.readyState&&(this.lastCurrentTime=n.currentTime)}doTickIdle(){const{hls:n,levels:e,media:i,trackId:o}=this;if(null==e||!e[o]||!i&&(this.startFragRequested||!n.config.startFragPrefetch))return;const m=e[o],b=m.details;if(!b||b.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(b))return void(this.state="WAITING_TRACK");const w=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&w&&(this.bufferFlushed=!1,this.afterBufferFlushed(w,"audio","audio"));const G=this.getFwdBufferInfo(w,"audio");if(null===G)return;const{bufferedTrack:re,switchingTrack:ve}=this;if(!ve&&this._streamEnded(G,b))return n.trigger(Nt.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const qe=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),Xe=G.len,pt=this.getMaxBufferLength(qe?.len);if(Xe>=pt&&!ve)return;const Ot=b.fragments[0].start;let $t=G.end;if(ve&&i){const Sn=this.getLoadPosition();re&&ve.attrs!==re.attrs&&($t=Sn),b.PTSKnown&&Sn<Ot&&(G.end>Ot||G.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=Ot+.05)}let fn=this.getNextFragment($t,b),an=!1;if(fn&&this.isLoopLoading(fn,$t)&&(an=!!fn.gap,fn=this.getNextFragmentLoopLoading(fn,b,G,"main",pt)),!fn)return void(this.bufferFlushed=!0);const yn=qe&&fn.start>qe.end+b.targetduration;if(yn||(null==qe||!qe.len)&&G.len){const Sn=this.getAppendedFrag(fn.start,"main");if(null===Sn||(an||(an=!!Sn.gap||!!yn&&0===qe.len),yn&&!an||an&&G.nextStart&&G.nextStart<Sn.end))return}this.loadFragment(fn,m,$t)}getMaxBufferLength(n){const e=super.getMaxBufferLength();return n?Math.min(Math.max(e,n),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(n,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map(i=>new id(i))}onAudioTrackSwitching(n,e){const i=!!e.url;this.trackId=e.id;const{fragCurrent:o}=this;o&&(o.abortRequests(),this.removeUnbufferedFrags(o.start)),this.resetLoadingState(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.switchingTrack=e,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=e,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(n,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(Nt.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(n,e){var i;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:o}=this,{details:d,id:m}=e;if(!o)return void this.warn(`Audio tracks were reset while loading level ${m}`);this.log(`Track ${m} loaded [${d.startSN},${d.endSN}]${d.lastPartSn?`[part-${d.lastPartSn}-${d.lastPartIndex}]`:""},duration:${d.totalduration}`);const b=o[m];let w=0;if(d.live||null!=(i=b.details)&&i.live){const G=this.mainDetails;if(d.fragments[0]||(d.deltaUpdateFailed=!0),d.deltaUpdateFailed||!G)return;!b.details&&d.hasProgramDateTime&&G.hasProgramDateTime?(_E(d,G),w=d.fragments[0].start):w=this.alignPlaylists(d,b.details)}b.details=d,this.levelLastLoaded=m,!this.startFragRequested&&(this.mainDetails||!d.live)&&this.setStartPosition(b.details,w),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(d)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(n){var e;const{frag:i,part:o,payload:d}=n,{config:m,trackId:b,levels:w}=this;if(!w)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const G=w[b];if(!G)return void this.warn("Audio track is undefined on fragment load progress");const re=G.details;if(!re)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(i.start);const ve=m.defaultAudioCodec||G.audioCodec||"mp4a.40.2";let qe=this.transmuxer;qe||(qe=this.transmuxer=new $w(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const Xe=this.initPTS[i.cc],pt=null==(e=i.initSegment)?void 0:e.data;if(void 0!==Xe){const Ot=o?o.index:-1,fn=new w_(i.level,i.sn,i.stats.chunkCount,d.byteLength,Ot,-1!==Ot);qe.push(d,pt,ve,"",i,o,re.totalduration,!1,fn,Xe)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${re.startSN} ,${re.endSN}],track ${b}`);const{cache:St}=this.waitingData=this.waitingData||{frag:i,part:o,cache:new qw,complete:!1};St.push(new Uint8Array(d)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(n){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(n)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(n,e){const i=e.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(n,e){const{frag:i,part:o}=e;if("audio"===i.type)if(this.fragContextChanged(i))this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==i.sn){this.fragPrevious=i;const d=this.switchingTrack;d&&(this.bufferedTrack=d,this.switchingTrack=null,this.hls.trigger(Nt.AUDIO_TRACK_SWITCHED,Fa({},d)))}this.fragBufferedComplete(i,o)}else if(!this.loadedmetadata&&"main"===i.type){const d=this.videoBuffer||this.media;d&&uo.getBuffered(d).length&&(this.loadedmetadata=!0)}}onError(n,e){var i;if(e.fatal)this.state="ERROR";else switch(e.details){case Gn.FRAG_GAP:case Gn.FRAG_PARSING_ERROR:case Gn.FRAG_DECRYPT_ERROR:case Gn.FRAG_LOAD_ERROR:case Gn.FRAG_LOAD_TIMEOUT:case Gn.KEY_LOAD_ERROR:case Gn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",e);break;case Gn.AUDIO_TRACK_LOAD_ERROR:case Gn.AUDIO_TRACK_LOAD_TIMEOUT:case Gn.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(i=e.context)?void 0:i.type)&&(this.state="IDLE");break;case Gn.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Gn.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushed(n,{type:e}){"audio"===e&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(n){var e;const i="audio",{hls:o}=this,{remuxResult:d,chunkMeta:m}=n,b=this.getCurrentContext(m);if(!b)return void this.resetWhenMissingContext(m);const{frag:w,part:G,level:re}=b,{details:ve}=re,{audio:qe,text:Xe,id3:pt,initSegment:St}=d;if(!this.fragContextChanged(w)&&ve){if(this.state="PARSING",this.switchingTrack&&qe&&this.completeAudioSwitch(this.switchingTrack),null!=St&&St.tracks){const Ot=w.initSegment||w;this._bufferInitSegment(St.tracks,Ot,m),o.trigger(Nt.FRAG_PARSING_INIT_SEGMENT,{frag:Ot,id:i,tracks:St.tracks})}if(qe){const{startPTS:Ot,endPTS:$t,startDTS:fn,endDTS:an}=qe;G&&(G.elementaryStreams.audio={startPTS:Ot,endPTS:$t,startDTS:fn,endDTS:an}),w.setElementaryStreamInfo("audio",Ot,$t,fn,an),this.bufferFragmentData(qe,w,G,m)}if(null!=pt&&null!=(e=pt.samples)&&e.length){const Ot=zo({id:i,frag:w,details:ve},pt);o.trigger(Nt.FRAG_PARSING_METADATA,Ot)}if(Xe){const Ot=zo({id:i,frag:w,details:ve},Xe);o.trigger(Nt.FRAG_PARSING_USERDATA,Ot)}}else this.fragmentTracker.removeFragment(w)}_bufferInitSegment(n,e,i){if("PARSING"!==this.state)return;n.video&&delete n.video;const o=n.audio;if(!o)return;o.levelCodec=o.codec,o.id="audio",this.log(`Init audio buffer, container:${o.container}, codecs[parsed]=[${o.codec}]`),this.hls.trigger(Nt.BUFFER_CODECS,n);const d=o.initSegment;null!=d&&d.byteLength&&this.hls.trigger(Nt.BUFFER_APPENDING,{type:"audio",frag:e,part:null,chunkMeta:i,parent:e.type,data:d}),this.tick()}loadFragment(n,e,i){const o=this.fragmentTracker.getState(n);var d;this.fragCurrent=n,this.switchingTrack||"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===n.sn?this._loadInitSegment(n,e):null!=(d=e.details)&&d.live&&!this.initPTS[n.cc]?(this.log(`Waiting for video PTS in continuity counter ${n.cc} of live stream before loading audio fragment ${n.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(n,e,i)):this.clearTrackerIfNeeded(n)}completeAudioSwitch(n){const{hls:e,media:i,bufferedTrack:o}=this,d=o?.attrs,m=n.attrs;i&&d&&(d.CHANNELS!==m.CHANNELS||d.NAME!==m.NAME||d.LANGUAGE!==m.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=n,this.switchingTrack=null,e.trigger(Nt.AUDIO_TRACK_SWITCHED,Fa({},n))}},audioTrackController:class oP extends S_{constructor(n){super(n,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:n}=this;n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Nt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Nt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Nt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.on(Nt.ERROR,this.onError,this)}unregisterListeners(){const{hls:n}=this;n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Nt.LEVEL_LOADING,this.onLevelLoading,this),n.off(Nt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Nt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.off(Nt.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(n,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(n,e){const{id:i,groupId:o,details:d}=e,m=this.tracksInGroup[i];if(!m||m.groupId!==o)return void this.warn(`Track with id:${i} and group:${o} not found in active group ${m.groupId}`);const b=m.details;m.details=e.details,this.log(`audio-track ${i} "${m.name}" lang:${m.lang} group:${o} loaded [${d.startSN}-${d.endSN}]`),i===this.trackId&&this.playlistLoaded(i,e,b)}onLevelLoading(n,e){this.switchLevel(e.level)}onLevelSwitching(n,e){this.switchLevel(e.level)}switchLevel(n){const e=this.hls.levels[n];if(null==e||!e.audioGroupIds)return;const i=e.audioGroupIds[e.urlId];if(this.groupId!==i){this.groupId=i||null;const o=this.tracks.filter(m=>!i||m.groupId===i);this.selectDefaultTrack&&!o.some(m=>m.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=o;const d={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group:${i}`),this.hls.trigger(Nt.AUDIO_TRACKS_UPDATED,d),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(n,e){e.fatal||!e.context||"audioTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(n){this.selectDefaultTrack=!1,this.setAudioTrack(n)}setAudioTrack(n){const e=this.tracksInGroup;if(n<0||n>=e.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const i=this.currentTrack,o=e[n],{groupId:d,name:m}=o;if(this.log(`Switching to audio-track ${n} "${m}" lang:${o.lang} group:${d}`),this.trackId=n,this.currentTrack=o,this.selectDefaultTrack=!1,this.hls.trigger(Nt.AUDIO_TRACK_SWITCHING,Fa({},o)),o.details&&!o.details.live)return;const b=this.switchParams(o.url,i?.details);this.loadPlaylist(b)}selectInitialTrack(){const n=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{const i=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${n.length}`);this.warn(i.message),this.hls.trigger(Nt.ERROR,{type:Fi.MEDIA_ERROR,details:Gn.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:i})}}findTrackId(n){const e=this.tracksInGroup;for(let i=0;i<e.length;i++){const o=e[i];if((!this.selectDefaultTrack||o.default)&&(!n||void 0!==n.attrs["STABLE-RENDITION-ID"]&&n.attrs["STABLE-RENDITION-ID"]===o.attrs["STABLE-RENDITION-ID"]||n.name===o.name&&n.lang===o.lang))return o.id}return-1}loadPlaylist(n){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const i=e.id,o=e.groupId;let d=e.url;if(n)try{d=n.addDirectives(d)}catch(m){this.warn(`Could not construct new URL with HLS Delivery Directives: ${m}`)}this.log(`loading audio-track playlist ${i} "${e.name}" lang:${e.lang} group:${o}`),this.clearTimer(),this.hls.trigger(Nt.AUDIO_TRACK_LOADING,{url:d,id:i,groupId:o,deliveryDirectives:n||null})}}},emeController:FP,cmcdController:ju,contentSteeringController:class VP{constructor(n){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=n,this.log=xn.log.bind(xn,"[content-steering]:"),this.registerListeners()}registerListeners(){const n=this.hls;n.on(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Nt.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Nt.ERROR,this.onError,this)}unregisterListeners(){const n=this.hls;n&&(n.off(Nt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Nt.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Nt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Nt.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const n=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,n)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(n){const e=this.levels;e&&(this.levels=e.filter(i=>i!==n))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(n,e){const{contentSteering:i}=e;null!==i&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(n,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(n,e){const{errorAction:i}=e;if(2===i?.action&&1===i.flags){let o=this.pathwayPriority;const d=this.pathwayId;this.penalizedPathways[d]||(this.penalizedPathways[d]=performance.now()),!o&&this.levels&&(o=this.levels.reduce((m,b)=>(-1===m.indexOf(b.pathwayId)&&m.push(b.pathwayId),m),[])),o&&o.length>1&&(this.updatePathwayPriority(o),i.resolved=this.pathwayId!==d)}}filterParsedLevels(n){this.levels=n;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const i=n[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),e=this.getLevelsForPathway(i),this.pathwayId=i}return e.length!==n.length?(this.log(`Found ${e.length}/${n.length} levels in Pathway "${this.pathwayId}"`),e):n}getLevelsForPathway(n){return null===this.levels?[]:this.levels.filter(e=>n===e.pathwayId)}updatePathwayPriority(n){let e;this.pathwayPriority=n;const i=this.penalizedPathways,o=performance.now();Object.keys(i).forEach(d=>{o-i[d]>3e5&&delete i[d]});for(let d=0;d<n.length;d++){const m=n[d];if(i[m])continue;if(m===this.pathwayId)return;const b=this.hls.nextLoadLevel,w=this.hls.levels[b];if(e=this.getLevelsForPathway(m),e.length>0){this.log(`Setting Pathway to "${m}"`),this.pathwayId=m,this.hls.trigger(Nt.LEVELS_UPDATED,{levels:e});const G=this.hls.levels[b];w&&G&&this.levels&&(G.attrs["STABLE-VARIANT-ID"]!==w.attrs["STABLE-VARIANT-ID"]&&G.bitrate!==w.bitrate&&this.log(`Unstable Pathways change from bitrate ${w.bitrate} to ${G.bitrate}`),this.hls.nextLoadLevel=b);break}}}clonePathways(n){const e=this.levels;if(!e)return;const i={},o={};n.forEach(d=>{const{ID:m,"BASE-ID":b,"URI-REPLACEMENT":w}=d;if(e.some(re=>re.pathwayId===m))return;const G=this.getLevelsForPathway(b).map(re=>{const ve=zo({},re);ve.details=void 0,ve.url=bI(re.uri,re.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",w);const qe=new po(re.attrs);qe["PATHWAY-ID"]=m;const Xe=qe.AUDIO&&`${qe.AUDIO}_clone_${m}`,pt=qe.SUBTITLES&&`${qe.SUBTITLES}_clone_${m}`;Xe&&(i[qe.AUDIO]=Xe,qe.AUDIO=Xe),pt&&(o[qe.SUBTITLES]=pt,qe.SUBTITLES=pt),ve.attrs=qe;const St=new id(ve);return x_(St,"audio",Xe),x_(St,"text",pt),St});e.push(...G),yI(this.audioTracks,i,w,m),yI(this.subtitleTracks,o,w,m)})}loadSteeringManifest(n){const e=this.hls.config,i=e.loader;let o;this.loader&&this.loader.destroy(),this.loader=new i(e);try{o=new self.URL(n)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${n}`)}if("data:"!==o.protocol){const re=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);o.searchParams.set("_HLS_pathway",this.pathwayId),o.searchParams.set("_HLS_throughput",""+re)}const d={responseType:"json",url:o.href},m=e.steeringManifestLoadPolicy.default,b=m.errorRetry||m.timeoutRetry||{},w={loadPolicy:m,timeout:m.maxLoadTimeMs,maxRetry:b.maxNumRetry||0,retryDelay:b.retryDelayMs||0,maxRetryDelay:b.maxRetryDelayMs||0},G={onSuccess:(re,ve,qe,Xe)=>{this.log(`Loaded steering manifest: "${o}"`);const pt=re.data;if(1!==pt.VERSION)return void this.log(`Steering VERSION ${pt.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=pt.TTL;const{"RELOAD-URI":St,"PATHWAY-CLONES":Ot,"PATHWAY-PRIORITY":$t}=pt;if(St)try{this.uri=new self.URL(St,o).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${St}`)}this.scheduleRefresh(this.uri||qe.url),Ot&&this.clonePathways(Ot),$t&&this.updatePathwayPriority($t)},onError:(re,ve,qe,Xe)=>{if(this.log(`Error loading steering manifest: ${re.code} ${re.text} (${ve.url})`),this.stopLoad(),410===re.code)return this.enabled=!1,void this.log(`Steering manifest ${ve.url} no longer available`);let pt=1e3*this.timeToLoad;if(429!==re.code)this.scheduleRefresh(this.uri||ve.url,pt);else{const St=this.loader;if("function"==typeof St?.getResponseHeader){const Ot=St.getResponseHeader("Retry-After");Ot&&(pt=1e3*parseFloat(Ot))}this.log(`Steering manifest ${ve.url} rate limited`)}},onTimeout:(re,ve,qe)=>{this.log(`Timeout loading steering manifest (${ve.url})`),this.scheduleRefresh(this.uri||ve.url)}};this.log(`Requesting steering manifest: ${o}`),this.loader.load(d,w,G)}scheduleRefresh(n,e=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(n)},e)}}});function AA(r){return r&&"object"==typeof r?Array.isArray(r)?r.map(AA):Object.keys(r).reduce((n,e)=>(n[e]=AA(r[e]),n),{}):r}let oh=(()=>{class r{static get version(){return"1.4.10"}static isSupported(){return function nA(){const r=Fm();if(!r)return!1;const n=tA();return!(!r||"function"!=typeof r.isTypeSupported||!r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||n&&(!n.prototype||"function"!=typeof n.prototype.appendBuffer||"function"!=typeof n.prototype.remove))}()}static get Events(){return Nt}static get ErrorTypes(){return Fi}static get ErrorDetails(){return Gn}static get DefaultConfig(){return r.defaultConfig?r.defaultConfig:XP}static set DefaultConfig(e){r.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new fA,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function Dx(r,n){if(self.console&&!0===r||"object"==typeof r){!function Db(r,...n){n.forEach(function(e){Jf[e]=r[e]?r[e].bind(r):function zg(r){const n=self.console[r];return n?n.bind(self.console,`[${r}] >`):Vd}(e)})}(r,"debug","log","info","warn","error");try{Jf.log(`Debug logs enabled for "${n}" in hls.js version 1.4.10`)}catch{Jf=Wg}}else Jf=Wg}(e.debug||!1,"Hls instance");const i=this.config=function tO(r,n){if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==n.liveMaxLatencyDurationCount&&(void 0===n.liveSyncDurationCount||n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(void 0===n.liveSyncDuration||n.liveMaxLatencyDuration<=n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const e=AA(r),o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(d=>{const m=`${"level"===d?"playlist":d}LoadPolicy`,b=void 0===n[m],w=[];o.forEach(G=>{const re=`${d}Loading${G}`,ve=n[re];if(void 0!==ve&&b){w.push(re);const qe=e[m].default;switch(n[m]={default:qe},G){case"TimeOut":qe.maxLoadTimeMs=ve,qe.maxTimeToFirstByteMs=ve;break;case"MaxRetry":qe.errorRetry.maxNumRetry=ve,qe.timeoutRetry.maxNumRetry=ve;break;case"RetryDelay":qe.errorRetry.retryDelayMs=ve,qe.timeoutRetry.retryDelayMs=ve;break;case"MaxRetryTimeout":qe.errorRetry.maxRetryDelayMs=ve,qe.timeoutRetry.maxRetryDelayMs=ve}}}),w.length&&xn.warn(`hls.js config: "${w.join('", "')}" setting(s) are deprecated, use "${m}": ${JSON.stringify(n[m])}`)}),Fa(Fa({},e),n)}(r.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,i.progressive&&function nO(r){const n=r.loader;n!==TI&&n!==EI?(xn.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):function HP(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(r.loader=TI,r.progressive=!0,r.enableSoftwareAES=!0,xn.log("[config]: Progressive streaming enabled, using FetchLoader"))}(i);const{abrController:o,bufferController:d,capLevelController:m,errorController:b,fpsController:w}=i,G=new b(this),re=this.abrController=new o(this),ve=this.bufferController=new d(this),qe=this.capLevelController=new m(this),Xe=new w(this),pt=new Vx(this),St=new Tw(this),Ot=i.contentSteeringController,$t=Ot?new Ot(this):null,fn=this.levelController=new Dw(this,$t),an=new Jx(this),yn=new pE(this.config),Sn=this.streamController=new eP(this,an,yn);qe.setStreamController(Sn),Xe.setStreamController(Sn);const Un=[pt,fn,Sn];$t&&Un.splice(1,0,$t),this.networkControllers=Un;const On=[re,ve,qe,Xe,St,an];this.audioTrackController=this.createController(i.audioTrackController,Un);const zn=i.audioStreamController;zn&&Un.push(new zn(this,an,yn)),this.subtitleTrackController=this.createController(i.subtitleTrackController,Un);const ii=i.subtitleStreamController;ii&&Un.push(new ii(this,an,yn)),this.createController(i.timelineController,On),yn.emeController=this.emeController=this.createController(i.emeController,On),this.cmcdController=this.createController(i.cmcdController,On),this.latencyController=this.createController(Cw,On),this.coreComponents=On,Un.push(G);const Ln=G.onErrorOut;"function"==typeof Ln&&this.on(Nt.ERROR,Ln,G)}createController(e,i){if(e){const o=new e(this);return i&&i.push(o),o}return null}on(e,i,o=this){this._emitter.on(e,i,o)}once(e,i,o=this){this._emitter.once(e,i,o)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,i,o=this,d){this._emitter.off(e,i,o,d)}listeners(e){return this._emitter.listeners(e)}emit(e,i,o){return this._emitter.emit(e,i,o)}trigger(e,i){if(this.config.debug)return this.emit(e,e,i);try{return this.emit(e,e,i)}catch(o){xn.error("An internal error happened while handling event "+e+'. Error message: "'+o.message+'". Here is a stacktrace:',o),this.trigger(Nt.ERROR,{type:Fi.OTHER_ERROR,details:Gn.INTERNAL_EXCEPTION,fatal:!1,event:e,error:o})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){xn.log("destroy"),this.trigger(Nt.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(i=>i.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(i=>i.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){xn.log("attachMedia"),this._media=e,this.trigger(Nt.MEDIA_ATTACHING,{media:e})}detachMedia(){xn.log("detachMedia"),this.trigger(Nt.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const i=this.media,o=this.url,d=this.url=Kg.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});xn.log(`loadSource:${d}`),i&&o&&(o!==d||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(i)),this.trigger(Nt.MANIFEST_LOADING,{url:e})}startLoad(e=-1){xn.log(`startLoad(${e})`),this.networkControllers.forEach(i=>{i.startLoad(e)})}stopLoad(){xn.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){xn.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){xn.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,i=0){this.levelController.removeLevel(e,i)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){xn.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){xn.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){xn.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){xn.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){xn.log(`set startLevel:${e}`),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const i=!!e;i!==this.config.capLevelToPlayerSize&&(i?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=i)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(xn.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){iE.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:i}}=this;if(!e)return 0;const o=e.length;for(let d=0;d<o;d++)if(e[d].maxBitrate>=i)return d;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:i,maxHdcpLevel:o}=this;let d;if(d=-1===i&&e&&e.length?e.length-1:i,o)for(let m=d;m--;){const b=e[m].attrs["HDCP-LEVEL"];if(b&&b<=o)return m}return d}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const i=this.audioTrackController;i&&(i.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const i=this.subtitleTrackController;i&&(i.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const i=this.subtitleTrackController;i&&(i.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return r.defaultConfig=void 0,r})();function iO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickDialogAction(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit;t.xp6(1),t.Oqu(e.text)}}let rO=(()=>{class r{constructor(e,i){this.dialog=e,this.options=i}onClickDialogAction(e){this.dialog.close(e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Wt.so),t.Y36(Wt.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,iO,2,1,"ng-template",6),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(o.options.title),t.xp6(3),t.hij(" ",o.options.message," "),t.xp6(3),t.Q6J("ngForOf",o.options.actions))},dependencies:[g.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();const oO=["controlsContainer"],sO=["settingsContainer"],aO=["videoPrincipalContainer"],lO=["videoTarget"];function cO(r,n){if(1&r&&(t.TgZ(0,"div",55),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.builderVideo.TranscodePrepareVideo.Title," ",e.builderVideo.TranscodePrepareVideo.Subtitle," ")}}function dO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToPreviousEpisode())}),t._UZ(1,"i",57),t.qZA()}}function uO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToNextEpisode())}),t._UZ(1,"i",59),t.qZA()}}function fO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",60,61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",62),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw(2);return t.KtG(d.focusButton(o))}),t.qZA(),t._UZ(3,"i",63),t.qZA()}}function hO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",64,65),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",62),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw(2);return t.KtG(d.focusButton(o))}),t.qZA(),t._UZ(3,"i",66),t.qZA()}}const mO=function(r){return{"show-controls":r}};function pO(r,n){if(1&r&&(t.TgZ(0,"div",67),t._uU(1," Cargando video... "),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,mO,e.showControls))}}const CI=function(r){return{selected:r}};function gO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.onClickPrincipalSettingsOption(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(3);t.MGl("id","stream_option_",e.index,""),t.Q6J("ngClass",t.VKq(3,CI,i.currentSelectedPrincipalSettingOption&&e.index==i.currentSelectedPrincipalSettingOption.index)),t.xp6(1),t.hij(" ",e.name," ")}}function _O(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(4);return t.KtG(m.onClickStreamOption(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.hYB("id","stream_option_",i.currentSelectedPrincipalSettingOption.id,"_suboption_",e.index,""),t.Q6J("ngClass",t.VKq(4,CI,i.currentSelectedPrincipalSettingOption.selectedOption&&i.currentSelectedPrincipalSettingOption.selectedOption.index==e.index)),t.xp6(1),t.hij(" ",e.name," ")}}function vO(r,n){if(1&r&&(t.TgZ(0,"section",79),t.YNc(1,_O,2,6,"ng-template",76),t.qZA()),2&r){const e=t.oxw(3);t.MGl("id","streams_suboptions_section_",e.currentSelectedPrincipalSettingOption.index,""),t.xp6(1),t.Q6J("ngForOf",e.currentSelectedPrincipalSettingOption.listOptions)}}function yO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",68,69)(2,"div",70)(3,"section",71)(4,"div",72)(5,"div",73)(6,"button",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hideSettings())}),t._UZ(7,"i",11),t.qZA()()()(),t.TgZ(8,"section",75),t.YNc(9,gO,2,5,"ng-template",76),t.qZA(),t.YNc(10,vO,2,2,"section",77),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.listPrincipalSettingsOptions),t.xp6(1),t.Q6J("ngIf",e.currentSelectedPrincipalSettingOption)}}function bO(r,n){if(1&r&&t._UZ(0,"div",80),2&r){const e=n.$implicit,i=t.oxw(3);t.Udp("display",i.checkIfDisplaySubtitles(e)?"block":"none"),t.Q6J("innerHtml",e.text,t.oJD)}}function EO(r,n){if(1&r&&t.YNc(0,bO,1,3,"ng-template",76),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.currentSubtitleData)}}function TO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"video",81,82),t.NdJ("error",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onErrorVideo())})("loadedmetadata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedMetadata())})("loadeddata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedData())})("ended",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnEndedVideo())}),t.qZA()}}const CO=function(r){return{show:r}};function SO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(!d.sharedService.isMobileDevice()&&d.onClickVideoContainer(o))})("touchstart",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(d.sharedService.isMobileDevice()&&d.onTouchVideoContainer(o))})("mousemove",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(d.onMouseMoveVideoContainer(o))}),t.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeVideo())}),t._UZ(7,"i",11),t.qZA(),t.YNc(8,cO,2,2,"div",12),t.qZA(),t.TgZ(9,"div",13)(10,"div",14)(11,"section",15)(12,"button",16)(13,"div",17,18),t._uU(15),t.qZA(),t.TgZ(16,"div",19)(17,"div",20),t.NdJ("contextmenu",function(){t.CHM(e);const o=t.MAs(22),d=t.oxw();return t.KtG(!d.sharedService.isMobileDevice()&&d.onClickSlider(o))})("click",function(){t.CHM(e);const o=t.MAs(22),d=t.oxw();return t.KtG(d.onClickSlider(o))})("touchend",function(){t.CHM(e);const o=t.MAs(22),d=t.oxw();return t.KtG(d.sharedService.isMobileDevice()&&d.onClickSlider(o))})("touchstart",function(o){t.CHM(e);const d=t.MAs(22),m=t.MAs(14),b=t.oxw();return t.KtG(b.sharedService.isMobileDevice()&&b.onTouchStartSlider(o,d,m))})("touchmove",function(o){t.CHM(e);const d=t.MAs(22),m=t.MAs(14),b=t.oxw();return t.KtG(b.sharedService.isMobileDevice()&&b.onTouchMoveSlider(o,d,m))})("mousedown",function(o){t.CHM(e);const d=t.MAs(22),m=t.oxw();return t.KtG(m.onMouseDownSlider(o,d))})("mousemove",function(o){t.CHM(e);const d=t.MAs(22),m=t.oxw();return t.KtG(m.onMouseMoveSlider(o,d))}),t._UZ(18,"div",21,22),t.TgZ(20,"div",23)(21,"div",24,25)(23,"div",26,25),t._UZ(25,"div",27,28),t.qZA()()()()(),t.TgZ(27,"div",17,29),t._uU(29),t.qZA()()(),t.TgZ(30,"section",30)(31,"div",31),t.YNc(32,dO,2,0,"button",32),t.qZA(),t.TgZ(33,"div",33)(34,"div",34),t.YNc(35,uO,2,0,"button",35),t.TgZ(36,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeObjectContain())}),t._UZ(37,"i",37),t.qZA(),t.TgZ(38,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleFullScreenVideo())}),t._UZ(39,"i",39),t.qZA(),t.TgZ(40,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showSettings())}),t._UZ(41,"i",41),t.qZA()()()(),t.TgZ(42,"div",42)(43,"div",43)(44,"section",44)(45,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.rewindVideo())}),t._UZ(46,"i",46),t.qZA(),t.YNc(47,fO,4,0,"button",47),t.YNc(48,hO,4,0,"button",48),t.TgZ(49,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.forwardVideo())}),t._UZ(50,"i",50),t.qZA()()()()()()(),t.YNc(51,pO,2,3,"div",51),t.YNc(52,yO,11,2,"section",52),t.YNc(53,EO,1,1,"ng-template",53),t.YNc(54,TO,2,0,"video",54),t.qZA()()}if(2&r){const e=t.MAs(14),i=t.MAs(19),o=t.MAs(28),d=t.oxw();t.xp6(3),t.Q6J("ngClass",t.VKq(22,CO,d.showControls)),t.xp6(5),t.Q6J("ngIf",d.builderVideo&&d.builderVideo.TranscodePrepareVideo),t.xp6(5),t.Udp("visibility",d.showControls?"":"hidden"),t.xp6(2),t.hij(" ",d.getVideoTime()," "),t.xp6(1),t.Udp("width","calc(100% - "+(e.offsetWidth+o.offsetWidth)+"px)"),t.xp6(5),t.Udp("width",i.offsetWidth+"px"),t.xp6(4),t.Udp("width",d.getSliderPogressWidth()),t.xp6(2),t.Udp("visibility",d.showControls?"":"hidden"),t.xp6(2),t.hij(" ",d.getDurationTime()," "),t.xp6(3),t.Q6J("ngIf",d.isEnablePreviousEpisodeButton()),t.xp6(3),t.Q6J("ngIf",d.isEnableNextEpisodeButton()),t.xp6(12),t.Q6J("ngIf",!d.isPlayingVideo()),t.xp6(1),t.Q6J("ngIf",d.isPlayingVideo()),t.xp6(3),t.Q6J("ngIf",!d.loadedData),t.xp6(1),t.Q6J("ngIf",d.showingSettings),t.xp6(1),t.Q6J("ngIf",d.currentSubtitleData),t.xp6(1),t.Q6J("ngIf",d.showVideoTarget)}}let SI=(()=>{class r{constructor(e,i,o,d,m,b,w,G){this.activeRoute=e,this.router=i,this.libraryService=o,this.dialog=d,this.restProvider=m,this.sharedService=b,this.ref=w,this.http=G,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid,i=this.activeRoute.snapshot.params.mediaFileId;if(null!=e){var o=this.sharedService.mediaServers.find(d=>d.Guid==e);o&&i?this.libraryService.GetMediaItemDetailByMediaFileAndProfile(o.Url,i,this.sharedService.currentProfile.Id).then(d=>{var m=0;d.LastMediaFilePlayback&&(m=d.LastMediaFilePlayback.CurrentTime),d.MediaItem.MediaTypeId==gl.Movie&&(this.builderVideo=this.libraryService.CreateBuilderVideoFromItem(d,o,m)),d.MediaItem.MediaTypeId==gl.TvSerie&&(this.builderVideo=this.libraryService.CreateBuilderVideoFromEpisode(d,d.CurrentEpisode,o,m)),this.initialize()},d=>{this.router.navigateByUrl("/404")}):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}initialize(){let e=this;this.customMouseOutEvent=function(o){e.sliderContainer&&e.sliderContainer.startMove&&e.onClickSlider(e.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(o){e.deleteAllProcessesAndDirectories()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){e.ref.detectChanges()},0),this.updateMediaFilePlaybackInterval=window.setInterval(function(){e.updateMediaFilePlayback()},1e4),this.initializeVideoData()}ngOnDestroy(){this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.updateMediaFilePlaybackInterval&&window.clearInterval(this.updateMediaFilePlaybackInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction)}initializeVideoData(){this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=gs.Empty,this.restProvider.executeHttpMethodByUrl(ti.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(i=>{this.builderVideo.LoadStatus=gs.Generated;const o=Qc().decode(i);let d=JSON.parse(o);this.builderVideo.TranscodeRunVideo=d,this.builderVideo.TranscodePrepareVideo=d.TranscodePrepareVideo,this.initializeStreams(),setTimeout(()=>{this.executeHideControls()},1e3),this.onInitializeVideo()},i=>{this.showLoadVideoErrorActionsDialog(),console.error(i)})}onTouchVideoContainer(e){this.showingSettings||this.sharedService.isMobileDevice()&&this.showControlsTemporarily(e)}onClickVideoContainer(e){this.showingSettings||(e.clicked=!0,setTimeout(()=>{e.clicked=!1},2e3),this.sharedService.isMobileDevice()||this.showControlsTemporarily(e))}onTouchStartSlider(e,i,o){this.sliderContainer=i,i.startMove=!0,this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}onTouchMoveSlider(e,i,o){i.startMove&&(this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100)}goToNextEpisode(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1,d=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o);if(-1!=d)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[d]);else{let m=e+1,b=this.builderVideo.ItemDetail.ListSeasons.findIndex(w=>w.SeasonNumber==m);if(-1!=b){let w=this.builderVideo.ItemDetail.ListSeasons[b];this.builderVideo.ItemDetail.CurrentSeason=w,w&&w.ListEpisodes&&w.ListEpisodes.length&&this.getVideoByEpisode(w.ListEpisodes[0])}}}}getVideoByEpisode(e){this.deleteAllProcessesAndDirectories();var i=this.sharedService.mediaServers.find(m=>m.Id==this.builderVideo.TranscodePrepareVideo.MediaServerId),o=this.libraryService.GetTranscodeVideoFromEpisode(this.builderVideo.ItemDetail,e,i);this.builderVideo.TranscodePrepareVideo=o,this.builderVideo.ItemDetail.ListSeasons&&(this.builderVideo.ItemDetail.CurrentSeason=this.builderVideo.ItemDetail.ListSeasons.find(m=>m.SeasonNumber==e.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.find(m=>m.EpisodeNumber==e.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=gs.Empty,this.restProvider.executeHttpMethodByUrl(ti.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(m=>{this.builderVideo.LoadStatus=gs.Generated;const b=Qc().decode(m);let w=JSON.parse(b);this.builderVideo.TranscodeRunVideo=w,this.builderVideo.TranscodePrepareVideo=w.TranscodePrepareVideo,this.initializeStreams(),this.getVideoSource()},m=>{this.showLoadVideoErrorActionsDialog(),console.error(m)})}goToPreviousEpisode(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1,d=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o);if(-1!=d)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[d]);else{let m=e+1,b=this.builderVideo.ItemDetail.ListSeasons.findIndex(w=>w.SeasonNumber==m);if(-1!=b){let w=this.builderVideo.ItemDetail.ListSeasons[b];this.builderVideo.ItemDetail.CurrentSeason=w,w&&w.ListEpisodes&&w.ListEpisodes.length&&this.getVideoByEpisode(w.ListEpisodes[w.ListEpisodes.length-1])}}}}isEnablePreviousEpisodeButton(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o))return!0;{let m=e-1,b=this.builderVideo.ItemDetail.ListSeasons.findIndex(w=>w.SeasonNumber==m);if(-1!=b){let w=this.builderVideo.ItemDetail.ListSeasons[b];return!!(w&&w.ListEpisodes&&w.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o))return!0;{let m=e+1,b=this.builderVideo.ItemDetail.ListSeasons.findIndex(w=>w.SeasonNumber==m);if(-1!=b){let w=this.builderVideo.ItemDetail.ListSeasons[b];return!!(w&&w.ListEpisodes&&w.ListEpisodes.length)}return!1}}return!1}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(e){this.currentSelectedPrincipalSettingOption=e}onClickStreamOption(e){this.currentSelectedPrincipalSettingOption.selectedOption=e,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=e.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==e.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=e.index,this.hls.subtitleDisplay=!0))}getSubtitle(e){let i=this;this.http.get(e,{responseType:"text"}).subscribe(o=>{o&&(0,wm.Q)(o)&&(0,wm.Q)(o).entries?(i.currentSubtitleData=(0,wm.Q)(o).entries,0==i.currentSubtitleData.length?setTimeout(()=>{i.getSubtitle(e)},1e3):i.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{i.getSubtitle(e)},1e3))},o=>{console.error(o),setTimeout(()=>{i.getSubtitle(e)},1e3)})}showSubtitle(){}closeVideo(){document.fullscreenElement&&document.exitFullscreen(),this.deleteAllProcessesAndDirectories(),this.router.navigateByUrl("/home")}focusButton(e){e.focus(),this.sharedService.currentSelectedElement=e}ngAfterViewInit(){}getConfirmMessage(){var e="Vacio";switch(this.builderVideo.LoadStatus){case gs.Empty:e="Vac\xedo";break;case gs.Generated:e="Generado";break;case gs.Initialized:e="Inicializado";break;case gs.LoadedMetada:e="Cargado Metadata";break;case gs.LoadedData:e="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+e+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.builderVideo.TranscodePrepareVideo.ListAudioStreams&&this.builderVideo.TranscodePrepareVideo.ListAudioStreams.length>0&&(this.builderVideo.TranscodePrepareVideo.ListAudioStreams.forEach(e=>{let i="";"spa"==e.language&&(i="Espa\xf1ol"),"eng"==e.language&&(i="Ingles"),e.title&&(i=i+" ("+e.title+")"),e.name=i}),this.listPrincipalSettingsOptions[0].listOptions=this.builderVideo.TranscodePrepareVideo.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.builderVideo.TranscodePrepareVideo.ListAudioStreams.find(e=>1==e.isDefault)),this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams&&this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.length>0){this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.forEach(o=>{let d="";"spa"==o.language&&(d="Espa\xf1ol"),"eng"==o.language&&(d="Ingles"),o.title&&(d=d+" ("+o.title+")"),o.name=d});let e=[];e.push({index:1e6,name:"Ninguno"}),e=e.concat(this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams),this.listPrincipalSettingsOptions[1].listOptions=e;let i=this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.find(o=>1==o.isDefault);null==i&&(i=e.find(o=>1e6==o.index)),this.listPrincipalSettingsOptions[1].selectedOption=i}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=this.builderVideo&&null!=this.builderVideo.TranscodePrepareVideo.CurrentTime?this.builderVideo.TranscodePrepareVideo.CurrentTime:0}updateMediaFilePlayback(){if(this.builderVideo&&null!=this.builderVideo.TranscodePrepareVideo.TotalSeconds){var e=0;this.getCurrentVideoTime()>0&&this.getCurrentVideoTime()<=this.builderVideo.TranscodePrepareVideo.TotalSeconds&&((e=this.getCurrentVideoTime())-20<0?e=0:e-=20);let i={Title:this.builderVideo.TranscodePrepareVideo.Title,MediaFileId:this.builderVideo.TranscodePrepareVideo.VideoId,ProfileId:this.sharedService.currentProfile.Id,DurationTime:this.builderVideo.TranscodePrepareVideo.TotalSeconds,CurrentTime:e};this.builderVideo.TranscodePrepareVideo.Subtitle&&(i.Subtitle=this.builderVideo.TranscodePrepareVideo.Subtitle),this.builderVideo.ItemDetail.CurrentSeason&&(i.SeasonNumber=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode&&(i.EpisodeNumber=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber),this.libraryService.updateMediaFilePlayback(this.builderVideo.TranscodePrepareVideo.MediaServerUrl,i).then(o=>{},o=>{console.error(o)})}}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.getFormatTime(this.builderVideo.TranscodePrepareVideo.TotalSeconds):"00:00:00"}getFormatTime(e){var i=parseInt(e,10),o=Math.floor(i/3600),d=Math.floor((i-3600*o)/60),m=i-3600*o-60*d;return o<10&&(o="0"+o),d<10&&(d="0"+d),m<10&&(m="0"+m),o+":"+d+":"+m}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let e=this.getCurrentVideoTime();return null!=e&&e>0?this.getFormatTime(e):"00:00:00"}}onMouseDownSlider(e,i){this.sliderContainer=i,i.startMove=!0,this.calculateNewTimeToGo(e,i)}onMouseMoveSlider(e,i){i.startMove&&this.calculateNewTimeToGo(e,i)}calculateNewTimeToGo(e,i){this.lastTmpVideoTime=e.offsetX/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(e){if(this.lastTmpVideoTime){if(e.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let i=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(i)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let i=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(i)}this.lastTmpVideoTime=void 0}}updateVideoData(e){this.deleteAllProcessesAndDirectories();let i=Ns();this.sharedService.listProcessGUIDs.push(i),this.builderVideo.TranscodePrepareVideo.TimeSpan=e.toString(),this.builderVideo.TranscodePrepareVideo.ProcessGUID=i,this.builderVideo.LoadStatus=gs.Empty,this.restProvider.executeHttpMethodByUrl(ti.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/UpdateVideoData",this.builderVideo.TranscodePrepareVideo).then(d=>{this.builderVideo.LoadStatus=gs.Generated;const m=Qc().decode(d);let b=JSON.parse(m);this.builderVideo.TranscodeRunVideo=b,this.updateAudioAndVideoList(),this.getVideoSource()},d=>{this.showLoadVideoErrorActionsDialog(),console.error(d)})}deleteAllProcessesAndDirectories(){this.sharedService.listProcessGUIDs&&this.sharedService.listProcessGUIDs.length>0&&this.deleteProcessesAndDirectories()}deleteProcessesAndDirectories(){var e=this.sharedService.listProcessGUIDs.join(",");this.restProvider.executeHttpMethodByUrl(ti.DELETE,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/DeleteByListGuids?guids="+e).then(o=>{const d=Qc().decode(o);let m=JSON.parse(d);if(m&&m.length>0&&this.sharedService.listProcessGUIDs.length>0)for(var b=0;b<m.length;b++){let w=m[b],G=this.sharedService.listProcessGUIDs.findIndex(re=>re==w);-1!=G&&this.sharedService.listProcessGUIDs.splice(G,1)}},o=>{console.error(o)})}getSliderPogressWidth(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds){let e=this.builderVideo.TranscodePrepareVideo.TotalSeconds,o=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/e*100;return o>100&&(o=100),o+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==Dd.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==Dd.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(e){let i=this;this.dashMediaPlayer=Ud.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.builderVideo.TranscodePrepareVideo.TotalSeconds,bufferToKeep:this.builderVideo.TranscodePrepareVideo.TotalSeconds}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,e),this.dashMediaPlayer.on(Ud.MediaPlayer.events.ERROR,function(o){console.log(o),console.error("hubo un error")}),this.dashMediaPlayer.on(Ud.MediaPlayer.events.PLAYBACK_ERROR,function(o){console.log(o),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(Ud.MediaPlayer.events.PLAYBACK_WAITING,function(o){console.error("PLAYBACK_WAITING"),console.log(o)}),this.dashMediaPlayer.on(Ud.MediaPlayer.events.BUFFER_EMPTY,function(o){console.error("BUFFER_EMPTY"),console.log(o)}),this.dashMediaPlayer.on(Ud.MediaPlayer.events.STREAM_INITIALIZED,function(o){console.error("STREAM_INITIALIZED"),i.initializeVideo=!0,console.log(o)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}onInitializeVideo(){this.executeInitializeVideo()}getCurrentVideoTime(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==Dd.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(e){let o=1e3*(this.getCurrentVideoTime()-1);return e.from<=o&&e.to>=o}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.builderVideo.LoadStatus=gs.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.builderVideo.LoadStatus=gs.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}executeInitializeVideo(){this.getVideoSource()}testAnyVideo(){}getVideoSource(){this.http.get(this.builderVideo.TranscodeRunVideo.VideoPath,{headers:void 0,responseType:"blob"}).subscribe(e=>{this.builderVideo.LoadStatus=gs.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("mpd")?this.displayVideoUsingDash(this.builderVideo.TranscodeRunVideo.VideoPath):-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("m3u8")?this.displayVideoUsingHLS(this.builderVideo.TranscodeRunVideo.VideoPath):(this.videoTarget.nativeElement.src=this.builderVideo.TranscodeRunVideo.VideoPath,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},e=>{console.error(e),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(e){let i=this;setTimeout(()=>{i.builderVideo.LoadStatus!=gs.LoadedData&&i.showLoadVideoErrorActionsDialog()},1e4,i),this.showVideoInFullScreen(),oh.isSupported()?(this.hls=new oh,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(e),this.hls.on(oh.Events.MEDIA_ATTACHED,function(o){console.log("MEDIA_ATTACHED"),console.log(o)}),this.hls.on(oh.Events.AUDIO_TRACK_LOADED,function(o){console.log("AUDIO_LOADED"),console.log(o)}),this.hls.on(oh.Events.MANIFEST_LOADED,function(o){console.log("MANIFEST_LOADED"),console.log(o)}),this.hls.on(oh.Events.MANIFEST_PARSED,function(o){console.log("MANIFEST_PARSED"),console.log(o)}),this.hls.on(oh.Events.ERROR,function(o){i.videoTarget.nativeElement.CurrentTime=i.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(o)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=e,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(e){let i=Ns();this.lastTimeSpanChangeGUID=i,setTimeout(()=>{i==this.lastTimeSpanChangeGUID&&this.updateVideoData(e)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(e){this.initializeVideo=!1;let i=0;i=this.getCurrentVideoTime()-e>=0?e:this.getCurrentVideoTime(),this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==Dd.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>i?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-i):(this.lastRealVideoTime=this.getCurrentVideoTime()-i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>i?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-i:(this.lastRealVideoTime=this.getCurrentVideoTime()-i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(e){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.builderVideo.TranscodePrepareVideo.TotalSeconds){let i=0;i=this.getCurrentVideoTime()+e>this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.builderVideo.TranscodePrepareVideo.TotalSeconds>this.getCurrentVideoTime()?this.builderVideo.TranscodePrepareVideo.TotalSeconds-this.getCurrentVideoTime():0:e,this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==Dd.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=i?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+i):(this.lastRealVideoTime=this.getCurrentVideoTime()+i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=i?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+i:(this.lastRealVideoTime=this.getCurrentVideoTime()+i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(e){!this.showControls&&!e.clicked&&!this.showingSettings&&this.showControlsTemporarily(e)}executeShowControlsTemporarily(e,i){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{e.guid==i&&this.executeHideControls()},2e3)}showControlsTemporarily(e){if(!this.showControls){let i=Ns();e.guid=i,this.sharedService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(e,i)},250):this.executeShowControlsTemporarily(e,i)}}toogleVideoControls(e){this.showControls?this.showControls=!0:this.showControlsTemporarily(e)}showLoadVideoErrorActionsDialog(){var e=new Wt.vA;e.disableClose=!0,e.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(rO,e).afterClosed().subscribe(i=>{"Si"==i.key&&this.onConfirmReplyVideo(),"No"==i.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.gz),t.Y36(Vn.F0),t.Y36(Pc),t.Y36(Wt.uw),t.Y36(Kr),t.Y36(zi),t.Y36(t.sBO),t.Y36(fe))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-video"]],viewQuery:function(i,o){if(1&i&&(t.Gf(oO,5),t.Gf(sO,5),t.Gf(aO,5),t.Gf(lO,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.controlsContainer=d.first),t.iGM(d=t.CRH())&&(o.settingsContainer=d.first),t.iGM(d=t.CRH())&&(o.videoPrincipalContainer=d.first),t.iGM(d=t.CRH())&&(o.videoTarget=d.first)}},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],["class","sinovad-video-header-section-title-container",4,"ngIf"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],[1,"sinovad-video-header-section-title-container"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],["src","",2,"display","none",3,"error"],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1,2),t.YNc(3,SO,55,24,"div",3),t.qZA()()),2&i&&(t.xp6(3),t.Q6J("ngIf",o.showVideo))},dependencies:[g.mk,g.sg,g.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return r})();const cs=(r,n)=>{const e=(0,t.f3M)(Vn.F0);return null!=localStorage.getItem("apiToken")||e.navigateByUrl("/landing")},Xm=(r,n)=>{const e=(0,t.f3M)(Vn.F0);return null==localStorage.getItem("apiToken")||e.navigateByUrl("/landing")},ep=(r,n)=>{const e=(0,t.f3M)(zi),i=(0,t.f3M)(Vn.F0);var o=!1;for(let d=0;d<e.manageMenus.length;d++){const m=e.manageMenus[d];if(m.ChildMenus&&-1!=m.ChildMenus.findIndex(b=>b.Path&&b.Path.includes(r.routeConfig.path))){o=!0;break}}return!!o||i.navigateByUrl("/home")};let DO=(()=>{class r{constructor(e){this.restProvider=e}getDetailsByCatalogId(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.GET,"/catalogs/GetDetailsByCatalogAsync/"+e).then(d=>{i(d)},d=>{o(d)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),xE=(()=>{class r{constructor(e){this.restProvider=e}setPassword(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.POST,"/users/SetPassword",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changePassword(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.POST,"/users/ChangePassword",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changeUsername(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.POST,"/users/ChangeUserName",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changeNanes(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(ti.POST,"/users/ChangeNames",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Kr))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function xO(r,n){if(1&r&&(t.TgZ(0,"div",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function AO(r,n){1&r&&t._UZ(0,"div",15)}const MA=function(r){return{error:r}};let MO=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangePassword=new t.vpe,this.changePasswordForm=this.formBuilder.group({password:new Tt.NI("",[Tt.kI.required]),confirmPassword:new Tt.NI("",[Tt.kI.required]),currentPassword:new Tt.NI("",[Tt.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.accountSettingsService.changePassword(this.changePasswordData).then(e=>{this.loading=!1,this.closeChangePassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(xE),t.Y36(Tt.qu),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:18,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,xO,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangePassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changePasword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",6)(16,"label"),t._uU(17),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11)(21,"span"),t._uU(22,"Guardar Cambios"),t.qZA(),t.YNc(23,AO,1,0,"div",12),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changePasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(12,MA,o.sharedService.isInvalidFormControl(o.changePasswordForm,"password"))),t.xp6(2),t.hij(" Contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(14,MA,o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirme la nueva contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(2),t.Q6J("ngClass",t.VKq(16,MA,o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword"))),t.xp6(2),t.hij("Contrase\xf1a actual",o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),t.xp6(3),t.Q6J("disabled",o.loading||!o.changePasswordForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,Tt.sg,Tt.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function wO(r,n){if(1&r&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function IO(r,n){1&r&&t._UZ(0,"div",14)}const DI=function(r){return{error:r}};let PO=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeSetPassword=new t.vpe,this.setPasswordForm=this.formBuilder.group({password:new Tt.NI("",[Tt.kI.required]),confirmPassword:new Tt.NI("",[Tt.kI.required])}),this.loading=!1}ngOnInit(){}setPassword(){this.setPasswordForm.valid?(this.setPasswordData={UserId:this.sharedService.userData.Id,Password:this.setPasswordForm.value.password,ConfirmPassword:this.setPasswordForm.value.confirmPassword},this.loading=!0,this.accountSettingsService.setPassword(this.setPasswordData).then(e=>{this.loading=!1,this.sharedService.userData.IsPasswordSetted=!0,this.closeSetPassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.setPasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(xE),t.Y36(Tt.qu),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-set-password"]],outputs:{closeSetPassword:"closeSetPassword"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,wO,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeSetPassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.setPassword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,IO,1,0,"div",11),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.setPasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,DI,o.sharedService.isInvalidFormControl(o.setPasswordForm,"password"))),t.xp6(2),t.hij(" Elegir una Contrase\xf1a",o.sharedService.isInvalidFormControl(o.setPasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.setPasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,DI,o.sharedService.isInvalidFormControl(o.setPasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirmar la contrase\xf1a",o.sharedService.isInvalidFormControl(o.setPasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.setPasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(3),t.Q6J("disabled",o.loading||!o.setPasswordForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,Tt.sg,Tt.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function OO(r,n){if(1&r&&(t.TgZ(0,"div",11),t._UZ(1,"i",12),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function RO(r,n){1&r&&t._UZ(0,"div",13)}const NO=function(r){return{error:r}};let LO=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangeUsername=new t.vpe,this.changeUsernameForm=this.formBuilder.group({username:new Tt.NI(this.sharedService.userData.UserName,[Tt.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeUsernameForm.valid?(this.changeUsernameData={UserId:this.sharedService.userData.Id,UserName:this.changeUsernameForm.value.username},this.loading=!0,this.accountSettingsService.changeUsername(this.changeUsernameData).then(e=>{this.loading=!1,this.sharedService.userData.UserName=this.changeUsernameData.UserName,this.closeChangeUsername.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changeUsernameForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(xE),t.Y36(Tt.qu),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-username"]],outputs:{closeChangeUsername:"closeChangeUsername"},decls:16,vars:10,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","username"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,OO,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangeUsername.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",8)(12,"button",9)(13,"span"),t._uU(14,"Guardar Cambios"),t.qZA(),t.YNc(15,RO,1,0,"div",10),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changeUsernameForm),t.xp6(1),t.Q6J("ngClass",t.VKq(8,NO,o.sharedService.isInvalidFormControl(o.changeUsernameForm,"username"))),t.xp6(2),t.hij(" Nombre de Usuario",o.sharedService.isInvalidFormControl(o.changeUsernameForm,"username")&&o.sharedService.hasRequireErrorFormControl(o.changeUsernameForm,"username")?" - Se requiere nombre de usuario":""," "),t.xp6(3),t.Q6J("disabled",o.loading||o.changeUsernameForm.pristine||!o.changeUsernameForm.valid||o.changeUsernameForm.value.username==o.sharedService.userData.UserName),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,Tt.sg,Tt.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function kO(r,n){if(1&r&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function FO(r,n){1&r&&t._UZ(0,"div",14)}const xI=function(r){return{error:r}};let BO=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangeNames=new t.vpe,this.changeNamesForm=this.formBuilder.group({firstName:new Tt.NI(this.sharedService.userData.FirstName,[Tt.kI.required]),lastName:new Tt.NI(this.sharedService.userData.LastName,[Tt.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeNamesForm.valid?(this.changeNamesData={UserId:this.sharedService.userData.Id,FirstName:this.changeNamesForm.value.firstName,LastName:this.changeNamesForm.value.lastName},this.loading=!0,this.accountSettingsService.changeNanes(this.changeNamesData).then(e=>{this.loading=!1,this.sharedService.userData.FirstName=this.changeNamesData.FirstName,this.sharedService.userData.LastName=this.changeNamesData.LastName,this.closeChangeNames.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changeNamesForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(xE),t.Y36(Tt.qu),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-names"]],outputs:{closeChangeNames:"closeChangeNames"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","firstName"],["formControlName","lastName"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,kO,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangeNames.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,FO,1,0,"div",11),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changeNamesForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,xI,o.sharedService.isInvalidFormControl(o.changeNamesForm,"firstName"))),t.xp6(2),t.hij(" Nombres",o.sharedService.isInvalidFormControl(o.changeNamesForm,"firstName")&&o.sharedService.hasRequireErrorFormControl(o.changeNamesForm,"firstName")?" - Se requiere nombres":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,xI,o.sharedService.isInvalidFormControl(o.changeNamesForm,"lastName"))),t.xp6(2),t.hij(" Apellidos",o.sharedService.isInvalidFormControl(o.changeNamesForm,"lastName")&&o.sharedService.hasRequireErrorFormControl(o.changeNamesForm,"lastName")?" - Se requiere apellidos":""," "),t.xp6(3),t.Q6J("disabled",o.loading||o.changeNamesForm.pristine||!o.changeNamesForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,Tt._Y,Tt.Fj,Tt.JJ,Tt.JL,Tt.sg,Tt.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function UO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeUsernameSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombre de Usuario"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.Oqu(e.sharedService.userData.UserName)}}function jO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-username",16),t.NdJ("closeChangeUsername",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeUsernameSection=!0)}),t.qZA()}}function VO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeNamesSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombres y apellidos"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.AsE("",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName,"")}}function GO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-names",17),t.NdJ("closeChangeNames",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeNamesSection=!0)}),t.qZA()}}function HO(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"*********"),t.qZA())}function KO(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function YO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Contrase\xf1a"),t.qZA(),t.YNc(8,HO,2,0,"span",18),t.YNc(9,KO,2,0,"span",18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",e.sharedService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!e.sharedService.userData.IsPasswordSetted)}}function WO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-password",19),t.NdJ("closeChangePassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function zO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-set-password",20),t.NdJ("closeSetPassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function ZO(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function $O(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.currentUserLinkedAccountsText)}}let AI=(()=>{class r{constructor(e,i){this.catalogService=e,this.sharedService=i,this.isCollapsedLinkedAccountsSection=!0,this.isCollapsedChangeNamesSection=!0,this.isCollapsedChangeUsernameSection=!0,this.isCollapsedChangePasswordSection=!0,this.allLinkedAccountProviders=[],this.currentUserLinkedAccountIds=[]}ngOnInit(){this.currentUserLinkedAccountIds=this.sharedService.linkedAccounts.map(e=>e.LinkedAccountProviderCatalogDetailId),this.catalogService.getDetailsByCatalogId(Ea.LinkedAccountProvider).then(e=>{this.allLinkedAccountProviders=e.Data,this.currentUserLinkedAccountsText=this.allLinkedAccountProviders.filter(i=>-1!=this.currentUserLinkedAccountIds.indexOf(i.Id)).map(i=>i.Name).join(",")},e=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(DO),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-my-account"]],decls:37,vars:10,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"settings-category-header-background"],[2,"width","100%"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangeUsername",4,"ngIf"],[3,"closeChangeNames",4,"ngIf"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],[3,"closeChangePassword",4,"ngIf"],[3,"closeSetPassword",4,"ngIf"],[3,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangeUsername"],[3,"closeChangeNames"],[4,"ngIf"],[3,"closeChangePassword"],[3,"closeSetPassword"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cuenta"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"h2"),t._uU(7,"Informaci\xf3n personal"),t.qZA()()(),t.YNc(8,UO,10,1,"div",4),t.YNc(9,jO,1,0,"app-change-username",5),t.YNc(10,VO,10,2,"div",4),t.YNc(11,GO,1,0,"app-change-names",6),t.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),t._uU(16,"Correo electr\xf3nico"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()()()(),t.TgZ(19,"div",2)(20,"div",3)(21,"h2"),t._uU(22,"Seguridad"),t.qZA()()(),t.YNc(23,YO,10,2,"div",4),t.YNc(24,WO,1,0,"app-change-password",10),t.YNc(25,zO,1,0,"app-set-password",11),t.TgZ(26,"div",2)(27,"div",3)(28,"h2"),t._uU(29,"Ajustes"),t.qZA()()(),t.TgZ(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),t._uU(34,"Cuentas vinculadas"),t.qZA(),t.YNc(35,ZO,2,0,"ng-template",12),t.YNc(36,$O,2,1,"ng-template",12),t.qZA()()()()),2&i&&(t.xp6(8),t.Q6J("ngIf",o.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",o.isCollapsedChangeNamesSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangeNamesSection),t.xp6(7),t.Oqu(o.sharedService.userData.Email),t.xp6(5),t.Q6J("ngIf",o.isCollapsedChangePasswordSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection&&o.sharedService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection&&!o.sharedService.userData.IsPasswordSetted),t.xp6(10),t.Q6J("ngIf",0==o.sharedService.linkedAccounts.length),t.xp6(1),t.Q6J("ngIf",o.sharedService.linkedAccounts.length>0))},dependencies:[g.O5,MO,PO,LO,BO],styles:[".settings-category-header-background[_ngcontent-%COMP%]{background-color:#0000001a;border-radius:.25rem;margin:.5rem 0;padding:.75rem}.settings-category-header-background[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-width:100%;overflow:hidden;overflow-wrap:break-word;font-size:20px}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}",'.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();const qO=[{path:"",children:[{path:"home",component:ku,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule),canActivate:[cs]},{path:"media/movies",component:ku,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule),canActivate:[cs]},{path:"media/tvseries",component:ku,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule),canActivate:[cs]},{path:"media/server/:serverGuid",component:ku,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule),canActivate:[cs]},{path:"media/server/:serverGuid/libraries/:libraryId",component:ku,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule),canActivate:[cs]},{path:"media/server/:serverGuid/libraries/:libraryId/detail",component:Mm,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule),canActivate:[cs]},{path:"media/server/:serverGuid/video/:mediaFileId",component:SI,loadChildren:()=>Promise.resolve().then(C.bind(C,3002)).then(r=>r.VideoPageModule),canActivate:[cs]},{path:"search",component:Ug,loadChildren:()=>C.e(316).then(C.bind(C,6316)).then(r=>r.SearchModule),canActivate:[cs]},{path:"select-profile",component:lb,loadChildren:()=>C.e(931).then(C.bind(C,6931)).then(r=>r.ProfilesModule),canActivate:[cs]},{path:"add-profile",component:cb,loadChildren:()=>C.e(931).then(C.bind(C,6931)).then(r=>r.ProfilesModule),canActivate:[cs]},{path:"edit-profile/:profileGuid",component:hx,loadChildren:()=>C.e(931).then(C.bind(C,6931)).then(r=>r.ProfilesModule),canActivate:[cs]},{path:"settings/server/:serverGuid/settings/general",component:mm,loadChildren:()=>C.e(527).then(C.bind(C,1527)).then(r=>r.ServerSettingsGeneralPageModule),canActivate:[cs]},{path:"settings/server/:serverGuid/manage/libraries",component:ab,loadChildren:()=>C.e(558).then(C.bind(C,7558)).then(r=>r.LibrariesModule),canActivate:[cs]},{path:"settings/server/:serverGuid/settings/transcoder",component:kp,loadChildren:()=>C.e(211).then(C.bind(C,3211)).then(r=>r.TranscoderSettingssPageModule),canActivate:[cs]},{path:"settings/account",component:AI,loadChildren:()=>C.e(727).then(C.bind(C,2727)).then(r=>r.AccountSettingsModule),canActivate:[cs]},{path:"manage/movies",component:Tm,loadChildren:()=>C.e(369).then(C.bind(C,3369)).then(r=>r.MoviesModule),canActivate:[cs,ep]},{path:"manage/tvseries",component:kg,loadChildren:()=>C.e(425).then(C.bind(C,5425)).then(r=>r.TvSeriesModule),canActivate:[cs,ep]},{path:"manage/genres",component:Av,loadChildren:()=>C.e(153).then(C.bind(C,7153)).then(r=>r.GenresModule),canActivate:[cs,ep]},{path:"manage/menus",component:Dg,loadChildren:()=>C.e(991).then(C.bind(C,3991)).then(r=>r.MenusModule),canActivate:[cs,ep]},{path:"manage/users",component:t0,loadChildren:()=>C.e(417).then(C.bind(C,3417)).then(r=>r.UsersModule),canActivate:[cs,ep]},{path:"manage/roles",component:Cg,loadChildren:()=>C.e(111).then(C.bind(C,6111)).then(r=>r.RolesPageModule),canActivate:[cs,ep]},{path:"landing",component:gg,loadChildren:()=>C.e(325).then(C.bind(C,7325)).then(r=>r.LandingPageModule),canActivate:[Xm]},{path:"register",component:pg,loadChildren:()=>C.e(166).then(C.bind(C,166)).then(r=>r.RegisterAcccountPageModule),canActivate:[Xm]},{path:"login",component:Ny,loadChildren:()=>C.e(660).then(C.bind(C,7660)).then(r=>r.LoginPageModule),canActivate:[Xm]},{path:"recover",component:xd,loadChildren:()=>C.e(264).then(C.bind(C,6264)).then(r=>r.RecoverPasswordPageModule),canActivate:[Xm]},{path:"reset/:base64Data",component:Fv,loadChildren:()=>C.e(334).then(C.bind(C,9334)).then(r=>r.ResetPasswordPageModule),canActivate:[Xm]},{path:"confirm/:base64Data",component:Bp,loadChildren:()=>C.e(271).then(C.bind(C,4271)).then(r=>r.ConfirmEmailPageModule),canActivate:[Xm]},{path:"404",component:Fp,loadChildren:()=>C.e(170).then(C.bind(C,7170)).then(r=>r.NotFoundPageModule)},{path:"",pathMatch:"full",redirectTo:"home"},{path:"web",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}]}];let JO=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[c.b2,g.ez,Tt.u5,da.m,Tt.UX,vl,yl,Vn.Bz.forChild(qO)]})}return r})();function QO(r,n){1&r&&t._UZ(0,"i",12)}const XO=function(r){return{selected:r}};function eR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onClickDropDownMenuOption(d))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t.YNc(9,QO,1,0,"i",10),t.qZA(),t.TgZ(10,"div",11),t._UZ(11,"i"),t.qZA()()()()}if(2&r){const e=n.$implicit;t.Q6J("ngClass",t.VKq(7,XO,e.isSelected)),t.xp6(4),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," "),t.xp6(3),t.Q6J("ngIf",e.isSelected),t.xp6(2),t.Tol(e.iconClass)}}function tR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.YNc(1,eR,12,9,"ng-template",2),t.qZA()}if(2&r){const e=t.oxw();t.Udp("width",e.width+"px")("top",e.top+"px")("left",e.left+"px"),t.xp6(1),t.Q6J("ngForOf",e.dropDownMenuOptions.listItems)}}let nR=(()=>{class r{constructor(e,i,o){this.ref=e,this.sharedService=i,this.router=o,this.hide=new t.vpe,this.clickItem=new t.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var e=this;return(0,xr.Z)(function*(){yield e.sharedService.delay(100),e.show=!0,e.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(e){this.clickItem.emit(e),this.router.navigateByUrl(e.path)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(zi),t.Y36(Vn.F0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(i,o){1&i&&t.YNc(0,tR,2,7,"div",0),2&i&&t.Q6J("ngIf",o.show)},dependencies:[wu,g.mk,g.sg,g.O5],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return r})(),iR=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o,this.isShowing=!1}show(e){return new Promise((i,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const m=this.factoryResolver.resolveComponentFactory(nR).create(this.injector);this.lastViewRef=m.hostView,this.applicationRef.attachView(m.hostView);let b=this;const w=e.target.getBoundingClientRect();m.instance.dropDownMenuOptions=e,m.instance.left=w.left,m.instance.top=w.top+w.height,m.instance.width=w.width,m.instance.clickItem.subscribe(ve=>{m.destroy(),b.applicationRef.detachView(m.hostView),b.isShowing=!1,i(ve)}),m.instance.hide.subscribe(ve=>{m.destroy(),b.applicationRef.detachView(m.hostView),b.isShowing=!1,o(!0)}),this.isShowing=!0;const G=m.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(G)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const rR=["mediaServerButton"],wA=function(r){return{selected:r}},oR=function(){return["/settings/account"]};function sR(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.TgZ(4,"div",9)(5,"a",10)(6,"div",11),t._UZ(7,"div",12),t.TgZ(8,"div",13),t._uU(9," Cuenta "),t.qZA()()()()()),2&r){const e=t.oxw();t.xp6(3),t.AsE(" ",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(4,wA,e.isSelectedAccountOption())),t.xp6(1),t.Q6J("routerLink",t.DdM(6,oR))}}function aR(r,n){1&r&&t._UZ(0,"i",24)}function lR(r,n){1&r&&t._UZ(0,"i",25)}function cR(r,n){1&r&&t._UZ(0,"i",26)}function dR(r,n){1&r&&t._UZ(0,"i",27)}const uR=function(r,n){return{"icon-secure":r,"icon-alert":n}};function fR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14,15),t.NdJ("click",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.togleDropDownMediaServers(o))}),t.TgZ(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5),t.qZA(),t.YNc(6,aR,1,0,"i",19),t.YNc(7,lR,1,0,"i",20),t.qZA(),t.TgZ(8,"div",21),t.YNc(9,cR,1,0,"i",22),t.YNc(10,dR,1,0,"i",23),t.qZA()()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(7,wA,e.isSelectedServerOption())),t.xp6(5),t.hij(" ",e.sharedService.selectedMediaServer.FamilyName?e.sharedService.selectedMediaServer.FamilyName:e.sharedService.selectedMediaServer.DeviceName," "),t.xp6(1),t.Q6J("ngIf",e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngClass",t.WLB(9,uR,e.sharedService.selectedMediaServer.isSecureConnection,!e.sharedService.selectedMediaServer.isSecureConnection)),t.xp6(1),t.Q6J("ngIf",e.sharedService.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!e.sharedService.selectedMediaServer.isSecureConnection)}}const hR=function(r){return[r]};function mR(r,n){if(1&r&&(t.TgZ(0,"div",9)(1,"a",10)(2,"div",11),t._UZ(3,"div",12),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.Q6J("ngClass",t.VKq(3,wA,i.isSelectedSidebarOption(e))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,hR,i.getOptionPath(e))),t.xp6(4),t.hij(" ",e.name," ")}}function pR(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.YNc(4,mR,6,7,"ng-template",28),t.qZA()),2&r){const e=n.$implicit;t.xp6(3),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngForOf",e.listOptions)}}function gR(r,n){if(1&r&&t.YNc(0,pR,5,2,"ng-template",28),2&r){const e=t.oxw();t.Q6J("ngForOf",e.serverModules)}}let _R=(()=>{class r{constructor(e,i,o,d){this.dropDownServersService=e,this.activeRoute=i,this.ref=o,this.sharedService=d,this.prepareRouterOutlet=new t.vpe,this.collapseSidebar=new t.vpe,this.serverModules=[{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcoder"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}]}ngOnInit(){this.setSelectedMediaServer()}setSelectedMediaServer(){if(this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid){var e=this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i&&(this.sharedService.selectedMediaServer=i)}null==this.sharedService.selectedMediaServer&&this.sharedService.mediaServers&&this.sharedService.mediaServers.length>0&&(this.sharedService.selectedMediaServer=this.sharedService.mediaServers[0])}ngAfterViewInit(){}getOptionPath(e){return e.path.replace("{serverGuid}",this.sharedService.selectedMediaServer.Guid)}onClickModule(e){e.isCollapsed=!e.isCollapsed}togleDropDownMediaServers(e){this.showMediaServerMenuOptions(e)}showMediaServerMenuOptions(e){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(i=>{},i=>{})}getDropDownMenuOptions(){var e=void 0;if(this.mediaServerButton){let i=[];this.sharedService.mediaServers.forEach(d=>{i.push({title:d.FamilyName?d.FamilyName:d.DeviceName,subtitle:d.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:d.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+d.Guid+"/settings/general",isSelected:this.sharedService.selectedMediaServer.Id==d.Id})}),e={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:i}}return e}isSelectedSidebarOption(e){return-1!=this.getOptionPath(e).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(iR),t.Y36(Vn.gz),t.Y36(t.sBO),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-account"]],viewQuery:function(i,o){if(1&i&&t.Gf(rR,5),2&i){let d;t.iGM(d=t.CRH())&&(o.mediaServerButton=d.first)}},outputs:{prepareRouterOutlet:"prepareRouterOutlet",collapseSidebar:"collapseSidebar"},decls:6,vars:3,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],["ngFor","",3,"ngForOf"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,sR,10,7,"div",3),t.YNc(4,fR,11,12,"button",4),t.YNc(5,gR,1,1,"ng-template",5),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("ngIf",o.sharedService.userData),t.xp6(1),t.Q6J("ngIf",o.sharedService.selectedMediaServer),t.xp6(1),t.Q6J("ngIf",o.sharedService.selectedMediaServer&&o.serverModules&&o.serverModules.length>0))},dependencies:[wu,g.mk,g.sg,g.O5,Vn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function vR(r,n){1&r&&t._UZ(0,"i",9)}function yR(r,n){1&r&&t._UZ(0,"i",10)}function bR(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const ER=function(r){return[r]},TR=function(r){return{active:r}};function CR(r,n){if(1&r&&(t.TgZ(0,"li",12)(1,"a",13),t.YNc(2,bR,1,3,"i",14),t.TgZ(3,"span",7),t._uU(4),t.qZA()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,ER,e.Path))("ngClass",t.VKq(6,TR,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function SR(r,n){if(1&r&&(t.TgZ(0,"div")(1,"ul",11),t.YNc(2,CR,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function DR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"button",4),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.onClickModule(m,o))}),t.YNc(2,vR,1,0,"i",5),t.YNc(3,yR,1,0,"i",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.YNc(6,SR,3,1,"div",8),t.qZA()}if(2&r){const e=n.$implicit;t.xp6(2),t.Q6J("ngIf",e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let xR=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}onClickModule(e,i){i.preventDefault(),i.stopPropagation(),e.isCollapsed=!e.isCollapsed}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}isSelectedMenu(e){return-1!=e.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"ul",1),t.YNc(2,DR,7,4,"ng-template",2),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.manageMenus))},dependencies:[wu,g.mk,g.sg,g.O5,Vn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function AR(r,n){1&r&&t._UZ(0,"i",10)}function MR(r,n){1&r&&t._UZ(0,"i",11)}function wR(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}function IR(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const MI=function(r){return[r]},wI=function(r){return{active:r}};function PR(r,n){if(1&r&&(t.TgZ(0,"li",13)(1,"a",14),t.YNc(2,IR,1,3,"i",7),t.TgZ(3,"span",8),t._uU(4),t.qZA()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,MI,e.Path))("ngClass",t.VKq(6,wI,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function OR(r,n){if(1&r&&(t.TgZ(0,"div")(1,"ul",12),t.YNc(2,PR,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function RR(r,n){if(1&r&&(t.TgZ(0,"li",3)(1,"button",4),t.YNc(2,AR,1,0,"i",5),t.YNc(3,MR,1,0,"i",6),t.YNc(4,wR,1,3,"i",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.YNc(7,OR,3,1,"div",9),t.qZA()),2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,MI,e.Path))("ngClass",t.VKq(9,wI,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&!e.isCollapsed),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let NR=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}ngOnInit(){}onClickModule(e){e.isCollapsed=!e.isCollapsed}isSelectedMenu(e){return-1!=decodeURIComponent(window.location.pathname).indexOf(e.Path)}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"ul",1),t.YNc(2,RR,8,11,"ng-template",2),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.mediaMenu))},dependencies:[wu,g.mk,g.sg,g.O5,Vn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function LR(r,n){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.sharedService.currentProfile)," ")}}function kR(r,n){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(3);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.sharedService.currentProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function FR(r,n){if(1&r&&(t.TgZ(0,"span",11),t._uU(1),t.qZA(),t.YNc(2,LR,2,1,"div",12),t.YNc(3,kR,3,6,"img",12)),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.currentProfile.FullName," "),t.xp6(1),t.Q6J("ngIf",null==e.sharedService.currentProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.sharedService.currentProfile.AvatarPath)}}function BR(r,n){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.hij(" ",i.sharedService.getInitials(e)," ")}}function UR(r,n){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2).$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function jR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",15,5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,d=t.oxw(3);return t.KtG(d.onSelectProfile(o))}),t.YNc(3,BR,2,1,"div",12),t.YNc(4,UR,3,6,"img",12),t.TgZ(5,"span",11),t._uU(6),t.qZA()()()}if(2&r){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(2),t.hij(" ",e.FullName," ")}}function VR(r,n){if(1&r&&t.YNc(0,jR,7,3,"li",10),2&r){const e=n.$implicit,i=t.oxw(3);t.Q6J("ngIf",i.sharedService.currentProfile&&e.Id!=i.sharedService.currentProfile.Id)}}function GR(r,n){if(1&r&&t.YNc(0,VR,1,1,"ng-template",14),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.sharedService.listProfiles)}}function HR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickAdminMode())}),t.TgZ(2,"span"),t._uU(3,"Mantenimiento"),t.qZA()()()}}function KR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),t.YNc(5,FR,4,3,"ng-template",6),t.qZA()(),t._UZ(6,"div",7),t.TgZ(7,"div",8),t.YNc(8,GR,1,1,"ng-template",6),t.TgZ(9,"li",3)(10,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickEditProfilesButton())}),t.TgZ(11,"span"),t._uU(12,"Editar perfiles"),t.qZA()()(),t.TgZ(13,"li",3)(14,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickAccountOption())}),t.TgZ(15,"span"),t._uU(16,"Cuenta"),t.qZA()()(),t.YNc(17,HR,4,0,"li",10),t.TgZ(18,"li",3)(19,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.logOut())}),t.TgZ(20,"span"),t._uU(21,"Cerrar Sesi\xf3n"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.sharedService.currentProfile),t.xp6(3),t.Q6J("ngIf",e.sharedService.listProfiles&&e.sharedService.listProfiles.length>0),t.xp6(9),t.Q6J("ngIf",e.sharedService.manageMenus&&e.sharedService.manageMenus.length>0)}}let YR=(()=>{class r{constructor(e,i,o,d){this.userService=e,this.ref=i,this.router=o,this.sharedService=d}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onClickEditProfilesButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedService.manageMenus[0].ChildMenus[0].Path)}logOut(){this.userService.clearSessionData(),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(_m),t.Y36(t.sBO),t.Y36(Vn.F0),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(i,o){1&i&&t.YNc(0,KR,22,3,"div",0),2&i&&t.Q6J("ngIf",!o.sharedService.showSplashScreen)},dependencies:[g.sg,g.O5,vs,g.Ov],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return r})();const WR=["searchTarget"],II=function(){return["/home"]};function zR(r,n){1&r&&(t.TgZ(0,"a",11),t._UZ(1,"i",12),t.qZA()),2&r&&t.Q6J("routerLink",t.DdM(1,II))}const PI=function(r){return{focused:r}};function ZR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.searchText=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeSearchValue())})("focus",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!0)})("blur",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!1)}),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickSearchButton())}),t._UZ(5,"i",9),t.qZA()(),t.TgZ(6,"div",15)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showNavbarSearch=!1)}),t._UZ(8,"i",16),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,PI,e.isFocusSearch)),t.xp6(1),t.Q6J("ngModel",e.searchText)}}let $R=(()=>{class r{constructor(e,i,o){this.router=e,this.restProvider=i,this.sharedService=o,this.toggleSidebar=new t.vpe,this.selectOption=new t.vpe,this.toggleMenu=new t.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const e=document.getElementById("userDropDown");document.addEventListener("click",i=>{this.showDropDown=!!i.composedPath().includes(e)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(e){this.selectOption.emit(e)}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(e){e.preventDefault(),e.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(Kr),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-header"]],viewQuery:function(i,o){if(1&i&&t.Gf(WR,5),2&i){let d;t.iGM(d=t.CRH())&&(o.searchTarget=d.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(i,o){1&i&&(t.TgZ(0,"header")(1,"nav")(2,"a",0),t.NdJ("click",function(m){return o.onClickToggleSidebarButton(m)}),t._UZ(3,"i",1),t.qZA(),t.YNc(4,zR,2,2,"a",2),t.TgZ(5,"a",3),t._UZ(6,"img",4),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA(),t.TgZ(9,"div",5)(10,"input",6,7),t.NdJ("ngModelChange",function(m){return o.searchText=m})("change",function(){return o.onChangeSearchValue()})("focus",function(){return o.isFocusSearch=!0})("blur",function(){return o.isFocusSearch=!1}),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return o.onClickSearchButton()}),t._UZ(13,"i",9),t.qZA()(),t._UZ(14,"app-dropdown-user"),t.qZA(),t.YNc(15,ZR,9,4,"div",10),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngIf",o.showingSidebarAccount||o.showingSidebarAdminMode),t.xp6(1),t.Q6J("routerLink",t.DdM(11,II)),t.xp6(1),t.Q6J("src",t.lcZ(7,6,t.xi3(8,8,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngClass",t.VKq(12,PI,o.isFocusSearch&&!o.sharedService.isSmallDevice())),t.xp6(1),t.Q6J("ngModel",o.searchText),t.xp6(5),t.Q6J("ngIf",o.sharedService.isSmallDevice()&&o.showNavbarSearch))},dependencies:[Tt.Fj,Tt.JJ,Tt.On,g.mk,g.O5,Vn.rH,YR,vs,g.Ov],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return r})();function qR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-header",10),t.NdJ("toggleSidebar",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickToggleSidebarButton())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("showingSidebarAccount",e.showingSidebarAccount)("showingSidebarAdminMode",e.showingSidebarAdminMode)}}function JR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-administrator",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function QR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-account",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function XR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-media",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function eN(r,n){if(1&r&&(t.TgZ(0,"section",11,12),t.YNc(2,JR,1,0,"app-sidebar-administrator",13),t.YNc(3,QR,1,0,"app-sidebar-account",13),t.YNc(4,XR,1,0,"app-sidebar-media",13),t.qZA()),2&r){const e=t.oxw();t.Udp("height","100%"),t.xp6(2),t.Q6J("ngIf",e.showingSidebarAdminMode),t.xp6(1),t.Q6J("ngIf",e.showingSidebarAccount),t.xp6(1),t.Q6J("ngIf",e.showingSidebarMedia)}}const tN=function(r){return{locked:r}};let nN=(()=>{class r{constructor(e){this.sharedService=e,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(e){this.isCollapsedSidebar=!0,this.sharedService.showSplashScreen=!1,(e instanceof Fp||e instanceof SI||e instanceof Ny||e instanceof pg||e instanceof xd||e instanceof Fv||e instanceof gg||e instanceof Bp||e instanceof lb)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof Ug&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(e instanceof ku||e instanceof Mm)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof AI&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof kp&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof mm&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof ab&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(e instanceof Tm||e instanceof kg)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1),(e instanceof Dg||e instanceof kg||e instanceof Tm||e instanceof Av||e instanceof t0||e instanceof Cg)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(e){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-web-container"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},decls:13,vars:9,consts:[[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",null,1),t.YNc(3,qR,1,2,"app-header",2),t.qZA(),t.TgZ(4,"div",3)(5,"div",null,4),t.YNc(7,eN,5,5,"section",5),t.qZA(),t.TgZ(8,"section",6,7)(10,"router-outlet",8),t.NdJ("activate",function(m){return o.onActivate(m)}),t.qZA()()(),t._UZ(11,"div",null,9),t.qZA()),2&i){const d=t.MAs(2),m=t.MAs(6),b=t.MAs(12);t.xp6(3),t.Q6J("ngIf",!o.showRouterChildWithFullDimentions),t.xp6(1),t.Udp("height","calc(100% - "+(d.offsetHeight+b.offsetHeight)+"px)"),t.xp6(3),t.Q6J("ngIf",!(o.showRouterChildWithFullDimentions||o.sharedService.isSmallDevice()&&o.isCollapsedSidebar)),t.xp6(1),t.Udp("width","calc(100% - "+m.offsetWidth+"px)"),t.Q6J("ngClass",t.VKq(7,tN,o.sharedService.isSmallDevice()&&!o.isCollapsedSidebar))}},dependencies:[g.mk,g.O5,_R,xR,NR,$R,Vn.lC],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})();function iN(r,n){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),t._UZ(5,"img",6),t.ALo(6,"async"),t.ALo(7,"formatDataPipe"),t.qZA()()()()),2&r){const e=t.MAs(2);t.xp6(5),t.Udp("width",e.offsetWidth/3+"px"),t.Q6J("src",t.lcZ(6,3,t.xi3(7,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH)}}let rN=(()=>{class r{constructor(e,i,o){this.restProvider=e,this.domSanitizer=i,this.sharedService=o}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kr),t.Y36(c.H7),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(i,o){1&i&&t.YNc(0,iN,8,8,"div",0),2&i&&t.Q6J("ngIf",o.sharedService.showSplashScreen)},dependencies:[g.O5,g.Ov,vs],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return r})();function oN(r,n){1&r&&t._UZ(0,"app-web-container")}let sN=(()=>{class r{constructor(e,i,o,d,m,b,w){this.router=e,this.menuService=i,this.userService=o,this.profileService=d,this.serverService=m,this.ref=b,this.sharedService=w,this.showRootPage=!1}ngOnInit(){const e=window.location.search;if(""!=e){var i=new URLSearchParams(e).get("apiToken");null!=i&&localStorage.setItem("apiToken",i)}window.configurationData&&(this.sharedService.configurationData=window.configurationData),localStorage.getItem("apiToken")?(this.sharedService.apiToken=localStorage.getItem("apiToken"),this.userService.getUser().then(o=>{this.menuService.getManageMenu().then(d=>{this.showRootPage=!0,this.ref.detectChanges()},d=>{})},o=>{this.userService.clearSessionData(),this.router.navigateByUrl("/landing"),console.error(o)}),this.ref.detectChanges()):(this.sharedService.apiToken=void 0,setTimeout(()=>{this.showRootPage=!0,this.ref.detectChanges()},100))}ngAfterViewInit(){let e=this;window.addEventListener("click",function(d){e.sharedService.configurationData.alwaysFullScreen&&e.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onResize(e){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vn.F0),t.Y36(xu),t.Y36(_m),t.Y36(nd),t.Y36(Gf),t.Y36(t.sBO),t.Y36(zi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sinovad-web"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},decls:4,vars:1,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[4,"ngIf"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1),t.YNc(2,oN,1,0,"app-web-container",2),t.qZA(),t._UZ(3,"app-splash-screen")),2&i&&(t.xp6(2),t.Q6J("ngIf",o.showRootPage))},dependencies:[g.O5,nN,rN],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}"]})}return r})();var _o=C(6825);function OI(r){return new t.vHH(3e3,!1)}function Vu(r){switch(r.length){case 0:return new _o.ZN;case 1:return r[0];default:return new _o.ZE(r)}}function RI(r,n,e=new Map,i=new Map){const o=[],d=[];let m=-1,b=null;if(n.forEach(w=>{const G=w.get("offset"),re=G==m,ve=re&&b||new Map;w.forEach((qe,Xe)=>{let pt=Xe,St=qe;if("offset"!==Xe)switch(pt=r.normalizePropertyName(pt,o),St){case _o.k1:St=e.get(Xe);break;case _o.l3:St=i.get(Xe);break;default:St=r.normalizeStyleValue(Xe,pt,St,o)}ve.set(pt,St)}),re||d.push(ve),b=ve,m=G}),o.length)throw function wN(r){return new t.vHH(3502,!1)}();return d}function IA(r,n,e,i){switch(n){case"start":r.onStart(()=>i(e&&PA(e,"start",r)));break;case"done":r.onDone(()=>i(e&&PA(e,"done",r)));break;case"destroy":r.onDestroy(()=>i(e&&PA(e,"destroy",r)))}}function PA(r,n,e){const d=OA(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),m=r._data;return null!=m&&(d._data=m),d}function OA(r,n,e,i,o="",d=0,m){return{element:r,triggerName:n,fromState:e,toState:i,phaseName:o,totalTime:d,disabled:!!m}}function Cl(r,n,e){let i=r.get(n);return i||r.set(n,i=e),i}function NI(r){const n=r.indexOf(":");return[r.substring(1,n),r.slice(n+1)]}const VN=(()=>typeof document>"u"?null:document.documentElement)();function RA(r){const n=r.parentNode||r.host||null;return n===VN?null:n}let sh=null,LI=!1;function kI(r,n){for(;n;){if(n===r)return!0;n=RA(n)}return!1}function FI(r,n,e){if(e)return Array.from(r.querySelectorAll(n));const i=r.querySelector(n);return i?[i]:[]}let BI=(()=>{class r{validateStyleProperty(e){return function HN(r){sh||(sh=function KN(){return typeof document<"u"?document.body:null}()||{},LI=!!sh.style&&"WebkitAppearance"in sh.style);let n=!0;return sh.style&&!function GN(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in sh.style,!n&&LI&&(n="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in sh.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return kI(e,i)}getParentElement(e){return RA(e)}query(e,i,o){return FI(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,d,m,b=[],w){return new _o.ZN(o,d)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})(),NA=(()=>{class r{static#e=this.NOOP=new BI}return r})();const YN=1e3,LA="ng-enter",AE="ng-leave",ME="ng-trigger",wE=".ng-trigger",jI="ng-animating",kA=".ng-animating";function $d(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:FA(parseFloat(n[1]),n[2])}function FA(r,n){return"s"===n?r*YN:r}function IE(r,n,e){return r.hasOwnProperty("duration")?r:function zN(r,n,e){let o,d=0,m="";if("string"==typeof r){const b=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===b)return n.push(OI()),{duration:0,delay:0,easing:""};o=FA(parseFloat(b[1]),b[2]);const w=b[3];null!=w&&(d=FA(parseFloat(w),b[4]));const G=b[5];G&&(m=G)}else o=r;if(!e){let b=!1,w=n.length;o<0&&(n.push(function aN(){return new t.vHH(3100,!1)}()),b=!0),d<0&&(n.push(function lN(){return new t.vHH(3101,!1)}()),b=!0),b&&n.splice(w,0,OI())}return{duration:o,delay:d,easing:m}}(r,n,e)}function N_(r,n={}){return Object.keys(r).forEach(e=>{n[e]=r[e]}),n}function VI(r){const n=new Map;return Object.keys(r).forEach(e=>{n.set(e,r[e])}),n}function Gu(r,n=new Map,e){if(e)for(let[i,o]of e)n.set(i,o);for(let[i,o]of r)n.set(i,o);return n}function rd(r,n,e){n.forEach((i,o)=>{const d=UA(o);e&&!e.has(o)&&e.set(o,r.style[d]),r.style[d]=i})}function ah(r,n){n.forEach((e,i)=>{const o=UA(i);r.style[o]=""})}function L_(r){return Array.isArray(r)?1==r.length?r[0]:(0,_o.vP)(r):r}const BA=new RegExp("{{\\s*(.+?)\\s*}}","g");function HI(r){let n=[];if("string"==typeof r){let e;for(;e=BA.exec(r);)n.push(e[1]);BA.lastIndex=0}return n}function k_(r,n,e){const i=r.toString(),o=i.replace(BA,(d,m)=>{let b=n[m];return null==b&&(e.push(function dN(r){return new t.vHH(3003,!1)}()),b=""),b.toString()});return o==i?r:o}function PE(r){const n=[];let e=r.next();for(;!e.done;)n.push(e.value),e=r.next();return n}const qN=/-+([a-z0-9])/g;function UA(r){return r.replace(qN,(...n)=>n[1].toUpperCase())}function Sl(r,n,e){switch(n.type){case 7:return r.visitTrigger(n,e);case 0:return r.visitState(n,e);case 1:return r.visitTransition(n,e);case 2:return r.visitSequence(n,e);case 3:return r.visitGroup(n,e);case 4:return r.visitAnimate(n,e);case 5:return r.visitKeyframes(n,e);case 6:return r.visitStyle(n,e);case 8:return r.visitReference(n,e);case 9:return r.visitAnimateChild(n,e);case 10:return r.visitAnimateRef(n,e);case 11:return r.visitQuery(n,e);case 12:return r.visitStagger(n,e);default:throw function uN(r){return new t.vHH(3004,!1)}()}}function KI(r,n){return window.getComputedStyle(r)[n]}const OE="*";function XN(r,n){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function eL(r,n,e){if(":"==r[0]){const w=function tL(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function DN(r){return new t.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof w)return void n.push(w);r=w}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function SN(r){return new t.vHH(3015,!1)}()),n;const o=i[1],d=i[2],m=i[3];n.push(YI(o,m));"<"==d[0]&&!(o==OE&&m==OE)&&n.push(YI(m,o))}(i,e,n)):e.push(r),e}const RE=new Set(["true","1"]),NE=new Set(["false","0"]);function YI(r,n){const e=RE.has(r)||NE.has(r),i=RE.has(n)||NE.has(n);return(o,d)=>{let m=r==OE||r==o,b=n==OE||n==d;return!m&&e&&"boolean"==typeof o&&(m=o?RE.has(r):NE.has(r)),!b&&i&&"boolean"==typeof d&&(b=d?RE.has(n):NE.has(n)),m&&b}}const nL=new RegExp("s*:selfs*,?","g");function jA(r,n,e,i){return new iL(r).build(n,e,i)}class iL{constructor(n){this._driver=n}build(n,e,i){const o=new sL(e);return this._resetContextStyleTimingState(o),Sl(this,L_(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,o=e.depCount=0;const d=[],m=[];return"@"==n.name.charAt(0)&&e.errors.push(function hN(){return new t.vHH(3006,!1)}()),n.definitions.forEach(b=>{if(this._resetContextStyleTimingState(e),0==b.type){const w=b,G=w.name;G.toString().split(/\s*,\s*/).forEach(re=>{w.name=re,d.push(this.visitState(w,e))}),w.name=G}else if(1==b.type){const w=this.visitTransition(b,e);i+=w.queryCount,o+=w.depCount,m.push(w)}else e.errors.push(function mN(){return new t.vHH(3007,!1)}())}),{type:7,name:n.name,states:d,transitions:m,queryCount:i,depCount:o,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(i.containsDynamicStyles){const d=new Set,m=o||{};i.styles.forEach(b=>{b instanceof Map&&b.forEach(w=>{HI(w).forEach(G=>{m.hasOwnProperty(G)||d.add(G)})})}),d.size&&(PE(d.values()),e.errors.push(function pN(r,n){return new t.vHH(3008,!1)}()))}return{type:0,name:n.name,style:i,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=Sl(this,L_(n.animation),e);return{type:1,matchers:XN(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:lh(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>Sl(this,i,e)),options:lh(n.options)}}visitGroup(n,e){const i=e.currentTime;let o=0;const d=n.steps.map(m=>{e.currentTime=i;const b=Sl(this,m,e);return o=Math.max(o,e.currentTime),b});return e.currentTime=o,{type:3,steps:d,options:lh(n.options)}}visitAnimate(n,e){const i=function lL(r,n){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return VA(IE(r,n).duration,0,"");const e=r;if(e.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=VA(0,0,"");return d.dynamic=!0,d.strValue=e,d}const o=IE(e,n);return VA(o.duration,o.delay,o.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let o,d=n.styles?n.styles:(0,_o.oB)({});if(5==d.type)o=this.visitKeyframes(d,e);else{let m=n.styles,b=!1;if(!m){b=!0;const G={};i.easing&&(G.easing=i.easing),m=(0,_o.oB)(G)}e.currentTime+=i.duration+i.delay;const w=this.visitStyle(m,e);w.isEmptyStep=b,o=w}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let b of o)"string"==typeof b?b===_o.l3?i.push(b):e.errors.push(new t.vHH(3002,!1)):i.push(VI(b));let d=!1,m=null;return i.forEach(b=>{if(b instanceof Map&&(b.has("easing")&&(m=b.get("easing"),b.delete("easing")),!d))for(let w of b.values())if(w.toString().indexOf("{{")>=0){d=!0;break}}),{type:6,styles:i,easing:m,offset:n.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let o=e.currentTime,d=e.currentTime;i&&d>0&&(d-=i.duration+i.delay),n.styles.forEach(m=>{"string"!=typeof m&&m.forEach((b,w)=>{const G=e.collectedStyles.get(e.currentQuerySelector),re=G.get(w);let ve=!0;re&&(d!=o&&d>=re.startTime&&o<=re.endTime&&(e.errors.push(function _N(r,n,e,i,o){return new t.vHH(3010,!1)}()),ve=!1),d=re.startTime),ve&&G.set(w,{startTime:d,endTime:o}),e.options&&function $N(r,n,e){const i=n.params||{},o=HI(r);o.length&&o.forEach(d=>{i.hasOwnProperty(d)||e.push(function cN(r){return new t.vHH(3001,!1)}())})}(b,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function vN(){return new t.vHH(3011,!1)}()),i;let d=0;const m=[];let b=!1,w=!1,G=0;const re=n.steps.map($t=>{const fn=this._makeStyleAst($t,e);let an=null!=fn.offset?fn.offset:function aL(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(fn.styles),yn=0;return null!=an&&(d++,yn=fn.offset=an),w=w||yn<0||yn>1,b=b||yn<G,G=yn,m.push(yn),fn});w&&e.errors.push(function yN(){return new t.vHH(3012,!1)}()),b&&e.errors.push(function bN(){return new t.vHH(3200,!1)}());const ve=n.steps.length;let qe=0;d>0&&d<ve?e.errors.push(function EN(){return new t.vHH(3202,!1)}()):0==d&&(qe=1/(ve-1));const Xe=ve-1,pt=e.currentTime,St=e.currentAnimateTimings,Ot=St.duration;return re.forEach(($t,fn)=>{const an=qe>0?fn==Xe?1:qe*fn:m[fn],yn=an*Ot;e.currentTime=pt+St.delay+yn,St.duration=yn,this._validateStyleAst($t,e),$t.offset=an,i.styles.push($t)}),i}visitReference(n,e){return{type:8,animation:Sl(this,L_(n.animation),e),options:lh(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:lh(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:lh(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[d,m]=function rL(r){const n=!!r.split(/\s*,\s*/).find(e=>":self"==e);return n&&(r=r.replace(nL,"")),r=r.replace(/@\*/g,wE).replace(/@\w+/g,e=>wE+"-"+e.slice(1)).replace(/:animating/g,kA),[r,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+d:d,Cl(e.collectedStyles,e.currentQuerySelector,new Map);const b=Sl(this,L_(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:d,limit:o.limit||0,optional:!!o.optional,includeSelf:m,animation:b,originalSelector:n.selector,options:lh(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function TN(){return new t.vHH(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:IE(n.timings,e.errors,!0);return{type:12,animation:Sl(this,L_(n.animation),e),timings:i,options:null}}}class sL{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lh(r){return r?(r=N_(r)).params&&(r.params=function oL(r){return r?N_(r):null}(r.params)):r={},r}function VA(r,n,e){return{duration:r,delay:n,easing:e}}function GA(r,n,e,i,o,d,m=null,b=!1){return{type:1,element:r,keyframes:n,preStyleProps:e,postStyleProps:i,duration:o,delay:d,totalTime:o+d,easing:m,subTimeline:b}}class LE{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const uL=new RegExp(":enter","g"),hL=new RegExp(":leave","g");function HA(r,n,e,i,o,d=new Map,m=new Map,b,w,G=[]){return(new mL).buildKeyframes(r,n,e,i,o,d,m,b,w,G)}class mL{buildKeyframes(n,e,i,o,d,m,b,w,G,re=[]){G=G||new LE;const ve=new KA(n,e,G,o,d,re,[]);ve.options=w;const qe=w.delay?$d(w.delay):0;ve.currentTimeline.delayNextStep(qe),ve.currentTimeline.setStyles([m],null,ve.errors,w),Sl(this,i,ve);const Xe=ve.timelines.filter(pt=>pt.containsAnimation());if(Xe.length&&b.size){let pt;for(let St=Xe.length-1;St>=0;St--){const Ot=Xe[St];if(Ot.element===e){pt=Ot;break}}pt&&!pt.allowOnlyTimelineStyles()&&pt.setStyles([b],null,ve.errors,w)}return Xe.length?Xe.map(pt=>pt.buildKeyframes()):[GA(e,[],[],[],0,qe,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(n.options),d=e.currentTimeline.currentTime,m=this._visitSubInstructions(i,o,o.options);d!=m&&e.transformIntoNewTimeline(m)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const o of n){const d=o?.delay;if(d){const m="number"==typeof d?d:$d(k_(d,o?.params??{},e.errors));i.delayNextStep(m)}}}_visitSubInstructions(n,e,i){let d=e.currentTimeline.currentTime;const m=null!=i.duration?$d(i.duration):null,b=null!=i.delay?$d(i.delay):null;return 0!==m&&n.forEach(w=>{const G=e.appendInstructionToTimeline(w,m,b);d=Math.max(d,G.duration+G.delay)}),d}visitReference(n,e){e.updateOptions(n.options,!0),Sl(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let o=e;const d=n.options;if(d&&(d.params||d.delay)&&(o=e.createSubContext(d),o.transformIntoNewTimeline(),null!=d.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=kE);const m=$d(d.delay);o.delayNextStep(m)}n.steps.length&&(n.steps.forEach(m=>Sl(this,m,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let o=e.currentTimeline.currentTime;const d=n.options&&n.options.delay?$d(n.options.delay):0;n.steps.forEach(m=>{const b=e.createSubContext(n.options);d&&b.delayNextStep(d),Sl(this,m,b),o=Math.max(o,b.currentTimeline.currentTime),i.push(b.currentTimeline)}),i.forEach(m=>e.currentTimeline.mergeTimelineCollectedStyles(m)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return IE(e.params?k_(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,e):(e.incrementTime(i.duration),this.visitStyle(d,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const d=o&&o.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(d):i.setStyles(n.styles,d,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,d=i.duration,b=e.createSubContext().currentTimeline;b.easing=i.easing,n.styles.forEach(w=>{b.forwardTime((w.offset||0)*d),b.setStyles(w.styles,w.easing,e.errors,e.options),b.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(b),e.transformIntoNewTimeline(o+d),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,o=n.options||{},d=o.delay?$d(o.delay):0;d&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=kE);let m=i;const b=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=b.length;let w=null;b.forEach((G,re)=>{e.currentQueryIndex=re;const ve=e.createSubContext(n.options,G);d&&ve.delayNextStep(d),G===e.element&&(w=ve.currentTimeline),Sl(this,n.animation,ve),ve.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,ve.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(m),w&&(e.currentTimeline.mergeTimelineCollectedStyles(w),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,o=e.currentTimeline,d=n.timings,m=Math.abs(d.duration),b=m*(e.currentQueryTotal-1);let w=m*e.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":w=b-w;break;case"full":w=i.currentStaggerTime}const re=e.currentTimeline;w&&re.delayNextStep(w);const ve=re.currentTime;Sl(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=o.currentTime-ve+(o.startTime-i.currentTimeline.startTime)}}const kE={};class KA{constructor(n,e,i,o,d,m,b,w){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=d,this.errors=m,this.timelines=b,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new FE(this._driver,e,0),b.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let o=this.options;null!=i.duration&&(o.duration=$d(i.duration)),null!=i.delay&&(o.delay=$d(i.delay));const d=i.params;if(d){let m=o.params;m||(m=this.options.params={}),Object.keys(d).forEach(b=>{(!e||!m.hasOwnProperty(b))&&(m[b]=k_(d[b],m,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return n}createSubContext(n=null,e,i){const o=e||this.element,d=new KA(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=kE,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},d=new pL(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(d),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,o,d,m){let b=[];if(o&&b.push(this.element),n.length>0){n=(n=n.replace(uL,"."+this._enterClassName)).replace(hL,"."+this._leaveClassName);let G=this._driver.query(this.element,n,1!=i);0!==i&&(G=i<0?G.slice(G.length+i,G.length):G.slice(0,i)),b.push(...G)}return!d&&0==b.length&&m.push(function CN(r){return new t.vHH(3014,!1)}()),b}}class FE{constructor(n,e,i,o){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new FE(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||_o.l3),this._currentKeyframe.set(e,_o.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,o){e&&this._previousKeyframe.set("easing",e);const d=o&&o.params||{},m=function gL(r,n){const e=new Map;let i;return r.forEach(o=>{if("*"===o){i=i||n.keys();for(let d of i)e.set(d,_o.l3)}else Gu(o,e)}),e}(n,this._globalTimelineStyles);for(let[b,w]of m){const G=k_(w,d,i);this._pendingStyles.set(b,G),this._localTimelineStyles.has(b)||this._backFill.set(b,this._globalTimelineStyles.get(b)??_o.l3),this._updateStyle(b,G)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((b,w)=>{const G=Gu(b,new Map,this._backFill);G.forEach((re,ve)=>{re===_o.k1?n.add(ve):re===_o.l3&&e.add(ve)}),i||G.set("offset",w/this.duration),o.push(G)});const d=n.size?PE(n.values()):[],m=e.size?PE(e.values()):[];if(i){const b=o[0],w=new Map(b);b.set("offset",0),w.set("offset",1),o=[b,w]}return GA(this.element,o,d,m,this.duration,this.startTime,this.easing,!1)}}class pL extends FE{constructor(n,e,i,o,d,m,b=!1){super(n,e,m.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=d,this._stretchStartingKeyframe=b,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const d=[],m=i+e,b=e/m,w=Gu(n[0]);w.set("offset",0),d.push(w);const G=Gu(n[0]);G.set("offset",ZI(b)),d.push(G);const re=n.length-1;for(let ve=1;ve<=re;ve++){let qe=Gu(n[ve]);const Xe=qe.get("offset");qe.set("offset",ZI((e+Xe*i)/m)),d.push(qe)}i=m,e=0,o="",n=d}return GA(this.element,n,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function ZI(r,n=3){const e=Math.pow(10,n-1);return Math.round(r*e)/e}class YA{}const _L=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vL extends YA{normalizePropertyName(n,e){return UA(n)}normalizeStyleValue(n,e,i,o){let d="";const m=i.toString().trim();if(_L.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)d="px";else{const b=i.match(/^[+-]?[\d\.]+([a-z]*)$/);b&&0==b[1].length&&o.push(function fN(r,n){return new t.vHH(3005,!1)}())}return m+d}}function $I(r,n,e,i,o,d,m,b,w,G,re,ve,qe){return{type:0,element:r,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:d,toState:i,toStyles:m,timelines:b,queriedElements:w,preStyleProps:G,postStyleProps:re,totalTime:ve,errors:qe}}const WA={};class qI{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,o){return function yL(r,n,e,i,o){return r.some(d=>d(n,e,i,o))}(this.ast.matchers,n,e,i,o)}buildStyles(n,e,i){let o=this._stateStyles.get("*");return void 0!==n&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,i):new Map}build(n,e,i,o,d,m,b,w,G,re){const ve=[],qe=this.ast.options&&this.ast.options.params||WA,pt=this.buildStyles(i,b&&b.params||WA,ve),St=w&&w.params||WA,Ot=this.buildStyles(o,St,ve),$t=new Set,fn=new Map,an=new Map,yn="void"===o,Sn={params:bL(St,qe),delay:this.ast.options?.delay},Un=re?[]:HA(n,e,this.ast.animation,d,m,pt,Ot,Sn,G,ve);let On=0;if(Un.forEach(ii=>{On=Math.max(ii.duration+ii.delay,On)}),ve.length)return $I(e,this._triggerName,i,o,yn,pt,Ot,[],[],fn,an,On,ve);Un.forEach(ii=>{const Ln=ii.element,yi=Cl(fn,Ln,new Set);ii.preStyleProps.forEach(Ui=>yi.add(Ui));const mi=Cl(an,Ln,new Set);ii.postStyleProps.forEach(Ui=>mi.add(Ui)),Ln!==e&&$t.add(Ln)});const zn=PE($t.values());return $I(e,this._triggerName,i,o,yn,pt,Ot,Un,zn,fn,an,On)}}function bL(r,n){const e=N_(n);for(const i in r)r.hasOwnProperty(i)&&null!=r[i]&&(e[i]=r[i]);return e}class EL{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,o=N_(this.defaultParams);return Object.keys(n).forEach(d=>{const m=n[d];null!==m&&(o[d]=m)}),this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((m,b)=>{m&&(m=k_(m,o,e));const w=this.normalizer.normalizePropertyName(b,e);m=this.normalizer.normalizeStyleValue(b,w,m,e),i.set(b,m)})}),i}}class CL{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new EL(o.style,o.options&&o.options.params||{},i))}),JI(this.states,"true","1"),JI(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new qI(n,o,this.states))}),this.fallbackTransition=function SL(r,n,e){return new qI(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,b)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,o){return this.transitionFactories.find(m=>m.match(n,e,i,o))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function JI(r,n,e){r.has(n)?r.has(e)||r.set(e,r.get(n)):r.has(e)&&r.set(n,r.get(e))}const DL=new LE;class xL{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],d=jA(this._driver,e,i,[]);if(i.length)throw function IN(r){return new t.vHH(3503,!1)}();this._animations.set(n,d)}_buildPlayer(n,e,i){const o=n.element,d=RI(this._normalizer,n.keyframes,e,i);return this._driver.animate(o,d,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const o=[],d=this._animations.get(n);let m;const b=new Map;if(d?(m=HA(this._driver,e,d,LA,AE,new Map,new Map,i,DL,o),m.forEach(re=>{const ve=Cl(b,re.element,new Map);re.postStyleProps.forEach(qe=>ve.set(qe,null))})):(o.push(function PN(){return new t.vHH(3300,!1)}()),m=[]),o.length)throw function ON(r){return new t.vHH(3504,!1)}();b.forEach((re,ve)=>{re.forEach((qe,Xe)=>{re.set(Xe,this._driver.computeStyle(ve,Xe,_o.l3))})});const G=Vu(m.map(re=>{const ve=b.get(re.element);return this._buildPlayer(re,new Map,ve)}));return this._playersById.set(n,G),G.onDestroy(()=>this.destroy(n)),this.players.push(G),G}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function RN(r){return new t.vHH(3301,!1)}();return e}listen(n,e,i,o){const d=OA(e,"","","");return IA(this._getPlayer(n),i,d,o),()=>{}}command(n,e,i,o){if("register"==i)return void this.register(n,o[0]);if("create"==i)return void this.create(n,e,o[0]||{});const d=this._getPlayer(n);switch(i){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const QI="ng-animate-queued",zA="ng-animate-disabled",PL=[],XI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},OL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},kc="__ng_removed";class ZA{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function kL(r){return r??null}(i?n.value:n),i){const d=N_(n);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const F_="void",$A=new ZA(F_);class RL{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,tc(e,this._hostClassName)}listen(n,e,i,o){if(!this._triggers.has(e))throw function NN(r,n){return new t.vHH(3302,!1)}();if(null==i||0==i.length)throw function LN(r){return new t.vHH(3303,!1)}();if(!function FL(r){return"start"==r||"done"==r}(i))throw function kN(r,n){return new t.vHH(3400,!1)}();const d=Cl(this._elementListeners,n,[]),m={name:e,phase:i,callback:o};d.push(m);const b=Cl(this._engine.statesByElement,n,new Map);return b.has(e)||(tc(n,ME),tc(n,ME+"-"+e),b.set(e,$A)),()=>{this._engine.afterFlush(()=>{const w=d.indexOf(m);w>=0&&d.splice(w,1),this._triggers.has(e)||b.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function FN(r){return new t.vHH(3401,!1)}();return e}trigger(n,e,i,o=!0){const d=this._getTrigger(e),m=new qA(this.id,e,n);let b=this._engine.statesByElement.get(n);b||(tc(n,ME),tc(n,ME+"-"+e),this._engine.statesByElement.set(n,b=new Map));let w=b.get(e);const G=new ZA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&w&&G.absorbOptions(w.options),b.set(e,G),w||(w=$A),G.value!==F_&&w.value===G.value){if(!function jL(r,n){const e=Object.keys(r),i=Object.keys(n);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const d=e[o];if(!n.hasOwnProperty(d)||r[d]!==n[d])return!1}return!0}(w.params,G.params)){const St=[],Ot=d.matchStyles(w.value,w.params,St),$t=d.matchStyles(G.value,G.params,St);St.length?this._engine.reportError(St):this._engine.afterFlush(()=>{ah(n,Ot),rd(n,$t)})}return}const qe=Cl(this._engine.playersByElement,n,[]);qe.forEach(St=>{St.namespaceId==this.id&&St.triggerName==e&&St.queued&&St.destroy()});let Xe=d.matchTransition(w.value,G.value,n,G.params),pt=!1;if(!Xe){if(!o)return;Xe=d.fallbackTransition,pt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:Xe,fromState:w,toState:G,player:m,isFallbackTransition:pt}),pt||(tc(n,QI),m.onStart(()=>{tp(n,QI)})),m.onDone(()=>{let St=this.players.indexOf(m);St>=0&&this.players.splice(St,1);const Ot=this._engine.playersByElement.get(n);if(Ot){let $t=Ot.indexOf(m);$t>=0&&Ot.splice($t,1)}}),this.players.push(m),qe.push(m),m}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,wE,!0);i.forEach(o=>{if(o[kc])return;const d=this._engine.fetchNamespacesByElement(o);d.size?d.forEach(m=>m.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,i,o){const d=this._engine.statesByElement.get(n),m=new Map;if(d){const b=[];if(d.forEach((w,G)=>{if(m.set(G,w.value),this._triggers.has(G)){const re=this.trigger(n,G,F_,o);re&&b.push(re)}}),b.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,m),i&&Vu(b).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const o=new Set;e.forEach(d=>{const m=d.name;if(o.has(m))return;o.add(m);const w=this._triggers.get(m).fallbackTransition,G=i.get(m)||$A,re=new ZA(F_),ve=new qA(this.id,m,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:m,transition:w,fromState:G,toState:re,player:ve,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(i.totalAnimations){const d=i.players.length?i.playersByQueriedElement.get(n):[];if(d&&d.length)o=!0;else{let m=n;for(;m=m.parentNode;)if(i.statesByElement.get(m)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)i.markElementAsRemoved(this.id,n,!1,e);else{const d=n[kc];(!d||d===XI)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){tc(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const d=i.element,m=this._elementListeners.get(d);m&&m.forEach(b=>{if(b.name==i.triggerName){const w=OA(d,i.triggerName,i.fromState.value,i.toState.value);w._data=n,IA(i.player,b.phase,w,b.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const d=i.transition.ast.depCount,m=o.transition.ast.depCount;return 0==d||0==m?d-m:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class NL{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,d)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new RL(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let m=!1,b=this.driver.getParentElement(e);for(;b;){const w=o.get(b);if(w){const G=i.indexOf(w);i.splice(G+1,0,n),m=!0;break}b=this.driver.getParentElement(b)}m||i.unshift(n)}else i.push(n);return o.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let o=this._namespaceLookup[n];o&&o.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let o of i.values())if(o.namespaceId){const d=this._fetchNamespace(o.namespaceId);d&&e.add(d)}return e}trigger(n,e,i,o){if(BE(e)){const d=this._fetchNamespace(n);if(d)return d.trigger(e,i,o),!0}return!1}insertNode(n,e,i,o){if(!BE(e))return;const d=e[kc];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const m=this.collectedLeaveElements.indexOf(e);m>=0&&this.collectedLeaveElements.splice(m,1)}if(n){const m=this._fetchNamespace(n);m&&m.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),tc(n,zA)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),tp(n,zA))}removeNode(n,e,i){if(BE(e)){const o=n?this._fetchNamespace(n):null;o?o.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const d=this.namespacesByHostElement.get(e);d&&d.id!==n&&d.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,o,d){this.collectedLeaveElements.push(e),e[kc]={namespaceId:n,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:d}}listen(n,e,i,o,d){return BE(e)?this._fetchNamespace(n).listen(e,i,o,d):()=>{}}_buildInstruction(n,e,i,o,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,o,n.fromState.options,n.toState.options,e,d)}destroyInnerAnimations(n){let e=this.driver.query(n,wE,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,kA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Vu(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[kc];if(e&&e.setForRemoval){if(n[kc]=XI,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(zA)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)tc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Vu(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(n){throw function BN(r){return new t.vHH(3402,!1)}()}_flushAnimations(n,e){const i=new LE,o=[],d=new Map,m=[],b=new Map,w=new Map,G=new Map,re=new Set;this.disabledNodes.forEach(oi=>{re.add(oi);const ui=this.driver.query(oi,".ng-animate-queued",!0);for(let Qn=0;Qn<ui.length;Qn++)re.add(ui[Qn])});const ve=this.bodyNode,qe=Array.from(this.statesByElement.keys()),Xe=n1(qe,this.collectedEnterElements),pt=new Map;let St=0;Xe.forEach((oi,ui)=>{const Qn=LA+St++;pt.set(ui,Qn),oi.forEach(ci=>tc(ci,Qn))});const Ot=[],$t=new Set,fn=new Set;for(let oi=0;oi<this.collectedLeaveElements.length;oi++){const ui=this.collectedLeaveElements[oi],Qn=ui[kc];Qn&&Qn.setForRemoval&&(Ot.push(ui),$t.add(ui),Qn.hasAnimation?this.driver.query(ui,".ng-star-inserted",!0).forEach(ci=>$t.add(ci)):fn.add(ui))}const an=new Map,yn=n1(qe,Array.from($t));yn.forEach((oi,ui)=>{const Qn=AE+St++;an.set(ui,Qn),oi.forEach(ci=>tc(ci,Qn))}),n.push(()=>{Xe.forEach((oi,ui)=>{const Qn=pt.get(ui);oi.forEach(ci=>tp(ci,Qn))}),yn.forEach((oi,ui)=>{const Qn=an.get(ui);oi.forEach(ci=>tp(ci,Qn))}),Ot.forEach(oi=>{this.processLeaveNode(oi)})});const Sn=[],Un=[];for(let oi=this._namespaceList.length-1;oi>=0;oi--)this._namespaceList[oi].drainQueuedTransitions(e).forEach(Qn=>{const ci=Qn.player,ji=Qn.element;if(Sn.push(ci),this.collectedEnterElements.length){const qr=ji[kc];if(qr&&qr.setForMove){if(qr.previousTriggersValues&&qr.previousTriggersValues.has(Qn.triggerName)){const Ls=qr.previousTriggersValues.get(Qn.triggerName),Da=this.statesByElement.get(Qn.element);if(Da&&Da.has(Qn.triggerName)){const np=Da.get(Qn.triggerName);np.value=Ls,Da.set(Qn.triggerName,np)}}return void ci.destroy()}}const mr=!ve||!this.driver.containsElement(ve,ji),Yi=an.get(ji),Rr=pt.get(ji),ar=this._buildInstruction(Qn,i,Rr,Yi,mr);if(ar.errors&&ar.errors.length)return void Un.push(ar);if(mr)return ci.onStart(()=>ah(ji,ar.fromStyles)),ci.onDestroy(()=>rd(ji,ar.toStyles)),void o.push(ci);if(Qn.isFallbackTransition)return ci.onStart(()=>ah(ji,ar.fromStyles)),ci.onDestroy(()=>rd(ji,ar.toStyles)),void o.push(ci);const jo=[];ar.timelines.forEach(qr=>{qr.stretchStartingKeyframe=!0,this.disabledNodes.has(qr.element)||jo.push(qr)}),ar.timelines=jo,i.append(ji,ar.timelines),m.push({instruction:ar,player:ci,element:ji}),ar.queriedElements.forEach(qr=>Cl(b,qr,[]).push(ci)),ar.preStyleProps.forEach((qr,Ls)=>{if(qr.size){let Da=w.get(Ls);Da||w.set(Ls,Da=new Set),qr.forEach((np,ch)=>Da.add(ch))}}),ar.postStyleProps.forEach((qr,Ls)=>{let Da=G.get(Ls);Da||G.set(Ls,Da=new Set),qr.forEach((np,ch)=>Da.add(ch))})});if(Un.length){const oi=[];Un.forEach(ui=>{oi.push(function UN(r,n){return new t.vHH(3505,!1)}())}),Sn.forEach(ui=>ui.destroy()),this.reportError(oi)}const On=new Map,zn=new Map;m.forEach(oi=>{const ui=oi.element;i.has(ui)&&(zn.set(ui,ui),this._beforeAnimationBuild(oi.player.namespaceId,oi.instruction,On))}),o.forEach(oi=>{const ui=oi.element;this._getPreviousPlayers(ui,!1,oi.namespaceId,oi.triggerName,null).forEach(ci=>{Cl(On,ui,[]).push(ci),ci.destroy()})});const ii=Ot.filter(oi=>o1(oi,w,G)),Ln=new Map;t1(Ln,this.driver,fn,G,_o.l3).forEach(oi=>{o1(oi,w,G)&&ii.push(oi)});const mi=new Map;Xe.forEach((oi,ui)=>{t1(mi,this.driver,new Set(oi),w,_o.k1)}),ii.forEach(oi=>{const ui=Ln.get(oi),Qn=mi.get(oi);Ln.set(oi,new Map([...ui?.entries()??[],...Qn?.entries()??[]]))});const Ui=[],vo=[],wr={};m.forEach(oi=>{const{element:ui,player:Qn,instruction:ci}=oi;if(i.has(ui)){if(re.has(ui))return Qn.onDestroy(()=>rd(ui,ci.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(ci.totalTime),void o.push(Qn);let ji=wr;if(zn.size>1){let Yi=ui;const Rr=[];for(;Yi=Yi.parentNode;){const ar=zn.get(Yi);if(ar){ji=ar;break}Rr.push(Yi)}Rr.forEach(ar=>zn.set(ar,ji))}const mr=this._buildAnimation(Qn.namespaceId,ci,On,d,mi,Ln);if(Qn.setRealPlayer(mr),ji===wr)Ui.push(Qn);else{const Yi=this.playersByElement.get(ji);Yi&&Yi.length&&(Qn.parentPlayer=Vu(Yi)),o.push(Qn)}}else ah(ui,ci.fromStyles),Qn.onDestroy(()=>rd(ui,ci.toStyles)),vo.push(Qn),re.has(ui)&&o.push(Qn)}),vo.forEach(oi=>{const ui=d.get(oi.element);if(ui&&ui.length){const Qn=Vu(ui);oi.setRealPlayer(Qn)}}),o.forEach(oi=>{oi.parentPlayer?oi.syncPlayerEvents(oi.parentPlayer):oi.destroy()});for(let oi=0;oi<Ot.length;oi++){const ui=Ot[oi],Qn=ui[kc];if(tp(ui,AE),Qn&&Qn.hasAnimation)continue;let ci=[];if(b.size){let mr=b.get(ui);mr&&mr.length&&ci.push(...mr);let Yi=this.driver.query(ui,kA,!0);for(let Rr=0;Rr<Yi.length;Rr++){let ar=b.get(Yi[Rr]);ar&&ar.length&&ci.push(...ar)}}const ji=ci.filter(mr=>!mr.destroyed);ji.length?BL(this,ui,ji):this.processLeaveNode(ui)}return Ot.length=0,Ui.forEach(oi=>{this.players.push(oi),oi.onDone(()=>{oi.destroy();const ui=this.players.indexOf(oi);this.players.splice(ui,1)}),oi.play()}),Ui}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,o,d){let m=[];if(e){const b=this.playersByQueriedElement.get(n);b&&(m=b)}else{const b=this.playersByElement.get(n);if(b){const w=!d||d==F_;b.forEach(G=>{G.queued||!w&&G.triggerName!=o||m.push(G)})}}return(i||o)&&(m=m.filter(b=>!(i&&i!=b.namespaceId||o&&o!=b.triggerName))),m}_beforeAnimationBuild(n,e,i){const d=e.element,m=e.isRemovalTransition?void 0:n,b=e.isRemovalTransition?void 0:e.triggerName;for(const w of e.timelines){const G=w.element,re=G!==d,ve=Cl(i,G,[]);this._getPreviousPlayers(G,re,m,b,e.toState).forEach(Xe=>{const pt=Xe.getRealPlayer();pt.beforeDestroy&&pt.beforeDestroy(),Xe.destroy(),ve.push(Xe)})}ah(d,e.fromStyles)}_buildAnimation(n,e,i,o,d,m){const b=e.triggerName,w=e.element,G=[],re=new Set,ve=new Set,qe=e.timelines.map(pt=>{const St=pt.element;re.add(St);const Ot=St[kc];if(Ot&&Ot.removedBeforeQueried)return new _o.ZN(pt.duration,pt.delay);const $t=St!==w,fn=function UL(r){const n=[];return r1(r,n),n}((i.get(St)||PL).map(On=>On.getRealPlayer())).filter(On=>!!On.element&&On.element===St),an=d.get(St),yn=m.get(St),Sn=RI(this._normalizer,pt.keyframes,an,yn),Un=this._buildPlayer(pt,Sn,fn);if(pt.subTimeline&&o&&ve.add(St),$t){const On=new qA(n,b,St);On.setRealPlayer(Un),G.push(On)}return Un});G.forEach(pt=>{Cl(this.playersByQueriedElement,pt.element,[]).push(pt),pt.onDone(()=>function LL(r,n,e){let i=r.get(n);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&r.delete(n)}return i}(this.playersByQueriedElement,pt.element,pt))}),re.forEach(pt=>tc(pt,jI));const Xe=Vu(qe);return Xe.onDestroy(()=>{re.forEach(pt=>tp(pt,jI)),rd(w,e.toStyles)}),ve.forEach(pt=>{Cl(o,pt,[]).push(Xe)}),Xe}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new _o.ZN(n.duration,n.delay)}}class qA{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new _o.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>IA(n,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Cl(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function BE(r){return r&&1===r.nodeType}function e1(r,n){const e=r.style.display;return r.style.display=n??"none",e}function t1(r,n,e,i,o){const d=[];e.forEach(w=>d.push(e1(w)));const m=[];i.forEach((w,G)=>{const re=new Map;w.forEach(ve=>{const qe=n.computeStyle(G,ve,o);re.set(ve,qe),(!qe||0==qe.length)&&(G[kc]=OL,m.push(G))}),r.set(G,re)});let b=0;return e.forEach(w=>e1(w,d[b++])),m}function n1(r,n){const e=new Map;if(r.forEach(b=>e.set(b,[])),0==n.length)return e;const o=new Set(n),d=new Map;function m(b){if(!b)return 1;let w=d.get(b);if(w)return w;const G=b.parentNode;return w=e.has(G)?G:o.has(G)?1:m(G),d.set(b,w),w}return n.forEach(b=>{const w=m(b);1!==w&&e.get(w).push(b)}),e}function tc(r,n){r.classList?.add(n)}function tp(r,n){r.classList?.remove(n)}function BL(r,n,e){Vu(e).onDone(()=>r.processLeaveNode(n))}function r1(r,n){for(let e=0;e<r.length;e++){const i=r[e];i instanceof _o.ZE?r1(i.players,n):n.push(i)}}function o1(r,n,e){const i=e.get(r);if(!i)return!1;let o=n.get(r);return o?i.forEach(d=>o.add(d)):n.set(r,i),e.delete(r),!0}class UE{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,d)=>{},this._transitionEngine=new NL(n,e,i),this._timelineEngine=new xL(n,e,i),this._transitionEngine.onRemovalComplete=(o,d)=>this.onRemovalComplete(o,d)}registerTrigger(n,e,i,o,d){const m=n+"-"+o;let b=this._triggerCache[m];if(!b){const w=[],re=jA(this._driver,d,w,[]);if(w.length)throw function MN(r,n){return new t.vHH(3404,!1)}();b=function TL(r,n,e){return new CL(r,n,e)}(o,re,this._normalizer),this._triggerCache[m]=b}this._transitionEngine.registerTrigger(e,o,b)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,o){this._transitionEngine.insertNode(n,e,i,o)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,o){if("@"==i.charAt(0)){const[d,m]=NI(i);this._timelineEngine.command(d,e,m,o)}else this._transitionEngine.trigger(n,e,i,o)}listen(n,e,i,o,d){if("@"==i.charAt(0)){const[m,b]=NI(i);return this._timelineEngine.listen(m,e,b,d)}return this._transitionEngine.listen(n,e,i,o,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let GL=(()=>{class r{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let d=r.initialStylesByElement.get(e);d||r.initialStylesByElement.set(e,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rd(this._element,this._initialStyles),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(ah(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ah(this._element,this._endStyles),this._endStyles=null),rd(this._element,this._initialStyles),this._state=3)}}return r})();function JA(r){let n=null;return r.forEach((e,i)=>{(function HL(r){return"display"===r||"position"===r})(i)&&(n=n||new Map,n.set(i,e))}),n}class s1{constructor(n,e,i,o){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&n.set(o,this._finished?i:KI(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class KL{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return kI(n,e)}getParentElement(n){return RA(n)}query(n,e,i){return FI(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,o,d,m=[]){const w={duration:i,delay:o,fill:0==o?"both":"forwards"};d&&(w.easing=d);const G=new Map,re=m.filter(Xe=>Xe instanceof s1);(function JN(r,n){return 0===r||0===n})(i,o)&&re.forEach(Xe=>{Xe.currentSnapshot.forEach((pt,St)=>G.set(St,pt))});let ve=function ZN(r){return r.length?r[0]instanceof Map?r:r.map(n=>VI(n)):[]}(e).map(Xe=>Gu(Xe));ve=function QN(r,n,e){if(e.size&&n.length){let i=n[0],o=[];if(e.forEach((d,m)=>{i.has(m)||o.push(m),i.set(m,d)}),o.length)for(let d=1;d<n.length;d++){let m=n[d];o.forEach(b=>m.set(b,KI(r,b)))}}return n}(n,ve,G);const qe=function VL(r,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=JA(n[0]),n.length>1&&(i=JA(n[n.length-1]))):n instanceof Map&&(e=JA(n)),e||i?new GL(r,e,i):null}(n,ve);return new s1(n,ve,w,qe)}}let YL=(()=>{class r extends _o._j{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?(0,_o.vP)(e):e;return a1(this._renderer,null,i,"register",[o]),new WL(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.FYo),t.LFG(g.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class WL extends _o.LC{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new zL(this._id,n,e||{},this._renderer)}}class zL{constructor(n,e,i,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return a1(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function a1(r,n,e,i,o){return r.setProperty(n,`@@${e}:${i}`,o)}const l1="@.disabled";let ZL=(()=>{class r{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(d,m)=>{const b=m?.parentNode(d);b&&m.removeChild(b,d)}}createRenderer(e,i){const d=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let re=this._rendererCache.get(d);return re||(re=new c1("",d,this.engine,()=>this._rendererCache.delete(d)),this._rendererCache.set(d,re)),re}const m=i.id,b=i.id+"-"+this._currentId;this._currentId++,this.engine.register(b,e);const w=re=>{Array.isArray(re)?re.forEach(w):this.engine.registerTrigger(m,b,e,re.name,re)};return i.data.animation.forEach(w),new $L(this,b,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[m,b]=d;m(b)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.FYo),t.LFG(UE),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class c1{constructor(n,e,i,o){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,o=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,o){this.delegate.setAttribute(n,e,i,o)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,o){this.delegate.setStyle(n,e,i,o)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==l1?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class $L extends c1{constructor(n,e,i,o,d){super(e,i,o,d),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==l1?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const o=function qL(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let d=e.slice(1),m="";return"@"!=d.charAt(0)&&([d,m]=function JL(r){const n=r.indexOf(".");return[r.substring(0,n),r.slice(n+1)]}(d)),this.engine.listen(this.namespaceId,o,d,m,b=>{this.factory.scheduleListenerCallback(b._data||-1,i,b)})}return this.delegate.listen(n,e,i)}}let QL=(()=>{class r extends UE{constructor(e,i,o,d){super(e.body,i,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0),t.LFG(NA),t.LFG(YA),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const d1=[{provide:_o._j,useClass:YL},{provide:YA,useFactory:function XL(){return new vL}},{provide:UE,useClass:QL},{provide:t.FYo,useFactory:function ek(r,n,e){return new ZL(r,n,e)},deps:[c.se,UE,t.R0b]}],QA=[{provide:NA,useFactory:()=>new KL},{provide:t.QbO,useValue:"BrowserAnimations"},...d1],u1=[{provide:NA,useClass:BI},{provide:t.QbO,useValue:"NoopAnimations"},...d1];let tk=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?u1:QA}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:QA,imports:[c.b2]})}return r})();const f1_firebase={apiKey:"AIzaSyCPw-M_b3TyI_lHHkg3lT8ZZ_Z8XRa6vLU",authDomain:"sinovadclient-119aa.firebaseapp.com",projectId:"sinovadclient-119aa",storageBucket:"sinovadclient-119aa.appspot.com",messagingSenderId:"734621308263",appId:"1:734621308263:web:93ab2203f67a179c5a4bc2",measurementId:"G-2HCXG6DS06"};let nk=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r,bootstrap:[sN]});static#n=this.\u0275inj=t.cJS({providers:[{provide:g.mr,useValue:"/"}],imports:[c.b2,Tt.u5,da.m,Ft,JO,Cn,Ad.hO.initializeApp(f1_firebase),Nf,tk]})}return r})();c.q6().bootstrapModule(nk).catch(r=>console.error(r))},4753:(Bn,et,C)=>{"use strict";et.Q=void 0;const t=C(2546),y=C(8540);et.Q=E=>E.startsWith("WEBVTT")?y.vttParser(E):t.srtParser(E)},2546:(Bn,et,C)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.srtParser=void 0;const c=C(4575),t=C(2279),I=L=>{let p,f,g,D=L.split(":");return 2===D.length?[f,g]=D:[p,f,g]=D,parseInt(g.replace(",",""),10)+60*parseInt(f,10)*1e3+60*(p?parseInt(p,10):0)*60*1e3},E=()=>({start(L){let D="ID",p={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==D;){const f=this[D](p);p=f.params,D=f.next}return p.result},ID(L){const{tokens:D,pos:p,current:f}=L;if(D.length<=p)return{next:"FINISH",params:L};if(t.isBlank(D[p]))return{next:"ID",params:{...L,pos:p+1}};const g=D[p].includes("--\x3e");return f.id=g?"":D[p],{next:"TIME_LINE",params:{...L,current:f,tokens:D,pos:g?p:p+1}}},TIME_LINE(L){const{tokens:D,pos:p,current:f}=L,g=D[p],[v,A]=g.split("--\x3e");return f.from=I(v),f.to=I(A),{next:"TEXT",params:{...L,current:f,pos:p+1}}},TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:(f.text=D[p],{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},MULTI_LINE_TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"FIN_ENTRY",params:L}:(f.text=`${f.text}\n${D[p]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},FIN_ENTRY(L){const{pos:D,current:p,result:f}=L;if(!c.isEntryFromPartial(p))throw new Error(`Parsing error current not complete ${JSON.stringify(p)}`);return f.push(p),{next:"ID",params:{...L,current:{},pos:D+1}}},FINISH:L=>({next:"FINISH",params:L})});et.srtParser=L=>({entries:E().start(L)})},4575:(Bn,et)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.isEntryFromPartial=void 0,et.isEntryFromPartial=c=>"string"==typeof c.id&&"number"==typeof c.from&&"number"==typeof c.to&&"string"==typeof c.text},2279:(Bn,et)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.isBlank=void 0,et.isBlank=c=>!c||/^\s*$/.test(c)},8540:(Bn,et,C)=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.vttParser=void 0;const c=C(4575),t=C(2279),I=L=>{let p,f,g,D=L.split(":");return 2===D.length?[f,g]=D:[p,f,g]=D,parseInt(g.replace(".",""),10)+60*parseInt(f,10)*1e3+60*(p?parseInt(p,10):0)*60*1e3},E=()=>({start(L){let D="HEADER",p={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==D;){const f=this[D](p);p=f.params,D=f.next}return p.result},HEADER:L=>({next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:L.pos+1}}),ID_OR_NOTE_OR_STYLE(L){const{tokens:D,pos:p}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:D[p].toUpperCase().includes("NOTE")?{next:"NOTE",params:L}:D[p].toUpperCase().includes("STYLE")?{next:"STYLE",params:L}:{next:"ID",params:L}},STYLE(L){const{tokens:D,pos:p}=L;return t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:{next:"STYLE",params:{...L,pos:p+1}}},NOTE(L){const{tokens:D,pos:p}=L;return t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:{next:"STYLE",params:{...L,pos:p+1}}},ID(L){const{tokens:D,pos:p,current:f}=L;if(D.length<=p)return{next:"FINISH",params:L};if(t.isBlank(D[p]))return{next:"ID",params:{...L,pos:p+1}};const g=D[p].includes("--\x3e");return f.id=g?"":D[p],{next:"TIME_LINE",params:{...L,current:f,tokens:D,pos:g?p:p+1}}},TIME_LINE(L){const{tokens:D,pos:p,current:f}=L,g=D[p],[v,A]=g.split("--\x3e");return f.from=I(v),f.to=I(A),{next:"TEXT",params:{...L,current:f,pos:p+1}}},TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:(f.text=D[p],{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},MULTI_LINE_TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"FIN_ENTRY",params:L}:(f.text=`${f.text}\n${D[p]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},FIN_ENTRY(L){const{pos:D,current:p,result:f}=L;if(!c.isEntryFromPartial(p))throw new Error(`Parsing error current not complete ${JSON.stringify(p)}`);return f.push(p),{next:"ID_OR_NOTE_OR_STYLE",params:{...L,current:{},pos:D+1}}},FINISH:L=>({next:"FINISH",params:L})});et.vttParser=L=>({entries:E().start(L)})},9919:(Bn,et)=>{"use strict";et.byteLength=function L(A){var U=F(A),j=U[1];return 3*(U[0]+j)/4-j},et.toByteArray=function p(A){var U,T,R=F(A),j=R[0],k=R[1],O=new t(function D(A,U,R){return 3*(U+R)/4-R}(0,j,k)),x=0,P=k>0?j-4:j;for(T=0;T<P;T+=4)U=c[A.charCodeAt(T)]<<18|c[A.charCodeAt(T+1)]<<12|c[A.charCodeAt(T+2)]<<6|c[A.charCodeAt(T+3)],O[x++]=U>>16&255,O[x++]=U>>8&255,O[x++]=255&U;return 2===k&&(U=c[A.charCodeAt(T)]<<2|c[A.charCodeAt(T+1)]>>4,O[x++]=255&U),1===k&&(U=c[A.charCodeAt(T)]<<10|c[A.charCodeAt(T+1)]<<4|c[A.charCodeAt(T+2)]>>2,O[x++]=U>>8&255,O[x++]=255&U),O},et.fromByteArray=function v(A){for(var U,R=A.length,j=R%3,k=[],O=16383,x=0,P=R-j;x<P;x+=O)k.push(g(A,x,x+O>P?P:x+O));return 1===j?k.push(C[(U=A[R-1])>>2]+C[U<<4&63]+"=="):2===j&&k.push(C[(U=(A[R-2]<<8)+A[R-1])>>10]+C[U>>4&63]+C[U<<2&63]+"="),k.join("")};for(var C=[],c=[],t=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=0;I<64;++I)C[I]=y[I],c[y.charCodeAt(I)]=I;function F(A){var U=A.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=A.indexOf("=");return-1===R&&(R=U),[R,R===U?0:4-R%4]}function f(A){return C[A>>18&63]+C[A>>12&63]+C[A>>6&63]+C[63&A]}function g(A,U,R){for(var k=[],O=U;O<R;O+=3)k.push(f((A[O]<<16&16711680)+(A[O+1]<<8&65280)+(255&A[O+2])));return k.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},9007:(Bn,et,C)=>{"use strict";var t=C(9919),y=C(2601),I="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;et.lW=D,et.h2=50;var E=2147483647;function L(Q){if(Q>E)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var Z=new Uint8Array(Q);return Object.setPrototypeOf(Z,D.prototype),Z}function D(Q,Z,te){if("number"==typeof Q){if("string"==typeof Z)throw new TypeError('The "string" argument must be of type string. Received type number');return v(Q)}return p(Q,Z,te)}function p(Q,Z,te){if("string"==typeof Q)return function A(Q,Z){if(("string"!=typeof Z||""===Z)&&(Z="utf8"),!D.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var te=0|P(Q,Z),ne=L(te),ee=ne.write(Q,Z);return ee!==te&&(ne=ne.slice(0,ee)),ne}(Q,Z);if(ArrayBuffer.isView(Q))return function R(Q){if(se(Q,Uint8Array)){var Z=new Uint8Array(Q);return j(Z.buffer,Z.byteOffset,Z.byteLength)}return U(Q)}(Q);if(null==Q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(se(Q,ArrayBuffer)||Q&&se(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(Q,SharedArrayBuffer)||Q&&se(Q.buffer,SharedArrayBuffer)))return j(Q,Z,te);if("number"==typeof Q)throw new TypeError('The "value" argument must not be of type number. Received type number');var ne=Q.valueOf&&Q.valueOf();if(null!=ne&&ne!==Q)return D.from(ne,Z,te);var ee=function k(Q){if(D.isBuffer(Q)){var Z=0|O(Q.length),te=L(Z);return 0===te.length||Q.copy(te,0,0,Z),te}return void 0!==Q.length?"number"!=typeof Q.length||ge(Q.length)?L(0):U(Q):"Buffer"===Q.type&&Array.isArray(Q.data)?U(Q.data):void 0}(Q);if(ee)return ee;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Q[Symbol.toPrimitive])return D.from(Q[Symbol.toPrimitive]("string"),Z,te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}function f(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function v(Q){return f(Q),L(Q<0?0:0|O(Q))}function U(Q){for(var Z=Q.length<0?0:0|O(Q.length),te=L(Z),ne=0;ne<Z;ne+=1)te[ne]=255&Q[ne];return te}function j(Q,Z,te){if(Z<0||Q.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<Z+(te||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=void 0===Z&&void 0===te?new Uint8Array(Q):void 0===te?new Uint8Array(Q,Z):new Uint8Array(Q,Z,te),Object.setPrototypeOf(ne,D.prototype),ne}function O(Q){if(Q>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return 0|Q}function P(Q,Z){if(D.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||se(Q,ArrayBuffer))return Q.byteLength;if("string"!=typeof Q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);var te=Q.length,ne=arguments.length>2&&!0===arguments[2];if(!ne&&0===te)return 0;for(var ee=!1;;)switch(Z){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return ot(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*te;case"hex":return te>>>1;case"base64":return Te(Q).length;default:if(ee)return ne?-1:ot(Q).length;Z=(""+Z).toLowerCase(),ee=!0}}function T(Q,Z,te){var ne=!1;if((void 0===Z||Z<0)&&(Z=0),Z>this.length||((void 0===te||te>this.length)&&(te=this.length),te<=0)||(te>>>=0)<=(Z>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return Le(this,Z,te);case"utf8":case"utf-8":return K(this,Z,te);case"ascii":return he(this,Z,te);case"latin1":case"binary":return Se(this,Z,te);case"base64":return ae(this,Z,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,Z,te);default:if(ne)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),ne=!0}}function N(Q,Z,te){var ne=Q[Z];Q[Z]=Q[te],Q[te]=ne}function S(Q,Z,te,ne,ee){if(0===Q.length)return-1;if("string"==typeof te?(ne=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),ge(te=+te)&&(te=ee?0:Q.length-1),te<0&&(te=Q.length+te),te>=Q.length){if(ee)return-1;te=Q.length-1}else if(te<0){if(!ee)return-1;te=0}if("string"==typeof Z&&(Z=D.from(Z,ne)),D.isBuffer(Z))return 0===Z.length?-1:B(Q,Z,te,ne,ee);if("number"==typeof Z)return Z&=255,"function"==typeof Uint8Array.prototype.indexOf?ee?Uint8Array.prototype.indexOf.call(Q,Z,te):Uint8Array.prototype.lastIndexOf.call(Q,Z,te):B(Q,[Z],te,ne,ee);throw new TypeError("val must be string, number or Buffer")}function B(Q,Z,te,ne,ee){var xe,X=1,ue=Q.length,_e=Z.length;if(void 0!==ne&&("ucs2"===(ne=String(ne).toLowerCase())||"ucs-2"===ne||"utf16le"===ne||"utf-16le"===ne)){if(Q.length<2||Z.length<2)return-1;X=2,ue/=2,_e/=2,te/=2}function de(ct,nt){return 1===X?ct[nt]:ct.readUInt16BE(nt*X)}if(ee){var Ke=-1;for(xe=te;xe<ue;xe++)if(de(Q,xe)===de(Z,-1===Ke?0:xe-Ke)){if(-1===Ke&&(Ke=xe),xe-Ke+1===_e)return Ke*X}else-1!==Ke&&(xe-=xe-Ke),Ke=-1}else for(te+_e>ue&&(te=ue-_e),xe=te;xe>=0;xe--){for(var Ve=!0,st=0;st<_e;st++)if(de(Q,xe+st)!==de(Z,st)){Ve=!1;break}if(Ve)return xe}return-1}function Y(Q,Z,te,ne){te=Number(te)||0;var ee=Q.length-te;ne?(ne=Number(ne))>ee&&(ne=ee):ne=ee;var X=Z.length;ne>X/2&&(ne=X/2);for(var ue=0;ue<ne;++ue){var _e=parseInt(Z.substr(2*ue,2),16);if(ge(_e))return ue;Q[te+ue]=_e}return ue}function q(Q,Z,te,ne){return W(ot(Z,Q.length-te),Q,te,ne)}function le(Q,Z,te,ne){return W(function Je(Q){for(var Z=[],te=0;te<Q.length;++te)Z.push(255&Q.charCodeAt(te));return Z}(Z),Q,te,ne)}function Fe(Q,Z,te,ne){return W(Te(Z),Q,te,ne)}function $(Q,Z,te,ne){return W(function Ne(Q,Z){for(var te,ne,X=[],ue=0;ue<Q.length&&!((Z-=2)<0);++ue)ne=(te=Q.charCodeAt(ue))>>8,X.push(te%256),X.push(ne);return X}(Z,Q.length-te),Q,te,ne)}function ae(Q,Z,te){return t.fromByteArray(0===Z&&te===Q.length?Q:Q.slice(Z,te))}function K(Q,Z,te){te=Math.min(Q.length,te);for(var ne=[],ee=Z;ee<te;){var de,xe,Ke,Ve,X=Q[ee],ue=null,_e=X>239?4:X>223?3:X>191?2:1;if(ee+_e<=te)switch(_e){case 1:X<128&&(ue=X);break;case 2:128==(192&(de=Q[ee+1]))&&(Ve=(31&X)<<6|63&de)>127&&(ue=Ve);break;case 3:xe=Q[ee+2],128==(192&(de=Q[ee+1]))&&128==(192&xe)&&(Ve=(15&X)<<12|(63&de)<<6|63&xe)>2047&&(Ve<55296||Ve>57343)&&(ue=Ve);break;case 4:xe=Q[ee+2],Ke=Q[ee+3],128==(192&(de=Q[ee+1]))&&128==(192&xe)&&128==(192&Ke)&&(Ve=(15&X)<<18|(63&de)<<12|(63&xe)<<6|63&Ke)>65535&&Ve<1114112&&(ue=Ve)}null===ue?(ue=65533,_e=1):ue>65535&&(ne.push((ue-=65536)>>>10&1023|55296),ue=56320|1023&ue),ne.push(ue),ee+=_e}return function oe(Q){var Z=Q.length;if(Z<=pe)return String.fromCharCode.apply(String,Q);for(var te="",ne=0;ne<Z;)te+=String.fromCharCode.apply(String,Q.slice(ne,ne+=pe));return te}(ne)}!(D.TYPED_ARRAY_SUPPORT=function F(){try{var Q=new Uint8Array(1),Z={foo:function(){return 42}};return Object.setPrototypeOf(Z,Uint8Array.prototype),Object.setPrototypeOf(Q,Z),42===Q.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}}),D.poolSize=8192,D.from=function(Q,Z,te){return p(Q,Z,te)},Object.setPrototypeOf(D.prototype,Uint8Array.prototype),Object.setPrototypeOf(D,Uint8Array),D.alloc=function(Q,Z,te){return function g(Q,Z,te){return f(Q),Q<=0?L(Q):void 0!==Z?"string"==typeof te?L(Q).fill(Z,te):L(Q).fill(Z):L(Q)}(Q,Z,te)},D.allocUnsafe=function(Q){return v(Q)},D.allocUnsafeSlow=function(Q){return v(Q)},D.isBuffer=function(Z){return null!=Z&&!0===Z._isBuffer&&Z!==D.prototype},D.compare=function(Z,te){if(se(Z,Uint8Array)&&(Z=D.from(Z,Z.offset,Z.byteLength)),se(te,Uint8Array)&&(te=D.from(te,te.offset,te.byteLength)),!D.isBuffer(Z)||!D.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Z===te)return 0;for(var ne=Z.length,ee=te.length,X=0,ue=Math.min(ne,ee);X<ue;++X)if(Z[X]!==te[X]){ne=Z[X],ee=te[X];break}return ne<ee?-1:ee<ne?1:0},D.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(Z,te){if(!Array.isArray(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Z.length)return D.alloc(0);var ne;if(void 0===te)for(te=0,ne=0;ne<Z.length;++ne)te+=Z[ne].length;var ee=D.allocUnsafe(te),X=0;for(ne=0;ne<Z.length;++ne){var ue=Z[ne];if(se(ue,Uint8Array))X+ue.length>ee.length?D.from(ue).copy(ee,X):Uint8Array.prototype.set.call(ee,ue,X);else{if(!D.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(ee,X)}X+=ue.length}return ee},D.byteLength=P,D.prototype._isBuffer=!0,D.prototype.swap16=function(){var Z=this.length;if(Z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<Z;te+=2)N(this,te,te+1);return this},D.prototype.swap32=function(){var Z=this.length;if(Z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<Z;te+=4)N(this,te,te+3),N(this,te+1,te+2);return this},D.prototype.swap64=function(){var Z=this.length;if(Z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<Z;te+=8)N(this,te,te+7),N(this,te+1,te+6),N(this,te+2,te+5),N(this,te+3,te+4);return this},D.prototype.toLocaleString=D.prototype.toString=function(){var Z=this.length;return 0===Z?"":0===arguments.length?K(this,0,Z):T.apply(this,arguments)},D.prototype.equals=function(Z){if(!D.isBuffer(Z))throw new TypeError("Argument must be a Buffer");return this===Z||0===D.compare(this,Z)},D.prototype.inspect=function(){var Z="",te=et.h2;return Z=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(Z+=" ... "),"<Buffer "+Z+">"},I&&(D.prototype[I]=D.prototype.inspect),D.prototype.compare=function(Z,te,ne,ee,X){if(se(Z,Uint8Array)&&(Z=D.from(Z,Z.offset,Z.byteLength)),!D.isBuffer(Z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Z);if(void 0===te&&(te=0),void 0===ne&&(ne=Z?Z.length:0),void 0===ee&&(ee=0),void 0===X&&(X=this.length),te<0||ne>Z.length||ee<0||X>this.length)throw new RangeError("out of range index");if(ee>=X&&te>=ne)return 0;if(ee>=X)return-1;if(te>=ne)return 1;if(this===Z)return 0;for(var ue=(X>>>=0)-(ee>>>=0),_e=(ne>>>=0)-(te>>>=0),de=Math.min(ue,_e),xe=this.slice(ee,X),Ke=Z.slice(te,ne),Ve=0;Ve<de;++Ve)if(xe[Ve]!==Ke[Ve]){ue=xe[Ve],_e=Ke[Ve];break}return ue<_e?-1:_e<ue?1:0},D.prototype.includes=function(Z,te,ne){return-1!==this.indexOf(Z,te,ne)},D.prototype.indexOf=function(Z,te,ne){return S(this,Z,te,ne,!0)},D.prototype.lastIndexOf=function(Z,te,ne){return S(this,Z,te,ne,!1)},D.prototype.write=function(Z,te,ne,ee){if(void 0===te)ee="utf8",ne=this.length,te=0;else if(void 0===ne&&"string"==typeof te)ee=te,ne=this.length,te=0;else{if(!isFinite(te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");te>>>=0,isFinite(ne)?(ne>>>=0,void 0===ee&&(ee="utf8")):(ee=ne,ne=void 0)}var X=this.length-te;if((void 0===ne||ne>X)&&(ne=X),Z.length>0&&(ne<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var ue=!1;;)switch(ee){case"hex":return Y(this,Z,te,ne);case"utf8":case"utf-8":return q(this,Z,te,ne);case"ascii":case"latin1":case"binary":return le(this,Z,te,ne);case"base64":return Fe(this,Z,te,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,Z,te,ne);default:if(ue)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),ue=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var pe=4096;function he(Q,Z,te){var ne="";te=Math.min(Q.length,te);for(var ee=Z;ee<te;++ee)ne+=String.fromCharCode(127&Q[ee]);return ne}function Se(Q,Z,te){var ne="";te=Math.min(Q.length,te);for(var ee=Z;ee<te;++ee)ne+=String.fromCharCode(Q[ee]);return ne}function Le(Q,Z,te){var ne=Q.length;(!Z||Z<0)&&(Z=0),(!te||te<0||te>ne)&&(te=ne);for(var ee="",X=Z;X<te;++X)ee+=J[Q[X]];return ee}function fe(Q,Z,te){for(var ne=Q.slice(Z,te),ee="",X=0;X<ne.length-1;X+=2)ee+=String.fromCharCode(ne[X]+256*ne[X+1]);return ee}function Re(Q,Z,te){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+Z>te)throw new RangeError("Trying to access beyond buffer length")}function Me(Q,Z,te,ne,ee,X){if(!D.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>ee||Z<X)throw new RangeError('"value" argument is out of bounds');if(te+ne>Q.length)throw new RangeError("Index out of range")}function me(Q,Z,te,ne,ee,X){if(te+ne>Q.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function Ue(Q,Z,te,ne,ee){return Z=+Z,te>>>=0,ee||me(Q,0,te,4),y.write(Q,Z,te,ne,23,4),te+4}function ke(Q,Z,te,ne,ee){return Z=+Z,te>>>=0,ee||me(Q,0,te,8),y.write(Q,Z,te,ne,52,8),te+8}D.prototype.slice=function(Z,te){var ne=this.length;(Z=~~Z)<0?(Z+=ne)<0&&(Z=0):Z>ne&&(Z=ne),(te=void 0===te?ne:~~te)<0?(te+=ne)<0&&(te=0):te>ne&&(te=ne),te<Z&&(te=Z);var ee=this.subarray(Z,te);return Object.setPrototypeOf(ee,D.prototype),ee},D.prototype.readUintLE=D.prototype.readUIntLE=function(Z,te,ne){Z>>>=0,te>>>=0,ne||Re(Z,te,this.length);for(var ee=this[Z],X=1,ue=0;++ue<te&&(X*=256);)ee+=this[Z+ue]*X;return ee},D.prototype.readUintBE=D.prototype.readUIntBE=function(Z,te,ne){Z>>>=0,te>>>=0,ne||Re(Z,te,this.length);for(var ee=this[Z+--te],X=1;te>0&&(X*=256);)ee+=this[Z+--te]*X;return ee},D.prototype.readUint8=D.prototype.readUInt8=function(Z,te){return Z>>>=0,te||Re(Z,1,this.length),this[Z]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(Z,te){return Z>>>=0,te||Re(Z,2,this.length),this[Z]|this[Z+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(Z,te){return Z>>>=0,te||Re(Z,2,this.length),this[Z]<<8|this[Z+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+16777216*this[Z+3]},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),16777216*this[Z]+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},D.prototype.readIntLE=function(Z,te,ne){Z>>>=0,te>>>=0,ne||Re(Z,te,this.length);for(var ee=this[Z],X=1,ue=0;++ue<te&&(X*=256);)ee+=this[Z+ue]*X;return ee>=(X*=128)&&(ee-=Math.pow(2,8*te)),ee},D.prototype.readIntBE=function(Z,te,ne){Z>>>=0,te>>>=0,ne||Re(Z,te,this.length);for(var ee=te,X=1,ue=this[Z+--ee];ee>0&&(X*=256);)ue+=this[Z+--ee]*X;return ue>=(X*=128)&&(ue-=Math.pow(2,8*te)),ue},D.prototype.readInt8=function(Z,te){return Z>>>=0,te||Re(Z,1,this.length),128&this[Z]?-1*(255-this[Z]+1):this[Z]},D.prototype.readInt16LE=function(Z,te){Z>>>=0,te||Re(Z,2,this.length);var ne=this[Z]|this[Z+1]<<8;return 32768&ne?4294901760|ne:ne},D.prototype.readInt16BE=function(Z,te){Z>>>=0,te||Re(Z,2,this.length);var ne=this[Z+1]|this[Z]<<8;return 32768&ne?4294901760|ne:ne},D.prototype.readInt32LE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},D.prototype.readInt32BE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},D.prototype.readFloatLE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),y.read(this,Z,!0,23,4)},D.prototype.readFloatBE=function(Z,te){return Z>>>=0,te||Re(Z,4,this.length),y.read(this,Z,!1,23,4)},D.prototype.readDoubleLE=function(Z,te){return Z>>>=0,te||Re(Z,8,this.length),y.read(this,Z,!0,52,8)},D.prototype.readDoubleBE=function(Z,te){return Z>>>=0,te||Re(Z,8,this.length),y.read(this,Z,!1,52,8)},D.prototype.writeUintLE=D.prototype.writeUIntLE=function(Z,te,ne,ee){Z=+Z,te>>>=0,ne>>>=0,ee||Me(this,Z,te,ne,Math.pow(2,8*ne)-1,0);var ue=1,_e=0;for(this[te]=255&Z;++_e<ne&&(ue*=256);)this[te+_e]=Z/ue&255;return te+ne},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(Z,te,ne,ee){Z=+Z,te>>>=0,ne>>>=0,ee||Me(this,Z,te,ne,Math.pow(2,8*ne)-1,0);var ue=ne-1,_e=1;for(this[te+ue]=255&Z;--ue>=0&&(_e*=256);)this[te+ue]=Z/_e&255;return te+ne},D.prototype.writeUint8=D.prototype.writeUInt8=function(Z,te,ne){return Z=+Z,te>>>=0,ne||Me(this,Z,te,1,255,0),this[te]=255&Z,te+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(Z,te,ne){return Z=+Z,te>>>=0,ne||Me(this,Z,te,2,65535,0),this[te]=255&Z,this[te+1]=Z>>>8,te+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(Z,te,ne){return Z=+Z,te>>>=0,ne||Me(this,Z,te,2,65535,0),this[te]=Z>>>8,this[te+1]=255&Z,te+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(Z,te,ne){return Z=+Z,te>>>=0,ne||Me(this,Z,te,4,4294967295,0),this[te+3]=Z>>>24,this[te+2]=Z>>>16,this[te+1]=Z>>>8,this[te]=255&Z,te+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(Z,te,ne){return Z=+Z,te>>>=0,ne||Me(this,Z,te,4,4294967295,0),this[te]=Z>>>24,this[te+1]=Z>>>16,this[te+2]=Z>>>8,this[te+3]=255&Z,te+4},D.prototype.writeIntLE=function(Z,te,ne,ee){if(Z=+Z,te>>>=0,!ee){var X=Math.pow(2,8*ne-1);Me(this,Z,te,ne,X-1,-X)}var ue=0,_e=1,de=0;for(this[te]=255&Z;++ue<ne&&(_e*=256);)Z<0&&0===de&&0!==this[te+ue-1]&&(de=1),this[te+ue]=(Z/_e>>0)-de&255;return te+ne},D.prototype.writeIntBE=function(Z,te,ne,ee){if(Z=+Z,te>>>=0,!ee){var X=Math.pow(2,8*ne-1);Me(this,Z,te,ne,X-1,-X)}var ue=ne-1,_e=1,de=0;for(this[te+ue]=255&Z;--ue>=0&&(_e*=256);)Z<0&&0===de&&0!==this[te+ue+1]&&(de=1),this[te+ue]=(Z/_e>>0)-de&255;return te+ne},D.prototype.writeInt8=function(Z,te,ne){return Z=+Z,te>>>=0,ne||Me(this,Z,te,1,127,-128),Z<0&&(Z=255+Z+1),this[te]=255&Z,te+1},D.prototype.writeInt16LE=function(Z,te,ne){return Z=+Z,te>>>=0,ne||Me(this,Z,te,2,32767,-32768),this[te]=255&Z,this[te+1]=Z>>>8,te+2},D.prototype.writeInt16BE=function(Z,te,ne){return Z=+Z,te>>>=0,ne||Me(this,Z,te,2,32767,-32768),this[te]=Z>>>8,this[te+1]=255&Z,te+2},D.prototype.writeInt32LE=function(Z,te,ne){return Z=+Z,te>>>=0,ne||Me(this,Z,te,4,2147483647,-2147483648),this[te]=255&Z,this[te+1]=Z>>>8,this[te+2]=Z>>>16,this[te+3]=Z>>>24,te+4},D.prototype.writeInt32BE=function(Z,te,ne){return Z=+Z,te>>>=0,ne||Me(this,Z,te,4,2147483647,-2147483648),Z<0&&(Z=4294967295+Z+1),this[te]=Z>>>24,this[te+1]=Z>>>16,this[te+2]=Z>>>8,this[te+3]=255&Z,te+4},D.prototype.writeFloatLE=function(Z,te,ne){return Ue(this,Z,te,!0,ne)},D.prototype.writeFloatBE=function(Z,te,ne){return Ue(this,Z,te,!1,ne)},D.prototype.writeDoubleLE=function(Z,te,ne){return ke(this,Z,te,!0,ne)},D.prototype.writeDoubleBE=function(Z,te,ne){return ke(this,Z,te,!1,ne)},D.prototype.copy=function(Z,te,ne,ee){if(!D.isBuffer(Z))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!ee&&0!==ee&&(ee=this.length),te>=Z.length&&(te=Z.length),te||(te=0),ee>0&&ee<ne&&(ee=ne),ee===ne||0===Z.length||0===this.length)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),Z.length-te<ee-ne&&(ee=Z.length-te+ne);var X=ee-ne;return this===Z&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(te,ne,ee):Uint8Array.prototype.set.call(Z,this.subarray(ne,ee),te),X},D.prototype.fill=function(Z,te,ne,ee){if("string"==typeof Z){if("string"==typeof te?(ee=te,te=0,ne=this.length):"string"==typeof ne&&(ee=ne,ne=this.length),void 0!==ee&&"string"!=typeof ee)throw new TypeError("encoding must be a string");if("string"==typeof ee&&!D.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(1===Z.length){var X=Z.charCodeAt(0);("utf8"===ee&&X<128||"latin1"===ee)&&(Z=X)}}else"number"==typeof Z?Z&=255:"boolean"==typeof Z&&(Z=Number(Z));if(te<0||this.length<te||this.length<ne)throw new RangeError("Out of range index");if(ne<=te)return this;var ue;if(te>>>=0,ne=void 0===ne?this.length:ne>>>0,Z||(Z=0),"number"==typeof Z)for(ue=te;ue<ne;++ue)this[ue]=Z;else{var _e=D.isBuffer(Z)?Z:D.from(Z,ee),de=_e.length;if(0===de)throw new TypeError('The value "'+Z+'" is invalid for argument "value"');for(ue=0;ue<ne-te;++ue)this[ue+te]=_e[ue%de]}return this};var Ie=/[^+/0-9A-Za-z-_]/g;function ot(Q,Z){Z=Z||1/0;for(var te,ne=Q.length,ee=null,X=[],ue=0;ue<ne;++ue){if((te=Q.charCodeAt(ue))>55295&&te<57344){if(!ee){if(te>56319){(Z-=3)>-1&&X.push(239,191,189);continue}if(ue+1===ne){(Z-=3)>-1&&X.push(239,191,189);continue}ee=te;continue}if(te<56320){(Z-=3)>-1&&X.push(239,191,189),ee=te;continue}te=65536+(ee-55296<<10|te-56320)}else ee&&(Z-=3)>-1&&X.push(239,191,189);if(ee=null,te<128){if((Z-=1)<0)break;X.push(te)}else if(te<2048){if((Z-=2)<0)break;X.push(te>>6|192,63&te|128)}else if(te<65536){if((Z-=3)<0)break;X.push(te>>12|224,te>>6&63|128,63&te|128)}else{if(!(te<1114112))throw new Error("Invalid code point");if((Z-=4)<0)break;X.push(te>>18|240,te>>12&63|128,te>>6&63|128,63&te|128)}}return X}function Te(Q){return t.toByteArray(function He(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(Ie,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function W(Q,Z,te,ne){for(var ee=0;ee<ne&&!(ee+te>=Z.length||ee>=Q.length);++ee)Z[ee+te]=Q[ee];return ee}function se(Q,Z){return Q instanceof Z||null!=Q&&null!=Q.constructor&&null!=Q.constructor.name&&Q.constructor.name===Z.name}function ge(Q){return Q!=Q}var J=function(){for(var Q="0123456789abcdef",Z=new Array(256),te=0;te<16;++te)for(var ne=16*te,ee=0;ee<16;++ee)Z[ne+ee]=Q[te]+Q[ee];return Z}()},5094:Bn=>{window,Bn.exports=function(et){var C={};function c(t){if(C[t])return C[t].exports;var y=C[t]={i:t,l:!1,exports:{}};return et[t].call(y.exports,y,y.exports,c),y.l=!0,y.exports}return c.m=et,c.c=C,c.d=function(t,y,I){c.o(t,y)||Object.defineProperty(t,y,{enumerable:!0,get:I})},c.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,y){if(1&y&&(t=c(t)),8&y||4&y&&"object"==typeof t&&t&&t.__esModule)return t;var I=Object.create(null);if(c.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:t}),2&y&&"string"!=typeof t)for(var E in t)c.d(I,E,function(F){return t[F]}.bind(null,E));return I},c.n=function(t){var y=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(y,"a",y),y},c.o=function(t,y){return Object.prototype.hasOwnProperty.call(t,y)},c.p="/dist/",c(c.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(et,C,c){var I,E,F,L,D,t_encode=function(I){for(var E=[],F=0;F<I.length;++F){var L=I.charCodeAt(F);L<128?E.push(L):L<2048?(E.push(192|L>>6),E.push(128|63&L)):L<65536?(E.push(224|L>>12),E.push(128|63&L>>6),E.push(128|63&L)):(E.push(240|L>>18),E.push(128|63&L>>12),E.push(128|63&L>>6),E.push(128|63&L))}return E},t_decode=function(I){for(var E=[],F=0;F<I.length;){var L=I[F++];L<128||(L<224?(L=(31&L)<<6,L|=63&I[F++]):L<240?(L=(15&L)<<12,L|=(63&I[F++])<<6,L|=63&I[F++]):(L=(7&L)<<18,L|=(63&I[F++])<<12,L|=(63&I[F++])<<6,L|=63&I[F++])),E.push(String.fromCharCode(L))}return E.join("")},y={};I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=function(f){for(var g=0,v=[],A=0|f.length/3;0<A--;){var U=(f[g]<<16)+(f[g+1]<<8)+f[g+2];g+=3,v.push(I.charAt(63&U>>18)),v.push(I.charAt(63&U>>12)),v.push(I.charAt(63&U>>6)),v.push(I.charAt(63&U))}return f.length-g==2?(v.push(I.charAt(63&(U=(f[g]<<16)+(f[g+1]<<8))>>18)),v.push(I.charAt(63&U>>12)),v.push(I.charAt(63&U>>6)),v.push("=")):f.length-g==1&&(v.push(I.charAt(63&(U=f[g]<<16)>>18)),v.push(I.charAt(63&U>>12)),v.push("==")),v.join("")},F=function(){for(var p=[],f=0;f<64;++f)p[I.charCodeAt(f)]=f;return p["=".charCodeAt(0)]=0,p}(),L=function(f){for(var g=0,v=[],A=0|f.length/4;0<A--;){var U=(F[f.charCodeAt(g)]<<18)+(F[f.charCodeAt(g+1)]<<12)+(F[f.charCodeAt(g+2)]<<6)+F[f.charCodeAt(g+3)];v.push(255&U>>16),v.push(255&U>>8),v.push(255&U),g+=4}return v&&("="==f.charAt(g-2)?(v.pop(),v.pop()):"="==f.charAt(g-1)&&v.pop()),v},D={encode:function(p){for(var f=[],g=0;g<p.length;++g)f.push(p.charCodeAt(g));return f},decode:function(p){for(var f=0;f<s.length;++f)a[f]=String.fromCharCode(a[f]);return a.join("")}},y.decodeArray=function(p){var f=L(p);return new Uint8Array(f)},y.encodeASCII=function(p){var f=D.encode(p);return E(f)},y.decodeASCII=function(p){var f=L(p);return D.decode(f)},y.encode=function(p){var f=t_encode(p);return E(f)},y.decode=function(p){var f=L(p);return t_decode(f)},C.decode=y.decode,C.decodeArray=y.decodeArray,C.encode=y.encode,C.encodeASCII=y.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(et,C,c){!function(t){"use strict";var y={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},I=function(S){var B=S;return y.hasOwnProperty(S)&&(B=y[S]),String.fromCharCode(B)},E=15,F=32,L={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},D={17:2,18:4,21:6,22:8,23:10,19:13,20:15},p={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f={25:2,26:4,29:6,30:8,31:10,27:13,28:15},g=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],v={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(S){this.time=S},log:function(S,B){this.verboseLevel>=this.verboseFilter[S]&&console.log(this.time+" ["+S+"] "+B)}},A=function(S){for(var B=[],Y=0;Y<S.length;Y++)B.push(S[Y].toString(16));return B},U=function(S,B,Y,q,le){this.foreground=S||"white",this.underline=B||!1,this.italics=Y||!1,this.background=q||"black",this.flash=le||!1};U.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(S){for(var B=["foreground","underline","italics","background","flash"],Y=0;Y<B.length;Y++){var q=B[Y];S.hasOwnProperty(q)&&(this[q]=S[q])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(S){return this.foreground===S.foreground&&this.underline===S.underline&&this.italics===S.italics&&this.background===S.background&&this.flash===S.flash},copy:function(S){this.foreground=S.foreground,this.underline=S.underline,this.italics=S.italics,this.background=S.background,this.flash=S.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var R=function(S,B,Y,q,le,Fe){this.uchar=S||" ",this.penState=new U(B,Y,q,le,Fe)};R.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(S,B){this.uchar=S,this.penState.copy(B)},setPenState:function(S){this.penState.copy(S)},equals:function(S){return this.uchar===S.uchar&&this.penState.equals(S.penState)},copy:function(S){this.uchar=S.uchar,this.penState.copy(S.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var j=function(){this.chars=[];for(var S=0;S<F;S++)this.chars.push(new R);this.pos=0,this.currPenState=new U};j.prototype={equals:function(S){for(var B=!0,Y=0;Y<F;Y++)if(!this.chars[Y].equals(S.chars[Y])){B=!1;break}return B},copy:function(S){for(var B=0;B<F;B++)this.chars[B].copy(S.chars[B])},isEmpty:function(){for(var S=!0,B=0;B<F;B++)if(!this.chars[B].isEmpty()){S=!1;break}return S},setCursor:function(S){this.pos!==S&&(this.pos=S),this.pos<0?(v.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>F&&(v.log("ERROR","Too large cursor position "+this.pos),this.pos=F)},moveCursor:function(S){var B=this.pos+S;if(S>1)for(var Y=this.pos+1;Y<B+1;Y++)this.chars[Y].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(S){S>=144&&this.backSpace();var B=I(S);this.pos>=F?v.log("ERROR","Cannot insert "+S.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(S){var B;for(B=S;B<F;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var S=[],B=!0,Y=0;Y<F;Y++){var q=this.chars[Y].uchar;" "!==q&&(B=!1),S.push(q)}return B?"":S.join("")},setPenStyles:function(S){this.currPenState.setStyles(S),this.chars[this.pos].setPenState(this.currPenState)}};var k=function(){this.rows=[];for(var S=0;S<E;S++)this.rows.push(new j);this.currRow=14,this.nrRollUpRows=null,this.reset()};k.prototype={reset:function(){for(var S=0;S<E;S++)this.rows[S].clear();this.currRow=14},equals:function(S){for(var B=!0,Y=0;Y<E;Y++)if(!this.rows[Y].equals(S.rows[Y])){B=!1;break}return B},copy:function(S){for(var B=0;B<E;B++)this.rows[B].copy(S.rows[B])},isEmpty:function(){for(var S=!0,B=0;B<E;B++)if(!this.rows[B].isEmpty()){S=!1;break}return S},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(S){this.rows[this.currRow].insertChar(S)},setPen:function(S){this.rows[this.currRow].setPenStyles(S)},moveCursor:function(S){this.rows[this.currRow].moveCursor(S)},setCursor:function(S){v.log("INFO","setCursor: "+S),this.rows[this.currRow].setCursor(S)},setPAC:function(S){v.log("INFO","pacData = "+JSON.stringify(S));var B=S.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var Y=this.rows[this.currRow];if(null!==S.indent){var le=Math.max(S.indent-1,0);Y.setCursor(S.indent),S.color=Y.chars[le].penState.foreground}this.setPen({foreground:S.color,underline:S.underline,italics:S.italics,background:"black",flash:!1})},setBkgData:function(S){v.log("INFO","bkgData = "+JSON.stringify(S)),this.backSpace(),this.setPen(S),this.insertChar(32)},setRollUpRows:function(S){this.nrRollUpRows=S},rollUp:function(){if(null!==this.nrRollUpRows){v.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),v.log("INFO","Rolling up")}else v.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(S){S=S||!1;for(var B=[],Y="",le=0;le<E;le++){var Fe=this.rows[le].getTextString();Fe&&B.push(S?"Row "+(le+1)+': "'+Fe+'"':Fe.trim())}return B.length>0&&(Y=S?"["+B.join(" | ")+"]":B.join("\n")),Y},getTextAndFormat:function(){return this.rows}};var O=function(S,B){this.chNr=S,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new k,this.nonDisplayedMemory=new k,this.lastOutputScreen=new k,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};O.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(S){this.outputFilter=S},setPAC:function(S){this.writeScreen.setPAC(S)},setBkgData:function(S){this.writeScreen.setBkgData(S)},setMode:function(S){S!==this.mode&&(this.mode=S,v.log("INFO","MODE="+S),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=S)},insertChars:function(S){for(var B=0;B<S.length;B++)this.writeScreen.insertChar(S[B]);v.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(v.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){v.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){v.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){v.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(S){v.log("INFO","RU("+S+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(S)},cc_FON:function(){v.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){v.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){v.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){v.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){v.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){v.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){v.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(v.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var S=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=S,this.writeScreen=this.nonDisplayedMemory,v.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(S){v.log("INFO","TO("+S+") - Tab Offset"),this.writeScreen.moveCursor(S)},cc_MIDROW:function(S){var B={flash:!1};if(B.underline=S%2==1,B.italics=S>=46,B.italics)B.foreground="white";else{var Y=Math.floor(S/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][Y]}v.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var S=v.time;null!==S&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(S,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:S):this.cueStartTime=S,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(S){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.displayedMemory),this.cueStartTime=S))}};var x=function(S,B,Y){this.field=S||1,this.outputs=[B,Y],this.channels=[new O(1,B),new O(2,Y)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};x.prototype={getHandler:function(S){return this.channels[S].getHandler()},setHandler:function(S,B){this.channels[S].setHandler(B)},addData:function(S,B){var Y,q,le,Fe=!1;this.lastTime=S,v.setTime(S);for(var $=0;$<B.length;$+=2)le=127&B[$+1],(q=127&B[$])>=16&&q<=31&&q===this.lastCmdA&&le===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,v.log("DEBUG","Repeated command ("+A([q,le])+") is dropped")):0!==q||0!==le?(v.log("DATA","["+A([B[$],B[$+1]])+"] -> ("+A([q,le])+")"),(Y=this.parseCmd(q,le))||(Y=this.parseMidrow(q,le)),Y||(Y=this.parsePAC(q,le)),Y||(Y=this.parseBackgroundAttributes(q,le)),!Y&&(Fe=this.parseChars(q,le))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Fe):v.log("WARNING","No channel found yet. TEXT-MODE?")),Y?this.dataCounters.cmd+=2:Fe?this.dataCounters.char+=2:(this.dataCounters.other+=2,v.log("WARNING","Couldn't parse cleaned data "+A([q,le])+" orig: "+A([B[$],B[$+1]])))):this.dataCounters.padding+=2},parseCmd:function(S,B){var Y;if(!((20===S||21===S||28===S||29===S)&&32<=B&&B<=47||(23===S||31===S)&&33<=B&&B<=35))return!1;var Fe=this.channels[(Y=20===S||21===S||23===S?1:2)-1];return 20===S||21===S||28===S||29===S?32===B?Fe.cc_RCL():33===B?Fe.cc_BS():34===B?Fe.cc_AOF():35===B?Fe.cc_AON():36===B?Fe.cc_DER():37===B?Fe.cc_RU(2):38===B?Fe.cc_RU(3):39===B?Fe.cc_RU(4):40===B?Fe.cc_FON():41===B?Fe.cc_RDC():42===B?Fe.cc_TR():43===B?Fe.cc_RTD():44===B?Fe.cc_EDM():45===B?Fe.cc_CR():46===B?Fe.cc_ENM():47===B&&Fe.cc_EOC():Fe.cc_TO(B-32),this.lastCmdA=S,this.lastCmdB=B,this.currChNr=Y,!0},parseMidrow:function(S,B){var Y=null;if((17===S||25===S)&&32<=B&&B<=47){if((Y=17===S?1:2)!==this.currChNr)return v.log("ERROR","Mismatch channel in midrow parsing"),!1;var q=this.channels[Y-1];return q.insertChars([32]),q.cc_MIDROW(B),v.log("DEBUG","MIDROW ("+A([S,B])+")"),this.lastCmdA=S,this.lastCmdB=B,!0}return!1},parsePAC:function(S,B){var Y;if(!((17<=S&&S<=23||25<=S&&S<=31)&&64<=B&&B<=127||(16===S||24===S)&&64<=B&&B<=95))return!1;Y=S<=23?1:2;var $=this.interpretPAC(64<=B&&B<=95?1===Y?L[S]:p[S]:1===Y?D[S]:f[S],B);return this.channels[Y-1].setPAC($),this.lastCmdA=S,this.lastCmdB=B,this.currChNr=Y,!0},interpretPAC:function(S,B){var Y,q={color:null,italics:!1,indent:null,underline:!1,row:S};return q.underline=1==(1&(Y=B>95?B-96:B-64)),Y<=13?q.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Y/2)]:Y<=15?(q.italics=!0,q.color="white"):q.indent=4*Math.floor((Y-16)/2),q},parseChars:function(S,B){var Y=null,q=null,le=null;if(S>=25?(Y=2,le=S-8):(Y=1,le=S),17<=le&&le<=19){var $;v.log("INFO","Special char '"+I($=17===le?B+80:18===le?B+112:B+144)+"' in channel "+Y),q=[$],this.lastCmdA=S,this.lastCmdB=B}else 32<=S&&S<=127&&(q=0===B?[S]:[S,B],this.lastCmdA=null,this.lastCmdB=null);if(q){var ae=A(q);v.log("DEBUG","Char codes =  "+ae.join(","))}return q},parseBackgroundAttributes:function(S,B){var Y,q;return!!((16===S||24===S)&&32<=B&&B<=47||(23===S||31===S)&&45<=B&&B<=47)&&(Y={},16===S||24===S?(q=Math.floor((B-32)/2),Y.background=g[q],B%2==1&&(Y.background=Y.background+"_semi")):45===B?Y.background="transparent":(Y.foreground="black",47===B&&(Y.underline=!0)),this.channels[(S<24?1:2)-1].setBkgData(Y),this.lastCmdA=S,this.lastCmdB=B,!0)},reset:function(){for(var S=0;S<this.channels.length;S++)this.channels[S]&&this.channels[S].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(S){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(S)}};t.logger=v,t.PenState=U,t.CaptionScreen=k,t.Cea608Parser=x,t.findCea608Nalus=function(S,B,Y){for(var q=0,le=B,$=[],ae=function(Le,fe,Re,Me){if(4!==Le||fe<8)return null;var me=Re.getUint8(Me),Ue=Re.getUint16(Me+1),ke=Re.getUint32(Me+3),Ie=Re.getUint8(Me+7);return 181==me&&49==Ue&&1195456820==ke&&3==Ie};le<B+Y;){if(q=S.getUint32(le),6==(31&S.getUint8(le+4)))for(var K=le+5,pe=-1;K<le+4+q-1;){pe=0;for(var oe=255;255===oe;)pe+=oe=S.getUint8(K),K++;var he=0;for(oe=255;255===oe;)he+=oe=S.getUint8(K),K++;ae(pe,he,S,K)&&$.push([K,he]),K+=he}le+=q+4}return $},t.extractCea608DataFromRange=function(S,B){var Y=B[0],q=[[],[]],le=31&S.getUint8(Y+=8);Y+=2;for(var Fe=0;Fe<le;Fe++){var $=S.getUint8(Y),ae=4&$,K=3&$;Y++;var pe=S.getUint8(Y);Y++;var oe=S.getUint8(Y);Y++,ae&&(127&pe)+(127&oe)!=0&&(0===K?(q[0].push(pe),q[0].push(oe)):1===K&&(q[1].push(pe),q[1].push(oe)))}return q}}(C)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C),C.default=function t(y){y=y||{},function E(){void 0===y.escapeMode&&(y.escapeMode=!0),void 0===y.attributePrefix&&(y.attributePrefix="_"),y.arrayAccessForm=y.arrayAccessForm||"none",y.emptyNodeForm=y.emptyNodeForm||"text",void 0===y.enableToStringFunc&&(y.enableToStringFunc=!0),y.arrayAccessFormPaths=y.arrayAccessFormPaths||[],void 0===y.skipEmptyTextNodesForObj&&(y.skipEmptyTextNodesForObj=!0),void 0===y.stripWhitespaces&&(y.stripWhitespaces=!0),y.datetimeAccessFormPaths=y.datetimeAccessFormPaths||[],void 0===y.useDoubleQuotes&&(y.useDoubleQuotes=!1),y.xmlElementsFilter=y.xmlElementsFilter||[],y.jsonPropertiesFilter=y.jsonPropertiesFilter||[],void 0===y.keepCData&&(y.keepCData=!1),void 0===y.ignoreRoot&&(y.ignoreRoot=!1)}();var F={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function D(ae){var K=ae.localName;return null==K&&(K=ae.baseName),(null==K||""==K)&&(K=ae.nodeName),K}function f(ae){return"string"==typeof ae?ae.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):ae}function v(ae,K,pe,oe){for(var he=0;he<ae.length;he++){var Se=ae[he];if("string"==typeof Se){if(Se==oe)break}else if(Se instanceof RegExp){if(Se.test(oe))break}else if("function"==typeof Se&&Se(K,pe,oe))break}return he!=ae.length}function A(ae,K,pe){"property"===y.arrayAccessForm&&(ae[K+"_asArray"]=ae[K]instanceof Array?ae[K]:[ae[K]]),!(ae[K]instanceof Array)&&y.arrayAccessFormPaths.length>0&&v(y.arrayAccessFormPaths,ae,K,pe)&&(ae[K]=[ae[K]])}function U(ae){var K=ae.split(/[-T:+Z]/g),pe=new Date(K[0],K[1]-1,K[2]),oe=K[5].split(".");if(pe.setHours(K[3],K[4],oe[0]),oe.length>1&&pe.setMilliseconds(oe[1]),K[6]&&K[7]){var he=60*K[6]+Number(K[7]);he=0+("-"==(/\d\d-\d\d:\d\d$/.test(ae)?"-":"+")?-1*he:he),pe.setMinutes(pe.getMinutes()-he-pe.getTimezoneOffset())}else-1!==ae.indexOf("Z",ae.length-1)&&(pe=new Date(Date.UTC(pe.getFullYear(),pe.getMonth(),pe.getDate(),pe.getHours(),pe.getMinutes(),pe.getSeconds(),pe.getMilliseconds())));return pe}function j(ae,K,pe,oe){return!(K==F.ELEMENT_NODE&&y.xmlElementsFilter.length>0)||v(y.xmlElementsFilter,ae,pe,oe)}function k(ae,K){if(ae.nodeType==F.DOCUMENT_NODE){for(var pe=new Object,oe=ae.childNodes,he=0;he<oe.length;he++)(Se=oe[he]).nodeType==F.ELEMENT_NODE&&(y.ignoreRoot?pe=k(Se):(pe={})[Le=D(Se)]=k(Se));return pe}if(ae.nodeType==F.ELEMENT_NODE){(pe=new Object).__cnt=0;var fe=[];for(oe=ae.childNodes,he=0;he<oe.length;he++){var Se,Le=D(Se=oe[he]);if(Se.nodeType!=F.COMMENT_NODE){var Re=K+"."+Le;if(j(pe,Se.nodeType,Le,Re))if(pe.__cnt++,null==pe[Le]){var Me=k(Se,Re);("#text"!=Le||/[^\s]/.test(Me))&&((me={})[Le]=Me,fe.push(me)),pe[Le]=Me,A(pe,Le,Re)}else{var me;null!=pe[Le]&&(pe[Le]instanceof Array||(pe[Le]=[pe[Le]],A(pe,Le,Re))),Me=k(Se,Re),("#text"!=Le||/[^\s]/.test(Me))&&((me={})[Le]=Me,fe.push(me)),pe[Le][pe[Le].length]=Me}}}pe.__children=fe;for(var Ue=D(ae),ke=0;ke<ae.attributes.length;ke++){var Ie=ae.attributes[ke];pe.__cnt++;for(var He=Ie.value,ot=0,Je=y.matchers.length;ot<Je;ot++){var Ne=y.matchers[ot];Ne.test(Ie,Ue)&&(He=Ne.converter(Ie.value))}pe[y.attributePrefix+Ie.name]=He}var Te=function p(ae){return ae.prefix}(ae);return null!=Te&&""!=Te&&(pe.__cnt++,pe.__prefix=Te),null!=pe["#text"]&&(pe.__text=pe["#text"],pe.__text instanceof Array&&(pe.__text=pe.__text.join("\n")),y.stripWhitespaces&&(pe.__text=pe.__text.trim()),delete pe["#text"],"property"==y.arrayAccessForm&&delete pe["#text_asArray"],pe.__text=function R(ae,K,pe){if(y.datetimeAccessFormPaths.length>0){var oe=pe.split(".#")[0];return v(y.datetimeAccessFormPaths,ae,K,oe)?U(ae):ae}return ae}(pe.__text,Le,K+"."+Le)),null!=pe["#cdata-section"]&&(pe.__cdata=pe["#cdata-section"],delete pe["#cdata-section"],"property"==y.arrayAccessForm&&delete pe["#cdata-section_asArray"]),0==pe.__cnt&&"text"==y.emptyNodeForm?pe="":1==pe.__cnt&&null!=pe.__text?pe=pe.__text:1!=pe.__cnt||null==pe.__cdata||y.keepCData?pe.__cnt>1&&null!=pe.__text&&y.skipEmptyTextNodesForObj&&(y.stripWhitespaces&&""==pe.__text||""==pe.__text.trim())&&delete pe.__text:pe=pe.__cdata,delete pe.__cnt,y.enableToStringFunc&&(null!=pe.__text||null!=pe.__cdata)&&(pe.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),pe}if(ae.nodeType==F.TEXT_NODE||ae.nodeType==F.CDATA_SECTION_NODE)return ae.nodeValue}function O(ae,K,pe,oe){var he="<"+(null!=ae&&null!=ae.__prefix?ae.__prefix+":":"")+K;if(null!=pe)for(var Se=0;Se<pe.length;Se++){var Le=pe[Se],fe=ae[Le];y.escapeMode&&(fe=f(fe)),he+=" "+Le.substr(y.attributePrefix.length)+"=",he+=y.useDoubleQuotes?'"'+fe+'"':"'"+fe+"'"}return he+(oe?"/>":">")}function x(ae,K){return"</"+(null!=ae.__prefix?ae.__prefix+":":"")+K+">"}function T(ae,K){return!!("property"==y.arrayAccessForm&&function P(ae,K){return-1!==ae.indexOf(K,ae.length-K.length)}(K.toString(),"_asArray")||0==K.toString().indexOf(y.attributePrefix)||0==K.toString().indexOf("__")||ae[K]instanceof Function)}function N(ae){var K=0;if(ae instanceof Object)for(var pe in ae)T(ae,pe)||K++;return K}function S(ae,K,pe){return 0==y.jsonPropertiesFilter.length||""==pe||v(y.jsonPropertiesFilter,ae,K,pe)}function B(ae){var K=[];if(ae instanceof Object)for(var pe in ae)-1==pe.toString().indexOf("__")&&0==pe.toString().indexOf(y.attributePrefix)&&K.push(pe);return K}function q(ae){var K="";return ae instanceof Object?K+=function Y(ae){var K="";return null!=ae.__cdata&&(K+="<![CDATA["+ae.__cdata+"]]>"),null!=ae.__text&&(K+=y.escapeMode?f(ae.__text):ae.__text),K}(ae):null!=ae&&(K+=y.escapeMode?f(ae):ae),K}function le(ae,K){return""===ae?K:ae+"."+K}function Fe(ae,K,pe,oe){var he="";if(0==ae.length)he+=O(ae,K,pe,!0);else for(var Se=0;Se<ae.length;Se++)he+=O(ae[Se],K,B(ae[Se]),!1),he+=$(ae[Se],le(oe,K)),he+=x(ae[Se],K);return he}function $(ae,K){var pe="";if(N(ae)>0)for(var he in ae)if(!T(ae,he)&&(""==K||S(ae,he,le(K,he)))){var Se=ae[he],Le=B(Se);null==Se||null==Se?pe+=O(Se,he,Le,!0):Se instanceof Object?Se instanceof Array?pe+=Fe(Se,he,Le,K):Se instanceof Date?(pe+=O(Se,he,Le,!1),pe+=Se.toISOString(),pe+=x(Se,he)):N(Se)>0||null!=Se.__text||null!=Se.__cdata?(pe+=O(Se,he,Le,!1),pe+=$(Se,le(K,he)),pe+=x(Se,he)):pe+=O(Se,he,Le,!0):(pe+=O(Se,he,Le,!1),pe+=q(Se),pe+=x(Se,he))}return pe+q(ae)}this.parseXmlString=function(ae){var pe;if(window.ActiveXObject||window,void 0===ae)return null;if(window.DOMParser){var oe=new window.DOMParser;try{(pe=oe.parseFromString(ae,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(pe=null)}catch{pe=null}}else 0==ae.indexOf("<?")&&(ae=ae.substr(ae.indexOf("?>")+2)),(pe=new ActiveXObject("Microsoft.XMLDOM")).async="false",pe.loadXML(ae);return pe},this.asArray=function(ae){return void 0===ae||null==ae?[]:ae instanceof Array?ae:[ae]},this.toXmlDateTime=function(ae){return ae instanceof Date?ae.toISOString():"number"==typeof ae?new Date(ae).toISOString():null},this.asDateTime=function(ae){return"string"==typeof ae?U(ae):ae},this.xml2json=function(ae){return k(ae)},this.xml_str2json=function(ae){var K=this.parseXmlString(ae);return null!=K?this.xml2json(K):null},this.json2xml_str=function(ae){return $(ae,"")},this.json2xml=function(ae){var K=this.json2xml_str(ae);return this.parseXmlString(K)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");c.d(C,"MediaPlayer",function(){return t.MediaPlayer});var y=c(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");c.d(C,"supportsMediaSource",function(){return y.supportsMediaSource});var I=c(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");c.d(C,"MetricsReporting",function(){return I.default});var E=c(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");c.d(C,"Protection",function(){return E.default});var F=c(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");c.d(C,"MediaPlayerFactory",function(){return F.default});var L=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(C,"Debug",function(){return L.default}),dashjs.Protection=E.default,dashjs.MetricsReporting=I.default,dashjs.MediaPlayerFactory=F.default,dashjs.Debug=L.default,dashjs.supportsMediaSource=y.supportsMediaSource,C.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(et,C,c){"use strict";c.r(C),function(t){var y=c(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");c.d(C,"MediaPlayer",function(){return y.default});var I=c(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");c.d(C,"FactoryMaker",function(){return I.default});var E=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(C,"Debug",function(){return E.default});var F=c(
/*! ./src/core/Version */
"./src/core/Version.js"),p=(c(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||t),f=p.dashjs;f||(f=p.dashjs={}),f.MediaPlayer=y.default,f.FactoryMaker=I.default,f.Debug=E.default,f.Version=Object(F.getVersionString)(),C.default=f}.call(this,c(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(et,C,c){"use strict";C.byteLength=function p(R){var j=D(R),O=j[1];return 3*(j[0]+O)/4-O},C.toByteArray=function g(R){var j,S,k=D(R),O=k[0],x=k[1],P=new I(function f(R,j,k){return 3*(j+k)/4-k}(0,O,x)),T=0,N=x>0?O-4:O;for(S=0;S<N;S+=4)j=y[R.charCodeAt(S)]<<18|y[R.charCodeAt(S+1)]<<12|y[R.charCodeAt(S+2)]<<6|y[R.charCodeAt(S+3)],P[T++]=j>>16&255,P[T++]=j>>8&255,P[T++]=255&j;return 2===x&&(j=y[R.charCodeAt(S)]<<2|y[R.charCodeAt(S+1)]>>4,P[T++]=255&j),1===x&&(j=y[R.charCodeAt(S)]<<10|y[R.charCodeAt(S+1)]<<4|y[R.charCodeAt(S+2)]>>2,P[T++]=j>>8&255,P[T++]=255&j),P},C.fromByteArray=function U(R){for(var j,k=R.length,O=k%3,x=[],P=16383,T=0,N=k-O;T<N;T+=P)x.push(A(R,T,T+P>N?N:T+P));return 1===O?x.push(t[(j=R[k-1])>>2]+t[j<<4&63]+"=="):2===O&&x.push(t[(j=(R[k-2]<<8)+R[k-1])>>10]+t[j>>4&63]+t[j<<2&63]+"="),x.join("")};for(var t=[],y=[],I=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0;F<64;++F)t[F]=E[F],y[E.charCodeAt(F)]=F;function D(R){var j=R.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=R.indexOf("=");return-1===k&&(k=j),[k,k===j?0:4-k%4]}function v(R){return t[R>>18&63]+t[R>>12&63]+t[R>>6&63]+t[63&R]}function A(R,j,k){for(var x=[],P=j;P<k;P+=3)x.push(v((R[P]<<16&16711680)+(R[P+1]<<8&65280)+(255&R[P+2])));return x.join("")}y["-".charCodeAt(0)]=62,y["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(et,C,c){"use strict";function E(L,D){return function p(f,g){for(var j,k,O,v=F(f,"tag"),A=F(g??"*","range"),U=[],R=-1;++R<A.length;)if(j=A[R].toLowerCase(),D||"*"!==j){for(k=-1,O=[];++k<v.length;)if(L(v[k].toLowerCase(),j)){if(!D)return v[k];U.push(v[k])}else O.push(v[k]);v=O}return D?U:void 0}}function F(L,D){var p=L&&"string"==typeof L?[L]:L;if(!p||"object"!=typeof p||!("length"in p))throw new Error("Invalid "+D+" `"+p+"`, expected non-empty string");return p}C.basicFilter=E(function t(L,D){return"*"===D||L===D||L.indexOf(D+"-")>-1},!0),C.extendedFilter=E(function y(L,D){var p=L.split("-"),f=D.split("-"),g=0,v=0;if("*"!==f[v]&&p[g]!==f[v])return!1;for(g++,v++;v<f.length;)if("*"!==f[v]){if(!p[g])return!1;if(p[g]!==f[v]){if(1===p[g].length)return!1;g++}else g++,v++}else v++;return!0},!0),C.lookup=E(function I(L,D){for(var f,p=D;;){if("*"===p||L===p)return!0;if((f=p.lastIndexOf("-"))<0)return!1;"-"===p.charAt(f-2)&&(f-=2),p=p.slice(0,f)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(et,C,c){"use strict";et.exports=c(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(et){et.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(et){et.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(et,C,c){"use strict";var t=c(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),y=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),I=c(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),E=c(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),F=c(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),L=c(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");et.exports=function g(j,k){var N,O=k||{},x=t.parse(String(j||"").toLowerCase(),O),P=t.stringify(x),T=-1;if(!P)return P;for(;++T<I.length;)y.extendedFilter(P,I[T].from).length&&(v(x,I[T].from,I[T].to),P=t.stringify(x));for(T=-1;++T<E.length;)A(x,E[T].from.field,E[T].from.value)&&U(x,E[T].to.field,E[T].to.value);for(P=t.stringify(Object.assign({},x,f)),T=-1;++T<F.length;)P===F[T]&&(v(x,F[T],F[T].split("-").slice(0,-1).join("-")),P=t.stringify(Object.assign({},x,f)));if(x.extensions.sort(R),O.warning)for(N in L)D.call(L[N],x[N])&&O.warning("Deprecated "+N+" `"+x[N]+"`, expected one of `"+L[N][x[N]].join("`, `")+"`",null,7);return x.script&&(x.script=x.script.charAt(0).toUpperCase()+x.script.slice(1)),x.region&&(x.region=x.region.toUpperCase()),t.stringify(x)};var D={}.hasOwnProperty,p=new Intl.Collator,f={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function v(j,k,O){var N,x=t.parse(k),P=t.parse(O),T=[];for(N in x)x[N]&&x[N].length&&A(j,N,x[N])&&T.push(N);for(N in P)P[N]&&P[N].length&&(T.indexOf(N)>-1||!j[N]||!j[N].length)&&U(j,N,P[N])}function A(j,k,O){var P,T,N,S,x=!1;if(O){if(T=P=j[k],P&&"object"==typeof P)for(T=[],N=-1;++N<P.length;)O.indexOf(S=P[N])<0?T.push(S):x=!0;else P===O&&(T=null,x=!0);j[k]=T}return x}function U(j,k,O){var P,T,N,x=j[k];if(x&&"object"==typeof x)for(P=[].concat(O),T=-1;++T<P.length;)x.indexOf(N=P[T])<0&&x.push(N);else j[k]=O}function R(j,k){return p.compare(j.singleton,k.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(et){et.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(et){et.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(et,C,c){"use strict";C.parse=c(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),C.stringify=c(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(et){et.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(et,C,c){"use strict";var t=c(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),y=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),I=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),E=c(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),F=c(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");et.exports=function D(f,g){var k,O,x,v=g||{},A={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},U=String(f),R=U.toLowerCase(),j=0;if(null==f)throw new Error("Expected string, got `"+f+"`");if(L.call(F,R))return(null==v.normalize||v.normalize)&&F[R]?D(F[R]):(A[-1===E.indexOf(R)?"irregular":"regular"]=U,A);for(;y(R.charCodeAt(j))&&j<9;)j++;if(j>1&&j<9){if(A.language=U.slice(0,j),j<4)for(O=0;45===R.charCodeAt(j)&&y(R.charCodeAt(j+1))&&y(R.charCodeAt(j+2))&&y(R.charCodeAt(j+3))&&!y(R.charCodeAt(j+4));){if(O>2)return P(j,3,"Too many extended language subtags, expected at most 3 subtags");A.extendedLanguageSubtags.push(U.slice(j+1,j+4)),j+=4,O++}for(45===R.charCodeAt(j)&&y(R.charCodeAt(j+1))&&y(R.charCodeAt(j+2))&&y(R.charCodeAt(j+3))&&y(R.charCodeAt(j+4))&&!y(R.charCodeAt(j+5))&&(A.script=U.slice(j+1,j+5),j+=5),45===R.charCodeAt(j)&&(y(R.charCodeAt(j+1))&&y(R.charCodeAt(j+2))&&!y(R.charCodeAt(j+3))?(A.region=U.slice(j+1,j+3),j+=3):I(R.charCodeAt(j+1))&&I(R.charCodeAt(j+2))&&I(R.charCodeAt(j+3))&&!I(R.charCodeAt(j+4))&&(A.region=U.slice(j+1,j+4),j+=4));45===R.charCodeAt(j);){for(x=k=j+1;t(R.charCodeAt(x));){if(x-k>7)return P(x,1,"Too long variant, expected at most 8 characters");x++}if(!(x-k>4||x-k>3&&I(R.charCodeAt(k))))break;A.variants.push(U.slice(k,x)),j=x}for(;45===R.charCodeAt(j)&&120!==R.charCodeAt(j+1)&&t(R.charCodeAt(j+1))&&45===R.charCodeAt(j+2)&&t(R.charCodeAt(j+3));){for(x=j+2,O=0;45===R.charCodeAt(x)&&t(R.charCodeAt(x+1))&&t(R.charCodeAt(x+2));)for(x=(k=x+1)+2,O++;t(R.charCodeAt(x));){if(x-k>7)return P(x,2,"Too long extension, expected at most 8 characters");x++}if(!O)return P(x,4,"Empty extension, extensions must have at least 2 characters of content");A.extensions.push({singleton:U.charAt(j+1),extensions:U.slice(j+3,x).split("-")}),j=x}}else j=0;if(0===j&&120===R.charCodeAt(j)||45===R.charCodeAt(j)&&120===R.charCodeAt(j+1))for(x=j=j?j+2:1;45===R.charCodeAt(x)&&t(R.charCodeAt(x+1));){for(x=k=j+1;t(R.charCodeAt(x));){if(x-k>7)return P(x,5,"Too long private-use area, expected at most 8 characters");x++}A.privateuse.push(U.slice(j+1,x)),j=x}return j!==U.length?P(j,6,"Found superfluous content after tag"):A;function P(T,N,S){return v.warning&&v.warning(S,N,T),v.forgiving?A:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var L={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(et){et.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(et,C,c){"use strict";et.exports=function t(y){var F,L,D,I=y||{},E=[];if(I.irregular||I.regular)return I.irregular||I.regular;if(I.language)for(E=E.concat(I.language,I.extendedLanguageSubtags||[],I.script||[],I.region||[],I.variants||[]),F=I.extensions||[],L=-1;++L<F.length;)(D=F[L]).singleton&&D.extensions&&D.extensions.length&&(E=E.concat(D.singleton,D.extensions));return I.privateuse&&I.privateuse.length&&(E=E.concat("x",I.privateuse)),E.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(et,C,c){"use strict";(function(t){var y=c(
/*! base64-js */
"./node_modules/base64-js/index.js"),I=c(
/*! ieee754 */
"./node_modules/ieee754/index.js"),E=c(
/*! isarray */
"./node_modules/isarray/index.js");function L(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(ne,ee){if(L()<ee)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(ne=new Uint8Array(ee)).__proto__=p.prototype:(null===ne&&(ne=new p(ee)),ne.length=ee),ne}function p(ne,ee,X){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(ne,ee,X);if("number"==typeof ne){if("string"==typeof ee)throw new Error("If encoding is specified then the first argument must be a string");return A(this,ne)}return f(this,ne,ee,X)}function f(ne,ee,X,ue){if("number"==typeof ee)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&ee instanceof ArrayBuffer?function j(ne,ee,X,ue){if(X<0||ee.byteLength<X)throw new RangeError("'offset' is out of bounds");if(ee.byteLength<X+(ue||0))throw new RangeError("'length' is out of bounds");return ee=void 0===X&&void 0===ue?new Uint8Array(ee):void 0===ue?new Uint8Array(ee,X):new Uint8Array(ee,X,ue),p.TYPED_ARRAY_SUPPORT?(ne=ee).__proto__=p.prototype:ne=R(ne,ee),ne}(ne,ee,X,ue):"string"==typeof ee?function U(ne,ee,X){if(("string"!=typeof X||""===X)&&(X="utf8"),!p.isEncoding(X))throw new TypeError('"encoding" must be a valid string encoding');var ue=0|P(ee,X),_e=(ne=D(ne,ue)).write(ee,X);return _e!==ue&&(ne=ne.slice(0,_e)),ne}(ne,ee,X):function k(ne,ee){if(p.isBuffer(ee)){var X=0|O(ee.length);return 0===(ne=D(ne,X)).length||ee.copy(ne,0,0,X),ne}if(ee){if(typeof ArrayBuffer<"u"&&ee.buffer instanceof ArrayBuffer||"length"in ee)return"number"!=typeof ee.length||function te(ne){return ne!=ne}(ee.length)?D(ne,0):R(ne,ee);if("Buffer"===ee.type&&E(ee.data))return R(ne,ee.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ne,ee)}function g(ne){if("number"!=typeof ne)throw new TypeError('"size" argument must be a number');if(ne<0)throw new RangeError('"size" argument must not be negative')}function A(ne,ee){if(g(ee),ne=D(ne,ee<0?0:0|O(ee)),!p.TYPED_ARRAY_SUPPORT)for(var X=0;X<ee;++X)ne[X]=0;return ne}function R(ne,ee){var X=ee.length<0?0:0|O(ee.length);ne=D(ne,X);for(var ue=0;ue<X;ue+=1)ne[ue]=255&ee[ue];return ne}function O(ne){if(ne>=L())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L().toString(16)+" bytes");return 0|ne}function P(ne,ee){if(p.isBuffer(ne))return ne.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(ne)||ne instanceof ArrayBuffer))return ne.byteLength;"string"!=typeof ne&&(ne=""+ne);var X=ne.length;if(0===X)return 0;for(var ue=!1;;)switch(ee){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":case void 0:return se(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return Q(ne).length;default:if(ue)return se(ne).length;ee=(""+ee).toLowerCase(),ue=!0}}function T(ne,ee,X){var ue=!1;if((void 0===ee||ee<0)&&(ee=0),ee>this.length||((void 0===X||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(ee>>>=0))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return fe(this,ee,X);case"utf8":case"utf-8":return pe(this,ee,X);case"ascii":return Se(this,ee,X);case"latin1":case"binary":return Le(this,ee,X);case"base64":return K(this,ee,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,ee,X);default:if(ue)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),ue=!0}}function N(ne,ee,X){var ue=ne[ee];ne[ee]=ne[X],ne[X]=ue}function S(ne,ee,X,ue,_e){if(0===ne.length)return-1;if("string"==typeof X?(ue=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,isNaN(X)&&(X=_e?0:ne.length-1),X<0&&(X=ne.length+X),X>=ne.length){if(_e)return-1;X=ne.length-1}else if(X<0){if(!_e)return-1;X=0}if("string"==typeof ee&&(ee=p.from(ee,ue)),p.isBuffer(ee))return 0===ee.length?-1:B(ne,ee,X,ue,_e);if("number"==typeof ee)return ee&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?_e?Uint8Array.prototype.indexOf.call(ne,ee,X):Uint8Array.prototype.lastIndexOf.call(ne,ee,X):B(ne,[ee],X,ue,_e);throw new TypeError("val must be string, number or Buffer")}function B(ne,ee,X,ue,_e){var st,de=1,xe=ne.length,Ke=ee.length;if(void 0!==ue&&("ucs2"===(ue=String(ue).toLowerCase())||"ucs-2"===ue||"utf16le"===ue||"utf-16le"===ue)){if(ne.length<2||ee.length<2)return-1;de=2,xe/=2,Ke/=2,X/=2}function Ve(jt,wt){return 1===de?jt[wt]:jt.readUInt16BE(wt*de)}if(_e){var ct=-1;for(st=X;st<xe;st++)if(Ve(ne,st)===Ve(ee,-1===ct?0:st-ct)){if(-1===ct&&(ct=st),st-ct+1===Ke)return ct*de}else-1!==ct&&(st-=st-ct),ct=-1}else for(X+Ke>xe&&(X=xe-Ke),st=X;st>=0;st--){for(var nt=!0,yt=0;yt<Ke;yt++)if(Ve(ne,st+yt)!==Ve(ee,yt)){nt=!1;break}if(nt)return st}return-1}function Y(ne,ee,X,ue){X=Number(X)||0;var _e=ne.length-X;ue?(ue=Number(ue))>_e&&(ue=_e):ue=_e;var de=ee.length;if(de%2!=0)throw new TypeError("Invalid hex string");ue>de/2&&(ue=de/2);for(var xe=0;xe<ue;++xe){var Ke=parseInt(ee.substr(2*xe,2),16);if(isNaN(Ke))return xe;ne[X+xe]=Ke}return xe}function q(ne,ee,X,ue){return Z(se(ee,ne.length-X),ne,X,ue)}function le(ne,ee,X,ue){return Z(function ge(ne){for(var ee=[],X=0;X<ne.length;++X)ee.push(255&ne.charCodeAt(X));return ee}(ee),ne,X,ue)}function Fe(ne,ee,X,ue){return le(ne,ee,X,ue)}function $(ne,ee,X,ue){return Z(Q(ee),ne,X,ue)}function ae(ne,ee,X,ue){return Z(function J(ne,ee){for(var X,ue,de=[],xe=0;xe<ne.length&&!((ee-=2)<0);++xe)ue=(X=ne.charCodeAt(xe))>>8,de.push(X%256),de.push(ue);return de}(ee,ne.length-X),ne,X,ue)}function K(ne,ee,X){return y.fromByteArray(0===ee&&X===ne.length?ne:ne.slice(ee,X))}function pe(ne,ee,X){X=Math.min(ne.length,X);for(var ue=[],_e=ee;_e<X;){var Ve,st,ct,nt,de=ne[_e],xe=null,Ke=de>239?4:de>223?3:de>191?2:1;if(_e+Ke<=X)switch(Ke){case 1:de<128&&(xe=de);break;case 2:128==(192&(Ve=ne[_e+1]))&&(nt=(31&de)<<6|63&Ve)>127&&(xe=nt);break;case 3:st=ne[_e+2],128==(192&(Ve=ne[_e+1]))&&128==(192&st)&&(nt=(15&de)<<12|(63&Ve)<<6|63&st)>2047&&(nt<55296||nt>57343)&&(xe=nt);break;case 4:st=ne[_e+2],ct=ne[_e+3],128==(192&(Ve=ne[_e+1]))&&128==(192&st)&&128==(192&ct)&&(nt=(15&de)<<18|(63&Ve)<<12|(63&st)<<6|63&ct)>65535&&nt<1114112&&(xe=nt)}null===xe?(xe=65533,Ke=1):xe>65535&&(ue.push((xe-=65536)>>>10&1023|55296),xe=56320|1023&xe),ue.push(xe),_e+=Ke}return function he(ne){var ee=ne.length;if(ee<=oe)return String.fromCharCode.apply(String,ne);for(var X="",ue=0;ue<ee;)X+=String.fromCharCode.apply(String,ne.slice(ue,ue+=oe));return X}(ue)}C.Buffer=p,C.SlowBuffer=function x(ne){return+ne!=ne&&(ne=0),p.alloc(+ne)},C.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function F(){try{var ne=new Uint8Array(1);return ne.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===ne.foo()&&"function"==typeof ne.subarray&&0===ne.subarray(1,1).byteLength}catch{return!1}}(),C.kMaxLength=L(),p.poolSize=8192,p._augment=function(ne){return ne.__proto__=p.prototype,ne},p.from=function(ne,ee,X){return f(null,ne,ee,X)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(ne,ee,X){return function v(ne,ee,X,ue){return g(ee),ee<=0?D(ne,ee):void 0!==X?"string"==typeof ue?D(ne,ee).fill(X,ue):D(ne,ee).fill(X):D(ne,ee)}(null,ne,ee,X)},p.allocUnsafe=function(ne){return A(null,ne)},p.allocUnsafeSlow=function(ne){return A(null,ne)},p.isBuffer=function(ee){return!(null==ee||!ee._isBuffer)},p.compare=function(ee,X){if(!p.isBuffer(ee)||!p.isBuffer(X))throw new TypeError("Arguments must be Buffers");if(ee===X)return 0;for(var ue=ee.length,_e=X.length,de=0,xe=Math.min(ue,_e);de<xe;++de)if(ee[de]!==X[de]){ue=ee[de],_e=X[de];break}return ue<_e?-1:_e<ue?1:0},p.isEncoding=function(ee){switch(String(ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(ee,X){if(!E(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ee.length)return p.alloc(0);var ue;if(void 0===X)for(X=0,ue=0;ue<ee.length;++ue)X+=ee[ue].length;var _e=p.allocUnsafe(X),de=0;for(ue=0;ue<ee.length;++ue){var xe=ee[ue];if(!p.isBuffer(xe))throw new TypeError('"list" argument must be an Array of Buffers');xe.copy(_e,de),de+=xe.length}return _e},p.byteLength=P,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var ee=this.length;if(ee%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<ee;X+=2)N(this,X,X+1);return this},p.prototype.swap32=function(){var ee=this.length;if(ee%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<ee;X+=4)N(this,X,X+3),N(this,X+1,X+2);return this},p.prototype.swap64=function(){var ee=this.length;if(ee%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<ee;X+=8)N(this,X,X+7),N(this,X+1,X+6),N(this,X+2,X+5),N(this,X+3,X+4);return this},p.prototype.toString=function(){var ee=0|this.length;return 0===ee?"":0===arguments.length?pe(this,0,ee):T.apply(this,arguments)},p.prototype.equals=function(ee){if(!p.isBuffer(ee))throw new TypeError("Argument must be a Buffer");return this===ee||0===p.compare(this,ee)},p.prototype.inspect=function(){var ee="",X=C.INSPECT_MAX_BYTES;return this.length>0&&(ee=this.toString("hex",0,X).match(/.{2}/g).join(" "),this.length>X&&(ee+=" ... ")),"<Buffer "+ee+">"},p.prototype.compare=function(ee,X,ue,_e,de){if(!p.isBuffer(ee))throw new TypeError("Argument must be a Buffer");if(void 0===X&&(X=0),void 0===ue&&(ue=ee?ee.length:0),void 0===_e&&(_e=0),void 0===de&&(de=this.length),X<0||ue>ee.length||_e<0||de>this.length)throw new RangeError("out of range index");if(_e>=de&&X>=ue)return 0;if(_e>=de)return-1;if(X>=ue)return 1;if(this===ee)return 0;for(var xe=(de>>>=0)-(_e>>>=0),Ke=(ue>>>=0)-(X>>>=0),Ve=Math.min(xe,Ke),st=this.slice(_e,de),ct=ee.slice(X,ue),nt=0;nt<Ve;++nt)if(st[nt]!==ct[nt]){xe=st[nt],Ke=ct[nt];break}return xe<Ke?-1:Ke<xe?1:0},p.prototype.includes=function(ee,X,ue){return-1!==this.indexOf(ee,X,ue)},p.prototype.indexOf=function(ee,X,ue){return S(this,ee,X,ue,!0)},p.prototype.lastIndexOf=function(ee,X,ue){return S(this,ee,X,ue,!1)},p.prototype.write=function(ee,X,ue,_e){if(void 0===X)_e="utf8",ue=this.length,X=0;else if(void 0===ue&&"string"==typeof X)_e=X,ue=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X|=0,isFinite(ue)?(ue|=0,void 0===_e&&(_e="utf8")):(_e=ue,ue=void 0)}var de=this.length-X;if((void 0===ue||ue>de)&&(ue=de),ee.length>0&&(ue<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");_e||(_e="utf8");for(var xe=!1;;)switch(_e){case"hex":return Y(this,ee,X,ue);case"utf8":case"utf-8":return q(this,ee,X,ue);case"ascii":return le(this,ee,X,ue);case"latin1":case"binary":return Fe(this,ee,X,ue);case"base64":return $(this,ee,X,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,ee,X,ue);default:if(xe)throw new TypeError("Unknown encoding: "+_e);_e=(""+_e).toLowerCase(),xe=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var oe=4096;function Se(ne,ee,X){var ue="";X=Math.min(ne.length,X);for(var _e=ee;_e<X;++_e)ue+=String.fromCharCode(127&ne[_e]);return ue}function Le(ne,ee,X){var ue="";X=Math.min(ne.length,X);for(var _e=ee;_e<X;++_e)ue+=String.fromCharCode(ne[_e]);return ue}function fe(ne,ee,X){var ue=ne.length;(!ee||ee<0)&&(ee=0),(!X||X<0||X>ue)&&(X=ue);for(var _e="",de=ee;de<X;++de)_e+=W(ne[de]);return _e}function Re(ne,ee,X){for(var ue=ne.slice(ee,X),_e="",de=0;de<ue.length;de+=2)_e+=String.fromCharCode(ue[de]+256*ue[de+1]);return _e}function Me(ne,ee,X){if(ne%1!=0||ne<0)throw new RangeError("offset is not uint");if(ne+ee>X)throw new RangeError("Trying to access beyond buffer length")}function me(ne,ee,X,ue,_e,de){if(!p.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee>_e||ee<de)throw new RangeError('"value" argument is out of bounds');if(X+ue>ne.length)throw new RangeError("Index out of range")}function Ue(ne,ee,X,ue){ee<0&&(ee=65535+ee+1);for(var _e=0,de=Math.min(ne.length-X,2);_e<de;++_e)ne[X+_e]=(ee&255<<8*(ue?_e:1-_e))>>>8*(ue?_e:1-_e)}function ke(ne,ee,X,ue){ee<0&&(ee=4294967295+ee+1);for(var _e=0,de=Math.min(ne.length-X,4);_e<de;++_e)ne[X+_e]=ee>>>8*(ue?_e:3-_e)&255}function Ie(ne,ee,X,ue,_e,de){if(X+ue>ne.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function He(ne,ee,X,ue,_e){return _e||Ie(ne,0,X,4),I.write(ne,ee,X,ue,23,4),X+4}function ot(ne,ee,X,ue,_e){return _e||Ie(ne,0,X,8),I.write(ne,ee,X,ue,52,8),X+8}p.prototype.slice=function(ee,X){var _e,ue=this.length;if((ee=~~ee)<0?(ee+=ue)<0&&(ee=0):ee>ue&&(ee=ue),(X=void 0===X?ue:~~X)<0?(X+=ue)<0&&(X=0):X>ue&&(X=ue),X<ee&&(X=ee),p.TYPED_ARRAY_SUPPORT)(_e=this.subarray(ee,X)).__proto__=p.prototype;else{var de=X-ee;_e=new p(de,void 0);for(var xe=0;xe<de;++xe)_e[xe]=this[xe+ee]}return _e},p.prototype.readUIntLE=function(ee,X,ue){ee|=0,X|=0,ue||Me(ee,X,this.length);for(var _e=this[ee],de=1,xe=0;++xe<X&&(de*=256);)_e+=this[ee+xe]*de;return _e},p.prototype.readUIntBE=function(ee,X,ue){ee|=0,X|=0,ue||Me(ee,X,this.length);for(var _e=this[ee+--X],de=1;X>0&&(de*=256);)_e+=this[ee+--X]*de;return _e},p.prototype.readUInt8=function(ee,X){return X||Me(ee,1,this.length),this[ee]},p.prototype.readUInt16LE=function(ee,X){return X||Me(ee,2,this.length),this[ee]|this[ee+1]<<8},p.prototype.readUInt16BE=function(ee,X){return X||Me(ee,2,this.length),this[ee]<<8|this[ee+1]},p.prototype.readUInt32LE=function(ee,X){return X||Me(ee,4,this.length),(this[ee]|this[ee+1]<<8|this[ee+2]<<16)+16777216*this[ee+3]},p.prototype.readUInt32BE=function(ee,X){return X||Me(ee,4,this.length),16777216*this[ee]+(this[ee+1]<<16|this[ee+2]<<8|this[ee+3])},p.prototype.readIntLE=function(ee,X,ue){ee|=0,X|=0,ue||Me(ee,X,this.length);for(var _e=this[ee],de=1,xe=0;++xe<X&&(de*=256);)_e+=this[ee+xe]*de;return _e>=(de*=128)&&(_e-=Math.pow(2,8*X)),_e},p.prototype.readIntBE=function(ee,X,ue){ee|=0,X|=0,ue||Me(ee,X,this.length);for(var _e=X,de=1,xe=this[ee+--_e];_e>0&&(de*=256);)xe+=this[ee+--_e]*de;return xe>=(de*=128)&&(xe-=Math.pow(2,8*X)),xe},p.prototype.readInt8=function(ee,X){return X||Me(ee,1,this.length),128&this[ee]?-1*(255-this[ee]+1):this[ee]},p.prototype.readInt16LE=function(ee,X){X||Me(ee,2,this.length);var ue=this[ee]|this[ee+1]<<8;return 32768&ue?4294901760|ue:ue},p.prototype.readInt16BE=function(ee,X){X||Me(ee,2,this.length);var ue=this[ee+1]|this[ee]<<8;return 32768&ue?4294901760|ue:ue},p.prototype.readInt32LE=function(ee,X){return X||Me(ee,4,this.length),this[ee]|this[ee+1]<<8|this[ee+2]<<16|this[ee+3]<<24},p.prototype.readInt32BE=function(ee,X){return X||Me(ee,4,this.length),this[ee]<<24|this[ee+1]<<16|this[ee+2]<<8|this[ee+3]},p.prototype.readFloatLE=function(ee,X){return X||Me(ee,4,this.length),I.read(this,ee,!0,23,4)},p.prototype.readFloatBE=function(ee,X){return X||Me(ee,4,this.length),I.read(this,ee,!1,23,4)},p.prototype.readDoubleLE=function(ee,X){return X||Me(ee,8,this.length),I.read(this,ee,!0,52,8)},p.prototype.readDoubleBE=function(ee,X){return X||Me(ee,8,this.length),I.read(this,ee,!1,52,8)},p.prototype.writeUIntLE=function(ee,X,ue,_e){ee=+ee,X|=0,ue|=0,_e||me(this,ee,X,ue,Math.pow(2,8*ue)-1,0);var xe=1,Ke=0;for(this[X]=255&ee;++Ke<ue&&(xe*=256);)this[X+Ke]=ee/xe&255;return X+ue},p.prototype.writeUIntBE=function(ee,X,ue,_e){ee=+ee,X|=0,ue|=0,_e||me(this,ee,X,ue,Math.pow(2,8*ue)-1,0);var xe=ue-1,Ke=1;for(this[X+xe]=255&ee;--xe>=0&&(Ke*=256);)this[X+xe]=ee/Ke&255;return X+ue},p.prototype.writeUInt8=function(ee,X,ue){return ee=+ee,X|=0,ue||me(this,ee,X,1,255,0),p.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),this[X]=255&ee,X+1},p.prototype.writeUInt16LE=function(ee,X,ue){return ee=+ee,X|=0,ue||me(this,ee,X,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[X]=255&ee,this[X+1]=ee>>>8):Ue(this,ee,X,!0),X+2},p.prototype.writeUInt16BE=function(ee,X,ue){return ee=+ee,X|=0,ue||me(this,ee,X,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>8,this[X+1]=255&ee):Ue(this,ee,X,!1),X+2},p.prototype.writeUInt32LE=function(ee,X,ue){return ee=+ee,X|=0,ue||me(this,ee,X,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[X+3]=ee>>>24,this[X+2]=ee>>>16,this[X+1]=ee>>>8,this[X]=255&ee):ke(this,ee,X,!0),X+4},p.prototype.writeUInt32BE=function(ee,X,ue){return ee=+ee,X|=0,ue||me(this,ee,X,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>24,this[X+1]=ee>>>16,this[X+2]=ee>>>8,this[X+3]=255&ee):ke(this,ee,X,!1),X+4},p.prototype.writeIntLE=function(ee,X,ue,_e){if(ee=+ee,X|=0,!_e){var de=Math.pow(2,8*ue-1);me(this,ee,X,ue,de-1,-de)}var xe=0,Ke=1,Ve=0;for(this[X]=255&ee;++xe<ue&&(Ke*=256);)ee<0&&0===Ve&&0!==this[X+xe-1]&&(Ve=1),this[X+xe]=(ee/Ke>>0)-Ve&255;return X+ue},p.prototype.writeIntBE=function(ee,X,ue,_e){if(ee=+ee,X|=0,!_e){var de=Math.pow(2,8*ue-1);me(this,ee,X,ue,de-1,-de)}var xe=ue-1,Ke=1,Ve=0;for(this[X+xe]=255&ee;--xe>=0&&(Ke*=256);)ee<0&&0===Ve&&0!==this[X+xe+1]&&(Ve=1),this[X+xe]=(ee/Ke>>0)-Ve&255;return X+ue},p.prototype.writeInt8=function(ee,X,ue){return ee=+ee,X|=0,ue||me(this,ee,X,1,127,-128),p.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),ee<0&&(ee=255+ee+1),this[X]=255&ee,X+1},p.prototype.writeInt16LE=function(ee,X,ue){return ee=+ee,X|=0,ue||me(this,ee,X,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[X]=255&ee,this[X+1]=ee>>>8):Ue(this,ee,X,!0),X+2},p.prototype.writeInt16BE=function(ee,X,ue){return ee=+ee,X|=0,ue||me(this,ee,X,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>8,this[X+1]=255&ee):Ue(this,ee,X,!1),X+2},p.prototype.writeInt32LE=function(ee,X,ue){return ee=+ee,X|=0,ue||me(this,ee,X,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[X]=255&ee,this[X+1]=ee>>>8,this[X+2]=ee>>>16,this[X+3]=ee>>>24):ke(this,ee,X,!0),X+4},p.prototype.writeInt32BE=function(ee,X,ue){return ee=+ee,X|=0,ue||me(this,ee,X,4,2147483647,-2147483648),ee<0&&(ee=4294967295+ee+1),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>24,this[X+1]=ee>>>16,this[X+2]=ee>>>8,this[X+3]=255&ee):ke(this,ee,X,!1),X+4},p.prototype.writeFloatLE=function(ee,X,ue){return He(this,ee,X,!0,ue)},p.prototype.writeFloatBE=function(ee,X,ue){return He(this,ee,X,!1,ue)},p.prototype.writeDoubleLE=function(ee,X,ue){return ot(this,ee,X,!0,ue)},p.prototype.writeDoubleBE=function(ee,X,ue){return ot(this,ee,X,!1,ue)},p.prototype.copy=function(ee,X,ue,_e){if(ue||(ue=0),!_e&&0!==_e&&(_e=this.length),X>=ee.length&&(X=ee.length),X||(X=0),_e>0&&_e<ue&&(_e=ue),_e===ue||0===ee.length||0===this.length)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("sourceStart out of bounds");if(_e<0)throw new RangeError("sourceEnd out of bounds");_e>this.length&&(_e=this.length),ee.length-X<_e-ue&&(_e=ee.length-X+ue);var xe,de=_e-ue;if(this===ee&&ue<X&&X<_e)for(xe=de-1;xe>=0;--xe)ee[xe+X]=this[xe+ue];else if(de<1e3||!p.TYPED_ARRAY_SUPPORT)for(xe=0;xe<de;++xe)ee[xe+X]=this[xe+ue];else Uint8Array.prototype.set.call(ee,this.subarray(ue,ue+de),X);return de},p.prototype.fill=function(ee,X,ue,_e){if("string"==typeof ee){if("string"==typeof X?(_e=X,X=0,ue=this.length):"string"==typeof ue&&(_e=ue,ue=this.length),1===ee.length){var de=ee.charCodeAt(0);de<256&&(ee=de)}if(void 0!==_e&&"string"!=typeof _e)throw new TypeError("encoding must be a string");if("string"==typeof _e&&!p.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e)}else"number"==typeof ee&&(ee&=255);if(X<0||this.length<X||this.length<ue)throw new RangeError("Out of range index");if(ue<=X)return this;var xe;if(X>>>=0,ue=void 0===ue?this.length:ue>>>0,ee||(ee=0),"number"==typeof ee)for(xe=X;xe<ue;++xe)this[xe]=ee;else{var Ke=p.isBuffer(ee)?ee:se(new p(ee,_e).toString()),Ve=Ke.length;for(xe=0;xe<ue-X;++xe)this[xe+X]=Ke[xe%Ve]}return this};var Je=/[^+\/0-9A-Za-z-_]/g;function W(ne){return ne<16?"0"+ne.toString(16):ne.toString(16)}function se(ne,ee){ee=ee||1/0;for(var X,ue=ne.length,_e=null,de=[],xe=0;xe<ue;++xe){if((X=ne.charCodeAt(xe))>55295&&X<57344){if(!_e){if(X>56319){(ee-=3)>-1&&de.push(239,191,189);continue}if(xe+1===ue){(ee-=3)>-1&&de.push(239,191,189);continue}_e=X;continue}if(X<56320){(ee-=3)>-1&&de.push(239,191,189),_e=X;continue}X=65536+(_e-55296<<10|X-56320)}else _e&&(ee-=3)>-1&&de.push(239,191,189);if(_e=null,X<128){if((ee-=1)<0)break;de.push(X)}else if(X<2048){if((ee-=2)<0)break;de.push(X>>6|192,63&X|128)}else if(X<65536){if((ee-=3)<0)break;de.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((ee-=4)<0)break;de.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return de}function Q(ne){return y.toByteArray(function Ne(ne){if((ne=function Te(ne){return ne.trim?ne.trim():ne.replace(/^\s+|\s+$/g,"")}(ne).replace(Je,"")).length<2)return"";for(;ne.length%4!=0;)ne+="=";return ne}(ne))}function Z(ne,ee,X,ue){for(var _e=0;_e<ue&&!(_e+X>=ee.length||_e>=ne.length);++_e)ee[_e+X]=ne[_e];return _e}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(et,C,c){var t={parseBuffer:function(E){return new y(E).parse()},addBoxProcessor:function(E,F){"string"!=typeof E||"function"!=typeof F||(I.prototype._boxProcessors[E]=F)},createFile:function(){return new y},createBox:function(E,F,L){var D=I.create(E);return F&&F.append(D,L),D},createFullBox:function(E,F,L){var D=t.createBox(E,F,L);return D.version=0,D.flags=0,D},Utils:{}};t.Utils.dataViewToString=function(E,F){var L=F||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(L).decode(E);var D=[],p=0;if("utf-8"===L)for(;p<E.byteLength;){var f=E.getUint8(p++);f<128||(f<224?(f=(31&f)<<6,f|=63&E.getUint8(p++)):f<240?(f=(15&f)<<12,f|=(63&E.getUint8(p++))<<6,f|=63&E.getUint8(p++)):(f=(7&f)<<18,f|=(63&E.getUint8(p++))<<12,f|=(63&E.getUint8(p++))<<6,f|=63&E.getUint8(p++))),D.push(String.fromCharCode(f))}else for(;p<E.byteLength;)D.push(String.fromCharCode(E.getUint8(p++)));return D.join("")},t.Utils.utf8ToByteArray=function(E){var F,L;if(typeof TextEncoder<"u")F=(new TextEncoder).encode(E);else for(F=[],L=0;L<E.length;++L){var D=E.charCodeAt(L);D<128?F.push(D):D<2048?(F.push(192|D>>6),F.push(128|63&D)):D<65536?(F.push(224|D>>12),F.push(128|63&D>>6),F.push(128|63&D)):(F.push(240|D>>18),F.push(128|63&D>>12),F.push(128|63&D>>6),F.push(128|63&D))}return F},t.Utils.appendBox=function(E,F,L){if(F._offset=E._cursor.offset,F._root=E._root?E._root:E,F._raw=E._raw,F._parent=E,-1!==L){if(null==L)return void E.boxes.push(F);var p,D=-1;if("number"==typeof L)D=L;else{if("string"==typeof L)p=L;else{if("object"!=typeof L||!L.type)return void E.boxes.push(F);p=L.type}for(var f=0;f<E.boxes.length;f++)if(p===E.boxes[f].type){D=f+1;break}}E.boxes.splice(D,0,F)}},C.parseBuffer=t.parseBuffer,C.addBoxProcessor=t.addBoxProcessor,C.createFile=t.createFile,C.createBox=t.createBox,C.createFullBox=t.createFullBox,C.Utils=t.Utils,t.Cursor=function(E){this.offset=typeof E>"u"?0:E};var y=function(E){this._cursor=new t.Cursor,this.boxes=[],E&&(this._raw=new DataView(E))};y.prototype.fetch=function(E){var F=this.fetchAll(E,!0);return F.length?F[0]:null},y.prototype.fetchAll=function(E,F){var L=[];return y._sweep.call(this,E,L,F),L},y.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var E=I.parse(this);if(typeof E.type>"u")break;this.boxes.push(E)}return this},y._sweep=function(E,F,L){for(var D in this.type&&this.type==E&&F.push(this),this.boxes){if(F.length&&L)return;y._sweep.call(this.boxes[D],E,F,L)}},y.prototype.write=function(){var F,E=0;for(F=0;F<this.boxes.length;F++)E+=this.boxes[F].getLength(!1);var L=new Uint8Array(E);for(this._rawo=new DataView(L.buffer),this.bytes=L,this._cursor.offset=0,F=0;F<this.boxes.length;F++)this.boxes[F].write();return L.buffer},y.prototype.append=function(E,F){t.Utils.appendBox(this,E,F)};var I=function(){this._cursor=new t.Cursor};I.parse=function(E){var F=new I;return F._offset=E._cursor.offset,F._root=E._root?E._root:E,F._raw=E._raw,F._parent=E,F._parseBox(),E._cursor.offset=F._raw.byteOffset+F._raw.byteLength,F},I.create=function(E){var F=new I;return F.type=E,F.boxes=[],F},I.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],I.prototype._boxProcessors={},I.prototype._procField=function(E,F,L){this._parsing?this[E]=this._readField(F,L):this._writeField(F,L,this[E])},I.prototype._procFieldArray=function(E,F,L,D){var p;if(this._parsing)for(this[E]=[],p=0;p<F;p++)this[E][p]=this._readField(L,D);else for(p=0;p<this[E].length;p++)this._writeField(L,D,this[E][p])},I.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},I.prototype._procEntries=function(E,F,L){var D;if(this._parsing)for(this[E]=[],D=0;D<F;D++)this[E].push({}),L.call(this,this[E][D]);else for(D=0;D<F;D++)L.call(this,this[E][D])},I.prototype._procSubEntries=function(E,F,L,D){var p;if(this._parsing)for(E[F]=[],p=0;p<L;p++)E[F].push({}),D.call(this,E[F][p]);else for(p=0;p<L;p++)D.call(this,E[F][p])},I.prototype._procEntryField=function(E,F,L,D){this._parsing?E[F]=this._readField(L,D):this._writeField(L,D,E[F])},I.prototype._procSubBoxes=function(E,F){var L;if(this._parsing)for(this[E]=[],L=0;L<F;L++)this[E].push(I.parse(this));else for(L=0;L<F;L++)this._rawo?this[E][L].write():this.size+=this[E][L].getLength()},I.prototype._readField=function(E,F){switch(E){case"uint":return this._readUint(F);case"int":return this._readInt(F);case"template":return this._readTemplate(F);case"string":return-1===F?this._readTerminatedString():this._readString(F);case"data":return this._readData(F);case"utf8":return this._readUTF8String();default:return-1}},I.prototype._readInt=function(E){var F=null,L=this._cursor.offset-this._raw.byteOffset;switch(E){case 8:F=this._raw.getInt8(L);break;case 16:F=this._raw.getInt16(L);break;case 32:F=this._raw.getInt32(L);break;case 64:var D=this._raw.getInt32(L),p=this._raw.getInt32(L+4);F=D*Math.pow(2,32)+p}return this._cursor.offset+=E>>3,F},I.prototype._readUint=function(E){var D,p,F=null,L=this._cursor.offset-this._raw.byteOffset;switch(E){case 8:F=this._raw.getUint8(L);break;case 16:F=this._raw.getUint16(L);break;case 24:F=((D=this._raw.getUint16(L))<<8)+(p=this._raw.getUint8(L+2));break;case 32:F=this._raw.getUint32(L);break;case 64:D=this._raw.getUint32(L),p=this._raw.getUint32(L+4),F=D*Math.pow(2,32)+p}return this._cursor.offset+=E>>3,F},I.prototype._readString=function(E){for(var F="",L=0;L<E;L++){var D=this._readUint(8);F+=String.fromCharCode(D)}return F},I.prototype._readTemplate=function(E){return this._readUint(E/2)+this._readUint(E/2)/Math.pow(2,E/2)},I.prototype._readTerminatedString=function(){for(var E="";this._cursor.offset-this._offset<this._raw.byteLength;){var F=this._readUint(8);if(0===F)break;E+=String.fromCharCode(F)}return E},I.prototype._readData=function(E){var F=E>0?E:this._raw.byteLength-(this._cursor.offset-this._offset);if(F>0){var L=new Uint8Array(this._raw.buffer,this._cursor.offset,F);return this._cursor.offset+=F,L}return null},I.prototype._readUTF8String=function(){var E=this._raw.byteLength-(this._cursor.offset-this._offset),F=null;return E>0&&(F=new DataView(this._raw.buffer,this._cursor.offset,E),this._cursor.offset+=E),F&&t.Utils.dataViewToString(F)},I.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},I.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},I.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(I.parse(this))},I.prototype.append=function(E,F){t.Utils.appendBox(this,E,F)},I.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var E=0;E<this.boxes.length;E++)this.size+=this.boxes[E].getLength();return this._data&&this._writeData(this._data),this.size},I.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var E=0;E<this.boxes.length;E++)this.boxes[E].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},I.prototype._writeInt=function(E,F){if(this._rawo){var L=this._cursor.offset-this._rawo.byteOffset;switch(E){case 8:this._rawo.setInt8(L,F);break;case 16:this._rawo.setInt16(L,F);break;case 32:this._rawo.setInt32(L,F);break;case 64:var D=Math.floor(F/Math.pow(2,32)),p=F-D*Math.pow(2,32);this._rawo.setUint32(L,D),this._rawo.setUint32(L+4,p)}this._cursor.offset+=E>>3}else this.size+=E>>3},I.prototype._writeUint=function(E,F){if(this._rawo){var D,p,L=this._cursor.offset-this._rawo.byteOffset;switch(E){case 8:this._rawo.setUint8(L,F);break;case 16:this._rawo.setUint16(L,F);break;case 24:p=255&F,this._rawo.setUint16(L,D=(16776960&F)>>8),this._rawo.setUint8(L+2,p);break;case 32:this._rawo.setUint32(L,F);break;case 64:p=F-(D=Math.floor(F/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(L,D),this._rawo.setUint32(L+4,p)}this._cursor.offset+=E>>3}else this.size+=E>>3},I.prototype._writeString=function(E,F){for(var L=0;L<E;L++)this._writeUint(8,F.charCodeAt(L))},I.prototype._writeTerminatedString=function(E){if(0!==E.length){for(var F=0;F<E.length;F++)this._writeUint(8,E.charCodeAt(F));this._writeUint(8,0)}},I.prototype._writeTemplate=function(E,F){var L=Math.floor(F),D=(F-L)*Math.pow(2,E/2);this._writeUint(E/2,L),this._writeUint(E/2,D)},I.prototype._writeData=function(E){if(E)if(this._rawo){if(E instanceof Array){for(var L=this._cursor.offset-this._rawo.byteOffset,F=0;F<E.length;F++)this._rawo.setInt8(L+F,E[F]);this._cursor.offset+=E.length}E instanceof Uint8Array&&(this._root.bytes.set(E,this._cursor.offset),this._cursor.offset+=E.length)}else this.size+=E.length},I.prototype._writeUTF8String=function(E){var F=t.Utils.utf8ToByteArray(E);if(this._rawo)for(var L=new DataView(this._rawo.buffer,this._cursor.offset,F.length),D=0;D<F.length;D++)L.setUint8(D,F[D]);else this.size+=F.length},I.prototype._writeField=function(E,F,L){switch(E){case"uint":this._writeUint(F,L);break;case"int":this._writeInt(F,L);break;case"template":this._writeTemplate(F,L);break;case"string":-1==F?this._writeTerminatedString(L):this._writeString(F,L);break;case"data":this._writeData(L);break;case"utf8":this._writeUTF8String(L)}},I.prototype._boxProcessors.avc1=I.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},I.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},I.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(E){this._procEntryField(E,"segment_duration","uint",1===this.version?64:32),this._procEntryField(E,"media_time","int",1===this.version?64:32),this._procEntryField(E,"media_rate_integer","int",16),this._procEntryField(E,"media_rate_fraction","int",16)})},I.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},I.prototype._boxProcessors.free=I.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},I.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},I.prototype._boxProcessors.ftyp=I.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var E=-1;this._parsing&&(E=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",E,"string",4)},I.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},I.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},I.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},I.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},I.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},I.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},I.prototype._boxProcessors.mp4a=I.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},I.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},I.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},I.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},I.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},I.prototype._boxProcessors.sdtp=function(){this._procFullBox();var E=-1;this._parsing&&(E=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",E,"uint",8)},I.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(E){this._parsing||(E.reference=(1&E.reference_type)<<31,E.reference|=2147483647&E.referenced_size,E.sap=(1&E.starts_with_SAP)<<31,E.sap|=(3&E.SAP_type)<<28,E.sap|=268435455&E.SAP_delta_time),this._procEntryField(E,"reference","uint",32),this._procEntryField(E,"subsegment_duration","uint",32),this._procEntryField(E,"sap","uint",32),this._parsing&&(E.reference_type=E.reference>>31&1,E.referenced_size=2147483647&E.reference,E.starts_with_SAP=E.sap>>31&1,E.SAP_type=E.sap>>28&7,E.SAP_delta_time=268435455&E.sap)})},I.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},I.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(E){this._procEntryField(E,"ranges_count","uint",32),this._procSubEntries(E,"ranges",E.ranges_count,function(F){this._procEntryField(F,"level","uint",8),this._procEntryField(F,"range_size","uint",24)})})},I.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},I.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(E){this._procEntryField(E,"sample_delta","uint",32),this._procEntryField(E,"subsample_count","uint",16),this._procSubEntries(E,"subsamples",E.subsample_count,function(F){this._procEntryField(F,"subsample_size","uint",1===this.version?32:16),this._procEntryField(F,"subsample_priority","uint",8),this._procEntryField(F,"discardable","uint",8),this._procEntryField(F,"codec_specific_parameters","uint",32)})})},I.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},I.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},I.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},I.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(E){this._procEntryField(E,"time","uint",1===this.version?64:32),this._procEntryField(E,"moof_offset","uint",1===this.version?64:32),this._procEntryField(E,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(E,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(E,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},I.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},I.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},I.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(E){256&this.flags&&this._procEntryField(E,"sample_duration","uint",32),512&this.flags&&this._procEntryField(E,"sample_size","uint",32),1024&this.flags&&this._procEntryField(E,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(E,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},I.prototype._boxProcessors["url "]=I.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},I.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},I.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},I.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},I.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(et,C,c){function j(k){return Object.prototype.toString.call(k)}C.isArray=function t(k){return Array.isArray?Array.isArray(k):"[object Array]"===j(k)},C.isBoolean=function y(k){return"boolean"==typeof k},C.isNull=function I(k){return null===k},C.isNullOrUndefined=function E(k){return null==k},C.isNumber=function F(k){return"number"==typeof k},C.isString=function L(k){return"string"==typeof k},C.isSymbol=function D(k){return"symbol"==typeof k},C.isUndefined=function p(k){return void 0===k},C.isRegExp=function f(k){return"[object RegExp]"===j(k)},C.isObject=function g(k){return"object"==typeof k&&null!==k},C.isDate=function v(k){return"[object Date]"===j(k)},C.isError=function A(k){return"[object Error]"===j(k)||k instanceof Error},C.isFunction=function U(k){return"function"==typeof k},C.isPrimitive=function R(k){return null===k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||"symbol"==typeof k||typeof k>"u"},C.isBuffer=c(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(et,C,c){"use strict";et.exports=c(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(et,C,c){(function(t,y){var E;E=function(){"use strict";function E(de){return"function"==typeof de}var L=Array.isArray?Array.isArray:function(de){return"[object Array]"===Object.prototype.toString.call(de)},D=0,p=void 0,f=void 0,g=function(xe,Ke){B[D]=xe,B[D+1]=Ke,2===(D+=2)&&(f?f(Y):le())};var U=typeof window<"u"?window:void 0,R=U||{},j=R.MutationObserver||R.WebKitMutationObserver,k=typeof self>"u"&&typeof t<"u"&&"[object process]"==={}.toString.call(t),O=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){var de=setTimeout;return function(){return de(Y,1)}}var B=new Array(1e3);function Y(){for(var de=0;de<D;de+=2)(0,B[de])(B[de+1]),B[de]=void 0,B[de+1]=void 0;D=0}var le=void 0;function Fe(de,xe){var Ke=this,Ve=new this.constructor(K);void 0===Ve[ae]&&ge(Ve);var st=Ke._state;if(st){var ct=arguments[st-1];g(function(){return Ne(st,Ve,ct,Ke._result)})}else ot(Ke,Ve,de,xe);return Ve}function $(de){if(de&&"object"==typeof de&&de.constructor===this)return de;var Ke=new this(K);return Ue(Ke,de),Ke}le=k?function x(){return function(){return t.nextTick(Y)}}():j?function T(){var de=0,xe=new j(Y),Ke=document.createTextNode("");return xe.observe(Ke,{characterData:!0}),function(){Ke.data=de=++de%2}}():O?function N(){var de=new MessageChannel;return de.port1.onmessage=Y,function(){return de.port2.postMessage(0)}}():void 0===U?function q(){try{var de=Function("return this")().require("vertx");return p=de.runOnLoop||de.runOnContext,function P(){return typeof p<"u"?function(){p(Y)}:S()}()}catch{return S()}}():S();var ae=Math.random().toString(36).substring(2);function K(){}var pe=void 0,oe=1,he=2;function me(de,xe,Ke){xe.constructor===de.constructor&&Ke===Fe&&xe.constructor.resolve===$?function Me(de,xe){xe._state===oe?Ie(de,xe._result):xe._state===he?He(de,xe._result):ot(xe,void 0,function(Ke){return Ue(de,Ke)},function(Ke){return He(de,Ke)})}(de,xe):void 0===Ke?Ie(de,xe):E(Ke)?function Re(de,xe,Ke){g(function(Ve){var st=!1,ct=function fe(de,xe,Ke,Ve){try{de.call(xe,Ke,Ve)}catch(st){return st}}(Ke,xe,function(nt){st||(st=!0,xe!==nt?Ue(Ve,nt):Ie(Ve,nt))},function(nt){st||(st=!0,He(Ve,nt))});!st&&ct&&(st=!0,He(Ve,ct))},de)}(de,xe,Ke):Ie(de,xe)}function Ue(de,xe){if(de===xe)He(de,function Se(){return new TypeError("You cannot resolve a promise with itself")}());else if(function I(de){var xe=typeof de;return null!==de&&("object"===xe||"function"===xe)}(xe)){var Ke=void 0;try{Ke=xe.then}catch(Ve){return void He(de,Ve)}me(de,xe,Ke)}else Ie(de,xe)}function ke(de){de._onerror&&de._onerror(de._result),Je(de)}function Ie(de,xe){de._state===pe&&(de._result=xe,de._state=oe,0!==de._subscribers.length&&g(Je,de))}function He(de,xe){de._state===pe&&(de._state=he,de._result=xe,g(ke,de))}function ot(de,xe,Ke,Ve){var st=de._subscribers,ct=st.length;de._onerror=null,st[ct]=xe,st[ct+oe]=Ke,st[ct+he]=Ve,0===ct&&de._state&&g(Je,de)}function Je(de){var xe=de._subscribers,Ke=de._state;if(0!==xe.length){for(var Ve=void 0,st=void 0,ct=de._result,nt=0;nt<xe.length;nt+=3)st=xe[nt+Ke],(Ve=xe[nt])?Ne(Ke,Ve,st,ct):st(ct);de._subscribers.length=0}}function Ne(de,xe,Ke,Ve){var st=E(Ke),ct=void 0,nt=void 0,yt=!0;if(st){try{ct=Ke(Ve)}catch(jt){yt=!1,nt=jt}if(xe===ct)return void He(xe,function Le(){return new TypeError("A promises callback cannot return that same promise.")}())}else ct=Ve;xe._state!==pe||(st&&yt?Ue(xe,ct):!1===yt?He(xe,nt):de===oe?Ie(xe,ct):de===he&&He(xe,ct))}var W=0;function ge(de){de[ae]=W++,de._state=void 0,de._result=void 0,de._subscribers=[]}var Q=function(){function de(xe,Ke){this._instanceConstructor=xe,this.promise=new xe(K),this.promise[ae]||ge(this.promise),L(Ke)?(this.length=Ke.length,this._remaining=Ke.length,this._result=new Array(this.length),0===this.length?Ie(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ke),0===this._remaining&&Ie(this.promise,this._result))):He(this.promise,function J(){return new Error("Array Methods must be provided an Array")}())}return de.prototype._enumerate=function(Ke){for(var Ve=0;this._state===pe&&Ve<Ke.length;Ve++)this._eachEntry(Ke[Ve],Ve)},de.prototype._eachEntry=function(Ke,Ve){var st=this._instanceConstructor,ct=st.resolve;if(ct===$){var nt=void 0,yt=void 0,jt=!1;try{nt=Ke.then}catch(Gt){jt=!0,yt=Gt}if(nt===Fe&&Ke._state!==pe)this._settledAt(Ke._state,Ve,Ke._result);else if("function"!=typeof nt)this._remaining--,this._result[Ve]=Ke;else if(st===ue){var wt=new st(K);jt?He(wt,yt):me(wt,Ke,nt),this._willSettleAt(wt,Ve)}else this._willSettleAt(new st(function(Gt){return Gt(Ke)}),Ve)}else this._willSettleAt(ct(Ke),Ve)},de.prototype._settledAt=function(Ke,Ve,st){var ct=this.promise;ct._state===pe&&(this._remaining--,Ke===he?He(ct,st):this._result[Ve]=st),0===this._remaining&&Ie(ct,this._result)},de.prototype._willSettleAt=function(Ke,Ve){var st=this;ot(Ke,void 0,function(ct){return st._settledAt(oe,Ve,ct)},function(ct){return st._settledAt(he,Ve,ct)})},de}();var ue=function(){function de(xe){this[ae]=function se(){return W++}(),this._result=this._state=void 0,this._subscribers=[],K!==xe&&("function"!=typeof xe&&function ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof de?function Te(de,xe){try{xe(function(Ve){Ue(de,Ve)},function(Ve){He(de,Ve)})}catch(Ke){He(de,Ke)}}(this,xe):function X(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return de.prototype.catch=function(Ke){return this.then(null,Ke)},de.prototype.finally=function(Ke){var st=this.constructor;return E(Ke)?this.then(function(ct){return st.resolve(Ke()).then(function(){return ct})},function(ct){return st.resolve(Ke()).then(function(){throw ct})}):this.then(Ke,Ke)},de}();return ue.prototype.then=Fe,ue.all=function Z(de){return new Q(this,de).promise},ue.race=function te(de){var xe=this;return L(de)?new xe(function(Ke,Ve){for(var st=de.length,ct=0;ct<st;ct++)xe.resolve(de[ct]).then(Ke,Ve)}):new xe(function(Ke,Ve){return Ve(new TypeError("You must pass an array to race."))})},ue.resolve=$,ue.reject=function ne(de){var Ke=new this(K);return He(Ke,de),Ke},ue._setScheduler=function v(de){f=de},ue._setAsap=function A(de){g=de},ue._asap=g,ue.polyfill=function _e(){var de=void 0;if(typeof y<"u")de=y;else if(typeof self<"u")de=self;else try{de=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var xe=de.Promise;if(xe){var Ke=null;try{Ke=Object.prototype.toString.call(xe.resolve())}catch{}if("[object Promise]"===Ke&&!xe.cast)return}de.Promise=ue},ue.Promise=ue,ue},et.exports=E()}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(et,C,c){"use strict";var I,t="object"==typeof Reflect?Reflect:null,y=t&&"function"==typeof t.apply?t.apply:function(S,B,Y){return Function.prototype.apply.call(S,B,Y)};I=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var F=Number.isNaN||function(S){return S!=S};function L(){L.init.call(this)}et.exports=L,et.exports.once=function x(N,S){return new Promise(function(B,Y){function q(Fe){N.removeListener(S,le),Y(Fe)}function le(){"function"==typeof N.removeListener&&N.removeListener("error",q),B([].slice.call(arguments))}T(N,S,le,{once:!0}),"error"!==S&&function P(N,S,B){"function"==typeof N.on&&T(N,"error",S,B)}(N,q,{once:!0})})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var D=10;function p(N){if("function"!=typeof N)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function f(N){return void 0===N._maxListeners?L.defaultMaxListeners:N._maxListeners}function g(N,S,B,Y){var q,le,Fe;if(p(B),void 0===(le=N._events)?(le=N._events=Object.create(null),N._eventsCount=0):(void 0!==le.newListener&&(N.emit("newListener",S,B.listener?B.listener:B),le=N._events),Fe=le[S]),void 0===Fe)Fe=le[S]=B,++N._eventsCount;else if("function"==typeof Fe?Fe=le[S]=Y?[B,Fe]:[Fe,B]:Y?Fe.unshift(B):Fe.push(B),(q=f(N))>0&&Fe.length>q&&!Fe.warned){Fe.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+Fe.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=N,$.type=S,$.count=Fe.length,function E(N){console&&console.warn&&console.warn(N)}($)}return N}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(N,S,B){var Y={fired:!1,wrapFn:void 0,target:N,type:S,listener:B},q=v.bind(Y);return q.listener=B,Y.wrapFn=q,q}function U(N,S,B){var Y=N._events;if(void 0===Y)return[];var q=Y[S];return void 0===q?[]:"function"==typeof q?B?[q.listener||q]:[q]:B?function O(N){for(var S=new Array(N.length),B=0;B<S.length;++B)S[B]=N[B].listener||N[B];return S}(q):j(q,q.length)}function R(N){var S=this._events;if(void 0!==S){var B=S[N];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function j(N,S){for(var B=new Array(S),Y=0;Y<S;++Y)B[Y]=N[Y];return B}function T(N,S,B,Y){if("function"==typeof N.on)Y.once?N.once(S,B):N.on(S,B);else{if("function"!=typeof N.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N);N.addEventListener(S,function q(le){Y.once&&N.removeEventListener(S,q),B(le)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return D},set:function(N){if("number"!=typeof N||N<0||F(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");D=N}}),L.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(S){if("number"!=typeof S||S<0||F(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},L.prototype.getMaxListeners=function(){return f(this)},L.prototype.emit=function(S){for(var B=[],Y=1;Y<arguments.length;Y++)B.push(arguments[Y]);var q="error"===S,le=this._events;if(void 0!==le)q=q&&void 0===le.error;else if(!q)return!1;if(q){var Fe;if(B.length>0&&(Fe=B[0]),Fe instanceof Error)throw Fe;var $=new Error("Unhandled error."+(Fe?" ("+Fe.message+")":""));throw $.context=Fe,$}var ae=le[S];if(void 0===ae)return!1;if("function"==typeof ae)y(ae,this,B);else{var K=ae.length,pe=j(ae,K);for(Y=0;Y<K;++Y)y(pe[Y],this,B)}return!0},L.prototype.on=L.prototype.addListener=function(S,B){return g(this,S,B,!1)},L.prototype.prependListener=function(S,B){return g(this,S,B,!0)},L.prototype.once=function(S,B){return p(B),this.on(S,A(this,S,B)),this},L.prototype.prependOnceListener=function(S,B){return p(B),this.prependListener(S,A(this,S,B)),this},L.prototype.off=L.prototype.removeListener=function(S,B){var Y,q,le,Fe,$;if(p(B),void 0===(q=this._events))return this;if(void 0===(Y=q[S]))return this;if(Y===B||Y.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete q[S],q.removeListener&&this.emit("removeListener",S,Y.listener||B));else if("function"!=typeof Y){for(le=-1,Fe=Y.length-1;Fe>=0;Fe--)if(Y[Fe]===B||Y[Fe].listener===B){$=Y[Fe].listener,le=Fe;break}if(le<0)return this;0===le?Y.shift():function k(N,S){for(;S+1<N.length;S++)N[S]=N[S+1];N.pop()}(Y,le),1===Y.length&&(q[S]=Y[0]),void 0!==q.removeListener&&this.emit("removeListener",S,$||B)}return this},L.prototype.removeAllListeners=function(S){var B,Y,q;if(void 0===(Y=this._events))return this;if(void 0===Y.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Y[S]&&(0==--this._eventsCount?this._events=Object.create(null):delete Y[S]),this;if(0===arguments.length){var Fe,le=Object.keys(Y);for(q=0;q<le.length;++q)"removeListener"!==(Fe=le[q])&&this.removeAllListeners(Fe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=Y[S]))this.removeListener(S,B);else if(void 0!==B)for(q=B.length-1;q>=0;q--)this.removeListener(S,B[q]);return this},L.prototype.listeners=function(S){return U(this,S,!0)},L.prototype.rawListeners=function(S){return U(this,S,!1)},L.listenerCount=function(N,S){return"function"==typeof N.listenerCount?N.listenerCount(S):R.call(N,S)},L.prototype.listenerCount=R,L.prototype.eventNames=function(){return this._eventsCount>0?I(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,C,c){"use strict";var t=Array.isArray,y=Object.keys,I=Object.prototype.hasOwnProperty;et.exports=function E(F,L){if(F===L)return!0;if(F&&L&&"object"==typeof F&&"object"==typeof L){var f,g,v,D=t(F),p=t(L);if(D&&p){if((g=F.length)!=L.length)return!1;for(f=g;0!=f--;)if(!E(F[f],L[f]))return!1;return!0}if(D!=p)return!1;var A=F instanceof Date,U=L instanceof Date;if(A!=U)return!1;if(A&&U)return F.getTime()==L.getTime();var R=F instanceof RegExp,j=L instanceof RegExp;if(R!=j)return!1;if(R&&j)return F.toString()==L.toString();var k=y(F);if((g=k.length)!==y(L).length)return!1;for(f=g;0!=f--;)if(!I.call(L,k[f]))return!1;for(f=g;0!=f--;)if(!E(F[v=k[f]],L[v]))return!1;return!0}return F!=F&&L!=L}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(et,C){C.read=function(c,t,y,I,E){var F,L,D=8*E-I-1,p=(1<<D)-1,f=p>>1,g=-7,v=y?E-1:0,A=y?-1:1,U=c[t+v];for(v+=A,F=U&(1<<-g)-1,U>>=-g,g+=D;g>0;F=256*F+c[t+v],v+=A,g-=8);for(L=F&(1<<-g)-1,F>>=-g,g+=I;g>0;L=256*L+c[t+v],v+=A,g-=8);if(0===F)F=1-f;else{if(F===p)return L?NaN:1/0*(U?-1:1);L+=Math.pow(2,I),F-=f}return(U?-1:1)*L*Math.pow(2,F-I)},C.write=function(c,t,y,I,E,F){var L,D,p,f=8*F-E-1,g=(1<<f)-1,v=g>>1,A=23===E?Math.pow(2,-24)-Math.pow(2,-77):0,U=I?0:F-1,R=I?1:-1,j=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(D=isNaN(t)?1:0,L=g):(L=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-L))<1&&(L--,p*=2),(t+=L+v>=1?A/p:A*Math.pow(2,1-v))*p>=2&&(L++,p/=2),L+v>=g?(D=0,L=g):L+v>=1?(D=(t*p-1)*Math.pow(2,E),L+=v):(D=t*Math.pow(2,v-1)*Math.pow(2,E),L=0));E>=8;c[y+U]=255&D,U+=R,D/=256,E-=8);for(L=L<<E|D,f+=E;f>0;c[y+U]=255&L,U+=R,L/=256,f-=8);c[y+U-R]|=128*j}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(et,C,c){!function(t,y,I,E,F){function L(J){if("contents"in J)for(var Q=("styleAttrs"in J?J.styleAttrs[E.byName.ruby.qname]:null),Z="span"===J.kind&&("container"===Q||"textContainer"===Q||"baseContainer"===Q),te=J.contents.length-1;te>=0;te--)!Z||"styleAttrs"in J.contents[te]&&E.byName.ruby.qname in J.contents[te].styleAttrs?L(J.contents[te]):delete J.contents[te]}function D(J,Q,Z,te){var ne=te&&"seq"===te.timeContainer,ee=0;te&&(ee=ne&&Z?Z.end:te.begin),Q.begin=Q.explicit_begin?Q.explicit_begin+ee:ee;var X=Q.begin,ue=null;if("sets"in Q)for(var _e=0;_e<Q.sets.length;_e++)D(J,Q.sets[_e],ue,Q),X="seq"===Q.timeContainer?Q.sets[_e].end:Math.max(X,Q.sets[_e].end),ue=Q.sets[_e];if("contents"in Q){if("contents"in Q)for(var de=0;de<Q.contents.length;de++)D(J,Q.contents[de],ue,Q),X="seq"===Q.timeContainer?Q.contents[de].end:Math.max(X,Q.contents[de].end),ue=Q.contents[de]}else X=ne?Q.begin:Number.POSITIVE_INFINITY;Q.end=null!==Q.explicit_end&&null!==Q.explicit_dur?Math.min(Q.begin+Q.explicit_dur,ee+Q.explicit_end):null===Q.explicit_end&&null!==Q.explicit_dur?Q.begin+Q.explicit_dur:null!==Q.explicit_end&&null===Q.explicit_dur?ee+Q.explicit_end:X,delete Q.explicit_begin,delete Q.explicit_dur,delete Q.explicit_end,J._registerEvent(Q)}function p(J){this.node=J}function f(){this.events=[],this.head=new g,this.body=null}function g(){this.styling=new v,this.layout=new R}function v(){this.styles={},this.initials={}}function A(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function U(){this.styleAttrs=null}function R(){this.regions={}}function j(J,Q){k.call(this,"image"),this.src=J,this.type=Q}function k(J){this.kind=J}function O(J){this.id=J}function x(J){this.regionID=J}function P(J){this.styleAttrs=J}function T(J){this.sets=J}function N(J){this.contents=J}function S(J,Q,Z){this.explicit_begin=J,this.explicit_end=Q,this.explicit_dur=Z}function B(){k.call(this,"body")}function Y(){k.call(this,"div")}function q(){k.call(this,"p")}function le(){k.call(this,"span")}function Fe(){k.call(this,"span")}function $(){k.call(this,"br")}function ae(){}function K(){}function pe(J){return J&&"xml:id"in J.attributes&&J.attributes["xml:id"].value||null}function Se(J){return J&&"style"in J.attributes?J.attributes.style.value.split(" "):[]}function Le(J,Q){var Z={};if(null!==J)for(var te in J.attributes){var ne=J.attributes[te].uri+" "+J.attributes[te].local,ee=E.byQName[ne];if(void 0!==ee){var X=ee.parse(J.attributes[te].value);null!==X?(Z[ne]=X,ee===E.byName.zIndex&&Te(Q,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):W(Q,"Cannot parse styling attribute "+ne+" --\x3e "+J.attributes[te].value)}}return Z}function fe(J,Q,Z){for(var te in J.attributes)if(J.attributes[te].uri===Q&&J.attributes[te].local===Z)return J.attributes[te].value;return null}function ke(J,Q,Z){var Ke,Ve=null;return null!==(Ke=/^(\d+(?:\.\d+)?)f$/.exec(Z))?null!==Q&&(Ve=parseFloat(Ke[1])/Q):null!==(Ke=/^(\d+(?:\.\d+)?)t$/.exec(Z))?null!==J&&(Ve=parseFloat(Ke[1])/J):null!==(Ke=/^(\d+(?:\.\d+)?)ms$/.exec(Z))?Ve=parseFloat(Ke[1])/1e3:null!==(Ke=/^(\d+(?:\.\d+)?)s$/.exec(Z))?Ve=parseFloat(Ke[1]):null!==(Ke=/^(\d+(?:\.\d+)?)h$/.exec(Z))?Ve=3600*parseFloat(Ke[1]):null!==(Ke=/^(\d+(?:\.\d+)?)m$/.exec(Z))?Ve=60*parseFloat(Ke[1]):null!==(Ke=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(Z))?Ve=3600*parseInt(Ke[1])+60*parseInt(Ke[2])+parseFloat(Ke[3]):null!==(Ke=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(Z))&&null!==Q&&(Ve=3600*parseInt(Ke[1])+60*parseInt(Ke[2])+parseInt(Ke[3])+(null===Ke[4]?0:parseInt(Ke[4])/Q)),Ve}function He(J,Q,Z){for(;Q.styleRefs.length>0;){var te=Q.styleRefs.pop();te in J.styles?(He(J,J.styles[te],Z),Je(J.styles[te].styleAttrs,Q.styleAttrs)):W(Z,"Non-existant style id referenced")}}function ot(J,Q,Z,te){for(var ne=Q.length-1;ne>=0;ne--){var ee=Q[ne];ee in J.styles?Je(J.styles[ee].styleAttrs,Z):W(te,"Non-existant style id referenced")}}function Je(J,Q){for(var Z in J)J.hasOwnProperty(Z)&&(Z in Q||(Q[Z]=J[Z]))}function Te(J,Q){if(J&&J.warn&&J.warn(Q))throw Q}function W(J,Q){if(J&&J.error&&J.error(Q))throw Q}function se(J,Q){throw J&&J.fatal&&J.fatal(Q),Q}function ge(J,Q){for(var ne,Z=0,te=J.length-1;Z<=te;){var ee=J[ne=Math.floor((Z+te)/2)];if(ee<Q)Z=ne+1;else{if(!(ee>Q))return{found:!0,index:ne};te=ne-1}}return{found:!1,index:Z}}t.fromXML=function(J,Q,Z){var te=y.parser(!0,{xmlns:!0}),ne=[],ee=[],X=[],ue=0,_e=null;te.onclosetag=function(st){if(ne[0]instanceof ae)null!==_e.head&&null!==_e.head.styling&&ot(_e.head.styling,ne[0].styleRefs,ne[0].styleAttrs,Q),delete ne[0].styleRefs;else if(ne[0]instanceof v)for(var ct in ne[0].styles)ne[0].styles.hasOwnProperty(ct)&&He(ne[0],ne[0].styles[ct],Q);else if(ne[0]instanceof q||ne[0]instanceof le){if(ne[0].contents.length>1){var yt,nt=[ne[0].contents[0]];for(yt=1;yt<ne[0].contents.length;yt++)ne[0].contents[yt]instanceof Fe&&nt[nt.length-1]instanceof Fe?nt[nt.length-1].text+=ne[0].contents[yt].text:nt.push(ne[0].contents[yt]);ne[0].contents=nt}ne[0]instanceof le&&1===ne[0].contents.length&&ne[0].contents[0]instanceof Fe&&(ne[0].text=ne[0].contents[0].text,delete ne[0].contents)}else ne[0]instanceof p&&(ne[0].node.uri===I.ns_tt&&"metadata"===ne[0].node.local?ue--:ue>0&&Z&&"onCloseTag"in Z&&Z.onCloseTag());X.shift(),ee.shift(),ne.shift()},te.ontext=function(st){if(void 0!==ne[0])if(ne[0]instanceof le||ne[0]instanceof q){if(ne[0]instanceof le){var ct=ne[0].styleAttrs[E.byName.ruby.qname];if("container"===ct||"textContainer"===ct||"baseContainer"===ct)return}var nt=new Fe;nt.initFromText(_e,ne[0],st,ee[0],X[0],Q),ne[0].contents.push(nt)}else ne[0]instanceof p&&ue>0&&Z&&"onText"in Z&&Z.onText(st)},te.onopentag=function(st){var ct=st.attributes["xml:space"];X.unshift(ct?ct.value:0===X.length?"default":X[0]);var nt=st.attributes["xml:lang"];if(ee.unshift(nt?nt.value:0===ee.length?"":ee[0]),st.uri===I.ns_tt)if("tt"===st.local)null!==_e&&se(Q,"Two <tt> elements at ("+this.line+","+this.column+")"),(_e=new f).initFromNode(st,ee[0],Q),ne.unshift(_e);else if("head"===st.local)ne[0]instanceof f||se(Q,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ne.unshift(_e.head);else if("styling"===st.local)ne[0]instanceof g||se(Q,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ne.unshift(_e.head.styling);else if("style"===st.local){var yt;ne[0]instanceof v?((yt=new A).initFromNode(st,Q),yt.id?_e.head.styling.styles[yt.id]=yt:W(Q,"<style> element missing @id attribute"),ne.unshift(yt)):ne[0]instanceof ae?((yt=new A).initFromNode(st,Q),Je(yt.styleAttrs,ne[0].styleAttrs),ne.unshift(yt)):se(Q,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===st.local){var jt;if(ne[0]instanceof v){for(var wt in(jt=new U).initFromNode(st,Q),jt.styleAttrs)jt.styleAttrs.hasOwnProperty(wt)&&(_e.head.styling.initials[wt]=jt.styleAttrs[wt]);ne.unshift(jt)}else se(Q,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===st.local)ne[0]instanceof g||se(Q,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ne.unshift(_e.head.layout);else if("region"===st.local){ne[0]instanceof R||se(Q,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Gt=new ae;Gt.initFromNode(_e,st,ee[0],Q),!Gt.id||Gt.id in _e.head.layout.regions?W(Q,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):_e.head.layout.regions[Gt.id]=Gt,ne.unshift(Gt)}else if("body"===st.local){ne[0]instanceof f||se(Q,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==_e.body&&se(Q,"Second <body> element at "+this.line+","+this.column+")");var nn=new B;nn.initFromNode(_e,st,ee[0],Q),_e.body=nn,ne.unshift(nn)}else if("div"===st.local){ne[0]instanceof Y||ne[0]instanceof B||se(Q,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var dn=new Y;dn.initFromNode(_e,ne[0],st,ee[0],Q);var un=dn.styleAttrs[E.byName.backgroundImage.qname];un&&(dn.contents.push(new j(un)),delete dn.styleAttrs[E.byName.backgroundImage.qname]),ne[0].contents.push(dn),ne.unshift(dn)}else if("image"===st.local){ne[0]instanceof Y||se(Q,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Kt=new j;Kt.initFromNode(_e,ne[0],st,ee[0],Q),ne[0].contents.push(Kt),ne.unshift(Kt)}else if("p"===st.local){ne[0]instanceof Y||se(Q,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Tn=new q;Tn.initFromNode(_e,ne[0],st,ee[0],Q),ne[0].contents.push(Tn),ne.unshift(Tn)}else if("span"===st.local){ne[0]instanceof le||ne[0]instanceof q||se(Q,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var rn=new le;rn.initFromNode(_e,ne[0],st,ee[0],X[0],Q),ne[0].contents.push(rn),ne.unshift(rn)}else if("br"===st.local){ne[0]instanceof le||ne[0]instanceof q||se(Q,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var xt=new $;xt.initFromNode(_e,ne[0],st,ee[0],Q),ne[0].contents.push(xt),ne.unshift(xt)}else if("set"===st.local){ne[0]instanceof le||ne[0]instanceof q||ne[0]instanceof Y||ne[0]instanceof B||ne[0]instanceof ae||ne[0]instanceof $||se(Q,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var ht=new K;ht.initFromNode(_e,ne[0],st,Q),ne[0].sets.push(ht),ne.unshift(ht)}else ne.unshift(new p(st));else ne.unshift(new p(st));if(ne[0]instanceof p)if(st.uri===I.ns_tt&&"metadata"===st.local)ue++;else if(ue>0&&Z&&"onOpenTag"in Z){var Qe=[];for(var De in st.attributes)Qe[st.attributes[De].uri+" "+st.attributes[De].local]={uri:st.attributes[De].uri,local:st.attributes[De].local,value:st.attributes[De].value};Z.onOpenTag(st.uri,st.local,Qe)}},te.write(J).close(),delete _e.head.styling.styles;var de=!1;for(var xe in _e.head.layout.regions)if(_e.head.layout.regions.hasOwnProperty(xe)){de=!0;break}if(!de){var Ke=ae.prototype.createDefaultRegion(_e.lang);_e.head.layout.regions[Ke.id]=Ke}for(var Ve in _e.head.layout.regions)_e.head.layout.regions.hasOwnProperty(Ve)&&D(_e,_e.head.layout.regions[Ve],null,null);return _e.body&&D(_e,_e.body,null,null),_e.body&&L(_e.body),_e},f.prototype.initFromNode=function(J,Q,Z){var te=function Me(J,Q){var Z=fe(J,I.ns_ttp,"cellResolution"),te=15,ne=32;if(null!==Z){var X=/(\d+) (\d+)/.exec(Z);null!==X?(ne=parseInt(X[1]),te=parseInt(X[2])):Te(Q,"Malformed cellResolution value (using initial value instead)")}return{w:ne,h:te}}(J,Z);this.cellLength={h:new F.ComputedLength(0,1/te.h),w:new F.ComputedLength(1/te.w,0)};var ne=function me(J,Q){var ne,Z=fe(J,I.ns_ttp,"frameRate"),te=30;null!==Z&&(null!==(ne=/(\d+)/.exec(Z))?te=parseInt(ne[1]):Te(Q,"Malformed frame rate attribute (using initial value instead)"));var X=fe(J,I.ns_ttp,"frameRateMultiplier"),ue=1;null!==X&&(null!==(ne=/(\d+) (\d+)/.exec(X))?ue=parseInt(ne[1])/parseInt(ne[2]):Te(Q,"Malformed frame rate multiplier attribute (using initial value instead)"));var de=ue*te,xe=1,Ke=fe(J,I.ns_ttp,"tickRate");return null===Ke?null!==Z&&(xe=de):null!==(ne=/(\d+)/.exec(Ke))?xe=parseInt(ne[1]):Te(Q,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:de,tickRate:xe}}(J,Z);this.effectiveFrameRate=ne.effectiveFrameRate,this.tickRate=ne.tickRate,this.aspectRatio=function Re(J,Q){var Z=fe(J,I.ns_ittp,"aspectRatio");null===Z&&(Z=fe(J,I.ns_ttp,"displayAspectRatio"));var te=null;if(null!==Z){var ee=/(\d+)\s+(\d+)/.exec(Z);if(null!==ee){var X=parseInt(ee[1]),ue=parseInt(ee[2]);0!==X&&0!==ue?te=X/ue:W(Q,"Illegal aspectRatio values (ignoring)")}else W(Q,"Malformed aspectRatio attribute (ignoring)")}return te}(J,Z);var ee=fe(J,I.ns_ttp,"timeBase");null!==ee&&"media"!==ee&&se(Z,"Unsupported time base");var X=function Ue(J,Q){var Z=fe(J,I.ns_tts,"extent");if(null===Z)return null;var te=Z.split(" ");if(2!==te.length)return Te(Q,"Malformed extent (ignoring)"),null;var ne=F.parseLength(te[0]),ee=F.parseLength(te[1]);return ee&&ne?{h:ee,w:ne}:(Te(Q,"Malformed extent values (ignoring)"),null)}(J,Z);null===X?this.pxLength={h:null,w:null}:(("px"!==X.h.unit||"px"!==X.w.unit)&&se(Z,"Extent on TT must be in px or absent"),this.pxLength={h:new F.ComputedLength(0,1/X.h.value),w:new F.ComputedLength(1/X.w.value,0)}),this.dimensions={h:new F.ComputedLength(0,1),w:new F.ComputedLength(1,0)},this.lang=Q},f.prototype._registerEvent=function(J){if(!(J.end<=J.begin)){var Q=ge(this.events,J.begin);if(Q.found||this.events.splice(Q.index,0,J.begin),J.end!==Number.POSITIVE_INFINITY){var Z=ge(this.events,J.end);Z.found||this.events.splice(Z.index,0,J.end)}}},f.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},f.prototype.getMediaTimeEvents=function(){return this.events},A.prototype.initFromNode=function(J,Q){this.id=pe(J),this.styleAttrs=Le(J,Q),this.styleRefs=Se(J)},U.prototype.initFromNode=function(J,Q){for(var Z in this.styleAttrs={},J.attributes)J.attributes[Z].uri!==I.ns_itts&&J.attributes[Z].uri!==I.ns_ebutts&&J.attributes[Z].uri!==I.ns_tts||(this.styleAttrs[J.attributes[Z].uri+" "+J.attributes[Z].local]=J.attributes[Z].value)},j.prototype.initFromNode=function(J,Q,Z,te,ne){this.src="src"in Z.attributes?Z.attributes.src.value:null,this.src||W(ne,"Invalid image@src attribute"),this.type="type"in Z.attributes?Z.attributes.type.value:null,this.type||W(ne,"Invalid image@type attribute"),P.prototype.initFromNode.call(this,J,Q,Z,ne),S.prototype.initFromNode.call(this,J,Q,Z,ne),T.prototype.initFromNode.call(this,J,Q,Z,ne),x.prototype.initFromNode.call(this,J,Q,Z,ne),this.lang=te},O.prototype.initFromNode=function(J,Q,Z,te){this.id=pe(Z)},x.prototype.initFromNode=function(J,Q,Z,te){this.regionID=function oe(J){return J&&"region"in J.attributes?J.attributes.region.value:""}(Z)},P.prototype.initFromNode=function(J,Q,Z,te){this.styleAttrs=Le(Z,te),null!==J.head&&null!==J.head.styling&&ot(J.head.styling,Se(Z),this.styleAttrs,te)},T.prototype.initFromNode=function(J,Q,Z,te){this.sets=[]},N.prototype.initFromNode=function(J,Q,Z,te){this.contents=[]},S.prototype.initFromNode=function(J,Q,Z,te){var ne=function Ie(J,Q,Z,te){var ne=null;Z&&"begin"in Z.attributes&&null===(ne=ke(J.tickRate,J.effectiveFrameRate,Z.attributes.begin.value))&&Te(te,"Malformed begin value "+Z.attributes.begin.value+" (using 0)");var ee=null;Z&&"dur"in Z.attributes&&null===(ee=ke(J.tickRate,J.effectiveFrameRate,Z.attributes.dur.value))&&Te(te,"Malformed dur value "+Z.attributes.dur.value+" (ignoring)");var X=null;return Z&&"end"in Z.attributes&&null===(X=ke(J.tickRate,J.effectiveFrameRate,Z.attributes.end.value))&&Te(te,"Malformed end value (ignoring)"),{explicit_begin:ne,explicit_end:X,explicit_dur:ee}}(J,0,Z,te);this.explicit_begin=ne.explicit_begin,this.explicit_end=ne.explicit_end,this.explicit_dur=ne.explicit_dur,this.timeContainer=function he(J,Q){var Z=J&&"timeContainer"in J.attributes?J.attributes.timeContainer.value:null;return Z&&"par"!==Z?"seq"===Z?"seq":(W(Q,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(Z,te)},B.prototype.initFromNode=function(J,Q,Z,te){P.prototype.initFromNode.call(this,J,null,Q,te),S.prototype.initFromNode.call(this,J,null,Q,te),T.prototype.initFromNode.call(this,J,null,Q,te),x.prototype.initFromNode.call(this,J,null,Q,te),N.prototype.initFromNode.call(this,J,null,Q,te),this.lang=Z},Y.prototype.initFromNode=function(J,Q,Z,te,ne){P.prototype.initFromNode.call(this,J,Q,Z,ne),S.prototype.initFromNode.call(this,J,Q,Z,ne),T.prototype.initFromNode.call(this,J,Q,Z,ne),x.prototype.initFromNode.call(this,J,Q,Z,ne),N.prototype.initFromNode.call(this,J,Q,Z,ne),this.lang=te},q.prototype.initFromNode=function(J,Q,Z,te,ne){P.prototype.initFromNode.call(this,J,Q,Z,ne),S.prototype.initFromNode.call(this,J,Q,Z,ne),T.prototype.initFromNode.call(this,J,Q,Z,ne),x.prototype.initFromNode.call(this,J,Q,Z,ne),N.prototype.initFromNode.call(this,J,Q,Z,ne),this.lang=te},le.prototype.initFromNode=function(J,Q,Z,te,ne,ee){P.prototype.initFromNode.call(this,J,Q,Z,ee),S.prototype.initFromNode.call(this,J,Q,Z,ee),T.prototype.initFromNode.call(this,J,Q,Z,ee),x.prototype.initFromNode.call(this,J,Q,Z,ee),N.prototype.initFromNode.call(this,J,Q,Z,ee),this.space=ne,this.lang=te},Fe.prototype.initFromText=function(J,Q,Z,te,ne,ee){S.prototype.initFromNode.call(this,J,Q,null,ee),this.text=Z,this.space=ne,this.lang=te},$.prototype.initFromNode=function(J,Q,Z,te,ne){x.prototype.initFromNode.call(this,J,Q,Z,ne),S.prototype.initFromNode.call(this,J,Q,Z,ne),this.lang=te},ae.prototype.createDefaultRegion=function(J){var Q=new ae;return O.call(Q,""),P.call(Q,{}),T.call(Q,[]),S.call(Q,0,Number.POSITIVE_INFINITY,null),this.lang=J,Q},ae.prototype.initFromNode=function(J,Q,Z,te){O.prototype.initFromNode.call(this,J,null,Q,te),S.prototype.initFromNode.call(this,J,null,Q,te),T.prototype.initFromNode.call(this,J,null,Q,te),this.styleAttrs=Le(Q,te),this.styleRefs=Se(Q),this.lang=Z},K.prototype.initFromNode=function(J,Q,Z,te){S.prototype.initFromNode.call(this,J,Q,Z,te);var ne=Le(Z,te);for(var ee in this.qname=null,this.value=null,ne)if(ne.hasOwnProperty(ee)){if(this.qname){W(te,"More than one style specified on set");break}this.qname=ee,this.value=ne[ee]}}}(C,typeof sax>"u"?c(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(et,C,c){!function(t,y,I){function E($,ae,K,pe){var oe;if("region"===K.kind)(oe=document.createElement("div")).style.position="absolute";else if("body"===K.kind)oe=document.createElement("div");else if("div"===K.kind)oe=document.createElement("div");else if("image"===K.kind){if(oe=document.createElement("img"),null!==$.imgResolver&&null!==K.src){var he=$.imgResolver(K.src,oe);he&&(oe.src=he),oe.height=$.regionH,oe.width=$.regionW}}else if("p"===K.kind)oe=document.createElement("p");else if("span"===K.kind)if("container"===K.styleAttrs[I.byName.ruby.qname])oe=document.createElement("ruby"),$.ruby=!0;else if("base"===K.styleAttrs[I.byName.ruby.qname])oe=document.createElement("rb");else if("text"===K.styleAttrs[I.byName.ruby.qname])oe=document.createElement("rt");else if("baseContainer"===K.styleAttrs[I.byName.ruby.qname])oe=document.createElement("rbc");else if("textContainer"===K.styleAttrs[I.byName.ruby.qname])oe=document.createElement("rtc");else{if("delimiter"===K.styleAttrs[I.byName.ruby.qname])return;oe=document.createElement("span")}else"br"===K.kind&&(oe=document.createElement("br"));if(oe){if(K.lang&&("region"===K.kind||K.lang!==pe.lang)&&(oe.lang=K.lang),ae.appendChild(oe),oe.style.margin="0","region"===K.kind){var Se=K.styleAttrs[I.byName.writingMode.qname];"lrtb"===Se||"lr"===Se?($.ipd="lr",$.bpd="tb"):"rltb"===Se||"rl"===Se?($.ipd="rl",$.bpd="tb"):"tblr"===Se?($.ipd="tb",$.bpd="lr"):("tbrl"===Se||"tb"===Se)&&($.ipd="tb",$.bpd="rl")}else"p"===K.kind&&"tb"===$.bpd&&($.ipd="ltr"===K.styleAttrs[I.byName.direction.qname]?"lr":"rl");for(var fe=0;fe<T.length;fe++){var Re=T[fe],Me=K.styleAttrs[Re.qname];void 0!==Me&&null!==Re.map&&Re.map($,oe,K,Me)}var me=oe,Ue=K.styleAttrs[I.byName.linePadding.qname];if(Ue&&!Ue.isZero()){var ke=Ue.toUsedLength($.w,$.h);if(ke>0){var Ie=Math.ceil(ke)+"px";"tb"===$.bpd?(me.style.paddingLeft=Ie,me.style.paddingRight=Ie):(me.style.paddingTop=Ie,me.style.paddingBottom=Ie),$.lp=Ue}}var He=K.styleAttrs[I.byName.multiRowAlign.qname];if(He&&"auto"!==He){var ot=document.createElement("span");ot.style.display="inline-block",ot.style.textAlign=He,oe.appendChild(ot),me=ot,$.mra=He}var Je=K.styleAttrs[I.byName.rubyReserve.qname];if(Je&&"none"!==Je[0]&&($.rubyReserve=Je),K.styleAttrs[I.byName.fillLineGap.qname]&&($.flg=!0),"span"===K.kind&&K.text){var Ne=K.styleAttrs[I.byName.textEmphasis.qname];if(Ne&&"none"!==Ne.style&&($.textEmphasis=!0),I.byName.textCombine.qname in K.styleAttrs&&"all"===K.styleAttrs[I.byName.textCombine.qname])oe.textContent=K.text,Ne&&x($,oe,0,Ne);else for(var Te="",W=0;W<K.text.length;W++){Te+=K.text.charAt(W);var se=K.text.charCodeAt(W);if(se<55296||se>56319||W===K.text.length-1){var ge=document.createElement("span");ge.textContent=Te,Ne&&x($,ge,0,Ne),oe.appendChild(ge),Te="",ge._isd_element=K}}}if("contents"in K)for(var J=0;J<K.contents.length;J++)E($,me,K.contents[J],K);var Q=[];if("p"===K.kind&&(k($,me,Q,null),$.rubyReserve&&(function A($,ae){for(var K=0;K<$.length;K++){var pe=document.createElement("ruby"),oe=document.createElement("rb");oe.textContent="\u200b",pe.appendChild(oe);var he,Se,Le=ae.rubyReserve[1].toUsedLength(ae.w,ae.h)+"px";"both"===ae.rubyReserve[0]||"outside"===ae.rubyReserve[0]&&1==$.length?((he=document.createElement("rtc")).style[Y]=B?"after":"under",he.textContent="\u200b",he.style.fontSize=Le,(Se=document.createElement("rtc")).style[Y]=B?"before":"over",Se.textContent="\u200b",Se.style.fontSize=Le,pe.appendChild(he),pe.appendChild(Se)):((he=document.createElement("rtc")).textContent="\u200b",he.style.fontSize=Le,he.style[Y]="after"===ae.rubyReserve[0]||"outside"===ae.rubyReserve[0]&&K>0?B?"after":"tb"===ae.bpd||"rl"===ae.bpd?"under":"over":B?"before":"tb"===ae.bpd||"rl"===ae.bpd?"over":"under",pe.appendChild(he));for(var Re=null,Me=0;Me<$[K].rbc.length;Me++)if("ruby"===$[K].rbc[Me].localName){Re=$[K].rbc[Me];for(var me=0;me<Re.style.length;me++)pe.style.setProperty(Re.style.item(me),Re.style.getPropertyValue(Re.style.item(me)));break}(Re=Re||$[K].elements[0].node).parentElement.insertBefore(pe,Re)}}(Q,$),$.rubyReserve=null),($.ruby||$.rubyReserve)&&(function v($,ae){for(var K=0;K<$.length;K++)for(var pe=0;pe<$[K].rbc.length;pe++)$[K].rbc[pe].style[Y]||($[K].rbc[pe].style[Y]=B?0===K?"before":"after":"tb"===ae.bpd||"rl"===ae.bpd?0===K?"over":"under":0===K?"under":"over")}(Q,$),$.ruby=null),$.textEmphasis&&(function g($,ae){for(var K=0;K<$.length;K++)for(var pe=0;pe<$[K].te.length;pe++)$[K].te[pe].style[le]&&"none"!==$[K].te[pe].style[le]||($[K].te[pe].style[le]="tb"===ae.bpd?0===K?"left over":"left under":"rl"===ae.bpd?0===K?"right under":"left under":0===K?"left under":"right under")}(Q,$),$.textEmphasis=null),$.mra&&(function f($){for(var ae=0;ae<$.length-1;ae++){var K=$[ae].elements.length;if(0!==K&&!1===$[ae].br){var pe=document.createElement("br"),oe=$[ae].elements[K-1].node;oe.parentElement.insertBefore(pe,oe.nextSibling)}}}(Q),$.mra=null),$.lp&&(function p($,ae,K){if(null!==$)for(var pe=0;pe<$.length;pe++){var oe=$[pe].elements.length,he=Math.ceil(ae)+"px",Se="-"+Math.ceil(ae)+"px";if(0!==oe){var Le=$[pe].elements[$[pe].start_elem],fe=$[pe].elements[$[pe].end_elem];if(Le===fe&&(elementBoundingRect=Le.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===K.ipd?(Le.node.style.marginLeft=Se,Le.node.style.paddingLeft=he):"rl"===K.ipd?(Le.node.style.paddingRight=he,Le.node.style.marginRight=Se):"tb"===K.ipd&&(Le.node.style.paddingTop=he,Le.node.style.marginTop=Se),"lr"===K.ipd?(fe.node.style.marginRight=Se,fe.node.style.paddingRight=he):"rl"===K.ipd?(fe.node.style.paddingLeft=he,fe.node.style.marginLeft=Se):"tb"===K.ipd&&(fe.node.style.paddingBottom=he,fe.node.style.marginBottom=Se)}}}(Q,$.lp.toUsedLength($.w,$.h),$),$.lp=null),function F($){for(var ae=0;ae<$.length;ae++)for(var K=$[ae],pe=1;pe<K.elements.length;)D(K.elements[pe-1].node,K.elements[pe].node)?K.elements.splice(pe,1):pe++;for(var Se,Le,fe=[],Re=0;Re<$.length;Re++)for(var Me=0;Me<$[Re].elements.length;Me++)(Le=L(Se=$[Re].elements[Me].node,fe,!1))&&(Se.style.backgroundColor=Le);for(var me=0;me<fe.length;me++)fe[me].style.backgroundColor=""}(Q),$.flg)){var Z=j(me.getBoundingClientRect(),$);(function U($,ae,K,pe,oe){for(var he=Math.sign(K-ae),Se=0;Se<=$.length;Se++){var Le,fe,Re,Me;if(Le=0===Se?Math.round(ae):Se===$.length?Math.round(K):Math.round(($[Se-1].after+$[Se].before)/2),Se>0&&$[Se-1])for(Re=0;Re<$[Se-1].elements.length;Re++)fe=he*(Le-(Me=$[Se-1].elements[Re]).after)+"px","lr"===pe.bpd?Me.node.style.paddingRight=fe:"rl"===pe.bpd?Me.node.style.paddingLeft=fe:"tb"===pe.bpd&&(Me.node.style.paddingBottom=fe);if(Se<$.length)for(Re=0;Re<$[Se].elements.length;Re++)fe=he*((Me=$[Se].elements[Re]).before-Le)+"px","lr"===pe.bpd?Me.node.style.paddingLeft=fe:"rl"===pe.bpd?Me.node.style.paddingRight=fe:"tb"===pe.bpd&&(Me.node.style.paddingTop=fe)}})(Q,Z.before,Z.after,$),$.flg=null}if("region"===K.kind&&"tb"===$.bpd&&$.enableRollUp&&K.contents.length>0&&"after"===K.styleAttrs[I.byName.displayAlign.qname]){k($,me,Q,null);var ne=new R(""===K.id?"_":K.id,Q);if($.currentISDState[ne.id]=ne,$.previousISDState&&ne.id in $.previousISDState&&$.previousISDState[ne.id].plist.length>0&&ne.plist.length>1&&ne.plist[ne.plist.length-2].text===$.previousISDState[ne.id].plist[$.previousISDState[ne.id].plist.length-1].text){var ee=oe.firstElementChild,X=ne.plist[ne.plist.length-1].after-ne.plist[ne.plist.length-1].before;ee.style.bottom="-"+X+"px",ee.style.transition="transform 0.4s",ee.style.position="relative",ee.style.transform="translateY(-"+X+"px)"}}}else!function Fe($,ae){if($&&$.error&&$.error(ae))throw ae}($.errorHandler,"Error processing ISD element kind: "+K.kind)}function L($,ae,K){return $.style.backgroundColor?(K&&!ae.includes($)&&ae.push($),$.style.backgroundColor):"SPAN"===$.parentElement.nodeName?L($.parentElement,ae,!0):void 0}function D($,ae){if("SPAN"===$.tagName&&"SPAN"===ae.tagName&&$._isd_element===ae._isd_element){$.textContent+=ae.textContent;for(var K=0;K<ae.style.length;K++){var pe=ae.style[K];(pe.indexOf("border")>=0||pe.indexOf("padding")>=0||pe.indexOf("margin")>=0)&&($.style[pe]=ae.style[pe])}return ae.parentElement.removeChild(ae),!0}return!1}function R($,ae){this.id=$,this.plist=ae}function j($,ae){var K={before:null,after:null,start:null,end:null};return"tb"===ae.bpd?(K.before=$.top,K.after=$.bottom,"lr"===ae.ipd?(K.start=$.left,K.end=$.right):(K.start=$.right,K.end=$.left)):"lr"===ae.bpd?(K.before=$.left,K.after=$.right,K.start=$.top,K.end=$.bottom):"rl"===ae.bpd&&(K.before=$.right,K.after=$.left,K.start=$.top,K.end=$.bottom),K}function k($,ae,K,pe){if("rt"!==ae.localName&&"rtc"!==ae.localName){var oe=ae.style.backgroundColor||pe;if(0===ae.childElementCount)if("span"===ae.localName||"rb"===ae.localName){var Se=j(ae.getBoundingClientRect(),$);if(0!==K.length&&function O($,ae,K,pe){return ae<pe&&$>K||pe<=ae&&K>=$}(Se.before,Se.after,K[K.length-1].before,K[K.length-1].after)){var Le=Math.sign(Se.after-Se.before),fe=Math.sign(Se.end-Se.start);Le*(Se.before-K[K.length-1].before)<0&&(K[K.length-1].before=Se.before),Le*(Se.after-K[K.length-1].after)>0&&(K[K.length-1].after=Se.after),fe*(Se.start-K[K.length-1].start)<0&&(K[K.length-1].start=Se.start,K[K.length-1].start_elem=K[K.length-1].elements.length),fe*(Se.end-K[K.length-1].end)>0&&(K[K.length-1].end=Se.end,K[K.length-1].end_elem=K[K.length-1].elements.length)}else K.push({before:Se.before,after:Se.after,start:Se.start,end:Se.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});K[K.length-1].text+=ae.textContent,K[K.length-1].elements.push({node:ae,bgcolor:oe,before:Se.before,after:Se.after})}else"br"===ae.localName&&0!==K.length&&(K[K.length-1].br=!0);else for(var Re=ae.firstChild;Re;)Re.nodeType===Node.ELEMENT_NODE&&(k($,Re,K,oe),"ruby"===Re.localName||"rtc"===Re.localName?K.length>0&&K[K.length-1].rbc.push(Re):"span"===Re.localName&&Re.style[q]&&"none"!==Re.style[q]&&K.length>0&&K[K.length-1].te.push(Re)),Re=Re.nextSibling}}function x($,ae,K,pe){"none"!==pe.style&&(ae.style[q]="auto"===pe.style?"filled":pe.style+" "+pe.symbol,"before"===pe.position||"after"===pe.position)&&(ae.style[le]="tb"===$.bpd?"before"===pe.position?"left over":"left under":"rl"===$.bpd?"before"===pe.position?"right under":"left under":"before"===pe.position?"left under":"right under")}function P($,ae){this.qname=$,this.map=ae}t.render=function($,ae,K,pe,oe,he,Se,Le,fe){var Re=pe||ae.clientHeight,Me=oe||ae.clientWidth;if(null!==$.aspectRatio){var me=Re*$.aspectRatio;me>Me?Re=Math.round(Me/$.aspectRatio):Me=me}var Ue=document.createElement("div");Ue.style.position="relative",Ue.style.width=Me+"px",Ue.style.height=Re+"px",Ue.style.margin="auto",Ue.style.top=0,Ue.style.bottom=0,Ue.style.left=0,Ue.style.right=0,Ue.style.zIndex=0;var ke={h:Re,w:Me,regionH:null,regionW:null,imgResolver:K,displayForcedOnlyMode:he||!1,isd:$,errorHandler:Se,previousISDState:Le,enableRollUp:fe||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(ae.appendChild(Ue),"contents"in $)for(var Ie=0;Ie<$.contents.length;Ie++)E(ke,Ue,$.contents[Ie],$);return ke.currentISDState};for(var T=[new P("http://www.w3.org/ns/ttml#styling backgroundColor",function($,ae,K,pe){0!==pe[3]&&(ae.style.backgroundColor="rgba("+pe[0].toString()+","+pe[1].toString()+","+pe[2].toString()+","+(pe[3]/255).toString()+")")}),new P("http://www.w3.org/ns/ttml#styling color",function($,ae,K,pe){ae.style.color="rgba("+pe[0].toString()+","+pe[1].toString()+","+pe[2].toString()+","+(pe[3]/255).toString()+")"}),new P("http://www.w3.org/ns/ttml#styling direction",function($,ae,K,pe){ae.style.direction=pe}),new P("http://www.w3.org/ns/ttml#styling display",function($,ae,K,pe){}),new P("http://www.w3.org/ns/ttml#styling displayAlign",function($,ae,K,pe){ae.style.display="flex",ae.style.flexDirection="column","before"===pe?ae.style.justifyContent="flex-start":"center"===pe?ae.style.justifyContent="center":"after"===pe&&(ae.style.justifyContent="flex-end")}),new P("http://www.w3.org/ns/ttml#styling extent",function($,ae,K,pe){$.regionH=pe.h.toUsedLength($.w,$.h),$.regionW=pe.w.toUsedLength($.w,$.h);var oe=0,he=0,Se=K.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Se&&(oe=Se[0].toUsedLength($.w,$.h)+Se[2].toUsedLength($.w,$.h),he=Se[1].toUsedLength($.w,$.h)+Se[3].toUsedLength($.w,$.h)),ae.style.height=$.regionH-oe+"px",ae.style.width=$.regionW-he+"px"}),new P("http://www.w3.org/ns/ttml#styling fontFamily",function($,ae,K,pe){for(var oe=[],he=0;he<pe.length;he++)"monospaceSerif"===pe[he]?(oe.push("Courier New"),oe.push('"Liberation Mono"'),oe.push("Courier"),oe.push("monospace")):"proportionalSansSerif"===pe[he]?(oe.push("Arial"),oe.push("Helvetica"),oe.push('"Liberation Sans"'),oe.push("sans-serif")):"monospace"===pe[he]?oe.push("monospace"):"sansSerif"===pe[he]?oe.push("sans-serif"):"serif"===pe[he]?oe.push("serif"):"monospaceSansSerif"===pe[he]?(oe.push("Consolas"),oe.push("monospace")):oe.push("proportionalSerif"===pe[he]?"serif":pe[he]);if(oe.length>0){for(var Se=[oe[0]],Le=1;Le<oe.length;Le++)-1==Se.indexOf(oe[Le])&&Se.push(oe[Le]);oe=Se}ae.style.fontFamily=oe.join(",")}),new P("http://www.w3.org/ns/ttml#styling shear",function($,ae,K,pe){if(0!==pe){var oe=-.9*pe;ae.style.transform="tb"===$.bpd?"skewX("+oe+"deg)":"skewY("+oe+"deg)"}}),new P("http://www.w3.org/ns/ttml#styling fontSize",function($,ae,K,pe){ae.style.fontSize=pe.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling fontStyle",function($,ae,K,pe){ae.style.fontStyle=pe}),new P("http://www.w3.org/ns/ttml#styling fontWeight",function($,ae,K,pe){ae.style.fontWeight=pe}),new P("http://www.w3.org/ns/ttml#styling lineHeight",function($,ae,K,pe){ae.style.lineHeight="normal"===pe?"normal":pe.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling opacity",function($,ae,K,pe){ae.style.opacity=pe}),new P("http://www.w3.org/ns/ttml#styling origin",function($,ae,K,pe){ae.style.top=pe.h.toUsedLength($.w,$.h)+"px",ae.style.left=pe.w.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling overflow",function($,ae,K,pe){ae.style.overflow=pe}),new P("http://www.w3.org/ns/ttml#styling padding",function($,ae,K,pe){var oe=[];oe[0]=pe[0].toUsedLength($.w,$.h)+"px",oe[1]=pe[3].toUsedLength($.w,$.h)+"px",oe[2]=pe[2].toUsedLength($.w,$.h)+"px",oe[3]=pe[1].toUsedLength($.w,$.h)+"px",ae.style.padding=oe.join(" ")}),new P("http://www.w3.org/ns/ttml#styling position",function($,ae,K,pe){ae.style.top=pe.h.toUsedLength($.w,$.h)+"px",ae.style.left=pe.w.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling rubyAlign",function($,ae,K,pe){ae.style.rubyAlign="spaceAround"===pe?"space-around":"center"}),new P("http://www.w3.org/ns/ttml#styling rubyPosition",function($,ae,K,pe){"before"!==pe&&"after"!==pe||(ae.parentElement.style[Y]=B?pe:"tb"===$.bpd||"rl"===$.bpd?"before"===pe?"over":"under":"before"===pe?"under":"over")}),new P("http://www.w3.org/ns/ttml#styling showBackground",null),new P("http://www.w3.org/ns/ttml#styling textAlign",function($,ae,K,pe){ae.style.textAlign="start"===pe?"rl"===$.ipd?"right":"left":"end"===pe?"rl"===$.ipd?"left":"right":pe}),new P("http://www.w3.org/ns/ttml#styling textDecoration",function($,ae,K,pe){ae.style.textDecoration=pe.join(" ").replace("lineThrough","line-through")}),new P("http://www.w3.org/ns/ttml#styling textOutline",function($,ae,K,pe){}),new P("http://www.w3.org/ns/ttml#styling textShadow",function($,ae,K,pe){var oe=K.styleAttrs[I.byName.textOutline.qname];if("none"===pe&&"none"===oe)ae.style.textShadow="";else{var he=[];if("none"!==oe){var Se="rgba("+oe.color[0].toString()+","+oe.color[1].toString()+","+oe.color[2].toString()+","+(oe.color[3]/255).toString()+")";he.push("1px 1px 1px "+Se),he.push("-1px 1px 1px "+Se),he.push("1px -1px 1px "+Se),he.push("-1px -1px 1px "+Se)}if("none"!==pe)for(var Le=0;Le<pe.length;Le++)he.push(pe[Le].x_off.toUsedLength($.w,$.h)+"px "+pe[Le].y_off.toUsedLength($.w,$.h)+"px "+pe[Le].b_radius.toUsedLength($.w,$.h)+"px rgba("+pe[Le].color[0].toString()+","+pe[Le].color[1].toString()+","+pe[Le].color[2].toString()+","+(pe[Le].color[3]/255).toString()+")");ae.style.textShadow=he.join(",")}}),new P("http://www.w3.org/ns/ttml#styling textCombine",function($,ae,K,pe){ae.style.textCombineUpright=pe}),new P("http://www.w3.org/ns/ttml#styling textEmphasis",function($,ae,K,pe){}),new P("http://www.w3.org/ns/ttml#styling unicodeBidi",function($,ae,K,pe){ae.style.unicodeBidi="bidiOverride"===pe?"bidi-override":pe}),new P("http://www.w3.org/ns/ttml#styling visibility",function($,ae,K,pe){ae.style.visibility=pe}),new P("http://www.w3.org/ns/ttml#styling wrapOption",function($,ae,K,pe){ae.style.whiteSpace="wrap"===pe?"preserve"===K.space?"pre-wrap":"normal":"preserve"===K.space?"pre":"noWrap"}),new P("http://www.w3.org/ns/ttml#styling writingMode",function($,ae,K,pe){"lrtb"===pe||"lr"===pe||"rltb"===pe||"rl"===pe?ae.style.writingMode="horizontal-tb":"tblr"===pe?ae.style.writingMode="vertical-lr":("tbrl"===pe||"tb"===pe)&&(ae.style.writingMode="vertical-rl")}),new P("http://www.w3.org/ns/ttml#styling zIndex",function($,ae,K,pe){ae.style.zIndex=pe}),new P("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function($,ae,K,pe){$.displayForcedOnlyMode&&!1===pe&&(ae.style.visibility="hidden")})],N={},S=0;S<T.length;S++)N[T[S].qname]=T[S];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),Y=B?"webkitRubyPosition":"rubyPosition",q="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",le="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(C,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(et,C,c){!function(t,y,I,E){t.generateISD=function(k,O,x){var N,P=new g(k),T={},S={},B=k.head.styling.initials[I.byName.showBackground.qname],Y=k.head.styling.initials[I.byName.backgroundColor.qname];for(var q in k.head.layout.regions)if(k.head.layout.regions.hasOwnProperty(q)){var le=k.head.layout.regions[q],Fe=le.styleAttrs[I.byName.showBackground.qname]||B;S[le.id]=("always"===Fe||void 0===Fe)&&void 0!==(le.styleAttrs[I.byName.backgroundColor.qname]||Y)&&!(O<le.begin||O>=le.end)}for(var K in k.body&&k.body.regionID&&(S[k.body.regionID]=!0),N=null!==k.body?function ae(oe,he){if(he.contents){var Le={};for(var fe in he)he.hasOwnProperty(fe)&&(Le[fe]=he[fe]);return Le.contents=[],he.contents.filter(function Se(Re){return!(oe<Re.begin||oe>=Re.end)}).forEach(function(Re){var Me=ae(oe,Re);Me.regionID&&(S[Me.regionID]=!0),null!==Me&&Le.contents.push(Me)}),Le}return he}(O,k.body):null,void 0!==S[""]&&(S[""]=!0),S)if(S[K]){var pe=L(k,O,k.head.layout.regions[K],N,null,"",k.head.layout.regions[K],x,T);null!==pe&&P.contents.push(pe.element)}return P};var F=[I.byName.color.qname,I.byName.textCombine.qname,I.byName.textDecoration.qname,I.byName.textEmphasis.qname,I.byName.textOutline.qname,I.byName.textShadow.qname];function L(k,O,x,P,T,N,S,B,Y){if(O<S.begin||O>=S.end)return null;var q="regionID"in S&&""!==S.regionID?S.regionID:N;if(null!==T&&q!==x.id&&(!("contents"in S)||"contents"in S&&0===S.contents.length||""!==q))return null;var le=new v(S);if("sets"in S)for(var Fe=0;Fe<S.sets.length;Fe++)O<S.sets[Fe].begin||O>=S.sets[Fe].end||(le.styleAttrs[S.sets[Fe].qname]=S.sets[Fe].value);var $={};for(var ae in le.styleAttrs)if(le.styleAttrs.hasOwnProperty(ae)&&($[ae]=!0,"region"===le.kind&&ae===I.byName.writingMode.qname&&!(I.byName.direction.qname in le.styleAttrs))){var K=le.styleAttrs[ae];"lrtb"===K||"lr"===K?le.styleAttrs[I.byName.direction.qname]="ltr":("rltb"===K||"rl"===K)&&(le.styleAttrs[I.byName.direction.qname]="rtl")}if(null!==T)for(var pe=0;pe<I.all.length;pe++){var oe=I.all[pe];if(oe.qname===I.byName.textDecoration.qname){var he=T.styleAttrs[oe.qname],Se=le.styleAttrs[oe.qname],Le=[];void 0===Se?Le=he:-1===Se.indexOf("none")?((-1===Se.indexOf("noUnderline")&&-1!==he.indexOf("underline")||-1!==Se.indexOf("underline"))&&Le.push("underline"),(-1===Se.indexOf("noLineThrough")&&-1!==he.indexOf("lineThrough")||-1!==Se.indexOf("lineThrough"))&&Le.push("lineThrough"),(-1===Se.indexOf("noOverline")&&-1!==he.indexOf("overline")||-1!==Se.indexOf("overline"))&&Le.push("overline")):Le.push("none"),le.styleAttrs[oe.qname]=Le}else if(oe.qname!==I.byName.fontSize.qname||oe.qname in le.styleAttrs||"span"!==le.kind||"textContainer"!==le.styleAttrs[I.byName.ruby.qname])if(oe.qname!==I.byName.fontSize.qname||oe.qname in le.styleAttrs||"span"!==le.kind||"text"!==le.styleAttrs[I.byName.ruby.qname])oe.inherit&&oe.qname in T.styleAttrs&&!(oe.qname in le.styleAttrs)&&(le.styleAttrs[oe.qname]=T.styleAttrs[oe.qname]);else{var Re=T.styleAttrs[I.byName.fontSize.qname];le.styleAttrs[oe.qname]="textContainer"===T.styleAttrs[I.byName.ruby.qname]?Re:new E.ComputedLength(.5*Re.rw,.5*Re.rh)}else{var fe=T.styleAttrs[I.byName.fontSize.qname];le.styleAttrs[oe.qname]=new E.ComputedLength(.5*fe.rw,.5*fe.rh)}}for(var Me=0;Me<I.all.length;Me++){var me=I.all[Me];if(!(me.qname in le.styleAttrs||me.qname===I.byName.position.qname&&I.byName.origin.qname in le.styleAttrs||me.qname===I.byName.origin.qname&&I.byName.position.qname in le.styleAttrs)){var Ue=k.head.styling.initials[me.qname]||me.initial;if(null!==Ue&&("region"===le.kind||!1===me.inherit&&null!==Ue)){var ke=me.parse(Ue);null!==ke?(le.styleAttrs[me.qname]=ke,$[me.qname]=!0):R(B,"Invalid initial value for '"+me.qname+"' on element '"+le.kind)}}}for(var Ie=0;Ie<I.all.length;Ie++){var He=I.all[Ie];if(He.qname in $&&null!==He.compute){var ot=He.compute(k,T,le,le.styleAttrs[He.qname],Y);null!==ot?le.styleAttrs[He.qname]=ot:(le.styleAttrs[He.qname]=He.compute(k,T,le,He.parse(He.initial),Y),R(B,"Style '"+He.qname+"' on element '"+le.kind+"' cannot be computed"))}}if("none"===le.styleAttrs[I.byName.display.qname])return null;var Je=null;null===T?Je=null===P?[]:[P]:"contents"in S&&(Je=S.contents);for(var Ne=0;null!==Je&&Ne<Je.length;Ne++){var Te=L(k,O,x,P,le,q,Je[Ne],B,Y);null!==Te&&le.contents.push(Te.element)}for(var W in le.styleAttrs)if(le.styleAttrs.hasOwnProperty(W)){var se=!1;if("span"===le.kind){var ge=le.styleAttrs[I.byName.ruby.qname];(se=("container"===ge||"textContainer"===ge||"baseContainer"===ge)&&-1!==F.indexOf(W))||(se="container"!==ge&&W===I.byName.rubyAlign.qname),se||(se=!("textContainer"===ge||"text"===ge)&&W===I.byName.rubyPosition.qname)}if(!se){var J=I.byQName[W];"applies"in J&&(se=-1===J.applies.indexOf(le.kind))}se&&delete le.styleAttrs[W]}var Q=le.styleAttrs[I.byName.ruby.qname];if("p"===le.kind||"span"===le.kind&&("textContainer"===Q||"text"===Q)){var Z=[];p(le,Z),function D(k){function O(S){return"br"===S.kind||/[\r\n\t ]$/.test(S.text)}function x(S){return"br"===S.kind||"preserve"===S.space&&/^[\r\n]/.test(S.text)}for(var P,T=0;T<k.length;)if("br"!==(P=k[T]).kind&&"preserve"!==P.space){var N=P.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(N)&&(0===T||O(k[T-1]))&&(N=N.substring(1)),P.text=N,0===N.length?k.splice(T,1):T++}else T++;for(T=0;T<k.length;T++)"br"!==(P=k[T]).kind&&"preserve"!==P.space?/[ ]$/.test(P.text)&&(T===k.length-1||x(k[T+1]))&&(P.text=P.text.slice(0,-1)):T++}(Z),f(le)}return"div"===le.kind&&I.byName.backgroundImage.qname in le.styleAttrs||"br"===le.kind||"image"===le.kind||"contents"in le&&le.contents.length>0||"span"===le.kind&&null!==le.text||"region"===le.kind&&"always"===le.styleAttrs[I.byName.showBackground.qname]?{region_id:q,element:le}:null}function p(k,O){if("contents"in k)for(var x=0;x<k.contents.length;x++){var P=k.contents[x],T=P.styleAttrs[I.byName.ruby.qname];"span"===P.kind&&("textContainer"===T||"text"===T)||("contents"in P?p(P,O):("span"===P.kind&&0!==P.text.length||"br"===P.kind)&&O.push(P))}}function f(k){if("br"===k.kind)return!1;if("text"in k)return 0===k.text.length;if("contents"in k){for(var O=k.contents.length;O--;)f(k.contents[O])&&k.contents.splice(O,1);return 0===k.contents.length}}function g(k){this.contents=[],this.aspectRatio=k.aspectRatio,this.lang=k.lang}function v(k){for(var O in this.kind=k.kind||"region",this.lang=k.lang,k.id&&(this.id=k.id),this.styleAttrs={},k.styleAttrs)k.styleAttrs.hasOwnProperty(O)&&(this.styleAttrs[O]=k.styleAttrs[O]);"src"in k&&(this.src=k.src),"type"in k&&(this.type=k.type),"text"in k?this.text=k.text:("region"===this.kind||"contents"in k)&&(this.contents=[]),"space"in k&&(this.space=k.space)}function R(k,O){if(k&&k.error&&k.error(O))throw O}}(C,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(et,C,c){C.generateISD=c(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,C.fromXML=c(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,C.renderHTML=c(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(et,C,c){var t;(t=C).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(et,C,c){!function(t,y,I){function E(D,p,f,g,v,A,U,R){this.name=p,this.ns=D,this.qname=D+" "+p,this.inherit=v,this.animatable=A,this.initial=f,this.applies=g,this.parse=U,this.compute=R}for(var F in t.all=[new E(y.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,I.parseColor,null),new E(y.ns_tts,"color","white",["span"],!0,!0,I.parseColor,null),new E(y.ns_tts,"direction","ltr",["p","span"],!0,!0,function(D){return D},null),new E(y.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(D){return D},null),new E(y.ns_tts,"displayAlign","before",["region"],!1,!0,function(D){return D},null),new E(y.ns_tts,"extent","auto",["tt","region"],!1,!0,function(D){if("auto"===D)return D;var p=D.split(" ");if(2!==p.length)return null;var f=I.parseLength(p[0]),g=I.parseLength(p[1]);return g&&f?{h:g,w:f}:null},function(D,p,f,g,v){var A,U;if("auto"===g)A=new I.ComputedLength(0,1);else if(null===(A=I.toComputedLength(g.h.value,g.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===g)U=new I.ComputedLength(1,0);else if(null===(U=I.toComputedLength(g.w.value,g.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:A,w:U}}),new E(y.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(D){for(var p=D.split(","),f=[],g=0;g<p.length;g++)"'"!==p[g].charAt(0)&&'"'!==p[g].charAt(0)&&"default"===p[g]?f.push("monospaceSerif"):f.push(p[g]);return f},null),new E(y.ns_tts,"shear","0%",["p"],!0,!0,I.parseLength,function(D,p,f,g){return"%"!==g.unit?null:Math.abs(g.value)>100?100*Math.sign(g.value):g.value}),new E(y.ns_tts,"fontSize","1c",["span","p"],!0,!0,I.parseLength,function(D,p,f,g,v){return I.toComputedLength(g.value,g.unit,null!==p?p.styleAttrs[t.byName.fontSize.qname]:D.cellLength.h,null!==p?p.styleAttrs[t.byName.fontSize.qname]:D.cellLength.h,D.cellLength.h,D.pxLength.h)}),new E(y.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(D){return D},null),new E(y.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(D){return D},null),new E(y.ns_tts,"lineHeight","normal",["p"],!0,!0,function(D){return"normal"===D?D:I.parseLength(D)},function(D,p,f,g,v){var A;if("normal"===g)A=g;else if(null===(A=I.toComputedLength(g.value,g.unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h)))return null;return A}),new E(y.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new E(y.ns_tts,"origin","auto",["region"],!1,!0,function(D){if("auto"===D)return D;var p=D.split(" ");if(2!==p.length)return null;var f=I.parseLength(p[0]),g=I.parseLength(p[1]);return g&&f?{h:g,w:f}:null},function(D,p,f,g,v){var A,U;if("auto"===g)A=new I.ComputedLength(0,0);else if(null===(A=I.toComputedLength(g.h.value,g.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===g)U=new I.ComputedLength(0,0);else if(null===(U=I.toComputedLength(g.w.value,g.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:A,w:U}}),new E(y.ns_tts,"overflow","hidden",["region"],!1,!0,function(D){return D},null),new E(y.ns_tts,"padding","0px",["region"],!1,!0,function(D){var p=D.split(" ");if(p.length>4)return null;for(var f=[],g=0;g<p.length;g++){var v=I.parseLength(p[g]);if(!v)return null;f.push(v)}return f},function(D,p,f,g,v){var A;if(1===g.length)A=[g[0],g[0],g[0],g[0]];else if(2===g.length)A=[g[0],g[1],g[0],g[1]];else if(3===g.length)A=[g[0],g[1],g[2],g[1]];else{if(4!==g.length)return null;A=[g[0],g[1],g[2],g[3]]}var U=f.styleAttrs[t.byName.writingMode.qname];if("lrtb"===U||"lr"===U)A=[A[0],A[3],A[2],A[1]];else if("rltb"===U||"rl"===U)A=[A[0],A[1],A[2],A[3]];else if("tblr"===U)A=[A[3],A[0],A[1],A[2]];else{if("tbrl"!==U&&"tb"!==U)return null;A=[A[3],A[2],A[1],A[0]]}for(var R=[],j=0;j<A.length;j++)if(0===A[j].value)R[j]=new I.ComputedLength(0,0);else if(R[j]=I.toComputedLength(A[j].value,A[j].unit,f.styleAttrs[t.byName.fontSize.qname],0===j||2===j?f.styleAttrs[t.byName.extent.qname].h:f.styleAttrs[t.byName.extent.qname].w,0===j||2===j?D.cellLength.h:D.cellLength.w,0===j||2===j?D.pxLength.h:D.pxLength.w),null===R[j])return null;return R}),new E(y.ns_tts,"position","top left",["region"],!1,!0,function(D){return I.parsePosition(D)},function(D,p,f,g){var v,A;return null===(v=I.toComputedLength(g.v.offset.value,g.v.offset.unit,null,new I.ComputedLength(-f.styleAttrs[t.byName.extent.qname].h.rw,D.dimensions.h.rh-f.styleAttrs[t.byName.extent.qname].h.rh),null,D.pxLength.h))||("bottom"===g.v.edge&&(v=new I.ComputedLength(-v.rw-f.styleAttrs[t.byName.extent.qname].h.rw,D.dimensions.h.rh-v.rh-f.styleAttrs[t.byName.extent.qname].h.rh)),A=I.toComputedLength(g.h.offset.value,g.h.offset.unit,null,new I.ComputedLength(D.dimensions.w.rw-f.styleAttrs[t.byName.extent.qname].w.rw,-f.styleAttrs[t.byName.extent.qname].w.rh),null,D.pxLength.w),null===v)?null:("right"===g.h.edge&&(A=new I.ComputedLength(D.dimensions.w.rw-A.rw-f.styleAttrs[t.byName.extent.qname].w.rw,-A.rh-f.styleAttrs[t.byName.extent.qname].w.rh)),{h:v,w:A})}),new E(y.ns_tts,"ruby","none",["span"],!1,!0,function(D){return D},null),new E(y.ns_tts,"rubyAlign","center",["span"],!0,!0,function(D){return"center"===D||"spaceAround"===D?D:null},null),new E(y.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(D){return D},null),new E(y.ns_tts,"rubyReserve","none",["p"],!0,!0,function(D){var p=D.split(" "),f=[null,null];if(0===p.length||p.length>2)return null;if("none"!==p[0]&&"both"!==p[0]&&"after"!==p[0]&&"before"!==p[0]&&"outside"!==p[0])return null;if(f[0]=p[0],2===p.length&&"none"!==p[0]){var g=I.parseLength(p[1]);if(!g)return null;f[1]=g}return f},function(D,p,f,g,v){if("none"===g[0])return g;var A;return null===(A=null===g[1]?new I.ComputedLength(.5*f.styleAttrs[t.byName.fontSize.qname].rw,.5*f.styleAttrs[t.byName.fontSize.qname].rh):I.toComputedLength(g[1].value,g[1].unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h))?null:[g[0],A]}),new E(y.ns_tts,"showBackground","always",["region"],!1,!0,function(D){return D},null),new E(y.ns_tts,"textAlign","start",["p"],!0,!0,function(D){return D},function(D,p,f,g,v){return"left"===g?"start":"right"===g?"end":g}),new E(y.ns_tts,"textCombine","none",["span"],!0,!0,function(D){return"none"===D||"all"===D?D:null},null),new E(y.ns_tts,"textDecoration","none",["span"],!0,!0,function(D){return D.split(" ")},null),new E(y.ns_tts,"textEmphasis","none",["span"],!0,!0,function(D){for(var p=D.split(" "),f={style:null,symbol:null,color:null,position:null},g=0;g<p.length;g++)if("none"===p[g]||"auto"===p[g])f.style=p[g];else if("filled"===p[g]||"open"===p[g])f.style=p[g];else if("circle"===p[g]||"dot"===p[g]||"sesame"===p[g])f.symbol=p[g];else if("current"===p[g])f.color=p[g];else if("outside"===p[g]||"before"===p[g]||"after"===p[g])f.position=p[g];else if(f.color=I.parseColor(p[g]),null===f.color)return null;return null==f.style&&null==f.symbol?f.style="auto":(f.symbol=f.symbol||"circle",f.style=f.style||"filled"),f.position=f.position||"outside",f.color=f.color||"current",f},null),new E(y.ns_tts,"textOutline","none",["span"],!0,!0,function(D){if("none"===D)return D;var p={},f=D.split(" ");if(0===f.length||f.length>2)return null;var g=I.parseColor(f[0]);if(p.color=g,null!==g&&f.shift(),1!==f.length)return null;var v=I.parseLength(f[0]);return v?(p.thickness=v,p):null},function(D,p,f,g,v){if("none"===g)return g;var A={};return A.color=null===g.color?f.styleAttrs[t.byName.color.qname]:g.color,A.thickness=I.toComputedLength(g.thickness.value,g.thickness.unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h),null===A.thickness?null:A}),new E(y.ns_tts,"textShadow","none",["span"],!0,!0,I.parseTextShadow,function(D,p,f,g){if("none"===g)return g;for(var v=[],A=0;A<g.length;A++){var U={};if(U.x_off=I.toComputedLength(g[A][0].value,g[A][0].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.w),null===U.x_off||(U.y_off=I.toComputedLength(g[A][1].value,g[A][1].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.h),null===U.y_off))return null;if(null===g[A][2])U.b_radius=0;else if(U.b_radius=I.toComputedLength(g[A][2].value,g[A][2].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.h),null===U.b_radius)return null;U.color=null===g[A][3]?f.styleAttrs[t.byName.color.qname]:g[A][3],v.push(U)}return v}),new E(y.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(D){return D},null),new E(y.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(D){return D},null),new E(y.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(D){return D},null),new E(y.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(D){return D},null),new E(y.ns_tts,"zIndex","auto",["region"],!1,!0,function(D){var p;return"auto"===D?p=D:(p=parseInt(D),isNaN(p)&&(p=null)),p},null),new E(y.ns_ebutts,"linePadding","0c",["p"],!0,!1,I.parseLength,function(D,p,f,g,v){return I.toComputedLength(g.value,g.unit,null,null,D.cellLength.w,null)}),new E(y.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(D){return D},null),new E(y.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(D){return D},null),new E(y.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(D){return"true"===D},null),new E(y.ns_itts,"fillLineGap","false",["p"],!0,!0,function(D){return"true"===D},null)],t.byQName={},t.all)t.byQName[t.all[F].qname]=t.all[F];for(var L in t.byName={},t.all)t.byName[t.all[L].name]=t.all[L]}(C,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(et,C,c){!function(t){var y=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,I=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,E=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,F={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(D){var p,f=null,g=F[D.toLowerCase()];return void 0!==g?f=g:null!==(p=y.exec(D))?f=[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16),void 0!==p[4]?parseInt(p[4],16):255]:null!==(p=I.exec(D))?f=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),255]:null!==(p=E.exec(D))&&(f=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),parseInt(p[4])]),f};var L=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(D){var p,f=null;return null!==(p=L.exec(D))&&(f={value:parseFloat(p[1]),unit:p[2]}),f},t.parseTextShadow=function(D){for(var p=D.match(/([^\(,\)]|\([^\)]+\))+/g),f=[],g=0;g<p.length;g++){var v=p[g].split(" ");if(1===v.length&&"none"===v[0])return"none";if(v.length>1&&v.length<5){var A=[null,null,null,null],U=t.parseLength(v.shift());if(null===U||(A[0]=U,null===(U=t.parseLength(v.shift()))))return null;if(A[1]=U,0===v.length){f.push(A);continue}if(null!==(U=t.parseLength(v[0]))&&(A[2]=U,v.shift()),0===v.length){f.push(A);continue}var R=t.parseColor(v[0]);if(null===R)return null;A[3]=R,f.push(A)}}return f},t.parsePosition=function(D){var p=D.split(" "),f=function(k){return"center"===k||"left"===k||"top"===k||"bottom"===k||"right"===k};if(p.length>4)return null;for(var g=0;g<p.length;g++)if(!f(p[g])){var v=t.parseLength(p[g]);if(null===v)return null;p[g]=v}for(var A={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},U=0;U<p.length;){var R=p[U++];if(f(R)){var j={value:0,unit:"%"};2!==p.length&&U<p.length&&!f(p[U])&&(j=p[U++]),"right"===R?(A.h.edge=R,A.h.offset=j):"bottom"===R?(A.v.edge=R,A.v.offset=j):"left"===R?A.h.offset=j:"top"===R&&(A.v.offset=j)}else{if(1!==p.length&&2!==p.length)return null;1===U?A.h.offset=R:A.v.offset=R}}return A},t.ComputedLength=function(D,p){this.rw=D,this.rh=p},t.ComputedLength.prototype.toUsedLength=function(D,p){return D*this.rw+p*this.rh},t.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},t.toComputedLength=function(D,p,f,g,v,A){return"%"===p&&g?new t.ComputedLength(g.rw*D/100,g.rh*D/100):"em"===p&&f?new t.ComputedLength(f.rw*D,f.rh*D):"c"===p&&v?new t.ComputedLength(D*v.rw,D*v.rh):"px"===p&&A?new t.ComputedLength(D*A.rw,D*A.rh):"rh"===p?new t.ComputedLength(0,D/100):"rw"===p?new t.ComputedLength(D/100,0):null}}(C)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(et,C){et.exports="function"==typeof Object.create?function(t,y){y&&(t.super_=y,t.prototype=Object.create(y.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,y){if(y){t.super_=y;var I=function(){};I.prototype=y.prototype,t.prototype=new I,t.prototype.constructor=t}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,C,c){"use strict";et.exports=function t(y){var I="string"==typeof y?y.charCodeAt(0):y;return I>=97&&I<=122||I>=65&&I<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(et,C,c){"use strict";var t=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),y=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js");et.exports=function I(E){return t(E)||y(E)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(et,C,c){"use strict";et.exports=function t(y){var I="string"==typeof y?y.charCodeAt(0):y;return I>=48&&I<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(et,C){var c={}.toString;et.exports=Array.isArray||function(t){return"[object Array]"==c.call(t)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(et,C,c){(function(t){function y(L,D){for(var p=0,f=L.length-1;f>=0;f--){var g=L[f];"."===g?L.splice(f,1):".."===g?(L.splice(f,1),p++):p&&(L.splice(f,1),p--)}if(D)for(;p--;p)L.unshift("..");return L}function E(L,D){if(L.filter)return L.filter(D);for(var p=[],f=0;f<L.length;f++)D(L[f],f,L)&&p.push(L[f]);return p}C.resolve=function(){for(var L="",D=!1,p=arguments.length-1;p>=-1&&!D;p--){var f=p>=0?arguments[p]:t.cwd();if("string"!=typeof f)throw new TypeError("Arguments to path.resolve must be strings");f&&(L=f+"/"+L,D="/"===f.charAt(0))}return(D?"/":"")+(L=y(E(L.split("/"),function(g){return!!g}),!D).join("/"))||"."},C.normalize=function(L){var D=C.isAbsolute(L),p="/"===F(L,-1);return!(L=y(E(L.split("/"),function(f){return!!f}),!D).join("/"))&&!D&&(L="."),L&&p&&(L+="/"),(D?"/":"")+L},C.isAbsolute=function(L){return"/"===L.charAt(0)},C.join=function(){var L=Array.prototype.slice.call(arguments,0);return C.normalize(E(L,function(D,p){if("string"!=typeof D)throw new TypeError("Arguments to path.join must be strings");return D}).join("/"))},C.relative=function(L,D){function p(j){for(var k=0;k<j.length&&""===j[k];k++);for(var O=j.length-1;O>=0&&""===j[O];O--);return k>O?[]:j.slice(k,O-k+1)}L=C.resolve(L).substr(1),D=C.resolve(D).substr(1);for(var f=p(L.split("/")),g=p(D.split("/")),v=Math.min(f.length,g.length),A=v,U=0;U<v;U++)if(f[U]!==g[U]){A=U;break}var R=[];for(U=A;U<f.length;U++)R.push("..");return(R=R.concat(g.slice(A))).join("/")},C.sep="/",C.delimiter=":",C.dirname=function(L){if("string"!=typeof L&&(L+=""),0===L.length)return".";for(var D=L.charCodeAt(0),p=47===D,f=-1,g=!0,v=L.length-1;v>=1;--v)if(47===(D=L.charCodeAt(v))){if(!g){f=v;break}}else g=!1;return-1===f?p?"/":".":p&&1===f?"/":L.slice(0,f)},C.basename=function(L,D){var p=function I(L){"string"!=typeof L&&(L+="");var g,D=0,p=-1,f=!0;for(g=L.length-1;g>=0;--g)if(47===L.charCodeAt(g)){if(!f){D=g+1;break}}else-1===p&&(f=!1,p=g+1);return-1===p?"":L.slice(D,p)}(L);return D&&p.substr(-1*D.length)===D&&(p=p.substr(0,p.length-D.length)),p},C.extname=function(L){"string"!=typeof L&&(L+="");for(var D=-1,p=0,f=-1,g=!0,v=0,A=L.length-1;A>=0;--A){var U=L.charCodeAt(A);if(47!==U)-1===f&&(g=!1,f=A+1),46===U?-1===D?D=A:1!==v&&(v=1):-1!==D&&(v=-1);else if(!g){p=A+1;break}}return-1===D||-1===f||0===v||1===v&&D===f-1&&D===p+1?"":L.slice(D,f)};var F=function(L,D,p){return L.substr(D,p)}}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(et,C,c){"use strict";(function(t){et.exports=typeof t>"u"||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function y(I,E,F,L){if("function"!=typeof I)throw new TypeError('"callback" argument must be a function');var p,f,D=arguments.length;switch(D){case 0:case 1:return t.nextTick(I);case 2:return t.nextTick(function(){I.call(null,E)});case 3:return t.nextTick(function(){I.call(null,E,F)});case 4:return t.nextTick(function(){I.call(null,E,F,L)});default:for(p=new Array(D-1),f=0;f<p.length;)p[f++]=arguments[f];return t.nextTick(function(){I.apply(null,p)})}}}:t}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(et,C){var t,y,c=et.exports={};function I(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}function F(j){if(t===setTimeout)return setTimeout(j,0);if((t===I||!t)&&setTimeout)return t=setTimeout,setTimeout(j,0);try{return t(j,0)}catch{try{return t.call(null,j,0)}catch{return t.call(this,j,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:I}catch{t=I}try{y="function"==typeof clearTimeout?clearTimeout:E}catch{y=E}}();var f,D=[],p=!1,g=-1;function v(){!p||!f||(p=!1,f.length?D=f.concat(D):g=-1,D.length&&A())}function A(){if(!p){var j=F(v);p=!0;for(var k=D.length;k;){for(f=D,D=[];++g<k;)f&&f[g].run();g=-1,k=D.length}f=null,p=!1,function L(j){if(y===clearTimeout)return clearTimeout(j);if((y===E||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(j);try{return y(j)}catch{try{return y.call(null,j)}catch{return y.call(this,j)}}}(j)}}function U(j,k){this.fun=j,this.array=k}function R(){}c.nextTick=function(j){var k=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)k[O-1]=arguments[O];D.push(new U(j,k)),1===D.length&&!p&&F(A)},U.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=R,c.addListener=R,c.once=R,c.off=R,c.removeListener=R,c.removeAllListeners=R,c.emit=R,c.prependListener=R,c.prependOnceListener=R,c.listeners=function(j){return[]},c.binding=function(j){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(j){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(et,C,c){et.exports=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(et,C,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),y=Object.keys||function(A){var U=[];for(var R in A)U.push(R);return U};et.exports=f;var I=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));I.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var E=c(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),F=c(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");I.inherits(f,E);for(var L=y(F.prototype),D=0;D<L.length;D++){var p=L[D];f.prototype[p]||(f.prototype[p]=F.prototype[p])}function f(A){if(!(this instanceof f))return new f(A);E.call(this,A),F.call(this,A),A&&!1===A.readable&&(this.readable=!1),A&&!1===A.writable&&(this.writable=!1),this.allowHalfOpen=!0,A&&!1===A.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||t.nextTick(v,this)}function v(A){A.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(A){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),f.prototype._destroy=function(A,U){this.push(null),this.end(),t.nextTick(U,A)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(et,C,c){"use strict";et.exports=I;var t=c(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),y=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function I(E){if(!(this instanceof I))return new I(E);t.call(this,E)}y.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),y.inherits(I,t),I.prototype._transform=function(E,F,L){L(null,E)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(et,C,c){"use strict";(function(t,y){var I=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");et.exports=S;var F,E=c(
/*! isarray */
"./node_modules/isarray/index.js");S.ReadableState=N,c(
/*! events */
"./node_modules/events/events.js");var D=function(Te,W){return Te.listeners(W).length},p=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),f=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,g=t.Uint8Array||function(){};var U=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));U.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var R=c(
/*! util */
0),j=void 0;j=R&&R.debuglog?R.debuglog("stream"):function(){};var x,k=c(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),O=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");U.inherits(S,p);var P=["error","close","destroy","pause","resume"];function N(Te,W){var se=W instanceof(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(Te=Te||{}).objectMode,se&&(this.objectMode=this.objectMode||!!Te.readableObjectMode);var ge=Te.highWaterMark,J=Te.readableHighWaterMark;this.highWaterMark=ge||0===ge?ge:se&&(J||0===J)?J:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Te.encoding&&(x||(x=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new x(Te.encoding),this.encoding=Te.encoding)}function S(Te){if(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof S))return new S(Te);this._readableState=new N(Te,this),this.readable=!0,Te&&("function"==typeof Te.read&&(this._read=Te.read),"function"==typeof Te.destroy&&(this._destroy=Te.destroy)),p.call(this)}function B(Te,W,se,ge,J){var Z,Q=Te._readableState;return null===W?(Q.reading=!1,function K(Te,W){if(!W.ended){if(W.decoder){var se=W.decoder.end();se&&se.length&&(W.buffer.push(se),W.length+=W.objectMode?1:se.length)}W.ended=!0,pe(Te)}}(Te,Q)):(J||(Z=function q(Te,W){var se;return!function A(Te){return f.isBuffer(Te)||Te instanceof g}(W)&&"string"!=typeof W&&void 0!==W&&!Te.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se}(Q,W)),Z?Te.emit("error",Z):Q.objectMode||W&&W.length>0?("string"!=typeof W&&!Q.objectMode&&Object.getPrototypeOf(W)!==f.prototype&&(W=function v(Te){return f.from(Te)}(W)),ge?Q.endEmitted?Te.emit("error",new Error("stream.unshift() after end event")):Y(Te,Q,W,!0):Q.ended?Te.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!se?(W=Q.decoder.write(W),Q.objectMode||0!==W.length?Y(Te,Q,W,!1):he(Te,Q)):Y(Te,Q,W,!1))):ge||(Q.reading=!1)),function le(Te){return!Te.ended&&(Te.needReadable||Te.length<Te.highWaterMark||0===Te.length)}(Q)}function Y(Te,W,se,ge){W.flowing&&0===W.length&&!W.sync?(Te.emit("data",se),Te.read(0)):(W.length+=W.objectMode?1:se.length,ge?W.buffer.unshift(se):W.buffer.push(se),W.needReadable&&pe(Te)),he(Te,W)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Te){this._readableState&&(this._readableState.destroyed=Te)}}),S.prototype.destroy=O.destroy,S.prototype._undestroy=O.undestroy,S.prototype._destroy=function(Te,W){this.push(null),W(Te)},S.prototype.push=function(Te,W){var ge,se=this._readableState;return se.objectMode?ge=!0:"string"==typeof Te&&((W=W||se.defaultEncoding)!==se.encoding&&(Te=f.from(Te,W),W=""),ge=!0),B(this,Te,W,!1,ge)},S.prototype.unshift=function(Te){return B(this,Te,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(Te){return x||(x=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new x(Te),this._readableState.encoding=Te,this};var Fe=8388608;function ae(Te,W){return Te<=0||0===W.length&&W.ended?0:W.objectMode?1:Te!=Te?W.flowing&&W.length?W.buffer.head.data.length:W.length:(Te>W.highWaterMark&&(W.highWaterMark=function $(Te){return Te>=Fe?Te=Fe:(Te--,Te|=Te>>>1,Te|=Te>>>2,Te|=Te>>>4,Te|=Te>>>8,Te|=Te>>>16,Te++),Te}(Te)),Te<=W.length?Te:W.ended?W.length:(W.needReadable=!0,0))}function pe(Te){var W=Te._readableState;W.needReadable=!1,W.emittedReadable||(j("emitReadable",W.flowing),W.emittedReadable=!0,W.sync?I.nextTick(oe,Te):oe(Te))}function oe(Te){j("emit readable"),Te.emit("readable"),me(Te)}function he(Te,W){W.readingMore||(W.readingMore=!0,I.nextTick(Se,Te,W))}function Se(Te,W){for(var se=W.length;!W.reading&&!W.flowing&&!W.ended&&W.length<W.highWaterMark&&(j("maybeReadMore read 0"),Te.read(0),se!==W.length);)se=W.length;W.readingMore=!1}function fe(Te){j("readable nexttick read 0"),Te.read(0)}function Me(Te,W){W.reading||(j("resume read 0"),Te.read(0)),W.resumeScheduled=!1,W.awaitDrain=0,Te.emit("resume"),me(Te),W.flowing&&!W.reading&&Te.read(0)}function me(Te){var W=Te._readableState;for(j("flow",W.flowing);W.flowing&&null!==Te.read(););}function Ue(Te,W){return 0===W.length?null:(W.objectMode?se=W.buffer.shift():!Te||Te>=W.length?(se=W.decoder?W.buffer.join(""):1===W.buffer.length?W.buffer.head.data:W.buffer.concat(W.length),W.buffer.clear()):se=function ke(Te,W,se){var ge;return Te<W.head.data.length?(ge=W.head.data.slice(0,Te),W.head.data=W.head.data.slice(Te)):ge=Te===W.head.data.length?W.shift():se?function Ie(Te,W){var se=W.head,ge=1,J=se.data;for(Te-=J.length;se=se.next;){var Q=se.data,Z=Te>Q.length?Q.length:Te;if(J+=Z===Q.length?Q:Q.slice(0,Te),0==(Te-=Z)){Z===Q.length?(++ge,W.head=se.next?se.next:W.tail=null):(W.head=se,se.data=Q.slice(Z));break}++ge}return W.length-=ge,J}(Te,W):function He(Te,W){var se=f.allocUnsafe(Te),ge=W.head,J=1;for(ge.data.copy(se),Te-=ge.data.length;ge=ge.next;){var Q=ge.data,Z=Te>Q.length?Q.length:Te;if(Q.copy(se,se.length-Te,0,Z),0==(Te-=Z)){Z===Q.length?(++J,W.head=ge.next?ge.next:W.tail=null):(W.head=ge,ge.data=Q.slice(Z));break}++J}return W.length-=J,se}(Te,W),ge}(Te,W.buffer,W.decoder),se);var se}function ot(Te){var W=Te._readableState;if(W.length>0)throw new Error('"endReadable()" called on non-empty stream');W.endEmitted||(W.ended=!0,I.nextTick(Je,W,Te))}function Je(Te,W){!Te.endEmitted&&0===Te.length&&(Te.endEmitted=!0,W.readable=!1,W.emit("end"))}function Ne(Te,W){for(var se=0,ge=Te.length;se<ge;se++)if(Te[se]===W)return se;return-1}S.prototype.read=function(Te){j("read",Te),Te=parseInt(Te,10);var W=this._readableState,se=Te;if(0!==Te&&(W.emittedReadable=!1),0===Te&&W.needReadable&&(W.length>=W.highWaterMark||W.ended))return j("read: emitReadable",W.length,W.ended),0===W.length&&W.ended?ot(this):pe(this),null;if(0===(Te=ae(Te,W))&&W.ended)return 0===W.length&&ot(this),null;var J,ge=W.needReadable;return j("need readable",ge),(0===W.length||W.length-Te<W.highWaterMark)&&j("length less than watermark",ge=!0),W.ended||W.reading?j("reading or ended",ge=!1):ge&&(j("do read"),W.reading=!0,W.sync=!0,0===W.length&&(W.needReadable=!0),this._read(W.highWaterMark),W.sync=!1,W.reading||(Te=ae(se,W))),null===(J=Te>0?Ue(Te,W):null)?(W.needReadable=!0,Te=0):W.length-=Te,0===W.length&&(W.ended||(W.needReadable=!0),se!==Te&&W.ended&&ot(this)),null!==J&&this.emit("data",J),J},S.prototype._read=function(Te){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(Te,W){var se=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=Te;break;case 1:ge.pipes=[ge.pipes,Te];break;default:ge.pipes.push(Te)}ge.pipesCount+=1,j("pipe count=%d opts=%j",ge.pipesCount,W);var Q=W&&!1===W.end||Te===y.stdout||Te===y.stderr?Ve:te;function Z(st,ct){j("onunpipe"),st===se&&ct&&!1===ct.hasUnpiped&&(ct.hasUnpiped=!0,function X(){j("cleanup"),Te.removeListener("close",xe),Te.removeListener("finish",Ke),Te.removeListener("drain",ne),Te.removeListener("error",de),Te.removeListener("unpipe",Z),se.removeListener("end",te),se.removeListener("end",Ve),se.removeListener("data",_e),ee=!0,ge.awaitDrain&&(!Te._writableState||Te._writableState.needDrain)&&ne()}())}function te(){j("onend"),Te.end()}ge.endEmitted?I.nextTick(Q):se.once("end",Q),Te.on("unpipe",Z);var ne=function Le(Te){return function(){var W=Te._readableState;j("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,0===W.awaitDrain&&D(Te,"data")&&(W.flowing=!0,me(Te))}}(se);Te.on("drain",ne);var ee=!1;var ue=!1;function _e(st){j("ondata"),ue=!1,!1===Te.write(st)&&!ue&&((1===ge.pipesCount&&ge.pipes===Te||ge.pipesCount>1&&-1!==Ne(ge.pipes,Te))&&!ee&&(j("false write response, pause",se._readableState.awaitDrain),se._readableState.awaitDrain++,ue=!0),se.pause())}function de(st){j("onerror",st),Ve(),Te.removeListener("error",de),0===D(Te,"error")&&Te.emit("error",st)}function xe(){Te.removeListener("finish",Ke),Ve()}function Ke(){j("onfinish"),Te.removeListener("close",xe),Ve()}function Ve(){j("unpipe"),se.unpipe(Te)}return se.on("data",_e),function T(Te,W,se){if("function"==typeof Te.prependListener)return Te.prependListener(W,se);Te._events&&Te._events[W]?E(Te._events[W])?Te._events[W].unshift(se):Te._events[W]=[se,Te._events[W]]:Te.on(W,se)}(Te,"error",de),Te.once("close",xe),Te.once("finish",Ke),Te.emit("pipe",se),ge.flowing||(j("pipe resume"),se.resume()),Te},S.prototype.unpipe=function(Te){var W=this._readableState,se={hasUnpiped:!1};if(0===W.pipesCount)return this;if(1===W.pipesCount)return Te&&Te!==W.pipes||(Te||(Te=W.pipes),W.pipes=null,W.pipesCount=0,W.flowing=!1,Te&&Te.emit("unpipe",this,se)),this;if(!Te){var ge=W.pipes,J=W.pipesCount;W.pipes=null,W.pipesCount=0,W.flowing=!1;for(var Q=0;Q<J;Q++)ge[Q].emit("unpipe",this,se);return this}var Z=Ne(W.pipes,Te);return-1===Z||(W.pipes.splice(Z,1),W.pipesCount-=1,1===W.pipesCount&&(W.pipes=W.pipes[0]),Te.emit("unpipe",this,se)),this},S.prototype.addListener=S.prototype.on=function(Te,W){var se=p.prototype.on.call(this,Te,W);if("data"===Te)!1!==this._readableState.flowing&&this.resume();else if("readable"===Te){var ge=this._readableState;!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.emittedReadable=!1,ge.reading?ge.length&&pe(this):I.nextTick(fe,this))}return se},S.prototype.resume=function(){var Te=this._readableState;return Te.flowing||(j("resume"),Te.flowing=!0,function Re(Te,W){W.resumeScheduled||(W.resumeScheduled=!0,I.nextTick(Me,Te,W))}(this,Te)),this},S.prototype.pause=function(){return j("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(j("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(Te){var W=this,se=this._readableState,ge=!1;for(var J in Te.on("end",function(){if(j("wrapped end"),se.decoder&&!se.ended){var Z=se.decoder.end();Z&&Z.length&&W.push(Z)}W.push(null)}),Te.on("data",function(Z){j("wrapped data"),se.decoder&&(Z=se.decoder.write(Z)),se.objectMode&&null==Z||!(se.objectMode||Z&&Z.length)||W.push(Z)||(ge=!0,Te.pause())}),Te)void 0===this[J]&&"function"==typeof Te[J]&&(this[J]=function(Z){return function(){return Te[Z].apply(Te,arguments)}}(J));for(var Q=0;Q<P.length;Q++)Te.on(P[Q],this.emit.bind(this,P[Q]));return this._read=function(Z){j("wrapped _read",Z),ge&&(ge=!1,Te.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=Ue}).call(this,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(et,C,c){"use strict";et.exports=E;var t=c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),y=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function I(D,p){var f=this._transformState;f.transforming=!1;var g=f.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,null!=p&&this.push(p),g(D);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function E(D){if(!(this instanceof E))return new E(D);t.call(this,D),this._transformState={afterTransform:I.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",F)}function F(){var D=this;"function"==typeof this._flush?this._flush(function(p,f){L(D,p,f)}):L(this,null,null)}function L(D,p,f){if(p)return D.emit("error",p);if(null!=f&&D.push(f),D._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(D._transformState.transforming)throw new Error("Calling transform done when still transforming");return D.push(null)}y.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),y.inherits(E,t),E.prototype.push=function(D,p){return this._transformState.needTransform=!1,t.prototype.push.call(this,D,p)},E.prototype._transform=function(D,p,f){throw new Error("_transform() is not implemented")},E.prototype._write=function(D,p,f){var g=this._transformState;if(g.writecb=f,g.writechunk=D,g.writeencoding=p,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},E.prototype._read=function(D){var p=this._transformState;null!==p.writechunk&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},E.prototype._destroy=function(D,p){var f=this;t.prototype._destroy.call(this,D,function(g){p(g),f.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(et,C,c){"use strict";(function(t,y,I){var E=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function L(Me){var me=this;this.next=null,this.entry=null,this.finish=function(){!function Re(Me,me,Ue){var ke=Me.entry;for(Me.entry=null;ke;){var Ie=ke.callback;me.pendingcb--,Ie(Ue),ke=ke.next}me.corkedRequestsFree?me.corkedRequestsFree.next=Me:me.corkedRequestsFree=Me}(me,Me)}}et.exports=T;var p,D=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?y:E.nextTick;T.WritableState=x;var f=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));f.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var g={deprecate:c(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},v=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),A=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,U=I.Uint8Array||function(){};var P,k=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function O(){}function x(Me,me){p=p||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var Ue=me instanceof p;this.objectMode=!!(Me=Me||{}).objectMode,Ue&&(this.objectMode=this.objectMode||!!Me.writableObjectMode);var ke=Me.highWaterMark,Ie=Me.writableHighWaterMark;this.highWaterMark=ke||0===ke?ke:Ue&&(Ie||0===Ie)?Ie:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Me.decodeStrings),this.defaultEncoding=Me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Je){!function $(Me,me){var Ue=Me._writableState,ke=Ue.sync,Ie=Ue.writecb;if(function Fe(Me){Me.writing=!1,Me.writecb=null,Me.length-=Me.writelen,Me.writelen=0}(Ue),me)!function le(Me,me,Ue,ke,Ie){--me.pendingcb,Ue?(E.nextTick(Ie,ke),E.nextTick(Le,Me,me),Me._writableState.errorEmitted=!0,Me.emit("error",ke)):(Ie(ke),Me._writableState.errorEmitted=!0,Me.emit("error",ke),Le(Me,me))}(Me,Ue,ke,me,Ie);else{var He=oe(Ue);!He&&!Ue.corked&&!Ue.bufferProcessing&&Ue.bufferedRequest&&pe(Me,Ue),ke?D(ae,Me,Ue,He,Ie):ae(Me,Ue,He,Ie)}}(me,Je)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}function T(Me){if(p=p||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(P.call(T,this)||this instanceof p))return new T(Me);this._writableState=new x(Me,this),this.writable=!0,Me&&("function"==typeof Me.write&&(this._write=Me.write),"function"==typeof Me.writev&&(this._writev=Me.writev),"function"==typeof Me.destroy&&(this._destroy=Me.destroy),"function"==typeof Me.final&&(this._final=Me.final)),v.call(this)}function Y(Me,me,Ue,ke,Ie,He){if(!Ue){var ot=function B(Me,me,Ue){return!Me.objectMode&&!1!==Me.decodeStrings&&"string"==typeof me&&(me=A.from(me,Ue)),me}(me,ke,Ie);ke!==ot&&(Ue=!0,Ie="buffer",ke=ot)}var Je=me.objectMode?1:ke.length;me.length+=Je;var Ne=me.length<me.highWaterMark;if(Ne||(me.needDrain=!0),me.writing||me.corked){var Te=me.lastBufferedRequest;me.lastBufferedRequest={chunk:ke,encoding:Ie,isBuf:Ue,callback:He,next:null},Te?Te.next=me.lastBufferedRequest:me.bufferedRequest=me.lastBufferedRequest,me.bufferedRequestCount+=1}else q(Me,me,!1,Je,ke,Ie,He);return Ne}function q(Me,me,Ue,ke,Ie,He,ot){me.writelen=ke,me.writecb=ot,me.writing=!0,me.sync=!0,Ue?Me._writev(Ie,me.onwrite):Me._write(Ie,He,me.onwrite),me.sync=!1}function ae(Me,me,Ue,ke){Ue||function K(Me,me){0===me.length&&me.needDrain&&(me.needDrain=!1,Me.emit("drain"))}(Me,me),me.pendingcb--,ke(),Le(Me,me)}function pe(Me,me){me.bufferProcessing=!0;var Ue=me.bufferedRequest;if(Me._writev&&Ue&&Ue.next){var Ie=new Array(me.bufferedRequestCount),He=me.corkedRequestsFree;He.entry=Ue;for(var ot=0,Je=!0;Ue;)Ie[ot]=Ue,Ue.isBuf||(Je=!1),Ue=Ue.next,ot+=1;Ie.allBuffers=Je,q(Me,me,!0,me.length,Ie,"",He.finish),me.pendingcb++,me.lastBufferedRequest=null,He.next?(me.corkedRequestsFree=He.next,He.next=null):me.corkedRequestsFree=new L(me),me.bufferedRequestCount=0}else{for(;Ue;){var Ne=Ue.chunk;if(q(Me,me,!1,me.objectMode?1:Ne.length,Ne,Ue.encoding,Ue.callback),Ue=Ue.next,me.bufferedRequestCount--,me.writing)break}null===Ue&&(me.lastBufferedRequest=null)}me.bufferedRequest=Ue,me.bufferProcessing=!1}function oe(Me){return Me.ending&&0===Me.length&&null===Me.bufferedRequest&&!Me.finished&&!Me.writing}function he(Me,me){Me._final(function(Ue){me.pendingcb--,Ue&&Me.emit("error",Ue),me.prefinished=!0,Me.emit("prefinish"),Le(Me,me)})}function Le(Me,me){var Ue=oe(me);return Ue&&(function Se(Me,me){!me.prefinished&&!me.finalCalled&&("function"==typeof Me._final?(me.pendingcb++,me.finalCalled=!0,E.nextTick(he,Me,me)):(me.prefinished=!0,Me.emit("prefinish")))}(Me,me),0===me.pendingcb&&(me.finished=!0,Me.emit("finish"))),Ue}f.inherits(T,v),x.prototype.getBuffer=function(){for(var me=this.bufferedRequest,Ue=[];me;)Ue.push(me),me=me.next;return Ue},function(){try{Object.defineProperty(x.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(Me){return!!P.call(this,Me)||this===T&&Me&&Me._writableState instanceof x}})):P=function(Me){return Me instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(Me,me,Ue){var ke=this._writableState,Ie=!1,He=!ke.objectMode&&function j(Me){return A.isBuffer(Me)||Me instanceof U}(Me);return He&&!A.isBuffer(Me)&&(Me=function R(Me){return A.from(Me)}(Me)),"function"==typeof me&&(Ue=me,me=null),He?me="buffer":me||(me=ke.defaultEncoding),"function"!=typeof Ue&&(Ue=O),ke.ended?function N(Me,me){var Ue=new Error("write after end");Me.emit("error",Ue),E.nextTick(me,Ue)}(this,Ue):(He||function S(Me,me,Ue,ke){var Ie=!0,He=!1;return null===Ue?He=new TypeError("May not write null values to stream"):"string"!=typeof Ue&&void 0!==Ue&&!me.objectMode&&(He=new TypeError("Invalid non-string/buffer chunk")),He&&(Me.emit("error",He),E.nextTick(ke,He),Ie=!1),Ie}(this,ke,Me,Ue))&&(ke.pendingcb++,Ie=Y(this,ke,He,Me,me,Ue)),Ie},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var Me=this._writableState;Me.corked&&(Me.corked--,!Me.writing&&!Me.corked&&!Me.finished&&!Me.bufferProcessing&&Me.bufferedRequest&&pe(this,Me))},T.prototype.setDefaultEncoding=function(me){if("string"==typeof me&&(me=me.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((me+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+me);return this._writableState.defaultEncoding=me,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(Me,me,Ue){Ue(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(Me,me,Ue){var ke=this._writableState;"function"==typeof Me?(Ue=Me,Me=null,me=null):"function"==typeof me&&(Ue=me,me=null),null!=Me&&this.write(Me,me),ke.corked&&(ke.corked=1,this.uncork()),!ke.ending&&!ke.finished&&function fe(Me,me,Ue){me.ending=!0,Le(Me,me),Ue&&(me.finished?E.nextTick(Ue):Me.once("finish",Ue)),me.ended=!0,Me.writable=!1}(this,ke,Ue)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Me){this._writableState&&(this._writableState.destroyed=Me)}}),T.prototype.destroy=k.destroy,T.prototype._undestroy=k.undestroy,T.prototype._destroy=function(Me,me){this.end(),me(Me)}}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(et,C,c){"use strict";var y=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,I=c(
/*! util */
1);function E(F,L,D){F.copy(L,D)}et.exports=function(){function F(){(function t(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")})(this,F),this.head=null,this.tail=null,this.length=0}return F.prototype.push=function(D){var p={data:D,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},F.prototype.unshift=function(D){var p={data:D,next:this.head};0===this.length&&(this.tail=p),this.head=p,++this.length},F.prototype.shift=function(){if(0!==this.length){var D=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,D}},F.prototype.clear=function(){this.head=this.tail=null,this.length=0},F.prototype.join=function(D){if(0===this.length)return"";for(var p=this.head,f=""+p.data;p=p.next;)f+=D+p.data;return f},F.prototype.concat=function(D){if(0===this.length)return y.alloc(0);if(1===this.length)return this.head.data;for(var p=y.allocUnsafe(D>>>0),f=this.head,g=0;f;)E(f.data,p,g),g+=f.data.length,f=f.next;return p},F}(),I&&I.inspect&&I.inspect.custom&&(et.exports.prototype[I.inspect.custom]=function(){var F=I.inspect({length:this.length});return this.constructor.name+" "+F})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(et,C,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function E(F,L){F.emit("error",L)}et.exports={destroy:function y(F,L){var D=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(L?L(F):F&&(!this._writableState||!this._writableState.errorEmitted)&&t.nextTick(E,this,F),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(F||null,function(g){!L&&g?(t.nextTick(E,D,g),D._writableState&&(D._writableState.errorEmitted=!0)):L&&L(g)}),this)},undestroy:function I(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(et,C,c){et.exports=c(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(et,C,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),y=t.Buffer;function I(F,L){for(var D in F)L[D]=F[D]}function E(F,L,D){return y(F,L,D)}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?et.exports=t:(I(t,C),C.Buffer=E),I(y,E),E.from=function(F,L,D){if("number"==typeof F)throw new TypeError("Argument must not be a number");return y(F,L,D)},E.alloc=function(F,L,D){if("number"!=typeof F)throw new TypeError("Argument must be a number");var p=y(F);return void 0!==L?"string"==typeof D?p.fill(L,D):p.fill(L):p.fill(0),p},E.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return y(F)},E.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(et,C,c){et.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(et,C,c){(C=et.exports=c(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=C,C.Readable=C,C.Writable=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),C.Duplex=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),C.Transform=c(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),C.PassThrough=c(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(et,C,c){et.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(et,C,c){et.exports=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(et,C,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),y=t.Buffer;function I(F,L){for(var D in F)L[D]=F[D]}function E(F,L,D){return y(F,L,D)}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?et.exports=t:(I(t,C),C.Buffer=E),E.prototype=Object.create(y.prototype),I(y,E),E.from=function(F,L,D){if("number"==typeof F)throw new TypeError("Argument must not be a number");return y(F,L,D)},E.alloc=function(F,L,D){if("number"!=typeof F)throw new TypeError("Argument must be a number");var p=y(F);return void 0!==L?"string"==typeof D?p.fill(L,D):p.fill(L):p.fill(0),p},E.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return y(F)},E.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(et,C,c){(function(t){!function(y){y.parser=function(W,se){return new E(W,se)},y.SAXParser=E,y.SAXStream=v,y.createStream=function g(W,se){return new v(W,se)},y.MAX_BUFFER_LENGTH=65536;var p,I=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function E(W,se){if(!(this instanceof E))return new E(W,se);var ge=this;(function L(W){for(var se=0,ge=I.length;se<ge;se++)W[I[se]]=""})(ge),ge.q=ge.c="",ge.bufferCheckPosition=y.MAX_BUFFER_LENGTH,ge.opt=se||{},ge.opt.lowercase=ge.opt.lowercase||ge.opt.lowercasetags,ge.looseCase=ge.opt.lowercase?"toLowerCase":"toUpperCase",ge.tags=[],ge.closed=ge.closedRoot=ge.sawRoot=!1,ge.tag=ge.error=null,ge.strict=!!W,ge.noscript=!(!W&&!ge.opt.noscript),ge.state=K.BEGIN,ge.strictEntities=ge.opt.strictEntities,ge.ENTITIES=Object.create(ge.strictEntities?y.XML_ENTITIES:y.ENTITIES),ge.attribList=[],ge.opt.xmlns&&(ge.ns=Object.create(N)),ge.trackPosition=!1!==ge.opt.position,ge.trackPosition&&(ge.position=ge.line=ge.column=0),oe(ge,"onready")}y.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(W){function se(){}return se.prototype=W,new se}),Object.keys||(Object.keys=function(W){var se=[];for(var ge in W)W.hasOwnProperty(ge)&&se.push(ge);return se}),E.prototype={end:function(){Re(this)},write:function Te(W){var se=this;if(this.error)throw this.error;if(se.closed)return fe(se,"Cannot write after close. Assign an onready handler.");if(null===W)return Re(se);"object"==typeof W&&(W=W.toString());for(var ge=0,J="";J=Ne(W,ge++),se.c=J,J;)switch(se.trackPosition&&(se.position++,"\n"===J?(se.line++,se.column=0):se.column++),se.state){case K.BEGIN:if(se.state=K.BEGIN_WHITESPACE,"\ufeff"===J)continue;Je(se,J);continue;case K.BEGIN_WHITESPACE:Je(se,J);continue;case K.TEXT:if(se.sawRoot&&!se.closedRoot){for(var Q=ge-1;J&&"<"!==J&&"&"!==J;)(J=Ne(W,ge++))&&se.trackPosition&&(se.position++,"\n"===J?(se.line++,se.column=0):se.column++);se.textNode+=W.substring(Q,ge-1)}"<"!==J||se.sawRoot&&se.closedRoot&&!se.strict?(ae(A,J)&&(!se.sawRoot||se.closedRoot)&&Me(se,"Text data outside of root node."),"&"===J?se.state=K.TEXT_ENTITY:se.textNode+=J):(se.state=K.OPEN_WAKA,se.startTagPosition=se.position);continue;case K.SCRIPT:"<"===J?se.state=K.SCRIPT_ENDING:se.script+=J;continue;case K.SCRIPT_ENDING:"/"===J?se.state=K.CLOSE_TAG:(se.script+="<"+J,se.state=K.SCRIPT);continue;case K.OPEN_WAKA:"!"===J?(se.state=K.SGML_DECL,se.sgmlDecl=""):$(A,J)||($(S,J)?(se.state=K.OPEN_TAG,se.tagName=J):"/"===J?(se.state=K.CLOSE_TAG,se.tagName=""):"?"===J?(se.state=K.PROC_INST,se.procInstName=se.procInstBody=""):(Me(se,"Unencoded <"),se.startTagPosition+1<se.position&&(J=new Array(se.position-se.startTagPosition).join(" ")+J),se.textNode+="<"+J,se.state=K.TEXT));continue;case K.SGML_DECL:(se.sgmlDecl+J).toUpperCase()===O?(he(se,"onopencdata"),se.state=K.CDATA,se.sgmlDecl="",se.cdata=""):se.sgmlDecl+J==="--"?(se.state=K.COMMENT,se.comment="",se.sgmlDecl=""):(se.sgmlDecl+J).toUpperCase()===x?(se.state=K.DOCTYPE,(se.doctype||se.sawRoot)&&Me(se,"Inappropriately located doctype declaration"),se.doctype="",se.sgmlDecl=""):">"===J?(he(se,"onsgmldeclaration",se.sgmlDecl),se.sgmlDecl="",se.state=K.TEXT):($(j,J)&&(se.state=K.SGML_DECL_QUOTED),se.sgmlDecl+=J);continue;case K.SGML_DECL_QUOTED:J===se.q&&(se.state=K.SGML_DECL,se.q=""),se.sgmlDecl+=J;continue;case K.DOCTYPE:">"===J?(se.state=K.TEXT,he(se,"ondoctype",se.doctype),se.doctype=!0):(se.doctype+=J,"["===J?se.state=K.DOCTYPE_DTD:$(j,J)&&(se.state=K.DOCTYPE_QUOTED,se.q=J));continue;case K.DOCTYPE_QUOTED:se.doctype+=J,J===se.q&&(se.q="",se.state=K.DOCTYPE);continue;case K.DOCTYPE_DTD:se.doctype+=J,"]"===J?se.state=K.DOCTYPE:$(j,J)&&(se.state=K.DOCTYPE_DTD_QUOTED,se.q=J);continue;case K.DOCTYPE_DTD_QUOTED:se.doctype+=J,J===se.q&&(se.state=K.DOCTYPE_DTD,se.q="");continue;case K.COMMENT:"-"===J?se.state=K.COMMENT_ENDING:se.comment+=J;continue;case K.COMMENT_ENDING:"-"===J?(se.state=K.COMMENT_ENDED,se.comment=Le(se.opt,se.comment),se.comment&&he(se,"oncomment",se.comment),se.comment=""):(se.comment+="-"+J,se.state=K.COMMENT);continue;case K.COMMENT_ENDED:">"!==J?(Me(se,"Malformed comment"),se.comment+="--"+J,se.state=K.COMMENT):se.state=K.TEXT;continue;case K.CDATA:"]"===J?se.state=K.CDATA_ENDING:se.cdata+=J;continue;case K.CDATA_ENDING:"]"===J?se.state=K.CDATA_ENDING_2:(se.cdata+="]"+J,se.state=K.CDATA);continue;case K.CDATA_ENDING_2:">"===J?(se.cdata&&he(se,"oncdata",se.cdata),he(se,"onclosecdata"),se.cdata="",se.state=K.TEXT):"]"===J?se.cdata+="]":(se.cdata+="]]"+J,se.state=K.CDATA);continue;case K.PROC_INST:"?"===J?se.state=K.PROC_INST_ENDING:$(A,J)?se.state=K.PROC_INST_BODY:se.procInstName+=J;continue;case K.PROC_INST_BODY:if(!se.procInstBody&&$(A,J))continue;"?"===J?se.state=K.PROC_INST_ENDING:se.procInstBody+=J;continue;case K.PROC_INST_ENDING:">"===J?(he(se,"onprocessinginstruction",{name:se.procInstName,body:se.procInstBody}),se.procInstName=se.procInstBody="",se.state=K.TEXT):(se.procInstBody+="?"+J,se.state=K.PROC_INST_BODY);continue;case K.OPEN_TAG:$(B,J)?se.tagName+=J:(me(se),">"===J?Ie(se):"/"===J?se.state=K.OPEN_TAG_SLASH:(ae(A,J)&&Me(se,"Invalid character in tag name"),se.state=K.ATTRIB));continue;case K.OPEN_TAG_SLASH:">"===J?(Ie(se,!0),He(se)):(Me(se,"Forward-slash in opening tag not followed by >"),se.state=K.ATTRIB);continue;case K.ATTRIB:if($(A,J))continue;">"===J?Ie(se):"/"===J?se.state=K.OPEN_TAG_SLASH:$(S,J)?(se.attribName=J,se.attribValue="",se.state=K.ATTRIB_NAME):Me(se,"Invalid attribute name");continue;case K.ATTRIB_NAME:"="===J?se.state=K.ATTRIB_VALUE:">"===J?(Me(se,"Attribute without value"),se.attribValue=se.attribName,ke(se),Ie(se)):$(A,J)?se.state=K.ATTRIB_NAME_SAW_WHITE:$(B,J)?se.attribName+=J:Me(se,"Invalid attribute name");continue;case K.ATTRIB_NAME_SAW_WHITE:if("="===J)se.state=K.ATTRIB_VALUE;else{if($(A,J))continue;Me(se,"Attribute without value"),se.tag.attributes[se.attribName]="",se.attribValue="",he(se,"onattribute",{name:se.attribName,value:""}),se.attribName="",">"===J?Ie(se):$(S,J)?(se.attribName=J,se.state=K.ATTRIB_NAME):(Me(se,"Invalid attribute name"),se.state=K.ATTRIB)}continue;case K.ATTRIB_VALUE:if($(A,J))continue;$(j,J)?(se.q=J,se.state=K.ATTRIB_VALUE_QUOTED):(Me(se,"Unquoted attribute value"),se.state=K.ATTRIB_VALUE_UNQUOTED,se.attribValue=J);continue;case K.ATTRIB_VALUE_QUOTED:if(J!==se.q){"&"===J?se.state=K.ATTRIB_VALUE_ENTITY_Q:se.attribValue+=J;continue}ke(se),se.q="",se.state=K.ATTRIB_VALUE_CLOSED;continue;case K.ATTRIB_VALUE_CLOSED:$(A,J)?se.state=K.ATTRIB:">"===J?Ie(se):"/"===J?se.state=K.OPEN_TAG_SLASH:$(S,J)?(Me(se,"No whitespace between attributes"),se.attribName=J,se.attribValue="",se.state=K.ATTRIB_NAME):Me(se,"Invalid attribute name");continue;case K.ATTRIB_VALUE_UNQUOTED:if(ae(k,J)){"&"===J?se.state=K.ATTRIB_VALUE_ENTITY_U:se.attribValue+=J;continue}ke(se),">"===J?Ie(se):se.state=K.ATTRIB;continue;case K.CLOSE_TAG:if(se.tagName)">"===J?He(se):$(B,J)?se.tagName+=J:se.script?(se.script+="</"+se.tagName,se.tagName="",se.state=K.SCRIPT):(ae(A,J)&&Me(se,"Invalid tagname in closing tag"),se.state=K.CLOSE_TAG_SAW_WHITE);else{if($(A,J))continue;ae(S,J)?se.script?(se.script+="</"+J,se.state=K.SCRIPT):Me(se,"Invalid tagname in closing tag."):se.tagName=J}continue;case K.CLOSE_TAG_SAW_WHITE:if($(A,J))continue;">"===J?He(se):Me(se,"Invalid characters in closing tag");continue;case K.TEXT_ENTITY:case K.ATTRIB_VALUE_ENTITY_Q:case K.ATTRIB_VALUE_ENTITY_U:var te,ne;switch(se.state){case K.TEXT_ENTITY:te=K.TEXT,ne="textNode";break;case K.ATTRIB_VALUE_ENTITY_Q:te=K.ATTRIB_VALUE_QUOTED,ne="attribValue";break;case K.ATTRIB_VALUE_ENTITY_U:te=K.ATTRIB_VALUE_UNQUOTED,ne="attribValue"}";"===J?(se[ne]+=ot(se),se.entity="",se.state=te):$(se.entity.length?q:Y,J)?se.entity+=J:(Me(se,"Invalid character in entity name"),se[ne]+="&"+se.entity+J,se.entity="",se.state=te);continue;default:throw new Error(se,"Unknown state: "+se.state)}return se.position>=se.bufferCheckPosition&&function F(W){for(var se=Math.max(y.MAX_BUFFER_LENGTH,10),ge=0,J=0,Q=I.length;J<Q;J++){var Z=W[I[J]].length;if(Z>se)switch(I[J]){case"textNode":Se(W);break;case"cdata":he(W,"oncdata",W.cdata),W.cdata="";break;case"script":he(W,"onscript",W.script),W.script="";break;default:fe(W,"Max buffer length exceeded: "+I[J])}ge=Math.max(ge,Z)}W.bufferCheckPosition=y.MAX_BUFFER_LENGTH-ge+W.position}(se),se},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function D(W){Se(W),""!==W.cdata&&(he(W,"oncdata",W.cdata),W.cdata=""),""!==W.script&&(he(W,"onscript",W.script),W.script="")}(this)}};try{p=c(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{p=function(){}}var f=y.EVENTS.filter(function(W){return"error"!==W&&"end"!==W});function v(W,se){if(!(this instanceof v))return new v(W,se);p.apply(this),this._parser=new E(W,se),this.writable=!0,this.readable=!0;var ge=this;this._parser.onend=function(){ge.emit("end")},this._parser.onerror=function(J){ge.emit("error",J),ge._parser.error=null},this._decoder=null,f.forEach(function(J){Object.defineProperty(ge,"on"+J,{get:function(){return ge._parser["on"+J]},set:function(Q){if(!Q)return ge.removeAllListeners(J),ge._parser["on"+J]=Q,Q;ge.on(J,Q)},enumerable:!0,configurable:!1})})}(v.prototype=Object.create(p.prototype,{constructor:{value:v}})).write=function(W){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(W)){if(!this._decoder){var se=c(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new se("utf8")}W=this._decoder.write(W)}return this._parser.write(W.toString()),this.emit("data",W),!0},v.prototype.end=function(W){return W&&W.length&&this.write(W),this._parser.end(),!0},v.prototype.on=function(W,se){var ge=this;return!ge._parser["on"+W]&&-1!==f.indexOf(W)&&(ge._parser["on"+W]=function(){var J=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);J.splice(0,0,W),ge.emit.apply(ge,J)}),p.prototype.on.call(ge,W,se)};var A="\r\n\t ",U="0124356789",R="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",j="'\"",k=A+">",O="[CDATA[",x="DOCTYPE",P="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",N={xml:P,xmlns:T};A=le(A),U=le(U),R=le(R);var S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function le(W){return W.split("").reduce(function(se,ge){return se[ge]=!0,se},{})}function $(W,se){return function Fe(W){return"[object RegExp]"===Object.prototype.toString.call(W)}(W)?!!se.match(W):W[se]}function ae(W,se){return!$(W,se)}j=le(j),k=le(k);var W,se,ge,K=0;for(var pe in y.STATE={BEGIN:K++,BEGIN_WHITESPACE:K++,TEXT:K++,TEXT_ENTITY:K++,OPEN_WAKA:K++,SGML_DECL:K++,SGML_DECL_QUOTED:K++,DOCTYPE:K++,DOCTYPE_QUOTED:K++,DOCTYPE_DTD:K++,DOCTYPE_DTD_QUOTED:K++,COMMENT_STARTING:K++,COMMENT:K++,COMMENT_ENDING:K++,COMMENT_ENDED:K++,CDATA:K++,CDATA_ENDING:K++,CDATA_ENDING_2:K++,PROC_INST:K++,PROC_INST_BODY:K++,PROC_INST_ENDING:K++,OPEN_TAG:K++,OPEN_TAG_SLASH:K++,ATTRIB:K++,ATTRIB_NAME:K++,ATTRIB_NAME_SAW_WHITE:K++,ATTRIB_VALUE:K++,ATTRIB_VALUE_QUOTED:K++,ATTRIB_VALUE_CLOSED:K++,ATTRIB_VALUE_UNQUOTED:K++,ATTRIB_VALUE_ENTITY_Q:K++,ATTRIB_VALUE_ENTITY_U:K++,CLOSE_TAG:K++,CLOSE_TAG_SAW_WHITE:K++,SCRIPT:K++,SCRIPT_ENDING:K++},y.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(y.ENTITIES).forEach(function(W){var se=y.ENTITIES[W],ge="number"==typeof se?String.fromCharCode(se):se;y.ENTITIES[W]=ge}),y.STATE)y.STATE[y.STATE[pe]]=pe;function oe(W,se,ge){W[se]&&W[se](ge)}function he(W,se,ge){W.textNode&&Se(W),oe(W,se,ge)}function Se(W){W.textNode=Le(W.opt,W.textNode),W.textNode&&oe(W,"ontext",W.textNode),W.textNode=""}function Le(W,se){return W.trim&&(se=se.trim()),W.normalize&&(se=se.replace(/\s+/g," ")),se}function fe(W,se){return Se(W),W.trackPosition&&(se+="\nLine: "+W.line+"\nColumn: "+W.column+"\nChar: "+W.c),se=new Error(se),W.error=se,oe(W,"onerror",se),W}function Re(W){return W.sawRoot&&!W.closedRoot&&Me(W,"Unclosed root tag"),W.state!==K.BEGIN&&W.state!==K.BEGIN_WHITESPACE&&W.state!==K.TEXT&&fe(W,"Unexpected end"),Se(W),W.c="",W.closed=!0,oe(W,"onend"),E.call(W,W.strict,W.opt),W}function Me(W,se){if("object"!=typeof W||!(W instanceof E))throw new Error("bad call to strictFail");W.strict&&fe(W,se)}function me(W){W.strict||(W.tagName=W.tagName[W.looseCase]());var se=W.tags[W.tags.length-1]||W,ge=W.tag={name:W.tagName,attributes:{}};W.opt.xmlns&&(ge.ns=se.ns),W.attribList.length=0,he(W,"onopentagstart",ge)}function Ue(W,se){var J=W.indexOf(":")<0?["",W]:W.split(":"),Q=J[0],Z=J[1];return se&&"xmlns"===W&&(Q="xmlns",Z=""),{prefix:Q,local:Z}}function ke(W){if(W.strict||(W.attribName=W.attribName[W.looseCase]()),-1!==W.attribList.indexOf(W.attribName)||W.tag.attributes.hasOwnProperty(W.attribName))W.attribName=W.attribValue="";else{if(W.opt.xmlns){var se=Ue(W.attribName,!0),J=se.local;if("xmlns"===se.prefix)if("xml"===J&&W.attribValue!==P)Me(W,"xml: prefix must be bound to "+P+"\nActual: "+W.attribValue);else if("xmlns"===J&&W.attribValue!==T)Me(W,"xmlns: prefix must be bound to "+T+"\nActual: "+W.attribValue);else{var Q=W.tag,Z=W.tags[W.tags.length-1]||W;Q.ns===Z.ns&&(Q.ns=Object.create(Z.ns)),Q.ns[J]=W.attribValue}W.attribList.push([W.attribName,W.attribValue])}else W.tag.attributes[W.attribName]=W.attribValue,he(W,"onattribute",{name:W.attribName,value:W.attribValue});W.attribName=W.attribValue=""}}function Ie(W,se){if(W.opt.xmlns){var ge=W.tag,J=Ue(W.tagName);ge.prefix=J.prefix,ge.local=J.local,ge.uri=ge.ns[J.prefix]||"",ge.prefix&&!ge.uri&&(Me(W,"Unbound namespace prefix: "+JSON.stringify(W.tagName)),ge.uri=J.prefix),ge.ns&&(W.tags[W.tags.length-1]||W).ns!==ge.ns&&Object.keys(ge.ns).forEach(function(Ve){he(W,"onopennamespace",{prefix:Ve,uri:ge.ns[Ve]})});for(var Z=0,te=W.attribList.length;Z<te;Z++){var ne=W.attribList[Z],ee=ne[0],X=ne[1],ue=Ue(ee,!0),_e=ue.prefix,xe=""===_e?"":ge.ns[_e]||"",Ke={name:ee,value:X,prefix:_e,local:ue.local,uri:xe};_e&&"xmlns"!==_e&&!xe&&(Me(W,"Unbound namespace prefix: "+JSON.stringify(_e)),Ke.uri=_e),W.tag.attributes[ee]=Ke,he(W,"onattribute",Ke)}W.attribList.length=0}W.tag.isSelfClosing=!!se,W.sawRoot=!0,W.tags.push(W.tag),he(W,"onopentag",W.tag),se||(W.state=W.noscript||"script"!==W.tagName.toLowerCase()?K.TEXT:K.SCRIPT,W.tag=null,W.tagName=""),W.attribName=W.attribValue="",W.attribList.length=0}function He(W){if(!W.tagName)return Me(W,"Weird empty close tag."),W.textNode+="</>",void(W.state=K.TEXT);if(W.script){if("script"!==W.tagName)return W.script+="</"+W.tagName+">",W.tagName="",void(W.state=K.SCRIPT);he(W,"onscript",W.script),W.script=""}var se=W.tags.length,ge=W.tagName;W.strict||(ge=ge[W.looseCase]());for(var J=ge;se--&&W.tags[se].name!==J;)Me(W,"Unexpected close tag");if(se<0)return Me(W,"Unmatched closing tag: "+W.tagName),W.textNode+="</"+W.tagName+">",void(W.state=K.TEXT);W.tagName=ge;for(var Z=W.tags.length;Z-- >se;){var te=W.tag=W.tags.pop();W.tagName=W.tag.name,he(W,"onclosetag",W.tagName);var ne={};for(var ee in te.ns)ne[ee]=te.ns[ee];W.opt.xmlns&&te.ns!==(W.tags[W.tags.length-1]||W).ns&&Object.keys(te.ns).forEach(function(ue){he(W,"onclosenamespace",{prefix:ue,uri:te.ns[ue]})})}0===se&&(W.closedRoot=!0),W.tagName=W.attribValue=W.attribName="",W.attribList.length=0,W.state=K.TEXT}function ot(W){var J,se=W.entity,ge=se.toLowerCase(),Q="";return W.ENTITIES[se]?W.ENTITIES[se]:W.ENTITIES[ge]?W.ENTITIES[ge]:("#"===(se=ge).charAt(0)&&("x"===se.charAt(1)?(se=se.slice(2),Q=(J=parseInt(se,16)).toString(16)):(se=se.slice(1),Q=(J=parseInt(se,10)).toString(10))),se=se.replace(/^0+/,""),Q.toLowerCase()!==se?(Me(W,"Invalid character entity"),"&"+W.entity+";"):String.fromCodePoint(J))}function Je(W,se){"<"===se?(W.state=K.OPEN_WAKA,W.startTagPosition=W.position):ae(A,se)&&(Me(W,"Non-whitespace before first tag."),W.textNode=se,W.state=K.TEXT)}function Ne(W,se){var ge="";return se<W.length&&(ge=W.charAt(se)),ge}K=y.STATE,String.fromCodePoint||(W=String.fromCharCode,se=Math.floor,ge=function(){var Q=[],ne=-1,ee=arguments.length;if(!ee)return"";for(var X="";++ne<ee;){var ue=Number(arguments[ne]);if(!isFinite(ue)||ue<0||ue>1114111||se(ue)!==ue)throw RangeError("Invalid code point: "+ue);ue<=65535?Q.push(ue):Q.push(55296+((ue-=65536)>>10),ue%1024+56320),(ne+1===ee||Q.length>16384)&&(X+=W.apply(null,Q),Q.length=0)}return X},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ge,configurable:!0,writable:!0}):String.fromCodePoint=ge)}(C)}).call(this,c(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(et,C,c){(function(t,y){!function(I,E){"use strict";if(!I.setImmediate){var f,F=1,L={},D=!1,p=I.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(I);T=T&&T.setTimeout?T:I,"[object process]"==={}.toString.call(I.process)?function R(){f=function(N){y.nextTick(function(){U(N)})}}():function j(){if(I.postMessage&&!I.importScripts){var N=!0,S=I.onmessage;return I.onmessage=function(){N=!1},I.postMessage("","*"),I.onmessage=S,N}}()?function k(){var N="setImmediate$"+Math.random()+"$",S=function(B){B.source===I&&"string"==typeof B.data&&0===B.data.indexOf(N)&&U(+B.data.slice(N.length))};I.addEventListener?I.addEventListener("message",S,!1):I.attachEvent("onmessage",S),f=function(B){I.postMessage(N+B,"*")}}():I.MessageChannel?function O(){var N=new MessageChannel;N.port1.onmessage=function(S){U(S.data)},f=function(S){N.port2.postMessage(S)}}():p&&"onreadystatechange"in p.createElement("script")?function x(){var N=p.documentElement;f=function(S){var B=p.createElement("script");B.onreadystatechange=function(){U(S),B.onreadystatechange=null,N.removeChild(B),B=null},N.appendChild(B)}}():function P(){f=function(N){setTimeout(U,0,N)}}(),T.setImmediate=function g(N){"function"!=typeof N&&(N=new Function(""+N));for(var S=new Array(arguments.length-1),B=0;B<S.length;B++)S[B]=arguments[B+1];return L[F]={callback:N,args:S},f(F),F++},T.clearImmediate=v}function v(N){delete L[N]}function U(N){if(D)setTimeout(U,0,N);else{var S=L[N];if(S){D=!0;try{!function A(N){var S=N.callback,B=N.args;switch(B.length){case 0:S();break;case 1:S(B[0]);break;case 2:S(B[0],B[1]);break;case 3:S(B[0],B[1],B[2]);break;default:S.apply(E,B)}}(S)}finally{v(N),D=!1}}}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(et,C,c){et.exports=I;var t=c(
/*! events */
"./node_modules/events/events.js").EventEmitter;function I(){t.call(this)}c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(I,t),I.Readable=c(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),I.Writable=c(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),I.Duplex=c(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),I.Transform=c(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),I.PassThrough=c(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),I.Stream=I,I.prototype.pipe=function(E,F){var L=this;function D(R){E.writable&&!1===E.write(R)&&L.pause&&L.pause()}function p(){L.readable&&L.resume&&L.resume()}L.on("data",D),E.on("drain",p),!E._isStdio&&(!F||!1!==F.end)&&(L.on("end",g),L.on("close",v));var f=!1;function g(){f||(f=!0,E.end())}function v(){f||(f=!0,"function"==typeof E.destroy&&E.destroy())}function A(R){if(U(),0===t.listenerCount(this,"error"))throw R}function U(){L.removeListener("data",D),E.removeListener("drain",p),L.removeListener("end",g),L.removeListener("close",v),L.removeListener("error",A),E.removeListener("error",A),L.removeListener("end",U),L.removeListener("close",U),E.removeListener("close",U)}return L.on("error",A),E.on("error",A),L.on("end",U),L.on("close",U),E.on("close",U),E.emit("pipe",L),E}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(et,C,c){"use strict";var t=c(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,y=t.isEncoding||function(x){switch((x=""+x)&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function F(x){var P;switch(this.encoding=function E(x){var P=function I(x){if(!x)return"utf8";for(var P;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(P)return;x=(""+x).toLowerCase(),P=!0}}(x);if("string"!=typeof P&&(t.isEncoding===y||!y(x)))throw new Error("Unknown encoding: "+x);return P||x}(x),this.encoding){case"utf16le":this.text=A,this.end=U,P=4;break;case"utf8":this.fillLast=f,P=4;break;case"base64":this.text=R,this.end=j,P=3;break;default:return this.write=k,void(this.end=O)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(P)}function L(x){return x<=127?0:x>>5==6?2:x>>4==14?3:x>>3==30?4:x>>6==2?-1:-2}function f(x){var P=this.lastTotal-this.lastNeed,T=function p(x,P,T){if(128!=(192&P[0]))return x.lastNeed=0,"\ufffd";if(x.lastNeed>1&&P.length>1){if(128!=(192&P[1]))return x.lastNeed=1,"\ufffd";if(x.lastNeed>2&&P.length>2&&128!=(192&P[2]))return x.lastNeed=2,"\ufffd"}}(this,x);return void 0!==T?T:this.lastNeed<=x.length?(x.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(x.copy(this.lastChar,P,0,x.length),void(this.lastNeed-=x.length))}function A(x,P){if((x.length-P)%2==0){var T=x.toString("utf16le",P);if(T){var N=T.charCodeAt(T.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",P,x.length-1)}function U(x){var P=x&&x.length?this.write(x):"";return this.lastNeed?P+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):P}function R(x,P){var T=(x.length-P)%3;return 0===T?x.toString("base64",P):(this.lastNeed=3-T,this.lastTotal=3,1===T?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",P,x.length-T))}function j(x){var P=x&&x.length?this.write(x):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function k(x){return x.toString(this.encoding)}function O(x){return x&&x.length?this.write(x):""}C.StringDecoder=F,F.prototype.write=function(x){if(0===x.length)return"";var P,T;if(this.lastNeed){if(void 0===(P=this.fillLast(x)))return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<x.length?P?P+this.text(x,T):this.text(x,T):P||""},F.prototype.end=function v(x){var P=x&&x.length?this.write(x):"";return this.lastNeed?P+"\ufffd":P},F.prototype.text=function g(x,P){var T=function D(x,P,T){var N=P.length-1;if(N<T)return 0;var S=L(P[N]);return S>=0?(S>0&&(x.lastNeed=S-1),S):--N<T||-2===S?0:(S=L(P[N]))>=0?(S>0&&(x.lastNeed=S-2),S):--N<T||-2===S?0:(S=L(P[N]))>=0?(S>0&&(2===S?S=0:x.lastNeed=S-3),S):0}(this,x,P);if(!this.lastNeed)return x.toString("utf8",P);this.lastTotal=T;var N=x.length-(T-this.lastNeed);return x.copy(this.lastChar,0,N),x.toString("utf8",P,N)},F.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(et,C,c){(function(t){var y=typeof t<"u"&&t||typeof self<"u"&&self||window,I=Function.prototype.apply;function E(F,L){this._id=F,this._clearFn=L}C.setTimeout=function(){return new E(I.call(setTimeout,y,arguments),clearTimeout)},C.setInterval=function(){return new E(I.call(setInterval,y,arguments),clearInterval)},C.clearTimeout=C.clearInterval=function(F){F&&F.close()},E.prototype.unref=E.prototype.ref=function(){},E.prototype.close=function(){this._clearFn.call(y,this._id)},C.enroll=function(F,L){clearTimeout(F._idleTimeoutId),F._idleTimeout=L},C.unenroll=function(F){clearTimeout(F._idleTimeoutId),F._idleTimeout=-1},C._unrefActive=C.active=function(F){clearTimeout(F._idleTimeoutId);var L=F._idleTimeout;L>=0&&(F._idleTimeoutId=setTimeout(function(){F._onTimeout&&F._onTimeout()},L))},c(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),C.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,C.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(et,C,c){var t;!function(y,I){"use strict";var D="function",p="undefined",f="object",g="string",A="model",U="name",R="type",j="vendor",k="version",O="architecture",x="console",P="mobile",T="tablet",N="smarttv",S="wearable",B="embedded",q="Amazon",le="Apple",$="BlackBerry",ae="Browser",K="Chrome",oe="Firefox",he="Google",fe="Microsoft",Re="Motorola",Me="Opera",me="Samsung",ke="Sony",Ie="Xiaomi",He="Zebra",ot="Facebook",Ne=function(_e){for(var de={},xe=0;xe<_e.length;xe++)de[_e[xe].toUpperCase()]=_e[xe];return de},Te=function(_e,de){return typeof _e===g&&-1!==W(de).indexOf(W(_e))},W=function(_e){return _e.toLowerCase()},ge=function(_e,de){if(typeof _e===g)return _e=_e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof de===p?_e:_e.substring(0,350)},J=function(_e,de){for(var Ke,Ve,st,ct,nt,yt,xe=0;xe<de.length&&!nt;){var jt=de[xe],wt=de[xe+1];for(Ke=Ve=0;Ke<jt.length&&!nt;)if(nt=jt[Ke++].exec(_e))for(st=0;st<wt.length;st++)yt=nt[++Ve],typeof(ct=wt[st])===f&&ct.length>0?2===ct.length?this[ct[0]]=typeof ct[1]==D?ct[1].call(this,yt):ct[1]:3===ct.length?this[ct[0]]=typeof ct[1]!==D||ct[1].exec&&ct[1].test?yt?yt.replace(ct[1],ct[2]):I:yt?ct[1].call(this,yt,ct[2]):I:4===ct.length&&(this[ct[0]]=yt?ct[3].call(this,yt.replace(ct[1],ct[2])):I):this[ct]=yt||I;xe+=2}},Q=function(_e,de){for(var xe in de)if(typeof de[xe]===f&&de[xe].length>0){for(var Ke=0;Ke<de[xe].length;Ke++)if(Te(de[xe][Ke],_e))return"?"===xe?I:xe}else if(Te(de[xe],_e))return"?"===xe?I:xe;return _e},te={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ne={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[U,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[U,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[U,k],[/opios[\/ ]+([\w\.]+)/i],[k,[U,Me+" Mini"]],[/\bopr\/([\w\.]+)/i],[k,[U,Me]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[U,k],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[U,"UC"+ae]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[k,[U,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[k,[U,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[U,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[U,"IE"]],[/yabrowser\/([\w\.]+)/i],[k,[U,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[U,/(.+)/,"$1 Secure "+ae],k],[/\bfocus\/([\w\.]+)/i],[k,[U,oe+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[U,Me+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[U,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[U,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[U,Me+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[U,"MIUI "+ae]],[/fxios\/([-\w\.]+)/i],[k,[U,oe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[U,"360 "+ae]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[U,/(.+)/,"$1 "+ae],k],[/(comodo_dragon)\/([\w\.]+)/i],[[U,/_/g," "],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[U,k],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[U],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[U,ot],k],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[U,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[U,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[U,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[U,K+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[U,"Android "+ae]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[U,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[U,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,U],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[U,[k,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[U,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[U,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[U,oe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[U,k]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[O,"amd64"]],[/(ia32(?=;))/i],[[O,W]],[/((?:i[346]|x)86)[;\)]/i],[[O,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/windows (ce|mobile); ppc;/i],[[O,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[O,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[O,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[O,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[A,[j,me],[R,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[A,[j,me],[R,P]],[/\((ip(?:hone|od)[\w ]*);/i],[A,[j,le],[R,P]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[A,[j,le],[R,T]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[A,[j,"Huawei"],[R,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[A,[j,"Huawei"],[R,P]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[A,/_/g," "],[j,Ie],[R,P]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[A,/_/g," "],[j,Ie],[R,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[A,[j,"OPPO"],[R,P]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[A,[j,"Vivo"],[R,P]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[A,[j,"Realme"],[R,P]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[A,[j,Re],[R,P]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[A,[j,Re],[R,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[A,[j,"LG"],[R,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[A,[j,"LG"],[R,P]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[A,[j,"Lenovo"],[R,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[A,/_/g," "],[j,"Nokia"],[R,P]],[/(pixel c)\b/i],[A,[j,he],[R,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[A,[j,he],[R,P]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[A,[j,ke],[R,P]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[A,"Xperia Tablet"],[j,ke],[R,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[A,[j,"OnePlus"],[R,P]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[A,[j,q],[R,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[A,/(.+)/g,"Fire Phone $1"],[j,q],[R,P]],[/(playbook);[-\w\),; ]+(rim)/i],[A,j,[R,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[A,[j,$],[R,P]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[A,[j,"ASUS"],[R,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[A,[j,"ASUS"],[R,P]],[/(nexus 9)/i],[A,[j,"HTC"],[R,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[j,[A,/_/g," "],[R,P]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[A,[j,"Acer"],[R,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[A,[j,"Meizu"],[R,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[A,[j,"Sharp"],[R,P]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[j,A,[R,P]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[j,A,[R,T]],[/(surface duo)/i],[A,[j,fe],[R,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[A,[j,"Fairphone"],[R,P]],[/(u304aa)/i],[A,[j,"AT&T"],[R,P]],[/\bsie-(\w*)/i],[A,[j,"Siemens"],[R,P]],[/\b(rct\w+) b/i],[A,[j,"RCA"],[R,T]],[/\b(venue[\d ]{2,7}) b/i],[A,[j,"Dell"],[R,T]],[/\b(q(?:mv|ta)\w+) b/i],[A,[j,"Verizon"],[R,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[A,[j,"Barnes & Noble"],[R,T]],[/\b(tm\d{3}\w+) b/i],[A,[j,"NuVision"],[R,T]],[/\b(k88) b/i],[A,[j,"ZTE"],[R,T]],[/\b(nx\d{3}j) b/i],[A,[j,"ZTE"],[R,P]],[/\b(gen\d{3}) b.+49h/i],[A,[j,"Swiss"],[R,P]],[/\b(zur\d{3}) b/i],[A,[j,"Swiss"],[R,T]],[/\b((zeki)?tb.*\b) b/i],[A,[j,"Zeki"],[R,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[j,"Dragon Touch"],A,[R,T]],[/\b(ns-?\w{0,9}) b/i],[A,[j,"Insignia"],[R,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[A,[j,"NextBook"],[R,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[j,"Voice"],A,[R,P]],[/\b(lvtel\-)?(v1[12]) b/i],[[j,"LvTel"],A,[R,P]],[/\b(ph-1) /i],[A,[j,"Essential"],[R,P]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[A,[j,"Envizen"],[R,T]],[/\b(trio[-\w\. ]+) b/i],[A,[j,"MachSpeed"],[R,T]],[/\btu_(1491) b/i],[A,[j,"Rotor"],[R,T]],[/(shield[\w ]+) b/i],[A,[j,"Nvidia"],[R,T]],[/(sprint) (\w+)/i],[j,A,[R,P]],[/(kin\.[onetw]{3})/i],[[A,/\./g," "],[j,fe],[R,P]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[A,[j,He],[R,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[A,[j,He],[R,P]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[j,A,[R,x]],[/droid.+; (shield) bui/i],[A,[j,"Nvidia"],[R,x]],[/(playstation [345portablevi]+)/i],[A,[j,ke],[R,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[A,[j,fe],[R,x]],[/smart-tv.+(samsung)/i],[j,[R,N]],[/hbbtv.+maple;(\d+)/i],[[A,/^/,"SmartTV"],[j,me],[R,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[j,"LG"],[R,N]],[/(apple) ?tv/i],[j,[A,le+" TV"],[R,N]],[/crkey/i],[[A,K+"cast"],[j,he],[R,N]],[/droid.+aft(\w)( bui|\))/i],[A,[j,q],[R,N]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[A,[j,"Sharp"],[R,N]],[/(bravia[\w ]+)( bui|\))/i],[A,[j,ke],[R,N]],[/(mitv-\w{5}) bui/i],[A,[j,Ie],[R,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[j,ge],[A,ge],[R,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[R,N]],[/((pebble))app/i],[j,A,[R,S]],[/droid.+; (glass) \d/i],[A,[j,he],[R,S]],[/droid.+; (wt63?0{2,3})\)/i],[A,[j,He],[R,S]],[/(quest( 2)?)/i],[A,[j,ot],[R,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[j,[R,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[A,[R,P]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[A,[R,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[R,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[R,P]],[/(android[-\w\. ]{0,9});.+buil/i],[A,[j,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[U,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[U,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[U,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,U]],os:[[/microsoft (windows) (vista|xp)/i],[U,k],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[U,[k,Q,te]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[U,"Windows"],[k,Q,te]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[U,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[U,"Mac OS"],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,U],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[U,k],[/\(bb(10);/i],[k,[U,$]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[U,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[U,oe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[U,"webOS"]],[/crkey\/([\d\.]+)/i],[k,[U,K+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[U,"Chromium OS"],k],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[U,k],[/(sunos) ?([\w\.\d]*)/i],[[U,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[U,k]]},ee=function(_e,de){if(typeof _e===f&&(de=_e,_e=I),!(this instanceof ee))return new ee(_e,de).getResult();var xe=_e||(typeof y!==p&&y.navigator&&y.navigator.userAgent?y.navigator.userAgent:""),Ke=de?function(_e,de){var xe={};for(var Ke in _e)xe[Ke]=de[Ke]&&de[Ke].length%2==0?de[Ke].concat(_e[Ke]):_e[Ke];return xe}(ne,de):ne;return this.getBrowser=function(){var Ve={};return Ve[U]=I,Ve[k]=I,J.call(Ve,xe,Ke.browser),Ve.major=function(_e){return typeof _e===g?_e.replace(/[^\d\.]/g,"").split(".")[0]:I}(Ve.version),Ve},this.getCPU=function(){var Ve={};return Ve[O]=I,J.call(Ve,xe,Ke.cpu),Ve},this.getDevice=function(){var Ve={};return Ve[j]=I,Ve[A]=I,Ve[R]=I,J.call(Ve,xe,Ke.device),Ve},this.getEngine=function(){var Ve={};return Ve[U]=I,Ve[k]=I,J.call(Ve,xe,Ke.engine),Ve},this.getOS=function(){var Ve={};return Ve[U]=I,Ve[k]=I,J.call(Ve,xe,Ke.os),Ve},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return xe},this.setUA=function(Ve){return xe=typeof Ve===g&&Ve.length>350?ge(Ve,350):Ve,this},this.setUA(xe),this};ee.VERSION="1.0.32",ee.BROWSER=Ne([U,k,"major"]),ee.CPU=Ne([O]),ee.DEVICE=Ne([A,j,R,x,P,N,T,S,B]),ee.ENGINE=ee.OS=Ne([U,k]),typeof C!==p?(typeof et!==p&&et.exports&&(C=et.exports=ee),C.UAParser=ee):c(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(t=function(){return ee}.call(C,c,C,et))!==I&&(et.exports=t):typeof y!==p&&(y.UAParser=ee);var X=typeof y!==p&&(y.jQuery||y.Zepto);if(X&&!X.ua){var ue=new ee;X.ua=ue.getResult(),X.ua.get=function(){return ue.getUA()},X.ua.set=function(_e){ue.setUA(_e);var de=ue.getResult();for(var xe in de)X.ua[xe]=de[xe]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(et,C,c){(function(t){function I(E){try{if(!t.localStorage)return!1}catch{return!1}var F=t.localStorage[E];return null!=F&&"true"===String(F).toLowerCase()}et.exports=function y(E,F){if(I("noDeprecation"))return E;var L=!1;return function D(){if(!L){if(I("throwDeprecation"))throw new Error(F);I("traceDeprecation")?console.trace(F):console.warn(F),L=!0}return E.apply(this,arguments)}}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(et,C){(function(c){et.exports=c}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(et,C){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{"object"==typeof window&&(c=window)}et.exports=c},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./EventBus */
"./src/core/EventBus.js"),y=c(
/*! ./events/Events */
"./src/core/events/Events.js"),I=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),F=1,L=2,D=3,p=4,f=5;function g(A){A=A||{};var O,x,P,T,U=this.context,R=Object(t.default)(U).getInstance(),j=A.settings,k=[];function S(oe){return oe&&oe.bind?oe.bind(window.console):window.console.log.bind(window.console)}function le(){for(var oe=arguments.length,he=new Array(oe),Se=0;Se<oe;Se++)he[Se]=arguments[Se];pe.apply(void 0,[F,this].concat(he))}function Fe(){for(var oe=arguments.length,he=new Array(oe),Se=0;Se<oe;Se++)he[Se]=arguments[Se];pe.apply(void 0,[L,this].concat(he))}function $(){for(var oe=arguments.length,he=new Array(oe),Se=0;Se<oe;Se++)he[Se]=arguments[Se];pe.apply(void 0,[D,this].concat(he))}function ae(){for(var oe=arguments.length,he=new Array(oe),Se=0;Se<oe;Se++)he[Se]=arguments[Se];pe.apply(void 0,[p,this].concat(he))}function K(){for(var oe=arguments.length,he=new Array(oe),Se=0;Se<oe;Se++)he[Se]=arguments[Se];pe.apply(void 0,[f,this].concat(he))}function pe(oe,he){var Se="",Le=null;x&&(Le=(new Date).getTime(),Se+="["+(Le-T)+"]"),P&&he&&he.getClassName&&(Se+="["+he.getClassName()+"]",he.getType&&(Se+="["+he.getType()+"]")),Se.length>0&&(Se+=" ");for(var fe=arguments.length,Re=new Array(fe>2?fe-2:0),Me=2;Me<fe;Me++)Re[Me-2]=arguments[Me];Array.apply(null,Re).forEach(function(me){Se+=me+" "}),k[oe]&&j.get().debug.logLevel>=oe&&k[oe](Se),j&&j.get().debug.dispatchEvent&&R.trigger(y.default.LOG,{message:Se,level:oe})}return O={getLogger:function B(oe){return{fatal:le.bind(oe),error:Fe.bind(oe),warn:$.bind(oe),info:ae.bind(oe),debug:K.bind(oe)}},setLogTimestampVisible:function Y(oe){x=oe},setCalleeNameVisible:function q(oe){P=oe}},function N(){x=!0,P=!0,T=(new Date).getTime(),typeof window<"u"&&window.console&&(k[F]=S(window.console.error),k[L]=S(window.console.error),k[D]=S(window.console.warn),k[p]=S(window.console.info),k[f]=S(window.console.debug))}(),O}g.__dashjs_factory_name="Debug";var v=I.default.getSingletonFactory(g);v.LOG_LEVEL_NONE=0,v.LOG_LEVEL_FATAL=F,v.LOG_LEVEL_ERROR=L,v.LOG_LEVEL_WARNING=D,v.LOG_LEVEL_INFO=p,v.LOG_LEVEL_DEBUG=f,I.default.updateSingletonFactory(g.__dashjs_factory_name,v),C.default=v},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function F(){var D={};function v(R,j,k){var O=-1;return D[R]&&D[R].some(function(x,P){if(x&&x.callback===j&&(!k||k===x.scope))return O=P,!0}),O}return{on:function p(R,j,k){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!R)throw new Error("event type cannot be null or undefined");if(!j||"function"!=typeof j)throw new Error("listener must be a function: "+j);var x=O.priority||0;if(!(v(R,j,k)>=0)){D[R]=D[R]||[];var P={callback:j,scope:k,priority:x};k&&k.getStreamId&&(P.streamId=k.getStreamId()),k&&k.getType&&(P.mediaType=k.getType()),O&&O.mode&&(P.mode=O.mode),D[R].some(function(N,S){if(N&&x>N.priority)return D[R].splice(S,0,P),!0})||D[R].push(P)}},off:function f(R,j,k){if(R&&j&&D[R]){var O=v(R,j,k);O<0||(D[R][O]=null)}},trigger:function g(R){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(R&&D[R]){if((j=j||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");j.type=R,k.streamId&&(j.streamId=k.streamId),k.mediaType&&(j.mediaType=k.mediaType),D[R].filter(function(O){return!(!O||k.streamId&&O.streamId&&O.streamId!==k.streamId||k.mediaType&&O.mediaType&&O.mediaType!==k.mediaType||k.mode&&O.mode&&O.mode!==k.mode||!O.mode&&k.mode&&k.mode===y.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(O){return O&&O.callback.call(O.scope,j)})}},reset:function A(){D={}}}}F.__dashjs_factory_name="EventBus";var L=t.default.getSingletonFactory(F);L.EVENT_PRIORITY_LOW=0,L.EVENT_PRIORITY_HIGH=5e3,t.default.updateSingletonFactory(F.__dashjs_factory_name,L),C.default=L},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=function(){var y,I=[],E={},F={};function D(P,T){for(var N in I){var S=I[N];if(S.context===P&&S.name===T)return S.instance}return null}function g(P,T){return T[P]}function v(P,T,N){P in N&&(N[P]=T)}function x(P,T,N){var S,B=P.__dashjs_factory_name,Y=T[B];if(Y){var q=Y.instance;if(!Y.override)return q.apply({context:T,factory:y},N);for(var le in S=P.apply({context:T},N),q=q.apply({context:T,factory:y,parent:S},N))S.hasOwnProperty(le)&&(S[le]=q[le])}else S=P.apply({context:T},N);return S.getClassName=function(){return B},S}return y={extend:function L(P,T,N,S){!S[P]&&T&&(S[P]={instance:T,override:N})},getSingletonInstance:D,setSingletonInstance:function p(P,T,N){for(var S in I){var B=I[S];if(B.context===P&&B.name===T)return void(I[S].instance=N)}I.push({name:T,context:P,instance:N})},deleteSingletonInstances:function f(P){I=I.filter(function(T){return T.context!==P})},getSingletonFactory:function O(P){var T=g(P.__dashjs_factory_name,E);return T||(T=function(S){var B;return void 0===S&&(S={}),{getInstance:function(){return B||(B=D(S,P.__dashjs_factory_name)),B||(B=x(P,S,arguments),I.push({name:P.__dashjs_factory_name,context:S,instance:B})),B}}},E[P.__dashjs_factory_name]=T),T},getSingletonFactoryByName:function k(P){return g(P,E)},updateSingletonFactory:function j(P,T){v(P,T,E)},getClassFactory:function R(P){var T=g(P.__dashjs_factory_name,F);return T||(T=function(S){return void 0===S&&(S={}),{create:function(){return x(P,S,arguments)}}},F[P.__dashjs_factory_name]=T),T},getClassFactoryByName:function U(P){return g(P,F)},updateClassFactory:function A(P,T){v(P,T,F)}}}();C.default=t},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./Utils.js */
"./src/core/Utils.js"),I=c(
/*! ../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),L=c(
/*! ./EventBus */
"./src/core/EventBus.js"),D=c(
/*! ./events/Events */
"./src/core/events/Events.js");function p(R){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(R)}function f(R,j,k){return(j=function g(R){var j=function v(R,j){if("object"!==p(R)||null===R)return R;var k=R[Symbol.toPrimitive];if(void 0!==k){var O=k.call(R,j||"default");if("object"!==p(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===j?String:Number)(R)}(R,"string");return"symbol"===p(j)?j:String(j)}(j))in R?Object.defineProperty(R,j,{value:k,enumerable:!0,configurable:!0,writable:!0}):R[j]=k,R}function A(){var R,j,O=this.context,x=Object(L.default)(O).getInstance(),P={"streaming.delay.liveDelay":D.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":D.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},T={debug:{logLevel:I.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:E.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:E.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:E.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:E.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(R={},f(R,F.HTTPRequest.MPD_TYPE,500),f(R,F.HTTPRequest.XLINK_EXPANSION_TYPE,500),f(R,F.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.INIT_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.LICENSE,1e3),f(R,F.HTTPRequest.OTHER_TYPE,1e3),f(R,"lowLatencyReductionFactor",10),R),retryAttempts:(j={},f(j,F.HTTPRequest.MPD_TYPE,3),f(j,F.HTTPRequest.XLINK_EXPANSION_TYPE,1),f(j,F.HTTPRequest.MEDIA_SEGMENT_TYPE,3),f(j,F.HTTPRequest.INIT_SEGMENT_TYPE,3),f(j,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),f(j,F.HTTPRequest.INDEX_SEGMENT_TYPE,3),f(j,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),f(j,F.HTTPRequest.LICENSE,3),f(j,F.HTTPRequest.OTHER_TYPE,3),f(j,"lowLatencyMultiplyFactor",5),j),abr:{movingAverageMethod:E.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:E.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:E.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:E.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},N=y.default.clone(T);function S(le,Fe,$){for(var ae in le)le.hasOwnProperty(ae)&&(Fe.hasOwnProperty(ae)?"object"!==p(le[ae])||le[ae]instanceof Array||null===le[ae]?(Fe[ae]=y.default.clone(le[ae]),P[$+ae]&&x.trigger(P[$+ae])):S(le[ae],Fe[ae],$.slice()+ae+"."):console.error("Settings parameter "+$+ae+" is not supported"))}return{get:function B(){return N},update:function Y(le){"object"===p(le)&&S(le,N,"")},reset:function q(){N=y.default.clone(T)}}}A.__dashjs_factory_name="Settings";var U=t.default.getSingletonFactory(A);C.default=U},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),y=c.n(t),I=c(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function F(A){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function D(A,U){for(var R=0;R<U.length;R++){var j=U[R];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(A,f(j.key),j)}}function f(A){var U=function g(A,U){if("object"!==F(A)||null===A)return A;var R=A[Symbol.toPrimitive];if(void 0!==R){var j=R.call(A,U||"default");if("object"!==F(j))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(A)}(A,"string");return"symbol"===F(U)?U:String(U)}var v=function(){function A(){!function L(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")}(this,A)}return function p(A,U,R){return U&&D(A.prototype,U),R&&D(A,R),Object.defineProperty(A,"prototype",{writable:!1}),A}(A,null,[{key:"mixin",value:function(R,j,k){var O,x={};if(R)for(var P in j)j.hasOwnProperty(P)&&(O=j[P],(!(P in R)||R[P]!==O&&(!(P in x)||x[P]!==O))&&(R[P]="object"===F(R[P])&&null!==R[P]?A.mixin(R[P],O,k):k(O)));return R}},{key:"clone",value:function(R){if(!R||"object"!==F(R))return R;var j;if(R instanceof Array){j=[];for(var k=0,O=R.length;k<O;++k)k in R&&j.push(A.clone(R[k]))}else j={};return A.mixin(j,R,A.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(R,j){try{if(!j||0===j.length)return R;var k=new URL(R);return j.forEach(function(O){O.key&&O.value&&k.searchParams.set(O.key,O.value)}),k.href}catch{return R}}},{key:"parseHttpHeaders",value:function(R){var j={};if(!R)return j;for(var k=R.trim().split("\r\n"),O=0,x=k.length;O<x;O++){var P=k[O],T=P.indexOf(": ");T>0&&(j[P.substring(0,T)]=P.substring(T+2))}return j}},{key:"generateUuid",value:function(){var R=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(k){var O=(R+16*Math.random())%16|0;return R=Math.floor(R/16),("x"==k?O:3&O|8).toString(16)})}},{key:"generateHashCode",value:function(R){var j=0;if(0===R.length)return j;for(var k=0;k<R.length;k++)j=(j<<5)-j+R.charCodeAt(k),j|=0;return j}},{key:"getRelativeUrl",value:function(R,j){try{var k=new URL(R),O=new URL(j);if(k.protocol=O.protocol,k.origin!==O.origin)return j;var x=y.a.relative(k.pathname.substr(0,k.pathname.lastIndexOf("/")),O.pathname.substr(0,O.pathname.lastIndexOf("/"))),P=0===x.length?1:0;return x+=O.pathname.substr(O.pathname.lastIndexOf("/")+P,O.pathname.length-1),O.pathname.length<x.length?O.pathname:x}catch{return j}}},{key:"parseUserAgent",value:function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var j=null===R&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(I.UAParser)(j)}catch{return{}}}}]),A}();C.default=v},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(et,C,c){"use strict";c.r(C),c.d(C,"getVersionString",function(){return y});var t="4.5.2";function y(){return t}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(et,C,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function I(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===y(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var S=R(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(O,x){if(x&&("object"===y(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(C);var k=new(function(O){p(P,O);var x=g(P);function P(){var T;return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(T=x.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,T.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,T.SEGMENT_BASE_LOADER_ERROR_CODE=15,T.TIME_SYNC_FAILED_ERROR_CODE=16,T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,T.APPEND_ERROR_CODE=20,T.REMOVE_ERROR_CODE=21,T.DATA_UPDATE_FAILED_ERROR_CODE=22,T.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,T.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,T.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,T.DOWNLOAD_ERROR_ID_SIDX_CODE=26,T.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,T.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,T.DOWNLOAD_ERROR_ID_XLINK_CODE=29,T.MANIFEST_ERROR_ID_PARSE_CODE=31,T.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,T.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,T.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,T.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,T.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",T.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",T.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",T.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",T.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",T.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",T.APPEND_ERROR_MESSAGE="chunk is not defined",T.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",T.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",T.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",T.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",T.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",T.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",T}return function E(O,x,P){return x&&I(O.prototype,x),P&&I(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));C.default=k},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function I(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=function(){function p(){!function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p)}return function E(p,f,g){return f&&I(p.prototype,f),g&&I(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"extend",value:function(g,v){if(g){var A=!!v&&v.override,U=!!v&&v.publicOnly;for(var R in g)!g.hasOwnProperty(R)||this[R]&&!A||U&&-1===g[R].indexOf("public_")||(this[R]=g[R])}}}]),p}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function y(k){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(k)}function I(k,O){for(var x=0;x<O.length;x++){var P=O[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,F(P.key),P)}}function F(k){var O=function L(k,O){if("object"!==y(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var P=x.call(k,O||"default");if("object"!==y(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(k)}(k,"string");return"symbol"===y(O)?O:String(O)}function p(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),O&&f(k,O)}function f(k,O){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,T){return P.__proto__=T,P})(k,O)}function g(k){var O=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,P=R(k);if(O){var N=R(this).constructor;T=Reflect.construct(P,arguments,N)}else T=P.apply(this,arguments);return function v(k,O){if(O&&("object"===y(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}C.default=function(k){p(x,k);var O=g(x);function x(){var P;return function D(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,x),(P=O.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",P.BUFFERING_COMPLETED="bufferingCompleted",P.BUFFER_CLEARED="bufferCleared",P.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",P.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",P.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",P.CURRENT_TRACK_CHANGED="currentTrackChanged",P.DATA_UPDATE_COMPLETED="dataUpdateCompleted",P.INBAND_EVENTS="inbandEvents",P.INITIAL_STREAM_SWITCH="initialStreamSwitch",P.INIT_FRAGMENT_LOADED="initFragmentLoaded",P.INIT_FRAGMENT_NEEDED="initFragmentNeeded",P.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",P.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",P.LOADING_COMPLETED="loadingCompleted",P.LOADING_PROGRESS="loadingProgress",P.LOADING_DATA_PROGRESS="loadingDataProgress",P.LOADING_ABANDONED="loadingAborted",P.MANIFEST_UPDATED="manifestUpdated",P.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",P.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",P.QUOTA_EXCEEDED="quotaExceeded",P.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",P.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",P.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",P.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",P.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",P.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",P.SOURCE_BUFFER_ERROR="sourceBufferError",P.STREAMS_COMPOSED="streamsComposed",P.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",P.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",P.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",P.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",P.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",P.URL_RESOLUTION_FAILED="urlResolutionFailed",P.VIDEO_CHUNK_RECEIVED="videoChunkReceived",P.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",P.XLINK_ELEMENT_LOADED="xlinkElementLoaded",P.XLINK_READY="xlinkReady",P.SEEK_TARGET="seekTarget",P.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",P.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",P.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",P.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",P.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",P}return function E(k,O,x){return O&&I(k.prototype,O),x&&I(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(t.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(et,C,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function I(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===y(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var S=R(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(O,x){if(x&&("object"===y(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(C);var j=function(O){p(P,O);var x=g(P);function P(){return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),x.apply(this,arguments)}return function E(O,x,P){return x&&I(O.prototype,x),P&&I(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),k=new j;C.default=k},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function I(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=function(){function p(){!function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p)}return function E(p,f,g){return f&&I(p.prototype,f),g&&I(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"extend",value:function(g,v){if(g){var A=!!v&&v.override,U=!!v&&v.publicOnly;for(var R in g)!g.hasOwnProperty(R)||this[R]&&!A||U&&-1===g[R].indexOf("public_")||(this[R]=g[R])}}}]),p}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),y=c(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),I=c(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),E=c(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),F=c(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),L=c(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),D=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),f=c(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),g=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),v=c.n(g);function A(){var U,R,j,k,O,x,P,T=this.context;function le(De){return R.getRolesForAdaptation(De).filter(function(Pe){return Pe.value===t.default.MAIN})[0]}function Fe(De,Pe,Ye){var ze=R.getAdaptationsForType(k[0].mpd.manifest,De,Pe);if(!ze||0===ze.length)return null;if(ze.length>1&&Ye){var lt=K(Ye,Pe);if(O[Ye.id]&&O[Ye.id][Pe])for(var rt=0,dt=ze.length;rt<dt;rt++)if($(O[Ye.id][Pe],lt[rt]))return ze[rt];for(var Ft=0,qt=ze.length;Ft<qt;Ft++)if(le(ze[Ft]))return ze[Ft]}return ze[0]}function $(De,Pe){if(!De||!Pe)return!1;var Ye=De.id===Pe.id,ze=De.codec===Pe.codec,lt=De.viewpoint===Pe.viewpoint,rt=De.lang===Pe.lang,dt=De.roles.toString()===Pe.roles.toString(),Ft=De.accessibility.toString()===Pe.accessibility.toString(),qt=De.audioChannelConfiguration.toString()===Pe.audioChannelConfiguration.toString();return Ye&&ze&&lt&&rt&&dt&&Ft&&qt}function ae(De,Pe,Ye,ze,lt,rt){var qt,Lt,Qt,ln,mn,dt=[];if(!ze||0===ze.length)return[];var Mn=R.getAdaptationsForPeriod(Pe);for(Qt=0,mn=ze.length;Qt<mn;Qt++)if(qt=Gt(Mn[Lt=R.getIndexForAdaptation(ze[Qt],De,Ye.index)]),rt){var Nn=qt.accessibility.length;for(ln=0;ln<Nn;ln++)if(qt){var Yn=qt.accessibility[ln];if(0===Yn.indexOf("cea-608:")){var fi=Yn.substring(8).split(";");if("CC"===fi[0].substring(0,2))for(ln=0;ln<fi.length;ln++)qt||(qt=Gt.call(this,Mn[Lt])),nn(qt,fi[ln].substring(0,3),fi[ln].substring(4)),dt.push(qt),qt=null;else for(ln=0;ln<fi.length;ln++)qt||(qt=Gt.call(this,Mn[Lt])),nn(qt,"CC"+(ln+1),fi[ln]),dt.push(qt),qt=null}else 0===Yn.indexOf("cea-608")&&(nn(qt,x.CC1,"eng"),dt.push(qt),qt=null)}}else lt===x.IMAGE?(dn(qt),dt.push(qt),qt=null):qt&&dt.push(qt);return dt}function K(De,Pe,Ye){var ze=k,lt=Ye,rt=[];if(lt)Tn(),ze=Te(lt);else{if(!(k.length>0))return rt;lt=k[0].mpd.manifest}var dt=wt(De,ze),Ft=R.getAdaptationsForType(lt,De?De.index:null,Pe);return rt=ae(lt,dt,De,Ft,Pe),Pe===x.TEXT&&(Ft=R.getAdaptationsForType(lt,De?De.index:null,x.VIDEO),rt=rt.concat(ae(lt,dt,De,Ft,Pe,!0))),rt}function Te(De){var Pe=W(De);return R.getRegularPeriods(Pe)}function W(De){var Pe=yt(De);return R.getMpd(Pe)}function st(){k=[],O={}}function yt(De){return De||(k.length>0?k[0].mpd.manifest:null)}function jt(De){try{var Pe=wt(De.streamInfo,k),Ye=R.getAdaptationsForPeriod(Pe);return De&&De.streamInfo&&void 0!==De.streamInfo.id&&Ye?Ye[De.index]:null}catch{return null}}function wt(De,Pe){for(var Ye=Pe.length,ze=0;ze<Ye;ze++){var lt=Pe[ze];if(De&&De.id===lt.id)return lt}return null}function Gt(De){if(!De)return null;var ze,Pe=new I.default,Ye=De.period.mpd.manifest.Period_asArray[De.period.index].AdaptationSet_asArray[De.index];if(Pe.id=De.id,Pe.index=De.index,Pe.type=De.type,Pe.streamInfo=un(De.period),Pe.representationCount=R.getRepresentationCount(Ye),Pe.labels=R.getLabelsForAdaptation(Ye),Pe.lang=R.getLanguageForAdaptation(Ye),ze=R.getViewpointForAdaptation(Ye),Pe.viewpoint=ze?ze.value:void 0,Pe.accessibility=R.getAccessibilityForAdaptation(Ye).map(function(dt){var Ft=dt.value,qt=Ft;return dt.schemeIdUri&&dt.schemeIdUri.search("cea-608")>=0&&typeof P<"u"&&(qt=Ft?"cea-608:"+Ft:"cea-608",Pe.embeddedCaptions=!0),qt}),Pe.audioChannelConfiguration=R.getAudioChannelConfigurationForAdaptation(Ye).map(function(dt){return dt.value}),0===Pe.audioChannelConfiguration.length&&Array.isArray(Ye.Representation_asArray)&&Ye.Representation_asArray.length>0&&(Pe.audioChannelConfiguration=R.getAudioChannelConfigurationForRepresentation(Ye.Representation_asArray[0]).map(function(dt){return dt.value})),Pe.roles=R.getRolesForAdaptation(Ye).map(function(dt){return dt.value}),Pe.codec=R.getCodec(Ye),Pe.mimeType=R.getMimeType(Ye),Pe.contentProtection=R.getContentProtectionData(Ye),Pe.bitrateList=R.getBitrateListForAdaptation(Ye),Pe.selectionPriority=R.getSelectionPriority(Ye),Pe.contentProtection){var lt=Pe.contentProtection.map(function(dt){return R.getKID(dt)}).filter(function(dt){return null!==dt});if(lt.length){var rt=lt[0];Pe.contentProtection.forEach(function(dt){dt.keyId=rt})}}return Pe.isText=R.getIsText(Ye),Pe.supplementalProperties=R.getSupplementalProperties(Ye),Pe.isFragmented=R.getIsFragmented(Ye),Pe.isEmbedded=!1,Pe}function nn(De,Pe,Ye){De.id=Pe,De.index=100+parseInt(Pe.substring(2,3)),De.type=x.TEXT,De.codec="cea-608-in-SEI",De.isEmbedded=!0,De.isFragmented=!1,De.lang=v()(Ye),De.roles=["caption"]}function dn(De){De.type=x.IMAGE}function un(De){var Pe=new E.default;return Pe.id=De.id,Pe.index=De.index,Pe.start=De.start,Pe.duration=De.duration,Pe.manifestInfo=function Kt(De){var Pe=new F.default;return Pe.dvrWindowSize=De.timeShiftBufferDepth,Pe.loadedTime=De.manifest.loadedTime,Pe.availableFrom=De.availabilityStartTime,Pe.minBufferTime=De.manifest.minBufferTime,Pe.maxFragmentDuration=De.maxSegmentDuration,Pe.duration=R.getDuration(De.manifest),Pe.isDynamic=R.getIsDynamic(De.manifest),Pe.serviceDescriptions=R.getServiceDescriptions(De.manifest),Pe.protocol=De.manifest.protocol,Pe}(De.mpd),Pe.isLast=1===De.mpd.manifest.Period_asArray.length||Math.abs(Pe.start+Pe.duration-Pe.manifestInfo.duration)<1,Pe}function Tn(){if(!x)throw new Error("setConfig function has to be called previously")}function rn(De){return k.length>0?k[0].mpd.manifest.Period_asArray[De]:null}function ht(De,Pe,Ye){var lt,rt,dt,Ft,qt;if(De)for(lt=De.AdaptationSet_asArray,Ft=0;Ft<lt.length;Ft+=1)for(dt=lt[Ft].Representation_asArray,qt=0;qt<dt.length;qt+=1)if(Pe===(rt=dt[qt]).id)return Ye?qt:rt;return null}return U={getBandwidthForRepresentation:function _e(De,Pe){var Ye;return(Ye=ht(rn(Pe),De))?Ye.bandwidth:null},getIndexForRepresentation:function de(De,Pe){return function xt(De,Pe){var Ye=ht(De,Pe,!0);return null!==Ye?Ye:-1}(rn(Pe),De)},getMaxIndexForBufferType:function xe(De,Pe){return function Qe(De,Pe){var Ye,ze,lt,rt;if(!De||!Pe)return-1;for(ze=De.AdaptationSet_asArray,rt=0;rt<ze.length;rt+=1)if(lt=(Ye=ze[rt]).Representation_asArray,R.getIsTypeOf(Ye,Pe))return lt.length;return-1}(rn(Pe),De)},convertRepresentationToRepresentationInfo:function Y(De){if(De){var Pe=new y.default,ze=R.getRepresentationFor(De.index,De.adaptation.period.mpd.manifest.Period_asArray[De.adaptation.period.index].AdaptationSet_asArray[De.adaptation.index]);return Pe.id=De.id,Pe.quality=De.index,Pe.bandwidth=R.getBandwidth(ze),Pe.fragmentDuration=De.segmentDuration||(De.segments&&De.segments.length>0?De.segments[0].duration:NaN),Pe.MSETimeOffset=De.MSETimeOffset,Pe.mediaInfo=Gt(De.adaptation),Pe}return null},getStreamsInfo:function oe(De,Pe){var Ye=[],ze=k;if(De&&(Tn(),ze=Te(De)),ze.length>0){(!Pe||Pe>ze.length)&&(Pe=ze.length);for(var lt=0;lt<Pe;lt++)Ye.push(un(ze[lt]))}return Ye},getMediaInfoForType:function q(De,Pe){if(0===k.length||!De)return null;var Ye=wt(De,k);if(!Ye)return null;var ze=R.getAdaptationsForPeriod(Ye),lt=Fe(De.index,Pe,De);return lt?Gt(ze[R.getIndexForAdaptation(lt,k[0].mpd.manifest,De.index)]):null},getAllMediaInfoForType:K,getAdaptationForType:Fe,getRealAdaptation:function he(De,Pe){var Ye,ze,lt=wt(De,k);return Ye=Pe?Pe.id:null,k.length>0&&lt&&(ze=Ye?R.getAdaptationForId(Ye,k[0].mpd.manifest,lt.index):R.getAdaptationForIndex(Pe?Pe.index:null,k[0].mpd.manifest,lt.index)),ze},getProducerReferenceTimes:function Se(De,Pe){var Ye,ze,lt=wt(De,k);return Ye=Pe?Pe.id:null,k.length>0&&lt&&(ze=Ye?R.getAdaptationForId(Ye,k[0].mpd.manifest,lt.index):R.getAdaptationForIndex(Pe?Pe.index:null,k[0].mpd.manifest,lt.index)),ze?R.getProducerReferenceTimesForAdaptation(ze):[]},getRealPeriodByIndex:function fe(De){return R.getRealPeriodForIndex(De,k[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Le(De){try{return R.getEssentialPropertiesForRepresentation(De)}catch{return[]}},getVoRepresentations:function Re(De){var Ye=jt(De);return R.getRepresentationsForAdaptation(Ye)},getEventsFor:function me(De,Pe,Ye){var ze=[];if(k.length>0){var lt=k[0].mpd.manifest;if(De instanceof E.default){var rt=wt(De,k);ze=R.getEventsForPeriod(rt)}else if(De instanceof I.default){var dt=wt(Ye,k);ze=R.getEventStreamForAdaptationSet(lt,jt(De),dt)}else if(De instanceof y.default){var Ft=wt(Ye,k);ze=R.getEventStreamForRepresentation(lt,Pe,Ft)}}return ze},getEvent:function Me(De,Pe,Ye,ze){try{if(!De||!Pe||isNaN(Ye)||!ze)return null;var lt=De.scheme_id_uri,rt=De.value;if(!Pe[lt+"/"+rt])return null;var mn,dt=new L.default,Ft=De.timescale||1,qt=ze.adaptation.period.start,Lt=Pe[lt+"/"+rt],Qt=isNaN(ze.presentationTimeOffset)?isNaN(Lt.presentationTimeOffset)?0:Lt.presentationTimeOffset:ze.presentationTimeOffset,ln=De.presentation_time_delta/Ft;mn=0===De.version?qt+Ye-Qt+ln:qt-Qt+ln;var Mn=De.event_duration/Ft,Nn=De.id,Yn=De.message_data;return dt.eventStream=Lt,dt.eventStream.value=rt,dt.eventStream.timescale=Ft,dt.duration=Mn,dt.id=Nn,dt.calculatedPresentationTime=mn,dt.messageData=Yn,dt.presentationTimeDelta=ln,dt}catch{return null}},getMpd:W,setConfig:function B(De){De&&(De.constants&&(x=De.constants),De.cea608parser&&(P=De.cea608parser),De.errHandler&&R.setConfig({errHandler:De.errHandler}),De.BASE64&&R.setConfig({BASE64:De.BASE64}))},updatePeriods:function pe(De){if(!De)return null;Tn(),k=Te(De)},getIsTextTrack:function ke(De){return R.getIsText(De)},getUTCTimingSources:function Ie(){var De=yt();return R.getUTCTimingSources(De)},getSuggestedPresentationDelay:function He(){return R.getSuggestedPresentationDelay(k.length>0?k[0].mpd:null)},getAvailabilityStartTime:function ot(De){var Pe=W(De);return R.getAvailabilityStartTime(Pe)},getIsTypeOf:function Ve(De,Pe){return R.getIsTypeOf(De,Pe)},getIsDynamic:function Je(De){var Pe=yt(De);return R.getIsDynamic(Pe)},getDuration:function Ne(De){var Pe=yt(De);return R.getDuration(Pe)},getRegularPeriods:Te,getContentSteering:function se(De){return R.getContentSteering(De)},getLocation:function ge(De){return R.getLocation(De)},getPatchLocation:function Z(De){var Pe=R.getPatchLocation(De),Ye=R.getPublishTime(De);if(!Pe||!Ye)return null;if(Pe.hasOwnProperty("ttl")&&Ye){var ze=1e3*parseFloat(Pe.ttl);if(Ye.getTime()+ze<=(new Date).getTime())return null}return Pe.__text},getManifestUpdatePeriod:function J(De){return R.getManifestUpdatePeriod(De,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function Q(De){return R.getPublishTime(De)},getIsDVB:function te(De){return R.hasProfile(De,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function ne(De){return j.getIsPatch(De)},getBaseURLsFromElement:function ee(De){return R.getBaseURLsFromElement(De)},getRepresentationSortFunction:function X(){return R.getRepresentationSortFunction()},getCodec:function ue(De,Pe,Ye){return R.getCodec(De,Pe,Ye)},getPeriodById:function Ke(De){if(!De||0===k.length)return null;var Pe=k.filter(function(Ye){return Ye.id===De});return Pe&&Pe.length>0?Pe[0]:null},setCurrentMediaInfo:function Ue(De,Pe,Ye){O[De]=O[De]||{},O[De][Pe]=O[De][Pe]||{},O[De][Pe]=Ye},isPatchValid:function ct(De,Pe){var Ye=R.getId(De),ze=j.getMpdId(Pe),lt=R.getPublishTime(De),rt=j.getPublishTime(Pe),dt=j.getOriginalPublishTime(Pe);return!!(Ye&&ze&&Ye==ze&&lt&&dt&&lt.getTime()==dt.getTime()&&rt&&lt.getTime()<rt.getTime())},applyPatchToManifest:function nt(De,Pe){j.getPatchOperations(Pe).forEach(function(Ye){var ze=Ye.getMpdTarget(De);if(null!==ze){var lt=ze.name,rt=ze.target,dt=ze.leaf;if(Ye.xpath.findsAttribute()){switch(Ye.action){case"add":case"replace":rt[lt]=Ye.value;break;case"remove":delete rt[lt]}return}var Ft=(rt[lt+"_asArray"]||[]).indexOf(dt),qt="prepend"===Ye.position||"before"===Ye.position;if(("remove"===Ye.action||"replace"===Ye.action)&&(delete rt[lt],-1!=Ft)){var Lt=rt[lt+"_asArray"];Lt.splice(Ft,1),Lt.length>1?rt[lt]=Lt:1==Lt.length?rt[lt]=Lt[0]:delete rt[lt+"_asArray"]}("add"===Ye.action||"replace"===Ye.action)&&Object.keys(Ye.value).forEach(function(Qt){var ln=Ye.value[Qt],mn=rt[Qt+"_asArray"]||[];0===mn.length&&rt[Qt]&&mn.push(rt[Qt]),0===mn.length?mn=ln:mn.splice.apply(mn,[Qt==lt&&-1!=Ft?Ft+(qt?0:1)+("replace"==Ye.action?-1:0):qt?0:mn.length,0].concat(ln)),rt[Qt+"_asArray"]=mn,rt[Qt]=1==mn.length?mn[0]:mn})}})},areMediaInfosEqual:$,reset:st},function S(){R=Object(p.default)(T).getInstance(),j=Object(f.default)(T).getInstance(),st()}(),U}A.__dashjs_factory_name="DashAdapter",C.default=D.default.getSingletonFactory(A)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),y=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),L=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function f(g){var P,T,N,S,B,v=(g=g||{}).eventBus,A=g.debug,U=g.urlUtils,R=g.type,j=g.streamInfo,k=g.segmentsController,O=g.timelineConverter,x=g.baseURLController;function Fe(){return R}function ae(){N=null}function pe(Ie,He,ot){var Ne,Te,Je=x.resolve(ot.path);return Je&&He!==Je.url&&U.isRelative(He)?(Ne=Je.url,Te=Je.serviceLocation,He&&(Ne=U.resolve(He,Ne))):Ne=He,!U.isRelative(Ne)&&(Ie.url=Ne,Ie.serviceLocation=Te,!0)}function Se(Ie,He){if(null==He)return null;var ot=new t.default,Je=He.representation,Ne=Je.adaptation.period.mpd.manifest.Period_asArray[Je.adaptation.period.index].AdaptationSet_asArray[Je.adaptation.index].Representation_asArray[Je.index].bandwidth,Te=He.media;return Te=Object(F.replaceTokenForTemplate)(Te,"Number",He.replacementNumber),Te=Object(F.replaceTokenForTemplate)(Te,"Time",He.replacementTime),Te=Object(F.replaceTokenForTemplate)(Te,"Bandwidth",Ne),Te=Object(F.replaceIDForTemplate)(Te,Je.id),Te=Object(F.unescapeDollarsInTemplate)(Te),ot.mediaType=Fe(),ot.type=y.HTTPRequest.MEDIA_SEGMENT_TYPE,ot.range=He.mediaRange,ot.startTime=He.presentationStartTime,ot.mediaStartTime=He.mediaStartTime,ot.duration=He.duration,ot.timescale=Je.timescale,ot.availabilityStartTime=He.availabilityStartTime,ot.availabilityEndTime=He.availabilityEndTime,ot.availabilityTimeComplete=Je.availabilityTimeComplete,ot.wallStartTime=He.wallStartTime,ot.quality=Je.index,ot.index=He.index,ot.mediaInfo=Ie,ot.adaptationIndex=Je.adaptation.index,ot.representationId=Je.id,pe(ot,Te,Je)?ot:void 0}function fe(Ie,He,ot){var Je=null;if(!He||!He.segmentInfoType)return Je;var Ne=k.getSegmentByTime(He,ot);return Ne&&(N=Ne,T.debug("Index for time "+ot+" is "+Ne.index),Je=Se(Ie,Ne)),Je}function ke(){T.debug("Dynamic stream complete"),B=!0}return P={initialize:function q(Ie){S=Ie,B=!1,k.initialize(Ie)},getStreamId:function le(){return j.id},getType:Fe,getStreamInfo:function $(){return j},getInitRequest:function oe(Ie,He){return He?function he(Ie,He,ot){var Je=new t.default,Ne=He.adaptation.period,Te=Ne.start;if(Je.mediaType=ot,Je.type=y.HTTPRequest.INIT_SEGMENT_TYPE,Je.range=He.range,Je.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(Te,He,S),Je.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(Te+Ne.duration,He,S),Je.quality=He.index,Je.mediaInfo=Ie,Je.representationId=He.id,pe(Je,He.initialization,He))return Je.url=Object(F.replaceTokenForTemplate)(Je.url,"Bandwidth",He.bandwidth),Je}(Ie,He,Fe()):null},getSegmentRequestForTime:fe,getCurrentIndex:function Ue(){return N?N.index:-1},getNextSegmentRequest:function Me(Ie,He){var ot=null;if(!He||!He.segmentInfoType)return null;var Je=N?N.index+1:0,Ne=k.getSegmentByIndex(He,Je,N?N.mediaStartTime:-1);if(Ne)ot=Se(Ie,Ne),N=Ne;else{if(S&&!B)return T.debug(Fe()+" No segment found at index: "+Je+". Wait for next loop"),null;B=!0}return ot},isLastSegmentRequested:function Le(Ie,He){if(!Ie||!N)return!1;if(B)return!0;if(!isFinite(Ie.adaptation.period.duration)||N.presentationStartTime+N.duration>He)return!1;if(Ie.mediaFinishedInformation&&!isNaN(Ie.mediaFinishedInformation.numberOfSegments)&&!isNaN(N.index)&&N.index>=Ie.mediaFinishedInformation.numberOfSegments-1){if(!S||Ie.segmentInfoType===L.default.SEGMENT_TEMPLATE)return!0;if(S&&Ie.segmentInfoType===L.default.SEGMENT_LIST&&Ie.adaptation.period.nextPeriodId)return!0}return!!(S&&Ie.adaptation.period.nextPeriodId&&Ie.segmentInfoType===L.default.SEGMENT_TIMELINE&&Ie.mediaFinishedInformation&&!isNaN(Ie.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&N&&!isNaN(N.mediaStartTime)&&!isNaN(N.duration)&&N.mediaStartTime+N.duration>=Ie.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function K(){ae(),v.off(E.default.DYNAMIC_TO_STATIC,ke,P)},getNextSegmentRequestIdempotent:function Re(Ie,He){var Ne=k.getSegmentByIndex(He,N?N.index+1:0,N?N.mediaStartTime:-1);return Ne?Se(Ie,Ne):null},getValidTimeAheadOfTargetTime:function me(Ie,He,ot,Je){try{if(isNaN(Ie)||!He||!ot)return NaN;if(Ie<0&&(Ie=0),isNaN(Je)&&(Je=.5),fe(He,ot,Ie))return Ie;if(ot.adaptation.period.start+ot.adaptation.period.duration<Ie)return NaN;for(var Ne=isFinite(ot.adaptation.period.duration)?ot.adaptation.period.start+ot.adaptation.period.duration:Ie+30,Te=Math.min(Ie+Je,Ne),W=NaN,se=null;Te<=Ne;){var ge=null;if(Te<=Ne&&(ge=fe(He,ot,Te)),ge){W=Te,se=ge;break}Te+=Je}if(se){var J=se.startTime+se.duration;return Ie>se.startTime&&J-Ie>Je?Ie:!isNaN(se.startTime)&&Ie<se.startTime&&W>se.startTime?se.startTime+.001:Math.min(J-Je,W)}return W}catch{return NaN}}},function Y(){T=A.getLogger(P),ae(),v.on(E.default.DYNAMIC_TO_STATIC,ke,P)}(),P}f.__dashjs_factory_name="DashHandler",C.default=I.default.getClassFactory(f)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),F=c(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),L=c(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),D=c(
/*! ../core/Utils */
"./src/core/Utils.js"),p=c(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function f(g){var A,U,R,j,v=this.context,k=(g=g||{}).metricsModel;function le(ge){var J=k.getMetricsFor(ge,!0);if(!J)return null;var te,Q=J.HttpList,Z=null;if(!Q||Q.length<=0)return null;for(te=Q.length-1;te>=0;){if(Q[te].responsecode){Z=Q[te];break}te--}return Z}function Fe(ge){var J=k.getMetricsFor(ge,!0);return J&&J.HttpList?J.HttpList:[]}function ae(ge,J){if(!ge)return null;var Q=ge[J];return Q&&0!==Q.length?Q[Q.length-1]:null}return A={getCurrentRepresentationSwitch:function P(ge){return ae(k.getMetricsFor(ge,!0),E.default.TRACK_SWITCH)},getCurrentBufferState:function N(ge){return ae(k.getMetricsFor(ge,!0),E.default.BUFFER_STATE)},getCurrentBufferLevel:function S(ge){var Q=ae(k.getMetricsFor(ge,!0),E.default.BUFFER_LEVEL);return Q?F.default.round10(Q.level/1e3,-3):0},getCurrentHttpRequest:le,getHttpRequests:Fe,getCurrentDroppedFrames:function K(){return ae(k.getMetricsFor(t.default.VIDEO,!0),E.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function oe(ge){return ae(k.getMetricsFor(ge,!0),E.default.SCHEDULING_INFO)},getCurrentDVRInfo:function Ue(ge){return ae(ge?k.getMetricsFor(ge,!0):k.getMetricsFor(t.default.VIDEO,!0)||k.getMetricsFor(t.default.AUDIO,!0),E.default.DVR_INFO)},getCurrentManifestUpdate:function Se(){return ae(k.getMetricsFor(t.default.STREAM),E.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function He(ge,J){if(!J)return null;var Q={},Z=le(ge);Z&&(Q=D.default.parseHttpHeaders(Z._responseHeaders));var te=Q[J.toLowerCase()];return void 0===te?null:te},getLatestMPDRequestHeaderValueByID:function Ie(ge){if(!ge)return null;var Q,Z,te,J={};for(te=(Q=Fe(t.default.STREAM)).length-1;te>=0;te--)if((Z=Q[te]).type===y.HTTPRequest.MPD_TYPE){J=D.default.parseHttpHeaders(Z._responseHeaders);break}var ne=J[ge.toLowerCase()];return void 0===ne?null:ne},addRepresentationSwitch:function T(ge,J,Q,Z,te){k.addRepresentationSwitch(ge,J,Q,Z,te)},addDVRInfo:function ke(ge,J,Q,Z){k.addDVRInfo(ge,J,Q,Z)},updateManifestUpdateInfo:function Le(ge){var J=this.getCurrentManifestUpdate();k.updateManifestUpdateInfo(J,ge)},addManifestUpdateStreamInfo:function fe(ge){if(ge){var J=this.getCurrentManifestUpdate();k.addManifestUpdateStreamInfo(J,ge.id,ge.index,ge.start,ge.duration)}},addManifestUpdateRepresentationInfo:function me(ge,J){if(ge){var Q=this.getCurrentManifestUpdate();k.addManifestUpdateRepresentationInfo(Q,ge.id,ge.index,ge.streamIndex,J,ge.presentationTimeOffset,ge.startNumber,ge.fragmentInfoType)}},addManifestUpdate:function Re(ge){k.addManifestUpdate(t.default.STREAM,ge.type,ge.requestStartDate,ge.requestEndDate)},addHttpRequest:function Me(ge,J,Q,Z,te){k.addHttpRequest(ge.mediaType,null,ge.type,ge.url,ge.quality,J,ge.serviceLocation||null,ge.range||null,ge.requestStartDate,ge.firstByteDate,ge.requestEndDate,Q,ge.duration,Z,te,ge.fileLoaderType)},addSchedulingInfo:function he(ge,J){k.addSchedulingInfo(ge.mediaType,new Date,ge.type,ge.startTime,ge.availabilityStartTime,ge.duration,ge.quality,ge.range,J)},addRequestsQueue:function $(ge,J,Q){k.addRequestsQueue(ge,J,Q)},addBufferLevel:function B(ge,J,Q){k.addBufferLevel(ge,J,Q)},addBufferState:function Y(ge,J,Q){k.addBufferState(ge,J,Q)},addDroppedFrames:function pe(ge){k.addDroppedFrames(t.default.VIDEO,ge)},addPlayList:function ot(){j&&(k.addPlayList(j),j=null)},addDVBErrors:function se(ge){k.addDVBErrors(ge)},createPlaylistMetrics:function Je(ge,J){(j=new p.PlayList).start=new Date,j.mstart=ge,j.starttype=J},createPlaylistTraceMetrics:function Ne(ge,J,Q){!0===U&&(U=!1,(R=new p.PlayListTrace).representationid=ge,R.start=new Date,R.mstart=J,R.playbackspeed=null!==Q?Q.toString():null)},updatePlayListTraceMetrics:function Te(ge){if(R)for(var J in R)R[J]=ge[J]},pushPlayListTraceMetrics:function W(ge,J){if(!1===U&&j&&R&&R.start){var Q=R.start,Z=ge.getTime()-Q.getTime();R.duration=Z,R.stopreason=J,j.trace.push(R),U=!0}},clearAllCurrentMetrics:function q(){k.clearAllCurrentMetrics()}},function O(){k=k||Object(L.default)(v).getInstance({settings:g.settings}),function x(){U=!0,R=null,j=null}()}(),A}f.__dashjs_factory_name="DashMetrics",C.default=I.default.getSingletonFactory(f)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),y=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),I=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),F=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function L(){var p,f,g,v,A,U,R,j,k,O,x,P,T,D=this.context;function q(oe,he,Se,Le){var fe=null,Re=oe?T.resolve(oe.path):null,Me=Le||{init:!0,url:Re?Re.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:he};f.debug("Start searching for initialization.");var me=pe(Me);j.load({request:me,success:function(He){if(Me.bytesLoaded=Me.range.end,!(fe=v.findInitRange(He)))return Me.range.end=Me.bytesLoaded+Me.bytesToLoad,q(oe,he,Se,Me);oe.range=fe,Se(oe)},error:function(){Se(oe)}}),f.debug("Perform init search: "+Me.url)}function Fe(oe,he,Se,Le,fe,Re){if(Se&&(void 0===Se.start||void 0===Se.end)){var Me=Se?Se.toString().split("-"):null;Se=Me?{start:parseFloat(Me[0]),end:parseFloat(Me[1])}:null}fe=fe||$;var me=null,Ue=null,ke=!!Se,Ie=oe?T.resolve(oe.path):null,He={init:!1,url:Ie?Ie.url:void 0,range:ke?Se:{start:0,end:1500},searching:!ke,bytesLoaded:Re?Re.bytesLoaded:0,bytesToLoad:1500,mediaType:he},ot=pe(He);j.load({request:ot,success:function(W){var se=He.bytesToLoad,ge=W.byteLength;if(He.bytesLoaded=He.range.end-He.range.start,me=v.parse(W),(Ue=me.getBox("sidx"))&&Ue.isComplete){var Z,te,Q=Ue.references;if(null!=Q&&Q.length>0&&(Z=1===Q[0].reference_type),Z){f.debug("Initiate multiple SIDX load."),He.range.end=He.range.start+Ue.size;var ne,ee,X,ue,de=[],xe=0,Ke=(Ue.offset||He.range.start)+Ue.size,Ve=function(ct){ct?(de=de.concat(ct),++xe>=ee&&(de.sort(function(nt,yt){return nt.startTime-yt.startTime<0?-1:0}),fe(de,oe,Le))):fe(null,oe,Le)};for(ne=0,ee=Q.length;ne<ee;ne++)X=Ke,ue=Ke+Q[ne].referenced_size-1,Ke+=Q[ne].referenced_size,Fe(oe,he,{start:X,end:ue},Le,Ve,He)}else f.debug("Parsing segments from SIDX. representation "+he+" - id: "+oe.id+" for range : "+He.range.start+" - "+He.range.end),te=function K(oe,he){for(var Ue,Ie,He,Se=oe.references,Le=Se.length,fe=oe.timescale,Re=oe.earliest_presentation_time,Me=he.range.start+oe.offset+oe.first_offset+oe.size,me=[],ot=0;ot<Le;ot++)Ie=Se[ot].subsegment_duration,He=Se[ot].referenced_size,(Ue=new t.default).duration=Ie,Ue.startTime=Re,Ue.timescale=fe,Ue.mediaRange=Me+"-"+(Me+He-1),me.push(Ue),Re+=Ie,Me+=He;return me}(Ue,He),fe(te,oe,Le)}else{if(Ue)He.range.start=Ue.offset||He.range.start,He.range.end=He.range.start+(Ue.size||se);else{if(ge<He.bytesLoaded)return void fe(null,oe,Le);var J=me.getLastBox();J&&J.size?(He.range.start=J.offset+J.size,He.range.end=He.range.start+se):He.range.end+=se}Fe(oe,he,He.range,Le,null,He)}},error:function(){fe(null,oe,Le)}}),f.debug("Perform SIDX load for type ".concat(he," : ").concat(He.url," with range ").concat(He.range.start," - ").concat(He.range.end))}function $(oe,he,Se){Se({segments:oe,representation:he,error:oe?void 0:new y.default(k.SEGMENT_BASE_LOADER_ERROR_CODE,k.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function pe(oe){if(oe.url){var he=new E.default;return he.setInfo(oe),he}}return p={setConfig:function B(oe){oe.baseURLController&&(T=oe.baseURLController),oe.dashMetrics&&(U=oe.dashMetrics),oe.mediaPlayerModel&&(R=oe.mediaPlayerModel),oe.errHandler&&(g=oe.errHandler),oe.boxParser&&(v=oe.boxParser),oe.debug&&(f=oe.debug.getLogger(p)),oe.requestModifier&&(A=oe.requestModifier),oe.errors&&(k=oe.errors),oe.urlUtils&&(P=oe.urlUtils),oe.constants&&(O=oe.constants),oe.dashConstants&&(x=oe.dashConstants)},initialize:function S(){j=Object(F.default)(D).create({errHandler:g,dashMetrics:U,mediaPlayerModel:R,requestModifier:A,boxParser:v,errors:k,urlUtils:P,constants:O,dashConstants:x})},loadInitialization:function Y(oe,he){return new Promise(function(Se){q(oe,he,Se)})},loadSegments:function le(oe,he,Se){return new Promise(function(Le){Fe(oe,he,Se,Le)})},reset:function ae(){j&&(j.abort(),j=null)}}}L.__dashjs_factory_name="SegmentBaseLoader",C.default=I.default.getSingletonFactory(L)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),y=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),F=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),L=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),D=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function p(){var g,v,A,U,R,j,k,O,x,P,f=this.context;function Y(K,pe,oe,he){var Le,fe,Re,Me,me;for(fe=[],Me=0,me=(Le=function B(K){var he,Se,pe=[],oe=Object(t.default)(f).create({data:K});for(oe.consumeTagAndSize(A.Segment.Cues);oe.moreData()&&oe.consumeTagAndSize(A.Segment.Cues.CuePoint,!0);){for((he={}).CueTime=oe.parseTag(A.Segment.Cues.CuePoint.CueTime),he.CueTracks=[];oe.moreData()&&oe.consumeTag(A.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Le=oe.getMatroskaCodedNum(),fe=oe.getPos();if((Se={}).Track=oe.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===Se.Track)throw new Error("Cue track cannot be 0");Se.ClusterPosition=oe.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),he.CueTracks.push(Se),oe.setPos(fe+Le)}if(0===he.CueTracks.length)throw new Error("Mandatory cuetrack not found");pe.push(he)}if(0===pe.length)throw new Error("mandatory cuepoint not found");return pe}(K)).length;Me<me;Me+=1)(Re=new E.default).duration=Me<Le.length-1?Le[Me+1].CueTime-Le[Me].CueTime:he-Le[Me].CueTime,Re.startTime=Le[Me].CueTime,Re.timescale=1e3,Re.mediaRange=Le[Me].CueTracks[0].ClusterPosition+pe+"-"+(Me<Le.length-1?Le[Me+1].CueTracks[0].ClusterPosition+pe-1:oe-1),fe.push(Re);return v.debug("Parsed cues: "+fe.length+" cues."),fe}function $(K){var pe=new F.default;return pe.setInfo(K),pe}return g={setConfig:function S(K){if(!(K.baseURLController&&K.dashMetrics&&K.mediaPlayerModel&&K.errHandler))throw new Error(y.default.MISSING_CONFIG_ERROR);P=K.baseURLController,j=K.dashMetrics,k=K.mediaPlayerModel,U=K.errHandler,x=K.errors,v=K.debug.getLogger(g),R=K.requestModifier},initialize:function N(){O=Object(L.default)(f).create({errHandler:U,dashMetrics:j,mediaPlayerModel:k,requestModifier:R,errors:x})},loadInitialization:function le(K,pe){return new Promise(function(oe){var he=null,Se=K?P.resolve(K.path):null,Le=K?K.range.split("-"):null,fe={range:{start:Le?parseFloat(Le[0]):null,end:Le?parseFloat(Le[1]):null},request:he,url:Se?Se.url:void 0,init:!0,mediaType:pe};v.info("Start loading initialization."),he=$(fe),O.load({request:he,success:function(){oe(K)},error:function(){oe(K)}}),v.debug("Perform init load: "+fe.url)})},loadSegments:function Fe(K,pe,oe){return new Promise(function(he){var Se=null,Le=K?P.resolve(K.path):null,fe=Le?Le.url:void 0;Se=$({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Se,url:fe,init:!1,mediaType:pe}),v.debug("Parsing ebml header"),O.load({request:Se,success:function(Ie){!function q(K,pe,oe,he){if(K&&0!==K.byteLength){var Le,fe,Re,Me,Se=Object(t.default)(f).create({data:K}),me=oe?oe.split("-"):null,Ue=null,ke={url:pe,range:{start:me?parseFloat(me[0]):null,end:me?parseFloat(me[1]):null},request:Ue};for(v.debug("Parse EBML header: "+ke.url),Se.skipOverElement(A.EBML),Se.consumeTag(A.Segment),Re=Se.getMatroskaCodedNum(),Re+=Se.getPos(),Me=Se.getPos();Se.moreData()&&!Se.consumeTagAndSize(A.Segment.Info,!0);)if(!(Se.skipOverElement(A.Segment.SeekHead,!0)||Se.skipOverElement(A.Segment.Tracks,!0)||Se.skipOverElement(A.Segment.Cues,!0)||Se.skipOverElement(A.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Le;){var Ie=Se.getMatroskaCodedNum(!0),He=Se.getMatroskaCodedNum();Ie===A.Segment.Info.Duration.tag?Le=Se[A.Segment.Info.Duration.parse](He):Se.setPos(Se.getPos()+He)}Ue=$(ke),O.load({request:Ue,success:function(Te){fe=Y(Te,Me,Re,Le),he(fe)},error:function(){v.error("Download Error: Cues "+ke.url),he(null)}}),v.debug("Perform cues load: "+ke.url+" bytes="+ke.range.start+"-"+ke.range.end)}else he(null)}(Ie,fe,oe,function(He){he({segments:He,representation:K,error:He?void 0:new D.default(x.SEGMENT_BASE_LOADER_ERROR_CODE,x.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){he({representation:K,error:new D.default(x.SEGMENT_BASE_LOADER_ERROR_CODE,x.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function ae(){O&&(O.abort(),O=null)}},function T(){A={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),g}p.__dashjs_factory_name="WebmSegmentBaseLoader",C.default=I.default.getSingletonFactory(p)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function I(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(C);var p=new(function(){function f(){(function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,v){return g&&I(f.prototype,g),v&&I(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),f}());C.default=p},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),E=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),L=c(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),D=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),A=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),U_THROUGHPUT="_DASH_throughput",U_PATHWAY="_DASH_pathway",U_URL="url";function R(){var O,x,P,T,N,S,B,Y,q,le,Fe,$,ae,K,pe,j=this.context,k=Object(A.default)(j).getInstance();function Le(W){W&&W.toStreamInfo&&(T=W.toStreamInfo)}function fe(W){W&&W.request&&W.request.serviceLocation&&(N=W.request.serviceLocation)}function Re(){var W=Fe.getValue();return pe.getContentSteering(W)}function me(){return new Promise(function(W){try{var se=Re();if(!se||!se.serverUrl)return void W();var ge=function Ue(W){var se=W.proxyServerUrl?W.proxyServerUrl:W.serverUrl;P&&P.reloadUri&&(se=k.isRelative(P.reloadUri)?k.resolve(P.reloadUri,W.serverUrl):P.reloadUri);var ge=[];if(T){var J=pe.getIsDynamic(),Q=pe.getAllMediaInfoForType(T,g.default.VIDEO).length>0?g.default.VIDEO:g.default.AUDIO,Z=ae.getThroughputHistory(),te=Z?Z.getAverageThroughput(Q,J):NaN;isNaN(te)||ge.push({key:U_THROUGHPUT,value:1e3*te})}return N&&ge.push({key:U_PATHWAY,value:N}),W.proxyServerUrl&&W.proxyServerUrl===se&&W.serverUrl&&ge.push({key:U_URL,value:encodeURI(W.serverUrl)}),v.default.addAditionalQueryParameterToUrl(se,ge)}(se),J=new F.default(ge);B.load({request:J,success:function(Z){(function ke(W){!W||!W[D.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(W[D.default.CONTENT_STEERING_RESPONSE.VERSION])||((P=new L.default).version=W[D.default.CONTENT_STEERING_RESPONSE.VERSION],W[D.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(W[D.default.CONTENT_STEERING_RESPONSE.TTL])&&(P.ttl=W[D.default.CONTENT_STEERING_RESPONSE.TTL]),W[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(P.reloadUri=W[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),W[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(P.serviceLocationPriority=W[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),Ie())})(Z),K.trigger(p.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:P,url:ge}),W()},error:function(Z){(function ot(W){x.warn("Error fetching data from content steering server",W),Ie()})(Z),W(Z)}})}catch(Q){W(Q)}})}function Ie(){P&&P.ttl&&!isNaN(P.ttl)&&(S&&clearTimeout(S),S=setTimeout(function(){me()},1e3*P.ttl))}function He(){S&&clearTimeout(S),S=null}function Te(){P=null,T=null,N=null,He()}return O={reset:function Ne(){Te(),K.off(p.default.PERIOD_SWITCH_COMPLETED,Le,O),K.off(f.default.FRAGMENT_LOADING_STARTED,fe,O)},setConfig:function he(W){W&&(W.adapter&&(pe=W.adapter),W.errHandler&&(Y=W.errHandler),W.dashMetrics&&(q=W.dashMetrics),W.mediaPlayerModel&&(le=W.mediaPlayerModel),W.requestModifier&&($=W.requestModifier),W.manifestModel&&(Fe=W.manifestModel),W.abrController&&(ae=W.abrController),W.eventBus&&(K=W.eventBus))},loadSteeringData:me,getCurrentSteeringResponseData:function Je(){return P},shouldQueryBeforeStart:function Me(){var W=Re();return W&&W.queryBeforeStart},getSteeringDataFromManifest:Re,stopSteeringRequestTimer:He,initialize:function Se(){B=Object(I.default)(j).create({errHandler:Y,dashMetrics:q,mediaPlayerModel:le,requestModifier:$,errors:E.default}),K.on(p.default.PERIOD_SWITCH_COMPLETED,Le,O),K.on(f.default.FRAGMENT_LOADING_STARTED,fe,O)}},function oe(){x=Object(y.default)(j).getInstance().getLogger(O),Te()}(),O}R.__dashjs_factory_name="ContentSteeringController",C.default=t.default.getSingletonFactory(R)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),E=c(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function F(L){var x,P,T,N,S,D=(L=L||{}).eventBus,p=L.events,f=L.abrController,g=L.dashMetrics,v=L.playbackController,A=L.timelineConverter,U=L.type,R=L.streamInfo,j=L.dashConstants,k=L.segmentsController,O=L.isDynamic;function q(){return U}function le(){if(!(f&&g&&v&&A))throw new Error(t.default.MISSING_CONFIG_ERROR)}function $(){return T}function ae(){return S}function K(){P=null,T=!0,N=[]}function he(Ne){return new Promise(function(Te,W){var se=Ne.hasInitialization(),ge=Ne.hasSegments(),J=[];J.push(k.updateInitData(Ne,se)),J.push(k.updateSegmentData(Ne,ge)),Promise.all(J).then(function(Q){Q[0]&&!Q[0].error&&(Ne=function Le(Ne,Te){return Te&&!Te.error&&Te.representation?Te.representation:Ne}(Ne,Q[0])),Q[1]&&!Q[1].error&&(Ne=function fe(Ne,Te){if(Te&&!Te.error){var J,Q,Z,te,W=Te.segments,se=[],ge=0;for(J=0,Q=W?W.length:0;J<Q;J++)Z=W[J],(te=Object(E.getTimeBasedSegment)(A,O,Ne,Z.startTime,Z.duration,Z.timescale,Z.media,Z.mediaRange,ge))&&(se.push(te),te=null,ge++);return se.length>0&&(Ne.segments=se),Ne}}(Ne,Q[1])),function Se(Ne){Ne.mediaFinishedInformation=k.getMediaFinishedInformation(Ne)}(Ne),function Ie(Ne){if($()){var se,Te=g.getCurrentManifestUpdate(),W=!1;if(Te){for(var J=0;J<Te.representationInfo.length;J++)if((se=Te.representationInfo[J]).index===Ne.index&&se.mediaType===q()){W=!0;break}W||g.addManifestUpdateRepresentationInfo(Ne,q())}if(function Ue(){for(var Ne=0,Te=N.length;Ne<Te;Ne++){var W=N[Ne].segmentInfoType;if(!N[Ne].hasInitialization()||(W===j.SEGMENT_BASE||W===j.BASE_URL)&&!N[Ne].segments)return!1}return!0}()){f.setPlaybackQuality(U,R,function me(Ne){return N.indexOf(Ne)}(S));var Q=g.getCurrentDVRInfo(U);Q&&g.updateManifestUpdateInfo({latency:Q.range.end-v.getTime()}),g.getCurrentRepresentationSwitch(ae().adaptation.type)||Re(),ke()}}}(Ne),Te()}).catch(function(Q){W(Q)})})}function Re(){le();var Ne=new Date,Te=ae(),W=1e3*v.getTime();Te&&g.addRepresentationSwitch(Te.adaptation.type,Ne,W,Te.id),D.trigger(I.default.REPRESENTATION_SWITCH,{mediaType:U,streamId:R.id,currentRepresentation:Te,numberOfRepresentations:N.length},{streamId:R.id,mediaType:U})}function Me(Ne){return null==Ne||Ne>=N.length?null:N[Ne]}function ke(Ne){T=!1,D.trigger(p.DATA_UPDATE_COMPLETED,{data:P,currentRepresentation:S,error:Ne},{streamId:R.id,mediaType:U})}function ot(Ne){S=Ne}function Je(Ne){if(Ne.newDuration){var Te=ae();Te&&Te.adaptation.period&&(Te.adaptation.period.duration=Ne.newDuration)}}return x={getStreamId:function Y(){return R.id},getType:q,getData:function Fe(){return P},isUpdating:$,updateData:function oe(Ne,Te,W,se,ge){if(le(),T=!0,N=Te,ot(Me(ge)),P=Ne,W!==t.default.VIDEO&&W!==t.default.AUDIO&&(W!==t.default.TEXT||!se))return ke(),Promise.resolve();for(var Q=[],Z=0,te=N.length;Z<te;Z++)Q.push(he(N[Z]));return Promise.all(Q)},getCurrentRepresentation:ae,getRepresentationForQuality:Me,prepareQualityChange:function He(Ne){ot(Me(Ne)),Re()},reset:function pe(){D.off(I.default.MANIFEST_VALIDITY_CHANGED,Je,x),K()}},function B(){K(),D.on(I.default.MANIFEST_VALIDITY_CHANGED,Je,x)}(),x}F.__dashjs_factory_name="RepresentationController",C.default=y.default.getClassFactory(F)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),I=c(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function E(L){var x,P,T,D=this.context,p=(L=L||{}).eventBus,f=L.events,g=L.dashMetrics,v=L.mediaPlayerModel,A=L.errHandler,U=L.baseURLController,R=L.debug,j=L.boxParser,k=L.requestModifier,O=L.errors;function S(Fe){return"webm"===(Fe?Fe.split("/")[1]:"").toLowerCase()}return x={initialize:function B(){P.initialize(),T.initialize()},getSegmentBaseInitSegment:function Y(Fe){return S(Fe.representation.mimeType)?T.loadInitialization(Fe.representation,Fe.mediaType):P.loadInitialization(Fe.representation,Fe.mediaType)},getSegmentList:function q(Fe){return S(Fe.mimeType)?T.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null):P.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null)},reset:function le(){P.reset(),T.reset()}},function N(){P=Object(y.default)(D).getInstance(),T=Object(I.default)(D).getInstance(),P.setConfig({baseURLController:U,dashMetrics:g,mediaPlayerModel:v,errHandler:A,eventBus:p,events:f,errors:O,debug:R,boxParser:j,requestModifier:k}),T.setConfig({baseURLController:U,dashMetrics:g,mediaPlayerModel:v,errHandler:A,eventBus:p,events:f,errors:O,debug:R,requestModifier:k})}(),x}E.__dashjs_factory_name="SegmentBaseController";var F=t.default.getSingletonFactory(E);C.default=F},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),I=c(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),E=c(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),F=c(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function L(p){var U,R,f=this.context,g=(p=p||{}).dashConstants,v=p.type,A=p.segmentBaseController;function P(B){return B?B.segments?R[g.SEGMENT_BASE]:R[B.segmentInfoType]:null}return U={initialize:function k(B){R[g.SEGMENT_TIMELINE]=Object(y.default)(f).create(p,B),R[g.SEGMENT_TEMPLATE]=Object(I.default)(f).create(p,B),R[g.SEGMENT_LIST]=Object(E.default)(f).create(p,B),R[g.SEGMENT_BASE]=Object(F.default)(f).create(p,B)},updateInitData:function O(B,Y){return Y?Promise.resolve():A.getSegmentBaseInitSegment({representation:B,mediaType:v})},updateSegmentData:function x(B,Y){return Y?Promise.resolve():A.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:v})},getSegmentByIndex:function T(B,Y,q){var le=P(B);return le?le.getSegmentByIndex(B,Y,q):null},getSegmentByTime:function N(B,Y){var q=P(B);return q?q.getSegmentByTime(B,Y):null},getMediaFinishedInformation:function S(B){var Y=P(B);return Y?Y.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function j(){R={}}(),U}L.__dashjs_factory_name="SegmentsController";var D=t.default.getClassFactory(L);C.default=D},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=[I.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],L_VIDEO="video",L_AUDIO="audio",L_ANY="any",L_ALL="all";function D(){var f,g,v,A,U,p=this.context;function O(){g={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},v=[]}function le(K,pe,oe){try{g[K][pe]=oe/1e3}catch(he){A.error(he)}}return f={getServiceDescriptionSettings:function x(){return g},getProducerReferenceTimeOffsets:function Fe(){return v},calculateProducerReferenceTimeOffsets:function $(K){try{var pe=[];if(K&&K.length>0){var oe=[I.default.VIDEO,I.default.AUDIO,I.default.TEXT],he=U.getAvailabilityStartTime()/1e3;K.forEach(function(Se){var Le=oe.reduce(function(fe,Re){return fe.concat(U.getAllMediaInfoForType(Se,Re))},[]).reduce(function(fe,Re){return U.getProducerReferenceTimes(Se,Re).forEach(function(me){var Ue=U.getVoRepresentations(Re);if(Ue&&Ue.length>0&&Ue[0].adaptation&&Ue[0].segmentInfoType===E.default.SEGMENT_TEMPLATE){var ke=Ue[0],He=new Date(me[E.default.WALL_CLOCK_TIME]).getTime()/1e3;fe.push({id:me[E.default.ID],to:he-(He-(me[E.default.PRESENTATION_TIME]/ke[E.default.TIMESCALE]-ke[E.default.PRESENTATION_TIME_OFFSET]+Se.start))})}}),fe},[]);pe=pe.concat(Le)})}v=pe}catch(Se){A.error(Se),v=[]}},applyServiceDescription:function P(K){if(K&&K.serviceDescriptions){var pe=K.serviceDescriptions.filter(function(Se){return F.includes(Se.schemeIdUri)}),oe=K.serviceDescriptions.filter(function(Se){return null==Se.schemeIdUri}),he=pe.length>0?pe[pe.length-1]:oe[oe.length-1];he&&(he.latency&&he.latency.target>0&&function T(K){var pe;if(pe=K.schemeIdUri===I.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function S(K){return{liveDelay:K.latency.target/1e3,maxDrift:!isNaN(K.latency.max)&&K.latency.max>K.latency.target?(K.latency.max-K.latency.target+500)/1e3:NaN,referenceId:K.latency.referenceId||NaN}}(K):function N(K){return{liveDelay:K.latency.target/1e3,maxDrift:!isNaN(K.latency.max)&&K.latency.max>K.latency.target?(K.latency.max-K.latency.target+500)/1e3:NaN,referenceId:K.latency.referenceId||NaN}}(K),v.length>0){var oe=function ae(K){var oe,pe=0,he=v.filter(function(Se){return Se.id===K.referenceId});return 0===he.length?(pe=v.length>0?v[0].to:0,oe=v[0].id||NaN):(pe=he[0].to||0,oe=he[0].id||NaN),{to:pe,id:oe}}(pe),he=oe.to,Se=oe.id;g.liveDelay=pe.liveDelay-he,g.liveCatchup.maxDrift=pe.maxDrift,A.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(he," from ProducerReferenceTime element with id ").concat(Se,".\n                Live Delay: ").concat(pe.liveDelay-he,", Live catchup max drift: ").concat(pe.maxDrift,"\n            "))}else g.liveDelay=pe.liveDelay,g.liveCatchup.maxDrift=pe.maxDrift,A.debug("Found latency properties coming from service description: Live Delay: ".concat(pe.liveDelay,", Live catchup max drift: ").concat(pe.maxDrift))}(he),he.playbackRate&&function B(K){var pe=K.playbackRate.min?Math.round(1e3*(K.playbackRate.min-1))/1e3:NaN,oe=K.playbackRate.max?Math.round(1e3*(K.playbackRate.max-1))/1e3:NaN;g.liveCatchup.playbackRate.min=pe,g.liveCatchup.playbackRate.max=oe,A.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(pe)),A.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(oe))}(he),he.operatingBandwidth&&function q(K){if(K&&K.operatingBandwidth&&K.operatingBandwidth.mediaType&&K.operatingBandwidth.mediaType!==L_ALL){var pe={};pe.minBandwidth=K.operatingBandwidth.min,pe.maxBandwidth=K.operatingBandwidth.max,pe.targetBandwidth=K.operatingBandwidth.target;var oe=[];K.operatingBandwidth.mediaType===L_VIDEO||K.operatingBandwidth.mediaType===L_AUDIO?oe.push(K.operatingBandwidth.mediaType):K.operatingBandwidth.mediaType===L_ANY&&(oe.push(L_AUDIO),oe.push(L_VIDEO)),oe.forEach(function(he){isNaN(pe.minBandwidth)||le("minBitrate",he,pe.minBandwidth),isNaN(pe.maxBandwidth)||le("maxBitrate",he,pe.maxBandwidth),isNaN(pe.targetBandwidth)||le("initialBitrate",he,pe.targetBandwidth)})}}(he))}},reset:function k(){O()},setConfig:function j(K){K&&K.adapter&&(U=K.adapter)}},function R(){A=Object(y.default)(p).getInstance().getLogger(f),O()}(),f}D.__dashjs_factory_name="ServiceDescriptionController",C.default=t.default.getSingletonFactory(D)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),E=c(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),F=c(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),L=c(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),D=c(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),p=c(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),f=c(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),g=c(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),v=c(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),A=c(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),U=c(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),R=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),j=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),k=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),x=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),P=c(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function T($,ae){var K=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!K){if(Array.isArray($)||(K=B($))||ae&&$&&"number"==typeof $.length){K&&($=K);var pe=0,oe=function(){};return{s:oe,n:function(){return pe>=$.length?{done:!0}:{done:!1,value:$[pe++]}},e:function(Re){throw Re},f:oe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Le,he=!0,Se=!1;return{s:function(){K=K.call($)},n:function(){var Re=K.next();return he=Re.done,Re},e:function(Re){Se=!0,Le=Re},f:function(){try{!he&&null!=K.return&&K.return()}finally{if(Se)throw Le}}}}function N($){return function q($){if(Array.isArray($))return le($)}($)||function Y($){if(typeof Symbol<"u"&&null!=$[Symbol.iterator]||null!=$["@@iterator"])return Array.from($)}($)||B($)||function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B($,ae){if($){if("string"==typeof $)return le($,ae);var K=Object.prototype.toString.call($).slice(8,-1);if("Object"===K&&$.constructor&&(K=$.constructor.name),"Map"===K||"Set"===K)return Array.from($);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return le($,ae)}}function le($,ae){(null==ae||ae>$.length)&&(ae=$.length);for(var K=0,pe=new Array(ae);K<ae;K++)pe[K]=$[K];return pe}function Fe(){var $,ae,K,pe,oe=this.context,he=Object(R.default)(oe).getInstance(),Se=Number.isInteger||function(Et){return"number"==typeof Et&&isFinite(Et)&&Math.floor(Et)===Et};function fe(Et,at){if(!Et)throw new Error("adaptation is not defined");if(!at)throw new Error("type is not defined");if(Et.Representation_asArray&&Et.Representation_asArray.length){var Wt=Kt(Et.Representation_asArray[0]);if(Wt&&Wt.length>0&&P.THUMBNAILS_SCHEME_ID_URIS.indexOf(Wt[0].schemeIdUri)>=0)return at===t.default.IMAGE}if(Et.ContentComponent_asArray&&Et.ContentComponent_asArray.length>0){if(Et.ContentComponent_asArray.length>1)return at===t.default.MUXED;if(Et.ContentComponent_asArray[0].contentType===at)return!0}var We=at===t.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(at);if(Et.Representation_asArray&&Et.Representation_asArray.length&&We.test(Et.Representation_asArray[0].codecs))return!0;if(Et.hasOwnProperty(y.default.MIME_TYPE))return We.test(Et.mimeType);if(Et.Representation_asArray)for(var Pt,en=0;en<Et.Representation_asArray.length;en++)if((Pt=Et.Representation_asArray[en]).hasOwnProperty(y.default.MIME_TYPE))return We.test(Pt.mimeType);return!1}function Re(Et){if(!Et)throw new Error("adaptation is not defined");if(Et.hasOwnProperty(y.default.SEGMENT_TEMPLATE)||Et.hasOwnProperty(y.default.SEGMENT_TIMELINE)||Et.hasOwnProperty(y.default.SEGMENT_LIST)||Et.hasOwnProperty(y.default.SEGMENT_BASE))return!0;if(Et.Representation_asArray&&Et.Representation_asArray.length>0){var at=Et.Representation_asArray[0];if(at.hasOwnProperty(y.default.SEGMENT_TEMPLATE)||at.hasOwnProperty(y.default.SEGMENT_TIMELINE)||at.hasOwnProperty(y.default.SEGMENT_LIST)||at.hasOwnProperty(y.default.SEGMENT_BASE))return!0}return!1}function Me(Et){return fe(Et,t.default.AUDIO)}function me(Et){return fe(Et,t.default.VIDEO)}function Ue(Et){return fe(Et,t.default.TEXT)}function ke(Et){return fe(Et,t.default.MUXED)}function Ie(Et){return fe(Et,t.default.IMAGE)}function ge(){return function(Et,at){return Et.bandwidth-at.bandwidth}}function J(Et){return Et&&Array.isArray(Et.Representation_asArray)&&Et.Representation_asArray.sort(function(Et,at){return Et.bandwidth-at.bandwidth}),Et}function Q(Et,at){return Et&&Et.Period_asArray&&Se(at)&&Et.Period_asArray[at]?Et.Period_asArray[at].AdaptationSet_asArray:[]}function Z(Et){return Et&&Et.Period_asArray?Et.Period_asArray:[]}function st(Et){var at=!1;return Et&&Et.hasOwnProperty("type")&&(at=Et.type===y.default.DYNAMIC),at}function Kt(Et){return Et&&Et.EssentialProperty_asArray&&Et.EssentialProperty_asArray.length?Et.EssentialProperty_asArray.map(function(at){return{schemeIdUri:at.schemeIdUri,value:at.value}}):null}function ht(Et){if(!Et||!Et.S_asArray)return NaN;var at=Et.S_asArray[0],Wt=Et.S_asArray[1];return at.hasOwnProperty("d")?at.d:Wt.t-at.t}function Qe(Et){return Et.adaptation.period.start-Et.presentationTimeOffset}function Ye(Et,at){if(!Et)throw new Error("Period cannot be null or undefined");var Wt=F.default.DEFAULT_ID+"_"+at;return Et.hasOwnProperty(y.default.ID)&&Et.id.length>0&&"__proto__"!==Et.id&&(Wt=Et.id),Wt}function Ft(Et,at,Wt){var ut,We=[];if(!Et)return We;for(ut=0;ut<Et.length;ut++){var Pt=new g.default;if(Pt.timescale=1,Pt.representation=at,!Et[ut].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Pt.schemeIdUri=Et[ut].schemeIdUri,Et[ut].hasOwnProperty(y.default.TIMESCALE)&&(Pt.timescale=Et[ut].timescale),Et[ut].hasOwnProperty(y.default.VALUE)&&(Pt.value=Et[ut].value),We.push(Pt),Pt.period=Wt}return We}function ln(Et){var at=[],We=!1;return(Et.BaseURL_asArray||[Et.baseUri]).some(function(ut){if(ut){var Pt=new f.default,en=ut.__text||ut;return he.isRelative(en)&&(We=!0,Et.baseUri&&(en=he.resolve(en,Et.baseUri))),Pt.url=en,Pt.serviceLocation=ut.hasOwnProperty(y.default.SERVICE_LOCATION)&&ut.serviceLocation.length?ut.serviceLocation:en,ut.hasOwnProperty(y.default.DVB_PRIORITY)&&(Pt.dvb_priority=ut[y.default.DVB_PRIORITY]),ut.hasOwnProperty(y.default.DVB_WEIGHT)&&(Pt.dvb_weight=ut[y.default.DVB_WEIGHT]),ut.hasOwnProperty(y.default.AVAILABILITY_TIME_OFFSET)&&(Pt.availabilityTimeOffset=ut[y.default.AVAILABILITY_TIME_OFFSET]),ut.hasOwnProperty(y.default.AVAILABILITY_TIME_COMPLETE)&&(Pt.availabilityTimeComplete="false"!==ut[y.default.AVAILABILITY_TIME_COMPLETE]),at.push(Pt),We}}),at}return $={getIsTypeOf:fe,getIsText:Ue,getIsFragmented:Re,getProducerReferenceTimesForAdaptation:function He(Et){var at=Et&&Et.hasOwnProperty(y.default.PRODUCERREFERENCETIME_ASARRAY)?Et[y.default.PRODUCERREFERENCETIME_ASARRAY]:[];(Et&&Et.hasOwnProperty(y.default.REPRESENTATION_ASARRAY)?Et[y.default.REPRESENTATION_ASARRAY]:[]).forEach(function(ut){ut.hasOwnProperty(y.default.PRODUCERREFERENCETIME_ASARRAY)&&at.push.apply(at,N(ut[y.default.PRODUCERREFERENCETIME_ASARRAY]))});var We=[];return at.forEach(function(ut){var Pt=new v.default;ut.hasOwnProperty(y.default.ID)&&(Pt[y.default.ID]=ut[y.default.ID],ut.hasOwnProperty(y.default.WALL_CLOCK_TIME)&&(Pt[y.default.WALL_CLOCK_TIME]=ut[y.default.WALL_CLOCK_TIME],ut.hasOwnProperty(y.default.PRESENTATION_TIME)&&(Pt[y.default.PRESENTATION_TIME]=ut[y.default.PRESENTATION_TIME],We.push(Pt))))}),We},getLanguageForAdaptation:function ot(Et){var at="";return Et&&Et.hasOwnProperty(y.default.LANG)&&(at=Et.lang),at},getViewpointForAdaptation:function Je(Et){return Et&&Et.hasOwnProperty(y.default.VIEWPOINT)?Et.Viewpoint:null},getRolesForAdaptation:function Ne(Et){return Et&&Et.hasOwnProperty(y.default.ROLE_ASARRAY)?Et.Role_asArray:[]},getAccessibilityForAdaptation:function Te(Et){return Et&&Et.hasOwnProperty(y.default.ACCESSIBILITY_ASARRAY)?Et.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function W(Et){return Et&&Et.hasOwnProperty(y.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Et.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function se(Et){return Et&&Et.hasOwnProperty(y.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Et.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function ee(Et,at,Wt){var We=Q(at,Wt);return We.length>0&&Se(Et)?We[Et]:null},getIndexForAdaptation:function X(Et,at,Wt){if(!Et)return-1;for(var We=Q(at,Wt),ut=0;ut<We.length;ut++)if(Object(U.default)(oe).getInstance().areEqual(We[ut],Et))return ut;return-1},getAdaptationForId:function ne(Et,at,Wt){var ut,Pt,We=Q(at,Wt);for(ut=0,Pt=We.length;ut<Pt;ut++)if(We[ut].hasOwnProperty(y.default.ID)&&We[ut].id===Et)return We[ut];return null},getAdaptationsForType:function ue(Et,at,Wt){var ut,Pt,We=Q(Et,at),en=[];for(ut=0,Pt=We.length;ut<Pt;ut++)fe(We[ut],Wt)&&en.push(J(We[ut]));return en},getRealPeriods:Z,getRealPeriodForIndex:function te(Et,at){var Wt=Z(at);return Wt.length>0&&Se(Et)?Wt[Et]:null},getCodec:function _e(Et,at,Wt){var We=null;if(Et&&Et.Representation_asArray&&Et.Representation_asArray.length>0){var ut=Se(at)&&at>=0&&at<Et.Representation_asArray.length?Et.Representation_asArray[at]:Et.Representation_asArray[0];ut&&(We=ut.mimeType+';codecs="'+ut.codecs+'"',Wt&&void 0!==ut.width&&(We+=';width="'+ut.width+'";height="'+ut.height+'"'))}return We&&(We=We.replace(/\sprofiles=[^;]*/g,"")),We},getSelectionPriority:function un(Et){try{var at=Et&&typeof Et.selectionPriority<"u"?parseInt(Et.selectionPriority):1;return isNaN(at)?1:at}catch{return 1}},getMimeType:function de(Et){return Et&&Et.Representation_asArray&&Et.Representation_asArray.length>0?Et.Representation_asArray[0].mimeType:null},getKID:function xe(Et){return Et&&Et.hasOwnProperty(y.default.CENC_DEFAULT_KID)?Et[y.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function Ke(Et){if(!Et||!Array.isArray(Et.Label_asArray))return[];for(var at=[],Wt=0;Wt<Et.Label_asArray.length;Wt++)at.push({lang:Et.Label_asArray[Wt].lang,text:Et.Label_asArray[Wt].__text||Et.Label_asArray[Wt]});return at},getContentProtectionData:function Ve(Et){return Et&&Et.hasOwnProperty(y.default.CONTENTPROTECTION_ASARRAY)&&0!==Et.ContentProtection_asArray.length?Et.ContentProtection_asArray:null},getIsDynamic:st,getId:function ct(Et){return Et&&Et[y.default.ID]||null},hasProfile:function nt(Et,at){var Wt=!1;return Et&&Et.profiles&&Et.profiles.length>0&&(Wt=-1!==Et.profiles.indexOf(at)),Wt},getDuration:function yt(Et){return Et&&Et.hasOwnProperty(y.default.MEDIA_PRESENTATION_DURATION)?Et.mediaPresentationDuration:Et&&"dynamic"==Et.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function jt(Et){return Et&&Et.bandwidth?Et.bandwidth:NaN},getManifestUpdatePeriod:function wt(Et){var at=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Wt=NaN;return Et&&Et.hasOwnProperty(y.default.MINIMUM_UPDATE_PERIOD)&&(Wt=Et.minimumUpdatePeriod),isNaN(Wt)?Wt:Math.max(Wt-at,1)},getPublishTime:function Gt(Et){return Et&&Et.hasOwnProperty(y.default.PUBLISH_TIME)?new Date(Et[y.default.PUBLISH_TIME]):null},getRepresentationCount:function nn(Et){return Et&&Array.isArray(Et.Representation_asArray)?Et.Representation_asArray.length:0},getBitrateListForAdaptation:function dn(Et){var at=J(Et);return(at&&Array.isArray(at.Representation_asArray)?at.Representation_asArray:[]).map(function(We){return{bandwidth:We.bandwidth,width:We.width||0,height:We.height||0,scanType:We.scanType||null,id:We.id||null}})},getRepresentationFor:function Tn(Et,at){return at&&at.Representation_asArray&&at.Representation_asArray.length>0&&Se(Et)?at.Representation_asArray[Et]:null},getRepresentationsForAdaptation:function xt(Et){var We,ut,at=[],Wt=function rn(Et){if(Et&&Et.period&&Se(Et.period.index)){var at=Et.period.mpd.manifest.Period_asArray[Et.period.index];if(at&&at.AdaptationSet_asArray&&Se(Et.index))return J(at.AdaptationSet_asArray[Et.index])}}(Et);if(Wt&&Wt.Representation_asArray){if(Et&&Et.period&&Se(Et.period.index)){var Pt=ln(Et.period.mpd.manifest);Pt&&(ut=Pt[0])}for(var en=0,Jt=Wt.Representation_asArray.length;en<Jt;++en){var Rn=Wt.Representation_asArray[en],Ht=new I.default;if(Ht.index=en,Ht.adaptation=Et,Rn.hasOwnProperty(y.default.ID)&&(Ht.id=Rn.id),Rn.hasOwnProperty(y.default.CODECS)&&(Ht.codecs=Rn.codecs),Rn.hasOwnProperty(y.default.MIME_TYPE)&&(Ht.mimeType=Rn[y.default.MIME_TYPE]),Rn.hasOwnProperty(y.default.CODEC_PRIVATE_DATA)&&(Ht.codecPrivateData=Rn.codecPrivateData),Rn.hasOwnProperty(y.default.BANDWITH)&&(Ht.bandwidth=Rn.bandwidth),Rn.hasOwnProperty(y.default.WIDTH)&&(Ht.width=Rn.width),Rn.hasOwnProperty(y.default.HEIGHT)&&(Ht.height=Rn.height),Rn.hasOwnProperty(y.default.SCAN_TYPE)&&(Ht.scanType=Rn.scanType),Rn.hasOwnProperty(y.default.MAX_PLAYOUT_RATE)&&(Ht.maxPlayoutRate=Rn.maxPlayoutRate),Rn.hasOwnProperty(y.default.SEGMENT_BASE)?(We=Rn.SegmentBase,Ht.segmentInfoType=y.default.SEGMENT_BASE):Rn.hasOwnProperty(y.default.SEGMENT_LIST)?Ht.segmentInfoType=(We=Rn.SegmentList).hasOwnProperty(y.default.SEGMENT_TIMELINE)?y.default.SEGMENT_TIMELINE:y.default.SEGMENT_LIST:Rn.hasOwnProperty(y.default.SEGMENT_TEMPLATE)?(Ht.segmentInfoType=(We=Rn.SegmentTemplate).hasOwnProperty(y.default.SEGMENT_TIMELINE)?y.default.SEGMENT_TIMELINE:y.default.SEGMENT_TEMPLATE,We.hasOwnProperty(y.default.INITIALIZATION_MINUS)&&(Ht.initialization=We.initialization.split("$Bandwidth$").join(Rn.bandwidth).split("$RepresentationID$").join(Rn.id))):Ht.segmentInfoType=y.default.BASE_URL,Ht.essentialProperties=Kt(Rn),We){if(We.hasOwnProperty(y.default.INITIALIZATION)){var zt=We.Initialization;zt.hasOwnProperty(y.default.SOURCE_URL)&&(Ht.initialization=zt.sourceURL),zt.hasOwnProperty(y.default.RANGE)&&(Ht.range=zt.range)}else Ue(Wt)&&Re(Wt)&&Wt.mimeType&&-1===Wt.mimeType.indexOf("application/mp4")&&(Ht.range=0);We.hasOwnProperty(y.default.TIMESCALE)&&(Ht.timescale=We.timescale),We.hasOwnProperty(y.default.DURATION)?Ht.segmentDuration=We.duration/Ht.timescale:Rn.hasOwnProperty(y.default.SEGMENT_TEMPLATE)&&(We=Rn.SegmentTemplate).hasOwnProperty(y.default.SEGMENT_TIMELINE)&&(Ht.segmentDuration=ht(We.SegmentTimeline)/Ht.timescale),We.hasOwnProperty(y.default.MEDIA)&&(Ht.media=We.media),We.hasOwnProperty(y.default.START_NUMBER)&&(Ht.startNumber=We.startNumber),We.hasOwnProperty(y.default.INDEX_RANGE)&&(Ht.indexRange=We.indexRange),We.hasOwnProperty(y.default.PRESENTATION_TIME_OFFSET)&&(Ht.presentationTimeOffset=We.presentationTimeOffset/Ht.timescale),We.hasOwnProperty(y.default.AVAILABILITY_TIME_OFFSET)?Ht.availabilityTimeOffset=We.availabilityTimeOffset:ut&&void 0!==ut.availabilityTimeOffset&&(Ht.availabilityTimeOffset=ut.availabilityTimeOffset),We.hasOwnProperty(y.default.AVAILABILITY_TIME_COMPLETE)?Ht.availabilityTimeComplete="false"!==We.availabilityTimeComplete:ut&&void 0!==ut.availabilityTimeComplete&&(Ht.availabilityTimeComplete=ut.availabilityTimeComplete)}Ht.MSETimeOffset=Qe(Ht),Ht.path=[Et.period.index,Et.index,en],at.push(Ht)}}return at},getAdaptationsForPeriod:function De(Et){var We,ut,Pt,at=Et&&Se(Et.index)?Et.mpd.manifest.Period_asArray[Et.index]:null,Wt=[];if(at&&at.AdaptationSet_asArray)for(Pt=0;Pt<at.AdaptationSet_asArray.length;Pt++)ut=at.AdaptationSet_asArray[Pt],We=new E.default,ut.hasOwnProperty(y.default.ID)&&(We.id=ut.id),We.index=Pt,We.period=Et,ke(ut)?We.type=t.default.MUXED:Me(ut)?We.type=t.default.AUDIO:me(ut)?We.type=t.default.VIDEO:Ue(ut)?We.type=t.default.TEXT:Ie(ut)?We.type=t.default.IMAGE:ae.warn("Unknown Adaptation stream type"),Wt.push(We);return Wt},getRegularPeriods:function Pe(Et){var Jt,Rn,at=!!Et&&st(Et.manifest),Wt=[],We=null,ut=null,Pt=null,en=null;for(Rn=0,Jt=Et&&Et.manifest&&Et.manifest.Period_asArray?Et.manifest.Period_asArray.length:0;Rn<Jt;Rn++)(ut=Et.manifest.Period_asArray[Rn]).hasOwnProperty(y.default.START)?(en=new F.default).start=ut.start:null!==We&&We.hasOwnProperty(y.default.DURATION)&&null!==Pt?(en=new F.default).start=parseFloat((Pt.start+Pt.duration).toFixed(5)):0===Rn&&!at&&((en=new F.default).start=0),null!==Pt&&isNaN(Pt.duration)&&(null!==en?Pt.duration=parseFloat((en.start-Pt.start).toFixed(5)):ae.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==en&&(en.id=Ye(ut,Rn),en.index=Rn,en.mpd=Et,ut.hasOwnProperty(y.default.DURATION)&&(en.duration=ut.duration),Pt&&(Pt.nextPeriodId=en.id),Wt.push(en),We=ut,Pt=en),ut=null,en=null;return 0===Wt.length||null!==Pt&&isNaN(Pt.duration)&&(Pt.duration=parseFloat((function rt(Et){!function lt(){if(!K||!K.hasOwnProperty("error"))throw new Error(t.default.MISSING_CONFIG_ERROR)}();var Wt,at=st(Et.mpd.manifest);return Et.mpd.manifest.mediaPresentationDuration?Wt=Et.mpd.manifest.mediaPresentationDuration:Et.duration?Wt=Et.duration:at?Wt=Number.POSITIVE_INFINITY:K.error(new O.default(x.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Et)),Wt}(Pt)-Pt.start).toFixed(5))),Wt},getMpd:function ze(Et){var at=new L.default;return Et&&(at.manifest=Et,Et.hasOwnProperty(y.default.AVAILABILITY_START_TIME)?at.availabilityStartTime=new Date(Et.availabilityStartTime.getTime()):Et.loadedTime&&(at.availabilityStartTime=new Date(Et.loadedTime.getTime())),Et.hasOwnProperty(y.default.AVAILABILITY_END_TIME)&&(at.availabilityEndTime=new Date(Et.availabilityEndTime.getTime())),Et.hasOwnProperty(y.default.MINIMUM_UPDATE_PERIOD)&&(at.minimumUpdatePeriod=Et.minimumUpdatePeriod),Et.hasOwnProperty(y.default.MEDIA_PRESENTATION_DURATION)&&(at.mediaPresentationDuration=Et.mediaPresentationDuration),Et.hasOwnProperty(y.default.SUGGESTED_PRESENTATION_DELAY)&&(at.suggestedPresentationDelay=Et.suggestedPresentationDelay),Et.hasOwnProperty(y.default.TIMESHIFT_BUFFER_DEPTH)&&(at.timeShiftBufferDepth=Et.timeShiftBufferDepth),Et.hasOwnProperty(y.default.MAX_SEGMENT_DURATION)&&(at.maxSegmentDuration=Et.maxSegmentDuration),Et.hasOwnProperty(y.default.PUBLISH_TIME)&&(at.publishTime=new Date(Et.publishTime))),at},getEventsForPeriod:function dt(Et){var Pt,en,at=Et&&Et.mpd&&Et.mpd.manifest?Et.mpd.manifest:null,Wt=at?at.Period_asArray:null,We=Wt&&Et&&Se(Et.index)?Wt[Et.index].EventStream_asArray:null,ut=[];if(We)for(Pt=0;Pt<We.length;Pt++){var Jt=new g.default;if(Jt.period=Et,Jt.timescale=1,!We[Pt].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(Jt.schemeIdUri=We[Pt][t.default.SCHEME_ID_URI],We[Pt].hasOwnProperty(y.default.TIMESCALE)&&(Jt.timescale=We[Pt][y.default.TIMESCALE]),We[Pt].hasOwnProperty(y.default.VALUE)&&(Jt.value=We[Pt][y.default.VALUE]),We[Pt].hasOwnProperty(y.default.PRESENTATION_TIME_OFFSET)&&(Jt.presentationTimeOffset=We[Pt][y.default.PRESENTATION_TIME_OFFSET]),en=0;We[Pt].Event_asArray&&en<We[Pt].Event_asArray.length;en++){var Rn=We[Pt].Event_asArray[en],Ht=new p.default;Ht.presentationTime=0,Ht.eventStream=Jt,Rn.hasOwnProperty(y.default.PRESENTATION_TIME)&&(Ht.presentationTime=Rn.presentationTime),Ht.calculatedPresentationTime=Ht.presentationTime/Jt.timescale+Et.start-(Jt.presentationTimeOffset?Jt.presentationTimeOffset/Jt.timescale:0),Rn.hasOwnProperty(y.default.DURATION)&&(Ht.duration=Rn.duration/Jt.timescale),Ht.id=Rn.hasOwnProperty(y.default.ID)?Rn.id:null,Ht.messageData=Rn.Signal&&Rn.Signal.Binary?pe.decodeArray(Rn.Signal.Binary.toString()):Rn.messageData||Rn.__cdata||Rn.__text,ut.push(Ht)}}return ut},getEssentialPropertiesForRepresentation:Kt,getEventStreamForAdaptationSet:function qt(Et,at,Wt){var We,ut,Pt;return Et&&Et.Period_asArray&&at&&at.period&&Se(at.period.index)&&(ut=Et.Period_asArray[at.period.index])&&ut.AdaptationSet_asArray&&Se(at.index)&&(Pt=ut.AdaptationSet_asArray[at.index])&&(We=Pt.InbandEventStream_asArray),Ft(We,null,Wt)},getEventStreamForRepresentation:function Lt(Et,at,Wt){var We,ut,Pt,en;return Et&&Et.Period_asArray&&at&&at.adaptation&&at.adaptation.period&&Se(at.adaptation.period.index)&&(ut=Et.Period_asArray[at.adaptation.period.index])&&ut.AdaptationSet_asArray&&Se(at.adaptation.index)&&(Pt=ut.AdaptationSet_asArray[at.adaptation.index])&&Pt.Representation_asArray&&Se(at.index)&&(en=Pt.Representation_asArray[at.index])&&(We=en.InbandEventStream_asArray),Ft(We,at,Wt)},getUTCTimingSources:function Qt(Et){var at=st(Et),Wt=!!Et&&Et.hasOwnProperty(y.default.AVAILABILITY_START_TIME),We=Et?Et.UTCTiming_asArray:null,ut=[];return(at||Wt)&&We&&We.forEach(function(Pt){var en=new D.default;Pt.hasOwnProperty(t.default.SCHEME_ID_URI)&&(en.schemeIdUri=Pt.schemeIdUri,Pt.hasOwnProperty(y.default.VALUE)&&(en.value=Pt.value.toString(),ut.push(en)))}),ut},getBaseURLsFromElement:ln,getRepresentationSortFunction:ge,getContentSteering:function mn(Et){if(Et&&Et.hasOwnProperty(y.default.CONTENT_STEERING_AS_ARRAY)){var at=Et[y.default.CONTENT_STEERING_AS_ARRAY][0],Wt=new A.default;return Wt.serverUrl=at.__text,at.hasOwnProperty(y.default.DEFAULT_SERVICE_LOCATION)&&(Wt.defaultServiceLocation=at[y.default.DEFAULT_SERVICE_LOCATION]),at.hasOwnProperty(y.default.QUERY_BEFORE_START)&&(Wt.queryBeforeStart="true"===at[y.default.QUERY_BEFORE_START].toLowerCase()),at.hasOwnProperty(y.default.PROXY_SERVER_URL)&&(Wt.proxyServerUrl=at[y.default.PROXY_SERVER_URL]),Wt}},getLocation:function Mn(Et){if(Et&&Et.hasOwnProperty(t.default.LOCATION))return Et.Location=Et.Location_asArray[0],Et.Location},getPatchLocation:function Nn(Et){if(Et&&Et.hasOwnProperty(y.default.PATCH_LOCATION))return Et.PatchLocation=Et.PatchLocation_asArray[0],Et.PatchLocation},getSuggestedPresentationDelay:function Yn(Et){return Et&&Et.hasOwnProperty(y.default.SUGGESTED_PRESENTATION_DELAY)?Et.suggestedPresentationDelay:null},getAvailabilityStartTime:function Vn(Et){return Et&&Et.hasOwnProperty(y.default.AVAILABILITY_START_TIME)&&null!==Et.availabilityStartTime?Et.availabilityStartTime.getTime():null},getServiceDescriptions:function fi(Et){var at=[];if(Et&&Et.hasOwnProperty(y.default.SERVICE_DESCRIPTION)){var We,Wt=T(Et.ServiceDescription_asArray);try{for(Wt.s();!(We=Wt.n()).done;){var ut=We.value,Pt=null,en=null,Jt=null,Rn=null,Ht=null,zt=null;for(var on in ut)ut.hasOwnProperty(on)&&(on===y.default.ID?Pt=ut[on]:on===y.default.SERVICE_DESCRIPTION_SCOPE?en=ut[on].schemeIdUri:on===y.default.SERVICE_DESCRIPTION_LATENCY?Jt={target:parseInt(ut[on].target),max:parseInt(ut[on].max),min:parseInt(ut[on].min),referenceId:parseInt(ut[on].referenceId)}:on===y.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?Rn={max:parseFloat(ut[on].max),min:parseFloat(ut[on].min)}:on===y.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?Ht={mediaType:ut[on].mediaType,max:parseInt(ut[on].max),min:parseInt(ut[on].min),target:parseInt(ut[on].target),type:ut[on].type,maxQualityDifference:parseInt(ut[on].maxQualityDifference)}:on===y.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(zt={mediaType:ut[on].mediaType,max:parseInt(ut[on].max),min:parseInt(ut[on].min),target:parseInt(ut[on].target)}));at.push({id:Pt,schemeIdUri:en,latency:Jt,playbackRate:Rn,operatingQuality:Ht,operatingBandwidth:zt})}}catch(En){Wt.e(En)}finally{Wt.f()}}return at},getSupplementalProperties:function Cn(Et){var at={};if(Et&&Et.hasOwnProperty(y.default.SUPPLEMENTAL_PROPERTY)){var We,Wt=T(Et.SupplementalProperty_asArray);try{for(Wt.s();!(We=Wt.n()).done;){var ut=We.value;ut.hasOwnProperty(t.default.SCHEME_ID_URI)&&ut.hasOwnProperty(y.default.VALUE)&&(at[ut[t.default.SCHEME_ID_URI]]=ut[y.default.VALUE])}}catch(Pt){Wt.e(Pt)}finally{Wt.f()}}return at},setConfig:function Tt(Et){Et&&(Et.errHandler&&(K=Et.errHandler),Et.BASE64&&(pe=Et.BASE64))}},function Le(){ae=Object(k.default)(oe).getInstance().getLogger($)}(),$}Fe.__dashjs_factory_name="DashManifestModel",C.default=j.default.getSingletonFactory(Fe)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),F=c(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function L(){var D,p,f=this.context;return D={getIsPatch:function v(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function A(k){return k&&k.hasOwnProperty(t.default.PUBLISH_TIME)?new Date(k[t.default.PUBLISH_TIME]):null},getOriginalPublishTime:function U(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_PUBLISH_TIME)?new Date(k[t.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function R(k){return k&&k[t.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function j(k){return k?(k.__children||[]).map(function(O){var x=Object.keys(O)[0];if("add"!==x&&"remove"!==x&&"replace"!==x)return p.warn("Ignoring node of invalid action: ".concat(x)),null;var P=O[x],T=P.sel;if("add"===x&&P.type){if(!P.type.startsWith("@"))return p.warn("Ignoring add action for prefixed namespace declaration: ".concat(P.type,"=").concat(P.__text)),null;T="".concat(T,"/").concat(P.type)}var N=new E.default(T);if(!N.isValid())return p.warn("Ignoring action with invalid selector: ".concat(x," - ").concat(T)),null;var S=null;N.findsAttribute()?S=P.__text||"":"remove"!==x&&(S=P.__children.reduce(function(Y,q){var le=Object.keys(q)[0];return"#text"!==le&&(Y[le]=Y[le]||[],Y[le].push(q[le])),Y},{}));var B=new F.default(x,N,S);return"add"===x&&(B.position=P.pos),B}).filter(function(O){return!!O}):[]}},function g(){p=Object(I.default)(f).getInstance().getLogger(D)}(),D}L.__dashjs_factory_name="PatchManifestModel",C.default=y.default.getSingletonFactory(L)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),I=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),E=c(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),F=c(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),L=c(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),D=c(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),p=c(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),f=c(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),g=c(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function v(A){var j,k,O,x,P,U=this.context,R=(A=A||{}).debug;return j={parse:function B(Y){var q,le=window.performance.now();if(!(q=x.xml_str2json(Y)))throw new Error("parsing the manifest failed");var Fe=window.performance.now();q.Patch?((q=q.Patch).add_asArray&&q.add_asArray.forEach(function(ae){return P.run(ae)}),q.replace_asArray&&q.replace_asArray.forEach(function(ae){return P.run(ae)})):P.run(q=q.MPD);var $=window.performance.now();return k.info("Parsing complete: ( xml2json: "+(Fe-le).toPrecision(3)+"ms, objectiron: "+($-Fe).toPrecision(3)+"ms, total: "+(($-le)/1e3).toPrecision(3)+"s)"),q.protocol="DASH",q},getMatchers:function N(){return O},getIron:function S(){return P}},function T(){k=R.getLogger(j),O=[new F.default,new L.default,new D.default,new p.default,new E.default],x=new I.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:O}),P=Object(y.default)(U).create({adaptationset:new f.default,period:new g.default})}(),j}v.__dashjs_factory_name="DashParser",C.default=t.default.getClassFactory(v)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function I(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=function(){function p(f){!function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p);var A;this._name=f,this._merge=(A=f)&&A.length&&A.charAt(0)===A.charAt(0).toUpperCase()}return function E(p,f,g){return f&&I(p.prototype,f),g&&I(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),p}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,L(A.key),A)}}function L(f){var g=function D(f,g){if("object"!==y(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==y(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===y(g)?g:String(g)}C.default=function(){function f(g,v,A){var U=this;(function I(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this._name=g||"",this._properties=[],this._children=A||[],Array.isArray(v)&&v.forEach(function(R){U._properties.push(new t.default(R))})}return function F(f,g,v){return g&&E(f.prototype,g),v&&E(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),f}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),y=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function I(O){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function E(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,L(T.key),T)}}function L(O){var x=function D(O,x){if("object"!==I(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==I(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===I(x)?x:String(x)}function f(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&g(O,x)}function g(O,x){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function v(O){var x=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=j(O);if(x){var S=j(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function A(O,x){if(x&&("object"===I(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function U(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function j(O){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}C.default=function(O){f(P,O);var x=v(P);function P(){!function p(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P);var T=[y.default.PROFILES,y.default.WIDTH,y.default.HEIGHT,y.default.SAR,y.default.FRAMERATE,y.default.AUDIO_SAMPLING_RATE,y.default.MIME_TYPE,y.default.SEGMENT_PROFILES,y.default.CODECS,y.default.MAXIMUM_SAP_PERIOD,y.default.START_WITH_SAP,y.default.MAX_PLAYOUT_RATE,y.default.CODING_DEPENDENCY,y.default.SCAN_TYPE,y.default.FRAME_PACKING,y.default.AUDIO_CHANNEL_CONFIGURATION,y.default.CONTENT_PROTECTION,y.default.ESSENTIAL_PROPERTY,y.default.SUPPLEMENTAL_PROPERTY,y.default.INBAND_EVENT_STREAM];return x.call(this,y.default.ADAPTATION_SET,T,[new t.default(y.default.REPRESENTATION,T,[new t.default(y.default.SUB_REPRESENTATION,T)])])}return function F(O,x,P){return x&&E(O.prototype,x),P&&E(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(t.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),y=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function I(O){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function E(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,L(T.key),T)}}function L(O){var x=function D(O,x){if("object"!==I(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==I(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===I(x)?x:String(x)}function f(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&g(O,x)}function g(O,x){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function v(O){var x=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=j(O);if(x){var S=j(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function A(O,x){if(x&&("object"===I(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function U(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function j(O){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}C.default=function(O){f(P,O);var x=v(P);function P(){!function p(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P);var T=[y.default.SEGMENT_BASE,y.default.SEGMENT_TEMPLATE,y.default.SEGMENT_LIST];return x.call(this,y.default.PERIOD,T,[new t.default(y.default.ADAPTATION_SET,T,[new t.default(y.default.REPRESENTATION,T)])])}return function F(O,x,P){return x&&E(O.prototype,x),P&&E(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(t.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function I(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=function(){function p(f,g){(function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this._test=f,this._converter=g}return function E(p,f,g){return f&&I(p.prototype,f),g&&I(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),p}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function y(T){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function I(T,N){for(var S=0;S<N.length;S++){var B=N[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,F(B.key),B)}}function F(T){var N=function L(T,N){if("object"!==y(T)||null===T)return T;var S=T[Symbol.toPrimitive];if(void 0!==S){var B=S.call(T,N||"default");if("object"!==y(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===y(N)?N:String(N)}function p(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&f(T,N)}function f(T,N){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function g(T){var N=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=R(T);if(N){var q=R(this).constructor;Y=Reflect.construct(B,arguments,q)}else Y=B.apply(this,arguments);return function v(T,N){if(N&&("object"===y(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function A(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function R(T){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(T)}var x=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;C.default=function(T){p(S,T);var N=g(S);function S(){return function D(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,S),N.call(this,function(B){return x.test(B.value)},function(B){var q,Y=x.exec(B);if(q=Date.UTC(parseInt(Y[1],10),parseInt(Y[2],10)-1,parseInt(Y[3],10),parseInt(Y[4],10),parseInt(Y[5],10),Y[6]&&parseInt(Y[6],10)||0,Y[7]&&1e3*parseFloat(Y[7])||0),Y[9]&&Y[10]){var le=60*parseInt(Y[9],10)+parseInt(Y[10],10);q+=("+"===Y[8]?-1:1)*le*60*1e3}return new Date(q)})}return function E(T,N,S){return N&&I(T.prototype,N),S&&I(T,S),Object.defineProperty(T,"prototype",{writable:!1}),T}(S)}(t.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),y=c(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function E(Y){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(Y)}function F(Y,q){for(var le=0;le<q.length;le++){var Fe=q[le];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(Y,D(Fe.key),Fe)}}function D(Y){var q=function p(Y,q){if("object"!==E(Y)||null===Y)return Y;var le=Y[Symbol.toPrimitive];if(void 0!==le){var Fe=le.call(Y,q||"default");if("object"!==E(Fe))return Fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===q?String:Number)(Y)}(Y,"string");return"symbol"===E(q)?q:String(q)}function g(Y,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(q&&q.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),q&&v(Y,q)}function v(Y,q){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,$){return Fe.__proto__=$,Fe})(Y,q)}function A(Y){var q=function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var $,Fe=k(Y);if(q){var ae=k(this).constructor;$=Reflect.construct(Fe,arguments,ae)}else $=Fe.apply(this,arguments);return function U(Y,q){if(q&&("object"===E(q)||"function"==typeof q))return q;if(void 0!==q)throw new TypeError("Derived constructors may only return object or undefined");return function R(Y){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(Y)}(this,$)}}function k(Y){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)})(Y)}var O=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;C.default=function(Y){g(le,Y);var q=A(le);function le(){return function f(Y,q){if(!(Y instanceof q))throw new TypeError("Cannot call a class as a function")}(this,le),q.call(this,function(Fe){for(var $=[I.default.MIN_BUFFER_TIME,I.default.MEDIA_PRESENTATION_DURATION,I.default.MINIMUM_UPDATE_PERIOD,I.default.TIMESHIFT_BUFFER_DEPTH,I.default.MAX_SEGMENT_DURATION,I.default.MAX_SUBSEGMENT_DURATION,I.default.SUGGESTED_PRESENTATION_DELAY,I.default.START,y.default.START_TIME,I.default.DURATION],ae=$.length,K=0;K<ae;K++)if(Fe.nodeName===$[K])return O.test(Fe.value);return!1},function(Fe){var $=O.exec(Fe),ae=31536e3*parseFloat($[3]||0)+2592e3*parseFloat($[5]||0)+86400*parseFloat($[7]||0)+3600*parseFloat($[9]||0)+60*parseFloat($[11]||0)+parseFloat($[13]||0);return void 0!==$[1]&&(ae=-ae),ae})}return function L(Y,q,le){return q&&F(Y.prototype,q),le&&F(Y,le),Object.defineProperty(Y,"prototype",{writable:!1}),Y}(le)}(t.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),y=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),E=c.n(I);function F(T){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function L(T,N,S){return(N=f(N))in T?Object.defineProperty(T,N,{value:S,enumerable:!0,configurable:!0,writable:!0}):T[N]=S,T}function D(T,N){for(var S=0;S<N.length;S++){var B=N[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,f(B.key),B)}}function f(T){var N=function g(T,N){if("object"!==F(T)||null===T)return T;var S=T[Symbol.toPrimitive];if(void 0!==S){var B=S.call(T,N||"default");if("object"!==F(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===F(N)?N:String(N)}function A(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&U(T,N)}function U(T,N){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function R(T){var N=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=x(T);if(N){var q=x(this).constructor;Y=Reflect.construct(B,arguments,q)}else Y=B.apply(this,arguments);return function j(T,N){if(N&&("object"===F(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function k(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function x(T){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(T)}C.default=function(T){A(S,T);var N=R(S);function S(){return function v(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,S),N.call(this,function(B,Y){var q,le=(L(q={},y.default.ADAPTATION_SET,[y.default.LANG]),L(q,y.default.REPRESENTATION,[y.default.LANG]),L(q,y.default.CONTENT_COMPONENT,[y.default.LANG]),L(q,y.default.LABEL,[y.default.LANG]),L(q,y.default.GROUP_LABEL,[y.default.LANG]),q);if(le.hasOwnProperty(Y)){var Fe=le[Y];return void 0!==Fe&&Fe.indexOf(B.name)>=0}return!1},function(B){var Y=E()(B);return void 0!==Y?Y:String(B)})}return function p(T,N,S){return N&&D(T.prototype,N),S&&D(T,S),Object.defineProperty(T,"prototype",{writable:!1}),T}(S)}(t.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function I(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===y(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var S=R(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(O,x){if(x&&("object"===y(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}var j=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;C.default=function(O){p(P,O);var x=g(P);function P(){return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),x.call(this,function(T){return j.test(T.value)},function(T){return parseFloat(T)})}return function E(O,x,P){return x&&I(O.prototype,x),P&&I(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(t.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),y=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function I(x){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(x)}function E(x,P,T){return(P=D(P))in x?Object.defineProperty(x,P,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[P]=T,x}function F(x,P){for(var T=0;T<P.length;T++){var N=P[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,D(N.key),N)}}function D(x){var P=function p(x,P){if("object"!==I(x)||null===x)return x;var T=x[Symbol.toPrimitive];if(void 0!==T){var N=T.call(x,P||"default");if("object"!==I(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(x)}(x,"string");return"symbol"===I(P)?P:String(P)}function g(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),P&&v(x,P)}function v(x,P){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,S){return N.__proto__=S,N})(x,P)}function A(x){var P=function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,N=k(x);if(P){var B=k(this).constructor;S=Reflect.construct(N,arguments,B)}else S=N.apply(this,arguments);return function U(x,P){if(P&&("object"===I(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function R(x){if(void 0===x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(x)}(this,S)}}function k(x){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(x)}C.default=function(x){g(T,x);var P=A(T);function T(){return function f(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}(this,T),P.call(this,function(N,S){var B,Y=(E(B={},y.default.MPD,[y.default.ID,y.default.PROFILES]),E(B,y.default.PERIOD,[y.default.ID]),E(B,y.default.BASE_URL,[y.default.SERVICE_LOCATION,y.default.BYTE_RANGE]),E(B,y.default.SEGMENT_BASE,[y.default.INDEX_RANGE]),E(B,y.default.INITIALIZATION,[y.default.RANGE]),E(B,y.default.REPRESENTATION_INDEX,[y.default.RANGE]),E(B,y.default.SEGMENT_LIST,[y.default.INDEX_RANGE]),E(B,y.default.BITSTREAM_SWITCHING,[y.default.RANGE]),E(B,y.default.SEGMENT_URL,[y.default.MEDIA_RANGE,y.default.INDEX_RANGE]),E(B,y.default.SEGMENT_TEMPLATE,[y.default.INDEX_RANGE,y.default.MEDIA,y.default.INDEX,y.default.INITIALIZATION_MINUS,y.default.BITSTREAM_SWITCHING_MINUS]),E(B,y.default.ASSET_IDENTIFIER,[y.default.VALUE,y.default.ID]),E(B,y.default.EVENT_STREAM,[y.default.VALUE]),E(B,y.default.ADAPTATION_SET,[y.default.PROFILES,y.default.MIME_TYPE,y.default.SEGMENT_PROFILES,y.default.CODECS,y.default.CONTENT_TYPE]),E(B,y.default.FRAME_PACKING,[y.default.VALUE,y.default.ID]),E(B,y.default.AUDIO_CHANNEL_CONFIGURATION,[y.default.VALUE,y.default.ID]),E(B,y.default.CONTENT_PROTECTION,[y.default.VALUE,y.default.ID]),E(B,y.default.ESSENTIAL_PROPERTY,[y.default.VALUE,y.default.ID]),E(B,y.default.SUPPLEMENTAL_PROPERTY,[y.default.VALUE,y.default.ID]),E(B,y.default.INBAND_EVENT_STREAM,[y.default.VALUE,y.default.ID]),E(B,y.default.ACCESSIBILITY,[y.default.VALUE,y.default.ID]),E(B,y.default.ROLE,[y.default.VALUE,y.default.ID]),E(B,y.default.RATING,[y.default.VALUE,y.default.ID]),E(B,y.default.VIEWPOINT,[y.default.VALUE,y.default.ID]),E(B,y.default.CONTENT_COMPONENT,[y.default.CONTENT_TYPE]),E(B,y.default.REPRESENTATION,[y.default.ID,y.default.DEPENDENCY_ID,y.default.MEDIA_STREAM_STRUCTURE_ID]),E(B,y.default.SUBSET,[y.default.ID]),E(B,y.default.METRICS,[y.default.METRICS_MINUS]),E(B,y.default.REPORTING,[y.default.VALUE,y.default.ID]),B);if(Y.hasOwnProperty(S)){var q=Y[S];return void 0!==q&&q.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return function L(x,P,T){return P&&F(x.prototype,P),T&&F(x,T),Object.defineProperty(x,"prototype",{writable:!1}),x}(T)}(t.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(F){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function I(F){function L(g,v){for(var A in g)v.hasOwnProperty(A)||(v[A]=g[A])}function D(g,v,A){for(var U=0,R=g.length;U<R;++U){var j=g[U];if(v[j.name])if(A[j.name]){if(j.merge){var k=v[j.name],O=A[j.name];"object"===y(k)&&"object"===y(O)?L(k,O):A[j.name]=k+O}}else A[j.name]=v[j.name]}}function p(g,v){for(var A=0,U=g.children.length;A<U;++A){var R=g.children[A],j=v[R.name+"_asArray"];if(j)for(var k=0,O=j.length;k<O;++k){var x=j[k];D(g.properties,v,x),p(R,x)}}}return{run:function f(g){if(null===g||"object"!==y(g))return g;if(g.Period_asArray&&"period"in F)for(var v=F.period,A=g.Period_asArray,U=0,R=A.length;U<R;++U){var j=A[U];if(p(v,j),"adaptationset"in F){var k=j.AdaptationSet_asArray;if(k)for(var O=F.adaptationset,x=0,P=k.length;x<P;++x)p(O,k[x])}}return g}}}I.__dashjs_factory_name="ObjectIron";var E=t.default.getClassFactory(I);C.default=E},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter;function g(){if(!p||!p.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(y.default.MISSING_CONFIG_ERROR)}function A(R,j){if(g(),!R)return null;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentList,O=k.SegmentURL_asArray.length,x=R&&!isNaN(R.startNumber)?R.startNumber:1,P=Math.max(x-1,0),T=Math.max(j-P,0),N=null;if(T<O){var S=k.SegmentURL_asArray[T];(N=Object(I.getIndexBasedSegment)(p,D,R,j))&&(N.replacementTime=(x+j-1)*R.segmentDuration,N.media=S.media?S.media:"",N.mediaRange=S.mediaRange,N.indexRange=S.indexRange)}return N}return{getSegmentByIndex:A,getSegmentByTime:function U(R,j){if(g(),!R)return null;var k=R.segmentDuration;if(isNaN(k))return null;var O=p.calcPeriodRelativeTimeFromMpdRelativeTime(R,j);return A(R,Math.floor(O/k))},getMediaFinishedInformation:function v(R){var j={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!R)return j;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentList,O=R&&!isNaN(R.startNumber)?R.startNumber:1,x=Math.max(O-1,0);return j.numberOfSegments=x+k.SegmentURL_asArray.length,j}}}E.__dashjs_factory_name="ListSegmentsGetter";var F=t.default.getClassFactory(E);C.default=F},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function I(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(C),c.d(C,"default",function(){return D});var D=function(){function f(){!function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}return function E(f,g,v){return g&&I(f.prototype,g),v&&I(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,null,[{key:"round10",value:function(v,A){return function p(f,g,v){return typeof v>"u"||0==+v?Math[f](g):(v=+v,null===(g=+g)||isNaN(g)||"number"!=typeof v||v%1!=0?NaN:(g=g.toString().split("e"),+((g=(g=Math[f](+(g[0]+"e"+(g[1]?+g[1]-v:-v)))).toString().split("e"))[0]+"e"+(g[1]?+g[1]+v:v))))}("round",v,A)}}]),f}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function I(F){var L=(F=F||{}).timelineConverter;function p(){if(!L||!L.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(y.default.MISSING_CONFIG_ERROR)}function g(U,R){if(p(),!U)return null;var k,j=U.segments?U.segments.length:-1;if(R<j&&(k=U.segments[R])&&k.index===R)return k;for(var O=0;O<j;O++)if((k=U.segments[O])&&k.index===R)return k;return null}return{getSegmentByIndex:g,getSegmentByTime:function v(U,R){return p(),g(U,function A(U,R){if(!U)return-1;var x,P,T,N,S,j=U.segments,k=j?j.length:null,O=-1;if(j&&k>0)for(S=0;S<k;S++)if(R+(x=(N=(P=j[S]).duration)/2)>=(T=P.presentationStartTime)&&R-x<T+N){O=P.index;break}return O}(U,R))},getMediaFinishedInformation:function f(U){var R={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!U||!U.segments||(R.numberOfSegments=U.segments.length),R}}}I.__dashjs_factory_name="SegmentBaseGetter";var E=t.default.getClassFactory(I);C.default=E},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(et,C,c){"use strict";c.r(C),c.d(C,"unescapeDollarsInTemplate",function(){return E}),c.d(C,"replaceIDForTemplate",function(){return F}),c.d(C,"replaceTokenForTemplate",function(){return L}),c.d(C,"getIndexBasedSegment",function(){return f}),c.d(C,"getTimeBasedSegment",function(){return g});var t=c(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function y(v,A){for(;v.length<A;)v="0"+v;return v}function E(v){return v&&v.split("$$").join("$")}function F(v,A){if(!A||!v||-1===v.indexOf("$RepresentationID$"))return v;var U=A.toString();return v.split("$RepresentationID$").join(U)}function L(v,A,U){var j,k,O,x,P,T,N=A.length;if(!v)return v;for(;;){if((j=v.indexOf("$"+A))<0||(k=v.indexOf("$",j+N))<0)return v;if((O=v.indexOf("%0",j+N))>j&&O<k)switch(x=v.charAt(k-1),P=parseInt(v.substring(O+2,k-1),10),x){case"d":case"i":case"u":T=y(U.toString(),P);break;case"x":T=y(U.toString(16),P);break;case"X":T=y(U.toString(16),P).toUpperCase();break;case"o":T=y(U.toString(8),P);break;default:return v}else T=U;v=v.substring(0,j)+T+v.substring(k+1)}}function D(v,A,U,R,j,k,O,x){var P=new t.default;return P.representation=v,P.duration=A,P.presentationStartTime=U,P.mediaStartTime=R,P.availabilityStartTime=j.calcAvailabilityStartTimeFromPresentationTime(k,v,O),P.availabilityEndTime=j.calcAvailabilityEndTimeFromPresentationTime(k+A,v,O),P.wallStartTime=j.calcWallTimeForSegment(P,O),P.replacementNumber=function I(v,A){return v.representation.startNumber+A}(P,x),P.index=x,P}function p(v,A,U,R){var j=A.adaptation.period;if(isFinite(j.duration)&&j.start+j.duration<=U.presentationStartTime)return!1;if(R){if("INF"===A.availabilityTimeOffset)return!0;var k=v.getClientReferenceTime();return U.availabilityStartTime.getTime()<=k&&(!isFinite(U.availabilityEndTime)||U.availabilityEndTime.getTime()>=k)}return!0}function f(v,A,U,R){var j,k,O;j=U.segmentDuration,isNaN(j)&&(j=U.adaptation.period.duration),k=parseFloat((U.adaptation.period.start+R*j).toFixed(5)),O=parseFloat((k+j).toFixed(5));var P=D(U,j,k,v.calcMediaTimeFromPresentationTime(k,U),v,O,A,R);return p(v,U,P,A)?P:null}function g(v,A,U,R,j,k,O,x,P,T){var B,q,N=R/k,S=j/k;return B=v.calcPresentationTimeFromMediaTime(N,U),p(v,U,q=D(U,S,B,N,v,B+S,A,P),A)?(q.replacementTime=T||R,O=L(O,"Number",q.replacementNumber),O=L(O,"Time",q.replacementTime),q.media=O,q.mediaRange=x,q):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter;function g(){if(!p||!p.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(y.default.MISSING_CONFIG_ERROR)}function A(R,j){if(g(),!R)return null;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentTemplate;j=Math.max(j,0);var O=Object(I.getIndexBasedSegment)(p,D,R,j);if(O){O.replacementTime=Math.round((j-1)*R.segmentDuration*R.timescale,10);var x=k.media;x=Object(I.replaceTokenForTemplate)(x,"Number",O.replacementNumber),x=Object(I.replaceTokenForTemplate)(x,"Time",O.replacementTime),O.media=x}return O}return{getSegmentByIndex:A,getSegmentByTime:function U(R,j){if(g(),!R)return null;var k=R.segmentDuration;if(isNaN(k))return null;var O=p.calcPeriodRelativeTimeFromMpdRelativeTime(R,j);return A(R,Math.floor(O/k))},getMediaFinishedInformation:function v(R){var j={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!R)return j;var k=R.segmentDuration;return j.numberOfSegments=isNaN(k)?1:Math.ceil(R.adaptation.period.duration/k),j}}}E.__dashjs_factory_name="TemplateSegmentsGetter";var F=t.default.getClassFactory(E);C.default=F},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),L=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),D=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),p=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function g(){var R,j,k,O,v=this.context,A=Object(t.default)(v).getInstance(),U=Object(L.default)(v).getInstance();function N(ke){O=ke}function B(ke,Ie,He,ot){var Je,Ne=Ie.adaptation.period.mpd,Te=Ne.availabilityStartTime;if(ot)Je=He&&Ne.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Te.getTime()+1e3*(ke+Ne.timeShiftBufferDepth)):Ne.availabilityEndTime;else if(He){var W=Ie.availabilityTimeOffset;Je=new Date(Te.getTime()+1e3*(ke-W))}else Je=Te;return Je}function le(ke,Ie){return(ke.getTime()-Ie.mpd.availabilityStartTime.getTime()+1e3*O)/1e3}function Fe(ke,Ie){return ke+(Ie.adaptation.period.start-Ie.presentationTimeOffset)}function he(ke){var Ie={start:NaN,end:NaN},He=ke[0].getAdapter().getRegularPeriods()[0],ot=le(new Date,He);if(!ke||0===ke.length)return{range:Ie,now:ot};ke.forEach(function(Ne){var Te=Ne.getAdapter(),W=Te.getMediaInfoForType(Ne.getStreamInfo(),D.default.VIDEO)||Te.getMediaInfoForType(Ne.getStreamInfo(),D.default.AUDIO),ge=Te.getVoRepresentations(W)[0],J={start:NaN,end:NaN};if(ge)if(ge.segmentInfoType===E.default.SEGMENT_TIMELINE)J=function fe(ke){var se,ge,J,Q,He=j.getRepresentationFor(ke.index,ke.adaptation.period.mpd.manifest.Period_asArray[ke.adaptation.period.index].AdaptationSet_asArray[ke.adaptation.index]),Je=He.SegmentTemplate.timescale,Ne=He.SegmentTemplate.SegmentTimeline.S_asArray,Te={start:0,end:0},W=0;for(Te.start=Fe(Ne[0].t/Je,ke),J=0,Q=Ne.length;J<Q;J++)ge=0,(se=Ne[J]).hasOwnProperty("r")&&(ge=se.r),W+=se.d*(1+ge);return Te.end=Fe((Ne[0].t+W)/Je,ke),Te}(ge);else{var Q=ge.adaptation.period;J.start=Q.start,J.end=Math.max(ot,Q.start+Q.duration)}!isNaN(J.start)&&(isNaN(Ie.start)||Ie.start>J.start)&&(Ie.start=J.start),!isNaN(J.end)&&(isNaN(Ie.end)||Ie.end<J.end)&&(Ie.end=J.end)}),Ie.end=Math.min(ot,Ie.end);var Je=Le(ke,Ie.end,!0);return Ie.end=isNaN(Je)?Ie.end:Je,Ie.start=He&&He.mpd&&He.mpd.timeShiftBufferDepth&&!isNaN(He.mpd.timeShiftBufferDepth)&&!isNaN(Ie.end)?Math.max(Ie.end-He.mpd.timeShiftBufferDepth,Ie.start):Ie.start,Ie.start=Le(ke,Ie.start),{range:Ie,now:ot}}function Se(ke,Ie){k=ke-Ie.end}function Le(ke,Ie){var He=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var ot=0,Je=!1,Ne=NaN;!Je&&ot<ke.length;){var Te=ke[ot].getStreamInfo();Te.start<=Ie&&(!isFinite(Te.duration)||Te.start+Te.duration>=Ie)?(Ne=Ie,Je=!0):!He&&Te.start>Ie&&(isNaN(Ne)||Te.start<Ne)?Ne=Te.start:He&&Te.start+Te.duration<Ie&&(isNaN(Ne)||Te.start+Te.duration>Ne)&&(Ne=Te.start+Te.duration),ot+=1}return Ne}catch{return Ie}}function Me(ke){void 0!==ke.offset&&!isNaN(ke.offset)&&N(ke.offset/1e3)}function me(){O=0,k=0}function Ue(){A.off(y.default.UPDATE_TIME_SYNC_OFFSET,Me,this),me()}return R={initialize:function P(){me(),A.on(y.default.UPDATE_TIME_SYNC_OFFSET,Me,this)},getClientTimeOffset:function T(){return O},setClientTimeOffset:N,getClientReferenceTime:function S(){return Date.now()-1e3*k+1e3*O},calcAvailabilityStartTimeFromPresentationTime:function Y(ke,Ie,He){return B(ke,Ie,He)},calcAvailabilityEndTimeFromPresentationTime:function q(ke,Ie,He){return B(ke,Ie,He,!0)},calcPresentationTimeFromWallTime:le,calcPresentationTimeFromMediaTime:Fe,calcPeriodRelativeTimeFromMpdRelativeTime:function Re(ke,Ie){return Ie-ke.adaptation.period.start},calcMediaTimeFromPresentationTime:function $(ke,Ie){return ke-Ie.adaptation.period.start+Ie.presentationTimeOffset},calcWallTimeForSegment:function ae(ke,Ie){var ot,Je;return Ie&&(ot=ke.presentationStartTime+ke.representation.adaptation.period.mpd.suggestedPresentationDelay,Je=new Date(ke.availabilityStartTime.getTime()+1e3*ot)),Je},calcTimeShiftBufferWindow:function K(ke,Ie){if(!Ie)return function pe(ke){var Ie={start:NaN,end:NaN},He=0,ot=NaN;return ke.forEach(function(Je){var Ne=Je.getStreamInfo();He+=Ne.duration,(isNaN(ot)||Ne.start<ot)&&(ot=Ne.start)}),Ie.start=ot,Ie.end=ot+He,Ie}(ke);if(U.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var He=he(ke);return Se(He.now,He.range),He.range}return function oe(ke){var Ie={start:NaN,end:NaN};if(!ke||0===ke.length)return Ie;var He=ke[0].getAdapter().getRegularPeriods()[0],ot=le(new Date,He),Je=He.mpd.timeShiftBufferDepth,Ne=isNaN(Je)?0:ot-Je;if(Ie.start=Le(ke,Ne),Ie.end=!isNaN(Ie.start)&&ot<Ie.start?ot:Le(ke,ot,!0),!isNaN(Je)&&Ie.end<ot-Je&&(Ie.end=NaN),U.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var Te=he(ke);if(Te.range.end<Ie.start)return A.trigger(p.default.CONFORMANCE_VIOLATION,{level:f.default.LEVELS.WARNING,event:f.default.EVENTS.INVALID_DVR_WINDOW}),Se(Te.now,Te.range),Te.range}return Ie}(ke)},reset:Ue},function x(){j=Object(F.default)(v).getInstance(),Ue()}(),R}g.__dashjs_factory_name="TimelineConverter",C.default=I.default.getSingletonFactory(g)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter,f=L.dashMetrics;function v(){if(!p)throw new Error(y.default.MISSING_CONFIG_ERROR)}function U(x,P){var q,le,Fe,$,ae,K,pe,T=x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentTemplate||x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList,S=T.SegmentURL_asArray,B=0,Y=-1;pe=x.timescale;var oe=!1;for(Fe=0,$=(q=T.SegmentTimeline.S_asArray).length;Fe<$&&!oe;Fe++)for(K=0,(le=q[Fe]).hasOwnProperty("r")&&(K=le.r),le.hasOwnProperty("t")&&(B=le.t),K<0&&(K=R(x,q[Fe+1],le,pe,B/pe)),ae=0;ae<=K&&!oe;ae++)(oe=P(B,T,S,le,pe,++Y,Fe))&&(x.segmentDuration=le.d/pe),B+=le.d}function R(x,P,T,N,S){var B;if(P&&P.hasOwnProperty("t"))B=P.t/N;else try{var Y=0;if(isNaN(x.adaptation.period.start)||isNaN(x.adaptation.period.duration)||!isFinite(x.adaptation.period.duration)){var q=f.getCurrentDVRInfo();Y=isNaN(q.end)?0:q.end}else Y=x.adaptation.period.start+x.adaptation.period.duration;B=p.calcMediaTimeFromPresentationTime(Y,x),x.segmentDuration=T.d/N}catch{B=0}return Math.max(Math.ceil((B-S)/(T.d/N))-1,0)}return{getSegmentByIndex:function j(x,P,T){if(v(),!x)return null;var N=null,S=!1;return U(x,function(B,Y,q,le,Fe,$,ae){if(S||T<0){var K=Y.media,pe=le.mediaRange;return q&&(K=q[ae].media||"",pe=q[ae].mediaRange),N=Object(I.getTimeBasedSegment)(p,D,x,B,le.d,Fe,K,pe,$,le.tManifest),!0}return B>=T*Fe-.5*le.d&&(S=!0),!1}),N},getSegmentByTime:function k(x,P){if(v(),!x)return null;void 0===P&&(P=null);var T=null,N=p.calcMediaTimeFromPresentationTime(P,x);return U(x,function(S,B,Y,q,le,Fe,$){var ae=function O(x){return parseFloat(x.toPrecision(15))}(N*le);if(ae<S+q.d&&ae>=S){var K=B.media,pe=q.mediaRange;return Y&&(K=Y[$].media||"",pe=Y[$].mediaRange),T=Object(I.getTimeBasedSegment)(p,D,x,S,q.d,le,K,pe,Fe,q.tManifest),!0}return!1}),T},getMediaFinishedInformation:function A(x){if(!x)return 0;var Y,q,le,Fe,$,ae,K,N=0,S=0,B=0;for(K=x.timescale,Fe=(Y=(x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentTemplate||x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList).SegmentTimeline.S_asArray).length,le=0;le<Fe;le++)for(ae=0,(q=Y[le]).hasOwnProperty("r")&&(ae=q.r),q.hasOwnProperty("t")&&(S=(N=q.t)/K),ae<0&&(ae=R(x,Y[le+1],q,K,S)),$=0;$<=ae;$++)B++,S=(N+=q.d)/K;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:S}}}}E.__dashjs_factory_name="TimelineSegmentsGetter";var F=t.default.getClassFactory(E);C.default=F},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function y(g,v){for(var A=0;A<v.length;A++){var U=v[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(g,E(U.key),U)}}function I(g,v,A){return v&&y(g.prototype,v),A&&y(g,A),Object.defineProperty(g,"prototype",{writable:!1}),g}function E(g){var v=function F(g,v){if("object"!==t(g)||null===g)return g;var A=g[Symbol.toPrimitive];if(void 0!==A){var U=A.call(g,v||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(g)}(g,"string");return"symbol"===t(v)?v:String(v)}c.r(C);var f=I(function g(v,A,U,R){(function L(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=v||"",this.serviceLocation=A||v||"",this.dvb_priority=U||1,this.dvb_weight=R||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});f.DEFAULT_DVB_PRIORITY=1,f.DEFAULT_DVB_WEIGHT=1,C.default=f},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function I(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function E(f,g,v){return g&&I(f.prototype,g),v&&I(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}function F(f){var g=function L(f,g){if("object"!==y(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==y(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===y(g)?g:String(g)}C.default=E(function f(g){(function D(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.url=g||null,this.type=t.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function I(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=function(){function p(f,g,v){(function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.action=f,this.xpath=g,this.value=v,this.position=null}return function E(p,f,g){return f&&I(p.prototype,f),g&&I(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"getMpdTarget",value:function(g){return this.xpath.getMpdTarget(g,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),p}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C);var D=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});D.DEFAULT_ID="defaultId",C.default=D},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,L(A.key),A)}}function L(f){var g=function D(f,g){if("object"!==y(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==y(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===y(g)?g:String(g)}C.default=function(){function f(){(function I(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function F(f,g,v){return g&&E(f.prototype,g),v&&E(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==t.default.BASE_URL&&this.segmentInfoType!==t.default.SEGMENT_BASE&&!this.indexRange}}]),f}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function I(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=function(){function p(f){var g=this;(function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.valid="/"==f[0],this.path=f.split("/").filter(function(v){return 0!==v.length}).map(function(v){var A={name:v},U=v.indexOf("[");if(-1!=U){A.name=v.substring(0,U);var R=v.substring(U+1,v.length-1);g.valid=g.valid&&-1==R.indexOf("[");var j=R.indexOf("=");-1!=j?(A.attribute={name:R.substring(1,j),value:R.substring(j+1)},-1!=["'",'"'].indexOf(A.attribute.value[0])&&(A.attribute.value=A.attribute.value.substring(1,A.attribute.value.length-1))):A.position=parseInt(R,10)-1}return A})}return function E(p,f,g){return f&&I(p.prototype,f),g&&I(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(g,v){for(var A=null,U=g,R=1,j="MPD";R<this.path.length&&null!==U;){A=U;var k=this.path[R];if(j=k.name,R!==this.path.length-1||!j.startsWith("@")){var O=A[j+"_asArray"]||[];0===O.length&&A[j]&&O.push(A[j]),k.position?U=O[k.position]||null:k.attribute?function(){var x=k.attribute;U=O.filter(function(P){return P[x.name]==x.value})[0]||null}():U=O[0]||null}R++}return null===U?null:j.startsWith("@")?{name:j.substring(1),leaf:U,target:U}:{name:j,leaf:U,target:v?A:U}}}]),p}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),I=c(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),E=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function L(D){var R,j,p=this.context,f=(D=D||{}).eventBus,g=D.events,v=D.urlUtils,A=D.errors,U=D.streamId;return R={checkForExistence:function O(N){var S=function(q){f.trigger(g.CHECK_FOR_EXISTENCE_COMPLETED,{request:N,exists:q})};if(N){var B=new I.default(N.url);j.load({request:B,success:function(){S(!0)},error:function(){S(!1)}})}else S(!1)},load:function x(N){var S=function(Y,q){f.trigger(g.LOADING_COMPLETED,{request:N,response:Y||null,error:q||null,sender:R})};N?j.load({request:N,progress:function(Y){f.trigger(g.LOADING_PROGRESS,{request:N,stream:Y.stream,streamId:U}),Y.data&&f.trigger(g.LOADING_DATA_PROGRESS,{request:N,response:Y.data||null,error:null,sender:R})},success:function(Y){S(Y)},error:function(Y,q,le){S(void 0,new E.default(A.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,le,q))},abort:function(Y){Y&&f.trigger(g.LOADING_ABANDONED,{mediaType:Y.mediaType,request:Y,sender:R})}}):S(void 0,new E.default(A.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,A.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function P(){j&&j.abort()},reset:function T(){j&&(j.abort(),j=null)}},function k(){j=Object(y.default)(p).create({errHandler:D.errHandler,errors:A,dashMetrics:D.dashMetrics,mediaPlayerModel:D.mediaPlayerModel,requestModifier:D.requestModifier,urlUtils:v,constants:t.default,boxParser:D.boxParser,dashConstants:D.dashConstants,requestTimeout:D.settings.get().streaming.fragmentRequestTimeout})}(),R}L.__dashjs_factory_name="FragmentLoader",C.default=F.default.getClassFactory(L)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),E=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),F=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),D=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),p=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),f=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),g=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),v=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),A=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),U=c(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function R(k){var S,B,Y,q,le,O=this.context,x=(k=k||{}).debug,P=k.settings,T=Object(f.default)(O).getInstance(),N=Object(F.default)(O).getInstance(),Fe=k.mssHandler,$=k.errHandler;function K(Se){T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:Se.manifest})}return S={load:function oe(Se){var Le=new L.default(Se,p.HTTPRequest.MPD_TYPE);Y.load({request:Le,success:function(Re,Me,me){if(q){var Ue,ke,Ie;if(me&&me!==Se?(ke=N.parseBaseUrl(me),Ue=me):(N.isRelative(Se)&&(Se=N.resolve(Se,window.location.href)),ke=N.parseBaseUrl(Se)),"No Content"==Me)return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===le&&(le=function pe(Se){var Le=null;return Se.indexOf("SmoothStreamingMedia")>-1?(Fe&&(Le=Fe.createMssParser(),Fe.registerEvents()),Le):Se.indexOf("MPD")>-1||Se.indexOf("Patch")>-1?Object(U.default)(O).create({debug:x}):Le}(Re)),null===le)return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))});q.setMatchers(le.getMatchers()),q.setIron(le.getIron());try{Ie=le.parse(Re)}catch{return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))})}if(Ie){if(Ie.url=Ue||Se,Ie.originalUrl||(Ie.originalUrl=Ie.url),Ie.hasOwnProperty(t.default.LOCATION)&&(ke=N.parseBaseUrl(Ie.Location_asArray[0]),B.debug("BaseURI set by Location to: "+ke)),P&&P.get().streaming.enableManifestDurationMismatchFix&&Ie.mediaPresentationDuration&&Ie.Period_asArray.length>1){var He=Ie.Period_asArray.reduce(function(ot,Je){return ot+Je.duration},0);!isNaN(He)&&Ie.mediaPresentationDuration>He&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Ie.mediaPresentationDuration=He)}Ie.baseUri=ke,Ie.loadedTime=new Date,q.resolveManifestOnLoad(Ie),T.trigger(g.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Re})}else T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))})}},error:function(Re,Me,me){T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(v.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(Se,", ").concat(me))})}})},reset:function he(){T.off(g.default.XLINK_READY,K,S),Fe&&Fe.reset(),q&&(q.reset(),q=null),Y&&(Y.abort(),Y=null)}},function ae(){B=x.getLogger(S),T.on(g.default.XLINK_READY,K,S),Y=Object(E.default)(O).create({errHandler:k.errHandler,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,urlUtils:N,constants:t.default,dashConstants:y.default,errors:v.default,requestTimeout:k.settings.get().streaming.manifestRequestTimeout}),q=Object(I.default)(O).create({errHandler:$,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,settings:k.settings}),le=null}(),S}R.__dashjs_factory_name="ManifestLoader";var j=A.default.getClassFactory(R);C.default=j},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),E=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),D=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function f(){var U,R,j,k,O,x,P,T,N,S,B,Y,g=this.context,v=Object(t.default)(g).getInstance(),A=Object(p.default)(g).getInstance();function ae(){j=NaN,P=!1,O=!0,x=!1,pe()}function pe(){null!==k&&(clearTimeout(k),k=null)}function oe(ke){pe(),!x&&(isNaN(ke)&&!isNaN(j)&&(ke=1e3*j),isNaN(ke)||(R.debug("Refresh manifest in "+ke+" milliseconds."),k=setTimeout(Le,ke)))}function he(){var ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0];P=!0;var Ie=N.getValue(),He=Ie.url,ot=S.getPatchLocation(Ie),Je=S.getLocation(Ie);ot&&!ke?He=ot:Je&&(He=Je),A.isRelative(He)&&(He=A.resolve(He,Ie.url)),T.load(He)}function Se(ke){if(ke){if(S.getIsPatch(ke)){var Ie=ke;ke=N.getValue();var He=S.isPatchValid(ke,Ie),ot=He;if(He){var Je=S.getPublishTime(ke);ot=S.applyPatchToManifest(ke,Ie);var Ne=S.getPublishTime(ke);ot=Je.getTime()!=Ne.getTime()}if(!ot)return R.debug("Patch provided is invalid, performing full manifest refresh"),void he(!0);ke.loadedTime=new Date}}else(ke=N.getValue()).loadedTime=new Date;if(N.getValue()&&N.getValue().type===D.default.DYNAMIC&&ke.type===D.default.STATIC)return v.trigger(y.default.DYNAMIC_TO_STATIC),P=!1,void(x=!0);N.setValue(ke);var Te=new Date,W=(Te.getTime()-ke.loadedTime.getTime())/1e3;1e3*(j=S.getManifestUpdatePeriod(ke,W))>2147483647&&(j=2147483.647),v.trigger(y.default.MANIFEST_UPDATED,{manifest:ke}),R.info("Manifest has been refreshed at "+Te+"["+Te.getTime()/1e3+"] "),O||oe()}function Le(){if(!O){if(P)return void oe(Y.get().streaming.manifestUpdateRetryInterval);he()}}function fe(ke){ke.error?ke.error.code===L.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(ke.error):Se(ke.manifest)}function Re(){O=!1,oe()}function Me(){(O=!Y.get().streaming.scheduling.scheduleWhilePaused)&&pe()}function me(){P=!1}return U={initialize:function Fe(){ae(),v.on(y.default.STREAMS_COMPOSED,me,this),v.on(I.default.PLAYBACK_STARTED,Re,this),v.on(I.default.PLAYBACK_PAUSED,Me,this),v.on(y.default.INTERNAL_MANIFEST_LOADED,fe,this)},setManifest:function $(ke){Se(ke)},refreshManifest:he,getIsUpdating:function Ue(){return P},setConfig:function le(ke){ke&&(ke.manifestModel&&(N=ke.manifestModel),ke.adapter&&(S=ke.adapter),ke.manifestLoader&&(T=ke.manifestLoader),ke.errHandler&&(B=ke.errHandler),ke.settings&&(Y=ke.settings))},reset:function K(){v.off(I.default.PLAYBACK_STARTED,Re,this),v.off(I.default.PLAYBACK_PAUSED,Me,this),v.off(y.default.STREAMS_COMPOSED,me,this),v.off(y.default.INTERNAL_MANIFEST_LOADED,fe,this),ae()}},function q(){R=Object(F.default)(g).getInstance().getLogger(U)}(),U}f.__dashjs_factory_name="ManifestUpdater",C.default=E.default.getClassFactory(f)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),y=c.n(t),I=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),L=c(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),D=c(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),p=c(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),f=c(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),g=c(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),v=c(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),A=c(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),U=c(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),R=c(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),j=c(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),k=c(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),O=c(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),x=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),P=c(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),T=c(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),N=c(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),S=c(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=c(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),Y=c(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),q=c(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),le=c(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Fe=c(
/*! ./../core/Debug */
"./src/core/Debug.js"),$=c(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),ae=c(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),K=c(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),pe=c(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),oe=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),he=c(
/*! ../core/Settings */
"./src/core/Settings.js"),Se=c(
/*! ../core/Version */
"./src/core/Version.js"),Le=c(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),fe=c(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Re=c(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),Me=c(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),me=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),Ue=c(
/*! ../../externals/base64 */
"./externals/base64.js"),ke=c.n(Ue),Ie=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),He=c.n(Ie),ot=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),Je=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),Ne=c(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),Te=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),W=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),se=c(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),ge=c(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function J(){var Ke,Ve,st,ct,nt,yt,jt,wt,Gt,nn,dn,un,Kt,Tn,rn,xt,ht,Qe,De,Pe,Ye,ze,lt,rt,dt,Ft,qt,Lt,Qt,ln,mn,Mn,Nn,Yn,Vn,fi,Cn,Z="You must first call initialize() and set a source before calling this method",te="You must first call initialize() and set a valid source and view before calling this method",ne="You must first call attachView() to set the video element before calling this method",X="MediaPlayer not initialized!",ue=this.context,_e=Object(ae.default)(ue).getInstance(),de=Object(he.default)(ue).getInstance(),xe=Object(Fe.default)(ue).getInstance({settings:de});function Wt(){Wr(null),Vi(null),ct=null,Kt&&(Kt.reset(),Kt=null),Tn&&(Tn.reset(),Tn=null),De&&De.reset(),de.reset(),xt&&(xt.reset(),xt=null)}function ut(){return!!st&&!!Yn.getElement()}function Jt(){return Object(Se.getVersionString)()}function on(){if(!jt)throw te;return qt.isPaused()}function ft(){if(!jt)throw te;return qt.getIsDynamic()}function yr(pn){var tt=rt&&rt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,mt=mn.getCurrentDVRInfo(tt);if(!mt)return 0;var $e=qt.getOriginalLiveDelay(),It=mt.range.start+pn;return It>mt.range.end-$e&&(It=mt.range.end-$e),It}function fo(pn){if(!jt)throw te;var tt=_i().currentTime;if(void 0!==pn)tt=rt.getTimeRelativeToStreamId(tt,pn);else if(qt.getIsDynamic()){var mt=rt&&rt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,$e=mn.getCurrentDVRInfo(mt);tt=null===$e||0===tt?0:Math.max(0,tt-$e.range.start)}return tt}function xo(){if(!jt)throw te;var pn=_i().duration;if(qt.getIsDynamic()){var tt=rt&&rt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,mt=mn.getCurrentDVRInfo(tt);pn=mt?mt.range.end-mt.range.start:0}return pn}function Ki(pn){Object(Je.checkParameterType)(pn,"boolean"),wt=pn}function Ar(){De.restoreDefaultUTCTimingSources()}function In(){return mn}function _i(){if(!Yn.getElement())throw ne;return Yn.getElement()}function Vi(pn){if(!nt)throw X;Yn.setElement(pn),pn&&(Jo(),function Ms(){if(!Tn){var pn=dashjs.MetricsReporting;if("function"==typeof pn){var tt=pn(ue).create();Tn=tt.createMetricsReporting({debug:xe,eventBus:_e,mediaElement:_i(),adapter:ht,dashMetrics:mn,mediaPlayerModel:Qe,events:K.default,constants:I.default,metricsConstants:F.default})}}}(),function Js(){if(!rn){var pn=dashjs.MssHandler;"function"==typeof pn&&($.default.extend(pn.errors),rn=pn(ue).create({eventBus:_e,mediaPlayerModel:Qe,dashMetrics:mn,manifestModel:Mn,playbackController:qt,streamController:rt,protectionController:Kt,baseURLController:Ye,errHandler:Pe,events:K.default,constants:I.default,debug:xe,initSegmentType:me.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:ke.a,ISOBoxer:He.a,settings:de}))}}(),rt&&rt.switchToVideoElement()),jt&&oo(),er()}function Fr(pn){if(!yt)throw Z;var tt=rt.getActiveStreamInfo();return tt?un.getTracksFor(pn,tt.id):[]}function Wr(pn){var tt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!nt)throw X;"string"==typeof pn&&Vn.initialize(pn),(null==tt||isNaN(tt))&&(tt=NaN),tt=Math.max(0,tt),st=pn,(yt||jt)&&oo(),ut()&&er(tt)}function To(){if(!yt)throw Z;var pn=rt.getActiveStreamInfo();return pn?rt.getStreamById(pn.id):null}function oo(){jt=!1,yt=!1,ht.reset(),rt.reset(),Ft.reset(),ln.reset(),qt.reset(),Lt.reset(),Qt.reset(),Gt.reset(),un.reset(),Cn.reset(),Kt&&(de.get().streaming.protection.keepProtectionMediaKeys?Kt.stop():(Kt.reset(),Kt=null,Jo())),dt.reset(),Nn.reset()}function As(){return Object(R.default)(ue).create({debug:xe,errHandler:Pe,dashMetrics:mn,mediaPlayerModel:Qe,requestModifier:Object(x.default)(ue).getInstance(),mssHandler:rn,settings:de})}function Jo(){if(Kt)return Kt;var pn=dashjs.Protection;if("function"==typeof pn){var tt=pn(ue).create();return K.default.extend(pn.events),pe.default.extend(pn.events,{publicOnly:!0}),$.default.extend(pn.errors),ze||(ze=Object(k.default)(ue).getInstance()),Kt=tt.createProtectionSystem({debug:xe,errHandler:Pe,videoModel:Yn,customParametersModel:De,capabilities:ze,eventBus:_e,events:K.default,BASE64:ke.a,constants:I.default,cmcdModel:Nn,settings:de})}return null}function ws(){if(!nt)throw X;if(xt)return xt;var pn=dashjs.OfflineController;if("function"==typeof pn){K.default.extend(pn.events),pe.default.extend(pn.events,{publicOnly:!0}),$.default.extend(pn.errors);var tt=As(),mt=Object(Ne.default)(ue).create();return mt.setConfig({manifestModel:Mn,adapter:ht,manifestLoader:tt,errHandler:Pe}),xt=pn(ue).create({debug:xe,manifestUpdater:mt,baseURLController:Ye,manifestLoader:tt,manifestModel:Mn,mediaPlayerModel:Qe,abrController:Gt,playbackController:qt,adapter:ht,errHandler:Pe,dashMetrics:mn,timelineConverter:dn,segmentBaseController:Cn,schemeLoaderFactory:nn,eventBus:_e,events:K.default,errors:$.default,constants:I.default,settings:de,dashConstants:E.default,urlUtils:Object(Te.default)(ue).getInstance()})}return null}function Bs(pn){var tt=rt&&rt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,mt=mn.getCurrentDVRInfo(tt);return mt?pn+(mt.manifestInfo.availableFrom.getTime()/1e3+mt.range.start):0}function er(){var pn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;xt&&xt.resetRecords(),!yt&&st&&(yt=!0,Ve.info("Streaming Initialized"),function Fs(){var pn=As();rt||(rt=Object(D.default)(ue).getInstance()),dt||(dt=Object(se.default)(ue).create({errHandler:Pe,manifestModel:Mn,adapter:ht,mediaController:un,videoModel:Yn,settings:de})),lt.setConfig({capabilities:ze,customParametersModel:De,adapter:ht,settings:de,manifestModel:Mn,errHandler:Pe}),rt.setConfig({capabilities:ze,capabilitiesFilter:lt,manifestLoader:pn,manifestModel:Mn,mediaPlayerModel:Qe,customParametersModel:De,protectionController:Kt,textController:dt,adapter:ht,dashMetrics:mn,errHandler:Pe,timelineConverter:dn,videoModel:Yn,playbackController:qt,serviceDescriptionController:Lt,contentSteeringController:Qt,abrController:Gt,mediaController:un,settings:de,baseURLController:Ye,uriFragmentModel:Vn,segmentBaseController:Cn}),Ft.setConfig({settings:de,playbackController:qt,streamController:rt,videoModel:Yn,timelineConverter:dn,adapter:ht}),qt.setConfig({streamController:rt,serviceDescriptionController:Lt,dashMetrics:mn,adapter:ht,videoModel:Yn,timelineConverter:dn,settings:de}),ln.setConfig({streamController:rt,playbackController:qt,mediaPlayerModel:Qe,videoModel:Yn,settings:de}),Gt.setConfig({streamController:rt,domStorage:fi,mediaPlayerModel:Qe,customParametersModel:De,dashMetrics:mn,adapter:ht,videoModel:Yn,settings:de}),Nn.setConfig({abrController:Gt,dashMetrics:mn,playbackController:qt}),Qt.setConfig({adapter:ht,errHandler:Pe,dashMetrics:mn,mediaPlayerModel:Qe,manifestModel:Mn,abrController:Gt,eventBus:_e,requestModifier:Object(x.default)(ue).getInstance()}),Gt.initialize(),rt.initialize(wt,ct),dt.initialize(),Ft.initialize(),ln.initialize(),Nn.initialize(),Qt.initialize(),Cn.initialize()}(),"string"==typeof st?rt.load(st,pn):rt.loadWithManifest(st,pn)),!jt&&ut()&&(jt=!0,Ve.info("Playback Initialized"))}return Ke={initialize:function at(pn,tt,mt){var $e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;ze||(ze=Object(k.default)(ue).getInstance()).setConfig({settings:de}),Pe||(Pe=Object(j.default)(ue).getInstance()),ze.supportsMediaSource()?(nt||(nt=!0,dn=Object(Me.default)(ue).getInstance(),Gt||(Gt=Object(S.default)(ue).getInstance()).setConfig({settings:de}),nn||(nn=Object(B.default)(ue).getInstance()),qt||(qt=Object(L.default)(ue).getInstance()),un||(un=Object(A.default)(ue).getInstance()),rt||(rt=Object(D.default)(ue).getInstance()),Ft||(Ft=Object(p.default)(ue).getInstance()),ln||(ln=Object(f.default)(ue).getInstance()),Lt||(Lt=Object(g.default)(ue).getInstance()),Qt||(Qt=Object(v.default)(ue).getInstance()),lt||(lt=Object(O.default)(ue).getInstance()),ht=Object(fe.default)(ue).getInstance(),Mn=Object(T.default)(ue).getInstance(),Nn=Object(q.default)(ue).getInstance(),mn=Object(Re.default)(ue).getInstance({settings:de}),fi=Object(le.default)(ue).getInstance({settings:de}),ht.setConfig({constants:I.default,cea608parser:y.a,errHandler:Pe,BASE64:ke.a}),Ye||(Ye=Object(U.default)(ue).create()),Ye.setConfig({adapter:ht}),Lt.setConfig({adapter:ht}),Cn||(Cn=Object(Le.default)(ue).getInstance({dashMetrics:mn,mediaPlayerModel:Qe,errHandler:Pe,baseURLController:Ye,events:K.default,eventBus:_e,debug:xe,boxParser:Object(W.default)(ue).getInstance(),requestModifier:Object(x.default)(ue).getInstance(),errors:$.default})),un.setConfig({domStorage:fi,settings:de,customParametersModel:De}),Qe.setConfig({playbackController:qt,serviceDescriptionController:Lt}),Ar(),Ki(void 0===mt||mt),ws()),pn&&Vi(pn),tt&&Wr(tt,$e),Ve.info("[dash.js "+Jt()+"] MediaPlayer has been initialized")):Pe.error(new ot.default($.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,$.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function Et(pn){pn&&(pn.capabilities&&(ze=pn.capabilities),pn.capabilitiesFilter&&(lt=pn.capabilitiesFilter),pn.streamController&&(rt=pn.streamController),pn.textController&&(dt=pn.textController),pn.gapController&&(Ft=pn.gapController),pn.playbackController&&(qt=pn.playbackController),pn.serviceDescriptionController&&(Lt=pn.serviceDescriptionController),pn.contentSteeringController&&(Qt=pn.contentSteeringController),pn.catchupController&&(ln=pn.catchupController),pn.mediaPlayerModel&&(Qe=pn.mediaPlayerModel),pn.customParametersModel&&(De=pn.customParametersModel),pn.abrController&&(Gt=pn.abrController),pn.schemeLoaderFactory&&(nn=pn.schemeLoaderFactory),pn.mediaController&&(un=pn.mediaController),pn.settings&&(de=pn.settings))},on:function Pt(pn,tt,mt,$e){_e.on(pn,tt,mt,$e)},off:function en(pn,tt,mt){_e.off(pn,tt,mt)},extend:function ro(pn,tt,mt){oe.default.extend(pn,tt,mt,ue)},attachView:Vi,attachSource:Wr,isReady:ut,play:function Ht(){if(!jt)throw te;(!wt||on()&&jt)&&qt.play(!0)},isPaused:on,pause:function zt(){if(!jt)throw te;qt.pause()},isSeeking:function Xn(){if(!jt)throw te;return qt.isSeeking()},isDynamic:ft,getLowLatencyModeEnabled:function hn(){if(!jt)throw te;return qt.getLowLatencyModeEnabled()},seek:function En(pn){if(!jt)throw te;if(Object(Je.checkParameterType)(pn,"number"),isNaN(pn))throw I.default.BAD_ARGUMENT_ERROR;pn<0&&(pn=0);var tt=qt.getIsDynamic()?yr(pn):pn,mt=_i();!qt.getIsDynamic()&&mt.duration&&(tt=Math.min(mt.duration,tt)),qt.seek(tt,!1,!1,!0)},seekToOriginalLive:function Fn(){!jt||!ft()||qt.seekToOriginalLive()},setPlaybackRate:function be(pn){_i().playbackRate=pn},getPlaybackRate:function vt(){return _i().playbackRate},setMute:function gt(pn){Object(Je.checkParameterType)(pn,"boolean"),_i().muted=pn},isMuted:function kt(){return _i().muted},setVolume:function cn(pn){if("number"!=typeof pn||isNaN(pn)||pn<0||pn>1)throw I.default.BAD_ARGUMENT_ERROR;_i().volume=pn},getVolume:function ei(){return _i().volume},time:fo,duration:xo,timeAsUTC:function no(){if(!jt)throw te;return fo()<0?NaN:Bs(fo())},durationAsUTC:function Vo(){if(!jt)throw te;return Bs(xo())},getActiveStream:To,getDVRWindowSize:function Ir(){var pn=rt&&rt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,tt=mn.getCurrentDVRInfo(pn);return tt?tt.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:yr,getTargetLiveDelay:function ir(){if(!jt)throw te;return qt.getOriginalLiveDelay()},convertToTimeCode:function qo(pn){pn=Math.max(pn,0);var tt=Math.floor(pn/3600),mt=Math.floor(pn%3600/60),$e=Math.floor(pn%3600%60);return(0===tt?"":tt<10?"0"+tt.toString()+":":tt.toString()+":")+(mt<10?"0"+mt.toString():mt.toString())+":"+($e<10?"0"+$e.toString():$e.toString())},formatUTC:function fs(pn,tt,mt){var $e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],It=new Date(1e3*pn),sn=It.toLocaleDateString(tt),si=It.toLocaleTimeString(tt,{hour12:mt});return $e?si+" "+sn:si},getVersion:Jt,getDebug:function Rn(){return xe},getBufferLength:function Xi(pn){var tt=[I.default.VIDEO,I.default.AUDIO,I.default.TEXT];if(pn)return-1!==tt.indexOf(pn)?In().getCurrentBufferLevel(pn)||NaN:(Ve.warn("getBufferLength requested for invalid type"),NaN);var mt=tt.map(function(It){return Fr(It).length>0?In().getCurrentBufferLevel(It):Number.MAX_VALUE}).reduce(function(It,sn){return Math.min(It,sn)});return mt===Number.MAX_VALUE?NaN:mt},getTTMLRenderingDiv:function Qi(){return Yn?Yn.getTTMLRenderingDiv():null},getVideoElement:_i,getSource:function wo(){if(!st)throw"You must first call attachSource() with a valid source before calling this method";return st},updateSource:function Io(pn){rt.load(st=pn)},getCurrentLiveLatency:function yo(){if(!nt)throw X;return jt?qt.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function Ai(pn){if(!yt)throw Z;return Gt.getTopBitrateInfoFor(pn)},setAutoPlay:Ki,getAutoPlay:function Go(){return wt},getDashMetrics:In,getQualityFor:function pr(pn){if(!yt)throw Z;if(pn===I.default.IMAGE){var tt=To();if(!tt)return-1;var mt=tt.getThumbnailController();return mt?mt.getCurrentTrackIndex():-1}return Gt.getQualityFor(pn)},setQualityFor:function rr(pn,tt){var mt=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!yt)throw Z;if(pn===I.default.IMAGE){var $e=To();if(!$e)return;var It=$e.getThumbnailController();It&&It.setTrackByIndex(tt)}Gt.setPlaybackQuality(pn,rt.getActiveStreamInfo(),tt,{forceReplace:mt})},updatePortalSize:function qi(){Gt.setElementSize(),Gt.setWindowResizeEventCalled(!0)},enableText:function $n(pn){var tt=rt.getActiveStreamInfo();return!(!tt||!dt)&&dt.enableText(tt.id,pn)},enableForcedTextStreaming:function jn(pn){return!(!rt.getActiveStreamInfo()||!dt)&&dt.enableForcedTextStreaming(pn)},isTextEnabled:function bi(){var pn=rt.getActiveStreamInfo();return!(!pn||!dt)&&dt.isTextEnabled(pn)},setTextTrack:function Oi(pn){if(!jt)throw te;var tt=rt.getActiveStreamInfo();!tt||!dt||dt.setTextTrack(tt.id,pn)},getBitrateInfoListFor:function Eo(pn){if(!yt)throw Z;var tt=To();return tt?tt.getBitrateListFor(pn):[]},getStreamsFromManifest:function Tr(pn){if(!yt)throw Z;return ht.getStreamsInfo(pn)},getTracksFor:Fr,getTracksForTypeFromManifest:function No(pn,tt,mt){if(!yt)throw Z;return(mt=mt||ht.getStreamsInfo(tt,1)[0])?ht.getAllMediaInfoForType(mt,pn,tt):[]},getCurrentTrackFor:function Jr(pn){if(!yt)throw Z;var tt=rt.getActiveStreamInfo();return un.getCurrentTrackFor(pn,tt.id)},setInitialMediaSettingsFor:function Gi(pn,tt){if(!nt)throw X;un.setInitialSettings(pn,tt)},getInitialMediaSettingsFor:function qs(pn){if(!nt)throw X;return un.getInitialSettings(pn)},setCurrentTrack:function Mo(pn){if(!yt)throw Z;un.setTrack(pn)},addABRCustomRule:function Lr(pn,tt,mt){De.addAbrCustomRule(pn,tt,mt)},removeABRCustomRule:function kr(pn){De.removeAbrCustomRule(pn)},removeAllABRCustomRule:function bo(){De.removeAllAbrCustomRule()},getABRCustomRules:function lr(){return De.getAbrCustomRules()},getAverageThroughput:function Ao(pn){var tt=Gt.getThroughputHistory(),mt=qt.getIsDynamic();return tt?tt.getAverageThroughput(pn,mt):0},retrieveManifest:function ki(pn,tt){var mt=As(),$e=this;_e.on(K.default.INTERNAL_MANIFEST_LOADED,function sn(si){si.error?tt(null,si.error):tt(si.manifest),_e.off(K.default.INTERNAL_MANIFEST_LOADED,sn,$e),mt.reset()},$e),Vn.initialize(pn),mt.load(pn)},addUTCTimingSource:function di(pn,tt){De.addUTCTimingSource(pn,tt)},removeUTCTimingSource:function Pi(pn,tt){De.removeUTCTimingSource(pn,tt)},clearDefaultUTCTimingSources:function Ji(){De.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Ar,setXHRWithCredentialsForType:function Er(pn,tt){De.setXHRWithCredentialsForType(pn,tt)},getXHRWithCredentialsForType:function Vr(pn){return De.getXHRWithCredentialsForType(pn)},getProtectionController:function hr(){return Jo()},attachProtectionController:function ks(pn){Kt=pn},setProtectionData:function fr(pn){ct=pn,rt&&rt.setProtectionData(ct)},registerLicenseRequestFilter:function ds(pn){De.registerLicenseRequestFilter(pn)},registerLicenseResponseFilter:function Sr(pn){De.registerLicenseResponseFilter(pn)},unregisterLicenseRequestFilter:function xs(pn){De.unregisterLicenseRequestFilter(pn)},unregisterLicenseResponseFilter:function Pr(pn){De.unregisterLicenseResponseFilter(pn)},registerCustomCapabilitiesFilter:function Ds(pn){De.registerCustomCapabilitiesFilter(pn)},unregisterCustomCapabilitiesFilter:function Qr(pn){De.unregisterCustomCapabilitiesFilter(pn)},setCustomInitialTrackSelectionFunction:function Zo(pn){De.setCustomInitialTrackSelectionFunction(pn)},resetCustomInitialTrackSelectionFunction:function $o(){De.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function Yr(pn){if(!Yn.getElement())throw ne;Yn.setTTMLRenderingDiv(pn)},attachVttRenderingDiv:function Gr(pn){if(!Yn.getElement())throw ne;Yn.setVttRenderingDiv(pn)},getCurrentTextTrackIndex:function Si(){var tt=rt.getActiveStreamInfo();if(tt&&dt)return dt.getCurrentTrackIdx(tt.id)},provideThumbnail:function io(pn,tt){if("function"==typeof tt){if(pn<0)return void tt(null);var mt=qt.getIsDynamic()?yr(pn):pn,$e=rt.getStreamForTime(mt);if(null===$e)return void tt(null);var It=$e.getThumbnailController();return It?It.provide(mt,tt):void tt(null)}},getDashAdapter:function hs(){return ht},getOfflineController:function Xt(){return ws()},triggerSteeringRequest:function Co(){if(Qt)return Qt.loadSteeringData()},getCurrentSteeringResponseData:function ma(){if(Qt)return Qt.getCurrentSteeringResponseData()},getSettings:function us(){return de.get()},updateSettings:function Lo(pn){de.update(pn)},resetSettings:function Ho(){de.reset()},reset:Wt,destroy:function We(){Wt(),oe.default.deleteSingletonInstances(ue)}},function Tt(){Ve=xe.getLogger(Ke),nt=!1,jt=!1,yt=!1,wt=!0,Kt=null,xt=null,ct=null,ht=null,Cn=null,K.default.extend(pe.default),Qe=Object(N.default)(ue).getInstance(),De=Object(ge.default)(ue).getInstance(),Yn=Object(Y.default)(ue).getInstance(),Vn=Object(P.default)(ue).getInstance()}(),Ke}J.__dashjs_factory_name="MediaPlayer";var Q=oe.default.getClassFactory(J);Q.events=pe.default,Q.errors=$.default,oe.default.updateClassFactory(J.__dashjs_factory_name,Q),C.default=Q},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function I(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===y(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var S=R(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(O,x){if(x&&("object"===y(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(C);var k=new(function(O){p(P,O);var x=g(P);function P(){var T;return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(T=x.call(this)).AST_IN_FUTURE="astInFuture",T.BUFFER_EMPTY="bufferStalled",T.BUFFER_LOADED="bufferLoaded",T.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",T.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",T.DYNAMIC_TO_STATIC="dynamicToStatic",T.ERROR="error",T.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",T.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",T.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",T.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",T.LOG="log",T.MANIFEST_LOADED="manifestLoaded",T.METRICS_CHANGED="metricsChanged",T.METRIC_CHANGED="metricChanged",T.METRIC_ADDED="metricAdded",T.METRIC_UPDATED="metricUpdated",T.PERIOD_SWITCH_STARTED="periodSwitchStarted",T.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",T.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",T.QUALITY_CHANGE_RENDERED="qualityChangeRendered",T.TRACK_CHANGE_RENDERED="trackChangeRendered",T.STREAM_INITIALIZING="streamInitializing",T.STREAM_UPDATED="streamUpdated",T.STREAM_ACTIVATED="streamActivated",T.STREAM_DEACTIVATED="streamDeactivated",T.STREAM_INITIALIZED="streamInitialized",T.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",T.TEXT_TRACKS_ADDED="allTextTracksAdded",T.TEXT_TRACK_ADDED="textTrackAdded",T.TTML_PARSED="ttmlParsed",T.TTML_TO_PARSE="ttmlToParse",T.CAPTION_RENDERED="captionRendered",T.CAPTION_CONTAINER_RESIZE="captionContainerResize",T.CAN_PLAY="canPlay",T.CAN_PLAY_THROUGH="canPlayThrough",T.PLAYBACK_ENDED="playbackEnded",T.PLAYBACK_ERROR="playbackError",T.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",T.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",T.PLAYBACK_LOADED_DATA="playbackLoadedData",T.PLAYBACK_PAUSED="playbackPaused",T.PLAYBACK_PLAYING="playbackPlaying",T.PLAYBACK_PROGRESS="playbackProgress",T.PLAYBACK_RATE_CHANGED="playbackRateChanged",T.PLAYBACK_SEEKED="playbackSeeked",T.PLAYBACK_SEEKING="playbackSeeking",T.PLAYBACK_STALLED="playbackStalled",T.PLAYBACK_STARTED="playbackStarted",T.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",T.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",T.PLAYBACK_WAITING="playbackWaiting",T.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",T.EVENT_MODE_ON_START="eventModeOnStart",T.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",T.CONFORMANCE_VIOLATION="conformanceViolation",T.REPRESENTATION_SWITCH="representationSwitch",T.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",T.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",T}return function E(O,x,P){return x&&I(O.prototype,x),P&&I(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));C.default=k},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var E,I=function y(){var f,p="application/dash+xml";function g(U,R,j){if(!U||!/^VIDEO$/i.test(U.nodeName))return null;if(U._dashjs_player)return U._dashjs_player;var k,O=U.id||U.name||"video element";if(!(R=R||[].slice.call(U.querySelectorAll("source")).filter(function(x){return x.type==p})[0])&&U.src)(R=document.createElement("source")).src=U.src;else if(!R&&!U.src)return null;return j=j||{},(k=Object(t.default)(j).create()).initialize(U,R.src,U.autoplay),f||(f=k.getDebug().getLogger()),f.debug("Converted "+O+" to dash.js player and added content: "+R.src),U._dashjs_player=k,k}function A(U){return/^VIDEO$/i.test(U.nodeName)?U:A(U.parentNode)}return{create:g,createAll:function v(U,R){var j=[];U=U||"[data-dashjs-player]";for(var k=(R=R||document).querySelectorAll(U),O=0;O<k.length;O++){var x=g(k[O],null);j.push(x)}for(var P=R.querySelectorAll('source[type="'+p+'"]'),T=0;T<P.length;T++){var S=g(A(P[T]),null);j.push(S)}return j}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?I.createAll():E=window.setInterval(function L(){window.dashjs&&(window.clearInterval(E),I.createAll())},500):window.addEventListener("load",function F(){window.removeEventListener("load",F),I.createAll()})),C.default=I},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),I=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),p=c(
/*! ../core/events/Events */
"./src/core/events/Events.js");function A(R){var P,T,N,S,B,Y,j=this.context,k=Object(F.default)(j).getInstance(),O=R.textController,x=R.eventBus,q=[],le=[],Fe=!1,$=R.mediaSource,ae=null;function oe(te){return new Promise(function(ne){Z(function(){S.changeType&&S.changeType(te),ne()})})}function Le(te){return S=O.getTextSourceBuffer(te),Promise.resolve()}function fe(){if("function"==typeof S.addEventListener)try{S.addEventListener("updateend",ge,!1),S.addEventListener("error",J,!1),S.addEventListener("abort",J,!1)}catch{Y=setInterval(ge,50)}else Y=setInterval(ge,50)}function me(te){return new Promise(function(ne){S&&k.get().streaming.buffer.useAppendWindow?Z(function(){try{if(!S)return void ne();var ee=$.duration,X=0;te&&!isNaN(te.start)&&!isNaN(te.duration)&&isFinite(te.duration)&&(ee=te.start+te.duration),te&&!isNaN(te.start)&&(X=te.start),(S.appendWindowEnd!==ee||S.appendWindowStart!==X)&&(S.appendWindowStart=0,S.appendWindowEnd=ee+.01,S.appendWindowStart=Math.max(X-.1,0),N.debug("Updated append window for ".concat(B.type,". Set start to ").concat(S.appendWindowStart," and end to ").concat(S.appendWindowEnd))),ne()}catch{N.warn("Failed to set append window"),ne()}}):ne()})}function Ue(te){return new Promise(function(ne){S?Z(function(){try{S.timestampOffset!==te&&!isNaN(te)&&(S.timestampOffset=te,N.debug("Set MSE timestamp offset to ".concat(te))),ne()}catch{ne()}}):ne()})}function Te(){if(!Fe&&le.length>0){Fe=!0;var te=le[0];le.splice(0,1);var ne=function(){Fe=!1,le.length>0&&Te.call(this),te&&te.data&&te.data.segmentType&&te.data.segmentType!==D.HTTPRequest.INIT_SEGMENT_TYPE&&delete te.data.bytes,te.promise.resolve({chunk:te.data})};try{ae=te.request,0===te.data.bytes.byteLength?ne.call(this):(S.appendBuffer?S.appendBuffer(te.data.bytes):S.append(te.data.bytes,te.data),Z(ne.bind(this)))}catch(ee){N.fatal('SourceBuffer append failed "'+ee+'"'),le.length>0?Te():Fe=!1,delete te.data.bytes,te.promise.reject({chunk:te.data,error:new y.default(ee.code,ee.message)})}}}function se(){q.length>0&&!S.updating&&(q.shift()(),se())}function ge(){S.updating||se()}function J(te){!function Q(te,ne){x.trigger(te,ne||{},{streamId:B.streamInfo.id,mediaType:T})}(p.default.SOURCE_BUFFER_ERROR,{error:te.target||{},lastRequestAppended:ae})}function Z(te){q.push(te),S.updating||se()}return P={getType:function Re(){return T},getAllBufferRanges:function He(){try{return S.buffered}catch(te){return N.error("getAllBufferRanges exception: "+te.message),null}},getBuffer:function Ie(){return S},append:function ot(te){var ne=this,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(X,ue){te?(le.push({data:te,promise:{resolve:X,reject:ue},request:ee}),Z(Te.bind(ne))):ue({chunk:te,error:new y.default(E.default.APPEND_ERROR_CODE,E.default.APPEND_ERROR_MESSAGE)})})},remove:function Ne(te){return new Promise(function(ne,ee){var X=te.start,ue=te.end;X>=0&&ue>X?Z(function(){try{S.remove(X,ue),Z(function(){ne({from:X,to:ue,unintended:!1}),te.resolve&&te.resolve()})}catch(_e){ee({from:X,to:ue,unintended:!1,error:new y.default(E.default.REMOVE_ERROR_CODE,E.default.REMOVE_ERROR_MESSAGE)}),te.reject&&te.reject(_e)}}):ne()})},abort:function W(){return new Promise(function(te){try{le=[],"open"===$.readyState?Z(function(){try{S&&S.abort(),te()}catch{te()}}):(S&&S.setTextTrack&&"ended"===$.readyState&&S.abort(),te())}catch{te()}})},reset:function ke(){if(S){try{q=[],function Me(){try{"function"==typeof S.removeEventListener&&(S.removeEventListener("updateend",ge,!1),S.removeEventListener("error",J,!1),S.removeEventListener("abort",J,!1)),clearInterval(Y)}catch(te){N.error(te)}}(),Fe=!1,le=[],(!S.getClassName||"TextSourceBuffer"!==S.getClassName())&&(N.debug("Removing sourcebuffer from media source"),$.removeSourceBuffer(S))}catch{}S=null}ae=null},updateTimestampOffset:Ue,initializeForStreamSwitch:function pe(te,ne,ee){T=(B=te).type;var X=B.codec;(function he(te){S=te.getBuffer()})(ee),fe();var ue=[];return ue.push(function Je(){return new Promise(function(te){Z(function(){var ne=S.appendWindowStart,ee=S.appendWindowEnd;S&&(S.abort(),S.appendWindowStart=ne,S.appendWindowEnd=ee),te()})})}()),ue.push(me(B.streamInfo)),ue.push(oe(X)),ne&&void 0!==ne.MSETimeOffset&&ue.push(Ue(ne.MSETimeOffset)),Promise.all(ue)},initializeForFirstUse:function Se(te,ne,ee){T=(B=ne).type;var X=B.codec;try{if(X.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Le(te);S=$.addSourceBuffer(X),fe();var ue=[];return ue.push(me(B.streamInfo)),ee&&void 0!==ee.MSETimeOffset&&ue.push(Ue(ee.MSETimeOffset)),Promise.all(ue)}catch(_e){return B.type==L.default.TEXT&&!B.isFragmented||-1!==X.indexOf('codecs="stpp')||-1!==X.indexOf('codecs="vtt')?Le(te):Promise.reject(_e)}},updateAppendWindow:me,changeType:oe},function K(){N=Object(t.default)(j).getInstance().getLogger(P)}(),P}A.__dashjs_factory_name="SourceBufferSink";var U=I.default.getClassFactory(A);C.default=U},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),E=c(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),F=c(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),L=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),g=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),U=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),R=c(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),j=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT,t.default.MUXED,t.default.IMAGE];function k(O){O=O||{};var Me,me,Ue,ke,Ie,He,ot,Je,Ne,Te,W,se,ge,J,Q,Z,te,ne,x=this.context,P=Object(L.default)(x).getInstance(),T=Object(U.default)(x).getInstance(),N=O.manifestModel,S=O.mediaPlayerModel,B=O.dashMetrics,Y=O.manifestUpdater,q=O.adapter,le=O.timelineConverter,Fe=O.capabilities,$=O.errHandler,ae=O.abrController,K=O.playbackController,pe=O.eventController,oe=O.mediaController,he=O.protectionController,Se=O.textController,Le=O.videoModel,fe=O.streamInfo,Re=O.settings;function nt(zt,on){return new Promise(function(En,Fn){rt(),Te=!0,Qt();var Xn=Le.getElement();j.forEach(function(ft){(ft!==t.default.VIDEO||!Xn||Xn&&/^VIDEO$/i.test(Xn.nodeName))&&function yt(zt,on){var ft,En=q.getAllMediaInfoForType(fe,zt),Fn=[],Xn=null;if(En&&0!==En.length){zt===t.default.VIDEO&&(ot=!0),zt===t.default.AUDIO&&(Je=!0);for(var hn=0,be=En.length;hn<be;hn++)Xn=En[hn],zt===t.default.TEXT&&Xn.isEmbedded&&(Se.addEmbeddedTrack(fe,Xn),Fn.push(Xn)),jt(Xn)&&oe.addTrack(Xn);if(Fn.length>0&&(oe.setInitialMediaSettingsForType(zt,fe),Se.addMediaInfosToBuffer(fe,zt,Fn)),0!==(En=En.filter(function(gt){return!gt.isEmbedded})).length){if(zt===t.default.IMAGE)return void(se=Object(F.default)(x).create({streamInfo:fe,adapter:q,baseURLController:O.baseURLController,timelineConverter:O.timelineConverter,debug:Z,eventBus:P,events:D.default,dashConstants:y.default,dashMetrics:O.dashMetrics,segmentBaseController:O.segmentBaseController})).initialize();P.trigger(D.default.STREAM_INITIALIZING,{streamInfo:fe,mediaInfo:Xn}),oe.setInitialMediaSettingsForType(zt,fe);var vt=function wt(zt,on){var En=zt&&zt.length>0?zt[0]:null,Fn=W.getModel(En?En.type:null),Xn=En?En.type:null,ft=En?En.mimeType:null,hn=En?En.isFragmented:null,be=Object(I.default)(x).create({streamInfo:fe,type:Xn,mimeType:ft,timelineConverter:le,adapter:q,manifestModel:N,mediaPlayerModel:S,fragmentModel:Fn,dashMetrics:O.dashMetrics,baseURLController:O.baseURLController,segmentBaseController:O.segmentBaseController,abrController:ae,playbackController:K,mediaController:oe,textController:Se,errHandler:$,settings:Re,boxParser:Q,segmentBlacklistController:ge});be.initialize(on,ot,hn),Ue.push(be);for(var vt=0;vt<zt.length;vt++)be.addMediaInfo(zt[vt]);return Xn===t.default.TEXT&&Se.addMediaInfosToBuffer(fe,Xn,zt,Fn),be}(En,on);(ft=oe.getCurrentTrackFor(zt,fe.id))&&(ae.updateTopQualityIndex(ft),vt.selectMediaInfo(zt===t.default.TEXT&&ft.isEmbedded?En[0]:ft))}}else me.info("No "+zt+" data.")}(ft,zt)}),function Gt(zt){return new Promise(function(on){var En={},Fn=Ue.map(function(Xn){return Xn.createBufferSinks(zt)});Promise.all(Fn).then(function(Xn){Xn.forEach(function(ft){ft&&(En[ft.getType()]=ft)}),on(En)}).catch(function(){on(En)})})}(on).then(function(ft){if(Te=!1,0===Ue.length){var hn="No streams to play.";$.error(new v.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,hn,N.getValue())),me.fatal(hn)}else ln();Se.createTracks(fe),En(ft)}).catch(function(ft){Fn(ft)})})}function jt(zt){var on=zt?zt.type:null;return on===t.default.MUXED?(me.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),$.error(new v.default(f.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",N.getValue())),!1):!(on!==t.default.TEXT&&on!==t.default.IMAGE&&zt.contentProtection&&!Fe.supportsEncryptedMedia()&&($.error(new v.default(f.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,f.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function nn(zt){for(var on=Ue?Ue.length:0,Fn=0;Fn<on;Fn++){var Xn=Ue[Fn].getFragmentModel();Xn.abortRequests(),Xn.resetInitialSettings(),Ue[Fn].reset(false,zt)}Se&&Se.deactivateStream(fe),Ue=[],Ie=!1,He=!1,en(!1),ht(!1),P.trigger(D.default.STREAM_DEACTIVATED,{streamInfo:fe})}function Kt(zt){nn(zt),ke=!1,ot=!1,Je=!1,Ne={},Te=!1,te=!1,ne=[]}function ht(zt){te=zt}function Qe(){return fe?fe.start:NaN}function De(){return fe?fe.id:null}function Pe(){return fe}function rt(){if(!Le||!ae)throw new Error(t.default.MISSING_CONFIG_ERROR)}function Ft(zt){zt.error&&($.error(zt.error),me.fatal(zt.error.message))}function Qt(){if(pe){var zt=q.getEventsFor(fe);zt&&zt.length>0&&pe.addInlineEvents(zt,fe.id)}}function ln(){for(var zt=Ue.length,En=Ne.audio||Ne.video?new v.default(f.default.DATA_UPDATE_FAILED_ERROR_CODE,f.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Fn=0;Fn<zt;Fn++)if(Ue[Fn].isUpdating()||Te)return;if(he){he.clearMediaInfoArray();for(var Xn=0;Xn<zt&&Ue[Xn];Xn++){var ft=Ue[Xn].getType(),hn=Ue[Xn].getMediaInfo();if(ft===t.default.AUDIO||ft===t.default.VIDEO||ft===t.default.TEXT&&hn.isFragmented){var be=Ue[Xn].getMediaInfo();be&&he.initializeForMedia(be)}}he.handleKeySystemFromManifest()}En?$.error(En):ke||(ke=!0,Le.waitForReadyState(t.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){P.trigger(D.default.STREAM_INITIALIZED,{streamInfo:fe})}))}function Mn(){var zt=Cn(),on=zt.length;if(0!==on){for(var En=0;En<on;En++)if(!zt[En].isBufferingCompleted()&&(zt[En].getType()===t.default.AUDIO||zt[En].getType()===t.default.VIDEO))return void me.debug("onBufferingCompleted - One streamProcessor has finished but",zt[En].getType(),"one is not buffering completed");me.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),He=!0,P.trigger(D.default.STREAM_BUFFERING_COMPLETED,{streamInfo:fe},{streamInfo:fe})}else me.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Nn(zt){Ne[zt.mediaType]=zt.error,ln()}function Yn(zt){pe&&pe.addInbandEvents(zt.events,fe.id)}function Vn(zt){return zt&&zt.type?fi(zt.type):null}function fi(zt){return zt?Cn().filter(function(En){return En.getType()===zt})[0]:null}function Cn(){for(var on,En,zt=[],Fn=0;Fn<Ue.length;Fn++)((on=(En=Ue[Fn]).getType())===t.default.AUDIO||on===t.default.VIDEO||on===t.default.TEXT)&&zt.push(En);return zt}function We(zt,on){var En=Pe(),Fn=on.getStreamInfo();if(!Fn||!En)return!0;var Xn=q.getAdaptationForType(Fn.index,zt,Fn),ft=q.getAdaptationForType(En.index,zt,En);return Xn&&ft?!(!ut(ft)&&ut(Xn)):!Xn&&!ft}function ut(zt){return!!zt&&!!(zt.ContentProtection||zt.Representation&&zt.Representation.length>0&&zt.Representation[0].ContentProtection)}function Pt(zt,on){var En=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!zt||!zt.hasOwnProperty("getStreamInfo"))return!1;var Fn=zt.getStreamInfo(),Xn=En?En.getStreamInfo():Pe();if(!Fn||!Xn)return!1;var ft=q.getAdaptationForType(Fn.index,on,Fn),hn=q.getAdaptationForType(Xn.index,on,Xn);if(!ft||!hn)return!ft&&!hn;var be=ft&&hn&&ft.mimeType===hn.mimeType,vt=hn.Representation_asArray.map(function(ei){return ei.codecs}),gt=ft.Representation_asArray.map(function(ei){return ei.codecs}),kt=gt.some(function(ei){return vt.indexOf(ei)>-1}),cn=gt.some(function(ei){return vt.some(function(Xi){return Fe.codecRootCompatibleWithCodec(Xi,ei)})});return kt||cn&&be}function en(zt){J=zt}function Jt(){return J}return Me={initialize:function X(){(function ue(){P.on(D.default.BUFFERING_COMPLETED,Mn,Me),P.on(D.default.DATA_UPDATE_COMPLETED,Nn,Me),P.on(D.default.INBAND_EVENTS,Yn,Me)})(),function de(){he&&(P.on(D.default.KEY_ERROR,Ft,Me),P.on(D.default.SERVER_CERTIFICATE_UPDATED,Ft,Me),P.on(D.default.LICENSE_REQUEST_COMPLETE,Ft,Me),P.on(D.default.KEY_SYSTEM_SELECTED,Ft,Me),P.on(D.default.KEY_SESSION_CREATED,Ft,Me),P.on(D.default.KEY_STATUSES_CHANGED,Ft,Me))}(),Se.initializeForStream(fe),P.trigger(D.default.STREAM_UPDATED,{streamInfo:fe})},getStreamId:function Ke(){return fe?fe.id:null},activate:function Ve(zt,on){return new Promise(function(En,Fn){if(!Ie)return Jt()?(Ie=!0,P.trigger(D.default.STREAM_ACTIVATED,{streamInfo:fe}),void En(on)):void function st(zt,on){return nt(zt,on)}(zt,on).then(function(Xn){Ie=!0,P.trigger(D.default.STREAM_ACTIVATED,{streamInfo:fe}),En(Xn)}).catch(function(Xn){Fn(Xn)});En(on)})},deactivate:nn,getIsActive:function dn(){return Ie},getDuration:function rn(){return fe?fe.duration:NaN},getStartTime:Qe,getId:De,getStreamInfo:Pe,getHasAudioTrack:function Ye(){return Je},getHasVideoTrack:function ze(){return ot},startPreloading:function ct(zt,on){return new Promise(function(En,Fn){Jt()?Fn():(me.info("[startPreloading] Preloading next stream with id ".concat(De())),en(!0),nt(zt,on).then(function(){for(var Xn=0;Xn<Ue.length&&Ue[Xn];Xn++)Ue[Xn].setExplicitBufferingTime(Qe()),Ue[Xn].getScheduleController().startScheduleTimer();En()}).catch(function(){en(!1),Fn()}))})},getThumbnailController:function lt(){return se},getBitrateListFor:function dt(zt){if(rt(),zt===t.default.IMAGE)return se?se.getBitrateList():[];var on=function mn(zt){for(var on=null,En=0;En<Ue.length;En++)if((on=Ue[En]).getType()===zt)return on.getMediaInfo();return null}(zt);return ae.getBitrateList(on)},updateData:function Et(zt){return new Promise(function(on){Te=!0,fe=zt,pe&&Qt();for(var En=[],Fn=0,Xn=Ue.length;Fn<Xn;Fn++){var ft=Ue[Fn],hn=ft.getMediaInfo();En.push(ft.updateStreamInfo(fe));var be=q.getAllMediaInfoForType(fe,ft.getType());if(be){ft.clearMediaInfoArray();for(var vt=0;vt<be.length;vt++){var gt=be[vt];ft.addMediaInfo(be[vt]),q.areMediaInfosEqual(hn,gt)&&(ae.updateTopQualityIndex(gt),En.push(ft.selectMediaInfo(gt)))}}}Promise.all(En).then(function(){for(En=[];ne.length>0;){var kt=ne.pop(),cn=kt.newMediaInfo,ei=Vn(kt.oldMediaInfo);if(!ei)return;En.push(ei.prepareTrackSwitch()),ei.selectMediaInfo(cn)}return Promise.all(En)}).then(function(){Te=!1,ln(),P.trigger(D.default.STREAM_UPDATED,{streamInfo:fe}),on()})})},reset:function Tn(zt){W&&(W.reset(),W=null),ae&&fe&&ae.clearDataForStream(fe.id),ge&&(ge.reset(),ge=null),Kt(zt),fe=null,function _e(){P.off(D.default.DATA_UPDATE_COMPLETED,Nn,Me),P.off(D.default.BUFFERING_COMPLETED,Mn,Me),P.off(D.default.INBAND_EVENTS,Yn,Me)}(),function xe(){he&&(P.off(D.default.KEY_ERROR,Ft,Me),P.off(D.default.SERVER_CERTIFICATE_UPDATED,Ft,Me),P.off(D.default.LICENSE_REQUEST_COMPLETE,Ft,Me),P.off(D.default.KEY_SYSTEM_SELECTED,Ft,Me),P.off(D.default.KEY_SESSION_CREATED,Ft,Me),P.off(D.default.KEY_STATUSES_CHANGED,Ft,Me))}()},getProcessors:Cn,setMediaSource:function un(zt){for(var on=0;on<Ue.length;)jt(Ue[on].getMediaInfo())?(Ue[on].setMediaSource(zt),on++):(Ue[on].reset(),Ue.splice(on,1));if(0===Ue.length){var En="No streams to play.";$.error(new v.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,En+"nostreams",N.getValue())),me.fatal(En)}},isMediaCodecCompatible:function at(zt){var on=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Pt(zt,t.default.VIDEO,on)&&Pt(zt,t.default.AUDIO,on)},isProtectionCompatible:function Wt(zt){return!zt||We(t.default.VIDEO,zt)&&We(t.default.AUDIO,zt)},getPreloaded:Jt,getIsEndedEventSignaled:function xt(){return te},setIsEndedEventSignaled:ht,getAdapter:function Ht(){return q},getHasFinishedBuffering:function Rn(){return He},setPreloaded:en,startScheduleControllers:function Tt(){for(var zt=Ue.length,on=0;on<zt&&Ue[on];on++)Ue[on].getScheduleController().startScheduleTimer()},prepareTrackChange:function qt(zt){if(Ie&&fe){He=!1;var on=zt.newMediaInfo,En=N.getValue();q.setCurrentMediaInfo(fe.id,on.type,on);var Fn=Vn(on);if(Fn){var Xn=K.getTime();me.info("Stream -  Process track changed at current time "+Xn),En.refreshManifestOnSwitchTrack?(ne.push(zt),Y.getIsUpdating()||(me.debug("Stream -  Refreshing manifest for switch track"),Y.refreshManifest())):Fn.selectMediaInfo(on).then(function(){(on.type===t.default.VIDEO||on.type===t.default.AUDIO)&&ae.updateTopQualityIndex(on),Fn.prepareTrackSwitch()})}}},prepareQualityChange:function Lt(zt){var on=fi(zt.mediaType);on&&on.prepareQualityChange(zt)}},function ee(){try{Z=Object(p.default)(x).getInstance(),me=Z.getLogger(Me),Kt(),Q=Object(A.default)(x).getInstance(),ge=Object(R.default)(x).create({updateEventName:D.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:D.default.SEGMENT_LOCATION_BLACKLIST_ADD}),W=Object(E.default)(x).create({streamInfo:fe,mediaPlayerModel:S,dashMetrics:B,errHandler:$,settings:Re,boxParser:Q,dashConstants:y.default,urlUtils:T})}catch(zt){throw zt}}(),Me}k.__dashjs_factory_name="Stream",C.default=g.default.getClassFactory(k)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),F=c(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),L=c(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),D=c(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),p=c(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),f=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),v=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),A=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),U=c(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),R=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),j=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),x=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),P=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),T=c(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),N=c(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),S=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(Y){Y=Y||{};var ot,Je,Ne,Te,W,se,ge,J,Q,Z,te,ne,ee,q=this.context,le=Object(v.default)(q).getInstance(),Fe=Y.streamInfo,$=Y.type,ae=Y.errHandler,K=Y.mimeType,pe=Y.timelineConverter,oe=Y.adapter,he=Y.manifestModel,Se=Y.mediaPlayerModel,Le=Y.fragmentModel,fe=Y.abrController,Re=Y.playbackController,Me=Y.mediaController,me=Y.textController,Ue=Y.dashMetrics,ke=Y.settings,Ie=Y.boxParser,He=Y.segmentBlacklistController;function _e(){return Fe.id}function de(){return $}function xe(){return oe.getIsTextTrack(J.getData())}function Ke(){W=[],Te=null,ee=0,Q=!1,Z=!1}function yt(ft){var hn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ft.sender){if(Re.getIsManifestUpdateInProgress())return void un();if((!xe()||me.isTextEnabled())&&se&&ft.representationId&&!se.appendInitSegmentFromCache(ft.representationId)){var be=J.getCurrentRepresentation();if(0===be.range)return void jt();var vt=te?te.getInitRequest(Te,be):null;vt?Le.executeRequest(vt):hn&&(ge.setInitSegmentRequired(!0),un())}}}function jt(ft){var hn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Re.getIsManifestUpdateInProgress()||se.getIsPruningInProgress())un();else{var be=function dn(){var hn,ft=at();if(isNaN(ee)||de()===t.default.TEXT&&!me.isTextEnabled())return null;var be=Q;if(te){var vt=J&&ft?J.getRepresentationForQuality(ft.quality):null;hn=be?te.getSegmentRequestForTime(Te,vt,ee):te.getNextSegmentRequest(Te,vt)}return hn}();be?(Q=!1,function wt(ft){isNaN(ft.startTime+ft.duration)||(ee=ft.startTime+ft.duration),ft.delayLoadingTime=(new Date).getTime()+ge.getTimeToLoadDelay(),ge.setTimeToLoadDelay(0),function nn(ft){var hn=ft.url;return ft.range&&(hn=hn.concat("_",ft.range)),He.contains(hn)}(ft)?(Je.warn("Fragment request url ".concat(ft.url," for stream id ").concat(Fe.id," and media type ").concat($," is on the ignore list and will be skipped")),un()):(Je.debug("Next fragment request url for stream id ".concat(Fe.id," and media type ").concat($," is ").concat(ft.url)),Le.executeRequest(ft))}(be)):function Gt(ft){var be,hn=J.getCurrentRepresentation();if(!ke.get().streaming.gaps.enableSeekFix||!Q&&0!==Re.getTime()||(Ne?Ne&&hn.segmentInfoType===y.default.SEGMENT_TIMELINE&&(be=te.getValidTimeAheadOfTargetTime(ee,Te,hn,ke.get().streaming.gaps.threshold)):be=te.getValidTimeAheadOfTargetTime(ee,Te,hn,ke.get().streaming.gaps.threshold),isNaN(be)||be===ee)){if(te.isLastSegmentRequested(hn,ee)){var gt=te.getCurrentIndex();return Je.debug("Segment requesting for stream ".concat(Fe.id," has finished")),le.trigger(A.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:gt},{streamId:Fe.id,mediaType:$}),se.segmentRequestingCompleted(gt),void ge.clearScheduleTimer()}ft&&un()}else Re.isSeeking()||0===Re.getTime()?(Je.warn("Adjusting playback time ".concat(be," because of gap in the manifest. Seeking by ").concat(be-ee)),Re.seek(be,!1,!1)):(Je.warn("Adjusting buffering time ".concat(be," because of gap in the manifest. Adjusting time by ").concat(be-ee)),Fn(be),ft&&un())}(hn)}}function un(){ge.startScheduleTimer(Re.getLowLatencyModeEnabled()?ke.get().streaming.scheduling.lowLatencyTimeout:ke.get().streaming.scheduling.defaultTimeout)}function Kt(ft){ft.error||(ge.setCurrentRepresentation(oe.convertRepresentationToRepresentationInfo(ft.currentRepresentation)),se.getIsBufferingCompleted()||se.updateBufferTimestampOffset(ft.currentRepresentation))}function Tn(ft){Ue.addBufferState($,ft.state,ge.getBufferTarget()),ft.state===I.default.BUFFER_EMPTY&&!Re.isSeeking()&&(Je.info("Buffer is empty! Stalling!"),Ue.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REBUFFERING_REASON))}function rn(ft){Le.syncExecutedRequestsWithBufferedRange(se.getBuffer().getAllBufferRanges(),Fe.duration),ft.quotaExceeded&&ft.from>Re.getTime()&&Fn(ft.from),ft.hasEnoughSpaceToAppend&&ft.quotaExceeded&&ge.startScheduleTimer()}function xt(ft){if(ft&&ft.lastRequestAppended&&ft.lastRequestAppended.url){var hn=ft.lastRequestAppended.url;ft.lastRequestAppended.range&&(hn=hn.concat("_",ft.lastRequestAppended.range)),Je.warn("Blacklisting segment with url ".concat(hn)),He.add(hn)}}function Pe(){zt(),Z=!1}function Ye(ft){Je.info("onFragmentLoadingAbandoned request: "+ft.request.url+" has been aborted"),!Re.isSeeking()&&!ge.getSwitchStrack()&&!Z&&(Je.info("onFragmentLoadingAbandoned request: "+ft.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),ft.request&&ft.request.isInitializationRequest()?ge.setInitSegmentRequired(!0):Fn(ft.request.startTime+ft.request.duration/2),ge.startScheduleTimer(0))}function ze(ft){Je.info("OnFragmentLoadingCompleted for stream id "+Fe.id+" and media type "+$+" - Url:",ft.request?ft.request.url:"undefined",ft.request.range?", Range:"+ft.request.range:""),xe()&&ge.startScheduleTimer(0),ft.error&&ft.request.serviceLocation&&function lt(ft){Je.info("Fragment loading completed with an error"),ft&&ft.request&&ft.request.type&&(ft.request.type===S.HTTPRequest.INIT_SEGMENT_TYPE?yt({representationId:ft.request.representationId,sender:{}},!1):ft.request.type===S.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Fn(ft.request.startTime+ft.request.duration/2),jt({},!1)))}(ft)}function rt(){Fn(Re.getTime()),Et().startScheduleTimer()}function dt(ft){var hn=ft.currentTrackInfo;if(hn){var be=W.find(function(vt){return vt.index===hn.index&&vt.lang===hn.lang});be&&Nn(be).then(function(){se.setIsBufferingCompleted(!1),Fn(Re.getTime()),ge.setInitSegmentRequired(!0),ge.startScheduleTimer()})}}function Ft(ft){Fn(ft.quotaExceededTime),ge.clearScheduleTimer()}function Lt(){return se?se.getBuffer():null}function Nn(ft){ft!==Te&&(!ft||!Te||ft.type===Te.type)&&(Te=ft);var hn=oe.getRealAdaptation(Fe,Te),be=oe.getVoRepresentations(Te);if(J){var cn,vt=J.getData(),gt=fe.getMaxAllowedIndexFor($,Fe.id),kt=fe.getMinAllowedIndexFor($,Fe.id),Xi=null;return null!==vt&&vt.id===hn.id||$===t.default.TEXT?cn=fe.getQualityFor($,Fe.id):(Xi=fe.getThroughputHistory().getAverageThroughput($,Ne)||fe.getInitialBitrateFor($,Fe.id),cn=fe.getQualityForBitrate(Te,Xi,Fe.id)),void 0!==kt&&cn<kt&&(cn=kt),cn>gt&&(cn=gt),J.updateData(hn,be,$,Te.isFragmented,cn)}return Promise.resolve()}function Et(){return ge}function at(ft){var hn;return void 0!==ft?(Object(g.checkInteger)(ft),hn=J?J.getRepresentationForQuality(ft):null):hn=J?J.getCurrentRepresentation():null,oe.convertRepresentationToRepresentationInfo(hn)}function Wt(){return!!se&&se.getIsBufferingCompleted()}function Pt(ft){var hn=ft.chunk,be=hn.bytes,vt=hn.quality,gt=at(vt),kt=J&&gt?J.getRepresentationForQuality(gt.quality):null;if(gt&&kt){var cn=oe.getEventsFor(gt.mediaInfo,null,Fe),ei=oe.getEventsFor(gt,kt,Fe);if(cn&&cn.length>0||ei&&ei.length>0){var Ir=function en(ft,hn,be,vt){try{for(var gt={},kt=[],cn=be.concat(vt),ei=0,Xi=cn.length;ei<Xi;ei++)gt[cn[ei].schemeIdUri+"/"+cn[ei].value]=cn[ei];var Ir=Object(P.default)(q).getInstance().parse(ft),yr=Ir.getBoxes("emsg");if(!yr||0===yr.length)return kt;for(var ir=Ir.getBox("sidx"),fo=!ir||isNaN(ir.earliest_presentation_time)||isNaN(ir.timescale)?hn&&!isNaN(hn.mediaStartTime)?hn.mediaStartTime:0:ir.earliest_presentation_time/ir.timescale,xo=Math.max(fo,0),no=J.getCurrentRepresentation(),Vo=0,Ai=yr.length;Vo<Ai;Vo++){var pr=oe.getEvent(yr[Vo],gt,xo,no);pr&&kt.push(pr)}return kt}catch{return[]}}(be,Le.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,quality:vt,index:hn.index})[0],cn,ei);le.trigger(A.default.INBAND_EVENTS,{events:Ir},{streamId:Fe.id})}}}function Ht(){var ft=Re.getTime();ke.get().streaming.buffer.flushBufferAtTrackSwitch&&Re.seek(ft+.001,!1,!0),Fn(ft),se.setSeekTarget(ft),ge.startScheduleTimer()}function zt(){var ft=Re.getTime(),hn=se.getContinuousBufferTimeForTargetTime(ft);Fn(isNaN(hn)?ft:hn),ge.startScheduleTimer()}function En(ft){ft&&!isNaN(ft.time)&&(Fn(ft.time),se.setSeekTarget(ft.time))}function Fn(ft){ee=ft,Q=!0}return ot={initialize:function ue(ft,hn,be){ne=Object(N.default)(q).create({events:A.default,eventBus:le,streamInfo:Fe,timelineConverter:pe,dashConstants:y.default,segmentBaseController:Y.segmentBaseController,type:$}),(te=Object(U.default)(q).create({streamInfo:Fe,type:$,timelineConverter:pe,dashMetrics:Ue,mediaPlayerModel:Se,baseURLController:Y.baseURLController,errHandler:ae,segmentsController:ne,settings:ke,boxParser:Ie,events:A.default,eventBus:le,errors:R.default,debug:Object(k.default)(q).getInstance(),requestModifier:Object(O.default)(q).getInstance(),dashConstants:y.default,constants:t.default,urlUtils:Object(x.default)(q).getInstance()})).initialize(Ne=Fe.manifestInfo.isDynamic),fe.registerStreamType($,ot),J=Object(p.default)(q).create({streamInfo:Fe,type:$,abrController:fe,dashMetrics:Ue,playbackController:Re,timelineConverter:pe,dashConstants:y.default,events:A.default,eventBus:le,errors:R.default,isDynamic:Ne,segmentsController:ne}),(se=function on(ft,hn){return ft?ft!==t.default.TEXT||hn?Object(F.default)(q).create({streamInfo:Fe,type:ft,mediaPlayerModel:Se,manifestModel:he,fragmentModel:Le,errHandler:ae,mediaController:Me,representationController:J,adapter:oe,textController:me,abrController:fe,playbackController:Re,settings:ke}):Object(L.default)(q).create({streamInfo:Fe,type:ft,mimeType:K,fragmentModel:Le,textController:me,errHandler:ae,settings:ke}):(ae.error(new j.default(R.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,R.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}($,be))&&se.initialize(ft),(ge=Object(D.default)(q).create({streamInfo:Fe,type:$,mimeType:K,adapter:oe,dashMetrics:Ue,mediaPlayerModel:Se,fragmentModel:Le,abrController:fe,playbackController:Re,textController:me,mediaController:Me,bufferController:se,settings:ke})).initialize(hn),ee=0,Q=!1},getStreamId:_e,getType:de,isUpdating:function st(){return!!J&&J.isUpdating()},getBufferController:function Qt(){return se},getFragmentModel:function ln(){return Le},getScheduleController:Et,getRepresentationController:function qt(){return J},getRepresentationInfo:at,getBufferLevel:function We(){return se?se.getBufferLevel():0},isBufferingCompleted:Wt,createBufferSinks:function Jt(ft){var hn=Lt();return hn?Promise.resolve(hn):se?se.createBufferSink(Te,ft):Promise.resolve(null)},updateStreamInfo:function mn(ft){return Fe=ft,Wt()?Promise.resolve():se.updateAppendWindow()},getStreamInfo:function Mn(){return Fe},selectMediaInfo:Nn,clearMediaInfoArray:function Vn(){W=[]},addMediaInfo:function Yn(ft){-1===W.indexOf(ft)&&W.push(ft)},prepareTrackSwitch:function Rn(){return new Promise(function(ft){Je.debug("Preparing track switch for type ".concat($));var hn=$===t.default.TEXT||ke.get().streaming.trackSwitchMode[$]===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Re.getTimeToStreamEnd(Fe)>ke.get().streaming.buffer.stallThreshold;if(se.getIsBufferingCompleted()&&!hn)return se.prepareForNonReplacementTrackSwitch(Te.codec).then(function(){le.trigger(A.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:$})}).catch(function(){le.trigger(A.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:$})}),void ft();ge.clearScheduleTimer(),ge.setSwitchTrack(!0),hn?(le.trigger(A.default.BUFFER_REPLACEMENT_STARTED,{mediaType:$,streamId:Fe.id},{mediaType:$,streamId:Fe.id}),Le.abortRequests(),se.prepareForReplacementTrackSwitch(Te.codec).then(function(){var be=at();return se.updateBufferTimestampOffset(be)}).then(function(){Ht(),ft()}).catch(function(){Ht(),ft()})):se.prepareForNonReplacementTrackSwitch(Te.codec).then(function(){zt(),ft()}).catch(function(){zt(),ft()})})},prepareQualityChange:function ht(ft){Je.debug("Preparing quality switch for type ".concat($));var hn=ft.newQuality;Z=!0,ge.clearScheduleTimer();var be=at(hn);ge.setCurrentRepresentation(be),J.prepareQualityChange(hn),Le.abortRequests(),se.updateBufferTimestampOffset(be).then(function(){ft.reason&&ft.reason.forceReplace?function Qe(){le.trigger(A.default.BUFFER_REPLACEMENT_STARTED,{mediaType:$,streamId:Fe.id},{mediaType:$,streamId:Fe.id}),se.prepareForReplacementQualitySwitch().then(function(){Ht(),Z=!1}).catch(function(){Ht(),Z=!1})}():ke.get().streaming.buffer.fastSwitchEnabled?function De(ft){var hn=Re.getTime(),be=1.5*(isNaN(ft.fragmentDuration)?1:ft.fragmentDuration),vt=Le.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,time:hn+be,threshold:0})[0];if(vt&&!xe()){var gt=se.getBufferLevel(),kt=fe.getAbandonmentStateFor(Fe.id,$);vt.quality<ft.quality&&gt>=be&&kt!==I.default.ABANDON_LOAD?(Fn(hn+be),ge.setCheckPlaybackQuality(!1),ge.startScheduleTimer()):Pe()}else ge.startScheduleTimer();Z=!1}(be):Pe(),Ue.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Ue.createPlaylistTraceMetrics(be.id,1e3*Re.getTime(),Re.getPlaybackRate())})},getMediaInfo:function fi(){return Te},getMediaSource:function Cn(){return se.getMediaSource()},setMediaSource:function Tt(ft){se.setMediaSource(ft)},getBuffer:Lt,setExplicitBufferingTime:Fn,finalisePlayList:function Xn(ft,hn){Ue.pushPlayListTraceMetrics(ft,hn)},probeNextRequest:function ut(){var ft=at(),hn=J&&ft?J.getRepresentationForQuality(ft.quality):null;return te.getNextSegmentRequestIdempotent(Te,hn)},prepareInnerPeriodPlaybackSeeking:function ct(ft){return new Promise(function(hn){if(se.hasBufferAtTime(ft.seekTime))return se.pruneBuffer(),void hn();ge.clearScheduleTimer(),Le.abortRequests(),se.prepareForPlaybackSeek().then(function(){var vt=se.getAllRangesWithSafetyFactor(ft.seekTime);return se.clearBuffers(vt)}).then(function(){var vt=se.getContinuousBufferTimeForTargetTime(ft.seekTime);if(!isNaN(vt)&&!isNaN(Fe.duration)&&isFinite(Fe.duration)&&vt>=Fe.start+Fe.duration)se.setIsBufferingCompleted(!0),hn();else{var gt=isNaN(vt)?ft.seekTime:vt;Fn(gt),se.setSeekTarget(gt);var kt=[];kt.push(se.updateAppendWindow());var cn=at();kt.push(se.updateBufferTimestampOffset(cn)),Promise.all(kt).then(function(){ge.setInitSegmentRequired(!0),ge.setCheckPlaybackQuality(!1),ge.startScheduleTimer(),hn()})}}).catch(function(vt){Je.error(vt)})})},prepareOuterPeriodPlaybackSeeking:function nt(){return new Promise(function(ft,hn){try{ge.clearScheduleTimer(),Le.abortRequests(),se.prepareForPlaybackSeek().then(function(){return se.pruneAllSafely()}).then(function(){ft()})}catch(be){hn(be)}})},reset:function Ve(ft,hn){te&&te.reset(),se&&(se.reset(ft,hn),se=null),ge&&(ge.reset(),ge=null),J&&(J.reset(),J=null),ne&&(ne=null),fe&&fe.unRegisterStreamType(_e(),$),le.off(A.default.DATA_UPDATE_COMPLETED,Kt,ot),le.off(A.default.INIT_FRAGMENT_NEEDED,yt,ot),le.off(A.default.MEDIA_FRAGMENT_NEEDED,jt,ot),le.off(A.default.MEDIA_FRAGMENT_LOADED,Pt,ot),le.off(A.default.BUFFER_LEVEL_STATE_CHANGED,Tn,ot),le.off(A.default.BUFFER_CLEARED,rn,ot),le.off(A.default.SEEK_TARGET,En,ot),le.off(A.default.FRAGMENT_LOADING_ABANDONED,Ye,ot),le.off(A.default.FRAGMENT_LOADING_COMPLETED,ze,ot),le.off(A.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,rt,ot),le.off(A.default.SET_NON_FRAGMENTED_TEXT,dt,ot),le.off(A.default.QUOTA_EXCEEDED,Ft,ot),le.off(A.default.SOURCE_BUFFER_ERROR,xt,ot),Ke(),$=null,Fe=null}},function X(){Je=Object(k.default)(q).getInstance().getLogger(ot),Ke(),le.on(A.default.DATA_UPDATE_COMPLETED,Kt,ot,{priority:v.default.EVENT_PRIORITY_HIGH}),le.on(A.default.INIT_FRAGMENT_NEEDED,yt,ot),le.on(A.default.MEDIA_FRAGMENT_NEEDED,jt,ot),le.on(A.default.MEDIA_FRAGMENT_LOADED,Pt,ot),le.on(A.default.BUFFER_LEVEL_STATE_CHANGED,Tn,ot),le.on(A.default.BUFFER_CLEARED,rn,ot),le.on(A.default.SEEK_TARGET,En,ot),le.on(A.default.FRAGMENT_LOADING_ABANDONED,Ye,ot),le.on(A.default.FRAGMENT_LOADING_COMPLETED,ze,ot),le.on(A.default.QUOTA_EXCEEDED,Ft,ot),le.on(A.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,rt,ot),le.on(A.default.SET_NON_FRAGMENTED_TEXT,dt,ot),le.on(A.default.SOURCE_BUFFER_ERROR,xt,ot)}(),ot}B.__dashjs_factory_name="StreamProcessor",C.default=f.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),I=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),E=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),F=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function f(g){g=g||{};var A=this.context,U=Object(F.default)(A).getInstance(),R=Object(y.default)(A).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,errors:p.default});return{load:function k(x,P,T){var N=function(Y,q){P.resolved=!0,P.resolvedContent=Y||null,U.trigger(L.default.XLINK_ELEMENT_LOADED,{element:P,resolveObject:T,error:Y||q?null:new t.default(p.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,p.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+x)})};if("urn:mpeg:dash:resolve-to-zero:2013"===x)N(null,!0);else{var S=new E.default(x,I.HTTPRequest.XLINK_EXPANSION_TYPE);R.load({request:S,success:function(Y){N(Y)},error:function(){N(null)}})}},reset:function O(){R&&(R.abort(),R=null)}}}f.__dashjs_factory_name="XlinkLoader",C.default=D.default.getClassFactory(f)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C),C.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function I(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(C);var p=new(function(){function f(){(function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,v){return g&&I(f.prototype,g),v&&I(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),f}());C.default=p},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function I(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(C);var p=new(function(){function f(){(function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,v){return g&&I(f.prototype,g),v&&I(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),f}());C.default=p},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function I(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(C);var p=new(function(){function f(){(function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,v){return g&&I(f.prototype,g),v&&I(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),f}());C.default=p},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),y=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),F=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=c(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),g=c(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=c(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),A=c(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),U=c(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),R=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),j=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),k=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),O=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function N(){var le,Fe,$,ae,K,pe,oe,he,Se,Le,fe,Re,Me,me,Ue,ke,Ie,He,ot,Je,Ne,Te,W,se,ge,J,B=this.context,Y=Object(R.default)(B).getInstance(),q=Object(L.default)(B).getInstance();function X(){K={},pe={},he={},oe={},ot={},Te={},W={},se={},void 0===Le&&(Le=!1),Je&&Je.reset(),He=void 0,Je=void 0,Ne=void 0,clearTimeout(Se),Se=null}function xe(Lt){var Qt=Lt.request.mediaType,ln=Lt.streamId;if(Qt&&ln&&oe[ln]&&J.get().streaming.abr.autoSwitchBitrate[Qt]){var mn=oe[ln][Qt];if(mn){var Mn=Object(f.default)(B).create({abrController:le,streamProcessor:mn,currentRequest:Lt.request,useBufferOccupancyABR:Te[Qt],useL2AABR:W[Qt],useLoLPABR:se[Qt],videoModel:me}),Nn=$.shouldAbandonFragment(Mn,ln);Nn.quality>g.default.NO_CHANGE&&mn.getFragmentModel().getRequests({state:F.default.FRAGMENT_MODEL_LOADING,index:Lt.request.index})[0]&&(he[ln][Qt].state=I.default.ABANDON_LOAD,ot[ln][Qt].reset(),ot[ln][Qt].push({oldValue:Kt(Qt,ln),newValue:Nn.quality,confidence:1,reason:Nn.reason}),Tn(Qt,ae.getActiveStreamInfo(),Nn.quality,Nn.reason),clearTimeout(Se),Se=setTimeout(function(){he[ln][Qt].state=I.default.ALLOW_LOAD,Se=null},J.get().streaming.abandonLoadTimeout))}}}function Ke(Lt){Lt.mediaType===y.default.VIDEO&&(void 0!==He&&Je.push(Lt.streamId,He,me.getPlaybackQuality()),He=Lt.newQuality)}function Ve(Lt){Lt.metric===I.default.HTTP_REQUEST&&Lt.value&&Lt.value.type===j.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Lt.mediaType===y.default.AUDIO||Lt.mediaType===y.default.VIDEO)&&Ne.push(Lt.mediaType,Lt.value,J.get().streaming.abr.useDeadTimeLatency),Lt.metric===I.default.BUFFER_LEVEL&&(Lt.mediaType===y.default.AUDIO||Lt.mediaType===y.default.VIDEO)&&function Pe(Lt,Qt){J.get().streaming.abr.ABRStrategy===y.default.ABR_STRATEGY_DYNAMIC&&function Ye(Lt,Qt){try{var ln=Ue.getStableBufferTime(),Nn=Te[Lt],Yn=Qt>(Nn?.5*ln:ln);Te[Lt]=Yn,Yn!==Nn&&Fe.info(Yn?"["+Lt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Qt.toFixed(3)+").":"["+Lt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Qt.toFixed(3)+").")}catch(Vn){Fe.error(Vn)}}(Lt,Qt)}(Lt.mediaType,.001*Lt.value.level)}function st(Lt,Qt){try{return K[Qt]=K[Qt]||{},K[Qt].hasOwnProperty(Lt)||(K[Qt][Lt]=0),function Gt(Lt,Qt,ln){if(Qt!==y.default.VIDEO||!J.get().streaming.abr.limitBitrateByPortal||!oe[ln]||!oe[ln][Qt])return Lt;Le||Ft();var mn=oe[ln][Qt].getStreamInfo(),Mn=Me.getAdaptationForType(mn.index,Qt,mn).Representation_asArray,Nn=Lt;if(fe>0&&Re>0){for(;Nn>0&&Mn[Nn]&&fe<Mn[Nn].width&&fe-Mn[Nn-1].width<Mn[Nn].width-fe;)Nn-=1;for(;Nn<Mn.length-1&&Mn[Nn].width===Mn[Nn+1].width;)Nn+=1}return Nn}(function wt(Lt,Qt,ln){var mn=K[ln][Qt],Mn=J.get().streaming.abr.maxRepresentationRatio[Qt];return isNaN(Mn)||Mn>=1||Mn<0?Lt:Math.min(Lt,Math.round(mn*Mn))}(function jt(Lt,Qt){var ln=K[Qt][Lt],mn=ln;if(!oe[Qt]||!oe[Qt][Lt])return mn;var Mn=ct(Lt,Qt);void 0!==Mn&&(mn=Math.max(ln,Mn));var Nn=function nt(Lt,Qt){try{var ln=Ue.getAbrBitrateParameter("maxBitrate",Lt);return ln>-1?Qe(oe[Qt][Lt].getMediaInfo(),ln,Qt):void 0}catch{return}}(Lt,Qt);return void 0!==Nn&&(mn=Math.min(mn,Nn)),mn}(Lt,Qt),Lt,Qt),Lt,Qt)}catch{return}}function ct(Lt,Qt){try{return function yt(Lt,Qt){try{var ln=Ue.getAbrBitrateParameter("minBitrate",Lt);if(ln>-1){var mn=oe[Qt][Lt].getMediaInfo(),Mn=De(mn),Nn=Qe(mn,ln,Qt);return Mn[Nn]&&Nn<Mn.length-1&&Mn[Nn].bitrate<1e3*ln&&Nn++,Nn}return}catch{return}}(Lt,Qt)}catch{return}}function Kt(Lt){var Qt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Qt||(Qt=ae.getActiveStreamInfo().id),Lt&&oe[Qt]&&oe[Qt][Lt]&&Qt?(pe[Qt]=pe[Qt]||{},pe[Qt].hasOwnProperty(Lt)||(pe[Qt][Lt]=0),pe[Qt][Lt]):0}catch{return 0}}function Tn(Lt,Qt,ln){var mn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Qt&&Qt.id&&Lt){var Mn=Qt.id,Nn=Kt(Lt,Mn);Object(k.checkInteger)(ln);var Yn=st(Lt,Mn);ln!==Nn&&ln>=0&&ln<=Yn&&xt(Lt,Nn,ln,Yn,mn,Mn)}}function xt(Lt,Qt,ln,mn,Mn,Nn){if(Lt&&oe[Nn]&&oe[Nn][Lt]){var Yn=oe[Nn][Lt].getStreamInfo(),Vn=Yn&&Yn.manifestInfo&&Yn.manifestInfo.isDynamic,fi=ge.getCurrentBufferLevel(Lt);Fe.info("Stream ID: "+Nn+" ["+Lt+"] switch from "+Qt+" to "+ln+"/"+mn+" (buffer: "+fi+") "+(Mn?JSON.stringify(Mn):".")),pe[Nn]=pe[Nn]||{},pe[Nn][Lt]=ln;var Cn=function ht(Lt,Qt,ln){if(Qt&&oe&&oe[Lt]&&oe[Lt][Qt]){var mn=De(oe[Lt][Qt].getMediaInfo());return mn[ln]?mn[ln]:null}return null}(Nn,Lt,ln);q.trigger(D.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Qt,newQuality:ln,reason:Mn,streamInfo:Yn,bitrateInfo:Cn,maxIdx:mn,mediaType:Lt},{streamId:Yn.id,mediaType:Lt});var Tt=Ne.getAverageThroughput(Lt,Vn);isNaN(Tt)||Ie.setSavedBitrateSettings(Lt,Tt)}}function Qe(Lt,Qt,ln){var mn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,Mn=Lt&&Lt.type?oe[ln][Lt.type].getRepresentationInfo():null;if(J.get().streaming.abr.useDeadTimeLatency&&mn&&Mn&&Mn.fragmentDuration){var Nn=Mn.fragmentDuration;if((mn/=1e3)>Nn)return 0;Qt*=1-mn/Nn}for(var Vn=De(Lt),fi=Vn.length-1;fi>=0;fi--)if(1e3*Qt>=Vn[fi].bitrate)return fi;return 0}function De(Lt){var Qt=[];if(!Lt||!Lt.bitrateList)return Qt;for(var Mn,ln=Lt.bitrateList,mn=Lt.type,Nn=0,Yn=ln.length;Nn<Yn;Nn++)(Mn=new E.default).mediaType=mn,Mn.qualityIndex=Nn,Mn.bitrate=ln[Nn].bandwidth,Mn.width=ln[Nn].width,Mn.height=ln[Nn].height,Mn.scanType=ln[Nn].scanType,Qt.push(Mn);return Qt}function Ft(){if(me){var Qt=J.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;fe=me.getClientWidth()*Qt,Re=me.getClientHeight()*Qt}}return le={initialize:function Z(){Je=Object(A.default)(B).create(),Ne=Object(U.default)(B).create({settings:J}),($=Object(t.default)(B).create({dashMetrics:ge,customParametersModel:ke,mediaPlayerModel:Ue,settings:J})).initialize(),q.on(O.default.QUALITY_CHANGE_RENDERED,Ke,le),q.on(O.default.METRIC_ADDED,Ve,le),q.on(D.default.LOADING_PROGRESS,xe,le)},isPlayingAtTopQuality:function rt(Lt){var Qt=Lt?Lt.id:null,ln=Kt(y.default.AUDIO,Qt),mn=Kt(y.default.VIDEO,Qt);return ln===st(y.default.AUDIO,Qt)&&mn===st(y.default.VIDEO,Qt)},updateTopQualityIndex:function lt(Lt){var Qt=Lt.type,ln=Lt.streamInfo.id,mn=Lt.representationCount-1;return K[ln]=K[ln]||{},K[ln][Qt]=mn,mn},clearDataForStream:function qt(Lt){Je&&Je.clearForStream(Lt),oe[Lt]&&delete oe[Lt],ot[Lt]&&delete ot[Lt],he[Lt]&&delete he[Lt]},getThroughputHistory:function ze(){return Ne},getBitrateList:De,getQualityForBitrate:Qe,getTopBitrateInfoFor:function nn(Lt){var Qt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Qt||(Qt=ae.getActiveStreamInfo().id),Lt&&oe&&oe[Qt]&&oe[Qt][Lt]){var ln=st(Lt,Qt),mn=De(oe[Qt][Lt].getMediaInfo());return mn[ln]?mn[ln]:null}return null},getMinAllowedIndexFor:ct,getMaxAllowedIndexFor:st,getInitialBitrateFor:function dn(Lt,Qt){if(function de(){if(!Ie||!Ie.hasOwnProperty("getSavedBitrateSettings"))throw new Error(y.default.MISSING_CONFIG_ERROR)}(),Lt===y.default.TEXT)return NaN;var ln=Ie.getSavedBitrateSettings(Lt),mn=Ue.getAbrBitrateParameter("initialBitrate",Lt),Mn=J.get().streaming.abr.initialRepresentationRatio[Lt];if(-1===mn)if(Mn>-1){var Nn=oe[Qt][Lt].getStreamInfo(),Yn=Me.getAdaptationForType(Nn.index,Lt,Nn).Representation_asArray;mn=Array.isArray(Yn)?Yn[Math.max(Math.round(Yn.length*Mn)-1,0)].bandwidth/1e3:0}else mn=isNaN(ln)?Lt===y.default.VIDEO?1e3:100:ln;return mn},getQualityFor:Kt,getAbandonmentStateFor:function rn(Lt,Qt){return he[Lt]&&he[Lt][Qt]?he[Lt][Qt].state:null},setPlaybackQuality:Tn,checkPlaybackQuality:function un(Lt,Qt){try{if(!(Lt&&oe&&oe[Qt]&&oe[Qt][Lt]))return!1;if(Je){var ln=me.getPlaybackQuality();ln&&Je.push(Qt,He,ln)}if(!J.get().streaming.abr.autoSwitchBitrate[Lt])return!1;var mn=Kt(Lt,Qt),Mn=Object(f.default)(B).create({abrController:le,switchHistory:ot[Qt][Lt],droppedFramesHistory:Je,streamProcessor:oe[Qt][Lt],currentValue:mn,useBufferOccupancyABR:Te[Lt],useL2AABR:W[Lt],useLoLPABR:se[Lt],videoModel:me}),Nn=ct(Lt,Qt),Yn=st(Lt,Qt),Vn=$.getMaxQuality(Mn),fi=Vn.quality;return void 0!==Nn&&(fi>g.default.NO_CHANGE?fi:mn)<Nn&&(fi=Nn),fi>Yn&&(fi=Yn),ot[Qt][Lt].push({oldValue:mn,newValue:fi}),fi>g.default.NO_CHANGE&&fi!==mn&&(he[Qt][Lt].state===I.default.ALLOW_LOAD||fi<mn)&&(xt(Lt,mn,fi,Yn,Vn.reason,Qt),!0)}catch{return!1}},setElementSize:Ft,setWindowResizeEventCalled:function dt(Lt){Le=Lt},registerStreamType:function te(Lt,Qt){var ln=Qt.getStreamInfo().id;oe[ln]||(oe[ln]={}),ot[ln]||(ot[ln]={}),he[ln]||(he[ln]={}),ot[ln][Lt]=Object(v.default)(B).create(),oe[ln][Lt]=Qt,he[ln][Lt]={},he[ln][Lt].state=I.default.ALLOW_LOAD,function ne(Lt){var Qt=J.get().streaming.abr.ABRStrategy;Qt===y.default.ABR_STRATEGY_L2A?(Te[Lt]=!1,se[Lt]=!1,W[Lt]=!0):Qt===y.default.ABR_STRATEGY_LoLP?(Te[Lt]=!1,se[Lt]=!0,W[Lt]=!1):Qt===y.default.ABR_STRATEGY_BOLA?(Te[Lt]=!0,se[Lt]=!1,W[Lt]=!1):Qt===y.default.ABR_STRATEGY_THROUGHPUT?(Te[Lt]=!1,se[Lt]=!1,W[Lt]=!1):Qt===y.default.ABR_STRATEGY_DYNAMIC&&(Te[Lt]=!(!Te||!Te[Lt])&&Te[Lt],se[Lt]=!1,W[Lt]=!1)}(Lt),Lt===y.default.VIDEO&&Ft()},unRegisterStreamType:function ee(Lt,Qt){try{oe[Lt]&&oe[Lt][Qt]&&delete oe[Lt][Qt],ot[Lt]&&ot[Lt][Qt]&&delete ot[Lt][Qt],he[Lt]&&he[Lt][Qt]&&delete he[Lt][Qt]}catch{}},setConfig:function _e(Lt){Lt&&(Lt.streamController&&(ae=Lt.streamController),Lt.domStorage&&(Ie=Lt.domStorage),Lt.mediaPlayerModel&&(Ue=Lt.mediaPlayerModel),Lt.customParametersModel&&(ke=Lt.customParametersModel),Lt.dashMetrics&&(ge=Lt.dashMetrics),Lt.adapter&&(Me=Lt.adapter),Lt.videoModel&&(me=Lt.videoModel),Lt.settings&&(J=Lt.settings))},reset:function ue(){X(),q.off(D.default.LOADING_PROGRESS,xe,le),q.off(O.default.QUALITY_CHANGE_RENDERED,Ke,le),q.off(O.default.METRIC_ADDED,Ve,le),$&&$.reset()}},function Q(){Fe=Y.getLogger(le),X()}(),le}N.__dashjs_factory_name="AbrController";var S=p.default.getSingletonFactory(N);S.QUALITY_DEFAULT=0,p.default.updateSingletonFactory(N.__dashjs_factory_name,S),C.default=S},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),y=c(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),I=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),E=c(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function p(){var f,g,R,j,v=this.context,A=Object(L.default)(v).getInstance(),U=Object(I.default)(v).getInstance();function k(B){R.invalidateSelectedIndexes(B.entry)}return f={reset:function N(){R.reset(),j.reset()},initialize:function S(B){R.setConfig({adapter:g}),function P(B){R.update(B),j.chooseSelector(g.getIsDVB(B))}(B)},resolve:function T(B){var q=R.getForPath(B).reduce(function(le,Fe){var $=j.select(Fe);return $?(U.isRelative($.url)?le.url=U.resolve($.url,le.url):(le.url=$.url,le.serviceLocation=$.serviceLocation),le.availabilityTimeOffset=$.availabilityTimeOffset,le.availabilityTimeComplete=$.availabilityTimeComplete,le):new E.default},new E.default);if(!U.isRelative(q.url))return q},setConfig:function x(B){B.baseURLTreeModel&&(R=B.baseURLTreeModel),B.baseURLSelector&&(j=B.baseURLSelector),B.adapter&&(g=B.adapter)}},function O(){R=Object(t.default)(v).create(),j=Object(y.default)(v).create(),A.on(D.default.SERVICE_LOCATION_BLACKLIST_CHANGED,k,f)}(),f}p.__dashjs_factory_name="BaseURLController",C.default=F.default.getClassFactory(p)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function I(E){E=E||{};var F,L=[],D=Object(y.default)(this.context).getInstance(),p=E.updateEventName,f=E.addBlacklistEventName;function v(j){-1===L.indexOf(j)&&(L.push(j),D.trigger(p,{entry:j}))}function A(j){v(j.entry)}return F={add:v,contains:function g(j){return!!(L.length&&j&&j.length)&&-1!==L.indexOf(j)},reset:function R(){L=[]}},function U(){f&&D.on(f,A,F)}(),F}I.__dashjs_factory_name="BlackListController",C.default=t.default.getClassFactory(I)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),I=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),E=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),g=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),A=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),U=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),j=.01,O="BufferController";function x(P){P=P||{};var oe,he,Se,Le,fe,Re,Me,me,Ue,ke,Ie,He,ot,Je,Ne,Te,W,se,T=this.context,N=Object(F.default)(T).getInstance(),S=P.errHandler,B=P.fragmentModel,Y=P.representationController,q=P.adapter,le=P.textController,Fe=P.abrController,$=P.playbackController,ae=P.streamInfo,K=P.type,pe=P.settings;function ne(Ht){Re=Ht}function ee(Ht){return q.convertRepresentationToRepresentationInfo(Y.getRepresentationForQuality(Ht))}function _e(Ht){pe.get().streaming.cacheInitSegments&&(he.info("Init fragment finished loading saving to",K+"'s init cache"),Ne.save(Ht.chunk)),he.debug("Append Init fragment",K," with representationId:",Ht.chunk.representationId," and quality:",Ht.chunk.quality,", data size:",Ht.chunk.bytes.byteLength),Ke(Ht.chunk)}function xe(Ht){Ke(Ht.chunk,Ht.request)}function Ke(Ht){Ue.append(Ht,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(on){st(on)}).catch(function(on){st(on)}),Ht.mediaInfo.type===t.default.VIDEO&&en(L.default.VIDEO_CHUNK_RECEIVED,{chunk:Ht})}function Ve(Ht){if(Ht&&Ht.length>0)for(var zt=0,on=Ht.length;zt<on;zt++)he.debug("Buffered range: "+Ht.start(zt)+" - "+Ht.end(zt)+", currentTime = ",$.getTime())}function st(Ht){if(Ht.error)return 22===Ht.error.code&&function nt(){if(Je=!0,fe=.8*Wt(),he.warn("Quota exceeded, Critical Buffer: "+fe),fe>0){var Ht=Math.max(.2*fe,1),zt=fe-Ht,on=Math.min(pe.get().streaming.buffer.bufferTimeAtTopQuality,.9*zt),En=Math.min(pe.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*zt),Fn={streaming:{buffer:{bufferToKeep:parseFloat(Ht.toFixed(5)),bufferTimeAtTopQuality:parseFloat(on.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(En.toFixed(5))}}};pe.update(Fn)}}(),void((22===Ht.error.code||!ut())&&(he.warn("Clearing playback buffer to overcome quota exceed situation"),en(L.default.QUOTA_EXCEEDED,{criticalBufferLevel:fe,quotaExceededTime:Ht.chunk.start}),Ft(dt())));if(Ue&&(Pe(),Je=!1,(Ie=Ht.chunk)&&Ie.endFragment)){Ie&&!isNaN(Ie.index)&&(Me=Math.max(Ie.index,Me),Ye());var zt=Ue.getAllBufferRanges();Ie.segmentType===A.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Ve(zt),Tn(),function ct(){if(!isNaN(se)){if(K!==t.default.AUDIO&&K!==t.default.VIDEO)return void(se=NaN);var Ht=$.getTime(),zt=Qe(Ht,0),on=Qe(se,0);if(zt&&on&&zt.start===on.start)return void(se=NaN);var En=Y.getCurrentRepresentation().segmentDuration,Fn=Qe(se,En);Fn&&(pe.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Ht-se)>En?se<=Fn.end&&$.seek(Math.max(se,Fn.start),!1,!0):Ht<Fn.start&&$.seek(Fn.start,!1,!0))}}()),Ie&&en(L.default.BYTES_APPENDED_END_FRAGMENT,{quality:Ie.quality,startTime:Ie.start,index:Ie.index,bufferedRanges:zt,segmentType:Ie.segmentType,mediaType:K})}}function nn(){return new Promise(function(Ht,zt){var on=dn();if(!on||0===on.length)return Tn(),void Ht();Ft(on).then(function(){Ht()}).catch(function(En){zt(En)})})}function dn(Ht){var zt=[],on=Ue.getAllBufferRanges();if(!on||0===on.length)return zt;if(!Ht&&0!==Ht||isNaN(Ht))zt.push({start:on.start(0),end:on.end(on.length-1)+.5});else{var En=function un(Ht,zt){var on=pe.get().streaming.buffer.bufferToKeep,En=zt.start(0);if(Ht-En>on){var Xn=Math.max(0,Ht-on),ft=B.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:Ht,threshold:j})[0];if(ft&&(Xn=Math.min(ft.startTime,Xn)),Xn>0)return{start:En,end:Xn}}return null}(Ht,on),Fn=function Kt(Ht,zt){var on=zt.end(zt.length-1)+.5,En=We(Ht),Xn=ae.manifestInfo.duration>=pe.get().streaming.buffer.longFormContentDurationThreshold?pe.get().streaming.buffer.bufferTimeAtTopQualityLongForm:pe.get().streaming.buffer.bufferTimeAtTopQuality,ft=isNaN(En)?Ht:Math.min(En,Ht+Xn);if(ft>=zt.end(zt.length-1))return null;var hn=B.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:Ht,threshold:j})[0];if(hn&&(ft=Math.max(hn.startTime+hn.duration,ft)),pe.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var vt=0;vt<zt.length;vt++)if(zt.start(vt)<=Ht&&Ht<=zt.end(vt)&&zt.start(vt)<=ft&&ft<=zt.end(vt)){var gt=ft;ft=vt+1<zt.length?zt.start(vt+1):zt.end(vt)+1,he.debug("Buffered range ["+zt.start(vt)+", "+zt.end(vt)+"] overlaps with targetTime "+Ht+" and range to be pruned ["+gt+", "+on+"], using ["+ft+", "+on+"] instead"+(ft<on?"":" (no actual pruning)"));break}return ft<zt.end(zt.length-1)?{start:ft,end:on}:null}(Ht,on);En&&zt.push(En),Fn&&zt.push(Fn)}return zt}function Tn(){(!W||K===t.default.TEXT&&le.isTextEnabled())&&Pe()}function rn(){ze()}function xt(){ze(),se=NaN}function Qe(Ht,zt){var be,vt,on=Ue.getAllBufferRanges(),En=0,Fn=0,Xn=null,ft=null,hn=0,gt=isNaN(zt)?.15:zt;if(null!=on){for(vt=0,be=on.length;vt<be;vt++)if(En=on.start(vt),Fn=on.end(vt),null===Xn)hn=Math.abs(En-Ht),(Ht>=En&&Ht<Fn||hn<=gt)&&(Xn=En,ft=Fn);else{if(!((hn=En-ft)<=gt))break;ft=Fn}if(null!==Xn)return{start:Xn,end:ft}}return null}function Pe(){if($){var Ht=pe.get().streaming.gaps.jumpGaps&&!isNaN(pe.get().streaming.gaps.smallGapLimit)?pe.get().streaming.gaps.smallGapLimit:NaN;Le=Math.max(function De(Ht,zt){var on;return pe.get().streaming.gaps.jumpGaps&&(zt=pe.get().streaming.gaps.smallGapLimit),null===(on=Qe(Ht,zt))?0:on.end-Ht}($.getTime()||0,Ht),0),en(L.default.BUFFER_LEVEL_UPDATED,{mediaType:K,bufferLevel:Le}),ze()}}function Ye(){var Ht=Me>=me-1,zt=$.getTimeToStreamEnd(ae)-Le<1e-5;(Ht||zt)&&!Se&&(Et(!0),he.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(ae.id," and type ").concat(K)))}function ze(){K!==t.default.AUDIO&&K!==t.default.VIDEO||((!$.getLowLatencyModeEnabled()&&Le<pe.get().streaming.buffer.stallThreshold||0===Le)&&!Se?lt(y.default.BUFFER_EMPTY):(Se||Le>=pe.get().streaming.buffer.stallThreshold||$.getLowLatencyModeEnabled()&&Le>0)&&lt(y.default.BUFFER_LOADED))}function lt(Ht){ke===Ht||Ht===y.default.BUFFER_EMPTY&&0===$.getTime()||K===t.default.TEXT&&!le.isTextEnabled()||(ke=Ht,en(L.default.BUFFER_LEVEL_STATE_CHANGED,{state:Ht}),en(Ht===y.default.BUFFER_LOADED?L.default.BUFFER_LOADED:L.default.BUFFER_EMPTY),he.debug(Ht===y.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function rt(){!Ue||K===t.default.TEXT||Se||Ft(dt())}function dt(){var Ht=[],zt=Ue.getAllBufferRanges();if(!zt||0===zt.length)return Ht;var on=$.getTime(),En=Math.max(0,on-pe.get().streaming.buffer.bufferToKeep),Fn=B.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:on,threshold:j})[0];if(Fn)En=Math.min(Fn.startTime,En);else if(0===on&&$.getIsDynamic())return[];if(zt.start(0)<=En){for(var Xn={start:0,end:En},ft=0;ft<zt.length&&zt.end(ft)<=En;ft++)Xn.end=zt.end(ft);Xn.start<Xn.end&&Ht.push(Xn)}return Ht}function Ft(Ht){return new Promise(function(zt,on){if(Ht&&Ue&&0!==Ht.length){var En=[];Ht.forEach(function(Fn){En.push(function qt(Ht){return new Promise(function(zt,on){Ht.resolve=zt,Ht.reject=on,Te.push(Ht)})}(Fn))}),ot||Lt(),Promise.all(En).then(function(){zt()}).catch(function(Fn){on(Fn)})}else zt()})}function Lt(){try{if(0===Te.length||!Ue)return he.debug("Nothing to prune, halt pruning"),Te=[],void(ot=!1);var Ht=Ue.getBuffer();if(!Ht||!Ht.buffered||0===Ht.buffered.length)return he.debug("SourceBuffer is empty (or does not exist), halt pruning"),Te=[],void(ot=!1);var zt=Te.shift();he.debug("".concat(K,": Removing buffer from: ").concat(zt.start," to ").concat(zt.end)),ot=!0,$.getTime()<zt.end&&Et(!1),Ue.remove(zt).then(function(En){Qt(En)}).catch(function(En){Qt(En)})}catch{ot=!1}}function Qt(Ht){he.debug("onRemoved buffer from:",Ht.from,"to",Ht.to),Ve(Ue.getAllBufferRanges()),0===Te.length&&(ot=!1,Pe()),Ht.unintended&&(he.warn("Detected unintended removal from:",Ht.from,"to",Ht.to,"setting streamprocessor time to",Ht.from),en(L.default.SEEK_TARGET,{time:Ht.from})),ot?Lt():(W?W=!1:Pe(),en(L.default.BUFFER_CLEARED,{from:Ht.from,to:Ht.to,unintended:Ht.unintended,hasEnoughSpaceToAppend:ut(),quotaExceeded:Je}))}function ln(Ht){return new Promise(function(zt){Ht&&void 0!==Ht.MSETimeOffset&&Ue&&Ue.updateTimestampOffset?Ue.updateTimestampOffset(Ht.MSETimeOffset).then(function(){zt()}).catch(function(){zt()}):zt()})}function mn(){return Ue&&!Se?Ue.updateAppendWindow(ae):Promise.resolve()}function Nn(){++He*(pe.get().streaming.wallclockTimeUpdateInterval/1e3)>=pe.get().streaming.buffer.bufferPruningInterval&&(He=0,rt())}function Yn(){ze()}function Et(Ht){Se!==Ht&&((Se=Ht)?en(L.default.BUFFERING_COMPLETED):me=Number.POSITIVE_INFINITY)}function Wt(){try{var on,En,Ht=Ue.getAllBufferRanges(),zt=0;if(!Ht)return zt;for(En=0,on=Ht.length;En<on;En++)zt+=Ht.end(En)-Ht.start(En);return zt}catch{return 0}}function We(Ht){try{var zt=Ht,on=Ue.getAllBufferRanges();if(!on||0===on.length)return NaN;for(var En=0;zt===Ht&&En<on.length;){var Fn=on.start(En),Xn=on.end(En);zt>=Fn&&zt<=Xn&&(zt=Xn),En+=1}return zt===Ht?NaN:zt}catch{}}function ut(){var Ht=Wt();return isNaN(Ht)||Ht<fe}function en(Ht,zt){N.trigger(Ht,zt||{},{streamId:ae.id,mediaType:K})}function Jt(Ht,zt){if(fe=Number.POSITIVE_INFINITY,ke=void 0,me=Number.POSITIVE_INFINITY,Me=0,Ie=null,Se=!1,ot=!1,Je=!1,Le=0,He=0,Te=[],se=NaN,Ue){var on=Ue;Ue=null,!Ht&&!zt&&on.abort().then(function(){on.reset(zt),on=null})}W=!1}return oe={initialize:function J(Ht){ne(Ht),N.on(L.default.INIT_FRAGMENT_LOADED,_e,oe),N.on(L.default.MEDIA_FRAGMENT_LOADED,xe,oe),N.on(L.default.WALLCLOCK_TIME_UPDATED,Nn,oe),N.on(U.default.PLAYBACK_PLAYING,xt,oe),N.on(U.default.PLAYBACK_PROGRESS,Tn,oe),N.on(U.default.PLAYBACK_TIME_UPDATED,Tn,oe),N.on(U.default.PLAYBACK_RATE_CHANGED,Yn,oe),N.on(U.default.PLAYBACK_STALLED,rn,oe)},getStreamId:function Q(){return ae.id},getType:function Z(){return K},getBufferControllerType:function te(){return O},createBufferSink:function X(Ht){var zt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(on,En){if(Ne&&Ht&&Re){var Fn=Fe.getQualityFor(K,ae.id);Ue=Object(E.default)(T).create({mediaSource:Re,textController:le,eventBus:N}),function ue(Ht,zt,on){var En=ee(on);return zt&&zt[K]&&(K===t.default.VIDEO||K===t.default.AUDIO)?Ue.initializeForStreamSwitch(Ht,En,zt[K]):Ue.initializeForFirstUse(ae,Ht,En)}(Ht,zt,Fn).then(function(){return ln(ee(Fn))}).then(function(){on(Ue)}).catch(function(Xn){he.fatal("Caught error on create SourceBuffer: "+Xn),S.error(new g.default(v.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,v.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+K)),En(Xn)})}else on(null)})},getBuffer:function Vn(){return Ue},getBufferLevel:function fi(){return Le},getRangeAt:Qe,hasBufferAtTime:function ht(Ht){try{var zt=Ue.getAllBufferRanges();if(!zt||0===zt.length)return!1;for(var on=0;on<zt.length;){var En=zt.start(on),Fn=zt.end(on);if(Ht>=En&&Ht<=Fn)return!0;on+=1}return!1}catch(Xn){return he.error(Xn),!1}},pruneBuffer:rt,setMediaSource:ne,getMediaSource:function Cn(){return Re},appendInitSegmentFromCache:function de(Ht){var zt=Ne.extract(ae.id,Ht);return!!zt&&(he.info("Append Init fragment",K," with representationId:",zt.representationId," and quality:",zt.quality,", data size:",zt.bytes.byteLength),Ke(zt),!0)},getIsBufferingCompleted:function Tt(){return Se},setIsBufferingCompleted:Et,getIsPruningInProgress:function at(){return ot},reset:function Rn(Ht,zt){N.off(L.default.INIT_FRAGMENT_LOADED,_e,this),N.off(L.default.MEDIA_FRAGMENT_LOADED,xe,this),N.off(L.default.WALLCLOCK_TIME_UPDATED,Nn,this),N.off(U.default.PLAYBACK_PLAYING,xt,this),N.off(U.default.PLAYBACK_PROGRESS,Tn,this),N.off(U.default.PLAYBACK_TIME_UPDATED,Tn,this),N.off(U.default.PLAYBACK_RATE_CHANGED,Yn,this),N.off(U.default.PLAYBACK_STALLED,rn,this),Jt(Ht,zt)},prepareForPlaybackSeek:function yt(){return Se&&Et(!1),Ue.abort()},prepareForReplacementTrackSwitch:function jt(Ht){return new Promise(function(zt,on){Ue.abort().then(function(){return mn()}).then(function(){return pe.get().streaming.buffer.useChangeTypeForTrackSwitch?Ue.changeType(Ht):Promise.resolve()}).then(function(){return nn()}).then(function(){Et(!1),zt()}).catch(function(En){on(En)})})},prepareForNonReplacementTrackSwitch:function Gt(Ht){return new Promise(function(zt,on){mn().then(function(){return pe.get().streaming.buffer.useChangeTypeForTrackSwitch?Ue.changeType(Ht):Promise.resolve()}).then(function(){zt()}).catch(function(En){on(En)})})},prepareForReplacementQualitySwitch:function wt(){return new Promise(function(Ht,zt){Ue.abort().then(function(){return mn()}).then(function(){return nn()}).then(function(){Et(!1),Ht()}).catch(function(on){zt(on)})})},updateAppendWindow:mn,getAllRangesWithSafetyFactor:dn,getContinuousBufferTimeForTargetTime:We,clearBuffers:Ft,pruneAllSafely:nn,updateBufferTimestampOffset:ln,setSeekTarget:function Pt(Ht){se=Ht},segmentRequestingCompleted:function Mn(Ht){isNaN(Ht)||(me=Ht,Ye())}},function ge(){he=Object(p.default)(T).getInstance().getLogger(oe),Ne=Object(f.default)(T).getInstance(),Jt()}(),oe}x.__dashjs_factory_name=O,C.default=D.default.getClassFactory(x)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function f(){var A,U,R,j,k,O,x,P,T,N,g=this.context,v=Object(I.default)(g).getInstance();function $(){U=!1;var He=p.default.parseUserAgent();R=He&&He.browser&&He.browser.name&&"safari"===He.browser.name.toLowerCase()}function ae(){U=!1}function K(He){if(He.streamId===O.getActiveStreamInfo().id&&T){var ot=x.getLiveDelay();x.getBufferLevel()>ot/2&&(T=!1)}}function pe(He){He.streamId===O.getActiveStreamInfo().id&&(T=He.state===D.default.BUFFER_EMPTY)}function oe(){P.getCatchupModeEnabled()||j.setPlaybackRate(1)}function he(){x.getIsDynamic()&&P.getCatchupModeEnabled()&&(P.getCatchupPlaybackRates().max>0||P.getCatchupPlaybackRates().min<0)&&!x.isPaused()&&!x.isSeeking()&&function fe(){try{return!(!x.getTime()>0||U)&&(Re()===E.default.LIVE_CATCHUP_MODE_LOLP?function me(He,ot){try{return Math.abs(Le())>0||He<ot}catch{return!1}}(x.getBufferLevel(),k.get().streaming.liveCatchup.playbackBufferMin):function Me(){try{return Math.abs(Le())>0}catch{return!1}}())}catch{return!1}}()&&function Se(){if(!U&&j){var He,ot=j.getPlaybackRate(),Je=P.getCatchupPlaybackRates(),Ne=x.getBufferLevel(),Te=Le(),W=P.getCatchupMaxDrift();if(!isNaN(W)&&W>0&&Te>W)N.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),U=!0,x.seekToCurrentLive(!0,!1);else{var se=x.getCurrentLiveLatency(),ge=x.getLiveDelay();He=Re()===E.default.LIVE_CATCHUP_MODE_LOLP?function ke(He,ot,Je,Ne,Te){var W;if(Te<Ne){var se=Math.abs(He.min),Q=2*se/(1+Math.pow(Math.E,-5*(Te-Ne)));N.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Te+", newRate: "+(W=1-se+Q))}else{var Z=He.max,te=.02;W=Math.abs(ot-Je)<=te*Je?1:1-Z+2*Z/(1+Math.pow(Math.E,-5*(ot-Je))),N.debug("[LoL+ playback control_latency-based] latency: "+ot+", newRate: "+W)}return W}(Je,se,ge,k.get().streaming.liveCatchup.playbackBufferMin,Ne):function Ue(He,ot,Je,Ne){if(T)return 1;var Te=ot-Je,W=Te<0?Math.abs(He.min):He.max,J=1-W+2*W/(1+Math.pow(Math.E,-5*Te));return x.getPlaybackStalled()&&Ne<=Je/2&&Te>0&&(J=1),J}(Je,se,ge,Ne);var Q=R?.25:.02/(.5/Je.max);He&&Math.abs(ot-He)>=Q&&(N.debug("[CatchupController]: Setting playback rate to ".concat(He)),j.setPlaybackRate(He))}}}()}function Le(){return x.getCurrentLiveLatency()-x.getLiveDelay()}function Re(){var He=k.get().streaming.liveCatchup.playbackBufferMin;return k.get().streaming.liveCatchup.mode!==E.default.LIVE_CATCHUP_MODE_LOLP||null===He||isNaN(He)?E.default.LIVE_CATCHUP_MODE_DEFAULT:E.default.LIVE_CATCHUP_MODE_LOLP}function Ie(){P.getCatchupPlaybackRates(!0)}return A={reset:function Fe(){(function q(){v.off(F.default.BUFFER_LEVEL_UPDATED,K,A),v.off(F.default.BUFFER_LEVEL_STATE_CHANGED,pe,A),v.off(F.default.PLAYBACK_PROGRESS,he,A),v.off(F.default.PLAYBACK_TIME_UPDATED,he,A),v.off(F.default.PLAYBACK_SEEKED,he,A),v.off(L.default.SETTING_UPDATED_CATCHUP_ENABLED,oe,A),v.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Ie,A),v.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Ie,A),v.off(F.default.STREAM_INITIALIZED,Ie,A)})(),$(),j.setPlaybackRate(1,!0)},setConfig:function B(He){He&&(He.settings&&(k=He.settings),He.videoModel&&(j=He.videoModel),He.streamController&&(O=He.streamController),He.playbackController&&(x=He.playbackController),He.mediaPlayerModel&&(P=He.mediaPlayerModel))},initialize:function S(){(function Y(){v.on(F.default.BUFFER_LEVEL_UPDATED,K,A),v.on(F.default.BUFFER_LEVEL_STATE_CHANGED,pe,A),v.on(F.default.PLAYBACK_PROGRESS,he,A),v.on(F.default.PLAYBACK_TIME_UPDATED,he,A),v.on(F.default.PLAYBACK_SEEKED,ae,A),v.on(L.default.SETTING_UPDATED_CATCHUP_ENABLED,oe,A),v.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Ie,A),v.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Ie,A),v.on(F.default.STREAM_INITIALIZED,Ie,A)})(),Ie()}},function le(){N=Object(y.default)(g).getInstance().getLogger(A),$()}(),A}f.__dashjs_factory_name="CatchupController",C.default=t.default.getSingletonFactory(f)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function L(){var j,k,O,x,P,T,N,S,B,Y,q,D="urn:mpeg:dash:event:2012",p=1,f="urn:mpeg:dash:event:callback:2015",g=1,v=300,A={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},U=this.context,R=Object(I.default)(U).getInstance();function Fe(){if(!N||!S)throw new Error("setConfig function has to be called previously")}function $(){q=!1,O={},x={},P=null,Y=!1,T=Date.now()/1e3}function ae(){try{null!==P&&q&&(clearInterval(P),P=null,q=!1,function Me(){try{me(x),me(O)}catch(J){k.error(J)}}())}catch(J){throw J}}function pe(){try{if(!Y){Y=!0;var J=S.getTime(),Q=J-T;Q=T>0?Math.max(0,Q):0,oe(x,Q,J),oe(O,Q,J),he(x),he(O),T=J,Y=!1}}catch(Z){Y=!1,k.error(Z)}}function oe(J,Q,Z){try{Ue(J,function(ee){if(void 0!==ee){var X=isNaN(ee.duration)?0:ee.duration;ee.calculatedPresentationTime<=Z&&ee.calculatedPresentationTime+Q+X>=Z?He(ee,E.default.EVENT_MODE_ON_START):(ke(Z,X+Q,ee.calculatedPresentationTime)||function Ie(J){try{return J.calculatedPresentationTime>J.eventStream.period.start+J.eventStream.period.duration}catch(Z){return k.error(Z),!1}}(ee))&&(k.debug("Removing event ".concat(ee.id," from period ").concat(ee.eventStream.period.id," as it is expired or invalid")),function ot(J,Q){try{var Z=Q.eventStream.schemeIdUri,te=Q.eventStream.period.id,ne=Q.eventStream.value,ee=Q.id;J[te][Z]=J[te][Z].filter(function(X){return ne&&X.eventStream.value&&X.eventStream.value!==ne||X.id!==ee}),0===J[te][Z].length&&delete J[te][Z]}catch(X){k.error(X)}}(J,ee))}})}catch(ne){k.error(ne)}}function he(J){try{for(var Q in J)J.hasOwnProperty(Q)&&0===Object.keys(J[Q]).length&&delete J[Q]}catch(Z){k.error(Z)}}function fe(J,Q){var Z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],te=J.eventStream.schemeIdUri,ne=J.eventStream.value,ee=J.id,X=A.DISCARDED;Q[te]||(Q[te]=[]);var ue=Q[te].findIndex(function(de){return(!ne||de.eventStream.value&&de.eventStream.value===ne)&&de.id===ee});if(-1===ue)Q[te].push(J),J.triggeredReceivedEvent=!1,J.triggeredStartEvent=!1,X=A.ADDED;else if(Z){var _e=Q[te][ue];J.triggeredReceivedEvent=_e.triggeredReceivedEvent,J.triggeredStartEvent=_e.triggeredStartEvent,Q[te][ue]=J,X=A.UPDATED}return X}function Re(J){try{J.eventStream.value==p&&R.trigger(E.default.MANIFEST_VALIDITY_CHANGED,{id:J.id,validUntil:J.calculatedPresentationTime,newDuration:4294967295==J.calculatedPresentationTime?NaN:J.calculatedPresentationTime+J.duration,newManifestValidAfter:NaN},{mode:E.default.EVENT_MODE_ON_START})}catch(te){k.error(te)}}function me(J){try{var Q=S.getTime();Ue(J,function(ne){var ee=ne.eventStream&&ne.eventStream.period&&!isNaN(ne.eventStream.period.duration)?ne.eventStream.period.duration:NaN,X=ne.eventStream&&ne.eventStream.period&&!isNaN(ne.eventStream.period.start)?ne.eventStream.period.start:NaN;isNaN(ee)||isNaN(X)||Math.abs(ne.calculatedPresentationTime-Q)<v&&He(ne,E.default.EVENT_MODE_ON_START)})}catch(te){k.error(te)}}function Ue(J,Q){try{if(J)for(var Z=Object.keys(J),te=0;te<Z.length;te++)for(var ne=J[Z[te]],ee=Object.keys(ne),X=0;X<ee.length;X++)ne[ee[X]].forEach(function(_e){void 0!==_e&&Q(_e)})}catch(_e){k.error(_e)}}function ke(J,Q,Z){try{return J-Q>Z}catch(te){return k.error(te),!1}}function He(J,Q){try{var Z=S.getTime(),te=J.id;if(Q===E.default.EVENT_MODE_ON_RECEIVE&&!J.triggeredReceivedEvent)return k.debug("Received event ".concat(te)),J.triggeredReceivedEvent=!0,void R.trigger(J.eventStream.schemeIdUri,{event:J},{mode:Q});J.triggeredStartEvent||(J.eventStream.schemeIdUri===D&&J.eventStream.value==p?(0!==J.duration||0!==J.presentationTimeDelta)&&(k.debug("Starting manifest refresh event ".concat(te," at ").concat(Z)),function Je(){try{Fe(),N.refreshManifest()}catch(J){k.error(J)}}()):J.eventStream.schemeIdUri===f&&J.eventStream.value==g?(k.debug("Starting callback event ".concat(te," at ").concat(Z)),function Ne(J){try{Object(F.default)(U).create({}).load({method:"get",url:J,request:{responseType:"arraybuffer"}})}catch(Z){k.error(Z)}}(J.messageData)):(k.debug("Starting event ".concat(te," from period ").concat(J.eventStream.period.id," at ").concat(Z)),R.trigger(J.eventStream.schemeIdUri,{event:J},{mode:Q})),J.triggeredStartEvent=!0)}catch(ne){k.error(ne)}}return j={addInlineEvents:function Se(J,Q){try{if(Fe(),O[Q]||(O[Q]={}),J)for(var Z=0;Z<J.length;Z++){var te=J[Z];if(!ke(S.getTime(),isNaN(te.duration)?0:te.duration,te.calculatedPresentationTime)){var X=fe(te,O[Q],!0);X===A.ADDED?(k.debug("Added inline event with id ".concat(te.id," from period ").concat(Q)),He(te,E.default.EVENT_MODE_ON_RECEIVE)):X===A.UPDATED&&k.debug("Updated inline event with id ".concat(te.id," from period ").concat(Q))}}}catch(ue){throw ue}},addInbandEvents:function Le(J,Q){try{Fe(),x[Q]||(x[Q]={});for(var Z=0;Z<J.length;Z++){var te=J[Z];ke(S.getTime(),isNaN(te.duration)?0:te.duration,te.calculatedPresentationTime)||(fe(te,x[Q],!1)===A.ADDED?(te.eventStream.schemeIdUri===D&&Re(te),k.debug("Added inband event with id ".concat(te.id," from period ").concat(Q)),He(te,E.default.EVENT_MODE_ON_RECEIVE)):k.debug("Inband event with scheme_id_uri ".concat(te.eventStream.schemeIdUri,", value ").concat(te.eventStream.value,", period id ").concat(Q," and event id ").concat(te.id," was ignored because it has been added before.")))}pe()}catch(ue){throw ue}},getInbandEvents:function se(){return x},getInlineEvents:function W(){return O},start:function K(){try{Fe(),k.debug("Start Event Controller");var J=B.get().streaming.eventControllerRefreshDelay;!q&&!isNaN(J)&&(q=!0,P=setInterval(pe,J))}catch(Q){throw Q}},setConfig:function Te(J){try{if(!J)return;J.manifestUpdater&&(N=J.manifestUpdater),J.playbackController&&(S=J.playbackController),J.settings&&(B=J.settings)}catch(Q){throw Q}},reset:function ge(){ae(),$()}},function le(){k=Object(y.default)(U).getInstance().getLogger(j),$()}(),j}L.__dashjs_factory_name="EventController",C.default=t.default.getSingletonFactory(L)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),I=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),E=c(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),F=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),g=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function A(U){U=U||{};var N,S,B,R=this.context,j=Object(L.default)(R).getInstance(),k=U.errHandler,O=U.mediaPlayerModel,x=U.dashMetrics,P=Object(v.default)(R).getInstance(),T=U.streamInfo;function q(){return T.id}function Fe(){for(var pe in B)B[pe].reset();B={}}function K(pe){if(pe.sender){var oe=pe.request,he=pe.response,Se=oe.isInitializationRequest(),Le=oe.mediaInfo.streamInfo;if(pe.error&&(oe.mediaType===t.default.AUDIO||oe.mediaType===t.default.VIDEO||oe.mediaType===t.default.TEXT&&oe.mediaInfo.isFragmented)&&j.trigger(D.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:pe.request.serviceLocation}),!he||!Le)return void S.warn("No "+oe.mediaType+" bytes to push or stream is inactive.");var fe=function ae(pe,oe,he,Se){var Le=new y.default;return Le.streamId=he,Le.mediaInfo=oe.mediaInfo,Le.segmentType=oe.type,Le.start=oe.startTime,Le.duration=oe.duration,Le.end=Le.start+Le.duration,Le.bytes=pe,Le.index=oe.index,Le.quality=oe.quality,Le.representationId=oe.representationId,Le.endFragment=Se,Le}(he,oe,T.id,pe.type!==D.default.FRAGMENT_LOADING_PROGRESS);j.trigger(Se?D.default.INIT_FRAGMENT_LOADED:D.default.MEDIA_FRAGMENT_LOADED,{chunk:fe,request:oe},{streamId:Le.id,mediaType:oe.mediaType})}}return N={getStreamId:q,getModel:function le(pe){var oe=B[pe];return oe||(oe=Object(I.default)(R).create({streamInfo:T,type:pe,dashMetrics:x,fragmentLoader:Object(E.default)(R).create({dashMetrics:x,mediaPlayerModel:O,errHandler:k,requestModifier:Object(F.default)(R).getInstance(),settings:U.settings,boxParser:U.boxParser,eventBus:j,events:D.default,errors:f.default,dashConstants:U.dashConstants,urlUtils:U.urlUtils,streamId:q()}),debug:P,eventBus:j,events:D.default}),B[pe]=oe),oe},reset:function $(){j.off(p.default.FRAGMENT_LOADING_COMPLETED,K,this),j.off(p.default.FRAGMENT_LOADING_PROGRESS,K,this),Fe()}},function Y(){S=P.getLogger(N),Fe(),j.on(p.default.FRAGMENT_LOADING_COMPLETED,K,N),j.on(p.default.FRAGMENT_LOADING_PROGRESS,K,N)}(),N}A.__dashjs_factory_name="FragmentController",C.default=g.default.getClassFactory(A)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function f(){var A,U,R,j,k,O,x,P,T,N,S,B,g=this.context,v=Object(E.default)(g).getInstance();function le(){(function ke(){B.debug("Stopping the gap controller"),k&&(clearInterval(k),k=null)})(),function K(){v.off(I.default.WALLCLOCK_TIME_UPDATED,Le,this),v.off(I.default.INITIAL_STREAM_SWITCH,Se,this),v.off(I.default.PLAYBACK_SEEKING,pe,this),v.off(I.default.BUFFER_REPLACEMENT_STARTED,oe,A),v.off(I.default.TRACK_CHANGE_RENDERED,he,A)}(),function Fe(){k=null,O=NaN,j=0,N=null,S={}}()}function pe(){N&&(clearTimeout(N),N=null)}function oe(He){try{if(He.streamId!==P.getActiveStreamInfo().id||He.mediaType!==F.default.VIDEO&&He.mediaType!==F.default.AUDIO)return;He.streamId===P.getActiveStreamInfo().id&&(S[He.mediaType]=!0)}catch(ot){B.error(ot)}}function he(He){!He||!He.mediaType||(S[He.mediaType]=!1)}function Se(){k||function Ue(){try{k||(B.debug("Starting the gap controller"),k=setInterval(function(){fe()&&Ie(x.getTime())},100))}catch{}}()}function Le(){if(fe(R.get().streaming.gaps.enableSeekFix)&&++j>=10){var He=x.getTime();U===He?Ie(He,!0):(U=He,O=NaN),j=0}}function fe(){var He=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!P.getActiveStream())return!1;var ot=Object.keys(S).some(function(Ne){return S[Ne]}),Je=!!He&&function Re(){var He=P.getActiveStream(),ot=parseFloat((He.getStartTime()+He.getDuration()).toFixed(5));return x.getTime()+R.get().streaming.gaps.threshold>=ot}();return!ot&&R.get().streaming.gaps.jumpGaps&&P.getActiveStreamProcessors().length>0&&(!x.isSeeking()||Je)&&!x.isPaused()&&!P.getIsStreamSwitchInProgress()&&!P.getHasMediaOrInitialisationError()}function Ie(He){var ge,ot=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Je=R.get().streaming.gaps.enableStallFix,Ne=R.get().streaming.gaps.stallSeek,Te=R.get().streaming.gaps.smallGapLimit,W=R.get().streaming.gaps.jumpLargeGaps,se=T.getBufferRange(),J=NaN,Q=!1;if(ge=function Me(He,ot){try{if(!He||He.length<=1&&ot>0)return NaN;for(var Je=NaN,Ne=0;isNaN(Je)&&Ne<He.length;){var Te=Ne>0?He.end(Ne-1):0;ot<He.start(Ne)&&Te-ot<R.get().streaming.gaps.threshold&&(Je=Ne),Ne+=1}return Je}catch{return null}}(se,He),!isNaN(ge)){var Z=se.start(ge),te=Z-He;te>0&&(te<=Te||W)&&(J=Z)}var ne=x.getTimeToStreamEnd();if(isNaN(J)&&ot&&isFinite(ne)&&!isNaN(ne)&&ne<Te&&(J=parseFloat(x.getStreamEndTime().toFixed(5)),Q=!0),Je&&isNaN(J)&&ot&&isNaN(ge)&&function me(He,ot){for(var Je=0,Ne=He.length;Je<Ne;Je++)if(ot>=He.start(Je)&&ot<=He.end(Je))return!0;return!1}(se,He)&&(0===Ne?(B.warn("Toggle play pause to break stall"),T.pause(),T.play()):(B.warn("Jumping ".concat(Ne,"s to break stall")),J=He+Ne)),J>0&&O!==J&&J>He&&!N){var ee=J-He;if(Q){var X=P.getStreamForTime(J),ue=X&&!!X.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(He," to ").concat(J,". Gap duration: ").concat(ee)),x.seek(J,!0,ue)}else{var _e=x.getIsDynamic(),de=ge>0?se.end(ge-1):He,xe=_e?1e3*Math.max(0,ee-.1):0;N=window.setTimeout(function(){x.seek(J,!0,!0),B.warn("Jumping gap occuring in period ".concat(P.getActiveStream().getStreamId()," starting at ").concat(de," and ending at ").concat(J,". Jumping by: ").concat(J-de)),N=null},xe)}O=J}}return A={reset:le,setConfig:function $(He){He&&(He.settings&&(R=He.settings),He.playbackController&&(x=He.playbackController),He.streamController&&(P=He.streamController),He.videoModel&&(T=He.videoModel))},initialize:function Y(){!function ae(){v.on(I.default.WALLCLOCK_TIME_UPDATED,Le,this),v.on(I.default.INITIAL_STREAM_SWITCH,Se,this),v.on(I.default.PLAYBACK_SEEKING,pe,this),v.on(I.default.BUFFER_REPLACEMENT_STARTED,oe,A),v.on(I.default.TRACK_CHANGE_RENDERED,he,A)}()}},function q(){B=Object(y.default)(g).getInstance().getLogger(A),le()}(),A}f.__dashjs_factory_name="GapController",C.default=t.default.getSingletonFactory(f)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),D=c.n(L),p=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function g(){var R,j,k,O,x,P,T,N,A=this.context,U=Object(I.default)(A).getInstance();function q(X,ue){return X&&k[ue]&&k[ue][X]?k[ue][X].list:[]}function le(X,ue){return X&&k[ue]&&k[ue][X]?k[ue][X].current:null}function $(X){var ue=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(X&&X.streamInfo){var _e=X.type,xe=X.streamInfo.id,Ke=le(_e,xe);if(k[xe]&&k[xe][_e]&&(k[xe][_e].current=X,k[xe][_e].current&&(_e!==t.default.TEXT&&!he(X,Ke)||_e===t.default.TEXT&&X.isFragmented)&&U.trigger(y.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ke,newMediaInfo:X,switchMode:O.get().streaming.trackSwitchMode[_e]},{streamId:xe}),!ue)){var Ve=function fe(X){var ue={lang:X.lang,viewpoint:X.viewpoint,roles:X.roles,accessibility:X.accessibility,audioChannelConfiguration:X.audioChannelConfiguration};return ue.lang||ue.viewpoint||ue.role&&ue.role.length>0||ue.accessibility&&ue.accessibility.length>0||ue.audioChannelConfiguration&&ue.audioChannelConfiguration.length>0?ue:null}(X);if(!Ve||!k[xe][_e].storeLastSettings)return;Ve.roles&&(Ve.role=Ve.roles[0],delete Ve.roles),Ve.accessibility&&(Ve.accessibility=Ve.accessibility[0]),Ve.audioChannelConfiguration&&(Ve.audioChannelConfiguration=Ve.audioChannelConfiguration[0]),P[_e]=Ve,N.setSavedMediaSettings(_e,Ve)}}}function ae(X,ue){!X||!ue||(x[X]=ue)}function K(X){return X?x[X]:null}function he(X,ue){if(!X&&!ue)return!0;if(!X||!ue)return!1;var _e=X.id===ue.id,de=X.viewpoint===ue.viewpoint,xe=X.lang===ue.lang,Ke=X.codec===ue.codec,Ve=X.roles.toString()===ue.roles.toString(),st=X.accessibility.toString()===ue.accessibility.toString(),ct=X.audioChannelConfiguration.toString()===ue.audioChannelConfiguration.toString();return _e&&Ke&&de&&xe&&Ve&&st&&ct}function Le(){k={},P={},function Je(){x={audio:null,video:null,text:null}}()}function Re(X,ue,_e){var de=[];return X.forEach(function(xe){ue(_e,xe)&&de.push(xe)}),0!==de.length?de:X}function Me(X,ue){return!X.lang||X.lang instanceof RegExp?ue.lang.match(X.lang):""!==ue.lang&&Object(p.extendedFilter)(ue.lang,D()(X.lang)).length>0}function me(X,ue){return null==X.index||ue.index===X.index}function Ue(X,ue){return!X.viewpoint||X.viewpoint===ue.viewpoint}function ke(X,ue){var _e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!X.role||!!ue.roles.filter(function(xe){return xe===X.role})[0]||ue.type===t.default.AUDIO&&_e}function Ie(X,ue){return X.accessibility?!!ue.accessibility.filter(function(de){return de===X.accessibility})[0]:!ue.accessibility.length}function He(X,ue){return!X.audioChannelConfiguration||!!ue.audioChannelConfiguration.filter(function(de){return de===X.audioChannelConfiguration})[0]}function Te(X){var de,ue=0,_e=[];return X.forEach(function(xe){(de=Math.max.apply(Math,xe.bitrateList.map(function(Ke){return Ke.bandwidth})))>ue?(ue=de,_e=[xe]):de===ue&&_e.push(xe)}),_e}function W(X){var de,ue=1/0,_e=[];return X.forEach(function(xe){var Ke=xe.bitrateList.reduce(function(Ve,st){var ct=Math.max(1,st.width*st.height);return Ve+st.bandwidth/ct},0);(de=Ke/xe.bitrateList.length)<ue?(ue=de,_e=[xe]):de===ue&&_e.push(xe)}),_e}function se(X){var de,ue=0,_e=[];return X.forEach(function(xe){(de=xe.representationCount)>ue?(ue=de,_e=[xe]):de===ue&&_e.push(xe)}),_e}function ge(X,ue){if(X===t.default.TEXT)return ue[0];var de,_e=O.get().streaming.selectionModeForInitialTrack,xe=T.getCustomInitialTrackSelectionFunction();if(xe&&"function"==typeof xe)de=xe(ue);else switch(_e){case t.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:de=function J(X){var ue=function Ne(X){var ue=0,_e=[];return X.forEach(function(de){isNaN(de.selectionPriority)||(de.selectionPriority>ue?(ue=de.selectionPriority,_e=[de]):de.selectionPriority===ue&&_e.push(de))}),_e}(X);return ue.length>1&&(ue=Te(ue)),ue.length>1&&(ue=se(ue)),ue}(ue);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:de=function Q(X){var ue=Te(X);return ue.length>1&&(ue=se(ue)),ue}(ue);break;case t.default.TRACK_SELECTION_MODE_FIRST_TRACK:de=Z(ue);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:de=function te(X){var ue=W(X);return ue.length>1&&(ue=Te(ue)),ue}(ue);break;case t.default.TRACK_SELECTION_MODE_WIDEST_RANGE:de=function ne(X){var ue=se(X);return ue.length>1&&(ue=Te(X)),ue}(ue);break;default:j.warn("Track selection mode ".concat(_e," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),de=Z(ue)}return de.length>0?de[0]:ue[0]}function Z(X){return X[0]}return R={setInitialMediaSettingsForType:function B(X,ue){var _e=P[X]||K(X),de=q(X,ue.id),xe=[];_e||ae(X,_e=N.getSavedMediaSettings(X)),de&&0!==de.length&&(_e&&(xe=Re(xe=Array.from(de),Me,_e),xe=Re(xe,me,_e),xe=Re(xe,Ue,_e),X===t.default.AUDIO&&P[X]||(xe=Re(xe,ke,_e)),xe=Re(xe,Ie,_e),xe=Re(xe,He,_e)),0===xe.length?$(ge(X,de),!0):$(xe.length>1?ge(X,xe):xe[0]))},addTrack:function Y(X){if(X){var ue=X.type;if(function oe(X){return X===t.default.AUDIO||X===t.default.VIDEO||X===t.default.TEXT||X===t.default.IMAGE}(ue)){var _e=X.streamInfo.id;k[_e]||(k[_e]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var de=k[_e][ue].list,xe=0,Ke=de.length;xe<Ke;++xe)if(he(de[xe],X))return;de.push(X)}}},getTracksFor:q,getCurrentTrackFor:le,isCurrentTrack:function Fe(X){if(!X)return!1;var ue=X.type,_e=X.streamInfo.id;return k[_e]&&k[_e][ue]&&he(k[_e][ue].current,X)},setTrack:$,selectInitialTrack:ge,setInitialSettings:ae,getInitialSettings:K,getTracksWithHighestBitrate:Te,getTracksWithHighestEfficiency:W,getTracksWithWidestRange:se,isTracksEqual:he,matchSettings:function ot(X,ue){var _e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var de=!1;if(X.lang){if(X.lang instanceof RegExp)de=ue.lang.match(X.lang);else if(""!==ue.lang){var xe=D()(X.lang);xe&&(de=Object(p.extendedFilter)(ue.lang,xe).length>0)}}else de=!0;var Ke=null==X.index||ue.index===X.index,Ve=!X.viewpoint||X.viewpoint===ue.viewpoint,st=!X.role||!!ue.roles.filter(function(yt){return yt===X.role})[0],ct=!X.accessibility||!!ue.accessibility.filter(function(yt){return yt===X.accessibility})[0],nt=!X.audioChannelConfiguration||!!ue.audioChannelConfiguration.filter(function(yt){return yt===X.audioChannelConfiguration})[0];return de&&Ke&&Ve&&(st||ue.type===t.default.AUDIO&&_e)&&ct&&nt}catch(yt){return!1}},matchSettingsLang:Me,matchSettingsIndex:me,matchSettingsViewPoint:Ue,matchSettingsRole:ke,matchSettingsAccessibility:Ie,matchSettingsAudioChannelConfig:He,saveTextSettingsDisabled:function pe(){N.setSavedMediaSettings(t.default.TEXT,null)},setConfig:function Se(X){X&&(X.domStorage&&(N=X.domStorage),X.settings&&(O=X.settings),X.customParametersModel&&(T=X.customParametersModel))},reset:Le},function S(){j=Object(F.default)(A).getInstance().getLogger(R),Le()}(),R}g.__dashjs_factory_name="MediaController";var v=E.default.getSingletonFactory(g);E.default.updateSingletonFactory(g.__dashjs_factory_name,v),C.default=v},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function I(){var E,F,L,D=this.context;return E={createMediaSource:function f(){var k="WebKitMediaSource"in window;return"MediaSource"in window?F=new MediaSource:k&&(F=new WebKitMediaSource),F},attachMediaSource:function g(k){var O=window.URL.createObjectURL(F);return k.setSource(O),O},detachMediaSource:function v(k){k.setSource(null)},setDuration:function A(k){!F||"open"!==F.readyState||null===k&&isNaN(k)||F.duration!==k&&(function j(k){for(var O=k.sourceBuffers,x=0;x<O.length;x++)if(O[x].updating)return!0;return!1}(F)?setTimeout(A.bind(null,k),50):(L.info("Set MediaSource duration:"+k),F.duration=k))},setSeekable:function U(k,O){F&&"function"==typeof F.setLiveSeekableRange&&"function"==typeof F.clearLiveSeekableRange&&"open"===F.readyState&&k>=0&&k<O&&(F.clearLiveSeekableRange(),F.setLiveSeekableRange(k,O))},signalEndOfStream:function R(k){if(k&&"open"===k.readyState){for(var O=k.sourceBuffers,x=0;x<O.length;x++)if(O[x].updating||0===O[x].buffered.length)return;L.info("call to mediaSource endOfStream"),k.endOfStream()}}},function p(){L=Object(y.default)(D).getInstance().getLogger(E)}(),E}I.__dashjs_factory_name="MediaSourceController",C.default=t.default.getSingletonFactory(I)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function f(){var A,U,R,j,k,O,x,P,T,N,S,B,Y,q,le,Fe,ae,K,pe,oe,he,Se,Le,g=this.context,v=Object(y.default)(g).getInstance();function Re(){ot(),q=!1,N=0,S=0,Fe=0,he=!1,ae=!1,Se=!1,K=NaN,x&&(v.off(I.default.DATA_UPDATE_COMPLETED,Gt,A),v.off(I.default.LOADING_PROGRESS,Mn,A),v.off(I.default.MANIFEST_UPDATED,Cn,A),v.off(I.default.STREAMS_COMPOSED,Tt,A),v.off(L.default.PLAYBACK_ENDED,Ft,A),v.off(L.default.STREAM_INITIALIZING,Yn,A),v.off(L.default.REPRESENTATION_SWITCH,Vn,A),v.off(L.default.BUFFER_LEVEL_STATE_CHANGED,un,A),wt(),function Wt(){x.removeEventListener("canplay",nn),x.removeEventListener("canplaythrough",dn),x.removeEventListener("play",Kt),x.removeEventListener("waiting",Tn),x.removeEventListener("playing",rn),x.removeEventListener("pause",xt),x.removeEventListener("error",qt),x.removeEventListener("seeking",ht),x.removeEventListener("seeked",Qe),x.removeEventListener("timeupdate",De),x.removeEventListener("progress",Pe),x.removeEventListener("ratechange",Ye),x.removeEventListener("loadedmetadata",ze),x.removeEventListener("loadeddata",lt),x.removeEventListener("stalled",Nn),x.removeEventListener("ended",rt),x.removeEventListener("volumechange",dt)}()),T=null,x=null,B=null,Y=null}function ke(){return parseFloat((Ie(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-ge()).toFixed(5))}function Ie(We){var ut=We||B;return ut.start+ut.duration}function He(){var We=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&x&&x.getElement()?(We&&Y&&se(ge()),x.play()):q=!0}function ot(){B&&x&&x.pause()}function Je(We){var ut=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Pt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],en=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&x&&We!==(isNaN(K)?x.getTime():K)&&((pe=!0===Pt)||(K=We),U.info("Requesting seek to time: "+We+(pe?" (internal)":"")),Y&&en&&se(We),x.setCurrentTime(We,ut))}function W(){if(B&&x&&Y){var We=R&&R.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO,ut=k.getCurrentDVRInfo(We);return ut&&ut.range?ut.range.end:0}}function se(We){var ut=new Date(P.getClientReferenceTime()),Pt=O.getRegularPeriods()[0],en=P.calcPresentationTimeFromWallTime(ut,Pt);N=en-We}function ge(){return B&&x?x.getTime():null}function J(){return B&&x?x.isPaused():null}function Q(){return B&&x?x.isSeeking():null}function Z(){return B&&x?x.isStalled():null}function te(){return B&&x?x.getPlaybackRate():null}function ee(){return B&&x?x.getEnded():null}function X(){return Y}function nt(){var We=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!J()&&Y&&0!==x.getReadyState()&&!Q()&&!he){We||(We=R.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO);var ut=ge(),Pt=function yt(We,ut){var Pt=k.getCurrentDVRInfo(ut),en=Pt?Pt.range:null;return en?We>en.end?Math.max(en.end-N,en.start):We>0&&We+.25<en.start&&Math.abs(We-en.start)<31536e4?ae?Math.max(en.end-N,en.start):en.start:We:NaN}(ut,We);!isNaN(Pt)&&Pt!==ut&&!Q()&&(Z()||oe||1===x.getReadyState())&&(U.debug("UpdateCurrentTime: Seek to actual time: ".concat(Pt," from currentTime: ").concat(ut)),Je(Pt,!1,!1))}}function jt(){null===T&&(T=setInterval(function(){!function Lt(){v.trigger(I.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Y,time:new Date}),X()&&(R.addDVRMetric(),J()?function Qt(){var We=Date.now();(!le||We>le+500)&&(le=We,De())}():nt())}()},Le.get().streaming.wallclockTimeUpdateInterval))}function wt(){clearInterval(T),T=null}function Gt(We){var ut=O.convertRepresentationToRepresentationInfo(We.currentRepresentation),Pt=ut?ut.mediaInfo.streamInfo:null;null===Pt||B.id!==Pt.id||(B=Pt)}function nn(){v.trigger(I.default.CAN_PLAY)}function dn(){v.trigger(I.default.CAN_PLAY_THROUGH)}function un(We){We.streamId===R.getActiveStreamInfo().id&&(oe=We.state===D.default.BUFFER_EMPTY,Le.get().streaming.buffer.setStallState&&x.setStallState(We.mediaType,We.state===D.default.BUFFER_EMPTY))}function Kt(){U.info("Native video element event: play"),nt(),jt(),v.trigger(I.default.PLAYBACK_STARTED,{startTime:ge()})}function Tn(){U.info("Native video element event: waiting"),v.trigger(I.default.PLAYBACK_WAITING,{playingTime:ge()})}function rn(){U.info("Native video element event: playing"),pe=!1,v.trigger(I.default.PLAYBACK_PLAYING,{playingTime:ge()})}function xt(){U.info("Native video element event: pause"),v.trigger(I.default.PLAYBACK_PAUSED,{ended:ee()})}function ht(){if(!pe){var We=ge();!isNaN(K)&&K!==We&&(We=K),K=NaN,U.info("Seeking to: "+We),jt(),v.trigger(I.default.PLAYBACK_SEEKING,{seekTime:We,streamId:B.id})}}function Qe(){U.info("Native video element event: seeked"),pe=!1,v.trigger(I.default.PLAYBACK_SEEKED)}function De(){B&&v.trigger(I.default.PLAYBACK_TIME_UPDATED,{timeToEnd:ke(),time:ge(),streamId:B.id})}function Pe(){v.trigger(I.default.PLAYBACK_PROGRESS,{streamId:B.id})}function Ye(){var We=te();U.info("Native video element event: ratechange: ",We),v.trigger(I.default.PLAYBACK_RATE_CHANGED,{playbackRate:We})}function ze(){U.info("Native video element event: loadedmetadata"),v.trigger(I.default.PLAYBACK_METADATA_LOADED),jt()}function lt(){U.info("Native video element event: loadeddata"),v.trigger(I.default.PLAYBACK_LOADED_DATA)}function rt(){U.info("Native video element event: ended"),ot(),wt();var We=R?R.getActiveStreamInfo():null;We&&v.trigger(I.default.PLAYBACK_ENDED,{isLast:We.isLast})}function dt(){v.trigger(I.default.PLAYBACK_VOLUME_CHANGED)}function Ft(We){if(T&&We.isLast){U.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var ut=We.seekTime?We.seekTime:Ie();x.setCurrentTime(ut),ot(),wt()}}function qt(We){v.trigger(I.default.PLAYBACK_ERROR,{error:(We.target||We.srcElement).error})}function Mn(We){if(!1===We.stream&&ae&&!isNaN(We.request.duration)){var ut=1.2*We.request.duration;ut>N&&(U.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",ut.toFixed(2)),N=ut,S=ut)}}function Nn(We){v.trigger(I.default.PLAYBACK_STALLED,{e:We})}function Yn(We){!function Et(We){We&&We.supplementalProperties&&"true"===We.supplementalProperties[t.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(U.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),ae=!0)}(We.mediaInfo)}function Vn(We){var ut=R.getActiveStreamInfo();!We||!ut||!We.currentRepresentation||!We.streamId||We.streamId!==ut.id||!We.mediaType||We.mediaType!==t.default.VIDEO&&We.mediaType!==t.default.AUDIO||(ae=!We.currentRepresentation.availabilityTimeComplete)&&!Se&&(Se=!0)}function Cn(){he=!0}function Tt(){he=!1}return A={initialize:function Me(We,ut){B=We,!0!==ut&&function me(){(function at(){x.addEventListener("canplay",nn),x.addEventListener("canplaythrough",dn),x.addEventListener("play",Kt),x.addEventListener("waiting",Tn),x.addEventListener("playing",rn),x.addEventListener("pause",xt),x.addEventListener("error",qt),x.addEventListener("seeking",ht),x.addEventListener("seeked",Qe),x.addEventListener("timeupdate",De),x.addEventListener("progress",Pe),x.addEventListener("ratechange",Ye),x.addEventListener("loadedmetadata",ze),x.addEventListener("loadeddata",lt),x.addEventListener("stalled",Nn),x.addEventListener("ended",rt),x.addEventListener("volumechange",dt)})(),Y=B.manifestInfo.isDynamic,oe=!1,pe=!1,v.on(I.default.DATA_UPDATE_COMPLETED,Gt,A),v.on(I.default.LOADING_PROGRESS,Mn,A),v.on(I.default.MANIFEST_UPDATED,Cn,A),v.on(I.default.STREAMS_COMPOSED,Tt,A),v.on(L.default.PLAYBACK_ENDED,Ft,A,{priority:y.default.EVENT_PRIORITY_HIGH}),v.on(L.default.STREAM_INITIALIZING,Yn,A),v.on(L.default.REPRESENTATION_SWITCH,Vn,A),v.on(L.default.BUFFER_LEVEL_STATE_CHANGED,un,A),q&&(q=!1,He())}()},setConfig:function ct(We){We&&(We.streamController&&(R=We.streamController),We.serviceDescriptionController&&(j=We.serviceDescriptionController),We.dashMetrics&&(k=We.dashMetrics),We.adapter&&(O=We.adapter),We.videoModel&&(x=We.videoModel),We.timelineConverter&&(P=We.timelineConverter),We.settings&&(Le=We.settings))},getTimeToStreamEnd:ke,getBufferLevel:function ln(){var We=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,ut=null;return R.getActiveStreamProcessors().forEach(function(Pt){if(!We||0===We.length||-1===We.indexOf(Pt.getType())){var en=Pt.getBufferLevel();ut=null===ut?en:Math.min(ut,en)}}),ut},getPlaybackStalled:function Ue(){return oe},getTime:ge,getLowLatencyModeEnabled:function mn(){return ae},getInitialCatchupModeActivated:function fi(){return Se},getIsManifestUpdateInProgress:function _e(){return he},getPlaybackRate:te,getPlayedRanges:function ne(){return B&&x?x.getPlayedRanges():null},getEnded:ee,getIsDynamic:X,getStreamController:function ue(){return R},computeAndSetLiveDelay:function st(We,ut){var Pt,en,Jt,zt=!isNaN(We)&&isFinite(We)?We:NaN,on=O.getSuggestedPresentationDelay(),En=j.getServiceDescriptionSettings();return Pt=isNaN(Le.get().streaming.delay.liveDelay)?null===Le.get().streaming.delay.liveDelayFragmentCount||isNaN(Le.get().streaming.delay.liveDelayFragmentCount)||isNaN(zt)?En&&!isNaN(En.liveDelay)&&En.liveDelay>0?En.liveDelay:!0===Le.get().streaming.delay.useSuggestedPresentationDelay&&null!==on&&!isNaN(on)&&on>0?on:isNaN(zt)?ut&&!isNaN(ut.minBufferTime)?4*ut.minBufferTime:4*B.manifestInfo.minBufferTime:4*zt:zt*Le.get().streaming.delay.liveDelayFragmentCount:Le.get().streaming.delay.liveDelay,null!==(Jt=O.getAvailabilityStartTime())&&(Fe=Jt),en=ut&&ut.dvrWindowSize>0?Math.min(Pt,ut.dvrWindowSize):Pt,N=en,S=en,en},getLiveDelay:function xe(){return N},getOriginalLiveDelay:function Ke(){return S},getCurrentLiveLatency:function Ve(){if(!Y||isNaN(Fe))return NaN;var We=ge();if(isNaN(We)||0===We)return 0;var ut=(new Date).getTime()+1e3*P.getClientTimeOffset();return Math.max(((ut-Fe-1e3*We)/1e3).toFixed(3),0)},play:He,isPaused:J,isStalled:Z,pause:ot,isSeeking:Q,getStreamEndTime:Ie,seek:Je,seekToOriginalLive:function Ne(){var We=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ut=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Pt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],en=W();0!==en&&Je(en-(N=S),We,ut,Pt)},seekToCurrentLive:function Te(){var We=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ut=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Pt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],en=W();0!==en&&Je(en-N,We,ut,Pt)},reset:Re,updateCurrentTime:nt,getAvailabilityStartTime:function de(){return Fe}},function fe(){U=Object(F.default)(g).getInstance().getLogger(A),Re()}(),A}f.__dashjs_factory_name="PlaybackController",C.default=E.default.getSingletonFactory(f)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),I=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function f(g){g=g||{};var S,B,Y,q,le,Fe,$,ae,K,pe,oe,he,Se,v=this.context,A=Object(I.default)(v).getInstance(),U=g.dashMetrics,R=g.mediaPlayerModel,j=g.fragmentModel,k=g.abrController,O=g.playbackController,x=g.textController,P=g.type,T=g.bufferController,N=g.settings;function Ue(yt){if(!T.getIsBufferingCompleted()){ke();var jt=isNaN(yt)?0:yt;Fe=setTimeout(He,jt)}}function ke(){Fe&&(clearTimeout(Fe),Fe=null)}function He(){try{if(function Je(){try{return P===t.default.TEXT&&!x.isTextEnabled()||O.isPaused()&&(!O.getStreamController().getInitialPlayback()||!O.getStreamController().getAutoPlay())&&!N.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void ke();if(function Ne(){try{return q&&(isNaN(pe)||oe||function Ie(){var jt=k.getMaxAllowedIndexFor(P,B.id);return!(!isNaN(K)&&K==jt||(Y.info("Top quality "+P+" index has changed from "+K+" to "+jt),K=jt,0))}()||function Te(){return!P||!q||U.getCurrentBufferLevel(P)<W()}())}catch{return!1}}()){var yt=!1;Se&&(yt=k.checkPlaybackQuality(P,B.id)),yt||function ot(){he||q.quality!==pe||oe?(oe?(Y.debug("Switch track for "+P+", representation id = "+q.id),oe=!1):Y.debug("Quality has changed, get init request for representationid = "+q.id),A.trigger(E.default.INIT_FRAGMENT_NEEDED,{representationId:q.id,sender:S},{streamId:B.id,mediaType:P}),Se=!1,he=!1):(Y.debug("Media segment needed for ".concat(P," and stream id ").concat(B.id)),A.trigger(E.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:P}),Se=!0)}()}else Ue(O.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}catch{Ue(O.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}}function W(){var yt=NaN;return!P||!q||(yt=P===t.default.TEXT?function se(){try{if(x.isTextEnabled()){if(isNaN(q.fragmentDuration)){var yt=U.getCurrentSchedulingInfo(D.default.SCHEDULING_INFO);return yt?yt.duration:0}return q.fragmentDuration}return 0}catch{return 0}}():P===t.default.AUDIO&&$?function ge(){try{var yt=U.getCurrentBufferLevel(t.default.VIDEO);return isNaN(q.fragmentDuration)?yt+1:Math.max(yt+1,q.fragmentDuration)}catch{return 0}}():function J(){try{var yt=q.mediaInfo.streamInfo;return k.isPlayingAtTopQuality(yt)?yt.manifestInfo.duration>=N.get().streaming.buffer.longFormContentDurationThreshold?N.get().streaming.buffer.bufferTimeAtTopQualityLongForm:N.get().streaming.buffer.bufferTimeAtTopQuality:R.getStableBufferTime()}catch{return R.getStableBufferTime()}}()),yt}function te(){ne(!0)}function ne(yt){if(O&&j){var jt=j.getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,time:O.getTime(),threshold:0})[0];jt&&O.getTime()>=jt.startTime&&((!ae.mediaInfo||jt.mediaInfo.type===ae.mediaInfo.type&&jt.mediaInfo.id!==ae.mediaInfo.id)&&yt&&A.trigger(E.default.TRACK_CHANGE_RENDERED,{mediaType:P,oldMediaInfo:ae.mediaInfo,newMediaInfo:jt.mediaInfo,streamId:B.id}),(jt.quality!==ae.quality||jt.adaptationIndex!==ae.adaptationIndex)&&yt&&(Y.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(P)),A.trigger(E.default.QUALITY_CHANGE_RENDERED,{mediaType:P,oldQuality:ae.quality,newQuality:jt.quality,streamId:B.id})),ae={mediaInfo:jt.mediaInfo,quality:jt.quality,adaptationIndex:jt.adaptationIndex})}}function ee(yt){Y.debug("Appended bytes for ".concat(yt.mediaType," and stream id ").concat(B.id)),(isNaN(yt.index)||isNaN(pe))&&(pe=yt.quality,Y.info("["+P+"] lastInitializedRepresentationInfo changed to "+yt.quality)),Ue(0)}function X(){j.abortRequests(),ke()}function ue(){N.get().streaming.scheduling.scheduleWhilePaused||Ue()}function _e(yt){U.updatePlayListTraceMetrics({playbackspeed:yt.playbackRate.toString()})}function st(){Se=!0,le=0,pe=NaN,ae={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},K=NaN,oe=!1,he=!1}return S={initialize:function fe(yt){$=yt,A.on(E.default.BYTES_APPENDED_END_FRAGMENT,ee,S),A.on(E.default.URL_RESOLUTION_FAILED,X,S),A.on(p.default.PLAYBACK_STARTED,ue,S),A.on(p.default.PLAYBACK_RATE_CHANGED,_e,S),A.on(p.default.PLAYBACK_TIME_UPDATED,te,S)},getType:function Re(){return P},getStreamId:function Me(){return B.id},setCurrentRepresentation:function me(yt){q=yt},setTimeToLoadDelay:function de(yt){le=yt},getTimeToLoadDelay:function xe(){return le},setSwitchTrack:function Q(yt){oe=yt},getSwitchStrack:function Z(){return oe},startScheduleTimer:Ue,clearScheduleTimer:ke,reset:function ct(){A.off(E.default.BYTES_APPENDED_END_FRAGMENT,ee,S),A.off(E.default.URL_RESOLUTION_FAILED,X,S),A.off(p.default.PLAYBACK_STARTED,ue,S),A.off(p.default.PLAYBACK_RATE_CHANGED,_e,S),A.off(p.default.PLAYBACK_TIME_UPDATED,te,S),ke(),ne(!1),st(),B=null},getBufferTarget:W,getPlaybackController:function nt(){return O},setCheckPlaybackQuality:function Ke(yt){Se=yt},setInitSegmentRequired:function Ve(yt){he=yt}},function Le(){Y=Object(L.default)(v).getInstance().getLogger(S),st(),B=g.streamInfo}(),S}f.__dashjs_factory_name="ScheduleController",C.default=F.default.getClassFactory(f)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),I=c(
/*! ../Stream */
"./src/streaming/Stream.js"),E=c(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),f=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),v=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),A=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),U=c(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),R=c(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),j=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),O=c(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),x=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function P($){return function B($){if(Array.isArray($))return Y($)}($)||function S($){if(typeof Symbol<"u"&&null!=$[Symbol.iterator]||null!=$["@@iterator"])return Array.from($)}($)||function N($,ae){if($){if("string"==typeof $)return Y($,ae);var K=Object.prototype.toString.call($).slice(8,-1);if("Object"===K&&$.constructor&&(K=$.constructor.name),"Map"===K||"Set"===K)return Array.from($);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return Y($,ae)}}($)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y($,ae){(null==ae||ae>$.length)&&(ae=$.length);for(var K=0,pe=new Array(ae);K<ae;K++)pe[K]=$[K];return pe}function Fe(){var K,pe,oe,he,Se,Le,fe,Re,Me,me,Ue,ke,Ie,He,ot,Je,Ne,Te,W,se,ge,J,Q,Z,te,ne,ee,X,ue,_e,de,xe,Ke,Ve,st,ct,nt,yt,jt,wt,Gt,nn,dn,un,Kt,Tn,rn,xt,ht,$=this.context,ae=Object(F.default)($).getInstance();function ze(){if(!(Le&&Le.hasOwnProperty("load")&&J&&J.hasOwnProperty("initialize")&&J.hasOwnProperty("reset")&&J.hasOwnProperty("getClientTimeOffset")&&fe&&ge&&Me&&Ve))throw new Error(t.default.MISSING_CONFIG_ERROR)}function Ft(){!function Lt(){try{var Xt=Re.getStreamsInfo();if(!Z&&0===Xt.length)throw new Error("There are no periods in the MPD");Z&&Xt.length>0&&Me.updateManifestUpdateInfo({currentTime:Ve.getTime(),buffered:Ke.getBufferRange(),presentationStartTime:Xt[0].start,clientTimeOffset:J.getClientTimeOffset()}),Q.length>0&&function xo(Xt){0!==Xt.length?Q=Q.filter(function(In){var jn=Xt.filter(function(bi){return bi.id===In.getId()}).length>0||In.getId()===Z.getId();return jn||(pe.debug("Removing stream ".concat(In.getId())),In.reset(!0)),jn}):pe.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Xt);for(var In=[],$n=0,jn=Xt.length;$n<jn;$n++){var bi=Xt[$n];In.push(Qt(bi)),Me.addManifestUpdateStreamInfo(bi)}Promise.all(In).then(function(){return Kt.get().streaming.applyContentSteering&&!Z&&ke.shouldQueryBeforeStart()?ke.loadSteeringData():Promise.resolve()}).then(function(){Z||ln(Xt),ae.trigger(L.default.STREAMS_COMPOSED),En()}).catch(function(Oi){throw Oi})}catch(Oi){ge.error(new j.default(k.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Oi.message+" nostreamscomposed",fe.getValue())),de=!0,Ao()}}()}function qt(){Tn=!0}function Qt(Xt){var In=lr(Xt.id);return In?In.updateData(Xt):(In=Object(I.default)($).create({manifestModel:fe,mediaPlayerModel:ct,dashMetrics:Me,manifestUpdater:Se,adapter:Re,timelineConverter:J,capabilities:oe,capabilitiesFilter:he,errHandler:ge,baseURLController:Ie,segmentBaseController:He,textController:ne,abrController:Je,playbackController:Ve,eventController:Te,mediaController:Ne,protectionController:te,videoModel:Ke,streamInfo:Xt,settings:Kt}),Q.push(In),In.initialize(),Promise.resolve())}function ln(Xt){ut();var In=Me.getCurrentDVRInfo().range;if(In.end<In.start){rn&&clearTimeout(rn);var $n=Math.min(1e3*(-1*(In.end-In.start)+2),2147483647);return pe.debug("Waiting for ".concat($n," ms before playback can start")),ae.trigger(L.default.AST_IN_FUTURE,{delay:$n}),void(rn=setTimeout(function(){ln(Xt)},$n))}Kt.get().streaming.applyProducerReferenceTime&&st.calculateProducerReferenceTimeOffsets(Xt);var jn=Xt[0].manifestInfo;if(Kt.get().streaming.applyServiceDescription&&st.applyServiceDescription(jn),Re.getIsDynamic()){var bi=no(Xt,jn);Ve.computeAndSetLiveDelay(bi,jn)}var Oi=function Ir(){var Xt;if(Re.getIsDynamic()){var $n=Me.getCurrentDVRInfo();Xt=($n&&$n.range?$n.range.end:0)-Ve.getOriginalLiveDelay();var bi=$n?$n.range:null;if(bi){if(isNaN(xt)&&-1===xt.toString().indexOf("posix:")){var Si=yr(!0);isNaN(Si)||(pe.info("Start time from URI parameters: ".concat(Si)),Xt=Math.min(Xt,Si))}else{pe.info("Start time provided by the app: ".concat(xt));var Oi=ir(!0,xt);isNaN(Oi)||(Xt=Math.min(Xt,Oi))}var _i=Kt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Xt=Math.max(Xt,bi.start+_i)}}else if(Xt=Vr()[0].getStreamInfo().start,isNaN(xt)){var Gr=yr(!1);isNaN(Gr)||(pe.info("Start time from URI parameters: ".concat(Gr)),Xt=Math.max(Xt,Gr))}else{pe.info("Start time provided by the app: ".concat(xt));var Yr=ir(!1,xt);isNaN(Yr)||(Xt=Math.max(Xt,Yr))}return Xt}(),Si=We(Oi),_i=null!==Si?Si:Q[0];ae.trigger(L.default.INITIAL_STREAM_SWITCH,{startTime:Oi}),mn(_i,null,Oi),function Fn(){Gt||(Gt=setInterval(function(){!ue&&Ve.getTimeToStreamEnd()<=0&&!Ve.isSeeking()&&ae.trigger(L.default.PLAYBACK_ENDED,{isLast:Lr().isLast})},200))}()}function mn(Xt,In,$n){try{if(ue||!Xt||In===Xt&&Xt.getIsActive())return;ue=!0,ae.trigger(L.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:In?In.getStreamInfo():null,toStreamInfo:Xt.getStreamInfo()});var jn=!1;Z=Xt,In&&(jn=at(Xt,In),In.deactivate(jn)),$n=isNaN($n)?!jn&&In?Xt.getStreamInfo().start:NaN:$n,pe.info("Switch to stream ".concat(Xt.getId(),". Seektime is ").concat($n,", current playback time is ").concat(Ve.getTime(),". Seamless period switch is set to ").concat(jn)),dn=dn.filter(function(bi){return bi.getId()!==Z.getId()}),Ve.initialize(Lr(),!!In),Ke.getElement()&&Mn($n,jn)}catch{ue=!1}}function Mn(Xt,In){var $n;function jn(){if(xe&&"open"===xe.readyState){pe.debug("MediaSource is open!"),window.URL.revokeObjectURL($n),xe.removeEventListener("sourceopen",jn),xe.removeEventListener("webkitsourceopen",jn),kt();var Oi=Me.getCurrentDVRInfo();me.setSeekable(Oi.range.start,Oi.range.end),Nn(Xt,In)}}function bi(){xe.addEventListener("sourceopen",jn,!1),xe.addEventListener("webkitsourceopen",jn,!1),$n=me.attachMediaSource(Ke),pe.debug("MediaSource attached to element.  Waiting on open...")}xe?In?Nn(Xt,In):(me.detachMediaSource(Ke),bi()):(xe=me.createMediaSource(),bi())}function Nn(Xt,In){Z.activate(xe,In?nn:void 0,Xt).then(function($n){if($n){var jn=Object.keys($n);jn.length>0&&$n[jn[0]].getBuffer().changeType&&(un=!0),nn=$n}isNaN(Xt)||(ae.trigger(L.default.SEEK_TARGET,{time:Xt},{streamId:Z.getId()}),Ve.seek(Xt,!1,!0),Z.startScheduleControllers()),ue=!1,ae.trigger(L.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Lr()})})}function Yn(Xt){var $n=We(Xt.seekTime);$n&&$n!==Z?$n&&$n!==Z&&(Vn(),function Tt(Xt,In){var $n=Xt&&!isNaN(Xt.seekTime)?Xt.seekTime:NaN,bi=Z.getProcessors().map(function(Oi){return Oi.prepareOuterPeriodPlaybackSeeking(Xt)});Promise.all(bi).then(function(){mn(In,Z,$n)}).catch(function(Oi){ge.error(Oi)})}(Xt,$n)):(Vn(),function Cn(Xt){Z.getProcessors().forEach(function($n){return $n.prepareInnerPeriodPlaybackSeeking(Xt)}),qi(p.PlayListTrace.USER_REQUEST_STOP_REASON)}(Xt)),Ki(p.PlayList.SEEK_START_REASON)}function Vn(){fi()}function fi(){dn&&dn.length>0&&(dn.forEach(function(Xt){Xt.deactivate(!0)}),dn=[])}function Et(Xt){Xt.newMediaInfo.streamInfo.id===Z.getId()&&(fi(),Z.prepareTrackChange(Xt))}function at(Xt,In){try{return Kt.get().streaming.buffer.reuseExistingSourceBuffers&&(In.isProtectionCompatible(Xt)||Tn)&&(un||In.isMediaCodecCompatible(Xt,In))}catch{return!1}}function Wt(Xt){var In=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;xe&&!Xt.getPreloaded()&&at(Xt,In)&&Xt.startPreloading(xe,nn).then(function(){dn.push(Xt)})}function We(Xt){if(isNaN(Xt))return null;for(var In=Q.length,$n=0;$n<In;$n++){var jn=Q[$n];if(Xt<parseFloat((jn.getStartTime()+jn.getDuration()).toFixed(5)))return jn}return null}function ut(){try{var Xt=Re.getIsDynamic(),$n=Re.getStreamsInfo()[0].manifestInfo,jn=Ve.getTime(),bi=J.calcTimeShiftBufferWindow(Q,Xt),Oi=hn();if(typeof bi.start>"u"||typeof bi.end>"u")return;Oi&&0!==Oi.length?Oi.forEach(function(Si){Me.addDVRInfo(Si.getType(),jn,$n,bi)}):Me.addDVRInfo(t.default.VIDEO,jn,$n,bi)}catch{}}function Pt(Xt){if(jt&&X){var In=ct.getInitialBufferLevel(),$n=[t.default.TEXT];(isNaN(In)||In<=Ve.getBufferLevel($n)||Re.getIsDynamic()&&In>Ve.getLiveDelay())&&(jt=!1,Ki(p.PlayList.INITIAL_PLAYOUT_START_REASON),Ve.play())}Xt&&Xt.mediaType&&Me.addBufferLevel(Xt.mediaType,new Date,1e3*Xt.bufferLevel)}function en(Xt){Xt.streamInfo.id===Z.getId()&&Xt.reason&&Xt.reason.forceReplace&&fi(),lr(Xt.streamInfo.id).prepareQualityChange(Xt)}function Jt(){if(Re.getIsDynamic()&&0!==Ve.getOriginalLiveDelay()&&Z){var Xt=Re.getStreamsInfo();if(Xt.length>0){var In=Xt[0].manifestInfo,$n=no(Xt,In);Ve.computeAndSetLiveDelay($n,In)}}}function Rn(){if(Ai()){var Xt=Ke.getPlaybackQuality();Xt&&Me.addDroppedFrames(Xt)}}function Ht(){pe.debug("[onPlaybackStarted]"),!jt&&yt&&Ki(p.PlayList.RESUME_FROM_PAUSE_START_REASON),jt&&(jt=!1),wt&&(wt=!1,Kt.get().streaming.applyContentSteering&&!ke.shouldQueryBeforeStart()&&ke.loadSteeringData()),yt=!1}function zt(Xt){pe.debug("[onPlaybackPaused]"),Xt.ended||(yt=!0,qi(p.PlayListTrace.USER_REQUEST_STOP_REASON))}function on(Xt){pe.debug("Stream with id ".concat(Xt.streamInfo.id," finished buffering")),xe&&Xt.streamInfo.isLast?(pe.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),me.signalEndOfStream(xe)):En()}function En(){if(Z&&Z.getHasFinishedBuffering())for(var Xt=function gt(){var Xt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var In=Xt||Z||null;if(In){var $n=In.getStreamInfo();return Q.filter(function(jn){var bi=jn.getStreamInfo();return bi.start>$n.start&&$n.id!==bi.id})}}catch{return[]}}(Z),In=0;In<Xt.length;){var $n=Xt[In],jn=0===In?Z:Xt[In-1];!$n.getPreloaded()&&jn.getHasFinishedBuffering()&&xe&&Wt($n,jn),In+=1}}function Xn(){Gt&&(clearInterval(Gt),Gt=null)}function hn(){return Z?Z.getProcessors():[]}function be(Xt){if(Z&&!Z.getIsEndedEventSignaled()){Z.setIsEndedEventSignaled(!0);var In=function vt(){var In=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||Z||null;if(!In)return null;for(var $n=In.getStreamInfo(),jn=$n.start,bi=0,Oi=-1,Si=NaN;bi<Q.length;){var Vi=Q[bi].getStreamInfo(),Qi=Vi.start-jn;Qi>0&&(isNaN(Si)||Qi<Si)&&$n.id!==Vi.id&&(Si=Qi,Oi=bi),bi+=1}return Oi>=0?Q[Oi]:null}();In?(pe.debug("StreamController onEnded, found next stream with id ".concat(In.getStreamInfo().id,". Switching from ").concat(Z.getStreamInfo().id," to ").concat(In.getStreamInfo().id)),mn(In,Z,NaN)):(pe.debug("StreamController no next stream found"),Z.setIsEndedEventSignaled(!1)),qi(In?p.PlayListTrace.END_OF_PERIOD_STOP_REASON:p.PlayListTrace.END_OF_CONTENT_STOP_REASON)}Xt&&Xt.isLast&&(Xn(),ke.stopSteeringRequestTimer())}function kt(Xt){var In=Xt||Lr().manifestInfo.duration;me.setDuration(In)}function yr(Xt){var In=ot.getURIFragmentData();if(!In||!In.t)return NaN;var jn=Vr()[0].getStreamInfo().start;return In.t=In.t.split(",")[0],fo(Xt,In.t,jn)}function ir(Xt,In){var $n=0;return Xt||($n=Vr()[0].getStreamInfo().start),fo(Xt,In,$n)}function fo(Xt,In,$n){var jn=Re.getRegularPeriods()[0],bi=In.toString(),Oi=-1!==bi.indexOf("posix:")?"now"===bi.substring(6)?Date.now()/1e3:parseFloat(bi.substring(6)):NaN;return Xt&&!isNaN(Oi)?J.calcPresentationTimeFromWallTime(new Date(1e3*Oi),jn):parseFloat(bi)+$n}function no(Xt,In){try{var $n=NaN;if(In&&!isNaN(In.maxFragmentDuration)&&isFinite(In.maxFragmentDuration))return In.maxFragmentDuration;if(Xt&&1===Xt.length){var jn=Xt[0],Oi=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT].reduce(function(Si,_i){var Vi=Re.getMediaInfoForType(jn,_i);return Vi&&!1!==Vi.isFragmented&&Si.push(Vi),Si},[]).reduce(function(Si,_i){var Vi=Re.getVoRepresentations(_i);return Vi&&Vi.length>0&&Vi.forEach(function(Qi){Qi&&Si.push(Qi)}),Si},[]).reduce(function(Si,_i){var Vi=Re.convertRepresentationToRepresentationInfo(_i);return Vi&&Vi.fragmentDuration&&!isNaN(Vi.fragmentDuration)&&Si.push(Vi.fragmentDuration),Si},[]);$n=Math.max.apply(Math,P(Oi))}return isFinite($n)?$n:NaN}catch{return NaN}}function Vo(Xt){if(Xt.error)de=!0,Ao();else{pe.info("Manifest updated... updating data system wide.");var In=Xt.manifest;Re.updatePeriods(In);var $n=Re.getUTCTimingSources();Re.getIsDynamic()&&(!$n||0===$n.length)&&ae.trigger(A.default.CONFORMANCE_VIOLATION,{level:x.default.LEVELS.WARNING,event:x.default.EVENTS.NO_UTC_TIMING_ELEMENT});var jn=Re.getIsDynamic()?$n.concat(nt.getUTCTimingSources()):$n,bi=se.isHTTPS(Xt.manifest.url);jn.forEach(function(Oi){Oi.value.replace(/.*?:\/\//g,"")===Kt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(Oi.value=Oi.value.replace(bi?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),bi?"https://":"http://"),pe.debug("Matching default timing source protocol to manifest protocol: ",Oi.value))}),he.filterUnsupportedFeatures(In).then(function(){Ie.initialize(In),Ue.attemptSync(jn,Re.getIsDynamic())})}}function Ai(){return!!Z&&Z.getHasVideoTrack()}function pr(){return!!Z&&Z.getHasAudioTrack()}function qi(Xt,In){In=In||new Date,hn().forEach(function($n){$n.finalisePlayList(In,Xt)}),Me.addPlayList()}function Ki(Xt){Me.createPlaylistMetrics(1e3*Ve.getTime(),Xt)}function Go(Xt){if(Xt.error){var In="";switch(Xt.error.code){case 1:In="MEDIA_ERR_ABORTED";break;case 2:In="MEDIA_ERR_NETWORK";break;case 3:In="MEDIA_ERR_DECODE",ht.counts.mediaErrorDecode+=1;break;case 4:In="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:In="MEDIA_ERR_ENCRYPTED";break;default:In="UNKNOWN"}if("MEDIA_ERR_DECODE"===In&&Kt.get().errors.recoverAttempts.mediaErrorDecode>=ht.counts.mediaErrorDecode)return void function yo(){pe.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Xt=Ve.getTime();Z.deactivate(!1),pe.warn("MediaSource has been resetted. Resuming playback from time ".concat(Xt)),Mn(Xt,!1)}();_e=!0,Xt.error.message&&(In+=" ("+Xt.error.message+")"),Xt.error.msExtendedCode&&(In+=" (0x"+(Xt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),pe.fatal("Video Element Error: "+In),Xt.error&&pe.fatal(Xt.error),ge.error(new j.default(Xt.error.code,In)),Ao()}}function Lr(){return Z?Z.getStreamInfo():null}function lr(Xt){for(var In=0,$n=Q.length;In<$n;In++)if(Q[In].getId()===Xt)return Q[In];return null}function di(Xt){isNaN(Xt.newDuration)||kt(Xt.newDuration)}function Ar(){Q=[],xt=NaN,te=null,ue=!1,Z=null,_e=!1,de=!1,jt=!0,wt=!0,yt=!1,X=!0,Gt=null,Tn=!1,un=!1,dn=[],rn=null,ht={counts:{mediaErrorDecode:0}}}function Ao(){ze(),Ue.reset(),qi(_e||de?p.PlayListTrace.FAILURE_STOP_REASON:p.PlayListTrace.USER_REQUEST_STOP_REASON);for(var Xt=0,In=Q?Q.length:0;Xt<In;Xt++)Q[Xt].reset(_e);(function Ye(){ae.off(A.default.PLAYBACK_TIME_UPDATED,Rn,K),ae.off(A.default.PLAYBACK_SEEKING,Yn,K),ae.off(A.default.PLAYBACK_ERROR,Go,K),ae.off(A.default.PLAYBACK_STARTED,Ht,K),ae.off(A.default.PLAYBACK_PAUSED,zt,K),ae.off(A.default.PLAYBACK_ENDED,be,K),ae.off(A.default.METRIC_ADDED,Er,K),ae.off(A.default.MANIFEST_VALIDITY_CHANGED,di,K),ae.off(A.default.BUFFER_LEVEL_UPDATED,Pt,K),ae.off(A.default.QUALITY_CHANGE_REQUESTED,en,K),L.default.KEY_SESSION_UPDATED&&ae.off(L.default.KEY_SESSION_UPDATED,qt,K),ae.off(L.default.MANIFEST_UPDATED,Vo,K),ae.off(L.default.STREAM_BUFFERING_COMPLETED,on,K),ae.off(L.default.TIME_SYNCHRONIZATION_COMPLETED,Ft,K),ae.off(L.default.CURRENT_TRACK_CHANGED,Et,K),ae.off(L.default.SETTING_UPDATED_LIVE_DELAY,Jt,K),ae.off(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Jt,K)})(),Ie.reset(),Se.reset(),Te.reset(),Me.clearAllCurrentMetrics(),fe.setValue(null),Le.reset(),J.reset(),W.reset(),xe&&(me.detachMediaSource(Ke),xe=null),Ke=null,te&&(te=null,ee=null,fe.getValue()&&ae.trigger(L.default.PROTECTION_DESTROYED,{data:fe.getValue().url})),Xn(),ae.trigger(L.default.STREAM_TEARDOWN_COMPLETE),Ar()}function Er(Xt){if(Xt.metric===y.default.DVR_INFO){var In=pr()?t.default.AUDIO:t.default.VIDEO;Xt.mediaType===In&&me.setSeekable(Xt.value.range.start,Xt.value.range.end)}}function Vr(){return Q}return K={initialize:function De(Xt,In){ze(),X=Xt,ee=In,J.initialize(),(Se=Object(E.default)($).create()).setConfig({manifestModel:fe,adapter:Re,manifestLoader:Le,errHandler:ge,settings:Kt}),Se.initialize(),(Te=Object(O.default)($).getInstance()).setConfig({manifestUpdater:Se,playbackController:Ve,settings:Kt}),Te.start(),Ue.setConfig({dashMetrics:Me,baseURLController:Ie,errHandler:ge,settings:Kt}),Ue.initialize(),te&&(ae.trigger(L.default.PROTECTION_CREATED,{controller:te}),te.setMediaElement(Ke.getElement()),ee&&te.setProtectionData(ee)),function Pe(){ae.on(A.default.PLAYBACK_TIME_UPDATED,Rn,K),ae.on(A.default.PLAYBACK_SEEKING,Yn,K),ae.on(A.default.PLAYBACK_ERROR,Go,K),ae.on(A.default.PLAYBACK_STARTED,Ht,K),ae.on(A.default.PLAYBACK_PAUSED,zt,K),ae.on(A.default.PLAYBACK_ENDED,be,K),ae.on(A.default.METRIC_ADDED,Er,K),ae.on(A.default.MANIFEST_VALIDITY_CHANGED,di,K),ae.on(A.default.BUFFER_LEVEL_UPDATED,Pt,K),ae.on(A.default.QUALITY_CHANGE_REQUESTED,en,K),L.default.KEY_SESSION_UPDATED&&ae.on(L.default.KEY_SESSION_UPDATED,qt,K),ae.on(L.default.MANIFEST_UPDATED,Vo,K),ae.on(L.default.STREAM_BUFFERING_COMPLETED,on,K),ae.on(L.default.TIME_SYNCHRONIZATION_COMPLETED,Ft,K),ae.on(L.default.CURRENT_TRACK_CHANGED,Et,K),ae.on(L.default.SETTING_UPDATED_LIVE_DELAY,Jt,K),ae.on(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Jt,K)}()},getActiveStreamInfo:Lr,addDVRMetric:ut,hasVideoTrack:Ai,hasAudioTrack:pr,getStreamById:lr,getStreamForTime:We,getTimeRelativeToStreamId:function ft(Xt,In){for(var $n=null,jn=0,bi=0,Oi=null,Si=0;Si<Q.length;Si++){if(bi=($n=Q[Si]).getStartTime(),Oi=$n.getDuration(),Number.isFinite(bi)&&(jn=bi),$n.getId()===In)return Xt-jn;Number.isFinite(Oi)&&(jn+=Oi)}return null},load:function rt(Xt){var In=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;ze(),xt=In,Le.load(Xt)},loadWithManifest:function dt(Xt){var In=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function lt(){if(!Se||!Se.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),xt=In,Se.setManifest(Xt)},getActiveStreamProcessors:hn,setConfig:function Pi(Xt){Xt&&(Xt.capabilities&&(oe=Xt.capabilities),Xt.capabilitiesFilter&&(he=Xt.capabilitiesFilter),Xt.manifestLoader&&(Le=Xt.manifestLoader),Xt.manifestModel&&(fe=Xt.manifestModel),Xt.mediaPlayerModel&&(ct=Xt.mediaPlayerModel),Xt.customParametersModel&&(nt=Xt.customParametersModel),Xt.protectionController&&(te=Xt.protectionController),Xt.adapter&&(Re=Xt.adapter),Xt.dashMetrics&&(Me=Xt.dashMetrics),Xt.errHandler&&(ge=Xt.errHandler),Xt.timelineConverter&&(J=Xt.timelineConverter),Xt.videoModel&&(Ke=Xt.videoModel),Xt.playbackController&&(Ve=Xt.playbackController),Xt.serviceDescriptionController&&(st=Xt.serviceDescriptionController),Xt.contentSteeringController&&(ke=Xt.contentSteeringController),Xt.textController&&(ne=Xt.textController),Xt.abrController&&(Je=Xt.abrController),Xt.mediaController&&(Ne=Xt.mediaController),Xt.settings&&(Kt=Xt.settings),Xt.baseURLController&&(Ie=Xt.baseURLController),Xt.uriFragmentModel&&(ot=Xt.uriFragmentModel),Xt.segmentBaseController&&(He=Xt.segmentBaseController))},setProtectionData:function Ji(Xt){ee=Xt,te&&te.setProtectionData(ee)},getIsStreamSwitchInProgress:function kr(){return ue},switchToVideoElement:function rr(Xt){Z&&(Ve.initialize(Lr()),Mn(Xt,!1))},getHasMediaOrInitialisationError:function bo(){return _e||de},getStreams:Vr,getActiveStream:function cn(){return Z},getInitialPlayback:function ei(){return jt},getAutoPlay:function Xi(){return X},reset:Ao},function Qe(){pe=Object(f.default)($).getInstance().getLogger(K),Ue=Object(U.default)($).getInstance(),me=Object(R.default)($).getInstance(),W=Object(g.default)($).getInstance(),se=Object(v.default)($).getInstance(),Ar()}(),K}Fe.__dashjs_factory_name="StreamController",C.default=D.default.getSingletonFactory(Fe)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=c(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function O(){var S,B,Y,q,le,Fe,$,ae,K,pe,oe,he,Se,Le,fe,Re,P=this.context,T=Object(I.default)(P).getInstance(),N=Object(p.default)(P).getInstance();function Ue(){ae=[],K=[],pe=null,oe=null,Se=null,he=NaN,Y=!1,q=!1,Le=le.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function He(){!le.get().streaming.utcSynchronization.enabled||Y||q||!Se||!Se.value||!Se.schemeIdUri||isNaN(he)||isNaN(le.get().streaming.utcSynchronization.backgroundAttempts)||oe&&(Date.now()-oe)/1e3<30||(ae=[],q=!0,ot(isNaN(le.get().streaming.utcSynchronization.backgroundAttempts)?2:le.get().streaming.utcSynchronization.backgroundAttempts))}function ot(Ve){try{if(Ve<=0)return void de();var st=Date.now();Fe[Se.schemeIdUri](Se.value,function(ct){var nt=Date.now(),yt=Ne(st,nt,ct);ae.push(yt),ot(Ve-1)},function(){de()})}catch{de()}}function Je(){var st=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!K||0===K.length||st>=K.length)W();else{var ct=K[st];if(ct)if(Fe.hasOwnProperty(ct.schemeIdUri)){var nt=(new Date).getTime();Fe[ct.schemeIdUri](ct.value,function(yt){var jt=(new Date).getTime(),wt=Ne(nt,jt,yt);Se=ct,W(wt)},function(){Je(st+1)})}else Je(st+1);else W()}}function Ne(Ve,st,ct){return ct-(st-(st-Ve)/2)}function W(){var Ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,st=isNaN(Ve);st&&le.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function X(){var Ve=$.getLatestMPDRequestHeaderValueByID("Date"),st=null!==Ve?new Date(Ve).getTime():Number.NaN;isNaN(st)?ue(!0):ue(!1,st-Date.now())}():ue(st,Ve)}function ge(Ve){var st=Date.parse(Ve);return isNaN(st)&&(st=function se(Ve){var jt,wt,Gt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Ve);return jt=Date.UTC(parseInt(Gt[1],10),parseInt(Gt[2],10)-1,parseInt(Gt[3],10),parseInt(Gt[4],10),parseInt(Gt[5],10),Gt[6]&&(parseInt(Gt[6],10)||0),Gt[7]&&1e3*parseFloat(Gt[7])||0),Gt[9]&&Gt[10]&&(wt=60*parseInt(Gt[9],10)+parseInt(Gt[10],10),jt+=("+"===Gt[8]?-1:1)*wt*60*1e3),new Date(jt).getTime()}(Ve)),st}function J(Ve){return Date.parse(Ve)}function Q(Ve){return Date.parse(Ve)}function Z(Ve,st,ct){ct()}function te(Ve,st,ct){var nt=ge(Ve);isNaN(nt)?ct():st(nt)}function ne(Ve,st,ct,nt,yt){var jt,wt,Gt=!1,nn=new XMLHttpRequest,dn=yt?y.HTTPRequest.HEAD:y.HTTPRequest.GET,un=st.match(/\S+/g);if(st=un.shift(),jt=function(){Gt||(Gt=!0,un.length?ne(Ve,un.join(" "),ct,nt,yt):nt())},wt=function(){var rn,xt;200===nn.status&&(rn=yt?nn.getResponseHeader("Date"):nn.response,xt=Ve(rn),isNaN(xt)||(ct(xt),Gt=!0))},N.isRelative(st)){var Kt=Re.resolve();Kt&&(st=N.resolve(st,Kt.url))}nn.open(dn,st),nn.timeout=5e3,nn.onload=wt,nn.onloadend=jt,nn.send()}function ee(Ve,st,ct){ne(Q,Ve,st,ct,!0)}function ue(Ve,st){if(!isNaN(he)&&!isNaN(st)&&!Ve&&function _e(Ve){try{var wt,st=xe(Ve),ct=isNaN(Le)?30:Le,nt=isNaN(le.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:le.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,yt=isNaN(le.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:le.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,jt=isNaN(le.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:le.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;st?(wt=Math.min(ct*nt,yt),B.debug("Increasing timeBetweenSyncAttempts to ".concat(wt))):(wt=Math.max(ct/nt,jt),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(wt))),Le=wt}catch{}}(st),!Ve&&!isNaN(st)){pe=Date.now(),Y=!1;var ct=isNaN(he);he=st,ct&&He(),B.debug("Completed UTC sync. Setting client - server offset to ".concat(st))}Ve&&(Se=null,Y=!1,fe.error(new t.default(F.default.TIME_SYNC_FAILED_ERROR_CODE,F.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),T.trigger(E.default.UPDATE_TIME_SYNC_OFFSET,{offset:st}),T.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED)}function de(){if(ae&&0!==ae.length){var Ve=ae.reduce(function(st,ct){return st+ct},0)/ae.length;xe(Ve)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(Ve)),T.trigger(E.default.UPDATE_TIME_SYNC_OFFSET,{offset:he=Ve})),q=!1,oe=Date.now()}}function xe(Ve){try{if(isNaN(he))return!0;var st=le.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(le.get().streaming.utcSynchronization.maximumAllowedDrift)?le.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Ve>=he-st&&Ve<=he+st}catch{return!0}}return S={initialize:function ke(){Ue(),Fe={"urn:mpeg:dash:utc:http-head:2014":ee,"urn:mpeg:dash:utc:http-xsdate:2014":ne.bind(null,ge),"urn:mpeg:dash:utc:http-iso:2014":ne.bind(null,J),"urn:mpeg:dash:utc:direct:2014":te,"urn:mpeg:dash:utc:http-head:2012":ee,"urn:mpeg:dash:utc:http-xsdate:2012":ne.bind(null,ge),"urn:mpeg:dash:utc:http-iso:2012":ne.bind(null,J),"urn:mpeg:dash:utc:direct:2012":te,"urn:mpeg:dash:utc:http-ntp:2014":Z,"urn:mpeg:dash:utc:ntp:2014":Z,"urn:mpeg:dash:utc:sntp:2014":Z}},attemptSync:function Ie(Ve,st){if(K=Ve,!Y){if(!function Te(Ve){try{if(!Ve||!le.get().streaming.utcSynchronization.enabled)return!1;var st=isNaN(Le)?30:Le;return!(pe&&st&&!isNaN(st))||(Date.now()-pe)/1e3>=st}catch{return!0}}(st))return void T.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED);Y=!0,Je()}},setConfig:function me(Ve){Ve&&(Ve.dashMetrics&&($=Ve.dashMetrics),Ve.baseURLController&&(Re=Ve.baseURLController),Ve.errHandler&&(fe=Ve.errHandler),Ve.settings&&(le=Ve.settings))},reset:function Ke(){Ue(),T.off(E.default.ATTEMPT_BACKGROUND_SYNC,He,S)}},function Me(){B=Object(D.default)(P).getInstance().getLogger(S),T.on(E.default.ATTEMPT_BACKGROUND_SYNC,He,S)}(),S}O.__dashjs_factory_name="TimeSyncController";var x=L.default.getSingletonFactory(O);x.HTTP_TIMEOUT_MS=5e3,L.default.updateSingletonFactory(O.__dashjs_factory_name,x),C.default=x},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),L=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),D=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p="onLoad";function v(A){A=A||{};var k,O,x,P,T,N,U=this.context,R=Object(y.default)(U).getInstance(),j=Object(L.default)(U).getInstance();function Fe(Le,fe,Re){var me,Ue,Me={};Me.elements=Le,Me.type=fe,Me.resolveType=Re,0===Me.elements.length&&ae(Me);for(var ke=0;ke<Me.elements.length;ke++)Ue=j.isHTTPURL((me=Me.elements[ke]).url)?me.url:me.originalContent.BaseURL+me.url,N.load(Ue,me,Me)}function $(Le){var fe,Re,Ue="";if(Re=Le.resolveObject,(fe=Le.element).resolvedContent){var ke=0;0===fe.resolvedContent.indexOf("<?xml")&&(ke=fe.resolvedContent.indexOf("?>")+2),Ue=fe.resolvedContent.substr(0,ke)+"<response>"+fe.resolvedContent.substr(ke)+"</response>",fe.resolvedContent=T.xml_str2json(Ue)}(function he(Le){var fe;for(fe=0;fe<Le.elements.length;fe++)if(!1===Le.elements[fe].resolved)return!1;return!0})(Re)&&ae(Re)}function ae(Le){var Re,Me,fe=[];if(function pe(Le){var Re,Me,Ue,ke,Ie,fe=[];for(Ue=Le.elements.length-1;Ue>=0;Ue--){if(Me=(Re=Le.elements[Ue]).type+"_asArray",Re.resolvedContent){if(Re.resolvedContent)for(ke=0;ke<Re.resolvedContent[Me].length;ke++)fe.push(Re.resolvedContent[Me][ke])}else delete Re.originalContent["xlink:actuate"],delete Re.originalContent["xlink:href"],fe.push(Re.originalContent);for(Re.parentElement[Me].splice(Re.index,1),Ie=0;Ie<fe.length;Ie++)Re.parentElement[Me].splice(Re.index+Ie,0,fe[Ie]);fe=[]}Le.elements.length>0&&x.run(P)}(Le),"onActuate"===Le.resolveType&&R.trigger(I.default.XLINK_READY,{manifest:P}),Le.resolveType===p)switch(Le.type){case D.default.PERIOD:for(Re=0;Re<P[D.default.PERIOD+"_asArray"].length;Re++)(Me=P[D.default.PERIOD+"_asArray"][Re]).hasOwnProperty(D.default.ADAPTATION_SET+"_asArray")&&(fe=fe.concat(K(Me[D.default.ADAPTATION_SET+"_asArray"],Me,D.default.ADAPTATION_SET,p))),Me.hasOwnProperty(D.default.EVENT_STREAM+"_asArray")&&(fe=fe.concat(K(Me[D.default.EVENT_STREAM+"_asArray"],Me,D.default.EVENT_STREAM,p)));Fe(fe,D.default.ADAPTATION_SET,p);break;case D.default.ADAPTATION_SET:R.trigger(I.default.XLINK_READY,{manifest:P})}}function K(Le,fe,Re,Me){var Ue,ke,Ie,me=[];for(ke=Le.length-1;ke>=0;ke--)(Ue=Le[ke]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===Ue["xlink:href"]&&Le.splice(ke,1);for(ke=0;ke<Le.length;ke++)(Ue=Le[ke]).hasOwnProperty("xlink:href")&&Ue.hasOwnProperty("xlink:actuate")&&Ue["xlink:actuate"]===Me&&(Ie=oe(Ue["xlink:href"],fe,Re,ke,Me,Ue),me.push(Ie));return me}function oe(Le,fe,Re,Me,me,Ue){return{url:Le,parentElement:fe,type:Re,index:Me,resolveType:me,originalContent:Ue,resolvedContent:null,resolved:!1}}return k={resolveManifestOnLoad:function q(Le){T=new F.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:O}),(P=Le).Period_asArray?Fe(K(P.Period_asArray,P,D.default.PERIOD,p),D.default.PERIOD,p):R.trigger(I.default.XLINK_READY,{manifest:P})},setMatchers:function B(Le){Le&&(O=Le)},setIron:function Y(Le){Le&&(x=Le)},reset:function le(){R.off(I.default.XLINK_ELEMENT_LOADED,$,k),N&&(N.reset(),N=null)}},function S(){R.on(I.default.XLINK_ELEMENT_LOADED,$,k),N=Object(t.default)(U).create({errHandler:A.errHandler,dashMetrics:A.dashMetrics,mediaPlayerModel:A.mediaPlayerModel,requestModifier:A.requestModifier,settings:A.settings})}(),k}v.__dashjs_factory_name="XlinkController",C.default=E.default.getClassFactory(v)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),y=c(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),I=c(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),E=c(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),F=c(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function L(){var p=this.context;return{createMetricsReporting:function v(R){return Object(t.default)(p).getInstance({eventBus:R.eventBus,dashMetrics:R.dashMetrics,metricsConstants:R.metricsConstants,events:R.events}).initialise(),Object(I.default)(p).create(R)},getReportingFactory:function A(){return Object(F.default)(p).getInstance()},getMetricsHandlerFactory:function U(){return Object(E.default)(p).getInstance()}}}L.__dashjs_factory_name="MetricsReporting";var D=dashjs.FactoryMaker.getClassFactory(L);D.events=y.default,dashjs.FactoryMaker.updateClassFactory(L.__dashjs_factory_name,D),C.default=D},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function I(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===y(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var S=R(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(O,x){if(x&&("object"===y(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(C);var k=new(function(O){p(P,O);var x=g(P);function P(){var T;return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(T=x.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",T.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",T.CMCD_DATA_GENERATED="cmcdDataGenerated",T}return function E(O,x,P){return x&&I(O.prototype,x),P&&I(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));C.default=k},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),y=c(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),I=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function E(F){var L,D={},p=this.context,f=(F=F||{}).eventBus,g=F.events;function v(j){if(!j.error){var k=Object.keys(D);Object(y.default)(p).getInstance({adapter:F.adapter,constants:F.constants}).getMetrics(j.manifest).forEach(function(x){var P=JSON.stringify(x);if(D.hasOwnProperty(P))k.splice(P,1);else try{var T=Object(t.default)(p).create(F);T.initialize(x),D[P]=T}catch{}}),k.forEach(function(x){D[x].reset(),delete D[x]}),f.trigger(I.default.METRICS_INITIALISATION_COMPLETE)}}function A(){Object.keys(D).forEach(function(j){D[j].reset()}),D={}}return L={reset:function R(){f.off(g.MANIFEST_UPDATED,v,L),f.off(g.STREAM_TEARDOWN_COMPLETE,A,L)}},function U(){f.on(g.MANIFEST_UPDATED,v,L),f.on(g.STREAM_TEARDOWN_COMPLETE,A,L)}(),L}E.__dashjs_factory_name="MetricsCollectionController",C.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),y=c(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),I=c(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function E(F){F=F||{};var L,D,p,g=this.context;function A(){L&&L.reset(),D&&D.reset(),p&&p.reset()}return{initialize:function v(U){try{(p=Object(t.default)(g).create({mediaElement:F.mediaElement})).initialize(U.Range),(D=Object(y.default)(g).create({debug:F.debug,metricsConstants:F.metricsConstants,mediaPlayerModel:F.mediaPlayerModel})).initialize(U.Reporting,p),(L=Object(I.default)(g).create({debug:F.debug,eventBus:F.eventBus,metricsConstants:F.metricsConstants,events:F.events})).initialize(U.metrics,D)}catch(R){throw A(),R}},reset:A}}E.__dashjs_factory_name="MetricsController",C.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function y(I){var F,E=[],L=this.context,D=(I=I||{}).eventBus,p=I.events,f=Object(t.default)(L).getInstance({debug:I.debug,eventBus:I.eventBus,metricsConstants:I.metricsConstants});function g(U){E.forEach(function(R){R.handleNewMetric(U.metric,U.value,U.mediaType)})}return F={initialize:function v(U,R){U.split(",").forEach(function(j,k,O){var x;if(-1!==j.indexOf("(")&&-1===j.indexOf(")")){var P=O[k+1];P&&-1===P.indexOf("(")&&-1!==P.indexOf(")")&&(j+=","+P,delete O[k+1])}(x=f.create(j,R))&&E.push(x)}),D.on(p.METRIC_ADDED,g,F),D.on(p.METRIC_UPDATED,g,F)},reset:function A(){D.off(p.METRIC_ADDED,g,F),D.off(p.METRIC_UPDATED,g,F),E.forEach(function(U){return U.reset()}),E=[]}}}y.__dashjs_factory_name="MetricsHandlersController",C.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function y(I){var L,D,E=!1,F=this.context,p=(I=I||{}).mediaElement;return L={initialize:function f(U){U&&U.length&&(U.forEach(function(R){var j=R.starttime;D.add(j,j+R.duration)}),E=!!U[0]._useWallClockTime)},reset:function g(){D.clear()},isEnabled:function A(){var R,U=D.length;if(!U)return!0;R=E?(new Date).getTime()/1e3:p.currentTime;for(var j=0;j<U;j+=1){var k=D.start(j),O=D.end(j);if(k<=R&&R<O)return!0}return!1}},function v(){D=Object(t.default)(F).create()}(),L}y.__dashjs_factory_name="RangeController",C.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function y(I){var E=[],L=Object(t.default)(this.context).getInstance(I);return{initialize:function D(g,v){g.some(function(A){var U=L.create(A,v);if(U)return E.push(U),!0})},reset:function p(){E.forEach(function(g){return g.reset()}),E=[]},report:function f(g,v){E.forEach(function(A){return A.report(g,v)})}}}y.__dashjs_factory_name="ReportingController",C.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),y=c(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),I=c(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),E=c(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function F(L){var D,p=(L=L||{}).debug?L.debug.getLogger(D):{},f=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,g=this.context,v={BufferLevel:t.default,DVBErrors:y.default,HttpList:I.default,PlayList:E.default,RepSwitchList:E.default,TcpList:E.default};return{create:function A(j,k){var x,O=j.match(f);if(O){try{(x=v[O[1]](g).create({eventBus:L.eventBus,metricsConstants:L.metricsConstants})).initialize(O[1],k,O[3],O[5])}catch(P){x=null,p.error("MetricsHandlerFactory: Could not create handler for type ".concat(O[1]," with args ").concat(O[3],", ").concat(O[5]," (").concat(P.message,")"))}return x}},register:function U(j,k){v[j]=k},unregister:function R(j){delete v[j]}}}F.__dashjs_factory_name="MetricsHandlerFactory",C.default=dashjs.FactoryMaker.getSingletonFactory(F)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function y(I){I=I||{};var F,L,D,p,f,g=this.context,v=Object(t.default)(g).getInstance(),A=[],U=I.metricsConstants;function j(){var P=function R(){try{return Object.keys(A).map(function(P){return A[P]}).reduce(function(P,T){return P.level<T.level?P:T})}catch{return}}();P&&f!==P.t&&(f=P.t,F.report(D,P))}return{initialize:function k(P,T,N){T&&(L=v.validateN(N),F=T,D=v.reconstructFullMetricName(P,N),p=setInterval(j,L))},reset:function O(){clearInterval(p),p=null,L=0,F=null,f=null},handleNewMetric:function x(P,T,N){P===U.BUFFER_LEVEL&&(A[N]=T)}}}y.__dashjs_factory_name="BufferLevelHandler",C.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");C.default=dashjs.FactoryMaker.getClassFactory(function y(I){var F,L=(I=I||{}).eventBus,D=I.metricsConstants;function p(){L.off(t.default.METRICS_INITIALISATION_COMPLETE,p,this),L.trigger(t.default.BECAME_REPORTING_PLAYER)}return{initialize:function f(A,U){U&&(F=U,L.on(t.default.METRICS_INITIALISATION_COMPLETE,p,this))},reset:function g(){F=null},handleNewMetric:function v(A,U){A===D.DVB_ERRORS&&F&&F.report(A,U)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(){var I,E;return{initialize:function F(p,f){I=p,E=f},reset:function L(){E=null,I=void 0},handleNewMetric:function D(p,f){p===I&&E&&E.report(I,f)}}}c.r(C),t.__dashjs_factory_name="GenericMetricHandler",C.default=dashjs.FactoryMaker.getClassFactory(t)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function y(I){I=I||{};var F,L,D,p,f,g=[],v=Object(t.default)(this.context).getInstance(),A=I.metricsConstants;function U(){g.length&&F&&F.report(p,g),g=[]}return{initialize:function R(O,x,P,T){x&&(L=v.validateN(P),F=x,T&&T.length&&(D=T),p=v.reconstructFullMetricName(O,P,T),f=setInterval(U,L))},reset:function j(){clearInterval(f),f=null,L=null,D=null,g=[],F=null},handleNewMetric:function k(O,x){O===A.HTTP_REQUEST&&(!D||D===x.type)&&g.push(x)}}}y.__dashjs_factory_name="HttpListHandler",C.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function y(I){var L,E={"urn:dvb:dash:reporting:2014":t.default},F=this.context,D=(I=I||{}).debug?I.debug.getLogger(L):{},p=I.metricsConstants,f=I.mediaPlayerModel||{};return{create:function g(U,R){var j;try{(j=E[U.schemeIdUri](F).create({metricsConstants:p,mediaPlayerModel:f})).initialize(U,R)}catch(k){j=null,D.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(U.schemeIdUri," (").concat(k.message,")"))}return j},register:function v(U,R){E[U]=R},unregister:function A(U){delete E[U]}}}y.__dashjs_factory_name="ReportingFactory",C.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),y=c(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),I=c(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function E(F){var L,p,f,g,v,A,U,R,D=this.context,O=[],x=(F=F||{}).metricsConstants;function B(){v=!1,A=!1,U=null,R=null}return L={report:function N(q,le){Array.isArray(le)||(le=[le]),A&&R.isEnabled()&&le.forEach(function(Fe){var $=p.serialise(Fe);q!==x.DVB_ERRORS&&($="metricname=".concat(q,"&").concat($)),function T(q,le,Fe){var $=new XMLHttpRequest;$.withCredentials=f.getXHRWithCredentialsForType(x.HTTP_REQUEST_DVB_REPORTING_TYPE);var ae=function(){var pe=O.indexOf($);-1!==pe&&(O.splice(pe,1),$.status>=200&&$.status<300?le&&le():Fe&&Fe())};O.push($);try{$.open("GET",q),$.onloadend=ae,$.onerror=ae,$.send()}catch{$.onerror()}}($="".concat(U,"?").concat($),null,function(){A=!1})})},initialize:function S(q,le){var Fe;if(R=le,!(U=q.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");v||((Fe=q.dvb_probability)&&(1e3===Fe||Fe/1e3>=g.random())&&(A=!0),v=!0)},reset:function Y(){B()}},function P(){p=Object(t.default)(D).getInstance(),g=Object(y.default)(D).getInstance(),f=Object(I.default)(D).getInstance(),B()}(),L}E.__dashjs_factory_name="DVBReporting",C.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),y=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function I(E){var F,L,D=(E=E||{}).eventBus,p=E.dashMetrics,f=E.metricsConstants,g=E.events;function v(T){var N=new t.default;if(L){for(var S in T)T.hasOwnProperty(S)&&(N[S]=T[S]);N.mpdurl||(N.mpdurl=L.originalUrl||L.url),N.terror||(N.terror=new Date),p.addDVBErrors(N)}}function A(T){T.error||(L=T.manifest)}function U(T){v({errorcode:t.default.BASE_URL_CHANGED,servicelocation:T.entry})}function R(){v({errorcode:t.default.BECAME_REPORTER})}function k(T){T.metric===f.HTTP_REQUEST&&function j(T){(0===T.responsecode||null==T.responsecode||T.responsecode>=400||T.responsecode<100||T.responsecode>=600)&&v({errorcode:T.responsecode||t.default.CONNECTION_ERROR,url:T.url,terror:T.tresponse,servicelocation:T._serviceLocation})}(T.value)}function O(T){var S;switch(T.error?T.error.code:0){case MediaError.MEDIA_ERR_NETWORK:S=t.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:S=t.default.CORRUPT_MEDIA_OTHER;break;default:return}v({errorcode:S})}return F={initialise:function x(){D.on(g.MANIFEST_UPDATED,A,F),D.on(g.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),D.on(g.METRIC_ADDED,k,F),D.on(g.METRIC_UPDATED,k,F),D.on(g.PLAYBACK_ERROR,O,F),D.on(y.default.BECAME_REPORTING_PLAYER,R,F)},reset:function P(){D.off(g.MANIFEST_UPDATED,A,F),D.off(g.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),D.off(g.METRIC_ADDED,k,F),D.off(g.METRIC_UPDATED,k,F),D.off(g.PLAYBACK_ERROR,O,F),D.off(y.default.BECAME_REPORTING_PLAYER,R,F)}}}I.__dashjs_factory_name="DVBErrorsTranslator",C.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(){return{reconstructFullMetricName:function(I,E,F){var L=I;return E&&(L+="("+E,F&&F.length&&(L+=","+F),L+=")"),L},validateN:function(I){if(!I)throw new Error("missing n");if(isNaN(I))throw new Error("n is NaN");if(I<0)throw new Error("n must be positive");return I}}}c.r(C),t.__dashjs_factory_name="HandlerHelpers",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),y=c(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),I=c(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function E(F){var D=(F=F||{}).adapter,p=F.constants;return{getMetrics:function g(v){var A=[];return v&&v.Metrics_asArray&&v.Metrics_asArray.forEach(function(U){var R=new t.default,j=D.getIsDynamic(v);U.hasOwnProperty("metrics")&&(R.metrics=U.metrics,U.Range_asArray&&U.Range_asArray.forEach(function(k){var O=new y.default;O.starttime=function f(v,A,U){var R,j,k=0;return A?k=D.getAvailabilityStartTime(v)/1e3:(R=D.getRegularPeriods(v)).length&&(k=R[0].start),j=k,U&&U.hasOwnProperty(p.START_TIME)&&(j+=U.starttime),j}(v,j,k),O.duration=k.hasOwnProperty("duration")?k.duration:D.getDuration(v),O._useWallClockTime=j,R.Range.push(O)}),U.Reporting_asArray&&(U.Reporting_asArray.forEach(function(k){var O=new I.default;k.hasOwnProperty(p.SCHEME_ID_URI)&&(O.schemeIdUri=k.schemeIdUri,k.hasOwnProperty("value")&&(O.value=k.value),k.hasOwnProperty(p.DVB_REPORTING_URL)&&(O.dvb_reportingUrl=k[p.DVB_REPORTING_URL]),k.hasOwnProperty(p.DVB_PROBABILITY)&&(O.dvb_probability=k[p.DVB_PROBABILITY]),R.Reporting.push(O))}),A.push(R)))}),A}}}E.__dashjs_factory_name="ManifestParsing",C.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(){return{serialise:function y(I){var L,D,E=[],F=[];for(L in I)if(I.hasOwnProperty(L)&&0!==L.indexOf("_")){if(null==(D=I[L])&&(D=""),Array.isArray(D)){if(!D.length)continue;F=[],D.forEach(function(p){var f="Object"!==Object.prototype.toString.call(p).slice(8,-1);F.push(f?p:y(p))}),D=F.map(encodeURIComponent).join(",")}else"string"==typeof D?D=encodeURIComponent(D):D instanceof Date?D=D.toISOString():"number"==typeof D&&(D=Math.round(D));E.push(L+"="+D)}return E.join("&")}}}c.r(C),t.__dashjs_factory_name="MetricSerialiser",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(){var L,D,p,y=window.crypto||window.msCrypto,I=Uint32Array,E=Math.pow(2,8*I.BYTES_PER_ELEMENT)-1,F=10;function f(){y&&(L||(L=new I(F)),y.getRandomValues(L),D=0)}return p={random:function g(v,A){var U;return v||(v=0),A||(A=1),y?(D===L.length&&f(),U=L[D]/E,D+=1):U=Math.random(),U*(A-v)+v}},f(),p}c.r(C),t.__dashjs_factory_name="RNG",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C);var D=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});D.SSL_CONNECTION_FAILED_PREFIX="SSL",D.DNS_RESOLUTION_FAILED="C00",D.HOST_UNREACHABLE="C01",D.CONNECTION_REFUSED="C02",D.CONNECTION_ERROR="C03",D.CORRUPT_MEDIA_ISOBMFF="M00",D.CORRUPT_MEDIA_OTHER="M01",D.BASE_URL_CHANGED="F00",D.BECAME_REPORTER="S00",C.default=D},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function y(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,E(A.key),A)}}function I(f,g,v){return g&&y(f.prototype,g),v&&y(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(C);C.default=I(function f(){(function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(A){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function E(A,U){for(var R=0;R<U.length;R++){var j=U[R];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(A,L(j.key),j)}}function F(A,U,R){return U&&E(A.prototype,U),R&&E(A,R),Object.defineProperty(A,"prototype",{writable:!1}),A}function L(A){var U=function D(A,U){if("object"!==I(A)||null===A)return A;var R=A[Symbol.toPrimitive];if(void 0!==R){var j=R.call(A,U||"default");if("object"!==I(j))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(A)}(A,"string");return"symbol"===I(U)?U:String(U)}var f=NaN,g=F(function A(U,R){(function p(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")})(this,A),this.data={baseUrls:U||null,selectedIdx:R||f},this.children=[]});function v(){var A,U,R,j=this.context,k=Object(t.default)(j).getInstance();function T(Fe,$,ae){var K=R.getBaseURLsFromElement(ae);Fe[$]?k.areEqual(K,Fe[$].data.baseUrls)||(Fe[$].data.baseUrls=K,Fe[$].data.selectedIdx=f):Fe[$]=new g(K)}function N(Fe){!function P(){if(!R||!R.hasOwnProperty("getBaseURLsFromElement")||!R.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var $=R.getBaseURLsFromElement(Fe);k.areEqual($,U.data.baseUrls)||(U.data.baseUrls=$,U.data.selectedIdx=f),Fe&&Fe.Period_asArray&&Fe.Period_asArray.forEach(function(ae,K){T(U.children,K,ae),ae.AdaptationSet_asArray&&ae.AdaptationSet_asArray.forEach(function(pe,oe){T(U.children[K].children,oe,pe),pe.Representation_asArray&&pe.Representation_asArray.sort(R.getRepresentationSortFunction()).forEach(function(he,Se){T(U.children[K].children[oe].children,Se,he)})})})}function S(Fe,$){var ae=$||U;Fe(ae.data),ae.children&&ae.children.forEach(function(K){return S(Fe,K)})}function q(){U=new g}return A={reset:q,update:function Y(Fe){N(Fe)},getForPath:function le(Fe){var $=U,ae=[$.data];return Fe&&Fe.forEach(function(K){($=$.children[K])&&ae.push($.data)}),ae.filter(function(K){return K.baseUrls.length})},invalidateSelectedIndexes:function B(Fe){S(function($){isNaN($.selectedIdx)||Fe===$.baseUrls[$.selectedIdx].serviceLocation&&($.selectedIdx=f)})},setConfig:function x(Fe){Fe.adapter&&(R=Fe.adapter)}},function O(){q()}(),A}v.__dashjs_factory_name="BaseURLTreeModel",C.default=y.default.getClassFactory(v)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),I=c(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),p=c(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),f=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function g(T,N){var S=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!S){if(Array.isArray(T)||(S=function v(T,N){if(T){if("string"==typeof T)return A(T,N);var S=Object.prototype.toString.call(T).slice(8,-1);if("Object"===S&&T.constructor&&(S=T.constructor.name),"Map"===S||"Set"===S)return Array.from(T);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return A(T,N)}}(T))||N&&T&&"number"==typeof T.length){S&&(T=S);var B=0,Y=function(){};return{s:Y,n:function(){return B>=T.length?{done:!0}:{done:!1,value:T[B++]}},e:function(ae){throw ae},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Fe,q=!0,le=!1;return{s:function(){S=S.call(T)},n:function(){var ae=S.next();return q=ae.done,ae},e:function(ae){le=!0,Fe=ae},f:function(){try{!q&&null!=S.return&&S.return()}finally{if(le)throw Fe}}}}function A(T,N){(null==N||N>T.length)&&(N=T.length);for(var S=0,B=new Array(N);S<N;S++)B[S]=T[S];return B}var j_MANIFEST="m",j_AUDIO="a",j_VIDEO="v",j_INIT="i",j_CAPTION="c",j_ISOBMFF_TEXT_TRACK="tt",j_ENCRYPTION_KEY="k",j_OTHER="o",k_DASH="d",k_MSS="s",O_VOD="v",O_LIVE="l";function P(){var T,N,S,B,Y,q,le,Fe,$,ae,K=this.context,pe=Object(t.default)(K).getInstance(),oe=Object(F.default)(K).getInstance();function fe(){S={pr:1,nor:null,st:null,sf:null,sid:"".concat(f.default.generateUuid()),cid:null},$={},Fe={},ae={},Me()}function Re(){Me()}function Me(){if(q){var nt=q.getStreamController();if(nt&&"function"==typeof nt.getActiveStream){var yt=nt.getActiveStream();yt&&(le=yt.getProcessors())}}}function ke(nt,yt){var Gt,jt={},wt=g(yt);try{for(wt.s();!(Gt=wt.n()).done;){var nn=Gt.value;nt[nn]&&(jt[nn]=nt[nn])}}catch(dn){wt.e(dn)}finally{wt.f()}return jt}function He(nt){var yt=oe.get().streaming.cmcd.enabledKeys;return nt.filter(function(jt){return yt.includes(jt)})}function ot(nt){try{return nt.type===D.HTTPRequest.MPD_TYPE?function Ne(){var nt=J();return nt.ot=j_MANIFEST,nt}():nt.type===D.HTTPRequest.MEDIA_SEGMENT_TYPE?(function W(nt){ae.hasOwnProperty(nt)||(ae[nt]=!1),Fe.hasOwnProperty(nt)||(Fe[nt]=!1),$.hasOwnProperty(nt)||($[nt]=!1)}(nt.mediaType),function Te(nt){var rn,yt=J(),jt=function Q(nt){try{return parseInt(nt.mediaInfo.bitrateList[nt.quality].bandwidth/1e3)}catch{return null}}(nt),wt=function te(nt){try{return isNaN(nt.duration)?null:Math.round(1e3*nt.duration)}catch{return null}}(nt),Gt=function ne(nt){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput(nt)/100)}catch{return null}}(nt.mediaType),nn=function ee(nt){try{var yt=S.pr,jt=Y.getCurrentBufferLevel(nt);return isNaN(yt)||isNaN(jt)?null:100*parseInt(jt/yt*10)}catch{return null}}(nt.mediaType),dn=X(nt.mediaType),un=function Z(nt){try{var yt=B.getTopBitrateInfoFor(nt);return Math.round(yt.bitrate/1e3)}catch{return null}}(nt.mediaType),Kt=S.pr,Tn=function Ve(nt){if(le&&0!==le.length){var jt,yt=g(le);try{for(yt.s();!(jt=yt.n()).done;){var wt=jt.value;if(wt.getType()===nt)return wt.probeNextRequest()}}catch(Gt){yt.e(Gt)}finally{yt.f()}}}(nt.mediaType);nt.mediaType===L.default.VIDEO&&(rn=j_VIDEO),nt.mediaType===L.default.AUDIO&&(rn=j_AUDIO),nt.mediaType===L.default.TEXT&&(rn="application/mp4"===nt.mediaInfo.mimeType?j_ISOBMFF_TEXT_TRACK:j_CAPTION);var xt=oe.get().streaming.cmcd.rtp;return xt||(xt=function st(nt){var yt=q.getPlaybackRate();yt||(yt=1);var jt=nt.quality,Gt=nt.mediaInfo,nn=nt.duration,dn=X(nt.mediaType);0===dn&&(dn=500);var rn=Gt.bitrateList[jt].bandwidth*nn/1e3/(dn/yt/1e3),xt=oe.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(oe.get().streaming.cmcd.rtpSafetyFactor)?oe.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(rn*xt/100)+1)}(nt)),yt.rtp=xt,Tn&&(nt.url!==Tn.url?yt.nor=encodeURIComponent(f.default.getRelativeUrl(nt.url,Tn.url)):Tn.range&&(yt.nrr=Tn.range)),jt&&(yt.br=jt),rn&&(yt.ot=rn),isNaN(wt)||(yt.d=wt),isNaN(Gt)||(yt.mtp=Gt),isNaN(nn)||(yt.dl=nn),isNaN(dn)||(yt.bl=dn),isNaN(un)||(yt.tb=un),!isNaN(Kt)&&1!==Kt&&(yt.pr=Kt),$[nt.mediaType]&&(yt.bs=!0,$[nt.mediaType]=!1),(Fe[nt.mediaType]||!ae[nt.mediaType])&&(yt.su=!0,Fe[nt.mediaType]=!1,ae[nt.mediaType]=!0),yt}(nt)):nt.type===D.HTTPRequest.INIT_SEGMENT_TYPE?function se(){var nt=J();return nt.ot=j_INIT,nt.su=!0,nt}():nt.type===D.HTTPRequest.OTHER_TYPE||nt.type===D.HTTPRequest.XLINK_EXPANSION_TYPE?function ge(){var nt=J();return nt.ot=j_OTHER,nt}():nt.type===D.HTTPRequest.LICENSE?function Je(nt){var yt=J();return yt.ot=j_ENCRYPTION_KEY,yt}():null}catch{return null}}function J(){var nt={},yt=oe.get().streaming.cmcd.cid?oe.get().streaming.cmcd.cid:S.cid;return nt.v=1,nt.sid=oe.get().streaming.cmcd.sid?oe.get().streaming.cmcd.sid:S.sid,nt.sid="".concat(nt.sid),yt&&(nt.cid="".concat(yt)),!isNaN(S.pr)&&1!==S.pr&&null!==S.pr&&(nt.pr=S.pr),S.st&&(nt.st=S.st),S.sf&&(nt.sf=S.sf),nt}function X(nt){try{var yt=Y.getCurrentBufferLevel(nt);return isNaN(yt)?null:100*parseInt(10*yt)}catch{return null}}function ue(nt){try{S.pr=nt.playbackRate}catch{}}function _e(nt){try{var yt=T.getIsDynamic(nt.data),wt=nt.protocol&&"MSS"===nt.protocol?k_MSS:k_DASH;S.st="".concat(yt?O_LIVE:O_VOD),S.sf="".concat(wt)}catch{}}function de(nt){try{nt.state&&nt.mediaType&&nt.state===y.default.BUFFER_EMPTY&&($[nt.mediaType]||($[nt.mediaType]=!0),Fe[nt.mediaType]||(Fe[nt.mediaType]=!0))}catch{}}function xe(){for(var nt in $)$.hasOwnProperty(nt)&&($[nt]=!0);for(var yt in Fe)Fe.hasOwnProperty(yt)&&(Fe[yt]=!0)}function Ke(nt){try{if(!nt)return null;var yt=Object.keys(nt).sort(function(Gt,nn){return Gt.localeCompare(nn)}),jt=yt.length,wt=yt.reduce(function(Gt,nn,dn){return"v"===nn&&1===nt[nn]||(Gt+="string"==typeof nt[nn]&&"ot"!==nn&&"sf"!==nn&&"st"!==nn?"".concat(nn,"=").concat(JSON.stringify(nt[nn])):"".concat(nn,"=").concat(nt[nn]),dn<jt-1&&(Gt+=",")),Gt},"");return(wt=wt.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return N={getQueryParameter:function me(nt){try{if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled){var yt=ot(nt),wt=Ke(function Ue(nt){try{var yt=oe.get().streaming.cmcd.enabledKeys;return Object.keys(nt).filter(function(jt){return yt.includes(jt)}).reduce(function(jt,wt){return jt[wt]=nt[wt],jt},{})}catch{return nt}}(yt));return pe.trigger(I.default.CMCD_DATA_GENERATED,{url:nt.url,mediaType:nt.mediaType,cmcdData:yt,cmcdString:wt}),{key:"CMCD",value:wt}}return null}catch{return null}},getHeaderParameters:function Ie(nt){try{if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled){var yt=ot(nt),jt=ke(yt,He(["br","d","ot","tb"])),wt=ke(yt,He(["bl","dl","mtp","nor","nrr","su"])),Gt=ke(yt,He(["bs","rtp"])),nn=ke(yt,He(["cid","pr","sf","sid","st","v"])),dn={"CMCD-Object":Ke(jt),"CMCD-Request":Ke(wt),"CMCD-Status":Ke(Gt),"CMCD-Session":Ke(nn)};return pe.trigger(I.default.CMCD_DATA_GENERATED,{url:nt.url,mediaType:nt.mediaType,cmcdData:yt,headers:dn}),dn}return null}catch{return null}},setConfig:function Le(nt){nt&&(nt.abrController&&(B=nt.abrController),nt.dashMetrics&&(Y=nt.dashMetrics),nt.playbackController&&(q=nt.playbackController))},reset:function ct(){pe.off(y.default.PLAYBACK_RATE_CHANGED,ue,this),pe.off(y.default.MANIFEST_LOADED,_e,this),pe.off(y.default.BUFFER_LEVEL_STATE_CHANGED,de,N),pe.off(y.default.PLAYBACK_SEEKED,xe,N),fe()},initialize:function Se(){pe.on(y.default.PLAYBACK_RATE_CHANGED,ue,N),pe.on(y.default.MANIFEST_LOADED,_e,N),pe.on(y.default.BUFFER_LEVEL_STATE_CHANGED,de,N),pe.on(y.default.PLAYBACK_SEEKED,xe,N),pe.on(y.default.PERIOD_SWITCH_COMPLETED,Re,N)}},function he(){T=Object(p.default)(K).getInstance(),fe()}(),N}P.__dashjs_factory_name="CmcdModel",C.default=E.default.getSingletonFactory(P)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),E=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),F=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),L=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function p(){var f,g,v,A,U,R,j,k,O=this.context,x=Object(I.default)(O).getInstance();function T(){A=[],U=[],R=[],k=[],j=null,g=[]}function Le(W,se){var ge=-1;W.some(function(J,Q){if(J===se)return ge=Q,!0}),!(ge<0)&&W.splice(ge,1)}function fe(W){var se;for(se=0;se<k.length;se++)if(k[se].rulename===W)return se;return-1}function ke(W,se){He(W,se);var ge=new t.default;ge.schemeIdUri=W,ge.value=se,g.push(ge)}function He(W,se){Object(E.checkParameterType)(W,"string"),Object(E.checkParameterType)(se,"string"),g.forEach(function(ge,J){ge.schemeIdUri===W&&ge.value===se&&g.splice(J,1)})}return f={getCustomInitialTrackSelectionFunction:function q(){return j},setCustomInitialTrackSelectionFunction:function B(W){j=W},resetCustomInitialTrackSelectionFunction:function Y(){j=null},getLicenseResponseFilters:function Fe(){return U},getLicenseRequestFilters:function le(){return A},getCustomCapabilitiesFilters:function oe(){return R},registerCustomCapabilitiesFilter:function he(W){R.push(W)},registerLicenseResponseFilter:function ae(W){U.push(W)},registerLicenseRequestFilter:function $(W){A.push(W)},unregisterCustomCapabilitiesFilter:function Se(W){Le(R,W)},unregisterLicenseResponseFilter:function pe(W){Le(U,W)},unregisterLicenseRequestFilter:function K(W){Le(A,W)},addAbrCustomRule:function Re(W,se,ge){if("string"!=typeof W||W!==F.default.ABANDON_FRAGMENT_RULES&&W!==F.default.QUALITY_SWITCH_RULES||"string"!=typeof se)throw L.default.BAD_ARGUMENT_ERROR;var J=fe(se);-1===J?k.push({type:W,rulename:se,rule:ge}):(k[J].type=W,k[J].rule=ge)},removeAllAbrCustomRule:function me(){k=[]},removeAbrCustomRule:function Me(W){if(W){var se=fe(W);-1!==se&&k.splice(se,1)}else k=[]},getAbrCustomRules:function Ue(){return k},addUTCTimingSource:ke,removeUTCTimingSource:He,getUTCTimingSources:function Ie(){return g},clearDefaultUTCTimingSources:function ot(){g=[]},restoreDefaultUTCTimingSources:function Je(){var W=x.get().streaming.utcSynchronization.defaultTimingSource;ke(W.scheme,W.value)},setXHRWithCredentialsForType:function Ne(W,se){W?v[W]=!!se:Object.keys(v).forEach(function(ge){Ne(ge,se)})},getXHRWithCredentialsForType:function Te(W){var se=v[W];return void 0===se?v.default:se},setConfig:function S(){},reset:function N(){T()}},function P(){v={default:false},T()}(),f}p.__dashjs_factory_name="CustomParametersModel",C.default=y.default.getSingletonFactory(p)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),I="loading",E="executed",L="failed";function D(f){var O,x,P,T,g=(f=f||{}).eventBus,v=f.events,A=f.dashMetrics,U=f.fragmentLoader,R=f.debug,j=f.streamInfo,k=f.type;function Y(Je){var Q;return!!Je&&(Q=!1,P.some(function(Z){if(function(J,Q){return!isNaN(J.index)&&J.startTime===Q.startTime&&J.adaptationIndex===Q.adaptationIndex&&J.type===Q.type}(Je,Z)||function(J,Q){return isNaN(J.index)&&isNaN(Q.index)&&J.quality===Q.quality}(Je,Z)||function(J,Q){return J.action===y.default.ACTION_COMPLETE&&J.action===Q.action}(Je,Z))return Q=!0}),Q)}function Fe(Je){return isNaN(Je.duration)?.25:Math.min(Je.duration/8,.5)}function $(Je){P=P.filter(function(Ne){var Te=Fe(Ne);return isNaN(Ne.startTime)||void 0!==Je&&Ne.startTime>=Je-Te})}function K(Je,Ne){Ne<=Je+.5||(P=P.filter(function(Te){var W=Fe(Te);return isNaN(Te.startTime)||Te.startTime>=Ne-W||isNaN(Te.duration)||Te.startTime+Te.duration<=Je+W}))}function Le(Je,Ne,Te){for(var se=Je.length-1;se>=0;se--){var ge=Je[se],J=ge.startTime,Q=J+ge.duration;if(Te=isNaN(Te)?Fe(ge):Te,!isNaN(J)&&!isNaN(Q)&&Ne+Te>=J&&Ne-Te<Q||isNaN(J)&&isNaN(Ne))return ge}return null}function Me(Je,Ne){A.addSchedulingInfo(Je,Ne),A.addRequestsQueue(Je.mediaType,T,P)}function me(Je){Je.sender===U&&(T.splice(T.indexOf(Je.request),1),Je.response&&!Je.error&&P.push(Je.request),Me(Je.request,Je.error?L:E),g.trigger(v.FRAGMENT_LOADING_COMPLETED,{request:Je.request,response:Je.response,error:Je.error,sender:this},{streamId:j.id,mediaType:k}))}function Ue(Je){Je.sender===U&&g.trigger(v.FRAGMENT_LOADING_PROGRESS,{request:Je.request,response:Je.response,error:Je.error,sender:this},{streamId:j.id,mediaType:k})}function ke(Je){Je.sender===U&&g.trigger(v.FRAGMENT_LOADING_ABANDONED,{request:Je.request},{streamId:j.id,mediaType:k})}function Ie(){P=[],T=[]}return O={getStreamId:function S(){return j.id},getType:function B(){return k},getRequests:function le(Je){var Te=[];return(Je?Je.state instanceof Array?Je.state:[Je.state]:[]).forEach(function(W){var se=function Re(Je){var Ne;switch(Je){case I:Ne=T;break;case E:Ne=P;break;default:Ne=[]}return Ne}(W);Te=Te.concat(function fe(Je,Ne){return Ne.hasOwnProperty("time")?[Le(Je,Ne.time,Ne.threshold)]:Je.filter(function(Te){for(var W in Ne)if("state"!==W&&Ne.hasOwnProperty(W)&&Te[W]!=Ne[W])return!1;return!0})}(se,Je))}),Te},isFragmentLoaded:Y,isFragmentLoadedOrPending:function q(Je){var W,Ne=!1,Te=0;if(!(Ne=Y(Je)))for(Te=0;Te<T.length;Te++)Je.url===(W=T[Te]).url&&Je.startTime===W.startTime&&(Ne=!0);return Ne},removeExecutedRequestsBeforeTime:$,removeExecutedRequestsAfterTime:function ae(Je){P=P.filter(function(Ne){return isNaN(Ne.startTime)||void 0!==Je&&Ne.startTime<Je})},syncExecutedRequestsWithBufferedRange:function pe(Je,Ne){if(Je&&0!==Je.length){for(var Te=0,W=0,se=Je.length;W<se;W++)K(Te,Je.start(W)),Te=Je.end(W);Ne>0&&K(Te,Ne)}else $()},abortRequests:function oe(){x.debug("abort requests"),U.abort(),T=[]},executeRequest:function he(Je){Je.action===y.default.ACTION_DOWNLOAD?(Me(Je,I),T.push(Je),function Se(Je){g.trigger(v.FRAGMENT_LOADING_STARTED,{request:Je},{streamId:j.id,mediaType:k}),U.load(Je)}(Je)):x.warn("Unknown request action.")},reset:function He(){g.off(v.LOADING_COMPLETED,me,this),g.off(v.LOADING_DATA_PROGRESS,Ue,this),g.off(v.LOADING_ABANDONED,ke,this),U&&U.reset(),Ie()},resetInitialSettings:Ie,addExecutedRequest:function ot(Je){P.push(Je)}},function N(){x=R.getLogger(O),Ie(),g.on(v.LOADING_COMPLETED,me,O),g.on(v.LOADING_DATA_PROGRESS,Ue,O),g.on(v.LOADING_ABANDONED,ke,O)}(),O}D.__dashjs_factory_name="FragmentModel";var p=t.default.getClassFactory(D);p.FRAGMENT_MODEL_LOADING=I,p.FRAGMENT_MODEL_EXECUTED=E,p.FRAGMENT_MODEL_CANCELED="canceled",p.FRAGMENT_MODEL_FAILED=L,t.default.updateClassFactory(D.__dashjs_factory_name,p),C.default=p},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(){var g,v,f=this.context,A={};function U(){v=Object(t.default)(f).getInstance().getLogger(g)}function R(P){for(var T={},N=0,S=0,B=0,Y=0,q=P.length,le=0;le<q;++le)N+=P[le].chunkDownloadTimeRelativeMS,S+=P[le].bufferLevel,B+=P[le].chunkDownloadTimeRelativeMS*P[le].bufferLevel,Y+=P[le].chunkDownloadTimeRelativeMS*P[le].chunkDownloadTimeRelativeMS;return T.m=(B-N*S/q)/(Y-N*N/q),T.b=S/q-T.m*N/q,function(Fe){return T.m*Fe+T.b}}function j(P){var N,T=!0,S=P.reduce(function(B,Y){return B+Y.bufferLevelAtSegmentEnd},0)/P.length;return P.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(T=!1),B.bufferLevelAtSegmentEnd/S<.8&&(T=!1),N?N>B.bitrate&&(T=!1):N=B.bitrate}),T}return g={setup:U,addMeasurement:function x(P,T,N,S,B){P&&P.mediaType&&!A[P.mediaType]&&(A[P.mediaType]=[]);var Y=P.mediaInfo.bitrateList.find(function(q){return q.id===P.representationId});A[P.mediaType].push({index:P.index,repId:P.representationId,mediaType:P.mediaType,requestTimeMS:S,adjustedAvailabilityStartTimeMS:P.availabilityStartTime.getTime(),segDurationMS:1e3*P.duration,chunksDurationMS:N.reduce(function(q,le){return q+le.chunkDownloadDurationMS},0),segmentBytes:N.reduce(function(q,le){return q+le.chunkBytes},0),bitrate:Y&&Y.bandwidth,bitrateList:P.mediaInfo.bitrateList,chunkMeasurements:N,fetchDownloadDurationMS:T,throughputCapacityDelayMS:B,getEstimatedBufferLevel:R(N.slice(1))}),A[P.mediaType].length>10&&A[P.mediaType].shift()},getThroughputCapacityDelayMS:function O(P,T){var N=A[P.mediaType]&&A[P.mediaType].slice(-3);return!N||N.length<3||!j(N)?0:T/4>250?250:T/4},getEstimatedDownloadDurationMS:function k(P){var T=A[P.mediaType].slice(-1).pop(),N=A[P.mediaType].slice(-3),S=T.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;T.bufferLevelAtSegmentStart=T.getEstimatedBufferLevel(S/2),T.bufferLevelAtSegmentEnd=T.getEstimatedBufferLevel(S);var B=j(N),Y=B?.6:.8;if(T.isBufferStable&&1.05*T.segDurationMS<T.fetchDownloadDurationMS)return T.fetchDownloadDurationMS;if(!B||T.segDurationMS<T.fetchDownloadDurationMS||T.adjustedAvailabilityStartTimeMS<=T.requestTimeMS+T.throughputCapacityDelayMS-T.segDurationMS)return.8*T.fetchDownloadDurationMS;for(var q=T.requestTimeMS+T.throughputCapacityDelayMS-T.adjustedAvailabilityStartTimeMS,le=0,Fe=0,$=0,ae=0;ae<T.chunkMeasurements.length;ae++){var K=T.chunkMeasurements[ae];if(q<Fe+K.chunkDownloadDurationMS)break;Fe+=K.chunkDownloadDurationMS,le+=K.chunkBytes,$++}if(q<0&&v.warn("request time was before adjusted availibitly start time"),le&&Fe&&$>.2*T.chunkMeasurements.length){var oe=T.segmentBytes/(le/Fe);return T.fetchDownloadDurationMS<oe?T.fetchDownloadDurationMS*Y:oe*Y}var he=T.bitrate;return T.bitrateList.some(function(Se){if(Se.bandwidth>T.bitrate)return he=Se.bandwidth,!0}),he===T.bitrate?T.fetchDownloadDurationMS*Y:Y*T.segmentBytes*8*1e3/he}},U(),g}I.__dashjs_factory_name="LowLatencyThroughputModel",C.default=y.default.getSingletonFactory(I)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var p,F=this.context,L=Object(t.default)(F).getInstance();return{getValue:function f(){return p},setValue:function g(v){p=v,v&&L.trigger(y.default.MANIFEST_LOADED,{data:v})}}}E.__dashjs_factory_name="ManifestModel",C.default=I.default.getSingletonFactory(E)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),v=-.5;function U(){var R,j,k,O,x=this.context,P=Object(I.default)(x).getInstance();function S(he,Se){return isNaN(he)?0:he>0?(Se&&j.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):he<v?(Se&&j.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(v,": ").concat(-50,"% playback speed.")),v):he}function B(he,Se){return isNaN(he)?0:he<0?(Se&&j.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):he>1?(Se&&j.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):he}function ae(){var he=P.get().streaming.buffer.stableBufferTime>0?P.get().streaming.buffer.stableBufferTime:P.get().streaming.buffer.fastSwitchEnabled?20:12,Se=k.getLiveDelay();return!isNaN(Se)&&Se>0?Math.min(he,Se):he}return R={getCatchupMaxDrift:function Y(){if(!isNaN(P.get().streaming.liveCatchup.maxDrift)&&P.get().streaming.liveCatchup.maxDrift>0)return P.get().streaming.liveCatchup.maxDrift;var he=O.getServiceDescriptionSettings();return he&&he.liveCatchup&&!isNaN(he.liveCatchup.maxDrift)&&he.liveCatchup.maxDrift>0?he.liveCatchup.maxDrift:12},getCatchupModeEnabled:function le(){return null!==P.get().streaming.liveCatchup.enabled?P.get().streaming.liveCatchup.enabled:k.getInitialCatchupModeActivated()},getStableBufferTime:ae,getInitialBufferLevel:function $(){var he=P.get().streaming.buffer.initialBufferLevel;return isNaN(he)||he<0?0:Math.min(ae(),he)},getRetryAttemptsForType:function K(he){var Se=isNaN(P.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:P.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return k.getLowLatencyModeEnabled()?P.get().streaming.retryAttempts[he]*Se:P.get().streaming.retryAttempts[he]},getRetryIntervalsForType:function pe(he){var Se=isNaN(P.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:P.get().streaming.retryIntervals.lowLatencyReductionFactor;return k.getLowLatencyModeEnabled()?P.get().streaming.retryIntervals[he]/Se:P.get().streaming.retryIntervals[he]},getCatchupPlaybackRates:function q(he){var Se=P.get().streaming.liveCatchup.playbackRate;if(!isNaN(Se.min)||!isNaN(Se.max))return{min:S(Se.min,he),max:B(Se.max,he)};var Le=O.getServiceDescriptionSettings();if(Le&&Le.liveCatchup&&(!isNaN(Le.liveCatchup.playbackRate.min)||!isNaN(Le.liveCatchup.playbackRate.max))){var fe=Le.liveCatchup.playbackRate;return{min:S(fe.min,he),max:B(fe.max,he)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Fe(he,Se){try{var Le=P.get().streaming.abr[he][Se];if(!isNaN(Le)&&-1!==Le)return Le;var fe=O.getServiceDescriptionSettings();return fe&&fe[he]&&!isNaN(fe[he][Se])?fe[he][Se]:-1}catch{return-1}},setConfig:function N(he){he.playbackController&&(k=he.playbackController),he.serviceDescriptionController&&(O=he.serviceDescriptionController)},reset:function oe(){}},function T(){j=Object(t.default)(x).getInstance().getLogger(R)}(),R}U.__dashjs_factory_name="MediaPlayerModel",C.default=y.default.getSingletonFactory(U)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),I=c(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),E=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),L=c(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),D=c(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),p=c(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),f=c(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),g=c(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),v=c(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),A=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),U=c(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),R=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),j=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function k(O){var N,S,x=(O=O||{}).settings,P=this.context,T=Object(A.default)(P).getInstance();function Y(){T.trigger(R.default.METRICS_CHANGED)}function q(W){T.trigger(R.default.METRIC_CHANGED,{mediaType:W}),Y()}function le(W,se,ge){T.trigger(R.default.METRIC_UPDATED,{mediaType:W,metric:se,value:ge}),q(W)}function Fe(W,se,ge){T.trigger(R.default.METRIC_ADDED,{mediaType:W,metric:se,value:ge}),q(W)}function K(W,se){var ge=null;return W&&(S.hasOwnProperty(W)?ge=S[W]:se||(ge=new I.default,S[W]=ge)),ge}function pe(W,se,ge){var J=K(W);null!==J&&(J[se].push(ge),J[se].length>x.get().streaming.metrics.maxListDepth&&J[se].shift())}function Le(W,se,ge){pe(W,se,ge),Fe(W,se,ge)}return N={clearCurrentMetricsForType:function $(W){delete S[W],q(W)},clearAllCurrentMetrics:function ae(){S={},Y()},getMetricsFor:K,addHttpRequest:function he(W,se,ge,J,Q,Z,te,ne,ee,X,ue,_e,de,xe,Ke,Ve){var st=new E.HTTPRequest;Z&&Z!==J&&(he(W,null,ge,J,Q,null,null,ne,ee,null,null,null,de,null,null,Ve),st.actualurl=Z),st.tcpid=se,st.type=ge,st.url=J,st.range=ne,st.trequest=ee,st.tresponse=X,st.responsecode=_e,st._tfinish=ue,st._stream=W,st._mediaduration=de,st._quality=Q,st._responseHeaders=xe,st._serviceLocation=te,st._fileLoaderType=Ve,Ke?Ke.forEach(function(ct){!function oe(W,se,ge,J){var Q=new E.HTTPRequestTrace;return Q.s=se,Q.d=ge,Q.b=J,W.trace.push(Q),W.interval||(W.interval=0),W.interval+=ge,Q}(st,ct.s,ct.d,ct.b)}):(delete st.interval,delete st.trace),Le(W,y.default.HTTP_REQUEST,st)},addRepresentationSwitch:function Se(W,se,ge,J,Q){var Z=new F.default;Z.t=se,Z.mt=ge,Z.to=J,Q?Z.lto=Q:delete Z.lto,Le(W,y.default.TRACK_SWITCH,Z)},addBufferLevel:function fe(W,se,ge){var J=new L.default;J.t=se,J.level=ge,Le(W,y.default.BUFFER_LEVEL,J)},addBufferState:function Re(W,se,ge){var J=new D.default;J.target=ge,J.state=se,Le(W,y.default.BUFFER_STATE,J)},addDVRInfo:function Me(W,se,ge,J){var Q=new p.default;Q.time=se,Q.range=J,Q.manifestInfo=ge,Le(W,y.default.DVR_INFO,Q)},addDroppedFrames:function me(W,se){var ge=new f.default,J=K(W).DroppedFrames;se&&(ge.time=se.creationTime,ge.droppedFrames=se.droppedVideoFrames,!(J.length>0&&J[J.length-1]==ge)&&Le(W,y.default.DROPPED_FRAMES,ge))},addSchedulingInfo:function Ue(W,se,ge,J,Q,Z,te,ne,ee){var X=new v.default;X.mediaType=W,X.t=se,X.type=ge,X.startTime=J,X.availabilityStartTime=Q,X.duration=Z,X.quality=te,X.range=ne,X.state=ee,Le(W,y.default.SCHEDULING_INFO,X)},addRequestsQueue:function ke(W,se,ge){var J=new U.default;J.loadingRequests=se,J.executedRequests=ge,K(W).RequestsQueue=J,Fe(W,y.default.REQUESTS_QUEUE,J)},addManifestUpdate:function Ie(W,se,ge,J,Q,Z,te,ne,ee,X){var ue=new g.ManifestUpdate;ue.mediaType=W,ue.type=se,ue.requestTime=ge,ue.fetchTime=J,ue.availabilityStartTime=Q,ue.presentationStartTime=Z,ue.clientTimeOffset=te,ue.currentTime=ne,ue.buffered=ee,ue.latency=X,pe(t.default.STREAM,y.default.MANIFEST_UPDATE,ue),Fe(W,y.default.MANIFEST_UPDATE,ue)},updateManifestUpdateInfo:function He(W,se){if(W){for(var ge in se)W[ge]=se[ge];le(W.mediaType,y.default.MANIFEST_UPDATE,W)}},addManifestUpdateStreamInfo:function ot(W,se,ge,J,Q){if(W){var Z=new g.ManifestUpdateStreamInfo;Z.id=se,Z.index=ge,Z.start=J,Z.duration=Q,W.streamInfo.push(Z),le(W.mediaType,y.default.MANIFEST_UPDATE_STREAM_INFO,W)}},addManifestUpdateRepresentationInfo:function Je(W,se,ge,J,Q,Z,te,ne){if(W&&W.representationInfo){var ee=new g.ManifestUpdateRepresentationInfo;ee.id=se,ee.index=ge,ee.streamIndex=J,ee.mediaType=Q,ee.startNumber=te,ee.fragmentInfoType=ne,ee.presentationTimeOffset=Z,W.representationInfo.push(ee),le(W.mediaType,y.default.MANIFEST_UPDATE_TRACK_INFO,W)}},addPlayList:function Ne(W){W.trace&&Array.isArray(W.trace)?W.trace.forEach(function(se){se.hasOwnProperty("subreplevel")&&!se.subreplevel&&delete se.subreplevel}):delete W.trace,Le(t.default.STREAM,y.default.PLAY_LIST,W)},addDVBErrors:function Te(W){Le(t.default.STREAM,y.default.DVB_ERRORS,W)}},function B(){S={}}(),N}k.__dashjs_factory_name="MetricsModel",C.default=j.default.getSingletonFactory(k)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(){var F;return{initialize:function L(p){if(F=new t.default,!p)return null;var f=p.indexOf("#");if(-1!==f)for(var g=p.substr(f+1).split("&"),v=0,A=g.length;v<A;++v){var U=g[v],R=U.indexOf("=");if(-1!==R){var j=U.substring(0,R);F.hasOwnProperty(j)&&(F[j]=U.substr(R+1))}}},getURIFragmentData:function D(){return F}}}I.__dashjs_factory_name="URIFragmentModel",C.default=y.default.getSingletonFactory(I)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),L=new Map([[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function D(){var p,f,g,v,A,U,R,k=this.context,O=Object(y.default)(k).getInstance(),x=[];function S(){g&&(g.playbackRate=R||1,g.removeEventListener("canplay",S))}function Le(){return x.length>0}function me(){if(g&&Le()&&0===g.playbackRate){var nt=document.createEvent("Event");nt.initEvent("waiting",!0,!1),g.dispatchEvent(nt)}}function se(nt,yt){g&&g.addEventListener(nt,yt)}function ge(nt,yt){g&&g.removeEventListener(nt,yt)}function J(){return g?g.readyState:NaN}function Q(){return g?g.buffered:null}function de(nt,yt,jt,wt,Gt){if(g)for(var nn=0;nn<g.textTracks.length;nn++)if(g.textTracks[nn].kind===nt&&(!yt||g.textTracks[nn].label==yt)&&g.textTracks[nn].language===jt&&g.textTracks[nn].isTTML===wt&&g.textTracks[nn].isEmbedded===Gt)return g.textTracks[nn];return null}function st(nt,yt){nt===F.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||J()>=nt?yt():function ct(nt,yt){se(nt,function wt(){ge(nt,wt),yt(nt)})}(L.get(nt),yt)}return p={initialize:function T(){O.on(I.default.PLAYBACK_PLAYING,me,this)},setCurrentTime:function Y(nt,yt){v=nt,st(F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(g){if(g.currentTime===v)return void(v=NaN);try{v=yt?function q(nt){var yt=Q(),jt=nt,wt=9999999999;if(yt)for(var Gt=0;Gt<yt.length;Gt++){var nn=yt.start(Gt),dn=yt.end(Gt),un=Math.abs(nn-nt),Kt=Math.abs(dn-nt);if(nt>=nn&&nt<=dn)return nt;un<wt&&(wt=un,jt=nn),Kt<wt&&(wt=Kt,jt=dn)}return jt}(v):v,g.currentTime=v,v=NaN}catch(jt){0===g.readyState&&jt.code===jt.INVALID_STATE_ERR&&setTimeout(function(){g.currentTime=v,v=NaN},400)}}})},play:function ke(){if(g){g.autoplay=!0;var nt=g.play();nt&&nt.catch&&typeof Promise<"u"&&nt.catch(function(yt){"NotAllowedError"===yt.name&&O.trigger(I.default.PLAYBACK_NOT_ALLOWED),f.warn("Caught pending play exception - continuing (".concat(yt,")"))})}},isPaused:function Ie(){return g?g.paused:null},pause:function He(){g&&(g.pause(),g.autoplay=!1)},isStalled:Le,isSeeking:function ot(){return g?g.seeking||!isNaN(v):null},getTime:function Je(){return g?isNaN(v)?g.currentTime:v:null},getPlaybackRate:function Ne(){return g?g.playbackRate:null},setPlaybackRate:function B(nt){g&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&g.readyState<=2&&nt>0?g.addEventListener("canplay",S):g.playbackRate=nt)},getPlayedRanges:function Te(){return g?g.played:null},getEnded:function W(){return g?g.ended:null},setStallState:function Se(nt,yt){!function Me(nt,yt){yt?function fe(nt){null===nt||!g||g.seeking||-1!==x.indexOf(nt)||x.push(nt)}(nt):function Re(nt){var yt=x.indexOf(nt);null!==nt&&-1!==yt&&x.splice(yt,1)}(nt)}(nt,yt)},getElement:function le(){return g},setElement:function Fe(nt){if(!(null==nt||nt&&/^(VIDEO|AUDIO)$/i.test(nt.nodeName)))throw"element is not video or audio DOM type!";(g=nt)&&(g.preload="auto")},setSource:function $(nt){g&&(nt?g.src=nt:(g.removeAttribute("src"),g.load()))},getSource:function ae(){return g?g.src:null},getTTMLRenderingDiv:function K(){return A},setTTMLRenderingDiv:function oe(nt){(A=nt).style.position="absolute",A.style.display="flex",A.style.overflow="hidden",A.style.pointerEvents="none",A.style.top=0,A.style.left=0},getVttRenderingDiv:function pe(){return U},setVttRenderingDiv:function he(nt){U=nt},getPlaybackQuality:function Ue(){if(!g)return null;var nt="webkitDroppedFrameCount"in g&&"webkitDecodedFrameCount"in g,jt=null;return"getVideoPlaybackQuality"in g?jt=g.getVideoPlaybackQuality():nt&&(jt={droppedVideoFrames:g.webkitDroppedFrameCount,totalVideoFrames:g.webkitDroppedFrameCount+g.webkitDecodedFrameCount,creationTime:new Date}),jt},addEventListener:se,removeEventListener:ge,getReadyState:J,getBufferRange:Q,getClientWidth:function Z(){return g?g.clientWidth:NaN},getClientHeight:function te(){return g?g.clientHeight:NaN},getTextTracks:function _e(){return g?g.textTracks:[]},getTextTrack:de,addTextTrack:function xe(nt,yt,jt,wt,Gt){if(!g)return null;var nn=de(nt,yt,jt,wt,Gt);return nn||((nn=g.addTextTrack(nt,yt,jt)).isEmbedded=Gt,nn.isTTML=wt),nn},appendChild:function Ke(nt){g&&(g.appendChild(nt),void 0!==nt.isTTML&&(g.textTracks[g.textTracks.length-1].isTTML=nt.isTTML,g.textTracks[g.textTracks.length-1].isEmbedded=nt.isEmbedded))},removeChild:function Ve(nt){g&&g.removeChild(nt)},getVideoWidth:function ne(){return g?g.videoWidth:NaN},getVideoHeight:function ee(){return g?g.videoHeight:NaN},getVideoRelativeOffsetTop:function X(){var nt=g.parentNode.host||g.parentNode;return nt?g.getBoundingClientRect().top-nt.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function ue(){var nt=g.parentNode.host||g.parentNode;return nt?g.getBoundingClientRect().left-nt.getBoundingClientRect().left:NaN},waitForReadyState:st,reset:function N(){O.off(I.default.PLAYBACK_PLAYING,me,this)}},function P(){f=Object(E.default)(k).getInstance().getLogger(p),v=NaN}(),p}D.__dashjs_factory_name="VideoModel",C.default=t.default.getSingletonFactory(D)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),I=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function F(R,j){return function p(R){if(Array.isArray(R))return R}(R)||function D(R,j){var k=null==R?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(null!=k){var O,x,P,T,N=[],S=!0,B=!1;try{if(P=(k=k.call(R)).next,0===j){if(Object(k)!==k)return;S=!1}else for(;!(S=(O=P.call(k)).done)&&(N.push(O.value),N.length!==j);S=!0);}catch(Y){B=!0,x=Y}finally{try{if(!S&&null!=k.return&&(T=k.return(),Object(T)!==T))return}finally{if(B)throw x}}return N}}(R,j)||g(R,j)||function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(R,j){if(R){if("string"==typeof R)return v(R,j);var k=Object.prototype.toString.call(R).slice(8,-1);if("Object"===k&&R.constructor&&(k=R.constructor.name),"Map"===k||"Set"===k)return Array.from(R);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return v(R,j)}}function v(R,j){(null==j||j>R.length)&&(j=R.length);for(var k=0,O=new Array(j);k<j;k++)O[k]=R[k];return O}function A(R){var N,j=this.context,k=(R=R||{}).requestModifier,O=R.lowLatencyThroughputModel,x=R.boxParser,P=Object(y.default)(j).getInstance();function Y(K){var fe,pe=new Date,oe=K.request,he=new Headers;if(oe.range&&he.append("Range","bytes="+oe.range),K.headers)for(var Se in K.headers){var Le=K.headers[Se];Le&&he.append(Se,Le)}oe.requestStartDate||(oe.requestStartDate=pe),k&&k.modifyRequestHeader&&k.modifyRequestHeader({setRequestHeader:function(Ie,He){he.append(Ie,He)}},{url:K.url}),"function"==typeof window.AbortController&&(fe=new AbortController,K.abortController=fe,fe.signal.onabort=K.onabort);var Re={method:K.method,headers:he,credentials:K.withCredentials?"include":void 0,signal:fe?fe.signal:void 0},Me=P.get().streaming.abr.fetchThroughputCalculationMode,me=Date.now(),Ue=0;new Promise(function(ke){if(Me===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(Ue=O.getThroughputCapacityDelayMS(oe,1e3*N.getCurrentBufferLevel(oe.mediaType))))return setTimeout(ke,Ue);ke()}).then(function(){var ke=Date.now();fetch(K.url,Re).then(function(Ie){K.response||(K.response={}),K.response.status=Ie.status,K.response.statusText=Ie.statusText,K.response.responseURL=Ie.url,Ie.ok||K.onerror();var Je,He="",ot=function f(R,j){var k=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!k){if(Array.isArray(R)||(k=g(R))||j&&R&&"number"==typeof R.length){k&&(R=k);var O=0,x=function(){};return{s:x,n:function(){return O>=R.length?{done:!0}:{done:!1,value:R[O++]}},e:function(B){throw B},f:x}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,P=!0,T=!1;return{s:function(){k=k.call(R)},n:function(){var B=k.next();return P=B.done,B},e:function(B){T=!0,N=B},f:function(){try{!P&&null!=k.return&&k.return()}finally{if(T)throw N}}}}(Ie.headers.keys());try{for(ot.s();!(Je=ot.n()).done;){var Ne=Je.value;He+=Ne+": "+Ie.headers.get(Ne)+"\r\n"}}catch(st){ot.e(st)}finally{ot.f()}if(K.response.responseHeaders=He,!Ie.body)return Ie.arrayBuffer().then(function(st){K.response.response=st,K.progress({loaded:st.byteLength,total:st.byteLength,stream:!1}),K.onload(),K.onend()});var nt,yt,Te=parseInt(Ie.headers.get("Content-Length"),10),W=0,se=!1,ge=new Uint8Array,J=0;if(Me===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var Z=ke,te=0,ee=F(Ie.body.tee(),2),ue=ee[1];nt=ee[0].getReader(),yt=[],nt.read().then(function jt(wt){var Gt=wt.value,nn=wt.done;if(te=Date.now(),Gt&&Gt.length){var dn=te-Z,un=Gt.length;yt.push({chunkDownloadTimeRelativeMS:te-ke,chunkDownloadDurationMS:dn,chunkBytes:un,kbps:Math.round(8*un/(dn/1e3)),bufferLevel:N.getCurrentBufferLevel(oe.mediaType)})}if(nn){var Kt=te-ke,Tn=yt.reduce(function(rn,xt){return rn+xt.chunkBytes},0);return O.addMeasurement(oe,Kt,yt,me,Ue,He),void K.progress({loaded:Tn,total:Tn,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(oe),stream:!0})}return Z=Date.now(),nt.read().then(jt)}),K.reader=ue.getReader()}else K.reader=Ie.body.getReader();var _e=[],de=[],xe=[],Ke=!0;q(K,function st(ct){var nt=ct.value;if(ct.done){if(ge){if(Me!==I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var jt=null,wt=null;Me===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(jt=function ae(K,pe){try{var oe,he;oe=K.filter(function(ke,Ie){return Ie<K.length-1}),he=pe.filter(function(ke,Ie){return Ie<pe.length-1});var Se=[];if(oe.length>1){for(var Le=0,fe=0,Re=0;Re<oe.length;Re++)if(oe[Re]&&he[Re]){var Me=he[Re].ts-oe[Re].ts;if(Me>1)Se.push(8*he[Re].bytes/Me);else{0===fe&&(fe=oe[Re].ts);var me=he[Re].ts-fe;me>1?(Se.push(8*Le/me),Le=0,fe=0):Le+=he[Re].bytes}}if(Se.length>0)return Se.reduce(function(ke,Ie){return ke+Ie},0)/Se.length}return null}catch{return null}}(de,xe))&&(wt=8*W/jt):Me===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(wt=$(_e,W)),K.progress({loaded:W,total:isNaN(Te)?W:Te,lengthComputable:!0,time:wt,stream:!0})}K.response.response=ge.buffer}return K.onload(),void K.onend()}if(nt&&nt.length>0){ge=function le(K,pe){if(0===K.length)return pe;var oe=new Uint8Array(K.length+pe.length);return oe.set(K),oe.set(pe,K.length),oe}(ge,nt),W+=nt.length,_e.push({ts:Date.now(),bytes:nt.length}),Me===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ke&&x.findLastTopIsoBoxCompleted(["moof"],ge,J).found&&(Ke=!1,de.push({ts:performance.now(),bytes:nt.length}));var nn=x.findLastTopIsoBoxCompleted(["moov","mdat"],ge,J);if(nn.found){var un,dn=nn.lastCompletedOffset+nn.size;Me===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!Ke&&(Ke=!0,xe.push({ts:performance.now(),bytes:ge.length})),dn===ge.length?(un=ge,ge=new Uint8Array):(un=new Uint8Array(ge.subarray(0,dn)),ge=ge.subarray(dn)),K.progress({data:un.buffer,lengthComputable:!1,noTrace:!0}),J=0}else J=nn.lastCompletedOffset,se||(K.progress({lengthComputable:!1,noTrace:!0}),se=!0)}q(K,st)})}).catch(function(Ie){K.onerror&&K.onerror(Ie)})})}function q(K,pe){K.reader.read().then(pe).catch(function(oe){K.onerror&&200===K.response.status&&K.onerror(oe)})}function $(K,pe){try{if((K=K.filter(function(Se){return Se.bytes>pe/4/K.length})).length>1){var oe=0,he=(K[K.length-1].ts-K[0].ts)/K.length;return K.forEach(function(Se,Le){var fe=K[Le+1];if(fe){var Re=fe.ts-Se.ts;oe+=Re<he?Re:0}}),oe}return null}catch{return null}}return{load:function B(K){k&&k.modifyRequest?Object(E.modifyRequest)(K,k).then(function(){return Y(K)}):Y(K)},abort:function Fe(K){if(K.abortController)K.abortController.abort();else if(K.reader)try{K.reader.cancel(),K.onabort()}catch{}},calculateDownloadedTime:$,setup:function S(K){N=K.dashMetrics}}}A.__dashjs_factory_name="FetchLoader";var U=t.default.getClassFactory(A);C.default=U},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),y=c(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),I=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),D=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),p=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),v=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),A=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),U=c(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),R=c(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function j(N){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(N)}function k(N,S,B){return(S=function O(N){var S=function x(N,S){if("object"!==j(N)||null===N)return N;var B=N[Symbol.toPrimitive];if(void 0!==B){var Y=B.call(N,S||"default");if("object"!==j(Y))return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(N)}(N,"string");return"symbol"===j(S)?S:String(S)}(S))in N?Object.defineProperty(N,S,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[S]=B,N}function P(N){var oe,he,Se,Le,fe,Re,Me,me,Ue,S=this.context,B=(N=N||{}).errHandler,Y=N.dashMetrics,q=N.mediaPlayerModel,le=N.requestModifier,Fe=N.boxParser,$=N.errors,ae=N.requestTimeout||0,K=Object(f.default)(S).getInstance(),pe=Object(v.default)(S).getInstance();function Ie(Ne,Te){var ee,W=Ne.request,se=[],ge=!0,J=!0,Q=new Date,Z=Q,te=0,ne=null;if(!le||!Y||!B)throw new Error("config object is not correct or missing");var Ve,X=function(un){if(J=!1,W.requestStartDate=Q,W.requestEndDate=new Date,W.firstByteDate=W.firstByteDate||Q,W.fileLoaderType=ne,!W.checkExistenceOnly){var Kt=ee.response?ee.response.responseURL:null,Tn=ee.response?ee.response.status:null,rn=ee.response&&ee.response.getAllResponseHeaders?ee.response.getAllResponseHeaders():ee.response?ee.response.responseHeaders:[];Y.addHttpRequest(W,Kt,Tn,rn,un?se:null),W.type===I.HTTPRequest.MPD_TYPE&&Y.addManifestUpdate(W)}},ue=function(){if(-1!==he.indexOf(ee)&&(he.splice(he.indexOf(ee),1),J))if(X(!1),Te>0){try{pe.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&W.type===I.HTTPRequest.MEDIA_SEGMENT_TYPE&&q.getRetryAttemptsForType(I.HTTPRequest.MEDIA_SEGMENT_TYPE)===Te&&K.trigger(g.default.ATTEMPT_BACKGROUND_SYNC)}catch{}Te--;var Kt={config:Ne};Le.push(Kt),Kt.timeout=setTimeout(function(){-1!==Le.indexOf(Kt)&&(Le.splice(Le.indexOf(Kt),1),Ie(Ne,Te))},q.getRetryIntervalsForType(W.type))}else{if(W.type===I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new F.default(fe[W.type],W.url+" is not available",{request:W,response:ee.response})),Ne.error&&Ne.error(W,"error",ee.response.statusText),Ne.complete&&Ne.complete(W,ee.response.statusText)}};W.hasOwnProperty("availabilityTimeComplete")&&!1===W.availabilityTimeComplete&&window.fetch&&"arraybuffer"===W.responseType&&W.type===I.HTTPRequest.MEDIA_SEGMENT_TYPE?((Ve=Object(y.default)(S).create({requestModifier:le,lowLatencyThroughputModel:me,boxParser:Fe})).setup({dashMetrics:Y}),ne=A.default.FILE_LOADER_TYPES.FETCH):(Ve=Object(t.default)(S).create({requestModifier:le}),ne=A.default.FILE_LOADER_TYPES.XHR);var st=null,ct=le.modifyRequestURL?le.modifyRequestURL(W.url):W.url;if(pe.get().streaming.cmcd&&pe.get().streaming.cmcd.enabled){var nt=pe.get().streaming.cmcd.mode;if(nt===A.default.CMCD_MODE_QUERY){var yt=function He(Ne){try{var Te=[],W=Re.getQueryParameter(Ne);return W&&Te.push(W),Te}catch{return[]}}(W);ct=D.default.addAditionalQueryParameterToUrl(ct,yt)}else nt===A.default.CMCD_MODE_HEADER&&(st=Re.getHeaderParameters(W))}W.url=ct;var jt=W.checkExistenceOnly?I.HTTPRequest.HEAD:I.HTTPRequest.GET,wt=Me.getXHRWithCredentialsForType(W.type);ee={url:ct,method:jt,withCredentials:wt,request:W,onload:function(){ee.response.status>=200&&ee.response.status<=299&&(X(!0),Ne.success&&Ne.success(ee.response.response,ee.response.statusText,ee.response.responseURL),Ne.complete&&Ne.complete(W,ee.response.statusText))},onend:ue,onerror:ue,progress:function(un){var Kt=new Date;ge&&(ge=!1,(!un.lengthComputable||un.lengthComputable&&un.total!==un.loaded)&&(W.firstByteDate=Kt)),un.lengthComputable&&(W.bytesLoaded=un.loaded,W.bytesTotal=un.total),un.noTrace||(se.push({s:Z,d:un.time?un.time:Kt.getTime()-Z.getTime(),b:[un.loaded?un.loaded-te:0]}),Z=Kt,te=un.loaded),Ne.progress&&un&&Ne.progress(un)},onabort:function(){Ne.abort&&Ne.abort(W)},ontimeout:function(un){var Kt;Kt=un.lengthComputable?"Request timeout: loaded: "+un.loaded+", out of: "+un.total+" : "+(un.loaded/un.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Ue.warn(Kt)},loader:Ve,timeout:ae,headers:st};var Gt=(new Date).getTime();if(isNaN(W.delayLoadingTime)||Gt>=W.delayLoadingTime)he.push(ee),Ve.load(ee);else{var nn={httpRequest:ee};Se.push(nn),nn.delayTimeout=setTimeout(function(){if(-1!==Se.indexOf(nn)){Se.splice(Se.indexOf(nn),1);try{Z=Q=new Date,he.push(nn.httpRequest),Ve.load(nn.httpRequest)}catch{nn.httpRequest.onerror()}}},W.delayLoadingTime-Gt)}}return oe={load:function ot(Ne){Ne.request?Ie(Ne,q.getRetryAttemptsForType(Ne.request.type)):Ne.error&&Ne.error(Ne.request,"error")},abort:function Je(){Le.forEach(function(Ne){clearTimeout(Ne.timeout),Ne.config.request&&Ne.config.abort&&Ne.config.abort(Ne.config.request)}),Le=[],Se.forEach(function(Ne){return clearTimeout(Ne.delayTimeout)}),Se=[],he.forEach(function(Ne){Ne.request.type!==I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Ne.onloadend=Ne.onerror=Ne.onprogress=void 0,Ne.loader.abort(Ne))}),he=[]}},function ke(){var Ne;Ue=Object(p.default)(S).getInstance().getLogger(oe),he=[],Se=[],Le=[],Re=Object(L.default)(S).getInstance(),me=Object(U.default)(S).getInstance(),Me=Object(R.default)(S).getInstance(),k(Ne={},I.HTTPRequest.MPD_TYPE,$.DOWNLOAD_ERROR_ID_MANIFEST_CODE),k(Ne,I.HTTPRequest.XLINK_EXPANSION_TYPE,$.DOWNLOAD_ERROR_ID_XLINK_CODE),k(Ne,I.HTTPRequest.INIT_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),k(Ne,I.HTTPRequest.MEDIA_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,I.HTTPRequest.INDEX_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,I.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,I.HTTPRequest.OTHER_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),fe=Ne}(),oe}P.__dashjs_factory_name="HTTPLoader";var T=E.default.getClassFactory(P);C.default=T},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function I(){var L;function f(){L={}}function v(){f()}return function A(){v()}(),{getLoader:function g(U){for(var R in L)if(L.hasOwnProperty(R)&&U.startsWith(R))return L[R];return y.default},registerLoader:function D(U,R){L[U]=R},unregisterLoader:function p(U){L[U]&&delete L[U]},unregisterAllLoader:f,reset:v}}I.__dashjs_factory_name="SchemeLoaderFactory";var E=t.default.getSingletonFactory(I);C.default=E},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function I(F){F=F||{};var p,f,L=this.context;return p=Object(y.default)(L).getInstance(),{load:function g(A){if(!f){var U=p.getLoader(A&&A.request?A.request.url:null);f=U(L).create({errHandler:F.errHandler,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,dashMetrics:F.dashMetrics,boxParser:F.boxParser?F.boxParser:null,constants:F.constants?F.constants:null,dashConstants:F.dashConstants?F.dashConstants:null,urlUtils:F.urlUtils?F.urlUtils:null,requestTimeout:isNaN(F.requestTimeout)?0:F.requestTimeout,errors:F.errors})}f.load(A)},abort:function v(){f&&f.abort()}}}I.__dashjs_factory_name="URLLoader";var E=t.default.getClassFactory(I);C.default=E},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function I(F){var L=(F=F||{}).requestModifier;function f(v){var A=new Date,U=v.request,R=new XMLHttpRequest;if(R.open(v.method,v.url,!0),U.responseType&&(R.responseType=U.responseType),U.range&&R.setRequestHeader("Range","bytes="+U.range),U.requestStartDate||(U.requestStartDate=A),L&&L.modifyRequestHeader&&(R=L.modifyRequestHeader(R,{url:v.url})),v.headers)for(var j in v.headers){var k=v.headers[j];k&&R.setRequestHeader(j,k)}R.withCredentials=v.withCredentials,R.onload=v.onload,R.onloadend=v.onend,R.onerror=v.onerror,R.onprogress=v.progress,R.onabort=v.onabort,R.ontimeout=v.ontimeout,R.timeout=v.timeout,R.send(),v.response=R}return{load:function p(v){L&&L.modifyRequest?Object(y.modifyRequest)(v,L).then(function(){return f(v)}):f(v)},abort:function g(v){var A=v.response;A.onloadend=A.onerror=A.onprogress=void 0,A.abort()}}}I.__dashjs_factory_name="XHRLoader";var E=t.default.getClassFactory(I);C.default=E},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function I(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(C);var D={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};C.default=function(){function f(){!function y(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}return function E(f,g,v){return g&&I(f.prototype,g),v&&I(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,null,[{key:"findCencContentProtection",value:function(v){for(var A=null,U=0;U<v.length;++U){var R=v[U];"urn:mpeg:dash:mp4protection:2011"===R.schemeIdUri.toLowerCase()&&("cenc"===R.value.toLowerCase()||"cbcs"===R.value.toLowerCase())&&(A=R)}return A}},{key:"getPSSHData",value:function(v){var A=8,U=new DataView(v),R=U.getUint8(A);return A+=20,R>0&&(A+=4+16*U.getUint32(A)),v.slice(A+=4)}},{key:"getPSSHForKeySystem",value:function(v,A){var U=f.parsePSSHList(A);return v&&U.hasOwnProperty(v.uuid.toLowerCase())?U[v.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(v,A){return"pssh"in v?(v.pssh.__text=v.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),A.decodeArray(v.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(v){if(null==v)return[];for(var A=new DataView(v.buffer||v),R={},j=0;;){var O,x=void 0,P=void 0,T=j;if(j>=A.buffer.byteLength)break;if(O=j+A.getUint32(j),1886614376===A.getUint32(j+=4))if(0===(x=A.getUint8(j+=4))||1===x){j++,j+=3,P="";var N=void 0,S=void 0;for(N=0;N<4;N++)P+=1===(S=A.getUint8(j+N).toString(16)).length?"0"+S:S;for(j+=4,P+="-",N=0;N<2;N++)P+=1===(S=A.getUint8(j+N).toString(16)).length?"0"+S:S;for(j+=2,P+="-",N=0;N<2;N++)P+=1===(S=A.getUint8(j+N).toString(16)).length?"0"+S:S;for(j+=2,P+="-",N=0;N<2;N++)P+=1===(S=A.getUint8(j+N).toString(16)).length?"0"+S:S;for(j+=2,P+="-",N=0;N<6;N++)P+=1===(S=A.getUint8(j+N).toString(16)).length?"0"+S:S;j+=6,j+=4,R[P=P.toLowerCase()]=A.buffer.slice(T,O),j=O}else j=O;else j=O}return R}},{key:"getLicenseServerUrlFromMediaInfo",value:function(v,A){try{if(!v||0===v.length)return null;for(var U=0,R=null;U<v.length&&!R;){var j=v[U];if(j&&j.contentProtection&&j.contentProtection.length>0){var k=j.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===A});if(k&&k.length>0)for(var O=0;O<k.length&&!R;){for(var x=k[O],P=0;P<D.attributes.length&&!R;){for(var T=0,N=D.attributes[P];T<D.prefixes.length&&!R;)x[N]&&x[N].__prefix&&x[N].__prefix===D.prefixes[T]&&x[N].__text&&(R=x[N].__text),T+=1;P+=1}O+=1}}U+=1}return R}catch{return null}}}]),f}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),y=c(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),I=c(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),E=c(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),L=c(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),D=c(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),p=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],f=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function g(){var A,U=this.context;function k(O,x){for(var P=0;P<x.length;P++){var T=x[P];if("function"==typeof O[T[Object.keys(T)[0]]])return T}return null}return A={createProtectionSystem:function R(O){var x=null,P=Object(y.default)(U).getInstance();P.setConfig({debug:O.debug,BASE64:O.BASE64,settings:O.settings}),P.initialize();var T=function j(O){var x=O.debug,P=x.getLogger(A),T=O.eventBus,N=O.errHandler,S=O.videoModel?O.videoModel.getElement():null;return S&&void 0===S.onencrypted||S&&void 0===S.mediaKeys?k(S,f)?(P.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(L.default)(U).create({debug:x,eventBus:T,events:O.events,api:k(S,f)})):k(S,p)?(P.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(D.default)(U).create({debug:x,eventBus:T,errHandler:N,events:O.events,api:k(S,p)})):(P.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(P.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(F.default)(U).create({debug:x,eventBus:T,events:O.events}))}(O);return!x&&T&&(x=Object(t.default)(U).create({protectionModel:T,protectionKeyController:P,eventBus:O.eventBus,debug:O.debug,events:O.events,BASE64:O.BASE64,constants:O.constants,cmcdModel:O.cmcdModel,customParametersModel:O.customParametersModel,settings:O.settings}),O.capabilities.setEncryptedMediaSupported(!0)),x}}}g.__dashjs_factory_name="Protection";var v=dashjs.FactoryMaker.getClassFactory(g);v.events=I.default,v.errors=E.default,dashjs.FactoryMaker.updateClassFactory(g.__dashjs_factory_name,v),C.default=v},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function I(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===y(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var S=R(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(O,x){if(x&&("object"===y(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(C);var k=new(function(O){p(P,O);var x=g(P);function P(){var T;return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(T=x.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",T.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",T.KEY_ADDED="public_keyAdded",T.KEY_ERROR="public_keyError",T.KEY_MESSAGE="public_keyMessage",T.KEY_SESSION_CLOSED="public_keySessionClosed",T.KEY_SESSION_CREATED="public_keySessionCreated",T.KEY_SESSION_REMOVED="public_keySessionRemoved",T.KEY_STATUSES_CHANGED="public_keyStatusesChanged",T.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",T.KEY_SYSTEM_SELECTED="public_keySystemSelected",T.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",T.LICENSE_REQUEST_SENDING="public_licenseRequestSending",T.NEED_KEY="needkey",T.PROTECTION_CREATED="public_protectioncreated",T.PROTECTION_DESTROYED="public_protectiondestroyed",T.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",T.TEARDOWN_COMPLETE="protectionTeardownComplete",T.VIDEO_ELEMENT_SELECTED="videoElementSelected",T.KEY_SESSION_UPDATED="public_keySessionUpdated",T}return function E(O,x,P){return x&&I(O.prototype,x),P&&I(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));C.default=k},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),y=c(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),I=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),E=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),D=c(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),p=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),f=c(
/*! ../../../core/Utils */
"./src/core/Utils.js"),g=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),v=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(P){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}function x(P){var pe,oe,he,Se,Le,fe,Re,Me,me,Ue,ke,T=(P=P||{}).protectionKeyController,N=P.protectionModel,S=P.eventBus,B=P.events,Y=P.debug,q=P.BASE64,le=P.constants,Fe=[],$=P.cmcdModel,ae=P.settings,K=P.customParametersModel;function He(){if(!(S&&S.hasOwnProperty("on")&&T&&T.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function Te(Pe,Ye){Me||me?Me&&se():function W(Pe,Ye){if(!me){me=!0;var dt,ze=[];Pe=Pe.sort(function(Ft,qt){return(Le&&Le[Ft.ks.systemString]&&Le[Ft.ks.systemString].priority>=0?Le[Ft.ks.systemString].priority:Pe.length)-(Le&&Le[qt.ks.systemString]&&Le[qt.ks.systemString].priority>=0?Le[qt.ks.systemString].priority:Pe.length)});for(var lt=0;lt<Pe.length;lt++){var rt=yt(Pe[lt]);ze.push({ks:Pe[lt].ks,configs:[rt],protData:Pe[lt].protData})}N.requestKeySystemAccess(ze).then(function(Ft){return oe.info("DRM: KeySystem Access Granted for system string ("+((dt=Ft.data).mksa&&dt.mksa.selectedSystemString?dt.mksa.selectedSystemString:dt.keySystem.systemString)+")!  Selecting key system..."),N.selectKeySystem(dt)}).then(function(Ft){if(Me=Ft,me=!1,N){S.trigger(B.KEY_SYSTEM_SELECTED,{data:dt});var qt=Z(Me);qt&&qt.serverCertificate&&qt.serverCertificate.length>0&&N.setServerCertificate(q.decodeArray(qt.serverCertificate).buffer),se()}}).catch(function(Ft){Me=null,me=!1,Ye||S.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new F.default(E.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,E.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Ft.error)})})}}(Pe,Ye)}function se(){for(var Pe,Ye=0;Ye<he.length;Ye++)for(Pe=0;Pe<he[Ye].length;Pe++)if(Me===he[Ye][Pe].ks){ge(he[Ye][Pe]);break}he=[]}function ge(Pe){if(T.isClearKey(Me)&&Pe.protData&&Pe.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Pe.protData.clearkeys).length){var Ye={kids:Object.keys(Pe.protData.clearkeys)};Pe.initData=(new TextEncoder).encode(JSON.stringify(Ye))}Pe.sessionId?J(Pe):null!==Pe.initData&&Q(Pe)}function J(Pe){He(),N.loadKeySession(Pe)}function Q(Pe){var Ye=t.default.getPSSHForKeySystem(Me,Pe?Pe.initData:null);if(Ye){if(function ee(Pe){if(!Pe)return!1;try{for(var Ye=N.getSessions(),ze=0;ze<Ye.length;ze++)if(Ye[ze].getKeyId()===Pe)return!0;return!1}catch{return!1}}(Pe.keyId)||X(Ye))return;try{Pe.initData=Ye,N.createKeySession(Pe)}catch(ze){S.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+ze.message)})}}else Pe&&Pe.initData?N.createKeySession(Pe):S.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Me?Me.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function Z(Pe){if(Pe){var Ye=Pe.systemString;if(Le)return Ye in Le?Le[Ye]:null}return null}function X(Pe){if(!Pe)return!1;try{for(var Ye=N.getAllInitData(),ze=0;ze<Ye.length;ze++)if(T.initDataEquals(Pe,Ye[ze]))return oe.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function xe(Pe){He(),Pe?(N.setMediaElement(Pe),S.on(B.NEED_KEY,ht,pe)):null===Pe&&(N.setMediaElement(Pe),S.off(B.NEED_KEY,ht,pe))}function yt(Pe){var Ye=Pe.protData,ze=[],lt=[],rt=Ye&&Ye.audioRobustness&&Ye.audioRobustness.length>0?Ye.audioRobustness:Re,dt=Ye&&Ye.videoRobustness&&Ye.videoRobustness.length>0?Ye.videoRobustness:Re,Ft=Pe.sessionType,qt=Ye&&Ye.distinctiveIdentifier?Ye.distinctiveIdentifier:"optional",Lt=Ye&&Ye.persistentState?Ye.persistentState:"temporary"===Ft?"optional":"required";return Se.forEach(function(Qt){Qt.type===le.AUDIO?ze.push(new y.default(Qt.codec,rt)):Qt.type===le.VIDEO&&lt.push(new y.default(Qt.codec,dt))}),new I.default(ze,lt,qt,Lt,[Ft])}function jt(Pe){Pe.error?S.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:Pe.error}):oe.debug("DRM: key status = "+Pe.status)}function wt(Pe){oe.debug("DRM: onKeyMessage");var Ye=Pe.data;S.trigger(B.KEY_MESSAGE,{data:Ye});var ze=Ye.messageType?Ye.messageType:"license-request",lt=Ye.message,rt=Ye.sessionToken,dt=Z(Me),Ft=T.getLicenseServerModelInstance(Me,dt,ze),qt={sessionToken:rt,messageType:ze};if(lt&&0!==lt.byteLength){if(!Ft)return oe.debug("DRM: License server request not required for this message (type = "+Pe.data.messageType+").  Session ID = "+rt.getSessionId()),void Gt(qt);if(T.isClearKey(Me)){var Lt=T.processClearKeyLicenseRequest(Me,dt,lt);if(Lt&&Lt.keyPairs&&Lt.keyPairs.length>0)return oe.debug("DRM: ClearKey license request handled by application!"),Gt(qt),void N.updateKeySession(rt,Lt)}!function nn(Pe,Ye,ze){var lt=Pe.sessionToken,rt=Pe.messageType?Pe.messageType:"license-request",dt={sessionToken:lt,messageType:rt},Ft=Me?Me.systemString:null,qt=function Kt(Pe,Ye,ze,lt,rt){var dt=null,Ft=lt.message;if(Pe&&Pe.serverURL){var qt=Pe.serverURL;"string"==typeof qt&&""!==qt?dt=qt:"object"===A(qt)&&qt.hasOwnProperty(Ye)&&(dt=qt[Ye])}else if(Pe&&Pe.laURL&&""!==Pe.laURL)dt=Pe.laURL;else if(!(dt=t.default.getLicenseServerUrlFromMediaInfo(Se,Me.schemeIdURI))&&!T.isClearKey(Me)){var Lt=t.default.getPSSHData(ze.initData);(dt=Me.getLicenseServerURLFromInitData(Lt))||(dt=lt.laURL)}return rt.getServerURLFromMessage(dt,Ft,Ye)}(ze,rt,lt,Pe,Ye);if(qt){var Lt={},Qt=!1;ze&&Tn(Lt,ze.httpRequestHeaders);var ln=Pe.message;Tn(Lt,Me.getRequestHeadersFromMessage(ln)),Object.keys(Lt).forEach(function(ut){"authorization"===ut.toLowerCase()&&(Qt=!0)}),ze&&"boolean"==typeof ze.withCredentials&&(Qt=ze.withCredentials);var Mn=function(Pt){if(N)if(Pt.status>=200&&Pt.status<=299){var en=f.default.parseHttpHeaders(Pt.getAllResponseHeaders?Pt.getAllResponseHeaders():null),Jt=new D.default(Pt.responseURL,en,Pt.response);xt(K.getLicenseResponseFilters(),Jt).then(function(){var Ht=Ye.getLicenseMessage(Jt.data,Ft,rt);null!==Ht?(Gt(dt),N.updateKeySession(lt,Ht)):rn(Pt,dt,Ft,rt,Ye)})}else rn(Pt,dt,Ft,rt,Ye)},Nn=function(Pt){Gt(dt,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ft+' update, XHR aborted. status is "'+Pt.statusText+'" ('+Pt.status+"), readyState is "+Pt.readyState))},Yn=function(Pt){Gt(dt,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ft+' update, XHR error. status is "'+Pt.statusText+'" ('+Pt.status+"), readyState is "+Pt.readyState))},Vn=Me.getLicenseRequestFromMessage(ln),fi=Ye.getHTTPMethod(rt),Cn=Ye.getResponseType(Ft,rt),Tt=ze&&!isNaN(ze.httpTimeout)?ze.httpTimeout:8e3,Et=lt.getSessionId()||null,at=new L.default(qt,fi,Cn,Lt,Qt,rt,Et,Vn),Wt=isNaN(ae.get().streaming.retryAttempts[p.HTTPRequest.LICENSE])?3:ae.get().streaming.retryAttempts[p.HTTPRequest.LICENSE];xt(K.getLicenseRequestFilters(),at).then(function(){dn(at,Wt,Tt,Mn,Nn,Yn)})}else Gt(dt,new F.default(E.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Ye,Ft,dt)}else Gt(qt,new F.default(E.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Gt(Pe,Ye){S.trigger(B.LICENSE_REQUEST_COMPLETE,{data:Pe,error:Ye})}function dn(Pe,Ye,ze,lt,rt,dt){var Ft=new XMLHttpRequest;if(ae.get().streaming.cmcd&&ae.get().streaming.cmcd.enabled&&ae.get().streaming.cmcd.mode===g.default.CMCD_MODE_QUERY){var Lt=$.getQueryParameter({url:Pe.url,type:p.HTTPRequest.LICENSE});Lt&&(Pe.url=f.default.addAditionalQueryParameterToUrl(Pe.url,[Lt]))}for(var Qt in Ft.open(Pe.method,Pe.url,!0),Ft.responseType=Pe.responseType,Ft.withCredentials=Pe.withCredentials,ze>0&&(Ft.timeout=ze),Pe.headers)Ft.setRequestHeader(Qt,Pe.headers[Qt]);if(ae.get().streaming.cmcd&&ae.get().streaming.cmcd.enabled&&ae.get().streaming.cmcd.mode===g.default.CMCD_MODE_HEADER){var mn=$.getHeaderParameters({url:Pe.url,type:p.HTTPRequest.LICENSE});if(mn)for(var Mn in mn){var Nn=mn[Mn];Nn&&Ft.setRequestHeader(Mn,Nn)}}var Yn=function(){Ye--;var fi=isNaN(ae.get().streaming.retryIntervals[p.HTTPRequest.LICENSE])?1e3:ae.get().streaming.retryIntervals[p.HTTPRequest.LICENSE];ke=setTimeout(function(){dn(Pe,Ye,ze,lt,rt,dt)},fi)};Ft.onload=function(){Ue=null,this.status>=200&&this.status<=299||Ye<=0?lt(this):(oe.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Ye),Yn())},Ft.ontimeout=Ft.onerror=function(){Ue=null,Ye<=0?dt(this):(oe.warn("License request network request failed . Retrying it... Pending retries: "+Ye),Yn())},Ft.onabort=function(){rt(this)},S.trigger(B.LICENSE_REQUEST_SENDING,{url:Pe.url,headers:Pe.headers,payload:Pe.data,sessionId:Pe.sessionId}),Ue=Ft,Ft.send(Pe.data)}function un(){Ue&&(Ue.onloadend=Ue.onerror=Ue.onprogress=void 0,Ue.abort(),Ue=null),ke&&(clearTimeout(ke),ke=null)}function Tn(Pe,Ye){if(Ye)for(var ze in Ye)Pe[ze]=Ye[ze]}function rn(Pe,Ye,ze,lt,rt){var dt="NONE",Ft=null;Pe.response&&(dt=rt.getErrorResponse(Pe.response,ze,lt),Ft={serverResponse:Pe.response||null,responseCode:Pe.status||null,responseText:Pe.statusText||null}),Gt(Ye,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ze+' update, XHR complete. status is "'+Pe.statusText+'" ('+Pe.status+"), readyState is "+Pe.readyState+".  Response is "+dt,Ft))}function xt(Pe,Ye){return Pe?Pe.reduce(function(ze,lt){return ze.then(function(){return lt(Ye)})},Promise.resolve()):Promise.resolve()}function ht(Pe,Ye){if(!ae.get().streaming.protection.ignoreEmeEncryptedEvent){if(oe.debug("DRM: onNeedKey"),"cenc"!==Pe.key.initDataType)return void oe.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Pe.key.initDataType);if(0===Se.length&&(oe.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Ye=typeof Ye>"u"?1:Ye+1)<5))return void Fe.push(setTimeout(function(){ht(Pe,Ye)},500));var ze=Pe.key.initData;if(ArrayBuffer.isView(ze)&&(ze=ze.buffer),Me){var lt=t.default.getPSSHForKeySystem(Me,ze);if(lt&&X(lt))return}oe.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(ze)));var rt=T.getSupportedKeySystemsFromSegmentPssh(ze,Le,fe);if(0===rt.length)return void oe.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function Ne(Pe){he.push(Pe),Te(Pe,!1)}(rt)}}return pe={initializeForMedia:function ot(Pe){if(!Pe)throw new Error("mediaInfo can not be null or undefined");He(),Se.push(Pe)},clearMediaInfoArray:function te(){Se=[]},handleKeySystemFromManifest:function Je(){if(Se&&0!==Se.length){var Pe=[];Se.forEach(function(Ye){var ze=T.getSupportedKeySystemsFromContentProtection(Ye.contentProtection,Le,fe);ze.length>0&&(0===Pe.length&&(Pe=ze),he.push(ze))}),Pe&&Pe.length>0&&Te(Pe,!0)}},createKeySession:Q,loadKeySession:J,removeKeySession:function ue(Pe){He(),N.removeKeySession(Pe)},closeKeySession:function _e(Pe){He(),N.closeKeySession(Pe)},setServerCertificate:function de(Pe){He(),N.setServerCertificate(Pe)},setMediaElement:xe,setSessionType:function Ke(Pe){fe=Pe},setRobustnessLevel:function Ve(Pe){Re=Pe},setProtectionData:function st(Pe){Le=Pe,T.setProtectionData(Pe)},getSupportedKeySystemsFromContentProtection:function ne(Pe){return He(),T.getSupportedKeySystemsFromContentProtection(Pe,Le,fe)},getKeySystems:function Qe(){return T?T.getKeySystems():[]},setKeySystems:function De(Pe){T&&T.setKeySystems(Pe)},stop:function ct(){un(),N&&N.stop()},reset:function nt(){S.off(B.INTERNAL_KEY_MESSAGE,wt,pe),S.off(B.INTERNAL_KEY_STATUS_CHANGED,jt,pe),He(),un(),xe(null),Me=null,me=!1,N&&(N.reset(),N=null),Fe.forEach(function(Pe){return clearTimeout(Pe)}),Fe=[],Se=[],he=[]}},function Ie(){oe=Y.getLogger(pe),he=[],Se=[],fe="temporary",Re="",Ue=null,ke=null,S.on(B.INTERNAL_KEY_MESSAGE,wt,pe),S.on(B.INTERNAL_KEY_STATUS_CHANGED,jt,pe)}(),pe}x.__dashjs_factory_name="ProtectionController",C.default=v.default.getClassFactory(x)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),y=c(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),I=c(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),E=c(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),F=c(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),L=c(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),D=c(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),p=c(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),f=c(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),g=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function v(){var U,R,j,k,O,x,P,T,A=this.context;function he(fe,Re){return Re&&fe in Re?Re[fe]:null}function Se(fe,Re){return fe&&fe.sessionId?fe.sessionId:Re&&Re.sessionId?Re.sessionId:null}function Le(fe,Re){return fe&&fe.sessionType?fe.sessionType:Re}return U={initialize:function S(){var fe;k=[],fe=Object(F.default)(A).getInstance({BASE64:O,settings:x}),k.push(fe),fe=Object(E.default)(A).getInstance({BASE64:O}),k.push(fe),fe=Object(y.default)(A).getInstance({BASE64:O}),k.push(fe),P=fe,fe=Object(I.default)(A).getInstance({BASE64:O,debug:R}),k.push(fe),T=fe},setProtectionData:function oe(fe){for(var Me=0;Me<k.length;Me++){var me=k[Me];me.hasOwnProperty("init")&&me.init((ke=me.systemString,Ie=void 0,Ie=null,fe&&(Ie=ke in fe?fe[ke]:null),Ie))}var ke,Ie},isClearKey:function le(fe){return fe===P||fe===T},initDataEquals:function Fe(fe,Re){if(fe.byteLength===Re.byteLength){for(var Me=new Uint8Array(fe),me=new Uint8Array(Re),Ue=0;Ue<Me.length;Ue++)if(Me[Ue]!==me[Ue])return!1;return!0}return!1},getKeySystems:function B(){return k},setKeySystems:function Y(fe){k=fe},getKeySystemBySystemString:function q(fe){for(var Re=0;Re<k.length;Re++)if(k[Re].systemString===fe)return k[Re];return null},getSupportedKeySystemsFromContentProtection:function $(fe,Re,Me){var me,Ue,ke,Ie,He=[];if(fe){var ot=t.default.findCencContentProtection(fe);for(ke=0;ke<k.length;++ke){var Je=he((Ue=k[ke]).systemString,Re);for(Ie=0;Ie<fe.length;++Ie)if((me=fe[Ie]).schemeIdUri.toLowerCase()===Ue.schemeIdURI){var Ne=Ue.getInitData(me,ot);He.push({ks:k[ke],keyId:me.keyId,initData:Ne,protData:Je,cdmData:Ue.getCDMData(Je?Je.cdmData:null),sessionId:Se(Je,me),sessionType:Le(Je,Me)})}}}return He},getSupportedKeySystemsFromSegmentPssh:function ae(fe,Re,Me){for(var ke,me=[],Ue=t.default.parsePSSHList(fe),He=0;He<k.length;++He){var ot=he((ke=k[He]).systemString,Re);ke.uuid in Ue&&me.push({ks:ke,initData:Ue[ke.uuid],protData:ot,cdmData:ke.getCDMData(ot?ot.cdmData:null),sessionId:Se(ot),sessionType:Le(ot,Me)})}return me},getLicenseServerModelInstance:function K(fe,Re,Me){if("license-release"===Me||"individualization-request"===Me)return null;var me=null;return Re&&Re.hasOwnProperty("drmtoday")?me=Object(L.default)(A).getInstance({BASE64:O}):fe.systemString===g.default.WIDEVINE_KEYSTEM_STRING?me=Object(p.default)(A).getInstance():fe.systemString===g.default.PLAYREADY_KEYSTEM_STRING?me=Object(D.default)(A).getInstance():fe.systemString===g.default.CLEARKEY_KEYSTEM_STRING&&(me=Object(f.default)(A).getInstance()),me},processClearKeyLicenseRequest:function pe(fe,Re,Me){try{return fe.getClearKeysFromProtectionData(Re,Me)}catch{return j.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function N(fe){fe&&(fe.debug&&(j=(R=fe.debug).getLogger(U)),fe.BASE64&&(O=fe.BASE64),fe.settings&&(x=fe.settings))}}}v.__dashjs_factory_name="ProtectionKeyController",C.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),y=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),I=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="e2719d58-a985-b3c9-781a-b030af78d30e",L=E.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+F;function p(f){var v=(f=f||{}).BASE64;function R(P){try{var T=P.replace(/-/g,"");return(T=btoa(T.match(/\w{2}/g).map(function(N){return String.fromCharCode(parseInt(N,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:F,schemeIdURI:D,systemString:L,getInitData:function U(P,T){try{var N=I.default.parseInitDataFromContentProtection(P,v);if(!N&&T){var B={kids:[R(T["cenc:default_KID"])]};N=(new TextEncoder).encode(JSON.stringify(B))}return N}catch{return null}},getRequestHeadersFromMessage:function j(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function k(P){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(P))))},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function x(){return null},getClearKeysFromProtectionData:function A(P,T){var N=null;if(P){for(var S=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<S.kids.length;Y++){var q=S.kids[Y],le=P.clearkeys&&P.clearkeys.hasOwnProperty(q)?P.clearkeys[q]:null;if(!le)throw new Error("DRM: ClearKey keyID ("+q+") is not known!");B.push(new t.default(q,le))}N=new y.default(B)}return N}}}p.__dashjs_factory_name="KeySystemClearKey",C.default=dashjs.FactoryMaker.getSingletonFactory(p)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),y=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),I="9a04f079-9840-4286-ab92-e65be0885f95",E=y.default.PLAYREADY_KEYSTEM_STRING,F="urn:uuid:"+I;function D(p){var g="utf-16",v=(p=p||{}).BASE64,A=p.settings;function U(){if(!v||!v.hasOwnProperty("decodeArray")||!v.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:I,schemeIdURI:F,systemString:E,getInitData:function O(T){var q,le,Fe,$,ae,N=new Uint8Array([112,115,115,104,0,0,0,0]),S=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,Y=null;if(U(),!T)return null;if("pssh"in T)return t.default.parseInitDataFromContentProtection(T,v);if("pro"in T)Y=v.decodeArray(T.pro.__text);else{if(!("prheader"in T))return null;Y=v.decodeArray(T.prheader.__text)}return le=4+N.length+S.length+4+(q=Y.length),Fe=new ArrayBuffer(le),$=new Uint8Array(Fe),(ae=new DataView(Fe)).setUint32(B,le),$.set(N,B+=4),$.set(S,B+=N.length),ae.setUint32(B+=S.length,q),$.set(Y,B+=4),B+=q,$.buffer},getRequestHeadersFromMessage:function R(T){var N,S,B={},Y=new DOMParser;if(A&&A.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===g&&T&&T.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var q="utf-16"===g?new Uint16Array(T):new Uint8Array(T);N=String.fromCharCode.apply(null,q);for(var le=(S=Y.parseFromString(N,"application/xml")).getElementsByTagName("name"),Fe=S.getElementsByTagName("value"),$=0;$<le.length;$++)B[le[$].childNodes[0].nodeValue]=Fe[$].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function j(T){var N=null,S=new DOMParser;if(A&&A.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===g&&T&&T.byteLength%2==1)return T;var B="utf-16"===g?new Uint16Array(T):new Uint8Array(T);U();var Y=String.fromCharCode.apply(null,B),q=S.parseFromString(Y,"application/xml");if(!q.getElementsByTagName("PlayReadyKeyMessage")[0])return T;var le=q.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return le&&(N=v.decode(le)),N},getLicenseServerURLFromInitData:function k(T){if(T)for(var N=new DataView(T),S=N.getUint16(4,!0),B=6,Y=new DOMParser,q=0;q<S;q++){var le=N.getUint16(B,!0),Fe=N.getUint16(B+=2,!0);if(B+=2,1===le){var $=T.slice(B,B+Fe),ae=String.fromCharCode.apply(null,new Uint16Array($)),K=Y.parseFromString(ae,"application/xml");if(K.getElementsByTagName("LA_URL")[0]){var pe=K.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(pe)return pe}if(K.getElementsByTagName("LUI_URL")[0]){var oe=K.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(oe)return oe}}else B+=Fe}return null},getCDMData:function P(T){var N,S,B,Y;if(U(),!T)return null;for(N=[],Y=0;Y<T.length;++Y)N.push(T.charCodeAt(Y)),N.push(0);for(N=String.fromCharCode.apply(null,N),N=v.encode(N),S='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",N),B=[],Y=0;Y<S.length;++Y)B.push(S.charCodeAt(Y)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function x(T){if("utf-8"!==T&&"utf-16"!==T)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');g=T}}}D.__dashjs_factory_name="KeySystemPlayReady",C.default=dashjs.FactoryMaker.getSingletonFactory(D)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),y=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),I=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",L=E.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+F;function p(f){var g,v=f.BASE64,A=f.debug.getLogger(g);return{uuid:F,schemeIdURI:D,systemString:L,getInitData:function R(P){return I.default.parseInitDataFromContentProtection(P,v)},getRequestHeadersFromMessage:function j(){return null},getLicenseRequestFromMessage:function k(P){return new Uint8Array(P)},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function x(){return null},getClearKeysFromProtectionData:function U(P,T){var N=null;if(P){for(var S=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<S.kids.length;Y++){var q=S.kids[Y],le=P.clearkeys&&P.clearkeys.hasOwnProperty(q)?P.clearkeys[q]:null;if(!le)throw new Error("DRM: ClearKey keyID ("+q+") is not known!");B.push(new t.default(q,le))}N=new y.default(B),A.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return N}}}p.__dashjs_factory_name="KeySystemW3CClearKey",C.default=dashjs.FactoryMaker.getSingletonFactory(p)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),y=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),I="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",E=y.default.WIDEVINE_KEYSTEM_STRING,F="urn:uuid:"+I;function L(D){var f=(D=D||{}).BASE64;return{uuid:I,schemeIdURI:F,systemString:E,getInitData:function g(j){return t.default.parseInitDataFromContentProtection(j,f)},getRequestHeadersFromMessage:function v(){return null},getLicenseRequestFromMessage:function A(j){return new Uint8Array(j)},getLicenseServerURLFromInitData:function U(){return null},getCDMData:function R(){return null}}}L.__dashjs_factory_name="KeySystemWidevine",C.default=dashjs.FactoryMaker.getSingletonFactory(L)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function y(O){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function I(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==y(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==y(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===y(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var S=R(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function v(O,x){if(x&&("object"===y(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function A(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(C);var k=new(function(O){p(P,O);var x=g(P);function P(){var T;return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(T=x.call(this)).MEDIA_KEYERR_CODE=100,T.MEDIA_KEYERR_UNKNOWN_CODE=101,T.MEDIA_KEYERR_CLIENT_CODE=102,T.MEDIA_KEYERR_SERVICE_CODE=103,T.MEDIA_KEYERR_OUTPUT_CODE=104,T.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,T.MEDIA_KEYERR_DOMAIN_CODE=106,T.MEDIA_KEY_MESSAGE_ERROR_CODE=107,T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,T.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,T.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,T.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,T.KEY_SESSION_CREATED_ERROR_CODE=113,T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,T.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",T.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",T.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",T.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",T.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",T.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",T.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",T.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",T.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",T.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",T.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",T}return function E(O,x,P){return x&&I(O.prototype,x),P&&I(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));C.default=k},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),y=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),I=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),F=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function p(f){var k,O,x,P,T,N,S,B,Y,g=this.context,v=(f=f||{}).eventBus,A=f.events,U=f.debug,R=f.api,j=f.errHandler;function le(){x&&Ue();for(var ke=0;ke<S.length;ke++)Se(S[ke]);v.trigger(A.TEARDOWN_COMPLETE)}function Se(ke){try{x[R.cancelKeyRequest](P.systemString,ke.sessionId)}catch(Ie){v.trigger(A.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+ke.sessionId+") "+Ie.message})}}function me(ke,Ie){if(!Ie||!ke)return null;for(var He=ke.length,ot=0;ot<He;ot++)if(ke[ot].sessionId==Ie)return ke[ot];return null}function Ue(){x.removeEventListener(R.keyerror,Y),x.removeEventListener(R.needkey,Y),x.removeEventListener(R.keymessage,Y),x.removeEventListener(R.keyadded,Y)}return k={getAllInitData:function Fe(){for(var ke=[],Ie=0;Ie<N.length;Ie++)ke.push(N[Ie].initData);for(var He=0;He<S.length;He++)ke.push(S[He].initData);return ke},getSessions:function $(){return S.concat(N)},requestKeySystemAccess:function ae(ke){return new Promise(function(Ie,He){var ot=x;ot||(ot=document.createElement("video"));for(var Je=!1,Ne=0;Ne<ke.length;Ne++)for(var Te=ke[Ne].ks.systemString,W=ke[Ne].configs,ge=null,J=0;J<W.length;J++){var Q=W[J].videoCapabilities;if(Q&&0!==Q.length){ge=[];for(var Z=0;Z<Q.length;Z++)""!==ot.canPlayType(Q[Z].contentType,Te)&&ge.push(Q[Z])}if(ge&&(!ge||0!==ge.length)){Je=!0;var te=new F.default(null,ge),ne=T.getKeySystemBySystemString(Te),ee=new L.default(ne,te);v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:ee}),Ie({data:ee});break}}if(!Je){var X="Key system access denied! -- No valid audio/video content configurations detected!";v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:X}),He({error:X})}})},selectKeySystem:function K(ke){return P=ke.keySystem,Promise.resolve(P)},setMediaElement:function pe(ke){if(x!==ke){if(x){Ue();for(var Ie=0;Ie<S.length;Ie++)Se(S[Ie]);S=[]}(x=ke)&&(x.addEventListener(R.keyerror,Y),x.addEventListener(R.needkey,Y),x.addEventListener(R.keymessage,Y),x.addEventListener(R.keyadded,Y),v.trigger(A.VIDEO_ELEMENT_SELECTED))}},createKeySession:function oe(ke){if(!P)throw new Error("Can not create sessions until you have selected a key system");if(B||0===S.length){var Ie={sessionId:null,keyId:ke.keyId,initData:ke.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return N.push(Ie),x[R.generateKeyRequest](P.systemString,new Uint8Array(ke.initData)),Ie}throw new Error("Multiple sessions not allowed!")},updateKeySession:function he(ke,Ie){var He=ke.sessionId;if(T.isClearKey(P))for(var ot=0;ot<Ie.keyPairs.length;ot++)x[R.addKey](P.systemString,Ie.keyPairs[ot].key,Ie.keyPairs[ot].keyID,He);else x[R.addKey](P.systemString,new Uint8Array(Ie),new Uint8Array(ke.initData),He);v.trigger(A.KEY_SESSION_UPDATED)},closeKeySession:Se,setServerCertificate:function Le(){},loadKeySession:function fe(){},removeKeySession:function Re(){},stop:le,reset:le},function q(){O=U.getLogger(k),x=null,P=null,N=[],S=[],T=Object(t.default)(g).getInstance(),Y=function Me(){return{handleEvent:function(Ie){var He=null;switch(Ie.type){case R.needkey:var ot=ArrayBuffer.isView(Ie.initData)?Ie.initData.buffer:Ie.initData;v.trigger(A.NEED_KEY,{key:new y.default(ot,"cenc")});break;case R.keyerror:if((He=me(S,Ie.sessionId))||(He=me(N,Ie.sessionId)),He){var Je=D.default.MEDIA_KEYERR_CODE,Ne="";switch(Ie.errorCode.code){case 1:Je=D.default.MEDIA_KEYERR_UNKNOWN_CODE,Ne+="MEDIA_KEYERR_UNKNOWN - "+D.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Je=D.default.MEDIA_KEYERR_CLIENT_CODE,Ne+="MEDIA_KEYERR_CLIENT - "+D.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Je=D.default.MEDIA_KEYERR_SERVICE_CODE,Ne+="MEDIA_KEYERR_SERVICE - "+D.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Je=D.default.MEDIA_KEYERR_OUTPUT_CODE,Ne+="MEDIA_KEYERR_OUTPUT - "+D.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Je=D.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Ne+="MEDIA_KEYERR_HARDWARECHANGE - "+D.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Je=D.default.MEDIA_KEYERR_DOMAIN_CODE,Ne+="MEDIA_KEYERR_DOMAIN - "+D.default.MEDIA_KEYERR_DOMAIN_MESSAGE}v.trigger(A.KEY_ERROR,{error:new I.default(Je,Ne+="  System Code = "+Ie.systemCode,He)})}else O.error("No session token found for key error");break;case R.keyadded:(He=me(S,Ie.sessionId))||(He=me(N,Ie.sessionId)),He?(O.debug("DRM: Key added."),v.trigger(A.KEY_ADDED,{data:He})):O.debug("No session token found for key added");break;case R.keymessage:if((B=null!=Ie.sessionId)?!(He=me(S,Ie.sessionId))&&N.length>0&&(He=N.shift(),S.push(He),He.sessionId=Ie.sessionId,v.trigger(A.KEY_SESSION_CREATED,{data:He})):N.length>0&&(He=N.shift(),S.push(He),0!==N.length&&j.error(new I.default(D.default.MEDIA_KEY_MESSAGE_ERROR_CODE,D.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),He){var Te=ArrayBuffer.isView(Ie.message)?Ie.message.buffer:Ie.message;He.keyMessage=Te,v.trigger(A.INTERNAL_KEY_MESSAGE,{data:new E.default(He,Te,Ie.defaultURL)})}else O.warn("No session token found for key message")}}}}()}(),k}p.__dashjs_factory_name="ProtectionModel_01b",C.default=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),y=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),I=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),E=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),p={};function f(g){var j,k,O,x,P,T,N,S,v=this.context,A=(g=g||{}).eventBus,U=g.events,R=g.debug;function ae(Je,Ne,Te,W){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var se="Insecure origins are not allowed";return A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:se}),void W({error:se})}var Q=Je[Ne].ks,Z=Q.systemString;(function K(Je,Ne){return new Promise(function(Te,W){pe(Je,Ne,0,Te,W)})})((Je[Ne].protData&&Je[Ne].protData.systemStringPriority?Je[Ne].protData.systemStringPriority:null)||(p[Z]?p[Z]:[Z]),Je[Ne].configs).then(function(ne){var ee="function"==typeof ne.getConfiguration?ne.getConfiguration():null,X=new L.default(Q,ee);X.mksa=ne,A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{data:X}),Te({data:X})}).catch(function(ne){if(Ne+1<Je.length)ae(Je,Ne+1,Te,W);else{var ee="Key system access denied! ";A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:ee+ne.message}),W({error:ee+ne.message})}})}function pe(Je,Ne,Te,W,se){var ge=Je[Te];k.debug("Requesting key system access for system string ".concat(ge)),navigator.requestMediaKeySystemAccess(ge,Ne).then(function(J){J.selectedSystemString=ge,W(J)}).catch(function(J){Te+1<Je.length?pe(Je,Ne,Te+1,W,se):se(J)})}function Ue(Je){var Ne=Je.session;return Ne.removeEventListener("keystatuseschange",Je),Ne.removeEventListener("message",Je),Ne.close()}function Ie(Je){for(var Ne=0;Ne<T.length;Ne++)if(T[Ne]===Je){T.splice(Ne,1);break}}function He(Je){var Ne,Te;return Je&&Je.length>0&&(Je[0]&&("string"==typeof Je[0]?Ne=Je[0]:Te=Je[0]),Je[1]&&("string"==typeof Je[1]?Ne=Je[1]:Te=Je[1])),{status:Ne,keyId:Te}}function ot(Je,Ne){var Te={session:Je,keyId:Ne.keyId,initData:Ne.initData,sessionId:Ne.sessionId,sessionType:Ne.sessionType,handleEvent:function(se){switch(se.type){case"keystatuseschange":A.trigger(U.KEY_STATUSES_CHANGED,{data:this}),se.target.keyStatuses.forEach(function(){var J=He(arguments);A.trigger(U.INTERNAL_KEY_STATUS_CHANGED,"expired"===J.status?{error:new E.default(I.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,I.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:J)});break;case"message":var ge=ArrayBuffer.isView(se.message)?se.message.buffer:se.message;A.trigger(U.INTERNAL_KEY_MESSAGE,{data:new F.default(this,ge,void 0,se.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Je.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Je.expiration},getKeyStatuses:function(){return Je.keyStatuses},getUsable:function(){var se=!1;return Je.keyStatuses.forEach(function(){"usable"===He(arguments).status&&(se=!0)}),se}};return Je.addEventListener("keystatuseschange",Te),Je.addEventListener("message",Te),Je.closed.then(function(){Ie(Te),k.debug("DRM: Session closed.  SessionID = "+Te.getSessionId()),A.trigger(U.KEY_SESSION_CLOSED,{data:Te.getSessionId()})}),T.push(Te),Te}return j={getAllInitData:function le(){for(var Je=[],Ne=0;Ne<T.length;Ne++)T[Ne].initData&&Je.push(T[Ne].initData);return Je},getSessions:function Fe(){return T},requestKeySystemAccess:function $(Je){return new Promise(function(Ne,Te){ae(Je,0,Ne,Te)})},selectKeySystem:function oe(Je){return new Promise(function(Ne,Te){Je.mksa.createMediaKeys().then(function(W){return O=Je.keySystem,P=W,x?x.setMediaKeys(P):Promise.resolve()}).then(function(){Ne(O)}).catch(function(){Te({error:"Error selecting keys system ("+Je.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function he(Je){x!==Je&&(x&&(x.removeEventListener("encrypted",N),x.setMediaKeys&&x.setMediaKeys(null)),(x=Je)&&(x.addEventListener("encrypted",N),x.setMediaKeys&&P&&x.setMediaKeys(P)))},setServerCertificate:function Se(Je){if(!O||!P)throw new Error("Can not set server certificate until you have selected a key system");P.setServerCertificate(Je).then(function(){k.info("DRM: License server certificate successfully updated."),A.trigger(U.SERVER_CERTIFICATE_UPDATED)}).catch(function(Ne){A.trigger(U.SERVER_CERTIFICATE_UPDATED,{error:new E.default(I.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,I.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Ne.name)})})},createKeySession:function Le(Je){if(!O||!P)throw new Error("Can not create sessions until you have selected a key system");var Ne=P.createSession(Je.sessionType),Te=ot(Ne,Je);Ne.generateRequest(O.systemString===D.default.CLEARKEY_KEYSTEM_STRING&&(Je.initData||Je.protData&&Je.protData.clearkeys)?D.default.INITIALIZATION_DATA_TYPE_KEYIDS:D.default.INITIALIZATION_DATA_TYPE_CENC,Je.initData).then(function(){k.debug("DRM: Session created.  SessionID = "+Te.getSessionId()),A.trigger(U.KEY_SESSION_CREATED,{data:Te})}).catch(function(se){Ie(Te),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+se.name)})})},updateKeySession:function fe(Je,Ne){var Te=Je.session;S.isClearKey(O)&&(Ne=Ne.toJWK()),Te.update(Ne).then(function(){A.trigger(U.KEY_SESSION_UPDATED)}).catch(function(W){A.trigger(U.KEY_ERROR,{error:new E.default(I.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+W.name,Je)})})},loadKeySession:function Re(Je){if(!O||!P)throw new Error("Can not load sessions until you have selected a key system");for(var Ne=Je.sessionId,Te=0;Te<T.length;Te++)if(Ne===T[Te].sessionId)return void k.warn("DRM: Ignoring session ID because we have already seen it!");var W=P.createSession(Je.sessionType),se=ot(W,Je);W.load(Ne).then(function(ge){ge?(k.debug("DRM: Session loaded.  SessionID = "+se.getSessionId()),A.trigger(U.KEY_SESSION_CREATED,{data:se})):(Ie(se),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Ne+")")}))}).catch(function(ge){Ie(se),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Ne+")! "+ge.name)})})},removeKeySession:function Me(Je){Je.session.remove().then(function(){k.debug("DRM: Session removed.  SessionID = "+Je.getSessionId()),A.trigger(U.KEY_SESSION_REMOVED,{data:Je.getSessionId()})},function(Te){A.trigger(U.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Je.getSessionId()+"). "+Te.name})})},closeKeySession:function me(Je){Ue(Je).catch(function(Ne){Ie(Je),A.trigger(U.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Je.getSessionId()+") "+Ne.name})})},stop:function q(){for(var Je,Ne=0;Ne<T.length;Ne++)(Je=T[Ne]).getUsable()||Ue(Je).catch(function(){Ie(Je)})},reset:function Y(){var Ne,Je=T.length;0!==Je?function(){for(var Te=function(ge){Ie(ge),0===T.length&&(x?(x.removeEventListener("encrypted",N),x.setMediaKeys(null).then(function(){A.trigger(U.TEARDOWN_COMPLETE)})):A.trigger(U.TEARDOWN_COMPLETE))},W=0;W<Je;W++)!function(se){Ne.session.closed.then(function(){Te(se)}),Ue(Ne).catch(function(){Te(se)})}(Ne=T[W])}():A.trigger(U.TEARDOWN_COMPLETE)}},function B(){k=R.getLogger(j),O=null,x=null,P=null,T=[],S=Object(t.default)(v).getInstance(),N=function ke(){return{handleEvent:function(Ne){if("encrypted"===Ne.type&&Ne.initData){var Te=ArrayBuffer.isView(Ne.initData)?Ne.initData.buffer:Ne.initData;A.trigger(U.NEED_KEY,{key:new y.default(Te,Ne.initDataType)})}}}}()}(),j}p[D.default.PLAYREADY_KEYSTEM_STRING]=[D.default.PLAYREADY_KEYSTEM_STRING,D.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],p[D.default.WIDEVINE_KEYSTEM_STRING]=[D.default.WIDEVINE_KEYSTEM_STRING],p[D.default.CLEARKEY_KEYSTEM_STRING]=[D.default.CLEARKEY_KEYSTEM_STRING],f.__dashjs_factory_name="ProtectionModel_21Jan2015",C.default=dashjs.FactoryMaker.getClassFactory(f)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),y=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),I=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),D=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function p(f){var j,k,O,x,P,T,N,S,B,g=this.context,v=(f=f||{}).eventBus,A=f.events,U=f.debug,R=f.api;function q(){try{for(var Ue=0;Ue<N.length;Ue++)he(N[Ue]);O&&O.removeEventListener(R.needkey,S),v.trigger(A.TEARDOWN_COMPLETE)}catch(ke){v.trigger(A.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+ke.message})}}function he(Ue){var ke=Ue.session;ke.removeEventListener(R.error,Ue),ke.removeEventListener(R.message,Ue),ke.removeEventListener(R.ready,Ue),ke.removeEventListener(R.close,Ue);for(var Ie=0;Ie<N.length;Ie++)if(N[Ie]===Ue){N.splice(Ie,1);break}ke[R.release]()}function Me(){var Ue=null,ke=function(){O.removeEventListener("loadedmetadata",Ue),O[R.setMediaKeys](P),v.trigger(A.VIDEO_ELEMENT_SELECTED)};O.readyState>=1?ke():(Ue=ke.bind(this),O.addEventListener("loadedmetadata",Ue))}return j={getAllInitData:function le(){for(var Ue=[],ke=0;ke<N.length;ke++)Ue.push(N[ke].initData);return Ue},getSessions:function Fe(){return N},requestKeySystemAccess:function $(Ue){return new Promise(function(ke,Ie){for(var He=!1,ot=0;ot<Ue.length;ot++)for(var Je=Ue[ot].ks.systemString,Ne=Ue[ot].configs,Te=null,W=null,se=0;se<Ne.length;se++){var ge=Ne[se].audioCapabilities,J=Ne[se].videoCapabilities;if(ge&&0!==ge.length){Te=[];for(var Q=0;Q<ge.length;Q++)window[R.MediaKeys].isTypeSupported(Je,ge[Q].contentType)&&Te.push(ge[Q])}if(J&&0!==J.length){W=[];for(var Z=0;Z<J.length;Z++)window[R.MediaKeys].isTypeSupported(Je,J[Z].contentType)&&W.push(J[Z])}if(!(!Te&&!W||Te&&0===Te.length||W&&0===W.length)){He=!0;var te=new L.default(Te,W),ne=B.getKeySystemBySystemString(Je),ee=new D.default(ne,te);v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:ee}),ke({data:ee});break}}if(!He){var X="Key system access denied! -- No valid audio/video content configurations detected!";v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:X}),Ie({error:X})}})},selectKeySystem:function ae(Ue){return new Promise(function(ke,Ie){try{P=Ue.mediaKeys=new window[R.MediaKeys](Ue.keySystem.systemString),x=Ue.keySystem,T=Ue,O&&Me(),ke(x)}catch{Ie({error:"Error selecting keys system ("+x.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function K(Ue){O!==Ue&&(O&&O.removeEventListener(R.needkey,S),(O=Ue)&&(O.addEventListener(R.needkey,S),P&&Me()))},createKeySession:function pe(Ue){if(!x||!P||!T)throw new Error("Can not create sessions until you have selected a key system");var ke=null;if(T.ksConfiguration.videoCapabilities&&T.ksConfiguration.videoCapabilities.length>0&&(ke=T.ksConfiguration.videoCapabilities[0]),null===ke&&T.ksConfiguration.audioCapabilities&&T.ksConfiguration.audioCapabilities.length>0&&(ke=T.ksConfiguration.audioCapabilities[0]),null===ke)throw new Error("Can not create sessions for unknown content types.");var He=P.createSession(ke.contentType,new Uint8Array(Ue.initData),Ue.cdmData?new Uint8Array(Ue.cdmData):null),ot=function me(Ue,ke){return{session:Ue,keyId:ke.keyId,initData:ke.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(He){switch(He.type){case R.error:v.trigger(A.KEY_ERROR,{error:new I.default(E.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case R.message:var Je=ArrayBuffer.isView(He.message)?He.message.buffer:He.message;v.trigger(A.INTERNAL_KEY_MESSAGE,{data:new F.default(this,Je,He.destinationURL)});break;case R.ready:k.debug("DRM: Key added."),v.trigger(A.KEY_ADDED);break;case R.close:k.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),v.trigger(A.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(He,Ue);He.addEventListener(R.error,ot),He.addEventListener(R.message,ot),He.addEventListener(R.ready,ot),He.addEventListener(R.close,ot),N.push(ot),k.debug("DRM: Session created.  SessionID = "+ot.getSessionId()),v.trigger(A.KEY_SESSION_CREATED,{data:ot})},updateKeySession:function oe(Ue,ke){var Ie=Ue.session;B.isClearKey(x)?Ie.update(new Uint8Array(ke.toJWK())):Ie.update(new Uint8Array(ke)),v.trigger(A.KEY_SESSION_UPDATED)},closeKeySession:he,setServerCertificate:function Se(){},loadKeySession:function Le(){},removeKeySession:function fe(){},stop:q,reset:q},function Y(){k=U.getLogger(j),O=null,x=null,P=null,T=null,N=[],B=Object(t.default)(g).getInstance(),S=function Re(){return{handleEvent:function(ke){if(ke.type===R.needkey&&ke.initData){var Ie=ArrayBuffer.isView(ke.initData)?ke.initData.buffer:ke.initData;v.trigger(A.NEED_KEY,{key:new y.default(Ie,"cenc")})}}}}()}(),j}p.__dashjs_factory_name="ProtectionModel_3Feb2014",C.default=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),y=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function I(){return{getServerURLFromMessage:function F(g){return g},getHTTPMethod:function L(){return"POST"},getResponseType:function D(){return"json"},getLicenseMessage:function p(g){if(!g.hasOwnProperty("keys"))return null;for(var v=[],A=0;A<g.keys.length;A++){var U=g.keys[A],R=U.kid.replace(/=/g,""),j=U.k.replace(/=/g,"");v.push(new t.default(R,j))}return new y.default(v)},getErrorResponse:function f(g){return String.fromCharCode.apply(null,new Uint8Array(g))}}}I.__dashjs_factory_name="ClearKey",C.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function y(I){var E=(I=I||{}).BASE64,F={};return F[t.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(R){return E.decodeArray(R.license)},getErrorResponse:function(R){return R}},F[t.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(R){return R},getErrorResponse:function(R){return String.fromCharCode.apply(null,new Uint8Array(R))}},{getServerURLFromMessage:function p(U){return U},getHTTPMethod:function f(){return"POST"},getResponseType:function g(U){return F[U].responseType},getLicenseMessage:function v(U,R){return function D(){if(!E||!E.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),F[R].getLicenseMessage(U)},getErrorResponse:function A(U,R){return F[R].getErrorResponse(U)}}}y.__dashjs_factory_name="DRMToday",C.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(){var I="http://schemas.xmlsoap.org/soap/envelope/";function E(A){var U=String.fromCharCode.apply(null,new Uint8Array(A));return decodeURIComponent(escape(U))}function F(A){if(window.DOMParser){var U=E(A),j=(new window.DOMParser).parseFromString(U,"text/xml"),k=j?j.getElementsByTagNameNS(I,"Envelope")[0]:null,O=k?k.getElementsByTagNameNS(I,"Body")[0]:null;if(O&&O.getElementsByTagNameNS(I,"Fault")[0])return null}return A}function L(A){var U="",R="",j="",k=-1,O=-1;if(window.DOMParser){var x=E(A),T=(new window.DOMParser).parseFromString(x,"text/xml"),N=T?T.getElementsByTagNameNS(I,"Envelope")[0]:null,S=N?N.getElementsByTagNameNS(I,"Body")[0]:null,B=S?S.getElementsByTagNameNS(I,"Fault")[0]:null,Y=B?B.getElementsByTagName("detail")[0]:null,q=Y?Y.getElementsByTagName("Exception")[0]:null,le=null;if(null===B)return x;U=(le=B.getElementsByTagName("faultstring")[0].firstChild)?le.nodeValue:null,null!==q&&(R=(le=q.getElementsByTagName("StatusCode")[0])?le.firstChild.nodeValue:null,k=(j=(le=q.getElementsByTagName("Message")[0])?le.firstChild.nodeValue:null)?j.lastIndexOf("[")+1:-1,O=j?j.indexOf("]"):-1,j=j?j.substring(k,O):"")}var Fe="code: ".concat(R,", name: ").concat(U);return j&&(Fe+=", message: ".concat(j)),Fe}return{getServerURLFromMessage:function D(A){return A},getHTTPMethod:function p(){return"POST"},getResponseType:function f(){return"arraybuffer"},getLicenseMessage:function g(A){return F.call(this,A)},getErrorResponse:function v(A){return L.call(this,A)}}}c.r(C),t.__dashjs_factory_name="PlayReady",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(){return{getServerURLFromMessage:function I(p){return p},getHTTPMethod:function E(){return"POST"},getResponseType:function F(){return"arraybuffer"},getLicenseMessage:function L(p){return p},getErrorResponse:function D(p){return String.fromCharCode.apply(null,new Uint8Array(p))}}}c.r(C),t.__dashjs_factory_name="Widevine",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function I(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=function(){function p(f,g){if(function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p),g&&"persistent"!==g&&"temporary"!==g)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=f,this.type=g}return function E(p,f,g){return f&&I(p.prototype,f),g&&I(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"toJWK",value:function(){var g,v=this.keyPairs.length,A={keys:[]};for(g=0;g<v;g++)A.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[g].keyID,k:this.keyPairs[g].key});this.type&&(A.type=this.type);var R=JSON.stringify(A),j=R.length,k=new ArrayBuffer(j),O=new Uint8Array(k);for(g=0;g<j;g++)O[g]=R.charCodeAt(g);return k}}]),p}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(f,g,v,A){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.sessionToken=f,this.message=g,this.defaultURL=v,this.messageType=A||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.keyID=f,this.key=g})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.keySystem=f,this.ksConfiguration=g})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(f,g,v,A,U){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.initDataTypes=["cenc"],f&&f.length&&(this.audioCapabilities=f),g&&g.length&&(this.videoCapabilities=g),this.distinctiveIdentifier=v,this.persistentState=A,this.sessionTypes=U})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(f,g,v,A,U,R,j,k){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=f,this.method=g,this.responseType=v,this.headers=A,this.withCredentials=U,this.messageType=R,this.sessionId=j,this.data=k})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(f,g,v){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=f,this.headers=g,this.data=v})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.contentType=f,this.robustness=g})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.initData=f,this.initDataType=g})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var E={},F={},L={};return{push:function D(v,A,U){if(A){E[v]||(E[v]=[],F[v]=0,L[v]=0);var R=U&&U.droppedVideoFrames?U.droppedVideoFrames:0,j=U&&U.totalVideoFrames?U.totalVideoFrames:0,k=R-F[v];F[v]=R;var O=j-L[v];L[v]=j;var x=E[v];isNaN(A)||(x[A]?(x[A].droppedVideoFrames+=k,x[A].totalVideoFrames+=O):x[A]={droppedVideoFrames:k,totalVideoFrames:O})}},getFrameHistory:function p(v){return E[v]},clearForStream:function f(v){try{delete E[v],delete F[v],delete L[v]}catch{}},reset:function g(){E={},F={},L={}}}}y.__dashjs_factory_name="DroppedFramesHistory";var I=t.default.getClassFactory(y);C.default=I},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(I){var F=(I=I||{}).abrController,L=I.switchHistory,D=I.droppedFramesHistory,p=I.currentRequest,f=I.useBufferOccupancyABR,g=I.useL2AABR,v=I.useLoLPABR,A=I.streamProcessor?I.streamProcessor.getScheduleController():null,U=I.streamProcessor?I.streamProcessor.getRepresentationInfo():null,R=I.videoModel?I.videoModel:null;function O(){return U?U.mediaInfo:null}return{getMediaType:function j(){var $=O();return $?$.type:null},getMediaInfo:O,getDroppedFramesHistory:function B(){return D},getCurrentRequest:function Y(){return p},getSwitchHistory:function N(){return L},getStreamInfo:function k(){var $=O();return $?$.streamInfo:null},getScheduleController:function P(){return A},getAbrController:function T(){return F},getRepresentationInfo:function x(){return U},useBufferOccupancyABR:function q(){return f},useL2AABR:function le(){return g},useLoLPABR:function Fe(){return v},getVideoModel:function S(){return R}}}y.__dashjs_factory_name="RulesContext",C.default=t.default.getClassFactory(y)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I={DEFAULT:.5,STRONG:1,WEAK:0};function E(L,D,p){return{quality:void 0===L?-1:L,reason:void 0===D?null:D,priority:function U(R){var j=I.DEFAULT;return(R===I.DEFAULT||R===I.STRONG||R===I.WEAK)&&(j=R),j}(p)}}E.__dashjs_factory_name="SwitchRequest";var F=t.default.getClassFactory(E);F.NO_CHANGE=-1,F.PRIORITY=I,t.default.updateClassFactory(E.__dashjs_factory_name,F),C.default=F},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function E(){var L=[],D=[];return{push:function p(v){v.newValue===y.default.NO_CHANGE&&(v.newValue=v.oldValue),L[v.oldValue]||(L[v.oldValue]={noDrops:0,drops:0,dropSize:0});var A=v.newValue-v.oldValue,U=A<0?1:0,R=U?-A:0,j=U?0:1;if(L[v.oldValue].drops+=U,L[v.oldValue].dropSize+=R,L[v.oldValue].noDrops+=j,D.push({idx:v.oldValue,noDrop:j,drop:U,dropSize:R}),D.length>8){var k=D.shift();L[k.idx].drops-=k.drop,L[k.idx].dropSize-=k.dropSize,L[k.idx].noDrops-=k.noDrop}},getSwitchRequests:function f(){return L},reset:function g(){L=[],D=[]}}}E.__dashjs_factory_name="SwitchRequestHistory";var F=t.default.getClassFactory(E);C.default=F},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(E){var k,O,x,P,T,L=3,D=4,p=4,f=1.3,g=1.3,j=(E=E||{}).settings;function Y(fe,Re,Me,me){var Ue=Math.pow(.5,Me/me.fast);fe.fastEstimate=(1-Ue)*Re+Ue*fe.fastEstimate;var ke=Math.pow(.5,Me/me.slow);fe.slowEstimate=(1-ke)*Re+ke*fe.slowEstimate,fe.totalWeight+=Me}function le(fe,Re,Me){return j.get().streaming.abr.movingAverageMethod!==t.default.MOVING_AVERAGE_SLIDING_WINDOW?function $(fe,Re){var Me=fe?T.throughputHalfLife:T.latencyHalfLife,me=fe?x[Re]:P[Re];if(!me||me.totalWeight<=0)return NaN;var Ue=me.fastEstimate/(1-Math.pow(.5,me.totalWeight/Me.fast)),ke=me.slowEstimate/(1-Math.pow(.5,me.totalWeight/Me.slow));return fe?Math.min(Ue,ke):Math.max(Ue,ke)}(fe,Re):function Fe(fe,Re,Me){var me=function q(fe,Re,Me){var me,Ue;if(fe?(me=k[Re],Ue=Me?L:D):(me=O[Re],Ue=p),me){if(Ue>=me.length)Ue=me.length;else if(fe)for(var ke=1;ke<Ue;++ke){var Ie=me[me.length-ke]/me[me.length-ke-1];if((Ie>=g||Ie<=1/f)&&(Ue+=1)===me.length)break}}else Ue=0;return Ue}(fe,Re,Me),ke=(fe?k:O)[Re];return 0!==me&&ke&&0!==ke.length?(ke=ke.slice(-me)).reduce(function(Ie,He){return Ie+He})/ke.length:NaN}(fe,Re,Me)}function ae(fe,Re){return le(!0,fe,Re)}function oe(fe){k[fe]=k[fe]||[],O[fe]=O[fe]||[],x[fe]=x[fe]||{fastEstimate:0,slowEstimate:0,totalWeight:0},P[fe]=P[fe]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Se(){k={},O={},x={},P={}}var Le={push:function B(fe,Re,Me){if(Re.trace&&Re.trace.length){var Ie,me=Re.tresponse.getTime()-Re.trequest.getTime()||1,Ue=Re._tfinish.getTime()-Re.tresponse.getTime()||1,ke=Re.trace.reduce(function(ot,Je){return ot+Je.b[0]},0),He=0;if(0!==(Ie=Re._fileLoaderType&&Re._fileLoaderType===t.default.FILE_LOADER_TYPES.FETCH?Re.trace.reduce(function(ot,Je){return ot+Je.d},0):Me?Ue:me+Ue)&&(He=Math.round(8*ke/Ie)),oe(fe),function S(fe,Re,Me){return fe===t.default.VIDEO?Me<j.get().streaming.cacheLoadThresholds[t.default.VIDEO]:fe===t.default.AUDIO?Me<j.get().streaming.cacheLoadThresholds[t.default.AUDIO]:void 0}(fe,0,Ue)){if(k[fe].length>0&&!k[fe].hasCachedEntries)return;k[fe].hasCachedEntries=!0}else k[fe]&&k[fe].hasCachedEntries&&function he(fe){delete k[fe],delete O[fe],delete x[fe],delete P[fe],oe(fe)}(fe);k[fe].push(He),k[fe].length>20&&k[fe].shift(),O[fe].push(me),O[fe].length>20&&O[fe].shift(),Y(x[fe],He,.001*Ue,T.throughputHalfLife),Y(P[fe],me,1,T.latencyHalfLife)}},getAverageThroughput:ae,getSafeAverageThroughput:function K(fe,Re){var Me=ae(fe,Re);return isNaN(Me)||(Me*=j.get().streaming.abr.bandwidthSafetyFactor),Me},getAverageLatency:function pe(fe){return le(!1,fe)},reset:Se};return function N(){T={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},Se()}(),Le}I.__dashjs_factory_name="ThroughputHistory",C.default=y.default.getClassFactory(I)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),y=c(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),I=c(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),E=c(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),F=c(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),L=c(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),D=c(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),p=c(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),f=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),A="qualitySwitchRules",U="abandonFragmentRules";function R(k){var B,Y,O=this.context,x=(k=k||{}).mediaPlayerModel,P=k.customParametersModel,T=k.dashMetrics,N=k.settings;function le(oe){return oe.filter(function(he){return he.quality>g.default.NO_CHANGE})}function Fe(oe){var Le,fe,Re,Me,me,he={},Se=null;if(0!==oe.length){for(he[g.default.PRIORITY.STRONG]={quality:g.default.NO_CHANGE,reason:null},he[g.default.PRIORITY.WEAK]={quality:g.default.NO_CHANGE,reason:null},he[g.default.PRIORITY.DEFAULT]={quality:g.default.NO_CHANGE,reason:null},Le=0,fe=oe.length;Le<fe;Le+=1)(Re=oe[Le]).quality!==g.default.NO_CHANGE&&(he[Re.priority].quality===g.default.NO_CHANGE||he[Re.priority].quality>Re.quality)&&(he[Re.priority].quality=Re.quality,he[Re.priority].reason=Re.reason||null);return he[g.default.PRIORITY.WEAK].quality!==g.default.NO_CHANGE&&(Se=he[g.default.PRIORITY.WEAK]),he[g.default.PRIORITY.DEFAULT].quality!==g.default.NO_CHANGE&&(Se=he[g.default.PRIORITY.DEFAULT]),he[g.default.PRIORITY.STRONG].quality!==g.default.NO_CHANGE&&(Se=he[g.default.PRIORITY.STRONG]),Se&&(Me=Se.quality,me=Se.reason),Object(g.default)(O).create(Me,me)}}return{initialize:function q(){B=[],Y=[],N.get().streaming.abr.useDefaultABRRules&&(N.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_L2A?B.push(Object(D.default)(O).create({dashMetrics:T,settings:N})):N.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_LoLP?B.push(Object(p.default)(O).create({dashMetrics:T})):(B.push(Object(L.default)(O).create({dashMetrics:T,mediaPlayerModel:x,settings:N})),B.push(Object(t.default)(O).create({dashMetrics:T})),N.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(y.default)(O).create({dashMetrics:T,settings:N})),N.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(F.default)(O).create()),N.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(E.default)(O).create()),N.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Y.push(Object(I.default)(O).create({dashMetrics:T,mediaPlayerModel:x,settings:N})))),P.getAbrCustomRules().forEach(function(he){he.type===A&&B.push(he.rule(O).create()),he.type===U&&Y.push(he.rule(O).create())})},reset:function K(){[B,Y].forEach(function(oe){oe&&oe.length&&oe.forEach(function(he){return he.reset&&he.reset()})}),B=[],Y=[]},getMaxQuality:function $(oe){return Fe(le(B.map(function(fe){return fe.getMaxIndex(oe)})))||Object(g.default)(O).create()},getMinSwitchRequest:Fe,shouldAbandonFragment:function ae(oe,he){return Fe(le(Y.map(function(Re){return Re.shouldAbandon(oe,he)})))||Object(g.default)(O).create()},getQualitySwitchRules:function pe(){return B}}}R.__dashjs_factory_name="ABRRulesCollection";var j=f.default.getClassFactory(R);j.QUALITY_SWITCH_RULES=A,j.ABANDON_FRAGMENT_RULES=U,f.default.updateSingletonFactory(R.__dashjs_factory_name,j),C.default=j},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function E(F){var U,R,j,k,O,f=this.context,g=(F=F||{}).mediaPlayerModel,v=F.dashMetrics,A=F.settings;function S(){j={},k={},O=[]}return U={shouldAbandon:function N(B){var Y=Object(t.default)(f).create(t.default.NO_CHANGE,{name:E.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return Y;var q=B.getMediaInfo(),le=B.getMediaType(),Fe=B.getStreamInfo(),$=Fe?Fe.id:null,ae=B.getCurrentRequest();if(!isNaN(ae.index)){!function P(B,Y){j[B]=j[B]||{},j[B][Y]=j[B][Y]||{}}(le,ae.index);var K=g.getStableBufferTime();if(v.getCurrentBufferLevel(le)>K)return Y;var oe=j[le][ae.index];if(null===oe||null===ae.firstByteDate||k.hasOwnProperty(oe.id))return Y;if(void 0===oe.firstByteTime&&(O[le]=[],oe.firstByteTime=ae.firstByteDate.getTime(),oe.segmentDuration=ae.duration,oe.bytesTotal=ae.bytesTotal,oe.id=ae.index),oe.bytesLoaded=ae.bytesLoaded,oe.elapsedTime=(new Date).getTime()-oe.firstByteTime,oe.bytesLoaded>0&&oe.elapsedTime>0&&function T(B,Y){O[B]=O[B]||[],O[B].push(Y)}(le,Math.round(8*oe.bytesLoaded/oe.elapsedTime)),O[le].length>=5&&oe.elapsedTime>500&&oe.bytesLoaded<oe.bytesTotal){var he=O[le].reduce(function(ke,Ie){return ke+Ie},0);if(oe.measuredBandwidthInKbps=Math.round(he/O[le].length),oe.estimatedTimeOfDownload=+(8*oe.bytesTotal/oe.measuredBandwidthInKbps/1e3).toFixed(2),oe.estimatedTimeOfDownload<1.8*oe.segmentDuration||0===B.getRepresentationInfo().quality)return Y;if(!k.hasOwnProperty(oe.id)){var Se=B.getAbrController(),Le=oe.bytesTotal-oe.bytesLoaded,fe=Se.getBitrateList(q),Re=Se.getQualityForBitrate(q,oe.measuredBandwidthInKbps*A.get().streaming.abr.bandwidthSafetyFactor,$),Me=Se.getMinAllowedIndexFor(le,$),me=void 0!==Me?Math.max(Me,Re):Re;Le>oe.bytesTotal*fe[me].bitrate/fe[Se.getQualityFor(le,$)].bitrate&&(Y.quality=me,Y.reason.throughput=oe.measuredBandwidthInKbps,Y.reason.fragmentID=oe.id,k[oe.id]=oe,R.debug("["+le+"] frag id",oe.id," is asking to abandon and switch to quality to ",me," measured bandwidth was",oe.measuredBandwidthInKbps),delete j[le][oe.id])}}else oe.bytesLoaded===oe.bytesTotal&&delete j[le][oe.id]}return Y},reset:S},function x(){R=Object(I.default)(f).getInstance().getLogger(U),S()}(),U}E.__dashjs_factory_name="AbandonRequestsRule",C.default=y.default.getClassFactory(E)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),y=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),U=10;function k(O){var S,B,Y,x=this.context,P=(O=O||{}).dashMetrics,T=O.mediaPlayerModel,N=Object(F.default)(x).getInstance();function Fe(Ne,Te,W){var se=W.reduce(function(Z,te,ne){return te>W[Z]?ne:Z},0);if(0===se)return null;var ge=Math.max(Ne,U+2*Te.length),J=(W[se]-1)/(ge/U-1);return{gp:J,Vp:U/J}}function $(Ne){var Te={},se=Ne.getMediaInfo().bitrateList.map(function(Z){return Z.bandwidth}),ge=function le(Ne){return Ne.map(function(Te){return Math.log(Te)})}(se);ge=ge.map(function(Z){return Z-ge[0]+1});var J=T.getStableBufferTime(),Q=Fe(J,se,ge);return Q?(Te.state=1,Te.bitrates=se,Te.utilities=ge,Te.stableBufferTime=J,Te.Vp=Q.Vp,Te.gp=Q.gp,Te.lastQuality=0,ae(Te)):Te.state=0,Te}function ae(Ne){Ne.placeholderBuffer=0,Ne.mostAdvancedSegmentStart=NaN,Ne.lastSegmentWasReplacement=!1,Ne.lastSegmentStart=NaN,Ne.lastSegmentDurationS=NaN,Ne.lastSegmentRequestTimeMs=NaN,Ne.lastSegmentFinishTimeMs=NaN}function K(Ne,Te){var W=T.getStableBufferTime();if(Ne.stableBufferTime!==W){var se=Fe(W,Ne.bitrates,Ne.utilities);if(se.Vp!==Ne.Vp||se.gp!==Ne.gp){var ge=P.getCurrentBufferLevel(Te),J=ge+Ne.placeholderBuffer;J-=U,J*=se.Vp/Ne.Vp,J+=U,Ne.stableBufferTime=W,Ne.Vp=se.Vp,Ne.gp=se.gp,Ne.placeholderBuffer=Math.max(0,J-ge)}}}function he(Ne,Te){return Ne.Vp*(Ne.utilities[Te]+Ne.gp)}function Se(Ne,Te){for(var W=Ne.bitrates[Te],se=Ne.utilities[Te],ge=0,J=Te-1;J>=0;--J)if(Ne.utilities[J]<Ne.utilities[Te]){var Q=Ne.bitrates[J];ge=Math.max(ge,Ne.Vp*(Ne.gp+(W*Ne.utilities[J]-Q*se)/(W-Q)))}return ge}function fe(Ne){var W=Ne.mediaType===f.default.AUDIO?[f.default.AUDIO]:Y;for(var se in W)Y.hasOwnProperty(se)&&2===Y[se].state&&(Y[se].placeholderBuffer=0)}function Re(){for(var Ne in Y)if(Y.hasOwnProperty(Ne)){var Te=Y[Ne];0!==Te.state&&(Te.state=1,ae(Te))}}function Me(Ne){if(Ne&&Ne.chunk&&Ne.chunk.mediaInfo){var Te=Y[Ne.chunk.mediaInfo.type];if(Te&&0!==Te.state){var W=Ne.chunk.start;isNaN(Te.mostAdvancedSegmentStart)||W>Te.mostAdvancedSegmentStart?(Te.mostAdvancedSegmentStart=W,Te.lastSegmentWasReplacement=!1):Te.lastSegmentWasReplacement=!0,Te.lastSegmentStart=W,Te.lastSegmentDurationS=Ne.chunk.duration,Te.lastQuality=Ne.chunk.quality,Ue(Te,Ne.chunk.mediaInfo.type)}}}function me(Ne){if(Ne&&Ne.metric===t.default.HTTP_REQUEST&&Ne.value&&Ne.value.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&Ne.value.trace&&Ne.value.trace.length){var Te=Y[Ne.mediaType];Te&&0!==Te.state&&(Te.lastSegmentRequestTimeMs=Ne.value.trequest.getTime(),Te.lastSegmentFinishTimeMs=Ne.value._tfinish.getTime(),Ue(Te,Ne.mediaType))}}function Ue(Ne,Te){if(!isNaN(Ne.lastSegmentStart)&&!isNaN(Ne.lastSegmentRequestTimeMs)&&!isNaN(Ne.placeholderBuffer)){if(Ne.placeholderBuffer*=.99,!isNaN(Ne.lastSegmentFinishTimeMs)){var se=P.getCurrentBufferLevel(Te)+.001*(Ne.lastSegmentFinishTimeMs-Ne.lastSegmentRequestTimeMs),ge=he(Ne,Ne.lastQuality),J=Math.max(0,ge-se);Ne.placeholderBuffer=Math.min(J,Ne.placeholderBuffer)}Ne.lastSegmentWasReplacement&&!isNaN(Ne.lastSegmentDurationS)&&(Ne.placeholderBuffer+=Ne.lastSegmentDurationS),Ne.lastSegmentStart=NaN,Ne.lastSegmentRequestTimeMs=NaN}}function ke(Ne){if(Ne){var Te=Y[Ne.mediaType];Te&&0!==Te.state&&(Te.abrQuality=Ne.newQuality)}}function Ie(Ne){if(Ne){var Te=Y[Ne.mediaType];if(Te&&0!==Te.state){var se,W=P.getCurrentBufferLevel(Ne.mediaType);se=Te.abrQuality>0?Se(Te,Te.abrQuality):U;var ge=Math.max(0,se-W);Te.placeholderBuffer=Math.min(Te.placeholderBuffer,ge)}}}function ot(){Y={}}return S={getMaxIndex:function He(Ne){var Te=Object(y.default)(x).create();if(!(Ne&&Ne.hasOwnProperty("getMediaInfo")&&Ne.hasOwnProperty("getMediaType")&&Ne.hasOwnProperty("getScheduleController")&&Ne.hasOwnProperty("getStreamInfo")&&Ne.hasOwnProperty("getAbrController")&&Ne.hasOwnProperty("useBufferOccupancyABR")))return Te;var W=Ne.getMediaInfo(),se=Ne.getMediaType(),ge=Ne.getScheduleController(),J=Ne.getStreamInfo(),Q=Ne.getAbrController(),Z=Q.getThroughputHistory(),te=J?J.id:null,ne=J&&J.manifestInfo&&J.manifestInfo.isDynamic,ee=Ne.useBufferOccupancyABR();if(Te.reason=Te.reason||{},!ee)return Te;ge.setTimeToLoadDelay(0);var X=function pe(Ne){var Te=Ne.getMediaType(),W=Y[Te];return W?0!==W.state&&K(W,Te):(W=$(Ne),Y[Te]=W),W}(Ne);if(0===X.state)return Te;var Ke,ue=P.getCurrentBufferLevel(se),_e=Z.getAverageThroughput(se,ne),de=Z.getSafeAverageThroughput(se,ne),xe=Z.getAverageLatency(se);if(Te.reason.state=X.state,Te.reason.throughput=_e,Te.reason.latency=xe,isNaN(_e))return Te;switch(X.state){case 1:Ke=Q.getQualityForBitrate(W,de,te,xe),Te.quality=Ke,Te.reason.throughput=de,X.placeholderBuffer=Math.max(0,Se(X,Ke)-ue),X.lastQuality=Ke,!isNaN(X.lastSegmentDurationS)&&ue>=X.lastSegmentDurationS&&(X.state=2);break;case 2:(function Le(Ne,Te){var W=Date.now();isNaN(Ne.lastSegmentFinishTimeMs)?isNaN(Ne.lastCallTimeMs)||(Ne.placeholderBuffer+=Math.max(0,.001*(W-Ne.lastCallTimeMs))):Ne.placeholderBuffer+=Math.max(0,.001*(W-Ne.lastSegmentFinishTimeMs)),Ne.lastCallTimeMs=W,Ne.lastSegmentStart=NaN,Ne.lastSegmentRequestTimeMs=NaN,Ne.lastSegmentFinishTimeMs=NaN,K(Ne,Te)})(X,se),Ke=function oe(Ne,Te){for(var W=Ne.bitrates.length,se=NaN,ge=NaN,J=0;J<W;++J){var Q=(Ne.Vp*(Ne.utilities[J]+Ne.gp)-Te)/Ne.bitrates[J];(isNaN(ge)||Q>=ge)&&(ge=Q,se=J)}return se}(X,ue+X.placeholderBuffer);var Ve=Q.getQualityForBitrate(W,de,te,xe);Ke>X.lastQuality&&Ke>Ve&&(Ke=Math.max(Ve,X.lastQuality));var st=Math.max(0,ue+X.placeholderBuffer-he(X,Ke));st<=X.placeholderBuffer?(X.placeholderBuffer-=st,st=0):(st-=X.placeholderBuffer,X.placeholderBuffer=0,Ke<Q.getMaxAllowedIndexFor(se,te)?ge.setTimeToLoadDelay(1e3*st):st=0),Te.quality=Ke,Te.reason.throughput=_e,Te.reason.latency=xe,Te.reason.bufferLevel=ue,Te.reason.placeholderBuffer=X.placeholderBuffer,Te.reason.delay=st,X.lastQuality=Ke;break;default:B.debug("BOLA ABR rule invoked in bad state."),Te.quality=Q.getQualityForBitrate(W,de,te,xe),Te.reason.state=X.state,Te.reason.throughput=de,Te.reason.latency=xe,X.state=1,ae(X)}return Te},reset:function Je(){ot(),N.off(p.default.BUFFER_EMPTY,fe,S),N.off(p.default.PLAYBACK_SEEKING,Re,S),N.off(p.default.METRIC_ADDED,me,S),N.off(p.default.QUALITY_CHANGE_REQUESTED,ke,S),N.off(p.default.FRAGMENT_LOADING_ABANDONED,Ie,S),N.off(L.default.MEDIA_FRAGMENT_LOADED,Me,S)}},function q(){B=Object(D.default)(x).getInstance().getLogger(S),ot(),N.on(p.default.BUFFER_EMPTY,fe,S),N.on(p.default.PLAYBACK_SEEKING,Re,S),N.on(p.default.METRIC_ADDED,me,S),N.on(p.default.QUALITY_CHANGE_REQUESTED,ke,S),N.on(p.default.FRAGMENT_LOADING_ABANDONED,Ie,S),N.on(L.default.MEDIA_FRAGMENT_LOADED,Me,S)}(),S}k.__dashjs_factory_name="BolaRule",C.default=I.default.getClassFactory(k)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function E(){var L,D,F=this.context;return L={getMaxIndex:function v(A){var U=Object(y.default)(F).create();if(!A||!A.hasOwnProperty("getDroppedFramesHistory"))return U;var R=A.getDroppedFramesHistory(),j=A.getStreamInfo().id;if(R){var k=R.getFrameHistory(j);if(!k||0===k.length)return U;for(var O=0,x=0,P=y.default.NO_CHANGE,T=1;T<k.length;T++)if(k[T]&&(O=k[T].droppedVideoFrames,(x=k[T].totalVideoFrames)>375&&O/x>.15)){D.debug("index: "+(P=T-1)+" Dropped Frames: "+O+" Total Frames: "+x);break}return Object(y.default)(F).create(P,{droppedFrames:O})}return U}},function g(){D=Object(I.default)(F).getInstance().getLogger(L)}(),L}E.__dashjs_factory_name="DroppedFramesRule",C.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function f(g){g=g||{};var k,O,x,A=2,U=this.context,R=Object(t.default)(U).getInstance(),j=g.dashMetrics;function B(){(x={})[L.default.VIDEO]={ignoreCount:A},x[L.default.AUDIO]={ignoreCount:A}}function Y(){B()}function q(Fe){!isNaN(Fe.startTime)&&(Fe.mediaType===L.default.AUDIO||Fe.mediaType===L.default.VIDEO)&&x[Fe.mediaType].ignoreCount>0&&x[Fe.mediaType].ignoreCount--}return k={getMaxIndex:function N(Fe){var $=Object(F.default)(U).create();if(!Fe||!Fe.hasOwnProperty("getMediaType"))return $;!function T(){if(!j||!j.hasOwnProperty("getCurrentBufferLevel")||!j.hasOwnProperty("getCurrentBufferState"))throw new Error(L.default.MISSING_CONFIG_ERROR)}();var ae=Fe.getMediaType(),K=j.getCurrentBufferState(ae),oe=Fe.getRepresentationInfo().fragmentDuration,he=Fe.getStreamInfo(),Se=he?he.id:null,Le=Fe.getScheduleController(),fe=he&&he.manifestInfo&&he.manifestInfo.isDynamic;if(function S(Fe,$){return!Fe&&x[$].ignoreCount>0}(Le.getPlaybackController().getLowLatencyModeEnabled(),ae)||!oe)return $;if(K&&K.state===D.default.BUFFER_EMPTY)O.debug("["+ae+"] Switch to index 0; buffer is empty."),$.quality=0,$.reason="InsufficientBufferRule: Buffer is empty";else{var me=Fe.getMediaInfo(),Ue=Fe.getAbrController(),ke=Ue.getThroughputHistory(),Ie=j.getCurrentBufferLevel(ae),He=ke.getAverageThroughput(ae,fe),ot=ke.getAverageLatency(ae);$.quality=Ue.getQualityForBitrate(me,He*(Ie/oe)*.5,Se,ot),$.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return $},reset:function le(){B(),R.off(p.default.PLAYBACK_SEEKING,Y,k),R.off(y.default.BYTES_APPENDED_END_FRAGMENT,q,k)}},function P(){O=Object(E.default)(U).getInstance().getLogger(k),B(),R.on(p.default.PLAYBACK_SEEKING,Y,k),R.on(y.default.BYTES_APPENDED_END_FRAGMENT,q,k)}(),k}f.__dashjs_factory_name="InsufficientBufferRule",C.default=I.default.getClassFactory(f)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),y=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function A(U){var O,x,P,T,R=this.context,j=(U=U||{}).dashMetrics,k=Object(F.default)(R).getInstance();function S(fe){var Re={},Me=fe.getMediaInfo(),me=Me.bitrateList.map(function(Ue){return Ue.bandwidth/1e3});return Re.state=1,Re.bitrates=me,Re.lastQuality=0,function B(fe){!fe||!fe.type||(P[fe.type]={},P[fe.type].w=[],P[fe.type].prev_w=[],P[fe.type].Q=0,P[fe.type].segment_request_start_s=0,P[fe.type].segment_download_finish_s=0,P[fe.type].B_target=1.5)}(Me),Y(Re),Re}function Y(fe){fe.placeholderBuffer=0,fe.mostAdvancedSegmentStart=NaN,fe.lastSegmentWasReplacement=!1,fe.lastSegmentStart=NaN,fe.lastSegmentDurationS=NaN,fe.lastSegmentRequestTimeMs=NaN,fe.lastSegmentFinishTimeMs=NaN}function le(){for(var fe in x)if(x.hasOwnProperty(fe)){var Re=x[fe];0!==Re.state&&(Re.state=1,Y(Re))}}function Fe(fe){if(fe&&fe.chunk&&fe.chunk.mediaInfo){var Re=x[fe.chunk.mediaInfo.type],Me=P[fe.chunk.mediaInfo.type];if(Re&&0!==Re.state){var me=fe.chunk.start;isNaN(Re.mostAdvancedSegmentStart)||me>Re.mostAdvancedSegmentStart?(Re.mostAdvancedSegmentStart=me,Re.lastSegmentWasReplacement=!1):Re.lastSegmentWasReplacement=!0,Re.lastSegmentStart=me,Re.lastSegmentDurationS=fe.chunk.duration,Re.lastQuality=fe.chunk.quality,ae(Re,Me)}}}function $(fe){if(fe&&fe.metric===t.default.HTTP_REQUEST&&fe.value&&fe.value.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&fe.value.trace&&fe.value.trace.length){var Re=x[fe.mediaType],Me=P[fe.mediaType];Re&&0!==Re.state&&(Re.lastSegmentRequestTimeMs=fe.value.trequest.getTime(),Re.lastSegmentFinishTimeMs=fe.value._tfinish.getTime(),ae(Re,Me))}}function ae(fe,Re){!isNaN(fe.lastSegmentStart)&&!isNaN(fe.lastSegmentRequestTimeMs)&&(Re.segment_request_start_s=.001*fe.lastSegmentRequestTimeMs,Re.segment_download_finish_s=.001*fe.lastSegmentFinishTimeMs,fe.lastSegmentStart=NaN,fe.lastSegmentRequestTimeMs=NaN)}function K(fe){if(fe&&fe.mediaType){var Re=x[fe.mediaType];Re&&0!==Re.state&&(Re.abrQuality=fe.newQuality)}}function pe(fe,Re){if(fe.length!==Re.length)return-1;for(var Me=0,me=0;me<fe.length;me++)Me+=fe[me]*Re[me];return Me}function Se(){x={},P={}}return O={getMaxIndex:function he(fe){var X,Re=Object(y.default)(R).create(),me=Math.pow(4,.99),Ue=Math.max(Math.pow(4,1),me*Math.sqrt(4)),ke=fe.getMediaInfo(),Ie=fe.getMediaType(),He=ke.bitrateList.map(function(dn){return dn.bandwidth}),ot=He.length,Je=fe.getScheduleController(),Ne=fe.getStreamInfo(),Te=fe.getAbrController(),W=Te.getThroughputHistory(),se=Ne&&Ne.manifestInfo&&Ne.manifestInfo.isDynamic,ge=fe.useL2AABR(),J=j.getCurrentBufferLevel(Ie,!0),Q=W.getSafeAverageThroughput(Ie,se),Z=W.getAverageThroughput(Ie,se),ne=W.getAverageLatency(Ie),ue=fe.getVideoModel().getPlaybackRate();if(!(fe&&fe.hasOwnProperty("getMediaInfo")&&fe.hasOwnProperty("getMediaType")&&fe.hasOwnProperty("getScheduleController")&&fe.hasOwnProperty("getStreamInfo")&&fe.hasOwnProperty("getAbrController")&&fe.hasOwnProperty("useL2AABR")&&(Re.reason=Re.reason||{},ge&&Ie!==p.default.AUDIO)))return Re;Je.setTimeToLoadDelay(0);var _e=function q(fe){var Re=fe.getMediaType(),Me=x[Re];return Me||(Me=S(fe),x[Re]=Me),Me}(fe);if(0===_e.state)return Re;var de=P[Ie];if(!de||(Re.reason.state=_e.state,Re.reason.throughput=Z,Re.reason.latency=ne,isNaN(Z)))return Re;switch(_e.state){case 1:if(X=Te.getQualityForBitrate(ke,Q,Ne.id,ne),Re.quality=X,Re.reason.throughput=Q,_e.lastQuality=X,!isNaN(_e.lastSegmentDurationS)&&J>=de.B_target){_e.state=2,de.Q=me;for(var xe=0;xe<ot;++xe)de.prev_w[xe]=xe===_e.lastQuality?1:0}break;case 2:var Ke=[],Ve=j.getCurrentHttpRequest(Ie).trace.reduce(function(dn,un){return dn+un.d},0),st=j.getCurrentHttpRequest(Ie).trace.reduce(function(dn,un){return dn+un.b[0]},0),ct=Math.round(8*st/Ve);ct<1&&(ct=1);for(var nt=_e.lastSegmentDurationS,yt=1,jt=0;jt<ot;++jt)He[jt]=He[jt]/1e3,ue*He[jt]>ct&&(yt=-1),de.w[jt]=de.prev_w[jt]+yt*(nt/(2*Ue))*((de.Q+me)*(ue*He[jt]/ct));de.w=function oe(fe){for(var Re=fe.length,Me=!1,me=[],Ue=0;Ue<Re;++Ue)me[Ue]=fe[Ue];for(var ke=fe.sort(function(Te,W){return W-Te}),Ie=0,He=0,ot=[],Je=0;Je<Re-1;++Je)if((He=((Ie+=ke[Je])-1)/(Je+1))>=ke[Je+1]){Me=!0;break}Me||(He=(Ie+ke[Re-1]-1)/Re);for(var Ne=0;Ne<Re;++Ne)ot[Ne]=Math.max(me[Ne]-He,0);return ot}(de.w);for(var wt=0;wt<ot;++wt)Ke[wt]=de.w[wt]-de.prev_w[wt],de.prev_w[wt]=de.w[wt];de.Q=Math.max(0,de.Q-nt+nt*ue*((pe(He,de.prev_w)+pe(He,Ke))/ct));for(var Gt=[],nn=0;nn<ot;++nn)Gt[nn]=Math.abs(He[nn]-pe(de.w,He));(X=Gt.indexOf(Math.min.apply(Math,Gt)))>_e.lastQuality&&He[_e.lastQuality+1]<=ct&&(X=_e.lastQuality+1),He[X]>=ct&&(de.Q=2*Math.max(me,de.Q)),Re.quality=X,Re.reason.throughput=Z,Re.reason.latency=ne,Re.reason.bufferLevel=J,_e.lastQuality=Re.quality;break;default:T.debug("L2A ABR rule invoked in bad state."),Re.quality=Te.getQualityForBitrate(ke,Q,Ne.id,ne),Re.reason.state=_e.state,Re.reason.throughput=Q,Re.reason.latency=ne,_e.state=1,Y(_e)}return Re},reset:function Le(){Se(),k.off(L.default.PLAYBACK_SEEKING,le,O),k.off(L.default.MEDIA_FRAGMENT_LOADED,Fe,O),k.off(L.default.METRIC_ADDED,$,O),k.off(L.default.QUALITY_CHANGE_REQUESTED,K,O)}},function N(){T=Object(D.default)(R).getInstance().getLogger(O),Se(),k.on(L.default.PLAYBACK_SEEKING,le,O),k.on(L.default.MEDIA_FRAGMENT_LOADED,Fe,O),k.on(L.default.METRIC_ADDED,$,O),k.on(L.default.QUALITY_CHANGE_REQUESTED,K,O)}(),O}A.__dashjs_factory_name="L2ARule",C.default=I.default.getClassFactory(A)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function E(){var L,D,F=this.context;return L={getMaxIndex:function v(A){for(var U=A?A.getSwitchHistory():null,R=U?U.getSwitchRequests():[],j=0,k=0,O=0,x=Object(I.default)(F).create(),P=0;P<R.length;P++)if(void 0!==R[P]&&(O+=R[P].dropSize,(j+=R[P].drops)+(k+=R[P].noDrops)>=6&&j/k>.075)){x.quality=P>0&&R[P].drops>0?P-1:P,x.reason={index:x.quality,drops:j,noDrops:k,dropSize:O},D.debug("Switch history rule index: "+x.quality+" samples: "+(j+k)+" drops: "+j);break}return x}},function g(){D=Object(y.default)(F).getInstance().getLogger(L)}(),L}E.__dashjs_factory_name="SwitchHistoryRule",C.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function F(L){var D=this.context,p=(L=L||{}).dashMetrics;return{getMaxIndex:function A(R){var j=Object(y.default)(D).create();if(!(R&&R.hasOwnProperty("getMediaInfo")&&R.hasOwnProperty("getMediaType")&&R.hasOwnProperty("useBufferOccupancyABR")&&R.hasOwnProperty("getAbrController")&&R.hasOwnProperty("getScheduleController")))return j;!function v(){if(!p||!p.hasOwnProperty("getCurrentBufferState"))throw new Error(I.default.MISSING_CONFIG_ERROR)}();var k=R.getMediaInfo(),O=R.getMediaType(),x=p.getCurrentBufferState(O),P=R.getScheduleController(),T=R.getAbrController(),N=R.getStreamInfo(),S=N?N.id:null,B=N&&N.manifestInfo?N.manifestInfo.isDynamic:null,Y=T.getThroughputHistory(),q=Y.getSafeAverageThroughput(O,B),le=Y.getAverageLatency(O),Fe=R.useBufferOccupancyABR();return isNaN(q)||!x||Fe||T.getAbandonmentStateFor(S,O)!==E.default.ABANDON_LOAD&&(x.state===E.default.BUFFER_LOADED||B)&&(j.quality=T.getQualityForBitrate(k,q,S,le),P.setTimeToLoadDelay(0),j.reason={throughput:q,latency:le}),j},reset:function U(){}}}F.__dashjs_factory_name="ThroughputRule",C.default=t.default.getClassFactory(F)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),I_MANUAL="manual_weight_selection",I_RANDOM="random_weight_selection",I_DYNAMIC="dynamic_weight_selection";function E(){var L,D,p,f,g,v,A,U,R,F=this.context;function O(){p=null,f=1,g=100,v=0,A=null,U=null,R=I_DYNAMIC}function x(){var he=0;if(p)for(var Se=0;Se<p.length;Se++){var Le=p[Se];Le.state.throughput>he&&(he=Le.state.throughput)}return he}function T(he,Se,Le){var fe=he.map(function(Me,me){return Le[me]*Math.pow(Me-Se[me],2)}).reduce(function(Me,me){return Me+me});return(fe<0?-1:1)*Math.sqrt(Math.abs(fe))}function N(he,Se){return T([he.state.throughput,he.state.latency,he.state.rebuffer,he.state.switch],[Se.state.throughput,Se.state.latency,Se.state.rebuffer,Se.state.switch],[1,1,1,1])}function S(he,Se,Le){for(var fe=0;fe<Se.length;fe++){var Re=Se[fe],me=N(Re,he);B(Re,Le,Math.exp(-1*Math.pow(me,2)/(2*Math.pow(.1,2))))}}function B(he,Se,Le){var fe=he.state,Re=[.01,.01,.01,.01];fe.throughput=fe.throughput+(Se[0]-fe.throughput)*Re[0]*Le,fe.latency=fe.latency+(Se[1]-fe.latency)*Re[1]*Le,fe.rebuffer=fe.rebuffer+(Se[2]-fe.rebuffer)*Re[2]*Le,fe.switch=fe.switch+(Se[3]-fe.switch)*Re[3]*Le}return L={getNextQuality:function q(he,Se,Le,fe,Re,Me,me){var Ue=Le,ke=fe,Ie=Se,He=function K(he){if(!p){p=[];var Se=he.bitrateList,Le=[];v=Se[0].bandwidth,Se.forEach(function(Me){Le.push(Me.bandwidth),Me.bandwidth<v&&(v=Me.bandwidth)}),f=function P(he){var Se=he.map(function(Le){return Math.pow(Le,2)}).reduce(function(Le,fe){return Le+fe});return Math.sqrt(Se)}(Le);for(var fe=0;fe<Se.length;fe++)p.push({qualityIndex:fe,bitrate:Se[fe].bandwidth,state:{throughput:Se[fe].bandwidth/f,latency:0,rebuffer:0,switch:0}});U=function oe(he){var Se=[],Le=function pe(he){for(var Se=[],Le=0;Le<he;Le++){var fe=[Math.random()*x(),Math.random(),Math.random(),Math.random()];Se.push(fe)}return Se}(Math.pow(he.length,2));Se.push(Le[0]);for(var fe=[1,1,1,1],Re=1;Re<he.length;Re++){for(var Me=null,me=null,Ue=0;Ue<Le.length;Ue++){for(var ke=Le[Ue],Ie=null,He=0;He<Se.length;He++){var ot=T(ke,Se[He],fe);(null===Ie||ot<Ie)&&(Ie=ot)}(null===me||Ie>me)&&(Me=ke,me=Ie)}Se.push(Me)}for(var Je=null,Ne=null,Te=0;Te<Se.length;Te++){for(var W=0,se=0;se<Se.length;se++)Te!==se&&(W+=T(Se[Te],Se[se],fe));(null===Je||W>Je)&&(Je=W,Ne=Te)}var ge=[];for(ge.push(Se[Ne]),Se.splice(Ne,1);Se.length>0;){for(var J=null,Q=null,Z=0;Z<Se.length;Z++){var te=T(ge[0],Se[Z],fe);(null===J||te<J)&&(J=te,Q=Z)}ge.push(Se[Q]),Se.splice(Q,1)}return ge}(p)}return p}(he),ot=Se/f;ot>1&&(ot=x()),Le/=g,D.debug("getNextQuality called throughput:".concat(ot," latency:").concat(Le," bufferSize:").concat(fe," currentQualityIndex:").concat(Me," playbackRate:").concat(Re));var se=He[Me],ge=se.bitrate*me.getSegmentDuration()/Ie,J=Math.max(0,ge-ke);if(ke-ge<me.getMinBuffer())return D.debug("Buffer is low for bitrate= ".concat(se.bitrate," downloadTime=").concat(ge," currentBuffer=").concat(ke," rebuffer=").concat(J)),function Y(he,Se){var Le=0,fe=he;if(p)for(var Re=0;Re<p.length;Re++){var Me=p[Re];Me.bitrate<he.bitrate&&Me.bitrate>Le&&Se>Me.bitrate&&(Le=Me.bitrate,fe=Me)}return fe}(se,Ie).qualityIndex;switch(R){case I_MANUAL:!function le(){A=[.4,.4,.4,.4]}();break;case I_RANDOM:!function Fe(he){A=function ae(he,Se){for(var Le=[],fe=Math.sqrt(2/he),Re=0;Re<Se;Re++)Le.push(Math.random()*fe);return A=Le}(he.length,4)}(He);break;default:!function $(he,Se,Le,fe,Re,Me,me){A||(A=U[U.length-1]);var Ue=he.findWeightVector(Se,Le,fe,Re,Me,me);null!==Ue&&-1!==Ue&&(A=Ue)}(me,He,Ue,ke,J,Ie,Re)}for(var Q=null,Z=null,te=null,ne=0;ne<He.length;ne++){var ee=He[ne],X=ee.state,ue=[X.throughput,X.latency,X.rebuffer,X.switch],_e=A.slice(),de=me.getNextBufferWithBitrate(ee.bitrate,ke,Ie),xe=de<me.getMinBuffer();xe&&D.debug("Buffer is low for bitrate=".concat(ee.bitrate," downloadTime=").concat(ge," currentBuffer=").concat(ke," nextBuffer=").concat(de)),(ee.bitrate>Se-1e4||xe)&&ee.bitrate!==v&&(_e[0]=100);var Ke=T(ue,[ot,0,0,0],_e);(null===Q||Ke<Q)&&(Q=Ke,Z=ee.qualityIndex,te=ee)}var Ve=Math.abs(se.bitrate-te.bitrate)/f;return S(se,He,[ot,Le,J,Ve]),S(te,He,[ot,0,0,Ve]),Z},reset:function k(){O()}},function j(){D=Object(y.default)(F).getInstance().getLogger(L),O()}(),L}E.__dashjs_factory_name="LearningAbrController",C.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function I(){var E,F,L,D,p;function g(){F=null,L=null,D=null,p=null}function A(x,P,T,N){var S=new y.default;return S.type=x,S.weights.bitrateReward=P||1,S.weights.bitrateSwitchPenalty=1,S.weights.rebufferPenalty=T||1e3,S.weights.latencyPenalty=[],S.weights.latencyPenalty.push({threshold:1.1,penalty:.05*N}),S.weights.latencyPenalty.push({threshold:1e8,penalty:.1*T}),S.weights.playbackSpeedPenalty=N||200,S}function R(x,P,T,N,S){S.bitrateWSum+=S.weights.bitrateReward*x,S.lastBitrate&&(S.bitrateSwitchWSum+=S.weights.bitrateSwitchPenalty*Math.abs(x-S.lastBitrate)),S.lastBitrate=x,S.rebufferWSum+=S.weights.rebufferPenalty*P;for(var B=0;B<S.weights.latencyPenalty.length;B++){var Y=S.weights.latencyPenalty[B];if(T<=Y.threshold){S.latencyWSum+=Y.penalty*T;break}}S.playbackSpeedWSum+=S.weights.playbackSpeedPenalty*Math.abs(1-N),S.totalQoe=S.bitrateWSum-S.bitrateSwitchWSum-S.rebufferWSum-S.latencyWSum-S.playbackSpeedWSum}return E={setupPerSegmentQoe:function v(x,P,T){F=A("segment",x,P,T),L=x,D=P,p=T},logSegmentMetrics:function U(x,P,T,N){F&&R(x,P,T,N,F)},getPerSegmentQoe:function j(){return F},calculateSingleUseQoe:function k(x,P,T,N){var S=null;return L&&D&&p&&(S=A("segment",L,D,p)),S?(R(x,P,T,N,S),S.totalQoe):0},reset:function O(){g()}},function f(){g()}(),E}I.__dashjs_factory_name="LoLpQoeEvaluator",C.default=t.default.getClassFactory(I)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),E=c(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),F=c(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),D=c(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),p=c(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function v(A){var j,k,O,x,U=(A=A||{}).dashMetrics,R=this.context;return k={getMaxIndex:function T(B){try{var Y=Object(F.default)(R).create(),q=B.getMediaInfo().type,le=B.getAbrController(),Fe=B.getStreamInfo(),$=le.getQualityFor(q,Fe.id),ae=B.getMediaInfo(),K=U.getCurrentBufferState(q),pe=B.getScheduleController(),oe=U.getCurrentBufferLevel(q,!0),he=Fe&&Fe.manifestInfo?Fe.manifestInfo.isDynamic:null,Se=pe.getPlaybackController(),Le=Se.getCurrentLiveLatency();if(!B.useLoLPABR()||q===p.default.AUDIO)return Y;Le||(Le=0);var fe=Se.getPlaybackRate(),Me=le.getThroughputHistory().getSafeAverageThroughput(q,he);if(j.debug("Throughput ".concat(Math.round(Me)," kbps")),isNaN(Me)||!K||le.getAbandonmentStateFor(Fe.id,q)===L.default.ABANDON_LOAD)return Y;for(var me=ae.bitrateList,Ue=B.getRepresentationInfo().fragmentDuration,ke=me[0].bandwidth/1e3,Ie=me[me.length-1].bandwidth/1e3,He=0;He<me.length;He++){var ot=me[He].bandwidth/1e3;ot>Ie?Ie=ot:ot<ke&&(ke=ot)}var Ne=me[$].bandwidth/1e3,Te=U.getCurrentHttpRequest(q,!0),W=(Te.tresponse.getTime()-Te.trequest.getTime())/1e3,se=W>Ue?W-Ue:0;x.setupPerSegmentQoe(Ue,Ie,ke),x.logSegmentMetrics(Ne,se,Le,fe);var ge=Object(D.default)(R).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Ue,qoeEvaluator:x});return Y.quality=O.getNextQuality(ae,1e3*Me,Le,oe,fe,$,ge),Y.reason={throughput:Me,latency:Le},Y.priority=F.default.PRIORITY.STRONG,pe.setTimeToLoadDelay(0),Y.quality!==$&&console.log("[TgcLearningRule]["+q+"] requesting switch to index: ",Y.quality,"Average throughput",Math.round(Me),"kbps"),Y}catch(J){throw J}},reset:function S(){!function N(){O.reset(),x.reset()}()}},function P(){j=Object(t.default)(R).getInstance().getLogger(k),O=Object(I.default)(R).create(),x=Object(E.default)(R).create()}(),k}v.__dashjs_factory_name="LoLPRule",C.default=y.default.getClassFactory(v)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(I){var p,v,A,E=I.targetLatency,F=I.bufferMin,L=I.segmentDuration,D=I.qoeEvaluator;function P(){return L}function N(S,B){var Y=P();return B>Y?S-Y:S+Y-B}return p={getMinBuffer:function x(){return F},getSegmentDuration:P,getNextBufferWithBitrate:function T(S,B,Y){return N(B,S*L/Y)},getNextBuffer:N,findWeightVector:function j(S,B,Y,q,le,Fe){var $=null,ae=null,K=null,pe=Math.abs(B-A);return S.forEach(function(oe){v.forEach(function(he){var Se_latency=he[1],Se_buffer=he[2],Le=oe.bitrate*L/le,fe=N(Y,Le),Re=Math.max(1e-5,Le-fe),ke=D.calculateSingleUseQoe(oe.bitrate,(0===Se_buffer?10:1/Se_buffer)*Re,(0===Se_latency?10:1/Se_latency)*oe.state.latency,Fe);(null===$||ke>$)&&function k(S,B,Y){return!(S>E+Y)&&B>=F}(B,fe,pe)&&($=ke,ae=he,K=oe.bitrate)})}),null===ae&&null===K&&(ae=-1),A=B,ae}},function U(){!function R(){v=function O(S,B){return function le(Fe,$,ae){if(ae===$)return Fe;for(var K=Fe.length,pe=0;pe<K;pe++)for(var oe=Fe.shift(),he=0;he<S.length;he++)Fe.push(oe.concat(S[he]));return le(Fe,$,ae+1)}(S.map(function(le){return[le]}),B,1)}([.2,.4,.6,.8,1],4),A=0}()}(),p}y.__dashjs_factory_name="LoLpWeightSelector",C.default=t.default.getClassFactory(y)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var I=0;function F(A){for(var U="",R=0;R<A.length;++R)U+=A[R].uchar;return U.length-U.replace(/^\s+/,"").length}function L(A){return"left: "+3.125*A.x+"%; top: "+6.66*A.y1+"%; width: "+(100-3.125*A.x)+"%; height: "+6.66*Math.max(A.y2-1-A.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(A){return"red"===A?"rgb(255, 0, 0)":"green"===A?"rgb(0, 255, 0)":"blue"===A?"rgb(0, 0, 255)":"cyan"===A?"rgb(0, 255, 255)":"magenta"===A?"rgb(255, 0, 255)":"yellow"===A?"rgb(255, 255, 0)":"white"===A?"rgb(255, 255, 255)":"black"===A?"rgb(0, 0, 0)":A}function p(A,U){var R=A.videoHeight/15;return U?"font-size: "+R+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(U.foreground?D(U.foreground):"rgb(255, 255, 255)")+"; font-style: "+(U.italics?"italic":"normal")+"; text-decoration: "+(U.underline?"underline":"none")+"; white-space: pre; background-color: "+(U.background?D(U.background):"transparent")+";":"font-size: "+R+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function f(A){return A.replace(/^\s+/g,"")}function g(A){return A.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function v(A,U,R,j){var q,le,k=null,x=!1,P=-1,T={start:U,end:R,spans:[]},N="style_cea608_white_black",S={},B={},Y=[];for(q=0;q<15;++q){var Fe=j.rows[q],$="",ae=null;if(!1===Fe.isEmpty()){var K=F(Fe.chars);null===k&&(k={x:K,y1:q,y2:q+1,p:[]}),K!==P&&x&&(k.p.push(T),T={start:U,end:R,spans:[]},k.y2=q,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k={x:K,y1:q,y2:q+1,p:[]});for(var pe=0;pe<Fe.chars.length;++pe){var oe=Fe.chars[pe],he=oe.penState;if(null===ae||!he.equals(ae)){$.trim().length>0&&(T.spans.push({name:N,line:$,row:q}),$="");var Se="style_cea608_"+he.foreground+"_"+he.background;he.underline&&(Se+="_underline"),he.italics&&(Se+="_italics"),B.hasOwnProperty(Se)||(B[Se]=JSON.parse(JSON.stringify(he))),ae=he,N=Se}$+=oe.uchar}$.trim().length>0&&T.spans.push({name:N,line:$,row:q}),x=!0,P=K}else x=!1,P=-1,k&&(k.p.push(T),T={start:U,end:R,spans:[]},k.y2=q,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k=null)}k&&(k.p.push(T),k.y2=q+1,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k=null);var Le=[];for(q=0;q<Y.length;++q){var fe=Y[q],Re="sub_cea608_"+I++,Me=document.createElement("div");Me.id=Re;var me=L(fe);Me.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+me;var Ue=document.createElement("div");Ue.className="paragraph bodyStyle",Ue.style.cssText=p(A);var ke=document.createElement("div");ke.className="cueUniWrapper",ke.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Ie=0;Ie<fe.p.length;++Ie){var He=fe.p[Ie],ot=0;for(le=0;le<He.spans.length;++le){var Je=He.spans[le];if(Je.line.length>0){if(0!==le&&ot!=Je.row){var Ne=document.createElement("br");Ne.className="lineBreak",ke.appendChild(Ne)}var Te=!1;ot===Je.row&&(Te=!0),ot=Je.row;var W=B[Je.name],se=document.createElement("span");se.className="spanPadding "+Je.name+" customSpanColor",se.style.cssText=p(A,W),se.textContent=0!==le&&Te?le===He.spans.length-1?g(Je.line):Je.line:He.spans.length>1&&le<He.spans.length-1&&Je.row===He.spans[le+1].row?f(Je.line):Je.line.trim(),ke.appendChild(se)}}}Ue.appendChild(ke),Me.appendChild(Ue);var ge={bodyStyle:["%",90]};for(var J in B)B.hasOwnProperty(J)&&(ge[J]=["%",90]);Le.push({type:"html",start:U,end:R,cueHTMLElement:Me,cueID:Re,cellResolution:[32,15],isFromCEA608:!0,fontSize:ge,lineHeight:{},linePadding:{}})}return Le}}}y.__dashjs_factory_name="EmbeddedTextHtmlRender",C.default=t.default.getSingletonFactory(y)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),F=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),L=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),p="NotFragmentedTextBufferController";function f(g){g=g||{};var O,x,P,T,N,S,v=this.context,A=Object(t.default)(v).getInstance(),U=g.textController,R=g.errHandler,j=g.streamInfo,k=g.type;function K(Z){T=Z}function Le(Z){x!==Z&&(x=Z)&&function Q(Z,te){A.trigger(Z,te||{},{streamId:j.id,mediaType:k})}(y.default.BUFFERING_COMPLETED)}function Me(Z){!Z.chunk.bytes||x||(S.save(Z.chunk),N.append(Z.chunk),Le(!0))}return O={initialize:function q(Z){K(Z)},getStreamId:function Fe(){return j.id},getType:function $(){return k},getBufferControllerType:function Y(){return p},createBufferSink:function le(Z){return new Promise(function(te,ne){try{(N=Object(F.default)(v).create({mediaSource:T,textController:U,eventBus:A})).initializeForFirstUse(j,Z),P||(N.getBuffer()&&"function"==typeof N.getBuffer().initialize&&N.getBuffer().initialize(),P=!0),te(N)}catch(ee){R.error(new L.default(D.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,D.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+k)),ne(ee)}})},getBuffer:function ae(){return N},getBufferLevel:function he(){return 0},getRangeAt:function me(){return null},pruneBuffer:function ot(){},hasBufferAtTime:function Ue(){return!0},getAllRangesWithSafetyFactor:function ke(){return[]},getContinuousBufferTimeForTargetTime:function Ie(){return Number.POSITIVE_INFINITY},setMediaSource:K,getMediaSource:function pe(){return T},appendInitSegmentFromCache:function Re(Z){return null!==S.extract(j.id,Z)},getIsBufferingCompleted:function Se(){return x},setIsBufferingCompleted:Le,getIsPruningInProgress:function oe(){return!1},reset:function fe(Z){A.off(y.default.INIT_FRAGMENT_LOADED,Me,O),!Z&&N&&(N.abort(),N.reset(),N=null)},clearBuffers:function He(){return Promise.resolve()},prepareForPlaybackSeek:function Ne(){return Promise.resolve()},prepareForReplacementTrackSwitch:function Te(){return x=!1,Promise.resolve()},setSeekTarget:function se(){},updateAppendWindow:function W(){return Promise.resolve()},pruneAllSafely:function J(){return Promise.resolve()},updateBufferTimestampOffset:function Je(){return Promise.resolve()},segmentRequestingCompleted:function ge(){}},function B(){P=!1,T=null,x=!1,S=Object(E.default)(v).getInstance(),A.on(y.default.INIT_FRAGMENT_LOADED,Me,O)}(),O}f.__dashjs_factory_name=p,C.default=I.default.getClassFactory(f)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),E=c(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),F=c(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),L=c(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),D=c(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),p=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),v=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function A(U){var N,S,B,Y,q,le,Fe,$,ae,K,pe,oe,R=this.context,j=U.adapter,k=U.errHandler,O=U.manifestModel,x=U.mediaController,P=U.videoModel,T=U.settings;function ke(te){var ne=te.tracks,ee=te.index,X=te.streamId;if(!1===T.get().streaming.text.defaultEnabled&&!Je()||oe)Te(X,-1);else{var _e=x.getCurrentTrackFor(t.default.TEXT,X);if(_e){var de={lang:_e.lang,role:_e.roles[0],index:_e.index,codec:_e.codec,accessibility:_e.accessibility[0]};ne.some(function(xe,Ke){if(x.matchSettings(de,xe))return Te(X,Ke),ee=Ke,!0})}ae=!1}S[X].lastEnabledIndex=ee,$.trigger(g.default.TEXT_TRACKS_ADDED,{enabled:Je(),index:ee,tracks:ne,streamId:X}),pe=!0}function Ie(te){try{var ne=te.streamId;if(!Y[ne]||isNaN(te.time))return;Y[ne].manualCueProcessing(te.time)}catch{}}function He(te){try{var ne=te.streamId;if(!Y[ne])return;Y[ne].disableManualTracks()}catch{}}function Je(){var te=!0;return ae&&!K&&(te=!1),te}function Te(te,ne){(ae=-1===ne)&&x&&x.saveTextSettingsDisabled();var ee=ge(te);if(ee!==ne&&Y[te]){Y[te].disableManualTracks(),Y[te].setModeForTrackIdx(ee,t.default.TEXT_HIDDEN),Y[te].setCurrentTrackIdx(ne),Y[te].setModeForTrackIdx(ne,t.default.TEXT_SHOWING);var X=Y[te].getCurrentTrackInfo();X&&X.isFragmented&&!X.isEmbedded?function W(te,ne,ee){if(B[te])for(var ue=B[te].getConfig().fragmentedTracks,_e=0;_e<ue.length;_e++){var de=ue[_e];if(ne.lang===de.lang&&(de.id?ne.id===de.id:ne.index===de.index)){var xe=x.getCurrentTrackFor(t.default.TEXT,te);(de.id?xe.id!==de.id:xe.index!==de.index)?(Y[te].deleteCuesFromTrackIdx(ee),B[te].setCurrentFragmentedTrackIdx(_e)):-1===ee&&$.trigger(f.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:te,mediaType:t.default.TEXT})}}}(te,X,ee):X&&!X.isFragmented&&function se(te,ne){$.trigger(f.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ne},{streamId:te,mediaType:t.default.TEXT})}(te,X),x.setTrack(X)}}function ge(te){return Y[te].getCurrentTrackIdx()}function Q(){B={},Y={},S={},ae=!0,pe=!1,oe=!1}return N={deactivateStream:function J(te){if(te){var ne=te.id;B[ne]&&B[ne].resetMediaInfos(),Y[ne]&&Y[ne].deleteAllTextTracks()}},initialize:function Se(){$.on(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,ke,N),T.get().streaming.text.webvtt.customRenderingEnabled&&($.on(f.default.PLAYBACK_TIME_UPDATED,Ie,N),$.on(f.default.PLAYBACK_SEEKING,He,N))},initializeForStream:function Le(te){var ne=te.id,ee=Object(E.default)(R).create({videoModel:P,settings:T,streamInfo:te});ee.initialize(),Y[ne]=ee;var X=Object(I.default)(R).create({errHandler:k,adapter:j,manifestModel:O,mediaController:x,videoModel:P,textTracks:ee,vttParser:q,vttCustomRenderingParser:le,ttmlParser:Fe,streamInfo:te,settings:T});X.initialize(),B[ne]=X,S[ne]={},S[ne].lastEnabledIndex=-1},createTracks:function fe(te){var ne=te.id;Y[ne]&&Y[ne].createTracks()},getTextSourceBuffer:function Me(te){var ne=te.id;if(B&&B[ne])return B[ne]},getAllTracksAreDisabled:function me(){return ae},addEmbeddedTrack:function Ue(te,ne){var ee=te.id;B[ee]&&B[ee].addEmbeddedTrack(ne)},enableText:function ot(te,ne){Object(v.checkParameterType)(ne,"boolean"),Je()!==ne&&(ne&&Te(te,S[te].lastEnabledIndex),ne||(S[te].lastEnabledIndex=ge(te),pe?Te(te,-1):oe=!0))},isTextEnabled:Je,setTextTrack:Te,getCurrentTrackIdx:ge,enableForcedTextStreaming:function Ne(te){Object(v.checkParameterType)(te,"boolean"),K=te},addMediaInfosToBuffer:function Re(te,ne,ee){var ue=te.id;B[ue]&&B[ue].addMediaInfos(ne,ee,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function Z(){Q(),$.off(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,ke,N),T.get().streaming.text.webvtt.customRenderingEnabled&&($.off(f.default.PLAYBACK_TIME_UPDATED,Ie,N),$.off(f.default.PLAYBACK_SEEKING,He,N)),Object.keys(B).forEach(function(te){B[te].resetEmbedded(),B[te].reset()})}},function he(){K=!1,pe=!1,oe=!1,q=Object(F.default)(R).getInstance(),le=Object(L.default)(R).getInstance(),Fe=Object(D.default)(R).getInstance(),$=Object(p.default)(R).getInstance(),Q()}(),N}A.__dashjs_factory_name="TextController",C.default=y.default.getClassFactory(A)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=c(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),E=c(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),F=c(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),f=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),g=c.n(f),v=c(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),A=c.n(v),U=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),j=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function O(x){var oe,he,Se,Le,fe,Re,Me,me,Ue,ke,Ie,He,ot,Je,Ne,Te,P=x.errHandler,T=x.manifestModel,N=x.mediaController,S=x.videoModel,B=x.textTracks,Y=x.vttParser,q=x.vttCustomRenderingParser,le=x.ttmlParser,Fe=x.streamInfo,$=x.settings,ae=this.context,K=Object(U.default)(ae).getInstance(),pe=!1;function J(){(function ge(){Re=null,me=NaN,Ue=[],ke=null,Me=!1})(),fe=[],Le=null}function te(De){var Pe=new I.default;for(var ze in De)Pe[ze]=De[ze];Pe.labels=De.labels,Pe.defaultTrack=function Tn(De){var Pe=!1;return He.length>1&&De.isEmbedded?Pe=De.id&&De.id===t.default.CC1:1===He.length?De.id&&"string"==typeof De.id&&"CC"===De.id.substring(0,2)&&(Pe=!0):0===He.length&&(Pe=De.index===fe[0].index),Pe}(De),Pe.isFragmented=De.isFragmented,Pe.isEmbedded=!!De.isEmbedded,Pe.isTTML=function Ve(De){return De.codec&&De.codec.search(t.default.STPP)>=0||De.mimeType&&De.mimeType.search(t.default.TTML)>=0}(De),Pe.kind=function st(De,Pe){var Ye=De.roles&&De.roles.length>0?Pe[De.roles[0]]:Pe.caption;return Ye===Pe.caption||Ye===Pe.subtitle?Ye:Pe.caption}(De,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(Pe)}function X(De){var Pe=De.chunk;Pe.mediaInfo.embeddedCaptions&&ct(Pe.bytes,Pe)}function Ke(De){Ie=De}function ct(De,Pe){var Ye=Pe.mediaInfo,ze=Ye.type,rt=Ye.codec||Ye.mimeType;rt?-1!==Ye.codec.indexOf("application/mp4")?function nt(De,Pe,Ye){var ze;if("InitializationSegment"===Pe.segmentType)Me=!0,me=Se.getMediaTimescaleFromMoov(De);else{if(!Me)return;(ze=Se.getSamplesInfo(De).sampleList).length>0&&(ke=ze[0].cts-Pe.start*me),Ye.search(t.default.STPP)>=0?function yt(De,Pe,Ye){var ze,lt;for(Le=null!==Le?Le:rn(Ye),ze=0;ze<Pe.length;ze++){var rt=Pe[ze],dt=rt.cts,Ft=Kt(),qt=Ft+dt/me;oe.buffered.add(qt,qt+rt.duration/me);var Qt=new DataView(De,rt.offset,rt.subSizes[0]),ln=g.a.Utils.dataViewToString(Qt,t.default.UTF8),mn=[],Mn=rt.offset+rt.subSizes[0];for(lt=1;lt<rt.subSizes.length;lt++){var Nn=new Uint8Array(De,Mn,rt.subSizes[lt]),Yn=String.fromCharCode.apply(null,Nn);mn.push(Yn),Mn+=rt.subSizes[lt]}try{var Vn=T.getValue(),Cn=Le.parse(ln,Vn.ttmlTimeIsRelative?dt/me:0,dt/me,(dt+rt.duration)/me,mn);B.addCaptions(Ie,Ft,Cn)}catch(Tt){Re.removeExecutedRequestsBeforeTime(),this.remove(),he.error("TTML parser error: "+Tt.message)}}}(De,ze,Ye):function jt(De,Pe){var Ye,ze,lt,rt=[];for(Ye=0;Ye<Pe.length;Ye++){var dt=Pe[Ye];dt.cts-=ke;var qt=Kt()+dt.cts/me;oe.buffered.add(qt,qt+dt.duration/me);var Qt=De.slice(dt.offset,dt.offset+dt.size),ln=g.a.parseBuffer(Qt);for(ze=0;ze<ln.boxes.length;ze++){var mn=ln.boxes[ze];if(he.debug("VTT box1: "+mn.type),"vtte"!==mn.type&&"vttc"===mn.type)for(he.debug("VTT vttc boxes.length = "+mn.boxes.length),lt=0;lt<mn.boxes.length;lt++){var Mn=mn.boxes[lt];if(he.debug("VTT box2: "+Mn.type),"payl"===Mn.type){var Nn=Mn.cue_text;he.debug("VTT cue_text = "+Nn);var Yn=dt.cts/me,Vn=(dt.cts+dt.duration)/me;rt.push({start:Yn,end:Vn,data:Nn,styles:{}}),he.debug("VTT "+Yn+"-"+Vn+" : "+Nn)}}}}rt.length>0&&B.addCaptions(Ie,0,rt)}(De,ze)}}(De,Pe,rt):ze===t.default.VIDEO?function Gt(De,Pe){var Ye,ze;if(Pe.segmentType===y.HTTPRequest.INIT_SEGMENT_TYPE)0===ot&&(ot=Se.getMediaTimescaleFromMoov(De));else if(Pe.segmentType===y.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===ot)return void he.warn("CEA-608: No timescale for embeddedTextTrack yet");var lt=(ze=Se.getSamplesInfo(De)).lastSequenceNumber;if(!Ne[0]&&!Ne[1]&&function nn(){for(var De,Pe=0;Pe<He.length;Pe++){if(-1===(De=B.getTrackIdxForId(He[Pe].id)))return void he.warn("CEA-608: data before track is ready.");var Ye=dn(De);Ne[Pe]=new A.a.Cea608Parser(Pe+1,{newCue:Ye},null)}}(),ot){if(null!==Je&&lt!==Je+ze.numSequences)for(Ye=0;Ye<Ne.length;Ye++)Ne[Ye]&&Ne[Ye].reset();for(var rt=function un(De,Pe){if(0===Pe.length)return null;for(var Ye={splits:[],fields:[[],[]]},ze=new DataView(De),lt=0;lt<Pe.length;lt++)for(var rt=Pe[lt],dt=A.a.findCea608Nalus(ze,rt.offset,rt.size),Ft=null,qt=0,Lt=0;Lt<dt.length;Lt++)for(var Qt=A.a.extractCea608DataFromRange(ze,dt[Lt]),ln=0;ln<2;ln++)if(Qt[ln].length>0){rt.cts!==Ft?qt=0:qt+=1;var mn=Kt();Ye.fields[ln].push([rt.cts+mn*ot,Qt[ln],qt]),Ft=rt.cts}return Ye.fields.forEach(function(Nn){Nn.sort(function(Yn,Vn){return Yn[0]===Vn[0]?Yn[2]-Vn[2]:Yn[0]-Vn[0]})}),Ye}(De,ze.sampleList),dt=0;dt<Ne.length;dt++){var Ft=rt.fields[dt],qt=Ne[dt];if(qt)for(Ye=0;Ye<Ft.length;Ye++)qt.addData(Ft[Ye][0]/ot,Ft[Ye][1])}Je=lt}}}(De,Pe):function wt(De,Pe,Ye){var ze,lt,rt=new DataView(De,0,De.byteLength);lt=g.a.Utils.dataViewToString(rt,t.default.UTF8);try{ze=rn(Ye).parse(lt,0),B.addCaptions(B.getCurrentTrackIdx(),0,ze),oe.buffered&&oe.buffered.add(Pe.start,Pe.end)}catch(dt){P.error(new j.default(k.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,k.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+dt.message,lt))}}(De,Pe,rt):he.error("No text type defined")}function dn(De){return function Pe(Ye,ze,lt){var rt;(rt=S.getTTMLRenderingDiv()?Te.createHTMLCaptionsFromScreen(S.getElement(),Ye,ze,lt):[{start:Ye,end:ze,data:lt.getDisplayText(),styles:{}}])&&B.addCaptions(De,0,rt)}}function Kt(){return isNaN(oe.timestampOffset)?0:oe.timestampOffset}function rn(De){var Pe;return De.search(t.default.VTT)>=0?Pe=$.get().streaming.text.webvtt.customRenderingEnabled&&q?q:Y:(De.search(t.default.TTML)>=0||De.search(t.default.STPP)>=0)&&(Pe=le),Pe}function ht(De){He.forEach(function(Pe){var Ye=B.getTrackIdxForId(Pe.id);Ye>=0&&B.deleteCuesFromTrackIdx(Ye,De.from,De.to)})}return oe={initialize:function Q(){pe||function ue(){He=[],Ie=null,ot=0,Ne=[],Je=null,pe=!0,Te=Object(p.default)(ae).getInstance(),K.on(R.default.VIDEO_CHUNK_RECEIVED,X,oe),K.on(R.default.BUFFER_CLEARED,ht,oe)}()},addMediaInfos:function Z(De,Pe,Ye){if(fe=fe.concat(Pe),De===t.default.TEXT&&Pe[0].isFragmented&&!Pe[0].isEmbedded){Re=Ye,oe.buffered=Object(F.default)(ae).create(),Ue=N.getTracksFor(t.default.TEXT,Fe.id).filter(function(dt){return dt.isFragmented});for(var ze=N.getCurrentTrackFor(t.default.TEXT,Fe.id),lt=0;lt<Ue.length;lt++)if(Ue[lt]===ze){Ke(lt);break}}for(var rt=0;rt<Pe.length;rt++)te(Pe[rt])},resetMediaInfos:function Qe(){fe=[]},getStreamId:function se(){return Fe.id},append:ct,abort:function ne(){},addEmbeddedTrack:function de(De){if(pe&&De)if(De.id===t.default.CC1||De.id===t.default.CC3){for(var Pe=0;Pe<He.length;Pe++)if(He[Pe].id===De.id)return;He.push(De)}else he.warn("Embedded track "+De.id+" not supported!")},resetEmbedded:function _e(){K.off(R.default.VIDEO_CHUNK_RECEIVED,X,oe),K.off(R.default.BUFFER_CLEARED,ht,oe),B&&B.deleteAllTextTracks(),pe=!1,He=[],Ne=[null,null],Je=null},getConfig:function xe(){return{fragmentModel:Re,fragmentedTracks:Ue,videoModel:S}},setCurrentFragmentedTrackIdx:Ke,remove:function xt(De,Pe){void 0===De&&De===Pe&&(De=oe.buffered.start(0),Pe=oe.buffered.end(oe.buffered.length-1)),oe.buffered.remove(De,Pe),B.deleteCuesFromTrackIdx(Ie,De,Pe)},reset:function ee(){J(),fe=[],Se=null}},function W(){he=Object(D.default)(ae).getInstance().getLogger(oe),Se=Object(E.default)(ae).getInstance(),J()}(),oe}O.__dashjs_factory_name="TextSourceBuffer",C.default=L.default.getClassFactory(O)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function f(U,R){var j=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!j){if(Array.isArray(U)||(j=function g(U,R){if(U){if("string"==typeof U)return v(U,R);var j=Object.prototype.toString.call(U).slice(8,-1);if("Object"===j&&U.constructor&&(j=U.constructor.name),"Map"===j||"Set"===j)return Array.from(U);if("Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return v(U,R)}}(U))||R&&U&&"number"==typeof U.length){j&&(U=j);var k=0,O=function(){};return{s:O,n:function(){return k>=U.length?{done:!0}:{done:!1,value:U[k++]}},e:function(S){throw S},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,x=!0,P=!1;return{s:function(){j=j.call(U)},n:function(){var S=j.next();return x=S.done,S},e:function(S){P=!0,T=S},f:function(){try{!x&&null!=j.return&&j.return()}finally{if(P)throw T}}}}function v(U,R){(null==R||R>U.length)&&(R=U.length);for(var j=0,k=new Array(R);j<R;j++)k[j]=U[j];return k}function A(U){var P,T,N,S,B,Y,q,le,Fe,$,ae,K,pe,oe,he,Se,Le,fe,R=this.context,j=Object(y.default)(R).getInstance(),k=U.videoModel,O=U.streamInfo,x=U.settings;function Ue(wt){return k.addTextTrack(wt.kind,void 0!==wt.id?wt.id:wt.lang,wt.lang,wt.isTTML,wt.isEmbedded)}function He(wt,Gt,nn,dn,un,Kt){var xt=0,ht=0;wt/Gt>nn/dn?xt=(ht=Gt)/dn*nn:ht=(xt=wt)/nn*dn;var Qe,De,Pe=0,Ye=0;return xt/ht>un?(Ye=ht,Pe=ht*un):(Pe=xt,Ye=xt/un),Qe=(wt-Pe)/2,De=(Gt-Ye)/2,Kt?{x:Qe+.1*Pe,y:De+.1*Ye,w:.8*Pe,h:.8*Ye}:{x:Qe,y:De,w:Pe,h:Ye}}function ot(wt,Gt){var nn=k.getClientWidth(),dn=k.getClientHeight(),un=k.getVideoWidth(),Kt=k.getVideoHeight(),Tn=k.getVideoRelativeOffsetTop(),rn=k.getVideoRelativeOffsetLeft();if(0!==un&&0!==Kt){var xt=un/Kt,ht=!1;wt.isFromCEA608&&(xt=3.5/3,ht=!0);var Qe=He.call(this,nn,dn,un,Kt,xt,ht),De=Qe.w,Pe=Qe.h,Ye=Qe.x,ze=Qe.y;if(De!=Fe||Pe!=$||Ye!=q||ze!=le||Gt){if(q=Ye+rn,le=ze+Tn,Fe=De,$=Pe,ae){var lt=ae.style;lt&&(lt.left=q+"px",lt.top=le+"px",lt.width=Fe+"px",lt.height=$+"px",lt.zIndex=oe&&document[oe]||he?Le:null,j.trigger(E.default.CAPTION_CONTAINER_RESIZE))}var rt=wt.activeCues;if(rt)for(var dt=rt.length,Ft=0;Ft<dt;++Ft){var qt=rt[Ft];qt.scaleCue(qt)}}}}function Je(wt){var dn,un,Kt,Tn,rn;if(wt.cellResolution){var xt=[Fe/wt.cellResolution[0],$/wt.cellResolution[1]];if(wt.linePadding)for(dn in wt.linePadding)if(wt.linePadding.hasOwnProperty(dn)){un=(wt.linePadding[dn]*xt[0]).toString();for(var Qe=document.getElementsByClassName("spanPadding"),De=0;De<Qe.length;De++)Qe[De].style.cssText=Qe[De].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+un),Qe[De].style.cssText=Qe[De].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+un)}if(wt.fontSize){for(dn in wt.fontSize)if(wt.fontSize.hasOwnProperty(dn)){"%"===wt.fontSize[dn][0]?Kt=wt.fontSize[dn][1]/100:"c"===wt.fontSize[dn][0]&&(Kt=wt.fontSize[dn][1]),un=(Kt*xt[1]).toString(),rn="defaultFontSize"!==dn?document.getElementsByClassName(dn):document.getElementsByClassName("paragraph");for(var Pe=0;Pe<rn.length;Pe++)rn[Pe].style.cssText=rn[Pe].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+un)}if(wt.lineHeight)for(dn in wt.lineHeight)if(wt.lineHeight.hasOwnProperty(dn)){"%"===wt.lineHeight[dn][0]?Tn=wt.lineHeight[dn][1]/100:"c"===wt.fontSize[dn][0]&&(Tn=wt.lineHeight[dn][1]),un=(Tn*xt[1]).toString(),rn=document.getElementsByClassName(dn);for(var Ye=0;Ye<rn.length;Ye++)rn[Ye].style.cssText=rn[Ye].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+un)}}}if(wt.isd){var ze=document.getElementById(wt.cueID);ze&&ae.removeChild(ze),Ne(wt)}}function Ne(wt){if(ae){var Gt=document.createElement("div");ae.appendChild(Gt),Se=Object(D.renderHTML)(wt.isd,Gt,function(nn){var dn=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,un=/^#(.*)$/;if(dn.test(nn)){var Kt=dn.exec(nn),Tn=parseInt(Kt[4],10)-1;return"data:image/png;base64,"+btoa(wt.images[Tn])}if(un.test(nn)){var ht=un.exec(nn);return"data:image/png;base64,"+wt.embeddedImages[ht[1]]}return null},ae.clientHeight,ae.clientWidth,!1,function(nn){T.info("renderCaption :",nn)},Se,!0),Gt.id=wt.cueID,j.trigger(E.default.CAPTION_RENDERED,{captionDiv:Gt,currentTrackIdx:Y})}}function Te(wt,Gt,nn){var dn=Z(wt);if(dn&&Array.isArray(nn)&&0!==nn.length)for(var un=0;un<nn.length;un++){var Kt=void 0,Tn=nn[un];dn.cellResolution=Tn.cellResolution,dn.isFromCEA608=Tn.isFromCEA608,!isNaN(Tn.start)&&!isNaN(Tn.end)&&(Kt="html"===Tn.type&&ae?W(Tn,Gt,dn):Tn.data?se(Tn,Gt,dn):null);try{Kt?ue(dn,Kt)||(x.get().streaming.text.webvtt.customRenderingEnabled?(dn.manualCueList||(dn.manualCueList=[]),dn.manualCueList.push(Kt)):dn.addCue(Kt)):T.error("impossible to display subtitles.")}catch(rn){throw de(dn),dn.addCue(Kt),rn}}}function W(wt,Gt,nn){var dn=this,un=new N(wt.start+Gt,wt.end+Gt,"");return un.cueHTMLElement=wt.cueHTMLElement,un.isd=wt.isd,un.images=wt.images,un.embeddedImages=wt.embeddedImages,un.cueID=wt.cueID,un.scaleCue=Je.bind(dn),un.cellResolution=wt.cellResolution,un.lineHeight=wt.lineHeight,un.linePadding=wt.linePadding,un.fontSize=wt.fontSize,ae.style.left=q+"px",ae.style.top=le+"px",ae.style.width=Fe+"px",ae.style.height=$+"px",un.onenter=function(){nn.mode===t.default.TEXT_SHOWING&&(this.isd?(Ne(this),T.debug("Cue enter id:"+this.cueID)):(ae.appendChild(this.cueHTMLElement),Je.call(dn,this),j.trigger(E.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:Y})))},un.onexit=function(){if(ae)for(var Kt=ae.childNodes,Tn=0;Tn<Kt.length;++Tn)Kt[Tn].id===this.cueID&&(T.debug("Cue exit id:"+Kt[Tn].id),ae.removeChild(Kt[Tn]),--Tn)},un}function se(wt,Gt,nn){var dn=new N(wt.start-Gt,wt.end-Gt,wt.data);if(dn.cueID="".concat(dn.startTime,"_").concat(dn.endTime),dn.isActive=!1,wt.styles)try{void 0!==wt.styles.align&&"align"in dn&&(dn.align=wt.styles.align),void 0!==wt.styles.line&&"line"in dn&&(dn.line=wt.styles.line),void 0!==wt.styles.position&&"position"in dn&&(dn.position=wt.styles.position),void 0!==wt.styles.size&&"size"in dn&&(dn.size=wt.styles.size)}catch(un){T.error(un)}return dn.onenter=function(){nn.mode===t.default.TEXT_SHOWING&&j.trigger(E.default.CAPTION_RENDERED,{currentTrackIdx:Y})},dn}function Q(){var dn,Gt=[],nn=f(k.getTextTracks());try{for(nn.s();!(dn=nn.n()).done;){var un=dn.value;un.manualMode===t.default.TEXT_SHOWING&&Gt.push(un)}}catch(Kt){nn.e(Kt)}finally{nn.f()}return Gt}function Z(wt){return wt>=0&&S[wt]?k.getTextTrack(S[wt].kind,S[wt].id,S[wt].lang,S[wt].isTTML,S[wt].isEmbedded):null}function ee(wt){var Gt=this;if(wt!==Y){var nn=Z(Y=wt);X.call(this,nn),pe&&(clearInterval(pe),pe=null),nn&&"html"===nn.renderingType&&(ot.call(this,nn,!0),window.ResizeObserver?(fe=new window.ResizeObserver(function(){ot.call(Gt,nn,!0)})).observe(k.getElement()):pe=setInterval(ot.bind(this,nn),500))}}function X(wt){nt.call(this),wt&&"html"===wt.renderingType?st.call(this):ct.call(this)}function ue(wt,Gt){if(!wt.cues)return!1;for(var nn=0;nn<wt.cues.length;nn++)if(wt.cues[nn].startTime===Gt.startTime&&wt.cues[nn].endTime===Gt.endTime)return!0;return!1}function _e(wt,Gt,nn){var dn=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Gt)||(dn?wt.startTime:wt.endTime)>=Gt)&&(isNaN(nn)||(dn?wt.endTime:wt.startTime)<=nn)}function de(wt,Gt,nn){var dn=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(wt.cues)for(var un=wt.cues,Tn=un.length-1;Tn>=0;Tn--)_e(un[Tn],Gt,nn,dn)&&(un[Tn].onexit&&un[Tn].onexit(),wt.removeCue(un[Tn]))}function st(){var wt=document.getElementById("native-cue-style");if(!wt){(wt=document.createElement("style")).id="native-cue-style",document.head.appendChild(wt);var Gt=wt.sheet,nn=k.getElement();try{nn&&Gt.insertRule(nn.id?"#"+nn.id+"::cue {background: transparent}":0!==nn.classList.length?"."+nn.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(dn){T.info(""+dn.message)}}}function ct(){var wt=document.getElementById("native-cue-style");wt&&document.head.removeChild(wt)}function nt(){if(ae)for(;ae.firstChild;)ae.removeChild(ae.firstChild)}return P={initialize:function Me(){typeof window>"u"||typeof navigator>"u"||(N=window.VTTCue||window.TextTrackCue,S=[],B=[],Y=-1,q=0,le=0,Fe=0,$=0,ae=null,K=null,pe=null,he=!1,Le=2147483647,Se=null,void 0!==document.fullscreenElement?oe="fullscreenElement":void 0!==document.webkitIsFullScreen?oe="webkitIsFullScreen":document.msFullscreenElement?oe="msFullscreenElement":document.mozFullScreen&&(oe="mozFullScreen"))},getStreamId:function me(){return O.id},addTextTrack:function ke(wt){S.push(wt)},addCaptions:Te,createTracks:function Ie(){S.sort(function(rn,xt){return rn.index-xt.index}),ae=k.getTTMLRenderingDiv(),K=k.getVttRenderingDiv();for(var wt=-1,Gt=0;Gt<S.length;Gt++){var nn=Ue(S[Gt]);B.push(nn),S[Gt].defaultTrack&&(nn.default=!0,wt=Gt);var dn=Z(Gt);dn&&(dn.mode=t.default.TEXT_SHOWING,dn.renderingType=ae&&(S[Gt].isTTML||S[Gt].isEmbedded)?"html":"default"),Te(Gt,0,S[Gt].captionData),j.trigger(E.default.TEXT_TRACK_ADDED)}if(ee.call(this,wt),wt>=0){j.on(E.default.PLAYBACK_METADATA_LOADED,function rn(){var xt=Z(wt);xt&&"html"===xt.renderingType&&ot.call(this,xt,!0),j.off(E.default.PLAYBACK_METADATA_LOADED,rn,this)},this);for(var Kt=0;Kt<S.length;Kt++){var Tn=Z(Kt);Tn&&(Tn.mode=Kt===wt?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN,Tn.manualMode=Kt===wt?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN)}}j.trigger(I.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Y,tracks:S,streamId:O.id})},getCurrentTrackIdx:function te(){return Y},setCurrentTrackIdx:ee,getTrackIdxForId:function ne(wt){for(var Gt=-1,nn=0;nn<S.length;nn++)if(S[nn].id===wt){Gt=nn;break}return Gt},getCurrentTrackInfo:function jt(){return S[Y]},setModeForTrackIdx:function yt(wt,Gt){var nn=Z(wt);nn&&nn.mode!==Gt&&(nn.mode=Gt),nn&&nn.manualMode!==Gt&&(nn.manualMode=Gt)},deleteCuesFromTrackIdx:function xe(wt,Gt,nn){var dn=Z(wt);dn&&de(dn,Gt,nn)},deleteAllTextTracks:function Ke(){for(var wt=B?B.length:0,Gt=0;Gt<wt;Gt++){var nn=Z(Gt);nn&&de.call(this,nn,O.start,O.start+O.duration,!1)}B=[],S=[],pe&&(clearInterval(pe),pe=null),fe&&k&&(fe.unobserve(k.getElement()),fe=null),Y=-1,nt.call(this)},deleteTextTrack:function Ve(wt){k.removeChild(B[wt]),B.splice(wt,1)},manualCueProcessing:function ge(wt){var Gt=Q();if(Gt&&Gt.length>0){var dn=Gt[0].manualCueList;dn&&dn.length>0&&dn.forEach(function(un){if(un.startTime<=wt&&un.endTime>=wt&&!un.isActive)un.isActive=!0,WebVTT.processCues(window,[un],K,un.cueID);else if(un.isActive&&(un.startTime>wt||un.endTime<wt)&&(un.isActive=!1,K))for(var Kt=K.childNodes,Tn=0;Tn<Kt.length;++Tn)Kt[Tn].id===un.cueID&&(K.removeChild(Kt[Tn]),--Tn)})}},disableManualTracks:function J(){var wt=Q();if(wt&&wt.length>0){var nn=wt[0].manualCueList;nn&&nn.length>0&&nn.forEach(function(dn){if(dn.isActive&&(dn.isActive=!1,K))for(var un=K.childNodes,Kt=0;Kt<un.length;++Kt)un[Kt].id===dn.cueID&&(K.removeChild(un[Kt]),--Kt)})}}},function Re(){T=Object(L.default)(R).getInstance().getLogger(P)}(),P}A.__dashjs_factory_name="TextTracks",C.default=F.default.getClassFactory(A)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),E=c(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),F=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function D(p){var v,A,f=this.context,g=p.streamInfo;function x(S){A.setTrackByIndex(S)}function N(){A&&A.reset()}return v={getStreamId:function j(){return g.id},initialize:function R(){A.addTracks();var S=A.getTracks();S&&S.length>0&&x(0)},provide:function k(S,B){if("function"==typeof B){var le,Y=A.getCurrentTrack();if(!Y||Y.segmentDuration<=0||null==S)return void B(null);(le=A.getThumbnailRequestForTime(S))&&(Y.segmentDuration=le.duration);var Fe=Math.floor(S%Y.segmentDuration*Y.tilesHor*Y.tilesVert/Y.segmentDuration),$=new I.default;if($.width=Math.floor(Y.widthPerTile),$.height=Math.floor(Y.heightPerTile),$.x=Math.floor(Fe%Y.tilesHor)*Y.widthPerTile,$.y=Math.floor(Fe/Y.tilesHor)*Y.heightPerTile,"readThumbnail"in Y)return Y.readThumbnail(S,function(K){$.url=K,B($)});if(le)$.url=le.url,Y.segmentDuration=NaN;else{var ae=Math.floor(S/Y.segmentDuration);$.url=function O(S,B){var Y=B+S.startNumber,q=Object(L.replaceTokenForTemplate)(S.templateUrl,"Number",Y);return q=Object(L.replaceTokenForTemplate)(q,"Time",(Y-1)*S.segmentDuration*S.timescale),q=Object(L.replaceTokenForTemplate)(q,"Bandwidth",S.bandwidth),Object(L.unescapeDollarsInTemplate)(q)}(Y,ae)}B($)}},setTrackByIndex:x,getCurrentTrackIndex:function P(){return A.getCurrentTrackIndex()},getBitrateList:function T(){var S=A.getTracks(),B=0;return S.map(function(Y){var q=new F.default;return q.mediaType=y.default.IMAGE,q.qualityIndex=B++,q.bitrate=Y.bitrate,q.width=Y.width,q.height=Y.height,q})},reset:N},function U(){N(),A=Object(E.default)(f).create({streamInfo:g,adapter:p.adapter,baseURLController:p.baseURLController,timelineConverter:p.timelineConverter,debug:p.debug,eventBus:p.eventBus,events:p.events,dashConstants:p.dashConstants,dashMetrics:p.dashMetrics,segmentBaseController:p.segmentBaseController})}(),v}D.__dashjs_factory_name="ThumbnailController",C.default=t.default.getClassFactory(D)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(et,C,c){"use strict";c.r(C),c.d(C,"THUMBNAILS_SCHEME_ID_URIS",function(){return v});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),F=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),D=c(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),p=c(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),f=c(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),g=c(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),v=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function A(U){var Y,q,le,Fe,$,ae,K,pe,R=this.context,j=U.adapter,k=U.baseURLController,O=U.streamInfo,x=U.timelineConverter,P=U.debug,T=U.eventBus,N=U.events,S=U.dashConstants,B=Object(F.default)(R).getInstance();function Se(ot,Je){var Ne=new E.default;Ne.id=ot.id,Ne.bitrate=ot.bandwidth,Ne.width=ot.width,Ne.height=ot.height,Ne.tilesHor=1,Ne.tilesVert=1,ot.essentialProperties&&ot.essentialProperties.forEach(function(Te){if(v.indexOf(Te.schemeIdUri)>=0&&Te.value){var W=Te.value.split("x");2===W.length&&!isNaN(W[0])&&!isNaN(W[1])&&(Ne.tilesHor=parseInt(W[0],10),Ne.tilesVert=parseInt(W[1],10))}}),Je?ae.updateSegmentData(ot).then(function(Te){!function Le(ot,Je,Ne){var Te=[],W=function fe(ot,Je){var W,se,ge,J,Ne=[],Te=0;for(W=0,se=ot.segments.length;W<se;W++)ge=ot.segments[W],(J=Object(L.getTimeBasedSegment)(x,j.getIsDynamic(),Je,ge.startTime,ge.duration,ge.timescale,ge.media,ge.mediaRange,Te))&&(Ne.push(J),J=null,Te++);return Ne}(Ne,Je);Je.segments=W,ot.segmentDuration=Je.segments[0].duration,ot.readThumbnail=function(se,ge){var J=null;Te.some(function(Q){if(Q.start<=se&&Q.end>se)return J=Q.url,!0}),J?ge(J):Je.segments.some(function(Q){if(Q.mediaStartTime<=se&&Q.mediaStartTime+Q.duration>se){var Z=k.resolve(Je.path);return K.load({method:"get",url:Z.url,request:{range:Q.mediaRange,responseType:"arraybuffer"},onload:function(ne){var ee=pe.getSamplesInfo(ne.target.response),X=new Blob([ne.target.response.slice(ee.sampleList[0].offset,ee.sampleList[0].offset+ee.sampleList[0].size)],{type:"image/jpeg"}),ue=window.URL.createObjectURL(X);Te.push({start:Q.mediaStartTime,end:Q.mediaStartTime+Q.duration,url:ue}),ge&&ge(ue)}}),!0}})}}(Ne,ot,Te)}):(Ne.startNumber=ot.startNumber,Ne.segmentDuration=ot.segmentDuration,Ne.timescale=ot.timescale,Ne.templateUrl=function Re(ot){var Je=B.isRelative(ot.media)?B.resolve(ot.media,k.resolve(ot.path).url):ot.media;return Je?Object(L.replaceIDForTemplate)(Je,ot.id):""}(ot)),Ne.tilesHor>0&&Ne.tilesVert>0&&(Ne.widthPerTile=Ne.width/Ne.tilesHor,Ne.heightPerTile=Ne.height/Ne.tilesVert,q.push(Ne))}function He(){q=[],Fe=-1,$=null}return Y={getTracks:function Me(){return q},addTracks:function he(){if(O&&j&&($=j.getMediaInfoForType(O,t.default.IMAGE))){var ot=j.getVoRepresentations($);ot&&ot.length>0&&ot.forEach(function(Je){(Je.segmentInfoType===y.default.SEGMENT_TEMPLATE&&Je.segmentDuration>0&&Je.media||Je.segmentInfoType===y.default.SEGMENT_TIMELINE)&&Se(Je),Je.segmentInfoType===y.default.SEGMENT_BASE&&Se(Je,!0)}),q.length>0&&q.sort(function(Je,Ne){return Je.bitrate-Ne.bitrate})}},reset:He,setTrackByIndex:function ke(ot){!q||0===q.length||(ot>=q.length&&(ot=q.length-1),Fe=ot)},getCurrentTrack:function Ue(){return Fe<0?null:q[Fe]},getCurrentTrackIndex:function me(){return Fe},getThumbnailRequestForTime:function Ie(ot){for(var Je,Ne=j.getVoRepresentations($),Te=0;Te<Ne.length;Te++)if(q[Fe].id===Ne[Te].id){Je=Ne[Te];break}return le.getSegmentRequestForTime($,Je,ot)}},function oe(){He(),K=Object(p.default)(R).create({}),pe=Object(D.default)(R).getInstance(),ae=Object(g.default)(R).create({events:N,eventBus:T,streamInfo:O,timelineConverter:x,dashConstants:S,dashMetrics:U.dashMetrics,segmentBaseController:U.segmentBaseController,type:t.default.IMAGE}),(le=Object(f.default)(R).create({streamInfo:O,type:t.default.IMAGE,timelineConverter:x,segmentsController:ae,baseURLController:k,debug:P,eventBus:T,events:N,dashConstants:S,urlUtils:B})).initialize(!!j&&j.getIsDynamic())}(),Y}A.__dashjs_factory_name="ThumbnailTracks",C.default=I.default.getClassFactory(A)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),F=c(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),L=c(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),f=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),g=c(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),v=c(
/*! ../../core/Settings */
"./src/core/Settings.js");function A(){var k,O,x,P,T,N,U=this.context,R=Object(y.default)(U).getInstance(),j=Object(v.default)(U).getInstance();function le(){O.reset()}return k={chooseSelector:function Y(Fe){Object(f.checkParameterType)(Fe,"boolean"),N=Fe?P:x},select:function q(Fe){if(Fe){if(j.get().streaming.applyContentSteering){var $=T.selectBaseUrlIndex(Fe);!isNaN($)&&-1!==$&&(Fe.selectedIdx=$)}if(!isNaN(Fe.selectedIdx))return Fe.baseUrls[Fe.selectedIdx];var ae=N.select(Fe.baseUrls);return ae?(Fe.selectedIdx=Fe.baseUrls.indexOf(ae),ae):(R.trigger(I.default.URL_RESOLUTION_FAILED,{error:new p.default(t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===x&&le()))}},reset:le,setConfig:function B(Fe){Fe.selector&&(N=Fe.selector),Fe.contentSteeringSelector&&(T=Fe.contentSteeringSelector)}},function S(){O=Object(E.default)(U).create({updateEventName:I.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:I.default.SERVICE_LOCATION_BLACKLIST_ADD}),x=Object(L.default)(U).create({blacklistController:O}),P=Object(F.default)(U).create({blacklistController:O}),(T=Object(g.default)(U).create()).setConfig({blacklistController:O}),N=x}(),k}A.__dashjs_factory_name="BaseURLSelector",C.default=D.default.getClassFactory(A)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),F=c.n(E),L=c(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function D(){var p,f,g=this.context;function A(T){if(!T)return null;void 0===T.fileStart&&(T.fileStart=0);var N=F.a.parseBuffer(T),S=Object(y.default)(g).create();return S.setData(N),S}function k(T,N){return T[N+3]>>>0|T[N+2]<<8>>>0|T[N+1]<<16>>>0|T[N]<<24>>>0}function O(T,N){return String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N])}return f={parse:A,findLastTopIsoBoxCompleted:function U(T,N,S){if(void 0===S&&(S=0),!N||S+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,q=0;S<B.byteLength;){var le=k(B,S),Fe=O(B,S+4);if(0===le)break;S+le<=B.byteLength&&(T.indexOf(Fe)>=0?Y=new L.default(S,!0,le):q=S+le),S+=le}return Y||new L.default(q,!1)},getMediaTimescaleFromMoov:function j(T){var N=A(T),S=N?N.getBox("mdhd"):void 0;return S?S.timescale:NaN},getSamplesInfo:function R(T){if(!T||0===T.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Y,le,Fe,$,ae,K,pe,oe,he,Se,Le,fe,Re,Me,me,Ue,N=A(T),S=N.getBoxes("moof"),B=N.getBoxes("mfhd");me=N.getBoxes("moof").length,Me=B[B.length-1].sequence_number,le=0,ae=[];var ke=-1,Ie=-1;for(Se=0;Se<S.length;Se++){var He=S[Se],ot=He.getChildBoxes("traf");for(oe=0;oe<ot.length;oe++){var Je=ot[oe],Ne=Je.getChildBox("tfhd"),Te=Je.getChildBox("tfdt");$=Te.baseMediaDecodeTime;var W=Je.getChildBoxes("trun"),se=Je.getChildBoxes("subs");for(he=0;he<W.length;he++){var ge=W[he];for(le=ge.sample_count,Re=(Ne.base_data_offset||0)+(ge.data_offset||0),pe=0;pe<le;pe++){var J={dts:$,cts:$+(void 0!==(K=ge.samples[pe]).sample_composition_time_offset?K.sample_composition_time_offset:0),duration:Y=void 0!==K.sample_duration?K.sample_duration:Ne.default_sample_duration,offset:He.offset+Re,size:Fe=void 0!==K.sample_size?K.sample_size:Ne.default_sample_size,subSizes:[Fe]};if(se)for(Le=0;Le<se.length;Le++){var Q=se[Le];if(ke<Q.entry_count-1&&pe>Ie&&(ke++,Ie+=Q.entries[ke].sample_delta),pe==Ie){J.subSizes=[];var Z=Q.entries[ke];for(fe=0;fe<Z.subsample_count;fe++)J.subSizes.push(Z.subsamples[fe].subsample_size)}}ae.push(J),Re+=Fe,$+=Y}}Ue=$-Te.baseMediaDecodeTime}}return{sampleList:ae,lastSequenceNumber:Me,totalDuration:Ue,numSequences:me}},findInitRange:function x(T){var N=null,Y=A(T);if(!Y)return N;var q=Y.getBox("ftyp"),le=Y.getBox("moov");return p.debug("Searching for initialization."),le&&le.isComplete&&p.debug("Found the initialization.  Range: "+(N=(q?q.offset:le.offset)+"-"+(le.offset+le.size-1))),N},parsePayload:function P(T,N,S){if(void 0===S&&(S=0),!N||S+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,q=0;S<B.byteLength;){var le=k(B,S),Fe=O(B,S+4);if(0===le)break;S+le<=B.byteLength&&(T.indexOf(Fe)>=0?Y=new L.default(S,!0,le,Fe):q=S+le),S+=le}return Y||new L.default(q,!1)}},function v(){p=Object(t.default)(g).getInstance().getLogger(f)}(),f}D.__dashjs_factory_name="BoxParser",C.default=I.default.getSingletonFactory(D)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(et,C,c){"use strict";c.r(C),c.d(C,"supportsMediaSource",function(){return F});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),I=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function F(){var D="WebKitMediaSource"in window,p="MediaSource"in window;return D||p}function L(){var D,p,f;return D={setConfig:function v(T){T&&T.settings&&(p=T.settings)},supportsMediaSource:F,supportsEncryptedMedia:function A(){return f},supportsCodec:function R(T,N){return N!==I.default.AUDIO&&N!==I.default.VIDEO?Promise.resolve(!0):function j(T,N){return p.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&N===I.default.AUDIO||N===I.default.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)}(T,N)?function O(T,N){return new Promise(function(S){if(T&&T.codec){var B={type:"media-source"};B[N]={},B[N].contentType=T.codec,B[N].width=T.width,B[N].height=T.height,B[N].bitrate=parseInt(T.bitrate),B[N].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(Y){S(Y.supported)}).catch(function(){S(!1)})}else S(!1)})}(T,N):function k(T){return new Promise(function(N){if(T&&T.codec){var S=T.codec;T.width&&T.height&&(S+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(S)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(S)?N(!0):N(!1)}else N(!1)})}(T)},setEncryptedMediaSupported:function U(T){f=T},supportsEssentialProperty:function x(T){try{return-1!==y.THUMBNAILS_SCHEME_ID_URIS.indexOf(T.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function P(T,N){for(var Y,S=T.split(".")[0],B=0===N.indexOf(S),q=0;q<E.length;q++)if(E[q].codec===S){Y=E[q];break}return Y?B||Y.compatibleCodecs.some(function(le){return 0===N.indexOf(le)}):B}},function g(){f=!1}(),D}L.__dashjs_factory_name="Capabilities",C.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function L(){var f,g,v,A,U,R,D=this.context,p=Object(E.default)(D).getInstance();function x(le,Fe){if(!Fe||!Fe.Period_asArray||0===Fe.Period_asArray.length)return Promise.resolve();var $=[];return Fe.Period_asArray.forEach(function(ae){$.push(function P(le,Fe){return new Promise(function($){if(le&&le.AdaptationSet_asArray&&0!==le.AdaptationSet_asArray.length){var ae=[];le.AdaptationSet_asArray.forEach(function(K){g.getIsTypeOf(K,Fe)&&ae.push(function T(le,Fe){return new Promise(function($){if(le.Representation_asArray&&0!==le.Representation_asArray.length){var ae=[],K=[];le.Representation_asArray.forEach(function(pe,oe){var he=g.getCodec(le,oe,!1),Se=function N(le,Fe,$){switch(le){case I.default.VIDEO:return function S(le,Fe){return{codec:Fe,width:le.width||null,height:le.height||null,framerate:le.frameRate||null,bitrate:le.bandwidth||null}}(Fe,$);case I.default.AUDIO:return function B(le,Fe){return{codec:Fe,bitrate:le.bandwidth||null,samplerate:le.audioSamplingRate||null}}(Fe,$);default:return null}}(Fe,pe,he);K.push(Se),ae.push(v.supportsCodec(Se,Fe))}),Promise.all(ae).then(function(pe){le.Representation_asArray=le.Representation_asArray.filter(function(oe,he){return pe[he]||R.debug("[Stream] Codec ".concat(K[he].codec," not supported ")),pe[he]}),$()}).catch(function(){$()})}else $()})}(K,Fe))}),Promise.all(ae).then(function(){le.AdaptationSet_asArray=le.AdaptationSet_asArray.filter(function(K){var pe=K.Representation_asArray&&K.Representation_asArray.length>0;return pe||(p.trigger(F.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:K}),R.warn("AdaptationSet has been removed because of no supported Representation")),pe}),$()}).catch(function(){$()})}else $()})}(ae,le))}),Promise.all($)}return f={setConfig:function k(le){le&&(le.adapter&&(g=le.adapter),le.capabilities&&(v=le.capabilities),le.settings&&(A=le.settings),le.customParametersModel&&(U=le.customParametersModel))},filterUnsupportedFeatures:function O(le){return new Promise(function(Fe){var $=[];$.push(x(I.default.VIDEO,le)),$.push(x(I.default.AUDIO,le)),Promise.all($).then(function(){A.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function Y(le){!le||!le.Period_asArray||0===le.Period_asArray.length||le.Period_asArray.forEach(function(Fe){Fe.AdaptationSet_asArray=Fe.AdaptationSet_asArray.filter(function($){return!$.Representation_asArray||0===$.Representation_asArray.length||($.Representation_asArray=$.Representation_asArray.filter(function(ae){var K=g.getEssentialPropertiesForRepresentation(ae);if(K&&K.length>0)for(var pe=0;pe<K.length;){if(!v.supportsEssentialProperty(K[pe]))return R.debug("[Stream] EssentialProperty not supported: "+K[pe].schemeIdUri),!1;pe+=1}return!0}),$.Representation_asArray&&$.Representation_asArray.length>0)})})}(le),function q(le){var Fe=U.getCustomCapabilitiesFilters();!Fe||0===Fe.length||!le||!le.Period_asArray||0===le.Period_asArray.length||le.Period_asArray.forEach(function($){$.AdaptationSet_asArray=$.AdaptationSet_asArray.filter(function(ae){return!ae.Representation_asArray||0===ae.Representation_asArray.length||(ae.Representation_asArray=ae.Representation_asArray.filter(function(K){return!Fe.some(function(pe){return!pe(K)})}),ae.Representation_asArray&&ae.Representation_asArray.length>0)})})}(le),Fe()}).catch(function(){Fe()})})}},function j(){R=Object(y.default)(D).getInstance().getLogger(f)}(),f}L.__dashjs_factory_name="CapabilitiesFilter",C.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function I(){return{customTimeRangeArray:[],length:0,add:function L(A,U){var R=0;for(R=0;R<this.customTimeRangeArray.length&&A>this.customTimeRangeArray[R].start;R++);for(this.customTimeRangeArray.splice(R,0,{start:A,end:U}),R=0;R<this.customTimeRangeArray.length-1;R++)this.mergeRanges(R,R+1)&&R--;this.length=this.customTimeRangeArray.length},clear:function D(){this.customTimeRangeArray=[],this.length=0},remove:function p(A,U){for(var R=0;R<this.customTimeRangeArray.length;R++)if(A<=this.customTimeRangeArray[R].start&&U>=this.customTimeRangeArray[R].end)this.customTimeRangeArray.splice(R,1),R--;else{if(A>this.customTimeRangeArray[R].start&&U<this.customTimeRangeArray[R].end){this.customTimeRangeArray.splice(R+1,0,{start:U,end:this.customTimeRangeArray[R].end}),this.customTimeRangeArray[R].end=A;break}A>this.customTimeRangeArray[R].start&&A<this.customTimeRangeArray[R].end?this.customTimeRangeArray[R].end=A:U>this.customTimeRangeArray[R].start&&U<this.customTimeRangeArray[R].end&&(this.customTimeRangeArray[R].start=U)}this.length=this.customTimeRangeArray.length},mergeRanges:function f(A,U){var R=this.customTimeRangeArray[A],j=this.customTimeRangeArray[U];return R.start<=j.start&&j.start<=R.end&&R.end<=j.end?(R.end=j.end,this.customTimeRangeArray.splice(U,1),!0):j.start<=R.start&&R.start<=j.end&&j.end<=R.end?(R.start=j.start,this.customTimeRangeArray.splice(U,1),!0):j.start<=R.start&&R.start<=j.end&&R.end<=j.end?(this.customTimeRangeArray.splice(A,1),!0):R.start<=j.start&&j.start<=R.end&&j.end<=R.end&&(this.customTimeRangeArray.splice(U,1),!0)},start:function g(A){return Object(y.checkInteger)(A),A>=this.customTimeRangeArray.length||A<0?NaN:this.customTimeRangeArray[A].start},end:function v(A){return Object(y.checkInteger)(A),A>=this.customTimeRangeArray.length||A<0?NaN:this.customTimeRangeArray[A].end}}}I.__dashjs_factory_name="CustomTimeRanges",C.default=t.default.getClassFactory(I)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],F="dashjs_?_bitrate",L="dashjs_?_settings",D="localStorage",f="lastBitrate",g="lastMediaSettings";function v(U){var k,O,x,R=this.context,j=(U=U||{}).settings;function T(ae){if(void 0!==x)return x;x=!1;var oe;try{typeof window<"u"&&(oe=window[ae])}catch(he){return O.warn("DOMStorage access denied: "+he.message),x}if(!oe||ae!==D&&"sessionStorage"!==ae)return x;try{oe.setItem("1","1"),oe.removeItem("1"),x=!0}catch(he){O.warn("DOMStorage is supported, but cannot be used: "+he.message)}return x}function S(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(ae,K){return T(ae)&&j.get().streaming[K+"CachingInfo"].enabled}function Y(){if(!j)throw new Error(I.default.MISSING_CONFIG_ERROR)}return k={getSavedBitrateSettings:function le(ae){if(Y(),!j.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var K=NaN;if(B(D,f)){var pe=F.replace(/\?/,ae);try{var oe=JSON.parse(localStorage.getItem(pe))||{},he=(new Date).getTime()-parseInt(oe.timestamp,10)>=j.get().streaming.lastBitrateCachingInfo.ttl||!1,Se=parseFloat(oe.bitrate);isNaN(Se)||he?he&&localStorage.removeItem(pe):(K=Se,O.debug("Last saved bitrate for "+ae+" was "+Se))}catch{return null}}return K},setSavedBitrateSettings:function $(ae,K){if(B(D,f)&&K){var pe=F.replace(/\?/,ae);try{localStorage.setItem(pe,JSON.stringify({bitrate:K.toFixed(3),timestamp:S()}))}catch(oe){O.error(oe.message)}}},getSavedMediaSettings:function q(ae){if(Y(),!j.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var K=null;if(B(D,g)){var pe=L.replace(/\?/,ae);try{var oe=JSON.parse(localStorage.getItem(pe))||{},he=(new Date).getTime()-parseInt(oe.timestamp,10)>=j.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;K=oe.settings,he&&(localStorage.removeItem(pe),K=null)}catch{return null}}return K},setSavedMediaSettings:function Fe(ae,K){if(B(D,g)){var pe=L.replace(/\?/,ae);try{localStorage.setItem(pe,JSON.stringify({settings:K,timestamp:S()}))}catch(oe){O.error(oe.message)}}}},function P(){O=Object(y.default)(R).getInstance().getLogger(k),function N(){T(D)&&E.forEach(function(ae){var K=localStorage.getItem(ae.oldKey);if(K){localStorage.removeItem(ae.oldKey);try{localStorage.setItem(ae.newKey,K)}catch(pe){O.error(pe.message)}}})}()}(),k}v.__dashjs_factory_name="DOMStorage";var A=t.default.getSingletonFactory(v);C.default=A},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var I,E=/^[a-z][a-z0-9+\-_.]*:/i,F=/^https?:\/\//i,L=/^https:\/\//i,D=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,p=function(B,Y){try{return new window.URL(B,Y).toString()}catch{return B}},f=function(B,Y){var q=v;if(!Y||!j(B))return B;k(B)&&(q=A),O(B)&&(q=R);var le=q(Y),Fe="/"!==le.charAt(le.length-1)&&"/"!==B.charAt(0)?"/":"";return[le,B].join(Fe)};function v(S){var B=S.indexOf("/"),Y=S.lastIndexOf("/");return-1!==B?Y===B+1?S:(-1!==S.indexOf("?")&&(S=S.substring(0,S.indexOf("?"))),S.substring(0,Y+1)):""}function A(S){var B=S.match(D);return B?B[1]:""}function R(S){var B=S.match(E);return B?B[0]:""}function j(S){return!E.test(S)}function k(S){return j(S)&&"/"===S.charAt(0)}function O(S){return 0===S.indexOf("//")}return function g(){try{new window.URL("x","http://y"),I=p}catch{}finally{I=I||f}}(),{parseBaseUrl:v,parseOrigin:A,parseScheme:R,isRelative:j,isPathAbsolute:k,isSchemeRelative:O,isHTTPURL:function x(S){return F.test(S)},isHTTPS:function P(S){return L.test(S)},removeHostname:function U(S){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(S)[2].substring(1)},resolve:function T(S,B){return I(S,B)}}}y.__dashjs_factory_name="DefaultURLUtils",C.default=t.default.getSingletonFactory(y)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(I){I=I||{};var E,F=new DataView(I.data),L=0;function f(O,x){var P=!0,T=0;if(void 0===x&&(x=!1),O.tag>16777215?(F.getUint32(L)!==O.tag&&(P=!1),T=4):O.tag>65535?(256*F.getUint16(L)+F.getUint8(L+2)!==O.tag&&(P=!1),T=3):O.tag>255?(F.getUint16(L)!==O.tag&&(P=!1),T=2):(F.getUint8(L)!==O.tag&&(P=!1),T=1),!P&&O.required&&!x)throw new Error("required tag not found");return P&&(L+=T),P}function U(O){var x=1,P=128,N=-1,S=0,B=F.getUint8(L),Y=0;for(Y=0;Y<8;Y+=1){if((B&P)===P){S=void 0===O?B&~P:B,N=Y;break}P>>=1}for(Y=0;Y<N;Y+=1,x+=1)S=S<<8|255&F.getUint8(L+x);return L+=x,S}return E={getPos:function D(){return L},setPos:function p(O){L=O},consumeTag:f,consumeTagAndSize:function g(O,x){var P=f(O,x);return P&&U(),P},parseTag:function v(O){var x;return f(O),x=U(),E[O.parse](x)},skipOverElement:function A(O,x){var T,P=f(O,x);return P&&(T=U(),L+=T),P},getMatroskaCodedNum:U,getMatroskaFloat:function R(O){var x;switch(O){case 4:x=F.getFloat32(L),L+=4;break;case 8:x=F.getFloat64(L),L+=8}return x},getMatroskaUint:function j(O){for(var x=0,P=0;P<O;P+=1)x<<=8,x|=255&F.getUint8(L+P);return L+=O,x},moreData:function k(){return L<F.byteLength}}}y.__dashjs_factory_name="EBMLParser",C.default=t.default.getClassFactory(y)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var L=this.context,D=Object(t.default)(L).getInstance();return{error:function p(f){D.trigger(y.default.ERROR,{error:f})}}}E.__dashjs_factory_name="ErrorHandler",C.default=I.default.getSingletonFactory(E)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var I={};return{save:function E(p){var f=p.streamId,g=p.representationId;I[f]=I[f]||{},I[f][g]=p},extract:function F(p,f){return I&&I[p]&&I[p][f]?I[p][f]:null},reset:function L(){I={}}}}y.__dashjs_factory_name="InitCache",C.default=t.default.getSingletonFactory(y)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(){var F;function D(v){var A=[];if(!v||!F||"function"!=typeof F.fetchAll)return A;for(var R,U=F.fetchAll(v),j=0,k=U.length;j<k;j++)(R=g(U[j]))&&A.push(R);return A}function g(v){if(!v)return null;var A=new t.default(v);return v.hasOwnProperty("_incomplete")&&(A.isComplete=!v._incomplete),A}return{getBox:function L(v){return v&&F&&F.boxes&&0!==F.boxes.length&&"function"==typeof F.fetch?g(F.fetch(v)):null},getBoxes:D,setData:function p(v){F=v},getLastBox:function f(){if(!F||!F.boxes||!F.boxes.length)return null;var A=D(F.boxes[F.boxes.length-1].type);return A.length>0?A[A.length-1]:null}}}I.__dashjs_factory_name="IsoFile",C.default=y.default.getClassFactory(I)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),I=c.n(y);function E(){return{areEqual:function L(D,p){return I()(D,p)}}}E.__dashjs_factory_name="ObjectUtils",C.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(et,C,c){"use strict";c.r(C),c.d(C,"modifyRequest",function(){return y});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(E,F){var L={url:E.url,method:E.method,headers:Object.assign({},E.headers),credentials:E.withCredentials?"include":void 0};return Promise.resolve(F.modifyRequest(L)).then(function(){return Object.assign(E,L,{withCredentials:"include"===L.credentials})})}function I(){return{modifyRequest:null,modifyRequestURL:function F(D){return D},modifyRequestHeader:function L(D,p){return D}}}I.__dashjs_factory_name="RequestModifier",C.default=t.default.getSingletonFactory(I)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(et,C,c){"use strict";c.r(C),c.d(C,"checkParameterType",function(){return I}),c.d(C,"checkInteger",function(){return E}),c.d(C,"checkRange",function(){return F}),c.d(C,"checkIsVideoOrAudioType",function(){return L});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function y(D){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(D)}function I(D,p){if(y(D)!==p)throw t.default.BAD_ARGUMENT_ERROR}function E(D){if(null===D||isNaN(D)||D%1!=0)throw t.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function F(D,p,f){if(D<p||D>f)throw t.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function L(D){if("string"!=typeof D||D!==t.default.AUDIO&&D!==t.default.VIDEO)throw t.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),D=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),p=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function f(){var A,U,g=this.context,v=Object(I.default)(g).getInstance(),R=0;function k(){var x="cue_TTML_"+R;return R++,x}return A={parse:function O(x,P,T,N,S){var q,le,Fe,B="",Y=[],$={},ae={},K="",pe="",oe={onOpenTag:function(Re,Me,me){if(me[" imagetype"]&&!me[" imageType"]&&(v.trigger(D.default.CONFORMANCE_VIOLATION,{level:p.default.LEVELS.ERROR,event:p.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),me[" imageType"]=me[" imagetype"]),"image"===Me&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Re||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Re)){if(!me[" imageType"]||"PNG"!==me[" imageType"].value)return void U.warn("smpte-tt imageType != PNG. Discarded");K=me["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){K&&(ae[K]=pe.trim()),pe="",K=""},onText:function(Re){K&&(pe+=Re)}};if(!x)throw B="no ttml data to parse",new Error(B);$.data=x,v.trigger(E.default.TTML_TO_PARSE,$);var he=Object(F.fromXML)($.data,function(fe){B=fe},oe);v.trigger(E.default.TTML_PARSED,{ttmlString:$.data,ttmlDoc:he});var Se=he.getMediaTimeEvents();for(Fe=0;Fe<Se.length;Fe++){var Le=Object(F.generateISD)(he,Se[Fe],function(fe){B=fe});Le.contents.some(function(fe){return fe.contents.length})&&(q=Se[Fe]+P<T?T:Se[Fe]+P)<(le=Se[Fe+1]+P>N?N:Se[Fe+1]+P)&&Y.push({start:q,end:le,type:"html",cueID:k(),isd:Le,images:S,embeddedImages:ae})}if(""!==B)throw U.error(B),new Error(B);return Y}},function j(){U=Object(y.default)(g).getInstance().getLogger(A)}(),A}f.__dashjs_factory_name="TTMLParser",C.default=t.default.getSingletonFactory(f)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function I(){var L,D=[],p=this.context;function A(B,Y,q){var le=function f(B){var Y;for(Y=0;Y<D.length;Y++)if(D[Y].regex.test(B))return D[Y].utils;return L}(q||Y);return le&&"function"==typeof le[B]?le[B](Y,q):L[B](Y,q)}return function g(){L=Object(y.default)(p).getInstance()}(),{registerUrlRegex:function v(B,Y){D.push({regex:B,utils:Y})},parseBaseUrl:function U(B){return A("parseBaseUrl",B)},parseOrigin:function R(B){return A("parseOrigin",B)},parseScheme:function k(B){return A("parseScheme",B)},isRelative:function O(B){return A("isRelative",B)},isPathAbsolute:function x(B){return A("isPathAbsolute",B)},isSchemeRelative:function P(B){return A("isSchemeRelative",B)},isHTTPURL:function T(B){return A("isHTTPURL",B)},isHTTPS:function N(B){return A("isHTTPS",B)},removeHostname:function j(B){return A("removeHostname",B)},resolve:function S(B,Y){return A("resolve",B,Y)}}}I.__dashjs_factory_name="URLUtils";var E=t.default.getSingletonFactory(I);C.default=E},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function E(){var L,D,p,f,g,v,F=this.context;function R(x){var P=x.split(":"),T=P.length-1;return x=60*parseInt(P[T-1],10)+parseFloat(P[T]),2===T&&(x+=3600*parseInt(P[0],10)),x}function j(x){var P=x.split(f),T=P[1].split(v);return T.shift(),P[1]=T[0],T.shift(),{cuePoints:P,styles:k(T)}}function k(x){var P={};return x.forEach(function(T){if(T.split(/:/).length>1){var N=T.split(/:/)[1];N&&-1!=N.search(/%/)&&(N=parseInt(N.replace(/%/,""),10)),(T.match(/align/)||T.match(/A/))&&(P.align=N),(T.match(/line/)||T.match(/L/))&&(P.line=N),(T.match(/position/)||T.match(/P/))&&(P.position=N),(T.match(/size/)||T.match(/S/))&&(P.size=N)}}),P}function O(x,P){for(var B,T=P,N="",S="";""!==x[T]&&T<x.length;)T++;if((B=T-P)>1)for(var Y=0;Y<B;Y++){if((S=x[P+Y]).match(f)){N="";break}N+=S,Y!==B-1&&(N+="\n")}else(S=x[P]).match(f)||(N=S);return N}return L={parse:function U(x){var T,N,P=[];if(!x)return P;T=(x=x.split(p)).length,N=-1;for(var S=0;S<T;S++){var B=x[S];if(B.length>0&&"WEBVTT"!==B&&B.match(f)){var Y=j(B),q=Y.cuePoints,le=Y.styles,Fe=O(x,S+1),$=R(q[0].replace(g,"")),ae=R(q[1].replace(g,""));!isNaN($)&&!isNaN(ae)&&$>=N&&ae>$?""!==Fe?(N=$,P.push({start:$,end:ae,data:Fe,styles:le})):D.error("Skipping cue due to empty/malformed cue text"):D.error("Skipping cue due to incorrect cue timing")}}return P}},function A(){D=Object(y.default)(F).getInstance().getLogger(L),p=/(?:\r\n|\r|\n)/gm,f=/-->/,g=/(^[\s]+|[\s]+$)/g,v=/\s\b/g}(),L}E.__dashjs_factory_name="VTTParser",C.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var I,E;return I={parse:function L(D){var p=[];return E.oncue=function(f){f.start=f.startTime,f.end=f.endTime,f.data=f.text,f.styles={align:f.align,line:f.line,position:f.position,size:f.size},p.push(f)},E.parse(D),p}},function F(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(E=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),I}y.__dashjs_factory_name="VttCustomRenderingParser",C.default=t.default.getSingletonFactory(y)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(I){var F=(I=I||{}).blacklistController;return{select:function L(D){var f,p=0;return D&&D.some(function(g,v){return p=v,!F.contains(g.serviceLocation)})&&(f=D[p]),f}}}y.__dashjs_factory_name="BasicSelector",C.default=t.default.getClassFactory(y)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function I(){var F,L,D,E=this.context;function v(){for(var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=0,j=NaN,k=function(){var P=A[R],T=U.findIndex(function(N){return N.serviceLocation&&N.serviceLocation===P});if(-1!==T&&!D.contains(U[T].serviceLocation))return j=T,"break";R+=1};R<A.length&&"break"!==k(););return j}return F={selectBaseUrlIndex:function g(A){var U=NaN;if(isNaN(A.selectedIdx)){var R=L.getSteeringDataFromManifest();R&&R.defaultServiceLocation&&(U=v([R.defaultServiceLocation],A.baseUrls))}var j=L.getCurrentSteeringResponseData();return A.baseUrls&&A.baseUrls.length&&j&&j.serviceLocationPriority&&j.serviceLocationPriority.length&&(U=v(j.serviceLocationPriority,A.baseUrls)),U},setConfig:function f(A){A.blacklistController&&(D=A.blacklistController),A.contentSteeringController&&(L=A.contentSteeringController)}},function p(){L=Object(y.default)(E).getInstance()}(),F}I.__dashjs_factory_name="ContentSteeringSelector",C.default=t.default.getClassFactory(I)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(I){var F=(I=I||{}).blacklistController;return{select:function p(f){return f&&function D(f){var j,k,A=0,U=[],R=0;if((k=f.sort(function(x,P){var T=x.dvb_priority-P.dvb_priority;return isNaN(T)?0:T}).filter(function(x,P,T){return!P||T[0].dvb_priority&&x.dvb_priority&&T[0].dvb_priority===x.dvb_priority})).length)return k.length>1&&(k.forEach(function(O){U.push(A+=O.dvb_weight)}),j=Math.floor(Math.random()*(A-1)),U.every(function(O,x){return R=x,!(j<O)})),k[R]}(function L(f){var g=[];return f.filter(function(R){return!F.contains(R.serviceLocation)||(R.dvb_priority&&g.push(R.dvb_priority),!1)}).filter(function(R){return!(g.length&&R.dvb_priority&&-1!==g.indexOf(R.dvb_priority))})}(f))}}}y.__dashjs_factory_name="DVBSelector",C.default=t.default.getClassFactory(y)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(f,g,v){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.code=f||null,this.message=g||null,this.data=v||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,L(A.key),A)}}function L(f){var g=function D(f,g){if("object"!==y(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==y(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===y(g)?g:String(g)}var p=function(){function f(g){(function I(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.action=f.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=g||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function F(f,g,v){return g&&E(f.prototype,g),v&&E(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===t.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(v){this.type=v&&v.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=v&&v.url?v.url:null,this.range=v&&v.range?v.range.start+"-"+v.range.end:null,this.mediaType=v&&v.mediaType?v.mediaType:null}}]),f}();p.ACTION_DOWNLOAD="download",p.ACTION_COMPLETE="complete",C.default=p},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function y(k){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(k)}function I(k,O){for(var x=0;x<O.length;x++){var P=O[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,F(P.key),P)}}function F(k){var O=function L(k,O){if("object"!==y(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var P=x.call(k,O||"default");if("object"!==y(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(k)}(k,"string");return"symbol"===y(O)?O:String(O)}function p(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),O&&f(k,O)}function f(k,O){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,T){return P.__proto__=T,P})(k,O)}function g(k){var O=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,P=R(k);if(O){var N=R(this).constructor;T=Reflect.construct(P,arguments,N)}else T=P.apply(this,arguments);return function v(k,O){if(O&&("object"===y(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}C.default=function(k){p(x,k);var O=g(x);function x(P){var T;return function D(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,x),(T=O.call(this,P)).checkForExistenceOnly=!0,T}return function E(k,O,x){return O&&I(k.prototype,O),x&&I(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(t.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function I(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,F(v.key),v)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=function(){function p(f){if(function y(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p),this.offset=f._offset,this.type=f.type,this.size=f.size,this.boxes=[],f.boxes)for(var g=0;g<f.boxes.length;g++)this.boxes.push(new p(f.boxes[g]));switch(this.isComplete=!0,f.type){case"sidx":if(this.timescale=f.timescale,this.earliest_presentation_time=f.earliest_presentation_time,this.first_offset=f.first_offset,this.references=f.references,f.references){this.references=[];for(var v=0;v<f.references.length;v++)this.references.push({reference_type:f.references[v].reference_type,referenced_size:f.references[v].referenced_size,subsegment_duration:f.references[v].subsegment_duration})}break;case"emsg":this.id=f.id,this.version=1===f.version?1:0,this.value=f.value,this.timescale=f.timescale,this.scheme_id_uri=f.scheme_id_uri,this.presentation_time_delta=1===f.version?f.presentation_time:f.presentation_time_delta,this.event_duration=f.event_duration,this.message_data=f.message_data;break;case"mdhd":this.timescale=f.timescale;break;case"mfhd":this.sequence_number=f.sequence_number;break;case"subs":this.entry_count=f.entry_count,this.entries=f.entries;break;case"tfhd":this.base_data_offset=f.base_data_offset,this.sample_description_index=f.sample_description_index,this.default_sample_duration=f.default_sample_duration,this.default_sample_size=f.default_sample_size,this.default_sample_flags=f.default_sample_flags,this.flags=f.flags;break;case"tfdt":this.version=f.version,this.baseMediaDecodeTime=f.baseMediaDecodeTime,this.flags=f.flags;break;case"trun":if(this.sample_count=f.sample_count,this.first_sample_flags=f.first_sample_flags,this.data_offset=f.data_offset,this.flags=f.flags,this.samples=f.samples,f.samples){this.samples=[];for(var U=0,R=f.samples.length;U<R;U++)this.samples.push({sample_size:f.samples[U].sample_size,sample_duration:f.samples[U].sample_duration,sample_composition_time_offset:f.samples[U].sample_composition_time_offset})}}}return function E(p,f,g){return f&&I(p.prototype,f),g&&I(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"getChildBox",value:function(g){for(var v=0;v<this.boxes.length;v++)if(this.boxes[v].type===g)return this.boxes[v]}},{key:"getChildBoxes",value:function(g){for(var v=[],A=0;A<this.boxes.length;A++)this.boxes[A].type===g&&v.push(this.boxes[A]);return v}}]),p}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(f,g,v){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.lastCompletedOffset=f,this.found=g,this.size=v})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function I(O){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function E(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,L(T.key),T)}}function L(O){var x=function D(O,x){if("object"!==I(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==I(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===I(x)?x:String(x)}function f(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&g(O,x)}function g(O,x){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function v(O){var x=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=j(O);if(x){var S=j(this).constructor;N=Reflect.construct(T,arguments,S)}else N=T.apply(this,arguments);return function A(O,x){if(x&&("object"===I(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function U(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function j(O){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}C.default=function(O){f(P,O);var x=v(P);function P(T,N){var S;return function p(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(S=x.call(this)).url=T||null,S.type=N||null,S.mediaType=t.default.STREAM,S.responseType="",S}return function F(O,x,P){return x&&E(O.prototype,x),P&&E(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(y.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function y(k){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(k)}function I(k,O){for(var x=0;x<O.length;x++){var P=O[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,F(P.key),P)}}function F(k){var O=function L(k,O){if("object"!==y(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var P=x.call(k,O||"default");if("object"!==y(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(k)}(k,"string");return"symbol"===y(O)?O:String(O)}function p(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),O&&f(k,O)}function f(k,O){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,T){return P.__proto__=T,P})(k,O)}function g(k){var O=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,P=R(k);if(O){var N=R(this).constructor;T=Reflect.construct(P,arguments,N)}else T=P.apply(this,arguments);return function v(k,O){if(O&&("object"===y(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}C.default=function(k){p(x,k);var O=g(x);function x(){var P;return function D(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,x),(P=O.call(this)).captionData=null,P.label=null,P.defaultTrack=!1,P.kind=null,P.isFragmented=!1,P.isEmbedded=!1,P.isTTML=null,P}return function E(k,O,x){return O&&I(k.prototype,O),x&&I(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(t.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(et,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function I(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,F(A.key),A)}}function E(f,g,v){return g&&I(f.prototype,g),v&&I(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}function F(f){var g=function L(f,g){if("object"!==y(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==y(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===y(g)?g:String(g)}C.default=E(function f(){(function D(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.target=null,this.state=t.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(et,C,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function y(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,E(A.key),A)}}function I(f,g,v){return g&&y(f.prototype,g),v&&y(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}c.r(C),c.d(C,"HTTPRequest",function(){return D}),c.d(C,"HTTPRequestTrace",function(){return p});var D=I(function f(){L(this,f),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),p=I(function f(){L(this,f),this.s=null,this.d=null,this.b=[]});D.GET="GET",D.HEAD="HEAD",D.MPD_TYPE="MPD",D.XLINK_EXPANSION_TYPE="XLinkExpansion",D.INIT_SEGMENT_TYPE="InitializationSegment",D.INDEX_SEGMENT_TYPE="IndexSegment",D.MEDIA_SEGMENT_TYPE="MediaSegment",D.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",D.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",D.DVB_REPORTING_TYPE="DVBReporting",D.LICENSE="license",D.CONTENT_STEERING_TYPE="ContentSteering",D.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(et,C,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function y(g,v){for(var A=0;A<v.length;A++){var U=v[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(g,E(U.key),U)}}function I(g,v,A){return v&&y(g.prototype,v),A&&y(g,A),Object.defineProperty(g,"prototype",{writable:!1}),g}function E(g){var v=function F(g,v){if("object"!==t(g)||null===g)return g;var A=g[Symbol.toPrimitive];if(void 0!==A){var U=A.call(g,v||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(g)}(g,"string");return"symbol"===t(v)?v:String(v)}function L(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}c.r(C),c.d(C,"ManifestUpdate",function(){return D}),c.d(C,"ManifestUpdateStreamInfo",function(){return p}),c.d(C,"ManifestUpdateRepresentationInfo",function(){return f});var D=I(function g(){L(this,g),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),p=I(function g(){L(this,g),this.id=null,this.index=null,this.start=null,this.duration=null}),f=I(function g(){L(this,g),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(et,C,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function y(f,g){for(var v=0;v<g.length;v++){var A=g[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,E(A.key),A)}}function I(f,g,v){return g&&y(f.prototype,g),v&&y(f,v),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var v=f[Symbol.toPrimitive];if(void 0!==v){var A=v.call(f,g||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}c.r(C),c.d(C,"PlayList",function(){return D}),c.d(C,"PlayListTrace",function(){return p});var D=I(function f(){L(this,f),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});D.INITIAL_PLAYOUT_START_REASON="initial_playout",D.SEEK_START_REASON="seek",D.RESUME_FROM_PAUSE_START_REASON="resume",D.METRICS_COLLECTION_START_REASON="metrics_collection_start";var p=I(function f(){L(this,f),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});p.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",p.REBUFFERING_REASON="rebuffering",p.USER_REQUEST_STOP_REASON="user_request",p.END_OF_PERIOD_STOP_REASON="end_of_period",p.END_OF_CONTENT_STOP_REASON="end_of_content",p.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",p.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(et,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function y(p,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,E(v.key),v)}}function I(p,f,g){return f&&y(p.prototype,f),g&&y(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var v=g.call(p,f||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(C),C.default=I(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(et,C){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(et,C){}}).default},4440:(Bn,et,C)=>{var c;!function(){"use strict";var t="object"==typeof window?window:{},y=!t.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;y&&(t=global);var A,U,I=!t.HI_BASE64_NO_COMMON_JS&&Bn.exports,E=C.amdO,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),L={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},p=function(x){var P,T,N,S,B=[],Y=0,q=x.length;"="===x.charAt(q-2)?q-=2:"="===x.charAt(q-1)&&(q-=1);for(var le=0,Fe=q>>2<<2;le<Fe;)P=L[x.charAt(le++)],T=L[x.charAt(le++)],N=L[x.charAt(le++)],S=L[x.charAt(le++)],B[Y++]=255&(P<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2),B[Y++]=255&(N<<6|S);var $=q-Fe;return 2===$?(P=L[x.charAt(le++)],T=L[x.charAt(le++)],B[Y++]=255&(P<<2|T>>>4)):3===$&&(P=L[x.charAt(le++)],T=L[x.charAt(le++)],N=L[x.charAt(le++)],B[Y++]=255&(P<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2)),B},f=function(x){for(var P,T,N,S="",B=x.length,Y=0,q=3*parseInt(B/3);Y<q;)P=x[Y++],T=x[Y++],N=x[Y++],S+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var le=B-q;return 1===le?S+=F[(P=x[Y])>>>2]+F[P<<4&63]+"==":2===le&&(P=x[Y++],S+=F[P>>>2]+F[63&(P<<4|(T=x[Y])>>>4)]+F[T<<2&63]+"="),S},g=t.btoa,v=t.atob;if(y){var R=C(9007).lW;g=function(x){return new R(x,"ascii").toString("base64")},f=A=function(x){return new R(x).toString("base64")},v=function(x){return new R(x,"base64").toString("ascii")},U=function(x){return new R(x,"base64").toString()}}else g?(A=function(x){for(var P="",T=0;T<x.length;T++){var N=x.charCodeAt(T);N<128?P+=String.fromCharCode(N):N<2048?P+=String.fromCharCode(192|N>>6)+String.fromCharCode(128|63&N):N<55296||N>=57344?P+=String.fromCharCode(224|N>>12)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N):(N=65536+((1023&N)<<10|1023&x.charCodeAt(++T)),P+=String.fromCharCode(240|N>>18)+String.fromCharCode(128|N>>12&63)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N))}return g(P)},U=function(x){var P=v(x.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(P))return P;for(var Y,q,T="",N=0,S=P.length,B=0;N<S;)if((Y=P.charCodeAt(N++))<=127)T+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)q=31&Y,B=1;else if(Y<=239)q=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";q=7&Y,B=3}for(var le=0;le<B;++le){if((Y=P.charCodeAt(N++))<128||Y>191)throw"not a UTF-8 string";q<<=6,q+=63&Y}if(q>=55296&&q<=57343||q>1114111)throw"not a UTF-8 string";q<=65535?T+=String.fromCharCode(q):(q-=65536,T+=String.fromCharCode(55296+(q>>10)),T+=String.fromCharCode(56320+(1023&q)))}return T}):(g=function(x){for(var P,T,N,S="",B=x.length,Y=0,q=3*parseInt(B/3);Y<q;)P=x.charCodeAt(Y++),T=x.charCodeAt(Y++),N=x.charCodeAt(Y++),S+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var le=B-q;return 1===le?(P=x.charCodeAt(Y),S+=F[P>>>2]+F[P<<4&63]+"=="):2===le&&(P=x.charCodeAt(Y++),T=x.charCodeAt(Y),S+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[T<<2&63]+"="),S},A=function(x){for(var P,T,N,S="",B=function(x){for(var P=[],T=0;T<x.length;T++){var N=x.charCodeAt(T);N<128?P[P.length]=N:N<2048?(P[P.length]=192|N>>6,P[P.length]=128|63&N):N<55296||N>=57344?(P[P.length]=224|N>>12,P[P.length]=128|N>>6&63,P[P.length]=128|63&N):(N=65536+((1023&N)<<10|1023&x.charCodeAt(++T)),P[P.length]=240|N>>18,P[P.length]=128|N>>12&63,P[P.length]=128|N>>6&63,P[P.length]=128|63&N)}return P}(x),Y=B.length,q=0,le=3*parseInt(Y/3);q<le;)P=B[q++],T=B[q++],N=B[q++],S+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var Fe=Y-le;return 1===Fe?S+=F[(P=B[q])>>>2]+F[P<<4&63]+"==":2===Fe&&(P=B[q++],S+=F[P>>>2]+F[63&(P<<4|(T=B[q])>>>4)]+F[T<<2&63]+"="),S},v=function(x){var P,T,N,S,B="",Y=x.length;"="===x.charAt(Y-2)?Y-=2:"="===x.charAt(Y-1)&&(Y-=1);for(var q=0,le=Y>>2<<2;q<le;)P=L[x.charAt(q++)],T=L[x.charAt(q++)],N=L[x.charAt(q++)],S=L[x.charAt(q++)],B+=String.fromCharCode(255&(P<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))+String.fromCharCode(255&(N<<6|S));var Fe=Y-le;return 2===Fe?(P=L[x.charAt(q++)],T=L[x.charAt(q++)],B+=String.fromCharCode(255&(P<<2|T>>>4))):3===Fe&&(P=L[x.charAt(q++)],T=L[x.charAt(q++)],N=L[x.charAt(q++)],B+=String.fromCharCode(255&(P<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))),B},U=function(x){for(var Y,q,P="",T=p(x),N=T.length,S=0,B=0;S<N;)if((Y=T[S++])<=127)P+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)q=31&Y,B=1;else if(Y<=239)q=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";q=7&Y,B=3}for(var le=0;le<B;++le){if((Y=T[S++])<128||Y>191)throw"not a UTF-8 string";q<<=6,q+=63&Y}if(q>=55296&&q<=57343||q>1114111)throw"not a UTF-8 string";q<=65535?P+=String.fromCharCode(q):(q-=65536,P+=String.fromCharCode(55296+(q>>10)),P+=String.fromCharCode(56320+(1023&q)))}return P});var k=function(x,P){return P?v(x):U(x)},O={encode:function(x,P){var T="string"!=typeof x;return T&&x.constructor===t.ArrayBuffer&&(x=new Uint8Array(x)),T?f(x):!P&&/[^\x00-\x7F]/.test(x)?A(x):g(x)},decode:k,atob:v,btoa:g};k.bytes=p,k.string=k,I?Bn.exports=O:(t.base64=O,E&&void 0!==(c=function(){return O}.call(O,C,O,Bn))&&(Bn.exports=c))}()},2601:(Bn,et)=>{et.read=function(C,c,t,y,I){var E,F,L=8*I-y-1,D=(1<<L)-1,p=D>>1,f=-7,g=t?I-1:0,v=t?-1:1,A=C[c+g];for(g+=v,E=A&(1<<-f)-1,A>>=-f,f+=L;f>0;E=256*E+C[c+g],g+=v,f-=8);for(F=E&(1<<-f)-1,E>>=-f,f+=y;f>0;F=256*F+C[c+g],g+=v,f-=8);if(0===E)E=1-p;else{if(E===D)return F?NaN:1/0*(A?-1:1);F+=Math.pow(2,y),E-=p}return(A?-1:1)*F*Math.pow(2,E-y)},et.write=function(C,c,t,y,I,E){var F,L,D,p=8*E-I-1,f=(1<<p)-1,g=f>>1,v=23===I?Math.pow(2,-24)-Math.pow(2,-77):0,A=y?0:E-1,U=y?1:-1,R=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(L=isNaN(c)?1:0,F=f):(F=Math.floor(Math.log(c)/Math.LN2),c*(D=Math.pow(2,-F))<1&&(F--,D*=2),(c+=F+g>=1?v/D:v*Math.pow(2,1-g))*D>=2&&(F++,D/=2),F+g>=f?(L=0,F=f):F+g>=1?(L=(c*D-1)*Math.pow(2,I),F+=g):(L=c*Math.pow(2,g-1)*Math.pow(2,I),F=0));I>=8;C[t+A]=255&L,A+=U,L/=256,I-=8);for(F=F<<I|L,p+=I;p>0;C[t+A]=255&F,A+=U,F/=256,p-=8);C[t+A-U]|=128*R}},5619:(Bn,et,C)=>{"use strict";C.d(et,{X:()=>t});var c=C(8645);class t extends c.x{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const E=super._subscribe(I);return!E.closed&&I.next(this._value),E}getValue(){const{hasError:I,thrownError:E,_value:F}=this;if(I)throw E;return this._throwIfClosed(),F}next(I){super.next(this._value=I)}}},5592:(Bn,et,C)=>{"use strict";C.d(et,{y:()=>D});var c=C(305),t=C(7394),y=C(4850),I=C(8407),E=C(2653),F=C(4674),L=C(1441);let D=(()=>{class v{constructor(U){U&&(this._subscribe=U)}lift(U){const R=new v;return R.source=this,R.operator=U,R}subscribe(U,R,j){const k=function g(v){return v&&v instanceof c.Lv||function f(v){return v&&(0,F.m)(v.next)&&(0,F.m)(v.error)&&(0,F.m)(v.complete)}(v)&&(0,t.Nn)(v)}(U)?U:new c.Hp(U,R,j);return(0,L.x)(()=>{const{operator:O,source:x}=this;k.add(O?O.call(k,x):x?this._subscribe(k):this._trySubscribe(k))}),k}_trySubscribe(U){try{return this._subscribe(U)}catch(R){U.error(R)}}forEach(U,R){return new(R=p(R))((j,k)=>{const O=new c.Hp({next:x=>{try{U(x)}catch(P){k(P),O.unsubscribe()}},error:k,complete:j});this.subscribe(O)})}_subscribe(U){var R;return null===(R=this.source)||void 0===R?void 0:R.subscribe(U)}[y.L](){return this}pipe(...U){return(0,I.U)(U)(this)}toPromise(U){return new(U=p(U))((R,j)=>{let k;this.subscribe(O=>k=O,O=>j(O),()=>R(k))})}}return v.create=A=>new v(A),v})();function p(v){var A;return null!==(A=v??E.config.Promise)&&void 0!==A?A:Promise}},8645:(Bn,et,C)=>{"use strict";C.d(et,{x:()=>L});var c=C(5592),t=C(7394);const I=(0,C(2306).d)(p=>function(){p(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var E=C(9039),F=C(1441);let L=(()=>{class p extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(g){const v=new D(this,this);return v.operator=g,v}_throwIfClosed(){if(this.closed)throw new I}next(g){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(g)}})}error(g){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=g;const{observers:v}=this;for(;v.length;)v.shift().error(g)}})}complete(){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:g}=this;for(;g.length;)g.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var g;return(null===(g=this.observers)||void 0===g?void 0:g.length)>0}_trySubscribe(g){return this._throwIfClosed(),super._trySubscribe(g)}_subscribe(g){return this._throwIfClosed(),this._checkFinalizedStatuses(g),this._innerSubscribe(g)}_innerSubscribe(g){const{hasError:v,isStopped:A,observers:U}=this;return v||A?t.Lc:(this.currentObservers=null,U.push(g),new t.w0(()=>{this.currentObservers=null,(0,E.P)(U,g)}))}_checkFinalizedStatuses(g){const{hasError:v,thrownError:A,isStopped:U}=this;v?g.error(A):U&&g.complete()}asObservable(){const g=new c.y;return g.source=this,g}}return p.create=(f,g)=>new D(f,g),p})();class D extends L{constructor(f,g){super(),this.destination=f,this.source=g}next(f){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.next)||void 0===v||v.call(g,f)}error(f){var g,v;null===(v=null===(g=this.destination)||void 0===g?void 0:g.error)||void 0===v||v.call(g,f)}complete(){var f,g;null===(g=null===(f=this.destination)||void 0===f?void 0:f.complete)||void 0===g||g.call(f)}_subscribe(f){var g,v;return null!==(v=null===(g=this.source)||void 0===g?void 0:g.subscribe(f))&&void 0!==v?v:t.Lc}}},305:(Bn,et,C)=>{"use strict";C.d(et,{Hp:()=>j,Lv:()=>v});var c=C(4674),t=C(7394),y=C(2653),I=C(3894),E=C(2420);const F=p("C",void 0,void 0);function p(T,N,S){return{kind:T,value:N,error:S}}var f=C(7599),g=C(1441);class v extends t.w0{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,t.Nn)(N)&&N.add(this)):this.destination=P}static create(N,S,B){return new j(N,S,B)}next(N){this.isStopped?x(function D(T){return p("N",T,void 0)}(N),this):this._next(N)}error(N){this.isStopped?x(function L(T){return p("E",void 0,T)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?x(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A=Function.prototype.bind;function U(T,N){return A.call(T,N)}class R{constructor(N){this.partialObserver=N}next(N){const{partialObserver:S}=this;if(S.next)try{S.next(N)}catch(B){k(B)}}error(N){const{partialObserver:S}=this;if(S.error)try{S.error(N)}catch(B){k(B)}else k(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(S){k(S)}}}class j extends v{constructor(N,S,B){let Y;if(super(),(0,c.m)(N)||!N)Y={next:N??void 0,error:S??void 0,complete:B??void 0};else{let q;this&&y.config.useDeprecatedNextContext?(q=Object.create(N),q.unsubscribe=()=>this.unsubscribe(),Y={next:N.next&&U(N.next,q),error:N.error&&U(N.error,q),complete:N.complete&&U(N.complete,q)}):Y=N}this.destination=new R(Y)}}function k(T){y.config.useDeprecatedSynchronousErrorHandling?(0,g.O)(T):(0,I.h)(T)}function x(T,N){const{onStoppedNotification:S}=y.config;S&&f.z.setTimeout(()=>S(T,N))}const P={closed:!0,next:E.Z,error:function O(T){throw T},complete:E.Z}},7394:(Bn,et,C)=>{"use strict";C.d(et,{Lc:()=>F,w0:()=>E,Nn:()=>L});var c=C(4674);const y=(0,C(2306).d)(p=>function(g){p(this),this.message=g?`${g.length} errors occurred during unsubscription:\n${g.map((v,A)=>`${A+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=g});var I=C(9039);class E{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:g}=this;if(g)if(this._parentage=null,Array.isArray(g))for(const U of g)U.remove(this);else g.remove(this);const{initialTeardown:v}=this;if((0,c.m)(v))try{v()}catch(U){f=U instanceof y?U.errors:[U]}const{_finalizers:A}=this;if(A){this._finalizers=null;for(const U of A)try{D(U)}catch(R){f=f??[],R instanceof y?f=[...f,...R.errors]:f.push(R)}}if(f)throw new y(f)}}add(f){var g;if(f&&f!==this)if(this.closed)D(f);else{if(f instanceof E){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(g=this._finalizers)&&void 0!==g?g:[]).push(f)}}_hasParent(f){const{_parentage:g}=this;return g===f||Array.isArray(g)&&g.includes(f)}_addParent(f){const{_parentage:g}=this;this._parentage=Array.isArray(g)?(g.push(f),g):g?[g,f]:f}_removeParent(f){const{_parentage:g}=this;g===f?this._parentage=null:Array.isArray(g)&&(0,I.P)(g,f)}remove(f){const{_finalizers:g}=this;g&&(0,I.P)(g,f),f instanceof E&&f._removeParent(this)}}E.EMPTY=(()=>{const p=new E;return p.closed=!0,p})();const F=E.EMPTY;function L(p){return p instanceof E||p&&"closed"in p&&(0,c.m)(p.remove)&&(0,c.m)(p.add)&&(0,c.m)(p.unsubscribe)}function D(p){(0,c.m)(p)?p():p.unsubscribe()}},2653:(Bn,et,C)=>{"use strict";C.d(et,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Bn,et,C)=>{"use strict";C.d(et,{c:()=>F});var c=C(5592),t=C(7394),y=C(6196),I=C(8251),E=C(9360);class F extends c.y{constructor(D,p){super(),this.source=D,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,E.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new t.w0;const p=this.getSubject();D.add(this.source.subscribe((0,I.x)(p,void 0,()=>{this._teardown(),p.complete()},f=>{this._teardown(),p.error(f)},()=>this._teardown()))),D.closed&&(this._connection=null,D=t.w0.EMPTY)}return D}refCount(){return(0,y.x)()(this)}}},2572:(Bn,et,C)=>{"use strict";C.d(et,{a:()=>f});var c=C(5592),t=C(7453),y=C(2459),I=C(2737),E=C(7400),F=C(9940),L=C(2714),D=C(8251),p=C(7103);function f(...A){const U=(0,F.yG)(A),R=(0,F.jO)(A),{args:j,keys:k}=(0,t.D)(A);if(0===j.length)return(0,y.D)([],U);const O=new c.y(function g(A,U,R=I.y){return j=>{v(U,()=>{const{length:k}=A,O=new Array(k);let x=k,P=k;for(let T=0;T<k;T++)v(U,()=>{const N=(0,y.D)(A[T],U);let S=!1;N.subscribe((0,D.x)(j,B=>{O[T]=B,S||(S=!0,P--),P||j.next(R(O.slice()))},()=>{--x||j.complete()}))},j)},j)}}(j,U,k?x=>(0,L.n)(k,x):I.y));return R?O.pipe((0,E.Z)(R)):O}function v(A,U,R){A?(0,p.f)(R,A,U):U()}},5211:(Bn,et,C)=>{"use strict";C.d(et,{z:()=>E});var c=C(7537),y=C(9940),I=C(2459);function E(...F){return function t(){return(0,c.J)(1)}()((0,I.D)(F,(0,y.yG)(F)))}},4911:(Bn,et,C)=>{"use strict";C.d(et,{P:()=>y});var c=C(5592),t=C(4829);function y(I){return new c.y(E=>{(0,t.Xf)(I()).subscribe(E)})}},6232:(Bn,et,C)=>{"use strict";C.d(et,{E:()=>t});const t=new(C(5592).y)(E=>E.complete())},2459:(Bn,et,C)=>{"use strict";C.d(et,{D:()=>N});var c=C(4829),t=C(3093),y=C(5137),F=C(5592),D=C(4971),p=C(4674),f=C(7103);function v(S,B){if(!S)throw new Error("Iterable cannot be null");return new F.y(Y=>{(0,f.f)(Y,B,()=>{const q=S[Symbol.asyncIterator]();(0,f.f)(Y,B,()=>{q.next().then(le=>{le.done?Y.complete():Y.next(le.value)})},0,!0)})})}var A=C(8382),U=C(4026),R=C(4266),j=C(3664),k=C(5726),O=C(9853),x=C(541);function N(S,B){return B?function T(S,B){if(null!=S){if((0,A.c)(S))return function I(S,B){return(0,c.Xf)(S).pipe((0,y.R)(B),(0,t.Q)(B))}(S,B);if((0,R.z)(S))return function L(S,B){return new F.y(Y=>{let q=0;return B.schedule(function(){q===S.length?Y.complete():(Y.next(S[q++]),Y.closed||this.schedule())})})}(S,B);if((0,U.t)(S))return function E(S,B){return(0,c.Xf)(S).pipe((0,y.R)(B),(0,t.Q)(B))}(S,B);if((0,k.D)(S))return v(S,B);if((0,j.T)(S))return function g(S,B){return new F.y(Y=>{let q;return(0,f.f)(Y,B,()=>{q=S[D.h](),(0,f.f)(Y,B,()=>{let le,Fe;try{({value:le,done:Fe}=q.next())}catch($){return void Y.error($)}Fe?Y.complete():Y.next(le)},0,!0)}),()=>(0,p.m)(q?.return)&&q.return()})}(S,B);if((0,x.L)(S))return function P(S,B){return v((0,x.Q)(S),B)}(S,B)}throw(0,O.z)(S)}(S,B):(0,c.Xf)(S)}},2438:(Bn,et,C)=>{"use strict";C.d(et,{R:()=>f});var c=C(4829),t=C(5592),y=C(1631),I=C(4266),E=C(4674),F=C(7400);const L=["addListener","removeListener"],D=["addEventListener","removeEventListener"],p=["on","off"];function f(R,j,k,O){if((0,E.m)(k)&&(O=k,k=void 0),O)return f(R,j,k).pipe((0,F.Z)(O));const[x,P]=function U(R){return(0,E.m)(R.addEventListener)&&(0,E.m)(R.removeEventListener)}(R)?D.map(T=>N=>R[T](j,N,k)):function v(R){return(0,E.m)(R.addListener)&&(0,E.m)(R.removeListener)}(R)?L.map(g(R,j)):function A(R){return(0,E.m)(R.on)&&(0,E.m)(R.off)}(R)?p.map(g(R,j)):[];if(!x&&(0,I.z)(R))return(0,y.z)(T=>f(T,j,k))((0,c.Xf)(R));if(!x)throw new TypeError("Invalid event target");return new t.y(T=>{const N=(...S)=>T.next(1<S.length?S:S[0]);return x(N),()=>P(N)})}function g(R,j){return k=>O=>R[k](j,O)}},4829:(Bn,et,C)=>{"use strict";C.d(et,{Xf:()=>A});var c=C(7582),t=C(4266),y=C(4026),I=C(5592),E=C(8382),F=C(5726),L=C(9853),D=C(3664),p=C(541),f=C(4674),g=C(3894),v=C(4850);function A(T){if(T instanceof I.y)return T;if(null!=T){if((0,E.c)(T))return function U(T){return new I.y(N=>{const S=T[v.L]();if((0,f.m)(S.subscribe))return S.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(T);if((0,t.z)(T))return function R(T){return new I.y(N=>{for(let S=0;S<T.length&&!N.closed;S++)N.next(T[S]);N.complete()})}(T);if((0,y.t)(T))return function j(T){return new I.y(N=>{T.then(S=>{N.closed||(N.next(S),N.complete())},S=>N.error(S)).then(null,g.h)})}(T);if((0,F.D)(T))return O(T);if((0,D.T)(T))return function k(T){return new I.y(N=>{for(const S of T)if(N.next(S),N.closed)return;N.complete()})}(T);if((0,p.L)(T))return function x(T){return O((0,p.Q)(T))}(T)}throw(0,L.z)(T)}function O(T){return new I.y(N=>{(function P(T,N){var S,B,Y,q;return(0,c.mG)(this,void 0,void 0,function*(){try{for(S=(0,c.KL)(T);!(B=yield S.next()).done;)if(N.next(B.value),N.closed)return}catch(le){Y={error:le}}finally{try{B&&!B.done&&(q=S.return)&&(yield q.call(S))}finally{if(Y)throw Y.error}}N.complete()})})(T,N).catch(S=>N.error(S))})}},3019:(Bn,et,C)=>{"use strict";C.d(et,{T:()=>F});var c=C(7537),t=C(4829),y=C(6232),I=C(9940),E=C(2459);function F(...L){const D=(0,I.yG)(L),p=(0,I._6)(L,1/0),f=L;return f.length?1===f.length?(0,t.Xf)(f[0]):(0,c.J)(p)((0,E.D)(f,D)):y.E}},2096:(Bn,et,C)=>{"use strict";C.d(et,{of:()=>y});var c=C(9940),t=C(2459);function y(...I){const E=(0,c.yG)(I);return(0,t.D)(I,E)}},4825:(Bn,et,C)=>{"use strict";C.d(et,{H:()=>E});var c=C(5592),t=C(6321),y=C(671);function E(F=0,L,D=t.P){let p=-1;return null!=L&&((0,y.K)(L)?D=L:p=L),new c.y(f=>{let g=function I(F){return F instanceof Date&&!isNaN(F)}(F)?+F-D.now():F;g<0&&(g=0);let v=0;return D.schedule(function(){f.closed||(f.next(v++),0<=p?this.schedule(void 0,p):f.complete())},g)})}},8251:(Bn,et,C)=>{"use strict";C.d(et,{x:()=>t});var c=C(305);function t(I,E,F,L,D){return new y(I,E,F,L,D)}class y extends c.Lv{constructor(E,F,L,D,p,f){super(E),this.onFinalize=p,this.shouldUnsubscribe=f,this._next=F?function(g){try{F(g)}catch(v){E.error(v)}}:super._next,this._error=D?function(g){try{D(g)}catch(v){E.error(v)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(g){E.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var E;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:F}=this;super.unsubscribe(),!F&&(null===(E=this.onFinalize)||void 0===E||E.call(this))}}}},6328:(Bn,et,C)=>{"use strict";C.d(et,{b:()=>y});var c=C(1631),t=C(4674);function y(I,E){return(0,t.m)(E)?(0,c.z)(I,E,1):(0,c.z)(I,1)}},3620:(Bn,et,C)=>{"use strict";C.d(et,{b:()=>I});var c=C(6321),t=C(9360),y=C(8251);function I(E,F=c.z){return(0,t.e)((L,D)=>{let p=null,f=null,g=null;const v=()=>{if(p){p.unsubscribe(),p=null;const U=f;f=null,D.next(U)}};function A(){const U=g+E,R=F.now();if(R<U)return p=this.schedule(void 0,U-R),void D.add(p);v()}L.subscribe((0,y.x)(D,U=>{f=U,g=F.now(),p||(p=F.schedule(A,E),D.add(p))},()=>{v(),D.complete()},void 0,()=>{f=p=null}))})}},3572:(Bn,et,C)=>{"use strict";C.d(et,{d:()=>y});var c=C(9360),t=C(8251);function y(I){return(0,c.e)((E,F)=>{let L=!1;E.subscribe((0,t.x)(F,D=>{L=!0,F.next(D)},()=>{L||F.next(I),F.complete()}))})}},3997:(Bn,et,C)=>{"use strict";C.d(et,{x:()=>I});var c=C(2737),t=C(9360),y=C(8251);function I(F,L=c.y){return F=F??E,(0,t.e)((D,p)=>{let f,g=!0;D.subscribe((0,y.x)(p,v=>{const A=L(v);(g||!F(f,A))&&(g=!1,f=A,p.next(v))}))})}function E(F,L){return F===L}},2181:(Bn,et,C)=>{"use strict";C.d(et,{h:()=>y});var c=C(9360),t=C(8251);function y(I,E){return(0,c.e)((F,L)=>{let D=0;F.subscribe((0,t.x)(L,p=>I.call(E,p,D++)&&L.next(p)))})}},4716:(Bn,et,C)=>{"use strict";C.d(et,{x:()=>t});var c=C(9360);function t(y){return(0,c.e)((I,E)=>{try{I.subscribe(E)}finally{E.add(y)}})}},1374:(Bn,et,C)=>{"use strict";C.d(et,{P:()=>L});var c=C(6973),t=C(2181),y=C(8180),I=C(3572),E=C(3026),F=C(2737);function L(D,p){const f=arguments.length>=2;return g=>g.pipe(D?(0,t.h)((v,A)=>D(v,A,g)):F.y,(0,y.q)(1),f?(0,I.d)(p):(0,E.T)(()=>new c.K))}},7398:(Bn,et,C)=>{"use strict";C.d(et,{U:()=>y});var c=C(9360),t=C(8251);function y(I,E){return(0,c.e)((F,L)=>{let D=0;F.subscribe((0,t.x)(L,p=>{L.next(I.call(E,p,D++))}))})}},975:(Bn,et,C)=>{"use strict";C.d(et,{h:()=>t});var c=C(7398);function t(y){return(0,c.U)(()=>y)}},7537:(Bn,et,C)=>{"use strict";C.d(et,{J:()=>y});var c=C(1631),t=C(2737);function y(I=1/0){return(0,c.z)(t.y,I)}},1631:(Bn,et,C)=>{"use strict";C.d(et,{z:()=>D});var c=C(7398),t=C(4829),y=C(9360),I=C(7103),E=C(8251),L=C(4674);function D(p,f,g=1/0){return(0,L.m)(f)?D((v,A)=>(0,c.U)((U,R)=>f(v,U,A,R))((0,t.Xf)(p(v,A))),g):("number"==typeof f&&(g=f),(0,y.e)((v,A)=>function F(p,f,g,v,A,U,R,j){const k=[];let O=0,x=0,P=!1;const T=()=>{P&&!k.length&&!O&&f.complete()},N=B=>O<v?S(B):k.push(B),S=B=>{U&&f.next(B),O++;let Y=!1;(0,t.Xf)(g(B,x++)).subscribe((0,E.x)(f,q=>{A?.(q),U?N(q):f.next(q)},()=>{Y=!0},void 0,()=>{if(Y)try{for(O--;k.length&&O<v;){const q=k.shift();R?(0,I.f)(f,R,()=>S(q)):S(q)}T()}catch(q){f.error(q)}}))};return p.subscribe((0,E.x)(f,N,()=>{P=!0,T()})),()=>{j?.()}}(v,A,p,g)))}},3093:(Bn,et,C)=>{"use strict";C.d(et,{Q:()=>I});var c=C(7103),t=C(9360),y=C(8251);function I(E,F=0){return(0,t.e)((L,D)=>{L.subscribe((0,y.x)(D,p=>(0,c.f)(D,E,()=>D.next(p),F),()=>(0,c.f)(D,E,()=>D.complete(),F),p=>(0,c.f)(D,E,()=>D.error(p),F)))})}},6196:(Bn,et,C)=>{"use strict";C.d(et,{x:()=>y});var c=C(9360),t=C(8251);function y(){return(0,c.e)((I,E)=>{let F=null;I._refCount++;const L=(0,t.x)(E,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(F=null);const D=I._connection,p=F;F=null,D&&(!p||D===p)&&D.unsubscribe(),E.unsubscribe()});I.subscribe(L),L.closed||(F=I.connect())})}},3020:(Bn,et,C)=>{"use strict";C.d(et,{B:()=>E});var c=C(4829),t=C(8645),y=C(305),I=C(9360);function E(L={}){const{connector:D=(()=>new t.x),resetOnError:p=!0,resetOnComplete:f=!0,resetOnRefCountZero:g=!0}=L;return v=>{let A,U,R,j=0,k=!1,O=!1;const x=()=>{U?.unsubscribe(),U=void 0},P=()=>{x(),A=R=void 0,k=O=!1},T=()=>{const N=A;P(),N?.unsubscribe()};return(0,I.e)((N,S)=>{j++,!O&&!k&&x();const B=R=R??D();S.add(()=>{j--,0===j&&!O&&!k&&(U=F(T,g))}),B.subscribe(S),!A&&j>0&&(A=new y.Hp({next:Y=>B.next(Y),error:Y=>{O=!0,x(),U=F(P,p,Y),B.error(Y)},complete:()=>{k=!0,x(),U=F(P,f),B.complete()}}),(0,c.Xf)(N).subscribe(A))})(v)}}function F(L,D,...p){if(!0===D)return void L();if(!1===D)return;const f=new y.Hp({next:()=>{f.unsubscribe(),L()}});return(0,c.Xf)(D(...p)).subscribe(f)}},940:(Bn,et,C)=>{"use strict";C.d(et,{d:()=>E});var c=C(8645),t=C(4552);class y extends c.x{constructor(L=1/0,D=1/0,p=t.l){super(),this._bufferSize=L,this._windowTime=D,this._timestampProvider=p,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=D===1/0,this._bufferSize=Math.max(1,L),this._windowTime=Math.max(1,D)}next(L){const{isStopped:D,_buffer:p,_infiniteTimeWindow:f,_timestampProvider:g,_windowTime:v}=this;D||(p.push(L),!f&&p.push(g.now()+v)),this._trimBuffer(),super.next(L)}_subscribe(L){this._throwIfClosed(),this._trimBuffer();const D=this._innerSubscribe(L),{_infiniteTimeWindow:p,_buffer:f}=this,g=f.slice();for(let v=0;v<g.length&&!L.closed;v+=p?1:2)L.next(g[v]);return this._checkFinalizedStatuses(L),D}_trimBuffer(){const{_bufferSize:L,_timestampProvider:D,_buffer:p,_infiniteTimeWindow:f}=this,g=(f?1:2)*L;if(L<1/0&&g<p.length&&p.splice(0,p.length-g),!f){const v=D.now();let A=0;for(let U=1;U<p.length&&p[U]<=v;U+=2)A=U;A&&p.splice(0,A+1)}}}var I=C(3020);function E(F,L,D){let p,f=!1;return F&&"object"==typeof F?({bufferSize:p=1/0,windowTime:L=1/0,refCount:f=!1,scheduler:D}=F):p=F??1/0,(0,I.B)({connector:()=>new y(p,L,D),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}},836:(Bn,et,C)=>{"use strict";C.d(et,{T:()=>t});var c=C(2181);function t(y){return(0,c.h)((I,E)=>y<=E)}},7921:(Bn,et,C)=>{"use strict";C.d(et,{O:()=>I});var c=C(5211),t=C(9940),y=C(9360);function I(...E){const F=(0,t.yG)(E);return(0,y.e)((L,D)=>{(F?(0,c.z)(E,L,F):(0,c.z)(E,L)).subscribe(D)})}},5137:(Bn,et,C)=>{"use strict";C.d(et,{R:()=>t});var c=C(9360);function t(y,I=0){return(0,c.e)((E,F)=>{F.add(y.schedule(()=>E.subscribe(F),I))})}},4664:(Bn,et,C)=>{"use strict";C.d(et,{w:()=>I});var c=C(4829),t=C(9360),y=C(8251);function I(E,F){return(0,t.e)((L,D)=>{let p=null,f=0,g=!1;const v=()=>g&&!p&&D.complete();L.subscribe((0,y.x)(D,A=>{p?.unsubscribe();let U=0;const R=f++;(0,c.Xf)(E(A,R)).subscribe(p=(0,y.x)(D,j=>D.next(F?F(A,j,R,U++):j),()=>{p=null,v()}))},()=>{g=!0,v()}))})}},8180:(Bn,et,C)=>{"use strict";C.d(et,{q:()=>I});var c=C(6232),t=C(9360),y=C(8251);function I(E){return E<=0?()=>c.E:(0,t.e)((F,L)=>{let D=0;F.subscribe((0,y.x)(L,p=>{++D<=E&&(L.next(p),E<=D&&L.complete())}))})}},9773:(Bn,et,C)=>{"use strict";C.d(et,{R:()=>E});var c=C(9360),t=C(8251),y=C(4829),I=C(2420);function E(F){return(0,c.e)((L,D)=>{(0,y.Xf)(F).subscribe((0,t.x)(D,()=>D.complete(),I.Z)),!D.closed&&L.subscribe(D)})}},9397:(Bn,et,C)=>{"use strict";C.d(et,{b:()=>E});var c=C(4674),t=C(9360),y=C(8251),I=C(2737);function E(F,L,D){const p=(0,c.m)(F)||L||D?{next:F,error:L,complete:D}:F;return p?(0,t.e)((f,g)=>{var v;null===(v=p.subscribe)||void 0===v||v.call(p);let A=!0;f.subscribe((0,y.x)(g,U=>{var R;null===(R=p.next)||void 0===R||R.call(p,U),g.next(U)},()=>{var U;A=!1,null===(U=p.complete)||void 0===U||U.call(p),g.complete()},U=>{var R;A=!1,null===(R=p.error)||void 0===R||R.call(p,U),g.error(U)},()=>{var U,R;A&&(null===(U=p.unsubscribe)||void 0===U||U.call(p)),null===(R=p.finalize)||void 0===R||R.call(p)}))}):I.y}},3026:(Bn,et,C)=>{"use strict";C.d(et,{T:()=>I});var c=C(6973),t=C(9360),y=C(8251);function I(F=E){return(0,t.e)((L,D)=>{let p=!1;L.subscribe((0,y.x)(D,f=>{p=!0,D.next(f)},()=>p?D.complete():D.error(F())))})}function E(){return new c.K}},1954:(Bn,et,C)=>{"use strict";C.d(et,{o:()=>E});var c=C(7394);class t extends c.w0{constructor(L,D){super()}schedule(L,D=0){return this}}const y={setInterval(F,L,...D){const{delegate:p}=y;return p?.setInterval?p.setInterval(F,L,...D):setInterval(F,L,...D)},clearInterval(F){const{delegate:L}=y;return(L?.clearInterval||clearInterval)(F)},delegate:void 0};var I=C(9039);class E extends t{constructor(L,D){super(L,D),this.scheduler=L,this.work=D,this.pending=!1}schedule(L,D=0){var p;if(this.closed)return this;this.state=L;const f=this.id,g=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(g,f,D)),this.pending=!0,this.delay=D,this.id=null!==(p=this.id)&&void 0!==p?p:this.requestAsyncId(g,this.id,D),this}requestAsyncId(L,D,p=0){return y.setInterval(L.flush.bind(L,this),p)}recycleAsyncId(L,D,p=0){if(null!=p&&this.delay===p&&!1===this.pending)return D;null!=D&&y.clearInterval(D)}execute(L,D){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const p=this._execute(L,D);if(p)return p;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,D){let f,p=!1;try{this.work(L)}catch(g){p=!0,f=g||new Error("Scheduled action threw falsy error")}if(p)return this.unsubscribe(),f}unsubscribe(){if(!this.closed){const{id:L,scheduler:D}=this,{actions:p}=D;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.P)(p,this),null!=L&&(this.id=this.recycleAsyncId(D,L,null)),this.delay=null,super.unsubscribe()}}}},2631:(Bn,et,C)=>{"use strict";C.d(et,{v:()=>y});var c=C(4552);class t{constructor(E,F=t.now){this.schedulerActionCtor=E,this.now=F}schedule(E,F=0,L){return new this.schedulerActionCtor(this,E).schedule(L,F)}}t.now=c.l.now;class y extends t{constructor(E,F=t.now){super(E,F),this.actions=[],this._active=!1}flush(E){const{actions:F}=this;if(this._active)return void F.push(E);let L;this._active=!0;do{if(L=E.execute(E.state,E.delay))break}while(E=F.shift());if(this._active=!1,L){for(;E=F.shift();)E.unsubscribe();throw L}}}},6321:(Bn,et,C)=>{"use strict";C.d(et,{P:()=>I,z:()=>y});var c=C(1954);const y=new(C(2631).v)(c.o),I=y},4552:(Bn,et,C)=>{"use strict";C.d(et,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(Bn,et,C)=>{"use strict";C.d(et,{z:()=>c});const c={setTimeout(t,y,...I){const{delegate:E}=c;return E?.setTimeout?E.setTimeout(t,y,...I):setTimeout(t,y,...I)},clearTimeout(t){const{delegate:y}=c;return(y?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(Bn,et,C)=>{"use strict";C.d(et,{h:()=>t});const t=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Bn,et,C)=>{"use strict";C.d(et,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Bn,et,C)=>{"use strict";C.d(et,{K:()=>t});const t=(0,C(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Bn,et,C)=>{"use strict";C.d(et,{_6:()=>F,jO:()=>I,yG:()=>E});var c=C(4674),t=C(671);function y(L){return L[L.length-1]}function I(L){return(0,c.m)(y(L))?L.pop():void 0}function E(L){return(0,t.K)(y(L))?L.pop():void 0}function F(L,D){return"number"==typeof y(L)?L.pop():D}},7453:(Bn,et,C)=>{"use strict";C.d(et,{D:()=>E});const{isArray:c}=Array,{getPrototypeOf:t,prototype:y,keys:I}=Object;function E(L){if(1===L.length){const D=L[0];if(c(D))return{args:D,keys:null};if(function F(L){return L&&"object"==typeof L&&t(L)===y}(D)){const p=I(D);return{args:p.map(f=>D[f]),keys:p}}}return{args:L,keys:null}}},9039:(Bn,et,C)=>{"use strict";function c(t,y){if(t){const I=t.indexOf(y);0<=I&&t.splice(I,1)}}C.d(et,{P:()=>c})},2306:(Bn,et,C)=>{"use strict";function c(t){const I=t(E=>{Error.call(E),E.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}C.d(et,{d:()=>c})},2714:(Bn,et,C)=>{"use strict";function c(t,y){return t.reduce((I,E,F)=>(I[E]=y[F],I),{})}C.d(et,{n:()=>c})},1441:(Bn,et,C)=>{"use strict";C.d(et,{O:()=>I,x:()=>y});var c=C(2653);let t=null;function y(E){if(c.config.useDeprecatedSynchronousErrorHandling){const F=!t;if(F&&(t={errorThrown:!1,error:null}),E(),F){const{errorThrown:L,error:D}=t;if(t=null,L)throw D}}else E()}function I(E){c.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=E)}},7103:(Bn,et,C)=>{"use strict";function c(t,y,I,E=0,F=!1){const L=y.schedule(function(){I(),F?t.add(this.schedule(null,E)):this.unsubscribe()},E);if(t.add(L),!F)return L}C.d(et,{f:()=>c})},2737:(Bn,et,C)=>{"use strict";function c(t){return t}C.d(et,{y:()=>c})},4266:(Bn,et,C)=>{"use strict";C.d(et,{z:()=>c});const c=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(Bn,et,C)=>{"use strict";C.d(et,{D:()=>t});var c=C(4674);function t(y){return Symbol.asyncIterator&&(0,c.m)(y?.[Symbol.asyncIterator])}},4674:(Bn,et,C)=>{"use strict";function c(t){return"function"==typeof t}C.d(et,{m:()=>c})},8382:(Bn,et,C)=>{"use strict";C.d(et,{c:()=>y});var c=C(4850),t=C(4674);function y(I){return(0,t.m)(I[c.L])}},3664:(Bn,et,C)=>{"use strict";C.d(et,{T:()=>y});var c=C(4971),t=C(4674);function y(I){return(0,t.m)(I?.[c.h])}},2664:(Bn,et,C)=>{"use strict";C.d(et,{b:()=>y});var c=C(5592),t=C(4674);function y(I){return!!I&&(I instanceof c.y||(0,t.m)(I.lift)&&(0,t.m)(I.subscribe))}},4026:(Bn,et,C)=>{"use strict";C.d(et,{t:()=>t});var c=C(4674);function t(y){return(0,c.m)(y?.then)}},541:(Bn,et,C)=>{"use strict";C.d(et,{L:()=>I,Q:()=>y});var c=C(7582),t=C(4674);function y(E){return(0,c.FC)(this,arguments,function*(){const L=E.getReader();try{for(;;){const{value:D,done:p}=yield(0,c.qq)(L.read());if(p)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(D)}}finally{L.releaseLock()}})}function I(E){return(0,t.m)(E?.getReader)}},671:(Bn,et,C)=>{"use strict";C.d(et,{K:()=>t});var c=C(4674);function t(y){return y&&(0,c.m)(y.schedule)}},9360:(Bn,et,C)=>{"use strict";C.d(et,{A:()=>t,e:()=>y});var c=C(4674);function t(I){return(0,c.m)(I?.lift)}function y(I){return E=>{if(t(E))return E.lift(function(F){try{return I(F,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Bn,et,C)=>{"use strict";C.d(et,{Z:()=>I});var c=C(7398);const{isArray:t}=Array;function I(E){return(0,c.U)(F=>function y(E,F){return t(F)?E(...F):E(F)}(E,F))}},2420:(Bn,et,C)=>{"use strict";function c(){}C.d(et,{Z:()=>c})},8407:(Bn,et,C)=>{"use strict";C.d(et,{U:()=>y,z:()=>t});var c=C(2737);function t(...I){return y(I)}function y(I){return 0===I.length?c.y:1===I.length?I[0]:function(F){return I.reduce((L,D)=>D(L),F)}}},3894:(Bn,et,C)=>{"use strict";C.d(et,{h:()=>y});var c=C(2653),t=C(7599);function y(I){t.z.setTimeout(()=>{const{onUnhandledError:E}=c.config;if(!E)throw I;E(I)})}},9853:(Bn,et,C)=>{"use strict";function c(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(et,{z:()=>c})},6825:(Bn,et,C)=>{"use strict";C.d(et,{F4:()=>f,IO:()=>R,LC:()=>t,SB:()=>p,X$:()=>I,ZE:()=>O,ZN:()=>k,_j:()=>c,eR:()=>g,jt:()=>E,k1:()=>x,l3:()=>y,oB:()=>D,pV:()=>A,ru:()=>F,vP:()=>L});class c{}class t{}const y="*";function I(P,T){return{type:7,name:P,definitions:T,options:{}}}function E(P,T=null){return{type:4,styles:T,timings:P}}function F(P,T=null){return{type:3,steps:P,options:T}}function L(P,T=null){return{type:2,steps:P,options:T}}function D(P){return{type:6,styles:P,offset:null}}function p(P,T,N){return{type:0,name:P,styles:T,options:N}}function f(P){return{type:5,steps:P}}function g(P,T,N=null){return{type:1,expr:P,animation:T,options:N}}function A(P=null){return{type:9,options:P}}function R(P,T,N=null){return{type:11,selector:P,animation:T,options:N}}class k{constructor(T=0,N=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=T+N}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}onStart(T){this._originalOnStartFns.push(T),this._onStartFns.push(T)}onDone(T){this._originalOnDoneFns.push(T),this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(T=>T()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(T){this._position=this.totalTime?T*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(S=>S()),N.length=0}}class O{constructor(T){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=T;let N=0,S=0,B=0;const Y=this.players.length;0==Y?queueMicrotask(()=>this._onFinish()):this.players.forEach(q=>{q.onDone(()=>{++N==Y&&this._onFinish()}),q.onDestroy(()=>{++S==Y&&this._onDestroy()}),q.onStart(()=>{++B==Y&&this._onStart()})}),this.totalTime=this.players.reduce((q,le)=>Math.max(q,le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}init(){this.players.forEach(T=>T.init())}onStart(T){this._onStartFns.push(T)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(T=>T()),this._onStartFns=[])}onDone(T){this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(T=>T.play())}pause(){this.players.forEach(T=>T.pause())}restart(){this.players.forEach(T=>T.restart())}finish(){this._onFinish(),this.players.forEach(T=>T.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(T=>T.destroy()),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this.players.forEach(T=>T.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(T){const N=T*this.totalTime;this.players.forEach(S=>{const B=S.totalTime?Math.min(1,N/S.totalTime):1;S.setPosition(B)})}getPosition(){const T=this.players.reduce((N,S)=>null===N||S.totalTime>N.totalTime?S:N,null);return null!=T?T.getPosition():0}beforeDestroy(){this.players.forEach(T=>{T.beforeDestroy&&T.beforeDestroy()})}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(S=>S()),N.length=0}}const x="!"},4300:(Bn,et,C)=>{"use strict";C.d(et,{$s:()=>Fe,Kd:()=>nt,X6:()=>ne,Zf:()=>T,iD:()=>N,ic:()=>Se,kH:()=>nn,mK:()=>se,qV:()=>W,qm:()=>Tn,rt:()=>rn,s1:()=>pe,tE:()=>Gt,yG:()=>ee});var c=C(6814),t=C(5879),y=C(2831),I=C(8645),E=C(7394),F=C(5619),L=C(2096),D=C(6028),p=C(9397),f=C(3620),g=C(2181),v=C(7398),A=C(8180),U=C(836),R=C(3997),j=C(9773),k=C(2495),O=C(7131),x=C(1088);const P=" ";function T(xt,ht,Qe){const De=S(xt,ht);De.some(Pe=>Pe.trim()==Qe.trim())||(De.push(Qe.trim()),xt.setAttribute(ht,De.join(P)))}function N(xt,ht,Qe){const Pe=S(xt,ht).filter(Ye=>Ye!=Qe.trim());Pe.length?xt.setAttribute(ht,Pe.join(P)):xt.removeAttribute(ht)}function S(xt,ht){return(xt.getAttribute(ht)||"").match(/\S+/g)||[]}const Y="cdk-describedby-message",q="cdk-describedby-host";let le=0,Fe=(()=>{class xt{constructor(Qe,De){this._platform=De,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+le++,this._document=Qe,this._id=(0,t.f3M)(t.AFp)+"-"+le++}describe(Qe,De,Pe){if(!this._canBeDescribed(Qe,De))return;const Ye=$(De,Pe);"string"!=typeof De?(ae(De,this._id),this._messageRegistry.set(Ye,{messageElement:De,referenceCount:0})):this._messageRegistry.has(Ye)||this._createMessageElement(De,Pe),this._isElementDescribedByMessage(Qe,Ye)||this._addMessageReference(Qe,Ye)}removeDescription(Qe,De,Pe){if(!De||!this._isElementNode(Qe))return;const Ye=$(De,Pe);if(this._isElementDescribedByMessage(Qe,Ye)&&this._removeMessageReference(Qe,Ye),"string"==typeof De){const ze=this._messageRegistry.get(Ye);ze&&0===ze.referenceCount&&this._deleteMessageElement(Ye)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Qe=this._document.querySelectorAll(`[${q}="${this._id}"]`);for(let De=0;De<Qe.length;De++)this._removeCdkDescribedByReferenceIds(Qe[De]),Qe[De].removeAttribute(q);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Qe,De){const Pe=this._document.createElement("div");ae(Pe,this._id),Pe.textContent=Qe,De&&Pe.setAttribute("role",De),this._createMessagesContainer(),this._messagesContainer.appendChild(Pe),this._messageRegistry.set($(Qe,De),{messageElement:Pe,referenceCount:0})}_deleteMessageElement(Qe){this._messageRegistry.get(Qe)?.messageElement?.remove(),this._messageRegistry.delete(Qe)}_createMessagesContainer(){if(this._messagesContainer)return;const Qe="cdk-describedby-message-container",De=this._document.querySelectorAll(`.${Qe}[platform="server"]`);for(let Ye=0;Ye<De.length;Ye++)De[Ye].remove();const Pe=this._document.createElement("div");Pe.style.visibility="hidden",Pe.classList.add(Qe),Pe.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Pe.setAttribute("platform","server"),this._document.body.appendChild(Pe),this._messagesContainer=Pe}_removeCdkDescribedByReferenceIds(Qe){const De=S(Qe,"aria-describedby").filter(Pe=>0!=Pe.indexOf(Y));Qe.setAttribute("aria-describedby",De.join(" "))}_addMessageReference(Qe,De){const Pe=this._messageRegistry.get(De);T(Qe,"aria-describedby",Pe.messageElement.id),Qe.setAttribute(q,this._id),Pe.referenceCount++}_removeMessageReference(Qe,De){const Pe=this._messageRegistry.get(De);Pe.referenceCount--,N(Qe,"aria-describedby",Pe.messageElement.id),Qe.removeAttribute(q)}_isElementDescribedByMessage(Qe,De){const Pe=S(Qe,"aria-describedby"),Ye=this._messageRegistry.get(De),ze=Ye&&Ye.messageElement.id;return!!ze&&-1!=Pe.indexOf(ze)}_canBeDescribed(Qe,De){if(!this._isElementNode(Qe))return!1;if(De&&"object"==typeof De)return!0;const Pe=null==De?"":`${De}`.trim(),Ye=Qe.getAttribute("aria-label");return!(!Pe||Ye&&Ye.trim()===Pe)}_isElementNode(Qe){return Qe.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(De){return new(De||xt)(t.LFG(c.K0),t.LFG(y.t4))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();function $(xt,ht){return"string"==typeof xt?`${ht||""}/${xt}`:xt}function ae(xt,ht){xt.id||(xt.id=`${Y}-${ht}-${le++}`)}class K{constructor(ht){this._items=ht,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new I.x,this._typeaheadSubscription=E.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Qe=>Qe.disabled,this._pressedLetters=[],this.tabOut=new I.x,this.change=new I.x,ht instanceof t.n_E&&(this._itemChangesSubscription=ht.changes.subscribe(Qe=>{if(this._activeItem){const Pe=Qe.toArray().indexOf(this._activeItem);Pe>-1&&Pe!==this._activeItemIndex&&(this._activeItemIndex=Pe)}}))}skipPredicate(ht){return this._skipPredicateFn=ht,this}withWrap(ht=!0){return this._wrap=ht,this}withVerticalOrientation(ht=!0){return this._vertical=ht,this}withHorizontalOrientation(ht){return this._horizontal=ht,this}withAllowedModifierKeys(ht){return this._allowedModifierKeys=ht,this}withTypeAhead(ht=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,p.b)(Qe=>this._pressedLetters.push(Qe)),(0,f.b)(ht),(0,g.h)(()=>this._pressedLetters.length>0),(0,v.U)(()=>this._pressedLetters.join(""))).subscribe(Qe=>{const De=this._getItemsArray();for(let Pe=1;Pe<De.length+1;Pe++){const Ye=(this._activeItemIndex+Pe)%De.length,ze=De[Ye];if(!this._skipPredicateFn(ze)&&0===ze.getLabel().toUpperCase().trim().indexOf(Qe)){this.setActiveItem(Ye);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ht=!0){return this._homeAndEnd=ht,this}withPageUpDown(ht=!0,Qe=10){return this._pageUpAndDown={enabled:ht,delta:Qe},this}setActiveItem(ht){const Qe=this._activeItem;this.updateActiveItem(ht),this._activeItem!==Qe&&this.change.next(this._activeItemIndex)}onKeydown(ht){const Qe=ht.keyCode,Pe=["altKey","ctrlKey","metaKey","shiftKey"].every(Ye=>!ht[Ye]||this._allowedModifierKeys.indexOf(Ye)>-1);switch(Qe){case D.Mf:return void this.tabOut.next();case D.JH:if(this._vertical&&Pe){this.setNextItemActive();break}return;case D.LH:if(this._vertical&&Pe){this.setPreviousItemActive();break}return;case D.SV:if(this._horizontal&&Pe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case D.oh:if(this._horizontal&&Pe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case D.Sd:if(this._homeAndEnd&&Pe){this.setFirstItemActive();break}return;case D.uR:if(this._homeAndEnd&&Pe){this.setLastItemActive();break}return;case D.Ku:if(this._pageUpAndDown.enabled&&Pe){const Ye=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ye>0?Ye:0,1);break}return;case D.VM:if(this._pageUpAndDown.enabled&&Pe){const Ye=this._activeItemIndex+this._pageUpAndDown.delta,ze=this._getItemsArray().length;this._setActiveItemByIndex(Ye<ze?Ye:ze-1,-1);break}return;default:return void((Pe||(0,D.Vb)(ht,"shiftKey"))&&(ht.key&&1===ht.key.length?this._letterKeyStream.next(ht.key.toLocaleUpperCase()):(Qe>=D.A&&Qe<=D.Z||Qe>=D.xE&&Qe<=D.aO)&&this._letterKeyStream.next(String.fromCharCode(Qe))))}this._pressedLetters=[],ht.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ht){const Qe=this._getItemsArray(),De="number"==typeof ht?ht:Qe.indexOf(ht);this._activeItem=Qe[De]??null,this._activeItemIndex=De}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ht){this._wrap?this._setActiveInWrapMode(ht):this._setActiveInDefaultMode(ht)}_setActiveInWrapMode(ht){const Qe=this._getItemsArray();for(let De=1;De<=Qe.length;De++){const Pe=(this._activeItemIndex+ht*De+Qe.length)%Qe.length;if(!this._skipPredicateFn(Qe[Pe]))return void this.setActiveItem(Pe)}}_setActiveInDefaultMode(ht){this._setActiveItemByIndex(this._activeItemIndex+ht,ht)}_setActiveItemByIndex(ht,Qe){const De=this._getItemsArray();if(De[ht]){for(;this._skipPredicateFn(De[ht]);)if(!De[ht+=Qe])return;this.setActiveItem(ht)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}class pe extends K{setActiveItem(ht){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ht),this.activeItem&&this.activeItem.setActiveStyles()}}let Se=(()=>{class xt{constructor(Qe){this._platform=Qe}isDisabled(Qe){return Qe.hasAttribute("disabled")}isVisible(Qe){return function fe(xt){return!!(xt.offsetWidth||xt.offsetHeight||"function"==typeof xt.getClientRects&&xt.getClientRects().length)}(Qe)&&"visible"===getComputedStyle(Qe).visibility}isTabbable(Qe){if(!this._platform.isBrowser)return!1;const De=function Le(xt){try{return xt.frameElement}catch{return null}}(function Ne(xt){return xt.ownerDocument&&xt.ownerDocument.defaultView||window}(Qe));if(De&&(-1===He(De)||!this.isVisible(De)))return!1;let Pe=Qe.nodeName.toLowerCase(),Ye=He(Qe);return Qe.hasAttribute("contenteditable")?-1!==Ye:!("iframe"===Pe||"object"===Pe||this._platform.WEBKIT&&this._platform.IOS&&!function ot(xt){let ht=xt.nodeName.toLowerCase(),Qe="input"===ht&&xt.type;return"text"===Qe||"password"===Qe||"select"===ht||"textarea"===ht}(Qe))&&("audio"===Pe?!!Qe.hasAttribute("controls")&&-1!==Ye:"video"===Pe?-1!==Ye&&(null!==Ye||this._platform.FIREFOX||Qe.hasAttribute("controls")):Qe.tabIndex>=0)}isFocusable(Qe,De){return function Je(xt){return!function Me(xt){return function Ue(xt){return"input"==xt.nodeName.toLowerCase()}(xt)&&"hidden"==xt.type}(xt)&&(function Re(xt){let ht=xt.nodeName.toLowerCase();return"input"===ht||"select"===ht||"button"===ht||"textarea"===ht}(xt)||function me(xt){return function ke(xt){return"a"==xt.nodeName.toLowerCase()}(xt)&&xt.hasAttribute("href")}(xt)||xt.hasAttribute("contenteditable")||Ie(xt))}(Qe)&&!this.isDisabled(Qe)&&(De?.ignoreVisibility||this.isVisible(Qe))}static#e=this.\u0275fac=function(De){return new(De||xt)(t.LFG(y.t4))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();function Ie(xt){if(!xt.hasAttribute("tabindex")||void 0===xt.tabIndex)return!1;let ht=xt.getAttribute("tabindex");return!(!ht||isNaN(parseInt(ht,10)))}function He(xt){if(!Ie(xt))return null;const ht=parseInt(xt.getAttribute("tabindex")||"",10);return isNaN(ht)?-1:ht}class Te{get enabled(){return this._enabled}set enabled(ht){this._enabled=ht,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ht,this._startAnchor),this._toggleAnchorTabIndex(ht,this._endAnchor))}constructor(ht,Qe,De,Pe,Ye=!1){this._element=ht,this._checker=Qe,this._ngZone=De,this._document=Pe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ye||this.attachAnchors()}destroy(){const ht=this._startAnchor,Qe=this._endAnchor;ht&&(ht.removeEventListener("focus",this.startAnchorListener),ht.remove()),Qe&&(Qe.removeEventListener("focus",this.endAnchorListener),Qe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ht){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusInitialElement(ht)))})}focusFirstTabbableElementWhenReady(ht){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusFirstTabbableElement(ht)))})}focusLastTabbableElementWhenReady(ht){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusLastTabbableElement(ht)))})}_getRegionBoundary(ht){const Qe=this._element.querySelectorAll(`[cdk-focus-region-${ht}], [cdkFocusRegion${ht}], [cdk-focus-${ht}]`);return"start"==ht?Qe.length?Qe[0]:this._getFirstTabbableElement(this._element):Qe.length?Qe[Qe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ht){const Qe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Qe){if(!this._checker.isFocusable(Qe)){const De=this._getFirstTabbableElement(Qe);return De?.focus(ht),!!De}return Qe.focus(ht),!0}return this.focusFirstTabbableElement(ht)}focusFirstTabbableElement(ht){const Qe=this._getRegionBoundary("start");return Qe&&Qe.focus(ht),!!Qe}focusLastTabbableElement(ht){const Qe=this._getRegionBoundary("end");return Qe&&Qe.focus(ht),!!Qe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ht){if(this._checker.isFocusable(ht)&&this._checker.isTabbable(ht))return ht;const Qe=ht.children;for(let De=0;De<Qe.length;De++){const Pe=Qe[De].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Qe[De]):null;if(Pe)return Pe}return null}_getLastTabbableElement(ht){if(this._checker.isFocusable(ht)&&this._checker.isTabbable(ht))return ht;const Qe=ht.children;for(let De=Qe.length-1;De>=0;De--){const Pe=Qe[De].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Qe[De]):null;if(Pe)return Pe}return null}_createAnchor(){const ht=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ht),ht.classList.add("cdk-visually-hidden"),ht.classList.add("cdk-focus-trap-anchor"),ht.setAttribute("aria-hidden","true"),ht}_toggleAnchorTabIndex(ht,Qe){ht?Qe.setAttribute("tabindex","0"):Qe.removeAttribute("tabindex")}toggleAnchors(ht){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ht,this._startAnchor),this._toggleAnchorTabIndex(ht,this._endAnchor))}_executeOnStable(ht){this._ngZone.isStable?ht():this._ngZone.onStable.pipe((0,A.q)(1)).subscribe(ht)}}let W=(()=>{class xt{constructor(Qe,De,Pe){this._checker=Qe,this._ngZone=De,this._document=Pe}create(Qe,De=!1){return new Te(Qe,this._checker,this._ngZone,this._document,De)}static#e=this.\u0275fac=function(De){return new(De||xt)(t.LFG(Se),t.LFG(t.R0b),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})(),se=(()=>{class xt{get enabled(){return this.focusTrap.enabled}set enabled(Qe){this.focusTrap.enabled=(0,k.Ig)(Qe)}get autoCapture(){return this._autoCapture}set autoCapture(Qe){this._autoCapture=(0,k.Ig)(Qe)}constructor(Qe,De,Pe){this._elementRef=Qe,this._focusTrapFactory=De,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Qe){const De=Qe.autoCapture;De&&!De.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,y.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(De){return new(De||xt)(t.Y36(t.SBq),t.Y36(W),t.Y36(c.K0))};static#t=this.\u0275dir=t.lG2({type:xt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]})}return xt})();function ne(xt){return 0===xt.buttons||0===xt.offsetX&&0===xt.offsetY}function ee(xt){const ht=xt.touches&&xt.touches[0]||xt.changedTouches&&xt.changedTouches[0];return!(!ht||-1!==ht.identifier||null!=ht.radiusX&&1!==ht.radiusX||null!=ht.radiusY&&1!==ht.radiusY)}const X=new t.OlP("cdk-input-modality-detector-options"),ue={ignoreKeys:[D.zL,D.jx,D.b2,D.MW,D.JU]},de=(0,y.i$)({passive:!0,capture:!0});let xe=(()=>{class xt{get mostRecentModality(){return this._modality.value}constructor(Qe,De,Pe,Ye){this._platform=Qe,this._mostRecentTarget=null,this._modality=new F.X(null),this._lastTouchMs=0,this._onKeydown=ze=>{this._options?.ignoreKeys?.some(lt=>lt===ze.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,y.sA)(ze))},this._onMousedown=ze=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ne(ze)?"keyboard":"mouse"),this._mostRecentTarget=(0,y.sA)(ze))},this._onTouchstart=ze=>{ee(ze)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,y.sA)(ze))},this._options={...ue,...Ye},this.modalityDetected=this._modality.pipe((0,U.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,R.x)()),Qe.isBrowser&&De.runOutsideAngular(()=>{Pe.addEventListener("keydown",this._onKeydown,de),Pe.addEventListener("mousedown",this._onMousedown,de),Pe.addEventListener("touchstart",this._onTouchstart,de)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,de),document.removeEventListener("mousedown",this._onMousedown,de),document.removeEventListener("touchstart",this._onTouchstart,de))}static#e=this.\u0275fac=function(De){return new(De||xt)(t.LFG(y.t4),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(X,8))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();const Ke=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ve(){return null}}),st=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ct=0,nt=(()=>{class xt{constructor(Qe,De,Pe,Ye){this._ngZone=De,this._defaultOptions=Ye,this._document=Pe,this._liveElement=Qe||this._createLiveElement()}announce(Qe,...De){const Pe=this._defaultOptions;let Ye,ze;return 1===De.length&&"number"==typeof De[0]?ze=De[0]:[Ye,ze]=De,this.clear(),clearTimeout(this._previousTimeout),Ye||(Ye=Pe&&Pe.politeness?Pe.politeness:"polite"),null==ze&&Pe&&(ze=Pe.duration),this._liveElement.setAttribute("aria-live",Ye),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(lt=>this._currentResolve=lt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Qe,"number"==typeof ze&&(this._previousTimeout=setTimeout(()=>this.clear(),ze)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Qe="cdk-live-announcer-element",De=this._document.getElementsByClassName(Qe),Pe=this._document.createElement("div");for(let Ye=0;Ye<De.length;Ye++)De[Ye].remove();return Pe.classList.add(Qe),Pe.classList.add("cdk-visually-hidden"),Pe.setAttribute("aria-atomic","true"),Pe.setAttribute("aria-live","polite"),Pe.id="cdk-live-announcer-"+ct++,this._document.body.appendChild(Pe),Pe}_exposeAnnouncerToModals(Qe){const De=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Pe=0;Pe<De.length;Pe++){const Ye=De[Pe],ze=Ye.getAttribute("aria-owns");ze?-1===ze.indexOf(Qe)&&Ye.setAttribute("aria-owns",ze+" "+Qe):Ye.setAttribute("aria-owns",Qe)}}static#e=this.\u0275fac=function(De){return new(De||xt)(t.LFG(Ke,8),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(st,8))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();const jt=new t.OlP("cdk-focus-monitor-default-options"),wt=(0,y.i$)({passive:!0,capture:!0});let Gt=(()=>{class xt{constructor(Qe,De,Pe,Ye,ze){this._ngZone=Qe,this._platform=De,this._inputModalityDetector=Pe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new I.x,this._rootNodeFocusAndBlurListener=lt=>{for(let dt=(0,y.sA)(lt);dt;dt=dt.parentElement)"focus"===lt.type?this._onFocus(lt,dt):this._onBlur(lt,dt)},this._document=Ye,this._detectionMode=ze?.detectionMode||0}monitor(Qe,De=!1){const Pe=(0,k.fI)(Qe);if(!this._platform.isBrowser||1!==Pe.nodeType)return(0,L.of)();const Ye=(0,y.kV)(Pe)||this._getDocument(),ze=this._elementInfo.get(Pe);if(ze)return De&&(ze.checkChildren=!0),ze.subject;const lt={checkChildren:De,subject:new I.x,rootNode:Ye};return this._elementInfo.set(Pe,lt),this._registerGlobalListeners(lt),lt.subject}stopMonitoring(Qe){const De=(0,k.fI)(Qe),Pe=this._elementInfo.get(De);Pe&&(Pe.subject.complete(),this._setClasses(De),this._elementInfo.delete(De),this._removeGlobalListeners(Pe))}focusVia(Qe,De,Pe){const Ye=(0,k.fI)(Qe);Ye===this._getDocument().activeElement?this._getClosestElementsInfo(Ye).forEach(([lt,rt])=>this._originChanged(lt,De,rt)):(this._setOrigin(De),"function"==typeof Ye.focus&&Ye.focus(Pe))}ngOnDestroy(){this._elementInfo.forEach((Qe,De)=>this.stopMonitoring(De))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Qe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Qe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Qe&&this._isLastInteractionFromInputLabel(Qe)?"mouse":"program"}_shouldBeAttributedToTouch(Qe){return 1===this._detectionMode||!!Qe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Qe,De){Qe.classList.toggle("cdk-focused",!!De),Qe.classList.toggle("cdk-touch-focused","touch"===De),Qe.classList.toggle("cdk-keyboard-focused","keyboard"===De),Qe.classList.toggle("cdk-mouse-focused","mouse"===De),Qe.classList.toggle("cdk-program-focused","program"===De)}_setOrigin(Qe,De=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Qe,this._originFromTouchInteraction="touch"===Qe&&De,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Qe,De){const Pe=this._elementInfo.get(De),Ye=(0,y.sA)(Qe);!Pe||!Pe.checkChildren&&De!==Ye||this._originChanged(De,this._getFocusOrigin(Ye),Pe)}_onBlur(Qe,De){const Pe=this._elementInfo.get(De);!Pe||Pe.checkChildren&&Qe.relatedTarget instanceof Node&&De.contains(Qe.relatedTarget)||(this._setClasses(De),this._emitOrigin(Pe,null))}_emitOrigin(Qe,De){Qe.subject.observers.length&&this._ngZone.run(()=>Qe.subject.next(De))}_registerGlobalListeners(Qe){if(!this._platform.isBrowser)return;const De=Qe.rootNode,Pe=this._rootNodeFocusListenerCount.get(De)||0;Pe||this._ngZone.runOutsideAngular(()=>{De.addEventListener("focus",this._rootNodeFocusAndBlurListener,wt),De.addEventListener("blur",this._rootNodeFocusAndBlurListener,wt)}),this._rootNodeFocusListenerCount.set(De,Pe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,j.R)(this._stopInputModalityDetector)).subscribe(Ye=>{this._setOrigin(Ye,!0)}))}_removeGlobalListeners(Qe){const De=Qe.rootNode;if(this._rootNodeFocusListenerCount.has(De)){const Pe=this._rootNodeFocusListenerCount.get(De);Pe>1?this._rootNodeFocusListenerCount.set(De,Pe-1):(De.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wt),De.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wt),this._rootNodeFocusListenerCount.delete(De))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Qe,De,Pe){this._setClasses(Qe,De),this._emitOrigin(Pe,De),this._lastFocusOrigin=De}_getClosestElementsInfo(Qe){const De=[];return this._elementInfo.forEach((Pe,Ye)=>{(Ye===Qe||Pe.checkChildren&&Ye.contains(Qe))&&De.push([Ye,Pe])}),De}_isLastInteractionFromInputLabel(Qe){const{_mostRecentTarget:De,mostRecentModality:Pe}=this._inputModalityDetector;if("mouse"!==Pe||!De||De===Qe||"INPUT"!==Qe.nodeName&&"TEXTAREA"!==Qe.nodeName||Qe.disabled)return!1;const Ye=Qe.labels;if(Ye)for(let ze=0;ze<Ye.length;ze++)if(Ye[ze].contains(De))return!0;return!1}static#e=this.\u0275fac=function(De){return new(De||xt)(t.LFG(t.R0b),t.LFG(y.t4),t.LFG(xe),t.LFG(c.K0,8),t.LFG(jt,8))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})(),nn=(()=>{class xt{constructor(Qe,De){this._elementRef=Qe,this._focusMonitor=De,this._focusOrigin=null,this.cdkFocusChange=new t.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Qe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Qe,1===Qe.nodeType&&Qe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(De=>{this._focusOrigin=De,this.cdkFocusChange.emit(De)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(De){return new(De||xt)(t.Y36(t.SBq),t.Y36(Gt))};static#t=this.\u0275dir=t.lG2({type:xt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return xt})();const dn="cdk-high-contrast-black-on-white",un="cdk-high-contrast-white-on-black",Kt="cdk-high-contrast-active";let Tn=(()=>{class xt{constructor(Qe,De){this._platform=Qe,this._document=De,this._breakpointSubscription=(0,t.f3M)(x.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Qe=this._document.createElement("div");Qe.style.backgroundColor="rgb(1,2,3)",Qe.style.position="absolute",this._document.body.appendChild(Qe);const De=this._document.defaultView||window,Pe=De&&De.getComputedStyle?De.getComputedStyle(Qe):null,Ye=(Pe&&Pe.backgroundColor||"").replace(/ /g,"");switch(Qe.remove(),Ye){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Qe=this._document.body.classList;Qe.remove(Kt,dn,un),this._hasCheckedHighContrastMode=!0;const De=this.getHighContrastMode();1===De?Qe.add(Kt,dn):2===De&&Qe.add(Kt,un)}}static#e=this.\u0275fac=function(De){return new(De||xt)(t.LFG(y.t4),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})(),rn=(()=>{class xt{constructor(Qe){Qe._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(De){return new(De||xt)(t.LFG(Tn))};static#t=this.\u0275mod=t.oAB({type:xt});static#n=this.\u0275inj=t.cJS({imports:[O.Q8]})}return xt})()},9388:(Bn,et,C)=>{"use strict";C.d(et,{Is:()=>L,vT:()=>p});var c=C(5879),t=C(6814);const y=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function I(){return(0,c.f3M)(t.K0)}}),E=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let L=(()=>{class f{constructor(v){this.value="ltr",this.change=new c.vpe,v&&(this.value=function F(f){const g=f?.toLowerCase()||"";return"auto"===g&&typeof navigator<"u"&&navigator?.language?E.test(navigator.language)?"rtl":"ltr":"rtl"===g?"rtl":"ltr"}((v.body?v.body.dir:null)||(v.documentElement?v.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(A){return new(A||f)(c.LFG(y,8))};static#t=this.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),p=(()=>{class f{static#e=this.\u0275fac=function(A){return new(A||f)};static#t=this.\u0275mod=c.oAB({type:f});static#n=this.\u0275inj=c.cJS({})}return f})()},2495:(Bn,et,C)=>{"use strict";C.d(et,{Eq:()=>E,HM:()=>F,Ig:()=>t,du:()=>D,fI:()=>L,su:()=>y,t6:()=>I});var c=C(5879);function t(p){return null!=p&&"false"!=`${p}`}function y(p,f=0){return I(p)?Number(p):f}function I(p){return!isNaN(parseFloat(p))&&!isNaN(Number(p))}function E(p){return Array.isArray(p)?p:[p]}function F(p){return null==p?"":"string"==typeof p?p:`${p}px`}function L(p){return p instanceof c.SBq?p.nativeElement:p}function D(p,f=/\s+/){const g=[];if(null!=p){const v=Array.isArray(p)?p:`${p}`.split(f);for(const A of v){const U=`${A}`.trim();U&&g.push(U)}}return g}},8337:(Bn,et,C)=>{"use strict";C.d(et,{Ov:()=>p,Z9:()=>E,eX:()=>D,k:()=>v,o2:()=>I,yy:()=>L});var c=C(3168),t=C(8645),y=C(5879);class I{}function E(A){return A&&"function"==typeof A.connect&&!(A instanceof c.c)}class L{applyChanges(U,R,j,k,O){U.forEachOperation((x,P,T)=>{let N,S;if(null==x.previousIndex){const B=j(x,P,T);N=R.createEmbeddedView(B.templateRef,B.context,B.index),S=1}else null==T?(R.remove(P),S=3):(N=R.get(P),R.move(N,T),S=2);O&&O({context:N?.context,operation:S,record:x})})}detach(){}}class D{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(U,R,j,k,O){U.forEachOperation((x,P,T)=>{let N,S;null==x.previousIndex?(N=this._insertView(()=>j(x,P,T),T,R,k(x)),S=N?1:0):null==T?(this._detachAndCacheView(P,R),S=3):(N=this._moveView(P,T,R,k(x)),S=2),O&&O({context:N?.context,operation:S,record:x})})}detach(){for(const U of this._viewCache)U.destroy();this._viewCache=[]}_insertView(U,R,j,k){const O=this._insertViewFromCache(R,j);if(O)return void(O.context.$implicit=k);const x=U();return j.createEmbeddedView(x.templateRef,x.context,x.index)}_detachAndCacheView(U,R){const j=R.detach(U);this._maybeCacheView(j,R)}_moveView(U,R,j,k){const O=j.get(U);return j.move(O,R),O.context.$implicit=k,O}_maybeCacheView(U,R){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(U);else{const j=R.indexOf(U);-1===j?U.destroy():R.remove(j)}}_insertViewFromCache(U,R){const j=this._viewCache.pop();return j&&R.insert(j,U),j||null}}class p{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(U=!1,R,j=!0,k){this._multiple=U,this._emitChanges=j,this.compareWith=k,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,R&&R.length&&(U?R.forEach(O=>this._markSelected(O)):this._markSelected(R[0]),this._selectedToEmit.length=0)}select(...U){this._verifyValueAssignment(U),U.forEach(j=>this._markSelected(j));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}deselect(...U){this._verifyValueAssignment(U),U.forEach(j=>this._unmarkSelected(j));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}setSelection(...U){this._verifyValueAssignment(U);const R=this.selected,j=new Set(U);U.forEach(O=>this._markSelected(O)),R.filter(O=>!j.has(O)).forEach(O=>this._unmarkSelected(O));const k=this._hasQueuedChanges();return this._emitChangeEvent(),k}toggle(U){return this.isSelected(U)?this.deselect(U):this.select(U)}clear(U=!0){this._unmarkAll();const R=this._hasQueuedChanges();return U&&this._emitChangeEvent(),R}isSelected(U){return this._selection.has(this._getConcreteValue(U))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(U){this._multiple&&this.selected&&this._selected.sort(U)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(U){U=this._getConcreteValue(U),this.isSelected(U)||(this._multiple||this._unmarkAll(),this.isSelected(U)||this._selection.add(U),this._emitChanges&&this._selectedToEmit.push(U))}_unmarkSelected(U){U=this._getConcreteValue(U),this.isSelected(U)&&(this._selection.delete(U),this._emitChanges&&this._deselectedToEmit.push(U))}_unmarkAll(){this.isEmpty()||this._selection.forEach(U=>this._unmarkSelected(U))}_verifyValueAssignment(U){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(U){if(this.compareWith){for(let R of this._selection)if(this.compareWith(U,R))return R;return U}return U}}const v=new y.OlP("_ViewRepeater")},6028:(Bn,et,C)=>{"use strict";C.d(et,{A:()=>Me,JH:()=>P,JU:()=>F,K5:()=>E,Ku:()=>A,LH:()=>O,L_:()=>v,MW:()=>st,Mf:()=>y,SV:()=>x,Sd:()=>j,VM:()=>U,Vb:()=>gt,Z:()=>Ve,aO:()=>he,b2:()=>vt,hY:()=>g,jx:()=>L,oh:()=>k,uR:()=>R,xE:()=>Y,zL:()=>D});const y=9,E=13,F=16,L=17,D=18,g=27,v=32,A=33,U=34,R=35,j=36,k=37,O=38,x=39,P=40,Y=48,he=57,Me=65,Ve=90,st=91,vt=224;function gt(kt,...cn){return cn.length?cn.some(ei=>kt[ei]):kt.altKey||kt.shiftKey||kt.ctrlKey||kt.metaKey}},1088:(Bn,et,C)=>{"use strict";C.d(et,{Yg:()=>P,u3:()=>N});var c=C(5879),t=C(2495),y=C(8645),I=C(2572),E=C(5211),F=C(5592),L=C(8180),D=C(836),p=C(3620),f=C(7398),g=C(7921),v=C(9773),A=C(2831);const R=new Set;let j,k=(()=>{class S{constructor(Y,q){this._platform=Y,this._nonce=q,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):x}matchMedia(Y){return(this._platform.WEBKIT||this._platform.BLINK)&&function O(S,B){if(!R.has(S))try{j||(j=document.createElement("style"),B&&(j.nonce=B),j.setAttribute("type","text/css"),document.head.appendChild(j)),j.sheet&&(j.sheet.insertRule(`@media ${S} {body{ }}`,0),R.add(S))}catch(Y){console.error(Y)}}(Y,this._nonce),this._matchMedia(Y)}static#e=this.\u0275fac=function(q){return new(q||S)(c.LFG(A.t4),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function x(S){return{matches:"all"===S||""===S,media:S,addListener:()=>{},removeListener:()=>{}}}let P=(()=>{class S{constructor(Y,q){this._mediaMatcher=Y,this._zone=q,this._queries=new Map,this._destroySubject=new y.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Y){return T((0,t.Eq)(Y)).some(le=>this._registerQuery(le).mql.matches)}observe(Y){const le=T((0,t.Eq)(Y)).map($=>this._registerQuery($).observable);let Fe=(0,I.a)(le);return Fe=(0,E.z)(Fe.pipe((0,L.q)(1)),Fe.pipe((0,D.T)(1),(0,p.b)(0))),Fe.pipe((0,f.U)($=>{const ae={matches:!1,breakpoints:{}};return $.forEach(({matches:K,query:pe})=>{ae.matches=ae.matches||K,ae.breakpoints[pe]=K}),ae}))}_registerQuery(Y){if(this._queries.has(Y))return this._queries.get(Y);const q=this._mediaMatcher.matchMedia(Y),Fe={observable:new F.y($=>{const ae=K=>this._zone.run(()=>$.next(K));return q.addListener(ae),()=>{q.removeListener(ae)}}).pipe((0,g.O)(q),(0,f.U)(({matches:$})=>({query:Y,matches:$})),(0,v.R)(this._destroySubject)),mql:q};return this._queries.set(Y,Fe),Fe}static#e=this.\u0275fac=function(q){return new(q||S)(c.LFG(k),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function T(S){return S.map(B=>B.split(",")).reduce((B,Y)=>B.concat(Y)).map(B=>B.trim())}const N={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(Bn,et,C)=>{"use strict";C.d(et,{Q8:()=>E});var c=C(5879);let t=(()=>{class F{create(D){return typeof MutationObserver>"u"?null:new MutationObserver(D)}static#e=this.\u0275fac=function(p){return new(p||F)};static#t=this.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),E=(()=>{class F{static#e=this.\u0275fac=function(p){return new(p||F)};static#t=this.\u0275mod=c.oAB({type:F});static#n=this.\u0275inj=c.cJS({providers:[t]})}return F})()},3651:(Bn,et,C)=>{"use strict";C.d(et,{pI:()=>Z,xu:()=>Q,_G:()=>me,aV:()=>se,X_:()=>le,Xj:()=>Le,U8:()=>ee,Iu:()=>fe});var c=C(799),t=C(6814),y=C(5879),I=C(2495),E=C(2831),F=C(2181),L=C(8180),D=C(9773),p=C(9360),f=C(8251),v=C(9388),A=C(8484),U=C(8645),R=C(7394),j=C(3019),k=C(6028);const O=(0,E.Mq)();class x{constructor(_e,de){this._viewportRuler=_e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=de}attach(){}enable(){if(this._canBeEnabled()){const _e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=_e.style.left||"",this._previousHTMLStyles.top=_e.style.top||"",_e.style.left=(0,I.HM)(-this._previousScrollPosition.left),_e.style.top=(0,I.HM)(-this._previousScrollPosition.top),_e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const _e=this._document.documentElement,xe=_e.style,Ke=this._document.body.style,Ve=xe.scrollBehavior||"",st=Ke.scrollBehavior||"";this._isEnabled=!1,xe.left=this._previousHTMLStyles.left,xe.top=this._previousHTMLStyles.top,_e.classList.remove("cdk-global-scrollblock"),O&&(xe.scrollBehavior=Ke.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),O&&(xe.scrollBehavior=Ve,Ke.scrollBehavior=st)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const de=this._document.body,xe=this._viewportRuler.getViewportSize();return de.scrollHeight>xe.height||de.scrollWidth>xe.width}}class T{constructor(_e,de,xe,Ke){this._scrollDispatcher=_e,this._ngZone=de,this._viewportRuler=xe,this._config=Ke,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(_e){this._overlayRef=_e}enable(){if(this._scrollSubscription)return;const _e=this._scrollDispatcher.scrolled(0).pipe((0,F.h)(de=>!de||!this._overlayRef.overlayElement.contains(de.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=_e.subscribe(()=>{const de=this._viewportRuler.getViewportScrollPosition().top;Math.abs(de-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=_e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class N{enable(){}disable(){}attach(){}}function S(ue,_e){return _e.some(de=>ue.bottom<de.top||ue.top>de.bottom||ue.right<de.left||ue.left>de.right)}function B(ue,_e){return _e.some(de=>ue.top<de.top||ue.bottom>de.bottom||ue.left<de.left||ue.right>de.right)}class Y{constructor(_e,de,xe,Ke){this._scrollDispatcher=_e,this._viewportRuler=de,this._ngZone=xe,this._config=Ke,this._scrollSubscription=null}attach(_e){this._overlayRef=_e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const de=this._overlayRef.overlayElement.getBoundingClientRect(),{width:xe,height:Ke}=this._viewportRuler.getViewportSize();S(de,[{width:xe,height:Ke,bottom:Ke,right:xe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let q=(()=>{class ue{constructor(de,xe,Ke,Ve){this._scrollDispatcher=de,this._viewportRuler=xe,this._ngZone=Ke,this.noop=()=>new N,this.close=st=>new T(this._scrollDispatcher,this._ngZone,this._viewportRuler,st),this.block=()=>new x(this._viewportRuler,this._document),this.reposition=st=>new Y(this._scrollDispatcher,this._viewportRuler,this._ngZone,st),this._document=Ve}static#e=this.\u0275fac=function(xe){return new(xe||ue)(y.LFG(c.mF),y.LFG(c.rL),y.LFG(y.R0b),y.LFG(t.K0))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();class le{constructor(_e){if(this.scrollStrategy=new N,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,_e){const de=Object.keys(_e);for(const xe of de)void 0!==_e[xe]&&(this[xe]=_e[xe])}}}class ae{constructor(_e,de){this.connectionPair=_e,this.scrollableViewProperties=de}}let oe=(()=>{class ue{constructor(de){this._attachedOverlays=[],this._document=de}ngOnDestroy(){this.detach()}add(de){this.remove(de),this._attachedOverlays.push(de)}remove(de){const xe=this._attachedOverlays.indexOf(de);xe>-1&&this._attachedOverlays.splice(xe,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(xe){return new(xe||ue)(y.LFG(t.K0))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),he=(()=>{class ue extends oe{constructor(de,xe){super(de),this._ngZone=xe,this._keydownListener=Ke=>{const Ve=this._attachedOverlays;for(let st=Ve.length-1;st>-1;st--)if(Ve[st]._keydownEvents.observers.length>0){const ct=Ve[st]._keydownEvents;this._ngZone?this._ngZone.run(()=>ct.next(Ke)):ct.next(Ke);break}}}add(de){super.add(de),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(xe){return new(xe||ue)(y.LFG(t.K0),y.LFG(y.R0b,8))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),Se=(()=>{class ue extends oe{constructor(de,xe,Ke){super(de),this._platform=xe,this._ngZone=Ke,this._cursorStyleIsSet=!1,this._pointerDownListener=Ve=>{this._pointerDownEventTarget=(0,E.sA)(Ve)},this._clickListener=Ve=>{const st=(0,E.sA)(Ve),ct="click"===Ve.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:st;this._pointerDownEventTarget=null;const nt=this._attachedOverlays.slice();for(let yt=nt.length-1;yt>-1;yt--){const jt=nt[yt];if(jt._outsidePointerEvents.observers.length<1||!jt.hasAttached())continue;if(jt.overlayElement.contains(st)||jt.overlayElement.contains(ct))break;const wt=jt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>wt.next(Ve)):wt.next(Ve)}}}add(de){if(super.add(de),!this._isAttached){const xe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(xe)):this._addEventListeners(xe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=xe.style.cursor,xe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const de=this._document.body;de.removeEventListener("pointerdown",this._pointerDownListener,!0),de.removeEventListener("click",this._clickListener,!0),de.removeEventListener("auxclick",this._clickListener,!0),de.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(de.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(de){de.addEventListener("pointerdown",this._pointerDownListener,!0),de.addEventListener("click",this._clickListener,!0),de.addEventListener("auxclick",this._clickListener,!0),de.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(xe){return new(xe||ue)(y.LFG(t.K0),y.LFG(E.t4),y.LFG(y.R0b,8))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),Le=(()=>{class ue{constructor(de,xe){this._platform=xe,this._document=de}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const de="cdk-overlay-container";if(this._platform.isBrowser||(0,E.Oy)()){const Ke=this._document.querySelectorAll(`.${de}[platform="server"], .${de}[platform="test"]`);for(let Ve=0;Ve<Ke.length;Ve++)Ke[Ve].remove()}const xe=this._document.createElement("div");xe.classList.add(de),(0,E.Oy)()?xe.setAttribute("platform","test"):this._platform.isBrowser||xe.setAttribute("platform","server"),this._document.body.appendChild(xe),this._containerElement=xe}static#e=this.\u0275fac=function(xe){return new(xe||ue)(y.LFG(t.K0),y.LFG(E.t4))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();class fe{constructor(_e,de,xe,Ke,Ve,st,ct,nt,yt,jt=!1){this._portalOutlet=_e,this._host=de,this._pane=xe,this._config=Ke,this._ngZone=Ve,this._keyboardDispatcher=st,this._document=ct,this._location=nt,this._outsideClickDispatcher=yt,this._animationsDisabled=jt,this._backdropElement=null,this._backdropClick=new U.x,this._attachments=new U.x,this._detachments=new U.x,this._locationChanges=R.w0.EMPTY,this._backdropClickHandler=wt=>this._backdropClick.next(wt),this._backdropTransitionendHandler=wt=>{this._disposeBackdrop(wt.target)},this._keydownEvents=new U.x,this._outsidePointerEvents=new U.x,Ke.scrollStrategy&&(this._scrollStrategy=Ke.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ke.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(_e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const de=this._portalOutlet.attach(_e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,L.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof de?.onDestroy&&de.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),de}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const _e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),_e}dispose(){const _e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,_e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(_e){_e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=_e,this.hasAttached()&&(_e.attach(this),this.updatePosition()))}updateSize(_e){this._config={...this._config,..._e},this._updateElementSize()}setDirection(_e){this._config={...this._config,direction:_e},this._updateElementDirection()}addPanelClass(_e){this._pane&&this._toggleClasses(this._pane,_e,!0)}removePanelClass(_e){this._pane&&this._toggleClasses(this._pane,_e,!1)}getDirection(){const _e=this._config.direction;return _e?"string"==typeof _e?_e:_e.value:"ltr"}updateScrollStrategy(_e){_e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=_e,this.hasAttached()&&(_e.attach(this),_e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const _e=this._pane.style;_e.width=(0,I.HM)(this._config.width),_e.height=(0,I.HM)(this._config.height),_e.minWidth=(0,I.HM)(this._config.minWidth),_e.minHeight=(0,I.HM)(this._config.minHeight),_e.maxWidth=(0,I.HM)(this._config.maxWidth),_e.maxHeight=(0,I.HM)(this._config.maxHeight)}_togglePointerEvents(_e){this._pane.style.pointerEvents=_e?"":"none"}_attachBackdrop(){const _e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(_e)})}):this._backdropElement.classList.add(_e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const _e=this._backdropElement;if(_e){if(this._animationsDisabled)return void this._disposeBackdrop(_e);_e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{_e.addEventListener("transitionend",this._backdropTransitionendHandler)}),_e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(_e)},500))}}_toggleClasses(_e,de,xe){const Ke=(0,I.Eq)(de||[]).filter(Ve=>!!Ve);Ke.length&&(xe?_e.classList.add(...Ke):_e.classList.remove(...Ke))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const _e=this._ngZone.onStable.pipe((0,D.R)((0,j.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),_e.unsubscribe())})})}_disposeScrollStrategy(){const _e=this._scrollStrategy;_e&&(_e.disable(),_e.detach&&_e.detach())}_disposeBackdrop(_e){_e&&(_e.removeEventListener("click",this._backdropClickHandler),_e.removeEventListener("transitionend",this._backdropTransitionendHandler),_e.remove(),this._backdropElement===_e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Re="cdk-overlay-connected-position-bounding-box",Me=/([A-Za-z%]+)$/;class me{get positions(){return this._preferredPositions}constructor(_e,de,xe,Ke,Ve){this._viewportRuler=de,this._document=xe,this._platform=Ke,this._overlayContainer=Ve,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.x,this._resizeSubscription=R.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(_e)}attach(_e){this._validatePositions(),_e.hostElement.classList.add(Re),this._overlayRef=_e,this._boundingBox=_e.hostElement,this._pane=_e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const _e=this._originRect,de=this._overlayRect,xe=this._viewportRect,Ke=this._containerRect,Ve=[];let st;for(let ct of this._preferredPositions){let nt=this._getOriginPoint(_e,Ke,ct),yt=this._getOverlayPoint(nt,de,ct),jt=this._getOverlayFit(yt,de,xe,ct);if(jt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ct,nt);this._canFitWithFlexibleDimensions(jt,yt,xe)?Ve.push({position:ct,origin:nt,overlayRect:de,boundingBoxRect:this._calculateBoundingBoxRect(nt,ct)}):(!st||st.overlayFit.visibleArea<jt.visibleArea)&&(st={overlayFit:jt,overlayPoint:yt,originPoint:nt,position:ct,overlayRect:de})}if(Ve.length){let ct=null,nt=-1;for(const yt of Ve){const jt=yt.boundingBoxRect.width*yt.boundingBoxRect.height*(yt.position.weight||1);jt>nt&&(nt=jt,ct=yt)}return this._isPushed=!1,void this._applyPosition(ct.position,ct.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(st.position,st.originPoint);this._applyPosition(st.position,st.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ue(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Re),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const _e=this._lastPosition;if(_e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const de=this._getOriginPoint(this._originRect,this._containerRect,_e);this._applyPosition(_e,de)}else this.apply()}withScrollableContainers(_e){return this._scrollables=_e,this}withPositions(_e){return this._preferredPositions=_e,-1===_e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(_e){return this._viewportMargin=_e,this}withFlexibleDimensions(_e=!0){return this._hasFlexibleDimensions=_e,this}withGrowAfterOpen(_e=!0){return this._growAfterOpen=_e,this}withPush(_e=!0){return this._canPush=_e,this}withLockedPosition(_e=!0){return this._positionLocked=_e,this}setOrigin(_e){return this._origin=_e,this}withDefaultOffsetX(_e){return this._offsetX=_e,this}withDefaultOffsetY(_e){return this._offsetY=_e,this}withTransformOriginOn(_e){return this._transformOriginSelector=_e,this}_getOriginPoint(_e,de,xe){let Ke,Ve;if("center"==xe.originX)Ke=_e.left+_e.width/2;else{const st=this._isRtl()?_e.right:_e.left,ct=this._isRtl()?_e.left:_e.right;Ke="start"==xe.originX?st:ct}return de.left<0&&(Ke-=de.left),Ve="center"==xe.originY?_e.top+_e.height/2:"top"==xe.originY?_e.top:_e.bottom,de.top<0&&(Ve-=de.top),{x:Ke,y:Ve}}_getOverlayPoint(_e,de,xe){let Ke,Ve;return Ke="center"==xe.overlayX?-de.width/2:"start"===xe.overlayX?this._isRtl()?-de.width:0:this._isRtl()?0:-de.width,Ve="center"==xe.overlayY?-de.height/2:"top"==xe.overlayY?0:-de.height,{x:_e.x+Ke,y:_e.y+Ve}}_getOverlayFit(_e,de,xe,Ke){const Ve=Ie(de);let{x:st,y:ct}=_e,nt=this._getOffset(Ke,"x"),yt=this._getOffset(Ke,"y");nt&&(st+=nt),yt&&(ct+=yt);let Gt=0-ct,nn=ct+Ve.height-xe.height,dn=this._subtractOverflows(Ve.width,0-st,st+Ve.width-xe.width),un=this._subtractOverflows(Ve.height,Gt,nn),Kt=dn*un;return{visibleArea:Kt,isCompletelyWithinViewport:Ve.width*Ve.height===Kt,fitsInViewportVertically:un===Ve.height,fitsInViewportHorizontally:dn==Ve.width}}_canFitWithFlexibleDimensions(_e,de,xe){if(this._hasFlexibleDimensions){const Ke=xe.bottom-de.y,Ve=xe.right-de.x,st=ke(this._overlayRef.getConfig().minHeight),ct=ke(this._overlayRef.getConfig().minWidth);return(_e.fitsInViewportVertically||null!=st&&st<=Ke)&&(_e.fitsInViewportHorizontally||null!=ct&&ct<=Ve)}return!1}_pushOverlayOnScreen(_e,de,xe){if(this._previousPushAmount&&this._positionLocked)return{x:_e.x+this._previousPushAmount.x,y:_e.y+this._previousPushAmount.y};const Ke=Ie(de),Ve=this._viewportRect,st=Math.max(_e.x+Ke.width-Ve.width,0),ct=Math.max(_e.y+Ke.height-Ve.height,0),nt=Math.max(Ve.top-xe.top-_e.y,0),yt=Math.max(Ve.left-xe.left-_e.x,0);let jt=0,wt=0;return jt=Ke.width<=Ve.width?yt||-st:_e.x<this._viewportMargin?Ve.left-xe.left-_e.x:0,wt=Ke.height<=Ve.height?nt||-ct:_e.y<this._viewportMargin?Ve.top-xe.top-_e.y:0,this._previousPushAmount={x:jt,y:wt},{x:_e.x+jt,y:_e.y+wt}}_applyPosition(_e,de){if(this._setTransformOrigin(_e),this._setOverlayElementStyles(de,_e),this._setBoundingBoxStyles(de,_e),_e.panelClass&&this._addPanelClasses(_e.panelClass),this._lastPosition=_e,this._positionChanges.observers.length){const xe=this._getScrollVisibility(),Ke=new ae(_e,xe);this._positionChanges.next(Ke)}this._isInitialRender=!1}_setTransformOrigin(_e){if(!this._transformOriginSelector)return;const de=this._boundingBox.querySelectorAll(this._transformOriginSelector);let xe,Ke=_e.overlayY;xe="center"===_e.overlayX?"center":this._isRtl()?"start"===_e.overlayX?"right":"left":"start"===_e.overlayX?"left":"right";for(let Ve=0;Ve<de.length;Ve++)de[Ve].style.transformOrigin=`${xe} ${Ke}`}_calculateBoundingBoxRect(_e,de){const xe=this._viewportRect,Ke=this._isRtl();let Ve,st,ct,jt,wt,Gt;if("top"===de.overlayY)st=_e.y,Ve=xe.height-st+this._viewportMargin;else if("bottom"===de.overlayY)ct=xe.height-_e.y+2*this._viewportMargin,Ve=xe.height-ct+this._viewportMargin;else{const nn=Math.min(xe.bottom-_e.y+xe.top,_e.y),dn=this._lastBoundingBoxSize.height;Ve=2*nn,st=_e.y-nn,Ve>dn&&!this._isInitialRender&&!this._growAfterOpen&&(st=_e.y-dn/2)}if("end"===de.overlayX&&!Ke||"start"===de.overlayX&&Ke)Gt=xe.width-_e.x+this._viewportMargin,jt=_e.x-this._viewportMargin;else if("start"===de.overlayX&&!Ke||"end"===de.overlayX&&Ke)wt=_e.x,jt=xe.right-_e.x;else{const nn=Math.min(xe.right-_e.x+xe.left,_e.x),dn=this._lastBoundingBoxSize.width;jt=2*nn,wt=_e.x-nn,jt>dn&&!this._isInitialRender&&!this._growAfterOpen&&(wt=_e.x-dn/2)}return{top:st,left:wt,bottom:ct,right:Gt,width:jt,height:Ve}}_setBoundingBoxStyles(_e,de){const xe=this._calculateBoundingBoxRect(_e,de);!this._isInitialRender&&!this._growAfterOpen&&(xe.height=Math.min(xe.height,this._lastBoundingBoxSize.height),xe.width=Math.min(xe.width,this._lastBoundingBoxSize.width));const Ke={};if(this._hasExactPosition())Ke.top=Ke.left="0",Ke.bottom=Ke.right=Ke.maxHeight=Ke.maxWidth="",Ke.width=Ke.height="100%";else{const Ve=this._overlayRef.getConfig().maxHeight,st=this._overlayRef.getConfig().maxWidth;Ke.height=(0,I.HM)(xe.height),Ke.top=(0,I.HM)(xe.top),Ke.bottom=(0,I.HM)(xe.bottom),Ke.width=(0,I.HM)(xe.width),Ke.left=(0,I.HM)(xe.left),Ke.right=(0,I.HM)(xe.right),Ke.alignItems="center"===de.overlayX?"center":"end"===de.overlayX?"flex-end":"flex-start",Ke.justifyContent="center"===de.overlayY?"center":"bottom"===de.overlayY?"flex-end":"flex-start",Ve&&(Ke.maxHeight=(0,I.HM)(Ve)),st&&(Ke.maxWidth=(0,I.HM)(st))}this._lastBoundingBoxSize=xe,Ue(this._boundingBox.style,Ke)}_resetBoundingBoxStyles(){Ue(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ue(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(_e,de){const xe={},Ke=this._hasExactPosition(),Ve=this._hasFlexibleDimensions,st=this._overlayRef.getConfig();if(Ke){const jt=this._viewportRuler.getViewportScrollPosition();Ue(xe,this._getExactOverlayY(de,_e,jt)),Ue(xe,this._getExactOverlayX(de,_e,jt))}else xe.position="static";let ct="",nt=this._getOffset(de,"x"),yt=this._getOffset(de,"y");nt&&(ct+=`translateX(${nt}px) `),yt&&(ct+=`translateY(${yt}px)`),xe.transform=ct.trim(),st.maxHeight&&(Ke?xe.maxHeight=(0,I.HM)(st.maxHeight):Ve&&(xe.maxHeight="")),st.maxWidth&&(Ke?xe.maxWidth=(0,I.HM)(st.maxWidth):Ve&&(xe.maxWidth="")),Ue(this._pane.style,xe)}_getExactOverlayY(_e,de,xe){let Ke={top:"",bottom:""},Ve=this._getOverlayPoint(de,this._overlayRect,_e);return this._isPushed&&(Ve=this._pushOverlayOnScreen(Ve,this._overlayRect,xe)),"bottom"===_e.overlayY?Ke.bottom=this._document.documentElement.clientHeight-(Ve.y+this._overlayRect.height)+"px":Ke.top=(0,I.HM)(Ve.y),Ke}_getExactOverlayX(_e,de,xe){let st,Ke={left:"",right:""},Ve=this._getOverlayPoint(de,this._overlayRect,_e);return this._isPushed&&(Ve=this._pushOverlayOnScreen(Ve,this._overlayRect,xe)),st=this._isRtl()?"end"===_e.overlayX?"left":"right":"end"===_e.overlayX?"right":"left","right"===st?Ke.right=this._document.documentElement.clientWidth-(Ve.x+this._overlayRect.width)+"px":Ke.left=(0,I.HM)(Ve.x),Ke}_getScrollVisibility(){const _e=this._getOriginRect(),de=this._pane.getBoundingClientRect(),xe=this._scrollables.map(Ke=>Ke.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(_e,xe),isOriginOutsideView:S(_e,xe),isOverlayClipped:B(de,xe),isOverlayOutsideView:S(de,xe)}}_subtractOverflows(_e,...de){return de.reduce((xe,Ke)=>xe-Math.max(Ke,0),_e)}_getNarrowedViewportRect(){const _e=this._document.documentElement.clientWidth,de=this._document.documentElement.clientHeight,xe=this._viewportRuler.getViewportScrollPosition();return{top:xe.top+this._viewportMargin,left:xe.left+this._viewportMargin,right:xe.left+_e-this._viewportMargin,bottom:xe.top+de-this._viewportMargin,width:_e-2*this._viewportMargin,height:de-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(_e,de){return"x"===de?null==_e.offsetX?this._offsetX:_e.offsetX:null==_e.offsetY?this._offsetY:_e.offsetY}_validatePositions(){}_addPanelClasses(_e){this._pane&&(0,I.Eq)(_e).forEach(de=>{""!==de&&-1===this._appliedPanelClasses.indexOf(de)&&(this._appliedPanelClasses.push(de),this._pane.classList.add(de))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(_e=>{this._pane.classList.remove(_e)}),this._appliedPanelClasses=[])}_getOriginRect(){const _e=this._origin;if(_e instanceof y.SBq)return _e.nativeElement.getBoundingClientRect();if(_e instanceof Element)return _e.getBoundingClientRect();const de=_e.width||0,xe=_e.height||0;return{top:_e.y,bottom:_e.y+xe,left:_e.x,right:_e.x+de,height:xe,width:de}}}function Ue(ue,_e){for(let de in _e)_e.hasOwnProperty(de)&&(ue[de]=_e[de]);return ue}function ke(ue){if("number"!=typeof ue&&null!=ue){const[_e,de]=ue.split(Me);return de&&"px"!==de?null:parseFloat(_e)}return ue||null}function Ie(ue){return{top:Math.floor(ue.top),right:Math.floor(ue.right),bottom:Math.floor(ue.bottom),left:Math.floor(ue.left),width:Math.floor(ue.width),height:Math.floor(ue.height)}}const Je="cdk-global-overlay-wrapper";class Ne{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(_e){const de=_e.getConfig();this._overlayRef=_e,this._width&&!de.width&&_e.updateSize({width:this._width}),this._height&&!de.height&&_e.updateSize({height:this._height}),_e.hostElement.classList.add(Je),this._isDisposed=!1}top(_e=""){return this._bottomOffset="",this._topOffset=_e,this._alignItems="flex-start",this}left(_e=""){return this._xOffset=_e,this._xPosition="left",this}bottom(_e=""){return this._topOffset="",this._bottomOffset=_e,this._alignItems="flex-end",this}right(_e=""){return this._xOffset=_e,this._xPosition="right",this}start(_e=""){return this._xOffset=_e,this._xPosition="start",this}end(_e=""){return this._xOffset=_e,this._xPosition="end",this}width(_e=""){return this._overlayRef?this._overlayRef.updateSize({width:_e}):this._width=_e,this}height(_e=""){return this._overlayRef?this._overlayRef.updateSize({height:_e}):this._height=_e,this}centerHorizontally(_e=""){return this.left(_e),this._xPosition="center",this}centerVertically(_e=""){return this.top(_e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const _e=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement.style,xe=this._overlayRef.getConfig(),{width:Ke,height:Ve,maxWidth:st,maxHeight:ct}=xe,nt=!("100%"!==Ke&&"100vw"!==Ke||st&&"100%"!==st&&"100vw"!==st),yt=!("100%"!==Ve&&"100vh"!==Ve||ct&&"100%"!==ct&&"100vh"!==ct),jt=this._xPosition,wt=this._xOffset,Gt="rtl"===this._overlayRef.getConfig().direction;let nn="",dn="",un="";nt?un="flex-start":"center"===jt?(un="center",Gt?dn=wt:nn=wt):Gt?"left"===jt||"end"===jt?(un="flex-end",nn=wt):("right"===jt||"start"===jt)&&(un="flex-start",dn=wt):"left"===jt||"start"===jt?(un="flex-start",nn=wt):("right"===jt||"end"===jt)&&(un="flex-end",dn=wt),_e.position=this._cssPosition,_e.marginLeft=nt?"0":nn,_e.marginTop=yt?"0":this._topOffset,_e.marginBottom=this._bottomOffset,_e.marginRight=nt?"0":dn,de.justifyContent=un,de.alignItems=yt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const _e=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement,xe=de.style;de.classList.remove(Je),xe.justifyContent=xe.alignItems=_e.marginTop=_e.marginBottom=_e.marginLeft=_e.marginRight=_e.position="",this._overlayRef=null,this._isDisposed=!0}}let Te=(()=>{class ue{constructor(de,xe,Ke,Ve){this._viewportRuler=de,this._document=xe,this._platform=Ke,this._overlayContainer=Ve}global(){return new Ne}flexibleConnectedTo(de){return new me(de,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(xe){return new(xe||ue)(y.LFG(c.rL),y.LFG(t.K0),y.LFG(E.t4),y.LFG(Le))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),W=0,se=(()=>{class ue{constructor(de,xe,Ke,Ve,st,ct,nt,yt,jt,wt,Gt,nn){this.scrollStrategies=de,this._overlayContainer=xe,this._componentFactoryResolver=Ke,this._positionBuilder=Ve,this._keyboardDispatcher=st,this._injector=ct,this._ngZone=nt,this._document=yt,this._directionality=jt,this._location=wt,this._outsideClickDispatcher=Gt,this._animationsModuleType=nn}create(de){const xe=this._createHostElement(),Ke=this._createPaneElement(xe),Ve=this._createPortalOutlet(Ke),st=new le(de);return st.direction=st.direction||this._directionality.value,new fe(Ve,xe,Ke,st,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(de){const xe=this._document.createElement("div");return xe.id="cdk-overlay-"+W++,xe.classList.add("cdk-overlay-pane"),de.appendChild(xe),xe}_createHostElement(){const de=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(de),de}_createPortalOutlet(de){return this._appRef||(this._appRef=this._injector.get(y.z2F)),new A.u0(de,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(xe){return new(xe||ue)(y.LFG(q),y.LFG(Le),y.LFG(y._Vd),y.LFG(Te),y.LFG(he),y.LFG(y.zs3),y.LFG(y.R0b),y.LFG(t.K0),y.LFG(v.Is),y.LFG(t.Ye),y.LFG(Se),y.LFG(y.QbO,8))};static#t=this.\u0275prov=y.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();const ge=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],J=new y.OlP("cdk-connected-overlay-scroll-strategy");let Q=(()=>{class ue{constructor(de){this.elementRef=de}static#e=this.\u0275fac=function(xe){return new(xe||ue)(y.Y36(y.SBq))};static#t=this.\u0275dir=y.lG2({type:ue,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return ue})(),Z=(()=>{class ue{get offsetX(){return this._offsetX}set offsetX(de){this._offsetX=de,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(de){this._offsetY=de,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(de){this._hasBackdrop=(0,I.Ig)(de)}get lockPosition(){return this._lockPosition}set lockPosition(de){this._lockPosition=(0,I.Ig)(de)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(de){this._flexibleDimensions=(0,I.Ig)(de)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(de){this._growAfterOpen=(0,I.Ig)(de)}get push(){return this._push}set push(de){this._push=(0,I.Ig)(de)}constructor(de,xe,Ke,Ve,st){this._overlay=de,this._dir=st,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=R.w0.EMPTY,this._attachSubscription=R.w0.EMPTY,this._detachSubscription=R.w0.EMPTY,this._positionSubscription=R.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new y.vpe,this.positionChange=new y.vpe,this.attach=new y.vpe,this.detach=new y.vpe,this.overlayKeydown=new y.vpe,this.overlayOutsideClick=new y.vpe,this._templatePortal=new A.UE(xe,Ke),this._scrollStrategyFactory=Ve,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(de){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),de.origin&&this.open&&this._position.apply()),de.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ge);const de=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=de.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=de.detachments().subscribe(()=>this.detach.emit()),de.keydownEvents().subscribe(xe=>{this.overlayKeydown.next(xe),xe.keyCode===k.hY&&!this.disableClose&&!(0,k.Vb)(xe)&&(xe.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(xe=>{this.overlayOutsideClick.next(xe)})}_buildConfig(){const de=this._position=this.positionStrategy||this._createPositionStrategy(),xe=new le({direction:this._dir,positionStrategy:de,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(xe.width=this.width),(this.height||0===this.height)&&(xe.height=this.height),(this.minWidth||0===this.minWidth)&&(xe.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(xe.minHeight=this.minHeight),this.backdropClass&&(xe.backdropClass=this.backdropClass),this.panelClass&&(xe.panelClass=this.panelClass),xe}_updatePositionStrategy(de){const xe=this.positions.map(Ke=>({originX:Ke.originX,originY:Ke.originY,overlayX:Ke.overlayX,overlayY:Ke.overlayY,offsetX:Ke.offsetX||this.offsetX,offsetY:Ke.offsetY||this.offsetY,panelClass:Ke.panelClass||void 0}));return de.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(xe).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const de=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(de),de}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Q?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(de=>{this.backdropClick.emit(de)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function g(ue,_e=!1){return(0,p.e)((de,xe)=>{let Ke=0;de.subscribe((0,f.x)(xe,Ve=>{const st=ue(Ve,Ke++);(st||_e)&&xe.next(Ve),!st&&xe.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(de=>{this.positionChange.emit(de),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(xe){return new(xe||ue)(y.Y36(se),y.Y36(y.Rgc),y.Y36(y.s_b),y.Y36(J),y.Y36(v.Is,8))};static#t=this.\u0275dir=y.lG2({type:ue,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[y.TTD]})}return ue})();const ne={provide:J,deps:[se],useFactory:function te(ue){return()=>ue.scrollStrategies.reposition()}};let ee=(()=>{class ue{static#e=this.\u0275fac=function(xe){return new(xe||ue)};static#t=this.\u0275mod=y.oAB({type:ue});static#n=this.\u0275inj=y.cJS({providers:[se,ne],imports:[v.vT,A.eL,c.Cl,c.Cl]})}return ue})()},2831:(Bn,et,C)=>{"use strict";C.d(et,{Mq:()=>U,Oy:()=>T,ht:()=>x,i$:()=>g,kV:()=>O,qK:()=>D,sA:()=>P,t4:()=>I});var c=C(5879),t=C(6814);let y;try{y=typeof Intl<"u"&&Intl.v8BreakIterator}catch{y=!1}let F,I=(()=>{class N{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!y)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Y){return new(Y||N)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const L=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function D(){if(F)return F;if("object"!=typeof document||!document)return F=new Set(L),F;let N=document.createElement("input");return F=new Set(L.filter(S=>(N.setAttribute("type",S),N.type===S))),F}let p,A,j;function g(N){return function f(){if(null==p&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>p=!0}))}finally{p=p||!1}return p}()?N:!!N.capture}function U(){if(null==A){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return A=!1,A;if("scrollBehavior"in document.documentElement.style)A=!0;else{const N=Element.prototype.scrollTo;A=!!N&&!/\{\s*\[native code\]\s*\}/.test(N.toString())}}return A}function O(N){if(function k(){if(null==j){const N=typeof document<"u"?document.head:null;j=!(!N||!N.createShadowRoot&&!N.attachShadow)}return j}()){const S=N.getRootNode?N.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&S instanceof ShadowRoot)return S}return null}function x(){let N=typeof document<"u"&&document?document.activeElement:null;for(;N&&N.shadowRoot;){const S=N.shadowRoot.activeElement;if(S===N)break;N=S}return N}function P(N){return N.composedPath?N.composedPath()[0]:N.target}function T(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(Bn,et,C)=>{"use strict";C.d(et,{C5:()=>f,Pl:()=>x,UE:()=>g,eL:()=>T,en:()=>A,u0:()=>R});var c=C(5879),t=C(6814);class p{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class f extends p{constructor(B,Y,q,le,Fe){super(),this.component=B,this.viewContainerRef=Y,this.injector=q,this.componentFactoryResolver=le,this.projectableNodes=Fe}}class g extends p{constructor(B,Y,q,le){super(),this.templateRef=B,this.viewContainerRef=Y,this.context=q,this.injector=le}get origin(){return this.templateRef.elementRef}attach(B,Y=this.context){return this.context=Y,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class v extends p{constructor(B){super(),this.element=B instanceof c.SBq?B.nativeElement:B}}class A{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof f?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof g?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof v?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class R extends A{constructor(B,Y,q,le,Fe){super(),this.outletElement=B,this._componentFactoryResolver=Y,this._appRef=q,this._defaultInjector=le,this.attachDomPortal=$=>{const ae=$.element,K=this._document.createComment("dom-portal");ae.parentNode.insertBefore(K,ae),this.outletElement.appendChild(ae),this._attachedPortal=$,super.setDisposeFn(()=>{K.parentNode&&K.parentNode.replaceChild(ae,K)})},this._document=Fe}attachComponentPortal(B){const q=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let le;return B.viewContainerRef?(le=B.viewContainerRef.createComponent(q,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>le.destroy())):(le=q.create(B.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(le.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(le.hostView),le.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(le)),this._attachedPortal=B,le}attachTemplatePortal(B){let Y=B.viewContainerRef,q=Y.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return q.rootNodes.forEach(le=>this.outletElement.appendChild(le)),q.detectChanges(),this.setDisposeFn(()=>{let le=Y.indexOf(q);-1!==le&&Y.remove(le)}),this._attachedPortal=B,q}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let x=(()=>{class S extends A{constructor(Y,q,le){super(),this._componentFactoryResolver=Y,this._viewContainerRef=q,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=Fe=>{const $=Fe.element,ae=this._document.createComment("dom-portal");Fe.setAttachedHost(this),$.parentNode.insertBefore(ae,$),this._getRootNode().appendChild($),this._attachedPortal=Fe,super.setDisposeFn(()=>{ae.parentNode&&ae.parentNode.replaceChild($,ae)})},this._document=le}get portal(){return this._attachedPortal}set portal(Y){this.hasAttached()&&!Y&&!this._isInitialized||(this.hasAttached()&&super.detach(),Y&&super.attach(Y),this._attachedPortal=Y||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Y){Y.setAttachedHost(this);const q=null!=Y.viewContainerRef?Y.viewContainerRef:this._viewContainerRef,Fe=(Y.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Y.component),$=q.createComponent(Fe,q.length,Y.injector||q.injector,Y.projectableNodes||void 0);return q!==this._viewContainerRef&&this._getRootNode().appendChild($.hostView.rootNodes[0]),super.setDisposeFn(()=>$.destroy()),this._attachedPortal=Y,this._attachedRef=$,this.attached.emit($),$}attachTemplatePortal(Y){Y.setAttachedHost(this);const q=this._viewContainerRef.createEmbeddedView(Y.templateRef,Y.context,{injector:Y.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Y,this._attachedRef=q,this.attached.emit(q),q}_getRootNode(){const Y=this._viewContainerRef.element.nativeElement;return Y.nodeType===Y.ELEMENT_NODE?Y:Y.parentNode}static#e=this.\u0275fac=function(q){return new(q||S)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(t.K0))};static#t=this.\u0275dir=c.lG2({type:S,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]})}return S})(),T=(()=>{class S{static#e=this.\u0275fac=function(q){return new(q||S)};static#t=this.\u0275mod=c.oAB({type:S});static#n=this.\u0275inj=c.cJS({})}return S})()},799:(Bn,et,C)=>{"use strict";C.d(et,{ZD:()=>ue,mF:()=>Je,Cl:()=>_e,rL:()=>W});var c=C(2495),t=C(5879),y=C(8645),I=C(2096),E=C(5592),F=C(2438),L=C(1954),D=C(7394);const p={schedule(de){let xe=requestAnimationFrame,Ke=cancelAnimationFrame;const{delegate:Ve}=p;Ve&&(xe=Ve.requestAnimationFrame,Ke=Ve.cancelAnimationFrame);const st=xe(ct=>{Ke=void 0,de(ct)});return new D.w0(()=>Ke?.(st))},requestAnimationFrame(...de){const{delegate:xe}=p;return(xe?.requestAnimationFrame||requestAnimationFrame)(...de)},cancelAnimationFrame(...de){const{delegate:xe}=p;return(xe?.cancelAnimationFrame||cancelAnimationFrame)(...de)},delegate:void 0};var g=C(2631);new class v extends g.v{flush(xe){this._active=!0;const Ke=this._scheduled;this._scheduled=void 0;const{actions:Ve}=this;let st;xe=xe||Ve.shift();do{if(st=xe.execute(xe.state,xe.delay))break}while((xe=Ve[0])&&xe.id===Ke&&Ve.shift());if(this._active=!1,st){for(;(xe=Ve[0])&&xe.id===Ke&&Ve.shift();)xe.unsubscribe();throw st}}}(class f extends L.o{constructor(xe,Ke){super(xe,Ke),this.scheduler=xe,this.work=Ke}requestAsyncId(xe,Ke,Ve=0){return null!==Ve&&Ve>0?super.requestAsyncId(xe,Ke,Ve):(xe.actions.push(this),xe._scheduled||(xe._scheduled=p.requestAnimationFrame(()=>xe.flush(void 0))))}recycleAsyncId(xe,Ke,Ve=0){var st;if(null!=Ve?Ve>0:this.delay>0)return super.recycleAsyncId(xe,Ke,Ve);const{actions:ct}=xe;null!=Ke&&(null===(st=ct[ct.length-1])||void 0===st?void 0:st.id)!==Ke&&(p.cancelAnimationFrame(Ke),xe._scheduled=void 0)}});let j,R=1;const k={};function O(de){return de in k&&(delete k[de],!0)}const x={setImmediate(de){const xe=R++;return k[xe]=!0,j||(j=Promise.resolve()),j.then(()=>O(xe)&&de()),xe},clearImmediate(de){O(de)}},{setImmediate:T,clearImmediate:N}=x,S={setImmediate(...de){const{delegate:xe}=S;return(xe?.setImmediate||T)(...de)},clearImmediate(de){const{delegate:xe}=S;return(xe?.clearImmediate||N)(de)},delegate:void 0};new class Y extends g.v{flush(xe){this._active=!0;const Ke=this._scheduled;this._scheduled=void 0;const{actions:Ve}=this;let st;xe=xe||Ve.shift();do{if(st=xe.execute(xe.state,xe.delay))break}while((xe=Ve[0])&&xe.id===Ke&&Ve.shift());if(this._active=!1,st){for(;(xe=Ve[0])&&xe.id===Ke&&Ve.shift();)xe.unsubscribe();throw st}}}(class B extends L.o{constructor(xe,Ke){super(xe,Ke),this.scheduler=xe,this.work=Ke}requestAsyncId(xe,Ke,Ve=0){return null!==Ve&&Ve>0?super.requestAsyncId(xe,Ke,Ve):(xe.actions.push(this),xe._scheduled||(xe._scheduled=S.setImmediate(xe.flush.bind(xe,void 0))))}recycleAsyncId(xe,Ke,Ve=0){var st;if(null!=Ve?Ve>0:this.delay>0)return super.recycleAsyncId(xe,Ke,Ve);const{actions:ct}=xe;null!=Ke&&(null===(st=ct[ct.length-1])||void 0===st?void 0:st.id)!==Ke&&(S.clearImmediate(Ke),xe._scheduled===Ke&&(xe._scheduled=void 0))}});var Fe=C(6321),$=C(9360),ae=C(4829),K=C(8251),oe=C(4825);function he(de,xe=Fe.z){return function pe(de){return(0,$.e)((xe,Ke)=>{let Ve=!1,st=null,ct=null,nt=!1;const yt=()=>{if(ct?.unsubscribe(),ct=null,Ve){Ve=!1;const wt=st;st=null,Ke.next(wt)}nt&&Ke.complete()},jt=()=>{ct=null,nt&&Ke.complete()};xe.subscribe((0,K.x)(Ke,wt=>{Ve=!0,st=wt,ct||(0,ae.Xf)(de(wt)).subscribe(ct=(0,K.x)(Ke,yt,jt))},()=>{nt=!0,(!Ve||!ct||ct.closed)&&Ke.complete()}))})}(()=>(0,oe.H)(de,xe))}var Se=C(2181),Le=C(2831),fe=C(6814),Re=C(9388);let Je=(()=>{class de{constructor(Ke,Ve,st){this._ngZone=Ke,this._platform=Ve,this._scrolled=new y.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=st}register(Ke){this.scrollContainers.has(Ke)||this.scrollContainers.set(Ke,Ke.elementScrolled().subscribe(()=>this._scrolled.next(Ke)))}deregister(Ke){const Ve=this.scrollContainers.get(Ke);Ve&&(Ve.unsubscribe(),this.scrollContainers.delete(Ke))}scrolled(Ke=20){return this._platform.isBrowser?new E.y(Ve=>{this._globalSubscription||this._addGlobalListener();const st=Ke>0?this._scrolled.pipe(he(Ke)).subscribe(Ve):this._scrolled.subscribe(Ve);return this._scrolledCount++,()=>{st.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,I.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ke,Ve)=>this.deregister(Ve)),this._scrolled.complete()}ancestorScrolled(Ke,Ve){const st=this.getAncestorScrollContainers(Ke);return this.scrolled(Ve).pipe((0,Se.h)(ct=>!ct||st.indexOf(ct)>-1))}getAncestorScrollContainers(Ke){const Ve=[];return this.scrollContainers.forEach((st,ct)=>{this._scrollableContainsElement(ct,Ke)&&Ve.push(ct)}),Ve}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ke,Ve){let st=(0,c.fI)(Ve),ct=Ke.getElementRef().nativeElement;do{if(st==ct)return!0}while(st=st.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ke=this._getWindow();return(0,F.R)(Ke.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Ve){return new(Ve||de)(t.LFG(t.R0b),t.LFG(Le.t4),t.LFG(fe.K0,8))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),W=(()=>{class de{constructor(Ke,Ve,st){this._platform=Ke,this._change=new y.x,this._changeListener=ct=>{this._change.next(ct)},this._document=st,Ve.runOutsideAngular(()=>{if(Ke.isBrowser){const ct=this._getWindow();ct.addEventListener("resize",this._changeListener),ct.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ke=this._getWindow();Ke.removeEventListener("resize",this._changeListener),Ke.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ke={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ke}getViewportRect(){const Ke=this.getViewportScrollPosition(),{width:Ve,height:st}=this.getViewportSize();return{top:Ke.top,left:Ke.left,bottom:Ke.top+st,right:Ke.left+Ve,height:st,width:Ve}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ke=this._document,Ve=this._getWindow(),st=Ke.documentElement,ct=st.getBoundingClientRect();return{top:-ct.top||Ke.body.scrollTop||Ve.scrollY||st.scrollTop||0,left:-ct.left||Ke.body.scrollLeft||Ve.scrollX||st.scrollLeft||0}}change(Ke=20){return Ke>0?this._change.pipe(he(Ke)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ke=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ke.innerWidth,height:Ke.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Ve){return new(Ve||de)(t.LFG(Le.t4),t.LFG(t.R0b),t.LFG(fe.K0,8))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),ue=(()=>{class de{static#e=this.\u0275fac=function(Ve){return new(Ve||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({})}return de})(),_e=(()=>{class de{static#e=this.\u0275fac=function(Ve){return new(Ve||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({imports:[Re.vT,ue,Re.vT,ue]})}return de})()},6814:(Bn,et,C)=>{"use strict";C.d(et,{Do:()=>j,ED:()=>Ir,EM:()=>Ds,HT:()=>I,JF:()=>Sr,K0:()=>F,Mn:()=>pe,Mx:()=>Rn,NF:()=>No,O5:()=>vt,Ov:()=>Go,PM:()=>Jr,RF:()=>ei,S$:()=>A,Tn:()=>q,UT:()=>oe,V_:()=>D,Ye:()=>k,ax:()=>ft,b0:()=>R,bD:()=>Gr,ez:()=>Yr,mk:()=>on,mr:()=>U,n9:()=>Xi,p6:()=>xe,q:()=>y,sg:()=>ft,tP:()=>no,uU:()=>Ji,w_:()=>E,x:()=>Y});var c=C(5879);let t=null;function y(){return t}function I(we){t||(t=we)}class E{}const F=new c.OlP("DocumentToken");let L=(()=>{class we{historyGo(it){throw new Error("Not implemented")}static#e=this.\u0275fac=function(At){return new(At||we)};static#t=this.\u0275prov=c.Yz7({token:we,factory:function(){return(0,c.f3M)(p)},providedIn:"platform"})}return we})();const D=new c.OlP("Location Initialized");let p=(()=>{class we extends L{constructor(){super(),this._doc=(0,c.f3M)(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return y().getBaseHref(this._doc)}onPopState(it){const At=y().getGlobalEventTarget(this._doc,"window");return At.addEventListener("popstate",it,!1),()=>At.removeEventListener("popstate",it)}onHashChange(it){const At=y().getGlobalEventTarget(this._doc,"window");return At.addEventListener("hashchange",it,!1),()=>At.removeEventListener("hashchange",it)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(it){this._location.pathname=it}pushState(it,At,tn){this._history.pushState(it,At,tn)}replaceState(it,At,tn){this._history.replaceState(it,At,tn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(it=0){this._history.go(it)}getState(){return this._history.state}static#e=this.\u0275fac=function(At){return new(At||we)};static#t=this.\u0275prov=c.Yz7({token:we,factory:function(){return new we},providedIn:"platform"})}return we})();function f(we,Mt){if(0==we.length)return Mt;if(0==Mt.length)return we;let it=0;return we.endsWith("/")&&it++,Mt.startsWith("/")&&it++,2==it?we+Mt.substring(1):1==it?we+Mt:we+"/"+Mt}function g(we){const Mt=we.match(/#|\?|$/),it=Mt&&Mt.index||we.length;return we.slice(0,it-("/"===we[it-1]?1:0))+we.slice(it)}function v(we){return we&&"?"!==we[0]?"?"+we:we}let A=(()=>{class we{historyGo(it){throw new Error("Not implemented")}static#e=this.\u0275fac=function(At){return new(At||we)};static#t=this.\u0275prov=c.Yz7({token:we,factory:function(){return(0,c.f3M)(R)},providedIn:"root"})}return we})();const U=new c.OlP("appBaseHref");let R=(()=>{class we extends A{constructor(it,At){super(),this._platformLocation=it,this._removeListenerFns=[],this._baseHref=At??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(it){this._removeListenerFns.push(this._platformLocation.onPopState(it),this._platformLocation.onHashChange(it))}getBaseHref(){return this._baseHref}prepareExternalUrl(it){return f(this._baseHref,it)}path(it=!1){const At=this._platformLocation.pathname+v(this._platformLocation.search),tn=this._platformLocation.hash;return tn&&it?`${At}${tn}`:At}pushState(it,At,tn,wn){const Hn=this.prepareExternalUrl(tn+v(wn));this._platformLocation.pushState(it,At,Hn)}replaceState(it,At,tn,wn){const Hn=this.prepareExternalUrl(tn+v(wn));this._platformLocation.replaceState(it,At,Hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(it=0){this._platformLocation.historyGo?.(it)}static#e=this.\u0275fac=function(At){return new(At||we)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),j=(()=>{class we extends A{constructor(it,At){super(),this._platformLocation=it,this._baseHref="",this._removeListenerFns=[],null!=At&&(this._baseHref=At)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(it){this._removeListenerFns.push(this._platformLocation.onPopState(it),this._platformLocation.onHashChange(it))}getBaseHref(){return this._baseHref}path(it=!1){let At=this._platformLocation.hash;return null==At&&(At="#"),At.length>0?At.substring(1):At}prepareExternalUrl(it){const At=f(this._baseHref,it);return At.length>0?"#"+At:At}pushState(it,At,tn,wn){let Hn=this.prepareExternalUrl(tn+v(wn));0==Hn.length&&(Hn=this._platformLocation.pathname),this._platformLocation.pushState(it,At,Hn)}replaceState(it,At,tn,wn){let Hn=this.prepareExternalUrl(tn+v(wn));0==Hn.length&&(Hn=this._platformLocation.pathname),this._platformLocation.replaceState(it,At,Hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(it=0){this._platformLocation.historyGo?.(it)}static#e=this.\u0275fac=function(At){return new(At||we)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:we,factory:we.\u0275fac})}return we})(),k=(()=>{class we{constructor(it){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=it;const At=this._locationStrategy.getBaseHref();this._basePath=function T(we){if(new RegExp("^(https?:)?//").test(we)){const[,it]=we.split(/\/\/[^\/]+/);return it}return we}(g(P(At))),this._locationStrategy.onPopState(tn=>{this._subject.emit({url:this.path(!0),pop:!0,state:tn.state,type:tn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(it=!1){return this.normalize(this._locationStrategy.path(it))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(it,At=""){return this.path()==this.normalize(it+v(At))}normalize(it){return we.stripTrailingSlash(function x(we,Mt){if(!we||!Mt.startsWith(we))return Mt;const it=Mt.substring(we.length);return""===it||["/",";","?","#"].includes(it[0])?it:Mt}(this._basePath,P(it)))}prepareExternalUrl(it){return it&&"/"!==it[0]&&(it="/"+it),this._locationStrategy.prepareExternalUrl(it)}go(it,At="",tn=null){this._locationStrategy.pushState(tn,"",it,At),this._notifyUrlChangeListeners(this.prepareExternalUrl(it+v(At)),tn)}replaceState(it,At="",tn=null){this._locationStrategy.replaceState(tn,"",it,At),this._notifyUrlChangeListeners(this.prepareExternalUrl(it+v(At)),tn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(it=0){this._locationStrategy.historyGo?.(it)}onUrlChange(it){return this._urlChangeListeners.push(it),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(At=>{this._notifyUrlChangeListeners(At.url,At.state)})),()=>{const At=this._urlChangeListeners.indexOf(it);this._urlChangeListeners.splice(At,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(it="",At){this._urlChangeListeners.forEach(tn=>tn(it,At))}subscribe(it,At,tn){return this._subject.subscribe({next:it,error:At,complete:tn})}static#e=this.normalizeQueryParams=v;static#t=this.joinWithSlash=f;static#n=this.stripTrailingSlash=g;static#i=this.\u0275fac=function(At){return new(At||we)(c.LFG(A))};static#r=this.\u0275prov=c.Yz7({token:we,factory:function(){return function O(){return new k((0,c.LFG)(A))}()},providedIn:"root"})}return we})();function P(we){return we.replace(/\/index.html$/,"")}var Y=function(we){return we[we.Format=0]="Format",we[we.Standalone=1]="Standalone",we}(Y||{}),q=function(we){return we[we.Narrow=0]="Narrow",we[we.Abbreviated=1]="Abbreviated",we[we.Wide=2]="Wide",we[we.Short=3]="Short",we}(q||{}),le=function(we){return we[we.Short=0]="Short",we[we.Medium=1]="Medium",we[we.Long=2]="Long",we[we.Full=3]="Full",we}(le||{}),Fe=function(we){return we[we.Decimal=0]="Decimal",we[we.Group=1]="Group",we[we.List=2]="List",we[we.PercentSign=3]="PercentSign",we[we.PlusSign=4]="PlusSign",we[we.MinusSign=5]="MinusSign",we[we.Exponential=6]="Exponential",we[we.SuperscriptingExponent=7]="SuperscriptingExponent",we[we.PerMille=8]="PerMille",we[we.Infinity=9]="Infinity",we[we.NaN=10]="NaN",we[we.TimeSeparator=11]="TimeSeparator",we[we.CurrencyDecimal=12]="CurrencyDecimal",we[we.CurrencyGroup=13]="CurrencyGroup",we}(Fe||{});function pe(we,Mt,it){const At=(0,c.cg1)(we),wn=ge([At[c.wAp.DaysFormat],At[c.wAp.DaysStandalone]],Mt);return ge(wn,it)}function oe(we,Mt,it){const At=(0,c.cg1)(we),wn=ge([At[c.wAp.MonthsFormat],At[c.wAp.MonthsStandalone]],Mt);return ge(wn,it)}function fe(we,Mt){return ge((0,c.cg1)(we)[c.wAp.DateFormat],Mt)}function Re(we,Mt){return ge((0,c.cg1)(we)[c.wAp.TimeFormat],Mt)}function Me(we,Mt){return ge((0,c.cg1)(we)[c.wAp.DateTimeFormat],Mt)}function me(we,Mt){const it=(0,c.cg1)(we),At=it[c.wAp.NumberSymbols][Mt];if(typeof At>"u"){if(Mt===Fe.CurrencyDecimal)return it[c.wAp.NumberSymbols][Fe.Decimal];if(Mt===Fe.CurrencyGroup)return it[c.wAp.NumberSymbols][Fe.Group]}return At}function Ne(we){if(!we[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${we[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ge(we,Mt){for(let it=Mt;it>-1;it--)if(typeof we[it]<"u")return we[it];throw new Error("Locale data API: locale data undefined")}function J(we){const[Mt,it]=we.split(":");return{hours:+Mt,minutes:+it}}const ne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ee={},X=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ue=function(we){return we[we.Short=0]="Short",we[we.ShortGMT=1]="ShortGMT",we[we.Long=2]="Long",we[we.Extended=3]="Extended",we}(ue||{}),_e=function(we){return we[we.FullYear=0]="FullYear",we[we.Month=1]="Month",we[we.Date=2]="Date",we[we.Hours=3]="Hours",we[we.Minutes=4]="Minutes",we[we.Seconds=5]="Seconds",we[we.FractionalSeconds=6]="FractionalSeconds",we[we.Day=7]="Day",we}(_e||{}),de=function(we){return we[we.DayPeriods=0]="DayPeriods",we[we.Days=1]="Days",we[we.Months=2]="Months",we[we.Eras=3]="Eras",we}(de||{});function xe(we,Mt,it,At){let tn=function ze(we){if(rt(we))return we;if("number"==typeof we&&!isNaN(we))return new Date(we);if("string"==typeof we){if(we=we.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(we)){const[tn,wn=1,Hn=1]=we.split("-").map(vi=>+vi);return Ke(tn,wn-1,Hn)}const it=parseFloat(we);if(!isNaN(we-it))return new Date(it);let At;if(At=we.match(ne))return function lt(we){const Mt=new Date(0);let it=0,At=0;const tn=we[8]?Mt.setUTCFullYear:Mt.setFullYear,wn=we[8]?Mt.setUTCHours:Mt.setHours;we[9]&&(it=Number(we[9]+we[10]),At=Number(we[9]+we[11])),tn.call(Mt,Number(we[1]),Number(we[2])-1,Number(we[3]));const Hn=Number(we[4]||0)-it,vi=Number(we[5]||0)-At,Dr=Number(we[6]||0),nr=Math.floor(1e3*parseFloat("0."+(we[7]||0)));return wn.call(Mt,Hn,vi,Dr,nr),Mt}(At)}const Mt=new Date(we);if(!rt(Mt))throw new Error(`Unable to convert "${we}" into a date`);return Mt}(we);Mt=Ve(it,Mt)||Mt;let vi,Hn=[];for(;Mt;){if(vi=X.exec(Mt),!vi){Hn.push(Mt);break}{Hn=Hn.concat(vi.slice(1));const or=Hn.pop();if(!or)break;Mt=or}}let Dr=tn.getTimezoneOffset();At&&(Dr=De(At,Dr),tn=function Ye(we,Mt,it){const At=it?-1:1,tn=we.getTimezoneOffset();return function Pe(we,Mt){return(we=new Date(we.getTime())).setMinutes(we.getMinutes()+Mt),we}(we,At*(De(Mt,tn)-tn))}(tn,At,!0));let nr="";return Hn.forEach(or=>{const Wi=function Qe(we){if(ht[we])return ht[we];let Mt;switch(we){case"G":case"GG":case"GGG":Mt=wt(de.Eras,q.Abbreviated);break;case"GGGG":Mt=wt(de.Eras,q.Wide);break;case"GGGGG":Mt=wt(de.Eras,q.Narrow);break;case"y":Mt=yt(_e.FullYear,1,0,!1,!0);break;case"yy":Mt=yt(_e.FullYear,2,0,!0,!0);break;case"yyy":Mt=yt(_e.FullYear,3,0,!1,!0);break;case"yyyy":Mt=yt(_e.FullYear,4,0,!1,!0);break;case"Y":Mt=xt(1);break;case"YY":Mt=xt(2,!0);break;case"YYY":Mt=xt(3);break;case"YYYY":Mt=xt(4);break;case"M":case"L":Mt=yt(_e.Month,1,1);break;case"MM":case"LL":Mt=yt(_e.Month,2,1);break;case"MMM":Mt=wt(de.Months,q.Abbreviated);break;case"MMMM":Mt=wt(de.Months,q.Wide);break;case"MMMMM":Mt=wt(de.Months,q.Narrow);break;case"LLL":Mt=wt(de.Months,q.Abbreviated,Y.Standalone);break;case"LLLL":Mt=wt(de.Months,q.Wide,Y.Standalone);break;case"LLLLL":Mt=wt(de.Months,q.Narrow,Y.Standalone);break;case"w":Mt=rn(1);break;case"ww":Mt=rn(2);break;case"W":Mt=rn(1,!0);break;case"d":Mt=yt(_e.Date,1);break;case"dd":Mt=yt(_e.Date,2);break;case"c":case"cc":Mt=yt(_e.Day,1);break;case"ccc":Mt=wt(de.Days,q.Abbreviated,Y.Standalone);break;case"cccc":Mt=wt(de.Days,q.Wide,Y.Standalone);break;case"ccccc":Mt=wt(de.Days,q.Narrow,Y.Standalone);break;case"cccccc":Mt=wt(de.Days,q.Short,Y.Standalone);break;case"E":case"EE":case"EEE":Mt=wt(de.Days,q.Abbreviated);break;case"EEEE":Mt=wt(de.Days,q.Wide);break;case"EEEEE":Mt=wt(de.Days,q.Narrow);break;case"EEEEEE":Mt=wt(de.Days,q.Short);break;case"a":case"aa":case"aaa":Mt=wt(de.DayPeriods,q.Abbreviated);break;case"aaaa":Mt=wt(de.DayPeriods,q.Wide);break;case"aaaaa":Mt=wt(de.DayPeriods,q.Narrow);break;case"b":case"bb":case"bbb":Mt=wt(de.DayPeriods,q.Abbreviated,Y.Standalone,!0);break;case"bbbb":Mt=wt(de.DayPeriods,q.Wide,Y.Standalone,!0);break;case"bbbbb":Mt=wt(de.DayPeriods,q.Narrow,Y.Standalone,!0);break;case"B":case"BB":case"BBB":Mt=wt(de.DayPeriods,q.Abbreviated,Y.Format,!0);break;case"BBBB":Mt=wt(de.DayPeriods,q.Wide,Y.Format,!0);break;case"BBBBB":Mt=wt(de.DayPeriods,q.Narrow,Y.Format,!0);break;case"h":Mt=yt(_e.Hours,1,-12);break;case"hh":Mt=yt(_e.Hours,2,-12);break;case"H":Mt=yt(_e.Hours,1);break;case"HH":Mt=yt(_e.Hours,2);break;case"m":Mt=yt(_e.Minutes,1);break;case"mm":Mt=yt(_e.Minutes,2);break;case"s":Mt=yt(_e.Seconds,1);break;case"ss":Mt=yt(_e.Seconds,2);break;case"S":Mt=yt(_e.FractionalSeconds,1);break;case"SS":Mt=yt(_e.FractionalSeconds,2);break;case"SSS":Mt=yt(_e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Mt=nn(ue.Short);break;case"ZZZZZ":Mt=nn(ue.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Mt=nn(ue.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Mt=nn(ue.Long);break;default:return null}return ht[we]=Mt,Mt}(or);nr+=Wi?Wi(tn,it,Dr):"''"===or?"'":or.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),nr}function Ke(we,Mt,it){const At=new Date(0);return At.setFullYear(we,Mt,it),At.setHours(0,0,0),At}function Ve(we,Mt){const it=function ae(we){return(0,c.cg1)(we)[c.wAp.LocaleId]}(we);if(ee[it]=ee[it]||{},ee[it][Mt])return ee[it][Mt];let At="";switch(Mt){case"shortDate":At=fe(we,le.Short);break;case"mediumDate":At=fe(we,le.Medium);break;case"longDate":At=fe(we,le.Long);break;case"fullDate":At=fe(we,le.Full);break;case"shortTime":At=Re(we,le.Short);break;case"mediumTime":At=Re(we,le.Medium);break;case"longTime":At=Re(we,le.Long);break;case"fullTime":At=Re(we,le.Full);break;case"short":const tn=Ve(we,"shortTime"),wn=Ve(we,"shortDate");At=st(Me(we,le.Short),[tn,wn]);break;case"medium":const Hn=Ve(we,"mediumTime"),vi=Ve(we,"mediumDate");At=st(Me(we,le.Medium),[Hn,vi]);break;case"long":const Dr=Ve(we,"longTime"),nr=Ve(we,"longDate");At=st(Me(we,le.Long),[Dr,nr]);break;case"full":const or=Ve(we,"fullTime"),Wi=Ve(we,"fullDate");At=st(Me(we,le.Full),[or,Wi])}return At&&(ee[it][Mt]=At),At}function st(we,Mt){return Mt&&(we=we.replace(/\{([^}]+)}/g,function(it,At){return null!=Mt&&At in Mt?Mt[At]:it})),we}function ct(we,Mt,it="-",At,tn){let wn="";(we<0||tn&&we<=0)&&(tn?we=1-we:(we=-we,wn=it));let Hn=String(we);for(;Hn.length<Mt;)Hn="0"+Hn;return At&&(Hn=Hn.slice(Hn.length-Mt)),wn+Hn}function yt(we,Mt,it=0,At=!1,tn=!1){return function(wn,Hn){let vi=function jt(we,Mt){switch(we){case _e.FullYear:return Mt.getFullYear();case _e.Month:return Mt.getMonth();case _e.Date:return Mt.getDate();case _e.Hours:return Mt.getHours();case _e.Minutes:return Mt.getMinutes();case _e.Seconds:return Mt.getSeconds();case _e.FractionalSeconds:return Mt.getMilliseconds();case _e.Day:return Mt.getDay();default:throw new Error(`Unknown DateType value "${we}".`)}}(we,wn);if((it>0||vi>-it)&&(vi+=it),we===_e.Hours)0===vi&&-12===it&&(vi=12);else if(we===_e.FractionalSeconds)return function nt(we,Mt){return ct(we,3).substring(0,Mt)}(vi,Mt);const Dr=me(Hn,Fe.MinusSign);return ct(vi,Mt,Dr,At,tn)}}function wt(we,Mt,it=Y.Format,At=!1){return function(tn,wn){return function Gt(we,Mt,it,At,tn,wn){switch(it){case de.Months:return oe(Mt,tn,At)[we.getMonth()];case de.Days:return pe(Mt,tn,At)[we.getDay()];case de.DayPeriods:const Hn=we.getHours(),vi=we.getMinutes();if(wn){const nr=function Te(we){const Mt=(0,c.cg1)(we);return Ne(Mt),(Mt[c.wAp.ExtraData][2]||[]).map(At=>"string"==typeof At?J(At):[J(At[0]),J(At[1])])}(Mt),or=function W(we,Mt,it){const At=(0,c.cg1)(we);Ne(At);const wn=ge([At[c.wAp.ExtraData][0],At[c.wAp.ExtraData][1]],Mt)||[];return ge(wn,it)||[]}(Mt,tn,At),Wi=nr.findIndex(Or=>{if(Array.isArray(Or)){const[sr,br]=Or,ms=Hn>=sr.hours&&vi>=sr.minutes,Di=Hn<br.hours||Hn===br.hours&&vi<br.minutes;if(sr.hours<br.hours){if(ms&&Di)return!0}else if(ms||Di)return!0}else if(Or.hours===Hn&&Or.minutes===vi)return!0;return!1});if(-1!==Wi)return or[Wi]}return function K(we,Mt,it){const At=(0,c.cg1)(we),wn=ge([At[c.wAp.DayPeriodsFormat],At[c.wAp.DayPeriodsStandalone]],Mt);return ge(wn,it)}(Mt,tn,At)[Hn<12?0:1];case de.Eras:return function he(we,Mt){return ge((0,c.cg1)(we)[c.wAp.Eras],Mt)}(Mt,At)[we.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${it}`)}}(tn,wn,we,Mt,it,At)}}function nn(we){return function(Mt,it,At){const tn=-1*At,wn=me(it,Fe.MinusSign),Hn=tn>0?Math.floor(tn/60):Math.ceil(tn/60);switch(we){case ue.Short:return(tn>=0?"+":"")+ct(Hn,2,wn)+ct(Math.abs(tn%60),2,wn);case ue.ShortGMT:return"GMT"+(tn>=0?"+":"")+ct(Hn,1,wn);case ue.Long:return"GMT"+(tn>=0?"+":"")+ct(Hn,2,wn)+":"+ct(Math.abs(tn%60),2,wn);case ue.Extended:return 0===At?"Z":(tn>=0?"+":"")+ct(Hn,2,wn)+":"+ct(Math.abs(tn%60),2,wn);default:throw new Error(`Unknown zone width "${we}"`)}}}const dn=0,un=4;function Tn(we){return Ke(we.getFullYear(),we.getMonth(),we.getDate()+(un-we.getDay()))}function rn(we,Mt=!1){return function(it,At){let tn;if(Mt){const wn=new Date(it.getFullYear(),it.getMonth(),1).getDay()-1,Hn=it.getDate();tn=1+Math.floor((Hn+wn)/7)}else{const wn=Tn(it),Hn=function Kt(we){const Mt=Ke(we,dn,1).getDay();return Ke(we,0,1+(Mt<=un?un:un+7)-Mt)}(wn.getFullYear()),vi=wn.getTime()-Hn.getTime();tn=1+Math.round(vi/6048e5)}return ct(tn,we,me(At,Fe.MinusSign))}}function xt(we,Mt=!1){return function(it,At){return ct(Tn(it).getFullYear(),we,me(At,Fe.MinusSign),Mt)}}const ht={};function De(we,Mt){we=we.replace(/:/g,"");const it=Date.parse("Jan 01, 1970 00:00:00 "+we)/6e4;return isNaN(it)?Mt:it}function rt(we){return we instanceof Date&&!isNaN(we.valueOf())}function Rn(we,Mt){Mt=encodeURIComponent(Mt);for(const it of we.split(";")){const At=it.indexOf("="),[tn,wn]=-1==At?[it,""]:[it.slice(0,At),it.slice(At+1)];if(tn.trim()===Mt)return decodeURIComponent(wn)}return null}const Ht=/\s+/,zt=[];let on=(()=>{class we{constructor(it,At,tn,wn){this._iterableDiffers=it,this._keyValueDiffers=At,this._ngEl=tn,this._renderer=wn,this.initialClasses=zt,this.stateMap=new Map}set klass(it){this.initialClasses=null!=it?it.trim().split(Ht):zt}set ngClass(it){this.rawClass="string"==typeof it?it.trim().split(Ht):it}ngDoCheck(){for(const At of this.initialClasses)this._updateState(At,!0);const it=this.rawClass;if(Array.isArray(it)||it instanceof Set)for(const At of it)this._updateState(At,!0);else if(null!=it)for(const At of Object.keys(it))this._updateState(At,!!it[At]);this._applyStateDiff()}_updateState(it,At){const tn=this.stateMap.get(it);void 0!==tn?(tn.enabled!==At&&(tn.changed=!0,tn.enabled=At),tn.touched=!0):this.stateMap.set(it,{enabled:At,changed:!0,touched:!0})}_applyStateDiff(){for(const it of this.stateMap){const At=it[0],tn=it[1];tn.changed?(this._toggleClass(At,tn.enabled),tn.changed=!1):tn.touched||(tn.enabled&&this._toggleClass(At,!1),this.stateMap.delete(At)),tn.touched=!1}}_toggleClass(it,At){(it=it.trim()).length>0&&it.split(Ht).forEach(tn=>{At?this._renderer.addClass(this._ngEl.nativeElement,tn):this._renderer.removeClass(this._ngEl.nativeElement,tn)})}static#e=this.\u0275fac=function(At){return new(At||we)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:we,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return we})();class Xn{constructor(Mt,it,At,tn){this.$implicit=Mt,this.ngForOf=it,this.index=At,this.count=tn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ft=(()=>{class we{set ngForOf(it){this._ngForOf=it,this._ngForOfDirty=!0}set ngForTrackBy(it){this._trackByFn=it}get ngForTrackBy(){return this._trackByFn}constructor(it,At,tn){this._viewContainer=it,this._template=At,this._differs=tn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(it){it&&(this._template=it)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const it=this._ngForOf;!this._differ&&it&&(this._differ=this._differs.find(it).create(this.ngForTrackBy))}if(this._differ){const it=this._differ.diff(this._ngForOf);it&&this._applyChanges(it)}}_applyChanges(it){const At=this._viewContainer;it.forEachOperation((tn,wn,Hn)=>{if(null==tn.previousIndex)At.createEmbeddedView(this._template,new Xn(tn.item,this._ngForOf,-1,-1),null===Hn?void 0:Hn);else if(null==Hn)At.remove(null===wn?void 0:wn);else if(null!==wn){const vi=At.get(wn);At.move(vi,Hn),hn(vi,tn)}});for(let tn=0,wn=At.length;tn<wn;tn++){const vi=At.get(tn).context;vi.index=tn,vi.count=wn,vi.ngForOf=this._ngForOf}it.forEachIdentityChange(tn=>{hn(At.get(tn.currentIndex),tn)})}static ngTemplateContextGuard(it,At){return!0}static#e=this.\u0275fac=function(At){return new(At||we)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:we,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return we})();function hn(we,Mt){we.context.$implicit=Mt.item}let vt=(()=>{class we{constructor(it,At){this._viewContainer=it,this._context=new gt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=At}set ngIf(it){this._context.$implicit=this._context.ngIf=it,this._updateView()}set ngIfThen(it){kt("ngIfThen",it),this._thenTemplateRef=it,this._thenViewRef=null,this._updateView()}set ngIfElse(it){kt("ngIfElse",it),this._elseTemplateRef=it,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(it,At){return!0}static#e=this.\u0275fac=function(At){return new(At||we)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:we,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return we})();class gt{constructor(){this.$implicit=null,this.ngIf=null}}function kt(we,Mt){if(Mt&&!Mt.createEmbeddedView)throw new Error(`${we} must be a TemplateRef, but received '${(0,c.AaK)(Mt)}'.`)}class cn{constructor(Mt,it){this._viewContainerRef=Mt,this._templateRef=it,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Mt){Mt&&!this._created?this.create():!Mt&&this._created&&this.destroy()}}let ei=(()=>{class we{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(it){this._ngSwitch=it,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(it){this._defaultViews.push(it)}_matchCase(it){const At=it==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||At,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),At}_updateDefaultCases(it){if(this._defaultViews.length>0&&it!==this._defaultUsed){this._defaultUsed=it;for(const At of this._defaultViews)At.enforceState(it)}}static#e=this.\u0275fac=function(At){return new(At||we)};static#t=this.\u0275dir=c.lG2({type:we,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return we})(),Xi=(()=>{class we{constructor(it,At,tn){this.ngSwitch=tn,tn._addCase(),this._view=new cn(it,At)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(At){return new(At||we)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ei,9))};static#t=this.\u0275dir=c.lG2({type:we,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return we})(),Ir=(()=>{class we{constructor(it,At,tn){tn._addDefault(new cn(it,At))}static#e=this.\u0275fac=function(At){return new(At||we)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ei,9))};static#t=this.\u0275dir=c.lG2({type:we,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return we})(),no=(()=>{class we{constructor(it){this._viewContainerRef=it,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(it){if(it.ngTemplateOutlet||it.ngTemplateOutletInjector){const At=this._viewContainerRef;if(this._viewRef&&At.remove(At.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:tn,ngTemplateOutletContext:wn,ngTemplateOutletInjector:Hn}=this;this._viewRef=At.createEmbeddedView(tn,wn,Hn?{injector:Hn}:void 0)}else this._viewRef=null}else this._viewRef&&it.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(At){return new(At||we)(c.Y36(c.s_b))};static#t=this.\u0275dir=c.lG2({type:we,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]})}return we})();function Ai(we,Mt){return new c.vHH(2100,!1)}class pr{createSubscription(Mt,it){return(0,c.rg0)(()=>Mt.subscribe({next:it,error:At=>{throw At}}))}dispose(Mt){(0,c.rg0)(()=>Mt.unsubscribe())}}class rr{createSubscription(Mt,it){return Mt.then(it,At=>{throw At})}dispose(Mt){}}const qi=new rr,Ki=new pr;let Go=(()=>{class we{constructor(it){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=it}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(it){return this._obj?it!==this._obj?(this._dispose(),this.transform(it)):this._latestValue:(it&&this._subscribe(it),this._latestValue)}_subscribe(it){this._obj=it,this._strategy=this._selectStrategy(it),this._subscription=this._strategy.createSubscription(it,At=>this._updateLatestValue(it,At))}_selectStrategy(it){if((0,c.QGY)(it))return qi;if((0,c.F4k)(it))return Ki;throw Ai()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(it,At){it===this._obj&&(this._latestValue=At,this._ref.markForCheck())}static#e=this.\u0275fac=function(At){return new(At||we)(c.Y36(c.sBO,16))};static#t=this.\u0275pipe=c.Yjl({name:"async",type:we,pure:!1,standalone:!0})}return we})();const di=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pi=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ji=(()=>{class we{constructor(it,At,tn){this.locale=it,this.defaultTimezone=At,this.defaultOptions=tn}transform(it,At,tn,wn){if(null==it||""===it||it!=it)return null;try{return xe(it,At??this.defaultOptions?.dateFormat??"mediumDate",wn||this.locale,tn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Hn){throw Ai()}}static#e=this.\u0275fac=function(At){return new(At||we)(c.Y36(c.soG,16),c.Y36(di,24),c.Y36(Pi,24))};static#t=this.\u0275pipe=c.Yjl({name:"date",type:we,pure:!0,standalone:!0})}return we})(),Yr=(()=>{class we{static#e=this.\u0275fac=function(At){return new(At||we)};static#t=this.\u0275mod=c.oAB({type:we});static#n=this.\u0275inj=c.cJS({})}return we})();const Gr="browser",Eo="server";function No(we){return we===Gr}function Jr(we){return we===Eo}let Ds=(()=>{class we{static#e=this.\u0275prov=(0,c.Yz7)({token:we,providedIn:"root",factory:()=>new Qr((0,c.LFG)(F),window)})}return we})();class Qr{constructor(Mt,it){this.document=Mt,this.window=it,this.offset=()=>[0,0]}setOffset(Mt){this.offset=Array.isArray(Mt)?()=>Mt:Mt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Mt){this.supportsScrolling()&&this.window.scrollTo(Mt[0],Mt[1])}scrollToAnchor(Mt){if(!this.supportsScrolling())return;const it=function $o(we,Mt){const it=we.getElementById(Mt)||we.getElementsByName(Mt)[0];if(it)return it;if("function"==typeof we.createTreeWalker&&we.body&&"function"==typeof we.body.attachShadow){const At=we.createTreeWalker(we.body,NodeFilter.SHOW_ELEMENT);let tn=At.currentNode;for(;tn;){const wn=tn.shadowRoot;if(wn){const Hn=wn.getElementById(Mt)||wn.querySelector(`[name="${Mt}"]`);if(Hn)return Hn}tn=At.nextNode()}}return null}(this.document,Mt);it&&(this.scrollToElement(it),it.focus())}setHistoryScrollRestoration(Mt){if(this.supportScrollRestoration()){const it=this.window.history;it&&it.scrollRestoration&&(it.scrollRestoration=Mt)}}scrollToElement(Mt){const it=Mt.getBoundingClientRect(),At=it.left+this.window.pageXOffset,tn=it.top+this.window.pageYOffset,wn=this.offset();this.window.scrollTo(At-wn[0],tn-wn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Mt=Zo(this.window.history)||Zo(Object.getPrototypeOf(this.window.history));return!(!Mt||!Mt.writable&&!Mt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Zo(we){return Object.getOwnPropertyDescriptor(we,"scrollRestoration")}class Sr{}},5879:(Bn,et,C)=>{"use strict";C.d(et,{$8M:()=>tu,$WT:()=>qi,$Z:()=>jv,AFp:()=>$T,ALo:()=>nx,AaK:()=>v,AsE:()=>zy,BQk:()=>lm,CHM:()=>wl,CRH:()=>Eb,DdM:()=>q0,EJc:()=>ql,EiD:()=>LT,EpF:()=>Zs,F$t:()=>xy,F4k:()=>ag,FYo:()=>Ac,FiY:()=>hl,G48:()=>Kx,Gf:()=>yb,GfV:()=>Tv,GkF:()=>cm,Gpc:()=>R,Gre:()=>e0,HDt:()=>Es,Hsn:()=>to,Ikx:()=>bg,JOm:()=>Ch,JVY:()=>ev,JZr:()=>P,Jf7:()=>Qc,KtG:()=>Os,L6k:()=>ST,LAX:()=>du,LFG:()=>Qe,LMc:()=>nA,LSH:()=>ov,Lbi:()=>gv,Lck:()=>jD,MAs:()=>ig,MGl:()=>um,MMx:()=>G0,MR2:()=>av,NdJ:()=>lg,O4$:()=>Ge,Ojb:()=>xM,OlP:()=>Nr,Oqu:()=>yg,P3R:()=>sv,PXZ:()=>l_,Q6J:()=>jf,QGY:()=>sg,QbO:()=>DM,Qsj:()=>rC,R0b:()=>ha,RDi:()=>uM,Rgc:()=>$f,SBq:()=>Ta,SDv:()=>k0,Sil:()=>Zi,Suo:()=>bb,TTD:()=>ja,TgZ:()=>Ld,Tol:()=>By,Udp:()=>_g,VKq:()=>J0,VuI:()=>_E,W1O:()=>wm,WFA:()=>cg,WLB:()=>Q0,X6Q:()=>Hx,XFs:()=>ue,Xpm:()=>ei,Xq5:()=>sy,Xts:()=>Bh,Y36:()=>xd,YKP:()=>j0,YNc:()=>yy,Yjl:()=>Vo,Yz7:()=>Ne,Z0I:()=>ge,ZZ4:()=>Ts,_Bn:()=>U0,_UZ:()=>og,_Vd:()=>vf,_c5:()=>hE,_uU:()=>Yy,aQg:()=>C_,c2e:()=>bl,cJS:()=>W,cg1:()=>Tg,d8E:()=>Eg,dDg:()=>eh,dqk:()=>st,eBb:()=>hf,eFA:()=>Xb,eJc:()=>Yg,ekj:()=>mm,eoX:()=>Zb,f3M:()=>Pe,g9A:()=>qT,h0i:()=>Lu,hGG:()=>Cs,hYB:()=>ug,hij:()=>gm,iGM:()=>vb,ifc:()=>Qt,ip1:()=>Fb,jDz:()=>H0,kEZ:()=>X0,kL8:()=>Cg,kcU:()=>Be,lG2:()=>no,lcZ:()=>ob,lqb:()=>Sd,lri:()=>zb,mCW:()=>vp,n5z:()=>pc,n_E:()=>Sm,oAB:()=>ir,oJD:()=>kT,oxw:()=>Vf,pB0:()=>Rh,q3G:()=>uu,q4F:()=>Cv,qFp:()=>iA,qLn:()=>pu,qOj:()=>im,qZA:()=>Rc,qzn:()=>Cd,rWj:()=>Xf,rg0:()=>Fc,s9C:()=>dg,sBO:()=>jm,s_b:()=>xm,soG:()=>Rm,tb:()=>s_,tp0:()=>rs,uIk:()=>dy,vHH:()=>T,vpe:()=>$l,wAp:()=>Pu,xi3:()=>sb,xp6:()=>Bp,ynx:()=>am,z2F:()=>vr,z3N:()=>Dc,zSh:()=>uv,zW0:()=>ny,zs3:()=>Xc});var c=C(8645),t=C(7394),y=C(5619),I=C(5592),E=C(3019),F=C(2096),L=C(3020),D=C(4664),p=C(3997);function f(l){for(let u in l)if(l[u]===f)return u;throw Error("Could not find renamed property on target object.")}function g(l,u){for(const h in u)u.hasOwnProperty(h)&&!l.hasOwnProperty(h)&&(l[h]=u[h])}function v(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(v).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const h=u.indexOf("\n");return-1===h?u:u.substring(0,h)}function A(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const U=f({__forward_ref__:f});function R(l){return l.__forward_ref__=R,l.toString=function(){return v(this())},l}function j(l){return k(l)?l():l}function k(l){return"function"==typeof l&&l.hasOwnProperty(U)&&l.__forward_ref__===R}function O(l){return l&&!!l.\u0275providers}const P="https://g.co/ng/security#xss";class T extends Error{constructor(u,h){super(function N(l,u){return`NG0${Math.abs(l)}${u?": "+u:""}`}(u,h)),this.code=u}}function S(l){return"string"==typeof l?l:null==l?"":String(l)}function Fe(l,u){throw new T(-201,!1)}function Ie(l,u,h,_){throw new Error(`ASSERTION ERROR: ${l}`+(null==_?"":` [Expected=> ${h} ${_} ${u} <=Actual]`))}function Ne(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function W(l){return{providers:l.providers||[],imports:l.imports||[]}}function se(l){return J(l,te)||J(l,ee)}function ge(l){return null!==se(l)}function J(l,u){return l.hasOwnProperty(u)?l[u]:null}function Z(l){return l&&(l.hasOwnProperty(ne)||l.hasOwnProperty(X))?l[ne]:null}const te=f({\u0275prov:f}),ne=f({\u0275inj:f}),ee=f({ngInjectableDef:f}),X=f({ngInjectorDef:f});var ue=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}(ue||{});let _e;function xe(l){const u=_e;return _e=l,u}function Ke(l,u,h){const _=se(l);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:h&ue.Optional?null:void 0!==u?u:void Fe(v(l))}const st=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jt={},wt="__NG_DI_FLAG__",Gt="ngTempTokenPath",dn=/\n/gm,Kt="__source";let Tn;function xt(l){const u=Tn;return Tn=l,u}function ht(l,u=ue.Default){if(void 0===Tn)throw new T(-203,!1);return null===Tn?Ke(l,void 0,u):Tn.get(l,u&ue.Optional?null:void 0,u)}function Qe(l,u=ue.Default){return(function de(){return _e}()||ht)(j(l),u)}function Pe(l,u=ue.Default){return Qe(l,Ye(u))}function Ye(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function ze(l){const u=[];for(let h=0;h<l.length;h++){const _=j(l[h]);if(Array.isArray(_)){if(0===_.length)throw new T(900,!1);let M,V=ue.Default;for(let ie=0;ie<_.length;ie++){const Ce=_[ie],je=rt(Ce);"number"==typeof je?-1===je?M=Ce.token:V|=je:M=Ce}u.push(Qe(M,V))}else u.push(Qe(_))}return u}function lt(l,u){return l[wt]=u,l.prototype[wt]=u,l}function rt(l){return l[wt]}function qt(l){return{toString:l}.toString()}var Lt=function(l){return l[l.OnPush=0]="OnPush",l[l.Default=1]="Default",l}(Lt||{}),Qt=function(l){return l[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}(Qt||{});const ln={},mn=[],Mn=f({\u0275cmp:f}),Nn=f({\u0275dir:f}),Yn=f({\u0275pipe:f}),Vn=f({\u0275mod:f}),fi=f({\u0275fac:f}),Cn=f({__NG_ELEMENT_ID__:f}),Tt=f({__NG_ENV_ID__:f});function Et(l,u,h){let _=l.length;for(;;){const M=l.indexOf(u,h);if(-1===M)return M;if(0===M||l.charCodeAt(M-1)<=32){const V=u.length;if(M+V===_||l.charCodeAt(M+V)<=32)return M}h=M+1}}function at(l,u,h){let _=0;for(;_<h.length;){const M=h[_];if("number"==typeof M){if(0!==M)break;_++;const V=h[_++],ie=h[_++],Ce=h[_++];l.setAttribute(u,ie,Ce,V)}else{const V=M,ie=h[++_];We(V)?l.setProperty(u,V,ie):l.setAttribute(u,V,ie),_++}}return _}function Wt(l){return 3===l||4===l||6===l}function We(l){return 64===l.charCodeAt(0)}function ut(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let h=-1;for(let _=0;_<u.length;_++){const M=u[_];"number"==typeof M?h=M:0===h||Pt(l,h,M,null,-1===h||2===h?u[++_]:null)}}return l}function Pt(l,u,h,_,M){let V=0,ie=l.length;if(-1===u)ie=-1;else for(;V<l.length;){const Ce=l[V++];if("number"==typeof Ce){if(Ce===u){ie=-1;break}if(Ce>u){ie=V-1;break}}}for(;V<l.length;){const Ce=l[V];if("number"==typeof Ce)break;if(Ce===h){if(null===_)return void(null!==M&&(l[V+1]=M));if(_===l[V+1])return void(l[V+2]=M)}V++,null!==_&&V++,null!==M&&V++}-1!==ie&&(l.splice(ie,0,u),V=ie+1),l.splice(V++,0,h),null!==_&&l.splice(V++,0,_),null!==M&&l.splice(V++,0,M)}const en="ng-template";function Jt(l,u,h){let _=0,M=!0;for(;_<l.length;){let V=l[_++];if("string"==typeof V&&M){const ie=l[_++];if(h&&"class"===V&&-1!==Et(ie.toLowerCase(),u,0))return!0}else{if(1===V){for(;_<l.length&&"string"==typeof(V=l[_++]);)if(V.toLowerCase()===u)return!0;return!1}"number"==typeof V&&(M=!1)}}return!1}function Rn(l){return 4===l.type&&l.value!==en}function Ht(l,u,h){return u===(4!==l.type||h?l.value:en)}function zt(l,u,h){let _=4;const M=l.attrs||[],V=function ft(l){for(let u=0;u<l.length;u++)if(Wt(l[u]))return u;return l.length}(M);let ie=!1;for(let Ce=0;Ce<u.length;Ce++){const je=u[Ce];if("number"!=typeof je){if(!ie)if(4&_){if(_=2|1&_,""!==je&&!Ht(l,je,h)||""===je&&1===u.length){if(on(_))return!1;ie=!0}}else{const _t=8&_?je:u[++Ce];if(8&_&&null!==l.attrs){if(!Jt(l.attrs,_t,h)){if(on(_))return!1;ie=!0}continue}const Zt=En(8&_?"class":je,M,Rn(l),h);if(-1===Zt){if(on(_))return!1;ie=!0;continue}if(""!==_t){let _n;_n=Zt>V?"":M[Zt+1].toLowerCase();const An=8&_?_n:null;if(An&&-1!==Et(An,_t,0)||2&_&&_t!==_n){if(on(_))return!1;ie=!0}}}}else{if(!ie&&!on(_)&&!on(je))return!1;if(ie&&on(je))continue;ie=!1,_=je|1&_}}return on(_)||ie}function on(l){return 0==(1&l)}function En(l,u,h,_){if(null===u)return-1;let M=0;if(_||!h){let V=!1;for(;M<u.length;){const ie=u[M];if(ie===l)return M;if(3===ie||6===ie)V=!0;else{if(1===ie||2===ie){let Ce=u[++M];for(;"string"==typeof Ce;)Ce=u[++M];continue}if(4===ie)break;if(0===ie){M+=4;continue}}M+=V?1:2}return-1}return function hn(l,u){let h=l.indexOf(4);if(h>-1)for(h++;h<l.length;){const _=l[h];if("number"==typeof _)return-1;if(_===u)return h;h++}return-1}(u,l)}function Fn(l,u,h=!1){for(let _=0;_<u.length;_++)if(zt(l,u[_],h))return!0;return!1}function be(l,u){e:for(let h=0;h<u.length;h++){const _=u[h];if(l.length===_.length){for(let M=0;M<l.length;M++)if(l[M]!==_[M])continue e;return!0}}return!1}function vt(l,u){return l?":not("+u.trim()+")":u}function gt(l){let u=l[0],h=1,_=2,M="",V=!1;for(;h<l.length;){let ie=l[h];if("string"==typeof ie)if(2&_){const Ce=l[++h];M+="["+ie+(Ce.length>0?'="'+Ce+'"':"")+"]"}else 8&_?M+="."+ie:4&_&&(M+=" "+ie);else""!==M&&!on(ie)&&(u+=vt(V,M),M=""),_=ie,V=V||!on(_);h++}return""!==M&&(u+=vt(V,M)),u}function ei(l){return qt(()=>{const u=Go(l),h={...u,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===Lt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&l.dependencies||null,getStandaloneInjector:null,signals:l.signals??!1,data:l.data||{},encapsulation:l.encapsulation||Qt.Emulated,styles:l.styles||mn,_:null,schemas:l.schemas||null,tView:null,id:""};yo(h);const _=l.dependencies;return h.directiveDefs=Lr(_,!1),h.pipeDefs=Lr(_,!0),h.id=function bo(l){let u=0;const h=[l.selectors,l.ngContentSelectors,l.hostVars,l.hostAttrs,l.consts,l.vars,l.decls,l.encapsulation,l.standalone,l.signals,l.exportAs,JSON.stringify(l.inputs),JSON.stringify(l.outputs),Object.getOwnPropertyNames(l.type.prototype),!!l.contentQueries,!!l.viewQuery].join("|");for(const M of h)u=Math.imul(31,u)+M.charCodeAt(0)<<0;return u+=2147483648,"c"+u}(h),h})}function Ir(l){return Ai(l)||pr(l)}function yr(l){return null!==l}function ir(l){return qt(()=>({type:l.type,bootstrap:l.bootstrap||mn,declarations:l.declarations||mn,imports:l.imports||mn,exports:l.exports||mn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function xo(l,u){if(null==l)return ln;const h={};for(const _ in l)if(l.hasOwnProperty(_)){let M=l[_],V=M;Array.isArray(M)&&(V=M[1],M=M[0]),h[M]=_,u&&(u[M]=V)}return h}function no(l){return qt(()=>{const u=Go(l);return yo(u),u})}function Vo(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function Ai(l){return l[Mn]||null}function pr(l){return l[Nn]||null}function rr(l){return l[Yn]||null}function qi(l){const u=Ai(l)||pr(l)||rr(l);return null!==u&&u.standalone}function Ki(l,u){const h=l[Vn]||null;if(!h&&!0===u)throw new Error(`Type ${v(l)} does not have '\u0275mod' property.`);return h}function Go(l){const u={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:u,inputTransforms:null,inputConfig:l.inputs||ln,exportAs:l.exportAs||null,standalone:!0===l.standalone,signals:!0===l.signals,selectors:l.selectors||mn,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xo(l.inputs,u),outputs:xo(l.outputs)}}function yo(l){l.features?.forEach(u=>u(l))}function Lr(l,u){if(!l)return null;const h=u?rr:Ir;return()=>("function"==typeof l?l():l).map(_=>h(_)).filter(yr)}const lr=0,di=1,Pi=2,Ji=3,Ar=4,Ao=5,Er=6,Vr=7,Xt=8,In=9,$n=10,jn=11,bi=12,Oi=13,Si=14,_i=15,Vi=16,Qi=17,Yr=18,Gr=19,Eo=20,Tr=21,Fr=22,No=23,Jr=24,Gi=25,Mo=1,Ds=2,Qr=7,$o=9,Sr=11;function Pr(l){return Array.isArray(l)&&"object"==typeof l[Mo]}function hr(l){return Array.isArray(l)&&!0===l[Mo]}function ks(l){return 0!=(4&l.flags)}function fr(l){return l.componentOffset>-1}function io(l){return 1==(1&l.flags)}function ki(l){return!!l.template}function wo(l){return 0!=(512&l[Pi])}function tt(l,u){return l.hasOwnProperty(fi)?l[fi]:null}let Mi=st.WeakRef??class si{constructor(u){this.ref=u}deref(){return this.ref}},Ko=0,Br=null,Xo=!1;function gr(l){const u=Br;return Br=l,u}class Po{constructor(){this.id=Ko++,this.ref=function ho(l){return new Mi(l)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[u,h]of this.producers){const _=h.producerNode.deref();if(null!=_&&h.atTrackingVersion===this.trackingVersion){if(_.producerPollStatus(h.seenValueVersion))return!0}else this.producers.delete(u),_?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const u=Xo;Xo=!0;try{for(const[h,_]of this.consumers){const M=_.consumerNode.deref();null!=M&&M.trackingVersion===_.atTrackingVersion?M.onConsumerDependencyMayHaveChanged():(this.consumers.delete(h),M?.producers.delete(this.id))}}finally{Xo=u}}producerAccessed(){if(Xo)throw new Error("");if(null===Br)return;let u=Br.producers.get(this.id);void 0===u?(u={consumerNode:Br.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Br.trackingVersion},Br.producers.set(this.id,u),this.consumers.set(Br.id,u)):(u.seenValueVersion=this.valueVersion,u.atTrackingVersion=Br.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Br?.consumerAllowSignalWrites}producerPollStatus(u){return this.valueVersion!==u||(this.onProducerUpdateValueVersion(),this.valueVersion!==u)}}let Qa=null;function Fc(l){const u=gr(null);try{return l()}finally{gr(u)}}const Aa=()=>{};class nc extends Po{constructor(u,h,_){super(),this.watch=u,this.schedule=h,this.dirty=!1,this.cleanupFn=Aa,this.registerOnCleanup=M=>{this.cleanupFn=M},this.consumerAllowSignalWrites=_}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const u=gr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Aa,this.watch(this.registerOnCleanup)}finally{gr(u)}}cleanup(){this.cleanupFn()}}class Ma{constructor(u,h,_){this.previousValue=u,this.currentValue=h,this.firstChange=_}isFirstChange(){return this.firstChange}}function ja(){return Xs}function Xs(l){return l.type.prototype.ngOnChanges&&(l.setInput=wa),Al}function Al(){const l=nl(this),u=l?.current;if(u){const h=l.previous;if(h===ln)l.previous=u;else for(let _ in u)h[_]=u[_];l.current=null,this.ngOnChanges(u)}}function wa(l,u,h,_){const M=this.declaredInputs[h],V=nl(l)||function ic(l,u){return l[tl]=u}(l,{previous:ln,current:null}),ie=V.current||(V.current={}),Ce=V.previous,je=Ce[M];ie[M]=new Ma(je&&je.currentValue,u,Ce===ln),l[_]=u}ja.ngInherit=!0;const tl="__ngSimpleChanges__";function nl(l){return l[tl]||null}const es=function(l,u,h){},rl="svg";function _r(l){for(;Array.isArray(l);)l=l[lr];return l}function we(l,u){return _r(u[l])}function Mt(l,u){return _r(u[l.index])}function At(l,u){return l.data[u]}function tn(l,u){return l[u]}function wn(l,u){const h=u[l];return Pr(h)?h:h[lr]}function nr(l,u){return null==u?null:l[u]}function or(l){l[Qi]=0}function Wi(l){1024&l[Pi]||(l[Pi]|=1024,sr(l,1))}function Or(l){1024&l[Pi]&&(l[Pi]&=-1025,sr(l,-1))}function sr(l,u){let h=l[Ji];if(null===h)return;h[Ao]+=u;let _=h;for(h=h[Ji];null!==h&&(1===u&&1===_[Ao]||-1===u&&0===_[Ao]);)h[Ao]+=u,_=h,h=h[Ji]}const Di={lFrame:dc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rc(){return Di.bindingsEnabled}function ea(){return null!==Di.skipHydrationRootTNode}function Zn(){return Di.lFrame.lView}function cr(){return Di.lFrame.tView}function wl(l){return Di.lFrame.contextLView=l,l[Xt]}function Os(l){return Di.lFrame.contextLView=null,l}function so(){let l=qd();for(;null!==l&&64===l.type;)l=l.parent;return l}function qd(){return Di.lFrame.currentTNode}function sc(){const l=Di.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}function Fo(l,u){const h=Di.lFrame;h.currentTNode=l,h.isParent=u}function ac(){return Di.lFrame.isParent}function Hr(){Di.lFrame.isParent=!1}function Oo(){const l=Di.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}function Ur(){return Di.lFrame.bindingIndex++}function ga(l){const u=Di.lFrame,h=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,h}function lc(l){Di.lFrame.inI18n=l}function ol(l,u){const h=Di.lFrame;h.bindingIndex=h.bindingRootIndex=l,cc(u)}function cc(l){Di.lFrame.currentDirectiveIndex=l}function al(l){const u=Di.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}function Pl(){return Di.lFrame.currentQueryIndex}function Ia(l){Di.lFrame.currentQueryIndex=l}function ad(l){const u=l[di];return 2===u.type?u.declTNode:1===u.type?l[Er]:null}function Ga(l,u,h){if(h&ue.SkipSelf){let M=u,V=l;for(;!(M=M.parent,null!==M||h&ue.Host||(M=ad(V),null===M||(V=V[Si],10&M.type))););if(null===M)return!1;u=M,l=V}const _=Di.lFrame=Vc();return _.currentTNode=u,_.lView=l,!0}function Ol(l){const u=Vc(),h=l[di];Di.lFrame=u,u.currentTNode=h.firstChild,u.lView=l,u.tView=h,u.contextLView=l,u.bindingIndex=h.bindingStartIndex,u.inI18n=!1}function Vc(){const l=Di.lFrame,u=null===l?null:l.child;return null===u?dc(l):u}function dc(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function ld(){const l=Di.lFrame;return Di.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Gc=ld;function Hc(){const l=ld();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Yo(){return Di.lFrame.selectedIndex}function _a(l){Di.lFrame.selectedIndex=l}function Ee(){const l=Di.lFrame;return At(l.tView,l.selectedIndex)}function Ge(){Di.lFrame.currentNamespace=rl}function Be(){!function bt(){Di.lFrame.currentNamespace=null}()}let Ut=!0;function bn(){return Ut}function Wn(l){Ut=l}function Ci(l,u){for(let h=u.directiveStart,_=u.directiveEnd;h<_;h++){const V=l.data[h].type.prototype,{ngAfterContentInit:ie,ngAfterContentChecked:Ce,ngAfterViewInit:je,ngAfterViewChecked:_t,ngOnDestroy:Rt}=V;ie&&(l.contentHooks??=[]).push(-h,ie),Ce&&((l.contentHooks??=[]).push(h,Ce),(l.contentCheckHooks??=[]).push(h,Ce)),je&&(l.viewHooks??=[]).push(-h,je),_t&&((l.viewHooks??=[]).push(h,_t),(l.viewCheckHooks??=[]).push(h,_t)),null!=Rt&&(l.destroyHooks??=[]).push(h,Rt)}}function dr(l,u,h){va(l,u,3,h)}function Ro(l,u,h,_){(3&l[Pi])===h&&va(l,u,h,_)}function Pa(l,u){let h=l[Pi];(3&h)===u&&(h&=8191,h+=1,l[Pi]=h)}function va(l,u,h,_){const V=_??-1,ie=u.length-1;let Ce=0;for(let je=void 0!==_?65535&l[Qi]:0;je<ie;je++)if("number"==typeof u[je+1]){if(Ce=u[je],null!=_&&Ce>=_)break}else u[je]<0&&(l[Qi]+=65536),(Ce<V||-1==V)&&(ll(l,h,u,je),l[Qi]=(4294901760&l[Qi])+je+2),je++}function ya(l,u){es(4,l,u);const h=gr(null);try{u.call(l)}finally{gr(h),es(5,l,u)}}function ll(l,u,h,_){const M=h[_]<0,V=h[_+1],Ce=l[M?-h[_]:h[_]];M?l[Pi]>>13<l[Qi]>>16&&(3&l[Pi])===u&&(l[Pi]+=8192,ya(Ce,V)):ya(Ce,V)}const Rs=-1;class cl{constructor(u,h,_){this.factory=u,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=_}}function fd(l){return l!==Rs}function Ks(l){return 32767&l}function uc(l,u){let h=function Ku(l){return l>>16}(l),_=u;for(;h>0;)_=_[Si],h--;return _}let Ha=!0;function fc(l){const u=Ha;return Ha=l,u}const ta=255,Nl=5;let rp=0;const na={};function Yc(l,u){const h=Xd(l,u);if(-1!==h)return h;const _=u[di];_.firstCreatePass&&(l.injectorIndex=u.length,hc(_.data,l),hc(u,null),hc(_.blueprint,null));const M=Ka(l,u),V=l.injectorIndex;if(fd(M)){const ie=Ks(M),Ce=uc(M,u),je=Ce[di].data;for(let _t=0;_t<8;_t++)u[V+_t]=Ce[ie+_t]|je[ie+_t]}return u[V+8]=M,V}function hc(l,u){l.push(0,0,0,0,0,0,0,0,u)}function Xd(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function Ka(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let h=0,_=null,M=u;for(;null!==M;){if(_=md(M),null===_)return Rs;if(h++,M=M[Si],-1!==_.injectorIndex)return _.injectorIndex|h<<16}return Rs}function Wu(l,u,h){!function Yu(l,u,h){let _;"string"==typeof h?_=h.charCodeAt(0)||0:h.hasOwnProperty(Cn)&&(_=h[Cn]),null==_&&(_=h[Cn]=rp++);const M=_&ta;u.data[l+(M>>Nl)]|=1<<M}(l,u,h)}function Ll(l,u,h){if(h&ue.Optional||void 0!==l)return l;Fe()}function eu(l,u,h,_){if(h&ue.Optional&&void 0===_&&(_=null),!(h&(ue.Self|ue.Host))){const M=l[In],V=xe(void 0);try{return M?M.get(u,_,h&ue.Optional):Ke(u,_,h&ue.Optional)}finally{xe(V)}}return Ll(_,0,h)}function Wo(l,u,h,_=ue.Default,M){if(null!==l){if(2048&u[Pi]&&!(_&ue.Self)){const ie=function kl(l,u,h,_,M){let V=l,ie=u;for(;null!==V&&null!==ie&&2048&ie[Pi]&&!(512&ie[Pi]);){const Ce=hh(V,ie,h,_|ue.Self,na);if(Ce!==na)return Ce;let je=V.parent;if(!je){const _t=ie[Eo];if(_t){const Rt=_t.get(h,na,_);if(Rt!==na)return Rt}je=md(ie),ie=ie[Si]}V=je}return M}(l,u,h,_,na);if(ie!==na)return ie}const V=hh(l,u,h,_,na);if(V!==na)return V}return eu(u,h,_,M)}function hh(l,u,h,_,M){const V=function ns(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(Cn)?l[Cn]:void 0;return"number"==typeof u?u>=0?u&ta:mh:u}(h);if("function"==typeof V){if(!Ga(u,l,_))return _&ue.Host?Ll(M,0,_):eu(u,h,_,M);try{const ie=V(_);if(null!=ie||_&ue.Optional)return ie;Fe()}finally{Gc()}}else if("number"==typeof V){let ie=null,Ce=Xd(l,u),je=Rs,_t=_&ue.Host?u[_i][Er]:null;for((-1===Ce||_&ue.SkipSelf)&&(je=-1===Ce?Ka(l,u):u[Ce+8],je!==Rs&&mc(_,!1)?(ie=u[di],Ce=Ks(je),u=uc(je,u)):Ce=-1);-1!==Ce;){const Rt=u[di];if(Oa(V,Ce,Rt.data)){const Zt=zu(Ce,u,h,ie,_,_t);if(Zt!==na)return Zt}je=u[Ce+8],je!==Rs&&mc(_,u[di].data[Ce+8]===_t)&&Oa(V,Ce,u)?(ie=Rt,Ce=Ks(je),u=uc(je,u)):Ce=-1}}return M}function zu(l,u,h,_,M,V){const ie=u[di],Ce=ie.data[l+8],Rt=ia(Ce,ie,h,null==_?fr(Ce)&&Ha:_!=ie&&0!=(3&Ce.type),M&ue.Host&&V===Ce);return null!==Rt?zr(u,ie,Rt,Ce):na}function ia(l,u,h,_,M){const V=l.providerIndexes,ie=u.data,Ce=1048575&V,je=l.directiveStart,Rt=V>>20,_n=M?Ce+Rt:l.directiveEnd;for(let An=_?Ce:Ce+Rt;An<_n;An++){const Kn=ie[An];if(An<je&&h===Kn||An>=je&&Kn.type===h)return An}if(M){const An=ie[je];if(An&&ki(An)&&An.type===h)return je}return null}function zr(l,u,h,_){let M=l[h];const V=u.data;if(function dd(l){return l instanceof cl}(M)){const ie=M;ie.resolving&&function Y(l,u){const h=u?`. Dependency path: ${u.join(" > ")} > ${l}`:"";throw new T(-200,`Circular dependency in DI detected for ${l}${h}`)}(function B(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():S(l)}(V[h]));const Ce=fc(ie.canSeeViewProviders);ie.resolving=!0;const je=ie.injectImpl?xe(ie.injectImpl):null;Ga(l,_,ue.Default);try{M=l[h]=ie.factory(void 0,V,l,_),u.firstCreatePass&&h>=_.directiveStart&&function Ti(l,u,h){const{ngOnChanges:_,ngOnInit:M,ngDoCheck:V}=u.type.prototype;if(_){const ie=Xs(u);(h.preOrderHooks??=[]).push(l,ie),(h.preOrderCheckHooks??=[]).push(l,ie)}M&&(h.preOrderHooks??=[]).push(0-l,M),V&&((h.preOrderHooks??=[]).push(l,V),(h.preOrderCheckHooks??=[]).push(l,V))}(h,V[h],u)}finally{null!==je&&xe(je),fc(Ce),ie.resolving=!1,Gc()}}return M}function Oa(l,u,h){return!!(h[u+(l>>Nl)]&1<<l)}function mc(l,u){return!(l&ue.Self||l&ue.Host&&u)}class ul{constructor(u,h){this._tNode=u,this._lView=h}get(u,h,_){return Wo(this._tNode,this._lView,u,Ye(_),h)}}function mh(){return new ul(so(),Zn())}function pc(l){return qt(()=>{const u=l.prototype.constructor,h=u[fi]||hd(u),_=Object.prototype;let M=Object.getPrototypeOf(l.prototype).constructor;for(;M&&M!==_;){const V=M[fi]||hd(M);if(V&&V!==h)return V;M=Object.getPrototypeOf(M)}return V=>new V})}function hd(l){return k(l)?()=>{const u=hd(j(l));return u&&u()}:tt(l)}function md(l){const u=l[di],h=u.type;return 2===h?u.declTNode:1===h?l[Er]:null}function tu(l){return function fh(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const h=l.attrs;if(h){const _=h.length;let M=0;for(;M<_;){const V=h[M];if(Wt(V))break;if(0===V)M+=2;else if("number"==typeof V)for(M++;M<_&&"string"==typeof h[M];)M++;else{if(V===u)return h[M+1];M+=2}}}return null}(so(),l)}const Ra="__parameters__";function ao(l,u,h){return qt(()=>{const _=function ra(l){return function(...h){if(l){const _=l(...h);for(const M in _)this[M]=_[M]}}}(u);function M(...V){if(this instanceof M)return _.apply(this,V),this;const ie=new M(...V);return Ce.annotation=ie,Ce;function Ce(je,_t,Rt){const Zt=je.hasOwnProperty(Ra)?je[Ra]:Object.defineProperty(je,Ra,{value:[]})[Ra];for(;Zt.length<=Rt;)Zt.push(null);return(Zt[Rt]=Zt[Rt]||[]).push(ie),je}}return h&&(M.prototype=Object.create(h.prototype)),M.prototype.ngMetadataName=l,M.annotationCls=M,M})}function sa(l,u){l.forEach(h=>Array.isArray(h)?sa(h,u):u(h))}function iu(l,u,h){u>=l.length?l.push(h):l.splice(u,0,h)}function Zc(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function Bl(l,u){const h=[];for(let _=0;_<l;_++)h.push(u);return h}function Ze(l,u,h){let _=Yt(l,u);return _>=0?l[1|_]=h:(_=~_,function ru(l,u,h,_){let M=l.length;if(M==u)l.push(h,_);else if(1===M)l.push(_,l[0]),l[0]=h;else{for(M--,l.push(l[M-1],l[M]);M>u;)l[M]=l[M-2],M--;l[u]=h,l[u+1]=_}}(l,_,u,h)),_}function Ct(l,u){const h=Yt(l,u);if(h>=0)return l[1|h]}function Yt(l,u){return function Dn(l,u,h){let _=0,M=l.length>>h;for(;M!==_;){const V=_+(M-_>>1),ie=l[V<<h];if(u===ie)return V<<h;ie>u?M=V:_=V+1}return~(M<<h)}(l,u,1)}const hl=lt(ao("Optional"),8),rs=lt(ao("SkipSelf"),4);function rf(l){return 128==(128&l.flags)}var Ch=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}(Ch||{});const GE=/^>|^->|<!--|-->|--!>|<!-$/g,HE=/(<|>)/,KE="\u200b$1\u200b";const ap=new Map;let YE=0;const Dh="__ngContext__";function Ws(l,u){Pr(u)?(l[Dh]=u[Gr],function zE(l){ap.set(l[Gr],l)}(u)):l[Dh]=u}let K_;function Y_(l,u){return K_(l,u)}function af(l){const u=l[Ji];return hr(u)?u[Ji]:u}function XE(l){return tT(l[bi])}function eT(l){return tT(l[Ar])}function tT(l){for(;null!==l&&!hr(l);)l=l[Ar];return l}function lf(l,u,h,_,M){if(null!=_){let V,ie=!1;hr(_)?V=_:Pr(_)&&(ie=!0,_=_[lr]);const Ce=_r(_);0===l&&null!==h?null==M?qc(u,h,Ce):Za(u,h,Ce,M||null,!0):1===l&&null!==h?Za(u,h,Ce,M||null,!0):2===l?function pp(l,u,h){const _=bd(l,u);_&&function Ah(l,u,h,_){l.removeChild(u,h,_)}(l,_,u,h)}(u,Ce,ie):3===l&&u.destroyNode(Ce),null!=V&&function cM(l,u,h,_,M){const V=h[Qr];V!==_r(h)&&lf(u,l,_,V,M);for(let Ce=Sr;Ce<h.length;Ce++){const je=h[Ce];wh(je[di],je,l,u,_,V)}}(u,l,V,h,M)}}function cf(l,u){return l.createText(u)}function Na(l,u){return l.createComment(function j_(l){return l.replace(GE,u=>u.replace(HE,KE))}(u))}function $r(l,u,h){return l.createElement(u,h)}function oT(l,u){const h=l[$o],_=h.indexOf(u);Or(u),h.splice(_,1)}function yd(l,u){if(l.length<=Sr)return;const h=Sr+u,_=l[h];if(_){const M=_[Vi];null!==M&&M!==l&&oT(M,_),u>0&&(l[h-1][Ar]=_[Ar]);const V=Zc(l,Sr+u);!function cp(l,u){wh(l,u,u[jn],2,null,null),u[lr]=null,u[Er]=null}(_[di],_);const ie=V[Yr];null!==ie&&ie.detachView(V[di]),_[Ji]=null,_[Ar]=null,_[Pi]&=-129}return _}function df(l,u){if(!(256&u[Pi])){const h=u[jn];u[No]?.destroy(),u[Jr]?.destroy(),h.destroyNode&&wh(l,u,h,3,null,null),function iT(l){let u=l[bi];if(!u)return xh(l[di],l);for(;u;){let h=null;if(Pr(u))h=u[bi];else{const _=u[Sr];_&&(h=_)}if(!h){for(;u&&!u[Ar]&&u!==l;)Pr(u)&&xh(u[di],u),u=u[Ji];null===u&&(u=l),Pr(u)&&xh(u[di],u),h=u&&u[Ar]}u=h}}(u)}}function xh(l,u){if(!(256&u[Pi])){u[Pi]&=-129,u[Pi]|=256,function aT(l,u){let h;if(null!=l&&null!=(h=l.destroyHooks))for(let _=0;_<h.length;_+=2){const M=u[h[_]];if(!(M instanceof cl)){const V=h[_+1];if(Array.isArray(V))for(let ie=0;ie<V.length;ie+=2){const Ce=M[V[ie]],je=V[ie+1];es(4,Ce,je);try{je.call(Ce)}finally{es(5,Ce,je)}}else{es(4,M,V);try{V.call(M)}finally{es(5,M,V)}}}}}(l,u),function sT(l,u){const h=l.cleanup,_=u[Vr];if(null!==h)for(let V=0;V<h.length-1;V+=2)if("string"==typeof h[V]){const ie=h[V+3];ie>=0?_[ie]():_[-ie].unsubscribe(),V+=2}else h[V].call(_[h[V+1]]);null!==_&&(u[Vr]=null);const M=u[Tr];if(null!==M){u[Tr]=null;for(let V=0;V<M.length;V++)(0,M[V])()}}(l,u),1===u[di].type&&u[jn].destroy();const h=u[Vi];if(null!==h&&hr(u[Ji])){h!==u[Ji]&&oT(h,u);const _=u[Yr];null!==_&&_.detachView(l)}!function V_(l){ap.delete(l[Gr])}(u)}}function fp(l,u,h){return z_(l,u.parent,h)}function z_(l,u,h){let _=u;for(;null!==_&&40&_.type;)_=(u=_).parent;if(null===_)return h[lr];{const{componentOffset:M}=_;if(M>-1){const{encapsulation:V}=l.data[_.directiveStart+M];if(V===Qt.None||V===Qt.Emulated)return null}return Mt(_,h)}}function Za(l,u,h,_,M){l.insertBefore(u,h,_,M)}function qc(l,u,h){l.appendChild(u,h)}function cu(l,u,h,_,M){null!==_?Za(l,u,h,_,M):qc(l,u,h)}function bd(l,u){return l.parentNode(u)}function hp(l,u,h){return dT(l,u,h)}function cT(l,u,h){return 40&l.type?Mt(l,h):null}let Z_,uf,Sc,os,dT=cT;function uT(l,u){dT=l,Z_=u}function mp(l,u,h,_){const M=fp(l,_,u),V=u[jn],Ce=hp(_.parent||u[Er],_,u);if(null!=M)if(Array.isArray(h))for(let je=0;je<h.length;je++)cu(V,M,h[je],Ce,!1);else cu(V,M,h,Ce,!1);void 0!==Z_&&Z_(V,_,u,h,M)}function Mh(l,u){if(null!==u){const h=u.type;if(3&h)return Mt(u,l);if(4&h)return $_(-1,l[u.index]);if(8&h){const _=u.child;if(null!==_)return Mh(l,_);{const M=l[u.index];return hr(M)?$_(-1,M):_r(M)}}if(32&h)return Y_(u,l)()||_r(l[u.index]);{const _=fT(l,u);return null!==_?Array.isArray(_)?_[0]:Mh(af(l[_i]),_):Mh(l,u.next)}}return null}function fT(l,u){return null!==u?l[_i][Er].projection[u.projection]:null}function $_(l,u){const h=Sr+l+1;if(h<u.length){const _=u[h],M=_[di].firstChild;if(null!==M)return Mh(_,M)}return u[Qr]}function q_(l,u,h,_,M,V,ie){for(;null!=h;){const Ce=_[h.index],je=h.type;if(ie&&0===u&&(Ce&&Ws(_r(Ce),_),h.flags|=2),32!=(32&h.flags))if(8&je)q_(l,u,h.child,_,M,V,!1),lf(u,l,M,Ce,V);else if(32&je){const _t=Y_(h,_);let Rt;for(;Rt=_t();)lf(u,l,M,Rt,V);lf(u,l,M,Ce,V)}else 16&je?mT(l,u,_,h,M,V):lf(u,l,M,Ce,V);h=ie?h.projectionNext:h.next}}function wh(l,u,h,_,M,V){q_(h,_,l.firstChild,u,M,V,!1)}function mT(l,u,h,_,M,V){const ie=h[_i],je=ie[Er].projection[_.projection];if(Array.isArray(je))for(let _t=0;_t<je.length;_t++)lf(u,l,M,je[_t],V);else{let _t=je;const Rt=ie[Ji];rf(_)&&(_t.flags|=128),q_(l,u,_t,Rt,M,V,!0)}}function J_(l,u,h){""===h?l.removeAttribute(u,"class"):l.setAttribute(u,"class",h)}function gT(l,u,h){const{mergedAttrs:_,classes:M,styles:V}=h;null!==_&&at(l,u,_),null!==M&&J_(l,u,M),null!==V&&function pT(l,u,h){l.setAttribute(u,"style",h)}(l,u,V)}function Cc(l){return function Ih(){if(void 0===uf&&(uf=null,st.trustedTypes))try{uf=st.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return uf}()?.createHTML(l)||l}function uM(l){Sc=l}function ff(){if(void 0!==Sc)return Sc;if(typeof document<"u")return document;throw new T(210,!1)}function gp(){if(void 0===os&&(os=null,st.trustedTypes))try{os=st.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return os}function Q_(l){return gp()?.createHTML(l)||l}function Oh(l){return gp()?.createScriptURL(l)||l}class Td{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${P})`}}class yT extends Td{getTypeName(){return"HTML"}}class bT extends Td{getTypeName(){return"Style"}}class ET extends Td{getTypeName(){return"Script"}}class ba extends Td{getTypeName(){return"URL"}}class TT extends Td{getTypeName(){return"ResourceURL"}}function Dc(l){return l instanceof Td?l.changingThisBreaksApplicationSecurity:l}function Cd(l,u){const h=function CT(l){return l instanceof Td&&l.getTypeName()||null}(l);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see ${P})`)}return h===u}function ev(l){return new yT(l)}function ST(l){return new bT(l)}function hf(l){return new ET(l)}function du(l){return new ba(l)}function Rh(l){return new TT(l)}function tv(l){const u=new xT(l);return function AT(){try{return!!(new window.DOMParser).parseFromString(Cc(""),"text/html")}catch{return!1}}()?new DT(u):u}class DT{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(Cc(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.removeChild(h.firstChild),h)}catch{return null}}}class xT{constructor(u){this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(u){const h=this.inertDocument.createElement("template");return h.innerHTML=Cc(u),h}}const _p=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vp(l){return(l=String(l)).match(_p)?l:"unsafe:"+l}function Jc(l){const u={};for(const h of l.split(","))u[h]=!0;return u}function mf(...l){const u={};for(const h of l)for(const _ in h)h.hasOwnProperty(_)&&(u[_]=!0);return u}const nv=Jc("area,br,col,hr,img,wbr"),yp=Jc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bp=Jc("rp,rt"),Nh=mf(nv,mf(yp,Jc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mf(bp,Jc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mf(bp,yp)),Lh=Jc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iv=mf(Lh,Jc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),PT=Jc("script,style,template");class OT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let h=u.firstChild,_=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?_=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,_&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let M=this.checkClobberedElement(h,h.nextSibling);if(M){h=M;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(u){const h=u.nodeName.toLowerCase();if(!Nh.hasOwnProperty(h))return this.sanitizedSomething=!0,!PT.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const _=u.attributes;for(let M=0;M<_.length;M++){const V=_.item(M),ie=V.name,Ce=ie.toLowerCase();if(!iv.hasOwnProperty(Ce)){this.sanitizedSomething=!0;continue}let je=V.value;Lh[Ce]&&(je=vp(je)),this.buf.push(" ",ie,'="',Ep(je),'"')}return this.buf.push(">"),!0}endElement(u){const h=u.nodeName.toLowerCase();Nh.hasOwnProperty(h)&&!nv.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(Ep(u))}checkClobberedElement(u,h){if(h&&(u.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return h}}const RT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NT=/([^\#-~ |!])/g;function Ep(l){return l.replace(/&/g,"&amp;").replace(RT,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(NT,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kh;function LT(l,u){let h=null;try{kh=kh||tv(l);let _=u?String(u):"";h=kh.getInertBodyElement(_);let M=5,V=_;do{if(0===M)throw new Error("Failed to sanitize html because the input is unstable");M--,_=V,V=h.innerHTML,h=kh.getInertBodyElement(_)}while(_!==V);return Cc((new OT).sanitizeChildren(rv(h)||h))}finally{if(h){const _=rv(h)||h;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function rv(l){return"content"in l&&function fM(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var uu=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}(uu||{});function kT(l){const u=Fh();return u?Q_(u.sanitize(uu.HTML,l)||""):Cd(l,"HTML")?Q_(Dc(l)):LT(ff(),S(l))}function ov(l){const u=Fh();return u?u.sanitize(uu.URL,l)||"":Cd(l,"URL")?Dc(l):vp(S(l))}function BT(l){const u=Fh();if(u)return Oh(u.sanitize(uu.RESOURCE_URL,l)||"");if(Cd(l,"ResourceURL"))return Oh(Dc(l));throw new T(904,!1)}function sv(l,u,h){return function jT(l,u){return"src"===u&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===u&&("base"===l||"link"===l)?BT:ov}(u,h)(l)}function Fh(){const l=Zn();return l&&l[$n].sanitizer}class Nr{constructor(u,h){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=Ne({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Bh=new Nr("ENVIRONMENT_INITIALIZER"),VT=new Nr("INJECTOR",-1),GT=new Nr("INJECTOR_DEF_TYPES");class HT{get(u,h=jt){if(h===jt){const _=new Error(`NullInjectorError: No provider for ${v(u)}!`);throw _.name="NullInjectorError",_}return h}}function av(l){return{\u0275providers:l}}function KT(...l){return{\u0275providers:YT(0,l),\u0275fromNgModule:!0}}function YT(l,...u){const h=[],_=new Set;let M;return sa(u,V=>{const ie=V;lv(ie,h,[],_)&&(M||=[],M.push(ie))}),void 0!==M&&WT(M,h),h}function WT(l,u){for(let h=0;h<l.length;h++){const{providers:M}=l[h];Tp(M,V=>{u.push(V)})}}function lv(l,u,h,_){if(!(l=j(l)))return!1;let M=null,V=Z(l);const ie=!V&&Ai(l);if(V||ie){if(ie&&!ie.standalone)return!1;M=l}else{const je=l.ngModule;if(V=Z(je),!V)return!1;M=je}const Ce=_.has(M);if(ie){if(Ce)return!1;if(_.add(M),ie.dependencies){const je="function"==typeof ie.dependencies?ie.dependencies():ie.dependencies;for(const _t of je)lv(_t,u,h,_)}}else{if(!V)return!1;{if(null!=V.imports&&!Ce){let _t;_.add(M);try{sa(V.imports,Rt=>{lv(Rt,u,h,_)&&(_t||=[],_t.push(Rt))})}finally{}void 0!==_t&&WT(_t,u)}if(!Ce){const _t=tt(M)||(()=>new M);u.push({provide:M,useFactory:_t,deps:mn},{provide:GT,useValue:M,multi:!0},{provide:Bh,useValue:()=>Qe(M),multi:!0})}const je=V.providers;null==je||Ce||Tp(je,Rt=>{u.push(Rt)})}}return M!==l&&void 0!==l.providers}function Tp(l,u){for(let h of l)O(h)&&(h=h.\u0275providers),Array.isArray(h)?Tp(h,u):u(h)}const gM=f({provide:String,useValue:f});function cv(l){return null!==l&&"object"==typeof l&&gM in l}function fu(l){return"function"==typeof l}const uv=new Nr("Set Injector scope."),Cp={},_M={};let fv;function Sp(){return void 0===fv&&(fv=new HT),fv}class Sd{}class hv extends Sd{get destroyed(){return this._destroyed}constructor(u,h,_,M){super(),this.parent=h,this.source=_,this.scopes=M,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dp(u,ie=>this.processProvider(ie)),this.records.set(VT,pf(void 0,this)),M.has("environment")&&this.records.set(Sd,pf(void 0,this));const V=this.records.get(uv);null!=V&&"string"==typeof V.value&&this.scopes.add(V.value),this.injectorDefTypes=new Set(this.get(GT.multi,mn,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const h of this._ngOnDestroyHooks)h.ngOnDestroy();const u=this._onDestroyHooks;this._onDestroyHooks=[];for(const h of u)h()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(u){return this.assertNotDestroyed(),this._onDestroyHooks.push(u),()=>this.removeOnDestroy(u)}runInContext(u){this.assertNotDestroyed();const h=xt(this),_=xe(void 0);try{return u()}finally{xt(h),xe(_)}}get(u,h=jt,_=ue.Default){if(this.assertNotDestroyed(),u.hasOwnProperty(Tt))return u[Tt](this);_=Ye(_);const M=xt(this),V=xe(void 0);try{if(!(_&ue.SkipSelf)){let Ce=this.records.get(u);if(void 0===Ce){const je=function TM(l){return"function"==typeof l||"object"==typeof l&&l instanceof Nr}(u)&&se(u);Ce=je&&this.injectableDefInScope(je)?pf(mv(u),Cp):null,this.records.set(u,Ce)}if(null!=Ce)return this.hydrate(u,Ce)}return(_&ue.Self?Sp():this.parent).get(u,h=_&ue.Optional&&h===jt?null:h)}catch(ie){if("NullInjectorError"===ie.name){if((ie[Gt]=ie[Gt]||[]).unshift(v(u)),M)throw ie;return function dt(l,u,h,_){const M=l[Gt];throw u[Kt]&&M.unshift(u[Kt]),l.message=function Ft(l,u,h,_=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let M=v(u);if(Array.isArray(u))M=u.map(v).join(" -> ");else if("object"==typeof u){let V=[];for(let ie in u)if(u.hasOwnProperty(ie)){let Ce=u[ie];V.push(ie+":"+("string"==typeof Ce?JSON.stringify(Ce):v(Ce)))}M=`{${V.join(", ")}}`}return`${h}${_?"("+_+")":""}[${M}]: ${l.replace(dn,"\n  ")}`}("\n"+l.message,M,h,_),l.ngTokenPath=M,l[Gt]=null,l}(ie,u,"R3InjectorError",this.source)}throw ie}finally{xe(V),xt(M)}}resolveInjectorInitializers(){const u=xt(this),h=xe(void 0);try{const _=this.get(Bh.multi,mn,ue.Self);for(const M of _)M()}finally{xt(u),xe(h)}}toString(){const u=[],h=this.records;for(const _ of h.keys())u.push(v(_));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(u){let h=fu(u=j(u))?u:j(u&&u.provide);const _=function yM(l){return cv(l)?pf(void 0,l.useValue):pf(pv(l),Cp)}(u);if(fu(u)||!0!==u.multi)this.records.get(h);else{let M=this.records.get(h);M||(M=pf(void 0,Cp,!0),M.factory=()=>ze(M.multi),this.records.set(h,M)),h=u,M.multi.push(u)}this.records.set(h,_)}hydrate(u,h){return h.value===Cp&&(h.value=_M,h.value=h.factory()),"object"==typeof h.value&&h.value&&function EM(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(u){if(!u.providedIn)return!1;const h=j(u.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}removeOnDestroy(u){const h=this._onDestroyHooks.indexOf(u);-1!==h&&this._onDestroyHooks.splice(h,1)}}function mv(l){const u=se(l),h=null!==u?u.factory:tt(l);if(null!==h)return h;if(l instanceof Nr)throw new T(204,!1);if(l instanceof Function)return function vM(l){const u=l.length;if(u>0)throw Bl(u,"?"),new T(204,!1);const h=function Q(l){return l&&(l[te]||l[ee])||null}(l);return null!==h?()=>h.factory(l):()=>new l}(l);throw new T(204,!1)}function pv(l,u,h){let _;if(fu(l)){const M=j(l);return tt(M)||mv(M)}if(cv(l))_=()=>j(l.useValue);else if(function zT(l){return!(!l||!l.useFactory)}(l))_=()=>l.useFactory(...ze(l.deps||[]));else if(function dv(l){return!(!l||!l.useExisting)}(l))_=()=>Qe(j(l.useExisting));else{const M=j(l&&(l.useClass||l.provide));if(!function bM(l){return!!l.deps}(l))return tt(M)||mv(M);_=()=>new M(...ze(l.deps))}return _}function pf(l,u,h=!1){return{factory:l,value:u,multi:h?[]:void 0}}function Dp(l,u){for(const h of l)Array.isArray(h)?Dp(h,u):h&&O(h)?Dp(h.\u0275providers,u):u(h)}const $T=new Nr("AppId",{providedIn:"root",factory:()=>CM}),CM="ng",qT=new Nr("Platform Initializer"),gv=new Nr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),DM=new Nr("AnimationModuleType"),xM=new Nr("CSP nonce",{providedIn:"root",factory:()=>ff().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Mp=(l,u)=>null;function bv(l,u){return Mp(l,u)}class Kr{}class _f{}class Ni{resolveComponentFactory(u){throw function nC(l){const u=Error(`No component factory found for ${v(l)}.`);return u.ngComponent=l,u}(u)}}let vf=(()=>{class l{static#e=this.NULL=new Ni}return l})();function iC(){return mu(so(),Zn())}function mu(l,u){return new Ta(Mt(l,u))}let Ta=(()=>{class l{constructor(h){this.nativeElement=h}static#e=this.__NG_ELEMENT_ID__=iC}return l})();function xc(l){return l instanceof Ta?l.nativeElement:l}class Ac{}let rC=(()=>{class l{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function oC(){const l=Zn(),h=wn(so().index,l);return(Pr(h)?h:l)[jn]}()}return l})(),sC=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:()=>null})}return l})();class Tv{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const Cv=new Tv("16.1.7"),Rp={};function yf(l){for(;l;){l[Pi]|=64;const u=af(l);if(wo(l)&&!u)return l;l=u}return null}function Np(l){return l.ngOriginalError}class pu{constructor(){this._console=console}handleError(u){const h=this._findOriginalError(u);this._console.error("ERROR",u),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(u){let h=u&&Np(u);for(;h&&Np(h);)h=Np(h);return h||null}}const xv=new Nr("",{providedIn:"root",factory:()=>!1});function Qc(l){return l.ownerDocument.defaultView}function Mc(l){return l instanceof Function?l():l}class kp extends Po{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(u){this._lView=u}onConsumerDependencyMayHaveChanged(){yf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(u,h,_){const M=gr(this);this.trackingVersion++;try{u(h,_)}finally{gr(M)}}destroy(){this.trackingVersion++}}let vs=null;function Fp(){return vs??=new kp,vs}function Pv(l,u){return l[u]??Fp()}function Ov(l,u){const h=Fp();h.hasReadASignal&&(l[u]=vs,h.lView=l,vs=new kp)}const tr={};function Bp(l){Rv(cr(),Zn(),Yo()+l,!1)}function Rv(l,u,h,_){if(!_)if(3==(3&u[Pi])){const V=l.preOrderCheckHooks;null!==V&&dr(u,V,h)}else{const V=l.preOrderHooks;null!==V&&Ro(u,V,0,h)}_a(h)}function Bv(l,u=null,h=null,_){const M=Uv(l,u,h,_);return M.resolveInjectorInitializers(),M}function Uv(l,u=null,h=null,_,M=new Set){const V=[h||mn,KT(l)];return _=_||("object"==typeof l?void 0:v(l)),new hv(V,u||Sp(),_||null,M)}let Xc=(()=>{class l{static#e=this.THROW_IF_NOT_FOUND=jt;static#t=this.NULL=new HT;static create(h,_){if(Array.isArray(h))return Bv({name:""},_,h,"");{const M=h.name??"";return Bv({name:M},h.parent,h.providers,M)}}static#n=this.\u0275prov=Ne({token:l,providedIn:"any",factory:()=>Qe(VT)});static#i=this.__NG_ELEMENT_ID__=-1}return l})();function xd(l,u=ue.Default){const h=Zn();return null===h?Qe(l,u):Wo(so(),h,j(l),u)}function jv(){throw new Error("invalid")}function bf(l,u,h,_,M,V,ie,Ce,je,_t,Rt){const Zt=u.blueprint.slice();return Zt[lr]=M,Zt[Pi]=140|_,(null!==_t||l&&2048&l[Pi])&&(Zt[Pi]|=2048),or(Zt),Zt[Ji]=Zt[Si]=l,Zt[Xt]=h,Zt[$n]=ie||l&&l[$n],Zt[jn]=Ce||l&&l[jn],Zt[In]=je||l&&l[In]||null,Zt[Er]=V,Zt[Gr]=function WE(){return YE++}(),Zt[Fr]=Rt,Zt[Eo]=_t,Zt[_i]=2==u.type?l[_i]:Zt,Zt}function Hl(l,u,h,_,M){let V=l.data[u];if(null===V)V=Ef(l,u,h,_,M),function So(){return Di.lFrame.inI18n}()&&(V.flags|=32);else if(64&V.type){V.type=h,V.value=_,V.attrs=M;const ie=sc();V.injectorIndex=null===ie?-1:ie.injectorIndex}return Fo(V,!0),V}function Ef(l,u,h,_,M){const V=qd(),ie=ac(),je=l.data[u]=function yC(l,u,h,_,M,V){let ie=u?u.injectorIndex:-1,Ce=0;return ea()&&(Ce|=128),{type:h,index:_,insertBeforeIndex:null,injectorIndex:ie,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ce,providerIndexes:0,value:M,attrs:V,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ie?V:V&&V.parent,h,u,_,M);return null===l.firstChild&&(l.firstChild=je),null!==V&&(ie?null==V.child&&null!==je.parent&&(V.child=je):null===V.next&&(V.next=je,je.prev=V)),je}function Tf(l,u,h,_){if(0===h)return-1;const M=u.length;for(let V=0;V<h;V++)u.push(_),l.blueprint.push(_),l.data.push(null);return M}function Up(l,u,h,_,M){const V=Pv(u,No),ie=Yo(),Ce=2&_;try{if(_a(-1),Ce&&u.length>Gi&&Rv(l,u,Gi,!1),es(Ce?2:0,M),Ce)V.runInContext(h,_,M);else{const _t=gr(null);try{h(_,M)}finally{gr(_t)}}}finally{Ce&&null===u[No]&&Ov(u,No),_a(ie),es(Ce?3:1,M)}}function _u(l,u,h){if(ks(u)){const _=gr(null);try{const V=u.directiveEnd;for(let ie=u.directiveStart;ie<V;ie++){const Ce=l.data[ie];Ce.contentQueries&&Ce.contentQueries(1,h[ie],ie)}}finally{gr(_)}}}function Hh(l,u,h){rc()&&(function jM(l,u,h,_){const M=h.directiveStart,V=h.directiveEnd;fr(h)&&function xC(l,u,h){const _=Mt(u,l),M=Vv(h);let ie=16;h.signals?ie=4096:h.onPush&&(ie=64);const Ce=Md(l,bf(l,M,null,ie,_,u,null,l[$n].rendererFactory.createRenderer(_,h),null,null,null));l[u.index]=Ce}(u,h,l.data[M+h.componentOffset]),l.firstCreatePass||Yc(h,u),Ws(_,u);const ie=h.initialInputs;for(let Ce=M;Ce<V;Ce++){const je=l.data[Ce],_t=zr(u,l,Ce,h);Ws(_t,u),null!==ie&&AC(0,Ce-M,_t,je,0,ie),ki(je)&&(wn(h.index,u)[Xt]=zr(u,l,Ce,h))}}(l,u,h,Mt(h,u)),64==(64&h.flags)&&zh(l,u,h))}function jp(l,u,h=Mt){const _=u.localNames;if(null!==_){let M=u.index+1;for(let V=0;V<_.length;V+=2){const ie=_[V+1],Ce=-1===ie?h(u,l):l[ie];l[M++]=Ce}}}function Vv(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=Kh(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts,l.id):u}function Kh(l,u,h,_,M,V,ie,Ce,je,_t,Rt){const Zt=Gi+_,_n=Zt+M,An=function Vp(l,u){const h=[];for(let _=0;_<u;_++)h.push(_<l?null:tr);return h}(Zt,_n),Kn="function"==typeof _t?_t():_t;return An[di]={type:l,blueprint:An,template:h,queries:null,viewQuery:Ce,declTNode:u,data:An.slice().fill(null,Zt),bindingStartIndex:Zt,expandoStartIndex:_n,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof V?V():V,pipeRegistry:"function"==typeof ie?ie():ie,firstChild:null,schemas:je,consts:Kn,incompleteFirstPass:!1,ssrId:Rt}}let Gp=l=>null;function Wh(l,u,h,_){for(let M in l)if(l.hasOwnProperty(M)){h=null===h?{}:h;const V=l[M];null===_?bC(h,u,M,V):_.hasOwnProperty(M)&&bC(h,u,_[M],V)}return h}function bC(l,u,h,_){l.hasOwnProperty(h)?l[h].push(u,_):l[h]=[u,_]}function La(l,u,h,_,M,V,ie,Ce){const je=Mt(u,h);let Rt,_t=u.inputs;!Ce&&null!=_t&&(Rt=_t[_])?(Kp(l,h,Rt,_,M),fr(u)&&function kM(l,u){const h=wn(u,l);16&h[Pi]||(h[Pi]|=64)}(h,u.index)):3&u.type&&(_=function EC(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(_),M=null!=ie?ie(M,u.value||"",_):M,V.setProperty(je,_,M))}function Gv(l,u,h,_){if(rc()){const M=null===_?null:{"":-1},V=function CC(l,u){const h=l.directiveRegistry;let _=null,M=null;if(h)for(let V=0;V<h.length;V++){const ie=h[V];if(Fn(u,ie.selectors,!1))if(_||(_=[]),ki(ie))if(null!==ie.findHostDirectiveDefs){const Ce=[];M=M||new Map,ie.findHostDirectiveDefs(ie,Ce,M),_.unshift(...Ce,ie),mo(l,u,Ce.length)}else _.unshift(ie),mo(l,u,0);else M=M||new Map,ie.findHostDirectiveDefs?.(ie,_,M),_.push(ie)}return null===_?null:[_,M]}(l,h);let ie,Ce;null===V?ie=Ce=null:[ie,Ce]=V,null!==ie&&TC(l,u,h,ie,M,Ce),M&&function SC(l,u,h){if(u){const _=l.localNames=[];for(let M=0;M<u.length;M+=2){const V=h[u[M+1]];if(null==V)throw new T(-301,!1);_.push(u[M],V)}}}(h,_,M)}h.mergedAttrs=ut(h.mergedAttrs,h.attrs)}function TC(l,u,h,_,M,V){for(let _t=0;_t<_.length;_t++)Wu(Yc(h,u),l,_[_t].type);!function Hp(l,u,h){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+h,l.providerIndexes=u}(h,l.data.length,_.length);for(let _t=0;_t<_.length;_t++){const Rt=_[_t];Rt.providersResolver&&Rt.providersResolver(Rt)}let ie=!1,Ce=!1,je=Tf(l,u,_.length,null);for(let _t=0;_t<_.length;_t++){const Rt=_[_t];h.mergedAttrs=ut(h.mergedAttrs,Rt.hostAttrs),DC(l,h,u,je,Rt),Zh(je,Rt,M),null!==Rt.contentQueries&&(h.flags|=4),(null!==Rt.hostBindings||null!==Rt.hostAttrs||0!==Rt.hostVars)&&(h.flags|=64);const Zt=Rt.type.prototype;!ie&&(Zt.ngOnChanges||Zt.ngOnInit||Zt.ngDoCheck)&&((l.preOrderHooks??=[]).push(h.index),ie=!0),!Ce&&(Zt.ngOnChanges||Zt.ngDoCheck)&&((l.preOrderCheckHooks??=[]).push(h.index),Ce=!0),je++}!function LM(l,u,h){const M=u.directiveEnd,V=l.data,ie=u.attrs,Ce=[];let je=null,_t=null;for(let Rt=u.directiveStart;Rt<M;Rt++){const Zt=V[Rt],_n=h?h.get(Zt):null,Kn=_n?_n.outputs:null;je=Wh(Zt.inputs,Rt,je,_n?_n.inputs:null),_t=Wh(Zt.outputs,Rt,_t,Kn);const ri=null===je||null===ie||Rn(u)?null:MC(je,Rt,ie);Ce.push(ri)}null!==je&&(je.hasOwnProperty("class")&&(u.flags|=8),je.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=Ce,u.inputs=je,u.outputs=_t}(l,h,V)}function zh(l,u,h){const _=h.directiveStart,M=h.directiveEnd,V=h.index,ie=function sl(){return Di.lFrame.currentDirectiveIndex}();try{_a(V);for(let Ce=_;Ce<M;Ce++){const je=l.data[Ce],_t=u[Ce];cc(Ce),(null!==je.hostBindings||0!==je.hostVars||null!==je.hostAttrs)&&Hv(je,_t)}}finally{_a(-1),cc(ie)}}function Hv(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function mo(l,u,h){u.componentOffset=h,(l.components??=[]).push(u.index)}function Zh(l,u,h){if(h){if(u.exportAs)for(let _=0;_<u.exportAs.length;_++)h[u.exportAs[_]]=l;ki(u)&&(h[""]=l)}}function DC(l,u,h,_,M){l.data[_]=M;const V=M.factory||(M.factory=tt(M.type)),ie=new cl(V,ki(M),xd);l.blueprint[_]=ie,h[_]=ie,function BM(l,u,h,_,M){const V=M.hostBindings;if(V){let ie=l.hostBindingOpCodes;null===ie&&(ie=l.hostBindingOpCodes=[]);const Ce=~u.index;(function UM(l){let u=l.length;for(;u>0;){const h=l[--u];if("number"==typeof h&&h<0)return h}return 0})(ie)!=Ce&&ie.push(Ce),ie.push(h,_,V)}}(l,u,_,Tf(l,h,M.hostVars,tr),M)}function Kl(l,u,h,_,M,V){const ie=Mt(l,u);!function $h(l,u,h,_,M,V,ie){if(null==V)l.removeAttribute(u,M,h);else{const Ce=null==ie?S(V):ie(V,_||"",M);l.setAttribute(u,M,Ce,h)}}(u[jn],ie,V,l.value,h,_,M)}function AC(l,u,h,_,M,V){const ie=V[u];if(null!==ie)for(let Ce=0;Ce<ie.length;)Kv(_,h,ie[Ce++],ie[Ce++],ie[Ce++])}function Kv(l,u,h,_,M){const V=gr(null);try{const ie=l.inputTransforms;null!==ie&&ie.hasOwnProperty(_)&&(M=ie[_].call(u,M)),null!==l.setInput?l.setInput(u,M,h,_):u[_]=M}finally{gr(V)}}function MC(l,u,h){let _=null,M=0;for(;M<h.length;){const V=h[M];if(0!==V)if(5!==V){if("number"==typeof V)break;if(l.hasOwnProperty(V)){null===_&&(_=[]);const ie=l[V];for(let Ce=0;Ce<ie.length;Ce+=2)if(ie[Ce]===u){_.push(V,ie[Ce+1],h[M+1]);break}}M+=2}else M+=2;else M+=4}return _}function Yv(l,u,h,_){return[l,!0,!1,u,null,0,_,h,null,null,null]}function ys(l,u){const h=l.contentQueries;if(null!==h)for(let _=0;_<h.length;_+=2){const V=h[_+1];if(-1!==V){const ie=l.data[V];Ia(h[_]),ie.contentQueries(2,u[V],V)}}}function Md(l,u){return l[bi]?l[Oi][Ar]=u:l[bi]=u,l[Oi]=u,u}function Sf(l,u,h){Ia(0);const _=gr(null);try{u(l,h)}finally{gr(_)}}function Df(l){return l[Vr]||(l[Vr]=[])}function xf(l){return l.cleanup||(l.cleanup=[])}function qh(l,u,h){return(null===l||ki(l))&&(h=function Is(l){for(;Array.isArray(l);){if("object"==typeof l[Mo])return l;l=l[lr]}return null}(h[u.index])),h[jn]}function zv(l,u){const h=l[In],_=h?h.get(pu,null):null;_&&_.handleError(u)}function Kp(l,u,h,_,M){for(let V=0;V<h.length;){const ie=h[V++],Ce=h[V++];Kv(l.data[ie],u[ie],_,Ce,M)}}function Yl(l,u,h){const _=we(u,l);!function nT(l,u,h){l.setValue(u,h)}(l[jn],_,h)}function wC(l,u){const h=wn(u,l),_=h[di];!function IC(l,u){for(let h=u.length;h<l.blueprint.length;h++)u.push(l.blueprint[h])}(_,h);const M=h[lr];null!==M&&null===h[Fr]&&(h[Fr]=bv(M,h[In])),wd(_,h,h[Xt])}function wd(l,u,h){Ol(u);try{const _=l.viewQuery;null!==_&&Sf(1,_,h);const M=l.template;null!==M&&Up(l,u,M,1,h),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&ys(l,u),l.staticViewQueries&&Sf(2,l.viewQuery,h);const V=l.components;null!==V&&function Zv(l,u){for(let h=0;h<u.length;h++)wC(l,u[h])}(u,V)}catch(_){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),_}finally{u[Pi]&=-5,Hc()}}let qv=(()=>{class l{constructor(){this.all=new Set,this.queue=new Map}create(h,_,M){const V=typeof Zone>"u"?null:Zone.current,ie=new nc(h,_t=>{this.all.has(_t)&&this.queue.set(_t,V)},M);let Ce;this.all.add(ie),ie.notify();const je=()=>{ie.cleanup(),Ce?.(),this.all.delete(ie),this.queue.delete(ie)};return Ce=_?.onDestroy(je),{destroy:je}}flush(){if(0!==this.queue.size)for(const[h,_]of this.queue)this.queue.delete(h),_?_.run(()=>h.run()):h.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:()=>new l})}return l})();function Qh(l,u,h){let _=h?l.styles:null,M=h?l.classes:null,V=0;if(null!==u)for(let ie=0;ie<u.length;ie++){const Ce=u[ie];"number"==typeof Ce?V=Ce:1==V?M=A(M,Ce):2==V&&(_=A(_,Ce+": "+u[++ie]+";"))}h?l.styles=_:l.stylesWithoutHost=_,h?l.classes=M:l.classesWithoutHost=M}function vu(l,u,h,_,M=!1){for(;null!==h;){const V=u[h.index];if(null!==V&&_.push(_r(V)),hr(V)){for(let Ce=Sr;Ce<V.length;Ce++){const je=V[Ce],_t=je[di].firstChild;null!==_t&&vu(je[di],je,_t,_)}V[Qr]!==V[lr]&&_.push(V[Qr])}const ie=h.type;if(8&ie)vu(l,u,h.child,_);else if(32&ie){const Ce=Y_(h,u);let je;for(;je=Ce();)_.push(je)}else if(16&ie){const Ce=fT(u,h);if(Array.isArray(Ce))_.push(...Ce);else{const je=af(u[_i]);vu(je[di],je,Ce,_,!0)}}h=M?h.projectionNext:h.next}return _}function yu(l,u,h,_=!0){const M=u[$n].rendererFactory;M.begin&&M.begin();try{Wp(l,u,l.template,h)}catch(ie){throw _&&zv(u,ie),ie}finally{M.end&&M.end(),u[$n].effectManager?.flush()}}function Wp(l,u,h,_){const M=u[Pi];if(256!=(256&M)){u[$n].effectManager?.flush(),Ol(u);try{or(u),function Il(l){return Di.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==h&&Up(l,u,h,2,_);const ie=3==(3&M);if(ie){const _t=l.preOrderCheckHooks;null!==_t&&dr(u,_t,null)}else{const _t=l.preOrderHooks;null!==_t&&Ro(u,_t,0,null),Pa(u,0)}if(function RC(l){for(let u=XE(l);null!==u;u=eT(u)){if(!u[Ds])continue;const h=u[$o];for(let _=0;_<h.length;_++){Wi(h[_])}}}(u),bu(u,2),null!==l.contentQueries&&ys(l,u),ie){const _t=l.contentCheckHooks;null!==_t&&dr(u,_t)}else{const _t=l.contentHooks;null!==_t&&Ro(u,_t,1),Pa(u,1)}!function _C(l,u){const h=l.hostBindingOpCodes;if(null===h)return;const _=Pv(u,Jr);try{for(let M=0;M<h.length;M++){const V=h[M];if(V<0)_a(~V);else{const ie=V,Ce=h[++M],je=h[++M];ol(Ce,ie),_.runInContext(je,2,u[ie])}}}finally{null===u[Jr]&&Ov(u,Jr),_a(-1)}}(l,u);const Ce=l.components;null!==Ce&&Jv(u,Ce,0);const je=l.viewQuery;if(null!==je&&Sf(2,je,_),ie){const _t=l.viewCheckHooks;null!==_t&&dr(u,_t)}else{const _t=l.viewHooks;null!==_t&&Ro(u,_t,2),Pa(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),u[Pi]&=-73,Or(u)}finally{Hc()}}}function bu(l,u){for(let h=XE(l);null!==h;h=eT(h))for(let _=Sr;_<h.length;_++)Xh(h[_],u)}function zp(l,u,h){Xh(wn(u,l),h)}function Xh(l,u){if(!function vi(l){return 128==(128&l[Pi])}(l))return;const h=l[di];if(80&l[Pi]&&0===u||1024&l[Pi]||2===u)Wp(h,l,h.template,l[Xt]);else if(l[Ao]>0){bu(l,1);const M=l[di].components;null!==M&&Jv(l,M,1)}}function Jv(l,u,h){for(let _=0;_<u.length;_++)zp(l,u[_],h)}class Id{get rootNodes(){const u=this._lView,h=u[di];return vu(h,u,h.firstChild,[])}constructor(u,h){this._lView=u,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(u){this._lView[Xt]=u}get destroyed(){return 256==(256&this._lView[Pi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[Ji];if(hr(u)){const h=u[8],_=h?h.indexOf(this):-1;_>-1&&(yd(u,_),Zc(h,_))}this._attachedToViewContainer=!1}df(this._lView[di],this._lView)}onDestroy(u){!function br(l,u){if(256==(256&l[Pi]))throw new T(911,!1);null===l[Tr]&&(l[Tr]=[]),l[Tr].push(u)}(this._lView,u)}markForCheck(){yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pi]&=-129}reattach(){this._lView[Pi]|=128}detectChanges(){yu(this._lView[di],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dp(l,u){wh(l,u,u[jn],2,null,null)}(this._lView[di],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=u}}class Zp extends Id{constructor(u){super(u),this._view=u}detectChanges(){const u=this._view;yu(u[di],u,u[Xt],!1)}checkNoChanges(){}get context(){return null}}class em extends vf{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=Ai(u);return new Af(h,this.ngModule)}}function tm(l){const u=[];for(let h in l)l.hasOwnProperty(h)&&u.push({propName:l[h],templateName:h});return u}class LC{constructor(u,h){this.injector=u,this.parentInjector=h}get(u,h,_){_=Ye(_);const M=this.injector.get(u,Rp,_);return M!==Rp||h===Rp?M:this.parentInjector.get(u,h,_)}}class Af extends _f{get inputs(){const u=this.componentDef,h=u.inputTransforms,_=tm(u.inputs);if(null!==h)for(const M of _)h.hasOwnProperty(M.propName)&&(M.transform=h[M.propName]);return _}get outputs(){return tm(this.componentDef.outputs)}constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function kt(l){return l.map(gt).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!h}create(u,h,_,M){let V=(M=M||this.ngModule)instanceof Sd?M:M?.injector;V&&null!==this.componentDef.getStandaloneInjector&&(V=this.componentDef.getStandaloneInjector(V)||V);const ie=V?new LC(u,V):u,Ce=ie.get(Ac,null);if(null===Ce)throw new T(407,!1);const Rt={rendererFactory:Ce,sanitizer:ie.get(sC,null),effectManager:ie.get(qv,null)},Zt=Ce.createRenderer(null,this.componentDef),_n=this.componentDef.selectors[0][0]||"div",An=_?function Cf(l,u,h,_){const V=_.get(xv,!1)||h===Qt.ShadowDom,ie=l.selectRootElement(u,V);return function Ad(l){Gp(l)}(ie),ie}(Zt,_,this.componentDef.encapsulation,ie):$r(Zt,_n,function NC(l){const u=l.toLowerCase();return"svg"===u?rl:"math"===u?"math":null}(_n)),gi=this.componentDef.signals?4608:this.componentDef.onPush?576:528,wi=Kh(0,null,null,1,0,null,null,null,null,null,null),qn=bf(null,wi,null,gi,null,null,Rt,Zt,ie,null,null);let $i,ur;Ol(qn);try{const Cr=this.componentDef;let $s,Zm=null;Cr.findHostDirectiveDefs?($s=[],Zm=new Map,Cr.findHostDirectiveDefs(Cr,$s,Zm),$s.push(Cr)):$s=[Cr];const rA=function Xv(l,u){const h=l[di],_=Gi;return l[_]=u,Hl(h,_,2,"#host",null)}(qn,An),yE=function $p(l,u,h,_,M,V,ie){const Ce=M[di];!function qp(l,u,h,_){for(const M of l)u.mergedAttrs=ut(u.mergedAttrs,M.hostAttrs);null!==u.mergedAttrs&&(Qh(u,u.mergedAttrs,!0),null!==h&&gT(_,h,u))}(_,l,u,ie);let je=null;null!==u&&(je=bv(u,M[In]));const _t=V.rendererFactory.createRenderer(u,h);let Rt=16;h.signals?Rt=4096:h.onPush&&(Rt=64);const Zt=bf(M,Vv(h),null,Rt,M[l.index],l,V,_t,null,null,je);return Ce.firstCreatePass&&mo(Ce,l,_.length-1),Md(M,Zt),M[l.index]=Zt}(rA,An,Cr,$s,qn,Rt,Zt);ur=At(wi,Gi),An&&function ey(l,u,h,_){if(_)at(l,h,["ng-version",Cv.full]);else{const{attrs:M,classes:V}=function cn(l){const u=[],h=[];let _=1,M=2;for(;_<l.length;){let V=l[_];if("string"==typeof V)2===M?""!==V&&u.push(V,l[++_]):8===M&&h.push(V);else{if(!on(M))break;M=V}_++}return{attrs:u,classes:h}}(u.selectors[0]);M&&at(l,h,M),V&&V.length>0&&J_(l,h,V.join(" "))}}(Zt,Cr,An,_),void 0!==h&&function kC(l,u,h){const _=l.projection=[];for(let M=0;M<u.length;M++){const V=h[M];_.push(null!=V?Array.from(V):null)}}(ur,this.ngContentSelectors,h),$i=function Jp(l,u,h,_,M,V){const ie=so(),Ce=M[di],je=Mt(ie,M);TC(Ce,M,ie,h,null,_);for(let Rt=0;Rt<h.length;Rt++)Ws(zr(M,Ce,ie.directiveStart+Rt,ie),M);zh(Ce,M,ie),je&&Ws(je,M);const _t=zr(M,Ce,ie.directiveStart+ie.componentOffset,ie);if(l[Xt]=M[Xt]=_t,null!==V)for(const Rt of V)Rt(_t,u);return _u(Ce,ie,l),_t}(yE,Cr,$s,Zm,qn,[ty]),wd(wi,qn,null)}finally{Hc()}return new nm(this.componentType,$i,mu(ur,qn),qn,ur)}}class nm extends Kr{constructor(u,h,_,M,V){super(),this.location=_,this._rootLView=M,this._tNode=V,this.previousInputValues=null,this.instance=h,this.hostView=this.changeDetectorRef=new Zp(M),this.componentType=u}setInput(u,h){const _=this._tNode.inputs;let M;if(null!==_&&(M=_[u])){if(this.previousInputValues??=new Map,this.previousInputValues.has(u)&&Object.is(this.previousInputValues.get(u),h))return;const V=this._rootLView;Kp(V[di],V,M,u,h),this.previousInputValues.set(u,h),yf(wn(this._tNode.index,V))}}get injector(){return new ul(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function ty(){const l=so();Ci(Zn()[di],l)}function im(l){let u=function Pd(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),h=!0;const _=[l];for(;u;){let M;if(ki(l))M=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new T(903,!1);M=u.\u0275dir}if(M){if(h){_.push(M);const ie=l;ie.inputs=rm(l.inputs),ie.inputTransforms=rm(l.inputTransforms),ie.declaredInputs=rm(l.declaredInputs),ie.outputs=rm(l.outputs);const Ce=M.hostBindings;Ce&&jC(l,Ce);const je=M.viewQuery,_t=M.contentQueries;if(je&&BC(l,je),_t&&UC(l,_t),g(l.inputs,M.inputs),g(l.declaredInputs,M.declaredInputs),g(l.outputs,M.outputs),null!==M.inputTransforms&&(null===ie.inputTransforms&&(ie.inputTransforms={}),g(ie.inputTransforms,M.inputTransforms)),ki(M)&&M.data.animation){const Rt=l.data;Rt.animation=(Rt.animation||[]).concat(M.data.animation)}}const V=M.features;if(V)for(let ie=0;ie<V.length;ie++){const Ce=V[ie];Ce&&Ce.ngInherit&&Ce(l),Ce===im&&(h=!1)}}u=Object.getPrototypeOf(u)}!function FC(l){let u=0,h=null;for(let _=l.length-1;_>=0;_--){const M=l[_];M.hostVars=u+=M.hostVars,M.hostAttrs=ut(M.hostAttrs,h=ut(h,M.hostAttrs))}}(_)}function rm(l){return l===ln?{}:l===mn?[]:l}function BC(l,u){const h=l.viewQuery;l.viewQuery=h?(_,M)=>{u(_,M),h(_,M)}:u}function UC(l,u){const h=l.contentQueries;l.contentQueries=h?(_,M,V)=>{u(_,M,V),h(_,M,V)}:u}function jC(l,u){const h=l.hostBindings;l.hostBindings=h?(_,M)=>{u(_,M),h(_,M)}:u}function ny(l){return u=>{u.findHostDirectiveDefs=Mf,u.hostDirectives=(Array.isArray(l)?l:l()).map(h=>"function"==typeof h?{directive:j(h),inputs:ln,outputs:ln}:{directive:j(h.directive),inputs:Qp(h.inputs),outputs:Qp(h.outputs)})}}function Mf(l,u,h){if(null!==l.hostDirectives)for(const _ of l.hostDirectives){const M=pr(_.directive);iy(M.declaredInputs,_.inputs),Mf(M,u,h),h.set(M,_),u.push(M)}}function Qp(l){if(void 0===l||0===l.length)return ln;const u={};for(let h=0;h<l.length;h+=2)u[l[h]]=l[h+1];return u}function iy(l,u){for(const h in u)u.hasOwnProperty(h)&&(l[u[h]]=l[h])}function sy(l){const u=l.inputConfig,h={};for(const _ in u)if(u.hasOwnProperty(_)){const M=u[_];Array.isArray(M)&&M[2]&&(h[_]=M[2])}l.inputTransforms=h}function wf(l){return!!om(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function om(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function wc(l,u,h){return l[u]=h}function ca(l,u,h){return!Object.is(l[u],h)&&(l[u]=h,!0)}function Eu(l,u,h,_){const M=ca(l,u,h);return ca(l,u+1,_)||M}function dy(l,u,h,_){const M=Zn();return ca(M,Ur(),u)&&(cr(),Kl(Ee(),M,l,u,h,_)),dy}function Od(l,u,h,_){return ca(l,Ur(),h)?u+S(h)+_:tr}function Su(l,u,h,_,M,V){const Ce=Eu(l,function Hs(){return Di.lFrame.bindingIndex}(),h,M);return ga(2),Ce?u+S(h)+_+S(M)+V:tr}function yy(l,u,h,_,M,V,ie,Ce){const je=Zn(),_t=cr(),Rt=l+Gi,Zt=_t.firstCreatePass?function Ff(l,u,h,_,M,V,ie,Ce,je){const _t=u.consts,Rt=Hl(u,l,4,ie||null,nr(_t,Ce));Gv(u,h,Rt,nr(_t,je)),Ci(u,Rt);const Zt=Rt.tView=Kh(2,Rt,_,M,V,u.directiveRegistry,u.pipeRegistry,null,u.schemas,_t,null);return null!==u.queries&&(u.queries.template(u,Rt),Zt.queries=u.queries.embeddedTView(Rt)),Rt}(Rt,_t,je,u,h,_,M,V,ie):_t.data[Rt];Fo(Zt,!1);const _n=ss(_t,je,Zt,l);bn()&&mp(_t,je,_n,Zt),Ws(_n,je),Md(je,je[Rt]=Yv(_n,je,_n,Zt)),io(Zt)&&Hh(_t,je,Zt),null!=ie&&jp(je,Zt,Ce)}let ss=function as(l,u,h,_){return Wn(!0),u[jn].createComment("")};function ig(l){return tn(function Va(){return Di.lFrame.contextLView}(),Gi+l)}function jf(l,u,h){const _=Zn();return ca(_,Ur(),u)&&La(cr(),Ee(),_,l,u,_[jn],h,!1),jf}function rg(l,u,h,_,M){const ie=M?"class":"style";Kp(l,h,u.inputs[ie],ie,_)}function Ld(l,u,h,_){const M=Zn(),V=cr(),ie=Gi+l,Ce=M[jn],je=V.firstCreatePass?function oS(l,u,h,_,M,V){const ie=u.consts,je=Hl(u,l,2,_,nr(ie,M));return Gv(u,h,je,nr(ie,V)),null!==je.attrs&&Qh(je,je.attrs,!1),null!==je.mergedAttrs&&Qh(je,je.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,je),je}(ie,V,M,u,h,_):V.data[ie],_t=by(V,M,je,Ce,u,l);M[ie]=_t;const Rt=io(je);return Fo(je,!0),gT(Ce,_t,je),32!=(32&je.flags)&&bn()&&mp(V,M,_t,je),0===function eo(){return Di.lFrame.elementDepthCount}()&&Ws(_t,M),function Gs(){Di.lFrame.elementDepthCount++}(),Rt&&(Hh(V,M,je),_u(V,je,M)),null!==_&&jp(M,je),Ld}function Rc(){let l=so();ac()?Hr():(l=l.parent,Fo(l,!1));const u=l;(function Bc(l){return Di.skipHydrationRootTNode===l})(u)&&function oc(){Di.skipHydrationRootTNode=null}(),function Ps(){Di.lFrame.elementDepthCount--}();const h=cr();return h.firstCreatePass&&(Ci(h,l),ks(l)&&h.queries.elementEnd(l)),null!=u.classesWithoutHost&&function Hu(l){return 0!=(8&l.flags)}(u)&&rg(h,u,Zn(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function Kc(l){return 0!=(16&l.flags)}(u)&&rg(h,u,Zn(),u.stylesWithoutHost,!1),Rc}function og(l,u,h,_){return Ld(l,u,h,_),Rc(),og}let by=(l,u,h,_,M,V)=>(Wn(!0),$r(_,M,function Vt(){return Di.lFrame.currentNamespace}()));function am(l,u,h){const _=Zn(),M=cr(),V=l+Gi,ie=M.firstCreatePass?function Ey(l,u,h,_,M){const V=u.consts,ie=nr(V,_),Ce=Hl(u,l,8,"ng-container",ie);return null!==ie&&Qh(Ce,ie,!0),Gv(u,h,Ce,nr(V,M)),null!==u.queries&&u.queries.elementStart(u,Ce),Ce}(V,M,_,u,h):M.data[V];Fo(ie,!0);const Ce=Ty(M,_,ie,l);return _[V]=Ce,bn()&&mp(M,_,Ce,ie),Ws(Ce,_),io(ie)&&(Hh(M,_,ie),_u(M,ie,_)),null!=h&&jp(_,ie),am}function lm(){let l=so();const u=cr();return ac()?Hr():(l=l.parent,Fo(l,!1)),u.firstCreatePass&&(Ci(u,l),ks(l)&&u.queries.elementEnd(l)),lm}function cm(l,u,h){return am(l,u,h),lm(),cm}let Ty=(l,u,h,_)=>(Wn(!0),Na(u[jn],""));function Zs(){return Zn()}function sg(l){return!!l&&"function"==typeof l.then}function ag(l){return!!l&&"function"==typeof l.subscribe}function lg(l,u,h,_){const M=Zn(),V=cr(),ie=so();return Sy(V,M,M[jn],ie,l,u,_),lg}function cg(l,u){const h=so(),_=Zn(),M=cr();return Sy(M,_,qh(al(M.data),h,_),h,l,u),cg}function Sy(l,u,h,_,M,V,ie){const Ce=io(_),_t=l.firstCreatePass&&xf(l),Rt=u[Xt],Zt=Df(u);let _n=!0;if(3&_.type||ie){const ri=Mt(_,u),gi=ie?ie(ri):ri,wi=Zt.length,qn=ie?ur=>ie(_r(ur[_.index])):_.index;let $i=null;if(!ie&&Ce&&($i=function Cy(l,u,h,_){const M=l.cleanup;if(null!=M)for(let V=0;V<M.length-1;V+=2){const ie=M[V];if(ie===h&&M[V+1]===_){const Ce=u[Vr],je=M[V+2];return Ce.length>je?Ce[je]:null}"string"==typeof ie&&(V+=2)}return null}(l,u,M,_.index)),null!==$i)($i.__ngLastListenerFn__||$i).__ngNextListenerFn__=V,$i.__ngLastListenerFn__=V,_n=!1;else{V=dm(_,u,Rt,V,!1);const ur=h.listen(gi,M,V);Zt.push(V,ur),_t&&_t.push(M,qn,wi,wi+1)}}else V=dm(_,u,Rt,V,!1);const An=_.outputs;let Kn;if(_n&&null!==An&&(Kn=An[M])){const ri=Kn.length;if(ri)for(let gi=0;gi<ri;gi+=2){const Cr=u[Kn[gi]][Kn[gi+1]].subscribe(V),$s=Zt.length;Zt.push(V,Cr),_t&&_t.push(M,_.index,$s,-($s+1))}}}function Dy(l,u,h,_){try{return es(6,u,h),!1!==h(_)}catch(M){return zv(l,M),!1}finally{es(7,u,h)}}function dm(l,u,h,_,M){return function V(ie){if(ie===Function)return _;yf(l.componentOffset>-1?wn(l.index,u):u);let je=Dy(u,h,_,ie),_t=V.__ngNextListenerFn__;for(;_t;)je=Dy(u,h,_t,ie)&&je,_t=_t.__ngNextListenerFn__;return M&&!1===je&&ie.preventDefault(),je}}function Vf(l=1){return function cd(l){return(Di.lFrame.contextLView=function Jd(l,u){for(;l>0;)u=u[Si],l--;return u}(l,Di.lFrame.contextLView))[Xt]}(l)}function ka(l,u){let h=null;const _=function Xn(l){const u=l.attrs;if(null!=u){const h=u.indexOf(5);if(!(1&h))return u[h+1]}return null}(l);for(let M=0;M<u.length;M++){const V=u[M];if("*"!==V){if(null===_?Fn(l,V,!0):be(_,V))return M}else h=M}return h}function xy(l){const u=Zn()[_i][Er];if(!u.projection){const _=u.projection=Bl(l?l.length:1,null),M=_.slice();let V=u.child;for(;null!==V;){const ie=l?ka(V,l):0;null!==ie&&(M[ie]?M[ie].projectionNext=V:_[ie]=V,M[ie]=V),V=V.next}}}function to(l,u=0,h){const _=Zn(),M=cr(),V=Hl(M,Gi+l,16,null,h||null);null===V.projection&&(V.projection=u),Hr(),(!_[Fr]||ea())&&32!=(32&V.flags)&&function lM(l,u,h){mT(u[jn],0,u,h,fp(l,h,u),hp(h.parent||u[Er],h,u))}(M,_,V)}function dg(l,u,h){return um(l,"",u,"",h),dg}function um(l,u,h,_,M){const V=Zn(),ie=Od(V,u,h,_);return ie!==tr&&La(cr(),Ee(),V,l,ie,V[jn],M,!1),um}function ug(l,u,h,_,M,V,ie){const Ce=Zn(),je=Su(Ce,u,h,_,M,V);return je!==tr&&La(cr(),Ee(),Ce,l,je,Ce[jn],ie,!1),ug}function hm(l,u){return l<<17|u<<2}function zl(l){return l>>17&32767}function fg(l){return 2|l}function kd(l){return(131068&l)>>2}function hg(l,u){return-131069&l|u<<2}function mg(l){return 1|l}function Ry(l,u,h,_,M){const V=l[h+1],ie=null===u;let Ce=_?zl(V):kd(V),je=!1;for(;0!==Ce&&(!1===je||ie);){const Rt=l[Ce+1];Ny(l[Ce],u)&&(je=!0,l[Ce+1]=_?mg(Rt):fg(Rt)),Ce=_?zl(Rt):kd(Rt)}je&&(l[h+1]=_?fg(V):mg(V))}function Ny(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&Yt(l,u)>=0}const ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ly(l){return l.substring(ls.key,ls.keyEnd)}function ky(l,u){const h=ls.textEnd;return h===u?-1:(u=ls.keyEnd=function gS(l,u,h){for(;u<h&&l.charCodeAt(u)>32;)u++;return u}(l,ls.key=u,h),Mu(l,u,h))}function Mu(l,u,h){for(;u<h&&l.charCodeAt(u)<=32;)u++;return u}function _g(l,u,h){return vl(l,u,h,!1),_g}function mm(l,u){return vl(l,u,null,!0),mm}function By(l){yl(DS,Zl,l,!0)}function Zl(l,u){for(let h=function mS(l){return function Fd(l){ls.key=0,ls.keyEnd=0,ls.value=0,ls.valueEnd=0,ls.textEnd=l.length}(l),ky(l,Mu(l,0,ls.textEnd))}(u);h>=0;h=ky(u,h))Ze(l,Ly(u),!0)}function vl(l,u,h,_){const M=Zn(),V=cr(),ie=ga(2);V.firstUpdatePass&&jy(V,l,ie,_),u!==tr&&ca(M,ie,u)&&Gy(V,V.data[Yo()],M,M[jn],l,M[ie+1]=function AS(l,u){return null==l||""===l||("string"==typeof u?l+=u:"object"==typeof l&&(l=v(Dc(l)))),l}(u,h),_,ie)}function yl(l,u,h,_){const M=cr(),V=ga(2);M.firstUpdatePass&&jy(M,null,V,_);const ie=Zn();if(h!==tr&&ca(ie,V,h)){const Ce=M.data[Yo()];if(Ky(Ce,_)&&!Uy(M,V)){let je=_?Ce.classesWithoutHost:Ce.stylesWithoutHost;null!==je&&(h=A(je,h||"")),rg(M,Ce,ie,h,_)}else!function xS(l,u,h,_,M,V,ie,Ce){M===tr&&(M=mn);let je=0,_t=0,Rt=0<M.length?M[0]:null,Zt=0<V.length?V[0]:null;for(;null!==Rt||null!==Zt;){const _n=je<M.length?M[je+1]:void 0,An=_t<V.length?V[_t+1]:void 0;let ri,Kn=null;Rt===Zt?(je+=2,_t+=2,_n!==An&&(Kn=Zt,ri=An)):null===Zt||null!==Rt&&Rt<Zt?(je+=2,Kn=Rt):(_t+=2,Kn=Zt,ri=An),null!==Kn&&Gy(l,u,h,_,Kn,ri,ie,Ce),Rt=je<M.length?M[je]:null,Zt=_t<V.length?V[_t]:null}}(M,Ce,ie,ie[jn],ie[V+1],ie[V+1]=function SS(l,u,h){if(null==h||""===h)return mn;const _=[],M=Dc(h);if(Array.isArray(M))for(let V=0;V<M.length;V++)l(_,M[V],!0);else if("object"==typeof M)for(const V in M)M.hasOwnProperty(V)&&l(_,V,M[V]);else"string"==typeof M&&u(_,M);return _}(l,u,h),_,V)}}function Uy(l,u){return u>=l.expandoStartIndex}function jy(l,u,h,_){const M=l.data;if(null===M[h+1]){const V=M[Yo()],ie=Uy(l,h);Ky(V,_)&&null===u&&!ie&&(u=!1),u=function bS(l,u,h,_){const M=al(l);let V=_?u.residualClasses:u.residualStyles;if(null===M)0===(_?u.classBindings:u.styleBindings)&&(h=Hf(h=vg(null,l,u,h,_),u.attrs,_),V=null);else{const ie=u.directiveStylingLast;if(-1===ie||l[ie]!==M)if(h=vg(M,l,u,h,_),null===V){let je=function ES(l,u,h){const _=h?u.classBindings:u.styleBindings;if(0!==kd(_))return l[zl(_)]}(l,u,_);void 0!==je&&Array.isArray(je)&&(je=vg(null,l,u,je[1],_),je=Hf(je,u.attrs,_),function TS(l,u,h,_){l[zl(h?u.classBindings:u.styleBindings)]=_}(l,u,_,je))}else V=function CS(l,u,h){let _;const M=u.directiveEnd;for(let V=1+u.directiveStylingLast;V<M;V++)_=Hf(_,l[V].hostAttrs,h);return Hf(_,u.attrs,h)}(l,u,_)}return void 0!==V&&(_?u.residualClasses=V:u.residualStyles=V),h}(M,V,u,_),function uS(l,u,h,_,M,V){let ie=V?u.classBindings:u.styleBindings,Ce=zl(ie),je=kd(ie);l[_]=h;let Rt,_t=!1;if(Array.isArray(h)?(Rt=h[1],(null===Rt||Yt(h,Rt)>0)&&(_t=!0)):Rt=h,M)if(0!==je){const _n=zl(l[Ce+1]);l[_+1]=hm(_n,Ce),0!==_n&&(l[_n+1]=hg(l[_n+1],_)),l[Ce+1]=function Oy(l,u){return 131071&l|u<<17}(l[Ce+1],_)}else l[_+1]=hm(Ce,0),0!==Ce&&(l[Ce+1]=hg(l[Ce+1],_)),Ce=_;else l[_+1]=hm(je,0),0===Ce?Ce=_:l[je+1]=hg(l[je+1],_),je=_;_t&&(l[_+1]=fg(l[_+1])),Ry(l,Rt,_,!0),Ry(l,Rt,_,!1),function fS(l,u,h,_,M){const V=M?l.residualClasses:l.residualStyles;null!=V&&"string"==typeof u&&Yt(V,u)>=0&&(h[_+1]=mg(h[_+1]))}(u,Rt,l,_,V),ie=hm(Ce,je),V?u.classBindings=ie:u.styleBindings=ie}(M,V,u,h,ie,_)}}function vg(l,u,h,_,M){let V=null;const ie=h.directiveEnd;let Ce=h.directiveStylingLast;for(-1===Ce?Ce=h.directiveStart:Ce++;Ce<ie&&(V=u[Ce],_=Hf(_,V.hostAttrs,M),V!==l);)Ce++;return null!==l&&(h.directiveStylingLast=Ce),_}function Hf(l,u,h){const _=h?1:2;let M=-1;if(null!==u)for(let V=0;V<u.length;V++){const ie=u[V];"number"==typeof ie?M=ie:M===_&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Ze(l,ie,!!h||u[++V]))}return void 0===l?null:l}function DS(l,u,h){const _=String(u);""!==_&&!_.includes(" ")&&Ze(l,_,h)}function Gy(l,u,h,_,M,V,ie,Ce){if(!(3&u.type))return;const je=l.data,_t=je[Ce+1],Rt=function cS(l){return 1==(1&l)}(_t)?Hy(je,u,h,M,kd(_t),ie):void 0;pm(Rt)||(pm(V)||function Gf(l){return 2==(2&l)}(_t)&&(V=Hy(je,null,h,M,Ce,ie)),function dM(l,u,h,_,M){if(u)M?l.addClass(h,_):l.removeClass(h,_);else{let V=-1===_.indexOf("-")?void 0:Ch.DashCase;null==M?l.removeStyle(h,_,V):("string"==typeof M&&M.endsWith("!important")&&(M=M.slice(0,-10),V|=Ch.Important),l.setStyle(h,_,M,V))}}(_,ie,we(Yo(),h),M,V))}function Hy(l,u,h,_,M,V){const ie=null===u;let Ce;for(;M>0;){const je=l[M],_t=Array.isArray(je),Rt=_t?je[1]:je,Zt=null===Rt;let _n=h[M+1];_n===tr&&(_n=Zt?mn:void 0);let An=Zt?Ct(_n,_):Rt===_?_n:void 0;if(_t&&!pm(An)&&(An=Ct(je,_)),pm(An)&&(Ce=An,ie))return Ce;const Kn=l[M+1];M=ie?zl(Kn):kd(Kn)}if(null!==u){let je=V?u.residualClasses:u.residualStyles;null!=je&&(Ce=Ct(je,_))}return Ce}function pm(l){return void 0!==l}function Ky(l,u){return 0!=(l.flags&(u?8:16))}function Yy(l,u=""){const h=Zn(),_=cr(),M=l+Gi,V=_.firstCreatePass?Hl(_,M,1,u,null):_.data[M],ie=Wy(_,h,V,u,l);h[M]=ie,bn()&&mp(_,h,ie,V),Fo(V,!1)}let Wy=(l,u,h,_,M)=>(Wn(!0),cf(u[jn],_));function yg(l){return gm("",l,""),yg}function gm(l,u,h){const _=Zn(),M=Od(_,l,u,h);return M!==tr&&Yl(_,Yo(),M),gm}function zy(l,u,h,_,M){const V=Zn(),ie=Su(V,l,u,h,_,M);return ie!==tr&&Yl(V,Yo(),ie),zy}function e0(l,u,h){yl(Ze,Zl,Od(Zn(),l,u,h),!0)}function bg(l,u,h){const _=Zn();return ca(_,Ur(),u)&&La(cr(),Ee(),_,l,u,_[jn],h,!0),bg}function Eg(l,u,h){const _=Zn();if(ca(_,Ur(),u)){const V=cr(),ie=Ee();La(V,ie,_,l,u,qh(al(V.data),ie,_),h,!0)}return Eg}const Bd=void 0;var YS=["en",[["a","p"],["AM","PM"],Bd],[["AM","PM"],Bd,Bd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bd,"{1} 'at' {0}",Bd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KS(l){const h=Math.floor(Math.abs(l)),_=l.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===_?1:5}];let Iu={};function Tg(l){const u=function zS(l){return l.toLowerCase().replace(/_/g,"-")}(l);let h=Sg(u);if(h)return h;const _=u.split("-")[0];if(h=Sg(_),h)return h;if("en"===_)return YS;throw new T(701,!1)}function Cg(l){return Tg(l)[Pu.PluralCase]}function Sg(l){return l in Iu||(Iu[l]=st.ng&&st.ng.common&&st.ng.common.locales&&st.ng.common.locales[l]),Iu[l]}var Pu=function(l){return l[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l}(Pu||{});const Ou="en-US",vm={marker:"element"},ym={marker:"ICU"};var Ca=function(l){return l[l.SHIFT=2]="SHIFT",l[l.APPEND_EAGERLY=1]="APPEND_EAGERLY",l[l.COMMENT=2]="COMMENT",l}(Ca||{});let h0=Ou;function m0(l){(function ke(l,u){null==l&&Ie(u,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&(h0=l.toLowerCase().replace(/_/g,"-"))}function p0(l,u,h){const _=u.insertBeforeIndex,M=Array.isArray(_)?_[0]:_;return null===M?cT(l,0,h):_r(h[M])}function g0(l,u,h,_,M){const V=u.insertBeforeIndex;if(Array.isArray(V)){let ie=_,Ce=null;if(3&u.type||(Ce=ie,ie=M),null!==ie&&-1===u.componentOffset)for(let je=1;je<V.length;je++)Za(l,ie,h[V[je]],Ce,!1)}}function _0(l,u){if(l.push(u),l.length>1)for(let h=l.length-2;h>=0;h--){const _=l[h];v0(_)||QS(_,u)&&null===XS(_)&&eD(_,u.index)}}function v0(l){return!(64&l.type)}function QS(l,u){return v0(u)||l.index>u.index}function XS(l){const u=l.insertBeforeIndex;return Array.isArray(u)?u[0]:u}function eD(l,u){const h=l.insertBeforeIndex;Array.isArray(h)?h[0]=u:(uT(p0,g0),l.insertBeforeIndex=u)}function iD(l,u,h){const _=Ef(l,h,64,null,null);return _0(u,_),_}function lD(){const l=[];let h,_,u=-1;function V(Ce,je){u=0;const _t=function bm(l,u){const h=u[l.currentCaseLViewIndex];return null===h?h:h<0?~h:h}(Ce,je);_=null!==_t?Ce.remove[_t]:mn}function ie(){if(u<_.length){const Ce=_[u++];return Ce>0?h[Ce]:(l.push(u,_),V(h[di].data[~Ce],h),ie())}return 0===l.length?null:(_=l.pop(),u=l.pop(),ie())}return function M(Ce,je){for(h=je;l.length;)l.pop();return V(Ce.value,je),ie}}const Em=/\ufffd(\d+):?\d*\ufffd/gi,dD=/\ufffd(\d+)\ufffd/,A0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Wf="\ufffd",uD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,fD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,hD=/\uE500/g;function Tm(l,u,h,_,M,V,ie){const Ce=Tf(l,_,1,null);let je=Ce<<Ca.SHIFT,_t=sc();u===_t&&(_t=null),null===_t&&(je|=Ca.APPEND_EAGERLY),ie&&(je|=Ca.COMMENT,function oM(l){void 0===K_&&(K_=l())}(lD)),M.push(je,null===V?"":V);const Rt=Ef(l,Ce,ie?32:1,null===V?"":V,null);_0(h,Rt);const Zt=Rt.index;return Fo(Rt,!1),null!==_t&&u!==_t&&function nD(l,u){let h=l.insertBeforeIndex;null===h?(uT(p0,g0),h=l.insertBeforeIndex=[null,u]):(function oe(l,u,h){l!=u&&Ie(h,l,u,"==")}(Array.isArray(h),!0,"Expecting array here"),h.push(u))}(_t,Zt),Rt}function gD(l,u,h,_,M,V,ie){const Ce=ie.match(Em),je=Tm(l,u,h,V,_,Ce?null:ie,!1);Ce&&zf(M,ie,je.index,null,0,null)}function zf(l,u,h,_,M,V){const ie=l.length,Ce=ie+1;l.push(null,null);const je=ie+2,_t=u.split(Em);let Rt=0;for(let Zt=0;Zt<_t.length;Zt++){const _n=_t[Zt];if(1&Zt){const An=M+parseInt(_n,10);l.push(-1-An),Rt|=w0(An)}else""!==_n&&l.push(_n)}return l.push(h<<2|(_?1:0)),_&&l.push(_,V),l[ie]=Rt,l[Ce]=l.length-je,Rt}function w0(l){return 1<<Math.min(l,31)}function xg(l){let u,V,h="",_=0,M=!1;for(;null!==(u=uD.exec(l));)M?u[0]===`${Wf}/*${V}${Wf}`&&(_=u.index,M=!1):(h+=l.substring(_,u.index+u[0].length),V=u[1],M=!0);return h+=l.slice(_),h}function I0(l,u,h,_,M,V){let ie=0;const Ce={type:M.type,currentCaseLViewIndex:Tf(l,u,1,null),anchorIdx:V,cases:[],create:[],remove:[],update:[]};(function TD(l,u,h){l.push(w0(u.mainBinding),2,-1-u.mainBinding,h<<2|2)})(h,M,V),function tD(l,u,h){const _=l.data[u];null===_?l.data[u]=h:_.value=h}(l,V,Ce);const je=M.values;for(let _t=0;_t<je.length;_t++){const Rt=je[_t],Zt=[];for(let _n=0;_n<Rt.length;_n++){const An=Rt[_n];if("string"!=typeof An){const Kn=Zt.push(An)-1;Rt[_n]=`\x3c!--\ufffd${Kn}\ufffd--\x3e`}}ie=Ag(l,Ce,u,h,_,M.cases[_t],Rt.join(""),Zt)|ie}ie&&function CD(l,u,h){l.push(u,1,h<<2|3)}(h,ie,V)}function bD(l){const u=[],h=[];let _=1,M=0;const V=Cm(l=l.replace(A0,function(ie,Ce,je){return _="select"===je?0:1,M=parseInt(Ce.slice(1),10),""}));for(let ie=0;ie<V.length;){let Ce=V[ie++].trim();1===_&&(Ce=Ce.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Ce.length&&u.push(Ce);const je=Cm(V[ie++]);u.length>h.length&&h.push(je)}return{type:_,mainBinding:M,cases:u,values:h}}function Cm(l){if(!l)return[];let u=0;const h=[],_=[],M=/[{}]/g;let V;for(M.lastIndex=0;V=M.exec(l);){const Ce=V.index;if("}"==V[0]){if(h.pop(),0==h.length){const je=l.substring(u,Ce);A0.test(je)?_.push(bD(je)):_.push(je),u=Ce+1}}else{if(0==h.length){const je=l.substring(u,Ce);_.push(je),u=Ce+1}h.push("{")}}const ie=l.substring(u);return _.push(ie),_}function Ag(l,u,h,_,M,V,ie,Ce){const je=[],_t=[],Rt=[];u.cases.push(V),u.create.push(je),u.remove.push(_t),u.update.push(Rt);const _n=tv(ff()).getInertBodyElement(ie),An=rv(_n)||_n;return An?P0(l,u,h,_,je,_t,Rt,An,M,Ce,0):0}function P0(l,u,h,_,M,V,ie,Ce,je,_t,Rt){let Zt=0,_n=Ce.firstChild;for(;_n;){const An=Tf(l,h,1,null);switch(_n.nodeType){case Node.ELEMENT_NODE:const Kn=_n,ri=Kn.tagName.toLowerCase();if(Nh.hasOwnProperty(ri)){Mg(M,vm,ri,je,An),l.data[An]=ri;const $i=Kn.attributes;for(let ur=0;ur<$i.length;ur++){const Cr=$i.item(ur),$s=Cr.name.toLowerCase();Cr.value.match(Em)?iv.hasOwnProperty($s)&&zf(ie,Cr.value,An,Cr.name,0,Lh[$s]?vp:null):SD(M,An,Cr)}Zt=P0(l,u,h,_,M,V,ie,_n,An,_t,Rt+1)|Zt,O0(V,An,Rt)}break;case Node.TEXT_NODE:const gi=_n.textContent||"",wi=gi.match(Em);Mg(M,null,wi?"":gi,je,An),O0(V,An,Rt),wi&&(Zt=zf(ie,gi,An,null,0,null)|Zt);break;case Node.COMMENT_NODE:const qn=dD.exec(_n.textContent||"");if(qn){const ur=_t[parseInt(qn[1],10)];Mg(M,ym,"",je,An),I0(l,h,_,je,ur,An),ED(V,An,Rt)}}_n=_n.nextSibling}return Zt}function O0(l,u,h){0===h&&l.push(u)}function ED(l,u,h){0===h&&(l.push(~u),l.push(u))}function Mg(l,u,h,_,M){null!==u&&l.push(u),l.push(h,M,function rD(l,u,h){return l|u<<17|h<<1}(0,_,M))}function SD(l,u,h){l.push(u<<1|1,h.name,h.value)}function N0(l,u,h=-1){const _=cr(),M=Zn(),V=Gi+l,ie=nr(_.consts,u),Ce=sc();_.firstCreatePass&&function pD(l,u,h,_,M,V){const ie=sc(),Ce=[],je=[],_t=[[]];M=function yD(l,u){if(function vD(l){return-1===l}(u))return xg(l);{const h=l.indexOf(`:${u}${Wf}`)+2+u.toString().length,_=l.search(new RegExp(`${Wf}\\/\\*\\d+:${u}${Wf}`));return xg(l.substring(h,_))}}(M,V);const Rt=function mD(l){return l.replace(hD," ")}(M).split(fD);for(let Zt=0;Zt<Rt.length;Zt++){let _n=Rt[Zt];if(1&Zt){const An=47===_n.charCodeAt(0),ri=(_n.charCodeAt(An?1:0),Gi+Number.parseInt(_n.substring(An?2:1)));if(An)_t.shift(),Fo(sc(),!1);else{const gi=iD(l,_t[0],ri);_t.unshift([]),Fo(gi,!0)}}else{const An=Cm(_n);for(let Kn=0;Kn<An.length;Kn++){let ri=An[Kn];if(1&Kn){const gi=ri;if("object"!=typeof gi)throw new Error(`Unable to parse ICU expression in "${M}" message.`);I0(l,h,je,u,gi,Tm(l,ie,_t[0],h,Ce,"",!0).index)}else""!==ri&&gD(l,ie,_t[0],Ce,je,h,ri)}}}l.data[_]={create:Ce,update:je}}(_,null===Ce?0:Ce.index,M,V,ie,h),2===_.type?M[_i][Pi]|=32:M[Pi]|=32;const je=_.data[V],Rt=z_(_,Ce===M[Er]?null:Ce,M);(function oD(l,u,h,_){const M=l[jn];for(let V=0;V<u.length;V++){const ie=u[V++],Ce=u[V],_t=(ie&Ca.APPEND_EAGERLY)===Ca.APPEND_EAGERLY,Rt=ie>>>Ca.SHIFT;let Zt=l[Rt];null===Zt&&(Zt=l[Rt]=(ie&Ca.COMMENT)===Ca.COMMENT?M.createComment(Ce):cf(M,Ce)),_t&&null!==h&&Za(M,h,Zt,_,!1)}})(M,je.create,Rt,Ce&&8&Ce.type?M[Ce.index]:null),lc(!0)}function k0(l,u,h){N0(l,u,h),function L0(){lc(!1)}()}function wg(l,u,h,_,M){if(l=j(l),Array.isArray(l))for(let V=0;V<l.length;V++)wg(l[V],u,h,_,M);else{const V=cr(),ie=Zn();let Ce=fu(l)?l:j(l.provide),je=pv(l);const _t=so(),Rt=1048575&_t.providerIndexes,Zt=_t.directiveStart,_n=_t.providerIndexes>>20;if(fu(l)||!l.multi){const An=new cl(je,M,xd),Kn=Pg(Ce,u,M?Rt:Rt+_n,Zt);-1===Kn?(Wu(Yc(_t,ie),V,Ce),Ig(V,l,u.length),u.push(Ce),_t.directiveStart++,_t.directiveEnd++,M&&(_t.providerIndexes+=1048576),h.push(An),ie.push(An)):(h[Kn]=An,ie[Kn]=An)}else{const An=Pg(Ce,u,Rt+_n,Zt),Kn=Pg(Ce,u,Rt,Rt+_n),gi=Kn>=0&&h[Kn];if(M&&!gi||!M&&!(An>=0&&h[An])){Wu(Yc(_t,ie),V,Ce);const wi=function UD(l,u,h,_,M){const V=new cl(l,h,xd);return V.multi=[],V.index=u,V.componentProviders=0,B0(V,M,_&&!h),V}(M?BD:FD,h.length,M,_,je);!M&&gi&&(h[Kn].providerFactory=wi),Ig(V,l,u.length,0),u.push(Ce),_t.directiveStart++,_t.directiveEnd++,M&&(_t.providerIndexes+=1048576),h.push(wi),ie.push(wi)}else Ig(V,l,An>-1?An:Kn,B0(h[M?Kn:An],je,!M&&_));!M&&_&&gi&&h[Kn].componentProviders++}}}function Ig(l,u,h,_){const M=fu(u),V=function ZT(l){return!!l.useClass}(u);if(M||V){const je=(V?j(u.useClass):u).prototype.ngOnDestroy;if(je){const _t=l.destroyHooks||(l.destroyHooks=[]);if(!M&&u.multi){const Rt=_t.indexOf(h);-1===Rt?_t.push(h,[_,je]):_t[Rt+1].push(_,je)}else _t.push(h,je)}}}function B0(l,u,h){return h&&l.componentProviders++,l.multi.push(u)-1}function Pg(l,u,h,_){for(let M=h;M<_;M++)if(u[M]===l)return M;return-1}function FD(l,u,h,_){return Og(this.multi,[])}function BD(l,u,h,_){const M=this.multi;let V;if(this.providerFactory){const ie=this.providerFactory.componentProviders,Ce=zr(h,h[di],this.providerFactory.index,_);V=Ce.slice(0,ie),Og(M,V);for(let je=ie;je<Ce.length;je++)V.push(Ce[je])}else V=[],Og(M,V);return V}function Og(l,u){for(let h=0;h<l.length;h++)u.push((0,l[h])());return u}function U0(l,u=[]){return h=>{h.providersResolver=(_,M)=>function kD(l,u,h){const _=cr();if(_.firstCreatePass){const M=ki(l);wg(h,_.data,_.blueprint,M,!0),wg(u,_.data,_.blueprint,M,!1)}}(_,M?M(l):l,u)}}class Lu{}class j0{}function jD(l,u){return new Rg(l,u??null,[])}class Rg extends Lu{constructor(u,h,_){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new em(this);const M=Ki(u);this._bootstrapComponents=Mc(M.bootstrap),this._r3Injector=Uv(u,h,[{provide:Lu,useValue:this},{provide:vf,useValue:this.componentFactoryResolver},..._],v(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Ng extends j0{constructor(u){super(),this.moduleType=u}create(u){return new Rg(this.moduleType,u,[])}}class V0 extends Lu{constructor(u){super(),this.componentFactoryResolver=new em(this),this.instance=null;const h=new hv([...u.providers,{provide:Lu,useValue:this},{provide:vf,useValue:this.componentFactoryResolver}],u.parent||Sp(),u.debugName,new Set(["environment"]));this.injector=h,u.runEnvironmentInitializers&&h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function G0(l,u,h=null){return new V0({providers:l,parent:u,debugName:h,runEnvironmentInitializers:!0}).injector}let GD=(()=>{class l{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h)){const _=YT(0,h.type),M=_.length>0?G0([_],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h,M)}return this.cachedInjectors.get(h)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ne({token:l,providedIn:"environment",factory:()=>new l(Qe(Sd))})}return l})();function H0(l){l.getStandaloneInjector=u=>u.get(GD).getOrCreateStandaloneInjector(l)}function q0(l,u,h){const _=Oo()+l,M=Zn();return M[_]===tr?wc(M,_,h?u.call(h):u()):function If(l,u){return l[u]}(M,_)}function J0(l,u,h,_){return eb(Zn(),Oo(),l,u,h,_)}function Q0(l,u,h,_,M){return tb(Zn(),Oo(),l,u,h,_,M)}function X0(l,u,h,_,M,V){return function nb(l,u,h,_,M,V,ie,Ce){const je=u+h;return function Tu(l,u,h,_,M){const V=Eu(l,u,h,_);return ca(l,u+2,M)||V}(l,je,M,V,ie)?wc(l,je+3,Ce?_.call(Ce,M,V,ie):_(M,V,ie)):Zf(l,je+3)}(Zn(),Oo(),l,u,h,_,M,V)}function Zf(l,u){const h=l[u];return h===tr?void 0:h}function eb(l,u,h,_,M,V){const ie=u+h;return ca(l,ie,M)?wc(l,ie+1,V?_.call(V,M):_(M)):Zf(l,ie+1)}function tb(l,u,h,_,M,V,ie){const Ce=u+h;return Eu(l,Ce,M,V)?wc(l,Ce+2,ie?_.call(ie,M,V):_(M,V)):Zf(l,Ce+2)}function nx(l,u){const h=cr();let _;const M=l+Gi;h.firstCreatePass?(_=function sw(l,u){if(u)for(let h=u.length-1;h>=0;h--){const _=u[h];if(l===_.name)return _}}(u,h.pipeRegistry),h.data[M]=_,_.onDestroy&&(h.destroyHooks??=[]).push(M,_.onDestroy)):_=h.data[M];const V=_.factory||(_.factory=tt(_.type)),ie=xe(xd);try{const Ce=fc(!1),je=V();return fc(Ce),function Uf(l,u,h,_){h>=l.data.length&&(l.data[h]=null,l.blueprint[h]=null),u[h]=_}(h,Zn(),M,je),je}finally{xe(ie)}}function ob(l,u,h){const _=l+Gi,M=Zn(),V=tn(M,_);return nd(M,_)?eb(M,Oo(),u,V.transform,h,V):V.transform(h)}function sb(l,u,h,_){const M=l+Gi,V=Zn(),ie=tn(V,M);return nd(V,M)?tb(V,Oo(),u,ie.transform,h,_,ie):ie.transform(h,_)}function nd(l,u){return l[di].data[u].pure}function Fg(l){return u=>{setTimeout(l,void 0,u)}}const $l=class ox extends c.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,h,_){let M=u,V=h||(()=>null),ie=_;if(u&&"object"==typeof u){const je=u;M=je.next?.bind(je),V=je.error?.bind(je),ie=je.complete?.bind(je)}this.__isAsync&&(V=Fg(V),M&&(M=Fg(M)),ie&&(ie=Fg(ie)));const Ce=super.subscribe({next:M,error:V,complete:ie});return u instanceof t.w0&&u.add(Ce),Ce}};function sx(){return this._results[Symbol.iterator]()}class Sm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new $l)}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=Sm.prototype;h[Symbol.iterator]||(h[Symbol.iterator]=sx)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){const _=this;_.dirty=!1;const M=function Ys(l){return l.flat(Number.POSITIVE_INFINITY)}(u);(this._changesDetected=!function oa(l,u,h){if(l.length!==u.length)return!1;for(let _=0;_<l.length;_++){let M=l[_],V=u[_];if(h&&(M=h(M),V=h(V)),V!==M)return!1}return!0}(_._results,M,h))&&(_._results=M,_.length=M.length,_.last=M[this.length-1],_.first=M[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $f=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=lx}return l})();const ax=$f,lb=class extends ax{constructor(u,h,_){super(),this._declarationLView=u,this._declarationTContainer=h,this.elementRef=_}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(u,h){return this.createEmbeddedViewImpl(u,h,null)}createEmbeddedViewImpl(u,h,_){const ie=this._declarationTContainer.tView,Ce=bf(this._declarationLView,ie,u,4096&this._declarationLView[Pi]?4096:16,null,ie.declTNode,null,null,null,h||null,_||null);Ce[Vi]=this._declarationLView[this._declarationTContainer.index];const _t=this._declarationLView[Yr];return null!==_t&&(Ce[Yr]=_t.createEmbeddedView(ie)),wd(ie,Ce,u),new Id(Ce)}};function lx(){return Dm(so(),Zn())}function Dm(l,u){return 4&l.type?new lb(u,l,mu(l,u)):null}let xm=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=px}return l})();function px(){return hb(so(),Zn())}const gx=xm,fb=class extends gx{constructor(u,h,_){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=_}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new ul(this._hostTNode,this._hostLView)}get parentInjector(){const u=Ka(this._hostTNode,this._hostLView);if(fd(u)){const h=uc(u,this._hostLView),_=Ks(u);return new ul(h[di].data[_+8],h)}return new ul(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=Ug(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(u,h,_){let M,V;"number"==typeof _?M=_:null!=_&&(M=_.index,V=_.injector);const Ce=u.createEmbeddedViewImpl(h||{},V,null);return this.insertImpl(Ce,M,false),Ce}createComponent(u,h,_,M,V){const ie=u&&!function yc(l){return"function"==typeof l}(u);let Ce;if(ie)Ce=h;else{const ri=h||{};Ce=ri.index,_=ri.injector,M=ri.projectableNodes,V=ri.environmentInjector||ri.ngModuleRef}const je=ie?u:new Af(Ai(u)),_t=_||this.parentInjector;if(!V&&null==je.ngModule){const gi=(ie?_t:this.parentInjector).get(Sd,null);gi&&(V=gi)}Ai(je.componentType??{});const An=je.create(_t,M,null,V);return this.insertImpl(An.hostView,Ce,false),An}insert(u,h){return this.insertImpl(u,h,!1)}insertImpl(u,h,_){const M=u._lView,V=M[di];if(function Dr(l){return hr(l[Ji])}(M)){const je=this.indexOf(u);if(-1!==je)this.detach(je);else{const _t=M[Ji],Rt=new fb(_t,_t[Er],_t[Ji]);Rt.detach(Rt.indexOf(u))}}const ie=this._adjustIndex(h),Ce=this._lContainer;if(function rT(l,u,h,_){const M=Sr+_,V=h.length;_>0&&(h[M-1][Ar]=u),_<V-Sr?(u[Ar]=h[M],iu(h,Sr+_,u)):(h.push(u),u[Ar]=null),u[Ji]=h;const ie=u[Vi];null!==ie&&h!==ie&&function up(l,u){const h=l[$o];u[_i]!==u[Ji][Ji][_i]&&(l[Ds]=!0),null===h?l[$o]=[u]:h.push(u)}(ie,u);const Ce=u[Yr];null!==Ce&&Ce.insertView(l),u[Pi]|=128}(V,M,Ce,ie),!_){const je=$_(ie,Ce),_t=M[jn],Rt=bd(_t,Ce[Qr]);null!==Rt&&function W_(l,u,h,_,M,V){_[lr]=M,_[Er]=u,wh(l,_,h,1,M,V)}(V,Ce[Er],_t,M,Rt,je)}return u.attachToViewContainerRef(),iu(Am(Ce),ie,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=Ug(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),_=yd(this._lContainer,h);_&&(Zc(Am(this._lContainer),h),df(_[di],_))}detach(u){const h=this._adjustIndex(u,-1),_=yd(this._lContainer,h);return _&&null!=Zc(Am(this._lContainer),h)?new Id(_):null}_adjustIndex(u,h=0){return u??this.length+h}};function Ug(l){return l[8]}function Am(l){return l[8]||(l[8]=[])}function hb(l,u){let h;const _=u[l.index];return hr(_)?h=_:(h=Yv(_,u,null,l),u[l.index]=h,Md(u,h)),mb(h,u,l,_),new fb(h,l,u)}let mb=function pb(l,u,h,_){if(l[Qr])return;let M;M=8&h.type?_r(_):function _x(l,u){const h=l[jn],_=h.createComment(""),M=Mt(u,l);return Za(h,bd(h,M),_,function Ed(l,u){return l.nextSibling(u)}(h,M),!1),_}(u,h),l[Qr]=M};class jg{constructor(u){this.queryList=u,this.matches=null}clone(){return new jg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vg{constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const _=null!==u.contentQueries?u.contentQueries[0]:h.length,M=[];for(let V=0;V<_;V++){const ie=h.getByIndex(V);M.push(this.queries[ie.indexInDeclarationView].clone())}return new Vg(M)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==Ud(u,h).matches&&this.queries[h].setDirty()}}class gb{constructor(u,h,_=null){this.predicate=u,this.flags=h,this.read=_}}class Gg{constructor(u=[]){this.queries=u}elementStart(u,h){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let _=0;_<this.length;_++){const M=null!==h?h.length:0,V=this.getByIndex(_).embeddedTView(u,M);V&&(V.indexInDeclarationView=_,null!==h?h.push(V):h=[V])}return null!==h?new Gg(h):null}template(u,h){for(let _=0;_<this.queries.length;_++)this.queries[_].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class Hg{constructor(u,h=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new Hg(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let _=u.parent;for(;null!==_&&8&_.type&&_.index!==h;)_=_.parent;return h===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const _=this.metadata.predicate;if(Array.isArray(_))for(let M=0;M<_.length;M++){const V=_[M];this.matchTNodeWithReadOption(u,h,bx(h,V)),this.matchTNodeWithReadOption(u,h,ia(h,u,V,!1,!1))}else _===$f?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,ia(h,u,_,!1,!1))}matchTNodeWithReadOption(u,h,_){if(null!==_){const M=this.metadata.read;if(null!==M)if(M===Ta||M===xm||M===$f&&4&h.type)this.addMatch(h.index,-2);else{const V=ia(h,u,M,!1,!1);null!==V&&this.addMatch(h.index,V)}else this.addMatch(h.index,_)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function bx(l,u){const h=l.localNames;if(null!==h)for(let _=0;_<h.length;_+=2)if(h[_]===u)return h[_+1];return null}function Tx(l,u,h,_){return-1===h?function Ex(l,u){return 11&l.type?mu(l,u):4&l.type?Dm(l,u):null}(u,l):-2===h?function Cx(l,u,h){return h===Ta?mu(u,l):h===$f?Dm(u,l):h===xm?hb(u,l):void 0}(l,u,_):zr(l,l[di],h,u)}function _b(l,u,h,_){const M=u[Yr].queries[_];if(null===M.matches){const V=l.data,ie=h.matches,Ce=[];for(let je=0;je<ie.length;je+=2){const _t=ie[je];Ce.push(_t<0?null:Tx(u,V[_t],ie[je+1],h.metadata.read))}M.matches=Ce}return M.matches}function Mm(l,u,h,_){const M=l.queries.getByIndex(h),V=M.matches;if(null!==V){const ie=_b(l,u,M,h);for(let Ce=0;Ce<V.length;Ce+=2){const je=V[Ce];if(je>0)_.push(ie[Ce/2]);else{const _t=V[Ce+1],Rt=u[-je];for(let Zt=Sr;Zt<Rt.length;Zt++){const _n=Rt[Zt];_n[Vi]===_n[Ji]&&Mm(_n[di],_n,_t,_)}if(null!==Rt[$o]){const Zt=Rt[$o];for(let _n=0;_n<Zt.length;_n++){const An=Zt[_n];Mm(An[di],An,_t,_)}}}}}return _}function vb(l){const u=Zn(),h=cr(),_=Pl();Ia(_+1);const M=Ud(h,_);if(l.dirty&&function Hn(l){return 4==(4&l[Pi])}(u)===(2==(2&M.metadata.flags))){if(null===M.matches)l.reset([]);else{const V=M.crossesNgTemplate?Mm(h,u,_,[]):_b(h,u,M,_);l.reset(V,xc),l.notifyOnChanges()}return!0}return!1}function yb(l,u,h){const _=cr();_.firstCreatePass&&(Cb(_,new gb(l,u,h),-1),2==(2&u)&&(_.staticViewQueries=!0)),Tb(_,Zn(),u)}function bb(l,u,h,_){const M=cr();if(M.firstCreatePass){const V=so();Cb(M,new gb(u,h,_),V.index),function ku(l,u){const h=l.contentQueries||(l.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(l.queries.length-1,u)}(M,l),2==(2&h)&&(M.staticContentQueries=!0)}Tb(M,Zn(),h)}function Eb(){return function Sx(l,u){return l[Yr].queries[u].queryList}(Zn(),Pl())}function Tb(l,u,h){const _=new Sm(4==(4&h));(function NM(l,u,h,_){const M=Df(u);M.push(h),l.firstCreatePass&&xf(l).push(_,M.length-1)})(l,u,_,_.destroy),null===u[Yr]&&(u[Yr]=new Vg),u[Yr].queries.push(new jg(_))}function Cb(l,u,h){null===l.queries&&(l.queries=new Gg),l.queries.track(new Hg(u,h))}function Ud(l,u){return l.queries.getByIndex(u)}function wm(l,u){return Dm(l,u)}function Yg(l){return!!Ki(l)}const Fb=new Nr("Application Initializer");let Xg=(()=>{class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,_)=>{this.resolve=h,this.reject=_}),this.appInits=Pe(Fb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const h=[];for(const M of this.appInits){const V=M();if(sg(V))h.push(V);else if(ag(V)){const ie=new Promise((Ce,je)=>{V.subscribe({complete:Ce,error:je})});h.push(ie)}}const _=()=>{this.done=!0,this.resolve()};Promise.all(h).then(()=>{_()}).catch(M=>{this.reject(M)}),0===h.length&&_(),this.initialized=!0}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),bl=(()=>{class l{log(h){console.log(h)}warn(h){console.warn(h)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();const Rm=new Nr("LocaleId",{providedIn:"root",factory:()=>Pe(Rm,ue.Optional|ue.SkipSelf)||function e_(){return typeof $localize<"u"&&$localize.locale||Ou}()}),ql=new Nr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Es=(()=>{class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new y.X(!1)}add(){this.hasPendingTasks.next(!0);const h=this.taskId++;return this.pendingTasks.add(h),h}remove(h){this.pendingTasks.delete(h),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();class Ub{constructor(u,h){this.ngModuleFactory=u,this.componentFactories=h}}let Zi=(()=>{class l{compileModuleSync(h){return new Ng(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const _=this.compileModuleSync(h),V=Mc(Ki(h).declarations).reduce((ie,Ce)=>{const je=Ai(Ce);return je&&ie.push(new Af(je)),ie},[]);return new Ub(_,V)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Hb(...l){}class ha{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $l(!1),this.onMicrotaskEmpty=new $l(!1),this.onStable=new $l(!1),this.onError=new $l(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const M=this;M._nesting=0,M._outer=M._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(M._inner=M._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(M._inner=M._inner.fork(Zone.longStackTraceZoneSpec)),M.shouldCoalesceEventChangeDetection=!_&&h,M.shouldCoalesceRunChangeDetection=_,M.lastRequestAnimationFrameId=-1,M.nativeRequestAnimationFrame=function Nx(){const l="function"==typeof st.requestAnimationFrame;let u=st[l?"requestAnimationFrame":"setTimeout"],h=st[l?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&u&&h){const _=u[Zone.__symbol__("OriginalDelegate")];_&&(u=_);const M=h[Zone.__symbol__("OriginalDelegate")];M&&(h=M)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:h}}().nativeRequestAnimationFrame,function kx(l){const u=()=>{!function Kb(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(st,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,i_(l),l.isCheckStableRunning=!0,Nc(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),i_(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,_,M,V,ie,Ce)=>{try{return r_(l),h.invokeTask(M,V,ie,Ce)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===V.type||l.shouldCoalesceRunChangeDetection)&&u(),o_(l)}},onInvoke:(h,_,M,V,ie,Ce,je)=>{try{return r_(l),h.invoke(M,V,ie,Ce,je)}finally{l.shouldCoalesceRunChangeDetection&&u(),o_(l)}},onHasTask:(h,_,M,V)=>{h.hasTask(M,V),_===M&&("microTask"==V.change?(l._hasPendingMicrotasks=V.microTask,i_(l),Nc(l)):"macroTask"==V.change&&(l.hasPendingMacrotasks=V.macroTask))},onHandleError:(h,_,M,V)=>(h.handleError(M,V),l.runOutsideAngular(()=>l.onError.emit(V)),!1)})}(M)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ha.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(ha.isInAngularZone())throw new T(909,!1)}run(u,h,_){return this._inner.run(u,h,_)}runTask(u,h,_,M){const V=this._inner,ie=V.scheduleEventTask("NgZoneEvent: "+M,u,Lx,Hb,Hb);try{return V.runTask(ie,h,_)}finally{V.cancelTask(ie)}}runGuarded(u,h,_){return this._inner.runGuarded(u,h,_)}runOutsideAngular(u){return this._outer.run(u)}}const Lx={};function Nc(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function i_(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function r_(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function o_(l){l._nesting--,Nc(l)}class Fx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $l,this.onMicrotaskEmpty=new $l,this.onStable=new $l,this.onError=new $l}run(u,h,_){return u.apply(h,_)}runGuarded(u,h,_){return u.apply(h,_)}runOutsideAngular(u){return u()}runTask(u,h,_,M){return u.apply(h,_)}}const Yb=new Nr("",{providedIn:"root",factory:Wb});function Wb(){const l=Pe(ha);let u=!0;const h=new I.y(M=>{u=l.isStable&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks,l.runOutsideAngular(()=>{M.next(u),M.complete()})}),_=new I.y(M=>{let V;l.runOutsideAngular(()=>{V=l.onStable.subscribe(()=>{ha.assertNotInAngularZone(),queueMicrotask(()=>{!u&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks&&(u=!0,M.next(!0))})})});const ie=l.onUnstable.subscribe(()=>{ha.assertInAngularZone(),u&&(u=!1,l.runOutsideAngular(()=>{M.next(!1)}))});return()=>{V.unsubscribe(),ie.unsubscribe()}});return(0,E.T)(h,_.pipe((0,L.B)()))}const zb=new Nr(""),Xf=new Nr("");let Nm,eh=(()=>{class l{constructor(h,_,M){this._ngZone=h,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nm||(function $b(l){Nm=l}(M),M.addToWindow(_)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ha.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(h)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,_,M){let V=-1;_&&_>0&&(V=setTimeout(()=>{this._callbacks=this._callbacks.filter(ie=>ie.timeoutId!==V),h(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:h,timeoutId:V,updateCb:M})}whenStable(h,_,M){if(M&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,_,M),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,_,M){return[]}static#e=this.\u0275fac=function(_){return new(_||l)(Qe(ha),Qe(Zb),Qe(Xf))};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac})}return l})(),Zb=(()=>{class l{constructor(){this._applications=new Map}registerApplication(h,_){this._applications.set(h,_)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,_=!0){return Nm?.findTestabilityInTree(this,h,_)??null}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})(),Uo=null;const Lm=new Nr("AllowMultipleToken"),km=new Nr("PlatformDestroyListeners"),s_=new Nr("appBootstrapListener");class l_{constructor(u,h){this.name=u,this.token=h}}function Xb(l,u,h=[]){const _=`Platform: ${u}`,M=new Nr(_);return(V=[])=>{let ie=d_();if(!ie||ie.injector.get(Lm,!1)){const Ce=[...h,...V,{provide:M,useValue:!0}];l?l(Ce):function qb(l){if(Uo&&!Uo.get(Lm,!1))throw new T(400,!1);(function a_(){!function Dl(l){Qa=l}(()=>{throw new T(600,!1)})})(),Uo=l;const u=l.get(u_);(function Qb(l){l.get(qT,null)?.forEach(h=>h())})(l)}(function c_(l=[],u){return Xc.create({name:u,providers:[{provide:uv,useValue:"platform"},{provide:km,useValue:new Set([()=>Uo=null])},...l]})}(Ce,_))}return function El(l){const u=d_();if(!u)throw new T(401,!1);return u}()}}function d_(){return Uo?.get(u_)??null}let u_=(()=>{class l{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,_){const M=function tE(l="zone.js",u){return"noop"===l?new Fx:"zone.js"===l?new ha(u):l}(_?.ngZone,function eE(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:l?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:l?.runCoalescing??!1}}({eventCoalescing:_?.ngZoneEventCoalescing,runCoalescing:_?.ngZoneRunCoalescing}));return M.run(()=>{const V=function VD(l,u,h){return new Rg(l,u,h)}(h.moduleType,this.injector,function Kd(l){return[{provide:ha,useFactory:l},{provide:Bh,multi:!0,useFactory:()=>{const u=Pe(nE,{optional:!0});return()=>u.initialize()}},{provide:Bm,useFactory:Vx},{provide:Yb,useFactory:Wb}]}(()=>M)),ie=V.injector.get(pu,null);return M.runOutsideAngular(()=>{const Ce=M.onError.subscribe({next:je=>{ie.handleError(je)}});V.onDestroy(()=>{Li(this._modules,V),Ce.unsubscribe()})}),function f_(l,u,h){try{const _=h();return sg(_)?_.catch(M=>{throw u.runOutsideAngular(()=>l.handleError(M)),M}):_}catch(_){throw u.runOutsideAngular(()=>l.handleError(_)),_}}(ie,M,()=>{const Ce=V.injector.get(Xg);return Ce.runInitializers(),Ce.donePromise.then(()=>(m0(V.injector.get(Rm,Ou)||Ou),this._moduleDoBootstrap(V),V))})})}bootstrapModule(h,_=[]){const M=h_({},_);return function Fm(l,u,h){const _=new Ng(h);return Promise.resolve(_)}(0,0,h).then(V=>this.bootstrapModuleFactory(V,M))}_moduleDoBootstrap(h){const _=h.injector.get(vr);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(M=>_.bootstrap(M));else{if(!h.instance.ngDoBootstrap)throw new T(-403,!1);h.instance.ngDoBootstrap(_)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const h=this._injector.get(km,null);h&&(h.forEach(_=>_()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(_){return new(_||l)(Qe(Xc))};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();function h_(l,u){return Array.isArray(u)?u.reduce(h_,l):{...l,...u}}let vr=(()=>{class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pe(Bm),this.zoneIsStable=Pe(Yb),this.componentTypes=[],this.components=[],this.isStable=Pe(Es).hasPendingTasks.pipe((0,D.w)(h=>h?(0,F.of)(!1):this.zoneIsStable),(0,p.x)(),(0,L.B)()),this._injector=Pe(Sd)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,_){const M=h instanceof _f;if(!this._injector.get(Xg).done)throw!M&&qi(h),new T(405,!1);let ie;ie=M?h:this._injector.get(vf).resolveComponentFactory(h),this.componentTypes.push(ie.componentType);const Ce=function Bx(l){return l.isBoundToModule}(ie)?void 0:this._injector.get(Lu),_t=ie.create(Xc.NULL,[],_||ie.selector,Ce),Rt=_t.location.nativeElement,Zt=_t.injector.get(zb,null);return Zt?.registerApplication(Rt),_t.onDestroy(()=>{this.detachView(_t.hostView),Li(this.components,_t),Zt?.unregisterApplication(Rt)}),this._loadComponent(_t),_t}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1}}attachView(h){const _=h;this._views.push(_),_.attachToAppRef(this)}detachView(h){const _=h;Li(this._views,_),_.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const _=this._injector.get(s_,[]);_.push(...this._bootstrapListeners),_.forEach(M=>M(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>Li(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new T(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Li(l,u){const h=l.indexOf(u);h>-1&&l.splice(h,1)}const Bm=new Nr("",{providedIn:"root",factory:()=>Pe(pu).handleError.bind(void 0)});function Vx(){const l=Pe(ha),u=Pe(pu);return h=>l.runOutsideAngular(()=>u.handleError(h))}let nE=(()=>{class l{constructor(){this.zone=Pe(ha),this.applicationRef=Pe(vr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Hx(){return!1}function Kx(){}let jm=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=g_}return l})();function g_(l){return function Yx(l,u,h){if(fr(l)&&!h){const _=wn(l.index,u);return new Id(_,_)}return 47&l.type?new Id(u[_i],u):null}(so(),Zn(),16==(16&l))}class Hm{constructor(){}supports(u){return wf(u)}create(u){return new Km(u)}}const lE=(l,u)=>u;class Km{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||lE}forEachItem(u){let h;for(h=this._itHead;null!==h;h=h._next)u(h)}forEachOperation(u){let h=this._itHead,_=this._removalsHead,M=0,V=null;for(;h||_;){const ie=!_||h&&h.currentIndex<Fu(_,M,V)?h:_,Ce=Fu(ie,M,V),je=ie.currentIndex;if(ie===_)M--,_=_._nextRemoved;else if(h=h._next,null==ie.previousIndex)M++;else{V||(V=[]);const _t=Ce-M,Rt=je-M;if(_t!=Rt){for(let _n=0;_n<_t;_n++){const An=_n<V.length?V[_n]:V[_n]=0,Kn=An+_n;Rt<=Kn&&Kn<_t&&(V[_n]=An+1)}V[ie.previousIndex]=Rt-_t}}Ce!==je&&u(ie,Ce,je)}}forEachPreviousItem(u){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachMovedItem(u){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}forEachIdentityChange(u){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)u(h)}diff(u){if(null==u&&(u=[]),!wf(u))throw new T(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let M,V,ie,h=this._itHead,_=!1;if(Array.isArray(u)){this.length=u.length;for(let Ce=0;Ce<this.length;Ce++)V=u[Ce],ie=this._trackByFn(Ce,V),null!==h&&Object.is(h.trackById,ie)?(_&&(h=this._verifyReinsertion(h,V,ie,Ce)),Object.is(h.item,V)||this._addIdentityChange(h,V)):(h=this._mismatch(h,V,ie,Ce),_=!0),h=h._next}else M=0,function ly(l,u){if(Array.isArray(l))for(let h=0;h<l.length;h++)u(l[h]);else{const h=l[Symbol.iterator]();let _;for(;!(_=h.next()).done;)u(_.value)}}(u,Ce=>{ie=this._trackByFn(M,Ce),null!==h&&Object.is(h.trackById,ie)?(_&&(h=this._verifyReinsertion(h,Ce,ie,M)),Object.is(h.item,Ce)||this._addIdentityChange(h,Ce)):(h=this._mismatch(h,Ce,ie,M),_=!0),h=h._next,M++}),this.length=M;return this._truncate(h),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,h,_,M){let V;return null===u?V=this._itTail:(V=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._reinsertAfter(u,V,M)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(_,M))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._moveAfter(u,V,M)):u=this._addAfter(new Zx(h,_),V,M),u}_verifyReinsertion(u,h,_,M){let V=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==V?u=this._reinsertAfter(V,u._prev,M):u.currentIndex!=M&&(u.currentIndex=M,this._addToMoves(u,M)),u}_truncate(u){for(;null!==u;){const h=u._next;this._addToRemovals(this._unlink(u)),u=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,h,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const M=u._prevRemoved,V=u._nextRemoved;return null===M?this._removalsHead=V:M._nextRemoved=V,null===V?this._removalsTail=M:V._prevRemoved=M,this._insertAfter(u,h,_),this._addToMoves(u,_),u}_moveAfter(u,h,_){return this._unlink(u),this._insertAfter(u,h,_),this._addToMoves(u,_),u}_addAfter(u,h,_){return this._insertAfter(u,h,_),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,h,_){const M=null===h?this._itHead:h._next;return u._next=M,u._prev=h,null===M?this._itTail=u:M._prev=u,null===h?this._itHead=u:h._next=u,null===this._linkedRecords&&(this._linkedRecords=new dE),this._linkedRecords.put(u),u.currentIndex=_,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const h=u._prev,_=u._next;return null===h?this._itHead=_:h._next=_,null===_?this._itTail=h:_._prev=h,u}_addToMoves(u,h){return u.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dE),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,h){return u.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class Zx{constructor(u,h){this.item=u,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cE{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,h){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===h||h<=_.currentIndex)&&Object.is(_.trackById,u))return _;return null}remove(u){const h=u._prevDup,_=u._nextDup;return null===h?this._head=_:h._nextDup=_,null===_?this._tail=h:_._prevDup=h,null===this._head}}class dE{constructor(){this.map=new Map}put(u){const h=u.trackById;let _=this.map.get(h);_||(_=new cE,this.map.set(h,_)),_.add(u)}get(u,h){const M=this.map.get(u);return M?M.get(u,h):null}remove(u){const h=u.trackById;return this.map.get(h).remove(u)&&this.map.delete(h),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fu(l,u,h){const _=l.previousIndex;if(null===_)return _;let M=0;return h&&_<h.length&&(M=h[_]),_+u+M}class Ym{constructor(){}supports(u){return u instanceof Map||om(u)}create(){return new $x}}class $x{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let h;for(h=this._mapHead;null!==h;h=h._next)u(h)}forEachPreviousItem(u){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)u(h)}forEachChangedItem(u){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}diff(u){if(u){if(!(u instanceof Map||om(u)))throw new T(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(u,(_,M)=>{if(h&&h.key===M)this._maybeAddToChanges(h,_),this._appendAfter=h,h=h._next;else{const V=this._getOrCreateRecordForKey(M,_);h=this._insertBeforeOrAppend(h,V)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let _=h;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,h){if(u){const _=u._prev;return h._next=u,h._prev=_,u._prev=h,_&&(_._next=h),u===this._mapHead&&(this._mapHead=h),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(u,h){if(this._records.has(u)){const M=this._records.get(u);this._maybeAddToChanges(M,h);const V=M._prev,ie=M._next;return V&&(V._next=ie),ie&&(ie._prev=V),M._next=null,M._prev=null,M}const _=new qx(u);return this._records.set(u,_),_.currentValue=h,this._addToAdditions(_),_}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,h){Object.is(h,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=h,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,h){u instanceof Map?u.forEach(h):Object.keys(u).forEach(_=>h(u[_],_))}}class qx{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uE(){return new Ts([new Hm])}let Ts=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:uE});constructor(h){this.factories=h}static create(h,_){if(null!=_){const M=_.factories.slice();h=h.concat(M)}return new l(h)}static extend(h){return{provide:l,useFactory:_=>l.create(h,_||uE()),deps:[[l,new rs,new hl]]}}find(h){const _=this.factories.find(M=>M.supports(h));if(null!=_)return _;throw new T(901,!1)}}return l})();function fE(){return new C_([new Ym])}let C_=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:fE});constructor(h){this.factories=h}static create(h,_){if(_){const M=_.factories.slice();h=h.concat(M)}return new l(h)}static extend(h){return{provide:l,useFactory:_=>l.create(h,_||fE()),deps:[[l,new rs,new hl]]}}find(h){const _=this.factories.find(M=>M.supports(h));if(_)return _;throw new T(901,!1)}}return l})();const hE=Xb(null,"core",[]);let Cs=(()=>{class l{constructor(h){}static#e=this.\u0275fac=function(_){return new(_||l)(Qe(vr))};static#t=this.\u0275mod=ir({type:l});static#n=this.\u0275inj=W({})}return l})();function _E(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function nA(l,u){const h=Ai(l),_=u.elementInjector||Sp();return new Af(h).create(_,u.projectableNodes,u.hostElement,u.environmentInjector)}function iA(l){const u=Ai(l);if(!u)return null;const h=new Af(u);return{get selector(){return h.selector},get type(){return h.componentType},get inputs(){return h.inputs},get outputs(){return h.outputs},get ngContentSelectors(){return h.ngContentSelectors},get isStandalone(){return u.standalone},get isSignal(){return u.signals}}}},95:(Bn,et,C)=>{"use strict";C.d(et,{Zs:()=>wo,Fj:()=>T,qu:()=>Ms,NI:()=>ir,u:()=>Gr,sg:()=>bi,u5:()=>er,Cf:()=>B,JU:()=>R,a5:()=>ne,JJ:()=>_e,JL:()=>de,F:()=>Xi,On:()=>Lr,YN:()=>Jr,wV:()=>lr,UX:()=>pn,EJ:()=>No,kI:()=>le,_Y:()=>kr,Kr:()=>Zo});var c=C(5879),t=C(6814),y=C(2459),I=C(5592),E=C(7453),F=C(4829),L=C(9940),D=C(8251),p=C(7400),f=C(2714),v=C(7398);let A=(()=>{class tt{constructor($e,It){this._renderer=$e,this._elementRef=It,this.onChange=sn=>{},this.onTouched=()=>{}}setProperty($e,It){this._renderer.setProperty(this._elementRef.nativeElement,$e,It)}registerOnTouched($e){this.onTouched=$e}registerOnChange($e){this.onChange=$e}setDisabledState($e){this.setProperty("disabled",$e)}static#e=this.\u0275fac=function(It){return new(It||tt)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:tt})}return tt})(),U=(()=>{class tt extends A{static#e=this.\u0275fac=function(){let $e;return function(sn){return($e||($e=c.n5z(tt)))(sn||tt)}}();static#t=this.\u0275dir=c.lG2({type:tt,features:[c.qOj]})}return tt})();const R=new c.OlP("NgValueAccessor"),O={provide:R,useExisting:(0,c.Gpc)(()=>T),multi:!0},P=new c.OlP("CompositionEventMode");let T=(()=>{class tt extends A{constructor($e,It,sn){super($e,It),this._compositionMode=sn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function x(){const tt=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(tt.toLowerCase())}())}writeValue($e){this.setProperty("value",$e??"")}_handleInput($e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($e)}_compositionStart(){this._composing=!0}_compositionEnd($e){this._composing=!1,this._compositionMode&&this.onChange($e)}static#e=this.\u0275fac=function(It){return new(It||tt)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(It,sn){1&It&&c.NdJ("input",function(Mi){return sn._handleInput(Mi.target.value)})("blur",function(){return sn.onTouched()})("compositionstart",function(){return sn._compositionStart()})("compositionend",function(Mi){return sn._compositionEnd(Mi.target.value)})},features:[c._Bn([O]),c.qOj]})}return tt})();function N(tt){return null==tt||("string"==typeof tt||Array.isArray(tt))&&0===tt.length}function S(tt){return null!=tt&&"number"==typeof tt.length}const B=new c.OlP("NgValidators"),Y=new c.OlP("NgAsyncValidators"),q=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class le{static min(mt){return function Fe(tt){return mt=>{if(N(mt.value)||N(tt))return null;const $e=parseFloat(mt.value);return!isNaN($e)&&$e<tt?{min:{min:tt,actual:mt.value}}:null}}(mt)}static max(mt){return function $(tt){return mt=>{if(N(mt.value)||N(tt))return null;const $e=parseFloat(mt.value);return!isNaN($e)&&$e>tt?{max:{max:tt,actual:mt.value}}:null}}(mt)}static required(mt){return ae(mt)}static requiredTrue(mt){return K(mt)}static email(mt){return function pe(tt){return N(tt.value)||q.test(tt.value)?null:{email:!0}}(mt)}static minLength(mt){return function oe(tt){return mt=>N(mt.value)||!S(mt.value)?null:mt.value.length<tt?{minlength:{requiredLength:tt,actualLength:mt.value.length}}:null}(mt)}static maxLength(mt){return function he(tt){return mt=>S(mt.value)&&mt.value.length>tt?{maxlength:{requiredLength:tt,actualLength:mt.value.length}}:null}(mt)}static pattern(mt){return function Se(tt){if(!tt)return Le;let mt,$e;return"string"==typeof tt?($e="","^"!==tt.charAt(0)&&($e+="^"),$e+=tt,"$"!==tt.charAt(tt.length-1)&&($e+="$"),mt=new RegExp($e)):($e=tt.toString(),mt=tt),It=>{if(N(It.value))return null;const sn=It.value;return mt.test(sn)?null:{pattern:{requiredPattern:$e,actualValue:sn}}}}(mt)}static nullValidator(mt){return null}static compose(mt){return Ie(mt)}static composeAsync(mt){return ot(mt)}}function ae(tt){return N(tt.value)?{required:!0}:null}function K(tt){return!0===tt.value?null:{required:!0}}function Le(tt){return null}function fe(tt){return null!=tt}function Re(tt){return(0,c.QGY)(tt)?(0,y.D)(tt):tt}function Me(tt){let mt={};return tt.forEach($e=>{mt=null!=$e?{...mt,...$e}:mt}),0===Object.keys(mt).length?null:mt}function me(tt,mt){return mt.map($e=>$e(tt))}function ke(tt){return tt.map(mt=>function Ue(tt){return!tt.validate}(mt)?mt:$e=>mt.validate($e))}function Ie(tt){if(!tt)return null;const mt=tt.filter(fe);return 0==mt.length?null:function($e){return Me(me($e,mt))}}function He(tt){return null!=tt?Ie(ke(tt)):null}function ot(tt){if(!tt)return null;const mt=tt.filter(fe);return 0==mt.length?null:function($e){return function g(...tt){const mt=(0,L.jO)(tt),{args:$e,keys:It}=(0,E.D)(tt),sn=new I.y(si=>{const{length:Mi}=$e;if(!Mi)return void si.complete();const ho=new Array(Mi);let Qo=Mi,Ko=Mi;for(let Br=0;Br<Mi;Br++){let Xo=!1;(0,F.Xf)($e[Br]).subscribe((0,D.x)(si,gr=>{Xo||(Xo=!0,Ko--),ho[Br]=gr},()=>Qo--,void 0,()=>{(!Qo||!Xo)&&(Ko||si.next(It?(0,f.n)(It,ho):ho),si.complete())}))}});return mt?sn.pipe((0,p.Z)(mt)):sn}(me($e,mt).map(Re)).pipe((0,v.U)(Me))}}function Je(tt){return null!=tt?ot(ke(tt)):null}function Ne(tt,mt){return null===tt?[mt]:Array.isArray(tt)?[...tt,mt]:[tt,mt]}function Te(tt){return tt._rawValidators}function W(tt){return tt._rawAsyncValidators}function se(tt){return tt?Array.isArray(tt)?tt:[tt]:[]}function ge(tt,mt){return Array.isArray(tt)?tt.includes(mt):tt===mt}function J(tt,mt){const $e=se(mt);return se(tt).forEach(sn=>{ge($e,sn)||$e.push(sn)}),$e}function Q(tt,mt){return se(mt).filter($e=>!ge(tt,$e))}class Z{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(mt){this._rawValidators=mt||[],this._composedValidatorFn=He(this._rawValidators)}_setAsyncValidators(mt){this._rawAsyncValidators=mt||[],this._composedAsyncValidatorFn=Je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(mt){this._onDestroyCallbacks.push(mt)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(mt=>mt()),this._onDestroyCallbacks=[]}reset(mt=void 0){this.control&&this.control.reset(mt)}hasError(mt,$e){return!!this.control&&this.control.hasError(mt,$e)}getError(mt,$e){return this.control?this.control.getError(mt,$e):null}}class te extends Z{get formDirective(){return null}get path(){return null}}class ne extends Z{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ee{constructor(mt){this._cd=mt}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _e=(()=>{class tt extends ee{constructor($e){super($e)}static#e=this.\u0275fac=function(It){return new(It||tt)(c.Y36(ne,2))};static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(It,sn){2&It&&c.ekj("ng-untouched",sn.isUntouched)("ng-touched",sn.isTouched)("ng-pristine",sn.isPristine)("ng-dirty",sn.isDirty)("ng-valid",sn.isValid)("ng-invalid",sn.isInvalid)("ng-pending",sn.isPending)},features:[c.qOj]})}return tt})(),de=(()=>{class tt extends ee{constructor($e){super($e)}static#e=this.\u0275fac=function(It){return new(It||tt)(c.Y36(te,10))};static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(It,sn){2&It&&c.ekj("ng-untouched",sn.isUntouched)("ng-touched",sn.isTouched)("ng-pristine",sn.isPristine)("ng-dirty",sn.isDirty)("ng-valid",sn.isValid)("ng-invalid",sn.isInvalid)("ng-pending",sn.isPending)("ng-submitted",sn.isSubmitted)},features:[c.qOj]})}return tt})();const ht="VALID",Qe="INVALID",De="PENDING",Pe="DISABLED";function Ye(tt){return(dt(tt)?tt.validators:tt)||null}function lt(tt,mt){return(dt(mt)?mt.asyncValidators:tt)||null}function dt(tt){return null!=tt&&!Array.isArray(tt)&&"object"==typeof tt}function Ft(tt,mt,$e){const It=tt.controls;if(!(mt?Object.keys(It):It).length)throw new c.vHH(1e3,"");if(!It[$e])throw new c.vHH(1001,"")}function qt(tt,mt,$e){tt._forEachChild((It,sn)=>{if(void 0===$e[sn])throw new c.vHH(1002,"")})}class Lt{constructor(mt,$e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(mt),this._assignAsyncValidators($e)}get validator(){return this._composedValidatorFn}set validator(mt){this._rawValidators=this._composedValidatorFn=mt}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(mt){this._rawAsyncValidators=this._composedAsyncValidatorFn=mt}get parent(){return this._parent}get valid(){return this.status===ht}get invalid(){return this.status===Qe}get pending(){return this.status==De}get disabled(){return this.status===Pe}get enabled(){return this.status!==Pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(mt){this._assignValidators(mt)}setAsyncValidators(mt){this._assignAsyncValidators(mt)}addValidators(mt){this.setValidators(J(mt,this._rawValidators))}addAsyncValidators(mt){this.setAsyncValidators(J(mt,this._rawAsyncValidators))}removeValidators(mt){this.setValidators(Q(mt,this._rawValidators))}removeAsyncValidators(mt){this.setAsyncValidators(Q(mt,this._rawAsyncValidators))}hasValidator(mt){return ge(this._rawValidators,mt)}hasAsyncValidator(mt){return ge(this._rawAsyncValidators,mt)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(mt={}){this.touched=!0,this._parent&&!mt.onlySelf&&this._parent.markAsTouched(mt)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(mt=>mt.markAllAsTouched())}markAsUntouched(mt={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild($e=>{$e.markAsUntouched({onlySelf:!0})}),this._parent&&!mt.onlySelf&&this._parent._updateTouched(mt)}markAsDirty(mt={}){this.pristine=!1,this._parent&&!mt.onlySelf&&this._parent.markAsDirty(mt)}markAsPristine(mt={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild($e=>{$e.markAsPristine({onlySelf:!0})}),this._parent&&!mt.onlySelf&&this._parent._updatePristine(mt)}markAsPending(mt={}){this.status=De,!1!==mt.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!mt.onlySelf&&this._parent.markAsPending(mt)}disable(mt={}){const $e=this._parentMarkedDirty(mt.onlySelf);this.status=Pe,this.errors=null,this._forEachChild(It=>{It.disable({...mt,onlySelf:!0})}),this._updateValue(),!1!==mt.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...mt,skipPristineCheck:$e}),this._onDisabledChange.forEach(It=>It(!0))}enable(mt={}){const $e=this._parentMarkedDirty(mt.onlySelf);this.status=ht,this._forEachChild(It=>{It.enable({...mt,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:mt.emitEvent}),this._updateAncestors({...mt,skipPristineCheck:$e}),this._onDisabledChange.forEach(It=>It(!1))}_updateAncestors(mt){this._parent&&!mt.onlySelf&&(this._parent.updateValueAndValidity(mt),mt.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(mt){this._parent=mt}getRawValue(){return this.value}updateValueAndValidity(mt={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ht||this.status===De)&&this._runAsyncValidator(mt.emitEvent)),!1!==mt.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!mt.onlySelf&&this._parent.updateValueAndValidity(mt)}_updateTreeValidity(mt={emitEvent:!0}){this._forEachChild($e=>$e._updateTreeValidity(mt)),this.updateValueAndValidity({onlySelf:!0,emitEvent:mt.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pe:ht}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(mt){if(this.asyncValidator){this.status=De,this._hasOwnPendingAsyncValidator=!0;const $e=Re(this.asyncValidator(this));this._asyncValidationSubscription=$e.subscribe(It=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(It,{emitEvent:mt})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(mt,$e={}){this.errors=mt,this._updateControlsErrors(!1!==$e.emitEvent)}get(mt){let $e=mt;return null==$e||(Array.isArray($e)||($e=$e.split(".")),0===$e.length)?null:$e.reduce((It,sn)=>It&&It._find(sn),this)}getError(mt,$e){const It=$e?this.get($e):this;return It&&It.errors?It.errors[mt]:null}hasError(mt,$e){return!!this.getError(mt,$e)}get root(){let mt=this;for(;mt._parent;)mt=mt._parent;return mt}_updateControlsErrors(mt){this.status=this._calculateStatus(),mt&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(mt)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Pe:this.errors?Qe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(De)?De:this._anyControlsHaveStatus(Qe)?Qe:ht}_anyControlsHaveStatus(mt){return this._anyControls($e=>$e.status===mt)}_anyControlsDirty(){return this._anyControls(mt=>mt.dirty)}_anyControlsTouched(){return this._anyControls(mt=>mt.touched)}_updatePristine(mt={}){this.pristine=!this._anyControlsDirty(),this._parent&&!mt.onlySelf&&this._parent._updatePristine(mt)}_updateTouched(mt={}){this.touched=this._anyControlsTouched(),this._parent&&!mt.onlySelf&&this._parent._updateTouched(mt)}_registerOnCollectionChange(mt){this._onCollectionChange=mt}_setUpdateStrategy(mt){dt(mt)&&null!=mt.updateOn&&(this._updateOn=mt.updateOn)}_parentMarkedDirty(mt){return!mt&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(mt){return null}_assignValidators(mt){this._rawValidators=Array.isArray(mt)?mt.slice():mt,this._composedValidatorFn=function ze(tt){return Array.isArray(tt)?He(tt):tt||null}(this._rawValidators)}_assignAsyncValidators(mt){this._rawAsyncValidators=Array.isArray(mt)?mt.slice():mt,this._composedAsyncValidatorFn=function rt(tt){return Array.isArray(tt)?Je(tt):tt||null}(this._rawAsyncValidators)}}class Qt extends Lt{constructor(mt,$e,It){super(Ye($e),lt(It,$e)),this.controls=mt,this._initObservables(),this._setUpdateStrategy($e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(mt,$e){return this.controls[mt]?this.controls[mt]:(this.controls[mt]=$e,$e.setParent(this),$e._registerOnCollectionChange(this._onCollectionChange),$e)}addControl(mt,$e,It={}){this.registerControl(mt,$e),this.updateValueAndValidity({emitEvent:It.emitEvent}),this._onCollectionChange()}removeControl(mt,$e={}){this.controls[mt]&&this.controls[mt]._registerOnCollectionChange(()=>{}),delete this.controls[mt],this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}setControl(mt,$e,It={}){this.controls[mt]&&this.controls[mt]._registerOnCollectionChange(()=>{}),delete this.controls[mt],$e&&this.registerControl(mt,$e),this.updateValueAndValidity({emitEvent:It.emitEvent}),this._onCollectionChange()}contains(mt){return this.controls.hasOwnProperty(mt)&&this.controls[mt].enabled}setValue(mt,$e={}){qt(this,0,mt),Object.keys(mt).forEach(It=>{Ft(this,!0,It),this.controls[It].setValue(mt[It],{onlySelf:!0,emitEvent:$e.emitEvent})}),this.updateValueAndValidity($e)}patchValue(mt,$e={}){null!=mt&&(Object.keys(mt).forEach(It=>{const sn=this.controls[It];sn&&sn.patchValue(mt[It],{onlySelf:!0,emitEvent:$e.emitEvent})}),this.updateValueAndValidity($e))}reset(mt={},$e={}){this._forEachChild((It,sn)=>{It.reset(mt[sn],{onlySelf:!0,emitEvent:$e.emitEvent})}),this._updatePristine($e),this._updateTouched($e),this.updateValueAndValidity($e)}getRawValue(){return this._reduceChildren({},(mt,$e,It)=>(mt[It]=$e.getRawValue(),mt))}_syncPendingControls(){let mt=this._reduceChildren(!1,($e,It)=>!!It._syncPendingControls()||$e);return mt&&this.updateValueAndValidity({onlySelf:!0}),mt}_forEachChild(mt){Object.keys(this.controls).forEach($e=>{const It=this.controls[$e];It&&mt(It,$e)})}_setUpControls(){this._forEachChild(mt=>{mt.setParent(this),mt._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(mt){for(const[$e,It]of Object.entries(this.controls))if(this.contains($e)&&mt(It))return!0;return!1}_reduceValue(){return this._reduceChildren({},($e,It,sn)=>((It.enabled||this.disabled)&&($e[sn]=It.value),$e))}_reduceChildren(mt,$e){let It=mt;return this._forEachChild((sn,si)=>{It=$e(It,sn,si)}),It}_allControlsDisabled(){for(const mt of Object.keys(this.controls))if(this.controls[mt].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(mt){return this.controls.hasOwnProperty(mt)?this.controls[mt]:null}}class Mn extends Qt{}const Yn=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Vn}),Vn="always";function fi(tt,mt){return[...mt.path,tt]}function Cn(tt,mt,$e=Vn){Wt(tt,mt),mt.valueAccessor.writeValue(tt.value),(tt.disabled||"always"===$e)&&mt.valueAccessor.setDisabledState?.(tt.disabled),function ut(tt,mt){mt.valueAccessor.registerOnChange($e=>{tt._pendingValue=$e,tt._pendingChange=!0,tt._pendingDirty=!0,"change"===tt.updateOn&&en(tt,mt)})}(tt,mt),function Jt(tt,mt){const $e=(It,sn)=>{mt.valueAccessor.writeValue(It),sn&&mt.viewToModelUpdate(It)};tt.registerOnChange($e),mt._registerOnDestroy(()=>{tt._unregisterOnChange($e)})}(tt,mt),function Pt(tt,mt){mt.valueAccessor.registerOnTouched(()=>{tt._pendingTouched=!0,"blur"===tt.updateOn&&tt._pendingChange&&en(tt,mt),"submit"!==tt.updateOn&&tt.markAsTouched()})}(tt,mt),function at(tt,mt){if(mt.valueAccessor.setDisabledState){const $e=It=>{mt.valueAccessor.setDisabledState(It)};tt.registerOnDisabledChange($e),mt._registerOnDestroy(()=>{tt._unregisterOnDisabledChange($e)})}}(tt,mt)}function Tt(tt,mt,$e=!0){const It=()=>{};mt.valueAccessor&&(mt.valueAccessor.registerOnChange(It),mt.valueAccessor.registerOnTouched(It)),We(tt,mt),tt&&(mt._invokeOnDestroyCallbacks(),tt._registerOnCollectionChange(()=>{}))}function Et(tt,mt){tt.forEach($e=>{$e.registerOnValidatorChange&&$e.registerOnValidatorChange(mt)})}function Wt(tt,mt){const $e=Te(tt);null!==mt.validator?tt.setValidators(Ne($e,mt.validator)):"function"==typeof $e&&tt.setValidators([$e]);const It=W(tt);null!==mt.asyncValidator?tt.setAsyncValidators(Ne(It,mt.asyncValidator)):"function"==typeof It&&tt.setAsyncValidators([It]);const sn=()=>tt.updateValueAndValidity();Et(mt._rawValidators,sn),Et(mt._rawAsyncValidators,sn)}function We(tt,mt){let $e=!1;if(null!==tt){if(null!==mt.validator){const sn=Te(tt);if(Array.isArray(sn)&&sn.length>0){const si=sn.filter(Mi=>Mi!==mt.validator);si.length!==sn.length&&($e=!0,tt.setValidators(si))}}if(null!==mt.asyncValidator){const sn=W(tt);if(Array.isArray(sn)&&sn.length>0){const si=sn.filter(Mi=>Mi!==mt.asyncValidator);si.length!==sn.length&&($e=!0,tt.setAsyncValidators(si))}}}const It=()=>{};return Et(mt._rawValidators,It),Et(mt._rawAsyncValidators,It),$e}function en(tt,mt){tt._pendingDirty&&tt.markAsDirty(),tt.setValue(tt._pendingValue,{emitModelToViewChange:!1}),mt.viewToModelUpdate(tt._pendingValue),tt._pendingChange=!1}function Rn(tt,mt){Wt(tt,mt)}function ft(tt,mt){if(!tt.hasOwnProperty("model"))return!1;const $e=tt.model;return!!$e.isFirstChange()||!Object.is(mt,$e.currentValue)}function be(tt,mt){tt._syncPendingControls(),mt.forEach($e=>{const It=$e.control;"submit"===It.updateOn&&It._pendingChange&&($e.viewToModelUpdate(It._pendingValue),It._pendingChange=!1)})}function vt(tt,mt){if(!mt)return null;let $e,It,sn;return Array.isArray(mt),mt.forEach(si=>{si.constructor===T?$e=si:function hn(tt){return Object.getPrototypeOf(tt.constructor)===U}(si)?It=si:sn=si}),sn||It||$e||null}const cn={provide:te,useExisting:(0,c.Gpc)(()=>Xi)},ei=(()=>Promise.resolve())();let Xi=(()=>{class tt extends te{constructor($e,It,sn){super(),this.callSetDisabledState=sn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Qt({},He($e),Je(It))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($e){ei.then(()=>{const It=this._findContainer($e.path);$e.control=It.registerControl($e.name,$e.control),Cn($e.control,$e,this.callSetDisabledState),$e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($e)})}getControl($e){return this.form.get($e.path)}removeControl($e){ei.then(()=>{const It=this._findContainer($e.path);It&&It.removeControl($e.name),this._directives.delete($e)})}addFormGroup($e){ei.then(()=>{const It=this._findContainer($e.path),sn=new Qt({});Rn(sn,$e),It.registerControl($e.name,sn),sn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($e){ei.then(()=>{const It=this._findContainer($e.path);It&&It.removeControl($e.name)})}getFormGroup($e){return this.form.get($e.path)}updateModel($e,It){ei.then(()=>{this.form.get($e.path).setValue(It)})}setValue($e){this.control.setValue($e)}onSubmit($e){return this.submitted=!0,be(this.form,this._directives),this.ngSubmit.emit($e),"dialog"===$e?.target?.method}onReset(){this.resetForm()}resetForm($e=void 0){this.form.reset($e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($e){return $e.pop(),$e.length?this.form.get($e):this.form}static#e=this.\u0275fac=function(It){return new(It||tt)(c.Y36(B,10),c.Y36(Y,10),c.Y36(Yn,8))};static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(It,sn){1&It&&c.NdJ("submit",function(Mi){return sn.onSubmit(Mi)})("reset",function(){return sn.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([cn]),c.qOj]})}return tt})();function Ir(tt,mt){const $e=tt.indexOf(mt);$e>-1&&tt.splice($e,1)}function yr(tt){return"object"==typeof tt&&null!==tt&&2===Object.keys(tt).length&&"value"in tt&&"disabled"in tt}const ir=class extends Lt{constructor(mt=null,$e,It){super(Ye($e),lt(It,$e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(mt),this._setUpdateStrategy($e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dt($e)&&($e.nonNullable||$e.initialValueIsDefault)&&(this.defaultValue=yr(mt)?mt.value:mt)}setValue(mt,$e={}){this.value=this._pendingValue=mt,this._onChange.length&&!1!==$e.emitModelToViewChange&&this._onChange.forEach(It=>It(this.value,!1!==$e.emitViewToModelChange)),this.updateValueAndValidity($e)}patchValue(mt,$e={}){this.setValue(mt,$e)}reset(mt=this.defaultValue,$e={}){this._applyFormState(mt),this.markAsPristine($e),this.markAsUntouched($e),this.setValue(this.value,$e),this._pendingChange=!1}_updateValue(){}_anyControls(mt){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(mt){this._onChange.push(mt)}_unregisterOnChange(mt){Ir(this._onChange,mt)}registerOnDisabledChange(mt){this._onDisabledChange.push(mt)}_unregisterOnDisabledChange(mt){Ir(this._onDisabledChange,mt)}_forEachChild(mt){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(mt){yr(mt)?(this.value=this._pendingValue=mt.value,mt.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=mt}},Go={provide:ne,useExisting:(0,c.Gpc)(()=>Lr)},yo=(()=>Promise.resolve())();let Lr=(()=>{class tt extends ne{constructor($e,It,sn,si,Mi,ho){super(),this._changeDetectorRef=Mi,this.callSetDisabledState=ho,this.control=new ir,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=$e,this._setValidators(It),this._setAsyncValidators(sn),this.valueAccessor=vt(0,si)}ngOnChanges($e){if(this._checkForErrors(),!this._registered||"name"in $e){if(this._registered&&(this._checkName(),this.formDirective)){const It=$e.name.previousValue;this.formDirective.removeControl({name:It,path:this._getPath(It)})}this._setUpControl()}"isDisabled"in $e&&this._updateDisabled($e),ft($e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($e){this.viewModel=$e,this.update.emit($e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($e){yo.then(()=>{this.control.setValue($e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled($e){const It=$e.isDisabled.currentValue,sn=0!==It&&(0,c.VuI)(It);yo.then(()=>{sn&&!this.control.disabled?this.control.disable():!sn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath($e){return this._parent?fi($e,this._parent):[$e]}static#e=this.\u0275fac=function(It){return new(It||tt)(c.Y36(te,9),c.Y36(B,10),c.Y36(Y,10),c.Y36(R,10),c.Y36(c.sBO,8),c.Y36(Yn,8))};static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Go]),c.qOj,c.TTD]})}return tt})(),kr=(()=>{class tt{static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return tt})();const bo={provide:R,useExisting:(0,c.Gpc)(()=>lr),multi:!0};let lr=(()=>{class tt extends U{writeValue($e){this.setProperty("value",$e??"")}registerOnChange($e){this.onChange=It=>{$e(""==It?null:parseFloat(It))}}static#e=this.\u0275fac=function(){let $e;return function(sn){return($e||($e=c.n5z(tt)))(sn||tt)}}();static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(It,sn){1&It&&c.NdJ("input",function(Mi){return sn.onChange(Mi.target.value)})("blur",function(){return sn.onTouched()})},features:[c._Bn([bo]),c.qOj]})}return tt})(),Ji=(()=>{class tt{static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275mod=c.oAB({type:tt});static#n=this.\u0275inj=c.cJS({})}return tt})();const Xt=new c.OlP("NgModelWithFormControlWarning"),jn={provide:te,useExisting:(0,c.Gpc)(()=>bi)};let bi=(()=>{class tt extends te{constructor($e,It,sn){super(),this.callSetDisabledState=sn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators($e),this._setAsyncValidators(It)}ngOnChanges($e){this._checkFormPresent(),$e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(We(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl($e){const It=this.form.get($e.path);return Cn(It,$e,this.callSetDisabledState),It.updateValueAndValidity({emitEvent:!1}),this.directives.push($e),It}getControl($e){return this.form.get($e.path)}removeControl($e){Tt($e.control||null,$e,!1),function gt(tt,mt){const $e=tt.indexOf(mt);$e>-1&&tt.splice($e,1)}(this.directives,$e)}addFormGroup($e){this._setUpFormContainer($e)}removeFormGroup($e){this._cleanUpFormContainer($e)}getFormGroup($e){return this.form.get($e.path)}addFormArray($e){this._setUpFormContainer($e)}removeFormArray($e){this._cleanUpFormContainer($e)}getFormArray($e){return this.form.get($e.path)}updateModel($e,It){this.form.get($e.path).setValue(It)}onSubmit($e){return this.submitted=!0,be(this.form,this.directives),this.ngSubmit.emit($e),"dialog"===$e?.target?.method}onReset(){this.resetForm()}resetForm($e=void 0){this.form.reset($e),this.submitted=!1}_updateDomValue(){this.directives.forEach($e=>{const It=$e.control,sn=this.form.get($e.path);It!==sn&&(Tt(It||null,$e),(tt=>tt instanceof ir)(sn)&&(Cn(sn,$e,this.callSetDisabledState),$e.control=sn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer($e){const It=this.form.get($e.path);Rn(It,$e),It.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer($e){if(this.form){const It=this.form.get($e.path);It&&function Ht(tt,mt){return We(tt,mt)}(It,$e)&&It.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wt(this.form,this),this._oldForm&&We(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(It){return new(It||tt)(c.Y36(B,10),c.Y36(Y,10),c.Y36(Yn,8))};static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["","formGroup",""]],hostBindings:function(It,sn){1&It&&c.NdJ("submit",function(Mi){return sn.onSubmit(Mi)})("reset",function(){return sn.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([jn]),c.qOj,c.TTD]})}return tt})();const Yr={provide:ne,useExisting:(0,c.Gpc)(()=>Gr)};let Gr=(()=>{class tt extends ne{set isDisabled($e){}static#e=this._ngModelWarningSentOnce=!1;constructor($e,It,sn,si,Mi){super(),this._ngModelWarningConfig=Mi,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=$e,this._setValidators(It),this._setAsyncValidators(sn),this.valueAccessor=vt(0,si)}ngOnChanges($e){this._added||this._setUpControl(),ft($e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate($e){this.viewModel=$e,this.update.emit($e)}get path(){return fi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(It){return new(It||tt)(c.Y36(te,13),c.Y36(B,10),c.Y36(Y,10),c.Y36(R,10),c.Y36(Xt,8))};static#n=this.\u0275dir=c.lG2({type:tt,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Yr]),c.qOj,c.TTD]})}return tt})();const Eo={provide:R,useExisting:(0,c.Gpc)(()=>No),multi:!0};function Tr(tt,mt){return null==tt?`${mt}`:(mt&&"object"==typeof mt&&(mt="Object"),`${tt}: ${mt}`.slice(0,50))}let No=(()=>{class tt extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($e){this._compareWith=$e}writeValue($e){this.value=$e;const sn=Tr(this._getOptionId($e),$e);this.setProperty("value",sn)}registerOnChange($e){this.onChange=It=>{this.value=this._getOptionValue(It),$e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId($e){for(const It of this._optionMap.keys())if(this._compareWith(this._optionMap.get(It),$e))return It;return null}_getOptionValue($e){const It=function Fr(tt){return tt.split(":")[0]}($e);return this._optionMap.has(It)?this._optionMap.get(It):$e}static#e=this.\u0275fac=function(){let $e;return function(sn){return($e||($e=c.n5z(tt)))(sn||tt)}}();static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(It,sn){1&It&&c.NdJ("change",function(Mi){return sn.onChange(Mi.target.value)})("blur",function(){return sn.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Eo]),c.qOj]})}return tt})(),Jr=(()=>{class tt{constructor($e,It,sn){this._element=$e,this._renderer=It,this._select=sn,this._select&&(this.id=this._select._registerOption())}set ngValue($e){null!=this._select&&(this._select._optionMap.set(this.id,$e),this._setElementValue(Tr(this.id,$e)),this._select.writeValue(this._select.value))}set value($e){this._setElementValue($e),this._select&&this._select.writeValue(this._select.value)}_setElementValue($e){this._renderer.setProperty(this._element.nativeElement,"value",$e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(It){return new(It||tt)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(No,9))};static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return tt})();const Gi={provide:R,useExisting:(0,c.Gpc)(()=>Qr),multi:!0};function qs(tt,mt){return null==tt?`${mt}`:("string"==typeof mt&&(mt=`'${mt}'`),mt&&"object"==typeof mt&&(mt="Object"),`${tt}: ${mt}`.slice(0,50))}let Qr=(()=>{class tt extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith($e){this._compareWith=$e}writeValue($e){let It;if(this.value=$e,Array.isArray($e)){const sn=$e.map(si=>this._getOptionId(si));It=(si,Mi)=>{si._setSelected(sn.indexOf(Mi.toString())>-1)}}else It=(sn,si)=>{sn._setSelected(!1)};this._optionMap.forEach(It)}registerOnChange($e){this.onChange=It=>{const sn=[],si=It.selectedOptions;if(void 0!==si){const Mi=si;for(let ho=0;ho<Mi.length;ho++){const Ko=this._getOptionValue(Mi[ho].value);sn.push(Ko)}}else{const Mi=It.options;for(let ho=0;ho<Mi.length;ho++){const Qo=Mi[ho];if(Qo.selected){const Ko=this._getOptionValue(Qo.value);sn.push(Ko)}}}this.value=sn,$e(sn)}}_registerOption($e){const It=(this._idCounter++).toString();return this._optionMap.set(It,$e),It}_getOptionId($e){for(const It of this._optionMap.keys())if(this._compareWith(this._optionMap.get(It)._value,$e))return It;return null}_getOptionValue($e){const It=function Mo(tt){return tt.split(":")[0]}($e);return this._optionMap.has(It)?this._optionMap.get(It)._value:$e}static#e=this.\u0275fac=function(){let $e;return function(sn){return($e||($e=c.n5z(tt)))(sn||tt)}}();static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(It,sn){1&It&&c.NdJ("change",function(Mi){return sn.onChange(Mi.target)})("blur",function(){return sn.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Gi]),c.qOj]})}return tt})(),Zo=(()=>{class tt{constructor($e,It,sn){this._element=$e,this._renderer=It,this._select=sn,this._select&&(this.id=this._select._registerOption(this))}set ngValue($e){null!=this._select&&(this._value=$e,this._setElementValue(qs(this.id,$e)),this._select.writeValue(this._select.value))}set value($e){this._select?(this._value=$e,this._setElementValue(qs(this.id,$e)),this._select.writeValue(this._select.value)):this._setElementValue($e)}_setElementValue($e){this._renderer.setProperty(this._element.nativeElement,"value",$e)}_setSelected($e){this._renderer.setProperty(this._element.nativeElement,"selected",$e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(It){return new(It||tt)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Qr,9))};static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return tt})(),Sr=(()=>{class tt{constructor(){this._validator=Le}ngOnChanges($e){if(this.inputName in $e){const It=this.normalizeInput($e[this.inputName].currentValue);this._enabled=this.enabled(It),this._validator=this._enabled?this.createValidator(It):Le,this._onChange&&this._onChange()}}validate($e){return this._validator($e)}registerOnValidatorChange($e){this._onChange=$e}enabled($e){return null!=$e}static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275dir=c.lG2({type:tt,features:[c.TTD]})}return tt})();const fr={provide:B,useExisting:(0,c.Gpc)(()=>ki),multi:!0},io={provide:B,useExisting:(0,c.Gpc)(()=>wo),multi:!0};let ki=(()=>{class tt extends Sr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=$e=>ae}enabled($e){return $e}static#e=this.\u0275fac=function(){let $e;return function(sn){return($e||($e=c.n5z(tt)))(sn||tt)}}();static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(It,sn){2&It&&c.uIk("required",sn._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([fr]),c.qOj]})}return tt})(),wo=(()=>{class tt extends ki{constructor(){super(...arguments),this.createValidator=$e=>K}static#e=this.\u0275fac=function(){let $e;return function(sn){return($e||($e=c.n5z(tt)))(sn||tt)}}();static#t=this.\u0275dir=c.lG2({type:tt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(It,sn){2&It&&c.uIk("required",sn._enabled?"":null)},features:[c._Bn([io]),c.qOj]})}return tt})(),ma=(()=>{class tt{static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275mod=c.oAB({type:tt});static#n=this.\u0275inj=c.cJS({imports:[Ji]})}return tt})();class oo extends Lt{constructor(mt,$e,It){super(Ye($e),lt(It,$e)),this.controls=mt,this._initObservables(),this._setUpdateStrategy($e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(mt){return this.controls[this._adjustIndex(mt)]}push(mt,$e={}){this.controls.push(mt),this._registerControl(mt),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}insert(mt,$e,It={}){this.controls.splice(mt,0,$e),this._registerControl($e),this.updateValueAndValidity({emitEvent:It.emitEvent})}removeAt(mt,$e={}){let It=this._adjustIndex(mt);It<0&&(It=0),this.controls[It]&&this.controls[It]._registerOnCollectionChange(()=>{}),this.controls.splice(It,1),this.updateValueAndValidity({emitEvent:$e.emitEvent})}setControl(mt,$e,It={}){let sn=this._adjustIndex(mt);sn<0&&(sn=0),this.controls[sn]&&this.controls[sn]._registerOnCollectionChange(()=>{}),this.controls.splice(sn,1),$e&&(this.controls.splice(sn,0,$e),this._registerControl($e)),this.updateValueAndValidity({emitEvent:It.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(mt,$e={}){qt(this,0,mt),mt.forEach((It,sn)=>{Ft(this,!1,sn),this.at(sn).setValue(It,{onlySelf:!0,emitEvent:$e.emitEvent})}),this.updateValueAndValidity($e)}patchValue(mt,$e={}){null!=mt&&(mt.forEach((It,sn)=>{this.at(sn)&&this.at(sn).patchValue(It,{onlySelf:!0,emitEvent:$e.emitEvent})}),this.updateValueAndValidity($e))}reset(mt=[],$e={}){this._forEachChild((It,sn)=>{It.reset(mt[sn],{onlySelf:!0,emitEvent:$e.emitEvent})}),this._updatePristine($e),this._updateTouched($e),this.updateValueAndValidity($e)}getRawValue(){return this.controls.map(mt=>mt.getRawValue())}clear(mt={}){this.controls.length<1||(this._forEachChild($e=>$e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:mt.emitEvent}))}_adjustIndex(mt){return mt<0?mt+this.length:mt}_syncPendingControls(){let mt=this.controls.reduce(($e,It)=>!!It._syncPendingControls()||$e,!1);return mt&&this.updateValueAndValidity({onlySelf:!0}),mt}_forEachChild(mt){this.controls.forEach(($e,It)=>{mt($e,It)})}_updateValue(){this.value=this.controls.filter(mt=>mt.enabled||this.disabled).map(mt=>mt.value)}_anyControls(mt){return this.controls.some($e=>$e.enabled&&mt($e))}_setUpControls(){this._forEachChild(mt=>this._registerControl(mt))}_allControlsDisabled(){for(const mt of this.controls)if(mt.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(mt){mt.setParent(this),mt._registerOnCollectionChange(this._onCollectionChange)}_find(mt){return this.at(mt)??null}}function Jo(tt){return!!tt&&(void 0!==tt.asyncValidators||void 0!==tt.validators||void 0!==tt.updateOn)}let Ms=(()=>{class tt{constructor(){this.useNonNullable=!1}get nonNullable(){const $e=new tt;return $e.useNonNullable=!0,$e}group($e,It=null){const sn=this._reduceControls($e);let si={};return Jo(It)?si=It:null!==It&&(si.validators=It.validator,si.asyncValidators=It.asyncValidator),new Qt(sn,si)}record($e,It=null){const sn=this._reduceControls($e);return new Mn(sn,It)}control($e,It,sn){let si={};return this.useNonNullable?(Jo(It)?si=It:(si.validators=It,si.asyncValidators=sn),new ir($e,{...si,nonNullable:!0})):new ir($e,It,sn)}array($e,It,sn){const si=$e.map(Mi=>this._createControl(Mi));return new oo(si,It,sn)}_reduceControls($e){const It={};return Object.keys($e).forEach(sn=>{It[sn]=this._createControl($e[sn])}),It}_createControl($e){return $e instanceof ir||$e instanceof Lt?$e:Array.isArray($e)?this.control($e[0],$e.length>1?$e[1]:null,$e.length>2?$e[2]:null):this.control($e)}static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275prov=c.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})}return tt})(),er=(()=>{class tt{static withConfig($e){return{ngModule:tt,providers:[{provide:Yn,useValue:$e.callSetDisabledState??Vn}]}}static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275mod=c.oAB({type:tt});static#n=this.\u0275inj=c.cJS({imports:[ma]})}return tt})(),pn=(()=>{class tt{static withConfig($e){return{ngModule:tt,providers:[{provide:Xt,useValue:$e.warnOnNgModelWithFormControl??"always"},{provide:Yn,useValue:$e.callSetDisabledState??Vn}]}}static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275mod=c.oAB({type:tt});static#n=this.\u0275inj=c.cJS({imports:[ma]})}return tt})()},2296:(Bn,et,C)=>{"use strict";C.d(et,{RK:()=>me,lW:()=>ae,ot:()=>ke});var c=C(2831),t=C(5879),y=C(4300),I=C(3680),E=C(6814);const F=["mat-button",""],L=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],D=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],U=["mat-icon-button",""],R=["*"],k={capture:!0},O=["focus","click","mouseenter","touchstart"],x="mat-button-ripple-uninitialized";let P=(()=>{class Ie{constructor(){this._document=(0,t.f3M)(E.K0,{optional:!0}),this._animationMode=(0,t.f3M)(t.QbO,{optional:!0}),this._globalRippleOptions=(0,t.f3M)(I.Y2,{optional:!0}),this._platform=(0,t.f3M)(c.t4),this._ngZone=(0,t.f3M)(t.R0b),this._onInteraction=ot=>{if(ot.target===this._document)return;const Ne=ot.target.closest(`[${x}]`);Ne&&(Ne.removeAttribute(x),this._appendRipple(Ne))},this._ngZone.runOutsideAngular(()=>{for(const ot of O)this._document?.addEventListener(ot,this._onInteraction,k)})}ngOnDestroy(){for(const ot of O)this._document?.removeEventListener(ot,this._onInteraction,k)}_appendRipple(ot){if(!this._document)return;const Je=this._document.createElement("span");Je.classList.add("mat-mdc-button-ripple");const Ne=new T(ot,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Ne.rippleConfig.centered=ot.hasAttribute("mat-icon-button"),new I.IR(Ne,this._ngZone,Je,this._platform).setupTriggerEvents(ot),ot.append(Je)}_createMatRipple(ot){if(!this._document)return;ot.querySelector(".mat-mdc-button-ripple")?.remove(),ot.removeAttribute(x);const Je=this._document.createElement("span");Je.classList.add("mat-mdc-button-ripple");const Ne=new I.wG(new t.SBq(Je),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ne._isInitialized=!0,Ne.trigger=ot,ot.append(Je),Ne}static#e=this.\u0275fac=function(Je){return new(Je||Ie)};static#t=this.\u0275prov=t.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})();class T{constructor(He,ot,Je){this._button=He,this._globalRippleOptions=ot,this._setRippleConfig(ot,Je)}_setRippleConfig(He,ot){this.rippleConfig=He||{},"NoopAnimations"===ot&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Y=(0,I.pj)((0,I.Id)((0,I.Kr)(class{constructor(Ie){this._elementRef=Ie}})));let q=(()=>{class Ie extends Y{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(ot){this._ripple=ot}constructor(ot,Je,Ne,Te){super(ot),this._platform=Je,this._ngZone=Ne,this._animationMode=Te,this._focusMonitor=(0,t.f3M)(y.tE),this._rippleLoader=(0,t.f3M)(P),this._isFab=!1;const W=ot.nativeElement.classList;for(const se of B)this._hasHostAttributes(se.selector)&&se.mdcClasses.forEach(ge=>{W.add(ge)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ot="program",Je){ot?this._focusMonitor.focusVia(this._elementRef.nativeElement,ot,Je):this._elementRef.nativeElement.focus(Je)}_hasHostAttributes(...ot){return ot.some(Je=>this._elementRef.nativeElement.hasAttribute(Je))}static#e=this.\u0275fac=function(Je){t.$Z()};static#t=this.\u0275dir=t.lG2({type:Ie,features:[t.qOj,t.TTD]})}return Ie})(),ae=(()=>{class Ie extends q{constructor(ot,Je,Ne,Te){super(ot,Je,Ne,Te)}static#e=this.\u0275fac=function(Je){return new(Je||Ie)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Ie,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Je,Ne){2&Je&&(t.uIk("disabled",Ne.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:F,ngContentSelectors:D,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Je,Ne){1&Je&&(t.F$t(L),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)),2&Je&&t.ekj("mdc-button__ripple",!Ne._isFab)("mdc-fab__ripple",Ne._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Ie})(),me=(()=>{class Ie extends q{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(ot,Je,Ne,Te){super(ot,Je,Ne,Te)}static#e=this.\u0275fac=function(Je){return new(Je||Ie)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Ie,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Je,Ne){2&Je&&(t.uIk("disabled",Ne.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:U,ngContentSelectors:R,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Je,Ne){1&Je&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Ie})(),ke=(()=>{class Ie{static#e=this.\u0275fac=function(Je){return new(Je||Ie)};static#t=this.\u0275mod=t.oAB({type:Ie});static#n=this.\u0275inj=t.cJS({imports:[I.BQ,I.si,I.BQ]})}return Ie})()},5986:(Bn,et,C)=>{"use strict";C.d(et,{oG:()=>j,p9:()=>P});var c=C(5879),t=C(95),y=C(3680),I=C(2495);const E=["input"],F=["label"],L=["*"],D=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:p});function p(){return{color:"accent",clickAction:"check-indeterminate"}}const f={provide:t.JU,useExisting:(0,c.Gpc)(()=>j),multi:!0};class g{}let v=0;const A=p(),U=(0,y.sb)((0,y.pj)((0,y.Kr)((0,y.Id)(class{constructor(T){this._elementRef=T}}))));let R=(()=>{class T extends U{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(S){this._required=(0,I.Ig)(S)}constructor(S,B,Y,q,le,Fe,$){super(B),this._changeDetectorRef=Y,this._ngZone=q,this._animationMode=Fe,this._options=$,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||A,this.color=this.defaultColor=this._options.color||A.color,this.tabIndex=parseInt(le)||0,this.id=this._uniqueId=`${S}${++v}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(S){const B=(0,I.Ig)(S);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(S){const B=(0,I.Ig)(S);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(S){const B=S!=this._indeterminate;this._indeterminate=(0,I.Ig)(S),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(S){this.checked=!!S}registerOnChange(S){this._controlValueAccessorChangeFn=S}registerOnTouched(S){this._onTouched=S}setDisabledState(S){this.disabled=S}_transitionCheckState(S){let B=this._currentCheckState,Y=this._getAnimationTargetElement();if(B!==S&&Y&&(this._currentAnimationClass&&Y.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,S),this._currentCheckState=S,this._currentAnimationClass.length>0)){Y.classList.add(this._currentAnimationClass);const q=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Y.classList.remove(q)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const S=this._options?.clickAction;this.disabled||"noop"===S?!this.disabled&&"noop"===S&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==S&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(S){S.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(S,B){if("NoopAnimations"===this._animationMode)return"";switch(S){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(S){const B=this._inputElement;B&&(B.nativeElement.indeterminate=S)}static#e=this.\u0275fac=function(B){c.$Z()};static#t=this.\u0275dir=c.lG2({type:T,viewQuery:function(B,Y){if(1&B&&(c.Gf(E,5),c.Gf(F,5),c.Gf(y.wG,5)),2&B){let q;c.iGM(q=c.CRH())&&(Y._inputElement=q.first),c.iGM(q=c.CRH())&&(Y._labelElement=q.first),c.iGM(q=c.CRH())&&(Y.ripple=q.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[c.qOj]})}return T})(),j=(()=>{class T extends R{constructor(S,B,Y,q,le,Fe){super("mat-mdc-checkbox-",S,B,Y,q,le,Fe),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(S){const B=new g;return B.source=this,B.checked=S,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(S){S.target&&this._labelElement.nativeElement.contains(S.target)&&S.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||T)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(c.QbO,8),c.Y36(D,8))};static#t=this.\u0275cmp=c.Xpm({type:T,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,Y){2&B&&(c.Ikx("id",Y.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("_mat-animation-noopable","NoopAnimations"===Y._animationMode)("mdc-checkbox--disabled",Y.disabled)("mat-mdc-checkbox-disabled",Y.disabled)("mat-mdc-checkbox-checked",Y.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[c._Bn([f]),c.qOj],ngContentSelectors:L,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,Y){if(1&B&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(le){return Y._preventBubblingFromLabel(le)}),c.TgZ(1,"div",1,2)(3,"div",3),c.NdJ("click",function(){return Y._onTouchTargetClick()}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("blur",function(){return Y._onBlur()})("click",function(){return Y._onInputClick()})("change",function(le){return Y._onInteractionEvent(le)}),c.qZA(),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c._UZ(10,"div",10),c.qZA(),c._UZ(11,"div",11),c.qZA(),c.TgZ(12,"label",12,13),c.Hsn(14),c.qZA()()),2&B){const q=c.MAs(2);c.ekj("mdc-form-field--align-end","before"==Y.labelPosition),c.xp6(4),c.ekj("mdc-checkbox--selected",Y.checked),c.Q6J("checked",Y.checked)("indeterminate",Y.indeterminate)("disabled",Y.disabled)("id",Y.inputId)("required",Y.required)("tabIndex",Y.tabIndex),c.uIk("aria-label",Y.ariaLabel||null)("aria-labelledby",Y.ariaLabelledby)("aria-describedby",Y.ariaDescribedby)("name",Y.name)("value",Y.value),c.xp6(7),c.Q6J("matRippleTrigger",q)("matRippleDisabled",Y.disableRipple||Y.disabled)("matRippleCentered",!0),c.xp6(1),c.Q6J("for",Y.inputId)}},dependencies:[y.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return T})(),x=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({})}return T})(),P=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({imports:[y.BQ,y.si,x,y.BQ,x]})}return T})()},3680:(Bn,et,C)=>{"use strict";C.d(et,{yN:()=>P,mZ:()=>T,_A:()=>Le,rD:()=>ot,sG:()=>fe,K7:()=>jt,HF:()=>st,Y2:()=>_e,BQ:()=>B,XK:()=>Ie,ey:()=>un,Ng:()=>rn,wG:()=>de,si:()=>xe,IR:()=>X,CB:()=>Kt,jH:()=>Tn,pj:()=>$,Kr:()=>ae,Id:()=>Fe,FD:()=>pe,dB:()=>oe,sb:()=>K});var c=C(5879),t=C(4300),y=C(9388),E=C(6814),F=C(2831),L=C(2495),D=C(5592),p=C(8645),f=C(6028);const A=["text"];function U(xt,ht){if(1&xt&&c._UZ(0,"mat-pseudo-checkbox",6),2&xt){const Qe=c.oxw();c.Q6J("disabled",Qe.disabled)("state",Qe.selected?"checked":"unchecked")}}function R(xt,ht){if(1&xt&&c._UZ(0,"mat-pseudo-checkbox",7),2&xt){const Qe=c.oxw();c.Q6J("disabled",Qe.disabled)}}function j(xt,ht){if(1&xt&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&xt){const Qe=c.oxw();c.xp6(1),c.hij("(",Qe.group.label,")")}}const k=[[["mat-icon"]],"*"],O=["mat-icon","*"];let P=(()=>{class xt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return xt})(),T=(()=>{class xt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return xt})();const S=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function N(){return!0}});let B=(()=>{class xt{constructor(Qe,De,Pe){this._sanityChecks=De,this._document=Pe,this._hasDoneGlobalChecks=!1,Qe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Qe){return!(0,F.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Qe])}static#e=this.\u0275fac=function(De){return new(De||xt)(c.LFG(t.qm),c.LFG(S,8),c.LFG(E.K0))};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({imports:[y.vT,y.vT]})}return xt})();function Fe(xt){return class extends xt{get disabled(){return this._disabled}set disabled(ht){this._disabled=(0,L.Ig)(ht)}constructor(...ht){super(...ht),this._disabled=!1}}}function $(xt,ht){return class extends xt{get color(){return this._color}set color(Qe){const De=Qe||this.defaultColor;De!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),De&&this._elementRef.nativeElement.classList.add(`mat-${De}`),this._color=De)}constructor(...Qe){super(...Qe),this.defaultColor=ht,this.color=ht}}}function ae(xt){return class extends xt{get disableRipple(){return this._disableRipple}set disableRipple(ht){this._disableRipple=(0,L.Ig)(ht)}constructor(...ht){super(...ht),this._disableRipple=!1}}}function K(xt,ht=0){return class extends xt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Qe){this._tabIndex=null!=Qe?(0,L.su)(Qe):this.defaultTabIndex}constructor(...Qe){super(...Qe),this._tabIndex=ht,this.defaultTabIndex=ht}}}function pe(xt){return class extends xt{updateErrorState(){const ht=this.errorState,Ye=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ye!==ht&&(this.errorState=Ye,this.stateChanges.next())}constructor(...ht){super(...ht),this.errorState=!1}}}function oe(xt){return class extends xt{constructor(...ht){super(...ht),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new D.y(Qe=>{this._isInitialized?this._notifySubscriber(Qe):this._pendingSubscribers.push(Qe)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(ht){ht.next(),ht.complete()}}}const he=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Se(){return(0,c.f3M)(c.soG)}});class Le{constructor(){this._localeChanges=new p.x,this.localeChanges=this._localeChanges}getValidDateOrNull(ht){return this.isDateInstance(ht)&&this.isValid(ht)?ht:null}deserialize(ht){return null==ht||this.isDateInstance(ht)&&this.isValid(ht)?ht:this.invalid()}setLocale(ht){this.locale=ht,this._localeChanges.next()}compareDate(ht,Qe){return this.getYear(ht)-this.getYear(Qe)||this.getMonth(ht)-this.getMonth(Qe)||this.getDate(ht)-this.getDate(Qe)}sameDate(ht,Qe){if(ht&&Qe){let De=this.isValid(ht),Pe=this.isValid(Qe);return De&&Pe?!this.compareDate(ht,Qe):De==Pe}return ht==Qe}clampDate(ht,Qe,De){return Qe&&this.compareDate(ht,Qe)<0?Qe:De&&this.compareDate(ht,De)>0?De:ht}}const fe=new c.OlP("mat-date-formats"),Re=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Me(xt,ht){const Qe=Array(xt);for(let De=0;De<xt;De++)Qe[De]=ht(De);return Qe}let me=(()=>{class xt extends Le{constructor(Qe,De){super(),this.useUtcForDisplay=!1,super.setLocale(Qe)}getYear(Qe){return Qe.getFullYear()}getMonth(Qe){return Qe.getMonth()}getDate(Qe){return Qe.getDate()}getDayOfWeek(Qe){return Qe.getDay()}getMonthNames(Qe){const De=new Intl.DateTimeFormat(this.locale,{month:Qe,timeZone:"utc"});return Me(12,Pe=>this._format(De,new Date(2017,Pe,1)))}getDateNames(){const Qe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Me(31,De=>this._format(Qe,new Date(2017,0,De+1)))}getDayOfWeekNames(Qe){const De=new Intl.DateTimeFormat(this.locale,{weekday:Qe,timeZone:"utc"});return Me(7,Pe=>this._format(De,new Date(2017,0,Pe+1)))}getYearName(Qe){const De=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(De,Qe)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Qe){return this.getDate(this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe)+1,0))}clone(Qe){return new Date(Qe.getTime())}createDate(Qe,De,Pe){let Ye=this._createDateWithOverflow(Qe,De,Pe);return Ye.getMonth(),Ye}today(){return new Date}parse(Qe,De){return"number"==typeof Qe?new Date(Qe):Qe?new Date(Date.parse(Qe)):null}format(Qe,De){if(!this.isValid(Qe))throw Error("NativeDateAdapter: Cannot format invalid date.");const Pe=new Intl.DateTimeFormat(this.locale,{...De,timeZone:"utc"});return this._format(Pe,Qe)}addCalendarYears(Qe,De){return this.addCalendarMonths(Qe,12*De)}addCalendarMonths(Qe,De){let Pe=this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe)+De,this.getDate(Qe));return this.getMonth(Pe)!=((this.getMonth(Qe)+De)%12+12)%12&&(Pe=this._createDateWithOverflow(this.getYear(Pe),this.getMonth(Pe),0)),Pe}addCalendarDays(Qe,De){return this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe),this.getDate(Qe)+De)}toIso8601(Qe){return[Qe.getUTCFullYear(),this._2digit(Qe.getUTCMonth()+1),this._2digit(Qe.getUTCDate())].join("-")}deserialize(Qe){if("string"==typeof Qe){if(!Qe)return null;if(Re.test(Qe)){let De=new Date(Qe);if(this.isValid(De))return De}}return super.deserialize(Qe)}isDateInstance(Qe){return Qe instanceof Date}isValid(Qe){return!isNaN(Qe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Qe,De,Pe){const Ye=new Date;return Ye.setFullYear(Qe,De,Pe),Ye.setHours(0,0,0,0),Ye}_2digit(Qe){return("00"+Qe).slice(-2)}_format(Qe,De){const Pe=new Date;return Pe.setUTCFullYear(De.getFullYear(),De.getMonth(),De.getDate()),Pe.setUTCHours(De.getHours(),De.getMinutes(),De.getSeconds(),De.getMilliseconds()),Qe.format(Pe)}static#e=this.\u0275fac=function(De){return new(De||xt)(c.LFG(he,8),c.LFG(F.t4))};static#t=this.\u0275prov=c.Yz7({token:xt,factory:xt.\u0275fac})}return xt})();const Ue={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ke=(()=>{class xt{static#e=this.\u0275fac=function(De){return new(De||xt)};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({providers:[{provide:Le,useClass:me}]})}return xt})(),Ie=(()=>{class xt{static#e=this.\u0275fac=function(De){return new(De||xt)};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({providers:[{provide:fe,useValue:Ue}],imports:[ke]})}return xt})(),ot=(()=>{class xt{isErrorState(Qe,De){return!!(Qe&&Qe.invalid&&(Qe.touched||De&&De.submitted))}static#e=this.\u0275fac=function(De){return new(De||xt)};static#t=this.\u0275prov=c.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();class se{constructor(ht,Qe,De,Pe=!1){this._renderer=ht,this.element=Qe,this.config=De,this._animationForciblyDisabledThroughCss=Pe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ge=(0,F.i$)({passive:!0,capture:!0});class J{constructor(){this._events=new Map,this._delegateEventHandler=ht=>{const Qe=(0,F.sA)(ht);Qe&&this._events.get(ht.type)?.forEach((De,Pe)=>{(Pe===Qe||Pe.contains(Qe))&&De.forEach(Ye=>Ye.handleEvent(ht))})}}addHandler(ht,Qe,De,Pe){const Ye=this._events.get(Qe);if(Ye){const ze=Ye.get(De);ze?ze.add(Pe):Ye.set(De,new Set([Pe]))}else this._events.set(Qe,new Map([[De,new Set([Pe])]])),ht.runOutsideAngular(()=>{document.addEventListener(Qe,this._delegateEventHandler,ge)})}removeHandler(ht,Qe,De){const Pe=this._events.get(ht);if(!Pe)return;const Ye=Pe.get(Qe);Ye&&(Ye.delete(De),0===Ye.size&&Pe.delete(Qe),0===Pe.size&&(this._events.delete(ht),document.removeEventListener(ht,this._delegateEventHandler,ge)))}}const Q={enterDuration:225,exitDuration:150},te=(0,F.i$)({passive:!0,capture:!0}),ne=["mousedown","touchstart"],ee=["mouseup","mouseleave","touchend","touchcancel"];class X{static#e=this._eventManager=new J;constructor(ht,Qe,De,Pe){this._target=ht,this._ngZone=Qe,this._platform=Pe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Pe.isBrowser&&(this._containerElement=(0,L.fI)(De))}fadeInRipple(ht,Qe,De={}){const Pe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ye={...Q,...De.animation};De.centered&&(ht=Pe.left+Pe.width/2,Qe=Pe.top+Pe.height/2);const ze=De.radius||function ue(xt,ht,Qe){const De=Math.max(Math.abs(xt-Qe.left),Math.abs(xt-Qe.right)),Pe=Math.max(Math.abs(ht-Qe.top),Math.abs(ht-Qe.bottom));return Math.sqrt(De*De+Pe*Pe)}(ht,Qe,Pe),lt=ht-Pe.left,rt=Qe-Pe.top,dt=Ye.enterDuration,Ft=document.createElement("div");Ft.classList.add("mat-ripple-element"),Ft.style.left=lt-ze+"px",Ft.style.top=rt-ze+"px",Ft.style.height=2*ze+"px",Ft.style.width=2*ze+"px",null!=De.color&&(Ft.style.backgroundColor=De.color),Ft.style.transitionDuration=`${dt}ms`,this._containerElement.appendChild(Ft);const qt=window.getComputedStyle(Ft),Qt=qt.transitionDuration,ln="none"===qt.transitionProperty||"0s"===Qt||"0s, 0s"===Qt||0===Pe.width&&0===Pe.height,mn=new se(this,Ft,De,ln);Ft.style.transform="scale3d(1, 1, 1)",mn.state=0,De.persistent||(this._mostRecentTransientRipple=mn);let Mn=null;return!ln&&(dt||Ye.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Nn=()=>this._finishRippleTransition(mn),Yn=()=>this._destroyRipple(mn);Ft.addEventListener("transitionend",Nn),Ft.addEventListener("transitioncancel",Yn),Mn={onTransitionEnd:Nn,onTransitionCancel:Yn}}),this._activeRipples.set(mn,Mn),(ln||!dt)&&this._finishRippleTransition(mn),mn}fadeOutRipple(ht){if(2===ht.state||3===ht.state)return;const Qe=ht.element,De={...Q,...ht.config.animation};Qe.style.transitionDuration=`${De.exitDuration}ms`,Qe.style.opacity="0",ht.state=2,(ht._animationForciblyDisabledThroughCss||!De.exitDuration)&&this._finishRippleTransition(ht)}fadeOutAll(){this._getActiveRipples().forEach(ht=>ht.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ht=>{ht.config.persistent||ht.fadeOut()})}setupTriggerEvents(ht){const Qe=(0,L.fI)(ht);!this._platform.isBrowser||!Qe||Qe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Qe,ne.forEach(De=>{X._eventManager.addHandler(this._ngZone,De,Qe,this)}))}handleEvent(ht){"mousedown"===ht.type?this._onMousedown(ht):"touchstart"===ht.type?this._onTouchStart(ht):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ee.forEach(Qe=>{this._triggerElement.addEventListener(Qe,this,te)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ht){0===ht.state?this._startFadeOutTransition(ht):2===ht.state&&this._destroyRipple(ht)}_startFadeOutTransition(ht){const Qe=ht===this._mostRecentTransientRipple,{persistent:De}=ht.config;ht.state=1,!De&&(!Qe||!this._isPointerDown)&&ht.fadeOut()}_destroyRipple(ht){const Qe=this._activeRipples.get(ht)??null;this._activeRipples.delete(ht),this._activeRipples.size||(this._containerRect=null),ht===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ht.state=3,null!==Qe&&(ht.element.removeEventListener("transitionend",Qe.onTransitionEnd),ht.element.removeEventListener("transitioncancel",Qe.onTransitionCancel)),ht.element.remove()}_onMousedown(ht){const Qe=(0,t.X6)(ht),De=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Qe&&!De&&(this._isPointerDown=!0,this.fadeInRipple(ht.clientX,ht.clientY,this._target.rippleConfig))}_onTouchStart(ht){if(!this._target.rippleDisabled&&!(0,t.yG)(ht)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Qe=ht.changedTouches;if(Qe)for(let De=0;De<Qe.length;De++)this.fadeInRipple(Qe[De].clientX,Qe[De].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ht=>{!ht.config.persistent&&(1===ht.state||ht.config.terminateOnPointerUp&&0===ht.state)&&ht.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ht=this._triggerElement;ht&&(ne.forEach(Qe=>X._eventManager.removeHandler(Qe,ht,this)),this._pointerUpEventsRegistered&&ee.forEach(Qe=>ht.removeEventListener(Qe,this,te)))}}const _e=new c.OlP("mat-ripple-global-options");let de=(()=>{class xt{get disabled(){return this._disabled}set disabled(Qe){Qe&&this.fadeOutAllNonPersistent(),this._disabled=Qe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Qe){this._trigger=Qe,this._setupTriggerEventsIfEnabled()}constructor(Qe,De,Pe,Ye,ze){this._elementRef=Qe,this._animationMode=ze,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ye||{},this._rippleRenderer=new X(this,De,Qe,Pe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Qe,De=0,Pe){return"number"==typeof Qe?this._rippleRenderer.fadeInRipple(Qe,De,{...this.rippleConfig,...Pe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Qe})}static#e=this.\u0275fac=function(De){return new(De||xt)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(F.t4),c.Y36(_e,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:xt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(De,Pe){2&De&&c.ekj("mat-ripple-unbounded",Pe.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return xt})(),xe=(()=>{class xt{static#e=this.\u0275fac=function(De){return new(De||xt)};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({imports:[B,B]})}return xt})(),Ke=(()=>{class xt{constructor(Qe){this._animationMode=Qe,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(De){return new(De||xt)(c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:xt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(De,Pe){2&De&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Pe.state)("mat-pseudo-checkbox-checked","checked"===Pe.state)("mat-pseudo-checkbox-disabled",Pe.disabled)("mat-pseudo-checkbox-minimal","minimal"===Pe.appearance)("mat-pseudo-checkbox-full","full"===Pe.appearance)("_mat-animation-noopable","NoopAnimations"===Pe._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(De,Pe){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return xt})(),Ve=(()=>{class xt{static#e=this.\u0275fac=function(De){return new(De||xt)};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({imports:[B]})}return xt})();const st=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),jt=new c.OlP("MatOptgroup");let Gt=0;class nn{constructor(ht,Qe=!1){this.source=ht,this.isUserInput=Qe}}let dn=(()=>{class xt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Qe){this._disabled=(0,L.Ig)(Qe)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Qe,De,Pe,Ye){this._element=Qe,this._changeDetectorRef=De,this._parent=Pe,this.group=Ye,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Gt++,this.onSelectionChange=new c.vpe,this._stateChanges=new p.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Qe=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Qe&&this._emitSelectionChangeEvent())}deselect(Qe=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Qe&&this._emitSelectionChangeEvent())}focus(Qe,De){const Pe=this._getHostElement();"function"==typeof Pe.focus&&Pe.focus(De)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Qe){(Qe.keyCode===f.K5||Qe.keyCode===f.L_)&&!(0,f.Vb)(Qe)&&(this._selectViaInteraction(),Qe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Qe=this.viewValue;Qe!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Qe)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Qe=!1){this.onSelectionChange.emit(new nn(this,Qe))}static#e=this.\u0275fac=function(De){c.$Z()};static#t=this.\u0275dir=c.lG2({type:xt,viewQuery:function(De,Pe){if(1&De&&c.Gf(A,7),2&De){let Ye;c.iGM(Ye=c.CRH())&&(Pe._text=Ye.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return xt})(),un=(()=>{class xt extends dn{constructor(Qe,De,Pe,Ye){super(Qe,De,Pe,Ye)}static#e=this.\u0275fac=function(De){return new(De||xt)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(st,8),c.Y36(jt,8))};static#t=this.\u0275cmp=c.Xpm({type:xt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(De,Pe){1&De&&c.NdJ("click",function(){return Pe._selectViaInteraction()})("keydown",function(ze){return Pe._handleKeydown(ze)}),2&De&&(c.Ikx("id",Pe.id),c.uIk("aria-selected",Pe.selected)("aria-disabled",Pe.disabled.toString()),c.ekj("mdc-list-item--selected",Pe.selected)("mat-mdc-option-multiple",Pe.multiple)("mat-mdc-option-active",Pe.active)("mdc-list-item--disabled",Pe.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:O,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(De,Pe){1&De&&(c.F$t(k),c.YNc(0,U,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,R,1,1,"mat-pseudo-checkbox",3),c.YNc(6,j,2,1,"span",4),c._UZ(7,"div",5)),2&De&&(c.Q6J("ngIf",Pe.multiple),c.xp6(5),c.Q6J("ngIf",!Pe.multiple&&Pe.selected&&!Pe.hideSingleSelectionIndicator),c.xp6(1),c.Q6J("ngIf",Pe.group&&Pe.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",Pe._getHostElement())("matRippleDisabled",Pe.disabled||Pe.disableRipple))},dependencies:[de,E.O5,Ke],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return xt})();function Kt(xt,ht,Qe){if(Qe.length){let De=ht.toArray(),Pe=Qe.toArray(),Ye=0;for(let ze=0;ze<xt+1;ze++)De[ze].group&&De[ze].group===Pe[Ye]&&Ye++;return Ye}return 0}function Tn(xt,ht,Qe,De){return xt<Qe?xt:xt+ht>Qe+De?Math.max(0,xt-De+ht):Qe}let rn=(()=>{class xt{static#e=this.\u0275fac=function(De){return new(De||xt)};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({imports:[xe,E.ez,B,Ve]})}return xt})()},8034:(Bn,et,C)=>{"use strict";C.d(et,{FA:()=>Xn,Mq:()=>Lt,hl:()=>Yn,nW:()=>fi});var c=C(4300),t=C(3651),y=C(8484),I=C(6814),E=C(5879),F=C(2296),L=C(799),D=C(3680),p=C(8645),f=C(7394),g=C(3019),v=C(2096),A=C(6028),U=C(9388),R=C(2831),j=C(8180),k=C(7921),O=C(2181),x=C(2495),P=C(6825),T=C(95),N=C(4170),S=C(2032);const B=["mat-calendar-body",""];function Y(ft,hn){if(1&ft&&(E.TgZ(0,"tr",3)(1,"td",4),E._uU(2),E.qZA()()),2&ft){const be=E.oxw();E.xp6(1),E.Udp("padding-top",be._cellPadding)("padding-bottom",be._cellPadding),E.uIk("colspan",be.numCols),E.xp6(1),E.hij(" ",be.label," ")}}function q(ft,hn){if(1&ft&&(E.TgZ(0,"td",4),E._uU(1),E.qZA()),2&ft){const be=E.oxw(2);E.Udp("padding-top",be._cellPadding)("padding-bottom",be._cellPadding),E.uIk("colspan",be._firstRowOffset),E.xp6(1),E.hij(" ",be._firstRowOffset>=be.labelMinRequiredCells?be.label:""," ")}}function le(ft,hn){if(1&ft){const be=E.EpF();E.TgZ(0,"td",8)(1,"button",9),E.NdJ("click",function(gt){const cn=E.CHM(be).$implicit,ei=E.oxw(2);return E.KtG(ei._cellClicked(cn,gt))})("focus",function(gt){const cn=E.CHM(be).$implicit,ei=E.oxw(2);return E.KtG(ei._emitActiveDateChange(cn,gt))}),E.TgZ(2,"span",10),E._uU(3),E.qZA(),E._UZ(4,"span",11),E.qZA()()}if(2&ft){const be=hn.$implicit,vt=hn.index,gt=E.oxw().index,kt=E.oxw();E.Udp("width",kt._cellWidth)("padding-top",kt._cellPadding)("padding-bottom",kt._cellPadding),E.uIk("data-mat-row",gt)("data-mat-col",vt),E.xp6(1),E.ekj("mat-calendar-body-disabled",!be.enabled)("mat-calendar-body-active",kt._isActiveCell(gt,vt))("mat-calendar-body-range-start",kt._isRangeStart(be.compareValue))("mat-calendar-body-range-end",kt._isRangeEnd(be.compareValue))("mat-calendar-body-in-range",kt._isInRange(be.compareValue))("mat-calendar-body-comparison-bridge-start",kt._isComparisonBridgeStart(be.compareValue,gt,vt))("mat-calendar-body-comparison-bridge-end",kt._isComparisonBridgeEnd(be.compareValue,gt,vt))("mat-calendar-body-comparison-start",kt._isComparisonStart(be.compareValue))("mat-calendar-body-comparison-end",kt._isComparisonEnd(be.compareValue))("mat-calendar-body-in-comparison-range",kt._isInComparisonRange(be.compareValue))("mat-calendar-body-preview-start",kt._isPreviewStart(be.compareValue))("mat-calendar-body-preview-end",kt._isPreviewEnd(be.compareValue))("mat-calendar-body-in-preview",kt._isInPreview(be.compareValue)),E.Q6J("ngClass",be.cssClasses)("tabindex",kt._isActiveCell(gt,vt)?0:-1),E.uIk("aria-label",be.ariaLabel)("aria-disabled",!be.enabled||null)("aria-pressed",kt._isSelected(be.compareValue))("aria-current",kt.todayValue===be.compareValue?"date":null)("aria-describedby",kt._getDescribedby(be.compareValue)),E.xp6(1),E.ekj("mat-calendar-body-selected",kt._isSelected(be.compareValue))("mat-calendar-body-comparison-identical",kt._isComparisonIdentical(be.compareValue))("mat-calendar-body-today",kt.todayValue===be.compareValue),E.xp6(1),E.hij(" ",be.displayValue," ")}}function Fe(ft,hn){if(1&ft&&(E.TgZ(0,"tr",5),E.YNc(1,q,2,6,"td",6),E.YNc(2,le,5,48,"td",7),E.qZA()),2&ft){const be=hn.$implicit,vt=hn.index,gt=E.oxw();E.xp6(1),E.Q6J("ngIf",0===vt&&gt._firstRowOffset),E.xp6(1),E.Q6J("ngForOf",be)}}function $(ft,hn){if(1&ft&&(E.TgZ(0,"th",5)(1,"span",6),E._uU(2),E.qZA(),E.TgZ(3,"span",7),E._uU(4),E.qZA()()),2&ft){const be=hn.$implicit;E.xp6(2),E.Oqu(be.long),E.xp6(2),E.Oqu(be.narrow)}}const ae=["*"];function K(ft,hn){}function pe(ft,hn){if(1&ft){const be=E.EpF();E.TgZ(0,"mat-month-view",5),E.NdJ("activeDateChange",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt.activeDate=gt)})("_userSelection",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._dateSelected(gt))})("dragStarted",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._dragStarted(gt))})("dragEnded",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._dragEnded(gt))}),E.qZA()}if(2&ft){const be=E.oxw();E.Q6J("activeDate",be.activeDate)("selected",be.selected)("dateFilter",be.dateFilter)("maxDate",be.maxDate)("minDate",be.minDate)("dateClass",be.dateClass)("comparisonStart",be.comparisonStart)("comparisonEnd",be.comparisonEnd)("startDateAccessibleName",be.startDateAccessibleName)("endDateAccessibleName",be.endDateAccessibleName)("activeDrag",be._activeDrag)}}function oe(ft,hn){if(1&ft){const be=E.EpF();E.TgZ(0,"mat-year-view",6),E.NdJ("activeDateChange",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt.activeDate=gt)})("monthSelected",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._monthSelectedInYearView(gt))})("selectedChange",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._goToDateInView(gt,"month"))}),E.qZA()}if(2&ft){const be=E.oxw();E.Q6J("activeDate",be.activeDate)("selected",be.selected)("dateFilter",be.dateFilter)("maxDate",be.maxDate)("minDate",be.minDate)("dateClass",be.dateClass)}}function he(ft,hn){if(1&ft){const be=E.EpF();E.TgZ(0,"mat-multi-year-view",7),E.NdJ("activeDateChange",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt.activeDate=gt)})("yearSelected",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._yearSelectedInMultiYearView(gt))})("selectedChange",function(gt){E.CHM(be);const kt=E.oxw();return E.KtG(kt._goToDateInView(gt,"year"))}),E.qZA()}if(2&ft){const be=E.oxw();E.Q6J("activeDate",be.activeDate)("selected",be.selected)("dateFilter",be.dateFilter)("maxDate",be.maxDate)("minDate",be.minDate)("dateClass",be.dateClass)}}function Se(ft,hn){}const Le=["button"];function fe(ft,hn){1&ft&&(E.O4$(),E.TgZ(0,"svg",3),E._UZ(1,"path",4),E.qZA())}const Re=[[["","matDatepickerToggleIcon",""]]],Me=["[matDatepickerToggleIcon]"];let He=(()=>{class ft{constructor(){this.changes=new p.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(be,vt){return`${be} \u2013 ${vt}`}formatYearRangeLabel(be,vt){return`${be} to ${vt}`}static#e=this.\u0275fac=function(vt){return new(vt||ft)};static#t=this.\u0275prov=E.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"})}return ft})();class ot{constructor(hn,be,vt,gt,kt={},cn=hn,ei){this.value=hn,this.displayValue=be,this.ariaLabel=vt,this.enabled=gt,this.cssClasses=kt,this.compareValue=cn,this.rawValue=ei}}let Je=1;const Ne=(0,R.i$)({passive:!1,capture:!0}),Te=(0,R.i$)({passive:!0,capture:!0}),W=(0,R.i$)({passive:!0});let se=(()=>{class ft{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(be,vt){this._elementRef=be,this._ngZone=vt,this._platform=(0,E.f3M)(R.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new E.vpe,this.previewChange=new E.vpe,this.activeDateChange=new E.vpe,this.dragStarted=new E.vpe,this.dragEnded=new E.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=gt=>{if(this._skipNextFocus&&"focus"===gt.type)this._skipNextFocus=!1;else if(gt.target&&this.isRange){const kt=this._getCellFromElement(gt.target);kt&&this._ngZone.run(()=>this.previewChange.emit({value:kt.enabled?kt:null,event:gt}))}},this._touchmoveHandler=gt=>{if(!this.isRange)return;const kt=ne(gt),cn=kt?this._getCellFromElement(kt):null;kt!==gt.target&&(this._didDragSinceMouseDown=!0),J(gt.target)&&gt.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:cn?.enabled?cn:null,event:gt}))},this._leaveHandler=gt=>{null!==this.previewEnd&&this.isRange&&("blur"!==gt.type&&(this._didDragSinceMouseDown=!0),gt.target&&this._getCellFromElement(gt.target)&&(!gt.relatedTarget||!this._getCellFromElement(gt.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:gt})))},this._mousedownHandler=gt=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const kt=gt.target&&this._getCellFromElement(gt.target);!kt||!this._isInRange(kt.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:kt.rawValue,event:gt})})},this._mouseupHandler=gt=>{if(!this.isRange)return;const kt=J(gt.target);kt?kt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const cn=this._getCellFromElement(kt);this.dragEnded.emit({value:cn?.rawValue??null,event:gt})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:gt})})},this._touchendHandler=gt=>{const kt=ne(gt);kt&&this._mouseupHandler({target:kt})},this._id="mat-calendar-body-"+Je++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,vt.runOutsideAngular(()=>{const gt=be.nativeElement;gt.addEventListener("touchmove",this._touchmoveHandler,Ne),gt.addEventListener("mouseenter",this._enterHandler,Te),gt.addEventListener("focus",this._enterHandler,Te),gt.addEventListener("mouseleave",this._leaveHandler,Te),gt.addEventListener("blur",this._leaveHandler,Te),gt.addEventListener("mousedown",this._mousedownHandler,W),gt.addEventListener("touchstart",this._mousedownHandler,W),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(be,vt){this._didDragSinceMouseDown||be.enabled&&this.selectedValueChange.emit({value:be.value,event:vt})}_emitActiveDateChange(be,vt){be.enabled&&this.activeDateChange.emit({value:be.value,event:vt})}_isSelected(be){return this.startValue===be||this.endValue===be}ngOnChanges(be){const vt=be.numCols,{rows:gt,numCols:kt}=this;(be.rows||vt)&&(this._firstRowOffset=gt&&gt.length&&gt[0].length?kt-gt[0].length:0),(be.cellAspectRatio||vt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/kt+"%"),(vt||!this._cellWidth)&&(this._cellWidth=100/kt+"%")}ngOnDestroy(){const be=this._elementRef.nativeElement;be.removeEventListener("touchmove",this._touchmoveHandler,Ne),be.removeEventListener("mouseenter",this._enterHandler,Te),be.removeEventListener("focus",this._enterHandler,Te),be.removeEventListener("mouseleave",this._leaveHandler,Te),be.removeEventListener("blur",this._leaveHandler,Te),be.removeEventListener("mousedown",this._mousedownHandler,W),be.removeEventListener("touchstart",this._mousedownHandler,W),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(be,vt){let gt=be*this.numCols+vt;return be&&(gt-=this._firstRowOffset),gt==this.activeCell}_focusActiveCell(be=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,j.q)(1)).subscribe(()=>{setTimeout(()=>{const vt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");vt&&(be||(this._skipNextFocus=!0),vt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(be){return Q(be,this.startValue,this.endValue)}_isRangeEnd(be){return Z(be,this.startValue,this.endValue)}_isInRange(be){return te(be,this.startValue,this.endValue,this.isRange)}_isComparisonStart(be){return Q(be,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(be,vt,gt){if(!this._isComparisonStart(be)||this._isRangeStart(be)||!this._isInRange(be))return!1;let kt=this.rows[vt][gt-1];if(!kt){const cn=this.rows[vt-1];kt=cn&&cn[cn.length-1]}return kt&&!this._isRangeEnd(kt.compareValue)}_isComparisonBridgeEnd(be,vt,gt){if(!this._isComparisonEnd(be)||this._isRangeEnd(be)||!this._isInRange(be))return!1;let kt=this.rows[vt][gt+1];if(!kt){const cn=this.rows[vt+1];kt=cn&&cn[0]}return kt&&!this._isRangeStart(kt.compareValue)}_isComparisonEnd(be){return Z(be,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(be){return te(be,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(be){return this.comparisonStart===this.comparisonEnd&&be===this.comparisonStart}_isPreviewStart(be){return Q(be,this.previewStart,this.previewEnd)}_isPreviewEnd(be){return Z(be,this.previewStart,this.previewEnd)}_isInPreview(be){return te(be,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(be){return this.isRange?this.startValue===be&&this.endValue===be?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===be?this._startDateLabelId:this.endValue===be?this._endDateLabelId:null:null}_getCellFromElement(be){const vt=J(be);if(vt){const gt=vt.getAttribute("data-mat-row"),kt=vt.getAttribute("data-mat-col");if(gt&&kt)return this.rows[parseInt(gt)][parseInt(kt)]}return null}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(E.SBq),E.Y36(E.R0b))};static#t=this.\u0275cmp=E.Xpm({type:ft,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[E.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(vt,gt){1&vt&&(E.YNc(0,Y,3,6,"tr",0),E.YNc(1,Fe,3,2,"tr",1),E.TgZ(2,"label",2),E._uU(3),E.qZA(),E.TgZ(4,"label",2),E._uU(5),E.qZA()),2&vt&&(E.Q6J("ngIf",gt._firstRowOffset<gt.labelMinRequiredCells),E.xp6(1),E.Q6J("ngForOf",gt.rows),E.xp6(1),E.Q6J("id",gt._startDateLabelId),E.xp6(1),E.hij(" ",gt.startDateAccessibleName,"\n"),E.xp6(1),E.Q6J("id",gt._endDateLabelId),E.xp6(1),E.hij(" ",gt.endDateAccessibleName,"\n"))},dependencies:[I.mk,I.sg,I.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return ft})();function ge(ft){return"TD"===ft?.nodeName}function J(ft){let hn;return ge(ft)?hn=ft:ge(ft.parentNode)?hn=ft.parentNode:ge(ft.parentNode?.parentNode)&&(hn=ft.parentNode.parentNode),null!=hn?.getAttribute("data-mat-row")?hn:null}function Q(ft,hn,be){return null!==be&&hn!==be&&ft<be&&ft===hn}function Z(ft,hn,be){return null!==hn&&hn!==be&&ft>=hn&&ft===be}function te(ft,hn,be,vt){return vt&&null!==hn&&null!==be&&hn!==be&&ft>=hn&&ft<=be}function ne(ft){const hn=ft.changedTouches[0];return document.elementFromPoint(hn.clientX,hn.clientY)}class ee{constructor(hn,be){this.start=hn,this.end=be}}let X=(()=>{class ft{constructor(be,vt){this.selection=be,this._adapter=vt,this._selectionChanged=new p.x,this.selectionChanged=this._selectionChanged,this.selection=be}updateSelection(be,vt){const gt=this.selection;this.selection=be,this._selectionChanged.next({selection:be,source:vt,oldValue:gt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(be){return this._adapter.isDateInstance(be)&&this._adapter.isValid(be)}static#e=this.\u0275fac=function(vt){E.$Z()};static#t=this.\u0275prov=E.Yz7({token:ft,factory:ft.\u0275fac})}return ft})(),ue=(()=>{class ft extends X{constructor(be){super(null,be)}add(be){super.updateSelection(be,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const be=new ft(this._adapter);return be.updateSelection(this.selection,this),be}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.LFG(D._A))};static#t=this.\u0275prov=E.Yz7({token:ft,factory:ft.\u0275fac})}return ft})();const xe={provide:X,deps:[[new E.FiY,new E.tp0,X],D._A],useFactory:function de(ft,hn){return ft||new ue(hn)}},st=new E.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let wt=(()=>{class ft{get activeDate(){return this._activeDate}set activeDate(be){const vt=this._activeDate,gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),this._hasSameMonthAndYear(vt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}constructor(be,vt,gt,kt,cn){this._changeDetectorRef=be,this._dateFormats=vt,this._dateAdapter=gt,this._dir=kt,this._rangeStrategy=cn,this._rerenderSubscription=f.w0.EMPTY,this.activeDrag=null,this.selectedChange=new E.vpe,this._userSelection=new E.vpe,this.dragStarted=new E.vpe,this.dragEnded=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnChanges(be){const vt=be.comparisonStart||be.comparisonEnd;vt&&!vt.firstChange&&this._setRanges(this.selected),be.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(be){const vt=be.value,gt=this._getDateFromDayOfMonth(vt);let kt,cn;this._selected instanceof ee?(kt=this._getDateInCurrentMonth(this._selected.start),cn=this._getDateInCurrentMonth(this._selected.end)):kt=cn=this._getDateInCurrentMonth(this._selected),(kt!==vt||cn!==vt)&&this.selectedChange.emit(gt),this._userSelection.emit({value:gt,event:be.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(be){const gt=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(be.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(be){const vt=this._activeDate,gt=this._isRtl();switch(be.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,gt?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,gt?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.Ku:this.activeDate=be.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.VM:this.activeDate=be.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.K5:case A.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&be.preventDefault());case A.hY:return void(null!=this._previewEnd&&!(0,A.Vb)(be)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:be}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:be})),be.preventDefault(),be.stopPropagation()));default:return}this._dateAdapter.compareDate(vt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),be.preventDefault()}_handleCalendarBodyKeyup(be){(be.keyCode===A.L_||be.keyCode===A.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:be}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let be=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(be)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(be){this._matCalendarBody._focusActiveCell(be)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:be,value:vt}){if(this._rangeStrategy){const gt=vt?vt.rawValue:null,kt=this._rangeStrategy.createPreview(gt,this.selected,be);if(this._previewStart=this._getCellCompareValue(kt.start),this._previewEnd=this._getCellCompareValue(kt.end),this.activeDrag&&gt){const cn=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,gt,be);cn&&(this._previewStart=this._getCellCompareValue(cn.start),this._previewEnd=this._getCellCompareValue(cn.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(be){if(this.activeDrag)if(be.value){const vt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,be.value,be.event);this.dragEnded.emit({value:vt??null,event:be.event})}else this.dragEnded.emit({value:null,event:be.event})}_getDateFromDayOfMonth(be){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),be)}_initWeekdays(){const be=this._dateAdapter.getFirstDayOfWeek(),vt=this._dateAdapter.getDayOfWeekNames("narrow");let kt=this._dateAdapter.getDayOfWeekNames("long").map((cn,ei)=>({long:cn,narrow:vt[ei]}));this._weekdays=kt.slice(be).concat(kt.slice(0,be))}_createWeekCells(){const be=this._dateAdapter.getNumDaysInMonth(this.activeDate),vt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let gt=0,kt=this._firstWeekOffset;gt<be;gt++,kt++){7==kt&&(this._weeks.push([]),kt=0);const cn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),gt+1),ei=this._shouldEnableDate(cn),Xi=this._dateAdapter.format(cn,this._dateFormats.display.dateA11yLabel),Ir=this.dateClass?this.dateClass(cn,"month"):void 0;this._weeks[this._weeks.length-1].push(new ot(gt+1,vt[gt],Xi,ei,Ir,this._getCellCompareValue(cn),cn))}}_shouldEnableDate(be){return!!be&&(!this.minDate||this._dateAdapter.compareDate(be,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(be,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(be))}_getDateInCurrentMonth(be){return be&&this._hasSameMonthAndYear(be,this.activeDate)?this._dateAdapter.getDate(be):null}_hasSameMonthAndYear(be,vt){return!(!be||!vt||this._dateAdapter.getMonth(be)!=this._dateAdapter.getMonth(vt)||this._dateAdapter.getYear(be)!=this._dateAdapter.getYear(vt))}_getCellCompareValue(be){if(be){const vt=this._dateAdapter.getYear(be),gt=this._dateAdapter.getMonth(be),kt=this._dateAdapter.getDate(be);return new Date(vt,gt,kt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(be){be instanceof ee?(this._rangeStart=this._getCellCompareValue(be.start),this._rangeEnd=this._getCellCompareValue(be.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(be),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(be){return!this.dateFilter||this.dateFilter(be)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(E.sBO),E.Y36(D.sG,8),E.Y36(D._A,8),E.Y36(U.Is,8),E.Y36(st,8))};static#t=this.\u0275cmp=E.Xpm({type:ft,selectors:[["mat-month-view"]],viewQuery:function(vt,gt){if(1&vt&&E.Gf(se,5),2&vt){let kt;E.iGM(kt=E.CRH())&&(gt._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[E.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(vt,gt){1&vt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E.YNc(3,$,5,2,"th",2),E.qZA(),E.TgZ(4,"tr"),E._UZ(5,"th",3),E.qZA()(),E.TgZ(6,"tbody",4),E.NdJ("selectedValueChange",function(cn){return gt._dateSelected(cn)})("activeDateChange",function(cn){return gt._updateActiveDate(cn)})("previewChange",function(cn){return gt._previewChanged(cn)})("dragStarted",function(cn){return gt.dragStarted.emit(cn)})("dragEnded",function(cn){return gt._dragEnded(cn)})("keyup",function(cn){return gt._handleCalendarBodyKeyup(cn)})("keydown",function(cn){return gt._handleCalendarBodyKeydown(cn)}),E.qZA()()),2&vt&&(E.xp6(3),E.Q6J("ngForOf",gt._weekdays),E.xp6(3),E.Q6J("label",gt._monthLabel)("rows",gt._weeks)("todayValue",gt._todayDate)("startValue",gt._rangeStart)("endValue",gt._rangeEnd)("comparisonStart",gt._comparisonRangeStart)("comparisonEnd",gt._comparisonRangeEnd)("previewStart",gt._previewStart)("previewEnd",gt._previewEnd)("isRange",gt._isRange)("labelMinRequiredCells",3)("activeCell",gt._dateAdapter.getDate(gt.activeDate)-1)("startDateAccessibleName",gt.startDateAccessibleName)("endDateAccessibleName",gt.endDateAccessibleName))},dependencies:[I.sg,se],encapsulation:2,changeDetection:0})}return ft})();const Gt=24;let dn=(()=>{class ft{get activeDate(){return this._activeDate}set activeDate(be){let vt=this._activeDate;const gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),un(this._dateAdapter,vt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be)),this._setSelectedYear(be)}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}constructor(be,vt,gt){this._changeDetectorRef=be,this._dateAdapter=vt,this._dir=gt,this._rerenderSubscription=f.w0.EMPTY,this.selectedChange=new E.vpe,this.yearSelected=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const vt=this._dateAdapter.getYear(this._activeDate)-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let gt=0,kt=[];gt<Gt;gt++)kt.push(vt+gt),4==kt.length&&(this._years.push(kt.map(cn=>this._createCellForYear(cn))),kt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(be){const vt=be.value,gt=this._dateAdapter.createDate(vt,0,1),kt=this._getDateFromYear(vt);this.yearSelected.emit(gt),this.selectedChange.emit(kt)}_updateActiveDate(be){const gt=this._activeDate;this.activeDate=this._getDateFromYear(be.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(be){const vt=this._activeDate,gt=this._isRtl();switch(be.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gt?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gt?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Gt-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?10*-Gt:-Gt);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?10*Gt:Gt);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(vt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),be.preventDefault()}_handleCalendarBodyKeyup(be){(be.keyCode===A.L_||be.keyCode===A.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:be}),this._selectionKeyPressed=!1)}_getActiveCell(){return Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(be){const vt=this._dateAdapter.getMonth(this.activeDate),gt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(be,vt,1));return this._dateAdapter.createDate(be,vt,Math.min(this._dateAdapter.getDate(this.activeDate),gt))}_createCellForYear(be){const vt=this._dateAdapter.createDate(be,0,1),gt=this._dateAdapter.getYearName(vt),kt=this.dateClass?this.dateClass(vt,"multi-year"):void 0;return new ot(be,gt,gt,this._shouldEnableYear(be),kt)}_shouldEnableYear(be){if(null==be||this.maxDate&&be>this._dateAdapter.getYear(this.maxDate)||this.minDate&&be<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let gt=this._dateAdapter.createDate(be,0,1);this._dateAdapter.getYear(gt)==be;gt=this._dateAdapter.addCalendarDays(gt,1))if(this.dateFilter(gt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(be){if(this._selectedYear=null,be instanceof ee){const vt=be.start||be.end;vt&&(this._selectedYear=this._dateAdapter.getYear(vt))}else be&&(this._selectedYear=this._dateAdapter.getYear(be))}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(E.sBO),E.Y36(D._A,8),E.Y36(U.Is,8))};static#t=this.\u0275cmp=E.Xpm({type:ft,selectors:[["mat-multi-year-view"]],viewQuery:function(vt,gt){if(1&vt&&E.Gf(se,5),2&vt){let kt;E.iGM(kt=E.CRH())&&(gt._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(vt,gt){1&vt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E._UZ(3,"th",2),E.qZA()(),E.TgZ(4,"tbody",3),E.NdJ("selectedValueChange",function(cn){return gt._yearSelected(cn)})("activeDateChange",function(cn){return gt._updateActiveDate(cn)})("keyup",function(cn){return gt._handleCalendarBodyKeyup(cn)})("keydown",function(cn){return gt._handleCalendarBodyKeydown(cn)}),E.qZA()()),2&vt&&(E.xp6(4),E.Q6J("rows",gt._years)("todayValue",gt._todayYear)("startValue",gt._selectedYear)("endValue",gt._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",gt._getActiveCell()))},dependencies:[se],encapsulation:2,changeDetection:0})}return ft})();function un(ft,hn,be,vt,gt){const kt=ft.getYear(hn),cn=ft.getYear(be),ei=Tn(ft,vt,gt);return Math.floor((kt-ei)/Gt)===Math.floor((cn-ei)/Gt)}function Kt(ft,hn,be,vt){return function rn(ft,hn){return(ft%hn+hn)%hn}(ft.getYear(hn)-Tn(ft,be,vt),Gt)}function Tn(ft,hn,be){let vt=0;return be?vt=ft.getYear(be)-Gt+1:hn&&(vt=ft.getYear(hn)),vt}let xt=(()=>{class ft{get activeDate(){return this._activeDate}set activeDate(be){let vt=this._activeDate;const gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),this._dateAdapter.getYear(vt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be)),this._setSelectedMonth(be)}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}constructor(be,vt,gt,kt){this._changeDetectorRef=be,this._dateFormats=vt,this._dateAdapter=gt,this._dir=kt,this._rerenderSubscription=f.w0.EMPTY,this.selectedChange=new E.vpe,this.monthSelected=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(be){const vt=be.value,gt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),vt,1);this.monthSelected.emit(gt);const kt=this._getDateFromMonth(vt);this.selectedChange.emit(kt)}_updateActiveDate(be){const gt=this._activeDate;this.activeDate=this._getDateFromMonth(be.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(be){const vt=this._activeDate,gt=this._isRtl();switch(be.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,gt?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,gt?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?-10:-1);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?10:1);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(vt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),be.preventDefault()}_handleCalendarBodyKeyup(be){(be.keyCode===A.L_||be.keyCode===A.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:be}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let be=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(vt=>vt.map(gt=>this._createCellForMonth(gt,be[gt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(be){return be&&this._dateAdapter.getYear(be)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(be):null}_getDateFromMonth(be){const vt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),be,1),gt=this._dateAdapter.getNumDaysInMonth(vt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),be,Math.min(this._dateAdapter.getDate(this.activeDate),gt))}_createCellForMonth(be,vt){const gt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),be,1),kt=this._dateAdapter.format(gt,this._dateFormats.display.monthYearA11yLabel),cn=this.dateClass?this.dateClass(gt,"year"):void 0;return new ot(be,vt.toLocaleUpperCase(),kt,this._shouldEnableMonth(be),cn)}_shouldEnableMonth(be){const vt=this._dateAdapter.getYear(this.activeDate);if(null==be||this._isYearAndMonthAfterMaxDate(vt,be)||this._isYearAndMonthBeforeMinDate(vt,be))return!1;if(!this.dateFilter)return!0;for(let kt=this._dateAdapter.createDate(vt,be,1);this._dateAdapter.getMonth(kt)==be;kt=this._dateAdapter.addCalendarDays(kt,1))if(this.dateFilter(kt))return!0;return!1}_isYearAndMonthAfterMaxDate(be,vt){if(this.maxDate){const gt=this._dateAdapter.getYear(this.maxDate),kt=this._dateAdapter.getMonth(this.maxDate);return be>gt||be===gt&&vt>kt}return!1}_isYearAndMonthBeforeMinDate(be,vt){if(this.minDate){const gt=this._dateAdapter.getYear(this.minDate),kt=this._dateAdapter.getMonth(this.minDate);return be<gt||be===gt&&vt<kt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(be){this._selectedMonth=be instanceof ee?this._getMonthInCurrentYear(be.start)||this._getMonthInCurrentYear(be.end):this._getMonthInCurrentYear(be)}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(E.sBO),E.Y36(D.sG,8),E.Y36(D._A,8),E.Y36(U.Is,8))};static#t=this.\u0275cmp=E.Xpm({type:ft,selectors:[["mat-year-view"]],viewQuery:function(vt,gt){if(1&vt&&E.Gf(se,5),2&vt){let kt;E.iGM(kt=E.CRH())&&(gt._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(vt,gt){1&vt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E._UZ(3,"th",2),E.qZA()(),E.TgZ(4,"tbody",3),E.NdJ("selectedValueChange",function(cn){return gt._monthSelected(cn)})("activeDateChange",function(cn){return gt._updateActiveDate(cn)})("keyup",function(cn){return gt._handleCalendarBodyKeyup(cn)})("keydown",function(cn){return gt._handleCalendarBodyKeydown(cn)}),E.qZA()()),2&vt&&(E.xp6(4),E.Q6J("label",gt._yearLabel)("rows",gt._months)("todayValue",gt._todayMonth)("startValue",gt._selectedMonth)("endValue",gt._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",gt._dateAdapter.getMonth(gt.activeDate)))},dependencies:[se],encapsulation:2,changeDetection:0})}return ft})(),ht=1,Qe=(()=>{class ft{constructor(be,vt,gt,kt,cn){this._intl=be,this.calendar=vt,this._dateAdapter=gt,this._dateFormats=kt,this._id="mat-calendar-header-"+ht++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>cn.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Gt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Gt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(be,vt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(be)==this._dateAdapter.getYear(vt)&&this._dateAdapter.getMonth(be)==this._dateAdapter.getMonth(vt):"year"==this.calendar.currentView?this._dateAdapter.getYear(be)==this._dateAdapter.getYear(vt):un(this._dateAdapter,be,vt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const vt=this._dateAdapter.getYear(this.calendar.activeDate)-Kt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),gt=vt+Gt-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(vt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(gt,0,1))]}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(He),E.Y36((0,E.Gpc)(()=>De)),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(E.sBO))};static#t=this.\u0275cmp=E.Xpm({type:ft,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ae,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(vt,gt){1&vt&&(E.F$t(),E.TgZ(0,"div",0)(1,"div",1)(2,"button",2),E.NdJ("click",function(){return gt.currentPeriodClicked()}),E.TgZ(3,"span",3),E._uU(4),E.qZA(),E.O4$(),E.TgZ(5,"svg",4),E._UZ(6,"polygon",5),E.qZA()(),E.kcU(),E._UZ(7,"div",6),E.Hsn(8),E.TgZ(9,"button",7),E.NdJ("click",function(){return gt.previousClicked()}),E.qZA(),E.TgZ(10,"button",8),E.NdJ("click",function(){return gt.nextClicked()}),E.qZA()()(),E.TgZ(11,"label",9),E._uU(12),E.qZA()),2&vt&&(E.xp6(2),E.uIk("aria-label",gt.periodButtonLabel)("aria-describedby",gt._periodButtonLabelId),E.xp6(2),E.Oqu(gt.periodButtonText),E.xp6(1),E.ekj("mat-calendar-invert","month"!==gt.calendar.currentView),E.xp6(4),E.Q6J("disabled",!gt.previousEnabled()),E.uIk("aria-label",gt.prevButtonLabel),E.xp6(1),E.Q6J("disabled",!gt.nextEnabled()),E.uIk("aria-label",gt.nextButtonLabel),E.xp6(1),E.Q6J("id",gt._periodButtonLabelId),E.xp6(1),E.Oqu(gt.periodButtonDescription))},dependencies:[F.lW,F.RK],encapsulation:2,changeDetection:0})}return ft})(),De=(()=>{class ft{get startAt(){return this._startAt}set startAt(be){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get activeDate(){return this._clampedActiveDate}set activeDate(be){this._clampedActiveDate=this._dateAdapter.clampDate(be,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(be){const vt=this._currentView!==be?be:null;this._currentView=be,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),vt&&this.viewChanged.emit(vt)}constructor(be,vt,gt,kt){this._dateAdapter=vt,this._dateFormats=gt,this._changeDetectorRef=kt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new E.vpe,this.yearSelected=new E.vpe,this.monthSelected=new E.vpe,this.viewChanged=new E.vpe(!0),this._userSelection=new E.vpe,this._userDragDrop=new E.vpe,this._activeDrag=null,this.stateChanges=new p.x,this._intlChanges=be.changes.subscribe(()=>{kt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new y.C5(this.headerComponent||Qe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(be){const vt=be.minDate&&!this._dateAdapter.sameDate(be.minDate.previousValue,be.minDate.currentValue)?be.minDate:void 0,gt=be.maxDate&&!this._dateAdapter.sameDate(be.maxDate.previousValue,be.maxDate.currentValue)?be.maxDate:void 0,kt=vt||gt||be.dateFilter;if(kt&&!kt.firstChange){const cn=this._getCurrentViewComponent();cn&&(this._changeDetectorRef.detectChanges(),cn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(be){const vt=be.value;(this.selected instanceof ee||vt&&!this._dateAdapter.sameDate(vt,this.selected))&&this.selectedChange.emit(vt),this._userSelection.emit(be)}_yearSelectedInMultiYearView(be){this.yearSelected.emit(be)}_monthSelectedInYearView(be){this.monthSelected.emit(be)}_goToDateInView(be,vt){this.activeDate=be,this.currentView=vt}_dragStarted(be){this._activeDrag=be}_dragEnded(be){this._activeDrag&&(be.value&&this._userDragDrop.emit(be),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(He),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(E.sBO))};static#t=this.\u0275cmp=E.Xpm({type:ft,selectors:[["mat-calendar"]],viewQuery:function(vt,gt){if(1&vt&&(E.Gf(wt,5),E.Gf(xt,5),E.Gf(dn,5)),2&vt){let kt;E.iGM(kt=E.CRH())&&(gt.monthView=kt.first),E.iGM(kt=E.CRH())&&(gt.yearView=kt.first),E.iGM(kt=E.CRH())&&(gt.multiYearView=kt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[E._Bn([xe]),E.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(vt,gt){1&vt&&(E.YNc(0,K,0,0,"ng-template",0),E.TgZ(1,"div",1),E.YNc(2,pe,1,11,"mat-month-view",2),E.YNc(3,oe,1,6,"mat-year-view",3),E.YNc(4,he,1,6,"mat-multi-year-view",4),E.qZA()),2&vt&&(E.Q6J("cdkPortalOutlet",gt._calendarHeaderPortal),E.xp6(1),E.Q6J("ngSwitch",gt.currentView),E.xp6(1),E.Q6J("ngSwitchCase","month"),E.xp6(1),E.Q6J("ngSwitchCase","year"),E.xp6(1),E.Q6J("ngSwitchCase","multi-year"))},dependencies:[I.RF,I.n9,c.kH,y.Pl,wt,xt,dn],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return ft})();const Pe={transformPanel:(0,P.X$)("transformPanel",[(0,P.eR)("void => enter-dropdown",(0,P.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,P.F4)([(0,P.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,P.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,P.eR)("void => enter-dialog",(0,P.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,P.F4)([(0,P.oB)({opacity:0,transform:"scale(0.7)"}),(0,P.oB)({transform:"none",opacity:1})]))),(0,P.eR)("* => void",(0,P.jt)("100ms linear",(0,P.oB)({opacity:0})))]),fadeInCalendar:(0,P.X$)("fadeInCalendar",[(0,P.SB)("void",(0,P.oB)({opacity:0})),(0,P.SB)("enter",(0,P.oB)({opacity:1})),(0,P.eR)("void => *",(0,P.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Ye=0;const ze=new E.OlP("mat-datepicker-scroll-strategy"),rt={provide:ze,deps:[t.aV],useFactory:function lt(ft){return()=>ft.scrollStrategies.reposition()}},dt=(0,D.pj)(class{constructor(ft){this._elementRef=ft}});let Ft=(()=>{class ft extends dt{constructor(be,vt,gt,kt,cn,ei){super(be),this._changeDetectorRef=vt,this._globalModel=gt,this._dateAdapter=kt,this._rangeSelectionStrategy=cn,this._subscriptions=new f.w0,this._animationDone=new p.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=ei.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(be){const vt=this._model.selection,gt=be.value,kt=vt instanceof ee;if(kt&&this._rangeSelectionStrategy){const cn=this._rangeSelectionStrategy.selectionFinished(gt,vt,be.event);this._model.updateSelection(cn,this)}else gt&&(kt||!this._dateAdapter.sameDate(gt,vt))&&this._model.add(gt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(be){this._model.updateSelection(be.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(be){this._isAnimating="start"===be.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(be,vt){this._model=be?this._globalModel.clone():this._globalModel,this._actionsPortal=be,vt&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(X),E.Y36(D._A),E.Y36(st,8),E.Y36(He))};static#t=this.\u0275cmp=E.Xpm({type:ft,selectors:[["mat-datepicker-content"]],viewQuery:function(vt,gt){if(1&vt&&E.Gf(De,5),2&vt){let kt;E.iGM(kt=E.CRH())&&(gt._calendar=kt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(vt,gt){1&vt&&E.WFA("@transformPanel.start",function(cn){return gt._handleAnimationEvent(cn)})("@transformPanel.done",function(cn){return gt._handleAnimationEvent(cn)}),2&vt&&(E.d8E("@transformPanel",gt._animationState),E.ekj("mat-datepicker-content-touch",gt.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[E.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(vt,gt){if(1&vt&&(E.TgZ(0,"div",0)(1,"mat-calendar",1),E.NdJ("yearSelected",function(cn){return gt.datepicker._selectYear(cn)})("monthSelected",function(cn){return gt.datepicker._selectMonth(cn)})("viewChanged",function(cn){return gt.datepicker._viewChanged(cn)})("_userSelection",function(cn){return gt._handleUserSelection(cn)})("_userDragDrop",function(cn){return gt._handleUserDragDrop(cn)}),E.qZA(),E.YNc(2,Se,0,0,"ng-template",2),E.TgZ(3,"button",3),E.NdJ("focus",function(){return gt._closeButtonFocused=!0})("blur",function(){return gt._closeButtonFocused=!1})("click",function(){return gt.datepicker.close()}),E._uU(4),E.qZA()()),2&vt){let kt;E.ekj("mat-datepicker-content-container-with-custom-header",gt.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",gt._actionsPortal),E.uIk("aria-modal",!0)("aria-labelledby",null!==(kt=gt._dialogLabelId)&&void 0!==kt?kt:void 0),E.xp6(1),E.Q6J("id",gt.datepicker.id)("ngClass",gt.datepicker.panelClass)("startAt",gt.datepicker.startAt)("startView",gt.datepicker.startView)("minDate",gt.datepicker._getMinDate())("maxDate",gt.datepicker._getMaxDate())("dateFilter",gt.datepicker._getDateFilter())("headerComponent",gt.datepicker.calendarHeaderComponent)("selected",gt._getSelected())("dateClass",gt.datepicker.dateClass)("comparisonStart",gt.comparisonStart)("comparisonEnd",gt.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",gt.startDateAccessibleName)("endDateAccessibleName",gt.endDateAccessibleName),E.xp6(1),E.Q6J("cdkPortalOutlet",gt._actionsPortal),E.xp6(1),E.ekj("cdk-visually-hidden",!gt._closeButtonFocused),E.Q6J("color",gt.color||"primary"),E.xp6(1),E.Oqu(gt._closeButtonText)}},dependencies:[I.mk,F.lW,c.mK,y.Pl,De],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Pe.transformPanel,Pe.fadeInCalendar]},changeDetection:0})}return ft})(),qt=(()=>{class ft{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(be){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(be){this._color=be}get touchUi(){return this._touchUi}set touchUi(be){this._touchUi=(0,x.Ig)(be)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(be){const vt=(0,x.Ig)(be);vt!==this._disabled&&(this._disabled=vt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(be){this._restoreFocus=(0,x.Ig)(be)}get panelClass(){return this._panelClass}set panelClass(be){this._panelClass=(0,x.du)(be)}get opened(){return this._opened}set opened(be){(0,x.Ig)(be)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(be,vt,gt,kt,cn,ei,Xi){this._overlay=be,this._ngZone=vt,this._viewContainerRef=gt,this._dateAdapter=cn,this._dir=ei,this._model=Xi,this._inputStateChanges=f.w0.EMPTY,this._document=(0,E.f3M)(I.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new E.vpe,this.monthSelected=new E.vpe,this.viewChanged=new E.vpe(!0),this.openedStream=new E.vpe,this.closedStream=new E.vpe,this._opened=!1,this.id="mat-datepicker-"+Ye++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new p.x,this._scrollStrategy=kt}ngOnChanges(be){const vt=be.xPosition||be.yPosition;if(vt&&!vt.firstChange&&this._overlayRef){const gt=this._overlayRef.getConfig().positionStrategy;gt instanceof t._G&&(this._setConnectedPositions(gt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(be){this._model.add(be)}_selectYear(be){this.yearSelected.emit(be)}_selectMonth(be){this.monthSelected.emit(be)}_viewChanged(be){this.viewChanged.emit(be)}registerInput(be){return this._inputStateChanges.unsubscribe(),this.datepickerInput=be,this._inputStateChanges=be.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(be){this._actionsPortal=be,this._componentRef?.instance._assignActions(be,!0)}removeActions(be){be===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,R.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const be=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,vt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:gt,location:kt}=this._componentRef;gt._startExitAnimation(),gt._animationDone.pipe((0,j.q)(1)).subscribe(()=>{const cn=this._document.activeElement;be&&(!cn||cn===this._document.activeElement||kt.nativeElement.contains(cn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}be?setTimeout(vt):vt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(be){be.datepicker=this,be.color=this.color,be._dialogLabelId=this.datepickerInput.getOverlayLabelId(),be._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const be=this.touchUi,vt=new y.C5(Ft,this._viewContainerRef),gt=this._overlayRef=this._overlay.create(new t.X_({positionStrategy:be?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[be?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:be?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(be?"dialog":"popup")}));this._getCloseStream(gt).subscribe(kt=>{kt&&kt.preventDefault(),this.close()}),gt.keydownEvents().subscribe(kt=>{const cn=kt.keyCode;(cn===A.LH||cn===A.JH||cn===A.oh||cn===A.SV||cn===A.Ku||cn===A.VM)&&kt.preventDefault()}),this._componentRef=gt.attach(vt),this._forwardContentValues(this._componentRef.instance),be||this._ngZone.onStable.pipe((0,j.q)(1)).subscribe(()=>gt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const be=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(be)}_setConnectedPositions(be){const vt="end"===this.xPosition?"end":"start",gt="start"===vt?"end":"start",kt="above"===this.yPosition?"bottom":"top",cn="top"===kt?"bottom":"top";return be.withPositions([{originX:vt,originY:cn,overlayX:vt,overlayY:kt},{originX:vt,originY:kt,overlayX:vt,overlayY:cn},{originX:gt,originY:cn,overlayX:gt,overlayY:kt},{originX:gt,originY:kt,overlayX:gt,overlayY:cn}])}_getCloseStream(be){const vt=["ctrlKey","shiftKey","metaKey"];return(0,g.T)(be.backdropClick(),be.detachments(),be.keydownEvents().pipe((0,O.h)(gt=>gt.keyCode===A.hY&&!(0,A.Vb)(gt)||this.datepickerInput&&(0,A.Vb)(gt,"altKey")&&gt.keyCode===A.LH&&vt.every(kt=>!(0,A.Vb)(gt,kt)))))}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(t.aV),E.Y36(E.R0b),E.Y36(E.s_b),E.Y36(ze),E.Y36(D._A,8),E.Y36(U.Is,8),E.Y36(X))};static#t=this.\u0275dir=E.lG2({type:ft,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[E.TTD]})}return ft})(),Lt=(()=>{class ft extends qt{static#e=this.\u0275fac=function(){let be;return function(gt){return(be||(be=E.n5z(ft)))(gt||ft)}}();static#t=this.\u0275cmp=E.Xpm({type:ft,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[E._Bn([xe,{provide:qt,useExisting:ft}]),E.qOj],decls:0,vars:0,template:function(vt,gt){},encapsulation:2,changeDetection:0})}return ft})();class Qt{constructor(hn,be){this.target=hn,this.targetElement=be,this.value=this.target.value}}let ln=(()=>{class ft{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(be){this._assignValueProgrammatically(be)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(be){const vt=(0,x.Ig)(be),gt=this._elementRef.nativeElement;this._disabled!==vt&&(this._disabled=vt,this.stateChanges.next(void 0)),vt&&this._isInitialized&&gt.blur&&gt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(be){this._model=be,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(vt=>{if(this._shouldHandleChangeEvent(vt)){const gt=this._getValueFromModel(vt.selection);this._lastValueValid=this._isValidValue(gt),this._cvaOnChange(gt),this._onTouched(),this._formatValue(gt),this.dateInput.emit(new Qt(this,this._elementRef.nativeElement)),this.dateChange.emit(new Qt(this,this._elementRef.nativeElement))}})}constructor(be,vt,gt){this._elementRef=be,this._dateAdapter=vt,this._dateFormats=gt,this.dateChange=new E.vpe,this.dateInput=new E.vpe,this.stateChanges=new p.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=f.w0.EMPTY,this._localeSubscription=f.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=kt=>{const cn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(kt.value));return!cn||this._matchesFilter(cn)?null:{matDatepickerFilter:!0}},this._minValidator=kt=>{const cn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(kt.value)),ei=this._getMinDate();return!ei||!cn||this._dateAdapter.compareDate(ei,cn)<=0?null:{matDatepickerMin:{min:ei,actual:cn}}},this._maxValidator=kt=>{const cn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(kt.value)),ei=this._getMaxDate();return!ei||!cn||this._dateAdapter.compareDate(ei,cn)>=0?null:{matDatepickerMax:{max:ei,actual:cn}}},this._lastValueValid=!1,this._localeSubscription=vt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(be){(function mn(ft,hn){const be=Object.keys(ft);for(let vt of be){const{previousValue:gt,currentValue:kt}=ft[vt];if(!hn.isDateInstance(gt)||!hn.isDateInstance(kt))return!0;if(!hn.sameDate(gt,kt))return!0}return!1})(be,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(be){this._validatorOnChange=be}validate(be){return this._validator?this._validator(be):null}writeValue(be){this._assignValueProgrammatically(be)}registerOnChange(be){this._cvaOnChange=be}registerOnTouched(be){this._onTouched=be}setDisabledState(be){this.disabled=be}_onKeydown(be){(0,A.Vb)(be,"altKey")&&be.keyCode===A.JH&&["ctrlKey","shiftKey","metaKey"].every(kt=>!(0,A.Vb)(be,kt))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),be.preventDefault())}_onInput(be){const vt=this._lastValueValid;let gt=this._dateAdapter.parse(be,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(gt),gt=this._dateAdapter.getValidDateOrNull(gt);const kt=!this._dateAdapter.sameDate(gt,this.value);!gt||kt?this._cvaOnChange(gt):(be&&!this.value&&this._cvaOnChange(gt),vt!==this._lastValueValid&&this._validatorOnChange()),kt&&(this._assignValue(gt),this.dateInput.emit(new Qt(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Qt(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(be){this._elementRef.nativeElement.value=null!=be?this._dateAdapter.format(be,this._dateFormats.display.dateInput):""}_assignValue(be){this._model?(this._assignValueToModel(be),this._pendingValue=null):this._pendingValue=be}_isValidValue(be){return!be||this._dateAdapter.isValid(be)}_parentDisabled(){return!1}_assignValueProgrammatically(be){be=this._dateAdapter.deserialize(be),this._lastValueValid=this._isValidValue(be),be=this._dateAdapter.getValidDateOrNull(be),this._assignValue(be),this._formatValue(be)}_matchesFilter(be){const vt=this._getDateFilter();return!vt||vt(be)}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(E.SBq),E.Y36(D._A,8),E.Y36(D.sG,8))};static#t=this.\u0275dir=E.lG2({type:ft,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[E.TTD]})}return ft})();const Mn={provide:T.JU,useExisting:(0,E.Gpc)(()=>Yn),multi:!0},Nn={provide:T.Cf,useExisting:(0,E.Gpc)(()=>Yn),multi:!0};let Yn=(()=>{class ft extends ln{set matDatepicker(be){be&&(this._datepicker=be,this._closedSubscription=be.closedStream.subscribe(()=>this._onTouched()),this._registerModel(be.registerInput(this)))}get min(){return this._min}set min(be){const vt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be));this._dateAdapter.sameDate(vt,this._min)||(this._min=vt,this._validatorOnChange())}get max(){return this._max}set max(be){const vt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be));this._dateAdapter.sameDate(vt,this._max)||(this._max=vt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(be){const vt=this._matchesFilter(this.value);this._dateFilter=be,this._matchesFilter(this.value)!==vt&&this._validatorOnChange()}constructor(be,vt,gt,kt){super(be,vt,gt),this._formField=kt,this._closedSubscription=f.w0.EMPTY,this._validator=T.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(be){return be}_assignValueToModel(be){this._model&&this._model.updateSelection(be,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(be){return be.source!==this}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(E.SBq),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(N.G_,8))};static#t=this.\u0275dir=E.lG2({type:ft,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(vt,gt){1&vt&&E.NdJ("input",function(cn){return gt._onInput(cn.target.value)})("change",function(){return gt._onChange()})("blur",function(){return gt._onBlur()})("keydown",function(cn){return gt._onKeydown(cn)}),2&vt&&(E.Ikx("disabled",gt.disabled),E.uIk("aria-haspopup",gt._datepicker?"dialog":null)("aria-owns",(null==gt._datepicker?null:gt._datepicker.opened)&&gt._datepicker.id||null)("min",gt.min?gt._dateAdapter.toIso8601(gt.min):null)("max",gt.max?gt._dateAdapter.toIso8601(gt.max):null)("data-mat-calendar",gt._datepicker?gt._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[E._Bn([Mn,Nn,{provide:S.Jk,useExisting:ft}]),E.qOj]})}return ft})(),Vn=(()=>{class ft{static#e=this.\u0275fac=function(vt){return new(vt||ft)};static#t=this.\u0275dir=E.lG2({type:ft,selectors:[["","matDatepickerToggleIcon",""]]})}return ft})(),fi=(()=>{class ft{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(be){this._disabled=(0,x.Ig)(be)}constructor(be,vt,gt){this._intl=be,this._changeDetectorRef=vt,this._stateChanges=f.w0.EMPTY;const kt=Number(gt);this.tabIndex=kt||0===kt?kt:null}ngOnChanges(be){be.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(be){this.datepicker&&!this.disabled&&(this.datepicker.open(),be.stopPropagation())}_watchStateChanges(){const be=this.datepicker?this.datepicker.stateChanges:(0,v.of)(),vt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,v.of)(),gt=this.datepicker?(0,g.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,v.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,g.T)(this._intl.changes,be,vt,gt).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(vt){return new(vt||ft)(E.Y36(He),E.Y36(E.sBO),E.$8M("tabindex"))};static#t=this.\u0275cmp=E.Xpm({type:ft,selectors:[["mat-datepicker-toggle"]],contentQueries:function(vt,gt,kt){if(1&vt&&E.Suo(kt,Vn,5),2&vt){let cn;E.iGM(cn=E.CRH())&&(gt._customIcon=cn.first)}},viewQuery:function(vt,gt){if(1&vt&&E.Gf(Le,5),2&vt){let kt;E.iGM(kt=E.CRH())&&(gt._button=kt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(vt,gt){1&vt&&E.NdJ("click",function(cn){return gt._open(cn)}),2&vt&&(E.uIk("tabindex",null)("data-mat-calendar",gt.datepicker?gt.datepicker.id:null),E.ekj("mat-datepicker-toggle-active",gt.datepicker&&gt.datepicker.opened)("mat-accent",gt.datepicker&&"accent"===gt.datepicker.color)("mat-warn",gt.datepicker&&"warn"===gt.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[E.TTD],ngContentSelectors:Me,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(vt,gt){1&vt&&(E.F$t(Re),E.TgZ(0,"button",0,1),E.YNc(2,fe,2,0,"svg",2),E.Hsn(3),E.qZA()),2&vt&&(E.Q6J("disabled",gt.disabled)("disableRipple",gt.disableRipple),E.uIk("aria-haspopup",gt.datepicker?"dialog":null)("aria-label",gt.ariaLabel||gt._intl.openCalendarLabel)("tabindex",gt.disabled?-1:gt.tabIndex),E.xp6(2),E.Q6J("ngIf",!gt._customIcon))},dependencies:[I.O5,F.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return ft})(),Xn=(()=>{class ft{static#e=this.\u0275fac=function(vt){return new(vt||ft)};static#t=this.\u0275mod=E.oAB({type:ft});static#n=this.\u0275inj=E.cJS({providers:[He,rt],imports:[I.ez,F.ot,t.U8,c.rt,y.eL,D.BQ,L.ZD]})}return ft})()},7700:(Bn,et,C)=>{"use strict";C.d(et,{WI:()=>Je,uw:()=>Z,H8:()=>ue,vA:()=>he,xY:()=>X,Is:()=>de,so:()=>He,uh:()=>ee});var c=C(3651),t=C(6814),y=C(5879),I=C(4300),E=C(2831),F=C(8484),L=C(6028),D=C(8645),p=C(4911),f=C(2096),g=C(9388),v=C(7921);function A(Ve,st){}class U{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let j=(()=>{class Ve extends F.en{constructor(ct,nt,yt,jt,wt,Gt,nn,dn){super(),this._elementRef=ct,this._focusTrapFactory=nt,this._config=jt,this._interactivityChecker=wt,this._ngZone=Gt,this._overlayRef=nn,this._focusMonitor=dn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=un=>{this._portalOutlet.hasAttached();const Kt=this._portalOutlet.attachDomPortal(un);return this._contentAttached(),Kt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=yt}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ct){this._portalOutlet.hasAttached();const nt=this._portalOutlet.attachComponentPortal(ct);return this._contentAttached(),nt}attachTemplatePortal(ct){this._portalOutlet.hasAttached();const nt=this._portalOutlet.attachTemplatePortal(ct);return this._contentAttached(),nt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ct,nt){this._interactivityChecker.isFocusable(ct)||(ct.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const yt=()=>{ct.removeEventListener("blur",yt),ct.removeEventListener("mousedown",yt),ct.removeAttribute("tabindex")};ct.addEventListener("blur",yt),ct.addEventListener("mousedown",yt)})),ct.focus(nt)}_focusByCssSelector(ct,nt){let yt=this._elementRef.nativeElement.querySelector(ct);yt&&this._forceFocus(yt,nt)}_trapFocus(){const ct=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ct.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(nt=>{nt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ct=this._config.restoreFocus;let nt=null;if("string"==typeof ct?nt=this._document.querySelector(ct):"boolean"==typeof ct?nt=ct?this._elementFocusedBeforeDialogWasOpened:null:ct&&(nt=ct),this._config.restoreFocus&&nt&&"function"==typeof nt.focus){const yt=(0,E.ht)(),jt=this._elementRef.nativeElement;(!yt||yt===this._document.body||yt===jt||jt.contains(yt))&&(this._focusMonitor?(this._focusMonitor.focusVia(nt,this._closeInteractionType),this._closeInteractionType=null):nt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ct=this._elementRef.nativeElement,nt=(0,E.ht)();return ct===nt||ct.contains(nt)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,E.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(nt){return new(nt||Ve)(y.Y36(y.SBq),y.Y36(I.qV),y.Y36(t.K0,8),y.Y36(U),y.Y36(I.ic),y.Y36(y.R0b),y.Y36(c.Iu),y.Y36(I.tE))};static#t=this.\u0275cmp=y.Xpm({type:Ve,selectors:[["cdk-dialog-container"]],viewQuery:function(nt,yt){if(1&nt&&y.Gf(F.Pl,7),2&nt){let jt;y.iGM(jt=y.CRH())&&(yt._portalOutlet=jt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(nt,yt){2&nt&&y.uIk("id",yt._config.id||null)("role",yt._config.role)("aria-modal",yt._config.ariaModal)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledBy)("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null)},features:[y.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(nt,yt){1&nt&&y.YNc(0,A,0,0,"ng-template",0)},dependencies:[F.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Ve})();class k{constructor(st,ct){this.overlayRef=st,this.config=ct,this.closed=new D.x,this.disableClose=ct.disableClose,this.backdropClick=st.backdropClick(),this.keydownEvents=st.keydownEvents(),this.outsidePointerEvents=st.outsidePointerEvents(),this.id=ct.id,this.keydownEvents.subscribe(nt=>{nt.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(nt)&&(nt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=st.detachments().subscribe(()=>{!1!==ct.closeOnOverlayDetachments&&this.close()})}close(st,ct){if(this.containerInstance){const nt=this.closed;this.containerInstance._closeInteractionType=ct?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),nt.next(st),nt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(st="",ct=""){return this.overlayRef.updateSize({width:st,height:ct}),this}addPanelClass(st){return this.overlayRef.addPanelClass(st),this}removePanelClass(st){return this.overlayRef.removePanelClass(st),this}}const O=new y.OlP("DialogScrollStrategy"),x=new y.OlP("DialogData"),P=new y.OlP("DefaultDialogConfig"),N={provide:O,deps:[c.aV],useFactory:function T(Ve){return()=>Ve.scrollStrategies.block()}};let S=0,B=(()=>{class Ve{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ct,nt,yt,jt,wt,Gt){this._overlay=ct,this._injector=nt,this._defaultOptions=yt,this._parentDialog=jt,this._overlayContainer=wt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,p.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.O)(void 0))),this._scrollStrategy=Gt}open(ct,nt){(nt={...this._defaultOptions||new U,...nt}).id=nt.id||"cdk-dialog-"+S++,nt.id&&this.getDialogById(nt.id);const jt=this._getOverlayConfig(nt),wt=this._overlay.create(jt),Gt=new k(wt,nt),nn=this._attachContainer(wt,Gt,nt);return Gt.containerInstance=nn,this._attachDialogContent(ct,Gt,nn,nt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Gt),Gt.closed.subscribe(()=>this._removeOpenDialog(Gt,!0)),this.afterOpened.next(Gt),Gt}closeAll(){Y(this.openDialogs,ct=>ct.close())}getDialogById(ct){return this.openDialogs.find(nt=>nt.id===ct)}ngOnDestroy(){Y(this._openDialogsAtThisLevel,ct=>{!1===ct.config.closeOnDestroy&&this._removeOpenDialog(ct,!1)}),Y(this._openDialogsAtThisLevel,ct=>ct.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ct){const nt=new c.X_({positionStrategy:ct.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ct.scrollStrategy||this._scrollStrategy(),panelClass:ct.panelClass,hasBackdrop:ct.hasBackdrop,direction:ct.direction,minWidth:ct.minWidth,minHeight:ct.minHeight,maxWidth:ct.maxWidth,maxHeight:ct.maxHeight,width:ct.width,height:ct.height,disposeOnNavigation:ct.closeOnNavigation});return ct.backdropClass&&(nt.backdropClass=ct.backdropClass),nt}_attachContainer(ct,nt,yt){const jt=yt.injector||yt.viewContainerRef?.injector,wt=[{provide:U,useValue:yt},{provide:k,useValue:nt},{provide:c.Iu,useValue:ct}];let Gt;yt.container?"function"==typeof yt.container?Gt=yt.container:(Gt=yt.container.type,wt.push(...yt.container.providers(yt))):Gt=j;const nn=new F.C5(Gt,yt.viewContainerRef,y.zs3.create({parent:jt||this._injector,providers:wt}),yt.componentFactoryResolver);return ct.attach(nn).instance}_attachDialogContent(ct,nt,yt,jt){if(ct instanceof y.Rgc){const wt=this._createInjector(jt,nt,yt,void 0);let Gt={$implicit:jt.data,dialogRef:nt};jt.templateContext&&(Gt={...Gt,..."function"==typeof jt.templateContext?jt.templateContext():jt.templateContext}),yt.attachTemplatePortal(new F.UE(ct,null,Gt,wt))}else{const wt=this._createInjector(jt,nt,yt,this._injector),Gt=yt.attachComponentPortal(new F.C5(ct,jt.viewContainerRef,wt,jt.componentFactoryResolver));nt.componentInstance=Gt.instance}}_createInjector(ct,nt,yt,jt){const wt=ct.injector||ct.viewContainerRef?.injector,Gt=[{provide:x,useValue:ct.data},{provide:k,useValue:nt}];return ct.providers&&("function"==typeof ct.providers?Gt.push(...ct.providers(nt,ct,yt)):Gt.push(...ct.providers)),ct.direction&&(!wt||!wt.get(g.Is,null,{optional:!0}))&&Gt.push({provide:g.Is,useValue:{value:ct.direction,change:(0,f.of)()}}),y.zs3.create({parent:wt||jt,providers:Gt})}_removeOpenDialog(ct,nt){const yt=this.openDialogs.indexOf(ct);yt>-1&&(this.openDialogs.splice(yt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((jt,wt)=>{jt?wt.setAttribute("aria-hidden",jt):wt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),nt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ct=this._overlayContainer.getContainerElement();if(ct.parentElement){const nt=ct.parentElement.children;for(let yt=nt.length-1;yt>-1;yt--){const jt=nt[yt];jt!==ct&&"SCRIPT"!==jt.nodeName&&"STYLE"!==jt.nodeName&&!jt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(jt,jt.getAttribute("aria-hidden")),jt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ct=this._parentDialog;return ct?ct._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(nt){return new(nt||Ve)(y.LFG(c.aV),y.LFG(y.zs3),y.LFG(P,8),y.LFG(Ve,12),y.LFG(c.Xj),y.LFG(O))};static#t=this.\u0275prov=y.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})();function Y(Ve,st){let ct=Ve.length;for(;ct--;)st(Ve[ct])}let q=(()=>{class Ve{static#e=this.\u0275fac=function(nt){return new(nt||Ve)};static#t=this.\u0275mod=y.oAB({type:Ve});static#n=this.\u0275inj=y.cJS({providers:[B,N],imports:[c.U8,F.eL,I.rt,F.eL]})}return Ve})();var le=C(2495),Fe=C(3019),$=C(2181),ae=C(8180),K=C(3680);function oe(Ve,st){}C(6825);class he{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Se="mdc-dialog--open",Le="mdc-dialog--opening",fe="mdc-dialog--closing";let me=(()=>{class Ve extends j{constructor(ct,nt,yt,jt,wt,Gt,nn,dn){super(ct,nt,yt,jt,wt,Gt,nn,dn),this._animationStateChanged=new y.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ct){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ct})}static#e=this.\u0275fac=function(nt){return new(nt||Ve)(y.Y36(y.SBq),y.Y36(I.qV),y.Y36(t.K0,8),y.Y36(he),y.Y36(I.ic),y.Y36(y.R0b),y.Y36(c.Iu),y.Y36(I.tE))};static#t=this.\u0275cmp=y.Xpm({type:Ve,selectors:[["ng-component"]],features:[y.qOj],decls:0,vars:0,template:function(nt,yt){},encapsulation:2})}return Ve})();const Ue="--mat-dialog-transition-duration";function ke(Ve){return null==Ve?null:"number"==typeof Ve?Ve:Ve.endsWith("ms")?(0,le.su)(Ve.substring(0,Ve.length-2)):Ve.endsWith("s")?1e3*(0,le.su)(Ve.substring(0,Ve.length-1)):"0"===Ve?0:null}let Ie=(()=>{class Ve extends me{constructor(ct,nt,yt,jt,wt,Gt,nn,dn,un){super(ct,nt,yt,jt,wt,Gt,nn,un),this._animationMode=dn,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?ke(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?ke(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ue,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Le,Se)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Se),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Se),this._animationsEnabled?(this._hostElement.style.setProperty(Ue,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fe)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Le,fe)}_waitForAnimationToComplete(ct,nt){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(nt,ct)}_requestAnimationFrame(ct){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ct):ct()})}static#e=this.\u0275fac=function(nt){return new(nt||Ve)(y.Y36(y.SBq),y.Y36(I.qV),y.Y36(t.K0,8),y.Y36(he),y.Y36(I.ic),y.Y36(y.R0b),y.Y36(c.Iu),y.Y36(y.QbO,8),y.Y36(I.tE))};static#t=this.\u0275cmp=y.Xpm({type:Ve,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(nt,yt){2&nt&&(y.Ikx("id",yt._config.id),y.uIk("aria-modal",yt._config.ariaModal)("role",yt._config.role)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledBy)("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null),y.ekj("_mat-animation-noopable",!yt._animationsEnabled))},features:[y.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(nt,yt){1&nt&&(y.TgZ(0,"div",0)(1,"div",1),y.YNc(2,oe,0,0,"ng-template",2),y.qZA()())},dependencies:[F.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return Ve})();class He{constructor(st,ct,nt){this._ref=st,this._containerInstance=nt,this._afterOpened=new D.x,this._beforeClosed=new D.x,this._state=0,this.disableClose=ct.disableClose,this.id=st.id,nt._animationStateChanged.pipe((0,$.h)(yt=>"opened"===yt.state),(0,ae.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),nt._animationStateChanged.pipe((0,$.h)(yt=>"closed"===yt.state),(0,ae.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),st.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Fe.T)(this.backdropClick(),this.keydownEvents().pipe((0,$.h)(yt=>yt.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(yt)))).subscribe(yt=>{this.disableClose||(yt.preventDefault(),function ot(Ve,st,ct){Ve._closeInteractionType=st,Ve.close(ct)}(this,"keydown"===yt.type?"keyboard":"mouse"))})}close(st){this._result=st,this._containerInstance._animationStateChanged.pipe((0,$.h)(ct=>"closing"===ct.state),(0,ae.q)(1)).subscribe(ct=>{this._beforeClosed.next(st),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ct.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(st){let ct=this._ref.config.positionStrategy;return st&&(st.left||st.right)?st.left?ct.left(st.left):ct.right(st.right):ct.centerHorizontally(),st&&(st.top||st.bottom)?st.top?ct.top(st.top):ct.bottom(st.bottom):ct.centerVertically(),this._ref.updatePosition(),this}updateSize(st="",ct=""){return this._ref.updateSize(st,ct),this}addPanelClass(st){return this._ref.addPanelClass(st),this}removePanelClass(st){return this._ref.removePanelClass(st),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Je=new y.OlP("MatMdcDialogData"),Ne=new y.OlP("mat-mdc-dialog-default-options"),Te=new y.OlP("mat-mdc-dialog-scroll-strategy"),se={provide:Te,deps:[c.aV],useFactory:function W(Ve){return()=>Ve.scrollStrategies.block()}};let J=0,Q=(()=>{class Ve{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ct=this._parentDialog;return ct?ct._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ct,nt,yt,jt,wt,Gt,nn,dn,un,Kt){this._overlay=ct,this._defaultOptions=yt,this._parentDialog=jt,this._dialogRefConstructor=nn,this._dialogContainerType=dn,this._dialogDataToken=un,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=he,this.afterAllClosed=(0,p.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.O)(void 0))),this._scrollStrategy=Gt,this._dialog=nt.get(B)}open(ct,nt){let yt;(nt={...this._defaultOptions||new he,...nt}).id=nt.id||`${this._idPrefix}${J++}`,nt.scrollStrategy=nt.scrollStrategy||this._scrollStrategy();const jt=this._dialog.open(ct,{...nt,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:nt},{provide:U,useValue:nt}]},templateContext:()=>({dialogRef:yt}),providers:(wt,Gt,nn)=>(yt=new this._dialogRefConstructor(wt,nt,nn),yt.updatePosition(nt?.position),[{provide:this._dialogContainerType,useValue:nn},{provide:this._dialogDataToken,useValue:Gt.data},{provide:this._dialogRefConstructor,useValue:yt}])});return yt.componentInstance=jt.componentInstance,this.openDialogs.push(yt),this.afterOpened.next(yt),yt.afterClosed().subscribe(()=>{const wt=this.openDialogs.indexOf(yt);wt>-1&&(this.openDialogs.splice(wt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),yt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ct){return this.openDialogs.find(nt=>nt.id===ct)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ct){let nt=ct.length;for(;nt--;)ct[nt].close()}static#e=this.\u0275fac=function(nt){y.$Z()};static#t=this.\u0275prov=y.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})(),Z=(()=>{class Ve extends Q{constructor(ct,nt,yt,jt,wt,Gt,nn,dn){super(ct,nt,jt,Gt,nn,wt,He,Ie,Je,dn),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(nt){return new(nt||Ve)(y.LFG(c.aV),y.LFG(y.zs3),y.LFG(t.Ye,8),y.LFG(Ne,8),y.LFG(Te),y.LFG(Ve,12),y.LFG(c.Xj),y.LFG(y.QbO,8))};static#t=this.\u0275prov=y.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})(),te=0,ee=(()=>{class Ve{constructor(ct,nt,yt){this._dialogRef=ct,this._elementRef=nt,this._dialog=yt,this.id="mat-mdc-dialog-title-"+te++}ngOnInit(){this._dialogRef||(this._dialogRef=function _e(Ve,st){let ct=Ve.nativeElement.parentElement;for(;ct&&!ct.classList.contains("mat-mdc-dialog-container");)ct=ct.parentElement;return ct?st.find(nt=>nt.id===ct.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const ct=this._dialogRef._containerInstance;ct&&!ct._ariaLabelledBy&&(ct._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(nt){return new(nt||Ve)(y.Y36(He,8),y.Y36(y.SBq),y.Y36(Z))};static#t=this.\u0275dir=y.lG2({type:Ve,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(nt,yt){2&nt&&y.Ikx("id",yt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return Ve})(),X=(()=>{class Ve{static#e=this.\u0275fac=function(nt){return new(nt||Ve)};static#t=this.\u0275dir=y.lG2({type:Ve,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return Ve})(),ue=(()=>{class Ve{constructor(){this.align="start"}static#e=this.\u0275fac=function(nt){return new(nt||Ve)};static#t=this.\u0275dir=y.lG2({type:Ve,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(nt,yt){2&nt&&y.ekj("mat-mdc-dialog-actions-align-center","center"===yt.align)("mat-mdc-dialog-actions-align-end","end"===yt.align)},inputs:{align:"align"}})}return Ve})(),de=(()=>{class Ve{static#e=this.\u0275fac=function(nt){return new(nt||Ve)};static#t=this.\u0275mod=y.oAB({type:Ve});static#n=this.\u0275inj=y.cJS({providers:[Z,se],imports:[q,c.U8,F.eL,K.BQ,K.BQ]})}return Ve})()},4170:(Bn,et,C)=>{"use strict";C.d(et,{G_:()=>ct,TO:()=>Ne,KE:()=>dn,Eo:()=>xe,lN:()=>un,bx:()=>W,hX:()=>He,R9:()=>Q});var c=C(5879),t=C(9388),y=C(2831),I=C(7394),E=C(8645),F=C(3019),L=C(9773),D=C(5592),p=C(2181),f=C(940);class v{constructor(Tn){this._box=Tn,this._destroyed=new E.x,this._resizeSubject=new E.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(rn=>this._resizeSubject.next(rn)))}observe(Tn){return this._elementObservables.has(Tn)||this._elementObservables.set(Tn,new D.y(rn=>{const xt=this._resizeSubject.subscribe(rn);return this._resizeObserver?.observe(Tn,{box:this._box}),()=>{this._resizeObserver?.unobserve(Tn),xt.unsubscribe(),this._elementObservables.delete(Tn)}}).pipe((0,p.h)(rn=>rn.some(xt=>xt.target===Tn)),(0,f.d)({bufferSize:1,refCount:!0}),(0,L.R)(this._destroyed))),this._elementObservables.get(Tn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let A=(()=>{class Kt{constructor(){this._observers=new Map,this._ngZone=(0,c.f3M)(c.R0b)}ngOnDestroy(){for(const[,rn]of this._observers)rn.destroy();this._observers.clear()}observe(rn,xt){const ht=xt?.box||"content-box";return this._observers.has(ht)||this._observers.set(ht,new v(ht)),this._observers.get(ht).observe(rn)}static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275prov=c.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"root"})}return Kt})();var U=C(2495),R=C(6825),j=C(6814),k=C(7131),O=C(3680);const x=["notch"],P=["matFormFieldNotchedOutline",""],T=["*"],N=["textField"],S=["iconPrefixContainer"],B=["textPrefixContainer"];function Y(Kt,Tn){1&Kt&&c._UZ(0,"span",19)}function q(Kt,Tn){if(1&Kt&&(c.TgZ(0,"label",17),c.Hsn(1,1),c.YNc(2,Y,1,0,"span",18),c.qZA()),2&Kt){const rn=c.oxw(2);c.Q6J("floating",rn._shouldLabelFloat())("monitorResize",rn._hasOutline())("id",rn._labelId),c.uIk("for",rn._control.id),c.xp6(2),c.Q6J("ngIf",!rn.hideRequiredMarker&&rn._control.required)}}function le(Kt,Tn){if(1&Kt&&c.YNc(0,q,3,5,"label",16),2&Kt){const rn=c.oxw();c.Q6J("ngIf",rn._hasFloatingLabel())}}function Fe(Kt,Tn){1&Kt&&c._UZ(0,"div",20)}function $(Kt,Tn){}function ae(Kt,Tn){if(1&Kt&&c.YNc(0,$,0,0,"ng-template",22),2&Kt){c.oxw(2);const rn=c.MAs(1);c.Q6J("ngTemplateOutlet",rn)}}function K(Kt,Tn){if(1&Kt&&(c.TgZ(0,"div",21),c.YNc(1,ae,1,1,"ng-template",9),c.qZA()),2&Kt){const rn=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",rn._shouldLabelFloat()),c.xp6(1),c.Q6J("ngIf",!rn._forceDisplayInfixLabel())}}function pe(Kt,Tn){1&Kt&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function oe(Kt,Tn){1&Kt&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function he(Kt,Tn){}function Se(Kt,Tn){if(1&Kt&&c.YNc(0,he,0,0,"ng-template",22),2&Kt){c.oxw();const rn=c.MAs(1);c.Q6J("ngTemplateOutlet",rn)}}function Le(Kt,Tn){1&Kt&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function fe(Kt,Tn){1&Kt&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function Re(Kt,Tn){1&Kt&&c._UZ(0,"div",29)}function Me(Kt,Tn){if(1&Kt&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&Kt){const rn=c.oxw();c.Q6J("@transitionMessages",rn._subscriptAnimationState)}}function me(Kt,Tn){if(1&Kt&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&Kt){const rn=c.oxw(2);c.Q6J("id",rn._hintLabelId),c.xp6(1),c.Oqu(rn.hintLabel)}}function Ue(Kt,Tn){if(1&Kt&&(c.TgZ(0,"div",31),c.YNc(1,me,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&Kt){const rn=c.oxw();c.Q6J("@transitionMessages",rn._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",rn.hintLabel)}}const ke=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ie=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let He=(()=>{class Kt{static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["mat-label"]]})}return Kt})(),ot=0;const Je=new c.OlP("MatError");let Ne=(()=>{class Kt{constructor(rn,xt){this.id="mat-mdc-error-"+ot++,rn||xt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(xt){return new(xt||Kt)(c.$8M("aria-live"),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(xt,ht){2&xt&&c.Ikx("id",ht.id)},inputs:{id:"id"},features:[c._Bn([{provide:Je,useExisting:Kt}])]})}return Kt})(),Te=0,W=(()=>{class Kt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Te++}static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(xt,ht){2&xt&&(c.Ikx("id",ht.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===ht.align))},inputs:{align:"align",id:"id"}})}return Kt})();const se=new c.OlP("MatPrefix"),J=new c.OlP("MatSuffix");let Q=(()=>{class Kt{constructor(){this._isText=!1}set _isTextSelector(rn){this._isText=!0}static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:J,useExisting:Kt}])]})}return Kt})();const Z=new c.OlP("FloatingLabelParent");let te=(()=>{class Kt{get floating(){return this._floating}set floating(rn){this._floating=rn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(rn){this._monitorResize=rn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(rn){this._elementRef=rn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,c.f3M)(A),this._ngZone=(0,c.f3M)(c.R0b),this._parent=(0,c.f3M)(Z),this._resizeSubscription=new I.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ne(Kt){if(null!==Kt.offsetParent)return Kt.scrollWidth;const rn=Kt.cloneNode(!0);rn.style.setProperty("position","absolute"),rn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(rn);const xt=rn.scrollWidth;return rn.remove(),xt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(xt){return new(xt||Kt)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(xt,ht){2&xt&&c.ekj("mdc-floating-label--float-above",ht.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Kt})();const ee="mdc-line-ripple--active",X="mdc-line-ripple--deactivating";let ue=(()=>{class Kt{constructor(rn,xt){this._elementRef=rn,this._handleTransitionEnd=ht=>{const Qe=this._elementRef.nativeElement.classList,De=Qe.contains(X);"opacity"===ht.propertyName&&De&&Qe.remove(ee,X)},xt.runOutsideAngular(()=>{rn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const rn=this._elementRef.nativeElement.classList;rn.remove(X),rn.add(ee)}deactivate(){this._elementRef.nativeElement.classList.add(X)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(xt){return new(xt||Kt)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:Kt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Kt})(),_e=(()=>{class Kt{constructor(rn,xt){this._elementRef=rn,this._ngZone=xt,this.open=!1}ngAfterViewInit(){const rn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");rn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(rn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>rn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(rn){this._notch.nativeElement.style.width=this.open&&rn?`calc(${rn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(xt){return new(xt||Kt)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:Kt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(xt,ht){if(1&xt&&c.Gf(x,5),2&xt){let Qe;c.iGM(Qe=c.CRH())&&(ht._notch=Qe.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(xt,ht){2&xt&&c.ekj("mdc-notched-outline--notched",ht.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:P,ngContentSelectors:T,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(xt,ht){1&xt&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1,2),c.Hsn(3),c.qZA(),c._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Kt})();const de={transitionMessages:(0,R.X$)("transitionMessages",[(0,R.SB)("enter",(0,R.oB)({opacity:1,transform:"translateY(0%)"})),(0,R.eR)("void => enter",[(0,R.oB)({opacity:0,transform:"translateY(-5px)"}),(0,R.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xe=(()=>{class Kt{static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275dir=c.lG2({type:Kt})}return Kt})();const ct=new c.OlP("MatFormField"),nt=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let yt=0,dn=(()=>{class Kt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(rn){this._hideRequiredMarker=(0,U.Ig)(rn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(rn){rn!==this._floatLabel&&(this._floatLabel=rn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(rn){const xt=this._appearance;this._appearance=rn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==xt&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(rn){this._subscriptSizing=rn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(rn){this._hintLabel=rn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(rn){this._explicitFormFieldControl=rn}constructor(rn,xt,ht,Qe,De,Pe,Ye,ze){this._elementRef=rn,this._changeDetectorRef=xt,this._ngZone=ht,this._dir=Qe,this._platform=De,this._defaults=Pe,this._animationMode=Ye,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+yt++,this._hintLabelId="mat-mdc-hint-"+yt++,this._subscriptAnimationState="",this._destroyed=new E.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Pe&&(Pe.appearance&&(this.appearance=Pe.appearance),this._hideRequiredMarker=!!Pe?.hideRequiredMarker,Pe.color&&(this.color=Pe.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const rn=this._control;rn.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${rn.controlType}`),rn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),rn.ngControl&&rn.ngControl.valueChanges&&rn.ngControl.valueChanges.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(rn=>!rn._isText),this._hasTextPrefix=!!this._prefixChildren.find(rn=>rn._isText),this._hasIconSuffix=!!this._suffixChildren.find(rn=>!rn._isText),this._hasTextSuffix=!!this._suffixChildren.find(rn=>rn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,F.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,L.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(rn){const xt=this._control?this._control.ngControl:null;return xt&&xt[rn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let rn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&rn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const xt=this._hintChildren?this._hintChildren.find(Qe=>"start"===Qe.align):null,ht=this._hintChildren?this._hintChildren.find(Qe=>"end"===Qe.align):null;xt?rn.push(xt.id):this._hintLabel&&rn.push(this._hintLabelId),ht&&rn.push(ht.id)}else this._errorChildren&&rn.push(...this._errorChildren.map(xt=>xt.id));this._control.setDescribedByIds(rn)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const rn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(rn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const xt=this._iconPrefixContainer?.nativeElement,ht=this._textPrefixContainer?.nativeElement,Qe=xt?.getBoundingClientRect().width??0,De=ht?.getBoundingClientRect().width??0;rn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Qe+De}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const rn=this._elementRef.nativeElement;if(rn.getRootNode){const xt=rn.getRootNode();return xt&&xt!==rn}return document.documentElement.contains(rn)}static#e=this.\u0275fac=function(xt){return new(xt||Kt)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(t.Is),c.Y36(y.t4),c.Y36(nt,8),c.Y36(c.QbO,8),c.Y36(j.K0))};static#t=this.\u0275cmp=c.Xpm({type:Kt,selectors:[["mat-form-field"]],contentQueries:function(xt,ht,Qe){if(1&xt&&(c.Suo(Qe,He,5),c.Suo(Qe,He,7),c.Suo(Qe,xe,5),c.Suo(Qe,se,5),c.Suo(Qe,J,5),c.Suo(Qe,Je,5),c.Suo(Qe,W,5)),2&xt){let De;c.iGM(De=c.CRH())&&(ht._labelChildNonStatic=De.first),c.iGM(De=c.CRH())&&(ht._labelChildStatic=De.first),c.iGM(De=c.CRH())&&(ht._formFieldControl=De.first),c.iGM(De=c.CRH())&&(ht._prefixChildren=De),c.iGM(De=c.CRH())&&(ht._suffixChildren=De),c.iGM(De=c.CRH())&&(ht._errorChildren=De),c.iGM(De=c.CRH())&&(ht._hintChildren=De)}},viewQuery:function(xt,ht){if(1&xt&&(c.Gf(N,5),c.Gf(S,5),c.Gf(B,5),c.Gf(te,5),c.Gf(_e,5),c.Gf(ue,5)),2&xt){let Qe;c.iGM(Qe=c.CRH())&&(ht._textField=Qe.first),c.iGM(Qe=c.CRH())&&(ht._iconPrefixContainer=Qe.first),c.iGM(Qe=c.CRH())&&(ht._textPrefixContainer=Qe.first),c.iGM(Qe=c.CRH())&&(ht._floatingLabel=Qe.first),c.iGM(Qe=c.CRH())&&(ht._notchedOutline=Qe.first),c.iGM(Qe=c.CRH())&&(ht._lineRipple=Qe.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(xt,ht){2&xt&&c.ekj("mat-mdc-form-field-label-always-float",ht._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",ht._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",ht._hasIconSuffix)("mat-form-field-invalid",ht._control.errorState)("mat-form-field-disabled",ht._control.disabled)("mat-form-field-autofilled",ht._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===ht._animationMode)("mat-form-field-appearance-fill","fill"==ht.appearance)("mat-form-field-appearance-outline","outline"==ht.appearance)("mat-form-field-hide-placeholder",ht._hasFloatingLabel()&&!ht._shouldLabelFloat())("mat-focused",ht._control.focused)("mat-primary","accent"!==ht.color&&"warn"!==ht.color)("mat-accent","accent"===ht.color)("mat-warn","warn"===ht.color)("ng-untouched",ht._shouldForward("untouched"))("ng-touched",ht._shouldForward("touched"))("ng-pristine",ht._shouldForward("pristine"))("ng-dirty",ht._shouldForward("dirty"))("ng-valid",ht._shouldForward("valid"))("ng-invalid",ht._shouldForward("invalid"))("ng-pending",ht._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:ct,useExisting:Kt},{provide:Z,useExisting:Kt}])],ngContentSelectors:Ie,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(xt,ht){1&xt&&(c.F$t(ke),c.YNc(0,le,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(De){return ht._control.onContainerClick(De)}),c.YNc(4,Fe,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,K,2,2,"div",5),c.YNc(7,pe,3,0,"div",6),c.YNc(8,oe,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,Se,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,Le,2,0,"div",10),c.YNc(13,fe,2,0,"div",11),c.qZA(),c.YNc(14,Re,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,Me,2,1,"div",14),c.YNc(17,Ue,5,2,"div",15),c.qZA()),2&xt&&(c.xp6(2),c.ekj("mdc-text-field--filled",!ht._hasOutline())("mdc-text-field--outlined",ht._hasOutline())("mdc-text-field--no-label",!ht._hasFloatingLabel())("mdc-text-field--disabled",ht._control.disabled)("mdc-text-field--invalid",ht._control.errorState),c.xp6(2),c.Q6J("ngIf",!ht._hasOutline()&&!ht._control.disabled),c.xp6(2),c.Q6J("ngIf",ht._hasOutline()),c.xp6(1),c.Q6J("ngIf",ht._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",ht._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!ht._hasOutline()||ht._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",ht._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",ht._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!ht._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===ht.subscriptSizing),c.Q6J("ngSwitch",ht._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[j.O5,j.tP,j.RF,j.n9,W,te,_e,ue],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[de.transitionMessages]},changeDetection:0})}return Kt})(),un=(()=>{class Kt{static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275mod=c.oAB({type:Kt});static#n=this.\u0275inj=c.cJS({imports:[O.BQ,j.ez,k.Q8,O.BQ]})}return Kt})()},2032:(Bn,et,C)=>{"use strict";C.d(et,{Jk:()=>R,Nt:()=>x,c:()=>P});var c=C(2495),t=C(2831),y=C(5879),I=C(6232),E=C(8645);const F=(0,t.i$)({passive:!0});let L=(()=>{class T{constructor(S,B){this._platform=S,this._ngZone=B,this._monitoredElements=new Map}monitor(S){if(!this._platform.isBrowser)return I.E;const B=(0,c.fI)(S),Y=this._monitoredElements.get(B);if(Y)return Y.subject;const q=new E.x,le="cdk-text-field-autofilled",Fe=$=>{"cdk-text-field-autofill-start"!==$.animationName||B.classList.contains(le)?"cdk-text-field-autofill-end"===$.animationName&&B.classList.contains(le)&&(B.classList.remove(le),this._ngZone.run(()=>q.next({target:$.target,isAutofilled:!1}))):(B.classList.add(le),this._ngZone.run(()=>q.next({target:$.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Fe,F),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:q,unlisten:()=>{B.removeEventListener("animationstart",Fe,F)}}),q}stopMonitoring(S){const B=(0,c.fI)(S),Y=this._monitoredElements.get(B);Y&&(Y.unlisten(),Y.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((S,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||T)(y.LFG(t.t4),y.LFG(y.R0b))};static#t=this.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),f=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=y.oAB({type:T});static#n=this.\u0275inj=y.cJS({})}return T})();var g=C(95),v=C(3680),A=C(4170);const R=new y.OlP("MAT_INPUT_VALUE_ACCESSOR"),j=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let k=0;const O=(0,v.FD)(class{constructor(T,N,S,B){this._defaultErrorStateMatcher=T,this._parentForm=N,this._parentFormGroup=S,this.ngControl=B,this.stateChanges=new E.x}});let x=(()=>{class T extends O{get disabled(){return this._disabled}set disabled(S){this._disabled=(0,c.Ig)(S),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(S){this._id=S||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(g.kI.required)??!1}set required(S){this._required=(0,c.Ig)(S)}get type(){return this._type}set type(S){this._type=S||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(S){S!==this.value&&(this._inputValueAccessor.value=S,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(S){this._readonly=(0,c.Ig)(S)}constructor(S,B,Y,q,le,Fe,$,ae,K,pe){super(Fe,q,le,Y),this._elementRef=S,this._platform=B,this._autofillMonitor=ae,this._formField=pe,this._uid="mat-input-"+k++,this.focused=!1,this.stateChanges=new E.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Se=>(0,t.qK)().has(Se)),this._iOSKeyupListener=Se=>{const Le=Se.target;!Le.value&&0===Le.selectionStart&&0===Le.selectionEnd&&(Le.setSelectionRange(1,1),Le.setSelectionRange(0,0))};const oe=this._elementRef.nativeElement,he=oe.nodeName.toLowerCase();this._inputValueAccessor=$||oe,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&K.runOutsideAngular(()=>{S.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===he,this._isTextarea="textarea"===he,this._isInFormField=!!pe,this._isNativeSelect&&(this.controlType=oe.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(S=>{this.autofilled=S.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(S){this._elementRef.nativeElement.focus(S)}_focusChanged(S){S!==this.focused&&(this.focused=S,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const S=this._elementRef.nativeElement.value;this._previousNativeValue!==S&&(this._previousNativeValue=S,this.stateChanges.next())}_dirtyCheckPlaceholder(){const S=this._getPlaceholder();if(S!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=S,S?B.setAttribute("placeholder",S):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){j.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let S=this._elementRef.nativeElement.validity;return S&&S.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const S=this._elementRef.nativeElement,B=S.options[0];return this.focused||S.multiple||!this.empty||!!(S.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(S){S.length?this._elementRef.nativeElement.setAttribute("aria-describedby",S.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const S=this._elementRef.nativeElement;return this._isNativeSelect&&(S.multiple||S.size>1)}static#e=this.\u0275fac=function(B){return new(B||T)(y.Y36(y.SBq),y.Y36(t.t4),y.Y36(g.a5,10),y.Y36(g.F,8),y.Y36(g.sg,8),y.Y36(v.rD),y.Y36(R,10),y.Y36(L),y.Y36(y.R0b),y.Y36(A.G_,8))};static#t=this.\u0275dir=y.lG2({type:T,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,Y){1&B&&y.NdJ("focus",function(){return Y._focusChanged(!0)})("blur",function(){return Y._focusChanged(!1)})("input",function(){return Y._onInput()}),2&B&&(y.Ikx("id",Y.id)("disabled",Y.disabled)("required",Y.required),y.uIk("name",Y.name||null)("readonly",Y.readonly&&!Y._isNativeSelect||null)("aria-invalid",Y.empty&&Y.required?null:Y.errorState)("aria-required",Y.required)("id",Y.id),y.ekj("mat-input-server",Y._isServer)("mat-mdc-form-field-textarea-control",Y._isInFormField&&Y._isTextarea)("mat-mdc-form-field-input-control",Y._isInFormField)("mdc-text-field__input",Y._isInFormField)("mat-mdc-native-select-inline",Y._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[y._Bn([{provide:A.Eo,useExisting:T}]),y.qOj,y.TTD]})}return T})(),P=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=y.oAB({type:T});static#n=this.\u0275inj=y.cJS({imports:[v.BQ,A.lN,A.lN,f,v.BQ]})}return T})()},1476:(Bn,et,C)=>{"use strict";C.d(et,{NW:()=>Y,TU:()=>q,ye:()=>j});var c=C(6814),t=C(5879),y=C(8645),I=C(2296),E=C(8525),F=C(2596),L=C(3680),D=C(2495),p=C(4170);function f(le,Fe){if(1&le&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&le){const $=Fe.$implicit;t.Q6J("value",$),t.xp6(1),t.hij(" ",$," ")}}function g(le,Fe){if(1&le){const $=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(K){t.CHM($);const pe=t.oxw(2);return t.KtG(pe._changePageSize(K.value))}),t.YNc(2,f,2,2,"mat-option",18),t.qZA()()}if(2&le){const $=t.oxw(2);t.Q6J("appearance",$._formFieldAppearance)("color",$.color),t.xp6(1),t.Q6J("value",$.pageSize)("disabled",$.disabled)("aria-labelledby",$._pageSizeLabelId)("panelClass",$.selectConfig.panelClass||"")("disableOptionCentering",$.selectConfig.disableOptionCentering),t.xp6(1),t.Q6J("ngForOf",$._displayedPageSizeOptions)}}function v(le,Fe){if(1&le&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&le){const $=t.oxw(2);t.xp6(1),t.Oqu($.pageSize)}}function A(le,Fe){if(1&le&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,g,3,8,"mat-form-field",14),t.YNc(4,v,2,1,"div",15),t.qZA()),2&le){const $=t.oxw();t.xp6(1),t.s9C("id",$._pageSizeLabelId),t.xp6(1),t.hij(" ",$._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",$._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",$._displayedPageSizeOptions.length<=1)}}function U(le,Fe){if(1&le){const $=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM($);const K=t.oxw();return t.KtG(K.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&le){const $=t.oxw();t.Q6J("matTooltip",$._intl.firstPageLabel)("matTooltipDisabled",$._previousButtonsDisabled())("matTooltipPosition","above")("disabled",$._previousButtonsDisabled()),t.uIk("aria-label",$._intl.firstPageLabel)}}function R(le,Fe){if(1&le){const $=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM($);const K=t.oxw();return t.KtG(K.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&le){const $=t.oxw();t.Q6J("matTooltip",$._intl.lastPageLabel)("matTooltipDisabled",$._nextButtonsDisabled())("matTooltipPosition","above")("disabled",$._nextButtonsDisabled()),t.uIk("aria-label",$._intl.lastPageLabel)}}let j=(()=>{class le{constructor(){this.changes=new y.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=($,ae,K)=>{if(0==K||0==ae)return`0 of ${K}`;const pe=$*ae;return`${pe+1} \u2013 ${pe<(K=Math.max(K,0))?Math.min(pe+ae,K):pe+ae} of ${K}`}}static#e=this.\u0275fac=function(ae){return new(ae||le)};static#t=this.\u0275prov=t.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const O={provide:j,deps:[[new t.FiY,new t.tp0,j]],useFactory:function k(le){return le||new j}},T=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),N=(0,L.Id)((0,L.dB)(class{}));let S=(()=>{class le extends N{get pageIndex(){return this._pageIndex}set pageIndex($){this._pageIndex=Math.max((0,D.su)($),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length($){this._length=(0,D.su)($),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize($){this._pageSize=Math.max((0,D.su)($),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions($){this._pageSizeOptions=($||[]).map(ae=>(0,D.su)(ae)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize($){this._hidePageSize=(0,D.Ig)($)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons($){this._showFirstLastButtons=(0,D.Ig)($)}constructor($,ae,K){if(super(),this._intl=$,this._changeDetectorRef=ae,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=$.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),K){const{pageSize:pe,pageSizeOptions:oe,hidePageSize:he,showFirstLastButtons:Se}=K;null!=pe&&(this._pageSize=pe),null!=oe&&(this._pageSizeOptions=oe),null!=he&&(this._hidePageSize=he),null!=Se&&(this._showFirstLastButtons=Se)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const $=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent($)}previousPage(){if(!this.hasPreviousPage())return;const $=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent($)}firstPage(){if(!this.hasPreviousPage())return;const $=this.pageIndex;this.pageIndex=0,this._emitPageEvent($)}lastPage(){if(!this.hasNextPage())return;const $=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent($)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const $=this.getNumberOfPages()-1;return this.pageIndex<$&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize($){const K=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/$)||0,this.pageSize=$,this._emitPageEvent(K)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort(($,ae)=>$-ae),this._changeDetectorRef.markForCheck())}_emitPageEvent($){this.page.emit({previousPageIndex:$,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(ae){t.$Z()};static#t=this.\u0275dir=t.lG2({type:le,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]})}return le})(),B=0,Y=(()=>{class le extends S{constructor($,ae,K){super($,ae,K),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=K?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(ae){return new(ae||le)(t.Y36(j),t.Y36(t.sBO),t.Y36(T,8))};static#t=this.\u0275cmp=t.Xpm({type:le,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(ae,K){1&ae&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,A,5,4,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,U,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return K.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return K.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,R,3,5,"button",11),t.qZA()()()),2&ae&&(t.xp6(2),t.Q6J("ngIf",!K.hidePageSize),t.xp6(3),t.hij(" ",K._intl.getRangeLabel(K.pageIndex,K.pageSize,K.length)," "),t.xp6(1),t.Q6J("ngIf",K.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",K._intl.previousPageLabel)("matTooltipDisabled",K._previousButtonsDisabled())("matTooltipPosition","above")("disabled",K._previousButtonsDisabled()),t.uIk("aria-label",K._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",K._intl.nextPageLabel)("matTooltipDisabled",K._nextButtonsDisabled())("matTooltipPosition","above")("disabled",K._nextButtonsDisabled()),t.uIk("aria-label",K._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",K.showFirstLastButtons))},dependencies:[c.sg,c.O5,I.RK,p.KE,E.gD,L.ey,F.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return le})(),q=(()=>{class le{static#e=this.\u0275fac=function(ae){return new(ae||le)};static#t=this.\u0275mod=t.oAB({type:le});static#n=this.\u0275inj=t.cJS({providers:[O],imports:[c.ez,I.ot,E.LD,F.AV]})}return le})()},5940:(Bn,et,C)=>{"use strict";C.d(et,{Cq:()=>U,Ou:()=>v});var c=C(5879),t=C(3680),y=C(2495),I=C(6814);const E=["determinateSpinner"];function F(R,j){if(1&R&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&R){const k=c.oxw();c.uIk("viewBox",k._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",k._strokeCircumference(),"px")("stroke-dashoffset",k._strokeCircumference()/2,"px")("stroke-width",k._circleStrokeWidth(),"%"),c.uIk("r",k._circleRadius())}}const L=(0,t.pj)(class{constructor(R){this._elementRef=R}},"primary"),D=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function p(){return{diameter:f}}}),f=100;let v=(()=>{class R extends L{constructor(k,O,x){super(k),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=f,this._noopAnimations="NoopAnimations"===O&&!!x&&!x._forceAnimations,x&&(x.color&&(this.color=this.defaultColor=x.color),x.diameter&&(this.diameter=x.diameter),x.strokeWidth&&(this.strokeWidth=x.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(k){this._value=Math.max(0,Math.min(100,(0,y.su)(k)))}get diameter(){return this._diameter}set diameter(k){this._diameter=(0,y.su)(k)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(k){this._strokeWidth=(0,y.su)(k)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const k=2*this._circleRadius()+this.strokeWidth;return`0 0 ${k} ${k}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(O){return new(O||R)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(D))};static#t=this.\u0275cmp=c.Xpm({type:R,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(O,x){if(1&O&&c.Gf(E,5),2&O){let P;c.iGM(P=c.CRH())&&(x._determinateCircle=P.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(O,x){2&O&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===x.mode?x.value:null)("mode",x.mode),c.Udp("width",x.diameter,"px")("height",x.diameter,"px")("--mdc-circular-progress-size",x.diameter+"px")("--mdc-circular-progress-active-indicator-width",x.diameter+"px"),c.ekj("_mat-animation-noopable",x._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===x.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(O,x){if(1&O&&(c.YNc(0,F,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&O){const P=c.MAs(1);c.xp6(4),c.uIk("viewBox",x._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",x._strokeCircumference(),"px")("stroke-dashoffset",x._strokeDashOffset(),"px")("stroke-width",x._circleStrokeWidth(),"%"),c.uIk("r",x._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",P),c.xp6(2),c.Q6J("ngTemplateOutlet",P),c.xp6(2),c.Q6J("ngTemplateOutlet",P)}},dependencies:[I.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return R})(),U=(()=>{class R{static#e=this.\u0275fac=function(O){return new(O||R)};static#t=this.\u0275mod=c.oAB({type:R});static#n=this.\u0275inj=c.cJS({imports:[I.ez,t.BQ]})}return R})()},8525:(Bn,et,C)=>{"use strict";C.d(et,{LD:()=>Te,gD:()=>Ne});var c=C(3651),t=C(6814),y=C(5879),I=C(3680),E=C(4170),F=C(799),L=C(4300),D=C(9388),p=C(2495),f=C(8337),g=C(6028),v=C(95),A=C(8645),U=C(4911),R=C(3019),j=C(7921),k=C(4664),O=C(8180),x=C(2181),P=C(7398),T=C(3997),N=C(9773),S=C(6825);const B=["trigger"],Y=["panel"];function q(W,se){if(1&W&&(y.TgZ(0,"span",10),y._uU(1),y.qZA()),2&W){const ge=y.oxw();y.xp6(1),y.Oqu(ge.placeholder)}}function le(W,se){if(1&W&&(y.TgZ(0,"span",14),y._uU(1),y.qZA()),2&W){const ge=y.oxw(2);y.xp6(1),y.Oqu(ge.triggerValue)}}function Fe(W,se){1&W&&y.Hsn(0,0,["*ngSwitchCase","true"])}function $(W,se){if(1&W&&(y.TgZ(0,"span",11),y.YNc(1,le,2,1,"span",12),y.YNc(2,Fe,1,0,"ng-content",13),y.qZA()),2&W){const ge=y.oxw();y.Q6J("ngSwitch",!!ge.customTrigger),y.xp6(2),y.Q6J("ngSwitchCase",!0)}}function ae(W,se){if(1&W){const ge=y.EpF();y.O4$(),y.kcU(),y.TgZ(0,"div",15,16),y.NdJ("@transformPanel.done",function(Q){y.CHM(ge);const Z=y.oxw();return y.KtG(Z._panelDoneAnimatingStream.next(Q.toState))})("keydown",function(Q){y.CHM(ge);const Z=y.oxw();return y.KtG(Z._handleKeydown(Q))}),y.Hsn(2,1),y.qZA()}if(2&W){const ge=y.oxw();y.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ge._getPanelTheme(),""),y.Q6J("ngClass",ge.panelClass)("@transformPanel","showing"),y.uIk("id",ge.id+"-panel")("aria-multiselectable",ge.multiple)("aria-label",ge.ariaLabel||null)("aria-labelledby",ge._getPanelAriaLabelledby())}}const K=[[["mat-select-trigger"]],"*"],pe=["mat-select-trigger","*"],oe={transformPanelWrap:(0,S.X$)("transformPanelWrap",[(0,S.eR)("* => void",(0,S.IO)("@transformPanel",[(0,S.pV)()],{optional:!0}))]),transformPanel:(0,S.X$)("transformPanel",[(0,S.SB)("void",(0,S.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,S.eR)("void => showing",(0,S.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,S.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,S.eR)("* => void",(0,S.jt)("100ms linear",(0,S.oB)({opacity:0})))])};let fe=0;const Re=new y.OlP("mat-select-scroll-strategy"),me=new y.OlP("MAT_SELECT_CONFIG"),Ue={provide:Re,deps:[c.aV],useFactory:function Me(W){return()=>W.scrollStrategies.reposition()}},ke=new y.OlP("MatSelectTrigger");class Ie{constructor(se,ge){this.source=se,this.value=ge}}const He=(0,I.Kr)((0,I.sb)((0,I.Id)((0,I.FD)(class{constructor(W,se,ge,J,Q){this._elementRef=W,this._defaultErrorStateMatcher=se,this._parentForm=ge,this._parentFormGroup=J,this.ngControl=Q,this.stateChanges=new A.x}}))));let ot=(()=>{class W extends He{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(ge){this._placeholder=ge,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(v.kI.required)??!1}set required(ge){this._required=(0,p.Ig)(ge),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ge){this._multiple=(0,p.Ig)(ge)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(ge){this._disableOptionCentering=(0,p.Ig)(ge)}get compareWith(){return this._compareWith}set compareWith(ge){this._compareWith=ge,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ge){this._assignValue(ge)&&this._onChange(ge)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(ge){this._typeaheadDebounceInterval=(0,p.su)(ge)}get id(){return this._id}set id(ge){this._id=ge||this._uid,this.stateChanges.next()}constructor(ge,J,Q,Z,te,ne,ee,X,ue,_e,de,xe,Ke,Ve){super(te,Z,ee,X,_e),this._viewportRuler=ge,this._changeDetectorRef=J,this._ngZone=Q,this._dir=ne,this._parentFormField=ue,this._liveAnnouncer=Ke,this._defaultOptions=Ve,this._panelOpen=!1,this._compareWith=(st,ct)=>st===ct,this._uid="mat-select-"+fe++,this._triggerAriaLabelledBy=null,this._destroy=new A.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+fe++,this._panelDoneAnimatingStream=new A.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,U.P)(()=>{const st=this.options;return st?st.changes.pipe((0,j.O)(st),(0,k.w)(()=>(0,R.T)(...st.map(ct=>ct.onSelectionChange)))):this._ngZone.onStable.pipe((0,O.q)(1),(0,k.w)(()=>this.optionSelectionChanges))}),this.openedChange=new y.vpe,this._openedStream=this.openedChange.pipe((0,x.h)(st=>st),(0,P.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,x.h)(st=>!st),(0,P.U)(()=>{})),this.selectionChange=new y.vpe,this.valueChange=new y.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ve?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Ve.typeaheadDebounceInterval),this._scrollStrategyFactory=xe,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(de)||0,this.id=this.id}ngOnInit(){this._selectionModel=new f.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,T.x)(),(0,N.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,N.R)(this._destroy)).subscribe(ge=>{ge.added.forEach(J=>J.select()),ge.removed.forEach(J=>J.deselect())}),this.options.changes.pipe((0,j.O)(null),(0,N.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ge=this._getTriggerAriaLabelledby(),J=this.ngControl;if(ge!==this._triggerAriaLabelledBy){const Q=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ge,ge?Q.setAttribute("aria-labelledby",ge):Q.removeAttribute("aria-labelledby")}J&&(this._previousControl!==J.control&&(void 0!==this._previousControl&&null!==J.disabled&&J.disabled!==this.disabled&&(this.disabled=J.disabled),this._previousControl=J.control),this.updateErrorState())}ngOnChanges(ge){(ge.disabled||ge.userAriaDescribedBy)&&this.stateChanges.next(),ge.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const ge=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ge)return;const J=`${this.id}-panel`;this._trackedModal&&(0,L.iD)(this._trackedModal,"aria-owns",J),(0,L.Zf)(ge,"aria-owns",J),this._trackedModal=ge}_clearFromModal(){this._trackedModal&&((0,L.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(ge){this._assignValue(ge)}registerOnChange(ge){this._onChange=ge}registerOnTouched(ge){this._onTouched=ge}setDisabledState(ge){this.disabled=ge,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ge=this._selectionModel.selected.map(J=>J.viewValue);return this._isRtl()&&ge.reverse(),ge.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ge){this.disabled||(this.panelOpen?this._handleOpenKeydown(ge):this._handleClosedKeydown(ge))}_handleClosedKeydown(ge){const J=ge.keyCode,Q=J===g.JH||J===g.LH||J===g.oh||J===g.SV,Z=J===g.K5||J===g.L_,te=this._keyManager;if(!te.isTyping()&&Z&&!(0,g.Vb)(ge)||(this.multiple||ge.altKey)&&Q)ge.preventDefault(),this.open();else if(!this.multiple){const ne=this.selected;te.onKeydown(ge);const ee=this.selected;ee&&ne!==ee&&this._liveAnnouncer.announce(ee.viewValue,1e4)}}_handleOpenKeydown(ge){const J=this._keyManager,Q=ge.keyCode,Z=Q===g.JH||Q===g.LH,te=J.isTyping();if(Z&&ge.altKey)ge.preventDefault(),this.close();else if(te||Q!==g.K5&&Q!==g.L_||!J.activeItem||(0,g.Vb)(ge))if(!te&&this._multiple&&Q===g.A&&ge.ctrlKey){ge.preventDefault();const ne=this.options.some(ee=>!ee.disabled&&!ee.selected);this.options.forEach(ee=>{ee.disabled||(ne?ee.select():ee.deselect())})}else{const ne=J.activeItemIndex;J.onKeydown(ge),this._multiple&&Z&&ge.shiftKey&&J.activeItem&&J.activeItemIndex!==ne&&J.activeItem._selectViaInteraction()}else ge.preventDefault(),J.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,O.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ge){if(this.options.forEach(J=>J.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ge)Array.isArray(ge),ge.forEach(J=>this._selectOptionByValue(J)),this._sortValues();else{const J=this._selectOptionByValue(ge);J?this._keyManager.updateActiveItem(J):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ge){const J=this.options.find(Q=>{if(this._selectionModel.isSelected(Q))return!1;try{return null!=Q.value&&this._compareWith(Q.value,ge)}catch{return!1}});return J&&this._selectionModel.select(J),J}_assignValue(ge){return!!(ge!==this._value||this._multiple&&Array.isArray(ge))&&(this.options&&this._setSelectionByValue(ge),this._value=ge,!0)}_skipPredicate(ge){return ge.disabled}_initKeyManager(){this._keyManager=new L.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ge=(0,R.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,N.R)(ge)).subscribe(J=>{this._onSelect(J.source,J.isUserInput),J.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,R.T)(...this.options.map(J=>J._stateChanges)).pipe((0,N.R)(ge)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ge,J){const Q=this._selectionModel.isSelected(ge);null!=ge.value||this._multiple?(Q!==ge.selected&&(ge.selected?this._selectionModel.select(ge):this._selectionModel.deselect(ge)),J&&this._keyManager.setActiveItem(ge),this.multiple&&(this._sortValues(),J&&this.focus())):(ge.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ge.value)),Q!==this._selectionModel.isSelected(ge)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ge=this.options.toArray();this._selectionModel.sort((J,Q)=>this.sortComparator?this.sortComparator(J,Q,ge):ge.indexOf(J)-ge.indexOf(Q)),this.stateChanges.next()}}_propagateChanges(ge){let J=null;J=this.multiple?this.selected.map(Q=>Q.value):this.selected?this.selected.value:ge,this._value=J,this.valueChange.emit(J),this._onChange(J),this.selectionChange.emit(this._getChangeEvent(J)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ge=-1;for(let J=0;J<this.options.length;J++)if(!this.options.get(J).disabled){ge=J;break}this._keyManager.setActiveItem(ge)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ge){this._elementRef.nativeElement.focus(ge)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ge=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ge?ge+" ":"")+this.ariaLabelledby:ge}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ge=this._parentFormField?.getLabelId();let J=(ge?ge+" ":"")+this._valueId;return this.ariaLabelledby&&(J+=" "+this.ariaLabelledby),J}_panelDoneAnimating(ge){this.openedChange.emit(ge)}setDescribedByIds(ge){ge.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ge.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(J){return new(J||W)(y.Y36(F.rL),y.Y36(y.sBO),y.Y36(y.R0b),y.Y36(I.rD),y.Y36(y.SBq),y.Y36(D.Is,8),y.Y36(v.F,8),y.Y36(v.sg,8),y.Y36(E.G_,8),y.Y36(v.a5,10),y.$8M("tabindex"),y.Y36(Re),y.Y36(L.Kd),y.Y36(me,8))};static#t=this.\u0275dir=y.lG2({type:W,viewQuery:function(J,Q){if(1&J&&(y.Gf(B,5),y.Gf(Y,5),y.Gf(c.pI,5)),2&J){let Z;y.iGM(Z=y.CRH())&&(Q.trigger=Z.first),y.iGM(Z=y.CRH())&&(Q.panel=Z.first),y.iGM(Z=y.CRH())&&(Q._overlayDir=Z.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[y.qOj,y.TTD]})}return W})(),Ne=(()=>{class W extends ot{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=ge=>!this.panelOpen&&ge.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,N.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(ge){const J=this.options.toArray()[ge];if(J){const Q=this.panel.nativeElement,Z=(0,I.CB)(ge,this.options,this.optionGroups),te=J._getHostElement();Q.scrollTop=0===ge&&1===Z?0:(0,I.jH)(te.offsetTop,te.offsetHeight,Q.scrollTop,Q.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ge){return new Ie(this,ge)}_getOverlayWidth(ge){return"auto"===this.panelWidth?(ge instanceof c.xu?ge.elementRef:ge||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ge){this._hideSingleSelectionIndicator=(0,p.Ig)(ge),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const ge of this.options)ge._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let ge;return function(Q){return(ge||(ge=y.n5z(W)))(Q||W)}}();static#t=this.\u0275cmp=y.Xpm({type:W,selectors:[["mat-select"]],contentQueries:function(J,Q,Z){if(1&J&&(y.Suo(Z,ke,5),y.Suo(Z,I.ey,5),y.Suo(Z,I.K7,5)),2&J){let te;y.iGM(te=y.CRH())&&(Q.customTrigger=te.first),y.iGM(te=y.CRH())&&(Q.options=te),y.iGM(te=y.CRH())&&(Q.optionGroups=te)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(J,Q){1&J&&y.NdJ("keydown",function(te){return Q._handleKeydown(te)})("focus",function(){return Q._onFocus()})("blur",function(){return Q._onBlur()}),2&J&&(y.uIk("id",Q.id)("tabindex",Q.tabIndex)("aria-controls",Q.panelOpen?Q.id+"-panel":null)("aria-expanded",Q.panelOpen)("aria-label",Q.ariaLabel||null)("aria-required",Q.required.toString())("aria-disabled",Q.disabled.toString())("aria-invalid",Q.errorState)("aria-activedescendant",Q._getAriaActiveDescendant()),y.ekj("mat-mdc-select-disabled",Q.disabled)("mat-mdc-select-invalid",Q.errorState)("mat-mdc-select-required",Q.required)("mat-mdc-select-empty",Q.empty)("mat-mdc-select-multiple",Q.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[y._Bn([{provide:E.Eo,useExisting:W},{provide:I.HF,useExisting:W}]),y.qOj],ngContentSelectors:pe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(J,Q){if(1&J&&(y.F$t(K),y.TgZ(0,"div",0,1),y.NdJ("click",function(){return Q.toggle()}),y.TgZ(3,"div",2),y.YNc(4,q,2,1,"span",3),y.YNc(5,$,3,2,"span",4),y.qZA(),y.TgZ(6,"div",5)(7,"div",6),y.O4$(),y.TgZ(8,"svg",7),y._UZ(9,"path",8),y.qZA()()()(),y.YNc(10,ae,3,9,"ng-template",9),y.NdJ("backdropClick",function(){return Q.close()})("attach",function(){return Q._onAttached()})("detach",function(){return Q.close()})),2&J){const Z=y.MAs(1);y.xp6(3),y.Q6J("ngSwitch",Q.empty),y.uIk("id",Q._valueId),y.xp6(1),y.Q6J("ngSwitchCase",!0),y.xp6(1),y.Q6J("ngSwitchCase",!1),y.xp6(5),y.Q6J("cdkConnectedOverlayPanelClass",Q._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Q._scrollStrategy)("cdkConnectedOverlayOrigin",Q._preferredOverlayOrigin||Z)("cdkConnectedOverlayOpen",Q.panelOpen)("cdkConnectedOverlayPositions",Q._positions)("cdkConnectedOverlayWidth",Q._overlayWidth)}},dependencies:[t.mk,t.RF,t.n9,t.ED,c.pI,c.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[oe.transformPanel]},changeDetection:0})}return W})(),Te=(()=>{class W{static#e=this.\u0275fac=function(J){return new(J||W)};static#t=this.\u0275mod=y.oAB({type:W});static#n=this.\u0275inj=y.cJS({providers:[Ue],imports:[t.ez,c.U8,I.Ng,I.BQ,F.ZD,E.lN,I.Ng,I.BQ]})}return W})()},2939:(Bn,et,C)=>{"use strict";C.d(et,{OX:()=>O,ZX:()=>$,qD:()=>x,u_:()=>P,ux:()=>oe});var c=C(5879),t=C(8645),y=C(6814),I=C(2296),E=C(6825),F=C(8484),L=C(2831),D=C(8180),p=C(9773),f=C(4300),g=C(1088),v=C(3651),A=C(3680);function U(he,Se){if(1&he){const Le=c.EpF();c.TgZ(0,"div",2)(1,"button",3),c.NdJ("click",function(){c.CHM(Le);const Re=c.oxw();return c.KtG(Re.action())}),c._uU(2),c.qZA()()}if(2&he){const Le=c.oxw();c.xp6(2),c.hij(" ",Le.data.action," ")}}const R=["label"];function j(he,Se){}const k=Math.pow(2,31)-1;class O{constructor(Se,Le){this._overlayRef=Le,this._afterDismissed=new t.x,this._afterOpened=new t.x,this._onAction=new t.x,this._dismissedByAction=!1,this.containerInstance=Se,Se._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Se){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Se,k))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const x=new c.OlP("MatSnackBarData");class P{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let T=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275dir=c.lG2({type:he,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return he})(),N=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275dir=c.lG2({type:he,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return he})(),S=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275dir=c.lG2({type:he,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return he})(),B=(()=>{class he{constructor(Le,fe){this.snackBarRef=Le,this.data=fe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.Y36(O),c.Y36(x))};static#t=this.\u0275cmp=c.Xpm({type:he,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(fe,Re){1&fe&&(c.TgZ(0,"div",0),c._uU(1),c.qZA(),c.YNc(2,U,3,1,"div",1)),2&fe&&(c.xp6(1),c.hij(" ",Re.data.message,"\n"),c.xp6(1),c.Q6J("ngIf",Re.hasAction))},dependencies:[y.O5,I.lW,T,N,S],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return he})();const Y={snackBarState:(0,E.X$)("state",[(0,E.SB)("void, hidden",(0,E.oB)({transform:"scale(0.8)",opacity:0})),(0,E.SB)("visible",(0,E.oB)({transform:"scale(1)",opacity:1})),(0,E.eR)("* => visible",(0,E.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,E.eR)("* => void, * => hidden",(0,E.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,E.oB)({opacity:0})))])};let q=0,le=(()=>{class he extends F.en{constructor(Le,fe,Re,Me,me){super(),this._ngZone=Le,this._elementRef=fe,this._changeDetectorRef=Re,this._platform=Me,this.snackBarConfig=me,this._document=(0,c.f3M)(y.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new t.x,this._onExit=new t.x,this._onEnter=new t.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+q++,this.attachDomPortal=Ue=>{this._assertNotAttached();const ke=this._portalOutlet.attachDomPortal(Ue);return this._afterPortalAttached(),ke},this._live="assertive"!==me.politeness||me.announcementMessage?"off"===me.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Le){this._assertNotAttached();const fe=this._portalOutlet.attachComponentPortal(Le);return this._afterPortalAttached(),fe}attachTemplatePortal(Le){this._assertNotAttached();const fe=this._portalOutlet.attachTemplatePortal(Le);return this._afterPortalAttached(),fe}onAnimationEnd(Le){const{fromState:fe,toState:Re}=Le;if(("void"===Re&&"void"!==fe||"hidden"===Re)&&this._completeExit(),"visible"===Re){const Me=this._onEnter;this._ngZone.run(()=>{Me.next(),Me.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,D.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Le=this._elementRef.nativeElement,fe=this.snackBarConfig.panelClass;fe&&(Array.isArray(fe)?fe.forEach(Re=>Le.classList.add(Re)):Le.classList.add(fe)),this._exposeToModals()}_exposeToModals(){const Le=this._liveElementId,fe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Re=0;Re<fe.length;Re++){const Me=fe[Re],me=Me.getAttribute("aria-owns");this._trackedModals.add(Me),me?-1===me.indexOf(Le)&&Me.setAttribute("aria-owns",me+" "+Le):Me.setAttribute("aria-owns",Le)}}_clearFromModals(){this._trackedModals.forEach(Le=>{const fe=Le.getAttribute("aria-owns");if(fe){const Re=fe.replace(this._liveElementId,"").trim();Re.length>0?Le.setAttribute("aria-owns",Re):Le.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Le=this._elementRef.nativeElement.querySelector("[aria-hidden]"),fe=this._elementRef.nativeElement.querySelector("[aria-live]");if(Le&&fe){let Re=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Le.contains(document.activeElement)&&(Re=document.activeElement),Le.removeAttribute("aria-hidden"),fe.appendChild(Le),Re?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(L.t4),c.Y36(P))};static#t=this.\u0275dir=c.lG2({type:he,viewQuery:function(fe,Re){if(1&fe&&c.Gf(F.Pl,7),2&fe){let Me;c.iGM(Me=c.CRH())&&(Re._portalOutlet=Me.first)}},features:[c.qOj]})}return he})(),Fe=(()=>{class he extends le{_afterPortalAttached(){super._afterPortalAttached();const Le=this._label.nativeElement,fe="mdc-snackbar__label";Le.classList.toggle(fe,!Le.querySelector(`.${fe}`))}static#e=this.\u0275fac=function(){let Le;return function(Re){return(Le||(Le=c.n5z(he)))(Re||he)}}();static#t=this.\u0275cmp=c.Xpm({type:he,selectors:[["mat-snack-bar-container"]],viewQuery:function(fe,Re){if(1&fe&&c.Gf(R,7),2&fe){let Me;c.iGM(Me=c.CRH())&&(Re._label=Me.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(fe,Re){1&fe&&c.WFA("@state.done",function(me){return Re.onAnimationEnd(me)}),2&fe&&c.d8E("@state",Re._animationState)},features:[c.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(fe,Re){1&fe&&(c.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),c.YNc(4,j,0,0,"ng-template",4),c.qZA(),c._UZ(5,"div"),c.qZA()()),2&fe&&(c.xp6(5),c.uIk("aria-live",Re._live)("role",Re._role)("id",Re._liveElementId))},dependencies:[F.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Y.snackBarState]}})}return he})(),$=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275mod=c.oAB({type:he});static#n=this.\u0275inj=c.cJS({imports:[v.U8,F.eL,y.ez,I.ot,A.BQ,A.BQ]})}return he})();const K=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function ae(){return new P}});let pe=(()=>{class he{get _openedSnackBarRef(){const Le=this._parentSnackBar;return Le?Le._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Le){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Le:this._snackBarRefAtThisLevel=Le}constructor(Le,fe,Re,Me,me,Ue){this._overlay=Le,this._live=fe,this._injector=Re,this._breakpointObserver=Me,this._parentSnackBar=me,this._defaultConfig=Ue,this._snackBarRefAtThisLevel=null}openFromComponent(Le,fe){return this._attach(Le,fe)}openFromTemplate(Le,fe){return this._attach(Le,fe)}open(Le,fe="",Re){const Me={...this._defaultConfig,...Re};return Me.data={message:Le,action:fe},Me.announcementMessage===Le&&(Me.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Me)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Le,fe){const Me=c.zs3.create({parent:fe&&fe.viewContainerRef&&fe.viewContainerRef.injector||this._injector,providers:[{provide:P,useValue:fe}]}),me=new F.C5(this.snackBarContainerComponent,fe.viewContainerRef,Me),Ue=Le.attach(me);return Ue.instance.snackBarConfig=fe,Ue.instance}_attach(Le,fe){const Re={...new P,...this._defaultConfig,...fe},Me=this._createOverlay(Re),me=this._attachSnackBarContainer(Me,Re),Ue=new O(me,Me);if(Le instanceof c.Rgc){const ke=new F.UE(Le,null,{$implicit:Re.data,snackBarRef:Ue});Ue.instance=me.attachTemplatePortal(ke)}else{const ke=this._createInjector(Re,Ue),Ie=new F.C5(Le,void 0,ke),He=me.attachComponentPortal(Ie);Ue.instance=He.instance}return this._breakpointObserver.observe(g.u3.HandsetPortrait).pipe((0,p.R)(Me.detachments())).subscribe(ke=>{Me.overlayElement.classList.toggle(this.handsetCssClass,ke.matches)}),Re.announcementMessage&&me._onAnnounce.subscribe(()=>{this._live.announce(Re.announcementMessage,Re.politeness)}),this._animateSnackBar(Ue,Re),this._openedSnackBarRef=Ue,this._openedSnackBarRef}_animateSnackBar(Le,fe){Le.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Le&&(this._openedSnackBarRef=null),fe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Le.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Le.containerInstance.enter(),fe.duration&&fe.duration>0&&Le.afterOpened().subscribe(()=>Le._dismissAfter(fe.duration))}_createOverlay(Le){const fe=new v.X_;fe.direction=Le.direction;let Re=this._overlay.position().global();const Me="rtl"===Le.direction,me="left"===Le.horizontalPosition||"start"===Le.horizontalPosition&&!Me||"end"===Le.horizontalPosition&&Me,Ue=!me&&"center"!==Le.horizontalPosition;return me?Re.left("0"):Ue?Re.right("0"):Re.centerHorizontally(),"top"===Le.verticalPosition?Re.top("0"):Re.bottom("0"),fe.positionStrategy=Re,this._overlay.create(fe)}_createInjector(Le,fe){return c.zs3.create({parent:Le&&Le.viewContainerRef&&Le.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:fe},{provide:x,useValue:Le.data}]})}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.LFG(v.aV),c.LFG(f.Kd),c.LFG(c.zs3),c.LFG(g.Yg),c.LFG(he,12),c.LFG(K))};static#t=this.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac})}return he})(),oe=(()=>{class he extends pe{constructor(Le,fe,Re,Me,me,Ue){super(Le,fe,Re,Me,me,Ue),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Fe,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.LFG(v.aV),c.LFG(f.Kd),c.LFG(c.zs3),c.LFG(g.Yg),c.LFG(he,12),c.LFG(K))};static#t=this.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac,providedIn:$})}return he})()},3566:(Bn,et,C)=>{"use strict";C.d(et,{JX:()=>Fe,YE:()=>x,nU:()=>le});var c=C(5879),t=C(4300),y=C(2495),I=C(6028),E=C(3680),F=C(8645),L=C(3019),D=C(6825),p=C(6814);const f=["mat-sort-header",""];function g($,ae){if(1&$){const K=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){c.CHM(K);const oe=c.oxw();return c.KtG(oe._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){c.CHM(K);const oe=c.oxw();return c.KtG(oe._disableViewStateAnimation=!1)}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6)(4,"div",7)(5,"div",8),c.qZA()()}if(2&$){const K=c.oxw();c.Q6J("@arrowOpacity",K._getArrowViewState())("@arrowPosition",K._getArrowViewState())("@allowChildren",K._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",K._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",K._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",K._getArrowDirectionState())}}const v=["*"],k=new c.OlP("MAT_SORT_DEFAULT_OPTIONS"),O=(0,E.dB)((0,E.Id)(class{}));let x=(()=>{class $ extends O{get direction(){return this._direction}set direction(K){this._direction=K}get disableClear(){return this._disableClear}set disableClear(K){this._disableClear=(0,y.Ig)(K)}constructor(K){super(),this._defaultOptions=K,this.sortables=new Map,this._stateChanges=new F.x,this.start="asc",this._direction="",this.sortChange=new c.vpe}register(K){this.sortables.set(K.id,K)}deregister(K){this.sortables.delete(K.id)}sort(K){this.active!=K.id?(this.active=K.id,this.direction=K.start?K.start:this.start):this.direction=this.getNextSortDirection(K),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(K){if(!K)return"";let oe=function P($,ae){let K=["asc","desc"];return"desc"==$&&K.reverse(),ae||K.push(""),K}(K.start||this.start,K?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),he=oe.indexOf(this.direction)+1;return he>=oe.length&&(he=0),oe[he]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(pe){return new(pe||$)(c.Y36(k,8))};static#t=this.\u0275dir=c.lG2({type:$,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]})}return $})();const T=E.mZ.ENTERING+" "+E.yN.STANDARD_CURVE,N={indicator:(0,D.X$)("indicator",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"translateY(0px)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"translateY(10px)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),leftPointer:(0,D.X$)("leftPointer",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"rotate(-45deg)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"rotate(45deg)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),rightPointer:(0,D.X$)("rightPointer",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"rotate(45deg)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"rotate(-45deg)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),arrowOpacity:(0,D.X$)("arrowOpacity",[(0,D.SB)("desc-to-active, asc-to-active, active",(0,D.oB)({opacity:1})),(0,D.SB)("desc-to-hint, asc-to-hint, hint",(0,D.oB)({opacity:.54})),(0,D.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,D.oB)({opacity:0})),(0,D.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,D.jt)("0ms")),(0,D.eR)("* <=> *",(0,D.jt)(T))]),arrowPosition:(0,D.X$)("arrowPosition",[(0,D.eR)("* => desc-to-hint, * => desc-to-active",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(-25%)"}),(0,D.oB)({transform:"translateY(0)"})]))),(0,D.eR)("* => hint-to-desc, * => active-to-desc",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(0)"}),(0,D.oB)({transform:"translateY(25%)"})]))),(0,D.eR)("* => asc-to-hint, * => asc-to-active",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(25%)"}),(0,D.oB)({transform:"translateY(0)"})]))),(0,D.eR)("* => hint-to-asc, * => active-to-asc",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(0)"}),(0,D.oB)({transform:"translateY(-25%)"})]))),(0,D.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,D.oB)({transform:"translateY(0)"})),(0,D.SB)("hint-to-desc, active-to-desc, desc",(0,D.oB)({transform:"translateY(-25%)"})),(0,D.SB)("hint-to-asc, active-to-asc, asc",(0,D.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,D.X$)("allowChildren",[(0,D.eR)("* <=> *",[(0,D.IO)("@*",(0,D.pV)(),{optional:!0})])])};let S=(()=>{class ${constructor(){this.changes=new F.x}static#e=this.\u0275fac=function(pe){return new(pe||$)};static#t=this.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();const Y={provide:S,deps:[[new c.FiY,new c.tp0,S]],useFactory:function B($){return $||new S}},q=(0,E.Id)(class{});let le=(()=>{class $ extends q{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(K){this._updateSortActionDescription(K)}get disableClear(){return this._disableClear}set disableClear(K){this._disableClear=(0,y.Ig)(K)}constructor(K,pe,oe,he,Se,Le,fe,Re){super(),this._intl=K,this._changeDetectorRef=pe,this._sort=oe,this._columnDef=he,this._focusMonitor=Se,this._elementRef=Le,this._ariaDescriber=fe,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Re?.arrowPosition&&(this.arrowPosition=Re?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(K=>{const pe=!!K;pe!==this._showIndicatorHint&&(this._setIndicatorHintVisible(pe),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(K){this._isDisabled()&&K||(this._showIndicatorHint=K,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(K){this._viewState=K||{},this._disableViewStateAnimation&&(this._viewState={toState:K.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(K){!this._isDisabled()&&(K.keyCode===I.L_||K.keyCode===I.K5)&&(K.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const K=this._viewState.fromState;return(K?`${K}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(K){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,K)),this._sortActionDescription=K}_handleStateChanges(){this._rerenderSubscription=(0,L.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(pe){return new(pe||$)(c.Y36(S),c.Y36(c.sBO),c.Y36(x,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36(t.tE),c.Y36(c.SBq),c.Y36(t.$s,8),c.Y36(k,8))};static#t=this.\u0275cmp=c.Xpm({type:$,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(pe,oe){1&pe&&c.NdJ("click",function(){return oe._handleClick()})("keydown",function(Se){return oe._handleKeydown(Se)})("mouseenter",function(){return oe._setIndicatorHintVisible(!0)})("mouseleave",function(){return oe._setIndicatorHintVisible(!1)}),2&pe&&(c.uIk("aria-sort",oe._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",oe._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[c.qOj],attrs:f,ngContentSelectors:v,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(pe,oe){1&pe&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,g,6,6,"div",2),c.qZA()),2&pe&&(c.ekj("mat-sort-header-sorted",oe._isSorted())("mat-sort-header-position-before","before"===oe.arrowPosition),c.uIk("tabindex",oe._isDisabled()?null:0)("role",oe._isDisabled()?null:"button"),c.xp6(3),c.Q6J("ngIf",oe._renderArrow()))},dependencies:[p.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[N.indicator,N.leftPointer,N.rightPointer,N.arrowOpacity,N.arrowPosition,N.allowChildren]},changeDetection:0})}return $})(),Fe=(()=>{class ${static#e=this.\u0275fac=function(pe){return new(pe||$)};static#t=this.\u0275mod=c.oAB({type:$});static#n=this.\u0275inj=c.cJS({providers:[Y],imports:[p.ez,E.BQ]})}return $})()},5313:(Bn,et,C)=>{"use strict";C.d(et,{ev:()=>Ft,Dz:()=>Pe,w1:()=>lt,ge:()=>rt,fO:()=>Ye,XQ:()=>ln,as:()=>qt,Ee:()=>Nn,Gk:()=>Mn,nj:()=>Qt,BZ:()=>De,by:()=>Et,p0:()=>fi});var c=C(5879),t=C(9388),y=C(2495),I=C(8337),E=C(2831),F=C(799),L=C(6814),D=C(8645),p=C(2459),f=C(5619),g=C(2664),v=C(2096),A=C(9773),U=C(8180);const R=[[["caption"]],[["colgroup"],["col"]]],j=["caption","colgroup, col"];function x(at){return class extends at{get sticky(){return this._sticky}set sticky(Wt){const We=this._sticky;this._sticky=(0,y.Ig)(Wt),this._hasStickyChanged=We!==this._sticky}hasStickyChanged(){const Wt=this._hasStickyChanged;return this._hasStickyChanged=!1,Wt}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...Wt){super(...Wt),this._sticky=!1,this._hasStickyChanged=!1}}}const P=new c.OlP("CDK_TABLE");let N=(()=>{class at{constructor(We){this.template=We}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkCellDef",""]]})}return at})(),S=(()=>{class at{constructor(We){this.template=We}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkHeaderCellDef",""]]})}return at})(),B=(()=>{class at{constructor(We){this.template=We}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkFooterCellDef",""]]})}return at})();class Y{}const q=x(Y);let le=(()=>{class at extends q{get name(){return this._name}set name(We){this._setNameInput(We)}get stickyEnd(){return this._stickyEnd}set stickyEnd(We){const ut=this._stickyEnd;this._stickyEnd=(0,y.Ig)(We),this._hasStickyChanged=ut!==this._stickyEnd}constructor(We){super(),this._table=We,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(We){We&&(this._name=We,this.cssClassFriendlyName=We.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkColumnDef",""]],contentQueries:function(ut,Pt,en){if(1&ut&&(c.Suo(en,N,5),c.Suo(en,S,5),c.Suo(en,B,5)),2&ut){let Jt;c.iGM(Jt=c.CRH())&&(Pt.cell=Jt.first),c.iGM(Jt=c.CRH())&&(Pt.headerCell=Jt.first),c.iGM(Jt=c.CRH())&&(Pt.footerCell=Jt.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:at}]),c.qOj]})}return at})();class Fe{constructor(Wt,We){We.nativeElement.classList.add(...Wt._columnCssClassName)}}let $=(()=>{class at extends Fe{constructor(We,ut){super(We,ut)}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(le),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]})}return at})(),K=(()=>{class at extends Fe{constructor(We,ut){if(super(We,ut),1===We._table?._elementRef.nativeElement.nodeType){const Pt=We._table._elementRef.nativeElement.getAttribute("role");ut.nativeElement.setAttribute("role","grid"===Pt||"treegrid"===Pt?"gridcell":"cell")}}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(le),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]})}return at})();class pe{constructor(){this.tasks=[],this.endTasks=[]}}const oe=new c.OlP("_COALESCED_STYLE_SCHEDULER");let he=(()=>{class at{constructor(We){this._ngZone=We,this._currentSchedule=null,this._destroyed=new D.x}schedule(We){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(We)}scheduleEnd(We){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(We)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new pe,this._getScheduleObservable().pipe((0,A.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const We=this._currentSchedule;this._currentSchedule=new pe;for(const ut of We.tasks)ut();for(const ut of We.endTasks)ut()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,p.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,U.q)(1))}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:at,factory:at.\u0275fac})}return at})(),Le=(()=>{class at{constructor(We,ut){this.template=We,this._differs=ut}ngOnChanges(We){if(!this._columnsDiffer){const ut=We.columns&&We.columns.currentValue||[];this._columnsDiffer=this._differs.find(ut).create(),this._columnsDiffer.diff(ut)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(We){return this instanceof Me?We.headerCell.template:this instanceof ke?We.footerCell.template:We.cell.template}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:at,features:[c.TTD]})}return at})();class fe extends Le{}const Re=x(fe);let Me=(()=>{class at extends Re{constructor(We,ut,Pt){super(We,ut),this._table=Pt}ngOnChanges(We){super.ngOnChanges(We)}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return at})();class me extends Le{}const Ue=x(me);let ke=(()=>{class at extends Ue{constructor(We,ut,Pt){super(We,ut),this._table=Pt}ngOnChanges(We){super.ngOnChanges(We)}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return at})(),Ie=(()=>{class at extends Le{constructor(We,ut,Pt){super(We,ut),this._table=Pt}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]})}return at})(),He=(()=>{class at{static#e=this.mostRecentCellOutlet=null;constructor(We){this._viewContainer=We,at.mostRecentCellOutlet=this}ngOnDestroy(){at.mostRecentCellOutlet===this&&(at.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.s_b))};static#n=this.\u0275dir=c.lG2({type:at,selectors:[["","cdkCellOutlet",""]]})}return at})(),ot=(()=>{class at{static#e=this.\u0275fac=function(ut){return new(ut||at)};static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ut,Pt){1&ut&&c.GkF(0,0)},dependencies:[He],encapsulation:2})}return at})(),Ne=(()=>{class at{static#e=this.\u0275fac=function(ut){return new(ut||at)};static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ut,Pt){1&ut&&c.GkF(0,0)},dependencies:[He],encapsulation:2})}return at})(),Te=(()=>{class at{constructor(We){this.templateRef=We,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["ng-template","cdkNoDataRow",""]]})}return at})();const W=["top","bottom","left","right"];class se{constructor(Wt,We,ut,Pt,en=!0,Jt=!0,Rn){this._isNativeHtmlTable=Wt,this._stickCellCss=We,this.direction=ut,this._coalescedStyleScheduler=Pt,this._isBrowser=en,this._needsPositionStickyOnElement=Jt,this._positionListener=Rn,this._cachedCellWidths=[],this._borderCellCss={top:`${We}-border-elem-top`,bottom:`${We}-border-elem-bottom`,left:`${We}-border-elem-left`,right:`${We}-border-elem-right`}}clearStickyPositioning(Wt,We){const ut=[];for(const Pt of Wt)if(Pt.nodeType===Pt.ELEMENT_NODE){ut.push(Pt);for(let en=0;en<Pt.children.length;en++)ut.push(Pt.children[en])}this._coalescedStyleScheduler.schedule(()=>{for(const Pt of ut)this._removeStickyStyle(Pt,We)})}updateStickyColumns(Wt,We,ut,Pt=!0){if(!Wt.length||!this._isBrowser||!We.some(Fn=>Fn)&&!ut.some(Fn=>Fn))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const en=Wt[0],Jt=en.children.length,Rn=this._getCellWidths(en,Pt),Ht=this._getStickyStartColumnPositions(Rn,We),zt=this._getStickyEndColumnPositions(Rn,ut),on=We.lastIndexOf(!0),En=ut.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Fn="rtl"===this.direction,Xn=Fn?"right":"left",ft=Fn?"left":"right";for(const hn of Wt)for(let be=0;be<Jt;be++){const vt=hn.children[be];We[be]&&this._addStickyStyle(vt,Xn,Ht[be],be===on),ut[be]&&this._addStickyStyle(vt,ft,zt[be],be===En)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===on?[]:Rn.slice(0,on+1).map((hn,be)=>We[be]?hn:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===En?[]:Rn.slice(En).map((hn,be)=>ut[be+En]?hn:null).reverse()}))})}stickRows(Wt,We,ut){if(!this._isBrowser)return;const Pt="bottom"===ut?Wt.slice().reverse():Wt,en="bottom"===ut?We.slice().reverse():We,Jt=[],Rn=[],Ht=[];for(let on=0,En=0;on<Pt.length;on++){if(!en[on])continue;Jt[on]=En;const Fn=Pt[on];Ht[on]=this._isNativeHtmlTable?Array.from(Fn.children):[Fn];const Xn=Fn.getBoundingClientRect().height;En+=Xn,Rn[on]=Xn}const zt=en.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let on=0;on<Pt.length;on++){if(!en[on])continue;const En=Jt[on],Fn=on===zt;for(const Xn of Ht[on])this._addStickyStyle(Xn,ut,En,Fn)}"top"===ut?this._positionListener?.stickyHeaderRowsUpdated({sizes:Rn,offsets:Jt,elements:Ht}):this._positionListener?.stickyFooterRowsUpdated({sizes:Rn,offsets:Jt,elements:Ht})})}updateStickyFooterContainer(Wt,We){if(!this._isNativeHtmlTable)return;const ut=Wt.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{We.some(Pt=>!Pt)?this._removeStickyStyle(ut,["bottom"]):this._addStickyStyle(ut,"bottom",0,!1)})}_removeStickyStyle(Wt,We){for(const Pt of We)Wt.style[Pt]="",Wt.classList.remove(this._borderCellCss[Pt]);W.some(Pt=>-1===We.indexOf(Pt)&&Wt.style[Pt])?Wt.style.zIndex=this._getCalculatedZIndex(Wt):(Wt.style.zIndex="",this._needsPositionStickyOnElement&&(Wt.style.position=""),Wt.classList.remove(this._stickCellCss))}_addStickyStyle(Wt,We,ut,Pt){Wt.classList.add(this._stickCellCss),Pt&&Wt.classList.add(this._borderCellCss[We]),Wt.style[We]=`${ut}px`,Wt.style.zIndex=this._getCalculatedZIndex(Wt),this._needsPositionStickyOnElement&&(Wt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Wt){const We={top:100,bottom:10,left:1,right:1};let ut=0;for(const Pt of W)Wt.style[Pt]&&(ut+=We[Pt]);return ut?`${ut}`:""}_getCellWidths(Wt,We=!0){if(!We&&this._cachedCellWidths.length)return this._cachedCellWidths;const ut=[],Pt=Wt.children;for(let en=0;en<Pt.length;en++)ut.push(Pt[en].getBoundingClientRect().width);return this._cachedCellWidths=ut,ut}_getStickyStartColumnPositions(Wt,We){const ut=[];let Pt=0;for(let en=0;en<Wt.length;en++)We[en]&&(ut[en]=Pt,Pt+=Wt[en]);return ut}_getStickyEndColumnPositions(Wt,We){const ut=[];let Pt=0;for(let en=Wt.length;en>0;en--)We[en]&&(ut[en]=Pt,Pt+=Wt[en]);return ut}}const ue=new c.OlP("CDK_SPL");let de=(()=>{class at{constructor(We,ut){this.viewContainer=We,this.elementRef=ut}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","rowOutlet",""]]})}return at})(),xe=(()=>{class at{constructor(We,ut){this.viewContainer=We,this.elementRef=ut}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","headerRowOutlet",""]]})}return at})(),Ke=(()=>{class at{constructor(We,ut){this.viewContainer=We,this.elementRef=ut}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","footerRowOutlet",""]]})}return at})(),Ve=(()=>{class at{constructor(We,ut){this.viewContainer=We,this.elementRef=ut}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","noDataRowOutlet",""]]})}return at})(),nt=(()=>{class at{get trackBy(){return this._trackByFn}set trackBy(We){this._trackByFn=We}get dataSource(){return this._dataSource}set dataSource(We){this._dataSource!==We&&this._switchDataSource(We)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(We){this._multiTemplateDataRows=(0,y.Ig)(We),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(We){this._fixedLayout=(0,y.Ig)(We),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(We,ut,Pt,en,Jt,Rn,Ht,zt,on,En,Fn,Xn){this._differs=We,this._changeDetectorRef=ut,this._elementRef=Pt,this._dir=Jt,this._platform=Ht,this._viewRepeater=zt,this._coalescedStyleScheduler=on,this._viewportRuler=En,this._stickyPositioningListener=Fn,this._ngZone=Xn,this._onDestroy=new D.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new f.X({start:0,end:Number.MAX_VALUE}),en||this._elementRef.nativeElement.setAttribute("role","table"),this._document=Rn,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((We,ut)=>this.trackBy?this.trackBy(ut.dataIndex,ut.data):ut),this._viewportRuler.change().pipe((0,A.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const ut=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||ut,this._forceRecalculateCellWidths=ut,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(We=>{We.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,I.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const We=this._dataDiffer.diff(this._renderRows);if(!We)return this._updateNoDataRow(),void this.contentChanged.next();const ut=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(We,ut,(Pt,en,Jt)=>this._getEmbeddedViewArgs(Pt.item,Jt),Pt=>Pt.item.data,Pt=>{1===Pt.operation&&Pt.context&&this._renderCellTemplateForItem(Pt.record.item.rowDef,Pt.context)}),this._updateRowIndexContext(),We.forEachIdentityChange(Pt=>{ut.get(Pt.currentIndex).context.$implicit=Pt.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,U.q)(1),(0,A.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(We){this._customColumnDefs.add(We)}removeColumnDef(We){this._customColumnDefs.delete(We)}addRowDef(We){this._customRowDefs.add(We)}removeRowDef(We){this._customRowDefs.delete(We)}addHeaderRowDef(We){this._customHeaderRowDefs.add(We),this._headerRowDefChanged=!0}removeHeaderRowDef(We){this._customHeaderRowDefs.delete(We),this._headerRowDefChanged=!0}addFooterRowDef(We){this._customFooterRowDefs.add(We),this._footerRowDefChanged=!0}removeFooterRowDef(We){this._customFooterRowDefs.delete(We),this._footerRowDefChanged=!0}setNoDataRow(We){this._customNoDataRow=We}updateStickyHeaderRowStyles(){const We=this._getRenderedRows(this._headerRowOutlet),Pt=this._elementRef.nativeElement.querySelector("thead");Pt&&(Pt.style.display=We.length?"":"none");const en=this._headerRowDefs.map(Jt=>Jt.sticky);this._stickyStyler.clearStickyPositioning(We,["top"]),this._stickyStyler.stickRows(We,en,"top"),this._headerRowDefs.forEach(Jt=>Jt.resetStickyChanged())}updateStickyFooterRowStyles(){const We=this._getRenderedRows(this._footerRowOutlet),Pt=this._elementRef.nativeElement.querySelector("tfoot");Pt&&(Pt.style.display=We.length?"":"none");const en=this._footerRowDefs.map(Jt=>Jt.sticky);this._stickyStyler.clearStickyPositioning(We,["bottom"]),this._stickyStyler.stickRows(We,en,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,en),this._footerRowDefs.forEach(Jt=>Jt.resetStickyChanged())}updateStickyColumnStyles(){const We=this._getRenderedRows(this._headerRowOutlet),ut=this._getRenderedRows(this._rowOutlet),Pt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...We,...ut,...Pt],["left","right"]),this._stickyColumnStylesNeedReset=!1),We.forEach((en,Jt)=>{this._addStickyColumnStyles([en],this._headerRowDefs[Jt])}),this._rowDefs.forEach(en=>{const Jt=[];for(let Rn=0;Rn<ut.length;Rn++)this._renderRows[Rn].rowDef===en&&Jt.push(ut[Rn]);this._addStickyColumnStyles(Jt,en)}),Pt.forEach((en,Jt)=>{this._addStickyColumnStyles([en],this._footerRowDefs[Jt])}),Array.from(this._columnDefsByName.values()).forEach(en=>en.resetStickyChanged())}_getAllRenderRows(){const We=[],ut=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Pt=0;Pt<this._data.length;Pt++){let en=this._data[Pt];const Jt=this._getRenderRowsForData(en,Pt,ut.get(en));this._cachedRenderRowsMap.has(en)||this._cachedRenderRowsMap.set(en,new WeakMap);for(let Rn=0;Rn<Jt.length;Rn++){let Ht=Jt[Rn];const zt=this._cachedRenderRowsMap.get(Ht.data);zt.has(Ht.rowDef)?zt.get(Ht.rowDef).push(Ht):zt.set(Ht.rowDef,[Ht]),We.push(Ht)}}return We}_getRenderRowsForData(We,ut,Pt){return this._getRowDefs(We,ut).map(Jt=>{const Rn=Pt&&Pt.has(Jt)?Pt.get(Jt):[];if(Rn.length){const Ht=Rn.shift();return Ht.dataIndex=ut,Ht}return{data:We,rowDef:Jt,dataIndex:ut}})}_cacheColumnDefs(){this._columnDefsByName.clear(),yt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(ut=>{this._columnDefsByName.has(ut.name),this._columnDefsByName.set(ut.name,ut)})}_cacheRowDefs(){this._headerRowDefs=yt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=yt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=yt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const We=this._rowDefs.filter(ut=>!ut.when);this._defaultRowDef=We[0]}_renderUpdatedColumns(){const We=(Jt,Rn)=>Jt||!!Rn.getColumnsDiff(),ut=this._rowDefs.reduce(We,!1);ut&&this._forceRenderDataRows();const Pt=this._headerRowDefs.reduce(We,!1);Pt&&this._forceRenderHeaderRows();const en=this._footerRowDefs.reduce(We,!1);return en&&this._forceRenderFooterRows(),ut||Pt||en}_switchDataSource(We){this._data=[],(0,I.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),We||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=We}_observeRenderChanges(){if(!this.dataSource)return;let We;(0,I.Z9)(this.dataSource)?We=this.dataSource.connect(this):(0,g.b)(this.dataSource)?We=this.dataSource:Array.isArray(this.dataSource)&&(We=(0,v.of)(this.dataSource)),this._renderChangeSubscription=We.pipe((0,A.R)(this._onDestroy)).subscribe(ut=>{this._data=ut||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((We,ut)=>this._renderRow(this._headerRowOutlet,We,ut)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((We,ut)=>this._renderRow(this._footerRowOutlet,We,ut)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(We,ut){const Pt=Array.from(ut.columns||[]).map(Rn=>this._columnDefsByName.get(Rn)),en=Pt.map(Rn=>Rn.sticky),Jt=Pt.map(Rn=>Rn.stickyEnd);this._stickyStyler.updateStickyColumns(We,en,Jt,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(We){const ut=[];for(let Pt=0;Pt<We.viewContainer.length;Pt++){const en=We.viewContainer.get(Pt);ut.push(en.rootNodes[0])}return ut}_getRowDefs(We,ut){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Pt=[];if(this.multiTemplateDataRows)Pt=this._rowDefs.filter(en=>!en.when||en.when(ut,We));else{let en=this._rowDefs.find(Jt=>Jt.when&&Jt.when(ut,We))||this._defaultRowDef;en&&Pt.push(en)}return Pt}_getEmbeddedViewArgs(We,ut){return{templateRef:We.rowDef.template,context:{$implicit:We.data},index:ut}}_renderRow(We,ut,Pt,en={}){const Jt=We.viewContainer.createEmbeddedView(ut.template,en,Pt);return this._renderCellTemplateForItem(ut,en),Jt}_renderCellTemplateForItem(We,ut){for(let Pt of this._getCellTemplates(We))He.mostRecentCellOutlet&&He.mostRecentCellOutlet._viewContainer.createEmbeddedView(Pt,ut);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const We=this._rowOutlet.viewContainer;for(let ut=0,Pt=We.length;ut<Pt;ut++){const Jt=We.get(ut).context;Jt.count=Pt,Jt.first=0===ut,Jt.last=ut===Pt-1,Jt.even=ut%2==0,Jt.odd=!Jt.even,this.multiTemplateDataRows?(Jt.dataIndex=this._renderRows[ut].dataIndex,Jt.renderIndex=ut):Jt.index=this._renderRows[ut].dataIndex}}_getCellTemplates(We){return We&&We.columns?Array.from(We.columns,ut=>{const Pt=this._columnDefsByName.get(ut);return We.extractCellTemplate(Pt)}):[]}_applyNativeTableSections(){const We=this._document.createDocumentFragment(),ut=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Pt of ut){const en=this._document.createElement(Pt.tag);en.setAttribute("role","rowgroup");for(const Jt of Pt.outlets)en.appendChild(Jt.elementRef.nativeElement);We.appendChild(en)}this._elementRef.nativeElement.appendChild(We)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const We=(ut,Pt)=>ut||Pt.hasStickyChanged();this._headerRowDefs.reduce(We,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(We,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(We,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new se(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,v.of)()).pipe((0,A.R)(this._onDestroy)).subscribe(ut=>{this._stickyStyler.direction=ut,this.updateStickyColumnStyles()})}_getOwnDefs(We){return We.filter(ut=>!ut._table||ut._table===this)}_updateNoDataRow(){const We=this._customNoDataRow||this._noDataRow;if(!We)return;const ut=0===this._rowOutlet.viewContainer.length;if(ut===this._isShowingNoDataRow)return;const Pt=this._noDataRowOutlet.viewContainer;if(ut){const en=Pt.createEmbeddedView(We.templateRef),Jt=en.rootNodes[0];1===en.rootNodes.length&&Jt?.nodeType===this._document.ELEMENT_NODE&&(Jt.setAttribute("role","row"),Jt.classList.add(We._contentClassName))}else Pt.clear();this._isShowingNoDataRow=ut}static#e=this.\u0275fac=function(ut){return new(ut||at)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(t.Is,8),c.Y36(L.K0),c.Y36(E.t4),c.Y36(I.k),c.Y36(oe),c.Y36(F.rL),c.Y36(ue,12),c.Y36(c.R0b,8))};static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(ut,Pt,en){if(1&ut&&(c.Suo(en,Te,5),c.Suo(en,le,5),c.Suo(en,Ie,5),c.Suo(en,Me,5),c.Suo(en,ke,5)),2&ut){let Jt;c.iGM(Jt=c.CRH())&&(Pt._noDataRow=Jt.first),c.iGM(Jt=c.CRH())&&(Pt._contentColumnDefs=Jt),c.iGM(Jt=c.CRH())&&(Pt._contentRowDefs=Jt),c.iGM(Jt=c.CRH())&&(Pt._contentHeaderRowDefs=Jt),c.iGM(Jt=c.CRH())&&(Pt._contentFooterRowDefs=Jt)}},viewQuery:function(ut,Pt){if(1&ut&&(c.Gf(de,7),c.Gf(xe,7),c.Gf(Ke,7),c.Gf(Ve,7)),2&ut){let en;c.iGM(en=c.CRH())&&(Pt._rowOutlet=en.first),c.iGM(en=c.CRH())&&(Pt._headerRowOutlet=en.first),c.iGM(en=c.CRH())&&(Pt._footerRowOutlet=en.first),c.iGM(en=c.CRH())&&(Pt._noDataRowOutlet=en.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(ut,Pt){2&ut&&c.ekj("cdk-table-fixed-layout",Pt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:P,useExisting:at},{provide:I.k,useClass:I.yy},{provide:oe,useClass:he},{provide:ue,useValue:null}])],ngContentSelectors:j,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(ut,Pt){1&ut&&(c.F$t(R),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[de,xe,Ke,Ve],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return at})();function yt(at,Wt){return at.concat(Array.from(Wt))}let Gt=(()=>{class at{static#e=this.\u0275fac=function(ut){return new(ut||at)};static#t=this.\u0275mod=c.oAB({type:at});static#n=this.\u0275inj=c.cJS({imports:[F.Cl]})}return at})();var nn=C(3680),dn=C(3019),un=C(2572),Kt=C(7398);const Tn=[[["caption"]],[["colgroup"],["col"]]],rn=["caption","colgroup, col"];let De=(()=>{class at extends nt{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(ut,Pt){2&ut&&c.ekj("mdc-table-fixed-layout",Pt.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:nt,useExisting:at},{provide:P,useExisting:at},{provide:oe,useClass:he},{provide:I.k,useClass:I.yy},{provide:ue,useValue:null}]),c.qOj],ngContentSelectors:rn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(ut,Pt){1&ut&&(c.F$t(Tn),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[de,xe,Ke,Ve],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return at})(),Pe=(()=>{class at extends N{static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:N,useExisting:at}]),c.qOj]})}return at})(),Ye=(()=>{class at extends S{static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:S,useExisting:at}]),c.qOj]})}return at})(),lt=(()=>{class at extends le{get name(){return this._name}set name(We){this._setNameInput(We)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:le,useExisting:at},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:at}]),c.qOj]})}return at})(),rt=(()=>{class at extends ${static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]})}return at})(),Ft=(()=>{class at extends K{static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]})}return at})(),qt=(()=>{class at extends Me{static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:Me,useExisting:at}]),c.qOj]})}return at})(),Qt=(()=>{class at extends Ie{static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:Ie,useExisting:at}]),c.qOj]})}return at})(),ln=(()=>{class at extends ot{static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:ot,useExisting:at}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ut,Pt){1&ut&&c.GkF(0,0)},dependencies:[He],encapsulation:2})}return at})(),Mn=(()=>{class at extends Ne{static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275cmp=c.Xpm({type:at,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:Ne,useExisting:at}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(ut,Pt){1&ut&&c.GkF(0,0)},dependencies:[He],encapsulation:2})}return at})(),Nn=(()=>{class at extends Te{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let We;return function(Pt){return(We||(We=c.n5z(at)))(Pt||at)}}();static#t=this.\u0275dir=c.lG2({type:at,selectors:[["ng-template","matNoDataRow",""]],features:[c._Bn([{provide:Te,useExisting:at}]),c.qOj]})}return at})(),fi=(()=>{class at{static#e=this.\u0275fac=function(ut){return new(ut||at)};static#t=this.\u0275mod=c.oAB({type:at});static#n=this.\u0275inj=c.cJS({imports:[nn.BQ,Gt,nn.BQ]})}return at})();class Tt extends I.o2{get data(){return this._data.value}set data(Wt){Wt=Array.isArray(Wt)?Wt:[],this._data.next(Wt),this._renderChangesSubscription||this._filterData(Wt)}get filter(){return this._filter.value}set filter(Wt){this._filter.next(Wt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Wt){this._sort=Wt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Wt){this._paginator=Wt,this._updateChangeSubscription()}constructor(Wt=[]){super(),this._renderData=new f.X([]),this._filter=new f.X(""),this._internalPageChanges=new D.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(We,ut)=>{const Pt=We[ut];if((0,y.t6)(Pt)){const en=Number(Pt);return en<9007199254740991?en:Pt}return Pt},this.sortData=(We,ut)=>{const Pt=ut.active,en=ut.direction;return Pt&&""!=en?We.sort((Jt,Rn)=>{let Ht=this.sortingDataAccessor(Jt,Pt),zt=this.sortingDataAccessor(Rn,Pt);const on=typeof Ht,En=typeof zt;on!==En&&("number"===on&&(Ht+=""),"number"===En&&(zt+=""));let Fn=0;return null!=Ht&&null!=zt?Ht>zt?Fn=1:Ht<zt&&(Fn=-1):null!=Ht?Fn=1:null!=zt&&(Fn=-1),Fn*("asc"==en?1:-1)}):We},this.filterPredicate=(We,ut)=>{const Pt=Object.keys(We).reduce((Jt,Rn)=>Jt+We[Rn]+"\u25ec","").toLowerCase(),en=ut.trim().toLowerCase();return-1!=Pt.indexOf(en)},this._data=new f.X(Wt),this._updateChangeSubscription()}_updateChangeSubscription(){const Wt=this._sort?(0,dn.T)(this._sort.sortChange,this._sort.initialized):(0,v.of)(null),We=this._paginator?(0,dn.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,v.of)(null),Pt=(0,un.a)([this._data,this._filter]).pipe((0,Kt.U)(([Rn])=>this._filterData(Rn))),en=(0,un.a)([Pt,Wt]).pipe((0,Kt.U)(([Rn])=>this._orderData(Rn))),Jt=(0,un.a)([en,We]).pipe((0,Kt.U)(([Rn])=>this._pageData(Rn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=Jt.subscribe(Rn=>this._renderData.next(Rn))}_filterData(Wt){return this.filteredData=null==this.filter||""===this.filter?Wt:Wt.filter(We=>this.filterPredicate(We,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Wt){return this.sort?this.sortData(Wt.slice(),this.sort):Wt}_pageData(Wt){if(!this.paginator)return Wt;const We=this.paginator.pageIndex*this.paginator.pageSize;return Wt.slice(We,We+this.paginator.pageSize)}_updatePaginator(Wt){Promise.resolve().then(()=>{const We=this.paginator;if(We&&(We.length=Wt,We.pageIndex>0)){const ut=Math.ceil(We.length/We.pageSize)-1||0,Pt=Math.min(We.pageIndex,ut);Pt!==We.pageIndex&&(We.pageIndex=Pt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Et extends Tt{}},2596:(Bn,et,C)=>{"use strict";C.d(et,{AV:()=>fe,gM:()=>oe});var c=C(9773),t=C(8180),y=C(2495),I=C(6028),E=C(5879),F=C(6814),L=C(2831),D=C(4300),p=C(9388),f=C(3651),g=C(799),v=C(8484),A=C(8645),R=(C(6825),C(3680));const j=["tooltip"],x=new E.OlP("mat-tooltip-scroll-strategy"),T={provide:x,deps:[f.aV],useFactory:function P(Re){return()=>Re.scrollStrategies.reposition({scrollThrottle:20})}},S=new E.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function N(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Y="tooltip-panel",q=(0,L.i$)({passive:!0});let pe=(()=>{class Re{get position(){return this._position}set position(me){me!==this._position&&(this._position=me,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(me){this._positionAtOrigin=(0,y.Ig)(me),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(me){this._disabled=(0,y.Ig)(me),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(me){this._showDelay=(0,y.su)(me)}get hideDelay(){return this._hideDelay}set hideDelay(me){this._hideDelay=(0,y.su)(me),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(me){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=me?String(me).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(me){this._tooltipClass=me,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(me,Ue,ke,Ie,He,ot,Je,Ne,Te,W,se,ge){this._overlay=me,this._elementRef=Ue,this._scrollDispatcher=ke,this._viewContainerRef=Ie,this._ngZone=He,this._platform=ot,this._ariaDescriber=Je,this._focusMonitor=Ne,this._dir=W,this._defaultOptions=se,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new A.x,this._scrollStrategy=Te,this._document=ge,se&&(this._showDelay=se.showDelay,this._hideDelay=se.hideDelay,se.position&&(this.position=se.position),se.positionAtOrigin&&(this.positionAtOrigin=se.positionAtOrigin),se.touchGestures&&(this.touchGestures=se.touchGestures)),W.change.pipe((0,c.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,c.R)(this._destroyed)).subscribe(me=>{me?"keyboard"===me&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const me=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Ue,ke])=>{me.removeEventListener(Ue,ke,q)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(me,this.message,"tooltip"),this._focusMonitor.stopMonitoring(me)}show(me=this.showDelay,Ue){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const ke=this._createOverlay(Ue);this._detach(),this._portal=this._portal||new v.C5(this._tooltipComponent,this._viewContainerRef);const Ie=this._tooltipInstance=ke.attach(this._portal).instance;Ie._triggerElement=this._elementRef.nativeElement,Ie._mouseLeaveHideDelay=this._hideDelay,Ie.afterHidden().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Ie.show(me)}hide(me=this.hideDelay){const Ue=this._tooltipInstance;Ue&&(Ue.isVisible()?Ue.hide(me):(Ue._cancelPendingAnimations(),this._detach()))}toggle(me){this._isTooltipVisible()?this.hide():this.show(void 0,me)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(me){if(this._overlayRef){const Ie=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!me)&&Ie._origin instanceof E.SBq)return this._overlayRef;this._detach()}const Ue=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),ke=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&me||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Ue);return ke.positionChanges.pipe((0,c.R)(this._destroyed)).subscribe(Ie=>{this._updateCurrentPositionClass(Ie.connectionPair),this._tooltipInstance&&Ie.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:ke,panelClass:`${this._cssClassPrefix}-${Y}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,c.R)(this._destroyed)).subscribe(Ie=>{this._isTooltipVisible()&&Ie.keyCode===I.hY&&!(0,I.Vb)(Ie)&&(Ie.preventDefault(),Ie.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(me){const Ue=me.getConfig().positionStrategy,ke=this._getOrigin(),Ie=this._getOverlayPosition();Ue.withPositions([this._addOffset({...ke.main,...Ie.main}),this._addOffset({...ke.fallback,...Ie.fallback})])}_addOffset(me){return me}_getOrigin(){const me=!this._dir||"ltr"==this._dir.value,Ue=this.position;let ke;"above"==Ue||"below"==Ue?ke={originX:"center",originY:"above"==Ue?"top":"bottom"}:"before"==Ue||"left"==Ue&&me||"right"==Ue&&!me?ke={originX:"start",originY:"center"}:("after"==Ue||"right"==Ue&&me||"left"==Ue&&!me)&&(ke={originX:"end",originY:"center"});const{x:Ie,y:He}=this._invertPosition(ke.originX,ke.originY);return{main:ke,fallback:{originX:Ie,originY:He}}}_getOverlayPosition(){const me=!this._dir||"ltr"==this._dir.value,Ue=this.position;let ke;"above"==Ue?ke={overlayX:"center",overlayY:"bottom"}:"below"==Ue?ke={overlayX:"center",overlayY:"top"}:"before"==Ue||"left"==Ue&&me||"right"==Ue&&!me?ke={overlayX:"end",overlayY:"center"}:("after"==Ue||"right"==Ue&&me||"left"==Ue&&!me)&&(ke={overlayX:"start",overlayY:"center"});const{x:Ie,y:He}=this._invertPosition(ke.overlayX,ke.overlayY);return{main:ke,fallback:{overlayX:Ie,overlayY:He}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,t.q)(1),(0,c.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(me){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=me,this._tooltipInstance._markForCheck())}_invertPosition(me,Ue){return"above"===this.position||"below"===this.position?"top"===Ue?Ue="bottom":"bottom"===Ue&&(Ue="top"):"end"===me?me="start":"start"===me&&(me="end"),{x:me,y:Ue}}_updateCurrentPositionClass(me){const{overlayY:Ue,originX:ke,originY:Ie}=me;let He;if(He="center"===Ue?this._dir&&"rtl"===this._dir.value?"end"===ke?"left":"right":"start"===ke?"left":"right":"bottom"===Ue&&"top"===Ie?"above":"below",He!==this._currentPosition){const ot=this._overlayRef;if(ot){const Je=`${this._cssClassPrefix}-${Y}-`;ot.removePanelClass(Je+this._currentPosition),ot.addPanelClass(Je+He)}this._currentPosition=He}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",me=>{let Ue;this._setupPointerExitEventsIfNeeded(),void 0!==me.x&&void 0!==me.y&&(Ue=me),this.show(void 0,Ue)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",me=>{const Ue=me.targetTouches?.[0],ke=Ue?{x:Ue.clientX,y:Ue.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,ke),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const me=[];if(this._platformSupportsMouseEvents())me.push(["mouseleave",Ue=>{const ke=Ue.relatedTarget;(!ke||!this._overlayRef?.overlayElement.contains(ke))&&this.hide()}],["wheel",Ue=>this._wheelListener(Ue)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Ue=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};me.push(["touchend",Ue],["touchcancel",Ue])}this._addListeners(me),this._passiveListeners.push(...me)}_addListeners(me){me.forEach(([Ue,ke])=>{this._elementRef.nativeElement.addEventListener(Ue,ke,q)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(me){if(this._isTooltipVisible()){const Ue=this._document.elementFromPoint(me.clientX,me.clientY),ke=this._elementRef.nativeElement;Ue!==ke&&!ke.contains(Ue)&&this.hide()}}_disableNativeGesturesIfNecessary(){const me=this.touchGestures;if("off"!==me){const Ue=this._elementRef.nativeElement,ke=Ue.style;("on"===me||"INPUT"!==Ue.nodeName&&"TEXTAREA"!==Ue.nodeName)&&(ke.userSelect=ke.msUserSelect=ke.webkitUserSelect=ke.MozUserSelect="none"),("on"===me||!Ue.draggable)&&(ke.webkitUserDrag="none"),ke.touchAction="none",ke.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Ue){E.$Z()};static#t=this.\u0275dir=E.lG2({type:Re,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Re})(),oe=(()=>{class Re extends pe{constructor(me,Ue,ke,Ie,He,ot,Je,Ne,Te,W,se,ge){super(me,Ue,ke,Ie,He,ot,Je,Ne,Te,W,se,ge),this._tooltipComponent=Se,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(me){const ke=!this._dir||"ltr"==this._dir.value;return"top"===me.originY?me.offsetY=-8:"bottom"===me.originY?me.offsetY=8:"start"===me.originX?me.offsetX=ke?-8:8:"end"===me.originX&&(me.offsetX=ke?8:-8),me}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(f.aV),E.Y36(E.SBq),E.Y36(g.mF),E.Y36(E.s_b),E.Y36(E.R0b),E.Y36(L.t4),E.Y36(D.$s),E.Y36(D.tE),E.Y36(x),E.Y36(p.Is,8),E.Y36(S,8),E.Y36(F.K0))};static#t=this.\u0275dir=E.lG2({type:Re,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Ue,ke){2&Ue&&E.ekj("mat-mdc-tooltip-disabled",ke.disabled)},exportAs:["matTooltip"],features:[E.qOj]})}return Re})(),he=(()=>{class Re{constructor(me,Ue){this._changeDetectorRef=me,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new A.x,this._animationsDisabled="NoopAnimations"===Ue}show(me){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},me)}hide(me){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},me)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:me}){(!me||!this._triggerElement.contains(me))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:me}){(me===this._showAnimation||me===this._hideAnimation)&&this._finalizeAnimation(me===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(me){me?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(me){const Ue=this._tooltip.nativeElement,ke=this._showAnimation,Ie=this._hideAnimation;if(Ue.classList.remove(me?Ie:ke),Ue.classList.add(me?ke:Ie),this._isVisible=me,me&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const He=getComputedStyle(Ue);("0s"===He.getPropertyValue("animation-duration")||"none"===He.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}me&&this._onShow(),this._animationsDisabled&&(Ue.classList.add("_mat-animation-noopable"),this._finalizeAnimation(me))}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(E.sBO),E.Y36(E.QbO,8))};static#t=this.\u0275dir=E.lG2({type:Re})}return Re})(),Se=(()=>{class Re extends he{constructor(me,Ue,ke){super(me,ke),this._elementRef=Ue,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const me=this._elementRef.nativeElement.getBoundingClientRect();return me.height>24&&me.width>=200}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.QbO,8))};static#t=this.\u0275cmp=E.Xpm({type:Re,selectors:[["mat-tooltip-component"]],viewQuery:function(Ue,ke){if(1&Ue&&E.Gf(j,7),2&Ue){let Ie;E.iGM(Ie=E.CRH())&&(ke._tooltip=Ie.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Ue,ke){1&Ue&&E.NdJ("mouseleave",function(He){return ke._handleMouseLeave(He)}),2&Ue&&E.Udp("zoom",ke.isVisible()?1:null)},features:[E.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Ue,ke){1&Ue&&(E.TgZ(0,"div",0,1),E.NdJ("animationend",function(He){return ke._handleAnimationEnd(He)}),E.TgZ(2,"div",2),E._uU(3),E.qZA()()),2&Ue&&(E.ekj("mdc-tooltip--multiline",ke._isMultiline),E.Q6J("ngClass",ke.tooltipClass),E.xp6(3),E.Oqu(ke.message))},dependencies:[F.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Re})(),fe=(()=>{class Re{static#e=this.\u0275fac=function(Ue){return new(Ue||Re)};static#t=this.\u0275mod=E.oAB({type:Re});static#n=this.\u0275inj=E.cJS({providers:[T],imports:[D.rt,F.ez,f.U8,R.BQ,R.BQ,g.ZD]})}return Re})()},6593:(Bn,et,C)=>{"use strict";C.d(et,{Dx:()=>ne,H7:()=>dn,b2:()=>ge,q6:()=>Ne,se:()=>q});var c=C(5879),t=C(6814);class y extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class I extends y{static makeCurrent(){(0,t.HT)(new I)}onAndCancel(lt,rt,dt){return lt.addEventListener(rt,dt),()=>{lt.removeEventListener(rt,dt)}}dispatchEvent(lt,rt){lt.dispatchEvent(rt)}remove(lt){lt.parentNode&&lt.parentNode.removeChild(lt)}createElement(lt,rt){return(rt=rt||this.getDefaultDocument()).createElement(lt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(lt){return lt.nodeType===Node.ELEMENT_NODE}isShadowRoot(lt){return lt instanceof DocumentFragment}getGlobalEventTarget(lt,rt){return"window"===rt?window:"document"===rt?lt:"body"===rt?lt.body:null}getBaseHref(lt){const rt=function F(){return E=E||document.querySelector("base"),E?E.getAttribute("href"):null}();return null==rt?null:function D(ze){L=L||document.createElement("a"),L.setAttribute("href",ze);const lt=L.pathname;return"/"===lt.charAt(0)?lt:`/${lt}`}(rt)}resetBaseElement(){E=null}getUserAgent(){return window.navigator.userAgent}getCookie(lt){return(0,t.Mx)(document.cookie,lt)}}let L,E=null,f=(()=>{class ze{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(dt){return new(dt||ze)};static#t=this.\u0275prov=c.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();const g=new c.OlP("EventManagerPlugins");let v=(()=>{class ze{constructor(rt,dt){this._zone=dt,this._eventNameToPlugin=new Map,rt.forEach(Ft=>{Ft.manager=this}),this._plugins=rt.slice().reverse()}addEventListener(rt,dt,Ft){return this._findPluginFor(dt).addEventListener(rt,dt,Ft)}getZone(){return this._zone}_findPluginFor(rt){let dt=this._eventNameToPlugin.get(rt);if(dt)return dt;if(dt=this._plugins.find(qt=>qt.supports(rt)),!dt)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(rt,dt),dt}static#e=this.\u0275fac=function(dt){return new(dt||ze)(c.LFG(g),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();class A{constructor(lt){this._doc=lt}}const U="ng-app-id";let R=(()=>{class ze{constructor(rt,dt,Ft,qt={}){this.doc=rt,this.appId=dt,this.nonce=Ft,this.platformId=qt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)(qt),this.resetHostNodes()}addStyles(rt){for(const dt of rt)1===this.changeUsageCount(dt,1)&&this.onStyleAdded(dt)}removeStyles(rt){for(const dt of rt)this.changeUsageCount(dt,-1)<=0&&this.onStyleRemoved(dt)}ngOnDestroy(){const rt=this.styleNodesInDOM;rt&&(rt.forEach(dt=>dt.remove()),rt.clear());for(const dt of this.getAllStyles())this.onStyleRemoved(dt);this.resetHostNodes()}addHost(rt){this.hostNodes.add(rt);for(const dt of this.getAllStyles())this.addStyleToHost(rt,dt)}removeHost(rt){this.hostNodes.delete(rt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(rt){for(const dt of this.hostNodes)this.addStyleToHost(dt,rt)}onStyleRemoved(rt){const dt=this.styleRef;dt.get(rt)?.elements?.forEach(Ft=>Ft.remove()),dt.delete(rt)}collectServerRenderedStyles(){const rt=this.doc.head?.querySelectorAll(`style[${U}="${this.appId}"]`);if(rt?.length){const dt=new Map;return rt.forEach(Ft=>{null!=Ft.textContent&&dt.set(Ft.textContent,Ft)}),dt}return null}changeUsageCount(rt,dt){const Ft=this.styleRef;if(Ft.has(rt)){const qt=Ft.get(rt);return qt.usage+=dt,qt.usage}return Ft.set(rt,{usage:dt,elements:[]}),dt}getStyleElement(rt,dt){const Ft=this.styleNodesInDOM,qt=Ft?.get(dt);if(qt?.parentNode===rt)return Ft.delete(dt),qt.removeAttribute(U),qt;{const Lt=this.doc.createElement("style");return this.nonce&&Lt.setAttribute("nonce",this.nonce),Lt.textContent=dt,this.platformIsServer&&Lt.setAttribute(U,this.appId),Lt}}addStyleToHost(rt,dt){const Ft=this.getStyleElement(rt,dt);rt.appendChild(Ft);const qt=this.styleRef,Lt=qt.get(dt)?.elements;Lt?Lt.push(Ft):qt.set(dt,{elements:[Ft],usage:1})}resetHostNodes(){const rt=this.hostNodes;rt.clear(),rt.add(this.doc.head)}static#e=this.\u0275fac=function(dt){return new(dt||ze)(c.LFG(t.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();const j={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k=/%COMP%/g,O="%COMP%",x=`_nghost-${O}`,P=`_ngcontent-${O}`,N=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Y(ze,lt){return lt.map(rt=>rt.replace(k,ze))}let q=(()=>{class ze{constructor(rt,dt,Ft,qt,Lt,Qt,ln,mn=null){this.eventManager=rt,this.sharedStylesHost=dt,this.appId=Ft,this.removeStylesOnCompDestroy=qt,this.doc=Lt,this.platformId=Qt,this.ngZone=ln,this.nonce=mn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)(Qt),this.defaultRenderer=new le(rt,Lt,ln,this.platformIsServer)}createRenderer(rt,dt){if(!rt||!dt)return this.defaultRenderer;this.platformIsServer&&dt.encapsulation===c.ifc.ShadowDom&&(dt={...dt,encapsulation:c.ifc.Emulated});const Ft=this.getOrCreateRenderer(rt,dt);return Ft instanceof oe?Ft.applyToHost(rt):Ft instanceof pe&&Ft.applyStyles(),Ft}getOrCreateRenderer(rt,dt){const Ft=this.rendererByCompId;let qt=Ft.get(dt.id);if(!qt){const Lt=this.doc,Qt=this.ngZone,ln=this.eventManager,mn=this.sharedStylesHost,Mn=this.removeStylesOnCompDestroy,Nn=this.platformIsServer;switch(dt.encapsulation){case c.ifc.Emulated:qt=new oe(ln,mn,dt,this.appId,Mn,Lt,Qt,Nn);break;case c.ifc.ShadowDom:return new K(ln,mn,rt,dt,Lt,Qt,this.nonce,Nn);default:qt=new pe(ln,mn,dt,Mn,Lt,Qt,Nn)}Ft.set(dt.id,qt)}return qt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(dt){return new(dt||ze)(c.LFG(v),c.LFG(R),c.LFG(c.AFp),c.LFG(N),c.LFG(t.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();class le{constructor(lt,rt,dt,Ft){this.eventManager=lt,this.doc=rt,this.ngZone=dt,this.platformIsServer=Ft,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(lt,rt){return rt?this.doc.createElementNS(j[rt]||rt,lt):this.doc.createElement(lt)}createComment(lt){return this.doc.createComment(lt)}createText(lt){return this.doc.createTextNode(lt)}appendChild(lt,rt){(ae(lt)?lt.content:lt).appendChild(rt)}insertBefore(lt,rt,dt){lt&&(ae(lt)?lt.content:lt).insertBefore(rt,dt)}removeChild(lt,rt){lt&&lt.removeChild(rt)}selectRootElement(lt,rt){let dt="string"==typeof lt?this.doc.querySelector(lt):lt;if(!dt)throw new c.vHH(-5104,!1);return rt||(dt.textContent=""),dt}parentNode(lt){return lt.parentNode}nextSibling(lt){return lt.nextSibling}setAttribute(lt,rt,dt,Ft){if(Ft){rt=Ft+":"+rt;const qt=j[Ft];qt?lt.setAttributeNS(qt,rt,dt):lt.setAttribute(rt,dt)}else lt.setAttribute(rt,dt)}removeAttribute(lt,rt,dt){if(dt){const Ft=j[dt];Ft?lt.removeAttributeNS(Ft,rt):lt.removeAttribute(`${dt}:${rt}`)}else lt.removeAttribute(rt)}addClass(lt,rt){lt.classList.add(rt)}removeClass(lt,rt){lt.classList.remove(rt)}setStyle(lt,rt,dt,Ft){Ft&(c.JOm.DashCase|c.JOm.Important)?lt.style.setProperty(rt,dt,Ft&c.JOm.Important?"important":""):lt.style[rt]=dt}removeStyle(lt,rt,dt){dt&c.JOm.DashCase?lt.style.removeProperty(rt):lt.style[rt]=""}setProperty(lt,rt,dt){lt[rt]=dt}setValue(lt,rt){lt.nodeValue=rt}listen(lt,rt,dt){if("string"==typeof lt&&!(lt=(0,t.q)().getGlobalEventTarget(this.doc,lt)))throw new Error(`Unsupported event target ${lt} for event ${rt}`);return this.eventManager.addEventListener(lt,rt,this.decoratePreventDefault(dt))}decoratePreventDefault(lt){return rt=>{if("__ngUnwrap__"===rt)return lt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>lt(rt)):lt(rt))&&rt.preventDefault()}}}function ae(ze){return"TEMPLATE"===ze.tagName&&void 0!==ze.content}class K extends le{constructor(lt,rt,dt,Ft,qt,Lt,Qt,ln){super(lt,qt,Lt,ln),this.sharedStylesHost=rt,this.hostEl=dt,this.shadowRoot=dt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mn=Y(Ft.id,Ft.styles);for(const Mn of mn){const Nn=document.createElement("style");Qt&&Nn.setAttribute("nonce",Qt),Nn.textContent=Mn,this.shadowRoot.appendChild(Nn)}}nodeOrShadowRoot(lt){return lt===this.hostEl?this.shadowRoot:lt}appendChild(lt,rt){return super.appendChild(this.nodeOrShadowRoot(lt),rt)}insertBefore(lt,rt,dt){return super.insertBefore(this.nodeOrShadowRoot(lt),rt,dt)}removeChild(lt,rt){return super.removeChild(this.nodeOrShadowRoot(lt),rt)}parentNode(lt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(lt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pe extends le{constructor(lt,rt,dt,Ft,qt,Lt,Qt,ln){super(lt,qt,Lt,Qt),this.sharedStylesHost=rt,this.removeStylesOnCompDestroy=Ft,this.styles=ln?Y(ln,dt.styles):dt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class oe extends pe{constructor(lt,rt,dt,Ft,qt,Lt,Qt,ln){const mn=Ft+"-"+dt.id;super(lt,rt,dt,qt,Lt,Qt,ln,mn),this.contentAttr=function S(ze){return P.replace(k,ze)}(mn),this.hostAttr=function B(ze){return x.replace(k,ze)}(mn)}applyToHost(lt){this.applyStyles(),this.setAttribute(lt,this.hostAttr,"")}createElement(lt,rt){const dt=super.createElement(lt,rt);return super.setAttribute(dt,this.contentAttr,""),dt}}let he=(()=>{class ze extends A{constructor(rt){super(rt)}supports(rt){return!0}addEventListener(rt,dt,Ft){return rt.addEventListener(dt,Ft,!1),()=>this.removeEventListener(rt,dt,Ft)}removeEventListener(rt,dt,Ft){return rt.removeEventListener(dt,Ft)}static#e=this.\u0275fac=function(dt){return new(dt||ze)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();const Se=["alt","control","meta","shift"],Le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:ze=>ze.altKey,control:ze=>ze.ctrlKey,meta:ze=>ze.metaKey,shift:ze=>ze.shiftKey};let Re=(()=>{class ze extends A{constructor(rt){super(rt)}supports(rt){return null!=ze.parseEventName(rt)}addEventListener(rt,dt,Ft){const qt=ze.parseEventName(dt),Lt=ze.eventCallback(qt.fullKey,Ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(rt,qt.domEventName,Lt))}static parseEventName(rt){const dt=rt.toLowerCase().split("."),Ft=dt.shift();if(0===dt.length||"keydown"!==Ft&&"keyup"!==Ft)return null;const qt=ze._normalizeKey(dt.pop());let Lt="",Qt=dt.indexOf("code");if(Qt>-1&&(dt.splice(Qt,1),Lt="code."),Se.forEach(mn=>{const Mn=dt.indexOf(mn);Mn>-1&&(dt.splice(Mn,1),Lt+=mn+".")}),Lt+=qt,0!=dt.length||0===qt.length)return null;const ln={};return ln.domEventName=Ft,ln.fullKey=Lt,ln}static matchEventFullKeyCode(rt,dt){let Ft=Le[rt.key]||rt.key,qt="";return dt.indexOf("code.")>-1&&(Ft=rt.code,qt="code."),!(null==Ft||!Ft)&&(Ft=Ft.toLowerCase()," "===Ft?Ft="space":"."===Ft&&(Ft="dot"),Se.forEach(Lt=>{Lt!==Ft&&(0,fe[Lt])(rt)&&(qt+=Lt+".")}),qt+=Ft,qt===dt)}static eventCallback(rt,dt,Ft){return qt=>{ze.matchEventFullKeyCode(qt,rt)&&Ft.runGuarded(()=>dt(qt))}}static _normalizeKey(rt){return"esc"===rt?"escape":rt}static#e=this.\u0275fac=function(dt){return new(dt||ze)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();const Ne=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:t.bD},{provide:c.g9A,useValue:function Ie(){I.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function ot(){return(0,c.RDi)(document),document},deps:[]}]),Te=new c.OlP(""),W=[{provide:c.rWj,useClass:class p{addToWindow(lt){c.dqk.getAngularTestability=(dt,Ft=!0)=>{const qt=lt.findTestabilityInTree(dt,Ft);if(null==qt)throw new c.vHH(5103,!1);return qt},c.dqk.getAllAngularTestabilities=()=>lt.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>lt.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(dt=>{const Ft=c.dqk.getAllAngularTestabilities();let qt=Ft.length,Lt=!1;const Qt=function(ln){Lt=Lt||ln,qt--,0==qt&&dt(Lt)};Ft.forEach(ln=>{ln.whenStable(Qt)})})}findTestabilityInTree(lt,rt,dt){return null==rt?null:lt.getTestability(rt)??(dt?(0,t.q)().isShadowRoot(rt)?this.findTestabilityInTree(lt,rt.host,!0):this.findTestabilityInTree(lt,rt.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],se=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function He(){return new c.qLn},deps:[]},{provide:g,useClass:he,multi:!0,deps:[t.K0,c.R0b,c.Lbi]},{provide:g,useClass:Re,multi:!0,deps:[t.K0]},q,R,v,{provide:c.FYo,useExisting:q},{provide:t.JF,useClass:f,deps:[]},[]];let ge=(()=>{class ze{constructor(rt){}static withServerTransition(rt){return{ngModule:ze,providers:[{provide:c.AFp,useValue:rt.appId}]}}static#e=this.\u0275fac=function(dt){return new(dt||ze)(c.LFG(Te,12))};static#t=this.\u0275mod=c.oAB({type:ze});static#n=this.\u0275inj=c.cJS({providers:[...se,...W],imports:[t.ez,c.hGG]})}return ze})(),ne=(()=>{class ze{constructor(rt){this._doc=rt}getTitle(){return this._doc.title}setTitle(rt){this._doc.title=rt||""}static#e=this.\u0275fac=function(dt){return new(dt||ze)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:ze,factory:function(dt){let Ft=null;return Ft=dt?new dt:function te(){return new ne((0,c.LFG)(t.K0))}(),Ft},providedIn:"root"})}return ze})();typeof window<"u"&&window;let dn=(()=>{class ze{static#e=this.\u0275fac=function(dt){return new(dt||ze)};static#t=this.\u0275prov=c.Yz7({token:ze,factory:function(dt){let Ft=null;return Ft=dt?new(dt||ze):c.LFG(Kt),Ft},providedIn:"root"})}return ze})(),Kt=(()=>{class ze extends dn{constructor(rt){super(),this._doc=rt}sanitize(rt,dt){if(null==dt)return null;switch(rt){case c.q3G.NONE:return dt;case c.q3G.HTML:return(0,c.qzn)(dt,"HTML")?(0,c.z3N)(dt):(0,c.EiD)(this._doc,String(dt)).toString();case c.q3G.STYLE:return(0,c.qzn)(dt,"Style")?(0,c.z3N)(dt):dt;case c.q3G.SCRIPT:if((0,c.qzn)(dt,"Script"))return(0,c.z3N)(dt);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(dt,"URL")?(0,c.z3N)(dt):(0,c.mCW)(String(dt));case c.q3G.RESOURCE_URL:if((0,c.qzn)(dt,"ResourceURL"))return(0,c.z3N)(dt);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(rt){return(0,c.JVY)(rt)}bypassSecurityTrustStyle(rt){return(0,c.L6k)(rt)}bypassSecurityTrustScript(rt){return(0,c.eBb)(rt)}bypassSecurityTrustUrl(rt){return(0,c.LAX)(rt)}bypassSecurityTrustResourceUrl(rt){return(0,c.pB0)(rt)}static#e=this.\u0275fac=function(dt){return new(dt||ze)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:ze,factory:function(dt){let Ft=null;return Ft=dt?new dt:function un(ze){return new Kt(ze.get(t.K0))}(c.LFG(c.zs3)),Ft},providedIn:"root"})}return ze})()},5612:(Bn,et,C)=>{"use strict";C.d(et,{gz:()=>Ji,F0:()=>eo,rH:()=>Ps,Bz:()=>Pl,lC:()=>bi});var c=C(5879),t=C(2664),y=C(2459),I=C(2096),E=C(5619),F=C(2572),L=C(6973),D=C(5211),p=C(4911),f=C(8407),g=C(5592),v=C(4674);function A(Ee,Ge){const ce=(0,v.m)(Ee)?Ee:()=>Ee,Be=bt=>bt.error(ce());return new g.y(Ge?bt=>Ge.schedule(Be,0,bt):Be)}var U=C(6232),R=C(3168),j=C(8645),k=C(6814),O=C(7398),x=C(4664),P=C(8180),T=C(7921),N=C(2181),S=C(1631),B=C(1374),Y=C(6328),q=C(9397),le=C(4829),Fe=C(8251),$=C(9360);function ae(Ee){return(0,$.e)((Ge,ce)=>{let Vt,Be=null,bt=!1;Be=Ge.subscribe((0,Fe.x)(ce,void 0,void 0,Ut=>{Vt=(0,le.Xf)(Ee(Ut,ae(Ee)(Ge))),Be?(Be.unsubscribe(),Be=null,Vt.subscribe(ce)):bt=!0})),bt&&(Be.unsubscribe(),Be=null,Vt.subscribe(ce))})}var oe=C(3572);function he(Ee){return Ee<=0?()=>U.E:(0,$.e)((Ge,ce)=>{let Be=[];Ge.subscribe((0,Fe.x)(ce,bt=>{Be.push(bt),Ee<Be.length&&Be.shift()},()=>{for(const bt of Be)ce.next(bt);ce.complete()},void 0,()=>{Be=null}))})}var Se=C(3026),Le=C(2737),Re=C(975),Me=C(4716),me=C(6196),Ue=C(7537),ke=C(6593);const Ie="primary",He=Symbol("RouteTitle");class ot{constructor(Ge){this.params=Ge||{}}has(Ge){return Object.prototype.hasOwnProperty.call(this.params,Ge)}get(Ge){if(this.has(Ge)){const ce=this.params[Ge];return Array.isArray(ce)?ce[0]:ce}return null}getAll(Ge){if(this.has(Ge)){const ce=this.params[Ge];return Array.isArray(ce)?ce:[ce]}return[]}get keys(){return Object.keys(this.params)}}function Je(Ee){return new ot(Ee)}function Ne(Ee,Ge,ce){const Be=ce.path.split("/");if(Be.length>Ee.length||"full"===ce.pathMatch&&(Ge.hasChildren()||Be.length<Ee.length))return null;const bt={};for(let Vt=0;Vt<Be.length;Vt++){const Ut=Be[Vt],bn=Ee[Vt];if(Ut.startsWith(":"))bt[Ut.substring(1)]=bn;else if(Ut!==bn.path)return null}return{consumed:Ee.slice(0,Be.length),posParams:bt}}function W(Ee,Ge){const ce=Ee?Object.keys(Ee):void 0,Be=Ge?Object.keys(Ge):void 0;if(!ce||!Be||ce.length!=Be.length)return!1;let bt;for(let Vt=0;Vt<ce.length;Vt++)if(bt=ce[Vt],!se(Ee[bt],Ge[bt]))return!1;return!0}function se(Ee,Ge){if(Array.isArray(Ee)&&Array.isArray(Ge)){if(Ee.length!==Ge.length)return!1;const ce=[...Ee].sort(),Be=[...Ge].sort();return ce.every((bt,Vt)=>Be[Vt]===bt)}return Ee===Ge}function ge(Ee){return Ee.length>0?Ee[Ee.length-1]:null}function J(Ee){return(0,t.b)(Ee)?Ee:(0,c.QGY)(Ee)?(0,y.D)(Promise.resolve(Ee)):(0,I.of)(Ee)}const Q={exact:function ee(Ee,Ge,ce){if(!ct(Ee.segments,Ge.segments)||!de(Ee.segments,Ge.segments,ce)||Ee.numberOfChildren!==Ge.numberOfChildren)return!1;for(const Be in Ge.children)if(!Ee.children[Be]||!ee(Ee.children[Be],Ge.children[Be],ce))return!1;return!0},subset:ue},Z={exact:function ne(Ee,Ge){return W(Ee,Ge)},subset:function X(Ee,Ge){return Object.keys(Ge).length<=Object.keys(Ee).length&&Object.keys(Ge).every(ce=>se(Ee[ce],Ge[ce]))},ignored:()=>!0};function te(Ee,Ge,ce){return Q[ce.paths](Ee.root,Ge.root,ce.matrixParams)&&Z[ce.queryParams](Ee.queryParams,Ge.queryParams)&&!("exact"===ce.fragment&&Ee.fragment!==Ge.fragment)}function ue(Ee,Ge,ce){return _e(Ee,Ge,Ge.segments,ce)}function _e(Ee,Ge,ce,Be){if(Ee.segments.length>ce.length){const bt=Ee.segments.slice(0,ce.length);return!(!ct(bt,ce)||Ge.hasChildren()||!de(bt,ce,Be))}if(Ee.segments.length===ce.length){if(!ct(Ee.segments,ce)||!de(Ee.segments,ce,Be))return!1;for(const bt in Ge.children)if(!Ee.children[bt]||!ue(Ee.children[bt],Ge.children[bt],Be))return!1;return!0}{const bt=ce.slice(0,Ee.segments.length),Vt=ce.slice(Ee.segments.length);return!!(ct(Ee.segments,bt)&&de(Ee.segments,bt,Be)&&Ee.children[Ie])&&_e(Ee.children[Ie],Ge,Vt,Be)}}function de(Ee,Ge,ce){return Ge.every((Be,bt)=>Z[ce](Ee[bt].parameters,Be.parameters))}class xe{constructor(Ge=new Ke([],{}),ce={},Be=null){this.root=Ge,this.queryParams=ce,this.fragment=Be}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Je(this.queryParams)),this._queryParamMap}toString(){return wt.serialize(this)}}class Ke{constructor(Ge,ce){this.segments=Ge,this.children=ce,this.parent=null,Object.values(ce).forEach(Be=>Be.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gt(this)}}class Ve{constructor(Ge,ce){this.path=Ge,this.parameters=ce}get parameterMap(){return this._parameterMap||(this._parameterMap=Je(this.parameters)),this._parameterMap}toString(){return ht(this)}}function ct(Ee,Ge){return Ee.length===Ge.length&&Ee.every((ce,Be)=>ce.path===Ge[Be].path)}let yt=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return new jt},providedIn:"root"})}return Ee})();class jt{parse(Ge){const ce=new Lt(Ge);return new xe(ce.parseRootSegment(),ce.parseQueryParams(),ce.parseFragment())}serialize(Ge){const ce=`/${nn(Ge.root,!0)}`,Be=function De(Ee){const Ge=Object.keys(Ee).map(ce=>{const Be=Ee[ce];return Array.isArray(Be)?Be.map(bt=>`${un(ce)}=${un(bt)}`).join("&"):`${un(ce)}=${un(Be)}`}).filter(ce=>!!ce);return Ge.length?`?${Ge.join("&")}`:""}(Ge.queryParams);return`${ce}${Be}${"string"==typeof Ge.fragment?`#${function Kt(Ee){return encodeURI(Ee)}(Ge.fragment)}`:""}`}}const wt=new jt;function Gt(Ee){return Ee.segments.map(Ge=>ht(Ge)).join("/")}function nn(Ee,Ge){if(!Ee.hasChildren())return Gt(Ee);if(Ge){const ce=Ee.children[Ie]?nn(Ee.children[Ie],!1):"",Be=[];return Object.entries(Ee.children).forEach(([bt,Vt])=>{bt!==Ie&&Be.push(`${bt}:${nn(Vt,!1)}`)}),Be.length>0?`${ce}(${Be.join("//")})`:ce}{const ce=function nt(Ee,Ge){let ce=[];return Object.entries(Ee.children).forEach(([Be,bt])=>{Be===Ie&&(ce=ce.concat(Ge(bt,Be)))}),Object.entries(Ee.children).forEach(([Be,bt])=>{Be!==Ie&&(ce=ce.concat(Ge(bt,Be)))}),ce}(Ee,(Be,bt)=>bt===Ie?[nn(Ee.children[Ie],!1)]:[`${bt}:${nn(Be,!1)}`]);return 1===Object.keys(Ee.children).length&&null!=Ee.children[Ie]?`${Gt(Ee)}/${ce[0]}`:`${Gt(Ee)}/(${ce.join("//")})`}}function dn(Ee){return encodeURIComponent(Ee).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function un(Ee){return dn(Ee).replace(/%3B/gi,";")}function Tn(Ee){return dn(Ee).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rn(Ee){return decodeURIComponent(Ee)}function xt(Ee){return rn(Ee.replace(/\+/g,"%20"))}function ht(Ee){return`${Tn(Ee.path)}${function Qe(Ee){return Object.keys(Ee).map(Ge=>`;${Tn(Ge)}=${Tn(Ee[Ge])}`).join("")}(Ee.parameters)}`}const Pe=/^[^\/()?;#]+/;function Ye(Ee){const Ge=Ee.match(Pe);return Ge?Ge[0]:""}const ze=/^[^\/()?;=#]+/,rt=/^[^=?&#]+/,Ft=/^[^&#]+/;class Lt{constructor(Ge){this.url=Ge,this.remaining=Ge}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){const Ge={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ge)}while(this.consumeOptional("&"));return Ge}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ge=[];for(this.peekStartsWith("(")||Ge.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ge.push(this.parseSegment());let ce={};this.peekStartsWith("/(")&&(this.capture("/"),ce=this.parseParens(!0));let Be={};return this.peekStartsWith("(")&&(Be=this.parseParens(!1)),(Ge.length>0||Object.keys(ce).length>0)&&(Be[Ie]=new Ke(Ge,ce)),Be}parseSegment(){const Ge=Ye(this.remaining);if(""===Ge&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(Ge),new Ve(rn(Ge),this.parseMatrixParams())}parseMatrixParams(){const Ge={};for(;this.consumeOptional(";");)this.parseParam(Ge);return Ge}parseParam(Ge){const ce=function lt(Ee){const Ge=Ee.match(ze);return Ge?Ge[0]:""}(this.remaining);if(!ce)return;this.capture(ce);let Be="";if(this.consumeOptional("=")){const bt=Ye(this.remaining);bt&&(Be=bt,this.capture(Be))}Ge[rn(ce)]=rn(Be)}parseQueryParam(Ge){const ce=function dt(Ee){const Ge=Ee.match(rt);return Ge?Ge[0]:""}(this.remaining);if(!ce)return;this.capture(ce);let Be="";if(this.consumeOptional("=")){const Ut=function qt(Ee){const Ge=Ee.match(Ft);return Ge?Ge[0]:""}(this.remaining);Ut&&(Be=Ut,this.capture(Be))}const bt=xt(ce),Vt=xt(Be);if(Ge.hasOwnProperty(bt)){let Ut=Ge[bt];Array.isArray(Ut)||(Ut=[Ut],Ge[bt]=Ut),Ut.push(Vt)}else Ge[bt]=Vt}parseParens(Ge){const ce={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Be=Ye(this.remaining),bt=this.remaining[Be.length];if("/"!==bt&&")"!==bt&&";"!==bt)throw new c.vHH(4010,!1);let Vt;Be.indexOf(":")>-1?(Vt=Be.slice(0,Be.indexOf(":")),this.capture(Vt),this.capture(":")):Ge&&(Vt=Ie);const Ut=this.parseChildren();ce[Vt]=1===Object.keys(Ut).length?Ut[Ie]:new Ke([],Ut),this.consumeOptional("//")}return ce}peekStartsWith(Ge){return this.remaining.startsWith(Ge)}consumeOptional(Ge){return!!this.peekStartsWith(Ge)&&(this.remaining=this.remaining.substring(Ge.length),!0)}capture(Ge){if(!this.consumeOptional(Ge))throw new c.vHH(4011,!1)}}function Qt(Ee){return Ee.segments.length>0?new Ke([],{[Ie]:Ee}):Ee}function ln(Ee){const Ge={};for(const Be of Object.keys(Ee.children)){const Vt=ln(Ee.children[Be]);if(Be===Ie&&0===Vt.segments.length&&Vt.hasChildren())for(const[Ut,bn]of Object.entries(Vt.children))Ge[Ut]=bn;else(Vt.segments.length>0||Vt.hasChildren())&&(Ge[Be]=Vt)}return function mn(Ee){if(1===Ee.numberOfChildren&&Ee.children[Ie]){const Ge=Ee.children[Ie];return new Ke(Ee.segments.concat(Ge.segments),Ge.children)}return Ee}(new Ke(Ee.segments,Ge))}function Mn(Ee){return Ee instanceof xe}function Yn(Ee){let Ge;const bt=Qt(function ce(Vt){const Ut={};for(const Wn of Vt.children){const Ti=ce(Wn);Ut[Wn.outlet]=Ti}const bn=new Ke(Vt.url,Ut);return Vt===Ee&&(Ge=bn),bn}(Ee.root));return Ge??bt}function Vn(Ee,Ge,ce,Be){let bt=Ee;for(;bt.parent;)bt=bt.parent;if(0===Ge.length)return Tt(bt,bt,bt,ce,Be);const Vt=function Wt(Ee){if("string"==typeof Ee[0]&&1===Ee.length&&"/"===Ee[0])return new at(!0,0,Ee);let Ge=0,ce=!1;const Be=Ee.reduce((bt,Vt,Ut)=>{if("object"==typeof Vt&&null!=Vt){if(Vt.outlets){const bn={};return Object.entries(Vt.outlets).forEach(([Wn,Ti])=>{bn[Wn]="string"==typeof Ti?Ti.split("/"):Ti}),[...bt,{outlets:bn}]}if(Vt.segmentPath)return[...bt,Vt.segmentPath]}return"string"!=typeof Vt?[...bt,Vt]:0===Ut?(Vt.split("/").forEach((bn,Wn)=>{0==Wn&&"."===bn||(0==Wn&&""===bn?ce=!0:".."===bn?Ge++:""!=bn&&bt.push(bn))}),bt):[...bt,Vt]},[]);return new at(ce,Ge,Be)}(Ge);if(Vt.toRoot())return Tt(bt,bt,new Ke([],{}),ce,Be);const Ut=function ut(Ee,Ge,ce){if(Ee.isAbsolute)return new We(Ge,!0,0);if(!ce)return new We(Ge,!1,NaN);if(null===ce.parent)return new We(ce,!0,0);const Be=fi(Ee.commands[0])?0:1;return function Pt(Ee,Ge,ce){let Be=Ee,bt=Ge,Vt=ce;for(;Vt>bt;){if(Vt-=bt,Be=Be.parent,!Be)throw new c.vHH(4005,!1);bt=Be.segments.length}return new We(Be,!1,bt-Vt)}(ce,ce.segments.length-1+Be,Ee.numberOfDoubleDots)}(Vt,bt,Ee),bn=Ut.processChildren?Rn(Ut.segmentGroup,Ut.index,Vt.commands):Jt(Ut.segmentGroup,Ut.index,Vt.commands);return Tt(bt,Ut.segmentGroup,bn,ce,Be)}function fi(Ee){return"object"==typeof Ee&&null!=Ee&&!Ee.outlets&&!Ee.segmentPath}function Cn(Ee){return"object"==typeof Ee&&null!=Ee&&Ee.outlets}function Tt(Ee,Ge,ce,Be,bt){let Ut,Vt={};Be&&Object.entries(Be).forEach(([Wn,Ti])=>{Vt[Wn]=Array.isArray(Ti)?Ti.map(Ci=>`${Ci}`):`${Ti}`}),Ut=Ee===Ge?ce:Et(Ee,Ge,ce);const bn=Qt(ln(Ut));return new xe(bn,Vt,bt)}function Et(Ee,Ge,ce){const Be={};return Object.entries(Ee.children).forEach(([bt,Vt])=>{Be[bt]=Vt===Ge?ce:Et(Vt,Ge,ce)}),new Ke(Ee.segments,Be)}class at{constructor(Ge,ce,Be){if(this.isAbsolute=Ge,this.numberOfDoubleDots=ce,this.commands=Be,Ge&&Be.length>0&&fi(Be[0]))throw new c.vHH(4003,!1);const bt=Be.find(Cn);if(bt&&bt!==ge(Be))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class We{constructor(Ge,ce,Be){this.segmentGroup=Ge,this.processChildren=ce,this.index=Be}}function Jt(Ee,Ge,ce){if(Ee||(Ee=new Ke([],{})),0===Ee.segments.length&&Ee.hasChildren())return Rn(Ee,Ge,ce);const Be=function Ht(Ee,Ge,ce){let Be=0,bt=Ge;const Vt={match:!1,pathIndex:0,commandIndex:0};for(;bt<Ee.segments.length;){if(Be>=ce.length)return Vt;const Ut=Ee.segments[bt],bn=ce[Be];if(Cn(bn))break;const Wn=`${bn}`,Ti=Be<ce.length-1?ce[Be+1]:null;if(bt>0&&void 0===Wn)break;if(Wn&&Ti&&"object"==typeof Ti&&void 0===Ti.outlets){if(!Fn(Wn,Ti,Ut))return Vt;Be+=2}else{if(!Fn(Wn,{},Ut))return Vt;Be++}bt++}return{match:!0,pathIndex:bt,commandIndex:Be}}(Ee,Ge,ce),bt=ce.slice(Be.commandIndex);if(Be.match&&Be.pathIndex<Ee.segments.length){const Vt=new Ke(Ee.segments.slice(0,Be.pathIndex),{});return Vt.children[Ie]=new Ke(Ee.segments.slice(Be.pathIndex),Ee.children),Rn(Vt,0,bt)}return Be.match&&0===bt.length?new Ke(Ee.segments,{}):Be.match&&!Ee.hasChildren()?zt(Ee,Ge,ce):Be.match?Rn(Ee,0,bt):zt(Ee,Ge,ce)}function Rn(Ee,Ge,ce){if(0===ce.length)return new Ke(Ee.segments,{});{const Be=function en(Ee){return Cn(Ee[0])?Ee[0].outlets:{[Ie]:Ee}}(ce),bt={};if(!Be[Ie]&&Ee.children[Ie]&&1===Ee.numberOfChildren&&0===Ee.children[Ie].segments.length){const Vt=Rn(Ee.children[Ie],Ge,ce);return new Ke(Ee.segments,Vt.children)}return Object.entries(Be).forEach(([Vt,Ut])=>{"string"==typeof Ut&&(Ut=[Ut]),null!==Ut&&(bt[Vt]=Jt(Ee.children[Vt],Ge,Ut))}),Object.entries(Ee.children).forEach(([Vt,Ut])=>{void 0===Be[Vt]&&(bt[Vt]=Ut)}),new Ke(Ee.segments,bt)}}function zt(Ee,Ge,ce){const Be=Ee.segments.slice(0,Ge);let bt=0;for(;bt<ce.length;){const Vt=ce[bt];if(Cn(Vt)){const Wn=on(Vt.outlets);return new Ke(Be,Wn)}if(0===bt&&fi(ce[0])){Be.push(new Ve(Ee.segments[Ge].path,En(ce[0]))),bt++;continue}const Ut=Cn(Vt)?Vt.outlets[Ie]:`${Vt}`,bn=bt<ce.length-1?ce[bt+1]:null;Ut&&bn&&fi(bn)?(Be.push(new Ve(Ut,En(bn))),bt+=2):(Be.push(new Ve(Ut,{})),bt++)}return new Ke(Be,{})}function on(Ee){const Ge={};return Object.entries(Ee).forEach(([ce,Be])=>{"string"==typeof Be&&(Be=[Be]),null!==Be&&(Ge[ce]=zt(new Ke([],{}),0,Be))}),Ge}function En(Ee){const Ge={};return Object.entries(Ee).forEach(([ce,Be])=>Ge[ce]=`${Be}`),Ge}function Fn(Ee,Ge,ce){return Ee==ce.path&&W(Ge,ce.parameters)}const Xn="imperative";class ft{constructor(Ge,ce){this.id=Ge,this.url=ce}}class hn extends ft{constructor(Ge,ce,Be="imperative",bt=null){super(Ge,ce),this.type=0,this.navigationTrigger=Be,this.restoredState=bt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class be extends ft{constructor(Ge,ce,Be){super(Ge,ce),this.urlAfterRedirects=Be,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vt extends ft{constructor(Ge,ce,Be,bt){super(Ge,ce),this.reason=Be,this.code=bt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gt extends ft{constructor(Ge,ce,Be,bt){super(Ge,ce),this.reason=Be,this.code=bt,this.type=16}}class kt extends ft{constructor(Ge,ce,Be,bt){super(Ge,ce),this.error=Be,this.target=bt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cn extends ft{constructor(Ge,ce,Be,bt){super(Ge,ce),this.urlAfterRedirects=Be,this.state=bt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ei extends ft{constructor(Ge,ce,Be,bt){super(Ge,ce),this.urlAfterRedirects=Be,this.state=bt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xi extends ft{constructor(Ge,ce,Be,bt,Vt){super(Ge,ce),this.urlAfterRedirects=Be,this.state=bt,this.shouldActivate=Vt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ir extends ft{constructor(Ge,ce,Be,bt){super(Ge,ce),this.urlAfterRedirects=Be,this.state=bt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yr extends ft{constructor(Ge,ce,Be,bt){super(Ge,ce),this.urlAfterRedirects=Be,this.state=bt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir{constructor(Ge){this.route=Ge,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fo{constructor(Ge){this.route=Ge,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xo{constructor(Ge){this.snapshot=Ge,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(Ge){this.snapshot=Ge,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vo{constructor(Ge){this.snapshot=Ge,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(Ge){this.snapshot=Ge,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(Ge,ce,Be){this.routerEvent=Ge,this.position=ce,this.anchor=Be,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ki,this.attachRef=null}}let Ki=(()=>{class Ee{constructor(){this.contexts=new Map}onChildOutletCreated(ce,Be){const bt=this.getOrCreateContext(ce);bt.outlet=Be,this.contexts.set(ce,bt)}onChildOutletDestroyed(ce){const Be=this.getContext(ce);Be&&(Be.outlet=null,Be.attachRef=null)}onOutletDeactivated(){const ce=this.contexts;return this.contexts=new Map,ce}onOutletReAttached(ce){this.contexts=ce}getOrCreateContext(ce){let Be=this.getContext(ce);return Be||(Be=new qi,this.contexts.set(ce,Be)),Be}getContext(ce){return this.contexts.get(ce)||null}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();class Go{constructor(Ge){this._root=Ge}get root(){return this._root.value}parent(Ge){const ce=this.pathFromRoot(Ge);return ce.length>1?ce[ce.length-2]:null}children(Ge){const ce=yo(Ge,this._root);return ce?ce.children.map(Be=>Be.value):[]}firstChild(Ge){const ce=yo(Ge,this._root);return ce&&ce.children.length>0?ce.children[0].value:null}siblings(Ge){const ce=Lr(Ge,this._root);return ce.length<2?[]:ce[ce.length-2].children.map(bt=>bt.value).filter(bt=>bt!==Ge)}pathFromRoot(Ge){return Lr(Ge,this._root).map(ce=>ce.value)}}function yo(Ee,Ge){if(Ee===Ge.value)return Ge;for(const ce of Ge.children){const Be=yo(Ee,ce);if(Be)return Be}return null}function Lr(Ee,Ge){if(Ee===Ge.value)return[Ge];for(const ce of Ge.children){const Be=Lr(Ee,ce);if(Be.length)return Be.unshift(Ge),Be}return[]}class kr{constructor(Ge,ce){this.value=Ge,this.children=ce}toString(){return`TreeNode(${this.value})`}}function bo(Ee){const Ge={};return Ee&&Ee.children.forEach(ce=>Ge[ce.value.outlet]=ce),Ge}class lr extends Go{constructor(Ge,ce){super(Ge),this.snapshot=ce,Xt(this,Ge)}toString(){return this.snapshot.toString()}}function di(Ee,Ge){const ce=function Pi(Ee,Ge){const Ut=new Er([],{},{},"",{},Ie,Ge,null,{});return new Vr("",new kr(Ut,[]))}(0,Ge),Be=new E.X([new Ve("",{})]),bt=new E.X({}),Vt=new E.X({}),Ut=new E.X({}),bn=new E.X(""),Wn=new Ji(Be,bt,Ut,bn,Vt,Ie,Ge,ce.root);return Wn.snapshot=ce.root,new lr(new kr(Wn,[]),ce)}class Ji{constructor(Ge,ce,Be,bt,Vt,Ut,bn,Wn){this.urlSubject=Ge,this.paramsSubject=ce,this.queryParamsSubject=Be,this.fragmentSubject=bt,this.dataSubject=Vt,this.outlet=Ut,this.component=bn,this._futureSnapshot=Wn,this.title=this.dataSubject?.pipe((0,O.U)(Ti=>Ti[He]))??(0,I.of)(void 0),this.url=Ge,this.params=ce,this.queryParams=Be,this.fragment=bt,this.data=Vt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,O.U)(Ge=>Je(Ge)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,O.U)(Ge=>Je(Ge)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ar(Ee,Ge="emptyOnly"){const ce=Ee.pathFromRoot;let Be=0;if("always"!==Ge)for(Be=ce.length-1;Be>=1;){const bt=ce[Be],Vt=ce[Be-1];if(bt.routeConfig&&""===bt.routeConfig.path)Be--;else{if(Vt.component)break;Be--}}return function Ao(Ee){return Ee.reduce((Ge,ce)=>({params:{...Ge.params,...ce.params},data:{...Ge.data,...ce.data},resolve:{...ce.data,...Ge.resolve,...ce.routeConfig?.data,...ce._resolvedData}}),{params:{},data:{},resolve:{}})}(ce.slice(Be))}class Er{get title(){return this.data?.[He]}constructor(Ge,ce,Be,bt,Vt,Ut,bn,Wn,Ti){this.url=Ge,this.params=ce,this.queryParams=Be,this.fragment=bt,this.data=Vt,this.outlet=Ut,this.component=bn,this.routeConfig=Wn,this._resolve=Ti}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Je(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Je(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Be=>Be.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vr extends Go{constructor(Ge,ce){super(ce),this.url=Ge,Xt(this,ce)}toString(){return In(this._root)}}function Xt(Ee,Ge){Ge.value._routerState=Ee,Ge.children.forEach(ce=>Xt(Ee,ce))}function In(Ee){const Ge=Ee.children.length>0?` { ${Ee.children.map(In).join(", ")} } `:"";return`${Ee.value}${Ge}`}function $n(Ee){if(Ee.snapshot){const Ge=Ee.snapshot,ce=Ee._futureSnapshot;Ee.snapshot=ce,W(Ge.queryParams,ce.queryParams)||Ee.queryParamsSubject.next(ce.queryParams),Ge.fragment!==ce.fragment&&Ee.fragmentSubject.next(ce.fragment),W(Ge.params,ce.params)||Ee.paramsSubject.next(ce.params),function Te(Ee,Ge){if(Ee.length!==Ge.length)return!1;for(let ce=0;ce<Ee.length;++ce)if(!W(Ee[ce],Ge[ce]))return!1;return!0}(Ge.url,ce.url)||Ee.urlSubject.next(ce.url),W(Ge.data,ce.data)||Ee.dataSubject.next(ce.data)}else Ee.snapshot=Ee._futureSnapshot,Ee.dataSubject.next(Ee._futureSnapshot.data)}function jn(Ee,Ge){const ce=W(Ee.params,Ge.params)&&function st(Ee,Ge){return ct(Ee,Ge)&&Ee.every((ce,Be)=>W(ce.parameters,Ge[Be].parameters))}(Ee.url,Ge.url);return ce&&!(!Ee.parent!=!Ge.parent)&&(!Ee.parent||jn(Ee.parent,Ge.parent))}let bi=(()=>{class Ee{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ie,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Ki),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Si,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(ce){if(ce.name){const{firstChange:Be,previousValue:bt}=ce.name;if(Be)return;this.isTrackedInParentContexts(bt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(bt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(ce){return this.parentContexts.getContext(ce)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const ce=this.parentContexts.getContext(this.name);ce?.route&&(ce.attachRef?this.attach(ce.attachRef,ce.route):this.activateWith(ce.route,ce.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const ce=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ce.instance),ce}attach(ce,Be){this.activated=ce,this._activatedRoute=Be,this.location.insert(ce.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(ce.instance)}deactivate(){if(this.activated){const ce=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ce)}}activateWith(ce,Be){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=ce;const bt=this.location,Ut=ce.snapshot.component,bn=this.parentContexts.getOrCreateContext(this.name).children,Wn=new Oi(ce,bn,bt.injector);this.activated=bt.createComponent(Ut,{index:bt.length,injector:Wn,environmentInjector:Be??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275dir=c.lG2({type:Ee,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return Ee})();class Oi{constructor(Ge,ce,Be){this.route=Ge,this.childContexts=ce,this.parent=Be}get(Ge,ce){return Ge===Ji?this.route:Ge===Ki?this.childContexts:this.parent.get(Ge,ce)}}const Si=new c.OlP("");let _i=(()=>{class Ee{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ce){this.unsubscribeFromRouteData(ce),this.subscribeToRouteData(ce)}unsubscribeFromRouteData(ce){this.outletDataSubscriptions.get(ce)?.unsubscribe(),this.outletDataSubscriptions.delete(ce)}subscribeToRouteData(ce){const{activatedRoute:Be}=ce,bt=(0,F.a)([Be.queryParams,Be.params,Be.data]).pipe((0,x.w)(([Vt,Ut,bn],Wn)=>(bn={...Vt,...Ut,...bn},0===Wn?(0,I.of)(bn):Promise.resolve(bn)))).subscribe(Vt=>{if(!ce.isActivated||!ce.activatedComponentRef||ce.activatedRoute!==Be||null===Be.component)return void this.unsubscribeFromRouteData(ce);const Ut=(0,c.qFp)(Be.component);if(Ut)for(const{templateName:bn}of Ut.inputs)ce.activatedComponentRef.setInput(bn,Vt[bn]);else this.unsubscribeFromRouteData(ce)});this.outletDataSubscriptions.set(ce,bt)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function Qi(Ee,Ge,ce){if(ce&&Ee.shouldReuseRoute(Ge.value,ce.value.snapshot)){const Be=ce.value;Be._futureSnapshot=Ge.value;const bt=function Yr(Ee,Ge,ce){return Ge.children.map(Be=>{for(const bt of ce.children)if(Ee.shouldReuseRoute(Be.value,bt.value.snapshot))return Qi(Ee,Be,bt);return Qi(Ee,Be)})}(Ee,Ge,ce);return new kr(Be,bt)}{if(Ee.shouldAttach(Ge.value)){const Vt=Ee.retrieve(Ge.value);if(null!==Vt){const Ut=Vt.route;return Ut.value._futureSnapshot=Ge.value,Ut.children=Ge.children.map(bn=>Qi(Ee,bn)),Ut}}const Be=function Gr(Ee){return new Ji(new E.X(Ee.url),new E.X(Ee.params),new E.X(Ee.queryParams),new E.X(Ee.fragment),new E.X(Ee.data),Ee.outlet,Ee.component,Ee)}(Ge.value),bt=Ge.children.map(Vt=>Qi(Ee,Vt));return new kr(Be,bt)}}const Eo="ngNavigationCancelingError";function Tr(Ee,Ge){const{redirectTo:ce,navigationBehaviorOptions:Be}=Mn(Ge)?{redirectTo:Ge,navigationBehaviorOptions:void 0}:Ge,bt=Fr(!1,0,Ge);return bt.url=ce,bt.navigationBehaviorOptions=Be,bt}function Fr(Ee,Ge,ce){const Be=new Error("NavigationCancelingError: "+(Ee||""));return Be[Eo]=!0,Be.cancellationCode=Ge,ce&&(Be.url=ce),Be}function No(Ee){return Jr(Ee)&&Mn(Ee.url)}function Jr(Ee){return Ee&&Ee[Eo]}let Gi=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275cmp=c.Xpm({type:Ee,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(Be,bt){1&Be&&c._UZ(0,"router-outlet")},dependencies:[bi],encapsulation:2})}return Ee})();function Pr(Ee){const Ge=Ee.children&&Ee.children.map(Pr),ce=Ge?{...Ee,children:Ge}:{...Ee};return!ce.component&&!ce.loadComponent&&(Ge||ce.loadChildren)&&ce.outlet&&ce.outlet!==Ie&&(ce.component=Gi),ce}function hr(Ee){return Ee.outlet||Ie}function fr(Ee){if(!Ee)return null;if(Ee.routeConfig?._injector)return Ee.routeConfig._injector;for(let Ge=Ee.parent;Ge;Ge=Ge.parent){const ce=Ge.routeConfig;if(ce?._loadedInjector)return ce._loadedInjector;if(ce?._injector)return ce._injector}return null}class wo{constructor(Ge,ce,Be,bt,Vt){this.routeReuseStrategy=Ge,this.futureState=ce,this.currState=Be,this.forwardEvent=bt,this.inputBindingEnabled=Vt}activate(Ge){const ce=this.futureState._root,Be=this.currState?this.currState._root:null;this.deactivateChildRoutes(ce,Be,Ge),$n(this.futureState.root),this.activateChildRoutes(ce,Be,Ge)}deactivateChildRoutes(Ge,ce,Be){const bt=bo(ce);Ge.children.forEach(Vt=>{const Ut=Vt.value.outlet;this.deactivateRoutes(Vt,bt[Ut],Be),delete bt[Ut]}),Object.values(bt).forEach(Vt=>{this.deactivateRouteAndItsChildren(Vt,Be)})}deactivateRoutes(Ge,ce,Be){const bt=Ge.value,Vt=ce?ce.value:null;if(bt===Vt)if(bt.component){const Ut=Be.getContext(bt.outlet);Ut&&this.deactivateChildRoutes(Ge,ce,Ut.children)}else this.deactivateChildRoutes(Ge,ce,Be);else Vt&&this.deactivateRouteAndItsChildren(ce,Be)}deactivateRouteAndItsChildren(Ge,ce){Ge.value.component&&this.routeReuseStrategy.shouldDetach(Ge.value.snapshot)?this.detachAndStoreRouteSubtree(Ge,ce):this.deactivateRouteAndOutlet(Ge,ce)}detachAndStoreRouteSubtree(Ge,ce){const Be=ce.getContext(Ge.value.outlet),bt=Be&&Ge.value.component?Be.children:ce,Vt=bo(Ge);for(const Ut of Object.keys(Vt))this.deactivateRouteAndItsChildren(Vt[Ut],bt);if(Be&&Be.outlet){const Ut=Be.outlet.detach(),bn=Be.children.onOutletDeactivated();this.routeReuseStrategy.store(Ge.value.snapshot,{componentRef:Ut,route:Ge,contexts:bn})}}deactivateRouteAndOutlet(Ge,ce){const Be=ce.getContext(Ge.value.outlet),bt=Be&&Ge.value.component?Be.children:ce,Vt=bo(Ge);for(const Ut of Object.keys(Vt))this.deactivateRouteAndItsChildren(Vt[Ut],bt);Be&&(Be.outlet&&(Be.outlet.deactivate(),Be.children.onOutletDeactivated()),Be.attachRef=null,Be.route=null)}activateChildRoutes(Ge,ce,Be){const bt=bo(ce);Ge.children.forEach(Vt=>{this.activateRoutes(Vt,bt[Vt.value.outlet],Be),this.forwardEvent(new Ai(Vt.value.snapshot))}),Ge.children.length&&this.forwardEvent(new no(Ge.value.snapshot))}activateRoutes(Ge,ce,Be){const bt=Ge.value,Vt=ce?ce.value:null;if($n(bt),bt===Vt)if(bt.component){const Ut=Be.getOrCreateContext(bt.outlet);this.activateChildRoutes(Ge,ce,Ut.children)}else this.activateChildRoutes(Ge,ce,Be);else if(bt.component){const Ut=Be.getOrCreateContext(bt.outlet);if(this.routeReuseStrategy.shouldAttach(bt.snapshot)){const bn=this.routeReuseStrategy.retrieve(bt.snapshot);this.routeReuseStrategy.store(bt.snapshot,null),Ut.children.onOutletReAttached(bn.contexts),Ut.attachRef=bn.componentRef,Ut.route=bn.route.value,Ut.outlet&&Ut.outlet.attach(bn.componentRef,bn.route.value),$n(bn.route.value),this.activateChildRoutes(Ge,null,Ut.children)}else{const bn=fr(bt.snapshot);Ut.attachRef=null,Ut.route=bt,Ut.injector=bn,Ut.outlet&&Ut.outlet.activateWith(bt,Ut.injector),this.activateChildRoutes(Ge,null,Ut.children)}}else this.activateChildRoutes(Ge,null,Be)}}class Io{constructor(Ge){this.path=Ge,this.route=this.path[this.path.length-1]}}class Wr{constructor(Ge,ce){this.component=Ge,this.route=ce}}function us(Ee,Ge,ce){const Be=Ee._root;return fs(Be,Ge?Ge._root:null,ce,[Be.value])}function Ho(Ee,Ge){const ce=Symbol(),Be=Ge.get(Ee,ce);return Be===ce?"function"!=typeof Ee||(0,c.Z0I)(Ee)?Ge.get(Ee):Ee:Be}function fs(Ee,Ge,ce,Be,bt={canDeactivateChecks:[],canActivateChecks:[]}){const Vt=bo(Ge);return Ee.children.forEach(Ut=>{(function qo(Ee,Ge,ce,Be,bt={canDeactivateChecks:[],canActivateChecks:[]}){const Vt=Ee.value,Ut=Ge?Ge.value:null,bn=ce?ce.getContext(Ee.value.outlet):null;if(Ut&&Vt.routeConfig===Ut.routeConfig){const Wn=function ro(Ee,Ge,ce){if("function"==typeof ce)return ce(Ee,Ge);switch(ce){case"pathParamsChange":return!ct(Ee.url,Ge.url);case"pathParamsOrQueryParamsChange":return!ct(Ee.url,Ge.url)||!W(Ee.queryParams,Ge.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jn(Ee,Ge)||!W(Ee.queryParams,Ge.queryParams);default:return!jn(Ee,Ge)}}(Ut,Vt,Vt.routeConfig.runGuardsAndResolvers);Wn?bt.canActivateChecks.push(new Io(Be)):(Vt.data=Ut.data,Vt._resolvedData=Ut._resolvedData),fs(Ee,Ge,Vt.component?bn?bn.children:null:ce,Be,bt),Wn&&bn&&bn.outlet&&bn.outlet.isActivated&&bt.canDeactivateChecks.push(new Wr(bn.outlet.component,Ut))}else Ut&&To(Ge,bn,bt),bt.canActivateChecks.push(new Io(Be)),fs(Ee,null,Vt.component?bn?bn.children:null:ce,Be,bt)})(Ut,Vt[Ut.value.outlet],ce,Be.concat([Ut.value]),bt),delete Vt[Ut.value.outlet]}),Object.entries(Vt).forEach(([Ut,bn])=>To(bn,ce.getContext(Ut),bt)),bt}function To(Ee,Ge,ce){const Be=bo(Ee),bt=Ee.value;Object.entries(Be).forEach(([Vt,Ut])=>{To(Ut,bt.component?Ge?Ge.children.getContext(Vt):null:Ge,ce)}),ce.canDeactivateChecks.push(new Wr(bt.component&&Ge&&Ge.outlet&&Ge.outlet.isActivated?Ge.outlet.component:null,bt))}function hs(Ee){return"function"==typeof Ee}function ws(Ee){return Ee instanceof L.K||"EmptyError"===Ee?.name}const Bs=Symbol("INITIAL_VALUE");function er(){return(0,x.w)(Ee=>(0,F.a)(Ee.map(Ge=>Ge.pipe((0,P.q)(1),(0,T.O)(Bs)))).pipe((0,O.U)(Ge=>{for(const ce of Ge)if(!0!==ce){if(ce===Bs)return Bs;if(!1===ce||ce instanceof xe)return ce}return!0}),(0,N.h)(Ge=>Ge!==Bs),(0,P.q)(1)))}function Qo(Ee){return(0,f.z)((0,q.b)(Ge=>{if(Mn(Ge))throw Tr(0,Ge)}),(0,O.U)(Ge=>!0===Ge))}class Br{constructor(Ge){this.segmentGroup=Ge||null}}class Xo{constructor(Ge){this.urlTree=Ge}}function gr(Ee){return A(new Br(Ee))}function Po(Ee){return A(new Xo(Ee))}class Qs{constructor(Ge,ce){this.urlSerializer=Ge,this.urlTree=ce}noMatchError(Ge){return new c.vHH(4002,!1)}lineralizeSegments(Ge,ce){let Be=[],bt=ce.root;for(;;){if(Be=Be.concat(bt.segments),0===bt.numberOfChildren)return(0,I.of)(Be);if(bt.numberOfChildren>1||!bt.children[Ie])return A(new c.vHH(4e3,!1));bt=bt.children[Ie]}}applyRedirectCommands(Ge,ce,Be){return this.applyRedirectCreateUrlTree(ce,this.urlSerializer.parse(ce),Ge,Be)}applyRedirectCreateUrlTree(Ge,ce,Be,bt){const Vt=this.createSegmentGroup(Ge,ce.root,Be,bt);return new xe(Vt,this.createQueryParams(ce.queryParams,this.urlTree.queryParams),ce.fragment)}createQueryParams(Ge,ce){const Be={};return Object.entries(Ge).forEach(([bt,Vt])=>{if("string"==typeof Vt&&Vt.startsWith(":")){const bn=Vt.substring(1);Be[bt]=ce[bn]}else Be[bt]=Vt}),Be}createSegmentGroup(Ge,ce,Be,bt){const Vt=this.createSegments(Ge,ce.segments,Be,bt);let Ut={};return Object.entries(ce.children).forEach(([bn,Wn])=>{Ut[bn]=this.createSegmentGroup(Ge,Wn,Be,bt)}),new Ke(Vt,Ut)}createSegments(Ge,ce,Be,bt){return ce.map(Vt=>Vt.path.startsWith(":")?this.findPosParam(Ge,Vt,bt):this.findOrReturn(Vt,Be))}findPosParam(Ge,ce,Be){const bt=Be[ce.path.substring(1)];if(!bt)throw new c.vHH(4001,!1);return bt}findOrReturn(Ge,ce){let Be=0;for(const bt of ce){if(bt.path===Ge.path)return ce.splice(Be),bt;Be++}return Ge}}const ko={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ua(Ee,Ge,ce,Be,bt){const Vt=xa(Ee,Ge,ce);return Vt.matched?(Be=function qs(Ee,Ge){return Ee.providers&&!Ee._injector&&(Ee._injector=(0,c.MMx)(Ee.providers,Ge,`Route: ${Ee.path}`)),Ee._injector??Ge}(Ge,Be),function Ko(Ee,Ge,ce,Be){const bt=Ge.canMatch;if(!bt||0===bt.length)return(0,I.of)(!0);const Vt=bt.map(Ut=>{const bn=Ho(Ut,Ee);return J(function Jo(Ee){return Ee&&hs(Ee.canMatch)}(bn)?bn.canMatch(Ge,ce):Ee.runInContext(()=>bn(Ge,ce)))});return(0,I.of)(Vt).pipe(er(),Qo())}(Be,Ge,ce).pipe((0,O.U)(Ut=>!0===Ut?Vt:{...ko}))):(0,I.of)(Vt)}function xa(Ee,Ge,ce){if(""===Ge.path)return"full"===Ge.pathMatch&&(Ee.hasChildren()||ce.length>0)?{...ko}:{matched:!0,consumedSegments:[],remainingSegments:ce,parameters:{},positionalParamSegments:{}};const bt=(Ge.matcher||Ne)(ce,Ee,Ge);if(!bt)return{...ko};const Vt={};Object.entries(bt.posParams??{}).forEach(([bn,Wn])=>{Vt[bn]=Wn.path});const Ut=bt.consumed.length>0?{...Vt,...bt.consumed[bt.consumed.length-1].parameters}:Vt;return{matched:!0,consumedSegments:bt.consumed,remainingSegments:ce.slice(bt.consumed.length),parameters:Ut,positionalParamSegments:bt.posParams??{}}}function Qa(Ee,Ge,ce,Be){return ce.length>0&&function Xa(Ee,Ge,ce){return ce.some(Be=>xl(Ee,Ge,Be)&&hr(Be)!==Ie)}(Ee,ce,Be)?{segmentGroup:new Ke(Ge,Dl(Be,new Ke(ce,Ee.children))),slicedSegments:[]}:0===ce.length&&function Xr(Ee,Ge,ce){return ce.some(Be=>xl(Ee,Ge,Be))}(Ee,ce,Be)?{segmentGroup:new Ke(Ee.segments,Us(Ee,0,ce,Be,Ee.children)),slicedSegments:ce}:{segmentGroup:new Ke(Ee.segments,Ee.children),slicedSegments:ce}}function Us(Ee,Ge,ce,Be,bt){const Vt={};for(const Ut of Be)if(xl(Ee,ce,Ut)&&!bt[hr(Ut)]){const bn=new Ke([],{});Vt[hr(Ut)]=bn}return{...bt,...Vt}}function Dl(Ee,Ge){const ce={};ce[Ie]=Ge;for(const Be of Ee)if(""===Be.path&&hr(Be)!==Ie){const bt=new Ke([],{});ce[hr(Be)]=bt}return ce}function xl(Ee,Ge,ce){return(!(Ee.hasChildren()||Ge.length>0)||"full"!==ce.pathMatch)&&""===ce.path}class nc{constructor(Ge,ce,Be,bt,Vt,Ut,bn){this.injector=Ge,this.configLoader=ce,this.rootComponentType=Be,this.config=bt,this.urlTree=Vt,this.paramsInheritanceStrategy=Ut,this.urlSerializer=bn,this.allowRedirects=!0,this.applyRedirects=new Qs(this.urlSerializer,this.urlTree)}noMatchError(Ge){return new c.vHH(4002,!1)}recognize(){const Ge=Qa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,Ge,Ie).pipe(ae(ce=>{if(ce instanceof Xo)return this.allowRedirects=!1,this.urlTree=ce.urlTree,this.match(ce.urlTree);throw ce instanceof Br?this.noMatchError(ce):ce}),(0,O.U)(ce=>{const Be=new Er([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ie,this.rootComponentType,null,{}),bt=new kr(Be,ce),Vt=new Vr("",bt),Ut=function Nn(Ee,Ge,ce=null,Be=null){return Vn(Yn(Ee),Ge,ce,Be)}(Be,[],this.urlTree.queryParams,this.urlTree.fragment);return Ut.queryParams=this.urlTree.queryParams,Vt.url=this.urlSerializer.serialize(Ut),this.inheritParamsAndData(Vt._root),{state:Vt,tree:Ut}}))}match(Ge){return this.processSegmentGroup(this.injector,this.config,Ge.root,Ie).pipe(ae(Be=>{throw Be instanceof Br?this.noMatchError(Be):Be}))}inheritParamsAndData(Ge){const ce=Ge.value,Be=Ar(ce,this.paramsInheritanceStrategy);ce.params=Object.freeze(Be.params),ce.data=Object.freeze(Be.data),Ge.children.forEach(bt=>this.inheritParamsAndData(bt))}processSegmentGroup(Ge,ce,Be,bt){return 0===Be.segments.length&&Be.hasChildren()?this.processChildren(Ge,ce,Be):this.processSegment(Ge,ce,Be,Be.segments,bt,!0)}processChildren(Ge,ce,Be){const bt=[];for(const Vt of Object.keys(Be.children))"primary"===Vt?bt.unshift(Vt):bt.push(Vt);return(0,y.D)(bt).pipe((0,Y.b)(Vt=>{const Ut=Be.children[Vt],bn=function ks(Ee,Ge){const ce=Ee.filter(Be=>hr(Be)===Ge);return ce.push(...Ee.filter(Be=>hr(Be)!==Ge)),ce}(ce,Vt);return this.processSegmentGroup(Ge,bn,Ut,Vt)}),function pe(Ee,Ge){return(0,$.e)(function K(Ee,Ge,ce,Be,bt){return(Vt,Ut)=>{let bn=ce,Wn=Ge,Ti=0;Vt.subscribe((0,Fe.x)(Ut,Ci=>{const dr=Ti++;Wn=bn?Ee(Wn,Ci,dr):(bn=!0,Ci),Be&&Ut.next(Wn)},bt&&(()=>{bn&&Ut.next(Wn),Ut.complete()})))}}(Ee,Ge,arguments.length>=2,!0))}((Vt,Ut)=>(Vt.push(...Ut),Vt)),(0,oe.d)(null),function fe(Ee,Ge){const ce=arguments.length>=2;return Be=>Be.pipe(Ee?(0,N.h)((bt,Vt)=>Ee(bt,Vt,Be)):Le.y,he(1),ce?(0,oe.d)(Ge):(0,Se.T)(()=>new L.K))}(),(0,S.z)(Vt=>{if(null===Vt)return gr(Be);const Ut=Xs(Vt);return function Ma(Ee){Ee.sort((Ge,ce)=>Ge.value.outlet===Ie?-1:ce.value.outlet===Ie?1:Ge.value.outlet.localeCompare(ce.value.outlet))}(Ut),(0,I.of)(Ut)}))}processSegment(Ge,ce,Be,bt,Vt,Ut){return(0,y.D)(ce).pipe((0,Y.b)(bn=>this.processSegmentAgainstRoute(bn._injector??Ge,ce,bn,Be,bt,Vt,Ut).pipe(ae(Wn=>{if(Wn instanceof Br)return(0,I.of)(null);throw Wn}))),(0,B.P)(bn=>!!bn),ae(bn=>{if(ws(bn))return function Fc(Ee,Ge,ce){return 0===Ge.length&&!Ee.children[ce]}(Be,bt,Vt)?(0,I.of)([]):gr(Be);throw bn}))}processSegmentAgainstRoute(Ge,ce,Be,bt,Vt,Ut,bn){return function el(Ee,Ge,ce,Be){return!!(hr(Ee)===Be||Be!==Ie&&xl(Ge,ce,Ee))&&("**"===Ee.path||xa(Ge,Ee,ce).matched)}(Be,bt,Vt,Ut)?void 0===Be.redirectTo?this.matchSegmentAgainstRoute(Ge,bt,Be,Vt,Ut,bn):bn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Ge,bt,ce,Be,Vt,Ut):gr(bt):gr(bt)}expandSegmentAgainstRouteUsingRedirect(Ge,ce,Be,bt,Vt,Ut){return"**"===bt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Ge,Be,bt,Ut):this.expandRegularSegmentAgainstRouteUsingRedirect(Ge,ce,Be,bt,Vt,Ut)}expandWildCardWithParamsAgainstRouteUsingRedirect(Ge,ce,Be,bt){const Vt=this.applyRedirects.applyRedirectCommands([],Be.redirectTo,{});return Be.redirectTo.startsWith("/")?Po(Vt):this.applyRedirects.lineralizeSegments(Be,Vt).pipe((0,S.z)(Ut=>{const bn=new Ke(Ut,{});return this.processSegment(Ge,ce,bn,Ut,bt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Ge,ce,Be,bt,Vt,Ut){const{matched:bn,consumedSegments:Wn,remainingSegments:Ti,positionalParamSegments:Ci}=xa(ce,bt,Vt);if(!bn)return gr(ce);const dr=this.applyRedirects.applyRedirectCommands(Wn,bt.redirectTo,Ci);return bt.redirectTo.startsWith("/")?Po(dr):this.applyRedirects.lineralizeSegments(bt,dr).pipe((0,S.z)(Ro=>this.processSegment(Ge,Be,ce,Ro.concat(Ti),Ut,!1)))}matchSegmentAgainstRoute(Ge,ce,Be,bt,Vt,Ut){let bn;if("**"===Be.path){const Wn=bt.length>0?ge(bt).parameters:{},Ti=new Er(bt,Wn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wa(Be),hr(Be),Be.component??Be._loadedComponent??null,Be,tl(Be));bn=(0,I.of)({snapshot:Ti,consumedSegments:[],remainingSegments:[]}),ce.children={}}else bn=Ua(ce,Be,bt,Ge).pipe((0,O.U)(({matched:Wn,consumedSegments:Ti,remainingSegments:Ci,parameters:dr})=>Wn?{snapshot:new Er(Ti,dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wa(Be),hr(Be),Be.component??Be._loadedComponent??null,Be,tl(Be)),consumedSegments:Ti,remainingSegments:Ci}:null));return bn.pipe((0,x.w)(Wn=>null===Wn?gr(ce):this.getChildConfig(Ge=Be._injector??Ge,Be,bt).pipe((0,x.w)(({routes:Ti})=>{const Ci=Be._loadedInjector??Ge,{snapshot:dr,consumedSegments:Ro,remainingSegments:Pa}=Wn,{segmentGroup:va,slicedSegments:ya}=Qa(ce,Ro,Pa,Ti);if(0===ya.length&&va.hasChildren())return this.processChildren(Ci,Ti,va).pipe((0,O.U)(Rs=>null===Rs?null:[new kr(dr,Rs)]));if(0===Ti.length&&0===ya.length)return(0,I.of)([new kr(dr,[])]);const ll=hr(Be)===Vt;return this.processSegment(Ci,Ti,va,ya,ll?Ie:Vt,!0).pipe((0,O.U)(Rs=>[new kr(dr,Rs)]))}))))}getChildConfig(Ge,ce,Be){return ce.children?(0,I.of)({routes:ce.children,injector:Ge}):ce.loadChildren?void 0!==ce._loadedRoutes?(0,I.of)({routes:ce._loadedRoutes,injector:ce._loadedInjector}):function ho(Ee,Ge,ce,Be){const bt=Ge.canLoad;if(void 0===bt||0===bt.length)return(0,I.of)(!0);const Vt=bt.map(Ut=>{const bn=Ho(Ut,Ee);return J(function ma(Ee){return Ee&&hs(Ee.canLoad)}(bn)?bn.canLoad(Ge,ce):Ee.runInContext(()=>bn(Ge,ce)))});return(0,I.of)(Vt).pipe(er(),Qo())}(Ge,ce,Be).pipe((0,S.z)(bt=>bt?this.configLoader.loadChildren(Ge,ce).pipe((0,q.b)(Vt=>{ce._loadedRoutes=Vt.routes,ce._loadedInjector=Vt.injector})):function Ba(Ee){return A(Fr(!1,3))}())):(0,I.of)({routes:[],injector:Ge})}}function ja(Ee){const Ge=Ee.value.routeConfig;return Ge&&""===Ge.path}function Xs(Ee){const Ge=[],ce=new Set;for(const Be of Ee){if(!ja(Be)){Ge.push(Be);continue}const bt=Ge.find(Vt=>Be.value.routeConfig===Vt.value.routeConfig);void 0!==bt?(bt.children.push(...Be.children),ce.add(bt)):Ge.push(Be)}for(const Be of ce){const bt=Xs(Be.children);Ge.push(new kr(Be.value,bt))}return Ge.filter(Be=>!ce.has(Be))}function wa(Ee){return Ee.data||{}}function tl(Ee){return Ee.resolve||{}}function js(Ee){return"string"==typeof Ee.title||null===Ee.title}function _r(Ee){return(0,x.w)(Ge=>{const ce=Ee(Ge);return ce?(0,y.D)(ce).pipe((0,O.U)(()=>Ge)):(0,I.of)(Ge)})}const Is=new c.OlP("ROUTES");let we=(()=>{class Ee{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(ce){if(this.componentLoaders.get(ce))return this.componentLoaders.get(ce);if(ce._loadedComponent)return(0,I.of)(ce._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ce);const Be=J(ce.loadComponent()).pipe((0,O.U)(it),(0,q.b)(Vt=>{this.onLoadEndListener&&this.onLoadEndListener(ce),ce._loadedComponent=Vt}),(0,Me.x)(()=>{this.componentLoaders.delete(ce)})),bt=new R.c(Be,()=>new j.x).pipe((0,me.x)());return this.componentLoaders.set(ce,bt),bt}loadChildren(ce,Be){if(this.childrenLoaders.get(Be))return this.childrenLoaders.get(Be);if(Be._loadedRoutes)return(0,I.of)({routes:Be._loadedRoutes,injector:Be._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Be);const Vt=this.loadModuleFactoryOrRoutes(Be.loadChildren).pipe((0,O.U)(bn=>{this.onLoadEndListener&&this.onLoadEndListener(Be);let Wn,Ti;return Array.isArray(bn)?Ti=bn:(Wn=bn.create(ce).injector,Ti=Wn.get(Is,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:Ti.map(Pr),injector:Wn}}),(0,Me.x)(()=>{this.childrenLoaders.delete(Be)})),Ut=new R.c(Vt,()=>new j.x).pipe((0,me.x)());return this.childrenLoaders.set(Be,Ut),Ut}loadModuleFactoryOrRoutes(ce){return J(ce()).pipe((0,O.U)(it),(0,S.z)(Be=>Be instanceof c.YKP||Array.isArray(Be)?(0,I.of)(Be):(0,y.D)(this.compiler.compileModuleAsync(Be))))}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();function it(Ee){return function Mt(Ee){return Ee&&"object"==typeof Ee&&"default"in Ee}(Ee)?Ee.default:Ee}let At=(()=>{class Ee{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new j.x,this.configLoader=(0,c.f3M)(we),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(yt),this.rootContexts=(0,c.f3M)(Ki),this.inputBindingEnabled=null!==(0,c.f3M)(Si,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,I.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=bt=>this.events.next(new fo(bt)),this.configLoader.onLoadStartListener=bt=>this.events.next(new ir(bt))}complete(){this.transitions?.complete()}handleNavigationRequest(ce){const Be=++this.navigationId;this.transitions?.next({...this.transitions.value,...ce,id:Be})}setupNavigations(ce){return this.transitions=new E.X({id:0,currentUrlTree:ce.currentUrlTree,currentRawUrl:ce.currentUrlTree,extractedUrl:ce.urlHandlingStrategy.extract(ce.currentUrlTree),urlAfterRedirects:ce.urlHandlingStrategy.extract(ce.currentUrlTree),rawUrl:ce.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xn,restoredState:null,currentSnapshot:ce.routerState.snapshot,targetSnapshot:null,currentRouterState:ce.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,N.h)(Be=>0!==Be.id),(0,O.U)(Be=>({...Be,extractedUrl:ce.urlHandlingStrategy.extract(Be.rawUrl)})),(0,x.w)(Be=>{let bt=!1,Vt=!1;return(0,I.of)(Be).pipe((0,q.b)(Ut=>{this.currentNavigation={id:Ut.id,initialUrl:Ut.rawUrl,extractedUrl:Ut.extractedUrl,trigger:Ut.source,extras:Ut.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,x.w)(Ut=>{const bn=ce.browserUrlTree.toString(),Wn=!ce.navigated||Ut.extractedUrl.toString()!==bn||bn!==ce.currentUrlTree.toString();if(!Wn&&"reload"!==(Ut.extras.onSameUrlNavigation??ce.onSameUrlNavigation)){const Ci="";return this.events.next(new gt(Ut.id,ce.serializeUrl(Be.rawUrl),Ci,0)),ce.rawUrlTree=Ut.rawUrl,Ut.resolve(null),U.E}if(ce.urlHandlingStrategy.shouldProcessUrl(Ut.rawUrl))return tn(Ut.source)&&(ce.browserUrlTree=Ut.extractedUrl),(0,I.of)(Ut).pipe((0,x.w)(Ci=>{const dr=this.transitions?.getValue();return this.events.next(new hn(Ci.id,this.urlSerializer.serialize(Ci.extractedUrl),Ci.source,Ci.restoredState)),dr!==this.transitions?.getValue()?U.E:Promise.resolve(Ci)}),function nl(Ee,Ge,ce,Be,bt,Vt){return(0,S.z)(Ut=>function Aa(Ee,Ge,ce,Be,bt,Vt,Ut="emptyOnly"){return new nc(Ee,Ge,ce,Be,bt,Ut,Vt).recognize()}(Ee,Ge,ce,Be,Ut.extractedUrl,bt,Vt).pipe((0,O.U)(({state:bn,tree:Wn})=>({...Ut,targetSnapshot:bn,urlAfterRedirects:Wn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,ce.config,this.urlSerializer,ce.paramsInheritanceStrategy),(0,q.b)(Ci=>{if(Be.targetSnapshot=Ci.targetSnapshot,Be.urlAfterRedirects=Ci.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ci.urlAfterRedirects},"eager"===ce.urlUpdateStrategy){if(!Ci.extras.skipLocationChange){const Ro=ce.urlHandlingStrategy.merge(Ci.urlAfterRedirects,Ci.rawUrl);ce.setBrowserUrl(Ro,Ci)}ce.browserUrlTree=Ci.urlAfterRedirects}const dr=new cn(Ci.id,this.urlSerializer.serialize(Ci.extractedUrl),this.urlSerializer.serialize(Ci.urlAfterRedirects),Ci.targetSnapshot);this.events.next(dr)}));if(Wn&&ce.urlHandlingStrategy.shouldProcessUrl(ce.rawUrlTree)){const{id:Ci,extractedUrl:dr,source:Ro,restoredState:Pa,extras:va}=Ut,ya=new hn(Ci,this.urlSerializer.serialize(dr),Ro,Pa);this.events.next(ya);const ll=di(0,this.rootComponentType).snapshot;return Be={...Ut,targetSnapshot:ll,urlAfterRedirects:dr,extras:{...va,skipLocationChange:!1,replaceUrl:!1}},(0,I.of)(Be)}{const Ci="";return this.events.next(new gt(Ut.id,ce.serializeUrl(Be.extractedUrl),Ci,1)),ce.rawUrlTree=Ut.rawUrl,Ut.resolve(null),U.E}}),(0,q.b)(Ut=>{const bn=new ei(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(Ut.urlAfterRedirects),Ut.targetSnapshot);this.events.next(bn)}),(0,O.U)(Ut=>Be={...Ut,guards:us(Ut.targetSnapshot,Ut.currentSnapshot,this.rootContexts)}),function pn(Ee,Ge){return(0,S.z)(ce=>{const{targetSnapshot:Be,currentSnapshot:bt,guards:{canActivateChecks:Vt,canDeactivateChecks:Ut}}=ce;return 0===Ut.length&&0===Vt.length?(0,I.of)({...ce,guardsResult:!0}):function tt(Ee,Ge,ce,Be){return(0,y.D)(Ee).pipe((0,S.z)(bt=>function Mi(Ee,Ge,ce,Be,bt){const Vt=Ge&&Ge.routeConfig?Ge.routeConfig.canDeactivate:null;if(!Vt||0===Vt.length)return(0,I.of)(!0);const Ut=Vt.map(bn=>{const Wn=fr(Ge)??bt,Ti=Ho(bn,Wn);return J(function As(Ee){return Ee&&hs(Ee.canDeactivate)}(Ti)?Ti.canDeactivate(Ee,Ge,ce,Be):Wn.runInContext(()=>Ti(Ee,Ge,ce,Be))).pipe((0,B.P)())});return(0,I.of)(Ut).pipe(er())}(bt.component,bt.route,ce,Ge,Be)),(0,B.P)(bt=>!0!==bt,!0))}(Ut,Be,bt,Ee).pipe((0,S.z)(bn=>bn&&function Co(Ee){return"boolean"==typeof Ee}(bn)?function mt(Ee,Ge,ce,Be){return(0,y.D)(Ge).pipe((0,Y.b)(bt=>(0,D.z)(function It(Ee,Ge){return null!==Ee&&Ge&&Ge(new xo(Ee)),(0,I.of)(!0)}(bt.route.parent,Be),function $e(Ee,Ge){return null!==Ee&&Ge&&Ge(new Vo(Ee)),(0,I.of)(!0)}(bt.route,Be),function si(Ee,Ge,ce){const Be=Ge[Ge.length-1],Vt=Ge.slice(0,Ge.length-1).reverse().map(Ut=>function Lo(Ee){const Ge=Ee.routeConfig?Ee.routeConfig.canActivateChild:null;return Ge&&0!==Ge.length?{node:Ee,guards:Ge}:null}(Ut)).filter(Ut=>null!==Ut).map(Ut=>(0,p.P)(()=>{const bn=Ut.guards.map(Wn=>{const Ti=fr(Ut.node)??ce,Ci=Ho(Wn,Ti);return J(function Fs(Ee){return Ee&&hs(Ee.canActivateChild)}(Ci)?Ci.canActivateChild(Be,Ee):Ti.runInContext(()=>Ci(Be,Ee))).pipe((0,B.P)())});return(0,I.of)(bn).pipe(er())}));return(0,I.of)(Vt).pipe(er())}(Ee,bt.path,ce),function sn(Ee,Ge,ce){const Be=Ge.routeConfig?Ge.routeConfig.canActivate:null;if(!Be||0===Be.length)return(0,I.of)(!0);const bt=Be.map(Vt=>(0,p.P)(()=>{const Ut=fr(Ge)??ce,bn=Ho(Vt,Ut);return J(function oo(Ee){return Ee&&hs(Ee.canActivate)}(bn)?bn.canActivate(Ge,Ee):Ut.runInContext(()=>bn(Ge,Ee))).pipe((0,B.P)())}));return(0,I.of)(bt).pipe(er())}(Ee,bt.route,ce))),(0,B.P)(bt=>!0!==bt,!0))}(Be,Vt,Ee,Ge):(0,I.of)(bn)),(0,O.U)(bn=>({...ce,guardsResult:bn})))})}(this.environmentInjector,Ut=>this.events.next(Ut)),(0,q.b)(Ut=>{if(Be.guardsResult=Ut.guardsResult,Mn(Ut.guardsResult))throw Tr(0,Ut.guardsResult);const bn=new Xi(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(Ut.urlAfterRedirects),Ut.targetSnapshot,!!Ut.guardsResult);this.events.next(bn)}),(0,N.h)(Ut=>!!Ut.guardsResult||(ce.restoreHistory(Ut),this.cancelNavigationTransition(Ut,"",3),!1)),_r(Ut=>{if(Ut.guards.canActivateChecks.length)return(0,I.of)(Ut).pipe((0,q.b)(bn=>{const Wn=new Ir(bn.id,this.urlSerializer.serialize(bn.extractedUrl),this.urlSerializer.serialize(bn.urlAfterRedirects),bn.targetSnapshot);this.events.next(Wn)}),(0,x.w)(bn=>{let Wn=!1;return(0,I.of)(bn).pipe(function ic(Ee,Ge){return(0,S.z)(ce=>{const{targetSnapshot:Be,guards:{canActivateChecks:bt}}=ce;if(!bt.length)return(0,I.of)(ce);let Vt=0;return(0,y.D)(bt).pipe((0,Y.b)(Ut=>function pa(Ee,Ge,ce,Be){const bt=Ee.routeConfig,Vt=Ee._resolve;return void 0!==bt?.title&&!js(bt)&&(Vt[He]=bt.title),function il(Ee,Ge,ce,Be){const bt=function es(Ee){return[...Object.keys(Ee),...Object.getOwnPropertySymbols(Ee)]}(Ee);if(0===bt.length)return(0,I.of)({});const Vt={};return(0,y.D)(bt).pipe((0,S.z)(Ut=>function rl(Ee,Ge,ce,Be){const bt=fr(Ge)??Be,Vt=Ho(Ee,bt);return J(Vt.resolve?Vt.resolve(Ge,ce):bt.runInContext(()=>Vt(Ge,ce)))}(Ee[Ut],Ge,ce,Be).pipe((0,B.P)(),(0,q.b)(bn=>{Vt[Ut]=bn}))),he(1),(0,Re.h)(Vt),ae(Ut=>ws(Ut)?U.E:A(Ut)))}(Vt,Ee,Ge,Be).pipe((0,O.U)(Ut=>(Ee._resolvedData=Ut,Ee.data=Ar(Ee,ce).resolve,bt&&js(bt)&&(Ee.data[He]=bt.title),null)))}(Ut.route,Be,Ee,Ge)),(0,q.b)(()=>Vt++),he(1),(0,S.z)(Ut=>Vt===bt.length?(0,I.of)(ce):U.E))})}(ce.paramsInheritanceStrategy,this.environmentInjector),(0,q.b)({next:()=>Wn=!0,complete:()=>{Wn||(ce.restoreHistory(bn),this.cancelNavigationTransition(bn,"",2))}}))}),(0,q.b)(bn=>{const Wn=new yr(bn.id,this.urlSerializer.serialize(bn.extractedUrl),this.urlSerializer.serialize(bn.urlAfterRedirects),bn.targetSnapshot);this.events.next(Wn)}))}),_r(Ut=>{const bn=Wn=>{const Ti=[];Wn.routeConfig?.loadComponent&&!Wn.routeConfig._loadedComponent&&Ti.push(this.configLoader.loadComponent(Wn.routeConfig).pipe((0,q.b)(Ci=>{Wn.component=Ci}),(0,O.U)(()=>{})));for(const Ci of Wn.children)Ti.push(...bn(Ci));return Ti};return(0,F.a)(bn(Ut.targetSnapshot.root)).pipe((0,oe.d)(),(0,P.q)(1))}),_r(()=>this.afterPreactivation()),(0,O.U)(Ut=>{const bn=function Vi(Ee,Ge,ce){const Be=Qi(Ee,Ge._root,ce?ce._root:void 0);return new lr(Be,Ge)}(ce.routeReuseStrategy,Ut.targetSnapshot,Ut.currentRouterState);return Be={...Ut,targetRouterState:bn}}),(0,q.b)(Ut=>{ce.currentUrlTree=Ut.urlAfterRedirects,ce.rawUrlTree=ce.urlHandlingStrategy.merge(Ut.urlAfterRedirects,Ut.rawUrl),ce.routerState=Ut.targetRouterState,"deferred"===ce.urlUpdateStrategy&&(Ut.extras.skipLocationChange||ce.setBrowserUrl(ce.rawUrlTree,Ut),ce.browserUrlTree=Ut.urlAfterRedirects)}),((Ee,Ge,ce,Be)=>(0,O.U)(bt=>(new wo(Ge,bt.targetRouterState,bt.currentRouterState,ce,Be).activate(Ee),bt)))(this.rootContexts,ce.routeReuseStrategy,Ut=>this.events.next(Ut),this.inputBindingEnabled),(0,P.q)(1),(0,q.b)({next:Ut=>{bt=!0,this.lastSuccessfulNavigation=this.currentNavigation,ce.navigated=!0,this.events.next(new be(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(ce.currentUrlTree))),ce.titleStrategy?.updateTitle(Ut.targetRouterState.snapshot),Ut.resolve(!0)},complete:()=>{bt=!0}}),(0,Me.x)(()=>{bt||Vt||this.cancelNavigationTransition(Be,"",1),this.currentNavigation?.id===Be.id&&(this.currentNavigation=null)}),ae(Ut=>{if(Vt=!0,Jr(Ut)){No(Ut)||(ce.navigated=!0,ce.restoreHistory(Be,!0));const bn=new vt(Be.id,this.urlSerializer.serialize(Be.extractedUrl),Ut.message,Ut.cancellationCode);if(this.events.next(bn),No(Ut)){const Wn=ce.urlHandlingStrategy.merge(Ut.url,ce.rawUrlTree),Ti={skipLocationChange:Be.extras.skipLocationChange,replaceUrl:"eager"===ce.urlUpdateStrategy||tn(Be.source)};ce.scheduleNavigation(Wn,Xn,null,Ti,{resolve:Be.resolve,reject:Be.reject,promise:Be.promise})}else Be.resolve(!1)}else{ce.restoreHistory(Be,!0);const bn=new kt(Be.id,this.urlSerializer.serialize(Be.extractedUrl),Ut,Be.targetSnapshot??void 0);this.events.next(bn);try{Be.resolve(ce.errorHandler(Ut))}catch(Wn){Be.reject(Wn)}}return U.E}))}))}cancelNavigationTransition(ce,Be,bt){const Vt=new vt(ce.id,this.urlSerializer.serialize(ce.extractedUrl),Be,bt);this.events.next(Vt),ce.resolve(!1)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();function tn(Ee){return Ee!==Xn}let wn=(()=>{class Ee{buildTitle(ce){let Be,bt=ce.root;for(;void 0!==bt;)Be=this.getResolvedTitleForRoute(bt)??Be,bt=bt.children.find(Vt=>Vt.outlet===Ie);return Be}getResolvedTitleForRoute(ce){return ce.data[He]}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(Hn)},providedIn:"root"})}return Ee})(),Hn=(()=>{class Ee extends wn{constructor(ce){super(),this.title=ce}updateTitle(ce){const Be=this.buildTitle(ce);void 0!==Be&&this.title.setTitle(Be)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(ke.Dx))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),vi=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(nr)},providedIn:"root"})}return Ee})();class Dr{shouldDetach(Ge){return!1}store(Ge,ce){}shouldAttach(Ge){return!1}retrieve(Ge){return null}shouldReuseRoute(Ge,ce){return Ge.routeConfig===ce.routeConfig}}let nr=(()=>{class Ee extends Dr{static#e=this.\u0275fac=function(){let ce;return function(bt){return(ce||(ce=c.n5z(Ee)))(bt||Ee)}}();static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();const or=new c.OlP("",{providedIn:"root",factory:()=>({})});let Wi=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(Or)},providedIn:"root"})}return Ee})(),Or=(()=>{class Ee{shouldProcessUrl(ce){return!0}extract(ce){return ce}merge(ce,Be){return ce}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();var sr=function(Ee){return Ee[Ee.COMPLETE=0]="COMPLETE",Ee[Ee.FAILED=1]="FAILED",Ee[Ee.REDIRECTING=2]="REDIRECTING",Ee}(sr||{});function br(Ee,Ge){Ee.events.pipe((0,N.h)(ce=>ce instanceof be||ce instanceof vt||ce instanceof kt||ce instanceof gt),(0,O.U)(ce=>ce instanceof be||ce instanceof gt?sr.COMPLETE:ce instanceof vt&&(0===ce.code||1===ce.code)?sr.REDIRECTING:sr.FAILED),(0,N.h)(ce=>ce!==sr.REDIRECTING),(0,P.q)(1)).subscribe(()=>{Ge()})}function ms(Ee){throw Ee}function Di(Ee,Ge,ce){return Ge.parse("/")}const Vs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ts={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let eo=(()=>{class Ee{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(or,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||ms,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Di,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Wi),this.routeReuseStrategy=(0,c.f3M)(vi),this.titleStrategy=(0,c.f3M)(wn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Is,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(At),this.urlSerializer=(0,c.f3M)(yt),this.location=(0,c.f3M)(k.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Si,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xe,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=di(0,null),this.navigationTransitions.setupNavigations(this).subscribe(ce=>{this.lastSuccessfulId=ce.id,this.currentPageId=this.browserPageId??0},ce=>{this.console.warn(`Unhandled Navigation Error: ${ce}`)})}resetRootComponentType(ce){this.routerState.root.component=ce,this.navigationTransitions.rootComponentType=ce}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const ce=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xn,ce)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(ce=>{const Be="popstate"===ce.type?"popstate":"hashchange";"popstate"===Be&&setTimeout(()=>{this.navigateToSyncWithBrowser(ce.url,Be,ce.state)},0)}))}navigateToSyncWithBrowser(ce,Be,bt){const Vt={replaceUrl:!0},Ut=bt?.navigationId?bt:null;if(bt){const Wn={...bt};delete Wn.navigationId,delete Wn.\u0275routerPageId,0!==Object.keys(Wn).length&&(Vt.state=Wn)}const bn=this.parseUrl(ce);this.scheduleNavigation(bn,Be,Ut,Vt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(ce){this.config=ce.map(Pr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(ce,Be={}){const{relativeTo:bt,queryParams:Vt,fragment:Ut,queryParamsHandling:bn,preserveFragment:Wn}=Be,Ti=Wn?this.currentUrlTree.fragment:Ut;let dr,Ci=null;switch(bn){case"merge":Ci={...this.currentUrlTree.queryParams,...Vt};break;case"preserve":Ci=this.currentUrlTree.queryParams;break;default:Ci=Vt||null}null!==Ci&&(Ci=this.removeEmptyProps(Ci));try{dr=Yn(bt?bt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof ce[0]||!ce[0].startsWith("/"))&&(ce=[]),dr=this.currentUrlTree.root}return Vn(dr,ce,Ci,Ti??null)}navigateByUrl(ce,Be={skipLocationChange:!1}){const bt=Mn(ce)?ce:this.parseUrl(ce),Vt=this.urlHandlingStrategy.merge(bt,this.rawUrlTree);return this.scheduleNavigation(Vt,Xn,null,Be)}navigate(ce,Be={skipLocationChange:!1}){return function Gs(Ee){for(let Ge=0;Ge<Ee.length;Ge++)if(null==Ee[Ge])throw new c.vHH(4008,!1)}(ce),this.navigateByUrl(this.createUrlTree(ce,Be),Be)}serializeUrl(ce){return this.urlSerializer.serialize(ce)}parseUrl(ce){let Be;try{Be=this.urlSerializer.parse(ce)}catch(bt){Be=this.malformedUriErrorHandler(bt,this.urlSerializer,ce)}return Be}isActive(ce,Be){let bt;if(bt=!0===Be?{...Vs}:!1===Be?{...ts}:Be,Mn(ce))return te(this.currentUrlTree,ce,bt);const Vt=this.parseUrl(ce);return te(this.currentUrlTree,Vt,bt)}removeEmptyProps(ce){return Object.keys(ce).reduce((Be,bt)=>{const Vt=ce[bt];return null!=Vt&&(Be[bt]=Vt),Be},{})}scheduleNavigation(ce,Be,bt,Vt,Ut){if(this.disposed)return Promise.resolve(!1);let bn,Wn,Ti;Ut?(bn=Ut.resolve,Wn=Ut.reject,Ti=Ut.promise):Ti=new Promise((dr,Ro)=>{bn=dr,Wn=Ro});const Ci=this.pendingTasks.add();return br(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ci))}),this.navigationTransitions.handleNavigationRequest({source:Be,restoredState:bt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:ce,extras:Vt,resolve:bn,reject:Wn,promise:Ti,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ti.catch(dr=>Promise.reject(dr))}setBrowserUrl(ce,Be){const bt=this.urlSerializer.serialize(ce);if(this.location.isCurrentPathEqualTo(bt)||Be.extras.replaceUrl){const Ut={...Be.extras.state,...this.generateNgRouterState(Be.id,this.browserPageId)};this.location.replaceState(bt,"",Ut)}else{const Vt={...Be.extras.state,...this.generateNgRouterState(Be.id,(this.browserPageId??0)+1)};this.location.go(bt,"",Vt)}}restoreHistory(ce,Be=!1){if("computed"===this.canceledNavigationResolution){const Vt=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Vt?this.location.historyGo(Vt):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Vt&&(this.resetState(ce),this.browserUrlTree=ce.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Be&&this.resetState(ce),this.resetUrlToCurrentUrlTree())}resetState(ce){this.routerState=ce.currentRouterState,this.currentUrlTree=ce.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ce.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(ce,Be){return"computed"===this.canceledNavigationResolution?{navigationId:ce,\u0275routerPageId:Be}:{navigationId:ce}}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),Ps=(()=>{class Ee{constructor(ce,Be,bt,Vt,Ut,bn){this.router=ce,this.route=Be,this.tabIndexAttribute=bt,this.renderer=Vt,this.el=Ut,this.locationStrategy=bn,this.href=null,this.commands=null,this.onChanges=new j.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Wn=Ut.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Wn||"area"===Wn,this.isAnchorElement?this.subscription=ce.events.subscribe(Ti=>{Ti instanceof be&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(ce){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ce)}ngOnChanges(ce){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(ce){null!=ce?(this.commands=Array.isArray(ce)?ce:[ce],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(ce,Be,bt,Vt,Ut){return!!(null===this.urlTree||this.isAnchorElement&&(0!==ce||Be||bt||Vt||Ut||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const ce=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ce)}applyAttributeValue(ce,Be){const bt=this.renderer,Vt=this.el.nativeElement;null!==Be?bt.setAttribute(Vt,ce,Be):bt.removeAttribute(Vt,ce)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.Y36(eo),c.Y36(Ji),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(k.S$))};static#t=this.\u0275dir=c.lG2({type:Ee,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Be,bt){1&Be&&c.NdJ("click",function(Ut){return bt.onClick(Ut.button,Ut.ctrlKey,Ut.shiftKey,Ut.altKey,Ut.metaKey)}),2&Be&&c.uIk("target",bt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return Ee})();class Bc{}let sd=(()=>{class Ee{constructor(ce,Be,bt,Vt,Ut){this.router=ce,this.injector=bt,this.preloadingStrategy=Vt,this.loader=Ut}setUpPreloading(){this.subscription=this.router.events.pipe((0,N.h)(ce=>ce instanceof be),(0,Y.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ce,Be){const bt=[];for(const Vt of Be){Vt.providers&&!Vt._injector&&(Vt._injector=(0,c.MMx)(Vt.providers,ce,`Route: ${Vt.path}`));const Ut=Vt._injector??ce,bn=Vt._loadedInjector??Ut;(Vt.loadChildren&&!Vt._loadedRoutes&&void 0===Vt.canLoad||Vt.loadComponent&&!Vt._loadedComponent)&&bt.push(this.preloadConfig(Ut,Vt)),(Vt.children||Vt._loadedRoutes)&&bt.push(this.processRoutes(bn,Vt.children??Vt._loadedRoutes))}return(0,y.D)(bt).pipe((0,Ue.J)())}preloadConfig(ce,Be){return this.preloadingStrategy.preload(Be,()=>{let bt;bt=Be.loadChildren&&void 0===Be.canLoad?this.loader.loadChildren(ce,Be):(0,I.of)(null);const Vt=bt.pipe((0,S.z)(Ut=>null===Ut?(0,I.of)(void 0):(Be._loadedRoutes=Ut.routes,Be._loadedInjector=Ut.injector,this.processRoutes(Ut.injector??ce,Ut.routes))));if(Be.loadComponent&&!Be._loadedComponent){const Ut=this.loader.loadComponent(Be);return(0,y.D)([Vt,Ut]).pipe((0,Ue.J)())}return Vt})}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(eo),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Bc),c.LFG(we))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();const oc=new c.OlP("");let Zn=(()=>{class Ee{constructor(ce,Be,bt,Vt,Ut={}){this.urlSerializer=ce,this.transitions=Be,this.viewportScroller=bt,this.zone=Vt,this.options=Ut,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ut.scrollPositionRestoration=Ut.scrollPositionRestoration||"disabled",Ut.anchorScrolling=Ut.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ce=>{ce instanceof hn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ce.navigationTrigger,this.restoredId=ce.restoredState?ce.restoredState.navigationId:0):ce instanceof be?(this.lastId=ce.id,this.scheduleScrollEvent(ce,this.urlSerializer.parse(ce.urlAfterRedirects).fragment)):ce instanceof gt&&0===ce.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ce,this.urlSerializer.parse(ce.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ce=>{ce instanceof pr&&(ce.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ce.position):ce.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ce.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ce,Be){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pr(ce,"popstate"===this.lastSource?this.store[this.restoredId]:null,Be))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Be){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function Os(Ee,Ge){return{\u0275kind:Ee,\u0275providers:Ge}}function ac(){const Ee=(0,c.f3M)(c.zs3);return Ge=>{const ce=Ee.get(c.z2F);if(Ge!==ce.components[0])return;const Be=Ee.get(eo),bt=Ee.get(Hr);1===Ee.get(Va)&&Be.initialNavigation(),Ee.get(Hs,null,c.XFs.Optional)?.setUpPreloading(),Ee.get(oc,null,c.XFs.Optional)?.init(),Be.resetRootComponentType(ce.componentTypes[0]),bt.closed||(bt.next(),bt.complete(),bt.unsubscribe())}}const Hr=new c.OlP("",{factory:()=>new j.x}),Va=new c.OlP("",{providedIn:"root",factory:()=>1}),Hs=new c.OlP("");function Il(Ee){return Os(0,[{provide:Hs,useExisting:sd},{provide:Bc,useExisting:Ee}])}const sl=new c.OlP("ROUTER_FORROOT_GUARD"),cc=[k.Ye,{provide:yt,useClass:jt},eo,Ki,{provide:Ji,useFactory:function wl(Ee){return Ee.routerState.root},deps:[eo]},we,[]];function al(){return new c.PXZ("Router",eo)}let Pl=(()=>{class Ee{constructor(ce){}static forRoot(ce,Be){return{ngModule:Ee,providers:[cc,[],{provide:Is,multi:!0,useValue:ce},{provide:sl,useFactory:Ol,deps:[[eo,new c.FiY,new c.tp0]]},{provide:or,useValue:Be||{}},Be?.useHash?{provide:k.S$,useClass:k.Do}:{provide:k.S$,useClass:k.b0},{provide:oc,useFactory:()=>{const Ee=(0,c.f3M)(k.EM),Ge=(0,c.f3M)(c.R0b),ce=(0,c.f3M)(or),Be=(0,c.f3M)(At),bt=(0,c.f3M)(yt);return ce.scrollOffset&&Ee.setOffset(ce.scrollOffset),new Zn(bt,Be,Ee,Ge,ce)}},Be?.preloadingStrategy?Il(Be.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:al},Be?.initialNavigation?Vc(Be):[],Be?.bindToComponentInputs?Os(8,[_i,{provide:Si,useExisting:_i}]).\u0275providers:[],[{provide:dc,useFactory:ac},{provide:c.tb,multi:!0,useExisting:dc}]]}}static forChild(ce){return{ngModule:Ee,providers:[{provide:Is,multi:!0,useValue:ce}]}}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(sl,8))};static#t=this.\u0275mod=c.oAB({type:Ee});static#n=this.\u0275inj=c.cJS({})}return Ee})();function Ol(Ee){return"guarded"}function Vc(Ee){return["disabled"===Ee.initialNavigation?Os(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const Ge=(0,c.f3M)(eo);return()=>{Ge.setUpLocationChangeListener()}}},{provide:Va,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ee.initialNavigation?Os(2,[{provide:Va,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:Ge=>{const ce=Ge.get(k.V_,Promise.resolve());return()=>ce.then(()=>new Promise(Be=>{const bt=Ge.get(eo),Vt=Ge.get(Hr);br(bt,()=>{Be(!0)}),Ge.get(At).afterPreactivation=()=>(Be(!0),Vt.closed?(0,I.of)(void 0):Vt),bt.initialNavigation()}))}}]).\u0275providers:[]]}const dc=new c.OlP("")},3106:(Bn,et,C)=>{"use strict";C.d(et,{Z:()=>R});var c=C(9058),t=C(4537),y=C(534),I=C(7879);class E{constructor(k,O){this._delegate=k,this.firebase=O,(0,y._addComponent)(k,new t.wA("app-compat",()=>this,"PUBLIC")),this.container=k.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this._delegate.automaticDataCollectionEnabled=k}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(k=>{this._delegate.checkDestroyed(),k()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,y.deleteApp)(this._delegate)))}_getService(k,O=y._DEFAULT_ENTRY_NAME){var x;this._delegate.checkDestroyed();const P=this._delegate.container.getProvider(k);return!P.isInitialized()&&"EXPLICIT"===(null===(x=P.getComponent())||void 0===x?void 0:x.instantiationMode)&&P.initialize(),P.getImmediate({identifier:O})}_removeServiceInstance(k,O=y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(k).clearInstance(O)}_addComponent(k){(0,y._addComponent)(this._delegate,k)}_addOrOverwriteComponent(k){(0,y._addOrOverwriteComponent)(this._delegate,k)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const L=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),f=function p(){const j=function D(j){const k={},O={__esModule:!0,initializeApp:function T(Y,q={}){const le=y.initializeApp(Y,q);if((0,c.r3)(k,le.name))return k[le.name];const Fe=new j(le,O);return k[le.name]=Fe,Fe},app:P,registerVersion:y.registerVersion,setLogLevel:y.setLogLevel,onLog:y.onLog,apps:null,SDK_VERSION:y.SDK_VERSION,INTERNAL:{registerComponent:function S(Y){const q=Y.name,le=q.replace("-compat","");if(y._registerComponent(Y)&&"PUBLIC"===Y.type){const Fe=($=P())=>{if("function"!=typeof $[le])throw L.create("invalid-app-argument",{appName:q});return $[le]()};void 0!==Y.serviceProps&&(0,c.ZB)(Fe,Y.serviceProps),O[le]=Fe,j.prototype[le]=function(...$){return this._getService.bind(this,q).apply(this,Y.multipleInstances?$:[])}}return"PUBLIC"===Y.type?O[le]:null},removeApp:function x(Y){delete k[Y]},useAsService:function B(Y,q){return"serverAuth"===q?null:q},modularAPIs:y}};function P(Y){if(!(0,c.r3)(k,Y=Y||y._DEFAULT_ENTRY_NAME))throw L.create("no-app",{appName:Y});return k[Y]}return O.default=O,Object.defineProperty(O,"apps",{get:function N(){return Object.keys(k).map(Y=>k[Y])}}),P.App=j,O}(E);return j.INTERNAL=Object.assign(Object.assign({},j.INTERNAL),{createFirebaseNamespace:p,extendNamespace:function k(O){(0,c.ZB)(j,O)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),j}(),g=new I.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const j=self.firebase.SDK_VERSION;j&&j.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const R=f;!function U(j){(0,y.registerVersion)("@firebase/app-compat","0.2.13",j)}()},534:(Bn,et,C)=>{"use strict";C.r(et),C.d(et,{FirebaseError:()=>I.ZR,SDK_VERSION:()=>nn,_DEFAULT_ENTRY_NAME:()=>ue,_addComponent:()=>Ke,_addOrOverwriteComponent:()=>Ve,_apps:()=>de,_clearComponents:()=>yt,_components:()=>xe,_getProvider:()=>ct,_registerComponent:()=>st,_removeServiceInstance:()=>nt,deleteApp:()=>Tn,getApp:()=>un,getApps:()=>Kt,initializeApp:()=>dn,onLog:()=>ht,registerVersion:()=>xt,setLogLevel:()=>Qe});var c=C(5861),t=C(4537),y=C(7879),I=C(9058);const E=(Cn,Tt)=>Tt.some(Et=>Cn instanceof Et);let F,L;const f=new WeakMap,g=new WeakMap,v=new WeakMap,A=new WeakMap,U=new WeakMap;let k={get(Cn,Tt,Et){if(Cn instanceof IDBTransaction){if("done"===Tt)return g.get(Cn);if("objectStoreNames"===Tt)return Cn.objectStoreNames||v.get(Cn);if("store"===Tt)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return T(Cn[Tt])},set:(Cn,Tt,Et)=>(Cn[Tt]=Et,!0),has:(Cn,Tt)=>Cn instanceof IDBTransaction&&("done"===Tt||"store"===Tt)||Tt in Cn};function P(Cn){return"function"==typeof Cn?function x(Cn){return Cn!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function p(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Cn)?function(...Tt){return Cn.apply(N(this),Tt),T(f.get(this))}:function(...Tt){return T(Cn.apply(N(this),Tt))}:function(Tt,...Et){const at=Cn.call(N(this),Tt,...Et);return v.set(at,Tt.sort?Tt.sort():[Tt]),T(at)}}(Cn):(Cn instanceof IDBTransaction&&function j(Cn){if(g.has(Cn))return;const Tt=new Promise((Et,at)=>{const Wt=()=>{Cn.removeEventListener("complete",We),Cn.removeEventListener("error",ut),Cn.removeEventListener("abort",ut)},We=()=>{Et(),Wt()},ut=()=>{at(Cn.error||new DOMException("AbortError","AbortError")),Wt()};Cn.addEventListener("complete",We),Cn.addEventListener("error",ut),Cn.addEventListener("abort",ut)});g.set(Cn,Tt)}(Cn),E(Cn,function D(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Cn,k):Cn)}function T(Cn){if(Cn instanceof IDBRequest)return function R(Cn){const Tt=new Promise((Et,at)=>{const Wt=()=>{Cn.removeEventListener("success",We),Cn.removeEventListener("error",ut)},We=()=>{Et(T(Cn.result)),Wt()},ut=()=>{at(Cn.error),Wt()};Cn.addEventListener("success",We),Cn.addEventListener("error",ut)});return Tt.then(Et=>{Et instanceof IDBCursor&&f.set(Et,Cn)}).catch(()=>{}),U.set(Tt,Cn),Tt}(Cn);if(A.has(Cn))return A.get(Cn);const Tt=P(Cn);return Tt!==Cn&&(A.set(Cn,Tt),U.set(Tt,Cn)),Tt}const N=Cn=>U.get(Cn),Y=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],le=new Map;function Fe(Cn,Tt){if(!(Cn instanceof IDBDatabase)||Tt in Cn||"string"!=typeof Tt)return;if(le.get(Tt))return le.get(Tt);const Et=Tt.replace(/FromIndex$/,""),at=Tt!==Et,Wt=q.includes(Et);if(!(Et in(at?IDBIndex:IDBObjectStore).prototype)||!Wt&&!Y.includes(Et))return;const We=function(){var ut=(0,c.Z)(function*(Pt,...en){const Jt=this.transaction(Pt,Wt?"readwrite":"readonly");let Rn=Jt.store;return at&&(Rn=Rn.index(en.shift())),(yield Promise.all([Rn[Et](...en),Wt&&Jt.done]))[0]});return function(en){return ut.apply(this,arguments)}}();return le.set(Tt,We),We}!function O(Cn){k=Cn(k)}(Cn=>({...Cn,get:(Tt,Et,at)=>Fe(Tt,Et)||Cn.get(Tt,Et,at),has:(Tt,Et)=>!!Fe(Tt,Et)||Cn.has(Tt,Et)}));class ${constructor(Tt){this.container=Tt}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function ae(Cn){const Tt=Cn.getComponent();return"VERSION"===Tt?.type}(Et)){const at=Et.getImmediate();return`${at.library}/${at.version}`}return null}).filter(Et=>Et).join(" ")}}const K="@firebase/app",oe=new y.Yd("@firebase/app"),ue="[DEFAULT]",_e={[K]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},de=new Map,xe=new Map;function Ke(Cn,Tt){try{Cn.container.addComponent(Tt)}catch(Et){oe.debug(`Component ${Tt.name} failed to register with FirebaseApp ${Cn.name}`,Et)}}function Ve(Cn,Tt){Cn.container.addOrOverwriteComponent(Tt)}function st(Cn){const Tt=Cn.name;if(xe.has(Tt))return oe.debug(`There were multiple attempts to register component ${Tt}.`),!1;xe.set(Tt,Cn);for(const Et of de.values())Ke(Et,Cn);return!0}function ct(Cn,Tt){const Et=Cn.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),Cn.container.getProvider(Tt)}function nt(Cn,Tt,Et=ue){ct(Cn,Tt).clearInstance(Et)}function yt(){xe.clear()}const wt=new I.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gt{constructor(Tt,Et,at){this._isDeleted=!1,this._options=Object.assign({},Tt),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=at,this.container.addComponent(new t.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Tt){this._isDeleted=Tt}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}const nn="9.23.0";function dn(Cn,Tt={}){let Et=Cn;"object"!=typeof Tt&&(Tt={name:Tt});const at=Object.assign({name:ue,automaticDataCollectionEnabled:!1},Tt),Wt=at.name;if("string"!=typeof Wt||!Wt)throw wt.create("bad-app-name",{appName:String(Wt)});if(Et||(Et=(0,I.aH)()),!Et)throw wt.create("no-options");const We=de.get(Wt);if(We){if((0,I.vZ)(Et,We.options)&&(0,I.vZ)(at,We.config))return We;throw wt.create("duplicate-app",{appName:Wt})}const ut=new t.H0(Wt);for(const en of xe.values())ut.addComponent(en);const Pt=new Gt(Et,at,ut);return de.set(Wt,Pt),Pt}function un(Cn=ue){const Tt=de.get(Cn);if(!Tt&&Cn===ue&&(0,I.aH)())return dn();if(!Tt)throw wt.create("no-app",{appName:Cn});return Tt}function Kt(){return Array.from(de.values())}function Tn(Cn){return rn.apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(Cn){const Tt=Cn.name;de.has(Tt)&&(de.delete(Tt),yield Promise.all(Cn.container.getProviders().map(Et=>Et.delete())),Cn.isDeleted=!0)})).apply(this,arguments)}function xt(Cn,Tt,Et){var at;let Wt=null!==(at=_e[Cn])&&void 0!==at?at:Cn;Et&&(Wt+=`-${Et}`);const We=Wt.match(/\s|\//),ut=Tt.match(/\s|\//);if(We||ut){const Pt=[`Unable to register library "${Wt}" with version "${Tt}":`];return We&&Pt.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),We&&ut&&Pt.push("and"),ut&&Pt.push(`version name "${Tt}" contains illegal characters (whitespace or "/")`),void oe.warn(Pt.join(" "))}st(new t.wA(`${Wt}-version`,()=>({library:Wt,version:Tt}),"VERSION"))}function ht(Cn,Tt){if(null!==Cn&&"function"!=typeof Cn)throw wt.create("invalid-log-argument");(0,y.Am)(Cn,Tt)}function Qe(Cn){(0,y.Ub)(Cn)}const De="firebase-heartbeat-database",Pe=1,Ye="firebase-heartbeat-store";let ze=null;function lt(){return ze||(ze=function S(Cn,Tt,{blocked:Et,upgrade:at,blocking:Wt,terminated:We}={}){const ut=indexedDB.open(Cn,Tt),Pt=T(ut);return at&&ut.addEventListener("upgradeneeded",en=>{at(T(ut.result),en.oldVersion,en.newVersion,T(ut.transaction),en)}),Et&&ut.addEventListener("blocked",en=>Et(en.oldVersion,en.newVersion,en)),Pt.then(en=>{We&&en.addEventListener("close",()=>We()),Wt&&en.addEventListener("versionchange",Jt=>Wt(Jt.oldVersion,Jt.newVersion,Jt))}).catch(()=>{}),Pt}(De,Pe,{upgrade:(Cn,Tt)=>{0===Tt&&Cn.createObjectStore(Ye)}}).catch(Cn=>{throw wt.create("idb-open",{originalErrorMessage:Cn.message})})),ze}function dt(){return(dt=(0,c.Z)(function*(Cn){try{return yield(yield lt()).transaction(Ye).objectStore(Ye).get(Lt(Cn))}catch(Tt){if(Tt instanceof I.ZR)oe.warn(Tt.message);else{const Et=wt.create("idb-get",{originalErrorMessage:Tt?.message});oe.warn(Et.message)}}})).apply(this,arguments)}function Ft(Cn,Tt){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(Cn,Tt){try{const at=(yield lt()).transaction(Ye,"readwrite");yield at.objectStore(Ye).put(Tt,Lt(Cn)),yield at.done}catch(Et){if(Et instanceof I.ZR)oe.warn(Et.message);else{const at=wt.create("idb-set",{originalErrorMessage:Et?.message});oe.warn(at.message)}}})).apply(this,arguments)}function Lt(Cn){return`${Cn.name}!${Cn.options.appId}`}class mn{constructor(Tt){this.container=Tt,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new Yn(Et),this._heartbeatsCachePromise=this._storage.read().then(at=>(this._heartbeatsCache=at,at))}triggerHeartbeat(){var Tt=this;return(0,c.Z)(function*(){const at=Tt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Mn();if(null===Tt._heartbeatsCache&&(Tt._heartbeatsCache=yield Tt._heartbeatsCachePromise),Tt._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Tt._heartbeatsCache.heartbeats.some(We=>We.date===Wt))return Tt._heartbeatsCache.heartbeats.push({date:Wt,agent:at}),Tt._heartbeatsCache.heartbeats=Tt._heartbeatsCache.heartbeats.filter(We=>{const ut=new Date(We.date).valueOf();return Date.now()-ut<=2592e6}),Tt._storage.overwrite(Tt._heartbeatsCache)})()}getHeartbeatsHeader(){var Tt=this;return(0,c.Z)(function*(){if(null===Tt._heartbeatsCache&&(yield Tt._heartbeatsCachePromise),null===Tt._heartbeatsCache||0===Tt._heartbeatsCache.heartbeats.length)return"";const Et=Mn(),{heartbeatsToSend:at,unsentEntries:Wt}=function Nn(Cn,Tt=1024){const Et=[];let at=Cn.slice();for(const Wt of Cn){const We=Et.find(ut=>ut.agent===Wt.agent);if(We){if(We.dates.push(Wt.date),Vn(Et)>Tt){We.dates.pop();break}}else if(Et.push({agent:Wt.agent,dates:[Wt.date]}),Vn(Et)>Tt){Et.pop();break}at=at.slice(1)}return{heartbeatsToSend:Et,unsentEntries:at}}(Tt._heartbeatsCache.heartbeats),We=(0,I.L)(JSON.stringify({version:2,heartbeats:at}));return Tt._heartbeatsCache.lastSentHeartbeatDate=Et,Wt.length>0?(Tt._heartbeatsCache.heartbeats=Wt,yield Tt._storage.overwrite(Tt._heartbeatsCache)):(Tt._heartbeatsCache.heartbeats=[],Tt._storage.overwrite(Tt._heartbeatsCache)),We})()}}function Mn(){return(new Date).toISOString().substring(0,10)}class Yn{constructor(Tt){this.app=Tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,I.hl)()&&(0,I.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Tt=this;return(0,c.Z)(function*(){return(yield Tt._canUseIndexedDBPromise)&&(yield function rt(Cn){return dt.apply(this,arguments)}(Tt.app))||{heartbeats:[]}})()}overwrite(Tt){var Et=this;return(0,c.Z)(function*(){var at;if(yield Et._canUseIndexedDBPromise){const We=yield Et.read();return Ft(Et.app,{lastSentHeartbeatDate:null!==(at=Tt.lastSentHeartbeatDate)&&void 0!==at?at:We.lastSentHeartbeatDate,heartbeats:Tt.heartbeats})}})()}add(Tt){var Et=this;return(0,c.Z)(function*(){var at;if(yield Et._canUseIndexedDBPromise){const We=yield Et.read();return Ft(Et.app,{lastSentHeartbeatDate:null!==(at=Tt.lastSentHeartbeatDate)&&void 0!==at?at:We.lastSentHeartbeatDate,heartbeats:[...We.heartbeats,...Tt.heartbeats]})}})()}}function Vn(Cn){return(0,I.L)(JSON.stringify({version:2,heartbeats:Cn})).length}!function fi(Cn){st(new t.wA("platform-logger",Tt=>new $(Tt),"PRIVATE")),st(new t.wA("heartbeat",Tt=>new mn(Tt),"PRIVATE")),xt(K,"0.9.13",Cn),xt(K,"0.9.13","esm2017"),xt("fire-js","")}("")},4537:(Bn,et,C)=>{"use strict";C.d(et,{H0:()=>D,wA:()=>y});var c=C(5861),t=C(9058);class y{constructor(f,g,v){this.name=f,this.instanceFactory=g,this.type=v,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const I="[DEFAULT]";class E{constructor(f,g){this.name=f,this.container=g,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(f){const g=this.normalizeInstanceIdentifier(f);if(!this.instancesDeferred.has(g)){const v=new t.BH;if(this.instancesDeferred.set(g,v),this.isInitialized(g)||this.shouldAutoInitialize())try{const A=this.getOrInitializeService({instanceIdentifier:g});A&&v.resolve(A)}catch{}}return this.instancesDeferred.get(g).promise}getImmediate(f){var g;const v=this.normalizeInstanceIdentifier(f?.identifier),A=null!==(g=f?.optional)&&void 0!==g&&g;if(!this.isInitialized(v)&&!this.shouldAutoInitialize()){if(A)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:v})}catch(U){if(A)return null;throw U}}getComponent(){return this.component}setComponent(f){if(f.name!==this.name)throw Error(`Mismatching Component ${f.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=f,this.shouldAutoInitialize()){if(function L(p){return"EAGER"===p.instantiationMode}(f))try{this.getOrInitializeService({instanceIdentifier:I})}catch{}for(const[g,v]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(g);try{const U=this.getOrInitializeService({instanceIdentifier:A});v.resolve(U)}catch{}}}}clearInstance(f=I){this.instancesDeferred.delete(f),this.instancesOptions.delete(f),this.instances.delete(f)}delete(){var f=this;return(0,c.Z)(function*(){const g=Array.from(f.instances.values());yield Promise.all([...g.filter(v=>"INTERNAL"in v).map(v=>v.INTERNAL.delete()),...g.filter(v=>"_delete"in v).map(v=>v._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(f=I){return this.instances.has(f)}getOptions(f=I){return this.instancesOptions.get(f)||{}}initialize(f={}){const{options:g={}}=f,v=this.normalizeInstanceIdentifier(f.instanceIdentifier);if(this.isInitialized(v))throw Error(`${this.name}(${v}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:v,options:g});for(const[U,R]of this.instancesDeferred.entries())v===this.normalizeInstanceIdentifier(U)&&R.resolve(A);return A}onInit(f,g){var v;const A=this.normalizeInstanceIdentifier(g),U=null!==(v=this.onInitCallbacks.get(A))&&void 0!==v?v:new Set;U.add(f),this.onInitCallbacks.set(A,U);const R=this.instances.get(A);return R&&f(R,A),()=>{U.delete(f)}}invokeOnInitCallbacks(f,g){const v=this.onInitCallbacks.get(g);if(v)for(const A of v)try{A(f,g)}catch{}}getOrInitializeService({instanceIdentifier:f,options:g={}}){let v=this.instances.get(f);if(!v&&this.component&&(v=this.component.instanceFactory(this.container,{instanceIdentifier:(p=f,p===I?void 0:p),options:g}),this.instances.set(f,v),this.instancesOptions.set(f,g),this.invokeOnInitCallbacks(v,f),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,f,v)}catch{}var p;return v||null}normalizeInstanceIdentifier(f=I){return this.component?this.component.multipleInstances?f:I:f}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class D{constructor(f){this.name=f,this.providers=new Map}addComponent(f){const g=this.getProvider(f.name);if(g.isComponentSet())throw new Error(`Component ${f.name} has already been registered with ${this.name}`);g.setComponent(f)}addOrOverwriteComponent(f){this.getProvider(f.name).isComponentSet()&&this.providers.delete(f.name),this.addComponent(f)}getProvider(f){if(this.providers.has(f))return this.providers.get(f);const g=new E(f,this);return this.providers.set(f,g),g}getProviders(){return Array.from(this.providers.values())}}},7879:(Bn,et,C)=>{"use strict";C.d(et,{Am:()=>p,Ub:()=>D,Yd:()=>L,in:()=>t});const c=[];var t=function(f){return f[f.DEBUG=0]="DEBUG",f[f.VERBOSE=1]="VERBOSE",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.SILENT=5]="SILENT",f}(t||{});const y={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},I=t.INFO,E={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},F=(f,g,...v)=>{if(g<f.logLevel)return;const A=(new Date).toISOString(),U=E[g];if(!U)throw new Error(`Attempted to log a message with an invalid logType (value: ${g})`);console[U](`[${A}]  ${f.name}:`,...v)};class L{constructor(g){this.name=g,this._logLevel=I,this._logHandler=F,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(g){if(!(g in t))throw new TypeError(`Invalid value "${g}" assigned to \`logLevel\``);this._logLevel=g}setLogLevel(g){this._logLevel="string"==typeof g?y[g]:g}get logHandler(){return this._logHandler}set logHandler(g){if("function"!=typeof g)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=g}get userLogHandler(){return this._userLogHandler}set userLogHandler(g){this._userLogHandler=g}debug(...g){this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...g),this._logHandler(this,t.DEBUG,...g)}log(...g){this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...g),this._logHandler(this,t.VERBOSE,...g)}info(...g){this._userLogHandler&&this._userLogHandler(this,t.INFO,...g),this._logHandler(this,t.INFO,...g)}warn(...g){this._userLogHandler&&this._userLogHandler(this,t.WARN,...g),this._logHandler(this,t.WARN,...g)}error(...g){this._userLogHandler&&this._userLogHandler(this,t.ERROR,...g),this._logHandler(this,t.ERROR,...g)}}function D(f){c.forEach(g=>{g.setLogLevel(f)})}function p(f,g){for(const v of c){let A=null;g&&g.level&&(A=y[g.level]),v.userLogHandler=null===f?null:(U,R,...j)=>{const k=j.map(O=>{if(null==O)return null;if("string"==typeof O)return O;if("number"==typeof O||"boolean"==typeof O)return O.toString();if(O instanceof Error)return O.message;try{return JSON.stringify(O)}catch{return null}}).filter(O=>O).join(" ");R>=(A??U.logLevel)&&f({level:t[R].toLowerCase(),message:k,args:j,type:U.name})}}}},3182:(Bn,et,C)=>{"use strict";C.d(et,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=C(534);(0,c.registerVersion)("firebase","9.23.0","app")},7142:(Bn,et,C)=>{"use strict";C.d(et,{Z:()=>c.Z});var c=C(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Bn,et,C)=>{"use strict";function c(y,I,E,F,L,D,p){try{var f=y[D](p),g=f.value}catch(v){return void E(v)}f.done?I(g):Promise.resolve(g).then(F,L)}function t(y){return function(){var I=this,E=arguments;return new Promise(function(F,L){var D=y.apply(I,E);function p(g){c(D,F,L,p,f,"next",g)}function f(g){c(D,F,L,p,f,"throw",g)}p(void 0)})}}C.d(et,{Z:()=>t})},7582:(Bn,et,C)=>{"use strict";function I(oe,he){var Se={};for(var Le in oe)Object.prototype.hasOwnProperty.call(oe,Le)&&he.indexOf(Le)<0&&(Se[Le]=oe[Le]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(Le=Object.getOwnPropertySymbols(oe);fe<Le.length;fe++)he.indexOf(Le[fe])<0&&Object.prototype.propertyIsEnumerable.call(oe,Le[fe])&&(Se[Le[fe]]=oe[Le[fe]])}return Se}function v(oe,he,Se,Le){return new(Se||(Se=Promise))(function(Re,Me){function me(Ie){try{ke(Le.next(Ie))}catch(He){Me(He)}}function Ue(Ie){try{ke(Le.throw(Ie))}catch(He){Me(He)}}function ke(Ie){Ie.done?Re(Ie.value):function fe(Re){return Re instanceof Se?Re:new Se(function(Me){Me(Re)})}(Ie.value).then(me,Ue)}ke((Le=Le.apply(oe,he||[])).next())})}function T(oe){return this instanceof T?(this.v=oe,this):new T(oe)}function N(oe,he,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,Le=Se.apply(oe,he||[]),Re=[];return fe={},Me("next"),Me("throw"),Me("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function Me(ot){Le[ot]&&(fe[ot]=function(Je){return new Promise(function(Ne,Te){Re.push([ot,Je,Ne,Te])>1||me(ot,Je)})})}function me(ot,Je){try{!function Ue(ot){ot.value instanceof T?Promise.resolve(ot.value.v).then(ke,Ie):He(Re[0][2],ot)}(Le[ot](Je))}catch(Ne){He(Re[0][3],Ne)}}function ke(ot){me("next",ot)}function Ie(ot){me("throw",ot)}function He(ot,Je){ot(Je),Re.shift(),Re.length&&me(Re[0][0],Re[0][1])}}function B(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,he=oe[Symbol.asyncIterator];return he?he.call(oe):(oe=function j(oe){var he="function"==typeof Symbol&&Symbol.iterator,Se=he&&oe[he],Le=0;if(Se)return Se.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Le>=oe.length&&(oe=void 0),{value:oe&&oe[Le++],done:!oe}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),Se={},Le("next"),Le("throw"),Le("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Le(Re){Se[Re]=oe[Re]&&function(Me){return new Promise(function(me,Ue){!function fe(Re,Me,me,Ue){Promise.resolve(Ue).then(function(ke){Re({value:ke,done:me})},Me)}(me,Ue,(Me=oe[Re](Me)).done,Me.value)})}}}C.d(et,{FC:()=>N,KL:()=>B,_T:()=>I,mG:()=>v,qq:()=>T})}},Bn=>{Bn(Bn.s=9347)}]);